!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(u){"use strict";u.fn.jqDrag=function(e){return n(this,e,"d")},u.fn.jqResize=function(e,t){return n(this,e,"r",t)},u.jqDnR={dnr:{},e:0,drag:function(e){return"d"==f.k?r.css({left:f.X+e.pageX-f.pX,top:f.Y+e.pageY-f.pY}):(r.css({width:Math.max(e.pageX-f.pX+f.W,0),height:Math.max(e.pageY-f.pY+f.H,0)}),i&&a.css({width:Math.max(e.pageX-i.pX+i.W,0),height:Math.max(e.pageY-i.pY+i.H,0)})),!1},stop:function(){u(document).off("mousemove",e.drag).off("mouseup",e.stop)}};var a,i,e=u.jqDnR,f=e.dnr,r=e.e,n=function(e,t,n,o){return e.each(function(){(t=t?u(t,e):e).on("mousedown",{e:e,k:n},function(e){var t=e.data,n={};if(r=t.e,a=!!o&&u(o),"relative"!=r.css("position"))try{r.position(n)}catch(e){}if(f={X:n.left||p("left")||0,Y:n.top||p("top")||0,W:p("width")||r[0].scrollWidth||0,H:p("height")||r[0].scrollHeight||0,pX:e.pageX,pY:e.pageY,k:t.k},i=!(!a||"d"==t.k)&&{X:n.left||s("left")||0,Y:n.top||s("top")||0,W:a[0].offsetWidth||s("width")||0,H:a[0].offsetHeight||s("height")||0,pX:e.pageX,pY:e.pageY,k:t.k},u("input.hasDatepicker",r[0])[0])try{u("input.hasDatepicker",r[0]).datepicker("hide")}catch(e){}return u(document).mousemove(u.jqDnR.drag).mouseup(u.jqDnR.stop),!1})})},p=function(e){return parseInt(r.css(e),10)||!1},s=function(e){return parseInt(a.css(e),10)||!1};u.fn.tinyDraggable=function(e){var i=u.extend({handle:0,exclude:0},e);return this.each(function(){var n,o,a=u(this);(i.handle?u(i.handle,a):a).on({mousedown:function(e){if(!i.exclude||!~u.inArray(e.target,u(i.exclude,a))){e.preventDefault();var t=a.offset();n=e.pageX-t.left,o=e.pageY-t.top,u(document).on("mousemove.drag",function(e){a.offset({top:e.pageY-o,left:e.pageX-n})})}},mouseup:function(e){u(document).off("mousemove.drag")}})})}});