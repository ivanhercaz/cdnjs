{"version":3,"sources":["load-image-orientation.js"],"names":["factory","define","amd","module","exports","require","window","loadImage","$","img","originalTransform","transform","originalRequiresCanvas","requiresCanvas","originalRequiresMetaData","requiresMetaData","originalTransformCoordinates","transformCoordinates","originalGetTransformedOptions","getTransformedOptions","requiresCanvasOrientation","options","withMetaData","orientation","requiresOrientationChange","autoOrientation","requiresRot180","global","document","createElement","onload","ctx","width","height","createCanvas","getContext","drawImage","orientationCropBug","getImageData","data","toString","src","call","callback","file","originalWidth","originalHeight","exif","get","opts","exifOrientation","tmpTop","tmpRight","top","right","bottom","left","newOptions","i","Object","prototype","hasOwnProperty","maxWidth","maxHeight","minWidth","minHeight","sourceWidth","sourceHeight","canvas","translate","scale","rotate","Math","PI"],"mappings":"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"}