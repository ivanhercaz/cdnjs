!function(u){"use strict";function f(c,e,a){function t(n,r){var o,i=document.createElement("img");function t(e,t){n!==r?((t=t||{}).image=e,n(t)):n&&n(e,t)}function e(e,t){t&&u.console&&console.log(t),e&&f.isInstanceOf("Blob",e)?(c=e,o=f.createObjectURL(c)):(o=c,a&&a.crossOrigin&&(i.crossOrigin=a.crossOrigin)),i.src=o}return i.onerror=function(e){return f.onerror(i,e,c,o,r,a)},i.onload=function(e){return f.onload(i,e,c,o,t,a)},"string"==typeof c?(f.requiresMetaData(a)?f.fetchBlob(c,e,a):e(),i):f.isInstanceOf("Blob",c)||f.isInstanceOf("File",c)?(o=f.createObjectURL(c))?(i.src=o,i):f.readFile(c,function(e){var t=e.target;t&&t.result?i.src=t.result:r&&r(e)}):void 0}return u.Promise&&"function"!=typeof e?(a=e,new Promise(t)):t(e,e)}var t=u.createObjectURL&&u||u.URL&&URL.revokeObjectURL&&URL||u.webkitURL&&webkitURL;function c(e,t){!e||"blob:"!==e.slice(0,5)||t&&t.noRevoke||f.revokeObjectURL(e)}f.requiresMetaData=function(e){return e&&e.meta},f.fetchBlob=function(e,t){t()},f.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},f.transform=function(e,t,n,r,o){n(e,o)},f.onerror=function(e,t,n,r,o,i){c(r,i),o&&o.call(e,t)},f.onload=function(e,t,n,r,o,i){c(r,i),f.transform(e,i,o,n,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},f.createObjectURL=function(e){return!!t&&t.createObjectURL(e)},f.revokeObjectURL=function(e){return!!t&&t.revokeObjectURL(e)},f.readFile=function(e,t,n){if(u.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,r[n=n||"readAsDataURL"])return r[n](e),r}return!1},f.global=u,"function"==typeof define&&define.amd?define(function(){return f}):"object"==typeof module&&module.exports?module.exports=f:u.loadImage=f}("undefined"!=typeof window&&window||this);