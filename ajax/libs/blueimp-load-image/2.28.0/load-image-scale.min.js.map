{"version":3,"sources":["load-image-scale.js"],"names":["factory","define","amd","module","exports","require","window","loadImage","originalTransform","transform","img","options","callback","file","data","call","scale","transformCoordinates","getTransformedOptions","newOptions","i","width","height","aspectRatio","Object","prototype","hasOwnProperty","crop","naturalWidth","naturalHeight","maxWidth","maxHeight","renderImageToCanvas","canvas","sourceX","sourceY","sourceWidth","sourceHeight","destX","destY","destWidth","destHeight","ctx","getContext","imageSmoothingEnabled","imageSmoothingQuality","drawImage","hasCanvasOption","minWidth","minHeight","pixelRatio","downsamplingRatio","tmp","document","createElement","useCanvas","scaleUp","Math","max","scaleDown","min","left","top","undefined","right","bottom","contain","cover","style"],"mappings":"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"}