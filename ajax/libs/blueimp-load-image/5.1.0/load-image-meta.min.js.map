{"version":3,"sources":["load-image-meta.js"],"names":["factory","define","amd","module","exports","require","window","loadImage","replaceJPEGHead","blob","oldHead","newHead","Blob","blobSlice","call","byteLength","type","global","prototype","slice","webkitSlice","mozSlice","bufferSlice","ArrayBuffer","begin","end","this","arr1","Uint8Array","arr2","set","buffer","metaDataParsers","jpeg","65505","65517","parseMetaData","file","callback","options","data","that","executor","resolve","reject","DataView","size","maxMetaDataSize","readFile","e","target","error","result","dataView","getUint16","Error","markerBytes","markerLength","parsers","i","offset","maxOffset","headLength","console","log","disableMetaDataParsers","length","disableImageHead","imageHead","Promise","replaceHead","head","then","originalTransform","transform","img","requiresMetaData","apply","arguments"],"mappings":"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"}