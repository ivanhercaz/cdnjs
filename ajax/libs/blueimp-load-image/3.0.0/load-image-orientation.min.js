!function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-scale"),require("./load-image-meta")):t(window.loadImage)}(function(E){"use strict";var t,A=E.hasCanvasOption,e=E.hasMetaOption,s=E.transformCoordinates,n=E.getTransformedOptions;(t=document.createElement("img")).onload=function(){E.orientation=1===t.width&&2===t.height},t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",E.hasCanvasOption=function(t){return!0==!!t.orientation&&!E.orientation||1<t.orientation&&t.orientation<9||A.call(E,t)},E.hasMetaOption=function(t){return t&&!0===t.orientation&&!E.orientation||e.call(E,t)},E.transformCoordinates=function(t,A){s.call(E,t,A);var e=t.getContext("2d"),a=t.width,o=t.height,i=t.style.width,r=t.style.height,n=A.orientation;if(1<n&&n<9)switch(4<n&&(t.width=o,t.height=a,t.style.width=r,t.style.height=i),n){case 2:e.translate(a,0),e.scale(-1,1);break;case 3:e.translate(a,o),e.rotate(Math.PI);break;case 4:e.translate(0,o),e.scale(1,-1);break;case 5:e.rotate(.5*Math.PI),e.scale(1,-1);break;case 6:e.rotate(.5*Math.PI),e.translate(0,-o);break;case 7:e.rotate(.5*Math.PI),e.translate(a,-o),e.scale(-1,1);break;case 8:e.rotate(-.5*Math.PI),e.translate(-a,0)}},E.getTransformedOptions=function(t,A,e){var a,o,i=n.call(E,t,A),r=i.orientation;if(!0===r){if(E.orientation)return i;r=e&&e.exif&&e.exif.get("Orientation")}if(!(1<r&&r<9))return i;for(o in a={},i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o]);switch(a.orientation=r){case 2:a.left=i.right,a.right=i.left;break;case 3:a.left=i.right,a.top=i.bottom,a.right=i.left,a.bottom=i.top;break;case 4:a.top=i.bottom,a.bottom=i.top;break;case 5:a.left=i.top,a.top=i.left,a.right=i.bottom,a.bottom=i.right;break;case 6:a.left=i.top,a.top=i.right,a.right=i.bottom,a.bottom=i.left;break;case 7:a.left=i.bottom,a.top=i.right,a.right=i.top,a.bottom=i.left;break;case 8:a.left=i.bottom,a.top=i.left,a.right=i.top,a.bottom=i.right}return 4<a.orientation&&(a.maxWidth=i.maxHeight,a.maxHeight=i.maxWidth,a.minWidth=i.minHeight,a.minHeight=i.minWidth,a.sourceWidth=i.sourceHeight,a.sourceHeight=i.sourceWidth),a}});