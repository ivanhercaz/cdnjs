!function(o){"use strict";function a(n,r,o){var i,c=document.createElement("img");function e(e,t){t&&console.log(t),e&&a.isInstanceOf("Blob",e)?i=a.createObjectURL(n=e):(i=n,o&&o.crossOrigin&&(c.crossOrigin=o.crossOrigin)),c.src=i}return c.onerror=function(e){return a.onerror(c,e,n,i,r,o)},c.onload=function(e){return a.onload(c,e,n,i,r,o)},"string"==typeof n?(a.hasMetaOption(o)?a.fetchBlob(n,e,o):e(),c):a.isInstanceOf("Blob",n)||a.isInstanceOf("File",n)?(i=a.createObjectURL(n))?(c.src=i,c):a.readFile(n,function(e){var t=e.target;t&&t.result?c.src=t.result:r&&r(e)}):void 0}var t=o.createObjectURL&&o||o.URL&&URL.revokeObjectURL&&URL||o.webkitURL&&webkitURL;function c(e,t){!e||"blob:"!==e.slice(0,5)||t&&t.noRevoke||a.revokeObjectURL(e)}a.hasMetaOption=function(e){return e&&e.meta},a.fetchBlob=function(e,t){t()},a.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},a.transform=function(e,t,n,r,o){n(e,o)},a.onerror=function(e,t,n,r,o,i){c(r,i),o&&o.call(e,t)},a.onload=function(e,t,n,r,o,i){c(r,i),o&&a.transform(e,i,o,n,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},a.createObjectURL=function(e){return!!t&&t.createObjectURL(e)},a.revokeObjectURL=function(e){return!!t&&t.revokeObjectURL(e)},a.readFile=function(e,t,n){if(o.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,r[n=n||"readAsDataURL"])return r[n](e),r}return!1},"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof module&&module.exports?module.exports=a:o.loadImage=a}("undefined"!=typeof window&&window||this);