!function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):"object"==typeof module&&module.exports?e(require("./load-image")):e(window.loadImage)}(function(e){"use strict";"undefined"!=typeof fetch&&"undefined"!=typeof Request?e.fetchBlob=function(e,n,t){fetch(new Request(e,t)).then(function(e){return e.blob()}).then(n).catch(function(e){n(null,e)})}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(e.fetchBlob=function(e,n,t){t=t||{};var o=new XMLHttpRequest;o.open(t.method||"GET",e),t.headers&&Object.keys(t.headers).forEach(function(e){o.setRequestHeader(e,t.headers[e])}),o.withCredentials="include"===t.credentials,o.responseType="blob",o.onload=function(){n(o.response)},o.onerror=o.onabort=o.ontimeout=function(e){n(null,e)},o.send(t.body)})});