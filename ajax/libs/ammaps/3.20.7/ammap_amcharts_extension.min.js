!function(){var v=window.AmCharts;v.AmMap=v.Class({inherits:v.AmChart,construct:function(t){this.cname="AmMap",this.type="map",this.theme=t,this.svgNotSupported="This browser doesn't support SVG. Use Chrome, Firefox, Internet Explorer 9 or later.",this.createEvents("rollOverMapObject","rollOutMapObject","clickMapObject","mouseDownMapObject","selectedObjectChanged","homeButtonClicked","zoomCompleted","dragCompleted","positionChanged","writeDevInfo","click","descriptionClosed"),this.zoomDuration=.6,this.zoomControl=new v.ZoomControl(t),this.fitMapToContainer=!0,this.mouseWheelZoomEnabled=this.backgroundZoomsToTop=!1,this.allowClickOnSelectedObject=this.useHandCursorOnClickableOjects=this.showBalloonOnSelectedObject=!0,this.showObjectsAfterZoom=this.wheelBusy=!1,this.zoomOnDoubleClick=this.useObjectColorForBalloon=!0,this.allowMultipleDescriptionWindows=!1,this.dragMap=this.centerMap=this.linesAboveImages=!0,this.colorSteps=5,this.forceNormalize=!1,this.showAreasInList=!0,this.showLinesInList=this.showImagesInList=!1,this.areasProcessor=new v.AreasProcessor(this),this.areasSettings=new v.AreasSettings(t),this.imagesProcessor=new v.ImagesProcessor(this),this.imagesSettings=new v.ImagesSettings(t),this.linesProcessor=new v.LinesProcessor(this),this.linesSettings=new v.LinesSettings(t),this.initialTouchZoom=1,this.showDescriptionOnHover=!1,v.AmMap.base.construct.call(this,t),this.creditsPosition="bottom-left",this.product="ammap",this.areasClasses={},v.applyTheme(this,t,this.cname)},initChart:function(){this.zoomInstantly=!0;var t=this.container;if(this.panRequired=!0,this.sizeChanged&&v.hasSVG&&this.chartCreated){this.freeLabelsSet&&this.freeLabelsSet.remove(),this.freeLabelsSet=t.set(),this.container.setSize(this.realWidth,this.realHeight),this.resizeMap(),this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.processObjects(),this.rescaleObjects(),this.zoomControl.init(this,t),this.drawBg();var e=this.smallMap;e&&e.init(this,t),(e=this.valueLegend)&&e.init(this,t),this.sizeChanged=!1,this.zoomToLongLat(this.zLevelTemp,this.zLongTemp,this.zLatTemp,!0),this.previousWidth=this.realWidth,this.previousHeight=this.realHeight,this.updateSmallMap(),this.linkSet.toFront(),this.zoomControl.update&&this.zoomControl.update()}else v.AmMap.base.initChart.call(this),v.hasSVG?(this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,t=this.legend)&&(t.position="absolute",t.invalidateSize()),this.createDescriptionsDiv(),this.svgAreas=[],this.svgAreasById={},this.drawChart()):(this.chartDiv.style.textAlign="",this.chartDiv.setAttribute("class","ammapAlert"),this.chartDiv.innerHTML=this.svgNotSupported,this.fire({type:"failed",chart:this}))},storeTemp:function(){if(v.hasSVG&&0<this.realWidth&&0<this.realHeight){var t=this.mapContainer.getBBox();0<t.width&&0<t.height&&(t=this.zoomLongitude(),isNaN(t)||(this.zLongTemp=t),t=this.zoomLatitude(),isNaN(t)||(this.zLatTemp=t),t=this.zoomLevel(),isNaN(t)||(this.zLevelTemp=t))}},invalidateSize:function(){this.storeTemp(),v.AmMap.base.invalidateSize.call(this)},validateSize:function(){this.storeTemp(),v.AmMap.base.validateSize.call(this)},handleWheelReal:function(t){if(!this.wheelBusy){this.stopAnimation();var e=this.zoomLevel(),i=this.zoomControl,s=i.zoomFactor;this.wheelBusy=!0,t=v.fitToBounds(0<t?e*s:e/s,i.minZoomLevel,i.maxZoomLevel),s=this.mouseX/this.mapWidth,i=this.mouseY/this.mapHeight,s=(this.zoomX()-s)*(t/e)+s,e=(this.zoomY()-i)*(t/e)+i,this.zoomTo(t,s,e)}},addLegend:function(t,e){return t.position="absolute",t.autoMargins=!1,t.valueWidth=0,t.switchable=!1,v.AmMap.base.addLegend.call(this,t,e),void 0===t.enabled&&(t.enabled=!0),t},handleLegendEvent:function(){},createDescriptionsDiv:function(){if(!this.descriptionsDiv){var t=document.createElement("div"),e=t.style;e.position="absolute",e.left="0px",e.top="0px",this.descriptionsDiv=t}this.containerDiv.appendChild(this.descriptionsDiv)},drawChart:function(){v.AmMap.base.drawChart.call(this);var t=this.dataProvider;this.dataProvider=t=v.extend(t,new v.MapData,!0),this.areasSettings=v.processObject(this.areasSettings,v.AreasSettings,this.theme),this.imagesSettings=v.processObject(this.imagesSettings,v.ImagesSettings,this.theme),this.linesSettings=v.processObject(this.linesSettings,v.LinesSettings,this.theme);var e,i=this.container;this.mapContainer&&this.mapContainer.remove(),this.mapContainer=i.set(),this.graphsSet.push(this.mapContainer),t.map&&(e=v.maps[t.map]),t.mapVar&&(e=t.mapVar),e?(this.svgData=e.svg,this.getBounds(),this.buildEverything()):(t=t.mapURL)&&this.loadXml(t),this.balloonsSet.toFront()},drawBg:function(){var t=this;t.background.click(function(){t.handleBackgroundClick()}),t.background.mouseover(function(){t.rollOutMapObject(t.previouslyHovered)})},buildEverything:function(){if(0<this.realWidth&&0<this.realHeight){var t=this.container,e=this.dataProvider;this.projection||(this.projection=e.projection,this.projection||(this.projection="equirectangular"));var i=this.projection;i&&(this.projectionFunction=v[i]),this.projectionFunction||(this.projectionFunction=v.equirectangular),this.dpProjectionFunction=v[e.projection],this.dpProjectionFunction||(this.dpProjectionFunction=v.equirectangular),this.zoomControl=v.processObject(this.zoomControl,v.ZoomControl,this.theme),this.zoomControl.init(this,t),this.drawBg(),this.buildSVGMap(),this.projectionFunction&&i!=e.projection||this.forceNormalize?(this.normalizeMap(),this.changeProjection()):this.fixMapPosition(),(i=this.smallMap)&&((i=v.processObject(i,v.SmallMap,this.theme)).init(this,t),this.smallMap=i),isNaN(e.zoomX)&&isNaN(e.zoomY)&&isNaN(e.zoomLatitude)&&isNaN(e.zoomLongitude)&&(this.centerMap?(i=this.xyToCoordinates(this.mapWidth/2,this.mapHeight/2),e.zoomLongitudeC=i.longitude,e.zoomLatitudeC=i.latitude):(e.zoomX=0,e.zoomY=0),this.zoomInstantly=!0),this.selectObject(this.dataProvider),this.processAreas(),(e=this.valueLegend)&&(this.valueLegend=e=v.processObject(e,v.ValueLegend,this.theme),e.init(this,t)),this.objectList&&(t=this.objectList=v.processObject(this.objectList,v.ObjectList))&&(this.clearObjectList(),t.init(this)),this.dispDUpd(),this.updateSmallMap(),this.linkSet.toFront()}else this.cleanChart()},hideGroup:function(t){this.showHideGroup(t,!1)},showGroup:function(t){this.showHideGroup(t,!0)},showHideGroup:function(t,e){this.showHideReal(this.imagesProcessor.allObjects,t,e),this.showHideReal(this.areasProcessor.allObjects,t,e),this.showHideReal(this.linesProcessor.allObjects,t,e)},showHideReal:function(t,e,i){var s;for(s=0;s<t.length;s++){var o=t[s];if(o.groupId==e){var a=o.displayObject;a&&(i?(o.hidden=!1,a.show()):(o.hidden=!0,a.hide()))}}},makeObjectAccessible:function(t){if(t.accessibleLabel){var e=this.formatString(t.accessibleLabel,t);t.displayObject&&this.makeAccessible(t.displayObject,e,"menuitem")}},update:function(){v.hasSVG&&(v.AmMap.base.update.call(this),this.zoomControl&&this.zoomControl.update&&this.zoomControl.update())},animateMap:function(){var t=this;t.totalFrames=t.zoomDuration*v.updateRate,t.totalFrames+=1,t.frame=0,t.tweenPercent=0,t.balloon.hide(0),setTimeout(function(){t.updateSize.call(t)},1e3/v.updateRate)},updateSize:function(){var t=this,e=t.totalFrames;t.preventHover=!0,t.frame<=e?(t.frame++,1<=(e=v.easeOutSine(0,t.frame,0,1,e))?(e=1,t.preventHover=!1,t.wheelBusy=!1):window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateSize.call(t)}):setTimeout(function(){t.updateSize.call(t)},1e3/v.updateRate),.8<e&&(t.preventHover=!1)):(e=1,t.preventHover=!1,t.wheelBusy=!1),t.tweenPercent=e,t.rescaleMapAndObjects()},rescaleMapAndObjects:function(){var t=this.initialScale,e=this.initialX,i=this.initialY,s=this.tweenPercent;t+=(this.finalScale-t)*s;if(this.mapContainer.translate(e+(this.finalX-e)*s,i+(this.finalY-i)*s,t,!0),this.areasSettings.adjustOutlineThickness){e=this.svgAreas;for(var o=0;o<e.length;o++)(i=e[o])&&i.setAttr("stroke-width",this.areasSettings.outlineThickness/t/this.mapScale);if(e=this.dataProvider.areas)for(o=0;o<e.length;o++){var a=(i=e[o]).displayObject;a&&a.setAttr("stroke-width",i.outlineThicknessReal/t/this.mapScale)}}this.rescaleObjects(),this.positionChanged(),this.updateSmallMap(),1==s&&this.fire({type:"zoomCompleted",chart:this})},updateSmallMap:function(){this.smallMap&&this.smallMap.update()},rescaleObjects:function(){var t,e=this.mapContainer.scale,i=this.imagesProcessor.objectsToResize;for(t=0;t<i.length;t++){var s=i[t].image;s.translate(s.x,s.y,i[t].scale/e,!0)}for(i=this.imagesProcessor.labelsToReposition,t=0;t<i.length;t++)(s=i[t]).imageLabel&&this.imagesProcessor.positionLabel(s.imageLabel,s,s.labelPositionReal);if(s=(i=this.linesProcessor).linesToResize)for(t=0;t<s.length;t++){var o=s[t];o.line.setAttr("stroke-width",o.thickness/e)}for(i=i.objectsToResize,t=0;t<i.length;t++)(s=i[t]).translate(s.x,s.y,1/e,!0)},handleTouchEnd:function(t){this.initialDistance=NaN,this.mouseIsDown=this.isDragging=!1,v.AmMap.base.handleTouchEnd.call(this,t)},handleMouseDown:function(t){if(v.resetMouseOver(),this.mouseIsDown=this.mouseIsOver=!0,this.balloon.hide(0),t&&this.mouseIsOver&&t.preventDefault&&this.panEventsEnabled&&t.preventDefault(),this.chartCreated&&!this.preventHover&&(this.initialTouchZoom=this.zoomLevel(),this.dragMap&&(this.stopAnimation(),this.mapContainerClickX=this.mapContainer.x,this.mapContainerClickY=this.mapContainer.y),(t=t||window.event).shiftKey&&!0===this.developerMode&&this.getDevInfo(),t&&t.touches)){var e=this.mouseX,i=this.mouseY,s=t.touches.item(1);s&&this.panEventsEnabled&&this.boundingRect&&(t=s.clientX-this.boundingRect.left,s=s.clientY-this.boundingRect.top,this.middleXP=(e+(t-e)/2)/this.realWidth,this.middleYP=(i+(s-i)/2)/this.realHeight,this.initialDistance=Math.sqrt(Math.pow(t-e,2)+Math.pow(s-i,2)))}},stopDrag:function(){this.isDragging=!1},handleReleaseOutside:function(){if(v.isModern){var t=this;if(v.AmMap.base.handleReleaseOutside.call(t),t.mouseIsDown=!1,setTimeout(function(){t.resetPinch.call(t)},100),!t.preventHover){t.stopDrag(),(e=t.zoomControl)&&e.draggerUp&&e.draggerUp(),t.mapWasDragged=!1;var e=t.mapContainer,i=t.mapContainerClickX,s=t.mapContainerClickY;isNaN(i)||isNaN(s)||!(3<Math.abs(e.x-i)||3<Math.abs(e.y-s))||(t.mapWasDragged=!0,e={type:"dragCompleted",zoomX:t.zoomX(),zoomY:t.zoomY(),zoomLevel:t.zoomLevel(),chart:t},t.fire(e)),(t.mouseIsOver&&!t.mapWasDragged&&!t.skipClick||t.wasTouched&&Math.abs(t.mouseX-t.tmx)<3&&Math.abs(t.mouseY-t.tmy)<3)&&t.fire({type:"click",x:t.mouseX,y:t.mouseY,chart:t}),t.mapContainerClickX=NaN,t.mapContainerClickY=NaN,t.objectWasClicked=!1,t.zoomOnDoubleClick&&t.mouseIsOver&&((e=(new Date).getTime())-t.previousClickTime<200&&40<e-t.previousClickTime&&t.doDoubleClickZoom(),t.previousClickTime=e)}t.wasTouched=!1}},resetPinch:function(){this.mapWasPinched=!1},handleMouseMove:function(t){var e=this;if(v.AmMap.base.handleMouseMove.call(e,t),!t||!t.touches||!e.tapToActivate||e.tapped){e.panEventsEnabled&&e.mouseIsOver&&t&&t.preventDefault&&t.preventDefault();var i=e.previuosMouseX,s=e.previuosMouseY,o=e.mouseX,a=e.mouseY,n=e.zoomControl;if(isNaN(i)&&(i=o),isNaN(s)&&(s=a),e.mouse2X=NaN,e.mouse2Y=NaN,t&&t.touches&&(t=t.touches.item(1))&&e.panEventsEnabled&&e.boundingRect&&(e.mouse2X=t.clientX-e.boundingRect.left,e.mouse2Y=t.clientY-e.boundingRect.top),t=e.mapContainer){var r=e.mouse2X,l=e.mouse2Y;e.pinchTO&&clearTimeout(e.pinchTO),e.pinchTO=setTimeout(function(){e.resetPinch.call(e)},1e3);var h=e.realHeight,c=e.realWidth,d=e.mapWidth,u=e.mapHeight;if(e.mouseIsDown&&e.dragMap&&(3<Math.abs(e.previuosMouseX-e.mouseX)||3<Math.abs(e.previuosMouseY-e.mouseY))&&(e.isDragging=!0),!isNaN(r)){e.stopDrag();var m=Math.sqrt(Math.pow(r-o,2)+Math.pow(l-a,2)),p=e.initialDistance;if(isNaN(p)&&(p=Math.sqrt(Math.pow(r-o,2)+Math.pow(l-a,2))),!isNaN(p)){r=e.initialTouchZoom*m/p,r=v.fitToBounds(r,n.minZoomLevel,n.maxZoomLevel),n=e.zoomLevel(),p=e.middleXP,l=e.middleYP,m=h/u;var g=c/d;p=(e.zoomX()-p*g)*(r/n)+p*g,l=(e.zoomY()-l*m)*(r/n)+l*m;.1<Math.abs(r-n)&&(e.zoomTo(r,p,l,!0),e.mapWasPinched=!0,clearTimeout(e.pinchTO))}}r=t.scale,e.isDragging&&(e.balloon.hide(0),e.positionChanged(),i=t.x+(o-i),s=t.y+(a-s),e.preventDragOut&&(u=-u*r+h/2,h/=2,i=v.fitToBounds(i,-d*r+c/2,c/2),s=v.fitToBounds(s,u,h)),isNaN(i)||isNaN(s)||(t.translate(i,s,r,!0),e.updateSmallMap())),e.previuosMouseX=o,e.previuosMouseY=a}}},selectObject:function(t,e){var i=this;(t=t||i.dataProvider).isOver=!1;var s=t.linkToObject;v.isString(s)&&(s=i.getObjectById(s)),t.useTargetsZoomValues&&s&&(t.zoomX=s.zoomX,t.zoomY=s.zoomY,t.zoomLatitude=s.zoomLatitude,t.zoomLongitude=s.zoomLongitude,t.zoomLevel=s.zoomLevel);var o=i.selectedObject;o&&i.returnInitialColor(o);var a,n,r=!1;if("MapArea"==(i.selectedObject=t).objectType&&(t.autoZoomReal&&(r=!0),a=i.areasSettings.selectedOutlineColor,n=i.areasSettings.selectedOutlineThickness),s&&!r&&(v.isString(s)&&(s=i.getObjectById(s)),isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY))){if(i.extendMapData(s))return;i.selectObject(s)}else{if(i.allowMultipleDescriptionWindows||i.closeAllDescriptions(),clearTimeout(i.selectedObjectTimeOut),clearTimeout(i.processObjectsTimeOut),s=i.zoomDuration,!r&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)?(i.showDescriptionAndGetUrl(),e||i.processObjects()):(i.selectedObjectTimeOut=setTimeout(function(){i.showDescriptionAndGetUrl.call(i)},1e3*s+200),i.showObjectsAfterZoom?e||(i.processObjectsTimeOut=setTimeout(function(){i.processObjects.call(i)},1e3*s+200)):e||i.processObjects()),s=t.displayObject,r=t.selectedColorReal,"MapImage"==t.objectType&&(a=i.imagesSettings.selectedOutlineColor,n=i.imagesSettings.selectedOutlineThickness,s=t.image),s){if(v.removeCN(i,s,"selected-object"),v.setCN(i,s,"selected-object"),t.bringForwardOnHover&&t.displayObject.toFront(),!t.preserveOriginalAttributes){if(s.setAttr("stroke",t.outlineColorReal),void 0!==r&&s.setAttr("fill",r),void 0!==a&&s.setAttr("stroke",a),void 0!==n&&s.setAttr("stroke-width",n),"MapLine"==t.objectType){var l=t.lineSvg;l&&l.setAttr("stroke",r),(l=t.arrowSvg)&&(l.setAttr("fill",r),l.setAttr("stroke",r))}if(l=t.imageLabel){var h=t.selectedLabelColorReal;void 0!==h&&l.setAttr("fill",h)}t.selectable||(s.setAttr("cursor","default"),l&&l.setAttr("cursor","default"))}}else i.returnInitialColorReal(t);if(s=t.groupId)for((l=t.groupArray)||(l=i.getGroupById(s),t.groupArray=l),h=0;h<l.length;h++){var c=l[h];if(c.isOver=!1,s=c.displayObject,"MapImage"==c.objectType&&(s=c.image),s){var d=c.selectedColorReal;void 0!==d&&s.setAttr("fill",d),void 0!==a&&s.setAttr("stroke",a),void 0!==n&&s.setAttr("stroke-width",n),"MapLine"==c.objectType&&((s=c.lineSvg)&&s.setAttr("stroke",r),s=c.arrowSvg)&&(s.setAttr("fill",r),s.setAttr("stroke",r))}}i.zoomToSelectedObject(),o!=t&&i.fire({type:"selectedObjectChanged",chart:i})}},returnInitialColor:function(t,e){this.returnInitialColorReal(t),e&&(t.isFirst=!1),!this.selectedObject.bringForwardOnHover||(s=this.selectedObject.displayObject)&&s.toFront();if(s=t.groupId){var i,s=this.getGroupById(s);for(i=0;i<s.length;i++)this.returnInitialColorReal(s[i]),e&&(s[i].isFirst=!1)}},closeAllDescriptions:function(){this.descriptionsDiv.innerHTML=""},fireClosed:function(){this.fire({type:"descriptionClosed",chart:this})},returnInitialColorReal:function(t){t.isOver=!1;var e=t.displayObject;if(e){if(v.removeCN(this,e,"selected-object"),e.toPrevious(),"MapImage"==t.objectType){var i=t.tempScale;isNaN(i)||e.translate(e.x,e.y,i,!0),t.tempScale=NaN,e=t.image}if(i=t.colorReal,"MapLine"==t.objectType)if((s=t.lineSvg)&&s.setAttr("stroke",i),s=t.arrowSvg)null==(o=t.arrowColor)&&(o=i),s.setAttr("fill",o),s.setAttr("stroke",o);var s=t.alphaReal,o=t.outlineAlphaReal,a=t.outlineThicknessReal,n=t.outlineColorReal;if(t.showAsSelected){var r,l;i=t.selectedColorReal;"MapImage"==t.objectType&&(r=this.imagesSettings.selectedOutlineColor,l=this.imagesSettings.selectedOutlineThickness),"MapArea"==t.objectType&&(r=this.areasSettings.selectedOutlineColor,l=this.areasSettings.selectedOutlineThickness),void 0!==r&&(n=r),void 0!==l&&(a=l)}"bubble"==t.type&&(i=void 0),void 0!==i&&e.setAttr("fill",i),(r=t.image)&&(r.setAttr("fill",i),r.setAttr("stroke",n),r.setAttr("stroke-width",a),r.setAttr("fill-opacity",s),r.setAttr("stroke-opacity",o)),"MapArea"==t.objectType&&(i=1,this.areasSettings.adjustOutlineThickness&&(i=this.zoomLevel()*this.mapScale),e.setAttr("stroke",n),e.setAttr("stroke-width",a/i),e.setAttr("fill-opacity",s),e.setAttr("stroke-opacity",o)),(i=t.pattern)&&e.pattern(i,this.mapScale,this.path),(e=t.imageLabel)&&!t.labelInactive&&(t.showAsSelected&&void 0!==t.selectedLabelColor?e.setAttr("fill",t.selectedLabelColor):e.setAttr("fill",t.labelColorReal))}},zoomToRectangle:function(t,e,i,s){var o=this.realWidth,a=this.realHeight,n=this.mapSet.scale,r=this.zoomControl;o=v.fitToBounds(s/a<i/o?.8*o/(i*n):.8*a/(s*n),r.minZoomLevel,r.maxZoomLevel);this.zoomToMapXY(o,(t+i/2)*n,(e+s/2)*n)},zoomToLatLongRectangle:function(t,e,i,s){var o=this.dataProvider,a=this.zoomControl,n=Math.abs(i-t),r=Math.abs(e-s),l=Math.abs(o.rightLongitude-o.leftLongitude);o=Math.abs(o.topLatitude-o.bottomLatitude),a=v.fitToBounds(r/o<n/l?.8*l/n:.8*o/r,a.minZoomLevel,a.maxZoomLevel);this.zoomToLongLat(a,t+(i-t)/2,s+(e-s)/2)},getGroupById:function(t){var e=[];return this.getGroup(this.imagesProcessor.allObjects,t,e),this.getGroup(this.linesProcessor.allObjects,t,e),this.getGroup(this.areasProcessor.allObjects,t,e),e},zoomToGroup:function(t){var e,i,s,o,a;for(t="object"==typeof t?t:this.getGroupById(t),a=0;a<t.length;a++){if(n=t[a].displayObject){var n=(h=n.getBBox()).y,r=h.y+h.height,l=h.x,h=h.x+h.width;(n<e||isNaN(e))&&(e=n),(o<r||isNaN(o))&&(o=r),(l<i||isNaN(i))&&(i=l),(s<h||isNaN(s))&&(s=h)}}i+=this.diffX,s+=this.diffX,o+=this.diffY,e+=this.diffY,this.zoomToRectangle(i,e,s-i,o-e)},getGroup:function(t,e,i){var s;if(t)for(s=0;s<t.length;s++){var o=t[s];o.groupId==e&&i.push(o)}},zoomToStageXY:function(t,e,i,s){if(!this.objectWasClicked){var o=this.zoomControl;t=v.fitToBounds(t,o.minZoomLevel,o.maxZoomLevel);o=this.zoomLevel();var a=this.mapSet.getBBox();e=this.xyToCoordinates((e-this.mapContainer.x)/o-a.x*this.mapScale,(i-this.mapContainer.y)/o-a.y*this.mapScale),this.zoomToLongLat(t,e.longitude,e.latitude,s)}},zoomToLongLat:function(t,e,i,s){e=this.coordinatesToXY(e,i),this.zoomToMapXY(t,e.x,e.y,s)},zoomToMapXY:function(t,e,i,s){var o=this.mapWidth,a=this.mapHeight;this.zoomTo(t,-e/o*t+this.realWidth/o/2,-i/a*t+this.realHeight/a/2,s)},zoomToObject:function(t){if(t){var e=t.zoomLatitude,i=t.zoomLongitude;isNaN(t.zoomLatitudeC)||(e=t.zoomLatitudeC),isNaN(t.zoomLongitudeC)||(i=t.zoomLongitudeC);var s=t.zoomLevel,o=this.zoomInstantly,a=t.zoomX,n=t.zoomY,r=this.realWidth,l=this.realHeight;isNaN(s)||(isNaN(e)||isNaN(i)?this.zoomTo(s,a,n,o):this.zoomToLongLat(s,i,e,o)),this.zoomInstantly=!1,"MapImage"==t.objectType&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&!isNaN(t.latitude)&&!isNaN(t.longitude)&&this.zoomToLongLat(t.zoomLevel,t.longitude,t.latitude),"MapArea"==t.objectType&&(o=t.displayObject.getBBox(),a=this.mapScale,e=(o.x+this.diffX)*a,i=(o.y+this.diffY)*a,s=o.width*a,o=o.height*a,r=t.autoZoomReal&&isNaN(t.zoomLevel)?o/l<s/r?.8*r/s:.8*l/o:t.zoomLevel,l=this.zoomControl,r=v.fitToBounds(r,l.minZoomLevel,l.maxZoomLevel),isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&this.zoomToMapXY(r,e+s/2,i+o/2)),this.zoomControl.update()}},zoomToSelectedObject:function(){this.zoomToObject(this.selectedObject)},zoomTo:function(t,e,i,s){var o=this.zoomControl;t=v.fitToBounds(t,o.minZoomLevel,o.maxZoomLevel),o=this.zoomLevel(),isNaN(e)&&(e=this.realWidth/this.mapWidth,e=(this.zoomX()-.5*e)*(t/o)+.5*e),isNaN(i)&&(i=this.realHeight/this.mapHeight,i=(this.zoomY()-.5*i)*(t/o)+.5*i),this.stopAnimation(),isNaN(t)||(o=this.mapContainer,this.initialX=o.x,this.initialY=o.y,this.initialScale=o.scale,this.finalX=this.mapWidth*e,this.finalY=this.mapHeight*i,this.finalScale=t,this.finalX!=this.initialX||this.finalY!=this.initialY||this.finalScale!=this.initialScale?s?(this.tweenPercent=1,this.rescaleMapAndObjects(),this.wheelBusy=!1):this.animateMap():this.wheelBusy=!1)},loadXml:function(t){var e;window.XMLHttpRequest&&(e=new XMLHttpRequest),e.overrideMimeType&&e.overrideMimeType("text/xml"),e.open("GET",t,!1),e.send(),this.parseXMLObject(e.responseXML),this.svgData&&this.buildEverything()},stopAnimation:function(){this.frame=this.totalFrames},processObjects:function(){var t=this.selectedObject;if(0<t.images.length||0<t.areas.length||0<t.lines.length||t==this.dataProvider){var e=this.container,i=this.stageImagesContainer;i&&i.remove(),this.stageImagesContainer=i=e.set(),this.trendLinesSet.push(i);var s=this.stageLinesContainer;s&&s.remove(),this.stageLinesContainer=s=e.set(),this.trendLinesSet.push(s);var o=this.mapImagesContainer;o&&o.remove(),this.mapImagesContainer=o=e.set(),this.mapContainer.push(o);var a=this.mapLinesContainer;a&&a.remove(),this.mapLinesContainer=a=e.set(),this.mapContainer.push(a),this.linesAboveImages?(o.toFront(),i.toFront(),a.toFront(),s.toFront()):(a.toFront(),s.toFront(),o.toFront(),i.toFront()),t&&(this.imagesProcessor.reset(),this.linesProcessor.reset(),this.linesAboveImages?(this.imagesProcessor.process(t),this.linesProcessor.process(t)):(this.linesProcessor.process(t),this.imagesProcessor.process(t))),this.rescaleObjects()}},processAreas:function(){this.areasProcessor.process(this.dataProvider)},buildSVGMap:function(){v.remove(this.mapSet);var t,e=this.svgData.g.path,i=this.container,s=i.set();for(this.svgAreas=[],this.svgAreasById={},void 0===e.length&&(e=[e]),t=0;t<e.length;t++){var o=e[t],a=o.d,n=o.title;o.titleTr&&(n=o.titleTr);var r=i.path(a);if(r.id=o.id,this.areasSettings.preserveOriginalAttributes)for(var l in r.customAttr={},o)"d"!=l&&"id"!=l&&"title"!=l&&(r.customAttr[l]=o[l]);r.path=a,this.svgAreasById[o.id]={area:r,title:n,className:o.class},this.svgAreas.push(r),s.push(r)}this.mapSet=s,this.mapContainer.push(s),this.resizeMap()},centerAlign:function(){},setProjection:function(t){this.projection=t,this.chartCreated=!1,this.buildEverything()},addObjectEventListeners:function(t,e){var i=this;t.mousedown(function(t){i.mouseDownMapObject(e,t)}).mouseup(function(t){i.clickMapObject(e,t)}).mouseover(function(t){i.balloonX=NaN,i.rollOverMapObject(e,!0,t)}).mouseout(function(t){i.balloonX=NaN,i.rollOutMapObject(e,t)}).touchend(function(t){Math.abs(i.mouseX-i.tmx)<4&&Math.abs(i.mouseY-i.tmy)<4&&(i.tapped=!0),i.tapToActivate&&!i.tapped||i.mapWasDragged||i.mapWasPinched||(i.balloonX=NaN,i.rollOverMapObject(e,!0,t),i.clickMapObject(e,t))}).touchstart(function(t){i.tmx=i.mouseX,i.tmy=i.mouseY,i.mouseDownMapObject(e,t)}).keyup(function(t){13==t.keyCode&&i.clickMapObject(e,t)})},checkIfSelected:function(t){if((i=this.selectedObject)==t)return!0;if(i=i.groupId){var e,i=this.getGroupById(i);for(e=0;e<i.length;e++)if(i[e]==t)return!0}return!1},clearMap:function(){this.chartDiv.innerHTML="",this.clearObjectList()},clearObjectList:function(){var t=this.objectList;t&&t.div&&(t.div.innerHTML="")},checkIfLast:function(t){if(t){var e=t.parentNode;if(e&&e.lastChild==t)return!0}return!1},showAsRolledOver:function(t){var e=t.displayObject;if(!t.showAsSelected&&e&&!t.isOver){e.node.onmouseout=function(){},e.node.onmouseover=function(){},e.node.onclick=function(){},!t.isFirst&&t.bringForwardOnHover&&(e.toFront(),t.isFirst=!0);var i,s=t.rollOverColorReal;if(t.preserveOriginalAttributes&&(s=void 0),null==s&&(isNaN(t.rollOverBrightnessReal)||(s=v.adjustLuminosity(t.colorReal,t.rollOverBrightnessReal/100))),null!=s&&("MapImage"==t.objectType?(i=t.image)&&i.setAttr("fill",s):"MapLine"==t.objectType?((i=t.lineSvg)&&i.setAttr("stroke",s),(i=t.arrowSvg)&&(i.setAttr("fill",s),i.setAttr("stroke",s))):e.setAttr("fill",s)),(s=t.imageLabel)&&!t.labelInactive&&(null!=(i=t.labelRollOverColorReal)&&s.setAttr("fill",i)),null!=(s=t.rollOverOutlineColorReal)&&("MapImage"==t.objectType?(i=t.image)&&i.setAttr("stroke",s):e.setAttr("stroke",s)),"MapImage"==t.objectType?(s=this.imagesSettings.rollOverOutlineThickness,(i=t.image)&&(isNaN(s)||i.setAttr("stroke-width",s))):(s=this.areasSettings.rollOverOutlineThickness,isNaN(s)||e.setAttr("stroke-width",s)),"MapArea"==t.objectType){s=this.areasSettings,i=t.rollOverAlphaReal,isNaN(i)||e.setAttr("fill-opacity",i),i=s.rollOverOutlineAlpha,isNaN(i)||e.setAttr("stroke-opacity",i),i=1,this.areasSettings.adjustOutlineThickness&&(i=this.zoomLevel()*this.mapScale);var o=s.rollOverOutlineThickness;isNaN(o)||e.setAttr("stroke-width",o/i),(s=s.rollOverPattern)&&e.pattern(s,this.mapScale,this.path)}"MapImage"==t.objectType&&(s=t.rollOverScaleReal,isNaN(s)||1==s||(i=e.scale,isNaN(i)&&(i=1),t.tempScale=i,e.translate(e.x,e.y,i*s,!0))),this.useHandCursorOnClickableOjects&&this.checkIfClickable(t)&&e.setAttr("cursor","pointer"),t.mouseEnabled&&this.addObjectEventListeners(e,t),t.isOver=!0}},rollOverMapObject:function(t,e,i){if(this.chartCreated&&(this.handleMouseMove(),(o=this.previouslyHovered)&&o!=t?(!1===this.checkIfSelected(o)&&(this.returnInitialColor(o,!0),this.previouslyHovered=null),this.balloon.hide(0)):clearTimeout(this.hoverInt),!this.preventHover)){if(!1===this.checkIfSelected(t)){if(o=t.groupId){var s,o=this.getGroupById(o);for(s=0;s<o.length;s++)o[s]!=t&&this.showAsRolledOver(o[s])}this.showAsRolledOver(t)}else(o=t.displayObject)&&(this.allowClickOnSelectedObject?o.setAttr("cursor","pointer"):o.setAttr("cursor","default"));this.showDescriptionOnHover?this.showDescription(t):!this.showBalloonOnSelectedObject&&this.checkIfSelected(t)||!1===e||(s=this.balloon,this.balloon.fixedPosition=!1,o="",void 0!==(e=t.colorReal)&&this.useObjectColorForBalloon||(e=s.fillColor),(s=t.balloonTextReal)&&(o=this.formatString(s,t)),this.balloonLabelFunction&&(o=this.balloonLabelFunction(t,this)),o&&""!==o&&this.showBalloon(o,e,!1,this.balloonX,this.balloonY)),this.fire({type:"rollOverMapObject",mapObject:t,chart:this,event:i}),this.previouslyHovered=t}},longitudeToX:function(t){return(this.longitudeToCoordinate(t)+this.diffX*this.mapScale)*this.zoomLevel()+this.mapContainer.x},latitudeToY:function(t){return(this.latitudeToCoordinate(t)+this.diffY*this.mapScale)*this.zoomLevel()+this.mapContainer.y},latitudeToStageY:function(t){return this.latitudeToCoordinate(t)*this.zoomLevel()+this.mapContainer.y+this.diffY*this.mapScale},longitudeToStageX:function(t){return this.longitudeToCoordinate(t)*this.zoomLevel()+this.mapContainer.x+this.diffX*this.mapScale},stageXToLongitude:function(t){return t=(t-this.mapContainer.x)/this.zoomLevel(),this.coordinateToLongitude(t)},stageYToLatitude:function(t){return t=(t-this.mapContainer.y)/this.zoomLevel(),this.coordinateToLatitude(t)},rollOutMapObject:function(t,e){this.hideBalloon(),t&&this.chartCreated&&t.isOver&&(this.checkIfSelected(t)||this.returnInitialColor(t),this.fire({type:"rollOutMapObject",mapObject:t,chart:this,event:e}))},formatString:function(t,e){var i=this.nf,s=this.pf,o=e.title;e.titleTr&&(o=e.titleTr),null==o&&(o="");var a=e.value;a=isNaN(a)?"":v.formatNumber(a,i),i=e.percents,i=isNaN(i)?"":v.formatNumber(i,s);null==(s=e.description)&&(s="");var n=e.customData;return null==n&&(n=""),v.massReplace(t,{"[[title]]":o,"[[value]]":a,"[[percent]]":i,"[[description]]":s,"[[customData]]":n})},mouseDownMapObject:function(t,e){this.fire({type:"mouseDownMapObject",mapObject:t,chart:this,event:e})},clickMapObject:function(t,e){var i=this;if(e&&(e.touches||isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)||i.hideBalloon()),i.chartCreated&&!i.preventHover&&i.checkTouchDuration(e)&&!i.mapWasDragged&&i.checkIfClickable(t)&&!i.mapWasPinched){i.selectObject(t);var s=i.zoomLevel(),o=i.mapSet.getBBox();s=i.xyToCoordinates((i.mouseX-i.mapContainer.x)/s-o.x*i.mapScale,(i.mouseY-i.mapContainer.y)/s-o.y*i.mapScale);i.clickLatitude=s.latitude,i.clickLongitude=s.longitude,e&&e.touches&&setTimeout(function(){i.showBalloonAfterZoom.call(i)},1e3*i.zoomDuration),i.fire({type:"clickMapObject",mapObject:t,chart:i,event:e}),i.objectWasClicked=!0}},showBalloonAfterZoom:function(){var t=this.clickLongitude,e=this.clickLatitude,i=this.selectedObject;"MapImage"!=i.objectType||isNaN(i.longitude)||(t=i.longitude,e=i.latitude),t=this.coordinatesToStageXY(t,e),this.balloonX=t.x,this.balloonY=t.y,this.rollOverMapObject(this.selectedObject,!0)},checkIfClickable:function(t){var e=this.allowClickOnSelectedObject;return!(this.selectedObject!=t||!e)||!(this.selectedObject==t&&!e)&&!(!(!0===t.selectable||"MapArea"==t.objectType&&t.autoZoomReal||t.url||t.linkToObject||0<t.images.length||0<t.lines.length)&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&!t.description)},resizeMap:function(){var t=this.mapSet;if(t){var e=1,i=t.getBBox(),s=this.realWidth,o=this.realHeight,a=i.width;i=i.height;0<a&&0<i&&(this.fitMapToContainer&&(e=i/o<a/s?s/a:o/i),t.translate(0,0,e,!0),this.mapScale=e,this.mapHeight=i*e,this.mapWidth=a*e)}},zoomIn:function(){var t=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomTo(t)},zoomOut:function(){var t=this.zoomLevel()/this.zoomControl.zoomFactor;this.zoomTo(t)},moveLeft:function(){var t=this.zoomX()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),t,this.zoomY())},moveRight:function(){var t=this.zoomX()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),t,this.zoomY())},moveUp:function(){var t=this.zoomY()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),t)},moveDown:function(){var t=this.zoomY()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),t)},zoomX:function(){return this.mapSet?Math.round(1e4*this.mapContainer.x/this.mapWidth)/1e4:NaN},zoomY:function(){return this.mapSet?Math.round(1e4*this.mapContainer.y/this.mapHeight)/1e4:NaN},goHome:function(){this.selectObject(this.dataProvider),this.fire({type:"homeButtonClicked",chart:this})},zoomLevel:function(){return Math.round(1e5*this.mapContainer.scale)/1e5},showDescriptionAndGetUrl:function(){var t=this.selectedObject;if(t){this.showDescription();var e=t.url;if(e)v.getURL(e,t.urlTarget);else if(e=t.linkToObject){if(v.isString(e)){var i=this.getObjectById(e);if(i)return void this.selectObject(i)}e&&t.passZoomValuesToTarget&&(e.zoomLatitude=this.zoomLatitude(),e.zoomLongitude=this.zoomLongitude(),e.zoomLevel=this.zoomLevel()),this.extendMapData(e)||this.selectObject(e)}}},extendMapData:function(t){var e=t.objectType;if("MapImage"!=e&&"MapArea"!=e&&"MapLine"!=e)return v.extend(t,new v.MapData,!0),this.dataProvider=t,this.zoomInstantly=!0,this.validateData(),!0},showDescription:function(t){if(t=t||this.selectedObject,this.allowMultipleDescriptionWindows||this.closeAllDescriptions(),t.description){var e=t.descriptionWindow;e&&e.close(),e=new v.DescriptionWindow,t.descriptionWindow=e;var i=t.descriptionWindowWidth,s=t.descriptionWindowHeight,o=t.descriptionWindowLeft,a=t.descriptionWindowTop,n=t.descriptionWindowRight,r=t.descriptionWindowBottom;isNaN(n)||(o=this.realWidth-n),isNaN(r)||(a=this.realHeight-r);var l=t.descriptionWindowX;isNaN(l)||(o=l),l=t.descriptionWindowY,isNaN(l)||(a=l),isNaN(o)&&(o=(o=this.mouseX)>this.realWidth/2?o-i-20:o+20),isNaN(a)&&(a=this.mouseY),e.maxHeight=s,l=t.title,t.titleTr&&(l=t.titleTr),e.show(this,this.descriptionsDiv,t.description,l),(t=e.div.style).position="absolute",t.width=i+"px",t.maxHeight=s+"px",isNaN(r)||(a-=e.div.offsetHeight),isNaN(n)||(o-=e.div.offsetWidth),t.left=o+"px",t.top=a+"px"}},parseXMLObject:function(t){var e={root:{}};this.parseXMLNode(e,"root",t),this.svgData=e.root.svg,this.getBounds()},getBounds:function(){var t=this.dataProvider;try{var e=this.svgData.defs["amcharts:ammap"];t.leftLongitude=Number(e.leftLongitude),t.rightLongitude=Number(e.rightLongitude),t.topLatitude=Number(e.topLatitude),t.bottomLatitude=Number(e.bottomLatitude),t.projection=e.projection;var i=e.wrappedLongitudes;i&&(t.rightLongitude+=360),t.wrappedLongitudes=i}catch(t){}},recalcLongitude:function(t){return this.dataProvider.wrappedLongitudes&&t<this.dataProvider.leftLongitude?Number(t)+360:t},latitudeToCoordinate:function(t){var e,i=this.dataProvider;if(this.mapSet){e=i.topLatitude;var s=i.bottomLatitude;"mercator"==i.projection&&(t=this.mercatorLatitudeToCoordinate(t),e=this.mercatorLatitudeToCoordinate(e),s=this.mercatorLatitudeToCoordinate(s)),e=(t-e)/(s-e)*this.mapHeight}return e},longitudeToCoordinate:function(t){t=this.recalcLongitude(t);var e,i=this.dataProvider;return this.mapSet&&(e=(t-(e=i.leftLongitude))/(i.rightLongitude-e)*this.mapWidth),e},mercatorLatitudeToCoordinate:function(t){return 89.5<t&&(t=89.5),t<-89.5&&(t=-89.5),t=v.degreesToRadians(t),v.radiansToDegrees(.5*Math.log((1+Math.sin(t))/(1-Math.sin(t)))/2)},zoomLatitude:function(){if(this.mapContainer){var t=this.mapSet.getBBox(),e=(-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel()-t.x*this.mapScale;t=(-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel()-t.y*this.mapScale;return this.xyToCoordinates(e,t).latitude}},zoomLongitude:function(){if(this.mapContainer){var t=this.mapSet.getBBox(),e=(-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel()-t.x*this.mapScale;t=(-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel()-t.y*this.mapScale;return this.xyToCoordinates(e,t).longitude}},getAreaCenterLatitude:function(t){t=t.displayObject.getBBox();var e=this.mapScale,i=this.mapSet.getBBox();return this.xyToCoordinates((t.x+t.width/2+this.diffX)*e-i.x*e,(t.y+t.height/2+this.diffY)*e-i.y*e).latitude},getAreaCenterLongitude:function(t){t=t.displayObject.getBBox();var e=this.mapScale,i=this.mapSet.getBBox();return this.xyToCoordinates((t.x+t.width/2+this.diffX)*e-i.x*e,(t.y+t.height/2+this.diffY)*e-i.y*e).longitude},milesToPixels:function(t){var e=this.dataProvider;return this.mapWidth/(e.rightLongitude-e.leftLongitude)*t/69.172},kilometersToPixels:function(t){var e=this.dataProvider;return this.mapWidth/(e.rightLongitude-e.leftLongitude)*t/111.325},handleBackgroundClick:function(){if(this.backgroundZoomsToTop&&!this.mapWasDragged){var t=this.dataProvider;if(this.checkIfClickable(t))this.clickMapObject(t);else{var e=t.zoomX,i=t.zoomY,s=t.zoomLongitude,o=t.zoomLatitude;t=t.zoomLevel;isNaN(e)||isNaN(i)||this.zoomTo(t,e,i),isNaN(s)||isNaN(o)||this.zoomToLongLat(t,s,o,!0)}}},parseXMLNode:function(t,e,i,s){var o,a,n;if(void 0===s&&(s=""),i){var r=i.childNodes.length;for(o=0;o<r;o++){var l=(a=i.childNodes[o]).nodeName,h=a.nodeValue?this.trim(a.nodeValue):"",c=!1;if(a.attributes&&0<a.attributes.length&&(c=!0),0!==a.childNodes.length||""!==h||!1!==c)if(3==a.nodeType||4==a.nodeType){if(""!==h){for(n in a=0,t[e])t[e].hasOwnProperty(n)&&a++;a?t[e]["#text"]=h:t[e]=h}}else if(1==a.nodeType){var d;if(void 0!==t[e][l]?void 0===t[e][l].length?(d=t[e][l],t[e][l]=[],t[e][l].push(d),t[e][l].push({}),d=t[e][l][1]):"object"==typeof t[e][l]&&(t[e][l].push({}),d=t[e][l][t[e][l].length-1]):(t[e][l]={},d=t[e][l]),a.attributes&&a.attributes.length)for(h=0;h<a.attributes.length;h++)d[a.attributes[h].name]=a.attributes[h].value;void 0!==t[e][l].length?this.parseXMLNode(t[e][l],t[e][l].length-1,a,s+"  "):this.parseXMLNode(t[e],l,a,s+"  ")}}for(n in a=0,i="",t[e])"#text"==n?i=t[e][n]:a++;0===a&&void 0===t[e].length&&(t[e]=i)}},doDoubleClickZoom:function(){if(!this.mapWasDragged){var t=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomToStageXY(t,this.mouseX,this.mouseY)}},getDevInfo:function(){var t=this.zoomLevel(),e=this.mapSet.getBBox();e=this.xyToCoordinates((this.mouseX-this.mapContainer.x)/t-e.x*this.mapScale,(this.mouseY-this.mapContainer.y)/t-e.y*this.mapScale),e=(e=(e=(e=(e=(e=(e="zoomLevel:"+(t={chart:this,type:"writeDevInfo",zoomLevel:t,zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLatitude:this.zoomLatitude(),zoomLongitude:this.zoomLongitude(),latitude:e.latitude,longitude:e.longitude,left:this.mouseX,top:this.mouseY,right:this.realWidth-this.mouseX,bottom:this.realHeight-this.mouseY,percentLeft:Math.round(this.mouseX/this.realWidth*100)+"%",percentTop:Math.round(this.mouseY/this.realHeight*100)+"%",percentRight:Math.round((this.realWidth-this.mouseX)/this.realWidth*100)+"%",percentBottom:Math.round((this.realHeight-this.mouseY)/this.realHeight*100)+"%"}).zoomLevel+", zoomLongitude:"+t.zoomLongitude+", zoomLatitude:"+t.zoomLatitude+"\n")+"zoomX:"+t.zoomX+", zoomY:"+t.zoomY+"\n")+"latitude:"+t.latitude+", longitude:"+t.longitude+"\n")+"left:"+t.left+", top:"+t.top+"\n")+"right:"+t.right+", bottom:"+t.bottom+"\n")+"left:"+t.percentLeft+", top:"+t.percentTop+"\n")+"right:"+t.percentRight+", bottom:"+t.percentBottom+"\n";return t.str=e,this.fire(t),t},getXY:function(t,e,i){return void 0!==t&&(-1!=String(t).indexOf("%")?(t=Number(t.split("%").join("")),i&&(t=100-t),t=Number(t)*e/100):i&&(t=e-t)),t},getObjectById:function(t){var e=this.dataProvider;if(e.areas){var i=this.getObject(t,e.areas);if(i)return i}return(i=this.getObject(t,e.images))?i:(t=this.getObject(t,e.lines))?t:void 0},getObject:function(t,e){var i;if(e)for(i=0;i<e.length;i++){var s=e[i];if(s.id==t)return s;if(s.areas){var o=this.getObject(t,s.areas);if(o)return o}if(o=this.getObject(t,s.images))return o;if(s=this.getObject(t,s.lines))return s}},parseData:function(){var t=this.dataProvider;this.processObject(t.areas,t,"area"),this.processObject(t.images,t,"image"),this.processObject(t.lines,t,"line")},processObject:function(t,e,i){var s;if(t)for(s=0;s<t.length;s++){var o=t[s];o.parentObject=e,"area"==i&&v.extend(o,new v.MapArea(this.theme),!0),"image"==i&&(o=v.extend(o,new v.MapImage(this.theme),!0)),"line"==i&&(o=v.extend(o,new v.MapLine(this.theme),!0)),(t[s]=o).areas&&this.processObject(o.areas,o,"area"),o.images&&this.processObject(o.images,o,"image"),o.lines&&this.processObject(o.lines,o,"line")}},positionChanged:function(){var t={type:"positionChanged",zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLevel:this.zoomLevel(),chart:this};this.fire(t)},getX:function(t,e){return this.getXY(t,this.realWidth,e)},getY:function(t,e){return this.getXY(t,this.realHeight,e)},trim:function(t){if(t){var e;for(e=0;e<t.length;e++)if(-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(e))){t=t.substring(e);break}for(e=t.length-1;0<=e;e--)if(-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(e))){t=t.substring(0,e+1);break}return-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(0))?t:""}},destroy:function(){v.AmMap.base.destroy.call(this)},x2c:function(t){var e=this.dataProvider.leftLongitude;return Math.round(this.unscaledMapWidth*(t-e)/(this.dataProvider.rightLongitude-e)*100)/100},y2c:function(t){var e=this.dataProvider.topLatitude;return Math.round(this.unscaledMapHeight*(t-e)/(this.dataProvider.bottomLatitude-e)*100)/100},normalize:function(t){if(!t.pathsArray){var e;if(t.normalized)e=t.normalized;else{var i=v.normalizePath(t.node);e=t.node.getAttribute("d"),t.normalized=e,i.maxX>this.maxMapX&&(this.maxMapX=i.maxX),i.minX<this.minMapX&&(this.minMapX=i.minX),i.maxY>this.maxMapY&&(this.maxMapY=i.maxY),i.minY<this.minMapY&&(this.minMapY=i.minY)}t.node.setAttribute("d",e)}},redraw:function(t){var e=(e=(e=t.normalized).split(" Z").join("")).split("M");t.pathsArray=[];for(var i=0;i<e.length;i++){if(s=e[i]){for(var s=s.split("L"),o=[],a=0;a<s.length;a++)if(s[a]){var n=s[a].split(" ");n=this.xyToCoordinates(Number(n[1]),Number(n[2]),this.dpProjectionFunction,this.sourceMapWidth,this.sourceMapHeight);o.push([n.longitude,n.latitude])}t.pathsArray.push(o)}}for(e="",i=0;i<t.pathsArray.length;i++)e+=this.redrawArea(t.pathsArray[i]);t.node.setAttribute("d",e),t.path=e},redrawArea:function(t){for(var e=!1,i="",s=0;s<t.length;s++){var o=t[s][0],a=t[s][1],n=v.degreesToRadians(t[s][0]),r=v.degreesToRadians(t[s][1]);r=this.projectionFunction(n,r),n=v.roundTo(this.x2c(v.radiansToDegrees(r[0])),3),r=v.roundTo(this.y2c(v.radiansToDegrees(r[1])),3);n<this.minMapXX&&(this.minMapXX=n,this.leftLongLat={longitude:o,latitude:a}),n>this.maxMapXX&&(this.maxMapXX=n,this.rightLongLat={longitude:o,latitude:a}),r<this.minMapYY&&(this.minMapYY=r,this.topLongLat={longitude:o,latitude:a}),r>this.maxMapYY&&(this.maxMapYY=r,this.bottomLongLat={longitude:o,latitude:a}),e?i+=" L ":(i+=" M ",e=!0),i+=n+" "+r}return i+" Z "},normalizeMap:function(){var t=(l=v.degreesToRadians(this.dataProvider.leftLongitude))+((h=v.degreesToRadians(this.dataProvider.rightLongitude))-l)/2,e=(n=v.degreesToRadians(this.dataProvider.topLatitude))+((r=v.degreesToRadians(this.dataProvider.bottomLatitude))-n)/2,i=this.dpProjectionFunction(t,n)[1],s=this.dpProjectionFunction(t,r)[1],o=this.dpProjectionFunction(l,e)[0],a=this.dpProjectionFunction(h,e)[0],n=v.equirectangular(t,n),r=v.equirectangular(t,r),l=(i=(n[1]-r[1])/(i-s),v.equirectangular(l,e)),h=v.equirectangular(h,e);o=(l[0]-h[0])/(o-a);for(this.minMapX=1/0,this.maxMapX=-1/0,this.minMapY=1/0,this.maxMapY=-1/0,a=0;a<this.svgAreas.length;a++)this.normalize(this.svgAreas[a]);this.sourceMapHeight=Math.abs(this.maxMapY-this.minMapY),this.sourceMapWidth=Math.abs(this.maxMapX-this.minMapX),this.unscaledMapWidth=this.sourceMapWidth*o,this.unscaledMapHeight=this.sourceMapHeight*i,this.diffY=this.diffX=0},fixMapPosition:function(){var t=v.degreesToRadians(this.dataProvider.leftLongitude),e=v.degreesToRadians(this.dataProvider.rightLongitude),i=v.degreesToRadians(this.dataProvider.topLatitude),s=v.degreesToRadians(this.dataProvider.bottomLatitude),o=t+(e-t)/2,a=i+(s-i)/2,n=this.dpProjectionFunction(o,i)[1],r=this.dpProjectionFunction(o,s)[1],l=this.dpProjectionFunction(t,a)[0],h=this.dpProjectionFunction(e,a)[0];for(this.sourceMapHeight=this.mapHeight/this.mapScale,this.sourceMapWidth=this.mapWidth/this.mapScale,this.unscaledMapWidth=(t-e)/(l-h)*this.sourceMapWidth,this.unscaledMapHeight=(i-s)/(n-r)*this.sourceMapHeight,e=this.coordinatesToXY(v.radiansToDegrees(o),v.radiansToDegrees(i)),t=this.coordinatesToXY(v.radiansToDegrees(t),v.radiansToDegrees(a)),i=a=1/0,s=0;s<this.svgAreas.length;s++)(o=this.svgAreas[s].getBBox()).y<a&&(a=o.y),o.x<i&&(i=o.x);for(this.diffY=e.y/this.mapScale-a,this.diffX=t.x/this.mapScale-i,s=0;s<this.svgAreas.length;s++)this.svgAreas[s].translate(this.diffX,this.diffY)},changeProjection:function(){this.minMapXX=1/0,this.maxMapXX=-1/0,this.minMapYY=1/0,this.maxMapYY=-1/0,this.projectionChanged=!1;for(var t=0;t<this.svgAreas.length;t++)this.redraw(this.svgAreas[t]);this.projectionChanged=!0,this.resizeMap()},coordinatesToXY:function(t,e){var i,s;return i=!1,this.dataProvider&&(i=this.dataProvider.wrappedLongitudes),s=this.projectionFunction&&!i?(s=this.projectionFunction(v.degreesToRadians(t),v.degreesToRadians(e)),i=this.mapScale*v.roundTo(this.x2c(v.radiansToDegrees(s[0])),3),this.mapScale*v.roundTo(this.y2c(v.radiansToDegrees(s[1])),3)):(i=this.longitudeToCoordinate(t),this.latitudeToCoordinate(e)),{x:i,y:s}},coordinatesToStageXY:function(t,e){var i;return{x:(i=this.coordinatesToXY(t,e)).x*this.zoomLevel()+this.mapContainer.x,y:i=i.y*this.zoomLevel()+this.mapContainer.y}},stageXYToCoordinates:function(t,e){var i=this.mapSet.getBBox(),s=(t-this.mapContainer.x)/this.zoomLevel()-i.x*this.mapScale;i=(e-this.mapContainer.y)/this.zoomLevel()-i.y*this.mapScale;return this.xyToCoordinates(s,i)},xyToCoordinates:function(t,e,i,s,o){var a;if(isNaN(s)&&(s=this.mapWidth),isNaN(o)&&(o=this.mapHeight),a=(i=i||this.projectionFunction).invert){var n=(c=this.dataProvider.leftLongitude)+((d=this.dataProvider.rightLongitude)-c)/2,r=(l=this.dataProvider.topLatitude)+((h=this.dataProvider.bottomLatitude)-l)/2,l=v.radiansToDegrees(i(v.degreesToRadians(n),v.degreesToRadians(l))[1]),h=v.radiansToDegrees(i(v.degreesToRadians(n),v.degreesToRadians(h))[1]),c=v.radiansToDegrees(i(v.degreesToRadians(c),v.degreesToRadians(r))[0]),d=v.radiansToDegrees(i(v.degreesToRadians(d),v.degreesToRadians(r))[0]);this.projectionChanged&&(l=v.radiansToDegrees(i(v.degreesToRadians(this.topLongLat.longitude),v.degreesToRadians(this.topLongLat.latitude))[1]),h=v.radiansToDegrees(i(v.degreesToRadians(this.bottomLongLat.longitude),v.degreesToRadians(this.bottomLongLat.latitude))[1]),c=v.radiansToDegrees(i(v.degreesToRadians(this.leftLongLat.longitude),v.degreesToRadians(this.leftLongLat.latitude))[0]),d=v.radiansToDegrees(i(v.degreesToRadians(this.rightLongLat.longitude),v.degreesToRadians(this.rightLongLat.latitude))[0])),e=a(t=v.degreesToRadians(t/s*(d-c)+c),e=v.degreesToRadians(e/o*(h-l)+l)),a=v.radiansToDegrees(e[0]),e=v.radiansToDegrees(e[1])}else a=this.coordinateToLongitude(t),e=this.coordinateToLatitude(e);return{longitude:v.roundTo(a,4),latitude:v.roundTo(e,4)}},coordinateToLatitude:function(t,e){var i;if(void 0===e&&(e=this.mapHeight),this.mapSet){var s=this.dataProvider,o=s.bottomLatitude;i=s.topLatitude,i="mercator"==s.projection?(s=this.mercatorLatitudeToCoordinate(o),i=this.mercatorLatitudeToCoordinate(i),i=2*v.degreesToRadians(t*(s-i)/e+i),v.radiansToDegrees(2*Math.atan(Math.exp(i))-.5*Math.PI)):t/e*(o-i)+i}return Math.round(1e6*i)/1e6},coordinateToLongitude:function(t,e){var i,s=this.dataProvider;return void 0===e&&(e=this.mapWidth),this.mapSet&&(i=t/e*(s.rightLongitude-s.leftLongitude)+s.leftLongitude),Math.round(1e6*i)/1e6}})}(),function(){var j=window.AmCharts;j.ZoomControl=j.Class({construct:function(t){this.cname="ZoomControl",this.panStepSize=.1,this.zoomFactor=2,this.maxZoomLevel=64,this.minZoomLevel=1,this.panControlEnabled=!1,this.zoomControlEnabled=!0,this.buttonRollOverColor="#DADADA",this.buttonFillColor="#FFFFFF",this.buttonFillAlpha=1,this.buttonBorderColor="#000000",this.buttonBorderAlpha=.1,this.buttonIconAlpha=this.buttonBorderThickness=1,this.gridColor=this.buttonIconColor="#000000",this.homeIconFile="homeIcon.gif",this.gridBackgroundColor="#000000",this.draggerAlpha=this.gridAlpha=this.gridBackgroundAlpha=0,this.draggerSize=this.buttonSize=31,this.iconSize=11,this.homeButtonEnabled=!0,this.buttonCornerRadius=2,this.gridHeight=5,this.roundButtons=!0,this.top=this.left=10,j.applyTheme(this,t,this.cname)},init:function(t,e){var i=this;i.chart=t,j.remove(i.set);var s=e.set();j.setCN(t,s,"zoom-control");var o=i.buttonSize,a=i.zoomControlEnabled,n=i.panControlEnabled,r=i.buttonFillColor,l=i.buttonFillAlpha,h=i.buttonBorderThickness,c=i.buttonBorderColor,d=i.buttonBorderAlpha,u=i.buttonCornerRadius,m=i.buttonRollOverColor,p=i.gridHeight,g=i.zoomFactor,v=i.minZoomLevel,f=i.maxZoomLevel,b=i.buttonIconAlpha,N=i.buttonIconColor,C=i.roundButtons,M=t.svgIcons,L=t.getX(i.left),T=t.getY(i.top);isNaN(i.right)||(L=t.getX(i.right,!0),L=n?L-3*o:L-o),isNaN(i.bottom)||(T=t.getY(i.bottom,!0),a&&(T-=p+3*o),T=n?T-3*o:i.homeButtonEnabled?T-.5*o:T+o),s.translate(L,T),i.previousDY=NaN;var O;L=o/4-1;if(a){O=e.set(),j.setCN(t,O,"zoom-control-zoom"),s.push(O),i.set=s,i.zoomSet=O,5<p&&(a=j.rect(e,o+6,p+2*o+6,i.gridBackgroundColor,i.gridBackgroundAlpha,0,0,0,4),j.setCN(t,a,"zoom-bg"),a.translate(-3,-3),a.mouseup(function(){i.handleBgUp()}).touchend(function(){i.handleBgUp()}),O.push(a));var w=o;C&&(w=o/1.5),i.draggerSize=w;var z=Math.log(f/v)/Math.log(g)+1;1e3<z&&(z=1e3);a=p/z;var A,S=e.set();for(S.translate((o-w)/2+1,1,NaN,!0),O.push(S),A=1;A<z;A++)T=o+A*a,T=j.line(e,[1,w-2],[T,T],i.gridColor,i.gridAlpha,1),j.setCN(t,T,"zoom-grid"),S.push(T);(T=new j.SimpleButton).setDownHandler(i.draggerDown,i),T.setClickHandler(i.draggerUp,i),T.init(e,w,a,r,l,h,c,d,u,m),j.setCN(t,T.set,"zoom-dragger"),O.push(T.set),T.set.setAttr("opacity",i.draggerAlpha),i.dragger=T.set,i.previousY=NaN,T=new j.SimpleButton,M?(w=e.set(),z=j.line(e,[-L,L],[0,0],N,b,1),A=j.line(e,[0,0],[-L,L],N,b,1),w.push(z),w.push(A),T.svgIcon=w):T.setIcon(t.pathToImages+"plus.gif",i.iconSize),T.setClickHandler(t.zoomIn,t),T.init(e,o,o,r,l,h,c,d,u,m,b,N,C),j.setCN(t,T.set,"zoom-in"),O.push(T.set),T=new j.SimpleButton,M?T.svgIcon=j.line(e,[-L,L],[0,0],N,b,1):T.setIcon(t.pathToImages+"minus.gif",i.iconSize),T.setClickHandler(t.zoomOut,t),T.init(e,o,o,r,l,h,c,d,u,m,b,N,C),T.set.translate(0,p+o),j.setCN(t,T.set,"zoom-out"),O.push(T.set),p-=a,f=Math.log(f/100)/Math.log(g),i.realStepSize=p/(f-Math.log(v/100)/Math.log(g)),i.realGridHeight=p,i.stepMax=f}n&&(n=e.set(),j.setCN(t,n,"zoom-control-pan"),s.push(n),O&&O.translate(o,4*o),g=new j.SimpleButton,M?g.svgIcon=j.line(e,[L/5,L/5-L,L/5],[-L,0,L],N,b,1):g.setIcon(t.pathToImages+"panLeft.gif",i.iconSize),g.setClickHandler(t.moveLeft,t),g.init(e,o,o,r,l,h,c,d,u,m,b,N,C),g.set.translate(0,o),j.setCN(t,g.set,"pan-left"),n.push(g.set),g=new j.SimpleButton,M?g.svgIcon=j.line(e,[-L/5,L-L/5,-L/5],[-L,0,L],N,b,1):g.setIcon(t.pathToImages+"panRight.gif",i.iconSize),g.setClickHandler(t.moveRight,t),g.init(e,o,o,r,l,h,c,d,u,m,b,N,C),g.set.translate(2*o,o),j.setCN(t,g.set,"pan-right"),n.push(g.set),g=new j.SimpleButton,M?g.svgIcon=j.line(e,[-L,0,L],[L/5,L/5-L,L/5],N,b,1):g.setIcon(t.pathToImages+"panUp.gif",i.iconSize),g.setClickHandler(t.moveUp,t),g.init(e,o,o,r,l,h,c,d,u,m,b,N,C),g.set.translate(o,0),j.setCN(t,g.set,"pan-up"),n.push(g.set),g=new j.SimpleButton,M?g.svgIcon=j.line(e,[-L,0,L],[-L/5,L-L/5,-L/5],N,b,1):g.setIcon(t.pathToImages+"panDown.gif",i.iconSize),g.setClickHandler(t.moveDown,t),g.init(e,o,o,r,l,h,c,d,u,m,b,N,C),g.set.translate(o,2*o),j.setCN(t,g.set,"pan-down"),n.push(g.set),s.push(n)),i.homeButtonEnabled&&(n=new j.SimpleButton,M?n.svgIcon=j.polygon(e,[-L,0,L,L-1,L-1,2,2,-2,-2,1-L,1-L],[0,-L,0,0,L-1,L-1,2,2,L-1,L-1,0],N,b,1,N,b):n.setIcon(t.pathToImages+i.homeIconFile,i.iconSize),n.setClickHandler(t.goHome,t),i.panControlEnabled&&(d=l=0),n.init(e,o,o,r,l,h,c,d,u,m,b,N,C),i.panControlEnabled?n.set.translate(o,o):O&&O.translate(0,1.5*o),j.setCN(t,n.set,"pan-home"),s.push(n.set)),i.update()},draggerDown:function(){this.chart.stopDrag(),this.isDragging=!0},draggerUp:function(){this.isDragging=!1},handleBgUp:function(){var t=this.chart;t.zoomTo(100*Math.pow(this.zoomFactor,this.stepMax-(t.mouseY-this.zoomSet.y-this.set.y-this.buttonSize-this.realStepSize/2)/this.realStepSize))},update:function(){var t;t=this.zoomFactor;var e,i=this.realStepSize,s=this.stepMax,o=this.dragger,a=this.buttonSize,n=this.chart;n&&(this.isDragging?(n.stopDrag(),e=o.y+(n.mouseY-this.previousY),e=j.fitToBounds(e,a,this.realGridHeight+a),n.zoomTo(100*Math.pow(t,s-(e-a)/i),NaN,NaN,!0)):e=(s-(t=Math.log(n.zoomLevel()/100)/Math.log(t)))*i+a,this.previousY=n.mouseY,this.previousDY!=e&&o&&(o.translate((this.buttonSize-this.draggerSize)/2,e),this.previousDY=e))}})}(),function(){var g=window.AmCharts;g.SimpleButton=g.Class({construct:function(){},init:function(t,e,i,s,o,a,n,r,l,h,c,d,u){var m,p=this;p.rollOverColor=h,p.color=s,h=(p.container=t).set(),p.set=h,u?(e/=2,(s=g.circle(t,e,s,o,a,n,r)).translate(e,e)):s=g.rect(t,e,i,s,o,a,n,r,l),h.push(s),(o=p.iconPath)&&(a=(e-(m=p.iconSize))/2,u&&(a=(2*e-m)/2),m=t.image(o,a,(i-m)/2,m,m)),p.svgIcon&&(m=p.svgIcon,u?m.translate(e,e):m.translate(e/2,e/2)),h.setAttr("cursor","pointer"),m&&(h.push(m),m.setAttr("opacity",c),m.node.style.pointerEvents="none"),s.mousedown(function(){p.handleDown()}).touchstart(function(){p.handleDown()}).mouseup(function(){p.handleUp()}).touchend(function(){p.handleUp()}).mouseover(function(){p.handleOver()}).mouseout(function(){p.handleOut()}),p.bg=s},setIcon:function(t,e){this.iconPath=t,this.iconSize=e},setClickHandler:function(t,e){this.clickHandler=t,this.scope=e},setDownHandler:function(t,e){this.downHandler=t,this.scope=e},handleUp:function(){var t=this.clickHandler;t&&t.call(this.scope)},handleDown:function(){var t=this.downHandler;t&&t.call(this.scope)},handleOver:function(){this.container.chart.skipClick=!0,this.bg.setAttr("fill",this.rollOverColor)},handleOut:function(){this.container.chart.skipClick=!1,this.bg.setAttr("fill",this.color)}})}(),function(){var g=window.AmCharts;g.SmallMap=g.Class({construct:function(t){this.cname="SmallMap",this.mapColor="#e6e6e6",this.rectangleColor="#FFFFFF",this.top=this.right=10,this.minimizeButtonWidth=23,this.backgroundColor="#9A9A9A",this.backgroundAlpha=1,this.borderColor="#FFFFFF",this.iconColor="#000000",this.borderThickness=3,this.borderAlpha=1,this.size=.2,this.enabled=!0,g.applyTheme(this,t,this.cname)},init:function(t,e){var i=this;if(i.enabled){i.chart=t,i.container=e,i.width=t.realWidth*i.size,i.height=t.realHeight*i.size,g.remove(i.mapSet),g.remove(i.allSet),g.remove(i.set);var s=e.set();i.set=s,g.setCN(t,s,"small-map");var o=e.set();i.allSet=o,s.push(o),i.buildSVGMap();var a=i.borderThickness,n=i.borderColor,r=g.rect(e,i.width+a,i.height+a,i.backgroundColor,i.backgroundAlpha,a,n,i.borderAlpha);g.setCN(t,r,"small-map-bg"),r.translate(-a/2,-a/2),o.push(r),r.toBack();r=i.minimizeButtonWidth;var l,h,c=new g.SimpleButton,d=r/2;t.svgIcons?c.svgIcon=g.line(e,[-d/2,0,d/2],[-d/4,d/4,-d/4],i.iconColor,1,1):c.setIcon(t.pathToImages+"arrowDown.gif",r),c.setClickHandler(i.minimize,i),c.init(e,r,r,n,1,1,n,1),g.setCN(t,c.set,"small-map-down"),c=c.set,i.downButtonSet=c,s.push(c);var u,m,p=new g.SimpleButton;t.svgIcons?p.svgIcon=g.line(e,[-d/2,0,d/2],[d/4,-d/4,d/4],i.iconColor,1,1):p.setIcon(t.pathToImages+"arrowUp.gif",r),p.setClickHandler(i.maximize,i),p.init(e,r,r,n,1,1,n,1),g.setCN(t,p.set,"small-map-up"),n=p.set,(i.upButtonSet=n).hide(),s.push(n),isNaN(i.top)||(l=t.getY(i.top)+a,m=0),isNaN(i.bottom)||(l=t.getY(i.bottom,!0)-i.height-a,m=i.height-r+a/2),isNaN(i.left)||(h=t.getX(i.left)+a,u=-a/2),isNaN(i.right)||(h=t.getX(i.right,!0)-i.width-a,u=i.width-r+a/2),(a=e.set()).clipRect(1,1,i.width,i.height),o.push(a),i.rectangleC=a,s.translate(h,l),c.translate(u,m),n.translate(u,m),o.mouseup(function(){i.handleMouseUp()}),i.drawRectangle()}else g.remove(i.allSet),g.remove(i.downButtonSet),g.remove(i.upButtonSet)},minimize:function(){this.downButtonSet.hide(),this.upButtonSet.show(),this.allSet.hide()},maximize:function(){this.downButtonSet.show(),this.upButtonSet.hide(),this.allSet.show()},buildSVGMap:function(){var t,e=this.chart,i={fill:this.mapColor,stroke:this.mapColor,"stroke-opacity":1},s=this.container,o=s.set();for(g.setCN(e,o,"small-map-image"),t=0;t<e.svgAreas.length;t++){var a=s.path(e.svgAreas[t].path).attr(i);o.push(a)}this.allSet.push(o),i=o.getBBox(),s=this.size*e.mapScale,t=-i.x*s;a=-i.y*s;var n=0,r=0;e.centerMap&&(n=(this.width-i.width*s)/2,r=(this.height-i.height*s)/2),this.mapWidth=i.width*s,this.mapHeight=i.height*s,this.dx=n,this.dy=r,o.translate(t+n,a+r,s),this.mapSet=o},update:function(){var t=this.chart;if(t){var e=t.zoomLevel(),i=this.width,s=this.height,o=i/(t.realWidth*e),a=t.mapContainer.getBBox(),n=(i=i/e,s=s/e,this.rectangle);n.translate(-(t.mapContainer.x+a.x*e)*o+this.dx,-(t.mapContainer.y+a.y*e)*o+this.dy),0<i&&0<s&&(n.setAttr("width",Math.ceil(i+1)),n.setAttr("height",Math.ceil(s+1))),this.rWidth=i,this.rHeight=s}},drawRectangle:function(){var t=this.rectangle;g.remove(t),t=g.rect(this.container,10,10,"#000",0,1,this.rectangleColor,1),g.setCN(this.chart,t,"small-map-rectangle"),this.rectangleC.push(t),this.rectangle=t},handleMouseUp:function(){var t=this.chart,e=t.zoomLevel();t.zoomToStageXY(e,(t.mouseX-this.set.x)/this.size,(t.mouseY-this.set.y)/this.size)}})}(),function(){var L=window.AmCharts;L.AreasProcessor=L.Class({construct:function(t){this.chart=t},process:function(t){this.updateAllAreas(),this.allObjects=[],t=t.areas;var e,i,s=this.chart,o=t.length,a=0,n=!1,r=!1;for(e=0;e<o;e++)i=(i=t[e]).value,isNaN(i)||((!1===n||n<i)&&(n=i),(!1===r||i<r)&&(r=i),a+=Math.abs(i),0);for(this.minValue=r,this.maxValue=n,isNaN(s.minValue)||(this.minValue=s.minValue),isNaN(s.maxValue)||(this.maxValue=s.maxValue),s.maxValueReal=n,s.minValueReal=r,e=0;e<o;e++)i=t[e],isNaN(i.value)?i.percents=void 0:(i.percents=(i.value-r)/a*100,r==n&&(i.percents=100));for(e=0;e<o;e++)i=t[e],this.createArea(i)},updateAllAreas:function(){var t,e=this.chart,i=e.areasSettings,s=i.unlistedAreasColor,o=i.unlistedAreasAlpha,a=i.unlistedAreasOutlineColor,n=i.unlistedAreasOutlineAlpha,r=e.svgAreas,l=e.dataProvider,h=l.areas,c={};for(t=0;t<h.length;t++)c[h[t].id]=h[t];for(t=0;t<r.length;t++){if(h=r[t],i.preserveOriginalAttributes){if(h.customAttr)for(var d in h.customAttr)h.setAttr(d,h.customAttr[d])}else{null!=s&&h.setAttr("fill",s),isNaN(o)||h.setAttr("fill-opacity",o),null!=a&&h.setAttr("stroke",a),isNaN(n)||h.setAttr("stroke-opacity",n);var u=i.outlineThickness;i.adjustOutlineThickness&&(u=u/e.zoomLevel()/e.mapScale),h.setAttr("stroke-width",u)}L.setCN(e,h,"map-area-unlisted"),l.getAreasFromMap&&!c[h.id]&&((u=new L.MapArea(e.theme)).parentObject=l,u.id=h.id,l.areas.push(u))}},createArea:function(t){var e=this.chart,i=e.svgAreasById[t.id],s=e.areasSettings;if(i&&i.className){var o=e.areasClasses[i.className];o&&(s=L.processObject(o,L.AreasSettings,e.theme))}var a=s.color,n=s.alpha,r=s.outlineThickness,l=s.rollOverColor,h=s.selectedColor,c=s.rollOverAlpha,d=s.rollOverBrightness,u=s.outlineColor,m=s.outlineAlpha,p=s.balloonText,g=s.selectable,v=s.pattern,f=s.rollOverOutlineColor,b=s.bringForwardOnHover,N=s.preserveOriginalAttributes;this.allObjects.push(t),t.chart=e,t.baseSettings=s,t.autoZoomReal=null==t.autoZoom?s.autoZoom:t.autoZoom,null==(o=t.color)&&(o=a);var C,M=t.alpha;isNaN(M)&&(M=n),n=t.rollOverAlpha,isNaN(n)&&(n=c),isNaN(n)&&(n=M),null==(c=t.rollOverColor)&&(c=l),null==(l=t.pattern)&&(l=v),null==(v=t.selectedColor)&&(v=h),void 0===(h=t.balloonText)&&(h=p),null==s.colorSolid||isNaN(t.value)||((p=Math.floor((t.value-this.minValue)/((this.maxValue-this.minValue)/e.colorSteps)))==e.colorSteps&&p--,p*=1/(e.colorSteps-1),this.maxValue==this.minValue&&(p=1),t.colorReal=L.getColorFade(o,s.colorSolid,p)),null!=t.color&&(t.colorReal=t.color),null==t.selectable&&(t.selectable=g),null==t.colorReal&&(t.colorReal=a),null==(a=t.outlineColor)&&(a=u),u=t.outlineAlpha,isNaN(u)&&(u=m),m=t.outlineThickness,isNaN(m)&&(m=r),null==(r=t.rollOverOutlineColor)&&(r=f),null==(f=t.rollOverBrightness)&&(f=d),null==t.bringForwardOnHover&&(t.bringForwardOnHover=b),null==t.preserveOriginalAttributes&&(t.preserveOriginalAttributes=N),isNaN(s.selectedBrightness)||(v=L.adjustLuminosity(t.colorReal,s.selectedBrightness/100)),t.alphaReal=M,t.rollOverColorReal=c,t.rollOverAlphaReal=n,t.balloonTextReal=h,t.selectedColorReal=v,t.outlineColorReal=a,t.outlineAlphaReal=u,t.rollOverOutlineColorReal=r,t.outlineThicknessReal=m,t.patternReal=l,t.rollOverBrightnessReal=f,t.accessibleLabel||(t.accessibleLabel=s.accessibleLabel),L.processDescriptionWindow(s,t),i&&(d=i.area,b=i.title,t.enTitle=i.title,b&&!t.title&&(t.title=b),(i=e.language)?(b=L.mapTranslations)&&(i=b[i])&&i[t.enTitle]&&(t.titleTr=i[t.enTitle]):t.titleTr=void 0,d)&&(void 0===(i=t.tabIndex)&&(i=s.tabIndex),void 0!==i&&d.setAttr("tabindex",i),t.displayObject=d,t.mouseEnabled&&e.addObjectEventListeners(d,t),null!=o&&(C=o),null!=t.colorReal&&(C=t.showAsSelected||e.selectedObject==t?t.selectedColorReal:t.colorReal),d.node.setAttribute("class",""),L.setCN(e,d,"map-area"),L.setCN(e,d,"map-area-"+d.id),s.adjustOutlineThickness&&(m=m/e.zoomLevel()/e.mapScale),t.preserveOriginalAttributes||(d.setAttr("fill",C),d.setAttr("stroke",a),d.setAttr("stroke-opacity",u),d.setAttr("stroke-width",m),d.setAttr("fill-opacity",M)),e.makeObjectAccessible(t),l&&d.pattern(l,e.mapScale,e.path),t.hidden&&d.hide())}})}(),function(){var e=window.AmCharts;e.AreasSettings=e.Class({construct:function(t){this.cname="AreasSettings",this.alpha=1,this.autoZoom=!1,this.balloonText="[[title]]",this.color="#FFCC00",this.colorSolid="#990000",this.unlistedAreasAlpha=1,this.unlistedAreasColor="#DDDDDD",this.outlineColor="#FFFFFF",this.outlineThickness=this.outlineAlpha=1,this.selectedColor=this.rollOverOutlineColor="#CC0000",this.unlistedAreasOutlineColor="#FFFFFF",this.unlistedAreasOutlineAlpha=1,this.descriptionWindowWidth=250,this.bringForwardOnHover=this.adjustOutlineThickness=!0,this.accessibleLabel="[[title]] [[value]] [[description]]",e.applyTheme(this,t,this.cname)}})}(),function(){var j=window.AmCharts;j.ImagesProcessor=j.Class({construct:function(t){this.chart=t,this.reset()},process:function(t){var e,i=t.images;for(e=0;e<i.length;e++){var s=i[e];this.createImage(s,e),s.parentArray=i}this.counter=e,t.parentObject&&t.remainVisible&&this.process(t.parentObject)},createImage:function(t,e){t=j.processObject(t,j.MapImage),isNaN(e)&&(this.counter++,e=this.counter);var i=this.chart,s=i.container,o=i.mapImagesContainer,a=i.stageImagesContainer,n=i.imagesSettings;t.remove&&t.remove();var r=n.color,l=n.alpha,h=n.rollOverColor,c=n.rollOverOutlineColor,d=n.selectedColor,u=n.balloonText,m=n.outlineColor,p=n.outlineAlpha,g=n.outlineThickness,v=n.selectedScale,f=n.rollOverScale,b=n.selectable,N=n.labelPosition,C=n.labelColor,M=n.labelFontSize,L=n.bringForwardOnHover,T=n.labelRollOverColor,O=n.rollOverBrightness,w=n.selectedLabelColor;t.index=e,t.chart=i,t.baseSettings=i.imagesSettings;var z=s.set();t.displayObject=z;var A,S=t.color;return null==S&&(S=r),r=t.alpha,isNaN(r)&&(r=l),null==t.bringForwardOnHover&&(t.bringForwardOnHover=L),l=t.outlineAlpha,isNaN(l)&&(l=p),null==(p=t.rollOverColor)&&(p=h),null==(h=t.selectedColor)&&(h=d),void 0===(d=t.balloonText)&&(d=u),null==(u=t.outlineColor)&&(u=m),t.outlineColorReal=u,m=t.outlineThickness,isNaN(m)&&(m=g),(g=t.labelPosition)||(g=N),null==(N=t.labelColor)&&(N=C),null==(C=t.labelRollOverColor)&&(C=T),null==(T=t.selectedLabelColor)&&(T=w),w=t.labelFontSize,isNaN(w)&&(w=M),M=t.selectedScale,isNaN(M)&&(M=v),v=t.rollOverScale,isNaN(v)&&(v=f),null==(f=t.rollOverBrightness)&&(f=O),null==t.selectable&&(t.selectable=b),t.colorReal=S,isNaN(n.selectedBrightness)||(h=j.adjustLuminosity(t.colorReal,n.selectedBrightness/100)),t.alphaReal=r,t.rollOverColorReal=p,t.balloonTextReal=d,t.selectedColorReal=h,t.labelColorReal=N,t.labelRollOverColorReal=C,t.selectedLabelColorReal=T,t.labelFontSizeReal=w,t.labelPositionReal=g,t.selectedScaleReal=M,t.rollOverScaleReal=v,t.rollOverOutlineColorReal=c,t.rollOverBrightnessReal=f,t.accessibleLabel||(t.accessibleLabel=n.accessibleLabel),j.processDescriptionWindow(n,t),t.centeredReal=null==t.centered?n.centered:t.centered,O=t.type,f=t.imageURL,v=t.svgPath,M=t.width,w=t.height,c=t.scale,isNaN(t.percentWidth)||(M=t.percentWidth/100*i.realWidth),isNaN(t.percentHeight)||(w=t.percentHeight/100*i.realHeight),f||O||v||(O="circle",M=1,l=r=0),p=b=0,n=t.selectedColorReal,O?(isNaN(M)&&(M=10),isNaN(w)&&(w=10),"kilometers"==t.widthAndHeightUnits&&(M=i.kilometersToPixels(t.width),w=i.kilometersToPixels(t.height)),"miles"==t.widthAndHeightUnits&&(M=i.milesToPixels(t.width),w=i.milesToPixels(t.height)),"circle"!=O&&"bubble"!=O||(w=M),A=this.createPredefinedImage(S,u,m,O,M,w),p=b=0,t.centeredReal?(isNaN(t.right)||(b=M*c),isNaN(t.bottom)||(p=w*c)):(b=M*c/2,p=w*c/2),A.translate(b,p,c,!0)):f?(isNaN(M)&&(M=10),isNaN(w)&&(w=10),(A=s.image(f,0,0,M,w)).node.setAttribute("preserveAspectRatio","none"),A.setAttr("opacity",r),t.centeredReal&&(b=isNaN(t.right)?-M/2:M/2,p=isNaN(t.bottom)?-w/2:w/2,A.translate(b,p,NaN,!0))):v&&(O=(A=s.path(v)).getBBox(),t.centeredReal?(b=-O.x*c-O.width*c/2,isNaN(t.right)||(b=-b),p=-O.y*c-O.height*c/2,isNaN(t.bottom)||(p=-p)):b=p=0,A.translate(b,p,c,!0),A.x=b,A.y=p),A&&(z.push(A),(t.image=A).setAttr("stroke-opacity",l),A.setAttr("stroke-width",m),A.setAttr("stroke",u),A.setAttr("fill-opacity",r),A.setAttr("fill",S),j.setCN(i,A,"map-image"),null!=t.id&&j.setCN(i,A,"map-image-"+t.id)),S=t.labelColorReal,!t.showAsSelected&&i.selectedObject!=t||null==n||(A.setAttr("fill",n),S=t.selectedLabelColorReal),A=null,void 0!==t.label&&(A=j.text(s,t.label,S,i.fontFamily,t.labelFontSizeReal,t.labelAlign),j.setCN(i,A,"map-image-label"),void 0!==t.id&&j.setCN(i,A,"map-image-label-"+t.id),S=t.labelBackgroundAlpha,(r=t.labelBackgroundColor)&&0<S&&(l=A.getBBox(),s=j.rect(s,l.width+16,l.height+10,r,S),j.setCN(i,s,"map-image-label-background"),null!=t.id&&j.setCN(i,s,"map-image-label-background-"+t.id),z.push(s),t.labelBG=s),t.imageLabel=A,z.push(A),j.setCN(i,z,"map-image-container"),null!=t.id&&j.setCN(i,z,"map-image-container-"+t.id)),s=!(!isNaN(t.latitude)&&!isNaN(t.longitude)),t.lineId&&(A=this.chart.getObjectById(t.lineId))&&0<A.longitudes.length&&(s=!1),s?a.push(z):o.push(z),z&&(z.rotation=t.rotation,isNaN(t.rotation)||z.rotate(t.rotation)),this.updateSizeAndPosition(t),t.mouseEnabled&&i.addObjectEventListeners(z,t),t.hidden&&z.hide(),t.animateAlongLine&&setTimeout(function(){t.animateAlong.call(t)},100),t},updateSizeAndPosition:function(t){var e,i=this.chart,s=t.displayObject,o=i.getX(t.left),a=i.getY(t.top),n=t.image.getBBox();isNaN(t.right)||(o=i.getX(t.right,!0)-n.width*t.scale),isNaN(t.bottom)||(a=i.getY(t.bottom,!0)-n.height*t.scale);var r=t.longitude,l=t.latitude,h=t.positionOnLine;n=this.objectsToResize;this.allSvgObjects.push(s),this.allObjects.push(t),t.arrays.push({arr:this.allSvgObjects,el:s}),t.arrays.push({arr:this.allObjects,el:t});var c,d,u=t.imageLabel,m=this.chart.zoomLevel();t.lineId&&(t.line=this.chart.getObjectById(t.lineId)),i.makeObjectAccessible(t);var p=t.tabIndex;void 0===p&&(p=i.imagesSettings.tabIndex),void 0!==p&&s.setAttr("tabindex",p),t.line&&t.line.getCoordinates&&(t.line.chart=i,p=t.line.getCoordinates(h,t.lineSegment))&&(r=i.coordinateToLongitude(p.x),l=i.coordinateToLatitude(p.y),c=p.x,d=p.y,t.animateAngle&&(e=j.radiansToDegrees(p.angle))),isNaN(e)||s.rotate(e+t.extraAngle),isNaN(o)||isNaN(a)?isNaN(l)||isNaN(r)||(o=(a=i.coordinatesToXY(r,l)).x,a=a.y,isNaN(c)||(o=c),isNaN(d)||(a=d),t.fixedSize?(c=1,!t.showAsSelected&&i.selectedObject!=t||(c=t.selectedScaleReal),i=t.positionScale,isNaN(i)?i=0:(--i,i*=1-2*Math.abs(h-.5)),h={image:s,scale:c+i},n.push(h),t.arrays.push({arr:n,el:h}),s.translate(o,a,c/m+i,!0)):(s.translate(o,a,NaN,!0),u&&(this.labelsToReposition.push(t),t.arrays.push({arr:this.labelsToReposition,el:t})))):s.translate(o,a,NaN,!0),this.positionLabel(u,t,t.labelPositionReal)},positionLabel:function(t,e,i){if(t){var s=0,o=0,a=0,n=0;(r=e.image)&&(n=r.getBBox(),o=r.y,s=r.x,a=n.width,n=n.height,e.svgPath&&(a*=e.scale,n*=e.scale));var r,l=(r=t.getBBox()).width,h=r.height;"right"==i&&(s+=a+l/2+5,o+=n/2-2),"left"==i&&(s+=-l/2-5,o+=n/2-2),"top"==i&&(o-=h/2+3,s+=a/2),"bottom"==i&&(o+=n+h/2,s+=a/2),"middle"==i&&(s+=a/2,o+=n/2),t.translate(s+e.labelShiftX,o+e.labelShiftY,NaN,!0),e.labelBG&&e.labelBG.translate(s-r.width/2+e.labelShiftX-9,o+e.labelShiftY-r.height/2-3,NaN,!0)}},createPredefinedImage:function(t,e,i,s,o,a){var n,r=this.chart.container;switch(s){case"circle":n=j.circle(r,o/2,t,1,i,e,1);break;case"rectangle":n=j.polygon(r,[-o/2,o/2,o/2,-o/2],[a/2,a/2,-a/2,-a/2],t,1,i,e,1,0,!0);break;case"bubble":n=j.circle(r,o/2,t,1,i,e,1,!0);break;case"hexagon":o/=Math.sqrt(3),n=j.polygon(r,[.866*o,0*o,-.866*o,-.866*o,0*o,.866*o],[.5*o,+o,.5*o,-.5*o,-1*o,-.5*o],t,1,i,e,1)}return n},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.allLabels=[],this.labelsToReposition=[]}})}(),function(){var e=window.AmCharts;e.ImagesSettings=e.Class({construct:function(t){this.cname="ImagesSettings",this.balloonText="[[title]]",this.alpha=1,this.borderAlpha=0,this.borderThickness=1,this.labelPosition="right",this.labelColor="#000000",this.labelFontSize=11,this.color="#000000",this.labelRollOverColor="#00CC00",this.centered=!0,this.rollOverScale=this.selectedScale=1,this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,this.outlineColor="transparent",this.adjustAnimationSpeed=!1,this.baseAnimationDistance=500,this.pauseDuration=0,this.easingFunction=e.easeInOutQuad,this.animationDuration=3,this.positionScale=1,this.accessibleLabel="[[title]] [[description]]",e.applyTheme(this,t,this.cname)}})}(),function(){var X=window.AmCharts;X.LinesProcessor=X.Class({construct:function(t){this.chart=t,this.reset()},process:function(t){var e,i=t.lines;for(e=0;e<i.length;e++){var s=i[e];this.createLine(s,e),s.parentArray=i}this.counter=e,t.parentObject&&t.remainVisible&&this.process(t.parentObject)},createLine:function(t,e){t=X.processObject(t,X.MapLine),isNaN(e)&&(this.counter++,e=this.counter),t.index=e,t.remove&&t.remove();var i=this.chart,s=i.linesSettings,o=this.objectsToResize,a=i.mapLinesContainer,n=i.stageLinesContainer,r=s.thickness,l=s.dashLength,h=s.arrow,c=s.arrowSize,d=s.arrowColor,u=s.arrowAlpha,m=s.color,p=s.alpha,g=s.rollOverColor,v=s.selectedColor,f=s.rollOverAlpha,b=s.balloonText,N=s.bringForwardOnHover,C=s.arc,M=s.rollOverBrightness,L=i.container;t.chart=i,t.baseSettings=s;var T=L.set();t.displayObject=T;var O=t.tabIndex;if(void 0===O&&(O=s.tabIndex),void 0!==O&&T.setAttr("tabindex",O),this.allSvgObjects.push(T),t.arrays.push({arr:this.allSvgObjects,el:T}),this.allObjects.push(t),t.arrays.push({arr:this.allObjects,el:t}),t.mouseEnabled&&i.addObjectEventListeners(T,t),t.remainVisible||i.selectedObject==t.parentObject){if(O=t.thickness,isNaN(O)&&(O=r),r=t.dashLength,isNaN(r)&&(r=l),null==(l=t.color)&&(l=m),m=t.alpha,isNaN(m)&&(m=p),p=t.rollOverAlpha,isNaN(p)&&(p=f),isNaN(p)&&(p=m),null==(f=t.rollOverColor)&&(f=g),null==(g=t.selectedColor)&&(g=v),void 0===(v=t.balloonText)&&(v=b),b=t.arc,isNaN(b)&&(b=C),(C=t.arrow)&&("none"!=C||"none"==h)||(C=h),null==(h=t.arrowColor)&&(h=d),null==h&&(h=l),d=t.arrowAlpha,isNaN(d)&&(d=u),isNaN(d)&&(d=m),u=t.arrowSize,isNaN(u)&&(u=c),null==(c=t.rollOverBrightness)&&(c=M),t.colorReal=l,t.arrowColor=h,isNaN(s.selectedBrightness)||(g=X.adjustLuminosity(t.colorReal,s.selectedBrightness/100)),t.alphaReal=m,t.rollOverColorReal=f,t.rollOverAlphaReal=p,t.balloonTextReal=v,t.selectedColorReal=g,t.thicknessReal=O,t.rollOverBrightnessReal=c,t.accessibleLabel||(t.accessibleLabel=s.accessibleLabel),void 0===t.shiftArrow&&(t.shiftArrow=s.shiftArrow),null==t.bringForwardOnHover&&(t.bringForwardOnHover=N),X.processDescriptionWindow(s,t),N=this.processCoordinates(t.x,i.realWidth),M=this.processCoordinates(t.y,i.realHeight),c=t.longitudes,s=t.latitudes,0<(p=c.length))for(N=[],M=[],f=0;f<p;f++)v=i.coordinatesToXY(c[f],s[f]),N.push(v.x),M.push(v.y);if(0<N.length){var w,z,A,S,j,y;if(t.segments=N.length,X.dx=0,X.dy=0,10<=(p=10*(1-Math.abs(b)))&&(p=NaN),p<1&&(p=1),t.arcRadius=[],t.distances=[],c=i.mapContainer.scale,isNaN(p)){for(p=0;p<N.length-1;p++)z=Math.sqrt(Math.pow(N[p+1]-N[p],2)+Math.pow(M[p+1]-M[p],2)),t.distances[p]=z;p=X.line(L,N,M,l,1,O/c,r,!1,!1,!0),l=X.line(L,N,M,l,.001,5/c,r,!1,!1,!0),p.setAttr("stroke-linecap","round")}else{f=1,b<0&&(f=0),v={fill:"none",stroke:l,"stroke-opacity":1,"stroke-width":O/c,"fill-opacity":0,"stroke-linecap":"round"},void 0!==r&&0<r&&(v["stroke-dasharray"]=r);r="";for(var x=0;x<N.length-1;x++){var k=N[x],I=N[x+1],R=M[x],B=M[x+1];if(A=(z=Math.sqrt(Math.pow(I-k,2)+Math.pow(B-R,2)))/2*p,w=270+180*Math.acos(z/2/A)/Math.PI,isNaN(w)&&(w=270),k<I){var P=k;k=I,I=P,P=R,R=B,B=P;w=-w}0<b&&(w=-w),r+="M"+k+","+R+"A"+A+","+A+",0,0,"+f+","+I+","+B,t.arcRadius[x]=A,t.distances[x]=z}p=L.path(r).attr(v),l=L.path(r).attr({"fill-opacity":0,stroke:l,"stroke-width":5/c,"stroke-opacity":.001,fill:"none"})}if(X.setCN(i,p,"map-line"),null!=t.id&&X.setCN(i,p,"map-line-"+t.id),X.dx=.5,X.dy=.5,T.push(p),T.push(l),p.setAttr("opacity",m),"none"!=C)"end"!=C&&"both"!=C||(f=N[N.length-1],x=M[M.length-1],S=1<N.length?(v=N[N.length-2],M[M.length-2]):(v=f,x),S=180*Math.atan((x-S)/(f-v))/Math.PI,isNaN(w)||(S+=w),y=x,S=(j=f)-v<0?S-90:S+90),m=[-u/2-.5,-.5,u/2-.5],r=[u,-.5,u],t.shiftArrow&&"middle"!=C&&(r=[0,1.2*-u,0]),"both"==C&&(u=X.polygon(L,m,r,h,d,1,h,d,void 0,!0),T.push(u),u.translate(j,y,1/c,!0),isNaN(S)||u.rotate(S),X.setCN(i,p,"map-line-arrow"),null!=t.id&&X.setCN(i,p,"map-line-arrow-"+t.id),t.fixedSize&&o.push(u)),"start"!=C&&"both"!=C||(u=N[0],y=M[0],j=1<N.length?(f=N[1],M[1]):(f=u,y),S=180*Math.atan((y-j)/(u-f))/Math.PI,isNaN(w)||(S-=w),S=(j=u)-f<0?S-90:S+90),"middle"==C&&(f=N[N.length-1],x=M[M.length-1],S=1<N.length?(v=N[N.length-2],M[M.length-2]):(v=f,x),j=v+(f-v)/2,y=S+(x-S)/2,S=180*Math.atan((x-S)/(f-v))/Math.PI,isNaN(w)||(w=z/2,A-=Math.sqrt(A*A-w*w),b<0&&(A=-A),-1==(w=Math.sin(S/180*Math.PI))&&(w=1),j-=w*A,y+=Math.cos(S/180*Math.PI)*A),S=f-v<0?S-90:S+90),u=X.polygon(L,m,r,h,d,1,h,d,void 0,!0),X.setCN(i,p,"map-line-arrow"),null!=t.id&&X.setCN(i,p,"map-line-arrow-"+t.id),T.push(u),u.translate(j,y,1/c,!0),isNaN(S)||u.rotate(S),t.fixedSize&&(o.push(u),t.arrays.push({arr:o,el:u})),t.arrowSvg=u;t.fixedSize&&p&&(o={line:p,thickness:O},this.linesToResize.push(o),t.arrays.push({arr:this.linesToResize,el:o}),o={line:l,thickness:5},this.linesToResize.push(o),t.arrays.push({arr:this.linesToResize,el:o})),t.lineSvg=p,t.showAsSelected&&!isNaN(g)&&p.setAttr("stroke",g),0<s.length?a.push(T):n.push(T),t.hidden&&T.hide(),i.makeObjectAccessible(t)}}},processCoordinates:function(t,e){var i,s=[];for(i=0;i<t.length;i++){var o=t[i],a=Number(o);isNaN(a)&&(a=Number(o.replace("%",""))*e/100),isNaN(a)||s.push(a)}return s},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.linesToResize=[]}})}(),function(){var e=window.AmCharts;e.LinesSettings=e.Class({construct:function(t){this.cname="LinesSettings",this.balloonText="[[title]]",this.thickness=1,this.dashLength=0,this.arrowSize=10,this.arrowAlpha=1,this.arrow="none",this.color="#990000",this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.MapObject=e.Class({construct:function(t){this.fixedSize=this.mouseEnabled=!0,this.images=[],this.lines=[],this.areas=[],this.remainVisible=!0,this.passZoomValuesToTarget=!1,this.objectType=this.cname,e.applyTheme(this,t,"MapObject"),this.arrays=[]},deleteObject:function(){if(this.remove(),this.parentArray&&e.removeFromArray(this.parentArray,this),this.arrays)for(var t=0;t<this.arrays.length;t++)e.removeFromArray(this.arrays[t].arr,this.arrays[t].el);this.arrays=[]}})}(),function(){var e=window.AmCharts;e.MapArea=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapArea",e.MapArea.base.construct.call(this,t),e.applyTheme(this,t,this.cname)},validate:function(){this.chart.areasProcessor.createArea(this)}})}(),function(){var u=window.AmCharts;u.MapLine=u.Class({inherits:u.MapObject,construct:function(t){this.cname="MapLine",this.longitudes=[],this.latitudes=[],this.x=[],this.y=[],this.segments=0,this.arrow="none",u.MapLine.base.construct.call(this,t),u.applyTheme(this,t,this.cname)},validate:function(){this.chart.linesProcessor.createLine(this)},remove:function(){var t=this.displayObject;t&&t.remove()},getCoordinates:function(t,e){if(isNaN(e)&&(e=0),!isNaN(t)){var i,s,o,a,n,r;if(1<this.longitudes.length){s=this.chart.coordinatesToXY(this.longitudes[e],this.latitudes[e]);var l=this.chart.coordinatesToXY(this.longitudes[e+1],this.latitudes[e+1]);i=s.x,o=l.x,s=s.y,a=l.y}else 1<this.x.length&&(i=this.x[e],o=this.x[e+1],s=this.y[e],a=this.y[e+1]);l=Math.sqrt(Math.pow(o-i,2)+Math.pow(a-s,2)),i<o&&!isNaN(this.arc)&&0!==this.arc&&(t=1-t),n=i+(o-i)*t,r=s+(a-s)*t;var h=Math.atan2(a-s,o-i);if(!isNaN(this.arc)&&0!==this.arc&&this.arcRadius){var c=0;i<o&&(c=i,i=o,o=c,c=s,s=a,a=c,c=Math.PI),r=this.arcRadius[e],this.arc<0&&(l=-l),n=i+(o-i)/2+Math.sqrt(r*r-l/2*(l/2))*(s-a)/l;var d=s+(a-s)/2+Math.sqrt(r*r-l/2*(l/2))*(o-i)/l;i=180*Math.atan2(s-d,i-n)/Math.PI,180<(o=180*Math.atan2(a-d,o-n)/Math.PI)-i&&(o-=360),h=u.degreesToRadians(i+(o-i)*t),n+=r*Math.cos(h),r=d+r*Math.sin(h),h=0<this.arc?h+Math.PI/2:h-Math.PI/2,h+=c}return this.distance=l,{x:n,y:r,angle:h}}},fixToStage:function(){if(0<this.latitudes.length){this.y=[];for(var t=0;t<this.latitudes.length;t++){var e=this.chart.coordinatesToStageXY(this.longitudes[t],this.latitudes[t]);this.y.push(e.y),this.x.push(e.x)}this.latitudes=[],this.longitudes=[]}this.validate()},fixToMap:function(){if(0<this.y.length){this.latitudes=[];for(var t=0;t<this.y.length;t++){var e=this.chart.stageXYToCoordinates(this.x[t],this.y[t]);this.latitudes.push(e.latitude),this.longitudes.push(e.longitude)}this.y=[],this.x=[]}this.validate()}})}(),function(){var o=window.AmCharts;o.MapImage=o.Class({inherits:o.MapObject,construct:function(t){this.cname="MapImage",this.scale=1,this.widthAndHeightUnits="pixels",this.labelShiftY=this.labelShiftX=0,this.positionOnLine=.5,this.direction=1,this.lineSegment=this.extraAngle=0,this.animateAngle=!0,this.createEvents("animationStart","animationEnd"),o.MapImage.base.construct.call(this,t),o.applyTheme(this,t,this.cname)},validate:function(){this.chart.imagesProcessor.createImage(this)},updatePosition:function(){this.chart.imagesProcessor.updateSizeAndPosition(this)},remove:function(){var t=this.displayObject;t&&t.remove(),(t=this.imageLabel)&&t.remove()},animateTo:function(t,e,i,s){isNaN(i)||(this.animationDuration=i),s&&(this.easingFunction=s),this.finalX=t,this.finalY=e,isNaN(this.longitude)||(this.initialX=this.longitude),isNaN(this.left)||(this.initialX=this.left),isNaN(this.right)||(this.initialX=this.right),isNaN(this.latitude)||(this.initialY=this.latitude),isNaN(this.top)||(this.initialY=this.top),isNaN(this.bottom)||(this.initialY=this.bottom),this.animatingAlong=!1,this.animate()},animateAlong:function(t,e,i){1==this.positionOnLine&&this.flipDirection&&(this.direction=-1,this.extraAngle=180),isNaN(e)||(this.animationDuration=e),i&&(this.easingFunction=i),t&&(this.line=this.chart.getObjectById(t)),this.animateAlongLine=this.line,this.animatingAlong=!0,this.animate()},animate:function(){var t=this,e=t.chart.imagesSettings,i=t.animationDuration;isNaN(i)&&(i=e.animationDuration),t.totalFrames=i*o.updateRate,i=1,t.line&&e.adjustAnimationSpeed&&(t.line.distances&&(i=t.line.distances[t.lineSegment]*t.chart.zoomLevel(),i=Math.abs(i/e.baseAnimationDistance)),t.totalFrames=Math.round(i*t.totalFrames)),t.frame=0,t.clearTO(),t.timeOut=setTimeout(function(){t.update.call(t)},1e3/o.updateRate),t.fire({type:"animationStart",chart:t.chart,image:this,lineSegment:t.lineSegment,direction:t.direction})},clearTO:function(){this.timeOut&&clearTimeout(this.timeOut)},update:function(){var t=this;t.updatePosition();var e=Math.round(1e3/o.updateRate),i=t.chart.imagesSettings,s=t.easingFunction;s=s||i.easingFunction,t.frame++,i=t.totalFrames,t.frame<=i?(s=s(0,t.frame,0,1,i),-1==t.direction&&(s=1-s),t.animatingAlong?t.positionOnLine=s:(i=t.initialX+(t.finalX-t.initialX)*s,isNaN(t.longitude)||(t.longitude=i),isNaN(t.left)||(t.left=i),isNaN(t.right)||(t.right=i),s=t.initialY+(t.finalY-t.initialY)*s,isNaN(t.latitude)||(t.latitude=s),isNaN(t.top)||(t.top=s),isNaN(t.bottom)||(t.bottom=s)),t.clearTO(),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.update.call(t)}):t.timeOut=setTimeout(function(){t.update.call(t)},e)):(t.fire({type:"animationEnd",chart:t.chart,image:this,lineSegment:t.lineSegment,direction:t.direction}),t.animatingAlong&&(1==t.direction?t.lineSegment<t.line.segments-2?(t.lineSegment++,t.delayAnimateAlong(),t.positionOnLine=0):t.flipDirection?(t.direction=-1,t.extraAngle=180,t.delayAnimateAlong()):t.loop&&(t.delayAnimateAlong(),t.lineSegment=0):0<t.lineSegment?(t.lineSegment--,t.delayAnimateAlong(),t.positionOnLine=0):t.loop&&t.flipDirection?(t.direction=1,t.extraAngle=0,t.delayAnimateAlong()):t.loop&&t.delayAnimateAlong()))},delayAnimateAlong:function(){var t=this;t.clearTO(),t.animateAlongLine&&(t.timeOut=setTimeout(function(){t.animateAlong.call(t)},1e3*t.chart.imagesSettings.pauseDuration))},fixToStage:function(){if(!isNaN(this.longitude)){var t=this.chart.coordinatesToStageXY(this.longitude,this.latitude);this.left=t.x,this.top=t.y,this.latitude=this.longitude=void 0}this.validate()},fixToMap:function(){if(!isNaN(this.left)){var t=this.chart.stageXYToCoordinates(this.left,this.top);this.longitude=t.longitude,this.latitude=t.latitude,this.top=this.left=void 0}this.validate()}})}(),function(){var M=window.AmCharts;M.degreesToRadians=function(t){return t/180*Math.PI},M.radiansToDegrees=function(t){return t/Math.PI*180},M.getColorFade=function(t,e,i){e=(o=M.hex2RGB(e))[0];var s=o[1],o=o[2];t=(n=M.hex2RGB(t))[0];var a=n[1],n=n[2];return"rgb("+(t+=Math.round((e-t)*i))+","+(a+=Math.round((s-a)*i))+","+(n+=Math.round((o-n)*i))+")"},M.hex2RGB=function(t){return[parseInt(t.substring(1,3),16),parseInt(t.substring(3,5),16),parseInt(t.substring(5,7),16)]},M.processDescriptionWindow=function(t,e){isNaN(e.descriptionWindowX)&&(e.descriptionWindowX=t.descriptionWindowX),isNaN(e.descriptionWindowY)&&(e.descriptionWindowY=t.descriptionWindowY),isNaN(e.descriptionWindowLeft)&&(e.descriptionWindowLeft=t.descriptionWindowLeft),isNaN(e.descriptionWindowRight)&&(e.descriptionWindowRight=t.descriptionWindowRight),isNaN(e.descriptionWindowTop)&&(e.descriptionWindowTop=t.descriptionWindowTop),isNaN(e.descriptionWindowBottom)&&(e.descriptionWindowBottom=t.descriptionWindowBottom),isNaN(e.descriptionWindowWidth)&&(e.descriptionWindowWidth=t.descriptionWindowWidth),isNaN(e.descriptionWindowHeight)&&(e.descriptionWindowHeight=t.descriptionWindowHeight)},M.normalizePath=function(t){for(var e,i,s="",o=M.parsePath(t.getAttribute("d")),a=1/0,n=-1/0,r=1/0,l=-1/0,h=0;h<o.length;h++){var c=(u=o[h]).letter,d=u.x,u=u.y;"h"==c&&(c="L",d+=e,u=i),"H"==c&&(c="L",u=i),"v"==c&&(c="L",d=e,u+=i),"V"==c&&(c="L",d=e),"m"!==c&&"l"!==c||(c=c.toUpperCase(),d+=e,u+=i),n<(e=d=M.roundTo(d,3))&&(n=d),d<a&&(a=d),l<(i=u=M.roundTo(u,3))&&(l=u),u<r&&(r=u),s="z"==c.toLowerCase()?s+"Z ":s+(c+" ")+d+" "+u+" "}return t.setAttribute("d",s),{minX:a,maxX:n,minY:r,maxY:l}},M.mercatorLatitudeToRadians=function(t){return Math.log(Math.tan(Math.PI/4+M.degreesToRadians(t)/2))},M.parsePath=function(t){t=t.match(/([MmLlHhVvZz]{1}[0-9.,\-\s]*)/g);for(var e=[],i=0;i<t.length;i++){var s=t[i].match(/([MmLlHhVvZz]{1})|([0-9.\-]+)/g),o={letter:s[0]};switch(s[0]){case"Z":case"Z":case"z":break;case"V":case"v":o.y=Number(s[1]);break;case"H":case"h":o.x=Number(s[1]);break;default:o.x=Number(s[1]),o.y=Number(s[2])}e.push(o)}return e},M.acos=function(t){return 1<t?0:t<-1?Math.PI:Math.acos(t)},M.asin=function(t){return 1<t?Math.PI/2:t<-1?-Math.PI/2:Math.asin(t)},M.sinci=function(t){return t?t/Math.sin(t):1},M.asqrt=function(t){return 0<t?Math.sqrt(t):0},M.winkel3=function(t,e){var i=M.aitoff(t,e);return[(i[0]+t/Math.PI*2)/2,(i[1]+e)/2]},M.winkel3.invert=function(t,e){var i=t,s=e,o=25,a=Math.PI/2;do{var n,r,l,h=Math.cos(s),c=Math.sin(s),d=Math.sin(2*s),u=c*c,m=h*h,p=Math.sin(i),g=Math.cos(i/2),v=Math.sin(i/2),f=v*v,b=(l=1-m*g*g)?M.acos(h*g)*Math.sqrt(n=1/l):n=0,N=.5*(b*c+s)-e,C=.5*n*(m*f+b*h*g*u)+.5/a;i=i-(r=(N*(r=n*(p*d/4-b*c*v))-(l=.5*(2*b*h*v+i/a)-t)*(u=.5*n*(u*g+b*f*h)+.5))/(h=r*(c=.125*n*(d*v-b*c*m*p))-u*C)),s=s-(l=(l*c-N*C)/h)}while((1e-6<Math.abs(r)||1e-6<Math.abs(l))&&0<--o);return[i,s]},M.aitoff=function(t,e){var i=Math.cos(e),s=M.sinci(M.acos(i*Math.cos(t/=2)));return[2*i*Math.sin(t)*s,Math.sin(e)*s]},M.orthographic=function(t,e){return[Math.cos(e)*Math.sin(t),Math.sin(e)]},M.equirectangular=function(t,e){return[t,e]},M.equirectangular.invert=function(t,e){return[t,e]},M.eckert5=function(t,e){var i=Math.PI;return[t*(1+Math.cos(e))/Math.sqrt(2+i),2*e/Math.sqrt(2+i)]},M.eckert5.invert=function(t,e){var i=Math.sqrt(2+Math.PI),s=e*i/2;return[i*t/(1+Math.cos(s)),s]},M.eckert6=function(t,e){for(var i=Math.PI,s=(1+i/2)*Math.sin(e),o=0,a=1/0;o<10&&1e-5<Math.abs(a);o++)e-=a=(e+Math.sin(e)-s)/(1+Math.cos(e));return s=Math.sqrt(2+i),[t*(1+Math.cos(e))/s,2*e/s]},M.eckert6.invert=function(t,e){var i=1+Math.PI/2,s=Math.sqrt(i/2);return[2*t*s/(1+Math.cos(e*=s)),M.asin((e+Math.sin(e))/i)]},M.mercator=function(t,e){return e>=Math.PI/2-.02&&(e=Math.PI/2-.02),e<=-Math.PI/2+.02&&(e=-Math.PI/2+.02),[t,Math.log(Math.tan(Math.PI/4+e/2))]},M.mercator.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Math.PI/2]},M.miller=function(t,e){return[t,1.25*Math.log(Math.tan(Math.PI/4+.4*e))]},M.miller.invert=function(t,e){return[t,2.5*Math.atan(Math.exp(.8*e))-.625*Math.PI]},M.eckert3=function(t,e){var i=Math.PI,s=Math.sqrt(i*(4+i));return[2/s*t*(1+Math.sqrt(1-4*e*e/(i*i))),4/s*e]},M.eckert3.invert=function(t,e){var i=Math.PI,s=Math.sqrt(i*(4+i))/2;return[t*s/(1+M.asqrt(1-e*e*(4+i)/(4*i))),e*s/2]}}(),function(){var t=window.AmCharts;t.MapData=t.Class({inherits:t.MapObject,construct:function(){this.cname="MapData",t.MapData.base.construct.call(this),this.projection="mercator",this.topLatitude=90,this.bottomLatitude=-90,this.leftLongitude=-180,this.rightLongitude=180,this.zoomLevel=1,this.getAreasFromMap=!1}})}(),function(){var t=window.AmCharts;t.DescriptionWindow=t.Class({construct:function(){},show:function(t,e,i,s){var o=this;o.chart=t;var a=document.createElement("div");a.style.position="absolute";var n=t.classNamePrefix+"-description-";a.className="ammapDescriptionWindow "+n+"div",o.div=a,e.appendChild(a);var r=".gif";t.svgIcons&&(r=".svg");var l=document.createElement("img");l.className="ammapDescriptionWindowCloseButton "+n+"close-img",l.src=t.pathToImages+"xIcon"+r,l.style.cssFloat="right",l.style.cursor="pointer",l.onclick=function(){o.close()},l.onmouseover=function(){l.src=t.pathToImages+"xIconH"+r},l.onmouseout=function(){l.src=t.pathToImages+"xIcon"+r},a.appendChild(l),(e=document.createElement("div")).className="ammapDescriptionTitle "+n+"title-div",e.onmousedown=function(){o.div.style.zIndex=1e3},a.appendChild(e),e.innerHTML=s,s=e.offsetHeight,(e=document.createElement("div")).className="ammapDescriptionText "+n+"text-div",e.style.maxHeight=o.maxHeight-s-20+"px",a.appendChild(e),e.innerHTML=i},close:function(){try{this.div.parentNode.removeChild(this.div),this.chart.fireClosed()}catch(t){}}})}(),function(){var d=window.AmCharts;d.ValueLegend=d.Class({construct:function(t){this.cname="ValueLegend",this.enabled=!0,this.showAsGradient=!1,this.minValue=0,this.height=12,this.width=200,this.bottom=this.left=10,this.borderColor="#FFFFFF",this.borderAlpha=this.borderThickness=1,this.color="#000000",this.fontSize=11,d.applyTheme(this,t,this.cname)},init:function(t,e){if(this.enabled){var i=t.areasSettings.color,s=t.areasSettings.colorSolid,o=t.colorSteps;d.remove(this.set);var a=e.set();this.set=a,d.setCN(t,a,"value-legend");var n=0,r=this.minValue,l=this.fontSize,h=t.fontFamily,c=this.color;if(null==r&&(r=t.minValueReal),void 0!==r&&((n=d.text(e,r,c,h,l,"left")).translate(0,l/2-1),d.setCN(t,n,"value-legend-min-label"),a.push(n),n=n.getBBox().height),void 0===(r=this.maxValue)&&(r=t.maxValueReal),void 0!==r&&((n=d.text(e,r,c,h,l,"right")).translate(this.width,l/2-1),d.setCN(t,n,"value-legend-max-label"),a.push(n),n=n.getBBox().height),this.showAsGradient)i=d.rect(e,this.width,this.height,[i,s],1,this.borderThickness,this.borderColor,1,0,0),d.setCN(t,i,"value-legend-gradient"),i.translate(0,n),a.push(i);else for(l=this.width/o,h=0;h<o;h++)c=d.getColorFade(i,s,h/(o-1)),c=d.rect(e,l,this.height,c,1,this.borderThickness,this.borderColor,1),d.setCN(t,c,"value-legend-color"),d.setCN(t,c,"value-legend-color-"+h),c.translate(l*h,n),a.push(c);s=i=0,o=a.getBBox(),n=t.getY(this.bottom,!0),l=t.getY(this.top),h=t.getX(this.right,!0),c=t.getX(this.left),isNaN(l)||(i=l),isNaN(n)||(i=n-o.height),isNaN(c)||(s=c),isNaN(h)||(s=h-o.width),a.translate(s,i)}else d.remove(this.set)}})}(),function(){var t=window.AmCharts;t.ObjectList=t.Class({construct:function(t){this.divId=t},init:function(t){this.chart=t;var e=this.divId;this.container&&(e=this.container),this.div="object"!=typeof e?document.getElementById(e):e,(e=document.createElement("div")).className="ammapObjectList "+t.classNamePrefix+"-object-list-div",this.div.appendChild(e),this.addObjects(t.dataProvider,e)},addObjects:function(t,e){var i,s=this.chart,o=document.createElement("ul");if(o.className=s.classNamePrefix+"-object-list-ul",t.areas)for(i=0;i<t.areas.length;i++){var a=t.areas[i];void 0===a.showInList&&(a.showInList=s.showAreasInList),this.addObject(a,o)}if(t.images)for(i=0;i<t.images.length;i++)void 0===(a=t.images[i]).showInList&&(a.showInList=s.showImagesInList),this.addObject(a,o);if(t.lines)for(i=0;i<t.lines.length;i++)void 0===(a=t.lines[i]).showInList&&(a.showInList=s.showLinesInList),this.addObject(a,o);0<o.childNodes.length&&e.appendChild(o)},addObject:function(t,e){var i=this;if(t.showInList&&void 0!==t.title){var s=i.chart,o=document.createElement("li");o.className=s.classNamePrefix+"-object-list-li",a=(a=t.titleTr)||t.title;var a=document.createTextNode(a),n=document.createElement("a");n.className=s.classNamePrefix+"-object-list-a",n.appendChild(a),o.appendChild(n),e.appendChild(o),this.addObjects(t,o),n.onmouseover=function(){i.chart.rollOverMapObject(t,!1)},n.onmouseout=function(){i.chart.rollOutMapObject(t)},n.onclick=function(){i.chart.clickMapObject(t)}}}})}();