if(!AmCharts)var AmCharts={};AmCharts.inheriting={},AmCharts.Class=function(t){function e(){arguments[0]!==AmCharts.inheriting&&(this.events={},this.construct.apply(this,arguments))}for(var i in t.inherits?(e.prototype=new t.inherits(AmCharts.inheriting),e.base=t.inherits.prototype,delete t.inherits):(e.prototype.createEvents=function(){for(var t=0,e=arguments.length;t<e;t++)this.events[arguments[t]]=[]},e.prototype.listenTo=function(t,e,i){t.events[e].push({handler:i,scope:this})},e.prototype.addListener=function(t,e,i){this.events[t].push({handler:e,scope:i})},e.prototype.removeListener=function(t,e,i){for(e=(t=t.events[e]).length-1;0<=e;e--)t[e].handler===i&&t.splice(e,1)},e.prototype.fire=function(t,e){for(var i=this.events[t],s=0,a=i.length;s<a;s++){var r=i[s];r.handler.call(r.scope,e)}}),t)e.prototype[i]=t[i];return e},AmCharts.charts=[],AmCharts.addChart=function(t){AmCharts.charts.push(t)},AmCharts.removeChart=function(t){for(var e=AmCharts.charts,i=e.length-1;0<=i;i--)e[i]==t&&e.splice(i,1)},AmCharts.IEversion=0,-1!=navigator.appVersion.indexOf("MSIE")&&document.documentMode&&(AmCharts.IEversion=Number(document.documentMode)),(document.addEventListener||window.opera)&&(AmCharts.isNN=!0,AmCharts.isIE=!1,AmCharts.dx=.5,AmCharts.dy=.5),document.attachEvent&&(AmCharts.isNN=!1,AmCharts.isIE=!0,AmCharts.IEversion<9&&(AmCharts.dx=0,AmCharts.dy=0)),window.chrome&&(AmCharts.chrome=!0),AmCharts.handleResize=function(){for(var t=AmCharts.charts,e=0;e<t.length;e++){var i=t[e];i&&i.div&&i.handleResize()}},AmCharts.handleMouseUp=function(t){for(var e=AmCharts.charts,i=0;i<e.length;i++){var s=e[i];s&&s.handleReleaseOutside(t)}},AmCharts.handleMouseMove=function(t){for(var e=AmCharts.charts,i=0;i<e.length;i++){var s=e[i];s&&s.handleMouseMove(t)}},AmCharts.resetMouseOver=function(){for(var t=AmCharts.charts,e=0;e<t.length;e++){var i=t[e];i&&(i.mouseIsOver=!1)}},AmCharts.onReadyArray=[],AmCharts.ready=function(t){AmCharts.onReadyArray.push(t)},AmCharts.handleLoad=function(){for(var t=AmCharts.onReadyArray,e=0;e<t.length;e++)(0,t[e])()},AmCharts.useUTC=!1,AmCharts.updateRate=40,AmCharts.uid=0,AmCharts.getUniqueId=function(){return AmCharts.uid++,"AmChartsEl-"+AmCharts.uid},AmCharts.isNN&&(document.addEventListener("mousemove",AmCharts.handleMouseMove,!0),window.addEventListener("resize",AmCharts.handleResize,!0),document.addEventListener("mouseup",AmCharts.handleMouseUp,!0),window.addEventListener("load",AmCharts.handleLoad,!0)),AmCharts.isIE&&(document.attachEvent("onmousemove",AmCharts.handleMouseMove),window.attachEvent("onresize",AmCharts.handleResize),document.attachEvent("onmouseup",AmCharts.handleMouseUp),window.attachEvent("onload",AmCharts.handleLoad)),AmCharts.toBoolean=function(t,e){if(null==t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(t)}},AmCharts.removeFromArray=function(t,e){for(var i=t.length-1;0<=i;i--)t[i]==e&&t.splice(i,1)},AmCharts.getStyle=function(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]),i},AmCharts.removePx=function(t){return Number(t.substring(0,t.length-2))},AmCharts.getURL=function(t,e){if(t)if("_self"!=e&&e)if("_top"==e&&window.top)window.top.location.href=t;else if("_parent"==e&&window.parent)window.parent.location.href=t;else{var i=document.getElementsByName(e)[0];i?i.src=t:window.open(t)}else window.location.href=t},AmCharts.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var i=e.getMilliseconds(),s=String(i);i<10&&(s="00"+i),10<=i&&i<100&&(s="0"+i),t=t.replace(/fff/g,s)}return t},AmCharts.ifArray=function(t){return!!(t&&0<t.length)},AmCharts.callMethod=function(t,e){for(var i=0;i<e.length;i++){var s=e[i];if(s){s[t]&&s[t]();var a=s.length;if(0<a)for(var r=0;r<a;r++){var o=s[r];o&&o[t]&&o[t]()}}}},AmCharts.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},AmCharts.toColor=function(t){if(""!=t&&null!=t)if(-1!=t.indexOf(",")){t=t.split(",");for(var e=0;e<t.length;e++){var i=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+i}}else t="#"+(t=t.substring(t.length-6,t.length));return t},AmCharts.toCoordinate=function(t,e,i){var s;return null!=t&&(t=String(t),i&&i<e&&(e=i),s=Number(t),-1!=t.indexOf("!")&&(s=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(s=e*Number(t.substr(0,t.length-1))/100)),s},AmCharts.fitToBounds=function(t,e,i){return t<e&&(t=e),i<t&&(t=i),t},AmCharts.isDefined=function(t){return null!=t},AmCharts.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},AmCharts.extractPeriod=function(t){var e=AmCharts.stripNumbers(t),i=1;return e!=t&&(i=Number(t.slice(0,t.indexOf(e)))),{period:e,count:i}},AmCharts.resetDateToMin=function(t,e,i,s){null==s&&(s=1);var a=t.getFullYear(),r=t.getMonth(),o=t.getDate(),n=t.getHours(),h=t.getMinutes(),l=t.getSeconds(),c=t.getMilliseconds();t=t.getDay();switch(e){case"YYYY":a=Math.floor(a/i)*i,o=1,c=l=h=n=r=0;break;case"MM":r=Math.floor(r/i)*i,o=1,c=l=h=n=0;break;case"WW":0==t&&0<s&&(t=7),o=o-t+s,c=l=h=n=0;break;case"DD":o=Math.floor(o/i)*i,c=l=h=n=0;break;case"hh":n=Math.floor(n/i)*i,c=l=h=0;break;case"mm":h=Math.floor(h/i)*i,c=l=0;break;case"ss":l=Math.floor(l/i)*i,c=0;break;case"fff":c=Math.floor(c/i)*i}return new Date(a,r,o,n,h,l,c)},AmCharts.getPeriodDuration=function(t,e){var i;switch(null==e&&(e=1),t){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*e},AmCharts.roundTo=function(t,e){if(e<0)return t;var i=Math.pow(10,e);return Math.round(t*i)/i},AmCharts.toFixed=function(t,e){var i=String(Math.round(t*Math.pow(10,e)));if(0<e){var s=i.length;if(s<e)for(var a=0;a<e-s;a++)i="0"+i;return""==(s=i.substring(0,i.length-e))&&(s=0),s+"."+i.substring(i.length-e,i.length)}return String(i)},AmCharts.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},AmCharts.getMaxInterval=function(t,e){var i=AmCharts.intervals;return t>=i[e].contains?(t=Math.round(t/i[e].contains),e=i[e].nextInterval,AmCharts.getMaxInterval(t,e)):"ss"==e?i[e].nextInterval:e},AmCharts.formatDuration=function(t,e,i,s,a,r){var o=AmCharts.intervals,n=r.decimalSeparator;if(t>=o[e].contains){var h=t-Math.floor(t/o[e].contains)*o[e].contains;return"ss"==e&&(1==(h=AmCharts.formatNumber(h,r)).split(n)[0].length&&(h="0"+h)),("mm"==e||"hh"==e)&&h<10&&(h="0"+h),i=h+""+s[e]+i,t=Math.floor(t/o[e].contains),e=o[e].nextInterval,AmCharts.formatDuration(t,e,i,s,a,r)}if("ss"==e&&(1==(t=AmCharts.formatNumber(t,r)).split(n)[0].length&&(t="0"+t)),("mm"==e||"hh"==e)&&t<10&&(t="0"+t),i=t+""+s[e]+i,o[a].count>o[e].count)for(t=o[e].count;t<o[a].count;t++)"ss"==(e=o[e].nextInterval)||"mm"==e||"hh"==e?i="00"+s[e]+i:"DD"==e&&(i="0"+s[e]+i);return":"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i},AmCharts.formatNumber=function(t,e,i,s,a){t=AmCharts.roundTo(t,e.precision),isNaN(i)&&(i=e.precision);var r=e.decimalSeparator,o=(e=e.thousandsSeparator,t<0?"-":""),n=(t=Math.abs(t),!1);if(-1!=(h=String(t)).indexOf("e")&&(n=!0),0<=i&&0!=t&&!n&&(h=AmCharts.toFixed(t,i)),n)n=h;else{for(var h=h.split("."),l=(n="",String(h[0])),c=l.length;0<=c;c-=3)n=c!=l.length?0!=c?l.substring(c-3,c)+e+n:l.substring(c-3,c)+n:l.substring(c-3,c);null!=h[1]&&(n=n+r+h[1]),null!=i&&0<i&&"0"!=n&&(n=AmCharts.addZeroes(n,r,i))}return n=o+n,o||1!=s||0==t||(n="+"+n),1==a&&(n+="%"),n},AmCharts.addZeroes=function(t,e,i){return null==(t=t.split(e))[1]&&0<i&&(t[1]="0"),t[1].length<i?(t[1]+="0",AmCharts.addZeroes(t[0]+e+t[1],e,i)):null!=t[1]?t[0]+e+t[1]:t[0]},AmCharts.scientificToNormal=function(t){var e;if("-"==(t=String(t).split("e"))[1].substr(0,1)){e="0.";for(var i=0;i<Math.abs(Number(t[1]))-1;i++)e+="0";e+=t[0].split(".").join("")}else{var s=0;for((e=t[0].split("."))[1]&&(s=e[1].length),e=t[0].split(".").join(""),i=0;i<Math.abs(Number(t[1]))-s;i++)e+="0"}return e},AmCharts.toScientific=function(t,e){if(0==t)return"0";var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return Math.pow(10,i),mantissa=String(mantissa).split(".").join(e),String(mantissa)+"e"+i},AmCharts.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},AmCharts.hitTest=function(t,e,i){var s=!1,a=t.x,r=t.x+t.width,o=t.y,n=t.y+t.height,h=AmCharts.isInRectangle;return(s=(s=(s=(s=s||h(a,o,e))||h(a,n,e))||h(r,o,e))||h(r,n,e))||1==i||(s=AmCharts.hitTest(e,t,!0)),s},AmCharts.isInRectangle=function(t,e,i){return t>=i.x-5&&t<=i.x+i.width+5&&e>=i.y-5&&e<=i.y+i.height+5},AmCharts.isPercents=function(t){if(-1!=String(t).indexOf("%"))return!0},AmCharts.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),AmCharts.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),AmCharts.monthNames="January February March April May June July August September October November December".split(" "),AmCharts.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),AmCharts.formatDate=function(t,e){var i,s,a,r,o,n,h,l;l=AmCharts.useUTC?(i=t.getUTCFullYear(),s=t.getUTCMonth(),a=t.getUTCDate(),r=t.getUTCDay(),o=t.getUTCHours(),n=t.getUTCMinutes(),h=t.getUTCSeconds(),t.getUTCMilliseconds()):(i=t.getFullYear(),s=t.getMonth(),a=t.getDate(),r=t.getDay(),o=t.getHours(),n=t.getMinutes(),h=t.getSeconds(),t.getMilliseconds());var c=String(i).substr(2,2),u=s+1;s<9&&(u="0"+u);var d=a;a<10&&(d="0"+a);var m="0"+r,p=o;24==p&&(p=0);var f=p;return f<10&&(f="0"+f),e=(e=e.replace(/JJ/g,f)).replace(/J/g,p),0==(p=o)&&(p=24),(f=p)<10&&(f="0"+f),e=(e=e.replace(/HH/g,f)).replace(/H/g,p),11<(p=o)&&(p-=12),(f=p)<10&&(f="0"+f),e=(e=e.replace(/KK/g,f)).replace(/K/g,p),0==(p=o)&&(p=12),12<p&&(p-=12),(f=p)<10&&(f="0"+f),e=(e=e.replace(/LL/g,f)).replace(/L/g,p),(p=n)<10&&(p="0"+p),e=(e=e.replace(/NN/g,p)).replace(/N/g,n),(n=h)<10&&(n="0"+n),e=(e=e.replace(/SS/g,n)).replace(/S/g,h),(h=l)<10&&(h="00"+h),h<100&&(h="0"+h),(n=l)<10&&(n="00"+n),e=(e=(e=e.replace(/QQQ/g,h)).replace(/QQ/g,n)).replace(/Q/g,l),(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=o<12?e.replace(/A/g,"am"):e.replace(/A/g,"pm")).replace(/YYYY/g,"@IIII@")).replace(/YY/g,"@II@")).replace(/MMMM/g,"@XXXX@")).replace(/MMM/g,"@XXX@")).replace(/MM/g,"@XX@")).replace(/M/g,"@X@")).replace(/DD/g,"@RR@")).replace(/D/g,"@R@")).replace(/EEEE/g,"@PPPP@")).replace(/EEE/g,"@PPP@")).replace(/EE/g,"@PP@")).replace(/E/g,"@P@")).replace(/@IIII@/g,i)).replace(/@II@/g,c)).replace(/@XXXX@/g,AmCharts.monthNames[s])).replace(/@XXX@/g,AmCharts.shortMonthNames[s])).replace(/@XX@/g,u)).replace(/@X@/g,s+1)).replace(/@RR@/g,d)).replace(/@R@/g,a)).replace(/@PPPP@/g,AmCharts.dayNames[r])).replace(/@PPP@/g,AmCharts.shortDayNames[r])).replace(/@PP@/g,m)).replace(/@P@/g,r)},AmCharts.findPosX=function(t){var e=t.offsetLeft;if(t.offsetParent)for(;t=t.offsetParent;)e+=t.offsetLeft,t!=document.body&&t!=document.documentElement&&(e-=t.scrollLeft);return e},AmCharts.findPosY=function(t){var e=t.offsetTop;if(t.offsetParent)for(;t=t.offsetParent;)e+=t.offsetTop,t!=document.body&&t!=document.documentElement&&(e-=t.scrollTop);return e},AmCharts.findIfFixed=function(t){if(t.offsetParent)for(;t=t.offsetParent;)if("fixed"==AmCharts.getStyle(t,"position"))return!0;return!1},AmCharts.findIfAuto=function(t){return!(!t.style||"auto"!=AmCharts.getStyle(t,"overflow"))||!!t.parentNode&&AmCharts.findIfAuto(t.parentNode)},AmCharts.findScrollLeft=function(t,e){return t.scrollLeft&&(e+=t.scrollLeft),t.parentNode?AmCharts.findScrollLeft(t.parentNode,e):e},AmCharts.findScrollTop=function(t,e){return t.scrollTop&&(e+=t.scrollTop),t.parentNode?AmCharts.findScrollTop(t.parentNode,e):e},AmCharts.formatValue=function(t,e,i,s,a,r,o,n){if(e){null==a&&(a="");for(var h=0;h<i.length;h++){var l=i[h],c=e[l];null!=c&&(c=r?AmCharts.addPrefix(c,n,o,s):AmCharts.formatNumber(c,s),t=t.replace(RegExp("\\[\\["+a+l+"\\]\\]","g"),c))}}return t},AmCharts.formatDataContextValue=function(t,e){if(t)for(var i=t.match(/\[\[.*?\]\]/g),s=0;s<i.length;s++){var a;null!=e[a=(a=i[s]).substr(2,a.length-4)]&&(t=t.replace(RegExp("\\[\\["+a+"\\]\\]","g"),e[a]))}return t},AmCharts.massReplace=function(t,e){for(var i in e){var s=e[i];null==s&&(s=""),t=t.replace(i,s)}return t},AmCharts.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},AmCharts.addPrefix=function(t,e,i,s){var a,r=AmCharts.formatNumber(t,s),o="";if(0==t)return"0";if(t<0&&(o="-"),1<(t=Math.abs(t))){for(a=e.length-1;-1<a;a--)if(t>=e[a].number){t/=e[a].number,(s=Number(s.precision))<1&&(s=1),r=o+""+(t=AmCharts.roundTo(t,s))+e[a].prefix;break}}else for(a=0;a<i.length;a++)if(t<=i[a].number){t/=i[a].number,s=Math.abs(Math.round(Math.log(t)*Math.LOG10E)),r=o+""+(t=AmCharts.roundTo(t,s))+i[a].prefix;break}return r},AmCharts.remove=function(t){t&&t.remove()},AmCharts.copyProperties=function(t,e){for(var i in t)"events"!=i&&null!=t[i]&&"function"!=typeof t[i]&&(e[i]=t[i])},AmCharts.recommended=function(){var t="js";return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(t="flash"),t},AmCharts.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},AmCharts.extend=function(t,e){for(var i in e)null==t[i]&&(t[i]=e[i])},AmCharts.fixNewLines=function(t){return AmCharts.IEversion<9&&0<AmCharts.IEversion&&(t=AmCharts.massReplace(t,{"\n":"\r"})),t},AmCharts.AmDraw=AmCharts.Class({construct:function(t,e,i){if(AmCharts.SVG_NS="http://www.w3.org/2000/svg",AmCharts.SVG_XLINK="http://www.w3.org/1999/xlink",AmCharts.hasSVG=!!document.createElementNS&&!!document.createElementNS(AmCharts.SVG_NS,"svg").createSVGRect,e<1&&(e=10),i<1&&(i=10),this.div=t,this.width=e,this.height=i,this.rBin=document.createElement("div"),AmCharts.hasSVG){AmCharts.SVG=!0;var s=this.createSvgElement("svg");s.style.position="absolute",s.style.width=e+"px",s.style.height=i+"px",s.setAttribute("version","1.1"),t.appendChild(s),this.container=s,this.R=new AmCharts.SVGRenderer(this)}else AmCharts.isIE&&AmCharts.VMLRenderer&&(AmCharts.VML=!0,AmCharts.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),(e=document.createStyleSheet()).addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),AmCharts.vmlStyleSheet=e),this.container=t,this.R=new AmCharts.VMLRenderer(this),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(AmCharts.SVG_NS,t)},circle:function(t,e,i,s){var a=new AmCharts.AmDObject("circle",this);return a.attr({r:i,cx:t,cy:e}),this.addToContainer(a.node,s),a},setSize:function(t,e){0<t&&0<e&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(t,e,i,s,a,r,o){var n=new AmCharts.AmDObject("rect",this);return AmCharts.VML&&(a=100*a/Math.min(i,s),i+=2*r,s+=2*r,n.bw=r,n.node.style.marginLeft=-r,n.node.style.marginTop=-r),i<1&&(i=1),s<1&&(s=1),n.attr({x:t,y:e,width:i,height:s,rx:a,ry:a,"stroke-width":r}),this.addToContainer(n.node,o),n},image:function(t,e,i,s,a,r){var o=new AmCharts.AmDObject("image",this);return o.attr({x:e,y:i,width:s,height:a}),this.R.path(o,t),this.addToContainer(o.node,r),o},addToContainer:function(t,e){(e=e||this.container).appendChild(t)},text:function(t,e,i){return this.R.text(t,e,i)},path:function(t,e,i,s){var a=new AmCharts.AmDObject("path",this);return s=s||"100,100",a.attr({cs:s}),i?a.attr({dd:t}):a.attr({d:t}),this.addToContainer(a.node,e),a},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},bounce:function(t,e,i,s,a){return(e/=a)<1/2.75?7.5625*s*e*e+i:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+i:s*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInSine:function(t,e,i,s,a){return-s*Math.cos(e/a*(Math.PI/2))+s+i},easeOutSine:function(t,e,i,s,a){return s*Math.sin(e/a*(Math.PI/2))+i},easeOutElastic:function(t,e,i,s,a){t=1.70158;var r=0,o=s;return 0==e?i:1==(e/=a)?i+s:(r=r||.3*a,t=o<Math.abs(s)?(o=s,r/4):r/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*e)*Math.sin(2*(e*a-t)*Math.PI/r)+s+i)},renderFix:function(){var e,i=this.container,t=i.style;try{e=i.getScreenCTM()||i.createSVGMatrix()}catch(t){e=i.createSVGMatrix()}.5<(i=1-e.e%1)&&--i,.5<(e=1-e.f%1)&&--e,i&&(t.left=i+"px"),e&&(t.top=e+"px")}}),AmCharts.AmDObject=AmCharts.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.children=[],this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,i,s){this.R.clipRect(this,t,e,i,s)},translate:function(t,e,i){this.R.move(this,Math.round(t),Math.round(e),i),this.x=t,this.y=e,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(t){this.R.rotate(this,t),this.angle=t},animate:function(t,e,i){for(var s in t){var a=s,r=t[s];i=AmCharts.getEffect(i);this.R.animate(this,a,r,e,i)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var i=t.clipPath;i&&e.appendChild(i),(i=t.grad)&&e.appendChild(i),this.children.push(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){var e=t.parentNode;e&&e.appendChild(t)}},toBack:function(){var t=this.node;if(t){var e=t.parentNode;if(e){var i=e.firstChild;i&&e.insertBefore(t,i)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},stop:function(){var t=this.animationX;t&&AmCharts.removeFromArray(this.R.animations,t),(t=this.animationY)&&AmCharts.removeFromArray(this.R.animations,t)},length:function(){return this.node.childNodes.length},gradient:function(t,e,i){this.R.gradient(this,t,e,i)}}),AmCharts.SVGRenderer=AmCharts.Class({construct:function(t){this.D=t,this.animations=[]},create:function(t,e){return document.createElementNS(AmCharts.SVG_NS,e)},attr:function(t,e){for(var i in e)this.setAttr(t,i,e[i])},setAttr:function(t,e,i){void 0!==i&&t.node.setAttribute(e,i)},animate:function(t,e,i,s,a){var r=this,o=t.node;"translate"==e?0==(o=(o=(o=(o=o.getAttribute("transform"))?String(o).substring(10,o.length-1):"0,0").split(", ").join(" ")).split(" ").join(","))&&(o="0,0"):o=o.getAttribute(e),e={obj:t,frame:0,attribute:e,from:o,to:i,time:s,effect:a},r.animations.push(e),t.animationX=e,r.interval||(r.interval=setInterval(function(){r.updateAnimations.call(r)},AmCharts.updateRate))},updateAnimations:function(){for(var t=this.animations.length-1;0<=t;t--){var e=1e3*(h=this.animations[t]).time/AmCharts.updateRate,i=h.frame+1,s=h.obj,a=h.attribute;if(i<=e){if(h.frame++,"translate"==a)var r=h.from.split(","),o=(a=Number(r[0]),r=Number(r[1]),h.to.split(",")),n=Number(o[0]),h=(o=Number(o[1]),n=0==n-a?n:Math.round(this.D[h.effect](0,i,a,n-a,e)),a="transform","translate("+n+","+(h=0==o-r?o:Math.round(this.D[h.effect](0,i,r,o-r,e)))+")");else r=Number(h.from),n=Number(h.to),n-=r,h=this.D[h.effect](0,i,r,n,e),0==n&&this.animations.splice(t,1);this.setAttr(s,a,h)}else"translate"==a?(o=h.to.split(","),n=Number(o[0]),o=Number(o[1]),s.translate(n,o)):(n=Number(h.to),this.setAttr(s,a,n)),this.animations.splice(t,1)}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(t,e){t.node.setAttributeNS(AmCharts.SVG_XLINK,"xlink:href",e)},clipRect:function(t,e,i,s,a){var r=t.node,o=t.clipPath;o&&this.D.remove(o);var n=r.parentNode;n&&(r=document.createElementNS(AmCharts.SVG_NS,"clipPath"),o=AmCharts.getUniqueId(),r.setAttribute("id",o),this.D.rect(e,i,s,a,0,0,r),n.appendChild(r),e="#",AmCharts.baseHref&&!AmCharts.isIE&&(e=window.location.href+e),this.setAttr(t,"clip-path","url("+e+o+")"),this.clipPathC++,t.clipPath=r)},text:function(t,e,i){for(var s=new AmCharts.AmDObject("text",this.D),a=(t=String(t).split("\n"),e["font-size"]),r=0;r<t.length;r++){var o=this.create(null,"tspan");o.appendChild(document.createTextNode(t[r])),o.setAttribute("y",(a+2)*r+a/2),o.setAttribute("x",0),s.node.appendChild(o)}return s.node.setAttribute("y",a/2+0),this.attr(s,e),this.D.addToContainer(s.node,i),s},setText:function(t,e){var i=t.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(e)))},move:function(t,e,i,s){e="translate("+e+","+i+")",s&&(e=e+" scale("+s+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var i=t.node.getAttribute("transform"),s="rotate("+e+")";i&&(s=i+" "+s),this.setAttr(t,"transform",s)},set:function(t){var e=new AmCharts.AmDObject("g",this.D);if(this.D.container.appendChild(e.node),t)for(var i=0;i<t.length;i++)e.push(t[i]);return e},addListener:function(t,e,i){t.node["on"+e]=i},gradient:function(t,e,i,s){var a=t.node,r=t.grad;if(r&&this.D.remove(r),e=document.createElementNS(AmCharts.SVG_NS,e),r=AmCharts.getUniqueId(),e.setAttribute("id",r),!isNaN(s)){var o=0,n=0,h=0,l=0;90==s?h=100:270==s?l=100:180==s?o=100:0==s&&(n=100),e.setAttribute("x1",o+"%"),e.setAttribute("x2",n+"%"),e.setAttribute("y1",h+"%"),e.setAttribute("y2",l+"%")}for(s=0;s<i.length;s++)o=document.createElementNS(AmCharts.SVG_NS,"stop"),n=100*s/(i.length-1),0==s&&(n=0),o.setAttribute("offset",n+"%"),o.setAttribute("stop-color",i[s]),e.appendChild(o);a.parentNode.appendChild(e),i="#",AmCharts.baseHref&&!AmCharts.isIE&&(i=window.location.href+i),a.setAttribute("fill","url("+i+r+")"),t.grad=e},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),this.D.remove(t.node)}}),AmCharts.AmChart=AmCharts.Class({construct:function(){this.version="2.8.2",AmCharts.addChart(this),this.createEvents("dataUpdated","init"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.numberFormatter={precision:-1,decimalSeparator:".",thousandsSeparator:","},this.percentFormatter={precision:2,decimalSeparator:".",thousandsSeparator:","},this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[];var t=document.createElement("div"),e=t.style;e.overflow="hidden",e.position="relative",e.textAlign="left",this.chartDiv=t,(e=(t=document.createElement("div")).style).overflow="hidden",e.position="relative",this.legendDiv=t,this.balloon=new AmCharts.AmBalloon,(this.balloon.chart=this).titleHeight=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}],this.panEventsEnabled=!1,AmCharts.bezierX=3,AmCharts.bezierY=6,this.product="amcharts"},drawChart:function(){this.drawBackground(),this.redrawLabels(),this.drawTitles()},drawBackground:function(){var t=this.container,e=this.backgroundColor,i=this.backgroundAlpha,s=this.set,a=this.updateWidth();this.realWidth=a;var r=this.updateHeight();this.realHeight=r,this.background=e=AmCharts.polygon(t,[0,a-1,a-1,0],[0,0,r-1,r-1],e,i,1,this.borderColor,this.borderAlpha),s.push(e),(e=this.backgroundImage)&&(this.path&&(e=this.path+e),this.bgImg=t=t.image(e,0,0,a,r),s.push(t))},drawTitles:function(){var t=this.titles;if(AmCharts.ifArray(t))for(var e=20,i=0;i<t.length;i++){var s=t[i];null==(r=s.color)&&(r=this.color);var a=s.size;isNaN(s.alpha);var r,o=this.marginLeft;(r=AmCharts.text(this.container,s.text,r,this.fontFamily,a)).translate(o+(this.realWidth-this.marginRight-o)/2,e),o=!0,null!=s.bold&&(o=s.bold),o&&r.attr({"font-weight":"bold"}),e+=a+6,this.freeLabelsSet.push(r)}},write:function(t){(e=this.balloon)&&!e.chart&&(e.chart=this),(t="object"!=typeof t?document.getElementById(t):t).innerHTML="",(this.div=t).style.overflow="hidden",t.style.textAlign="left";var e=this.chartDiv,i=this.legendDiv,s=this.legend,a=i.style,r=e.style;if(this.measure(),s)switch(s.position){case"bottom":t.appendChild(e),t.appendChild(i);break;case"top":t.appendChild(i),t.appendChild(e);break;case"absolute":var o=document.createElement("div"),n=o.style;n.position="relative",n.width=t.style.width,n.height=t.style.height,t.appendChild(o),a.position="absolute",r.position="absolute",null!=s.left&&(a.left=s.left+"px"),null!=s.right&&(a.right=s.right+"px"),null!=s.top&&(a.top=s.top+"px"),null!=s.bottom&&(a.bottom=s.bottom+"px"),s.marginLeft=0,s.marginRight=0,o.appendChild(e),o.appendChild(i);break;case"right":(n=(o=document.createElement("div")).style).position="relative",n.width=t.style.width,n.height=t.style.height,t.appendChild(o),a.position="relative",r.position="absolute",o.appendChild(e),o.appendChild(i);break;case"left":(n=(o=document.createElement("div")).style).position="relative",n.width=t.style.width,n.height=t.style.height,t.appendChild(o),a.position="absolute",r.position="relative",o.appendChild(e),o.appendChild(i)}else t.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()},createLabelsSet:function(){AmCharts.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.divIsFixed=AmCharts.findIfFixed(this.chartDiv),this.previousHeight=this.realHeight,this.previousWidth=this.realWidth,this.destroy();var t=0;document.attachEvent&&!window.opera&&(t=1),AmCharts.isNN&&AmCharts.findIfAuto(this.chartDiv)&&(t=3),this.mouseMode=t,this.container=new AmCharts.AmDraw(this.chartDiv,this.realWidth,this.realHeight),(AmCharts.VML||AmCharts.SVG)&&(t=this.container,this.set=t.set(),this.gridSet=t.set(),this.graphsBehindSet=t.set(),this.bulletBehindSet=t.set(),this.columnSet=t.set(),this.graphsSet=t.set(),this.trendLinesSet=t.set(),this.axesLabelsSet=t.set(),this.axesSet=t.set(),this.cursorSet=t.set(),this.scrollbarsSet=t.set(),this.bulletSet=t.set(),this.freeLabelsSet=t.set(),this.balloonsSet=t.set(),this.balloonsSet.setAttr("id","balloons"),this.zoomButtonSet=t.set(),this.linkSet=t.set(),this.drb(),this.renderFix())},measure:function(){var t=this.div,e=this.chartDiv,i=t.offsetWidth,s=t.offsetHeight,a=this.container;t.clientHeight&&(i=t.clientWidth,s=t.clientHeight);var r=AmCharts.removePx(AmCharts.getStyle(t,"padding-left")),o=AmCharts.removePx(AmCharts.getStyle(t,"padding-right")),n=AmCharts.removePx(AmCharts.getStyle(t,"padding-top")),h=AmCharts.removePx(AmCharts.getStyle(t,"padding-bottom"));isNaN(r)||(i-=r),isNaN(o)||(i-=o),isNaN(n)||(s-=n),isNaN(h)||(s-=h),t=(r=t.style).width,r=r.height,-1!=t.indexOf("px")&&(i=AmCharts.removePx(t)),-1!=r.indexOf("px")&&(s=AmCharts.removePx(r)),t=AmCharts.toCoordinate(this.width,i),r=AmCharts.toCoordinate(this.height,s),t==this.previousWidth&&r==this.previousHeight||(e.style.width=t+"px",e.style.height=r+"px",a&&a.setSize(t,r),this.balloon.setBounds(2,2,t-2,r)),this.realWidth=t,this.realHeight=r,this.divRealWidth=i,this.divRealHeight=s},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts()},clearTimeOuts:function(){var t=this.timeOuts;if(t)for(var e=0;e<t.length;e++)clearTimeout(t[e]);this.timeOuts=[]},clear:function(t){AmCharts.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||AmCharts.removeChart(this)},setMouseCursor:function(t){"auto"==t&&AmCharts.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var t=this.allLabels;this.createLabelsSet();for(var e=0;e<t.length;e++)this.drawLabel(t[e])},drawLabel:function(t){if(this.container){var e=t.y,i=t.text,s=t.align,a=t.size,r=t.color,o=t.rotation,n=t.alpha,h=t.bold,l=AmCharts.toCoordinate(t.x,this.realWidth);l=l||0,e=(e=AmCharts.toCoordinate(e,this.realHeight))||0,null==r&&(r=this.color),isNaN(a)&&(a=this.fontSize),"left"==(s=s||"start")&&(s="start"),"right"==s&&(s="end"),"center"==s&&(s="middle",o?e=this.realHeight-e+e/2:l=this.realWidth/2-l),null==n&&(n=1),null==o&&(o=0),e+=a/2,(i=AmCharts.text(this.container,i,r,this.fontFamily,a,s,h,n)).translate(l,e),0!=o&&i.rotate(o),t.url&&(i.setAttr("cursor","pointer"),i.click(function(){AmCharts.getURL(t.url)})),this.labelsSet.push(i),this.labels.push(i)}},addLabel:function(t,e,i,s,a,r,o,n,h,l){t={x:t,y:e,text:i,align:s,size:a,color:r,alpha:n,rotation:o,bold:h,url:l},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){for(var t=this.labels,e=t.length-1;0<=e;e--)t[e].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight;if(e=this.legend){var e,i=this.legendDiv.offsetHeight;"top"!=(e=e.position)&&"bottom"!=e||((t-=i)<0&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight;if(i=this.legend){var i,s=(r=this.legendDiv).offsetWidth,a=r.offsetHeight,r=r.style,o=this.chartDiv.style;"right"!=(i=i.position)&&"left"!=i||((t-=s)<0&&(t=0),o.width=t+"px","left"==i?o.left=s+"px":r.left=t+"px",r.top=(e-a)/2+"px")}return t},getTitleHeight:function(){var t=0,e=this.titles;if(0<e.length){t=15;for(var i=0;i<e.length;i++)t+=e[i].size+6}return t},addTitle:function(t,e,i,s,a){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:i,alpha:s,bold:a},this.titles.push(t),t},addListeners:function(){var e=this,t=e.chartDiv;AmCharts.isNN&&(e.panEventsEnabled&&"ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){e.handleTouchMove.call(e,t),e.handleTouchStart.call(e,t)},!0),t.addEventListener("touchmove",function(t){e.handleTouchMove.call(e,t)},!0),t.addEventListener("touchend",function(t){e.handleTouchEnd.call(e,t)},!0)),t.addEventListener("mousedown",function(t){e.handleMouseDown.call(e,t)},!0),t.addEventListener("mouseover",function(t){e.handleMouseOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleMouseOut.call(e,t)},!0)),AmCharts.isIE&&(t.attachEvent("onmousedown",function(t){e.handleMouseDown.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleMouseOver.call(e,t)}),t.attachEvent("onmouseout",function(t){e.handleMouseOut.call(e,t)}))},dispDUpd:function(){var t;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,t="dataUpdated",this.fire(t,{type:t,chart:this})),this.chartCreated||(t="init",this.fire(t,{type:t,chart:this}))},drb:function(){var t=this.product,e=t+".com";if(2<=(a=window.location.hostname.split(".")).length)var i=a[a.length-2]+"."+a[a.length-1];if(AmCharts.remove(this.bbset),i!=e){e=e+"/?utm_source=swf&utm_medium=demo&utm_campaign=jsDemo"+t;var s="chart by ",a=145;for("ammap"==t&&(s="tool by ",a=125),i=AmCharts.rect(this.container,a,20,"#FFFFFF",1),(s=AmCharts.text(this.container,s+t+".com","#000000","Verdana",11,"start")).translate(7,9),i=this.container.set([i,s]),"ammap"==t&&i.translate(this.realWidth-a,0),this.bbset=i,this.linkSet.push(i),i.setAttr("cursor","pointer"),i.click(function(){window.location.href="http://"+e}),t=0;t<i.length;t++)i[t].attr({cursor:"pointer"})}},validateSize:function(){var t=this;t.measure();var e=t.legend;if((t.realWidth!=t.previousWidth||t.realHeight!=t.previousHeight)&&0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){clearTimeout(t.legendInitTO);var i=setTimeout(function(){e.invalidateSize()},100);t.timeOuts.push(i),t.legendInitTO=i}t.marginsUpdated=!1,clearTimeout(t.initTO),i=setTimeout(function(){t.initChart()},150),t.timeOuts.push(i),t.initTO=i}t.renderFix(),e&&e.renderFix()},invalidateSize:function(){var t=this;t.previousWidth=NaN,t.previousHeight=NaN,t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(t))},validateNow:function(){this.listenersAdded=!1,this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},80)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide()},showBalloon:function(t,e,i,s,a){var r=this;clearTimeout(r.balloonTO),r.balloonTO=setTimeout(function(){r.showBalloonReal.call(r,t,e,i,s,a)},1)},showBalloonReal:function(t,e,i,s,a){this.handleMouseMove();var r=this.balloon;r.enabled&&(r.followCursor(!1),r.changeColor(e),i||r.setPosition(s,a),r.followCursor(i),t&&r.showBalloon(t))},handleTouchMove:function(t){this.hideBalloon();var e=this.chartDiv;t.touches&&(t=t.touches.item(0),this.mouseX=t.pageX-AmCharts.findPosX(e),this.mouseY=t.pageY-AmCharts.findPosY(e))},handleMouseOver:function(){AmCharts.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){AmCharts.resetMouseOver(),this.mouseIsOver=!1},handleMouseMove:function(t){if(this.mouseIsOver){var e,i,s=this.chartDiv;if(t=t||window.event){switch(this.mouseMode){case 1:if(e=t.clientX-AmCharts.findPosX(s),i=t.clientY-AmCharts.findPosY(s),!this.divIsFixed){if(t=document.body)var a=t.scrollLeft,r=t.scrollTop;if(t=document.documentElement)var o=t.scrollLeft,n=t.scrollTop;e+=a=Math.max(a,o),i+=r=Math.max(r,n)}break;case 3:e=t.pageX-AmCharts.findPosX(s),i=t.pageY-AmCharts.findPosY(s);break;case 0:i=this.divIsFixed?(e=t.clientX-AmCharts.findPosX(s),t.clientY-AmCharts.findPosY(s)):(e=t.pageX-AmCharts.findPosX(s),t.pageY-AmCharts.findPosY(s))}this.mouseX=e,this.mouseY=i}}},handleTouchStart:function(t){this.handleMouseDown(t)},handleTouchEnd:function(t){AmCharts.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){},handleMouseDown:function(t){AmCharts.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&t.preventDefault()},addLegend:function(t){AmCharts.extend(t,new AmCharts.AmLegend),(this.legend=t).chart=this,t.div=this.legendDiv;var e=this.handleLegendEvent;this.listenTo(t,"showItem",e),this.listenTo(t,"hideItem",e),this.listenTo(t,"clickMarker",e),this.listenTo(t,"rollOverItem",e),this.listenTo(t,"rollOutItem",e),this.listenTo(t,"rollOverMarker",e),this.listenTo(t,"rollOutMarker",e),this.listenTo(t,"clickLabel",e)},removeLegend:function(){this.legend=void 0,this.legendDiv.innerHTML=""},handleResize:function(){(AmCharts.isPercents(this.width)||AmCharts.isPercents(this.height))&&this.invalidateSize(),this.renderFix()},renderFix:function(){if(!AmCharts.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(AmCharts.hasSVG)return this.container}}),AmCharts.Slice=AmCharts.Class({construct:function(){}}),AmCharts.SerialDataItem=AmCharts.Class({construct:function(){}}),AmCharts.GraphDataItem=AmCharts.Class({construct:function(){}}),AmCharts.Guide=AmCharts.Class({construct:function(){}}),AmCharts.AmBalloon=AmCharts.Class({construct:function(){this.enabled=!0,this.fillColor="#CC0000",this.fillAlpha=1,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=6,this.maximumWidth=220,this.horizontalPadding=8,this.verticalPadding=5,this.pointerWidth=10,this.pointerOrientation="V",this.color="#FFFFFF",this.textShadowColor="#000000",this.adjustBorderColor=!1,this.showBullet=!0,this.show=this.follow=!1,this.bulletSize=3,this.textAlign="middle"},draw:function(){var t=this.pointToX,e=this.pointToY,i=this.textAlign;if(!isNaN(t)){var s=this.chart,a=s.container,r=this.set;if(AmCharts.remove(r),AmCharts.remove(this.pointer),this.set=r=a.set(),s.balloonsSet.push(r),this.show){var o=this.l,n=this.t,h=this.r,l=this.b,c=this.textShadowColor;this.color==c&&(c=void 0);var u=this.balloonColor,d=this.fillColor,m=this.borderColor;null!=u&&(this.adjustBorderColor?m=u:d=u);var p=this.horizontalPadding,f=this.verticalPadding,g=(u=this.pointerWidth,this.pointerOrientation),v=this.cornerRadius,C=s.fontFamily;if(null==(w=this.fontSize)&&(w=s.fontSize),s=AmCharts.text(a,this.text,this.color,C,w,i),r.push(s),null!=c){var b=AmCharts.text(a,this.text,c,C,w,i,!1,.4);r.push(b)}c=(C=s.getBBox()).height+2*f,f=C.width+2*p,window.opera&&(c+=2);var A,w=w/2+5;switch(i){case"middle":A=f/2;break;case"left":A=p;break;case"right":A=f-p}s.translate(A,w),b&&b.translate(A+1,w+1),"H"!=g?(A=t-f/2,i=e<n+c+10&&"down"!=g?e+u:e-c-u):(c<2*u&&(u=c/2),i=e-c/2,A=t<o+(h-o)/2?t+u:t-f-u),l<=i+c&&(i=l-c),i<n&&(i=n),A<o&&(A=o),h<A+f&&(A=h-f),0<v||0==u?(m=AmCharts.rect(a,f,c,d,this.fillAlpha,this.borderThickness,m,this.borderAlpha,this.cornerRadius),this.showBullet&&((a=AmCharts.circle(a,this.bulletSize,d,this.fillAlpha)).translate(t,e),this.pointer=a)):(l=[],v=[],"H"!=g?(f-u<(o=t-A)&&(o=f-u),o<u&&(o=u),l=[0,o-u,t-A,o+u,f,f,0,0],v=e<n+c+10&&"down"!=g?[0,0,e-i,0,0,c,c,0]:[c,c,e-i,c,c,0,0,c]):(c-u<(n=e-i)&&(n=c-u),n<u&&(n=u),v=[0,n-u,e-i,n+u,c,c,0,0],l=t<o+(h-o)/2?[0,0,t-A,0,0,f,f,0]:[f,f,t-A,f,f,0,0,f]),m=AmCharts.polygon(a,l,v,d,this.fillAlpha,this.borderThickness,m,this.borderAlpha)),r.push(m),m.toFront(),b&&b.toFront(),s.toFront(),t=1,AmCharts.IEversion<9&&this.follow&&(t=6),r.translate(A-t,i),C=m.getBBox(),this.bottom=i+C.y+C.height,this.yPos=C.y+i}}},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX,e=this.chart.mouseY-3;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0==this.cornerRadius)this.draw();else{var i=this.set;if(i){var s=i.getBBox(),a=(t=t-s.width/2,e-s.height-10);t<this.l&&(t=this.l),t>this.r-s.width&&(t=this.r-s.width),a<this.t&&(a=10+e),i.translate(t,a)}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,i,s){this.l=t,this.t=e,this.r=i,this.b=s},showBalloon:function(t){this.text=t,this.show=!0,this.draw()},hide:function(){this.follow=this.show=!1,this.destroy()},setPosition:function(t,e,i){this.pointToX=t,this.pointToY=e,!i||t==this.previousX&&e==this.previousY||this.draw(),this.previousX=t,this.previousY=e},followCursor:function(t){var e=this;(e.follow=t)?(e.pShowBullet=e.showBullet,e.showBullet=!1):null!=e.pShowBullet&&(e.showBullet=e.pShowBullet),clearInterval(e.interval);var i=e.chart.mouseX,s=e.chart.mouseY;!isNaN(i)&&t&&(e.pointToX=i,e.pointToY=s-3,e.interval=setInterval(function(){e.followMouse.call(e)},40))},destroy:function(){clearInterval(this.interval),AmCharts.remove(this.set),AmCharts.remove(this.pointer)}}),AmCharts.circle=function(t,e,i,s,a,r,o,n){return null!=a&&0!=a||(a=1),null==r&&(r="#000000"),null==o&&(o=0),s={fill:i,stroke:r,"fill-opacity":s,"stroke-width":a,"stroke-opacity":o},t=t.circle(0,0,e).attr(s),n&&t.gradient("radialGradient",[i,AmCharts.adjustLuminosity(i,-.6)]),t},AmCharts.text=function(t,e,i,s,a,r,o,n){return"right"==(r=r||"middle")&&(r="end"),i={fill:i,"font-family":s,"font-size":a,opacity:n},1==o&&(i["font-weight"]="bold"),i["text-anchor"]=r,t.text(e,i)},AmCharts.polygon=function(t,e,i,s,a,r,o,n,h){isNaN(r)&&(r=0),isNaN(n)&&(n=a);var l=!1;"object"==typeof(c=s)&&1<c.length&&(l=!0,c=c[0]),null==o&&(o=c);a={fill:c,stroke:o,"fill-opacity":a,"stroke-width":r,"stroke-opacity":n},r=AmCharts.dx,o=AmCharts.dy;for(var c="M"+((n=Math.round)(e[0])+r)+","+(n(i[0])+o),u=1;u<e.length;u++)c+=" L"+(n(e[u])+r)+","+(n(i[u])+o);return t=t.path(c+" Z").attr(a),l&&t.gradient("linearGradient",s,h),t},AmCharts.rect=function(t,e,i,s,a,r,o,n,h,l){isNaN(r)&&(r=0),null==h&&(h=0),null==l&&(l=270),isNaN(a)&&(a=0);var c=s,u=!1;"object"==typeof c&&(c=c[0],u=!0),null==o&&(o=c),null==n&&(n=a);e=Math.round(e),i=Math.round(i);var d=0,m=0;return e<0&&(d=-(e=Math.abs(e))),i<0&&(m=-(i=Math.abs(i))),d+=AmCharts.dx,m+=AmCharts.dy,a={fill:c,stroke:o,"fill-opacity":a,"stroke-opacity":n},t=t.rect(d,m,e,i,h,r).attr(a),u&&t.gradient("linearGradient",s,l),t},AmCharts.triangle=function(t,e,i,s,a,r,o,n){null!=r&&0!=r||(r=1),null==o&&(o="#000"),null==n&&(n=0);var h;s={fill:s,stroke:o,"fill-opacity":a,"stroke-width":r,"stroke-opacity":n},e/=2;return 0==i&&(h=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==i&&(h=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==i&&(h=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==i&&(h=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(h).attr(s)},AmCharts.line=function(t,e,i,s,a,r,o,n,h){r={fill:"none","stroke-width":r},null!=o&&0<o&&(r["stroke-dasharray"]=o),isNaN(a)||(r["stroke-opacity"]=a),s&&(r.stroke=s);s=Math.round,a=AmCharts.dx,o=AmCharts.dy,n="M"+(s(e[0])+a)+","+(s(i[0])+o);for(var l=1;l<e.length;l++)n+=" L"+(s(e[l])+a)+","+(s(i[l])+o);return AmCharts.VML?t.path(n,void 0,!0).attr(r):(h&&(n+=" M0,0 L0,0"),t.path(n).attr(r))},AmCharts.wedge=function(t,e,i,s,a,r,o,n,h,l,u){var d=Math.round,m=(r=d(r),o=d(o),n=d(n),d(o/r*n)),p=AmCharts.VML;(g=-359.5-r/100)<-359.95&&(g=-359.95),a<=g&&(a=g);var f=1/180*Math.PI,g=e+Math.cos(s*f)*n,v=i+Math.sin(-s*f)*m,C=e+Math.cos(s*f)*r,b=i+Math.sin(-s*f)*o,A=e+Math.cos((s+a)*f)*r,w=i+Math.sin((-s-a)*f)*o,M=e+Math.cos((s+a)*f)*n,N=(f=i+Math.sin((-s-a)*f)*m,{fill:AmCharts.adjustLuminosity(l.fill,-.2),"stroke-opacity":0}),L=0;180<Math.abs(a)&&(L=1);var S;s=t.set();if(p&&(g=d(10*g),C=d(10*C),A=d(10*A),M=d(10*M),v=d(10*v),b=d(10*b),w=d(10*w),f=d(10*f),e=d(10*e),h=d(10*h),i=d(10*i),r*=10,o*=10,n*=10,m*=10,Math.abs(a)<1&&Math.abs(A-C)<=1&&Math.abs(w-b)<=1&&(S=!0)),a="",0<h){p?(path=" M"+g+","+(v+h)+" L"+C+","+(b+h),S||(path+=" A"+(e-r)+","+(h+i-o)+","+(e+r)+","+(h+i+o)+","+C+","+(b+h)+","+A+","+(w+h)),path+=" L"+M+","+(f+h),0<n&&(S||(path+=" B"+(e-n)+","+(h+i-m)+","+(e+n)+","+(h+i+m)+","+M+","+(h+f)+","+g+","+(h+v)))):(path=" M"+g+","+(v+h)+" L"+C+","+(b+h),path+=" A"+r+","+o+",0,"+L+",1,"+A+","+(w+h)+" L"+M+","+(f+h),0<n&&(path+=" A"+n+","+m+",0,"+L+",0,"+g+","+(v+h))),path+=" Z",c=t.path(path,void 0,void 0,"1000,1000").attr(N),s.push(c);var x=t.path(" M"+g+","+v+" L"+g+","+(v+h)+" L"+C+","+(b+h)+" L"+C+","+b+" L"+g+","+v+" Z",void 0,void 0,"1000,1000").attr(N);h=t.path(" M"+A+","+w+" L"+A+","+(w+h)+" L"+M+","+(f+h)+" L"+M+","+f+" L"+A+","+w+" Z",void 0,void 0,"1000,1000").attr(N);s.push(x),s.push(h)}if(r=p?(S||(a=" A"+d(e-r)+","+d(i-o)+","+d(e+r)+","+d(i+o)+","+d(C)+","+d(b)+","+d(A)+","+d(w))," M"+d(g)+","+d(v)+" L"+d(C)+","+d(b)+a+" L"+d(M)+","+d(f)):" M"+g+","+v+" L"+C+","+b+" A"+r+","+o+",0,"+L+",1,"+A+","+w+" L"+M+","+f,0<n&&(p?S||(r+=" B"+(e-n)+","+(i-m)+","+(e+n)+","+(i+m)+","+M+","+f+","+g+","+v):r+=" A"+n+","+m+",0,"+L+",0,"+g+","+v),t=t.path(r+" Z",void 0,void 0,"1000,1000").attr(l),u){for(e=[],i=0;i<u.length;i++)e.push(AmCharts.adjustLuminosity(l.fill,u[i]));0<e.length&&t.gradient("linearGradient",e)}return s.push(t),s},AmCharts.adjustLuminosity=function(t,e){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2]));e=e||0;var i,s,a="#";for(s=0;s<3;s++)i=parseInt(t.substr(2*s,2),16),a+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16))).substr(i.length);return a},AmCharts.AmLegend=AmCharts.Class({construct:function(){this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderAlpha,this.markerBorderThickness=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.selectedColor,this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.dateFormat="DD-MM-YYYY",this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.ly,this.lx,this.showEntries=!0},setData:function(t){this.data=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[],AmCharts.ifArray(this.data)&&this.drawLegend()},drawLegend:function(){var t=this.chart,e=this.position,i=this.width,s=t.divRealWidth,a=t.divRealHeight,r=this.div,o=this.data;if(isNaN(this.fontSize)&&(this.fontSize=t.fontSize),"right"==e||"left"==e)this.maxColumns=1,this.marginLeft=this.marginRight=10;else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var n=t.autoMarginOffset;"bottom"==e?(this.marginBottom=n,this.marginTop=0):(this.marginTop=n,this.marginBottom=0)}if(this.divWidth=e=null!=i?AmCharts.toCoordinate(i,s):t.realWidth,r.style.width=e+"px",this.container=new AmCharts.AmDraw(r,e,a),this.lx=0,this.ly=8,(a=this.markerSize)>this.fontSize&&(this.ly=a/2-1),0<a&&(this.lx+=a+this.markerLabelGap),this.titleWidth=0,(a=this.title)&&((t=AmCharts.text(this.container,a,this.color,t.fontFamily,this.fontSize,"start",!0)).translate(0,this.marginTop+this.verticalGap+this.ly+1),t=t.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<o.length;t++)this.createEntry(o[t]);for(t=this.index=0;t<o.length;t++)this.createValue(o[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,e=this.marginLeft+this.titleWidth,i=this.marginRight,s=this.marginTop,a=this.marginBottom,r=this.horizontalGap,o=this.div,n=this.divWidth,h=this.maxColumns,l=this.verticalGap,c=this.spacing,u=n-i-e,d=0,m=0,p=this.container,f=p.set();this.set=f,p=p.set(),f.push(p);for(var g=this.entries,v=0;v<g.length;v++){var C=(N=g[v].getBBox()).width;d<C&&(d=C),m<(N=N.height)&&(m=N)}var b=C=0,A=r;for(v=0;v<g.length;v++){var w=g[v];this.reversedOrder&&(w=g[g.length-v-1]);var M,N=w.getBBox();this.equalWidths?M=r+b*(d+c+this.markerLabelGap):A=(M=A)+N.width+r+c,M+N.width>u&&0<v&&(C++,b=0,A=(M=r)+N.width+r+c),w.translate(M,(m+l)*C),b++,!isNaN(h)&&h<=b&&(b=0,C++),p.push(w)}h=(N=p.getBBox()).height+2*l-1,"left"==t||"right"==t?(n=N.width+2*r,o.style.width=n+e+i+"px"):n=n-e-i-1,i=AmCharts.polygon(this.container,[0,n,n,0],[0,0,h,h],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),f.push(i),f.translate(e,s),i.toBack(),e=r,"top"!=t&&"bottom"!=t&&"absolute"!=t||("center"==this.align?e=r+(n-N.width)/2:"right"==this.align&&(e=r+n-N.width)),p.translate(e,l+1),this.titleHeight>h&&(h=this.titleHeight),(t=h+s+a+1)<0&&(t=0),o.style.height=Math.round(t)+"px"},createEntry:function(t){if(!1!==t.visibleInLegend){var e=this.chart,i=t.markerType;i=i||this.markerType;var s=t.color,a=t.alpha;t.legendKeyColor&&(s=t.legendKeyColor()),t.legendKeyAlpha&&(a=t.legendKeyAlpha()),1==t.hidden&&(s=this.markerDisabledColor);var r=this.createMarker(i,s,a);this.addListeners(r,t),a=this.container.set([r]),this.switchable&&a.setAttr("cursor","pointer");var o,n=this.switchType;if(n)1!=((o="x"==n?this.createX():this.createV()).dItem=t).hidden?"x"==n?o.hide():o.show():"x"!=n&&o.hide(),this.switchable||o.hide(),this.addListeners(o,t),t.legendSwitch=o,a.push(o);n=this.color,t.showBalloon&&this.textClickEnabled&&null!=this.selectedColor&&(n=this.selectedColor),this.useMarkerColorForLabels&&(n=s),1==t.hidden&&(n=this.markerDisabledColor),s=AmCharts.massReplace(this.labelText,{"[[title]]":t.title}),o=this.fontSize;var h=this.markerSize;if(r&&h<o){var l=0;"bubble"!=i&&"circle"!=i||(l=h/2),r.translate(l,l+this.ly-o/2+(o+2-h)/2)}if(s){var c=AmCharts.text(this.container,s,n,e.fontFamily,o,"start");c.translate(this.lx,this.ly),a.push(c),e=c.getBBox().width,this.maxLabelWidth<e&&(this.maxLabelWidth=e)}this.entries[this.index]=a,t.legendEntry=this.entries[this.index],t.legendLabel=c,this.index++}},addListeners:function(t,e){var i=this;t&&t.mouseover(function(){i.rollOverMarker(e)}).mouseout(function(){i.rollOutMarker(e)}).click(function(){i.clickMarker(e)})},rollOverMarker:function(t){this.switchable&&this.dispatch("rollOverMarker",t),this.dispatch("rollOverItem",t)},rollOutMarker:function(t){this.switchable&&this.dispatch("rollOutMarker",t),this.dispatch("rollOutItem",t)},clickMarker:function(t){this.switchable?1==t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t):this.textClickEnabled&&this.dispatch("clickMarker",t)},rollOverLabel:function(t){t.hidden||(this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t))},rollOutLabel:function(t){if(!t.hidden){if(this.textClickEnabled&&t.legendLabel){var e=this.color;null!=this.selectedColor&&t.showBalloon&&(e=this.selectedColor),this.useMarkerColorForLabels&&(null==(e=t.lineColor)&&(e=t.color)),t.legendLabel.attr({fill:e})}this.dispatch("rollOutItem",t)}},clickLabel:function(t){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t):this.switchable&&(1==t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t))},dispatch:function(t,e){this.fire(t,{type:t,dataItem:e,target:this,chart:this.chart})},createValue:function(t){var e=this,i=e.fontSize;if(!1!==t.visibleInLegend){var s=e.maxLabelWidth;e.equalWidths||(e.valueAlign="left"),"left"==e.valueAlign&&(s=t.legendEntry.getBBox().width);var a=s;if(e.valueText){var r=e.color;e.useMarkerColorForLabels&&(r=t.color),1==t.hidden&&(r=e.markerDisabledColor);var o=e.valueText,n=(s=s+e.lx+e.markerLabelGap+e.valueWidth,"end");"left"==e.valueAlign&&(s-=e.valueWidth,n="start"),(r=AmCharts.text(e.container,o,r,e.chart.fontFamily,i,n)).translate(s,e.ly),e.entries[e.index].push(r),a+=e.valueWidth+e.markerLabelGap,r.dItem=t,e.valueLabels.push(r)}e.index++,(r=e.markerSize)<i+7&&(r=i+7,AmCharts.VML&&(r+=3)),(i=e.container.rect(e.markerSize+e.markerLabelGap,0,a,r,0,0).attr({stroke:"none",fill:"#FFFFFF","fill-opacity":.005})).dItem=t,e.entries[e.index-1].push(i),i.mouseover(function(){e.rollOverLabel(t)}).mouseout(function(){e.rollOutLabel(t)}).click(function(){e.clickLabel(t)})}},createV:function(){var t=this.markerSize;return AmCharts.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=this.markerSize-3,e={stroke:this.switchColor,"stroke-width":3},i=this.container,s=AmCharts.line(i,[3,t],[3,t]).attr(e);t=AmCharts.line(i,[3,t],[t,3]).attr(e);return this.container.set([s,t])},createMarker:function(t,e,i){var s,a=this.markerSize,r=this.container,o=this.markerBorderColor;o=o||e;var n=this.markerBorderThickness,h=this.markerBorderAlpha;switch(t){case"square":s=AmCharts.polygon(r,[0,a,a,0],[0,0,a,a],e,i,n,o,h);break;case"circle":(s=AmCharts.circle(r,a/2,e,i,n,o,h)).translate(a/2,a/2);break;case"line":s=AmCharts.line(r,[0,a],[a/2,a/2],e,i,n);break;case"dashedLine":s=AmCharts.line(r,[0,a],[a/2,a/2],e,i,n,3);break;case"triangleUp":s=AmCharts.polygon(r,[0,a/2,a,a],[a,0,a,a],e,i,n,o,h);break;case"triangleDown":s=AmCharts.polygon(r,[0,a/2,a,a],[0,a,0,0],e,i,n,o,h);break;case"bubble":(s=AmCharts.circle(r,a/2,e,i,n,o,h,!0)).translate(a/2,a/2)}return s},validateNow:function(){this.invalidateSize()},updateValues:function(){for(var t=this.valueLabels,e=this.chart,i=0;i<t.length;i++){var s=t[i],a=s.dItem;if(null!=a.type){var r=a.currentDataItem;if(r){var o=this.valueText;a.legendValueText&&(o=a.legendValueText),a=o,a=e.formatString(a,r),s.text(a)}else s.text(" ")}else r=e.formatString(this.valueText,a),s.text(r)}},renderFix:function(){if(!AmCharts.VML){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",AmCharts.remove(this.set)}}),AmCharts.maps={},AmCharts.AmMap=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(){this.version="3.0.5",this.svgNotSupported="This browser doesn't support SVG. Use Chrome, Firefox, Internet Explorer 9 or later.",this.createEvents("rollOverMapObject","rollOutMapObject","clickMapObject","selectedObjectChanged","homeButtonClicked","zoomCompleted","writeDevInfo"),this.zoomDuration=1,this.zoomControl=new AmCharts.ZoomControl,this.fitMapToContainer=!0,this.mouseWheelZoomEnabled=this.backgroundZoomsToTop=!1,this.useHandCursorOnClickableOjects=this.showBalloonOnSelectedObject=!0,this.showObjectsAfterZoom=this.wheelBusy=!1,this.zoomOnDoubleClick=this.useObjectColorForBalloon=!0,this.allowMultipleDescriptionWindows=!1,this.dragMap=this.centerMap=!0,this.colorSteps=5,this.showAreasInList=!0,this.showLinesInList=this.showImagesInList=!1,this.areasProcessor=new AmCharts.AreasProcessor(this),this.areasSettings=new AmCharts.AreasSettings,this.imagesProcessor=new AmCharts.ImagesProcessor(this),this.imagesSettings=new AmCharts.ImagesSettings,this.linesProcessor=new AmCharts.LinesProcessor(this),this.linesSettings=new AmCharts.LinesSettings,this.showDescriptionOnHover=!1,AmCharts.AmMap.base.construct.call(this),this.product="ammap",AmCharts.bezierX=3,AmCharts.bezierY=3,AmCharts.dx=.5,AmCharts.dy=.5},initChart:function(){if(this.zoomInstantly=!0,this.sizeChanged&&AmCharts.hasSVG&&this.chartCreated){this.container.setSize(this.realWidth,this.realHeight),this.resizeMap(),this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.processObjects(),this.rescaleObjects();var t=this.container;this.zoomControl.init(this,t),this.drawBg();var e=this.smallMap;e&&e.init(this,t),(e=this.valueLegend)&&e.init(this,t),this.sizeChanged=!1,this.zoomToLongLat(this.zLevelTemp,this.zLongTemp,this.zLatTemp,!0),this.previousWidth=this.realWidth,this.previousHeight=this.realHeight,this.drb(),this.linkSet.toFront()}else AmCharts.AmMap.base.initChart.call(this),AmCharts.hasSVG?(this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,t=this.legend)&&(t.position="absolute",t.invalidateSize()),this.addMouseWheel(),this.createDescriptionsDiv(),this.svgAreas=[],this.svgAreasById={},this.drawChart()):(document.createTextNode(this.svgNotSupported),this.chartDiv.style.textAlign="",this.chartDiv.setAttribute("class","ammapAlert"),this.chartDiv.innerHTML=this.svgNotSupported)},invalidateSize:function(){var t=this.zoomLongitude();isNaN(t)||(this.zLongTemp=t),t=this.zoomLatitude(),isNaN(t)||(this.zLatTemp=t),t=this.zoomLevel(),isNaN(t)||(this.zLevelTemp=t),AmCharts.AmMap.base.invalidateSize.call(this)},addMouseWheel:function(){var e=this;e.mouseWheelZoomEnabled&&(window.addEventListener&&window.addEventListener("DOMMouseScroll",function(t){e.handleWheel.call(e,t)},!1),window.onmousewheel&&(window.onmousewheel=document.onmousewheel=e.handleWheel.call(e)))},handleWheel:function(t){if(this.mouseIsOver){var e=0;(t=t||window.event).wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e),t.preventDefault&&t.preventDefault(),t.returnValue=!1}},handleWheelReal:function(t){if(!this.wheelBusy){this.stopAnimation();var e=this.zoomLevel(),i=this.zoomControl,s=i.zoomFactor;this.wheelBusy=!0,t=AmCharts.fitToBounds(0<t?e*s:e/s,i.minZoomLevel,i.maxZoomLevel),s=this.mouseX/this.mapWidth,i=this.mouseY/this.mapHeight,s=(this.zoomX()-s)*(t/e)+s,e=(this.zoomY()-i)*(t/e)+i,this.zoomTo(t,s,e)}},addLegend:function(t){t.position="absolute",t.autoMargins=!1,t.valueWidth=0,t.switchable=!1,AmCharts.AmMap.base.addLegend.call(this,t)},handleLegendEvent:function(){},createDescriptionsDiv:function(){var t=document.createElement("div");this.div.appendChild(t),this.descriptionsDiv=t},drawChart:function(){AmCharts.AmMap.base.drawChart.call(this);var t=this.dataProvider;AmCharts.extend(t,new AmCharts.MapData),AmCharts.extend(this.areasSettings,new AmCharts.AreasSettings),AmCharts.extend(this.imagesSettings,new AmCharts.ImagesSettings),AmCharts.extend(this.linesSettings,new AmCharts.LinesSettings),this.mapContainer=this.container.set(),this.graphsSet.push(this.mapContainer);var e=t.mapVar;e?(this.svgData=e.svg,this.getBounds(),this.buildEverything()):(t=t.mapURL)&&this.loadXml(t)},drawBg:function(){var t=this;AmCharts.remove(t.bgSet);var e=AmCharts.rect(t.container,t.realWidth,t.realHeight,"#000",.001);e.click(function(){t.handleBackgroundClick()}),t.bgSet=e,t.set.push(e)},buildEverything:function(){var t=this;if(0<t.realWidth&&0<t.realHeight){var e=t.container;t.zoomControl.init(this,e),t.drawBg(),t.buildSVGMap();var i=t.smallMap;i&&i.init(t,e),i=t.dataProvider,isNaN(i.zoomX)&&isNaN(i.zoomY)&&isNaN(i.zoomLatitude)&&isNaN(i.zoomLongitude)&&(t.centerMap?(i.zoomLatitude=t.coordinateToLatitude(t.mapHeight/2),i.zoomLongitude=t.coordinateToLongitude(t.mapWidth/2)):(i.zoomX=0,i.zoomY=0),t.zoomInstantly=!0),t.selectObject(t.dataProvider),t.processAreas(),(i=t.valueLegend)&&i.init(t,e),(e=t.objectList)&&e.init(t),clearInterval(t.interval),t.interval=setInterval(function(){t.update.call(t)},AmCharts.updateRate),t.dispDUpd(),t.linkSet.toFront(),t.chartCreated=!0}else t.cleanChart()},hideGroup:function(t){this.showHideGroup(t,!1)},showGroup:function(t){this.showHideGroup(t,!0)},showHideGroup:function(t,e){this.showHideReal(this.imagesProcessor.allObjects,t,e),this.showHideReal(this.areasProcessor.allObjects,t,e),this.showHideReal(this.linesProcessor.allObjects,t,e)},showHideReal:function(t,e,i){for(var s=0;s<t.length;s++){var a=t[s];a.groupId==e&&(i?a.displayObject.show():a.displayObject.hide())}},update:function(){this.zoomControl.update()},animateMap:function(){var t=this;t.totalFrames=1e3*t.zoomDuration/AmCharts.updateRate,t.totalFrames+=1,t.frame=0,t.tweenPercent=0,setTimeout(function(){t.updateSize.call(t)},AmCharts.updateRate)},updateSize:function(){var t=this,e=t.totalFrames;t.frame<=e?(t.frame++,1<=(e=t.container.easeOutSine(0,t.frame,0,1,e))?(e=1,t.wheelBusy=!1):setTimeout(function(){t.updateSize.call(t)},AmCharts.updateRate),t.tweenPercent=e,t.rescaleMapAndObjects()):(e=1,t.wheelBusy=!1)},rescaleMapAndObjects:function(){var t=this.initialScale,e=this.initialX,i=this.initialY,s=this.tweenPercent;this.mapContainer.translate(e+(this.finalX-e)*s,i+(this.finalY-i)*s,t+(this.finalScale-t)*s),this.rescaleObjects(),this.updateSmallMap(),1==s&&(t={type:"zoomCompleted",chart:this},this.fire(t.type,t))},updateSmallMap:function(){this.smallMap&&this.smallMap.update()},rescaleObjects:function(){var t,e=this.mapContainer.scale,i=this.imagesProcessor.objectsToResize;for(t=0;t<i.length;t++){var s=i[t].image;s.translate(s.x,s.y,i[t].scale/e)}if(s=(i=this.linesProcessor).linesToResize)for(t=0;t<s.length;t++){var a=s[t];a.line.setAttr("stroke-width",a.thickness/e)}for(i=i.objectsToResize,t=0;t<i.length;t++)(s=i[t]).translate(s.x,s.y,1/e)},handleTouchStart:function(t){this.handleMouseMove(t),this.handleMouseDown(t)},handleTouchEnd:function(t){this.previousDistance=NaN,this.handleReleaseOutside(t)},handleMouseDown:function(t){if(this.chartCreated&&this.mouseIsOver&&(AmCharts.resetMouseOver(),this.mouseIsOver=!0,this.dragMap&&(this.stopAnimation(),this.isDragging=!0,this.mapContainerClickX=this.mapContainer.x,this.mapContainerClickY=this.mapContainer.y,this.panEventsEnabled||t&&t.preventDefault&&t.preventDefault()),(t=t||window.event).shiftKey&&1==this.developerMode&&this.getDevInfo(),t&&t.touches)){var e=this.mouseX,i=this.mouseY,s=t.touches.item(1);s&&(t=s.pageX-AmCharts.findPosX(this.div),s=s.pageY-AmCharts.findPosY(this.div),this.middleXP=(e+(t-e)/2)/this.realWidth,this.middleYP=(i+(s-i)/2)/this.realHeight)}},stopDrag:function(){this.isDragging=!1},handleReleaseOutside:function(){this.isDragging=!1,this.zoomControl.draggerUp(),this.mapWasDragged=!1;var t=this.mapContainer,e=this.mapContainerClickX,i=this.mapContainerClickY;isNaN(e)||isNaN(i)||!(2<Math.abs(t.x-e)||Math.abs(t.y-i))||(this.mapWasDragged=!0),this.mapContainerClickY=this.mapContainerClickX=NaN,this.objectWasClicked=!1,this.zoomOnDoubleClick&&this.mouseIsOver&&((t=(new Date).getTime())-this.previousClickTime<200&&20<t-this.previousClickTime&&this.doDoubleClickZoom(),this.previousClickTime=t)},handleTouchMove:function(t){this.handleMouseMove(t)},resetPinch:function(){this.mapWasPinched=!1},handleMouseMove:function(t){var e=this;AmCharts.AmMap.base.handleMouseMove.call(e,t);var i=e.previuosMouseX,s=e.previuosMouseY,a=e.mouseX,r=e.mouseY;isNaN(i)&&(i=a),isNaN(s)&&(s=r),e.mouse2X=NaN,e.mouse2Y=NaN,t&&t.touches&&((o=t.touches.item(1))&&(e.mouse2X=o.pageX-AmCharts.findPosX(e.div),e.mouse2Y=o.pageY-AmCharts.findPosY(e.div)));var o=e.mapContainer,n=e.mouse2X,h=e.mouse2Y;if(e.pinchTO&&clearTimeout(e.pinchTO),e.pinchTO=setTimeout(function(){e.resetPinch.call(e)},1e3),!isNaN(n)){e.isDragging=!1,t.preventDefault&&t.preventDefault();n=Math.sqrt(Math.pow(n-a,2)+Math.pow(h-r,2));var l=e.previousDistance;h=Math.max(e.realWidth,e.realHeight);if(Math.abs(l-n)<5&&(e.isDragging=!0),!isNaN(l)){var c=5*Math.abs(l-n)/h,u=(h=o.scale,h=l<n?h+h*c:h-h*c,l=e.zoomLevel(),e.middleXP),d=(c=e.middleYP,e.realHeight/e.mapHeight),m=e.realWidth/e.mapWidth;u=(e.zoomX()-u*m)*(h/l)+u*m,c=(e.zoomY()-c*d)*(h/l)+c*d;.1<Math.abs(h-l)&&(e.zoomTo(h,u,c,!0),e.mapWasPinched=!0,clearTimeout(e.pinchTO))}e.previousDistance=n}e.isDragging&&(e.hideBalloon(),o.translate(o.x+(a-i),o.y+(r-s),o.scale),e.updateSmallMap(),t&&t.preventDefault&&t.preventDefault()),e.previuosMouseX=a,e.previuosMouseY=r},selectObject:function(t){var e=this,i=(t=t||e.dataProvider).linkToObject;t.useTargetsZoomValues&&i&&(t.zoomX=i.zoomX,t.zoomY=i.zoomY,t.zoomLatitude=i.zoomLatitude,t.zoomLongitude=i.zoomLongitude,t.zoomLevel=i.zoomLevel);var s=e.selectedObject;s&&e.returnInitialColor(s);var a=!1;if("MapArea"==(e.selectedObject=t).objectType&&t.autoZoomReal&&(a=!0),i&&!a&&("string"==typeof i&&(i=e.getObjectById(i)),isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY))){if(e.extendMapData(i))return;e.selectObject(i)}else{if(e.allowMultipleDescriptionWindows||e.closeAllDescriptions(),clearTimeout(e.selectedObjectTimeOut),clearTimeout(e.processObjectsTimeOut),i=e.zoomDuration,!a&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)?(e.showDescriptionAndGetUrl(),e.processObjects()):(e.selectedObjectTimeOut=setTimeout(function(){e.showDescriptionAndGetUrl.call(e)},1e3*i+200),e.showObjectsAfterZoom?e.processObjectsTimeOut=setTimeout(function(){e.processObjects.call(e)},1e3*i+200):e.processObjects()),(a=t.displayObject)?(a.setAttr("stroke",t.outlineColorReal),null!=(i=t.selectedColorReal)&&a.setAttr("fill",i),t.selectable||(a.setAttr("cursor","default"),(a=t.imageLabel)&&a.setAttr("cursor","default"))):e.returnInitialColorReal(t),a=t.groupId){i=e.getGroupById(a);for(var r=0;r<i.length;r++){var o=i[r];if(a=o.displayObject){var n=o.selectedColorReal;null!=n?a.setAttr("fill",n):e.returnInitialColor(o)}}}e.zoomToSelectedObject(),s!=t&&(t={type:"selectedObjectChanged",chart:e},e.fire(t.type,t))}},returnInitialColor:function(t,e){if(this.returnInitialColorReal(t),e&&(t.isFirst=!1),i=t.groupId)for(var i=this.getGroupById(i),s=0;s<i.length;s++)this.returnInitialColorReal(i[s]),e&&(i[s].isFirst=!1)},closeAllDescriptions:function(){this.descriptionsDiv.innerHTML=""},returnInitialColorReal:function(t){t.isOver=!1;var e=t.displayObject;if(e){if("MapImage"==t.objectType){var i=t.tempScale;isNaN(i)||e.translate(e.x,e.y,i)}i=t.colorReal,t.showAsSelected&&(i=t.selectedColorReal),"bubble"==t.type&&(i=void 0),null!=i&&e.setAttr("fill",i);var s=t.image;s&&s.setAttr("fill",i),e.setAttr("stroke",t.outlineColorReal),(e=t.imageLabel)&&!t.labelInactive&&e.setAttr("fill",t.labelColorReal)}},zoomToRectangle:function(t,e,i,s){var a=this.realWidth,r=this.realHeight,o=this.mapSet.scale,n=this.zoomControl;a=AmCharts.fitToBounds(s/r<i/a?.8*a/(i*o):.8*r/(s*o),n.minZoomLevel,n.maxZoomLevel);this.zoomToMapXY(a,(t+i/2)*o,(e+s/2)*o)},zoomToLatLongRectangle:function(t,e,i,s){var a=this.dataProvider,r=this.zoomControl,o=Math.abs(i-t),n=Math.abs(e-s),h=Math.abs(a.rightLongitude-a.leftLongitude);a=Math.abs(a.topLatitude-a.bottomLatitude),r=AmCharts.fitToBounds(n/a<o/h?.8*h/o:.8*a/n,r.minZoomLevel,r.maxZoomLevel);this.zoomToLongLat(r,t+(i-t)/2,s+(e-s)/2)},getGroupById:function(t){var e=[];return this.getGroup(this.imagesProcessor.allObjects,t,e),this.getGroup(this.linesProcessor.allObjects,t,e),this.getGroup(this.areasProcessor.allObjects,t,e),e},zoomToGroup:function(t){t=this.getGroupById(t);for(var e,i,s,a,r=0;r<t.length;r++){var o=(l=t[r].displayObject.getBBox()).y,n=l.y+l.height,h=l.x,l=l.x+l.width;(o<e||isNaN(e))&&(e=o),(a<n||isNaN(a))&&(a=n),(h<i||isNaN(i))&&(i=h),(s<l||isNaN(s))&&(s=l)}i-=(t=this.mapSet.getBBox()).x,s-=t.x,a-=t.y,e-=t.y,this.zoomToRectangle(i,e,s-i,a-e)},getGroup:function(t,e,i){if(t)for(var s=0;s<t.length;s++){var a=t[s];a.groupId==e&&i.push(a)}},zoomToStageXY:function(t,e,i,s){if(!this.objectWasClicked){var a=this.zoomLevel();i=this.coordinateToLatitude((i-this.mapContainer.y)/a),e=this.coordinateToLongitude((e-this.mapContainer.x)/a);this.zoomToLongLat(t,e,i,s)}},zoomToLongLat:function(t,e,i,s){e=this.longitudeToCoordinate(e),i=this.latitudeToCoordinate(i),this.zoomToMapXY(t,e,i,s)},zoomToMapXY:function(t,e,i,s){var a=this.mapWidth,r=this.mapHeight;this.zoomTo(t,-e/a*t+this.realWidth/a/2,-i/r*t+this.realHeight/r/2,s)},zoomToSelectedObject:function(){var t=this.selectedObject,e=t.zoomLatitude,i=t.zoomLongitude,s=t.zoomLevel,a=this.zoomInstantly,r=t.zoomX,o=t.zoomY,n=this.realWidth,h=this.realHeight;isNaN(s)||(isNaN(e)||isNaN(i)?this.zoomTo(s,r,o,a):this.zoomToLongLat(s,i,e,a)),this.zoomInstantly=!1,"MapImage"==t.objectType&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&!isNaN(t.latitude)&&!isNaN(t.longitude)&&this.zoomToLongLat(t.zoomLevel,t.longitude,t.latitude),"MapArea"==t.objectType&&(r=t.displayObject.getBBox(),e=this.mapScale,i=r.x*e,s=r.y*e,a=r.width*e,r=r.height*e,n=t.autoZoomReal&&isNaN(t.zoomLevel)?r/h<a/n?.8*n/a:.8*h/r:t.zoomLevel,h=this.zoomControl,n=AmCharts.fitToBounds(n,h.minZoomLevel,h.maxZoomLevel),isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&(t=this.mapSet.getBBox(),this.zoomToMapXY(n,-t.x*e+i+a/2,-t.y*e+s+r/2)))},zoomTo:function(t,e,i,s){var a=this.zoomControl;t=AmCharts.fitToBounds(t,a.minZoomLevel,a.maxZoomLevel),a=this.zoomLevel();isNaN(e)&&(e=this.realWidth/this.mapWidth,e=(this.zoomX()-.5*e)*(t/a)+.5*e),isNaN(i)&&(i=this.realHeight/this.mapHeight,i=(this.zoomY()-.5*i)*(t/a)+.5*i),this.stopAnimation(),isNaN(t)||(a=this.mapContainer,this.initialX=a.x,this.initialY=a.y,this.initialScale=a.scale,this.finalX=this.mapWidth*e,this.finalY=this.mapHeight*i,this.finalScale=t,this.finalX!=this.initialX||this.finalY!=this.initialY||this.finalScale!=this.initialScale?s?(this.tweenPercent=1,this.rescaleMapAndObjects(),this.wheelBusy=!1):this.animateMap():this.wheelBusy=!1)},loadXml:function(t){var e;(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).overrideMimeType&&e.overrideMimeType("text/xml"),e.open("GET",t,!1),e.send(),this.parseXMLObject(e.responseXML),this.svgData&&this.buildEverything()},stopAnimation:function(){this.frame=this.totalFrames},processObjects:function(){var t=this.container,e=this.stageObjectsContainer;e&&e.remove(),this.stageObjectsContainer=e=t.set(),this.trendLinesSet.push(e);var i=this.mapObjectsContainer;i&&i.remove(),this.mapObjectsContainer=i=t.set(),this.mapContainer.push(i),i.toFront(),e.toFront(),(t=this.selectedObject)&&(this.imagesProcessor.reset(),this.linesProcessor.reset(),this.imagesProcessor.process(t),this.linesProcessor.process(t)),this.rescaleObjects()},processAreas:function(){this.areasProcessor.process(this.dataProvider)},buildSVGMap:function(){var t=this.svgData.g.path,e=this.container,i=e.set();null==t.length&&(t=[t]);for(var s=0;s<t.length;s++){var a=t[s],r=a.title,o=e.path(a.d);o.id=a.id,this.svgAreasById[a.id]={area:o,title:r},this.svgAreas.push(o),i.push(o)}this.mapSet=i,this.mapContainer.push(i),this.resizeMap()},addObjectEventListeners:function(t,e){var i=this;t.mouseup(function(){i.clickMapObject(e)}).mouseover(function(){i.rollOverMapObject(e)}).mouseout(function(){i.rollOutMapObject(e)}).touchend(function(){i.clickMapObject(e)}).touchstart(function(){i.rollOverMapObject(e)})},checkIfSelected:function(t){if((e=this.selectedObject)==t)return!0;if(e=e.groupId)for(var e=this.getGroupById(e),i=0;i<e.length;i++)if(e[i]==t)return!0;return!1},clearMap:function(){this.chartDiv.innerHTML="";var t=this.objectList;t&&(t.div.innerHTML="")},checkIfLast:function(t){if(t){var e=t.parentNode;if(e&&e.lastChild==t)return!0}return!1},showAsRolledOver:function(t){var e=t.displayObject;if(!t.showAsSelected&&e&&!t.isOver){e.node.onmouseout=function(){},e.node.onmouseover=function(){},e.node.onclick=function(){},t.isFirst||(e.toFront(),t.isFirst=!0);var i=t.rollOverColorReal;if(null!=i)if("MapImage"==t.objectType){var s=t.image;s&&s.setAttr("fill",i)}else e.setAttr("fill",i);(s=t.imageLabel)&&!t.labelInactive&&(null!=(i=t.labelRollOverColorReal)&&s.setAttr("fill",i)),null!=(i=t.rollOverOutlineColorReal)&&("MapImage"==t.objectType?(s=t.image)&&s.setAttr("stroke",i):e.setAttr("stroke",i)),"MapImage"==t.objectType&&(s=t.rollOverScaleReal,isNaN(s)||(t.tempScale=e.scale,e.translate(e.x,e.y,e.scale*s))),this.useHandCursorOnClickableOjects&&this.checkIfClickable(t)&&this.selectedObject!=t&&e.setAttr("cursor","pointer"),this.addObjectEventListeners(e,t),t.isOver=!0}},rollOverMapObject:function(t,e){if(this.chartCreated){if(this.handleMouseMove(),(i=this.previouslyHovered)&&i!=t&&0==this.checkIfSelected(i)&&(this.returnInitialColor(i,!0),this.previouslyHovered=null),0==this.checkIfSelected(t)){if(i=t.groupId)for(var i=this.getGroupById(i),s=0;s<i.length;s++)i[s]!=t&&this.showAsRolledOver(i[s]);this.showAsRolledOver(t)}else(i=t.displayObject)&&i.setAttr("cursor","default");if(this.showDescriptionOnHover)this.showDescription(t);else if((this.showBalloonOnSelectedObject||!this.checkIfSelected(t))&&!1!==e&&(s=t.balloonTextReal)&&(i=this.balloon,(s=this.formatString(s,t))&&""!=s)){var a=t.colorReal;null!=a&&this.useObjectColorForBalloon||(a=i.fillColor),clearTimeout(this.hoverInt),this.showBalloon(s,a,!0)}i={type:"rollOverMapObject",mapObject:t,chart:this},this.fire(i.type,i),this.previouslyHovered=t}},rollOutMapObject:function(t){this.hideBalloon(),this.chartCreated&&t.isOver&&(this.checkIfSelected(t)||this.returnInitialColor(t),t={type:"rollOutMapObject",mapObject:t,chart:this},this.fire(t.type,t))},formatString:function(t,e){var i=this.numberFormatter,s=this.percentFormatter,a=e.title;null==a&&(a="");var r=e.value;r=isNaN(r)?"":AmCharts.formatNumber(r,i),i=e.percents,i=isNaN(i)?"":AmCharts.formatNumber(i,s);null==(s=e.description)&&(s="");var o=e.customData;return null==o&&(o=""),AmCharts.massReplace(t,{"[[title]]":a,"[[value]]":r,"[[percent]]":i,"[[description]]":s,"[[customData]]":o})},clickMapObject:function(t){this.hideBalloon(),this.chartCreated&&!this.mapWasDragged&&this.checkIfClickable(t)&&!this.mapWasPinched&&(this.selectObject(t),t={type:"clickMapObject",mapObject:t,chart:this},this.fire(t.type,t),this.objectWasClicked=!0)},checkIfClickable:function(t){return 1==t.selectable||this.selectedObject!=t&&!(!("MapArea"==t.objectType&&t.autoZoomReal||null!=t.url||null!=t.linkToObject||0<t.images.length||0<t.lines.length)&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&!t.description)},resizeMap:function(){var t=this.mapSet;if(t)if(this.fitMapToContainer){var e=t.getBBox(),i=this.realWidth,s=this.realHeight,a=e.width,r=e.height;i=r/s<a/i?i/a:s/r;t.translate(-e.x*i,-e.y*i,i),this.mapScale=i,this.mapHeight=r*i,this.mapWidth=a*i}else e=group.transform.match(/([\-]?[\d.]+)/g),t.translate(e[0],e[1],e[2])},zoomIn:function(){var t=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomTo(t)},zoomOut:function(){var t=this.zoomLevel()/this.zoomControl.zoomFactor;this.zoomTo(t)},moveLeft:function(){var t=this.zoomX()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),t,this.zoomY())},moveRight:function(){var t=this.zoomX()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),t,this.zoomY())},moveUp:function(){var t=this.zoomY()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),t)},moveDown:function(){var t=this.zoomY()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),t)},zoomX:function(){return this.mapSet?Math.round(1e4*this.mapContainer.x/this.mapWidth)/1e4:NaN},zoomY:function(){return this.mapSet?Math.round(1e4*this.mapContainer.y/this.mapHeight)/1e4:NaN},goHome:function(){this.selectObject(this.dataProvider);var t={type:"homeButtonClicked",chart:this};this.fire(t.type,t)},zoomLevel:function(){return Math.round(1e5*this.mapContainer.scale)/1e5},showDescriptionAndGetUrl:function(){var t=this.selectedObject;if(t){this.showDescription();var e=t.url;if(null!=e)AmCharts.getURL(e,t.urlTarget);else if(e=t.linkToObject){if("string"==typeof e){var i=this.getObjectById(e);if(i)return void this.selectObject(i)}e&&t.passZoomValuesToTarget&&(e.zoomLatitude=this.zoomLatitude(),e.zoomLongitude=this.zoomLongitude(),e.zoomLevel=this.zoomLevel()),this.extendMapData(e)||this.selectObject(e)}}},extendMapData:function(t){var e=t.objectType;if("MapImage"!=e&&"MapArea"!=e&&"MapLine"!=e)return AmCharts.extend(t,new AmCharts.MapData),this.dataProvider=t,this.zoomInstantly=!0,this.validateData(),!0},showDescription:function(t){if(t=t||this.selectedObject,this.allowMultipleDescriptionWindows||this.closeAllDescriptions(),t.description){var e=t.descriptionWindow;e&&e.close(),e=new AmCharts.DescriptionWindow,t.descriptionWindow=e;var i=t.descriptionWindowWidth,s=t.descriptionWindowHeight,a=t.descriptionWindowX,r=t.descriptionWindowY;isNaN(a)&&(a=(a=this.mouseX)>this.realWidth/2?a-i-20:a+20),isNaN(r)&&(r=this.mouseY),e.maxHeight=s,e.show(this,this.descriptionsDiv,t.description,t.title),(t=e.div.style).width=i+"px",t.maxHeight=s+"px",t.left=a+"px",t.top=r+"px"}},parseXMLObject:function(t){var e={root:{}};this.parseXMLNode(e,"root",t),this.svgData=e.root.svg,this.getBounds()},getBounds:function(){var t=this.dataProvider;try{var e=this.svgData.defs["amcharts:ammap"];t.leftLongitude=Number(e.leftLongitude),t.rightLongitude=Number(e.rightLongitude),t.topLatitude=Number(e.topLatitude),t.bottomLatitude=Number(e.bottomLatitude),t.projection=e.projection}catch(t){}},latitudeToCoordinate:function(t){var e,i=this.dataProvider;if(this.mapSet){e=i.topLatitude;var s=i.bottomLatitude;"mercator"==i.projection&&(t=this.mercatorLatitudeToCoordinate(t),e=this.mercatorLatitudeToCoordinate(e),s=this.mercatorLatitudeToCoordinate(s)),e=(t-e)/(s-e)*this.mapHeight}return e},longitudeToCoordinate:function(t){var e,i=this.dataProvider;return this.mapSet&&(e=(t-(e=i.leftLongitude))/(i.rightLongitude-e)*this.mapWidth),e},mercatorLatitudeToCoordinate:function(t){return 89.5<t&&(t=89.5),t<-89.5&&(t=-89.5),t=AmCharts.degreesToRadians(t),t=.5*Math.log((1+Math.sin(t))/(1-Math.sin(t))),AmCharts.radiansToDegrees(t/2)},zoomLatitude:function(){return this.coordinateToLatitude((-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel())},zoomLongitude:function(){return this.coordinateToLongitude((-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel())},getAreaCenterLatitude:function(t){t=t.displayObject.getBBox();var e=this.mapScale;t=-this.mapSet.getBBox().y*e+(t.y+t.height/2)*e;return this.coordinateToLatitude(t)},getAreaCenterLongitude:function(t){t=t.displayObject.getBBox();var e=this.mapScale;t=-this.mapSet.getBBox().x*e+(t.x+t.width/2)*e;return this.coordinateToLongitude(t)},coordinateToLatitude:function(t){var e;if(this.mapSet){var i=this.dataProvider,s=i.bottomLatitude,a=i.topLatitude;e=this.mapHeight,e="mercator"==i.projection?(i=this.mercatorLatitudeToCoordinate(s),a=this.mercatorLatitudeToCoordinate(a),t=2*Math.atan(Math.exp(2*(t*(i-a)/e+a)*Math.PI/180))-.5*Math.PI,AmCharts.radiansToDegrees(t)):t/e*(s-a)+a}return Math.round(1e6*e)/1e6},coordinateToLongitude:function(t){var e,i=this.dataProvider;return this.mapSet&&(e=t/this.mapWidth*(i.rightLongitude-i.leftLongitude)+i.leftLongitude),Math.round(1e6*e)/1e6},milesToPixels:function(t){var e=this.dataProvider;return t*(this.mapWidth/(e.rightLongitude-e.leftLongitude))/69.172},kilometersToPixels:function(t){var e=this.dataProvider;return t*(this.mapWidth/(e.rightLongitude-e.leftLongitude))/111.325},handleBackgroundClick:function(){if(this.backgroundZoomsToTop&&!this.mapWasDragged){var t=this.dataProvider;if(this.checkIfClickable(t))this.clickMapObject(t);else{var e=t.zoomX,i=t.zoomY,s=t.zoomLongitude,a=t.zoomLatitude;t=t.zoomLevel;isNaN(e)||isNaN(i)||this.zoomTo(t,e,i),isNaN(s)||isNaN(a)||this.zoomToLongLat(t,s,a,!0)}}},parseXMLNode:function(t,e,i,s){if(null==s&&(s=""),i){for(var a=i.childNodes.length,r=0;r<a;r++){var o=(c=i.childNodes[r]).nodeName,n=c.nodeValue?this.trim(c.nodeValue):"",h=!1;if(c.attributes&&0<c.attributes.length&&(h=!0),0!=c.childNodes.length||""!=n||0!=h)if(3==c.nodeType||4==c.nodeType){if(""!=n){var l,c=0;for(l in t[e])c++;c?t[e]["#text"]=n:t[e]=n}}else if(1==c.nodeType){var u;if(null!=t[e][o]?null==t[e][o].length?(u=t[e][o],t[e][o]=[],t[e][o].push(u),t[e][o].push({}),u=t[e][o][1]):"object"==typeof t[e][o]&&(t[e][o].push({}),u=t[e][o][t[e][o].length-1]):(t[e][o]={},u=t[e][o]),c.attributes&&c.attributes.length)for(n=0;n<c.attributes.length;n++)u[c.attributes[n].name]=c.attributes[n].value;null!=t[e][o].length?this.parseXMLNode(t[e][o],t[e][o].length-1,c,s+"  "):this.parseXMLNode(t[e],o,c,s+"  ")}}for(l in c=0,i="",t[e])"#text"==l?i=t[e][l]:c++;0==c&&null==t[e].length&&(t[e]=i)}},doDoubleClickZoom:function(){if(!this.mapWasDragged){var t=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomToStageXY(t,this.mouseX,this.mouseY)}},getDevInfo:function(){var t=this.zoomLevel(),e=(e=(e=(e=(e=(e=(e="zoomLevel:"+(t={chart:this,type:"writeDevInfo",zoomLevel:t,zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLatitude:this.zoomLatitude(),zoomLongitude:this.zoomLongitude(),latitude:this.coordinateToLatitude((this.mouseY-this.mapContainer.y)/t),longitude:this.coordinateToLongitude((this.mouseX-this.mapContainer.x)/t),left:this.mouseX,top:this.mouseY,right:this.realWidth-this.mouseX,bottom:this.realHeight-this.mouseY,percentLeft:Math.round(this.mouseX/this.realWidth*100)+"%",percentTop:Math.round(this.mouseY/this.realHeight*100)+"%",percentRight:Math.round((this.realWidth-this.mouseX)/this.realWidth*100)+"%",percentBottom:Math.round((this.realHeight-this.mouseY)/this.realHeight*100)+"%"}).zoomLevel+", zoomLongitude:"+t.zoomLongitude+", zoomLatitude:"+t.zoomLatitude+"\n")+"zoomX:"+t.zoomX+", zoomY:"+t.zoomY+"\n")+"latitude:"+t.latitude+", longitude:"+t.longitude+"\n")+"left:"+t.left+", top:"+t.top+"\n")+"right:"+t.right+", bottom:"+t.bottom+"\n")+'left:"'+t.percentLeft+'", top:"'+t.percentTop+'"\n')+'right:"'+t.percentRight+'", bottom:"'+t.percentBottom+'"\n';t.str=e,this.fire(t.type,t)},getXY:function(t,e,i){return null!=t&&(-1!=String(t).indexOf("%")?(t=Number(t.split("%").join("")),i&&(t=100-t),t=Number(t)*e/100):i&&(t=e-t)),t},getObjectById:function(t){var e=this.dataProvider;if(e.areas){var i=this.getObject(t,e.areas);if(i)return i}return(i=this.getObject(t,e.images))?i:(t=this.getObject(t,e.lines))?t:void 0},getObject:function(t,e){if(e)for(var i=0;i<e.length;i++){var s=e[i];if(s.id==t)return s;if(s.areas){var a=this.getObject(t,s.areas);if(a)return a}if(a=this.getObject(t,s.images))return a;if(s=this.getObject(t,s.lines))return s}},parseData:function(){var t=this.dataProvider;this.processObject(t.areas,t,"area"),this.processObject(t.images,t,"image"),this.processObject(t.lines,t,"line")},processObject:function(t,e,i){if(t)for(var s=0;s<t.length;s++){var a=t[s];a.parentObject=e,"area"==i&&AmCharts.extend(a,new AmCharts.MapArea),"image"==i&&AmCharts.extend(a,new AmCharts.MapImage),"line"==i&&AmCharts.extend(a,new AmCharts.MapLine),a.areas&&this.processObject(a.areas,a,"area"),a.images&&this.processObject(a.images,a,"image"),a.lines&&this.processObject(a.lines,a,"line")}},getX:function(t,e){return this.getXY(t,this.realWidth,e)},getY:function(t,e){return this.getXY(t,this.realHeight,e)},trim:function(t){if(t){for(var e=0;e<t.length;e++)if(-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(e))){t=t.substring(e);break}for(e=t.length-1;0<=e;e--)if(-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(e))){t=t.substring(0,e+1);break}return-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(0))?t:""}},drb:function(){var t=this.product,e=t+".com";if(2<=(a=window.location.hostname.split(".")).length)var i=a[a.length-2]+"."+a[a.length-1];if(AmCharts.remove(this.bbset),i!=e){e=e+"/?utm_source=swf&utm_medium=demo&utm_campaign=jsDemo"+t;var s="chart by ",a=145;for("ammap"==t&&(s="tool by ",a=125),i=AmCharts.rect(this.container,a,20,"#FFFFFF",1),(s=AmCharts.text(this.container,s+t+".com","#000000","Verdana",11,"start")).translate(7,9),i=this.container.set([i,s]),"ammap"==t&&i.translate(this.realWidth-a,0),this.bbset=i,this.linkSet.push(i),i.setAttr("cursor","pointer"),i.click(function(){window.location.href="http://"+e}),t=0;t<i.length;t++)i[t].attr({cursor:"pointer"})}}}),AmCharts.ZoomControl=AmCharts.Class({construct:function(){this.panStepSize=.1,this.zoomFactor=2,this.maxZoomLevel=64,this.minZoomLevel=1,this.zoomControlEnabled=this.panControlEnabled=!0,this.buttonRollOverColor="#CC0000",this.buttonFillColor="#990000",this.buttonFillAlpha=1,this.buttonBorderColor="#FFFFFF",this.buttonBorderThickness=this.buttonBorderAlpha=1,this.buttonIconColor="#FFFFFF",this.buttonColorHover="#FF0000",this.gridColor=this.homeIconColor="#FFFFFF",this.gridBackgroundColor="#000000",this.gridBackgroundAlpha=.15,this.gridAlpha=1,this.buttonSize=18,this.iconSize=11,this.buttonCornerRadius=0,this.gridHeight=150,this.top=this.left=10},init:function(t,e){var i=this;i.chart=t,AmCharts.remove(i.set);var s=e.set();s.translate(t.getX(i.left),t.getY(i.top));var a=i.buttonSize,r=i.buttonFillColor,o=i.buttonFillAlpha,n=i.buttonBorderThickness,h=i.buttonBorderColor,l=i.buttonBorderAlpha,c=i.buttonCornerRadius,u=i.buttonRollOverColor,d=i.gridHeight,m=i.zoomFactor,p=i.minZoomLevel,f=i.maxZoomLevel;if(i.zoomControlEnabled){var g=e.set();s.push(g),i.set=s,i.zoomSet=g,(C=AmCharts.rect(e,a+6,d+2*a+6,i.gridBackgroundColor,i.gridBackgroundAlpha,0,0,0,4)).translate(-3,-3),C.mouseup(function(){i.handleBgUp()}),g.push(C),(C=new AmCharts.SimpleButton).setIcon(t.pathToImages+"plus.gif",i.iconSize),C.setClickHandler(t.zoomIn,t),C.init(e,a,a,r,o,n,h,l,c,u),g.push(C.set),(C=new AmCharts.SimpleButton).setIcon(t.pathToImages+"minus.gif",i.iconSize),C.setClickHandler(t.zoomOut,t),C.init(e,a,a,r,o,n,h,l,c,u),C.set.translate(0,d+a),g.push(C.set);for(var v=Math.log(f/p)/Math.log(m)+1,C=d/v,b=1;b<v;b++){var A=a+b*C;A=AmCharts.line(e,[1,a-2],[A,A],i.gridColor,i.gridAlpha,1);g.push(A)}(v=new AmCharts.SimpleButton).setDownHandler(i.draggerDown,i),v.setClickHandler(i.draggerUp,i),v.init(e,a,C,r,o,n,h,l,c,u),g.push(v.set),i.dragger=v.set,d-=C,p=Math.log(p/100)/Math.log(m),m=Math.log(f/100)/Math.log(m),i.realStepSize=d/(m-p),i.realGridHeight=d,i.stepMax=m}i.panControlEnabled&&(m=e.set(),s.push(m),g&&g.translate(a,4*a),(g=new AmCharts.SimpleButton).setIcon(t.pathToImages+"panLeft.gif",i.iconSize),g.setClickHandler(t.moveLeft,t),g.init(e,a,a,r,o,n,h,l,c,u),g.set.translate(0,a),m.push(g.set),(g=new AmCharts.SimpleButton).setIcon(t.pathToImages+"panRight.gif",i.iconSize),g.setClickHandler(t.moveRight,t),g.init(e,a,a,r,o,n,h,l,c,u),g.set.translate(2*a,a),m.push(g.set),(g=new AmCharts.SimpleButton).setIcon(t.pathToImages+"panUp.gif",i.iconSize),g.setClickHandler(t.moveUp,t),g.init(e,a,a,r,o,n,h,l,c,u),g.set.translate(a,0),m.push(g.set),(g=new AmCharts.SimpleButton).setIcon(t.pathToImages+"panDown.gif",i.iconSize),g.setClickHandler(t.moveDown,t),g.init(e,a,a,r,o,n,h,l,c,u),g.set.translate(a,2*a),m.push(g.set),(o=new AmCharts.SimpleButton).setIcon(t.pathToImages+"homeIcon.gif",i.iconSize),o.setClickHandler(t.goHome,t),o.init(e,a,a,r,0,0,h,0,c,u),o.set.translate(a,a),m.push(o.set),m=e.set(),s.push(m))},draggerDown:function(){this.chart.stopDrag(),this.isDragging=!0},draggerUp:function(){this.isDragging=!1},handleBgUp:function(){var t=this.chart,e=100*Math.pow(this.zoomFactor,this.stepMax-(t.mouseY-this.zoomSet.y-this.set.y-this.buttonSize-this.realStepSize/2)/this.realStepSize);t.zoomTo(e)},update:function(){var t,e=this.zoomFactor,i=this.realStepSize,s=this.stepMax,a=this.dragger,r=this.buttonSize,o=this.chart;this.isDragging?(o.stopDrag(),t=a.y+(o.mouseY-this.previousY),t=AmCharts.fitToBounds(t,r,this.realGridHeight+r),i=100*Math.pow(e,s-(t-r)/i),o.zoomTo(i,NaN,NaN,!0)):t=(s-(t=Math.log(o.zoomLevel()/100)/Math.log(e)))*i+r,this.previousY=o.mouseY,a&&a.translate(0,t)}}),AmCharts.SimpleButton=AmCharts.Class({construct:function(){},init:function(t,e,i,s,a,r,o,n,h,l){var c=this;c.rollOverColor=l,c.color=s,l=t.set(),c.set=l,s=AmCharts.rect(t,e,i,s,a,r,o,n,h),l.push(s),(a=c.iconPath)&&(r=c.iconSize,t=t.image(a,(e-r)/2,(i-r)/2,r,r),l.push(t),t.mousedown(function(){c.handleDown()}).mouseup(function(){c.handleUp()}).mouseover(function(){c.handleOver()}).mouseout(function(){c.handleOut()})),s.mousedown(function(){c.handleDown()}).mouseup(function(){c.handleUp()}).mouseover(function(){c.handleOver()}).mouseout(function(){c.handleOut()}),c.bg=s},setIcon:function(t,e){this.iconPath=t,this.iconSize=e},setClickHandler:function(t,e){this.clickHandler=t,this.scope=e},setDownHandler:function(t,e){this.downHandler=t,this.scope=e},handleUp:function(){var t=this.clickHandler;t&&t.call(this.scope)},handleDown:function(){var t=this.downHandler;t&&t.call(this.scope)},handleOver:function(){this.bg.setAttr("fill",this.rollOverColor)},handleOut:function(){this.bg.setAttr("fill",this.color)}}),AmCharts.SmallMap=AmCharts.Class({construct:function(){this.mapColor="#e6e6e6",this.rectangleColor="#FFFFFF",this.right=10,this.left,this.bottom,this.top=10,this.minimizeButtonWidth=16,this.backgroundColor="#9A9A9A",this.backgroundAlpha=1,this.borderColor="#FFFFFF",this.borderThickness=3,this.borderAlpha=1,this.size=.2},init:function(t,e){var i=this;i.chart=t,i.container=e,i.width=t.realWidth*i.size,i.height=t.realHeight*i.size,AmCharts.remove(i.set);var s=e.set();i.set=s;var a=e.set();i.allSet=a,s.push(a),i.buildSVGMap();var r=i.borderThickness,o=i.borderColor;(l=AmCharts.rect(e,i.width+r,i.height+r,i.backgroundColor,i.backgroundAlpha,r,o,i.borderAlpha)).translate(-r/2,-r/2),a.push(l),l.toBack();var n,h,l=i.minimizeButtonWidth,c=new AmCharts.SimpleButton;c.setIcon(t.pathToImages+"arrowDown.gif",l),c.setClickHandler(i.minimize,i),c.init(e,l,l,o,1,1,o,1),c=c.set,i.downButtonSet=c,s.push(c);var u,d,m=new AmCharts.SimpleButton;m.setIcon(t.pathToImages+"arrowUp.gif",l),m.setClickHandler(i.maximize,i),m.init(e,l,l,o,1,1,o,1),o=m.set,(i.upButtonSet=o).hide(),s.push(o),isNaN(i.top)||(n=t.getY(i.top)+r,d=0),isNaN(i.bottom)||(n=t.getY(i.bottom,!0)-i.height-r,d=i.height-l+r/2),isNaN(i.left)||(h=t.getX(i.left)+r,u=-r/2),isNaN(i.right)||(h=t.getX(i.right,!0)-i.width-r,u=i.width-l+r/2),(r=e.set()).clipRect(1,1,i.width,i.height),a.push(r),i.rectangleC=r,s.translate(h,n),c.translate(u,d),o.translate(u,d),a.mouseup(function(){i.handleMouseUp()}),i.drawRectangle()},minimize:function(){this.downButtonSet.hide(),this.upButtonSet.show(),this.allSet.hide()},maximize:function(){this.downButtonSet.show(),this.upButtonSet.hide(),this.allSet.show()},buildSVGMap:function(){for(var t=this.chart,e={fill:this.mapColor,stroke:this.mapColor,"stroke-opacity":1},i=t.svgData.g.path,s=(o=this.container).set(),a=0;a<i.length;a++){path=i[a].d;var r=o.path(path).attr(e);s.push(r)}this.allSet.push(s);e=s.getBBox(),i=this.size*t.mapScale;var o=-e.x*i,n=(a=-e.y*i,r=0);t.centerMap&&(r=(this.width-e.width*i)/2,n=(this.height-e.height*i)/2),this.mapWidth=e.width*i,this.mapHeight=e.height*i,this.dx=r,this.dy=n,s.translate(o+r,a+n,i)},update:function(){var t=(s=this.chart).zoomLevel(),e=this.width,i=s.mapContainer,s=e/(s.realWidth*t),a=(e=e/t,t=this.height/t,this.rectangle);a.translate(-i.x*s+this.dx,-i.y*s+this.dy),0<e&&0<t&&(a.setAttr("width",e),a.setAttr("height",t)),this.rWidth=e,this.rHeight=t},drawRectangle:function(){var t=this.rectangle;AmCharts.remove(t),t=AmCharts.rect(this.container,10,10,"#000",0,1,this.rectangleColor,1),this.rectangleC.push(t),this.rectangle=t},handleMouseUp:function(){var t=this.chart,e=t.zoomLevel();t.zoomTo(e,-(t.mouseX-this.set.x-this.dx-this.rWidth/2)/this.mapWidth*e,-(t.mouseY-this.set.y-this.dy-this.rHeight/2)/this.mapHeight*e)}}),AmCharts.AreasProcessor=AmCharts.Class({construct:function(t){this.chart=t},process:function(t){this.updateAllAreas(),this.allObjects=[];t=t.areas;var e,i,s=this.chart,a=s.areasSettings,r=t.length,o=0,n=0,h=s.svgAreasById,l=a.color,c=a.alpha,u=a.outlineThickness,d=a.rollOverColor,m=a.selectedColor,p=a.rollOverAlpha,f=a.outlineColor,g=a.outlineAlpha,v=a.balloonText,C=a.rollOverOutlineColor,b=0;for(e=0;e<r;e++)i=t[e],b<(i=Math.abs(i.value))&&(b=i),isNaN(i)||(o+=i);for(s.maxValue=b,e=0;e<r;e++)i=t[e],isNaN(i.value)?i.percents=void 0:(i.percents=i.value/o*100,n<i.percents&&(n=i.percents));for(e=0;e<r;e++){i=t[e],this.allObjects.push(i),i.chart=s,i.baseSettings=a,i.autoZoomReal=null==i.autoZoom?a.autoZoom:i.autoZoom,null==(o=i.color)&&(o=l),b=i.alpha,isNaN(b)&&(b=c);var A=i.rollOverAlpha;isNaN(A)&&(A=p),isNaN(A)&&(A=b);var w=i.rollOverColor;null==w&&(w=d);var M=i.selectedColor;null==M&&(M=m);var N=i.balloonText;if(N=N||v,null!=a.colorSolid)if(isNaN(i.percents))i.colorReal=o;else{var L=i.percents/n,S=100/(s.colorSteps-1);L=Math.ceil(100*L/S)*S/100;i.colorReal=AmCharts.getColorFade(o,a.colorSolid,L)}null==(L=i.outlineColor)&&(L=f),S=i.outlineAlpha,isNaN(S)&&(S=g);var x=i.outlineThickness;isNaN(x)&&(x=u);var O,y=i.rollOverOutlineColor;if(null==y&&(y=C),i.alphaReal=b,i.rollOverColorReal=w,i.rollOverAlphaReal=A,i.balloonTextReal=N,i.selectedColorReal=M,i.outlineColorReal=L,i.outlineAlphaReal=S,i.rollOverOutlineColorReal=y,AmCharts.processDescriptionWindow(a,i),w=h[i.id])if(A=w.area,(w=w.title)&&!i.title&&(i.title=w),A)i.displayObject=A,i.mouseEnabled&&s.addObjectEventListeners(A,i),null!=o&&(O=o),null!=i.colorReal&&(O=i.showAsSelected||s.selectedObject==i?i.selectedColorReal:i.colorReal),A.setAttr("fill",O),A.setAttr("stroke",L),A.setAttr("stroke-opacity",S),A.setAttr("stroke-width",x),A.setAttr("fill-opacity",b)}},updateAllAreas:function(){for(var t,e=(t=this.chart).areasSettings,i=e.unlistedAreasColor,s=e.unlistedAreasAlpha,a=e.unlistedAreasOutlineColor,r=e.unlistedAreasOutlineAlpha,o=t.svgAreas,n=(t=t.dataProvider).areas,h={},l=0;l<n.length;l++)h[n[l].id]=n[l];for(l=0;l<o.length;l++)if(n=o[l],null!=i&&n.setAttr("fill",i),isNaN(s)||n.setAttr("fill-opacity",s),null!=a&&n.setAttr("stroke",a),isNaN(r)||n.setAttr("stroke-opacity",r),n.setAttr("stroke-width",e.outlineThickness),t.getAreasFromMap&&!h[n.id]){var c=new AmCharts.MapArea;c.parentObject=t,c.id=n.id,t.areas.push(c)}}}),AmCharts.AreasSettings=AmCharts.Class({construct:function(){this.alpha=1,this.autoZoom=!1,this.balloonText="[[title]]",this.color="#FFCC00",this.colorSolid="#990000",this.unlistedAreasAlpha=1,this.unlistedAreasColor="#DDDDDD",this.outlineColor="#FFFFFF",this.outlineAlpha=1,this.outlineThickness=.5,this.rollOverColor,this.selectedColor=this.rollOverOutlineColor="#CC0000",this.unlistedAreasOutlineColor="#FFFFFF",this.unlistedAreasOutlineAlpha=1}}),AmCharts.ImagesProcessor=AmCharts.Class({construct:function(t){this.chart=t,this.reset()},process:function(t){for(var e=t.images,i=0;i<e.length;i++)this.createImage(e[i],i);t.parentObject&&t.remainVisible&&this.process(t.parentObject)},createImage:function(t,e){var i=this.chart,s=i.container,a=i.imagesSettings,r=i.mapObjectsContainer,o=i.stageObjectsContainer;a=i.imagesSettings;t.remove();var n=a.color,h=a.alpha,l=a.rollOverColor,c=a.selectedColor,u=a.balloonText,d=a.outlineColor,m=a.outlineAlpha,p=a.outlineThickness,f=a.selectedScale,g=a.labelPosition,v=a.labelColor,C=a.labelFontSize,b=a.labelRollOverColor;t.index=e,t.chart=i,t.baseSettings=i.imagesSettings;var A=s.set();t.displayObject=A;var w,M=t.color;null==M&&(M=n),n=t.alpha,isNaN(n)&&(n=h),h=t.outlineAlpha,isNaN(h)&&(h=m),null==(m=t.rollOverColor)&&(m=l),null==(l=t.selectedColor)&&(l=c),(c=t.balloonText)||(c=u),null==(u=t.outlineColor)&&(u=d),null==u&&(u=M),d=t.outlineThickness,isNaN(d)&&(d=p),(p=t.labelPosition)||(p=g),null==(g=t.labelColor)&&(g=v),null==(v=t.labelRollOverColor)&&(v=b),b=t.labelFontSize,isNaN(b)&&(b=C),C=t.selectedScale,isNaN(C)&&(C=f),isNaN(t.rollOverScale),t.colorReal=M,t.alphaReal=n,t.rollOverColorReal=m,t.balloonTextReal=c,t.selectedColorReal=l,t.labelColorReal=g,t.labelRollOverColorReal=v,t.labelFontSizeReal=b,t.labelPositionReal=p,t.selectedScaleReal=C,t.rollOverScaleReal=C,AmCharts.processDescriptionWindow(a,t),t.centeredReal=null==t.centered?a.centered:t.centered,v=t.type,m=t.imageURL,g=t.svgPath,C=t.width,b=t.height,a=t.scale,isNaN(t.percentWidth)||(C=t.percentWidth/100*i.realWidth),isNaN(t.percentHeight)||(b=t.percentHeight/100*i.realHeight),m||v||g||(v="circle",C=1,h=n=0),f=t.selectedColorReal,v?(isNaN(C)&&(C=10),isNaN(b)&&(b=10),"kilometers"==t.widthAndHeightUnits&&(C=i.kilometersToPixels(t.width),b=i.kilometersToPixels(t.height)),"miles"==t.widthAndHeightUnits&&(C=i.milesToPixels(t.width),b=i.milesToPixels(t.height)),w=this.createPredefinedImage(M,u,d,v,C,b),d=u=0,t.centeredReal&&(u=isNaN(t.right)?-C/2:C/2,d=isNaN(t.bottom)?-b/2:b/2),w.translate(u,d)):m?(isNaN(C)&&(C=10),isNaN(b)&&(b=10),(w=s.image(m,0,0,C,b)).node.setAttribute("preserveAspectRatio","none"),w.setAttr("opacity",n),t.centeredReal&&(u=isNaN(t.right)?-C/2:C/2,d=isNaN(t.bottom)?-b/2:b/2,w.translate(u,d))):g&&(d=(w=s.path(g)).getBBox(),t.centeredReal?(u=-d.x*a-d.width*a/2,isNaN(t.right)||(u=-u),d=-d.y*a-d.height*a/2,isNaN(t.bottom)||(d=-d)):u=d=0,w.translate(u,d,a),w.x=u,w.y=d),w&&(A.push(w),(t.image=w).setAttr("stroke-opacity",h),w.setAttr("fill-opacity",n),w.setAttr("fill",M)),!t.showAsSelected&&i.selectedObject!=t||null==f||w.setAttr("fill",f),M=null,t.label&&(M=AmCharts.text(s,t.label,t.labelColorReal,i.fontFamily,t.labelFontSizeReal,t.labelAlign),t.imageLabel=M,!t.labelInactive&&t.mouseEnabled&&i.addObjectEventListeners(M,t),A.push(M)),isNaN(t.latitude)||isNaN(t.longitude)?o.push(A):r.push(A),A&&(A.rotation=t.rotation),this.updateSizeAndPosition(t),t.mouseEnabled&&i.addObjectEventListeners(A,t)},updateSizeAndPosition:function(t){var e=this.chart,i=t.displayObject,s=e.getX(t.left),a=e.getY(t.top),r=t.image.getBBox();isNaN(t.right)||(s=e.getX(t.right,!0)-r.width*t.scale),isNaN(t.bottom)||(a=e.getY(t.bottom,!0)-r.height*t.scale);var o=t.longitude,n=t.latitude;r=this.objectsToResize;this.allSvgObjects.push(i),this.allObjects.push(t);var h=t.imageLabel;isNaN(s)||isNaN(a)?isNaN(n)||isNaN(o)||(s=e.longitudeToCoordinate(o),a=e.latitudeToCoordinate(n),i.translate(s,a),!t.fixedSize)||(s=1,!t.showAsSelected&&e.selectedObject!=t||(s=t.selectedScaleReal),r.push({image:i,scale:s})):i.translate(s,a),this.positionLabel(h,t,t.labelPositionReal)},positionLabel:function(t,e,i){if(t){var s=0,a=0,r=0,o=0;(n=e.image)&&(o=n.getBBox(),a=n.y,s=n.x,r=o.width,o=o.height,e.svgPath&&(r*=e.scale,o*=e.scale));var n=(h=t.getBBox()).width,h=h.height;"right"==i&&(s+=r+n/2+5,a+=o/2-2),"left"==i&&(s+=-n/2-5,a+=o/2-2),"top"==i&&(a-=h/2+3,s+=r/2),"bottom"==i&&(a+=o+h/2,s+=r/2),"middle"==i&&(s+=r/2,a+=o/2),t.translate(s+e.labelShiftX,a+e.labelShiftY)}},createPredefinedImage:function(t,e,i,s,a,r){var o,n=this.chart.container;switch(s){case"circle":o=AmCharts.circle(n,a/2,t,1,i,e,1);break;case"rectangle":(o=AmCharts.rect(n,a,r,t,1,i,e,1)).translate(-a/2,-r/2);break;case"bubble":o=AmCharts.circle(n,a/2,t,1,i,e,1,!0)}return o},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.allLabels=[]}}),AmCharts.ImagesSettings=AmCharts.Class({construct:function(){this.balloonText="[[title]]",this.alpha=1,this.borderColor,this.borderAlpha=0,this.borderThickness=1,this.labelPosition="right",this.labelColor="#000000",this.labelFontSize=11,this.color="#000000",this.labelRollOverColor="#00CC00",this.centered=!0,this.rollOverScale=this.selectedScale=1}}),AmCharts.LinesProcessor=AmCharts.Class({construct:function(t){this.chart=t,this.reset()},process:function(t){for(var e=t.lines,i=this.chart,s=i.linesSettings,a=this.objectsToResize,r=i.mapObjectsContainer,o=i.stageObjectsContainer,n=s.thickness,h=s.dashLength,l=s.arrow,c=s.arrowSize,u=s.arrowColor,d=s.arrowAlpha,m=s.color,p=s.alpha,f=s.rollOverColor,g=s.selectedColor,v=s.rollOverAlpha,C=s.balloonText,b=i.container,A=0;A<e.length;A++){var w=e[A];w.chart=i,w.baseSettings=s;var M=b.set();if(w.displayObject=M,this.allSvgObjects.push(M),this.allObjects.push(w),w.mouseEnabled&&i.addObjectEventListeners(M,w),w.remainVisible||i.selectedObject==w.parentObject){var N=w.thickness;isNaN(N)&&(N=n);var L=w.dashLength;isNaN(L)&&(L=h);var S=w.color;null==S&&(S=m);var x=w.alpha;isNaN(x)&&(x=p);var O=w.rollOverAlpha;isNaN(O)&&(O=v),isNaN(O)&&(O=x),null==(j=w.rollOverColor)&&(j=f);var y=w.selectedColor;null==y&&(y=g),B=(B=w.balloonText)||C;var T=w.arrow;T=T||l;var z=w.arrowColor;null==z&&(z=u),null==z&&(z=S);var k=w.arrowAlpha;isNaN(k)&&(k=d),isNaN(k)&&(k=x);var I=w.arrowSize;isNaN(I)&&(I=c),w.alphaReal=x,w.colorReal=S,w.rollOverColorReal=j,w.rollOverAlphaReal=O,w.balloonTextReal=B,w.selectedColorReal=y,w.thicknessReal=N,AmCharts.processDescriptionWindow(s,w);O=this.processCoordinates(w.x,i.realWidth);var D,j=this.processCoordinates(w.y,i.realHeight),R=w.longitudes,B=w.latitudes,F=R.length;if(0<F)for(O=[],D=0;D<F;D++)O.push(i.longitudeToCoordinate(R[D]));if(0<(F=B.length))for(j=[],D=0;D<F;D++)j.push(i.latitudeToCoordinate(B[D]));if(0<O.length){var P,W,H;if(AmCharts.dx=0,AmCharts.dy=0,L=AmCharts.line(b,O,j,S,1,N,L),AmCharts.dx=.5,AmCharts.dy=.5,M.push(L),M.setAttr("opacity",x),"none"!=T)"end"!=T&&"both"!=T||(x=O[O.length-1],S=j[j.length-1],P=1<O.length?(R=O[O.length-2],j[j.length-2]):(R=x,S),P=180*Math.atan((S-P)/(x-R))/Math.PI,H=S,P=(W=x)-R<0?P-90:P+90),"both"==T&&(x=AmCharts.polygon(b,[-I/2,0,I/2],[1.5*I,0,1.5*I],z,k,1,z,k),M.push(x),x.translate(W,H),x.rotate(P),w.fixedSize&&a.push(x)),"start"!=T&&"both"!=T||(x=O[0],H=j[0],W=1<O.length?(S=O[1],j[1]):(S=x,H),P=180*Math.atan((H-W)/(x-S))/Math.PI,P=(W=x)-S<0?P-90:P+90),"middle"==T&&(x=O[O.length-1],S=j[j.length-1],P=1<O.length?(R=O[O.length-2],j[j.length-2]):(R=x,S),W=R+(x-R)/2,H=P+(S-P)/2,P=180*Math.atan((S-P)/(x-R))/Math.PI,P=x-R<0?P-90:P+90),x=AmCharts.polygon(b,[-I/2,0,I/2],[1.5*I,0,1.5*I],z,k,1,z,k),M.push(x),x.translate(W,H),x.rotate(P),w.fixedSize&&a.push(x);w.fixedSize&&L&&this.linesToResize.push({line:L,thickness:N}),w.showAsSelected&&!isNaN(y)&&L.setAttr("stroke",y),0<B.length?r.push(M):o.push(M)}}}t.parentObject&&t.remainVisible&&this.process(t.parentObject)},processCoordinates:function(t,e){for(var i=[],s=0;s<t.length;s++){var a=t[s],r=Number(a);isNaN(r)&&(r=Number(a.replace("%",""))*e/100),isNaN(r)||i.push(r)}return i},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.linesToResize=[]}}),AmCharts.LinesSettings=AmCharts.Class({construct:function(){this.balloonText="[[title]]",this.thickness=1,this.dashLength=0,this.arrowSize=10,this.arrowAlpha=1,this.arrowColor,this.arrow="none",this.color="#990000"}}),AmCharts.MapObject=AmCharts.Class({construct:function(){this.fixedSize=this.mouseEnabled=!0,this.images=[],this.lines=[],this.areas=[],this.remainVisible=!0,this.showInList,this.passZoomValuesToTarget=this.selectable=!1}}),AmCharts.MapArea=AmCharts.Class({inherits:AmCharts.MapObject,construct:function(){this.objectType="MapArea",AmCharts.MapArea.base.construct.call(this)}}),AmCharts.MapLine=AmCharts.Class({inherits:AmCharts.MapObject,construct:function(){this.longitudes=[],this.latitudes=[],this.x=[],this.y=[],this.objectType="MapLine",this.arrow="none",AmCharts.MapLine.base.construct.call(this)}}),AmCharts.MapImage=AmCharts.Class({inherits:AmCharts.MapObject,construct:function(){this.scale=1,this.widthAndHeightUnits="pixels",this.objectType="MapImage",this.labelShiftY=this.labelShiftX=0,AmCharts.MapImage.base.construct.call(this)},remove:function(){var t=this.displayObject;t&&t.remove(),(t=this.imageLabel)&&t.remove()}}),AmCharts.degreesToRadians=function(t){return t/180*Math.PI},AmCharts.radiansToDegrees=function(t){return t/Math.PI*180},AmCharts.getColorFade=function(t,e,i){e=(a=AmCharts.hex2RGB(e))[0];var s=a[1],a=a[2],r=(t=(o=AmCharts.hex2RGB(t))[0],o[1]),o=o[2];return"rgb("+(t=t+Math.round((e-t)*i))+","+(r=r+Math.round((s-r)*i))+","+(o=o+Math.round((a-o)*i))+")"},AmCharts.hex2RGB=function(t){return[parseInt(t.substring(1,3),16),parseInt(t.substring(3,5),16),parseInt(t.substring(5,7),16)]},AmCharts.processDescriptionWindow=function(t,e){var i=t.descriptionWindowX,s=t.descriptionWindowY,a=t.descriptionWindowWidth,r=t.descriptionWindowHeight,o=e.descriptionWindowX;isNaN(o)&&(o=i),i=e.descriptionWindowY,isNaN(i)&&(i=s),s=e.descriptionWindowWidth,isNaN(s)&&(s=a),a=e.descriptionWindowHeight,isNaN(a)&&(a=r),e.descriptionWindowX=o,e.descriptionWindowY=i,e.descriptionWindowWidth=s,e.descriptionWindowHeight=a},AmCharts.MapData=AmCharts.Class({inherits:AmCharts.MapObject,construct:function(){AmCharts.MapData.base.construct.call(this),this.projection="mercator",this.topLatitude=90,this.bottomLatitude=-90,this.leftLongitude=-180,this.rightLongitude=180,this.zoomLevel=1,this.objectType="MapData",this.getAreasFromMap=!1}}),AmCharts.DescriptionWindow=AmCharts.Class({construct:function(){},show:function(t,e,i,s){var a=this,r=document.createElement("div");r.style.position="absolute",r.className="ammapDescriptionWindow",a.div=r,e.appendChild(r);var o=document.createElement("img");o.className="ammapDescriptionWindowCloseButton",o.src=t.pathToImages+"xIcon.gif",o.style.cssFloat="right",o.onclick=function(){a.close()},o.onmouseover=function(){o.src=t.pathToImages+"xIconH.gif"},o.onmouseout=function(){o.src=t.pathToImages+"xIcon.gif"},r.appendChild(o),(e=document.createElement("div")).className="ammapDescriptionTitle",e.onmousedown=function(){a.div.style.zIndex=1e3},r.appendChild(e),s=document.createTextNode(s),e.appendChild(s),s=e.offsetHeight,(e=document.createElement("div")).className="ammapDescriptionText",e.style.maxHeight=a.maxHeight-s-20+"px",r.appendChild(e),e.innerHTML=i},close:function(){try{this.div.parentNode.removeChild(this.div)}catch(t){}}}),AmCharts.ValueLegend=AmCharts.Class({construct:function(){this.showAsGradient=!1,this.minValue=0,this.maxValue,this.height=12,this.width=200,this.right,this.bottom=this.left=10,this.top,this.borderColor="#FFFFFF",this.borderAlpha=this.borderThickness=1,this.color="#000000",this.fontSize=11},init:function(t,e){var i=t.areasSettings.color,s=t.areasSettings.colorSolid,a=t.colorSteps;AmCharts.remove(this.set);var r=e.set();this.set=r;var o=0,n=this.minValue,h=this.fontSize,l=t.fontFamily,c=this.color;if(null!=n&&((o=AmCharts.text(e,n,c,l,h,"left")).translate(0,h/2-1),r.push(o),o=o.getBBox().height),null==(n=this.maxValue)&&(n=t.maxValue),null!=n&&((o=AmCharts.text(e,n,c,l,h,"right")).translate(this.width,h/2-1),r.push(o),o=o.getBBox().height),this.showAsGradient)(i=AmCharts.rect(e,this.width,this.height,[i,s],1,this.borderThickness,this.borderColor,1,0,0)).translate(0,o),r.push(i);else for(h=this.width/a,l=0;l<a;l++)c=AmCharts.getColorFade(i,s,l/(a-1)),(c=AmCharts.rect(e,h,this.height,c,1,this.borderThickness,this.borderColor,1)).translate(h*l,o),r.push(c);s=i=0,a=r.getBBox(),o=t.getY(this.bottom,!0),h=t.getY(this.top),l=t.getX(this.right,!0),c=t.getX(this.left),isNaN(h)||(i=h),isNaN(o)||(i=o-a.height),isNaN(c)||(s=c),isNaN(l)||(s=l-a.width),r.translate(s,i)}}),AmCharts.ObjectList=AmCharts.Class({construct:function(t){this.div="object"!=typeof t?document.getElementById(t):t},init:function(t){this.chart=t;var e=document.createElement("div");e.className="ammapObjectList",this.div.appendChild(e),this.addObjects(t.dataProvider,e)},addObjects:function(t,e){var i,s=this.chart,a=document.createElement("ul");if(t.areas)for(i=0;i<t.areas.length;i++){var r=t.areas[i];null==r.showInList&&(r.showInList=s.showAreasInList),this.addObject(r,a)}if(t.images)for(i=0;i<t.images.length;i++)null==(r=t.images[i]).showInList&&(r.showInList=s.showImagesInList),this.addObject(r,a);if(t.lines)for(i=0;i<t.lines.length;i++)null==(r=t.lines[i]).showInList&&(r.showInList=s.showLinesInList),this.addObject(r,a);0<a.childNodes.length&&e.appendChild(a)},addObject:function(t,e){var i=this;if(t.showInList&&null!=t.title){var s=document.createElement("li"),a=document.createTextNode(t.title),r=document.createElement("a");r.appendChild(a),s.appendChild(r),e.appendChild(s),this.addObjects(t,s),r.onmouseover=function(){i.chart.rollOverMapObject(t,!1)},r.onmouseout=function(){i.chart.rollOutMapObject(t)},r.onclick=function(){i.chart.clickMapObject(t)}}}});