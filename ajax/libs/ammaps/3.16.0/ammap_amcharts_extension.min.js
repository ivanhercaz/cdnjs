!function(){var v=window.AmCharts;v.AmMap=v.Class({inherits:v.AmChart,construct:function(t){this.cname="AmMap",this.type="map",this.theme=t,this.svgNotSupported="This browser doesn't support SVG. Use Chrome, Firefox, Internet Explorer 9 or later.",this.createEvents("rollOverMapObject","rollOutMapObject","clickMapObject","selectedObjectChanged","homeButtonClicked","zoomCompleted","dragCompleted","positionChanged","writeDevInfo","click"),this.zoomDuration=1,this.zoomControl=new v.ZoomControl(t),this.fitMapToContainer=!0,this.mouseWheelZoomEnabled=this.backgroundZoomsToTop=!1,this.allowClickOnSelectedObject=this.useHandCursorOnClickableOjects=this.showBalloonOnSelectedObject=!0,this.showObjectsAfterZoom=this.wheelBusy=!1,this.zoomOnDoubleClick=this.useObjectColorForBalloon=!0,this.allowMultipleDescriptionWindows=!1,this.dragMap=this.centerMap=this.linesAboveImages=!0,this.colorSteps=5,this.showAreasInList=!0,this.showLinesInList=this.showImagesInList=!1,this.areasProcessor=new v.AreasProcessor(this),this.areasSettings=new v.AreasSettings(t),this.imagesProcessor=new v.ImagesProcessor(this),this.imagesSettings=new v.ImagesSettings(t),this.linesProcessor=new v.LinesProcessor(this),this.linesSettings=new v.LinesSettings(t),this.initialTouchZoom=1,this.showDescriptionOnHover=!1,v.AmMap.base.construct.call(this,t),this.creditsPosition="bottom-left",this.product="ammap",this.areasClasses={},v.applyTheme(this,t,this.cname)},initChart:function(){this.zoomInstantly=!0;var t=this.container;if(this.panRequired=!0,this.sizeChanged&&v.hasSVG&&this.chartCreated){this.freeLabelsSet&&this.freeLabelsSet.remove(),this.freeLabelsSet=t.set(),this.container.setSize(this.realWidth,this.realHeight),this.resizeMap(),this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.processObjects(),this.rescaleObjects(),this.zoomControl.init(this,t),this.drawBg();var e=this.smallMap;e&&e.init(this,t),(e=this.valueLegend)&&e.init(this,t),this.sizeChanged=!1,this.zoomToLongLat(this.zLevelTemp,this.zLongTemp,this.zLatTemp,!0),this.previousWidth=this.realWidth,this.previousHeight=this.realHeight,this.updateSmallMap(),this.linkSet.toFront(),this.zoomControl.update&&this.zoomControl.update()}else v.AmMap.base.initChart.call(this),v.hasSVG?(this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,t=this.legend)&&(t.position="absolute",t.invalidateSize()),this.createDescriptionsDiv(),this.svgAreas=[],this.svgAreasById={},this.drawChart()):(this.chartDiv.style.textAlign="",this.chartDiv.setAttribute("class","ammapAlert"),this.chartDiv.innerHTML=this.svgNotSupported,this.fire("failed",{type:"failed",chart:this}))},storeTemp:function(){var t=this.zoomLongitude();isNaN(t)||(this.zLongTemp=t),t=this.zoomLatitude(),isNaN(t)||(this.zLatTemp=t),t=this.zoomLevel(),isNaN(t)||(this.zLevelTemp=t)},invalidateSize:function(){this.storeTemp(),v.AmMap.base.invalidateSize.call(this)},validateSize:function(){v.hasSVG&&0<this.realWidth&&0<this.realHeight&&this.storeTemp(),v.AmMap.base.validateSize.call(this)},handleWheelReal:function(t){if(!this.wheelBusy){this.stopAnimation();var e=this.zoomLevel(),i=this.zoomControl,o=i.zoomFactor;this.wheelBusy=!0,t=v.fitToBounds(0<t?e*o:e/o,i.minZoomLevel,i.maxZoomLevel),o=this.mouseX/this.mapWidth,i=this.mouseY/this.mapHeight,o=(this.zoomX()-o)*(t/e)+o,e=(this.zoomY()-i)*(t/e)+i,this.zoomTo(t,o,e)}},addLegend:function(t,e){return t.position="absolute",t.autoMargins=!1,t.valueWidth=0,t.switchable=!1,v.AmMap.base.addLegend.call(this,t,e),void 0===t.enabled&&(t.enabled=!0),t},handleLegendEvent:function(){},createDescriptionsDiv:function(){if(!this.descriptionsDiv){var t=document.createElement("div"),e=t.style;e.position="absolute",e.left="0px",e.top="0px",this.descriptionsDiv=t}this.containerDiv.appendChild(this.descriptionsDiv)},drawChart:function(){v.AmMap.base.drawChart.call(this);var t=this.dataProvider;this.dataProvider=t=v.extend(t,new v.MapData,!0),this.areasSettings=v.processObject(this.areasSettings,v.AreasSettings,this.theme),this.imagesSettings=v.processObject(this.imagesSettings,v.ImagesSettings,this.theme),this.linesSettings=v.processObject(this.linesSettings,v.LinesSettings,this.theme);var e,i=this.container;this.mapContainer&&this.mapContainer.remove(),this.mapContainer=i.set(),this.graphsSet.push(this.mapContainer),t.map&&(e=v.maps[t.map]),t.mapVar&&(e=t.mapVar),e?(this.svgData=e.svg,this.getBounds(),this.buildEverything()):(t=t.mapURL)&&this.loadXml(t),this.balloonsSet.toFront()},drawBg:function(){var t=this;t.background.click(function(){t.handleBackgroundClick()})},buildEverything:function(){if(0<this.realWidth&&0<this.realHeight){var t=this.container;this.zoomControl=v.processObject(this.zoomControl,v.ZoomControl,this.theme),this.zoomControl.init(this,t),this.drawBg(),this.buildSVGMap();var e=this.smallMap;e&&(e=this.smallMap=v.processObject(this.smallMap,v.SmallMap,this.theme)).init(this,t),e=this.dataProvider,isNaN(e.zoomX)&&isNaN(e.zoomY)&&isNaN(e.zoomLatitude)&&isNaN(e.zoomLongitude)&&(this.centerMap?(e.zoomLatitude=this.coordinateToLatitude(this.mapHeight/2),e.zoomLongitude=this.coordinateToLongitude(this.mapWidth/2)):(e.zoomX=0,e.zoomY=0),this.zoomInstantly=!0),this.selectObject(this.dataProvider),this.processAreas(),(e=this.valueLegend)&&(this.valueLegend=e=v.processObject(e,v.ValueLegend,this.theme),e.init(this,t)),this.objectList&&(t=this.objectList=v.processObject(this.objectList,v.ObjectList))&&(this.clearObjectList(),t.init(this)),this.dispDUpd(),this.linkSet.toFront()}else this.cleanChart()},hideGroup:function(t){this.showHideGroup(t,!1)},showGroup:function(t){this.showHideGroup(t,!0)},showHideGroup:function(t,e){this.showHideReal(this.imagesProcessor.allObjects,t,e),this.showHideReal(this.areasProcessor.allObjects,t,e),this.showHideReal(this.linesProcessor.allObjects,t,e)},showHideReal:function(t,e,i){var o;for(o=0;o<t.length;o++){var s=t[o];if(s.groupId==e){var a=s.displayObject;a&&(i?(s.hidden=!1,a.show()):(s.hidden=!0,a.hide()))}}},update:function(){v.hasSVG&&(v.AmMap.base.update.call(this),this.zoomControl&&this.zoomControl.update&&this.zoomControl.update())},animateMap:function(){var t=this;t.totalFrames=1e3*t.zoomDuration/v.updateRate,t.totalFrames+=1,t.frame=0,t.tweenPercent=0,t.balloon.hide(0),setTimeout(function(){t.updateSize.call(t)},v.updateRate)},updateSize:function(){var t=this,e=t.totalFrames;t.preventHover=!0,t.frame<=e?(t.frame++,1<=(e=v.easeOutSine(0,t.frame,0,1,e))?(e=1,t.preventHover=!1,t.wheelBusy=!1):setTimeout(function(){t.updateSize.call(t)},v.updateRate),.8<e&&(t.preventHover=!1)):(e=1,t.preventHover=!1,t.wheelBusy=!1),t.tweenPercent=e,t.rescaleMapAndObjects()},rescaleMapAndObjects:function(){var t=this.initialScale,e=this.initialX,i=this.initialY,o=this.tweenPercent;t+=(this.finalScale-t)*o;if(this.mapContainer.translate(e+(this.finalX-e)*o,i+(this.finalY-i)*o,t,!0),this.areasSettings.adjustOutlineThickness){e=this.svgAreas;for(var s=0;s<e.length;s++)(i=e[s])&&i.setAttr("stroke-width",this.areasSettings.outlineThickness/t);for(s=0;s<e.length;s++){var a=(i=e[s]).displayObject;a&&a.setAttr("stroke-width",i.outlineThicknessReal/t)}}this.rescaleObjects(),this.positionChanged(),this.updateSmallMap(),1==o&&(o={type:"zoomCompleted",chart:this},this.fire(o.type,o))},updateSmallMap:function(){this.smallMap&&this.smallMap.update()},rescaleObjects:function(){var t,e=this.mapContainer.scale,i=this.imagesProcessor.objectsToResize;for(t=0;t<i.length;t++){var o=i[t].image;o.translate(o.x,o.y,i[t].scale/e,!0)}for(i=this.imagesProcessor.labelsToReposition,t=0;t<i.length;t++)(o=i[t]).imageLabel&&this.imagesProcessor.positionLabel(o.imageLabel,o,o.labelPositionReal);if(o=(i=this.linesProcessor).linesToResize)for(t=0;t<o.length;t++){var s=o[t];s.line.setAttr("stroke-width",s.thickness/e)}for(i=i.objectsToResize,t=0;t<i.length;t++)(o=i[t]).translate(o.x,o.y,1/e,!0)},handleTouchEnd:function(t){this.initialDistance=NaN,this.mouseIsDown=this.isDragging=!1,v.AmMap.base.handleTouchEnd.call(this,t)},handleMouseDown:function(t){if(v.resetMouseOver(),this.mouseIsDown=this.mouseIsOver=!0,this.balloon.hide(0),t&&this.mouseIsOver&&t.preventDefault&&this.panEventsEnabled&&t.preventDefault(),this.chartCreated&&!this.preventHover&&(this.initialTouchZoom=this.zoomLevel(),this.dragMap&&(this.stopAnimation(),this.mapContainerClickX=this.mapContainer.x,this.mapContainerClickY=this.mapContainer.y),(t=t||window.event).shiftKey&&!0===this.developerMode&&this.getDevInfo(),t&&t.touches)){var e=this.mouseX,i=this.mouseY,o=t.touches.item(1);o&&this.panEventsEnabled&&this.boundingRect&&(t=o.clientX-this.boundingRect.left,o=o.clientY-this.boundingRect.top,this.middleXP=(e+(t-e)/2)/this.realWidth,this.middleYP=(i+(o-i)/2)/this.realHeight,this.initialDistance=Math.sqrt(Math.pow(t-e,2)+Math.pow(o-i,2)))}},stopDrag:function(){this.isDragging=!1},handleReleaseOutside:function(){if(v.isModern){var t=this;if(t.mouseIsDown=!1,setTimeout(function(){t.resetPinch.call(t)},100),!t.preventHover){t.stopDrag(),(e=t.zoomControl)&&e.draggerUp&&e.draggerUp(),t.mapWasDragged=!1;var e=t.mapContainer,i=t.mapContainerClickX,o=t.mapContainerClickY;isNaN(i)||isNaN(o)||!(2<Math.abs(e.x-i)||Math.abs(e.y-o))||(t.mapWasDragged=!0,e={type:"dragCompleted",zoomX:t.zoomX(),zoomY:t.zoomY(),zoomLevel:t.zoomLevel(),chart:t},t.fire(e.type,e)),!t.mouseIsOver||t.mapWasDragged||t.skipClick||(e={type:"click",x:t.mouseX,y:t.mouseY,chart:t},t.fire(e.type,e)),t.mapContainerClickX=NaN,t.mapContainerClickY=NaN,t.objectWasClicked=!1,t.zoomOnDoubleClick&&t.mouseIsOver&&((e=(new Date).getTime())-t.previousClickTime<200&&40<e-t.previousClickTime&&t.doDoubleClickZoom(),t.previousClickTime=e)}}},resetPinch:function(){this.mapWasPinched=!1},handleMouseMove:function(t){var e=this;if(v.AmMap.base.handleMouseMove.call(e,t),!t||!t.touches||!e.tapToActivate||e.tapped){e.panEventsEnabled&&e.mouseIsOver&&t&&t.preventDefault&&t.preventDefault();var i=e.previuosMouseX,o=e.previuosMouseY,s=e.mouseX,a=e.mouseY,n=e.zoomControl;if(isNaN(i)&&(i=s),isNaN(o)&&(o=a),e.mouse2X=NaN,e.mouse2Y=NaN,t&&t.touches&&(t=t.touches.item(1))&&e.panEventsEnabled&&e.boundingRect&&(e.mouse2X=t.clientX-e.boundingRect.left,e.mouse2Y=t.clientY-e.boundingRect.top),t=e.mapContainer){var r=e.mouse2X,l=e.mouse2Y;e.pinchTO&&clearTimeout(e.pinchTO),e.pinchTO=setTimeout(function(){e.resetPinch.call(e)},1e3);var h=e.realHeight,c=e.realWidth,d=e.mapWidth,u=e.mapHeight;if(e.mouseIsDown&&e.dragMap&&(5<Math.abs(e.previuosMouseX-e.mouseX)||5<Math.abs(e.previuosMouseY-e.mouseY))&&(e.isDragging=!0),!isNaN(r)){e.stopDrag();var p=Math.sqrt(Math.pow(r-s,2)+Math.pow(l-a,2)),m=e.initialDistance;if(isNaN(m)&&(m=Math.sqrt(Math.pow(r-s,2)+Math.pow(l-a,2))),!isNaN(m)){r=e.initialTouchZoom*p/m,r=v.fitToBounds(r,n.minZoomLevel,n.maxZoomLevel),n=e.zoomLevel(),m=e.middleXP,l=e.middleYP,p=h/u;var g=c/d;m=(e.zoomX()-m*g)*(r/n)+m*g,l=(e.zoomY()-l*p)*(r/n)+l*p;.1<Math.abs(r-n)&&(e.zoomTo(r,m,l,!0),e.mapWasPinched=!0,clearTimeout(e.pinchTO))}}r=t.scale,e.isDragging&&(e.balloon.hide(0),e.positionChanged(),i=t.x+(s-i),o=t.y+(a-o),e.preventDragOut&&(u=-u*r+h/2,h/=2,i=v.fitToBounds(i,-d*r+c/2,c/2),o=v.fitToBounds(o,u,h)),t.translate(i,o,r,!0),e.updateSmallMap()),e.previuosMouseX=s,e.previuosMouseY=a}}},selectObject:function(t){var e=this;(t=t||e.dataProvider).isOver=!1;var i=t.linkToObject;"string"==typeof i&&(i=e.getObjectById(i)),t.useTargetsZoomValues&&i&&(t.zoomX=i.zoomX,t.zoomY=i.zoomY,t.zoomLatitude=i.zoomLatitude,t.zoomLongitude=i.zoomLongitude,t.zoomLevel=i.zoomLevel);var o=e.selectedObject;o&&e.returnInitialColor(o);var s,a,n=!1;if("MapArea"==(e.selectedObject=t).objectType&&(t.autoZoomReal&&(n=!0),s=e.areasSettings.selectedOutlineColor,a=e.areasSettings.selectedOutlineThickness),i&&!n&&("string"==typeof i&&(i=e.getObjectById(i)),isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY))){if(e.extendMapData(i))return;e.selectObject(i)}else{if(e.allowMultipleDescriptionWindows||e.closeAllDescriptions(),clearTimeout(e.selectedObjectTimeOut),clearTimeout(e.processObjectsTimeOut),i=e.zoomDuration,!n&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)?(e.showDescriptionAndGetUrl(),e.processObjects()):(e.selectedObjectTimeOut=setTimeout(function(){e.showDescriptionAndGetUrl.call(e)},1e3*i+200),e.showObjectsAfterZoom?e.processObjectsTimeOut=setTimeout(function(){e.processObjects.call(e)},1e3*i+200):e.processObjects()),i=t.displayObject,n=t.selectedColorReal,"MapImage"==t.objectType&&(s=e.imagesSettings.selectedOutlineColor,a=e.imagesSettings.selectedOutlineThickness,i=t.image),i){if(v.setCN(e,i,"selected-object"),t.bringForwardOnHover&&i.toFront(),!t.preserveOriginalAttributes){if(i.setAttr("stroke",t.outlineColorReal),void 0!==n&&i.setAttr("fill",n),void 0!==s&&i.setAttr("stroke",s),void 0!==a&&i.setAttr("stroke-width",a),"MapLine"==t.objectType){var r=t.lineSvg;r&&r.setAttr("stroke",n),(r=t.arrowSvg)&&(r.setAttr("fill",n),r.setAttr("stroke",n))}if(r=t.imageLabel){var l=t.selectedLabelColorReal;void 0!==l&&r.setAttr("fill",l)}t.selectable||(i.setAttr("cursor","default"),r&&r.setAttr("cursor","default"))}}else e.returnInitialColorReal(t);if(i=t.groupId)for(r=e.getGroupById(i),l=0;l<r.length;l++){var h=r[l];if(h.isOver=!1,i=h.displayObject,"MapImage"==h.objectType&&(i=h.image),i){var c=h.selectedColorReal;void 0!==c&&i.setAttr("fill",c),void 0!==s&&i.setAttr("stroke",s),void 0!==a&&i.setAttr("stroke-width",a),"MapLine"==h.objectType&&((i=h.lineSvg)&&i.setAttr("stroke",n),i=h.arrowSvg)&&(i.setAttr("fill",n),i.setAttr("stroke",n))}}e.zoomToSelectedObject(),o!=t&&(t={type:"selectedObjectChanged",chart:e},e.fire(t.type,t))}},returnInitialColor:function(t,e){this.returnInitialColorReal(t),e&&(t.isFirst=!1),!this.selectedObject.bringForwardOnHover||(o=this.selectedObject.displayObject)&&o.toFront();if(o=t.groupId){var i,o=this.getGroupById(o);for(i=0;i<o.length;i++)this.returnInitialColorReal(o[i]),e&&(o[i].isFirst=!1)}},closeAllDescriptions:function(){this.descriptionsDiv.innerHTML=""},returnInitialColorReal:function(t){t.isOver=!1;var e=t.displayObject;if(e){if(e.toPrevious(),"MapImage"==t.objectType){var i=t.tempScale;isNaN(i)||e.translate(e.x,e.y,i,!0),t.tempScale=NaN,e=t.image}if(i=t.colorReal,"MapLine"==t.objectType)(o=t.lineSvg)&&o.setAttr("stroke",i),(o=t.arrowSvg)&&(o.setAttr("fill",i),o.setAttr("stroke",i));var o=t.alphaReal,s=t.outlineAlphaReal,a=t.outlineThicknessReal,n=t.outlineColorReal;if(t.showAsSelected){var r,l;i=t.selectedColorReal;"MapImage"==t.objectType&&(r=this.imagesSettings.selectedOutlineColor,l=this.imagesSettings.selectedOutlineThickness),"MapArea"==t.objectType&&(r=this.areasSettings.selectedOutlineColor,l=this.areasSettings.selectedOutlineThickness),void 0!==r&&(n=r),void 0!==l&&(a=l)}"bubble"==t.type&&(i=void 0),void 0!==i&&e.setAttr("fill",i),(r=t.image)&&(r.setAttr("fill",i),r.setAttr("stroke",n),r.setAttr("stroke-width",a),r.setAttr("fill-opacity",o),r.setAttr("stroke-opacity",s)),"MapArea"==t.objectType&&(i=1,this.areasSettings.adjustOutlineThickness&&(i=this.zoomLevel()),e.setAttr("stroke",n),e.setAttr("stroke-width",a/i),e.setAttr("fill-opacity",o),e.setAttr("stroke-opacity",s)),(i=t.pattern)&&e.pattern(i,this.mapScale,this.path),(e=t.imageLabel)&&!t.labelInactive&&(t.showAsSelected&&void 0!==t.selectedLabelColor?e.setAttr("fill",t.selectedLabelColor):e.setAttr("fill",t.labelColorReal))}},zoomToRectangle:function(t,e,i,o){var s=this.realWidth,a=this.realHeight,n=this.mapSet.scale,r=this.zoomControl;s=v.fitToBounds(o/a<i/s?.8*s/(i*n):.8*a/(o*n),r.minZoomLevel,r.maxZoomLevel);this.zoomToMapXY(s,(t+i/2)*n,(e+o/2)*n)},zoomToLatLongRectangle:function(t,e,i,o){var s=this.dataProvider,a=this.zoomControl,n=Math.abs(i-t),r=Math.abs(e-o),l=Math.abs(s.rightLongitude-s.leftLongitude);s=Math.abs(s.topLatitude-s.bottomLatitude),a=v.fitToBounds(r/s<n/l?.8*l/n:.8*s/r,a.minZoomLevel,a.maxZoomLevel);this.zoomToLongLat(a,t+(i-t)/2,o+(e-o)/2)},getGroupById:function(t){var e=[];return this.getGroup(this.imagesProcessor.allObjects,t,e),this.getGroup(this.linesProcessor.allObjects,t,e),this.getGroup(this.areasProcessor.allObjects,t,e),e},zoomToGroup:function(t){var e,i,o,s,a;for(t="object"==typeof t?t:this.getGroupById(t),a=0;a<t.length;a++){if(n=t[a].displayObject){var n=(h=n.getBBox()).y,r=h.y+h.height,l=h.x,h=h.x+h.width;(n<e||isNaN(e))&&(e=n),(s<r||isNaN(s))&&(s=r),(l<i||isNaN(i))&&(i=l),(o<h||isNaN(o))&&(o=h)}}i-=(t=this.mapSet.getBBox()).x,o-=t.x,s-=t.y,e-=t.y,this.zoomToRectangle(i,e,o-i,s-e)},getGroup:function(t,e,i){var o;if(t)for(o=0;o<t.length;o++){var s=t[o];s.groupId==e&&i.push(s)}},zoomToStageXY:function(t,e,i,o){if(!this.objectWasClicked){var s=this.zoomControl;t=v.fitToBounds(t,s.minZoomLevel,s.maxZoomLevel),s=this.zoomLevel(),i=this.coordinateToLatitude((i-this.mapContainer.y)/s),e=this.coordinateToLongitude((e-this.mapContainer.x)/s),this.zoomToLongLat(t,e,i,o)}},zoomToLongLat:function(t,e,i,o){e=this.longitudeToCoordinate(e),i=this.latitudeToCoordinate(i),this.zoomToMapXY(t,e,i,o)},zoomToMapXY:function(t,e,i,o){var s=this.mapWidth,a=this.mapHeight;this.zoomTo(t,-e/s*t+this.realWidth/s/2,-i/a*t+this.realHeight/a/2,o)},zoomToObject:function(t){if(t){var e=t.zoomLatitude,i=t.zoomLongitude,o=t.zoomLevel,s=this.zoomInstantly,a=t.zoomX,n=t.zoomY,r=this.realWidth,l=this.realHeight;isNaN(o)||(isNaN(e)||isNaN(i)?this.zoomTo(o,a,n,s):this.zoomToLongLat(o,i,e,s)),this.zoomInstantly=!1,"MapImage"==t.objectType&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&!isNaN(t.latitude)&&!isNaN(t.longitude)&&this.zoomToLongLat(t.zoomLevel,t.longitude,t.latitude),"MapArea"==t.objectType&&(a=t.displayObject.getBBox(),e=this.mapScale,i=a.x*e,o=a.y*e,s=a.width*e,a=a.height*e,r=t.autoZoomReal&&isNaN(t.zoomLevel)?a/l<s/r?.8*r/s:.8*l/a:t.zoomLevel,l=this.zoomControl,r=v.fitToBounds(r,l.minZoomLevel,l.maxZoomLevel),isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&(t=this.mapSet.getBBox(),this.zoomToMapXY(r,-t.x*e+i+s/2,-t.y*e+o+a/2))),this.zoomControl.update()}},zoomToSelectedObject:function(){this.zoomToObject(this.selectedObject)},zoomTo:function(t,e,i,o){var s=this.zoomControl;t=v.fitToBounds(t,s.minZoomLevel,s.maxZoomLevel),s=this.zoomLevel(),isNaN(e)&&(e=this.realWidth/this.mapWidth,e=(this.zoomX()-.5*e)*(t/s)+.5*e),isNaN(i)&&(i=this.realHeight/this.mapHeight,i=(this.zoomY()-.5*i)*(t/s)+.5*i),this.stopAnimation(),isNaN(t)||(s=this.mapContainer,this.initialX=s.x,this.initialY=s.y,this.initialScale=s.scale,this.finalX=this.mapWidth*e,this.finalY=this.mapHeight*i,this.finalScale=t,this.finalX!=this.initialX||this.finalY!=this.initialY||this.finalScale!=this.initialScale?o?(this.tweenPercent=1,this.rescaleMapAndObjects(),this.wheelBusy=!1):this.animateMap():this.wheelBusy=!1)},loadXml:function(t){var e;window.XMLHttpRequest&&(e=new XMLHttpRequest),e.overrideMimeType&&e.overrideMimeType("text/xml"),e.open("GET",t,!1),e.send(),this.parseXMLObject(e.responseXML),this.svgData&&this.buildEverything()},stopAnimation:function(){this.frame=this.totalFrames},processObjects:function(){var t=this.container,e=this.stageImagesContainer;e&&e.remove(),this.stageImagesContainer=e=t.set(),this.trendLinesSet.push(e);var i=this.stageLinesContainer;i&&i.remove(),this.stageLinesContainer=i=t.set(),this.trendLinesSet.push(i);var o=this.mapImagesContainer;o&&o.remove(),this.mapImagesContainer=o=t.set(),this.mapContainer.push(o);var s=this.mapLinesContainer;s&&s.remove(),this.mapLinesContainer=s=t.set(),this.mapContainer.push(s),this.linesAboveImages?(o.toFront(),e.toFront(),s.toFront(),i.toFront()):(s.toFront(),i.toFront(),o.toFront(),e.toFront()),(t=this.selectedObject)&&(this.imagesProcessor.reset(),this.linesProcessor.reset(),this.linesAboveImages?(this.imagesProcessor.process(t),this.linesProcessor.process(t)):(this.linesProcessor.process(t),this.imagesProcessor.process(t))),this.rescaleObjects()},processAreas:function(){this.areasProcessor.process(this.dataProvider)},buildSVGMap:function(){var t,e=this.svgData.g.path,i=this.container,o=i.set();for(void 0===e.length&&(e=[e]),t=0;t<e.length;t++){var s=e[t],a=s.d,n=s.title;if(s.titleTr&&(n=s.titleTr),(a=i.path(a)).id=s.id,this.areasSettings.preserveOriginalAttributes)for(var r in a.customAttr={},s)"d"!=r&&"id"!=r&&"title"!=r&&(a.customAttr[r]=s[r]);this.svgAreasById[s.id]={area:a,title:n,className:s.class},this.svgAreas.push(a),o.push(a)}this.mapSet=o,this.mapContainer.push(o),this.resizeMap()},addObjectEventListeners:function(t,e){var i=this;t.mouseup(function(t){i.clickMapObject(e,t)}).mouseover(function(t){i.balloonX=NaN,i.rollOverMapObject(e,!0,t)}).mouseout(function(t){i.balloonX=NaN,i.rollOutMapObject(e,t)}).touchend(function(t){i.tapToActivate&&!i.tapped||i.mapWasDragged||i.mapWasPinched||(i.balloonX=NaN,i.rollOverMapObject(e,!0,t),i.clickMapObject(e,t))}).touchstart(function(t){})},checkIfSelected:function(t){if((i=this.selectedObject)==t)return!0;if(i=i.groupId){var e,i=this.getGroupById(i);for(e=0;e<i.length;e++)if(i[e]==t)return!0}return!1},clearMap:function(){this.chartDiv.innerHTML="",this.clearObjectList()},clearObjectList:function(){var t=this.objectList;t&&t.div&&(t.div.innerHTML="")},checkIfLast:function(t){if(t){var e=t.parentNode;if(e&&e.lastChild==t)return!0}return!1},showAsRolledOver:function(t){var e=t.displayObject;if(!t.showAsSelected&&e&&!t.isOver){e.node.onmouseout=function(){},e.node.onmouseover=function(){},e.node.onclick=function(){},!t.isFirst&&t.bringForwardOnHover&&(e.toFront(),t.isFirst=!0);var i,o=t.rollOverColorReal;if(t.preserveOriginalAttributes&&(o=void 0),null==o&&(isNaN(t.rollOverBrightnessReal)||(o=v.adjustLuminosity(t.colorReal,t.rollOverBrightnessReal/100))),null!=o&&("MapImage"==t.objectType?(i=t.image)&&i.setAttr("fill",o):"MapLine"==t.objectType?((i=t.lineSvg)&&i.setAttr("stroke",o),(i=t.arrowSvg)&&(i.setAttr("fill",o),i.setAttr("stroke",o))):e.setAttr("fill",o)),(o=t.imageLabel)&&!t.labelInactive&&(null!=(i=t.labelRollOverColorReal)&&o.setAttr("fill",i)),null!=(o=t.rollOverOutlineColorReal)&&("MapImage"==t.objectType?(i=t.image)&&i.setAttr("stroke",o):e.setAttr("stroke",o)),"MapImage"==t.objectType?(o=this.imagesSettings.rollOverOutlineThickness,(i=t.image)&&(isNaN(o)||i.setAttr("stroke-width",o))):(o=this.areasSettings.rollOverOutlineThickness,isNaN(o)||e.setAttr("stroke-width",o)),"MapArea"==t.objectType){o=this.areasSettings,i=t.rollOverAlphaReal,isNaN(i)||e.setAttr("fill-opacity",i),i=o.rollOverOutlineAlpha,isNaN(i)||e.setAttr("stroke-opacity",i),i=1,this.areasSettings.adjustOutlineThickness&&(i=this.zoomLevel());var s=o.rollOverOutlineThickness;isNaN(s)||e.setAttr("stroke-width",s/i),(o=o.rollOverPattern)&&e.pattern(o,this.mapScale,this.path)}"MapImage"==t.objectType&&(o=t.rollOverScaleReal,isNaN(o)||1==o||(i=e.scale,isNaN(i)&&(i=1),t.tempScale=i,e.translate(e.x,e.y,i*o,!0))),this.useHandCursorOnClickableOjects&&this.checkIfClickable(t)&&e.setAttr("cursor","pointer"),this.addObjectEventListeners(e,t),t.isOver=!0}},rollOverMapObject:function(t,e,i){if(this.chartCreated&&(this.handleMouseMove(),(s=this.previouslyHovered)&&s!=t?(!1===this.checkIfSelected(s)&&(this.returnInitialColor(s,!0),this.previouslyHovered=null),this.balloon.hide(0)):clearTimeout(this.hoverInt),!this.preventHover)){if(!1===this.checkIfSelected(t)){if(s=t.groupId){var o,s=this.getGroupById(s);for(o=0;o<s.length;o++)s[o]!=t&&this.showAsRolledOver(s[o])}this.showAsRolledOver(t)}else(s=t.displayObject)&&(this.allowClickOnSelectedObject?s.setAttr("cursor","pointer"):s.setAttr("cursor","default"));this.showDescriptionOnHover?this.showDescription(t):!this.showBalloonOnSelectedObject&&this.checkIfSelected(t)||!1===e||(o=this.balloon,this.balloon.fixedPosition=!1,s="",void 0!==(e=t.colorReal)&&this.useObjectColorForBalloon||(e=o.fillColor),(o=t.balloonTextReal)&&(s=this.formatString(o,t)),this.balloonLabelFunction&&(s=this.balloonLabelFunction(t,this)),"MapArea"!=t.objectType&&(this.balloonX=NaN),s&&""!==s&&this.showBalloon(s,e,!1,this.balloonX,this.balloonY)),i={type:"rollOverMapObject",mapObject:t,chart:this,event:i},this.fire(i.type,i),this.previouslyHovered=t}},longitudeToX:function(t){return this.longitudeToCoordinate(t)*this.zoomLevel()+this.mapContainer.x},latitudeToY:function(t){return this.latitudeToCoordinate(t)*this.zoomLevel()+this.mapContainer.y},rollOutMapObject:function(t,e){if(this.hideBalloon(),this.chartCreated&&t.isOver){this.checkIfSelected(t)||this.returnInitialColor(t);var i={type:"rollOutMapObject",mapObject:t,chart:this,event:e};this.fire(i.type,i)}},formatString:function(t,e){var i=this.nf,o=this.pf,s=e.title;e.titleTr&&(s=e.titleTr),null==s&&(s="");var a=e.value;a=isNaN(a)?"":v.formatNumber(a,i),i=e.percents,i=isNaN(i)?"":v.formatNumber(i,o);null==(o=e.description)&&(o="");var n=e.customData;return null==n&&(n=""),v.massReplace(t,{"[[title]]":s,"[[value]]":a,"[[percent]]":i,"[[description]]":o,"[[customData]]":n})},clickMapObject:function(t,e){var i=this;if(e&&(e.touches||i.hideBalloon()),i.chartCreated&&!i.preventHover&&!i.mapWasDragged&&i.checkIfClickable(t)&&!i.mapWasPinched){i.selectObject(t);var o=i.zoomLevel();i.clickLatitude=i.coordinateToLatitude((i.mouseY-i.mapContainer.y)/o),i.clickLongitude=i.coordinateToLongitude((i.mouseX-i.mapContainer.x)/o),e&&e.touches&&setTimeout(function(){i.showBalloonAfterZoom.call(i)},1e3*i.zoomDuration),o={type:"clickMapObject",mapObject:t,chart:i,event:e},i.fire(o.type,o),i.objectWasClicked=!0}},showBalloonAfterZoom:function(){this.balloonX=this.longitudeToX(this.clickLongitude),this.balloonY=this.latitudeToY(this.clickLatitude),this.rollOverMapObject(this.selectedObject,!0)},checkIfClickable:function(t){var e=this.allowClickOnSelectedObject;return!(this.selectedObject!=t||!e)||!(this.selectedObject==t&&!e)&&!(!(!0===t.selectable||"MapArea"==t.objectType&&t.autoZoomReal||t.url||t.linkToObject||0<t.images.length||0<t.lines.length)&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&!t.description)},resizeMap:function(){var t=this.mapSet;if(t){var e=1,i=t.getBBox(),o=this.realWidth,s=this.realHeight,a=i.width,n=i.height;this.fitMapToContainer&&(e=n/s<a/o?o/a:s/n),t.translate(-i.x*e,-i.y*e,e,!0),this.mapScale=e,this.mapHeight=n*e,this.mapWidth=a*e}},zoomIn:function(){var t=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomTo(t)},zoomOut:function(){var t=this.zoomLevel()/this.zoomControl.zoomFactor;this.zoomTo(t)},moveLeft:function(){var t=this.zoomX()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),t,this.zoomY())},moveRight:function(){var t=this.zoomX()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),t,this.zoomY())},moveUp:function(){var t=this.zoomY()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),t)},moveDown:function(){var t=this.zoomY()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),t)},zoomX:function(){return this.mapSet?Math.round(1e4*this.mapContainer.x/this.mapWidth)/1e4:NaN},zoomY:function(){return this.mapSet?Math.round(1e4*this.mapContainer.y/this.mapHeight)/1e4:NaN},goHome:function(){this.selectObject(this.dataProvider);var t={type:"homeButtonClicked",chart:this};this.fire(t.type,t)},zoomLevel:function(){return Math.round(1e5*this.mapContainer.scale)/1e5},showDescriptionAndGetUrl:function(){var t=this.selectedObject;if(t){this.showDescription();var e=t.url;if(e)v.getURL(e,t.urlTarget);else if(e=t.linkToObject){if("string"==typeof e){var i=this.getObjectById(e);if(i)return void this.selectObject(i)}e&&t.passZoomValuesToTarget&&(e.zoomLatitude=this.zoomLatitude(),e.zoomLongitude=this.zoomLongitude(),e.zoomLevel=this.zoomLevel()),this.extendMapData(e)||this.selectObject(e)}}},extendMapData:function(t){var e=t.objectType;if("MapImage"!=e&&"MapArea"!=e&&"MapLine"!=e)return v.extend(t,new v.MapData,!0),this.dataProvider=t,this.zoomInstantly=!0,this.validateData(),!0},showDescription:function(t){if(t=t||this.selectedObject,this.allowMultipleDescriptionWindows||this.closeAllDescriptions(),t.description){var e=t.descriptionWindow;e&&e.close(),e=new v.DescriptionWindow,t.descriptionWindow=e;var i=t.descriptionWindowWidth,o=t.descriptionWindowHeight,s=t.descriptionWindowLeft,a=t.descriptionWindowTop,n=t.descriptionWindowRight,r=t.descriptionWindowBottom;isNaN(n)||(s=this.realWidth-n),isNaN(r)||(a=this.realHeight-r);var l=t.descriptionWindowX;isNaN(l)||(s=l),l=t.descriptionWindowY,isNaN(l)||(a=l),isNaN(s)&&(s=(s=this.mouseX)>this.realWidth/2?s-i-20:s+20),isNaN(a)&&(a=this.mouseY),e.maxHeight=o,l=t.title,t.titleTr&&(l=t.titleTr),e.show(this,this.descriptionsDiv,t.description,l),(t=e.div.style).position="absolute",t.width=i+"px",t.maxHeight=o+"px",isNaN(r)||(a-=e.div.offsetHeight),isNaN(n)||(s-=e.div.offsetWidth),t.left=s+"px",t.top=a+"px"}},parseXMLObject:function(t){var e={root:{}};this.parseXMLNode(e,"root",t),this.svgData=e.root.svg,this.getBounds()},getBounds:function(){var t=this.dataProvider;try{var e=this.svgData.defs["amcharts:ammap"];t.leftLongitude=Number(e.leftLongitude),t.rightLongitude=Number(e.rightLongitude),t.topLatitude=Number(e.topLatitude),t.bottomLatitude=Number(e.bottomLatitude),t.projection=e.projection;var i=e.wrappedLongitudes;i&&(t.rightLongitude+=360),t.wrappedLongitudes=i}catch(t){}},recalcLongitude:function(t){var e=this.dataProvider.leftLongitude,i=this.dataProvider.wrappedLongitudes;return isNaN(t)&&i&&t<e?Number(t)+360:t},latitudeToCoordinate:function(t){var e,i=this.dataProvider;if(this.mapSet){e=i.topLatitude;var o=i.bottomLatitude;"mercator"==i.projection&&(t=this.mercatorLatitudeToCoordinate(t),e=this.mercatorLatitudeToCoordinate(e),o=this.mercatorLatitudeToCoordinate(o)),e=(t-e)/(o-e)*this.mapHeight}return e},longitudeToCoordinate:function(t){t=this.recalcLongitude(t);var e,i=this.dataProvider;return this.mapSet&&(e=(t-(e=i.leftLongitude))/(i.rightLongitude-e)*this.mapWidth),e},mercatorLatitudeToCoordinate:function(t){return 89.5<t&&(t=89.5),t<-89.5&&(t=-89.5),t=v.degreesToRadians(t),t=.5*Math.log((1+Math.sin(t))/(1-Math.sin(t))),v.radiansToDegrees(t/2)},zoomLatitude:function(){if(this.mapContainer)return this.coordinateToLatitude((-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel())},zoomLongitude:function(){if(this.mapContainer)return this.coordinateToLongitude((-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel())},getAreaCenterLatitude:function(t){t=t.displayObject.getBBox();var e=this.mapScale;return t=-this.mapSet.getBBox().y*e+(t.y+t.height/2)*e,this.coordinateToLatitude(t)},getAreaCenterLongitude:function(t){t=t.displayObject.getBBox();var e=this.mapScale;return t=-this.mapSet.getBBox().x*e+(t.x+t.width/2)*e,this.coordinateToLongitude(t)},coordinateToLatitude:function(t){var e;if(this.mapSet){var i=this.dataProvider,o=i.bottomLatitude,s=i.topLatitude;e=this.mapHeight,e="mercator"==i.projection?(i=this.mercatorLatitudeToCoordinate(o),s=this.mercatorLatitudeToCoordinate(s),t=2*Math.atan(Math.exp(2*(t*(i-s)/e+s)*Math.PI/180))-.5*Math.PI,v.radiansToDegrees(t)):t/e*(o-s)+s}return Math.round(1e6*e)/1e6},coordinateToLongitude:function(t){var e,i=this.dataProvider;return this.mapSet&&(e=t/this.mapWidth*(i.rightLongitude-i.leftLongitude)+i.leftLongitude),Math.round(1e6*e)/1e6},milesToPixels:function(t){var e=this.dataProvider;return this.mapWidth/(e.rightLongitude-e.leftLongitude)*t/69.172},kilometersToPixels:function(t){var e=this.dataProvider;return this.mapWidth/(e.rightLongitude-e.leftLongitude)*t/111.325},handleBackgroundClick:function(){if(this.backgroundZoomsToTop&&!this.mapWasDragged){var t=this.dataProvider;if(this.checkIfClickable(t))this.clickMapObject(t);else{var e=t.zoomX,i=t.zoomY,o=t.zoomLongitude,s=t.zoomLatitude;t=t.zoomLevel;isNaN(e)||isNaN(i)||this.zoomTo(t,e,i),isNaN(o)||isNaN(s)||this.zoomToLongLat(t,o,s,!0)}}},parseXMLNode:function(t,e,i,o){var s,a,n;if(void 0===o&&(o=""),i){var r=i.childNodes.length;for(s=0;s<r;s++){var l=(a=i.childNodes[s]).nodeName,h=a.nodeValue?this.trim(a.nodeValue):"",c=!1;if(a.attributes&&0<a.attributes.length&&(c=!0),0!==a.childNodes.length||""!==h||!1!==c)if(3==a.nodeType||4==a.nodeType){if(""!==h){for(n in a=0,t[e])t[e].hasOwnProperty(n)&&a++;a?t[e]["#text"]=h:t[e]=h}}else if(1==a.nodeType){var d;if(void 0!==t[e][l]?void 0===t[e][l].length?(d=t[e][l],t[e][l]=[],t[e][l].push(d),t[e][l].push({}),d=t[e][l][1]):"object"==typeof t[e][l]&&(t[e][l].push({}),d=t[e][l][t[e][l].length-1]):(t[e][l]={},d=t[e][l]),a.attributes&&a.attributes.length)for(h=0;h<a.attributes.length;h++)d[a.attributes[h].name]=a.attributes[h].value;void 0!==t[e][l].length?this.parseXMLNode(t[e][l],t[e][l].length-1,a,o+"  "):this.parseXMLNode(t[e],l,a,o+"  ")}}for(n in a=0,i="",t[e])"#text"==n?i=t[e][n]:a++;0===a&&void 0===t[e].length&&(t[e]=i)}},doDoubleClickZoom:function(){if(!this.mapWasDragged){var t=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomToStageXY(t,this.mouseX,this.mouseY)}},getDevInfo:function(){var t=this.zoomLevel(),e=(e=(e=(e=(e=(e=(e="zoomLevel:"+(t={chart:this,type:"writeDevInfo",zoomLevel:t,zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLatitude:this.zoomLatitude(),zoomLongitude:this.zoomLongitude(),latitude:this.coordinateToLatitude((this.mouseY-this.mapContainer.y)/t),longitude:this.coordinateToLongitude((this.mouseX-this.mapContainer.x)/t),left:this.mouseX,top:this.mouseY,right:this.realWidth-this.mouseX,bottom:this.realHeight-this.mouseY,percentLeft:Math.round(this.mouseX/this.realWidth*100)+"%",percentTop:Math.round(this.mouseY/this.realHeight*100)+"%",percentRight:Math.round((this.realWidth-this.mouseX)/this.realWidth*100)+"%",percentBottom:Math.round((this.realHeight-this.mouseY)/this.realHeight*100)+"%"}).zoomLevel+", zoomLongitude:"+t.zoomLongitude+", zoomLatitude:"+t.zoomLatitude+"\n")+"zoomX:"+t.zoomX+", zoomY:"+t.zoomY+"\n")+"latitude:"+t.latitude+", longitude:"+t.longitude+"\n")+"left:"+t.left+", top:"+t.top+"\n")+"right:"+t.right+", bottom:"+t.bottom+"\n")+"left:"+t.percentLeft+", top:"+t.percentTop+"\n")+"right:"+t.percentRight+", bottom:"+t.percentBottom+"\n";return t.str=e,this.fire(t.type,t),t},getXY:function(t,e,i){return void 0!==t&&(-1!=String(t).indexOf("%")?(t=Number(t.split("%").join("")),i&&(t=100-t),t=Number(t)*e/100):i&&(t=e-t)),t},getObjectById:function(t){var e=this.dataProvider;if(e.areas){var i=this.getObject(t,e.areas);if(i)return i}return(i=this.getObject(t,e.images))?i:(t=this.getObject(t,e.lines))?t:void 0},getObject:function(t,e){var i;if(e)for(i=0;i<e.length;i++){var o=e[i];if(o.id==t)return o;if(o.areas){var s=this.getObject(t,o.areas);if(s)return s}if(s=this.getObject(t,o.images))return s;if(o=this.getObject(t,o.lines))return o}},parseData:function(){var t=this.dataProvider;this.processObject(t.areas,t,"area"),this.processObject(t.images,t,"image"),this.processObject(t.lines,t,"line")},processObject:function(t,e,i){var o;if(t)for(o=0;o<t.length;o++){var s=t[o];s.parentObject=e,"area"==i&&v.extend(s,new v.MapArea(this.theme),!0),"image"==i&&(s=v.extend(s,new v.MapImage(this.theme),!0)),"line"==i&&(s=v.extend(s,new v.MapLine(this.theme),!0)),(t[o]=s).areas&&this.processObject(s.areas,s,"area"),s.images&&this.processObject(s.images,s,"image"),s.lines&&this.processObject(s.lines,s,"line")}},positionChanged:function(){var t={type:"positionChanged",zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLevel:this.zoomLevel(),chart:this};this.fire(t.type,t)},getX:function(t,e){return this.getXY(t,this.realWidth,e)},getY:function(t,e){return this.getXY(t,this.realHeight,e)},trim:function(t){if(t){var e;for(e=0;e<t.length;e++)if(-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(e))){t=t.substring(e);break}for(e=t.length-1;0<=e;e--)if(-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(e))){t=t.substring(0,e+1);break}return-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(0))?t:""}},destroy:function(){v.AmMap.base.destroy.call(this)}})}(),function(){var j=window.AmCharts;j.ZoomControl=j.Class({construct:function(t){this.cname="ZoomControl",this.panStepSize=.1,this.zoomFactor=2,this.maxZoomLevel=64,this.minZoomLevel=1,this.panControlEnabled=!1,this.zoomControlEnabled=!0,this.buttonRollOverColor="#DADADA",this.buttonFillColor="#FFFFFF",this.buttonFillAlpha=1,this.buttonBorderColor="#000000",this.buttonBorderAlpha=.1,this.buttonIconAlpha=this.buttonBorderThickness=1,this.gridColor=this.buttonIconColor="#000000",this.homeIconFile="homeIcon.gif",this.gridBackgroundColor="#000000",this.draggerAlpha=this.gridAlpha=this.gridBackgroundAlpha=0,this.draggerSize=this.buttonSize=31,this.iconSize=11,this.homeButtonEnabled=!0,this.buttonCornerRadius=2,this.gridHeight=5,this.roundButtons=!0,this.top=this.left=10,j.applyTheme(this,t,this.cname)},init:function(t,e){var i=this;i.chart=t,j.remove(i.set);var o=e.set();j.setCN(t,o,"zoom-control");var s=i.buttonSize,a=i.zoomControlEnabled,n=i.panControlEnabled,r=i.buttonFillColor,l=i.buttonFillAlpha,h=i.buttonBorderThickness,c=i.buttonBorderColor,d=i.buttonBorderAlpha,u=i.buttonCornerRadius,p=i.buttonRollOverColor,m=i.gridHeight,g=i.zoomFactor,v=i.minZoomLevel,b=i.maxZoomLevel,f=i.buttonIconAlpha,N=i.buttonIconColor,C=i.roundButtons,O=t.svgIcons,w=t.getX(i.left),z=t.getY(i.top);isNaN(i.right)||(w=t.getX(i.right,!0),w=n?w-3*s:w-s),isNaN(i.bottom)||(z=t.getY(i.bottom,!0),a&&(z-=m+3*s),z=n?z-3*s:i.homeButtonEnabled?z-.5*s:z+s),o.translate(w,z),i.previousDY=NaN;var L;w=s/4-1;if(a){L=e.set(),j.setCN(t,L,"zoom-control-zoom"),o.push(L),i.set=o,i.zoomSet=L,a=j.rect(e,s+6,m+2*s+6,i.gridBackgroundColor,i.gridBackgroundAlpha,0,0,0,4),j.setCN(t,a,"zoom-bg"),a.translate(-3,-3),a.mouseup(function(){i.handleBgUp()}).touchend(function(){i.handleBgUp()}),L.push(a);var T=s;C&&(T=s/1.5),i.draggerSize=T;var A,S=Math.log(b/v)/Math.log(g)+1,M=(a=m/S,e.set());for(M.translate((s-T)/2+1,1,NaN,!0),L.push(M),A=1;A<S;A++)z=s+A*a,z=j.line(e,[1,T-2],[z,z],i.gridColor,i.gridAlpha,1),j.setCN(t,z,"zoom-grid"),M.push(z);(z=new j.SimpleButton).setDownHandler(i.draggerDown,i),z.setClickHandler(i.draggerUp,i),z.init(e,T,a,r,l,h,c,d,u,p),j.setCN(t,z.set,"zoom-dragger"),L.push(z.set),z.set.setAttr("opacity",i.draggerAlpha),i.dragger=z.set,i.previousY=NaN,z=new j.SimpleButton,O?(T=e.set(),S=j.line(e,[-w,w],[0,0],N,f,1),A=j.line(e,[0,0],[-w,w],N,f,1),T.push(S),T.push(A),z.svgIcon=T):z.setIcon(t.pathToImages+"plus.gif",i.iconSize),z.setClickHandler(t.zoomIn,t),z.init(e,s,s,r,l,h,c,d,u,p,f,N,C),j.setCN(t,z.set,"zoom-in"),L.push(z.set),z=new j.SimpleButton,O?z.svgIcon=j.line(e,[-w,w],[0,0],N,f,1):z.setIcon(t.pathToImages+"minus.gif",i.iconSize),z.setClickHandler(t.zoomOut,t),z.init(e,s,s,r,l,h,c,d,u,p,f,N,C),z.set.translate(0,m+s),j.setCN(t,z.set,"zoom-out"),L.push(z.set),m-=a,v=Math.log(v/100)/Math.log(g),g=Math.log(b/100)/Math.log(g),i.realStepSize=m/(g-v),i.realGridHeight=m,i.stepMax=g}n&&(n=e.set(),j.setCN(t,n,"zoom-control-pan"),o.push(n),L&&L.translate(s,4*s),g=new j.SimpleButton,O?g.svgIcon=j.line(e,[w/5,w/5-w,w/5],[-w,0,w],N,f,1):g.setIcon(t.pathToImages+"panLeft.gif",i.iconSize),g.setClickHandler(t.moveLeft,t),g.init(e,s,s,r,l,h,c,d,u,p,f,N,C),g.set.translate(0,s),j.setCN(t,g.set,"pan-left"),n.push(g.set),g=new j.SimpleButton,O?g.svgIcon=j.line(e,[-w/5,w-w/5,-w/5],[-w,0,w],N,f,1):g.setIcon(t.pathToImages+"panRight.gif",i.iconSize),g.setClickHandler(t.moveRight,t),g.init(e,s,s,r,l,h,c,d,u,p,f,N,C),g.set.translate(2*s,s),j.setCN(t,g.set,"pan-right"),n.push(g.set),g=new j.SimpleButton,O?g.svgIcon=j.line(e,[-w,0,w],[w/5,w/5-w,w/5],N,f,1):g.setIcon(t.pathToImages+"panUp.gif",i.iconSize),g.setClickHandler(t.moveUp,t),g.init(e,s,s,r,l,h,c,d,u,p,f,N,C),g.set.translate(s,0),j.setCN(t,g.set,"pan-up"),n.push(g.set),g=new j.SimpleButton,O?g.svgIcon=j.line(e,[-w,0,w],[-w/5,w-w/5,-w/5],N,f,1):g.setIcon(t.pathToImages+"panDown.gif",i.iconSize),g.setClickHandler(t.moveDown,t),g.init(e,s,s,r,l,h,c,d,u,p,f,N,C),g.set.translate(s,2*s),j.setCN(t,g.set,"pan-down"),n.push(g.set),o.push(n)),i.homeButtonEnabled&&(n=new j.SimpleButton,O?n.svgIcon=j.polygon(e,[-w,0,w,w-1,w-1,2,2,-2,-2,1-w,1-w],[0,-w,0,0,w-1,w-1,2,2,w-1,w-1,0],N,f,1,N,f):n.setIcon(t.pathToImages+i.homeIconFile,i.iconSize),n.setClickHandler(t.goHome,t),i.panControlEnabled&&(d=l=0),n.init(e,s,s,r,l,h,c,d,u,p,f,N,C),i.panControlEnabled?n.set.translate(s,s):L&&L.translate(0,1.5*s),j.setCN(t,n.set,"pan-home"),o.push(n.set)),i.update()},draggerDown:function(){this.chart.stopDrag(),this.isDragging=!0},draggerUp:function(){this.isDragging=!1},handleBgUp:function(){var t=this.chart,e=100*Math.pow(this.zoomFactor,this.stepMax-(t.mouseY-this.zoomSet.y-this.set.y-this.buttonSize-this.realStepSize/2)/this.realStepSize);t.zoomTo(e)},update:function(){var t,e=this.zoomFactor,i=this.realStepSize,o=this.stepMax,s=this.dragger,a=this.buttonSize,n=this.chart;n&&(this.isDragging?(n.stopDrag(),t=s.y+(n.mouseY-this.previousY),t=j.fitToBounds(t,a,this.realGridHeight+a),i=100*Math.pow(e,o-(t-a)/i),n.zoomTo(i,NaN,NaN,!0)):t=(o-(t=Math.log(n.zoomLevel()/100)/Math.log(e)))*i+a,this.previousY=n.mouseY,this.previousDY!=t&&s&&(s.translate((this.buttonSize-this.draggerSize)/2,t),this.previousDY=t))}})}(),function(){var g=window.AmCharts;g.SimpleButton=g.Class({construct:function(){},init:function(t,e,i,o,s,a,n,r,l,h,c,d,u){var p,m=this;m.rollOverColor=h,m.color=o,h=(m.container=t).set(),m.set=h,u?(e/=2,(o=g.circle(t,e,o,s,a,n,r)).translate(e,e)):o=g.rect(t,e,i,o,s,a,n,r,l),h.push(o),(s=m.iconPath)&&(a=(e-(p=m.iconSize))/2,u&&(a=(2*e-p)/2),p=t.image(s,a,(i-p)/2,p,p)),m.svgIcon&&(p=m.svgIcon,u?p.translate(e,e):p.translate(e/2,e/2)),h.setAttr("cursor","pointer"),p&&(h.push(p),p.setAttr("opacity",c),p.node.style.pointerEvents="none"),o.mousedown(function(){m.handleDown()}).touchstart(function(){m.handleDown()}).mouseup(function(){m.handleUp()}).touchend(function(){m.handleUp()}).mouseover(function(){m.handleOver()}).mouseout(function(){m.handleOut()}),m.bg=o},setIcon:function(t,e){this.iconPath=t,this.iconSize=e},setClickHandler:function(t,e){this.clickHandler=t,this.scope=e},setDownHandler:function(t,e){this.downHandler=t,this.scope=e},handleUp:function(){var t=this.clickHandler;t&&t.call(this.scope)},handleDown:function(){var t=this.downHandler;t&&t.call(this.scope)},handleOver:function(){this.container.chart.skipClick=!0,this.bg.setAttr("fill",this.rollOverColor)},handleOut:function(){this.container.chart.skipClick=!1,this.bg.setAttr("fill",this.color)}})}(),function(){var g=window.AmCharts;g.SmallMap=g.Class({construct:function(t){this.cname="SmallMap",this.mapColor="#e6e6e6",this.rectangleColor="#FFFFFF",this.top=this.right=10,this.minimizeButtonWidth=23,this.backgroundColor="#9A9A9A",this.backgroundAlpha=1,this.borderColor="#FFFFFF",this.iconColor="#000000",this.borderThickness=3,this.borderAlpha=1,this.size=.2,this.enabled=!0,g.applyTheme(this,t,this.cname)},init:function(t,e){var i=this;if(i.enabled){i.chart=t,i.container=e,i.width=t.realWidth*i.size,i.height=t.realHeight*i.size,g.remove(i.set);var o=e.set();i.set=o,g.setCN(t,o,"small-map");var s=e.set();i.allSet=s,o.push(s),i.buildSVGMap();var a=i.borderThickness,n=i.borderColor,r=g.rect(e,i.width+a,i.height+a,i.backgroundColor,i.backgroundAlpha,a,n,i.borderAlpha);g.setCN(t,r,"small-map-bg"),r.translate(-a/2,-a/2),s.push(r),r.toBack();r=i.minimizeButtonWidth;var l,h,c=new g.SimpleButton,d=r/2;t.svgIcons?c.svgIcon=g.line(e,[-d/2,0,d/2],[-d/4,d/4,-d/4],i.iconColor,1,1):c.setIcon(t.pathToImages+"arrowDown.gif",r),c.setClickHandler(i.minimize,i),c.init(e,r,r,n,1,1,n,1),g.setCN(t,c.set,"small-map-down"),c=c.set,i.downButtonSet=c,o.push(c);var u,p,m=new g.SimpleButton;t.svgIcons?m.svgIcon=g.line(e,[-d/2,0,d/2],[d/4,-d/4,d/4],i.iconColor,1,1):m.setIcon(t.pathToImages+"arrowUp.gif",r),m.setClickHandler(i.maximize,i),m.init(e,r,r,n,1,1,n,1),g.setCN(t,m.set,"small-map-up"),n=m.set,(i.upButtonSet=n).hide(),o.push(n),isNaN(i.top)||(l=t.getY(i.top)+a,p=0),isNaN(i.bottom)||(l=t.getY(i.bottom,!0)-i.height-a,p=i.height-r+a/2),isNaN(i.left)||(h=t.getX(i.left)+a,u=-a/2),isNaN(i.right)||(h=t.getX(i.right,!0)-i.width-a,u=i.width-r+a/2),(a=e.set()).clipRect(1,1,i.width,i.height),s.push(a),i.rectangleC=a,o.translate(h,l),c.translate(u,p),n.translate(u,p),s.mouseup(function(){i.handleMouseUp()}),i.drawRectangle()}else g.remove(i.allSet),g.remove(i.downButtonSet),g.remove(i.upButtonSet)},minimize:function(){this.downButtonSet.hide(),this.upButtonSet.show(),this.allSet.hide()},maximize:function(){this.downButtonSet.show(),this.upButtonSet.hide(),this.allSet.show()},buildSVGMap:function(){var t,e=this.chart,i={fill:this.mapColor,stroke:this.mapColor,"stroke-opacity":1},o=e.svgData.g.path,s=this.container,a=s.set();for(g.setCN(e,a,"small-map-image"),t=0;t<o.length;t++){var n=s.path(o[t].d).attr(i);a.push(n)}this.allSet.push(a),i=a.getBBox(),o=this.size*e.mapScale,s=-i.x*o,t=-i.y*o;var r=n=0;e.centerMap&&(n=(this.width-i.width*o)/2,r=(this.height-i.height*o)/2),this.mapWidth=i.width*o,this.mapHeight=i.height*o,this.dx=n,this.dy=r,a.translate(s+n,t+r,o)},update:function(){var t=(o=this.chart).zoomLevel(),e=this.width,i=o.mapContainer,o=e/(o.realWidth*t),s=(e=e/t,t=this.height/t,this.rectangle);s.translate(-i.x*o+this.dx,-i.y*o+this.dy),0<e&&0<t&&(s.setAttr("width",Math.ceil(e+1)),s.setAttr("height",Math.ceil(t+1))),this.rWidth=e,this.rHeight=t},drawRectangle:function(){var t=this.rectangle;g.remove(t),t=g.rect(this.container,10,10,"#000",0,1,this.rectangleColor,1),g.setCN(this.chart,t,"small-map-rectangle"),this.rectangleC.push(t),this.rectangle=t},handleMouseUp:function(){var t=this.chart,e=t.zoomLevel();t.zoomTo(e,-(t.mouseX-this.set.x-this.dx-this.rWidth/2)/this.mapWidth*e,-(t.mouseY-this.set.y-this.dy-this.rHeight/2)/this.mapHeight*e)}})}(),function(){var M=window.AmCharts;M.AreasProcessor=M.Class({construct:function(t){this.chart=t},process:function(t){this.updateAllAreas(),this.allObjects=[],t=t.areas;var e,i,o,s=this.chart,a=t.length;e=0;var n=s.svgAreasById,r=!1,l=!1,h=0;for(i=0;i<a;i++)o=(o=t[i]).value,isNaN(o)||((!1===r||r<o)&&(r=o),(!1===l||o<l)&&(l=o),e+=Math.abs(o),h++);for(isNaN(s.minValue)||(l=s.minValue),isNaN(s.maxValue)||(r=s.maxValue),s.maxValueReal=r,s.minValueReal=l,i=0;i<a;i++)o=t[i],isNaN(o.value)?o.percents=void 0:(o.percents=(o.value-l)/e*100,l==r&&(o.percents=100));for(i=0;i<a;i++){var c=n[(o=t[i]).id];e=s.areasSettings,c&&c.className&&(h=s.areasClasses[c.className])&&(e=h,e=M.processObject(e,M.AreasSettings,s.theme));var d=e.color,u=e.alpha,p=e.outlineThickness,m=e.rollOverColor,g=e.selectedColor,v=e.rollOverAlpha,b=e.rollOverBrightness,f=e.outlineColor,N=e.outlineAlpha,C=e.balloonText,O=e.selectable,w=e.pattern,z=e.rollOverOutlineColor,L=e.bringForwardOnHover,T=e.preserveOriginalAttributes;this.allObjects.push(o),o.chart=s,o.baseSettings=e,o.autoZoomReal=null==o.autoZoom?e.autoZoom:o.autoZoom,null==(h=o.color)&&(h=d);var A,S=o.alpha;if(isNaN(S)&&(S=u),u=o.rollOverAlpha,isNaN(u)&&(u=v),isNaN(u)&&(u=S),null==(v=o.rollOverColor)&&(v=m),null==(m=o.pattern)&&(m=w),null==(w=o.selectedColor)&&(w=g),(g=o.balloonText)||(g=C),null==e.colorSolid||isNaN(o.value)||((C=Math.floor((o.value-l)/((r-l)/s.colorSteps)))==s.colorSteps&&C--,C*=1/(s.colorSteps-1),r==l&&(C=1),o.colorReal=M.getColorFade(h,e.colorSolid,C)),null!=o.color&&(o.colorReal=o.color),null==o.selectable&&(o.selectable=O),null==o.colorReal&&(o.colorReal=d),null==(d=o.outlineColor)&&(d=f),f=o.outlineAlpha,isNaN(f)&&(f=N),N=o.outlineThickness,isNaN(N)&&(N=p),null==(p=o.rollOverOutlineColor)&&(p=z),null==(z=o.rollOverBrightness)&&(z=b),null==o.bringForwardOnHover&&(o.bringForwardOnHover=L),null==o.preserveOriginalAttributes&&(o.preserveOriginalAttributes=T),isNaN(e.selectedBrightness)||(w=M.adjustLuminosity(o.colorReal,e.selectedBrightness/100)),o.alphaReal=S,o.rollOverColorReal=v,o.rollOverAlphaReal=u,o.balloonTextReal=g,o.selectedColorReal=w,o.outlineColorReal=d,o.outlineAlphaReal=f,o.rollOverOutlineColorReal=p,o.outlineThicknessReal=N,o.patternReal=m,o.rollOverBrightnessReal=z,M.processDescriptionWindow(e,o),c&&(b=c.area,L=c.title,o.enTitle=c.title,L&&!o.title&&(o.title=L),(c=s.language)?(L=M.mapTranslations)&&(c=L[c])&&c[o.enTitle]&&(o.titleTr=c[o.enTitle]):o.titleTr=void 0,b))o.displayObject=b,o.mouseEnabled&&s.addObjectEventListeners(b,o),null!=h&&(A=h),null!=o.colorReal&&(A=o.showAsSelected||s.selectedObject==o?o.selectedColorReal:o.colorReal),b.node.setAttribute("class",""),M.setCN(s,b,"map-area"),M.setCN(s,b,"map-area-"+b.id),e.adjustOutlineThickness&&(N/=s.zoomLevel()),o.preserveOriginalAttributes||(b.setAttr("fill",A),b.setAttr("stroke",d),b.setAttr("stroke-opacity",f),b.setAttr("stroke-width",N),b.setAttr("fill-opacity",S)),m&&b.pattern(m,s.mapScale,s.path),o.hidden&&b.hide()}},updateAllAreas:function(){var t,e=this.chart,i=e.areasSettings,o=i.unlistedAreasColor,s=i.unlistedAreasAlpha,a=i.unlistedAreasOutlineColor,n=i.unlistedAreasOutlineAlpha,r=e.svgAreas,l=e.dataProvider,h=l.areas,c={};for(t=0;t<h.length;t++)c[h[t].id]=h[t];for(t=0;t<r.length;t++){if(h=r[t],i.preserveOriginalAttributes){if(h.customAttr)for(var d in h.customAttr)h.setAttr(d,h.customAttr[d])}else{null!=o&&h.setAttr("fill",o),isNaN(s)||h.setAttr("fill-opacity",s),null!=a&&h.setAttr("stroke",a),isNaN(n)||h.setAttr("stroke-opacity",n);var u=i.outlineThickness;i.adjustOutlineThickness&&(u/=e.zoomLevel()),h.setAttr("stroke-width",u)}M.setCN(e,h,"map-area-unlisted"),l.getAreasFromMap&&!c[h.id]&&((u=new M.MapArea(e.theme)).parentObject=l,u.id=h.id,l.areas.push(u))}}})}(),function(){var e=window.AmCharts;e.AreasSettings=e.Class({construct:function(t){this.cname="AreasSettings",this.alpha=1,this.autoZoom=!1,this.balloonText="[[title]]",this.color="#FFCC00",this.colorSolid="#990000",this.unlistedAreasAlpha=1,this.unlistedAreasColor="#DDDDDD",this.outlineColor="#FFFFFF",this.outlineThickness=this.outlineAlpha=1,this.selectedColor=this.rollOverOutlineColor="#CC0000",this.unlistedAreasOutlineColor="#FFFFFF",this.unlistedAreasOutlineAlpha=1,this.descriptionWindowWidth=250,this.bringForwardOnHover=this.adjustOutlineThickness=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var M=window.AmCharts;M.ImagesProcessor=M.Class({construct:function(t){this.chart=t,this.reset()},process:function(t){var e,i=t.images;for(e=0;e<i.length;e++)this.createImage(i[e],e);t.parentObject&&t.remainVisible&&this.process(t.parentObject)},createImage:function(t,e){var i=this.chart,o=i.container,s=i.mapImagesContainer,a=i.stageImagesContainer,n=i.imagesSettings;t.remove&&t.remove();var r=n.color,l=n.alpha,h=n.rollOverColor,c=n.rollOverOutlineColor,d=n.selectedColor,u=n.balloonText,p=n.outlineColor,m=n.outlineAlpha,g=n.outlineThickness,v=n.selectedScale,b=n.rollOverScale,f=n.labelPosition,N=n.labelColor,C=n.labelFontSize,O=n.bringForwardOnHover,w=n.labelRollOverColor,z=n.rollOverBrightness,L=n.selectedLabelColor;t.index=e,t.chart=i,t.baseSettings=i.imagesSettings;var T=o.set();t.displayObject=T;var A,S=t.color;null==S&&(S=r),r=t.alpha,isNaN(r)&&(r=l),null==t.bringForwardOnHover&&(t.bringForwardOnHover=O),l=t.outlineAlpha,isNaN(l)&&(l=m),null==(m=t.rollOverColor)&&(m=h),null==(h=t.selectedColor)&&(h=d),(d=t.balloonText)||(d=u),null==(u=t.outlineColor)&&(u=p),t.outlineColorReal=u,p=t.outlineThickness,isNaN(p)&&(p=g),(g=t.labelPosition)||(g=f),null==(f=t.labelColor)&&(f=N),null==(N=t.labelRollOverColor)&&(N=w),null==(w=t.selectedLabelColor)&&(w=L),L=t.labelFontSize,isNaN(L)&&(L=C),C=t.selectedScale,isNaN(C)&&(C=v),v=t.rollOverScale,isNaN(v)&&(v=b),null==(b=t.rollOverBrightness)&&(b=z),isNaN(n.selectedBrightness)||(h=M.adjustLuminosity(t.colorReal,n.selectedBrightness/100)),t.colorReal=S,t.alphaReal=r,t.rollOverColorReal=m,t.balloonTextReal=d,t.selectedColorReal=h,t.labelColorReal=f,t.labelRollOverColorReal=N,t.selectedLabelColorReal=w,t.labelFontSizeReal=L,t.labelPositionReal=g,t.selectedScaleReal=C,t.rollOverScaleReal=v,t.rollOverOutlineColorReal=c,t.rollOverBrightnessReal=b,M.processDescriptionWindow(n,t),t.centeredReal=null==t.centered?n.centered:t.centered,b=t.type,v=t.imageURL,C=t.svgPath,L=t.width,m=t.height,c=t.scale,isNaN(t.percentWidth)||(L=t.percentWidth/100*i.realWidth),isNaN(t.percentHeight)||(m=t.percentHeight/100*i.realHeight),v||b||C||(b="circle",L=1,l=r=0),w=z=0,n=t.selectedColorReal,b?(isNaN(L)&&(L=10),isNaN(m)&&(m=10),"kilometers"==t.widthAndHeightUnits&&(L=i.kilometersToPixels(t.width),m=i.kilometersToPixels(t.height)),"miles"==t.widthAndHeightUnits&&(L=i.milesToPixels(t.width),m=i.milesToPixels(t.height)),"circle"!=b&&"bubble"!=b||(m=L),A=this.createPredefinedImage(S,u,p,b,L,m),w=z=0,t.centeredReal?(isNaN(t.right)||(z=L*c),isNaN(t.bottom)||(w=m*c)):(z=L*c/2,w=m*c/2),A.translate(z,w,c,!0)):v?(isNaN(L)&&(L=10),isNaN(m)&&(m=10),(A=o.image(v,0,0,L,m)).node.setAttribute("preserveAspectRatio","none"),A.setAttr("opacity",r),t.centeredReal&&(z=isNaN(t.right)?-L/2:L/2,w=isNaN(t.bottom)?-m/2:m/2,A.translate(z,w,NaN,!0))):C&&(u=(A=o.path(C)).getBBox(),t.centeredReal?(z=-u.x*c-u.width*c/2,isNaN(t.right)||(z=-z),w=-u.y*c-u.height*c/2,isNaN(t.bottom)||(w=-w)):z=w=0,A.translate(z,w,c,!0),A.x=z,A.y=w),A&&(T.push(A),(t.image=A).setAttr("stroke-opacity",l),A.setAttr("fill-opacity",r),A.setAttr("fill",S),M.setCN(i,A,"map-image"),null!=t.id&&M.setCN(i,A,"map-image-"+t.id)),S=t.labelColorReal,!t.showAsSelected&&i.selectedObject!=t||null==n||(A.setAttr("fill",n),S=t.selectedLabelColorReal),A=null,void 0!==t.label&&(A=M.text(o,t.label,S,i.fontFamily,t.labelFontSizeReal,t.labelAlign),M.setCN(i,A,"map-image-label"),void 0!==t.id&&M.setCN(i,A,"map-image-label-"+t.id),S=t.labelBackgroundAlpha,(r=t.labelBackgroundColor)&&0<S&&(l=A.getBBox(),o=M.rect(o,l.width+16,l.height+10,r,S),M.setCN(i,o,"map-image-label-background"),null!=t.id&&M.setCN(i,o,"map-image-label-background-"+t.id),T.push(o),t.labelBG=o),t.imageLabel=A,T.push(A),M.setCN(i,T,"map-image-container"),null!=t.id&&M.setCN(i,T,"map-image-container-"+t.id)),isNaN(t.latitude)||isNaN(t.longitude)?a.push(T):s.push(T),T&&(T.rotation=t.rotation,isNaN(t.rotation)||T.rotate(t.rotation)),this.updateSizeAndPosition(t),t.mouseEnabled&&i.addObjectEventListeners(T,t),t.hidden&&T.hide()},updateSizeAndPosition:function(t){var e=this.chart,i=t.displayObject,o=e.getX(t.left),s=e.getY(t.top),a=t.image.getBBox();isNaN(t.right)||(o=e.getX(t.right,!0)-a.width*t.scale),isNaN(t.bottom)||(s=e.getY(t.bottom,!0)-a.height*t.scale);var n=t.longitude,r=t.latitude;a=this.objectsToResize;this.allSvgObjects.push(i),this.allObjects.push(t);var l=t.imageLabel;isNaN(o)||isNaN(s)?isNaN(r)||isNaN(n)||(o=e.longitudeToCoordinate(n),s=e.latitudeToCoordinate(r),i.translate(o,s,NaN,!0),t.fixedSize?(o=1,!t.showAsSelected&&e.selectedObject!=t||(o=t.selectedScaleReal),a.push({image:i,scale:o})):l&&this.labelsToReposition.push(t)):i.translate(o,s,NaN,!0),this.positionLabel(l,t,t.labelPositionReal)},positionLabel:function(t,e,i){if(t){var o=0,s=0,a=0,n=0;(r=e.image)&&(n=r.getBBox(),s=r.y,o=r.x,a=n.width,n=n.height,e.svgPath&&(a*=e.scale,n*=e.scale));var r,l=(r=t.getBBox()).width,h=r.height;"right"==i&&(o+=a+l/2+5,s+=n/2-2),"left"==i&&(o+=-l/2-5,s+=n/2-2),"top"==i&&(s-=h/2+3,o+=a/2),"bottom"==i&&(s+=n+h/2,o+=a/2),"middle"==i&&(o+=a/2,s+=n/2),t.translate(o+e.labelShiftX,s+e.labelShiftY,NaN,!0),e.labelBG&&e.labelBG.translate(o-r.width/2+e.labelShiftX-9,s+e.labelShiftY-r.height/2-3,NaN,!0)}},createPredefinedImage:function(t,e,i,o,s,a){var n,r=this.chart.container;switch(o){case"circle":n=M.circle(r,s/2,t,1,i,e,1);break;case"rectangle":n=M.polygon(r,[-s/2,s/2,s/2,-s/2],[a/2,a/2,-a/2,-a/2],t,1,i,e,1);break;case"bubble":n=M.circle(r,s/2,t,1,i,e,1,!0);break;case"hexagon":s/=Math.sqrt(3),n=M.polygon(r,[.866*s,0*s,-.866*s,-.866*s,0*s,.866*s],[.5*s,+s,.5*s,-.5*s,-1*s,-.5*s],t,1,i,e,1)}return n},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.allLabels=[],this.labelsToReposition=[]}})}(),function(){var e=window.AmCharts;e.ImagesSettings=e.Class({construct:function(t){this.cname="ImagesSettings",this.balloonText="[[title]]",this.alpha=1,this.borderAlpha=0,this.borderThickness=1,this.labelPosition="right",this.labelColor="#000000",this.labelFontSize=11,this.color="#000000",this.labelRollOverColor="#00CC00",this.centered=!0,this.rollOverScale=this.selectedScale=1,this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,this.outlineColor="transparent",e.applyTheme(this,t,this.cname)}})}(),function(){var Q=window.AmCharts;Q.LinesProcessor=Q.Class({construct:function(t){this.chart=t,this.reset()},process:function(t){var e,i=t.lines,o=this.chart,s=o.linesSettings,a=this.objectsToResize,n=o.mapLinesContainer,r=o.stageLinesContainer,l=s.thickness,h=s.dashLength,c=s.arrow,d=s.arrowSize,u=s.arrowColor,p=s.arrowAlpha,m=s.color,g=s.alpha,v=s.rollOverColor,b=s.selectedColor,f=s.rollOverAlpha,N=s.balloonText,C=s.bringForwardOnHover,O=s.arc,w=s.rollOverBrightness,z=o.container;for(e=0;e<i.length;e++){var L=i[e];L.chart=o,L.baseSettings=s;var T=z.set();if(L.displayObject=T,this.allSvgObjects.push(T),this.allObjects.push(L),L.mouseEnabled&&o.addObjectEventListeners(T,L),L.remainVisible||o.selectedObject==L.parentObject){var A=L.thickness;isNaN(A)&&(A=l);var S=L.dashLength;isNaN(S)&&(S=h);var M=L.color;null==M&&(M=m);var j=L.alpha;isNaN(j)&&(j=g);var y=L.rollOverAlpha;isNaN(y)&&(y=f),isNaN(y)&&(y=j),null==(W=L.rollOverColor)&&(W=v);var k=L.selectedColor;null==k&&(k=b),F=(F=L.balloonText)||N;var I=L.arc;isNaN(I)&&(I=O);var B=L.arrow;B&&("none"!=B||"none"==c)||(B=c);var R=L.arrowColor;null==R&&(R=u),null==R&&(R=M);var x=L.arrowAlpha;isNaN(x)&&(x=p),isNaN(x)&&(x=j);var D=L.arrowSize;isNaN(D)&&(D=d),null==(P=L.rollOverBrightness)&&(P=w),isNaN(s.selectedBrightness)||(k=Q.adjustLuminosity(L.colorReal,s.selectedBrightness/100)),L.alphaReal=j,L.colorReal=M,L.rollOverColorReal=W,L.rollOverAlphaReal=y,L.balloonTextReal=F,L.selectedColorReal=k,L.thicknessReal=A,L.rollOverBrightnessReal=P,null==L.bringForwardOnHover&&(L.bringForwardOnHover=C),Q.processDescriptionWindow(s,L);var H,W=this.processCoordinates(L.x,o.realWidth),F=this.processCoordinates(L.y,o.realHeight),P=L.longitudes,X=(y=L.latitudes,P.length);if(0<X)for(W=[],H=0;H<X;H++)W.push(o.longitudeToCoordinate(P[H]));if(0<(X=y.length))for(F=[],H=0;H<X;H++)F.push(o.latitudeToCoordinate(y[H]));if(0<W.length){var Y,E,Z,G,V,U;if(Q.dx=0,Q.dy=0,10<=(H=10*(1-Math.abs(I)))&&(H=NaN),H<1&&(H=1),isNaN(H))P=Q.line(z,W,F,M,1,A,S,!1,!1,!0),M=Q.line(z,W,F,M,.001,3,S,!1,!1,!0);else{X=1,I<0&&(X=0),P={stroke:M,"stroke-opacity":1,"stroke-width":A,"fill-opacity":0},void 0!==S&&0<S&&(P["stroke-dasharray"]=S);S=W[0];var q=W[1],K=F[0],J=F[1];Z=(E=Math.sqrt(Math.pow(q-S,2)+Math.pow(J-K,2)))/2*H,Y=270+180*Math.acos(E/2/Z)/Math.PI,isNaN(Y)&&(Y=270),S<q&&(H=S,S=q,q=H,H=K,K=J,J=H,Y=-Y),0<I&&(Y=-Y),S="M"+S+","+K+"A"+Z+","+Z+",0,0,"+X+","+q+","+J,P=z.path(S).attr(P),M=z.path(S).attr({stroke:M,"stroke-width":3,"stroke-opacity":.001,fill:"none"})}if(Q.setCN(o,P,"map-line"),null!=L.id&&Q.setCN(o,P,"map-line-"+L.id),Q.dx=.5,Q.dy=.5,T.push(P),T.push(M),P.setAttr("opacity",j),"none"!=B)"end"!=B&&"both"!=B||(j=W[W.length-1],X=F[F.length-1],G=1<W.length?(S=W[W.length-2],F[F.length-2]):(S=j,X),G=180*Math.atan((X-G)/(j-S))/Math.PI,isNaN(Y)||(G+=Y),U=X,G=(V=j)-S<0?G-90:G+90),"both"==B&&(j=Q.polygon(z,[-D/2,0,D/2],[1.5*D,0,1.5*D],R,x,1,R,x),T.push(j),j.translate(V,U,1,!0),j.rotate(G),Q.setCN(o,P,"map-line-arrow"),null!=L.id&&Q.setCN(o,P,"map-line-arrow-"+L.id),L.fixedSize&&a.push(j)),"start"!=B&&"both"!=B||(j=W[0],U=F[0],V=1<W.length?(S=W[1],F[1]):(S=j,U),G=180*Math.atan((U-V)/(j-S))/Math.PI,isNaN(Y)||(G-=Y),G=(V=j)-S<0?G-90:G+90),"middle"==B&&(j=W[W.length-1],X=F[F.length-1],G=1<W.length?(S=W[W.length-2],F[F.length-2]):(S=j,X),V=S+(j-S)/2,U=G+(X-G)/2,G=180*Math.atan((X-G)/(j-S))/Math.PI,isNaN(Y)||(B=E/2,B=Z-Math.sqrt(Z*Z-B*B),I<0&&(B=-B),-1==(I=Math.sin(G/180*Math.PI))&&(I=1),V-=I*B,U+=Math.cos(G/180*Math.PI)*B),G=j-S<0?G-90:G+90),j=Q.polygon(z,[-D/2,0,D/2],[1.5*D,0,1.5*D],R,x,1,R,x),Q.setCN(o,P,"map-line-arrow"),null!=L.id&&Q.setCN(o,P,"map-line-arrow-"+L.id),T.push(j),j.translate(V,U,1,!0),j.rotate(G),L.fixedSize&&a.push(j),L.arrowSvg=j;L.fixedSize&&P&&(this.linesToResize.push({line:P,thickness:A}),this.linesToResize.push({line:M,thickness:3})),L.lineSvg=P,L.showAsSelected&&!isNaN(k)&&P.setAttr("stroke",k),0<y.length?n.push(T):r.push(T),L.hidden&&T.hide()}}}t.parentObject&&t.remainVisible&&this.process(t.parentObject)},processCoordinates:function(t,e){var i,o=[];for(i=0;i<t.length;i++){var s=t[i],a=Number(s);isNaN(a)&&(a=Number(s.replace("%",""))*e/100),isNaN(a)||o.push(a)}return o},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.linesToResize=[]}})}(),function(){var e=window.AmCharts;e.LinesSettings=e.Class({construct:function(t){this.cname="LinesSettings",this.balloonText="[[title]]",this.thickness=1,this.dashLength=0,this.arrowSize=10,this.arrowAlpha=1,this.arrow="none",this.color="#990000",this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.MapObject=e.Class({construct:function(t){this.fixedSize=this.mouseEnabled=!0,this.images=[],this.lines=[],this.areas=[],this.remainVisible=!0,this.passZoomValuesToTarget=!1,this.objectType=this.cname,e.applyTheme(this,t,"MapObject")}})}(),function(e){(e=window.AmCharts).MapArea=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapArea",e.MapArea.base.construct.call(this,t),e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.MapLine=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapLine",this.longitudes=[],this.latitudes=[],this.x=[],this.y=[],this.arrow="none",e.MapLine.base.construct.call(this,t),e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.MapImage=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapImage",this.scale=1,this.widthAndHeightUnits="pixels",this.labelShiftY=this.labelShiftX=0,e.MapImage.base.construct.call(this,t),e.applyTheme(this,t,this.cname)},remove:function(){var t=this.displayObject;t&&t.remove(),(t=this.imageLabel)&&t.remove()}})}(),function(){var r=window.AmCharts;r.degreesToRadians=function(t){return t/180*Math.PI},r.radiansToDegrees=function(t){return t/Math.PI*180},r.getColorFade=function(t,e,i){e=(s=r.hex2RGB(e))[0];var o=s[1],s=s[2];t=(n=r.hex2RGB(t))[0];var a=n[1],n=n[2];return"rgb("+(t+=Math.round((e-t)*i))+","+(a+=Math.round((o-a)*i))+","+(n+=Math.round((s-n)*i))+")"},r.hex2RGB=function(t){return[parseInt(t.substring(1,3),16),parseInt(t.substring(3,5),16),parseInt(t.substring(5,7),16)]},r.processDescriptionWindow=function(t,e){isNaN(e.descriptionWindowX)&&(e.descriptionWindowX=t.descriptionWindowX),isNaN(e.descriptionWindowY)&&(e.descriptionWindowY=t.descriptionWindowY),isNaN(e.descriptionWindowLeft)&&(e.descriptionWindowLeft=t.descriptionWindowLeft),isNaN(e.descriptionWindowRight)&&(e.descriptionWindowRight=t.descriptionWindowRight),isNaN(e.descriptionWindowTop)&&(e.descriptionWindowTop=t.descriptionWindowTop),isNaN(e.descriptionWindowBottom)&&(e.descriptionWindowBottom=t.descriptionWindowBottom),isNaN(e.descriptionWindowWidth)&&(e.descriptionWindowWidth=t.descriptionWindowWidth),isNaN(e.descriptionWindowHeight)&&(e.descriptionWindowHeight=t.descriptionWindowHeight)}}(),function(){var t=window.AmCharts;t.MapData=t.Class({inherits:t.MapObject,construct:function(){this.cname="MapData",t.MapData.base.construct.call(this),this.projection="mercator",this.topLatitude=90,this.bottomLatitude=-90,this.leftLongitude=-180,this.rightLongitude=180,this.zoomLevel=1,this.getAreasFromMap=!1}})}(),function(){var t=window.AmCharts;t.DescriptionWindow=t.Class({construct:function(){},show:function(t,e,i,o){var s=this,a=document.createElement("div");a.style.position="absolute";var n=t.classNamePrefix+"-description-";a.className="ammapDescriptionWindow "+n+"div",s.div=a,e.appendChild(a);var r=".gif";t.svgIcons&&(r=".svg");var l=document.createElement("img");l.className="ammapDescriptionWindowCloseButton "+n+"close-img",l.src=t.pathToImages+"xIcon"+r,l.style.cssFloat="right",l.style.cursor="pointer",l.onclick=function(){s.close()},l.onmouseover=function(){l.src=t.pathToImages+"xIconH"+r},l.onmouseout=function(){l.src=t.pathToImages+"xIcon"+r},a.appendChild(l),(e=document.createElement("div")).className="ammapDescriptionTitle "+n+"title-div",e.onmousedown=function(){s.div.style.zIndex=1e3},a.appendChild(e),o=document.createTextNode(o),e.appendChild(o),o=e.offsetHeight,(e=document.createElement("div")).className="ammapDescriptionText "+n+"text-div",e.style.maxHeight=s.maxHeight-o-20+"px",a.appendChild(e),e.innerHTML=i},close:function(){try{this.div.parentNode.removeChild(this.div)}catch(t){}}})}(),function(){var d=window.AmCharts;d.ValueLegend=d.Class({construct:function(t){this.cname="ValueLegend",this.enabled=!0,this.showAsGradient=!1,this.minValue=0,this.height=12,this.width=200,this.bottom=this.left=10,this.borderColor="#FFFFFF",this.borderAlpha=this.borderThickness=1,this.color="#000000",this.fontSize=11,d.applyTheme(this,t,this.cname)},init:function(t,e){if(this.enabled){var i=t.areasSettings.color,o=t.areasSettings.colorSolid,s=t.colorSteps;d.remove(this.set);var a=e.set();this.set=a,d.setCN(t,a,"value-legend");var n=0,r=this.minValue,l=this.fontSize,h=t.fontFamily,c=this.color;if(null==r&&(r=t.minValueReal),void 0!==r&&((n=d.text(e,r,c,h,l,"left")).translate(0,l/2-1),d.setCN(t,n,"value-legend-min-label"),a.push(n),n=n.getBBox().height),void 0===(r=this.maxValue)&&(r=t.maxValueReal),void 0!==r&&((n=d.text(e,r,c,h,l,"right")).translate(this.width,l/2-1),d.setCN(t,n,"value-legend-max-label"),a.push(n),n=n.getBBox().height),this.showAsGradient)i=d.rect(e,this.width,this.height,[i,o],1,this.borderThickness,this.borderColor,1,0,0),d.setCN(t,i,"value-legend-gradient"),i.translate(0,n),a.push(i);else for(l=this.width/s,h=0;h<s;h++)c=d.getColorFade(i,o,h/(s-1)),c=d.rect(e,l,this.height,c,1,this.borderThickness,this.borderColor,1),d.setCN(t,c,"value-legend-color"),d.setCN(t,c,"value-legend-color-"+h),c.translate(l*h,n),a.push(c);o=i=0,s=a.getBBox(),n=t.getY(this.bottom,!0),l=t.getY(this.top),h=t.getX(this.right,!0),c=t.getX(this.left),isNaN(l)||(i=l),isNaN(n)||(i=n-s.height),isNaN(c)||(o=c),isNaN(h)||(o=h-s.width),a.translate(o,i)}else d.remove(this.set)}})}(),function(){var t=window.AmCharts;t.ObjectList=t.Class({construct:function(t){this.divId=t},init:function(t){this.chart=t;var e=this.divId;this.container&&(e=this.container),this.div="object"!=typeof e?document.getElementById(e):e,(e=document.createElement("div")).className="ammapObjectList "+t.classNamePrefix+"-object-list-div",this.div.appendChild(e),this.addObjects(t.dataProvider,e)},addObjects:function(t,e){var i,o=this.chart,s=document.createElement("ul");if(s.className=o.classNamePrefix+"-object-list-ul",t.areas)for(i=0;i<t.areas.length;i++){var a=t.areas[i];void 0===a.showInList&&(a.showInList=o.showAreasInList),this.addObject(a,s)}if(t.images)for(i=0;i<t.images.length;i++)void 0===(a=t.images[i]).showInList&&(a.showInList=o.showImagesInList),this.addObject(a,s);if(t.lines)for(i=0;i<t.lines.length;i++)void 0===(a=t.lines[i]).showInList&&(a.showInList=o.showLinesInList),this.addObject(a,s);0<s.childNodes.length&&e.appendChild(s)},addObject:function(t,e){var i=this;if(t.showInList&&void 0!==t.title){var o=i.chart,s=document.createElement("li");s.className=o.classNamePrefix+"-object-list-li";var a=document.createTextNode(t.title),n=document.createElement("a");n.className=o.classNamePrefix+"-object-list-a",n.appendChild(a),s.appendChild(n),e.appendChild(s),this.addObjects(t,s),n.onmouseover=function(){i.chart.rollOverMapObject(t,!1)},n.onmouseout=function(){i.chart.rollOutMapObject(t)},n.onclick=function(){i.chart.clickMapObject(t)}}}})}();