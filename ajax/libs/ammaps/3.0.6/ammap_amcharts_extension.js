AmCharts.maps={};
AmCharts.AmMap=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(){this.version="3.0.6";this.svgNotSupported="This browser doesn't support SVG. Use Chrome, Firefox, Internet Explorer 9 or later.";this.createEvents("rollOverMapObject","rollOutMapObject","clickMapObject","selectedObjectChanged","homeButtonClicked","zoomCompleted","writeDevInfo");this.zoomDuration=1;this.zoomControl=new AmCharts.ZoomControl;this.fitMapToContainer=!0;this.mouseWheelZoomEnabled=this.backgroundZoomsToTop=!1;
this.useHandCursorOnClickableOjects=this.showBalloonOnSelectedObject=!0;this.showObjectsAfterZoom=this.wheelBusy=!1;this.zoomOnDoubleClick=this.useObjectColorForBalloon=!0;this.allowMultipleDescriptionWindows=!1;this.dragMap=this.centerMap=!0;this.colorSteps=5;this.showAreasInList=!0;this.showLinesInList=this.showImagesInList=!1;this.areasProcessor=new AmCharts.AreasProcessor(this);this.areasSettings=new AmCharts.AreasSettings;this.imagesProcessor=new AmCharts.ImagesProcessor(this);this.imagesSettings=
new AmCharts.ImagesSettings;this.linesProcessor=new AmCharts.LinesProcessor(this);this.linesSettings=new AmCharts.LinesSettings;this.showDescriptionOnHover=!1;AmCharts.AmMap.base.construct.call(this);this.product="ammap";AmCharts.bezierX=3;AmCharts.bezierY=3;AmCharts.dx=0.5;AmCharts.dy=0.5},initChart:function(){this.zoomInstantly=!0;if(this.sizeChanged&&AmCharts.hasSVG&&this.chartCreated){this.container.setSize(this.realWidth,this.realHeight);this.resizeMap();this.drawBackground();this.redrawLabels();
this.drawTitles();this.processObjects();this.rescaleObjects();var a=this.container;this.zoomControl.init(this,a);this.drawBg();var b=this.smallMap;b&&b.init(this,a);(b=this.valueLegend)&&b.init(this,a);this.sizeChanged=!1;this.zoomToLongLat(this.zLevelTemp,this.zLongTemp,this.zLatTemp,!0);this.previousWidth=this.realWidth;this.previousHeight=this.realHeight;this.drb();this.updateSmallMap();this.linkSet.toFront()}else if(AmCharts.AmMap.base.initChart.call(this),AmCharts.hasSVG){if(this.dataChanged&&
(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,a=this.legend))a.position="absolute",a.invalidateSize();this.addMouseWheel();this.createDescriptionsDiv();this.svgAreas=[];this.svgAreasById={};this.drawChart()}else document.createTextNode(this.svgNotSupported),this.chartDiv.style.textAlign="",this.chartDiv.setAttribute("class","ammapAlert"),this.chartDiv.innerHTML=this.svgNotSupported},invalidateSize:function(){var a=this.zoomLongitude();isNaN(a)||(this.zLongTemp=a);a=this.zoomLatitude();
isNaN(a)||(this.zLatTemp=a);a=this.zoomLevel();isNaN(a)||(this.zLevelTemp=a);AmCharts.AmMap.base.invalidateSize.call(this)},addMouseWheel:function(){var a=this;a.mouseWheelZoomEnabled&&(window.addEventListener&&window.addEventListener("DOMMouseScroll",function(b){a.handleWheel.call(a,b)},!1),window.onmousewheel&&(window.onmousewheel=document.onmousewheel=a.handleWheel.call(a)))},handleWheel:function(a){if(this.mouseIsOver){var b=0;a||(a=window.event);a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/
3);b&&this.handleWheelReal(b);a.preventDefault&&a.preventDefault();a.returnValue=!1}},handleWheelReal:function(a){if(!this.wheelBusy){this.stopAnimation();var b=this.zoomLevel(),c=this.zoomControl,e=c.zoomFactor;this.wheelBusy=!0;a=AmCharts.fitToBounds(0<a?b*e:b/e,c.minZoomLevel,c.maxZoomLevel);e=this.mouseX/this.mapWidth;c=this.mouseY/this.mapHeight;e=(this.zoomX()-e)*(a/b)+e;b=(this.zoomY()-c)*(a/b)+c;this.zoomTo(a,e,b)}},addLegend:function(a){a.position="absolute";a.autoMargins=!1;a.valueWidth=
0;a.switchable=!1;AmCharts.AmMap.base.addLegend.call(this,a)},handleLegendEvent:function(){},createDescriptionsDiv:function(){var a=document.createElement("div");this.div.appendChild(a);this.descriptionsDiv=a},drawChart:function(){AmCharts.AmMap.base.drawChart.call(this);var a=this.dataProvider;AmCharts.extend(a,new AmCharts.MapData);AmCharts.extend(this.areasSettings,new AmCharts.AreasSettings);AmCharts.extend(this.imagesSettings,new AmCharts.ImagesSettings);AmCharts.extend(this.linesSettings,new AmCharts.LinesSettings);
this.mapContainer=this.container.set();this.graphsSet.push(this.mapContainer);var b=a.mapVar;b?(this.svgData=b.svg,this.getBounds(),this.buildEverything()):(a=a.mapURL)&&this.loadXml(a)},drawBg:function(){var a=this;AmCharts.remove(a.bgSet);var b=AmCharts.rect(a.container,a.realWidth,a.realHeight,"#000",0.001);b.click(function(){a.handleBackgroundClick()});a.bgSet=b;a.set.push(b)},buildEverything:function(){var a=this;if(0<a.realWidth&&0<a.realHeight){var b=a.container;a.zoomControl.init(this,b);
a.drawBg();a.buildSVGMap();var c=a.smallMap;c&&c.init(a,b);c=a.dataProvider;isNaN(c.zoomX)&&(isNaN(c.zoomY)&&isNaN(c.zoomLatitude)&&isNaN(c.zoomLongitude))&&(a.centerMap?(c.zoomLatitude=a.coordinateToLatitude(a.mapHeight/2),c.zoomLongitude=a.coordinateToLongitude(a.mapWidth/2)):(c.zoomX=0,c.zoomY=0),a.zoomInstantly=!0);a.selectObject(a.dataProvider);a.processAreas();(c=a.valueLegend)&&c.init(a,b);if(b=a.objectList)a.clearObjectList(),b.init(a);clearInterval(a.interval);a.interval=setInterval(function(){a.update.call(a)},
AmCharts.updateRate);a.dispDUpd();a.linkSet.toFront();a.chartCreated=!0}else a.cleanChart()},hideGroup:function(a){this.showHideGroup(a,!1)},showGroup:function(a){this.showHideGroup(a,!0)},showHideGroup:function(a,b){this.showHideReal(this.imagesProcessor.allObjects,a,b);this.showHideReal(this.areasProcessor.allObjects,a,b);this.showHideReal(this.linesProcessor.allObjects,a,b)},showHideReal:function(a,b,c){for(var e=0;e<a.length;e++){var d=a[e];d.groupId==b&&(c?d.displayObject.show():d.displayObject.hide())}},
update:function(){this.zoomControl.update()},animateMap:function(){var a=this;a.totalFrames=1E3*a.zoomDuration/AmCharts.updateRate;a.totalFrames+=1;a.frame=0;a.tweenPercent=0;setTimeout(function(){a.updateSize.call(a)},AmCharts.updateRate)},updateSize:function(){var a=this,b=a.totalFrames;a.frame<=b?(a.frame++,b=a.container.easeOutSine(0,a.frame,0,1,b),1<=b?(b=1,a.wheelBusy=!1):setTimeout(function(){a.updateSize.call(a)},AmCharts.updateRate)):(b=1,a.wheelBusy=!1);a.tweenPercent=b;a.rescaleMapAndObjects()},
rescaleMapAndObjects:function(){var a=this.initialScale,b=this.initialX,c=this.initialY,e=this.tweenPercent;this.mapContainer.translate(b+(this.finalX-b)*e,c+(this.finalY-c)*e,a+(this.finalScale-a)*e);this.rescaleObjects();this.updateSmallMap();1==e&&(a={type:"zoomCompleted",chart:this},this.fire(a.type,a))},updateSmallMap:function(){this.smallMap&&this.smallMap.update()},rescaleObjects:function(){var a=this.mapContainer.scale,b=this.imagesProcessor.objectsToResize,c;for(c=0;c<b.length;c++){var e=
b[c].image;e.translate(e.x,e.y,b[c].scale/a,!0)}b=this.linesProcessor;if(e=b.linesToResize)for(c=0;c<e.length;c++){var d=e[c];d.line.setAttr("stroke-width",d.thickness/a)}b=b.objectsToResize;for(c=0;c<b.length;c++)e=b[c],e.translate(e.x,e.y,1/a)},handleTouchStart:function(a){this.handleMouseMove(a);this.handleMouseDown(a)},handleTouchEnd:function(a){this.previousDistance=NaN;this.handleReleaseOutside(a)},handleMouseDown:function(a){if(this.chartCreated&&this.mouseIsOver&&(AmCharts.resetMouseOver(),
this.mouseIsOver=!0,this.dragMap&&(this.stopAnimation(),this.isDragging=!0,this.mapContainerClickX=this.mapContainer.x,this.mapContainerClickY=this.mapContainer.y,this.panEventsEnabled||a&&a.preventDefault&&a.preventDefault()),a||(a=window.event),a.shiftKey&&!0==this.developerMode&&this.getDevInfo(),a&&a.touches)){var b=this.mouseX,c=this.mouseY,e=a.touches.item(1);e&&(a=e.pageX-AmCharts.findPosX(this.div),e=e.pageY-AmCharts.findPosY(this.div),this.middleXP=(b+(a-b)/2)/this.realWidth,this.middleYP=
(c+(e-c)/2)/this.realHeight)}},stopDrag:function(){this.isDragging=!1},handleReleaseOutside:function(){this.isDragging=!1;this.zoomControl.draggerUp();this.mapWasDragged=!1;var a=this.mapContainer,b=this.mapContainerClickX,c=this.mapContainerClickY;if(!isNaN(b)&&!isNaN(c)&&(2<Math.abs(a.x-b)||Math.abs(a.y-c)))this.mapWasDragged=!0;this.mapContainerClickY=this.mapContainerClickX=NaN;this.objectWasClicked=!1;this.zoomOnDoubleClick&&this.mouseIsOver&&(a=(new Date).getTime(),200>a-this.previousClickTime&&
20<a-this.previousClickTime&&this.doDoubleClickZoom(),this.previousClickTime=a)},handleTouchMove:function(a){this.handleMouseMove(a)},resetPinch:function(){this.mapWasPinched=!1},handleMouseMove:function(a){var b=this;AmCharts.AmMap.base.handleMouseMove.call(b,a);var c=b.previuosMouseX,e=b.previuosMouseY,d=b.mouseX,f=b.mouseY;isNaN(c)&&(c=d);isNaN(e)&&(e=f);b.mouse2X=NaN;b.mouse2Y=NaN;if(a&&a.touches){var g=a.touches.item(1);g&&(b.mouse2X=g.pageX-AmCharts.findPosX(b.div),b.mouse2Y=g.pageY-AmCharts.findPosY(b.div))}var g=
b.mapContainer,h=b.mouse2X,j=b.mouse2Y;b.pinchTO&&clearTimeout(b.pinchTO);b.pinchTO=setTimeout(function(){b.resetPinch.call(b)},1E3);if(!isNaN(h)){b.isDragging=!1;a.preventDefault&&a.preventDefault();var h=Math.sqrt(Math.pow(h-d,2)+Math.pow(j-f,2)),l=b.previousDistance,j=Math.max(b.realWidth,b.realHeight);5>Math.abs(l-h)&&(b.isDragging=!0);if(!isNaN(l)){var k=5*Math.abs(l-h)/j,j=g.scale,j=l<h?j+j*k:j-j*k,l=b.zoomLevel(),n=b.middleXP,k=b.middleYP,q=b.realHeight/b.mapHeight,s=b.realWidth/b.mapWidth,
n=(b.zoomX()-n*s)*(j/l)+n*s,k=(b.zoomY()-k*q)*(j/l)+k*q;0.1<Math.abs(j-l)&&(b.zoomTo(j,n,k,!0),b.mapWasPinched=!0,clearTimeout(b.pinchTO))}b.previousDistance=h}b.isDragging&&(b.hideBalloon(),g.translate(g.x+(d-c),g.y+(f-e),g.scale),b.updateSmallMap(),a&&a.preventDefault&&a.preventDefault());b.previuosMouseX=d;b.previuosMouseY=f},selectObject:function(a){var b=this;a||(a=b.dataProvider);var c=a.linkToObject;a.useTargetsZoomValues&&c&&(a.zoomX=c.zoomX,a.zoomY=c.zoomY,a.zoomLatitude=c.zoomLatitude,a.zoomLongitude=
c.zoomLongitude,a.zoomLevel=c.zoomLevel);var e=b.selectedObject;e&&b.returnInitialColor(e);b.selectedObject=a;var d=!1;"MapArea"==a.objectType&&a.autoZoomReal&&(d=!0);if(c&&!d&&("string"==typeof c&&(c=b.getObjectById(c)),isNaN(a.zoomLevel)&&isNaN(a.zoomX)&&isNaN(a.zoomY))){if(b.extendMapData(c))return;b.selectObject(c);return}b.allowMultipleDescriptionWindows||b.closeAllDescriptions();clearTimeout(b.selectedObjectTimeOut);clearTimeout(b.processObjectsTimeOut);c=b.zoomDuration;d||!isNaN(a.zoomLevel)||
!isNaN(a.zoomX)||!isNaN(a.zoomY)?(b.selectedObjectTimeOut=setTimeout(function(){b.showDescriptionAndGetUrl.call(b)},1E3*c+200),b.showObjectsAfterZoom?b.processObjectsTimeOut=setTimeout(function(){b.processObjects.call(b)},1E3*c+200):b.processObjects()):(b.showDescriptionAndGetUrl(),b.processObjects());(d=a.displayObject)?(d.setAttr("stroke",a.outlineColorReal),c=a.selectedColorReal,void 0!=c&&d.setAttr("fill",c),a.selectable||(d.setAttr("cursor","default"),(d=a.imageLabel)&&d.setAttr("cursor","default"))):
b.returnInitialColorReal(a);if(d=a.groupId)for(var c=b.getGroupById(d),f=0;f<c.length;f++){var g=c[f];if(d=g.displayObject){var h=g.selectedColorReal;void 0!=h?d.setAttr("fill",h):b.returnInitialColor(g)}}b.zoomToSelectedObject();e!=a&&(a={type:"selectedObjectChanged",chart:b},b.fire(a.type,a))},returnInitialColor:function(a,b){this.returnInitialColorReal(a);b&&(a.isFirst=!1);var c=a.groupId;if(c)for(var c=this.getGroupById(c),e=0;e<c.length;e++)this.returnInitialColorReal(c[e]),b&&(c[e].isFirst=
!1)},closeAllDescriptions:function(){this.descriptionsDiv.innerHTML=""},returnInitialColorReal:function(a){a.isOver=!1;var b=a.displayObject;if(b){if("MapImage"==a.objectType){var c=a.tempScale;isNaN(c)||b.translate(b.x,b.y,c,!0)}c=a.colorReal;a.showAsSelected&&(c=a.selectedColorReal);"bubble"==a.type&&(c=void 0);void 0!=c&&b.setAttr("fill",c);var e=a.image;e&&e.setAttr("fill",c);b.setAttr("stroke",a.outlineColorReal);(b=a.imageLabel)&&!a.labelInactive&&b.setAttr("fill",a.labelColorReal)}},zoomToRectangle:function(a,
b,c,e){var d=this.realWidth,f=this.realHeight,g=this.mapSet.scale,h=this.zoomControl,d=AmCharts.fitToBounds(c/d>e/f?0.8*d/(c*g):0.8*f/(e*g),h.minZoomLevel,h.maxZoomLevel);this.zoomToMapXY(d,(a+c/2)*g,(b+e/2)*g)},zoomToLatLongRectangle:function(a,b,c,e){var d=this.dataProvider,f=this.zoomControl,g=Math.abs(c-a),h=Math.abs(b-e),j=Math.abs(d.rightLongitude-d.leftLongitude),d=Math.abs(d.topLatitude-d.bottomLatitude),f=AmCharts.fitToBounds(g/j>h/d?0.8*j/g:0.8*d/h,f.minZoomLevel,f.maxZoomLevel);this.zoomToLongLat(f,
a+(c-a)/2,e+(b-e)/2)},getGroupById:function(a){var b=[];this.getGroup(this.imagesProcessor.allObjects,a,b);this.getGroup(this.linesProcessor.allObjects,a,b);this.getGroup(this.areasProcessor.allObjects,a,b);return b},zoomToGroup:function(a){a=this.getGroupById(a);for(var b,c,e,d,f=0;f<a.length;f++){var g=a[f].displayObject.getBBox(),h=g.y,j=g.y+g.height,l=g.x,g=g.x+g.width;if(h<b||isNaN(b))b=h;if(j>d||isNaN(d))d=j;if(l<c||isNaN(c))c=l;if(g>e||isNaN(e))e=g}a=this.mapSet.getBBox();c-=a.x;e-=a.x;d-=
a.y;b-=a.y;this.zoomToRectangle(c,b,e-c,d-b)},getGroup:function(a,b,c){if(a)for(var e=0;e<a.length;e++){var d=a[e];d.groupId==b&&c.push(d)}},zoomToStageXY:function(a,b,c,e){if(!this.objectWasClicked){var d=this.zoomLevel();c=this.coordinateToLatitude((c-this.mapContainer.y)/d);b=this.coordinateToLongitude((b-this.mapContainer.x)/d);this.zoomToLongLat(a,b,c,e)}},zoomToLongLat:function(a,b,c,e){b=this.longitudeToCoordinate(b);c=this.latitudeToCoordinate(c);this.zoomToMapXY(a,b,c,e)},zoomToMapXY:function(a,
b,c,e){var d=this.mapWidth,f=this.mapHeight;this.zoomTo(a,-(b/d)*a+this.realWidth/d/2,-(c/f)*a+this.realHeight/f/2,e)},zoomToSelectedObject:function(){var a=this.selectedObject,b=a.zoomLatitude,c=a.zoomLongitude,e=a.zoomLevel,d=this.zoomInstantly,f=a.zoomX,g=a.zoomY,h=this.realWidth,j=this.realHeight;isNaN(e)||(!isNaN(b)&&!isNaN(c)?this.zoomToLongLat(e,c,b,d):this.zoomTo(e,f,g,d));this.zoomInstantly=!1;"MapImage"==a.objectType&&isNaN(a.zoomX)&&(isNaN(a.zoomY)&&isNaN(a.zoomLatitude)&&isNaN(a.zoomLongitude)&&
!isNaN(a.latitude)&&!isNaN(a.longitude))&&this.zoomToLongLat(a.zoomLevel,a.longitude,a.latitude);"MapArea"==a.objectType&&(f=a.displayObject.getBBox(),b=this.mapScale,c=f.x*b,e=f.y*b,d=f.width*b,f=f.height*b,h=a.autoZoomReal&&isNaN(a.zoomLevel)?d/h>f/j?0.8*h/d:0.8*j/f:a.zoomLevel,j=this.zoomControl,h=AmCharts.fitToBounds(h,j.minZoomLevel,j.maxZoomLevel),isNaN(a.zoomX)&&(isNaN(a.zoomY)&&isNaN(a.zoomLatitude)&&isNaN(a.zoomLongitude))&&(a=this.mapSet.getBBox(),this.zoomToMapXY(h,-a.x*b+c+d/2,-a.y*b+
e+f/2)))},zoomTo:function(a,b,c,e){var d=this.zoomControl;a=AmCharts.fitToBounds(a,d.minZoomLevel,d.maxZoomLevel);d=this.zoomLevel();isNaN(b)&&(b=this.realWidth/this.mapWidth,b=(this.zoomX()-0.5*b)*(a/d)+0.5*b);isNaN(c)&&(c=this.realHeight/this.mapHeight,c=(this.zoomY()-0.5*c)*(a/d)+0.5*c);this.stopAnimation();isNaN(a)||(d=this.mapContainer,this.initialX=d.x,this.initialY=d.y,this.initialScale=d.scale,this.finalX=this.mapWidth*b,this.finalY=this.mapHeight*c,this.finalScale=a,this.finalX!=this.initialX||
this.finalY!=this.initialY||this.finalScale!=this.initialScale?e?(this.tweenPercent=1,this.rescaleMapAndObjects(),this.wheelBusy=!1):this.animateMap():this.wheelBusy=!1)},loadXml:function(a){var b;b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.overrideMimeType&&b.overrideMimeType("text/xml");b.open("GET",a,!1);b.send();this.parseXMLObject(b.responseXML);this.svgData&&this.buildEverything()},stopAnimation:function(){this.frame=this.totalFrames},processObjects:function(){var a=
this.container,b=this.stageObjectsContainer;b&&b.remove();this.stageObjectsContainer=b=a.set();this.trendLinesSet.push(b);var c=this.mapObjectsContainer;c&&c.remove();this.mapObjectsContainer=c=a.set();this.mapContainer.push(c);c.toFront();b.toFront();if(a=this.selectedObject)this.imagesProcessor.reset(),this.linesProcessor.reset(),this.imagesProcessor.process(a),this.linesProcessor.process(a);this.rescaleObjects()},processAreas:function(){this.areasProcessor.process(this.dataProvider)},buildSVGMap:function(){var a=
this.svgData.g.path,b=this.container,c=b.set();void 0==a.length&&(a=[a]);for(var e=0;e<a.length;e++){var d=a[e],f=d.title,g=b.path(d.d);g.id=d.id;this.svgAreasById[d.id]={area:g,title:f};this.svgAreas.push(g);c.push(g)}this.mapSet=c;this.mapContainer.push(c);this.resizeMap()},addObjectEventListeners:function(a,b){var c=this;a.mouseup(function(){c.clickMapObject(b)}).mouseover(function(){c.rollOverMapObject(b)}).mouseout(function(){c.rollOutMapObject(b)}).touchend(function(){c.clickMapObject(b)}).touchstart(function(){c.rollOverMapObject(b)})},
checkIfSelected:function(a){var b=this.selectedObject;if(b==a)return!0;if(b=b.groupId)for(var b=this.getGroupById(b),c=0;c<b.length;c++)if(b[c]==a)return!0;return!1},clearMap:function(){this.chartDiv.innerHTML="";this.clearObjectList()},clearObjectList:function(){var a=this.objectList;a&&(a.div.innerHTML="")},checkIfLast:function(a){if(a){var b=a.parentNode;if(b&&b.lastChild==a)return!0}return!1},showAsRolledOver:function(a){var b=a.displayObject;if(!a.showAsSelected&&b&&!a.isOver){b.node.onmouseout=
function(){};b.node.onmouseover=function(){};b.node.onclick=function(){};a.isFirst||(b.toFront(),a.isFirst=!0);var c=a.rollOverColorReal;if(void 0!=c)if("MapImage"==a.objectType){var e=a.image;e&&e.setAttr("fill",c)}else b.setAttr("fill",c);if((e=a.imageLabel)&&!a.labelInactive)c=a.labelRollOverColorReal,void 0!=c&&e.setAttr("fill",c);c=a.rollOverOutlineColorReal;void 0!=c&&("MapImage"==a.objectType?(e=a.image)&&e.setAttr("stroke",c):b.setAttr("stroke",c));"MapImage"==a.objectType&&(e=a.rollOverScaleReal,
isNaN(e)||(a.tempScale=b.scale,b.translate(b.x,b.y,b.scale*e,!0)));this.useHandCursorOnClickableOjects&&(this.checkIfClickable(a)&&this.selectedObject!=a)&&b.setAttr("cursor","pointer");this.addObjectEventListeners(b,a);a.isOver=!0}},rollOverMapObject:function(a,b){if(this.chartCreated){this.handleMouseMove();var c=this.previouslyHovered;c&&c!=a&&!1==this.checkIfSelected(c)&&(this.returnInitialColor(c,!0),this.previouslyHovered=null);if(!1==this.checkIfSelected(a)){if(c=a.groupId)for(var c=this.getGroupById(c),
e=0;e<c.length;e++)c[e]!=a&&this.showAsRolledOver(c[e]);this.showAsRolledOver(a)}else(c=a.displayObject)&&c.setAttr("cursor","default");if(this.showDescriptionOnHover)this.showDescription(a);else if((this.showBalloonOnSelectedObject||!this.checkIfSelected(a))&&!1!==b)if(e=a.balloonTextReal)if(c=this.balloon,(e=this.formatString(e,a))&&""!=e){var d=a.colorReal;void 0!=d&&this.useObjectColorForBalloon||(d=c.fillColor);clearTimeout(this.hoverInt);this.showBalloon(e,d,!0)}c={type:"rollOverMapObject",
mapObject:a,chart:this};this.fire(c.type,c);this.previouslyHovered=a}},rollOutMapObject:function(a){this.hideBalloon();this.chartCreated&&a.isOver&&(this.checkIfSelected(a)||this.returnInitialColor(a),a={type:"rollOutMapObject",mapObject:a,chart:this},this.fire(a.type,a))},formatString:function(a,b){var c=this.numberFormatter,e=this.percentFormatter,d=b.title;void 0==d&&(d="");var f=b.value,f=isNaN(f)?"":AmCharts.formatNumber(f,c),c=b.percents,c=isNaN(c)?"":AmCharts.formatNumber(c,e),e=b.description;
void 0==e&&(e="");var g=b.customData;void 0==g&&(g="");return a=AmCharts.massReplace(a,{"[[title]]":d,"[[value]]":f,"[[percent]]":c,"[[description]]":e,"[[customData]]":g})},clickMapObject:function(a){this.hideBalloon();this.chartCreated&&(!this.mapWasDragged&&this.checkIfClickable(a)&&!this.mapWasPinched)&&(this.selectObject(a),a={type:"clickMapObject",mapObject:a,chart:this},this.fire(a.type,a),this.objectWasClicked=!0)},checkIfClickable:function(a){return!0==a.selectable?!0:this.selectedObject==
a?!1:"MapArea"==a.objectType&&a.autoZoomReal||null!=a.url||null!=a.linkToObject||(0<a.images.length||0<a.lines.length)||(!isNaN(a.zoomLevel)||!isNaN(a.zoomX)||!isNaN(a.zoomY))||a.description?!0:!1},resizeMap:function(){var a=this.mapSet;if(a)if(this.fitMapToContainer){var b=a.getBBox(),c=this.realWidth,e=this.realHeight,d=b.width,f=b.height,c=d/c>f/e?c/d:e/f;a.translate(-b.x*c,-b.y*c,c);this.mapScale=c;this.mapHeight=f*c;this.mapWidth=d*c}else b=group.transform.match(/([\-]?[\d.]+)/g),a.translate(b[0],
b[1],b[2])},zoomIn:function(){var a=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomTo(a)},zoomOut:function(){var a=this.zoomLevel()/this.zoomControl.zoomFactor;this.zoomTo(a)},moveLeft:function(){var a=this.zoomX()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),a,this.zoomY())},moveRight:function(){var a=this.zoomX()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),a,this.zoomY())},moveUp:function(){var a=this.zoomY()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),
this.zoomX(),a)},moveDown:function(){var a=this.zoomY()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),a)},zoomX:function(){return this.mapSet?Math.round(1E4*this.mapContainer.x/this.mapWidth)/1E4:NaN},zoomY:function(){return this.mapSet?Math.round(1E4*this.mapContainer.y/this.mapHeight)/1E4:NaN},goHome:function(){this.selectObject(this.dataProvider);var a={type:"homeButtonClicked",chart:this};this.fire(a.type,a)},zoomLevel:function(){return Math.round(1E5*this.mapContainer.scale)/
1E5},showDescriptionAndGetUrl:function(){var a=this.selectedObject;if(a){this.showDescription();var b=a.url;if(null!=b)AmCharts.getURL(b,a.urlTarget);else if(b=a.linkToObject){if("string"==typeof b){var c=this.getObjectById(b);if(c){this.selectObject(c);return}}b&&a.passZoomValuesToTarget&&(b.zoomLatitude=this.zoomLatitude(),b.zoomLongitude=this.zoomLongitude(),b.zoomLevel=this.zoomLevel());this.extendMapData(b)||this.selectObject(b)}}},extendMapData:function(a){var b=a.objectType;if("MapImage"!=
b&&"MapArea"!=b&&"MapLine"!=b)return AmCharts.extend(a,new AmCharts.MapData),this.dataProvider=a,this.zoomInstantly=!0,this.validateData(),!0},showDescription:function(a){a||(a=this.selectedObject);this.allowMultipleDescriptionWindows||this.closeAllDescriptions();if(a.description){var b=a.descriptionWindow;b&&b.close();b=new AmCharts.DescriptionWindow;a.descriptionWindow=b;var c=a.descriptionWindowWidth,e=a.descriptionWindowHeight,d=a.descriptionWindowX,f=a.descriptionWindowY;isNaN(d)&&(d=this.mouseX,
d=d>this.realWidth/2?d-c-20:d+20);isNaN(f)&&(f=this.mouseY);b.maxHeight=e;b.show(this,this.descriptionsDiv,a.description,a.title);a=b.div.style;a.width=c+"px";a.maxHeight=e+"px";a.left=d+"px";a.top=f+"px"}},parseXMLObject:function(a){var b={root:{}};this.parseXMLNode(b,"root",a);this.svgData=b.root.svg;this.getBounds()},getBounds:function(){var a=this.dataProvider;try{var b=this.svgData.defs["amcharts:ammap"];a.leftLongitude=Number(b.leftLongitude);a.rightLongitude=Number(b.rightLongitude);a.topLatitude=
Number(b.topLatitude);a.bottomLatitude=Number(b.bottomLatitude);a.projection=b.projection}catch(c){}},latitudeToCoordinate:function(a){var b,c=this.dataProvider;if(this.mapSet){b=c.topLatitude;var e=c.bottomLatitude;"mercator"==c.projection&&(a=this.mercatorLatitudeToCoordinate(a),b=this.mercatorLatitudeToCoordinate(b),e=this.mercatorLatitudeToCoordinate(e));b=(a-b)/(e-b)*this.mapHeight}return b},longitudeToCoordinate:function(a){var b,c=this.dataProvider;this.mapSet&&(b=c.leftLongitude,b=(a-b)/(c.rightLongitude-
b)*this.mapWidth);return b},mercatorLatitudeToCoordinate:function(a){89.5<a&&(a=89.5);-89.5>a&&(a=-89.5);a=AmCharts.degreesToRadians(a);a=0.5*Math.log((1+Math.sin(a))/(1-Math.sin(a)));return AmCharts.radiansToDegrees(a/2)},zoomLatitude:function(){return this.coordinateToLatitude((-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel())},zoomLongitude:function(){return this.coordinateToLongitude((-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel())},getAreaCenterLatitude:function(a){a=
a.displayObject.getBBox();var b=this.mapScale;a=-this.mapSet.getBBox().y*b+(a.y+a.height/2)*b;return this.coordinateToLatitude(a)},getAreaCenterLongitude:function(a){a=a.displayObject.getBBox();var b=this.mapScale;a=-this.mapSet.getBBox().x*b+(a.x+a.width/2)*b;return this.coordinateToLongitude(a)},coordinateToLatitude:function(a){var b;if(this.mapSet){var c=this.dataProvider,e=c.bottomLatitude,d=c.topLatitude;b=this.mapHeight;"mercator"==c.projection?(c=this.mercatorLatitudeToCoordinate(e),d=this.mercatorLatitudeToCoordinate(d),
a=2*Math.atan(Math.exp(2*(a*(c-d)/b+d)*Math.PI/180))-0.5*Math.PI,b=AmCharts.radiansToDegrees(a)):b=a/b*(e-d)+d}return Math.round(1E6*b)/1E6},coordinateToLongitude:function(a){var b,c=this.dataProvider;this.mapSet&&(b=a/this.mapWidth*(c.rightLongitude-c.leftLongitude)+c.leftLongitude);return Math.round(1E6*b)/1E6},milesToPixels:function(a){var b=this.dataProvider;return a*(this.mapWidth/(b.rightLongitude-b.leftLongitude))/69.172},kilometersToPixels:function(a){var b=this.dataProvider;return a*(this.mapWidth/
(b.rightLongitude-b.leftLongitude))/111.325},handleBackgroundClick:function(){if(this.backgroundZoomsToTop&&!this.mapWasDragged){var a=this.dataProvider;if(this.checkIfClickable(a))this.clickMapObject(a);else{var b=a.zoomX,c=a.zoomY,e=a.zoomLongitude,d=a.zoomLatitude,a=a.zoomLevel;!isNaN(b)&&!isNaN(c)&&this.zoomTo(a,b,c);!isNaN(e)&&!isNaN(d)&&this.zoomToLongLat(a,e,d,!0)}}},parseXMLNode:function(a,b,c,e){void 0==e&&(e="");if(c){for(var d=c.childNodes.length,f=0;f<d;f++){var g=c.childNodes[f],h=g.nodeName,
j=g.nodeValue?this.trim(g.nodeValue):"",l=!1;g.attributes&&0<g.attributes.length&&(l=!0);if(!(0==g.childNodes.length&&""==j&&!1==l))if(3==g.nodeType||4==g.nodeType){if(""!=j){var g=0,k;for(k in a[b])g++;g?a[b]["#text"]=j:a[b]=j}}else if(1==g.nodeType){var n;void 0!=a[b][h]?void 0==a[b][h].length?(n=a[b][h],a[b][h]=[],a[b][h].push(n),a[b][h].push({}),n=a[b][h][1]):"object"==typeof a[b][h]&&(a[b][h].push({}),n=a[b][h][a[b][h].length-1]):(a[b][h]={},n=a[b][h]);if(g.attributes&&g.attributes.length)for(j=
0;j<g.attributes.length;j++)n[g.attributes[j].name]=g.attributes[j].value;void 0!=a[b][h].length?this.parseXMLNode(a[b][h],a[b][h].length-1,g,e+"  "):this.parseXMLNode(a[b],h,g,e+"  ")}}g=0;c="";for(k in a[b])"#text"==k?c=a[b][k]:g++;0==g&&void 0==a[b].length&&(a[b]=c)}},doDoubleClickZoom:function(){if(!this.mapWasDragged){var a=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomToStageXY(a,this.mouseX,this.mouseY)}},getDevInfo:function(){var a=this.zoomLevel(),a={chart:this,type:"writeDevInfo",
zoomLevel:a,zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLatitude:this.zoomLatitude(),zoomLongitude:this.zoomLongitude(),latitude:this.coordinateToLatitude((this.mouseY-this.mapContainer.y)/a),longitude:this.coordinateToLongitude((this.mouseX-this.mapContainer.x)/a),left:this.mouseX,top:this.mouseY,right:this.realWidth-this.mouseX,bottom:this.realHeight-this.mouseY,percentLeft:Math.round(100*(this.mouseX/this.realWidth))+"%",percentTop:Math.round(100*(this.mouseY/this.realHeight))+"%",percentRight:Math.round(100*
((this.realWidth-this.mouseX)/this.realWidth))+"%",percentBottom:Math.round(100*((this.realHeight-this.mouseY)/this.realHeight))+"%"},b="zoomLevel:"+a.zoomLevel+", zoomLongitude:"+a.zoomLongitude+", zoomLatitude:"+a.zoomLatitude+"\n",b=b+("zoomX:"+a.zoomX+", zoomY:"+a.zoomY+"\n"),b=b+("latitude:"+a.latitude+", longitude:"+a.longitude+"\n"),b=b+("left:"+a.left+", top:"+a.top+"\n"),b=b+("right:"+a.right+", bottom:"+a.bottom+"\n"),b=b+('left:"'+a.percentLeft+'", top:"'+a.percentTop+'"\n'),b=b+('right:"'+
a.percentRight+'", bottom:"'+a.percentBottom+'"\n');a.str=b;this.fire(a.type,a)},getXY:function(a,b,c){void 0!=a&&(-1!=String(a).indexOf("%")?(a=Number(a.split("%").join("")),c&&(a=100-a),a=Number(a)*b/100):c&&(a=b-a));return a},getObjectById:function(a){var b=this.dataProvider;if(b.areas){var c=this.getObject(a,b.areas);if(c)return c}if(c=this.getObject(a,b.images))return c;if(a=this.getObject(a,b.lines))return a},getObject:function(a,b){if(b)for(var c=0;c<b.length;c++){var e=b[c];if(e.id==a)return e;
if(e.areas){var d=this.getObject(a,e.areas);if(d)return d}if(d=this.getObject(a,e.images))return d;if(e=this.getObject(a,e.lines))return e}},parseData:function(){var a=this.dataProvider;this.processObject(a.areas,a,"area");this.processObject(a.images,a,"image");this.processObject(a.lines,a,"line")},processObject:function(a,b,c){if(a)for(var e=0;e<a.length;e++){var d=a[e];d.parentObject=b;"area"==c&&AmCharts.extend(d,new AmCharts.MapArea);"image"==c&&AmCharts.extend(d,new AmCharts.MapImage);"line"==
c&&AmCharts.extend(d,new AmCharts.MapLine);d.areas&&this.processObject(d.areas,d,"area");d.images&&this.processObject(d.images,d,"image");d.lines&&this.processObject(d.lines,d,"line")}},getX:function(a,b){return this.getXY(a,this.realWidth,b)},getY:function(a,b){return this.getXY(a,this.realHeight,b)},trim:function(a){if(a){for(var b=0;b<a.length;b++)if(-1===" \n\r\t\f\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(a.charAt(b))){a=a.substring(b);
break}for(b=a.length-1;0<=b;b--)if(-1===" \n\r\t\f\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(a.charAt(b))){a=a.substring(0,b+1);break}return-1===" \n\r\t\f\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(a.charAt(0))?a:""}},drb:function(){var a=this.product,b=a+".com",c=window.location.hostname.split(".");if(2<=c.length)var e=c[c.length-2]+"."+c[c.length-1];AmCharts.remove(this.bbset);
if(e!=b){var b=b+"/?utm_source=swf&utm_medium=demo&utm_campaign=jsDemo"+a,d="chart by ",c=145;"ammap"==a&&(d="tool by ",c=125);e=AmCharts.rect(this.container,c,20,"#FFFFFF",1);d=AmCharts.text(this.container,d+a+".com","#000000","Verdana",11,"start");d.translate(7,9);e=this.container.set([e,d]);"ammap"==a&&e.translate(this.realWidth-c,0);this.bbset=e;this.linkSet.push(e);e.setAttr("cursor","pointer");e.click(function(){window.location.href="http://"+b});for(a=0;a<e.length;a++)e[a].attr({cursor:"pointer"})}}});AmCharts.ZoomControl=AmCharts.Class({construct:function(){this.panStepSize=0.1;this.zoomFactor=2;this.maxZoomLevel=64;this.minZoomLevel=1;this.zoomControlEnabled=this.panControlEnabled=!0;this.buttonRollOverColor="#CC0000";this.buttonFillColor="#990000";this.buttonFillAlpha=1;this.buttonBorderColor="#FFFFFF";this.buttonBorderThickness=this.buttonBorderAlpha=1;this.buttonIconColor="#FFFFFF";this.buttonColorHover="#FF0000";this.gridColor=this.homeIconColor="#FFFFFF";this.gridBackgroundColor="#000000";
this.gridBackgroundAlpha=0.15;this.gridAlpha=1;this.buttonSize=18;this.iconSize=11;this.buttonCornerRadius=0;this.gridHeight=150;this.top=this.left=10},init:function(a,b){var c=this;c.chart=a;AmCharts.remove(c.set);var e=b.set();e.translate(a.getX(c.left),a.getY(c.top));var d=c.buttonSize,f=c.buttonFillColor,g=c.buttonFillAlpha,h=c.buttonBorderThickness,j=c.buttonBorderColor,l=c.buttonBorderAlpha,k=c.buttonCornerRadius,n=c.buttonRollOverColor,q=c.gridHeight,s=c.zoomFactor,D=c.minZoomLevel,F=c.maxZoomLevel;
c.previousDY=NaN;if(c.zoomControlEnabled){var p=b.set();e.push(p);c.set=e;c.zoomSet=p;var v=AmCharts.rect(b,d+6,q+2*d+6,c.gridBackgroundColor,c.gridBackgroundAlpha,0,0,0,4);v.translate(-3,-3);v.mouseup(function(){c.handleBgUp()});p.push(v);v=new AmCharts.SimpleButton;v.setIcon(a.pathToImages+"plus.gif",c.iconSize);v.setClickHandler(a.zoomIn,a);v.init(b,d,d,f,g,h,j,l,k,n);p.push(v.set);v=new AmCharts.SimpleButton;v.setIcon(a.pathToImages+"minus.gif",c.iconSize);v.setClickHandler(a.zoomOut,a);v.init(b,
d,d,f,g,h,j,l,k,n);v.set.translate(0,q+d);p.push(v.set);for(var u=Math.log(F/D)/Math.log(s)+1,v=q/u,r=1;r<u;r++){var w=d+r*v,w=AmCharts.line(b,[1,d-2],[w,w],c.gridColor,c.gridAlpha,1);p.push(w)}u=new AmCharts.SimpleButton;u.setDownHandler(c.draggerDown,c);u.setClickHandler(c.draggerUp,c);u.init(b,d,v,f,g,h,j,l,k,n);p.push(u.set);c.dragger=u.set;c.previousY=NaN;q-=v;D=Math.log(D/100)/Math.log(s);s=Math.log(F/100)/Math.log(s);c.realStepSize=q/(s-D);c.realGridHeight=q;c.stepMax=s}c.panControlEnabled&&
(s=b.set(),e.push(s),p&&p.translate(d,4*d),p=new AmCharts.SimpleButton,p.setIcon(a.pathToImages+"panLeft.gif",c.iconSize),p.setClickHandler(a.moveLeft,a),p.init(b,d,d,f,g,h,j,l,k,n),p.set.translate(0,d),s.push(p.set),p=new AmCharts.SimpleButton,p.setIcon(a.pathToImages+"panRight.gif",c.iconSize),p.setClickHandler(a.moveRight,a),p.init(b,d,d,f,g,h,j,l,k,n),p.set.translate(2*d,d),s.push(p.set),p=new AmCharts.SimpleButton,p.setIcon(a.pathToImages+"panUp.gif",c.iconSize),p.setClickHandler(a.moveUp,a),
p.init(b,d,d,f,g,h,j,l,k,n),p.set.translate(d,0),s.push(p.set),p=new AmCharts.SimpleButton,p.setIcon(a.pathToImages+"panDown.gif",c.iconSize),p.setClickHandler(a.moveDown,a),p.init(b,d,d,f,g,h,j,l,k,n),p.set.translate(d,2*d),s.push(p.set),g=new AmCharts.SimpleButton,g.setIcon(a.pathToImages+"homeIcon.gif",c.iconSize),g.setClickHandler(a.goHome,a),g.init(b,d,d,f,0,0,j,0,k,n),g.set.translate(d,d),s.push(g.set),s=b.set(),e.push(s))},draggerDown:function(){this.chart.stopDrag();this.isDragging=!0},draggerUp:function(){this.isDragging=
!1},handleBgUp:function(){var a=this.chart,b=100*Math.pow(this.zoomFactor,this.stepMax-(a.mouseY-this.zoomSet.y-this.set.y-this.buttonSize-this.realStepSize/2)/this.realStepSize);a.zoomTo(b)},update:function(){var a,b=this.zoomFactor,c=this.realStepSize,e=this.stepMax,d=this.dragger,f=this.buttonSize,g=this.chart;this.isDragging?(g.stopDrag(),a=d.y+(g.mouseY-this.previousY),a=AmCharts.fitToBounds(a,f,this.realGridHeight+f),c=100*Math.pow(b,e-(a-f)/c),g.zoomTo(c,NaN,NaN,!0)):(a=Math.log(g.zoomLevel()/
100)/Math.log(b),a=(e-a)*c+f);this.previousY=g.mouseY;this.previousDY!=a&&d&&(d.translate(0,a),this.previousDY=a)}});AmCharts.SimpleButton=AmCharts.Class({construct:function(){},init:function(a,b,c,e,d,f,g,h,j,l){var k=this;k.rollOverColor=l;k.color=e;l=a.set();k.set=l;e=AmCharts.rect(a,b,c,e,d,f,g,h,j);l.push(e);if(d=k.iconPath)f=k.iconSize,a=a.image(d,(b-f)/2,(c-f)/2,f,f),l.push(a),a.mousedown(function(){k.handleDown()}).mouseup(function(){k.handleUp()}).mouseover(function(){k.handleOver()}).mouseout(function(){k.handleOut()});e.mousedown(function(){k.handleDown()}).mouseup(function(){k.handleUp()}).mouseover(function(){k.handleOver()}).mouseout(function(){k.handleOut()});
k.bg=e},setIcon:function(a,b){this.iconPath=a;this.iconSize=b},setClickHandler:function(a,b){this.clickHandler=a;this.scope=b},setDownHandler:function(a,b){this.downHandler=a;this.scope=b},handleUp:function(){var a=this.clickHandler;a&&a.call(this.scope)},handleDown:function(){var a=this.downHandler;a&&a.call(this.scope)},handleOver:function(){this.bg.setAttr("fill",this.rollOverColor)},handleOut:function(){this.bg.setAttr("fill",this.color)}});AmCharts.SmallMap=AmCharts.Class({construct:function(){this.mapColor="#e6e6e6";this.rectangleColor="#FFFFFF";this.right=10;this.left;this.bottom;this.top=10;this.minimizeButtonWidth=16;this.backgroundColor="#9A9A9A";this.backgroundAlpha=1;this.borderColor="#FFFFFF";this.borderThickness=3;this.borderAlpha=1;this.size=0.2},init:function(a,b){var c=this;c.chart=a;c.container=b;c.width=a.realWidth*c.size;c.height=a.realHeight*c.size;AmCharts.remove(c.set);var e=b.set();c.set=e;var d=b.set();c.allSet=
d;e.push(d);c.buildSVGMap();var f=c.borderThickness,g=c.borderColor,h=AmCharts.rect(b,c.width+f,c.height+f,c.backgroundColor,c.backgroundAlpha,f,g,c.borderAlpha);h.translate(-f/2,-f/2);d.push(h);h.toBack();var j,l,h=c.minimizeButtonWidth,k=new AmCharts.SimpleButton;k.setIcon(a.pathToImages+"arrowDown.gif",h);k.setClickHandler(c.minimize,c);k.init(b,h,h,g,1,1,g,1);k=k.set;c.downButtonSet=k;e.push(k);var n=new AmCharts.SimpleButton;n.setIcon(a.pathToImages+"arrowUp.gif",h);n.setClickHandler(c.maximize,
c);n.init(b,h,h,g,1,1,g,1);g=n.set;c.upButtonSet=g;g.hide();e.push(g);var q,s;isNaN(c.top)||(j=a.getY(c.top)+f,s=0);isNaN(c.bottom)||(j=a.getY(c.bottom,!0)-c.height-f,s=c.height-h+f/2);isNaN(c.left)||(l=a.getX(c.left)+f,q=-f/2);isNaN(c.right)||(l=a.getX(c.right,!0)-c.width-f,q=c.width-h+f/2);f=b.set();f.clipRect(1,1,c.width,c.height);d.push(f);c.rectangleC=f;e.translate(l,j);k.translate(q,s);g.translate(q,s);d.mouseup(function(){c.handleMouseUp()});c.drawRectangle()},minimize:function(){this.downButtonSet.hide();
this.upButtonSet.show();this.allSet.hide()},maximize:function(){this.downButtonSet.show();this.upButtonSet.hide();this.allSet.show()},buildSVGMap:function(){for(var a=this.chart,b={fill:this.mapColor,stroke:this.mapColor,"stroke-opacity":1},c=a.svgData.g.path,e=this.container,d=e.set(),f=0;f<c.length;f++){path=c[f].d;var g=e.path(path).attr(b);d.push(g)}this.allSet.push(d);var b=d.getBBox(),c=this.size*a.mapScale,e=-b.x*c,f=-b.y*c,h=g=0;a.centerMap&&(g=(this.width-b.width*c)/2,h=(this.height-b.height*
c)/2);this.mapWidth=b.width*c;this.mapHeight=b.height*c;this.dx=g;this.dy=h;d.translate(e+g,f+h,c)},update:function(){var a=this.chart,b=a.zoomLevel(),c=this.width,e=a.mapContainer,a=c/(a.realWidth*b),c=c/b,b=this.height/b,d=this.rectangle;d.translate(-e.x*a+this.dx,-e.y*a+this.dy);0<c&&0<b&&(d.setAttr("width",c),d.setAttr("height",b));this.rWidth=c;this.rHeight=b},drawRectangle:function(){var a=this.rectangle;AmCharts.remove(a);a=AmCharts.rect(this.container,10,10,"#000",0,1,this.rectangleColor,
1);this.rectangleC.push(a);this.rectangle=a},handleMouseUp:function(){var a=this.chart,b=a.zoomLevel();a.zoomTo(b,-((a.mouseX-this.set.x-this.dx-this.rWidth/2)/this.mapWidth)*b,-((a.mouseY-this.set.y-this.dy-this.rHeight/2)/this.mapHeight)*b)}});AmCharts.AreasProcessor=AmCharts.Class({construct:function(a){this.chart=a},process:function(a){this.updateAllAreas();this.allObjects=[];a=a.areas;var b=this.chart,c=b.areasSettings,e=a.length,d,f,g=0,h=0,j=b.svgAreasById,l=c.color,k=c.alpha,n=c.outlineThickness,q=c.rollOverColor,s=c.selectedColor,D=c.rollOverAlpha,F=c.outlineColor,p=c.outlineAlpha,v=c.balloonText,u=c.rollOverOutlineColor,r=0;for(d=0;d<e;d++)f=a[d],f=Math.abs(f.value),r<f&&(r=f),isNaN(f)||(g+=f);b.maxValue=r;for(d=0;d<e;d++)f=a[d],
isNaN(f.value)?f.percents=void 0:(f.percents=100*(f.value/g),h<f.percents&&(h=f.percents));for(d=0;d<e;d++){f=a[d];this.allObjects.push(f);f.chart=b;f.baseSettings=c;f.autoZoomReal=void 0==f.autoZoom?c.autoZoom:f.autoZoom;g=f.color;void 0==g&&(g=l);r=f.alpha;isNaN(r)&&(r=k);var w=f.rollOverAlpha;isNaN(w)&&(w=D);isNaN(w)&&(w=r);var m=f.rollOverColor;void 0==m&&(m=q);var x=f.selectedColor;void 0==x&&(x=s);var H=f.balloonText;H||(H=v);if(void 0!=c.colorSolid)if(isNaN(f.percents))f.colorReal=g;else{var C=
f.percents/h,z=100/(b.colorSteps-1),C=Math.ceil(100*C/z)*z/100;f.colorReal=AmCharts.getColorFade(g,c.colorSolid,C)}C=f.outlineColor;void 0==C&&(C=F);z=f.outlineAlpha;isNaN(z)&&(z=p);var t=f.outlineThickness;isNaN(t)&&(t=n);var y=f.rollOverOutlineColor;void 0==y&&(y=u);f.alphaReal=r;f.rollOverColorReal=m;f.rollOverAlphaReal=w;f.balloonTextReal=H;f.selectedColorReal=x;f.outlineColorReal=C;f.outlineAlphaReal=z;f.rollOverOutlineColorReal=y;AmCharts.processDescriptionWindow(c,f);if(m=j[f.id]){w=m.area;
if((m=m.title)&&!f.title)f.title=m;if(w){f.displayObject=w;f.mouseEnabled&&b.addObjectEventListeners(w,f);var B;void 0!=g&&(B=g);void 0!=f.colorReal&&(B=f.showAsSelected||b.selectedObject==f?f.selectedColorReal:f.colorReal);w.setAttr("fill",B);w.setAttr("stroke",C);w.setAttr("stroke-opacity",z);w.setAttr("stroke-width",t);w.setAttr("fill-opacity",r)}}}},updateAllAreas:function(){for(var a=this.chart,b=a.areasSettings,c=b.unlistedAreasColor,e=b.unlistedAreasAlpha,d=b.unlistedAreasOutlineColor,f=b.unlistedAreasOutlineAlpha,
g=a.svgAreas,a=a.dataProvider,h=a.areas,j={},l=0;l<h.length;l++)j[h[l].id]=h[l];for(var l=0;l<g.length;l++)if(h=g[l],void 0!=c&&h.setAttr("fill",c),isNaN(e)||h.setAttr("fill-opacity",e),void 0!=d&&h.setAttr("stroke",d),isNaN(f)||h.setAttr("stroke-opacity",f),h.setAttr("stroke-width",b.outlineThickness),a.getAreasFromMap&&!j[h.id]){var k=new AmCharts.MapArea;k.parentObject=a;k.id=h.id;a.areas.push(k)}}});AmCharts.AreasSettings=AmCharts.Class({construct:function(){this.alpha=1;this.autoZoom=!1;this.balloonText="[[title]]";this.color="#FFCC00";this.colorSolid="#990000";this.unlistedAreasAlpha=1;this.unlistedAreasColor="#DDDDDD";this.outlineColor="#FFFFFF";this.outlineAlpha=1;this.outlineThickness=0.5;this.rollOverColor;this.selectedColor=this.rollOverOutlineColor="#CC0000";this.unlistedAreasOutlineColor="#FFFFFF";this.unlistedAreasOutlineAlpha=1;this.descriptionWindowWidth=250}});AmCharts.ImagesProcessor=AmCharts.Class({construct:function(a){this.chart=a;this.reset()},process:function(a){for(var b=a.images,c=0;c<b.length;c++)this.createImage(b[c],c);a.parentObject&&a.remainVisible&&this.process(a.parentObject)},createImage:function(a,b){var c=this.chart,e=c.container,d=c.imagesSettings,f=c.mapObjectsContainer,g=c.stageObjectsContainer,d=c.imagesSettings;a.remove();var h=d.color,j=d.alpha,l=d.rollOverColor,k=d.selectedColor,n=d.balloonText,q=d.outlineColor,s=d.outlineAlpha,
D=d.outlineThickness,F=d.selectedScale,p=d.labelPosition,v=d.labelColor,u=d.labelFontSize,r=d.labelRollOverColor;a.index=b;a.chart=c;a.baseSettings=c.imagesSettings;var w=e.set();a.displayObject=w;var m=a.color;void 0==m&&(m=h);h=a.alpha;isNaN(h)&&(h=j);j=a.outlineAlpha;isNaN(j)&&(j=s);s=a.rollOverColor;void 0==s&&(s=l);l=a.selectedColor;void 0==l&&(l=k);(k=a.balloonText)||(k=n);n=a.outlineColor;void 0==n&&(n=q);void 0==n&&(n=m);q=a.outlineThickness;isNaN(q)&&(q=D);(D=a.labelPosition)||(D=p);p=a.labelColor;
void 0==p&&(p=v);v=a.labelRollOverColor;void 0==v&&(v=r);r=a.labelFontSize;isNaN(r)&&(r=u);u=a.selectedScale;isNaN(u)&&(u=F);isNaN(a.rollOverScale);a.colorReal=m;a.alphaReal=h;a.rollOverColorReal=s;a.balloonTextReal=k;a.selectedColorReal=l;a.labelColorReal=p;a.labelRollOverColorReal=v;a.labelFontSizeReal=r;a.labelPositionReal=D;a.selectedScaleReal=u;a.rollOverScaleReal=u;AmCharts.processDescriptionWindow(d,a);a.centeredReal=void 0==a.centered?d.centered:a.centered;v=a.type;s=a.imageURL;p=a.svgPath;
u=a.width;r=a.height;d=a.scale;isNaN(a.percentWidth)||(u=a.percentWidth/100*c.realWidth);isNaN(a.percentHeight)||(r=a.percentHeight/100*c.realHeight);var x;!s&&(!v&&!p)&&(v="circle",u=1,j=h=0);F=a.selectedColorReal;v?(isNaN(u)&&(u=10),isNaN(r)&&(r=10),"kilometers"==a.widthAndHeightUnits&&(u=c.kilometersToPixels(a.width),r=c.kilometersToPixels(a.height)),"miles"==a.widthAndHeightUnits&&(u=c.milesToPixels(a.width),r=c.milesToPixels(a.height)),x=this.createPredefinedImage(m,n,q,v,u,r),q=n=0,a.centeredReal&&
(n=isNaN(a.right)?-u/2:u/2,q=isNaN(a.bottom)?-r/2:r/2),x.translate(n,q)):s?(isNaN(u)&&(u=10),isNaN(r)&&(r=10),x=e.image(s,0,0,u,r),x.node.setAttribute("preserveAspectRatio","none"),x.setAttr("opacity",h),a.centeredReal&&(n=isNaN(a.right)?-u/2:u/2,q=isNaN(a.bottom)?-r/2:r/2,x.translate(n,q))):p&&(x=e.path(p),q=x.getBBox(),a.centeredReal?(n=-q.x*d-q.width*d/2,isNaN(a.right)||(n=-n),q=-q.y*d-q.height*d/2,isNaN(a.bottom)||(q=-q)):n=q=0,x.translate(n,q,d),x.x=n,x.y=q);x&&(w.push(x),a.image=x,x.setAttr("stroke-opacity",
j),x.setAttr("fill-opacity",h),x.setAttr("fill",m));(a.showAsSelected||c.selectedObject==a)&&void 0!=F&&x.setAttr("fill",F);m=null;a.label&&(m=AmCharts.text(e,a.label,a.labelColorReal,c.fontFamily,a.labelFontSizeReal,a.labelAlign),a.imageLabel=m,!a.labelInactive&&a.mouseEnabled&&c.addObjectEventListeners(m,a),w.push(m));!isNaN(a.latitude)&&!isNaN(a.longitude)?f.push(w):g.push(w);w&&(w.rotation=a.rotation);this.updateSizeAndPosition(a);a.mouseEnabled&&c.addObjectEventListeners(w,a)},updateSizeAndPosition:function(a){var b=
this.chart,c=a.displayObject,e=b.getX(a.left),d=b.getY(a.top),f=a.image.getBBox();isNaN(a.right)||(e=b.getX(a.right,!0)-f.width*a.scale);isNaN(a.bottom)||(d=b.getY(a.bottom,!0)-f.height*a.scale);var g=a.longitude,h=a.latitude,f=this.objectsToResize;this.allSvgObjects.push(c);this.allObjects.push(a);var j=a.imageLabel;if(!isNaN(e)&&!isNaN(d))c.translate(e,d);else if(!isNaN(h)&&!isNaN(g)&&(e=b.longitudeToCoordinate(g),d=b.latitudeToCoordinate(h),c.translate(e,d,NaN,!0),a.fixedSize)){e=1;if(a.showAsSelected||
b.selectedObject==a)e=a.selectedScaleReal;f.push({image:c,scale:e})}this.positionLabel(j,a,a.labelPositionReal)},positionLabel:function(a,b,c){if(a){var e=b.image,d=0,f=0,g=0,h=0;e&&(h=e.getBBox(),f=e.y,d=e.x,g=h.width,h=h.height,b.svgPath&&(g*=b.scale,h*=b.scale));var j=a.getBBox(),e=j.width,j=j.height;"right"==c&&(d+=g+e/2+5,f+=h/2-2);"left"==c&&(d+=-e/2-5,f+=h/2-2);"top"==c&&(f-=j/2+3,d+=g/2);"bottom"==c&&(f+=h+j/2,d+=g/2);"middle"==c&&(d+=g/2,f+=h/2);a.translate(d+b.labelShiftX,f+b.labelShiftY)}},
createPredefinedImage:function(a,b,c,e,d,f){var g=this.chart.container,h;switch(e){case "circle":h=AmCharts.circle(g,d/2,a,1,c,b,1);break;case "rectangle":h=AmCharts.rect(g,d,f,a,1,c,b,1);h.translate(-d/2,-f/2);break;case "bubble":h=AmCharts.circle(g,d/2,a,1,c,b,1,!0)}return h},reset:function(){this.objectsToResize=[];this.allSvgObjects=[];this.allObjects=[];this.allLabels=[]}});AmCharts.ImagesSettings=AmCharts.Class({construct:function(){this.balloonText="[[title]]";this.alpha=1;this.borderColor;this.borderAlpha=0;this.borderThickness=1;this.labelPosition="right";this.labelColor="#000000";this.labelFontSize=11;this.color="#000000";this.labelRollOverColor="#00CC00";this.centered=!0;this.rollOverScale=this.selectedScale=1;this.descriptionWindowWidth=250}});AmCharts.LinesProcessor=AmCharts.Class({construct:function(a){this.chart=a;this.reset()},process:function(a){for(var b=a.lines,c=this.chart,e=c.linesSettings,d=this.objectsToResize,f=c.mapObjectsContainer,g=c.stageObjectsContainer,h=e.thickness,j=e.dashLength,l=e.arrow,k=e.arrowSize,n=e.arrowColor,q=e.arrowAlpha,s=e.color,D=e.alpha,F=e.rollOverColor,p=e.selectedColor,v=e.rollOverAlpha,u=e.balloonText,r=c.container,w=0;w<b.length;w++){var m=b[w];m.chart=c;m.baseSettings=e;var x=r.set();m.displayObject=
x;this.allSvgObjects.push(x);this.allObjects.push(m);m.mouseEnabled&&c.addObjectEventListeners(x,m);if(m.remainVisible||c.selectedObject==m.parentObject){var H=m.thickness;isNaN(H)&&(H=h);var C=m.dashLength;isNaN(C)&&(C=j);var z=m.color;void 0==z&&(z=s);var t=m.alpha;isNaN(t)&&(t=D);var y=m.rollOverAlpha;isNaN(y)&&(y=v);isNaN(y)&&(y=t);var B=m.rollOverColor;void 0==B&&(B=F);var P=m.selectedColor;void 0==P&&(P=p);var N=m.balloonText;N||(N=u);var I=m.arrow;I||(I=l);var J=m.arrowColor;void 0==J&&(J=
n);void 0==J&&(J=z);var K=m.arrowAlpha;isNaN(K)&&(K=q);isNaN(K)&&(K=t);var G=m.arrowSize;isNaN(G)&&(G=k);m.alphaReal=t;m.colorReal=z;m.rollOverColorReal=B;m.rollOverAlphaReal=y;m.balloonTextReal=N;m.selectedColorReal=P;m.thicknessReal=H;AmCharts.processDescriptionWindow(e,m);var y=this.processCoordinates(m.x,c.realWidth),B=this.processCoordinates(m.y,c.realHeight),E=m.longitudes,N=m.latitudes,Q=E.length,L;if(0<Q){y=[];for(L=0;L<Q;L++)y.push(c.longitudeToCoordinate(E[L]))}Q=N.length;if(0<Q){B=[];for(L=
0;L<Q;L++)B.push(c.latitudeToCoordinate(N[L]))}if(0<y.length){AmCharts.dx=0;AmCharts.dy=0;C=AmCharts.line(r,y,B,z,1,H,C,!1,!1,!0);AmCharts.dx=0.5;AmCharts.dy=0.5;x.push(C);x.setAttr("opacity",t);if("none"!=I){var A,M,O;if("end"==I||"both"==I)t=y[y.length-1],z=B[B.length-1],1<y.length?(E=y[y.length-2],A=B[B.length-2]):(E=t,A=z),A=180*Math.atan((z-A)/(t-E))/Math.PI,M=t,O=z,A=0>t-E?A-90:A+90;"both"==I&&(t=AmCharts.polygon(r,[-G/2,0,G/2],[1.5*G,0,1.5*G],J,K,1,J,K),x.push(t),t.translate(M,O),t.rotate(A),
m.fixedSize&&d.push(t));if("start"==I||"both"==I)t=y[0],O=B[0],1<y.length?(z=y[1],M=B[1]):(z=t,M=O),A=180*Math.atan((O-M)/(t-z))/Math.PI,M=t,A=0>t-z?A-90:A+90;"middle"==I&&(t=y[y.length-1],z=B[B.length-1],1<y.length?(E=y[y.length-2],A=B[B.length-2]):(E=t,A=z),M=E+(t-E)/2,O=A+(z-A)/2,A=180*Math.atan((z-A)/(t-E))/Math.PI,A=0>t-E?A-90:A+90);t=AmCharts.polygon(r,[-G/2,0,G/2],[1.5*G,0,1.5*G],J,K,1,J,K);x.push(t);t.translate(M,O);t.rotate(A);m.fixedSize&&d.push(t)}m.fixedSize&&C&&this.linesToResize.push({line:C,
thickness:H});m.showAsSelected&&!isNaN(P)&&C.setAttr("stroke",P);0<N.length?f.push(x):g.push(x)}}}a.parentObject&&a.remainVisible&&this.process(a.parentObject)},processCoordinates:function(a,b){for(var c=[],e=0;e<a.length;e++){var d=a[e],f=Number(d);isNaN(f)&&(f=Number(d.replace("%",""))*b/100);isNaN(f)||c.push(f)}return c},reset:function(){this.objectsToResize=[];this.allSvgObjects=[];this.allObjects=[];this.linesToResize=[]}});AmCharts.LinesSettings=AmCharts.Class({construct:function(){this.balloonText="[[title]]";this.thickness=1;this.dashLength=0;this.arrowSize=10;this.arrowAlpha=1;this.arrowColor;this.arrow="none";this.color="#990000";this.descriptionWindowWidth=250}});AmCharts.MapObject=AmCharts.Class({construct:function(){this.fixedSize=this.mouseEnabled=!0;this.images=[];this.lines=[];this.areas=[];this.remainVisible=!0;this.showInList;this.passZoomValuesToTarget=this.selectable=!1}});AmCharts.MapArea=AmCharts.Class({inherits:AmCharts.MapObject,construct:function(){this.objectType="MapArea";AmCharts.MapArea.base.construct.call(this)}});AmCharts.MapLine=AmCharts.Class({inherits:AmCharts.MapObject,construct:function(){this.longitudes=[];this.latitudes=[];this.x=[];this.y=[];this.objectType="MapLine";this.arrow="none";AmCharts.MapLine.base.construct.call(this)}});AmCharts.MapImage=AmCharts.Class({inherits:AmCharts.MapObject,construct:function(){this.scale=1;this.widthAndHeightUnits="pixels";this.objectType="MapImage";this.labelShiftY=this.labelShiftX=0;AmCharts.MapImage.base.construct.call(this)},remove:function(){var a=this.displayObject;a&&a.remove();(a=this.imageLabel)&&a.remove()}});AmCharts.degreesToRadians=function(a){return a/180*Math.PI};AmCharts.radiansToDegrees=function(a){return 180*(a/Math.PI)};AmCharts.getColorFade=function(a,b,c){var e=AmCharts.hex2RGB(b);b=e[0];var d=e[1],e=e[2],f=AmCharts.hex2RGB(a);a=f[0];var g=f[1],f=f[2];a+=Math.round((b-a)*c);g+=Math.round((d-g)*c);f+=Math.round((e-f)*c);return"rgb("+a+","+g+","+f+")"};AmCharts.hex2RGB=function(a){return[parseInt(a.substring(1,3),16),parseInt(a.substring(3,5),16),parseInt(a.substring(5,7),16)]};
AmCharts.processDescriptionWindow=function(a,b){var c=a.descriptionWindowX,e=a.descriptionWindowY,d=a.descriptionWindowWidth,f=a.descriptionWindowHeight,g=b.descriptionWindowX;isNaN(g)&&(g=c);c=b.descriptionWindowY;isNaN(c)&&(c=e);e=b.descriptionWindowWidth;isNaN(e)&&(e=d);d=b.descriptionWindowHeight;isNaN(d)&&(d=f);b.descriptionWindowX=g;b.descriptionWindowY=c;b.descriptionWindowWidth=e;b.descriptionWindowHeight=d};AmCharts.MapData=AmCharts.Class({inherits:AmCharts.MapObject,construct:function(){AmCharts.MapData.base.construct.call(this);this.projection="mercator";this.topLatitude=90;this.bottomLatitude=-90;this.leftLongitude=-180;this.rightLongitude=180;this.zoomLevel=1;this.objectType="MapData";this.getAreasFromMap=!1}});AmCharts.DescriptionWindow=AmCharts.Class({construct:function(){},show:function(a,b,c,e){var d=this,f=document.createElement("div");f.style.position="absolute";f.className="ammapDescriptionWindow";d.div=f;b.appendChild(f);var g=document.createElement("img");g.className="ammapDescriptionWindowCloseButton";g.src=a.pathToImages+"xIcon.gif";g.style.cssFloat="right";g.onclick=function(){d.close()};g.onmouseover=function(){g.src=a.pathToImages+"xIconH.gif"};g.onmouseout=function(){g.src=a.pathToImages+
"xIcon.gif"};f.appendChild(g);b=document.createElement("div");b.className="ammapDescriptionTitle";b.onmousedown=function(){d.div.style.zIndex=1E3};f.appendChild(b);e=document.createTextNode(e);b.appendChild(e);e=b.offsetHeight;b=document.createElement("div");b.className="ammapDescriptionText";b.style.maxHeight=d.maxHeight-e-20+"px";f.appendChild(b);b.innerHTML=c},close:function(){try{this.div.parentNode.removeChild(this.div)}catch(a){}}});AmCharts.ValueLegend=AmCharts.Class({construct:function(){this.showAsGradient=!1;this.minValue=0;this.maxValue;this.height=12;this.width=200;this.right;this.bottom=this.left=10;this.top;this.borderColor="#FFFFFF";this.borderAlpha=this.borderThickness=1;this.color="#000000";this.fontSize=11},init:function(a,b){var c=a.areasSettings.color,e=a.areasSettings.colorSolid,d=a.colorSteps;AmCharts.remove(this.set);var f=b.set();this.set=f;var g=0,h=this.minValue,j=this.fontSize,l=a.fontFamily,k=this.color;
void 0!=h&&(g=AmCharts.text(b,h,k,l,j,"left"),g.translate(0,j/2-1),f.push(g),g=g.getBBox().height);h=this.maxValue;void 0==h&&(h=a.maxValue);void 0!=h&&(g=AmCharts.text(b,h,k,l,j,"right"),g.translate(this.width,j/2-1),f.push(g),g=g.getBBox().height);if(this.showAsGradient)c=AmCharts.rect(b,this.width,this.height,[c,e],1,this.borderThickness,this.borderColor,1,0,0),c.translate(0,g),f.push(c);else{j=this.width/d;for(l=0;l<d;l++)k=AmCharts.getColorFade(c,e,1*l/(d-1)),k=AmCharts.rect(b,j,this.height,
k,1,this.borderThickness,this.borderColor,1),k.translate(j*l,g),f.push(k)}e=c=0;d=f.getBBox();g=a.getY(this.bottom,!0);j=a.getY(this.top);l=a.getX(this.right,!0);k=a.getX(this.left);isNaN(j)||(c=j);isNaN(g)||(c=g-d.height);isNaN(k)||(e=k);isNaN(l)||(e=l-d.width);f.translate(e,c)}});AmCharts.ObjectList=AmCharts.Class({construct:function(a){this.div="object"!=typeof a?document.getElementById(a):a},init:function(a){this.chart=a;var b=document.createElement("div");b.className="ammapObjectList";this.div.appendChild(b);this.addObjects(a.dataProvider,b)},addObjects:function(a,b){var c=this.chart,e=document.createElement("ul"),d;if(a.areas)for(d=0;d<a.areas.length;d++){var f=a.areas[d];void 0==f.showInList&&(f.showInList=c.showAreasInList);this.addObject(f,e)}if(a.images)for(d=0;d<
a.images.length;d++)f=a.images[d],void 0==f.showInList&&(f.showInList=c.showImagesInList),this.addObject(f,e);if(a.lines)for(d=0;d<a.lines.length;d++)f=a.lines[d],void 0==f.showInList&&(f.showInList=c.showLinesInList),this.addObject(f,e);0<e.childNodes.length&&b.appendChild(e)},addObject:function(a,b){var c=this;if(a.showInList&&void 0!=a.title){var e=document.createElement("li"),d=document.createTextNode(a.title),f=document.createElement("a");f.appendChild(d);e.appendChild(f);b.appendChild(e);this.addObjects(a,
e);f.onmouseover=function(){c.chart.rollOverMapObject(a,!1)};f.onmouseout=function(){c.chart.rollOutMapObject(a)};f.onclick=function(){c.chart.clickMapObject(a)}}}});