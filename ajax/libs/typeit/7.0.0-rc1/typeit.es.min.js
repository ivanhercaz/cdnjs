/**
  * TypeIt - The most versatile animated typing utility on the planet.
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * Version: v6.5.1
  * License: GPL-2.0
  * URL: https://typeitjs.com
  */
var e={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},t=e=>e.map(e=>(void 0===e[1]&&e.push(null),void 0===e[2]&&e.push({}),e)),n=(e,t)=>Object.assign({},e,t),r=(e,t)=>(e[2]=n(e[2],t)||t,e),i=(e,t)=>Array.isArray(e[0])?e.map(e=>r(e,t)):r(e,t),o=(e,t,n,r)=>{r=r||!1,n=n||{};var o=!Array.isArray(e),a=e.length;return(e=o?new Array(e).fill(0):e).map((e,u)=>{if(o)return t;var s=[t,e,n];return r&&(0===u&&(s=i(s,{isFirst:!0})),u+1===a&&(s=i(s,{isLast:!0}))),s})};function a(e){this.insert=function(e,t){n.splice(e,0,t)},this.add=function(e,t,r){return e=Array.isArray(e)?e:[e,null],r=r||!1,t=t||1,Array.isArray(e[0])||(e=o(t,e)),n=r?e.concat(n):n.concat(e),this},this.delete=function(e){return n.splice(e,1),this},this.reset=function(){return n=t(n).map(e=>(e[2].executed=!1,e)),this},this.getItems=function(){return t(n).filter(e=>!e.executed)};var n=[];e&&this.add(e)}var u=e=>Array.from(e),s=e=>{var t=[];return t.concat.apply(t,e)},c=e=>{var t=document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t.body},l=e=>3===e.nodeType||"BR"===e.tagName,f=(e,t,n)=>{t=t||null,n=void 0!==n&&n;var r=u(e.childNodes).map(e=>l(e)?e:f(e));return r=s(r),t&&(r=r.filter(e=>!e.parentNode.isEqualNode(t))),n?r.reverse():r},d=(e,t)=>{t=t||null;var n=e instanceof HTMLElement;return{node:t,isTopLevelText:!(t&&"BODY"!==t.parentNode.tagName||n),isHTMLElement:n,content:e}};function h(e){var t,n=c(e);return t=f(n).map(e=>e.nodeValue?u(e.nodeValue).map(t=>d(t,e)):d(e)),s(t)}function v(e,t){return(t=void 0===t||t)?h(e):u(e).map(e=>d(e))}var p=e=>document.createElement(e),m=(e,t)=>{var n=p("style");n.id=t||"",n.appendChild(document.createTextNode(e)),document.head.appendChild(n)},y=e=>(Array.isArray(e)||(e=[e/2,e/2]),{before:e[0],after:e[1],total:e[0]+e[1]}),g=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));var b=e=>["textarea","input"].indexOf(e.tagName.toLowerCase())>-1,S=(e,t)=>{var n=t.querySelectorAll("*");return[t].concat(u(n).reverse()).find(t=>t.cloneNode().outerHTML===e.outerHTML)},N=(e,t,n,r)=>{n=n||null;var i=t.isHTMLElement,o=i?t.content:document.createTextNode(t.content);if(b(e))e.value="".concat(e.value).concat(t.content);else{if(!t.isTopLevelText&&!i){var a=t.node.parentNode,u=S(a.cloneNode(),e);if(((e,t)=>{if(!e)return!1;var n=e.nextSibling;return!n||n.isEqualNode(t)})(u,n))e=u;else if((o=a.cloneNode()).innerText=t.content,"BODY"!==a.parentNode.tagName){for(var s=a.parentNode,c=s.cloneNode(),l=S(c,e);!l&&"BODY"!==s.tagName;)c.innerHTML=o.outerHTML,o=c,c=s.parentNode.cloneNode(),s=s.parentNode,l=S(c,e);l&&(e=l)}}var d=f(e,n,!0);d=d[r-1],d=e.querySelector(".ti-cursor")||d,e.insertBefore(o,d||null)}},T=e=>e&&e.parentNode.removeChild(e),L=e=>!e.firstChild&&!l(e),A=e=>e.some(e=>L(e));var D=(e,t,n)=>{var r,i="string"==typeof e,o=!1,a=-1*e;return i&&(a=(r="END"===e.toUpperCase())?-1:1,o=r?t+a>0:t+a<n.length),{isString:i,numberOfSteps:a,canKeepMoving:o}};function M(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function x(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function w(){}function E(e,t){if(!t)return e&&e.then?e.then(w):Promise.resolve()}function C(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function H(e,t,n){if(!e.s){if(n instanceof O){if(!n.s)return void(n.o=H.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(H.bind(null,e,t),H.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var O=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{H(r,1,o(this.v))}catch(e){H(r,2,e)}return r}return this}return this.o=function(e){try{var i=e.v;1&e.s?H(r,1,t?t(i):i):n?H(r,1,n(i)):H(r,2,i)}catch(e){H(r,2,e)}},r},e}();function P(e,t){return e&&e.then?e.then(t):t(e)}export default function(t,r){var i=this;r=r||{};var s=(e,t)=>(ie.add(e,t),this),l=e=>{e=e||{};var t=n({},_),r=n(t,e);return[[Y,r,{force:!0}],[Y,t,{force:!0}]]},S=()=>G?u(Q.value):f(Q,oe,!0),k=(e,t)=>{t=t||1;var n=_.nextStringDelay;ie.insert(e,[R,n.before]),ie.insert(e+t+1,[R,n.after])},z=e=>{oe&&(oe.classList.toggle("disabled",e),oe.classList.toggle("with-delay",!e))},B=x((function(e,t){return W.push(setTimeout(e,t)),M()})),q=x((function(e){return C((function(){if(X)return E(move(-1*X))}),(function(){ie.reset().delete(0).add([R,e.before],!0),S().forEach(e=>{ie.add([F,null,{isPhantom:!0}],1,!0)})}))})),I=x((function(){$.started=!0;var e=ie.getItems();return P(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return P(function(e,t,n){var r,i,o=-1;return function a(u){try{for(;++o<e.length&&(!n||!n());)if((u=t(o))&&u.then){if(!((s=u)instanceof O&&1&s.s))return void u.then(a,i||(i=H.bind(null,r=new O,2)));u=u.v}r?H(r,1,u):r=u}catch(e){H(r||(r=new O),2,e)}var s}(),r}(e,(function(t){if($.frozen||$.destroyed)throw"";var n,r,o,a,u=e[t],s=u[2],c=[u,ie,i];return s.freezeCursor&&z(!0),n=_.speed,r=_.deleteSpeed,o=_.lifeLike,a=(r=null!==r?r:n/3)/2,J=o?[g(n,n/2),g(r,a)]:[n,r],C((function(){var e;if(null==s?void 0:s.isFirst)return E((e=_).beforeString.apply(e,c))}),(function(){var e;return M((e=_).beforeStep.apply(e,c),(function(){return M(u[0].call(i,u[1],s),(function(){return C((function(){if(!s||!s.isPhantom)return C((function(){var e,t;if(null===(e=u[2])||void 0===e?void 0:e.isLast)return E((t=_).afterString.apply(t,c))}),(function(){var e;return M((e=_).afterStep.apply(e,c),(function(){u[2].executed=!0}))}))}),(function(){z(!1)}))}))}))}))}),(function(){return!1})),(function(e){return $.completed=!0,M(_.afterComplete(i),(function(){if(_.loop){var e=_.loopDelay||_.nextStringDelay;B((function(){return M(q(e),(function(){I()}))}),e.after)}}))}))}),w),(function(e){return i}))})),R=e=>new Promise(t=>{B(()=>t(),e||_.nextStringDelay.total)}),V=e=>{var t=S(),n=D(e,X,t);return X+=n.numberOfSteps,new Promise(e=>{B(x((function(){return((e,t,n,r)=>{if(n){var i=r,o=t[(i=i>t.length?t.length:i)-1];e.insertBefore(n,o||null)}})(Q,S(),oe,X),C((function(){if(n.isString&&n.canKeepMoving)return E(V(n.numberOfSteps>0?"START":"END"))}),(function(){return e()}))})),J[0])})},U=e=>new Promise(t=>{B(()=>(N(Q,e,oe,X),t()),J[0])}),Y=x((function(e){_=n(_,e)})),j=x((function(){G?Q.value="":S().forEach(e=>{T(e)})})),F=e=>(e=!0===e,new Promise(t=>{B(x((function(){var n=!1,r=S();return r.length&&(G?Q.value=Q.value.slice(0,-1):T(r[X])),(e=>{for(var t=u(e.querySelectorAll("*")),n=A(t);t.length&&n;){var r=!1;t.forEach(e=>{L(e)&&(T(e),r=!0)}),r&&(t=u(e.querySelectorAll("*"))),n=A(t)}})(Q),C((function(){if(e&&r.length-1>0)return M(F(!0),(function(){return n=!0,t()}))}),(function(e){return n?e:t()}))})),J[1])}));this.break=function(){return ie.add([U,p("BR")])},this.delete=function(e,t){var n=l(t);return ie.add(n[0]),ie.add([F,!e,Z],e||1),ie.add(n[1]),this},this.destroy=function(e){e=void 0===e||e,W.forEach(e=>{clearTimeout(e)}),W=[],e&&T(oe),$.destroyed=!0},this.empty=function(){return s(j)},this.exec=function(e,t){var n=l(t);return s([n[0],[e,null],n[1]])},this.is=function(e){return $[e]},this.move=function(e,t){var n=D(e,X,S()),r=l(t);return ie.add(r[0]),ie.add([V,n.isString?e:Math.sign(e),Z],Math.abs(e)),ie.add(r[1]),this},this.freeze=function(){$.frozen=!0},this.unfreeze=function(){$.frozen=!1,!$.frozen&&I()},this.options=function(e){return s([Y,e])},this.pause=function(e){return s([R,e||null])},this.type=function(e,t){var n=l(t),r=v(e,_.html),i=[n[0]].concat(o(r,U,Z,!0),[n[1]]);return s(i)},this.getQueue=function(){return ie},this.getOptions=function(){return _},this.reset=function(){for(var e in!this.is("destroyed")&&this.destroy(),ie.reset(),$)$[e]=!1;return this},this.go=function(){return $.started?this:((()=>{if(oe){var e="[data-typeit-id='".concat(re,"'] .ti-cursor");m("@keyframes blink-".concat(re," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ").concat(e," { animation: blink-").concat(re," ").concat(_.cursorSpeed/1e3,"s infinite; } ").concat(e,".with-delay { animation-delay: 500ms; } ").concat(e,".disabled { animation: none; }"),re),Q.appendChild(oe)}})(),_.waitUntilVisible?(((e,t)=>{new IntersectionObserver((n,r)=>{n.forEach(n=>{n.isIntersecting&&(t(),r.unobserve(e))})},{threshold:1}).observe(e)})(Q,I.bind(this)),this):(I(),this))};var K,Q="string"==typeof(K=t)?document.querySelector(K):K,G=b(Q),J=[],W=[],X=0,Z={freezeCursor:!0},$={started:!1,completed:!1,frozen:!1,destroyed:!1},_=n(e,r);_=n(_,{html:!G&&_.html,nextStringDelay:y(_.nextStringDelay),loopDelay:y(_.loopDelay)});var ee,te,ne,re=Math.random().toString().substring(2,9),ie=new a([R,_.startDelay]);Q.setAttribute("data-typeit-id",re),m("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}"),_.strings=(ne=_.strings,ee=Array.isArray(ne)?ne:[ne],(te=(e=>e.innerHTML.replace(/<\!--.*?-->/g,"").trim())(Q))?(Q.innerHTML="",_.startDelete?(h(te).forEach(e=>{N(Q,e,oe,X)}),ie.add([F,!0]),k(1),ee):[te.trim()].concat(ee)):ee);var oe=(()=>{if(G||!_.cursor)return null;var e=p("span");return e.innerHTML=c(_.cursorChar).innerHTML,e.className="ti-cursor",e.setAttribute("style","display:inline;position:absolute;font:inherit;color:inherit;line-height:inherit;margin-left:-.1em;"),e})();_.strings.length&&(()=>{var e=_.strings;e.forEach((t,n)=>{var r=v(t,_.html);ie.add(o(r,U,Z,!0));var i=ie.getItems().length;if(n+1!==e.length){if(_.breakLines){var a=d(p("BR"));return ie.add([U,a,Z]),void k(i)}ie.add(o(r,F,Z)),k(i,t.length)}})})()}
