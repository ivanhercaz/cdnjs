/**
  * TypeIt - The most versatile animated typing utility on the planet.
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * Version: v6.5.1
  * License: GPL-2.0
  * URL: https://typeitjs.com
  */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).TypeIt=t()}(this,(function(){"use strict";var n={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:function(){},afterString:function(){},beforeStep:function(){},afterStep:function(){},afterComplete:function(){}},t=function(n){return n.map((function(n){return void 0===n[1]&&n.push(null),void 0===n[2]&&n.push({}),n}))},e=function(n,t){return Object.assign({},n,t)},r=function(n,t){return n[2]=e(n[2],t)||t,n},i=function(n,t){return Array.isArray(n[0])?n.map((function(n){return r(n,t)})):r(n,t)},o=function(n,t,e,r){r=r||!1,e=e||{};var o=!Array.isArray(n),u=n.length;return(n=o?new Array(n).fill(0):n).map((function(n,a){if(o)return t;var c=[t,n,e];return r&&(0===a&&(c=i(c,{isFirst:!0})),a+1===u&&(c=i(c,{isLast:!0}))),c}))};function u(n){this.insert=function(n,t){e.splice(n,0,t)},this.add=function(n,t,r){return n=Array.isArray(n)?n:[n,null],r=r||!1,t=t||1,Array.isArray(n[0])||(n=o(t,n)),e=r?n.concat(e):e.concat(n),this},this.delete=function(n){return e.splice(n,1),this},this.reset=function(){return e=t(e).map((function(n){return n[2].executed=!1,n})),this},this.getItems=function(){return t(e).filter((function(n){return!n.executed}))};var e=[];n&&this.add(n)}var a=function(n){return Array.from(n)},c=function(n){var t=[];return t.concat.apply(t,n)},f=function(n){var t=document.implementation.createHTMLDocument("");return t.body.innerHTML=n,t.body},s=function(n){return 3===n.nodeType||"BR"===n.tagName},l=function n(t,e,r){e=e||null,r=void 0!==r&&r;var i=a(t.childNodes).map((function(t){return s(t)?t:n(t)}));return i=c(i),e&&(i=i.filter((function(n){return!n.parentNode.isEqualNode(e)}))),r?i.reverse():i},d=function(n,t){t=t||null;var e=n instanceof HTMLElement;return{node:t,isTopLevelText:!(t&&"BODY"!==t.parentNode.tagName||e),isHTMLElement:e,content:n}};function h(n){var t,e=f(n);return t=l(e).map((function(n){return n.nodeValue?a(n.nodeValue).map((function(t){return d(t,n)})):d(n)})),c(t)}function v(n,t){return(t=void 0===t||t)?h(n):a(n).map((function(n){return d(n)}))}var p=function(n){return document.createElement(n)},y=function(n,t){var e=p("style");e.id=t||"",e.appendChild(document.createTextNode(n)),document.head.appendChild(e)},m=function(n){return Array.isArray(n)||(n=[n/2,n/2]),{before:n[0],after:n[1],total:n[0]+n[1]}},g=function(n,t){return Math.abs(Math.random()*(n+t-(n-t))+(n-t))};var b=function(n){return["textarea","input"].indexOf(n.tagName.toLowerCase())>-1},S=function(n,t){var e=t.querySelectorAll("*");return[t].concat(a(e).reverse()).find((function(t){return t.cloneNode().outerHTML===n.outerHTML}))},N=function(n,t,e,r){e=e||null;var i=t.isHTMLElement,o=i?t.content:document.createTextNode(t.content);if(b(n))n.value="".concat(n.value).concat(t.content);else{if(!t.isTopLevelText&&!i){var u=t.node.parentNode,a=S(u.cloneNode(),n);if(function(n,t){if(!n)return!1;var e=n.nextSibling;return!e||e.isEqualNode(t)}(a,e))n=a;else if((o=u.cloneNode()).innerText=t.content,"BODY"!==u.parentNode.tagName){for(var c=u.parentNode,f=c.cloneNode(),s=S(f,n);!s&&"BODY"!==c.tagName;)f.innerHTML=o.outerHTML,o=f,f=c.parentNode.cloneNode(),c=c.parentNode,s=S(f,n);s&&(n=s)}}var d=l(n,e,!0);d=d[r-1],d=n.querySelector(".ti-cursor")||d,n.insertBefore(o,d||null)}},T=function(n){return n&&n.parentNode.removeChild(n)},L=function(n){return!n.firstChild&&!s(n)},x=function(n){return n.some((function(n){return L(n)}))};var A=function(n,t,e){var r,i="string"==typeof n,o=!1,u=-1*n;return i&&(u=(r="END"===n.toUpperCase())?-1:1,o=r?t+u>0:t+u<e.length),{isString:i,numberOfSteps:u,canKeepMoving:o}};function D(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function M(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(n){return Promise.reject(n)}}}function w(){}function E(n,t){if(!t)return n&&n.then?n.then(w):Promise.resolve()}function C(n,t){var e=n();return e&&e.then?e.then(t):t(e)}function H(n,t,e){if(!n.s){if(e instanceof O){if(!e.s)return void(e.o=H.bind(null,n,t));1&t&&(t=e.s),e=e.v}if(e&&e.then)return void e.then(H.bind(null,n,t),H.bind(null,n,2));n.s=t,n.v=e;var r=n.o;r&&r(n)}}var O=function(){function n(){}return n.prototype.then=function(t,e){var r=new n,i=this.s;if(i){var o=1&i?t:e;if(o){try{H(r,1,o(this.v))}catch(n){H(r,2,n)}return r}return this}return this.o=function(n){try{var i=n.v;1&n.s?H(r,1,t?t(i):i):e?H(r,1,e(i)):H(r,2,i)}catch(n){H(r,2,n)}},r},n}();function P(n,t){return n&&n.then?n.then(t):t(n)}return function(t,r){var i=this,c=this;r=r||{};var s=function(n,t){return un.add(n,t),c},S=function(n){n=n||{};var t=e({},nn),r=e(t,n);return[[Y,r,{force:!0}],[Y,t,{force:!0}]]},k=function(){return J?a(G.value):l(G,an,!0)},z=function(n,t){t=t||1;var e=nn.nextStringDelay;un.insert(n,[V,e.before]),un.insert(n+t+1,[V,e.after])},B=function(n){an&&(an.classList.toggle("disabled",n),an.classList.toggle("with-delay",!n))},q=M((function(n,t){return X.push(setTimeout(n,t)),D()})),I=M((function(n){return C((function(){if(Z)return E(move(-1*Z))}),(function(){un.reset().delete(0).add([V,n.before],!0),k().forEach((function(n){un.add([K,null,{isPhantom:!0}],1,!0)}))}))})),R=M((function(){_.started=!0;var n=un.getItems();return P(function(n,t){try{var e=n()}catch(n){return t(n)}return e&&e.then?e.then(void 0,t):e}((function(){return P(function(n,t,e){var r,i,o=-1;return function u(a){try{for(;++o<n.length&&(!e||!e());)if((a=t(o))&&a.then){if(!((c=a)instanceof O&&1&c.s))return void a.then(u,i||(i=H.bind(null,r=new O,2)));a=a.v}r?H(r,1,a):r=a}catch(n){H(r||(r=new O),2,n)}var c}(),r}(n,(function(t){if(_.frozen||_.destroyed)throw"";var e,r,o,u,a=n[t],c=a[2],f=[a,un,i];return c.freezeCursor&&B(!0),e=nn.speed,r=nn.deleteSpeed,o=nn.lifeLike,u=(r=null!==r?r:e/3)/2,W=o?[g(e,e/2),g(r,u)]:[e,r],C((function(){var n;if(null==c?void 0:c.isFirst)return E((n=nn).beforeString.apply(n,f))}),(function(){var n;return D((n=nn).beforeStep.apply(n,f),(function(){return D(a[0].call(i,a[1],c),(function(){return C((function(){if(!c||!c.isPhantom)return C((function(){var n,t;if(null===(n=a[2])||void 0===n?void 0:n.isLast)return E((t=nn).afterString.apply(t,f))}),(function(){var n;return D((n=nn).afterStep.apply(n,f),(function(){a[2].executed=!0}))}))}),(function(){B(!1)}))}))}))}))}),(function(){return!1})),(function(n){return _.completed=!0,D(nn.afterComplete(i),(function(){if(nn.loop){var n=nn.loopDelay||nn.nextStringDelay;q((function(){return D(I(n),(function(){R()}))}),n.after)}}))}))}),w),(function(n){return i}))})),V=function(n){return new Promise((function(t){q((function(){return t()}),n||nn.nextStringDelay.total)}))},j=function n(t){var e=k(),r=A(t,Z,e);return Z+=r.numberOfSteps,new Promise((function(t){q(M((function(){return function(n,t,e,r){if(e){var i=r,o=t[(i=i>t.length?t.length:i)-1];n.insertBefore(e,o||null)}}(G,k(),an,Z),C((function(){if(r.isString&&r.canKeepMoving)return E(n(r.numberOfSteps>0?"START":"END"))}),(function(){return t()}))})),W[0])}))},U=function(n){return new Promise((function(t){q((function(){return N(G,n,an,Z),t()}),W[0])}))},Y=M((function(n){nn=e(nn,n)})),F=M((function(){J?G.value="":k().forEach((function(n){T(n)}))})),K=function n(t){return t=!0===t,new Promise((function(e){q(M((function(){var r=!1,i=k();return i.length&&(J?G.value=G.value.slice(0,-1):T(i[Z])),function(n){for(var t=a(n.querySelectorAll("*")),e=x(t);t.length&&e;){var r=!1;t.forEach((function(n){L(n)&&(T(n),r=!0)})),r&&(t=a(n.querySelectorAll("*"))),e=x(t)}}(G),C((function(){if(t&&i.length-1>0)return D(n(!0),(function(){return r=!0,e()}))}),(function(n){return r?n:e()}))})),W[1])}))};this.break=function(){return un.add([U,p("BR")])},this.delete=function(n,t){var e=S(t);return un.add(e[0]),un.add([K,!n,$],n||1),un.add(e[1]),this},this.destroy=function(n){n=void 0===n||n,X.forEach((function(n){clearTimeout(n)})),X=[],n&&T(an),_.destroyed=!0},this.empty=function(){return s(F)},this.exec=function(n,t){var e=S(t);return s([e[0],[n,null],e[1]])},this.is=function(n){return _[n]},this.move=function(n,t){var e=A(n,Z,k()),r=S(t);return un.add(r[0]),un.add([j,e.isString?n:Math.sign(n),$],Math.abs(n)),un.add(r[1]),this},this.freeze=function(){_.frozen=!0},this.unfreeze=function(){_.frozen=!1,!_.frozen&&R()},this.options=function(n){return s([Y,n])},this.pause=function(n){return s([V,n||null])},this.type=function(n,t){var e=S(t),r=v(n,nn.html),i=[e[0]].concat(o(r,U,$,!0),[e[1]]);return s(i)},this.getQueue=function(){return un},this.getOptions=function(){return nn},this.reset=function(){for(var n in!this.is("destroyed")&&this.destroy(),un.reset(),_)_[n]=!1;return this},this.go=function(){return _.started?this:(function(){if(an){var n="[data-typeit-id='".concat(on,"'] .ti-cursor");y("@keyframes blink-".concat(on," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ").concat(n," { animation: blink-").concat(on," ").concat(nn.cursorSpeed/1e3,"s infinite; } ").concat(n,".with-delay { animation-delay: 500ms; } ").concat(n,".disabled { animation: none; }"),on),G.appendChild(an)}}(),nn.waitUntilVisible?(function(n,t){new IntersectionObserver((function(e,r){e.forEach((function(e){e.isIntersecting&&(t(),r.unobserve(n))}))}),{threshold:1}).observe(n)}(G,R.bind(this)),this):(R(),this))};var Q,G="string"==typeof(Q=t)?document.querySelector(Q):Q,J=b(G),W=[],X=[],Z=0,$={freezeCursor:!0},_={started:!1,completed:!1,frozen:!1,destroyed:!1},nn=e(n,r);nn=e(nn,{html:!J&&nn.html,nextStringDelay:m(nn.nextStringDelay),loopDelay:m(nn.loopDelay)});var tn,en,rn,on=Math.random().toString().substring(2,9),un=new u([V,nn.startDelay]);G.setAttribute("data-typeit-id",on),y("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}"),nn.strings=(rn=nn.strings,tn=Array.isArray(rn)?rn:[rn],(en=function(n){return n.innerHTML.replace(/<\!--.*?-->/g,"").trim()}(G))?(G.innerHTML="",nn.startDelete?(h(en).forEach((function(n){N(G,n,an,Z)})),un.add([K,!0]),z(1),tn):[en.trim()].concat(tn)):tn);var an=function(){if(J||!nn.cursor)return null;var n=p("span");return n.innerHTML=f(nn.cursorChar).innerHTML,n.className="ti-cursor",n.setAttribute("style","display:inline;position:absolute;font:inherit;color:inherit;line-height:inherit;margin-left:-.1em;"),n}();nn.strings.length&&function(){var n=nn.strings;n.forEach((function(t,e){var r=v(t,nn.html);un.add(o(r,U,$,!0));var i=un.getItems().length;if(e+1!==n.length){if(nn.breakLines){var u=d(p("BR"));return un.add([U,u,$]),void z(i)}un.add(o(r,K,$)),z(i,t.length)}}))}()}}));
