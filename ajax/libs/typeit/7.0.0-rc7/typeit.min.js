/**
  * TypeIt - The most versatile animated typing utility on the planet.
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * Version: v7.0.0-rc7
  * License: GPL-2.0
  * URL: https://typeitjs.com
  */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).TypeIt=t()}(this,(function(){"use strict";var n={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:function(){},afterString:function(){},beforeStep:function(){},afterStep:function(){},afterComplete:function(){}},t=function(n){return n.map((function(n){return void 0===n[1]&&n.push(null),void 0===n[2]&&n.push({}),n}))},e=function(n,t){return Object.assign({},n,t)},r=function(n){return Array.isArray(n)},i=function(n,t){return n[2]=e(n[2],t)||t,n},o=function(n,t){return r(n[0])?n.map((function(n){return i(n,t)})):i(n,t)},u=function(n,t,e,i){i=i||!1,e=e||{};var u=!r(n),c=n.length;return(n=u?new Array(n).fill(0):n).map((function(n,r){if(u)return t;var a=[t,n,e];return i&&(0===r&&(a=o(a,{isFirst:!0})),r+1===c&&(a=o(a,{isLast:!0}))),a}))};function c(n){this.insert=function(n,t){e.splice(n,0,t)},this.add=function(n,t,i){return n=r(n)?n:[n,null],i=i||!1,t=t||1,r(n[0])||(n=u(t,n)),e=i?n.concat(e):e.concat(n),this},this.delete=function(n){return e.splice(n,1),this},this.reset=function(){return e=t(e).map((function(n){return n[2].executed=!1,n})),this},this.getItems=function(){return t(e).filter((function(n){return!n.executed}))};var e=[];n&&this.add(n)}var a=function(n){return Array.from(n)},f=function(n){var t=[];return t.concat.apply(t,n)},s=function(n){var t=document.implementation.createHTMLDocument("");return t.body.innerHTML=n,t.body},l=function(n){return 3===n.nodeType||"BR"===n.tagName},d=function n(t,e,r){e=e||null,r=void 0!==r&&r;var i=a(t.childNodes).map((function(t){return l(t)?t:n(t)}));return i=f(i),e&&(i=i.filter((function(n){return!n.parentNode.isEqualNode(e)}))),r?i.reverse():i},h=function(n){return"BODY"===n.tagName},v=function(n,t){t=t||null;var e=n instanceof HTMLElement;return{node:t,isTopLevelText:(!t||h(t.parentNode))&&!e,isHTMLElement:e,content:n}};function p(n){var t,e=s(n);return t=d(e).map((function(n){return n.nodeValue?a(n.nodeValue).map((function(t){return v(t,n)})):v(n)})),f(t)}function m(n,t){return(t=void 0===t||t)?p(n):a(n).map((function(n){return v(n)}))}var y=function(n){return document.createElement(n)},g=function(n,t){var e=y("style");e.id=t||"",e.appendChild(document.createTextNode(n)),document.head.appendChild(e)},b=function(n){return r(n)||(n=[n/2,n/2]),{before:n[0],after:n[1],total:n[0]+n[1]}},S=function(n,t){return Math.abs(Math.random()*(n+t-(n-t))+(n-t))};var T=function(n){return["textarea","input"].indexOf(n.tagName.toLowerCase())>-1},N=function(n,t){var e=t.querySelectorAll("*");return[t].concat(a(e).reverse()).find((function(t){return t.cloneNode().outerHTML===n.outerHTML}))},x=function(n,t,e,r){e=e||null;var i=t.isHTMLElement,o=i?t.content:document.createTextNode(t.content);if(T(n))n.value="".concat(n.value).concat(t.content);else{if(!t.isTopLevelText&&!i){var u=t.node.parentNode,c=N(u.cloneNode(),n);if(function(n,t){if(!n)return!1;var e=n.nextSibling;return!e||e.isEqualNode(t)}(c,e))n=c;else if((o=u.cloneNode()).innerText=t.content,!h(u.parentNode)){for(var a=u.parentNode,f=a.cloneNode(),s=N(f,n);!s&&!h(a);)f.innerHTML=o.outerHTML,o=f,f=a.parentNode.cloneNode(),a=a.parentNode,s=N(f,n);n=s||n}}var l=d(n,e,!0)[r-1],v=l?l.parentNode:n;v.insertBefore(o,v.contains(e)?e:null)}},L=function(n){return n&&n.parentNode.removeChild(n)},w=function(n){return!n.firstChild&&!l(n)},M=function(n){return n.some((function(n){return w(n)}))};var D=function(n,t,e){var r,i="string"==typeof n,o=!1,u=-1*n;return i&&(u=(r="END"===n.toUpperCase())?-1:1,o=r?t+u>0:t+u<e.length),{isString:i,numberOfSteps:u,canKeepMoving:o}},E=function(n){var t,e=["font","lineHeight","color"],r=y("SPAN"),i=(t=n,window.getComputedStyle(t,null));for(var o in i)e.indexOf(o)>-1&&i[o]&&(r.style[o]=i[o]);return r.style.cssText};function C(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function H(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(n){return Promise.reject(n)}}}function P(){}function A(n,t){if(!t)return n&&n.then?n.then(P):Promise.resolve()}function k(n,t){var e=n();return e&&e.then?e.then(t):t(e)}function z(n,t,e){if(!n.s){if(e instanceof O){if(!e.s)return void(e.o=z.bind(null,n,t));1&t&&(t=e.s),e=e.v}if(e&&e.then)return void e.then(z.bind(null,n,t),z.bind(null,n,2));n.s=t,n.v=e;var r=n.o;r&&r(n)}}var O=function(){function n(){}return n.prototype.then=function(t,e){var r=new n,i=this.s;if(i){var o=1&i?t:e;if(o){try{z(r,1,o(this.v))}catch(n){z(r,2,n)}return r}return this}return this.o=function(n){try{var i=n.v;1&n.s?z(r,1,t?t(i):i):e?z(r,1,e(i)):z(r,2,i)}catch(n){z(r,2,n)}},r},n}();function B(n,t){return n&&n.then?n.then(t):t(n)}return function(t,i){var o=this,f=this;i=i||{};var l=function(n,t){return fn.add(n,t),f},h=function(n){n=n||{};var t=e({},rn),r=e(t,n);return[[Y,r,{force:!0}],[Y,t,{force:!0}]]},N=function(){return Z?a(X.value):d(X,sn,!0)},q=function(n,t){t=t||1;var e=rn.nextStringDelay;fn.insert(n,[F,e.before]),fn.insert(n+t+1,[F,e.after])},I=H((function(){if(sn){var n="[data-typeit-id='".concat(an,"'] .ti-cursor");return g("@keyframes blink-".concat(an," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ").concat(n," { animation: blink-").concat(an," ").concat(rn.cursorSpeed/1e3,"s infinite; } ").concat(n,".with-delay { animation-delay: 500ms; } ").concat(n,".disabled { animation: none; }"),an),X.appendChild(sn),C(document.fonts.ready,(function(){var n=sn.getBoundingClientRect().width/2;sn.style.margin="0 -".concat(n+1,"px 0 -").concat(n-1,"px")}))}})),R=function(n){sn&&(sn.classList.toggle("disabled",n),sn.classList.toggle("with-delay",!n))},V=H((function(n,t){return _.push(setTimeout(n,t)),C()})),j=H((function(n){return k((function(){if(nn)return A(move(-1*nn))}),(function(){fn.reset().delete(0).add([F,n.before],!0),N().forEach((function(n){fn.add([J,null,{isPhantom:!0}],1,!0)}))}))})),U=H((function(){en.started=!0;var n=fn.getItems();return B(function(n,t){try{var e=n()}catch(n){return t(n)}return e&&e.then?e.then(void 0,t):e}((function(){return B(function(n,t,e){var r,i,o=-1;return function u(c){try{for(;++o<n.length&&(!e||!e());)if((c=t(o))&&c.then){if(!((a=c)instanceof O&&1&a.s))return void c.then(u,i||(i=z.bind(null,r=new O,2)));c=c.v}r?z(r,1,c):r=c}catch(n){z(r||(r=new O),2,n)}var a}(),r}(n,(function(t){if(en.frozen||en.destroyed)throw"";var e,r,i,u,c=n[t],a=c[2],f=[c,o];return a.freezeCursor&&R(!0),e=rn.speed,r=rn.deleteSpeed,i=rn.lifeLike,u=(r=null!==r?r:e/3)/2,$=i?[S(e,e/2),S(r,u)]:[e,r],k((function(){var n;if(null==a?void 0:a.isFirst)return A((n=rn).beforeString.apply(n,f))}),(function(){var n;return C((n=rn).beforeStep.apply(n,f),(function(){return C(c[0].call(o,c[1],a),(function(){return k((function(){if(!a||!a.isPhantom)return k((function(){var n,t;if(null===(n=c[2])||void 0===n?void 0:n.isLast)return A((t=rn).afterString.apply(t,f))}),(function(){var n;return C((n=rn).afterStep.apply(n,f),(function(){c[2].executed=!0}))}))}),(function(){R(!1)}))}))}))}))}),(function(){return!1})),(function(n){return en.completed=!0,C(rn.afterComplete(o),(function(){if(rn.loop){var n=rn.loopDelay||rn.nextStringDelay;V((function(){return C(j(n),(function(){U()}))}),n.after)}}))}))}),P),(function(n){return o}))})),F=function(n){return new Promise((function(t){V((function(){return t()}),n||rn.nextStringDelay.total)}))},K=function n(t){var e=N(),r=D(t,nn,e);return nn+=r.numberOfSteps,new Promise((function(t){V(H((function(){return function(n,t,e,r){if(e){var i=r,o=t[(i=i>t.length?t.length:i)-1];(n=o?o.parentNode:n).insertBefore(e,o||null)}}(X,N(),sn,nn),k((function(){if(r.isString&&r.canKeepMoving)return A(n(r.numberOfSteps>0?"START":"END"))}),(function(){return t()}))})),$[0])}))},Q=function(n){return new Promise((function(t){V((function(){return x(X,n,sn,nn),t()}),$[0])}))},Y=H((function(n){rn=e(rn,n)})),G=H((function(){Z?X.value="":N().forEach((function(n){L(n)}))})),J=function n(t){return t=!0===t,new Promise((function(e){V(H((function(){var r=!1,i=N();return i.length&&(Z?X.value=X.value.slice(0,-1):L(i[nn])),function(n){for(var t=a(n.querySelectorAll("*")),e=M(t);t.length&&e;){var r=!1;t.forEach((function(n){w(n)&&(L(n),r=!0)})),r&&(t=a(n.querySelectorAll("*"))),e=M(t)}}(X),k((function(){if(t&&i.length-1>0)return C(n(!0),(function(){return r=!0,e()}))}),(function(n){return r?n:e()}))})),$[1])}))};this.break=function(){return l([Q,v(y("BR"))])},this.delete=function(n,t){var e=h(t);return fn.add(e[0]),fn.add([J,!n,tn],n||1),fn.add(e[1]),this},this.destroy=function(n){n=void 0===n||n,_.forEach((function(n){clearTimeout(n)})),_=[],n&&L(sn),en.destroyed=!0},this.empty=function(){return l(G)},this.exec=function(n,t){var e=h(t);return l([e[0],[n,null],e[1]])},this.is=function(n){return en[n]},this.move=function(n,t){var e=D(n,nn,N()),r=h(t);return fn.add(r[0]),fn.add([K,e.isString?n:Math.sign(n),tn],Math.abs(n)),fn.add(r[1]),this},this.freeze=function(){en.frozen=!0},this.unfreeze=function(){en.frozen=!1,!en.frozen&&U()},this.options=function(n){return l([Y,n])},this.pause=function(n){return l([F,n||null])},this.type=function(n,t){var e=h(t),r=m(n,rn.html),i=[e[0]].concat(u(r,Q,tn,!0),[e[1]]);return l(i)},this.getQueue=function(){return fn},this.getOptions=function(){return rn},this.getElement=function(){return X},this.reset=function(){for(var n in!this.is("destroyed")&&this.destroy(),fn.reset(),en)en[n]=!1;return this},this.go=function(){return en.started?this:(I(),rn.waitUntilVisible?(function(n,t){new IntersectionObserver((function(e,r){e.forEach((function(e){e.isIntersecting&&(t(),r.unobserve(n))}))}),{threshold:1}).observe(n)}(X,U.bind(this)),this):(U(),this))};var W,X="string"==typeof(W=t)?document.querySelector(W):W,Z=T(X),$=[],_=[],nn=0,tn={freezeCursor:!0},en={started:!1,completed:!1,frozen:!1,destroyed:!1},rn=e(n,i);rn=e(rn,{html:!Z&&rn.html,nextStringDelay:b(rn.nextStringDelay),loopDelay:b(rn.loopDelay)});var on,un,cn,an=Math.random().toString().substring(2,9),fn=new c([F,rn.startDelay]);X.setAttribute("data-typeit-id",an),g("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}"),rn.strings=(cn=rn.strings,on=r(cn)?cn:[cn],(un=function(n){return n.innerHTML.replace(/<\!--.*?-->/g,"").trim()}(X))?(X.innerHTML="",rn.startDelete?(p(un).forEach((function(n){x(X,n,sn,nn)})),fn.add([J,!0]),q(1),on):[un.trim()].concat(on)):on);var sn=function(){if(Z||!rn.cursor)return null;var n=y("span");return n.innerHTML=s(rn.cursorChar).innerHTML,n.className="ti-cursor",n.style.cssText="display:inline;".concat(E(X)),n}();rn.strings.length&&function(){var n=rn.strings;n.forEach((function(t,e){var r=m(t,rn.html);fn.add(u(r,Q,tn,!0));var i=fn.getItems().length;if(e+1!==n.length){if(rn.breakLines){var o=v(y("BR"));return fn.add([Q,o,tn]),void q(i)}fn.add(u(r,J,tn)),q(i,t.length)}}))}()}}));
