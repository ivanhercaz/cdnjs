/**
  * TypeIt - The most versatile animated typing utility on the planet.
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * Version: v7.0.0-rc8
  * License: GPL-2.0
  * URL: https://typeitjs.com
  */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).TypeIt=t()}(this,(function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var t={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:function(){},afterString:function(){},beforeStep:function(){},afterStep:function(){},afterComplete:function(){}},e=function(n){return n.map((function(n){return void 0===n[1]&&n.push(null),void 0===n[2]&&n.push({}),n}))},r=function(n,t){return Object.assign({},n,t)},i=function(n){return Array.isArray(n)},o=function(n,t){return n[2]=r(n[2],t)||t,n},u=function(n,t){return i(n[0])?n.map((function(n){return o(n,t)})):o(n,t)},c=function(n,t,e,r){r=r||!1,e=e||{};var o=!i(n),c=n.length;return(n=o?new Array(n).fill(0):n).map((function(n,i){if(o)return t;var f=[t,n,e];return r&&(0===i&&(f=u(f,{isFirst:!0})),i+1===c&&(f=u(f,{isLast:!0}))),f}))};function f(n){this.insert=function(n,e){t.splice(n,0,e)},this.add=function(n,e,r){return n=i(n)?n:[n,null],r=r||!1,e=e||1,i(n[0])||(n=c(e,n)),t=r?n.concat(t):t.concat(n),this},this.delete=function(n){return t.splice(n,1),this},this.reset=function(){return t=e(t).map((function(n){return n[2].executed=!1,n})),this},this.getItems=function(){return e(t).filter((function(n){return!n.executed}))};var t=[];n&&this.add(n)}var a=function(n){return Array.from(n)},s=function(n){var t=[];return t.concat.apply(t,n)},l=function(n){var t=document.implementation.createHTMLDocument("");return t.body.innerHTML=n,t.body},d=function(n){return 3===n.nodeType||"BR"===n.tagName},h=function n(t,e,r){e=e||null,r=void 0!==r&&r;var i=a(t.childNodes).map((function(t){return d(t)?t:n(t)}));return i=s(i),e&&(i=i.filter((function(n){return!n.parentNode.isEqualNode(e)}))),r?i.reverse():i},p=function(n){return"BODY"===n.tagName},v=function(n,t){t=t||null;var e=n instanceof HTMLElement;return{node:t,isTopLevelText:(!t||p(t.parentNode))&&!e,isHTMLElement:e,content:n}};function y(n){var t,e=l(n);return t=h(e).map((function(n){return n.nodeValue?a(n.nodeValue).map((function(t){return v(t,n)})):v(n)})),s(t)}function m(n,t){return(t=void 0===t||t)?y(n):a(n).map((function(n){return v(n)}))}var g=function(n){return document.createElement(n)},b=function(n,t){var e=g("style");e.id=t||"",e.appendChild(document.createTextNode(n)),document.head.appendChild(e)},S=function(n){return i(n)||(n=[n/2,n/2]),{before:n[0],after:n[1],total:n[0]+n[1]}},T=function(n,t){return Math.abs(Math.random()*(n+t-(n-t))+(n-t))};var N=function(n){return["textarea","input"].indexOf(n.tagName.toLowerCase())>-1},L=function(n,t){var e=t.querySelectorAll("*");return[t].concat(a(e).reverse()).find((function(t){return t.cloneNode().outerHTML===n.outerHTML}))},x=function(n,t,e,r){e=e||null;var i=t.isHTMLElement,o=i?t.content:document.createTextNode(t.content);if(N(n))n.value="".concat(n.value).concat(t.content);else{if(!t.isTopLevelText&&!i){var u=t.node.parentNode,c=L(u.cloneNode(),n);if(function(n,t){if(!n)return!1;var e=n.nextSibling;return!e||e.isEqualNode(t)}(c,e))n=c;else if((o=u.cloneNode()).innerText=t.content,!p(u.parentNode)){for(var f=u.parentNode,a=f.cloneNode(),s=L(a,n);!s&&!p(f);)a.innerHTML=o.outerHTML,o=a,a=f.parentNode.cloneNode(),f=f.parentNode,s=L(a,n);n=s||n}}var l=h(n,e,!0)[r-1],d=l?l.parentNode:n;d.insertBefore(o,d.contains(e)?e:null)}},w=function(n){return n&&n.parentNode.removeChild(n)},M=function(n){return!n.firstChild&&!d(n)},D=function(n){return n.some((function(n){return M(n)}))};var E=function(n,t,e){var r,i="string"==typeof n,o=!1,u=-1*n;return i&&(u=(r="END"===n.toUpperCase())?-1:1,o=r?t+u>0:t+u<e.length),{isString:i,numberOfSteps:u,canKeepMoving:o}},C=function(n){var t,e=["font","lineHeight","color"],r=g("SPAN"),i=(t=n,window.getComputedStyle(t,null));for(var o in i)e.indexOf(o)>-1&&i[o]&&(r.style[o]=i[o]);return r.style.cssText};function H(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function P(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(n){return Promise.reject(n)}}}function A(){}function k(n,t){if(!t)return n&&n.then?n.then(A):Promise.resolve()}function z(n,t){var e=n();return e&&e.then?e.then(t):t(e)}function O(n,t,e){if(!n.s){if(e instanceof B){if(!e.s)return void(e.o=O.bind(null,n,t));1&t&&(t=e.s),e=e.v}if(e&&e.then)return void e.then(O.bind(null,n,t),O.bind(null,n,2));n.s=t,n.v=e;var r=n.o;r&&r(n)}}var B=function(){function n(){}return n.prototype.then=function(t,e){var r=new n,i=this.s;if(i){var o=1&i?t:e;if(o){try{O(r,1,o(this.v))}catch(n){O(r,2,n)}return r}return this}return this.o=function(n){try{var i=n.v;1&n.s?O(r,1,t?t(i):i):e?O(r,1,e(i)):O(r,2,i)}catch(n){O(r,2,n)}},r},n}();function q(n,t){return n&&n.then?n.then(t):t(n)}return function(e,o){var u=this,s=this;o=o||{};var d=function(n){var t=(n=n||{}).delay;t&&ln.add([Q,t])},p=function(n,t,e){return n=i(n[0])?n:[n],ln.add(n,t),d(e),s},L=function(t){return t="object"===n(t)?t:{},[[J,t,{force:!0}],[J,un,{force:!0}]]},I=function(){return _?a($.value):h($,dn,!0)},R=function(n,t){t=t||1;var e=un.nextStringDelay;ln.insert(n,[Q,e.before]),ln.insert(n+t+1,[Q,e.after])},j=P((function(){if(dn){var n="[data-typeit-id='".concat(sn,"'] .ti-cursor");return b("@keyframes blink-".concat(sn," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ").concat(n," { animation: blink-").concat(sn," ").concat(un.cursorSpeed/1e3,"s infinite; } ").concat(n,".with-delay { animation-delay: 500ms; } ").concat(n,".disabled { animation: none; }"),sn),$.appendChild(dn),H(document.fonts.ready,(function(){var n=dn.getBoundingClientRect().width/2;dn.style.margin="0 -".concat(n+1,"px 0 -").concat(n-1,"px")}))}})),V=function(n){dn&&(dn.classList.toggle("disabled",n),dn.classList.toggle("with-delay",!n))},U=P((function(n,t){return tn.push(setTimeout(n,t)),H()})),F=P((function(n){return z((function(){if(en)return k(Y(en))}),(function(){ln.reset().delete(0).add([Q,n.before],!0),I().forEach((function(n){ln.add([X,null,{isPhantom:!0}],1,!0)}))}))})),K=P((function(){on.started=!0;var n=ln.getItems();return q(function(n,t){try{var e=n()}catch(n){return t(n)}return e&&e.then?e.then(void 0,t):e}((function(){return q(function(n,t,e){var r,i,o=-1;return function u(c){try{for(;++o<n.length&&(!e||!e());)if((c=t(o))&&c.then){if(!((f=c)instanceof B&&1&f.s))return void c.then(u,i||(i=O.bind(null,r=new B,2)));c=c.v}r?O(r,1,c):r=c}catch(n){O(r||(r=new B),2,n)}var f}(),r}(n,(function(t){if(on.frozen||on.destroyed)throw"";var e,r,i,o,c=n[t],f=c[2],a=[c,u];return f.freezeCursor&&V(!0),e=un.speed,r=un.deleteSpeed,i=un.lifeLike,o=(r=null!==r?r:e/3)/2,nn=i?[T(e,e/2),T(r,o)]:[e,r],z((function(){var n;if(null==f?void 0:f.isFirst)return k((n=un).beforeString.apply(n,a))}),(function(){var n;return H((n=un).beforeStep.apply(n,a),(function(){return H(c[0].call(u,c[1],f),(function(){return z((function(){if(!f||!f.isPhantom)return z((function(){var n,t;if(null===(n=c[2])||void 0===n?void 0:n.isLast)return k((t=un).afterString.apply(t,a))}),(function(){var n;return H((n=un).afterStep.apply(n,a),(function(){c[2].executed=!0}))}))}),(function(){V(!1)}))}))}))}))}),(function(){return!1})),(function(n){return on.completed=!0,H(un.afterComplete(u),(function(){if(un.loop){var n=un.loopDelay;U((function(){return H(F(n),(function(){K()}))}),n.after)}}))}))}),A),(function(n){return u}))})),Q=function(n){return new Promise((function(t){U((function(){return t()}),n||0)}))},Y=function n(t){var e=I(),r=E(t,en,e);return en+=r.numberOfSteps,new Promise((function(t){U(P((function(){return function(n,t,e,r){if(e){var i=r,o=t[(i=i>t.length?t.length:i)-1];(n=o?o.parentNode:n).insertBefore(e,o||null)}}($,I(),dn,en),z((function(){if(r.isString&&r.canKeepMoving)return k(n(r.numberOfSteps>0?"START":"END"))}),(function(){return t()}))})),nn[0])}))},G=function(n){return new Promise((function(t){U((function(){return x($,n,dn,en),t()}),nn[0])}))},J=P((function(n){un=r(un,n)})),W=P((function(){_?$.value="":I().forEach((function(n){w(n)}))})),X=function n(t){return t=!0===t,new Promise((function(e){U(P((function(){var r=!1,i=I();return i.length&&(_?$.value=$.value.slice(0,-1):w(i[en])),function(n){for(var t=a(n.querySelectorAll("*")),e=D(t);t.length&&e;){var r=!1;t.forEach((function(n){M(n)&&(w(n),r=!0)})),r&&(t=a(n.querySelectorAll("*"))),e=D(t)}}($),z((function(){if(t&&i.length-1>0)return H(n(!0),(function(){return r=!0,e()}))}),(function(n){return r?n:e()}))})),nn[1])}))};this.break=function(n){return p([G,v(g("BR"))],1,n)},this.delete=function(n,t){var e=L(t);return ln.add(e[0]),ln.add([X,!n,rn],n||1),ln.add(e[1]),d(t),this},this.empty=function(){return p(W,1,arguments)},this.exec=function(n,t){var e=L(t);return p([e[0],[n,null],e[1]],1,t)},this.move=function(n,t){var e=E(n,en,I()),r=L(t);return ln.add(r[0]),ln.add([Y,e.isString?n:Math.sign(n),rn],Math.abs(n)),ln.add(r[1]),d(t),this},this.options=function(n){return p([J,n],1,n)},this.pause=function(n,t){return p([Q,n],1,t)},this.type=function(n,t){var e=L(t),r=m(n,un.html),i=[e[0]].concat(c(r,G,rn,!0),[e[1]]);return p(i,1,t)},this.is=function(n){return on[n]},this.destroy=function(n){n=void 0===n||n,tn.forEach((function(n){clearTimeout(n)})),tn=[],n&&w(dn),on.destroyed=!0},this.freeze=function(){on.frozen=!0},this.unfreeze=function(){on.frozen=!1,!on.frozen&&K()},this.reset=function(){for(var n in!this.is("destroyed")&&this.destroy(),ln.reset(),on)on[n]=!1;return this},this.go=function(){return on.started?this:(j(),un.waitUntilVisible?(function(n,t){new IntersectionObserver((function(e,r){e.forEach((function(e){e.isIntersecting&&(t(),r.unobserve(n))}))}),{threshold:1}).observe(n)}($,K.bind(this)),this):(K(),this))},this.getQueue=function(){return ln},this.getOptions=function(){return un},this.getElement=function(){return $};var Z,$="string"==typeof(Z=e)?document.querySelector(Z):Z,_=N($),nn=[],tn=[],en=0,rn={freezeCursor:!0},on={started:!1,completed:!1,frozen:!1,destroyed:!1},un=r(t,o);un=r(un,{html:!_&&un.html,nextStringDelay:S(un.nextStringDelay),loopDelay:S(un.loopDelay)});var cn,fn,an,sn=Math.random().toString().substring(2,9),ln=new f([Q,un.startDelay]);$.setAttribute("data-typeit-id",sn),b("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}[data-typeit-id]"),un.strings=(an=un.strings,cn=i(an)?an:[an],(fn=function(n){return n.innerHTML.replace(/<\!--.*?-->/g,"").trim()}($))?($.innerHTML="",un.startDelete?(y(fn).forEach((function(n){x($,n,dn,en)})),ln.add([X,!0]),R(1),cn):[fn.trim()].concat(cn)):cn);var dn=function(){if(_||!un.cursor)return null;var n=g("span");return n.innerHTML=l(un.cursorChar).innerHTML,n.className="ti-cursor",n.style.cssText="display:inline;".concat(C($)),n}();un.strings.length&&function(){var n=un.strings;n.forEach((function(t,e){var r=m(t,un.html);ln.add(c(r,G,rn,!0));var i=ln.getItems().length;if(e+1!==n.length){if(un.breakLines){var o=v(g("BR"));return ln.add([G,o,rn]),void R(i)}ln.add(c(r,X,rn)),R(i,t.length)}}))}()}}));
