/**
  * TypeIt - The most versatile animated typing utility on the planet.
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * Version: v7.0.0-rc6
  * License: GPL-2.0
  * URL: https://typeitjs.com
  */
var e={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},t=e=>e.map(e=>(void 0===e[1]&&e.push(null),void 0===e[2]&&e.push({}),e)),n=(e,t)=>Object.assign({},e,t),r=e=>Array.isArray(e),i=(e,t)=>(e[2]=n(e[2],t)||t,e),o=(e,t)=>r(e[0])?e.map(e=>i(e,t)):i(e,t),a=(e,t,n,i)=>{i=i||!1,n=n||{};var a=!r(e),u=e.length;return(e=a?new Array(e).fill(0):e).map((e,r)=>{if(a)return t;var s=[t,e,n];return i&&(0===r&&(s=o(s,{isFirst:!0})),r+1===u&&(s=o(s,{isLast:!0}))),s})};function u(e){this.insert=function(e,t){n.splice(e,0,t)},this.add=function(e,t,i){return e=r(e)?e:[e,null],i=i||!1,t=t||1,r(e[0])||(e=a(t,e)),n=i?e.concat(n):n.concat(e),this},this.delete=function(e){return n.splice(e,1),this},this.reset=function(){return n=t(n).map(e=>(e[2].executed=!1,e)),this},this.getItems=function(){return t(n).filter(e=>!e.executed)};var n=[];e&&this.add(e)}var s=e=>Array.from(e),c=e=>{var t=[];return t.concat.apply(t,e)},l=e=>{var t=document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t.body},f=e=>3===e.nodeType||"BR"===e.tagName,d=(e,t,n)=>{t=t||null,n=void 0!==n&&n;var r=s(e.childNodes).map(e=>f(e)?e:d(e));return r=c(r),t&&(r=r.filter(e=>!e.parentNode.isEqualNode(t))),n?r.reverse():r},h=e=>"BODY"===e.tagName,v=(e,t)=>{t=t||null;var n=e instanceof HTMLElement;return{node:t,isTopLevelText:(!t||h(t.parentNode))&&!n,isHTMLElement:n,content:e}};function p(e){var t,n=l(e);return t=d(n).map(e=>e.nodeValue?s(e.nodeValue).map(t=>v(t,e)):v(e)),c(t)}function m(e,t){return(t=void 0===t||t)?p(e):s(e).map(e=>v(e))}var y=e=>document.createElement(e),g=(e,t)=>{var n=y("style");n.id=t||"",n.appendChild(document.createTextNode(e)),document.head.appendChild(n)},b=e=>(r(e)||(e=[e/2,e/2]),{before:e[0],after:e[1],total:e[0]+e[1]}),S=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));var T=e=>["textarea","input"].indexOf(e.tagName.toLowerCase())>-1,N=(e,t)=>{var n=t.querySelectorAll("*");return[t].concat(s(n).reverse()).find(t=>t.cloneNode().outerHTML===e.outerHTML)},x=(e,t,n,r)=>{n=n||null;var i=t.isHTMLElement,o=i?t.content:document.createTextNode(t.content);if(T(e))e.value="".concat(e.value).concat(t.content);else{if(!t.isTopLevelText&&!i){var a=t.node.parentNode,u=N(a.cloneNode(),e);if(((e,t)=>{if(!e)return!1;var n=e.nextSibling;return!n||n.isEqualNode(t)})(u,n))e=u;else if((o=a.cloneNode()).innerText=t.content,!h(a.parentNode)){for(var s=a.parentNode,c=s.cloneNode(),l=N(c,e);!l&&!h(s);)c.innerHTML=o.outerHTML,o=c,c=s.parentNode.cloneNode(),s=s.parentNode,l=N(c,e);e=l||e}}var f=d(e,n,!0)[r-1],v=f?f.parentNode:e;v.insertBefore(o,v.contains(n)?n:null)}},L=e=>e&&e.parentNode.removeChild(e),w=e=>!e.firstChild&&!f(e),M=e=>e.some(e=>w(e));var D=(e,t,n)=>{var r,i="string"==typeof e,o=!1,a=-1*e;return i&&(a=(r="END"===e.toUpperCase())?-1:1,o=r?t+a>0:t+a<n.length),{isString:i,numberOfSteps:a,canKeepMoving:o}},C=e=>window.getComputedStyle(e,null);function E(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function H(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function P(){}function z(e,t){if(!t)return e&&e.then?e.then(P):Promise.resolve()}function A(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function k(e,t,n){if(!e.s){if(n instanceof O){if(!n.s)return void(n.o=k.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(k.bind(null,e,t),k.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var O=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{k(r,1,o(this.v))}catch(e){k(r,2,e)}return r}return this}return this.o=function(e){try{var i=e.v;1&e.s?k(r,1,t?t(i):i):n?k(r,1,n(i)):k(r,2,i)}catch(e){k(r,2,e)}},r},e}();function B(e,t){return e&&e.then?e.then(t):t(e)}export default function(t,i){var o=this;i=i||{};var c=(e,t)=>(ue.add(e,t),this),f=e=>{e=e||{};var t=n({},ne),r=n(t,e);return[[Q,r,{force:!0}],[Q,t,{force:!0}]]},h=()=>X?s(W.value):d(W,se,!0),N=(e,t)=>{t=t||1;var n=ne.nextStringDelay;ue.insert(e,[j,n.before]),ue.insert(e+t+1,[j,n.after])},q=()=>{if(se){var e="[data-typeit-id='".concat(ae,"'] .ti-cursor");g("@keyframes blink-".concat(ae," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ").concat(e," { animation: blink-").concat(ae," ").concat(ne.cursorSpeed/1e3,"s infinite; } ").concat(e,".with-delay { animation-delay: 500ms; } ").concat(e,".disabled { animation: none; }"),ae),W.appendChild(se);var t,n,r=se.getBoundingClientRect().width-(t=se,(n=y("canvas").getContext("2d")).font=C(t).getPropertyValue("font-size"),n.measureText(t.innerText).width);se.style.margin="0 -".concat(r,"px")}},I=e=>{se&&(se.classList.toggle("disabled",e),se.classList.toggle("with-delay",!e))},R=H((function(e,t){return $.push(setTimeout(e,t)),E()})),V=H((function(e){return A((function(){if(_)return z(move(-1*_))}),(function(){ue.reset().delete(0).add([j,e.before],!0),h().forEach(e=>{ue.add([G,null,{isPhantom:!0}],1,!0)})}))})),U=H((function(){te.started=!0;var e=ue.getItems();return B(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return B(function(e,t,n){var r,i,o=-1;return function a(u){try{for(;++o<e.length&&(!n||!n());)if((u=t(o))&&u.then){if(!((s=u)instanceof O&&1&s.s))return void u.then(a,i||(i=k.bind(null,r=new O,2)));u=u.v}r?k(r,1,u):r=u}catch(e){k(r||(r=new O),2,e)}var s}(),r}(e,(function(t){if(te.frozen||te.destroyed)throw"";var n,r,i,a,u=e[t],s=u[2],c=[u,o];return s.freezeCursor&&I(!0),n=ne.speed,r=ne.deleteSpeed,i=ne.lifeLike,a=(r=null!==r?r:n/3)/2,Z=i?[S(n,n/2),S(r,a)]:[n,r],A((function(){var e;if(null==s?void 0:s.isFirst)return z((e=ne).beforeString.apply(e,c))}),(function(){var e;return E((e=ne).beforeStep.apply(e,c),(function(){return E(u[0].call(o,u[1],s),(function(){return A((function(){if(!s||!s.isPhantom)return A((function(){var e,t;if(null===(e=u[2])||void 0===e?void 0:e.isLast)return z((t=ne).afterString.apply(t,c))}),(function(){var e;return E((e=ne).afterStep.apply(e,c),(function(){u[2].executed=!0}))}))}),(function(){I(!1)}))}))}))}))}),(function(){return!1})),(function(e){return te.completed=!0,E(ne.afterComplete(o),(function(){if(ne.loop){var e=ne.loopDelay||ne.nextStringDelay;R((function(){return E(V(e),(function(){U()}))}),e.after)}}))}))}),P),(function(e){return o}))})),j=e=>new Promise(t=>{R(()=>t(),e||ne.nextStringDelay.total)}),F=e=>{var t=h(),n=D(e,_,t);return _+=n.numberOfSteps,new Promise(e=>{R(H((function(){return((e,t,n,r)=>{if(n){var i=r,o=t[(i=i>t.length?t.length:i)-1];(e=o?o.parentNode:e).insertBefore(n,o||null)}})(W,h(),se,_),A((function(){if(n.isString&&n.canKeepMoving)return z(F(n.numberOfSteps>0?"START":"END"))}),(function(){return e()}))})),Z[0])})},K=e=>new Promise(t=>{R(()=>(x(W,e,se,_),t()),Z[0])}),Q=H((function(e){ne=n(ne,e)})),Y=H((function(){X?W.value="":h().forEach(e=>{L(e)})})),G=e=>(e=!0===e,new Promise(t=>{R(H((function(){var n=!1,r=h();return r.length&&(X?W.value=W.value.slice(0,-1):L(r[_])),(e=>{for(var t=s(e.querySelectorAll("*")),n=M(t);t.length&&n;){var r=!1;t.forEach(e=>{w(e)&&(L(e),r=!0)}),r&&(t=s(e.querySelectorAll("*"))),n=M(t)}})(W),A((function(){if(e&&r.length-1>0)return E(G(!0),(function(){return n=!0,t()}))}),(function(e){return n?e:t()}))})),Z[1])}));this.break=function(){return c([K,v(y("BR"))])},this.delete=function(e,t){var n=f(t);return ue.add(n[0]),ue.add([G,!e,ee],e||1),ue.add(n[1]),this},this.destroy=function(e){e=void 0===e||e,$.forEach(e=>{clearTimeout(e)}),$=[],e&&L(se),te.destroyed=!0},this.empty=function(){return c(Y)},this.exec=function(e,t){var n=f(t);return c([n[0],[e,null],n[1]])},this.is=function(e){return te[e]},this.move=function(e,t){var n=D(e,_,h()),r=f(t);return ue.add(r[0]),ue.add([F,n.isString?e:Math.sign(e),ee],Math.abs(e)),ue.add(r[1]),this},this.freeze=function(){te.frozen=!0},this.unfreeze=function(){te.frozen=!1,!te.frozen&&U()},this.options=function(e){return c([Q,e])},this.pause=function(e){return c([j,e||null])},this.type=function(e,t){var n=f(t),r=m(e,ne.html),i=[n[0]].concat(a(r,K,ee,!0),[n[1]]);return c(i)},this.getQueue=function(){return ue},this.getOptions=function(){return ne},this.getElement=function(){return W},this.reset=function(){for(var e in!this.is("destroyed")&&this.destroy(),ue.reset(),te)te[e]=!1;return this},this.go=function(){return te.started?this:(q(),ne.waitUntilVisible?(((e,t)=>{new IntersectionObserver((n,r)=>{n.forEach(n=>{n.isIntersecting&&(t(),r.unobserve(e))})},{threshold:1}).observe(e)})(W,U.bind(this)),this):(U(),this))};var J,W="string"==typeof(J=t)?document.querySelector(J):J,X=T(W),Z=[],$=[],_=0,ee={freezeCursor:!0},te={started:!1,completed:!1,frozen:!1,destroyed:!1},ne=n(e,i);ne=n(ne,{html:!X&&ne.html,nextStringDelay:b(ne.nextStringDelay),loopDelay:b(ne.loopDelay)});var re,ie,oe,ae=Math.random().toString().substring(2,9),ue=new u([j,ne.startDelay]);W.setAttribute("data-typeit-id",ae),g("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}"),ne.strings=(oe=ne.strings,re=r(oe)?oe:[oe],(ie=(e=>e.innerHTML.replace(/<\!--.*?-->/g,"").trim())(W))?(W.innerHTML="",ne.startDelete?(p(ie).forEach(e=>{x(W,e,se,_)}),ue.add([G,!0]),N(1),re):[ie.trim()].concat(re)):re);var se=(()=>{if(X||!ne.cursor)return null;var e=y("span");return e.innerHTML=l(ne.cursorChar).innerHTML,e.className="ti-cursor",e.style.cssText="display:inline;".concat((e=>{var t=["font","lineHeight","color"],n=y("SPAN"),r=C(e);for(var i in r)t.indexOf(i)>-1&&r[i]&&(n.style[i]=r[i]);return n.style.cssText})(W)),e})();ne.strings.length&&(()=>{var e=ne.strings;e.forEach((t,n)=>{var r=m(t,ne.html);ue.add(a(r,K,ee,!0));var i=ue.getItems().length;if(n+1!==e.length){if(ne.breakLines){var o=v(y("BR"));return ue.add([K,o,ee]),void N(i)}ue.add(a(r,G,ee)),N(i,t.length)}})})()}
