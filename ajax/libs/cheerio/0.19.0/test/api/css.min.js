var expect=require("expect.js"),cheerio=require("../..");describe("$(...)",function(){describe(".css",function(){it("(prop): should return a css property value",function(){var e=cheerio('<li style="hai: there">');expect(e.css("hai")).to.equal("there")}),it("([prop1, prop2]): should return the specified property values as an object",function(){var e=cheerio('<li style="margin: 1px; padding: 2px; color: blue;">');expect(e.css(["margin","color"])).to.eql({margin:"1px",color:"blue"})}),it("(prop, val): should set a css property",function(){var e=cheerio('<li style="margin: 0;"></li><li></li>');e.css("color","red"),expect(e.attr("style")).to.equal("margin: 0; color: red;"),expect(e.eq(1).attr("style")).to.equal("color: red;")}),it('(prop, ""): should unset a css property',function(){var e=cheerio('<li style="padding: 1px; margin: 0;">');e.css("padding",""),expect(e.attr("style")).to.equal("margin: 0;")}),it("(prop): should not mangle embedded urls",function(){var e=cheerio('<li style="background-image:url(http://example.com/img.png);">');expect(e.css("background-image")).to.equal("url(http://example.com/img.png)")}),it("(prop): should ignore blank properties",function(){var e=cheerio('<li style=":#ccc;color:#aaa;">');expect(e.css()).to.eql({color:"#aaa"})}),it("(prop): should ignore blank values",function(){var e=cheerio('<li style="color:;position:absolute;">');expect(e.css()).to.eql({position:"absolute"})}),describe("(prop, function):",function(){beforeEach(function(){this.$el=cheerio('<div style="margin: 0px;"></div><div style="margin: 1px;"></div><div style="margin: 2px;">')}),it("should iterate over the selection",function(){var o=0,i=this.$el;this.$el.css("margin",function(e,t){expect(e).to.equal(o),expect(t).to.equal(o+"px"),expect(this).to.equal(i[o]),o++}),expect(o).to.equal(3)}),it("should set each attribute independently",function(){var t=["4px","",void 0];this.$el.css("margin",function(e){return t[e]}),expect(this.$el.eq(0).attr("style")).to.equal("margin: 4px;"),expect(this.$el.eq(1).attr("style")).to.equal(""),expect(this.$el.eq(2).attr("style")).to.equal("margin: 2px;")})}),it("(obj): should set each key and val",function(){var e=cheerio('<li style="padding: 0;"></li><li></li>');e.css({foo:0}),expect(e.eq(0).attr("style")).to.equal("padding: 0; foo: 0;"),expect(e.eq(1).attr("style")).to.equal("foo: 0;")}),describe("parser",function(){it("should allow any whitespace between declarations",function(){var e=cheerio('<li style="one \t:\n 0;\n two \f\r:\v 1">');expect(e.css(["one","two"])).to.eql({one:0,two:1})})})})});