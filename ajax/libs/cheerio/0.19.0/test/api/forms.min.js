var expect=require("expect.js"),cheerio=require("../.."),forms=require("../fixtures").forms;describe("$(...)",function(){var t;beforeEach(function(){t=cheerio.load(forms)}),describe(".serializeArray",function(){it("() : should get form controls",function(){expect(t("form#simple").serializeArray()).to.eql([{name:"fruit",value:"Apple"}])}),it("() : should get nested form controls",function(){expect(t("form#nested").serializeArray()).to.have.length(2);var e=t("form#nested").serializeArray();e.sort(function(e,t){return e.value-t.value}),expect(e).to.eql([{name:"fruit",value:"Apple"},{name:"vegetable",value:"Carrot"}])}),it("() : should not get disabled form controls",function(){expect(t("form#disabled").serializeArray()).to.eql([])}),it("() : should not get form controls with the wrong type",function(){expect(t("form#submit").serializeArray()).to.eql([{name:"fruit",value:"Apple"}])}),it("() : should get selected options",function(){expect(t("form#select").serializeArray()).to.eql([{name:"fruit",value:"Orange"}])}),it("() : should not get unnamed form controls",function(){expect(t("form#unnamed").serializeArray()).to.eql([{name:"fruit",value:"Apple"}])}),it("() : should get multiple selected options",function(){expect(t("form#multiple").serializeArray()).to.have.length(2);var e=t("form#multiple").serializeArray();e.sort(function(e,t){return e.value-t.value}),expect(e).to.eql([{name:"fruit",value:"Apple"},{name:"fruit",value:"Orange"}])}),it("() : should get individually selected elements",function(){var e=t("form#nested input").serializeArray();e.sort(function(e,t){return e.value-t.value}),expect(e).to.eql([{name:"fruit",value:"Apple"},{name:"vegetable",value:"Carrot"}])}),it("() : should standardize line breaks",function(){expect(t("form#textarea").serializeArray()).to.eql([{name:"fruits",value:"Apple\r\nOrange"}])})})});