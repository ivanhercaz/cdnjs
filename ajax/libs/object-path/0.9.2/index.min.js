!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.objectPath=e()}(this,function(){"use strict";var e=Object.prototype.toString,u=Object.prototype.hasOwnProperty;function o(t){if(!t)return 1;if(p(t)&&0===t.length)return 1;if(!l(t)){for(var e in t)if(u.call(t,e))return;return 1}}function f(t){return e.call(t)}function c(t){return"number"==typeof t||"[object Number]"===f(t)}function l(t){return"string"==typeof t||"[object String]"===f(t)}function s(t){return"object"==typeof t&&"[object Object]"===f(t)}function p(t){return"object"==typeof t&&"number"==typeof t.length&&"[object Array]"===f(t)}function a(t){var e=parseInt(t);return e.toString()===t?e:t}function g(t,e,r,n){if(c(e)&&(e=[e]),o(e))return t;if(l(e))return g(t,e.split(".").map(a),r,n);var i=e[0];if(1!==e.length)return void 0===t[i]&&(c(e[1])?t[i]=[]:t[i]={}),g(t[i],e.slice(1),r,n);var u=t[i];return void 0!==u&&n||(t[i]=r),u}var v=function(r){return Object.keys(v).reduce(function(t,e){return"function"==typeof v[e]&&(t[e]=v[e].bind(v,r)),t},{})};return v.has=function(t,e){if(o(t))return!1;if(c(e)?e=[e]:l(e)&&(e=e.split(".")),o(e)||0===e.length)return!1;for(var r=0;r<e.length;r++){var n=e[r];if(!s(t)&&!p(t)||!u.call(t,n))return!1;t=t[n]}return!0},v.ensureExists=function(t,e,r){return g(t,e,r,!0)},v.set=function(t,e,r,n){return g(t,e,r,n)},v.insert=function(t,e,r,n){var i=v.get(t,e);n=~~n,p(i)||(i=[],v.set(t,e,i)),i.splice(n,0,r)},v.empty=function(t,e){if(o(e))return t;if(!o(t)){var r,n,i;if(!(r=v.get(t,e)))return t;if(l(r))return v.set(t,e,"");if("boolean"==typeof(i=r)||"[object Boolean]"===f(i))return v.set(t,e,!1);if(c(r))return v.set(t,e,0);if(p(r))r.length=0;else{if(!s(r))return v.set(t,e,null);for(n in r)u.call(r,n)&&delete r[n]}}},v.push=function(t,e){var r=v.get(t,e);p(r)||(r=[],v.set(t,e,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},v.coalesce=function(t,e,r){for(var n,i=0,u=e.length;i<u;i++)if(void 0!==(n=v.get(t,e[i])))return n;return r},v.get=function(t,e,r){if(c(e)&&(e=[e]),o(e))return t;if(o(t))return r;if(l(e))return v.get(t,e.split("."),r);var n=a(e[0]);return 1===e.length?void 0===t[n]?r:t[n]:v.get(t[n],e.slice(1),r)},v.del=function(t,e){return function t(e,r){if(c(r)&&(r=[r]),!o(e)){if(o(r))return e;if(l(r))return t(e,r.split("."));var n=a(r[0]),i=e[n];if(1===r.length)void 0!==i&&(p(e)?e.splice(n,1):delete e[n]);else if(void 0!==e[n])return t(e[n],r.slice(1));return e}}(t,e)},v});