!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.objectPath=e()}(this,function(){"use strict";var e=Object.prototype.toString,o=Object.prototype.hasOwnProperty;function u(t){if(!t)return 1;if(l(t)&&0===t.length)return 1;if("string"!=typeof t){for(var e in t)if(o.call(t,e))return;return 1}}function f(t){return e.call(t)}function c(t){return"object"==typeof t&&"[object Object]"===f(t)}var l=Array.isArray||function(t){return"[object Array]"===e.call(t)};function s(t){var e=parseInt(t);return e.toString()===t?e:t}function p(t,e,r,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return p(t,e.split(".").map(s),r,n);var i=e[0];if(1!==e.length)return void 0===t[i]&&("number"==typeof e[1]?t[i]=[]:t[i]={}),p(t[i],e.slice(1),r,n);var o=t[i];return void 0!==o&&n||(t[i]=r),o}var a=function(r){return Object.keys(a).reduce(function(t,e){return"function"==typeof a[e]&&(t[e]=a[e].bind(a,r)),t},{})};return a.has=function(t,e){if(u(t))return!1;if("number"==typeof e?e=[e]:"string"==typeof e&&(e=e.split(".")),u(e)||0===e.length)return!1;for(var r=0;r<e.length;r++){var n=e[r];if(!c(t)&&!l(t)||!o.call(t,n))return!1;t=t[n]}return!0},a.ensureExists=function(t,e,r){return p(t,e,r,!0)},a.set=function(t,e,r,n){return p(t,e,r,n)},a.insert=function(t,e,r,n){var i=a.get(t,e);n=~~n,l(i)||(i=[],a.set(t,e,i)),i.splice(n,0,r)},a.empty=function(t,e){if(u(e))return t;if(!u(t)){var r,n,i;if(!(r=a.get(t,e)))return t;if("string"==typeof r)return a.set(t,e,"");if("boolean"==typeof(i=r)||"[object Boolean]"===f(i))return a.set(t,e,!1);if("number"==typeof r)return a.set(t,e,0);if(l(r))r.length=0;else{if(!c(r))return a.set(t,e,null);for(n in r)o.call(r,n)&&delete r[n]}}},a.push=function(t,e){var r=a.get(t,e);l(r)||(r=[],a.set(t,e,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},a.coalesce=function(t,e,r){for(var n,i=0,o=e.length;i<o;i++)if(void 0!==(n=a.get(t,e[i])))return n;return r},a.get=function(t,e,r){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return r;if("string"==typeof e)return a.get(t,e.split("."),r);var n,i=s(e[0]);return("number"==typeof i&&Array.isArray(t)||t.hasOwnProperty(i))&&(n=t[i]),void 0===n?r:1===e.length?n:a.get(t[i],e.slice(1),r)},a.del=function(t,e){return function t(e,r){if("number"==typeof r&&(r=[r]),!u(e)){if(u(r))return e;if("string"==typeof r)return t(e,r.split("."));var n=s(r[0]),i=e[n];if(1===r.length)void 0!==i&&(l(e)?e.splice(n,1):delete e[n]);else if(void 0!==e[n])return t(e[n],r.slice(1));return e}}(t,e)},a});