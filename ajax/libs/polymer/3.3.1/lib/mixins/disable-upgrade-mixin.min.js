import{ElementMixin}from"./element-mixin.js";import{dedupingMixin}from"../utils/mixin.js";const DISABLED_ATTR="disable-upgrade";export const DisableUpgradeMixin=dedupingMixin(e=>{const t=ElementMixin(e);return class extends t{static get observedAttributes(){return super.observedAttributes.concat(DISABLED_ATTR)}attributeChangedCallback(e,t,i,a){e==DISABLED_ATTR?!this.__dataEnabled&&null==i&&this.isConnected&&super.connectedCallback():super.attributeChangedCallback(e,t,i,a)}_initializeProperties(){}connectedCallback(){!this.__dataEnabled&&this.hasAttribute(DISABLED_ATTR)||super.connectedCallback()}_enableProperties(){this.hasAttribute(DISABLED_ATTR)||(this.__dataEnabled||super._initializeProperties(),super._enableProperties())}disconnectedCallback(){this.__dataEnabled&&super.disconnectedCallback()}}});