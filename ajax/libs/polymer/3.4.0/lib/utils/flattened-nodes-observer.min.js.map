{"version":3,"sources":["flattened-nodes-observer.js"],"names":["calculateSplices","microTask","wrap","isSlot","node","localName","FlattenedNodesObserver","[object Object]","wrapped","assignedNodes","flatten","Array","from","childNodes","map","reduce","a","b","concat","target","callback","this","_shadyChildrenObserver","_nativeChildrenObserver","_connected","_target","_effectiveNodes","_observer","_scheduled","_boundSchedule","_schedule","connect","_listenSlots","children","window","ShadyDOM","observeChildren","mutations","_processMutations","MutationObserver","observe","childList","_unlistenSlots","unobserveChildren","disconnect","run","flush","_processSlotMutations","i","length","mutation","addedNodes","removedNodes","takeRecords","info","newNodes","constructor","getFlattenedNodes","splices","s","n","j","removed","push","index","addedCount","didFlush","call","nodeList","addEventListener","removeEventListener"],"mappings":"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"}