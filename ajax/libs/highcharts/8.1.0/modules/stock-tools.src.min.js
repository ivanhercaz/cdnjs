"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/stock-tools",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function i(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i))}i(e,"mixins/navigation.js",[],function(){return{initUpdate:function(t){t.navigation||(t.navigation={updates:[],update:function(e,i){this.updates.forEach(function(t){t.update.call(t.context,e,i)})}})},addUpdate:function(t,e){e.navigation||this.initUpdate(e),e.navigation.updates.push({update:t,context:e})}}}),i(e,"annotations/navigationBindings.js",[e["parts/Globals.js"],e["parts/Utilities.js"],e["mixins/navigation.js"]],function(t,e,i){var o=e.addEvent,s=e.attr,h=(e.extend,e.format),a=e.fireEvent,u=e.isArray,r=e.isFunction,l=e.isNumber,d=e.isObject,c=e.merge,g=e.objectEach,y=e.pick,n=t.doc,p=t.win,v="highcharts-";var f=(m.prototype.initEvents=function(){var n=this,e=n.chart,t=n.container,i=n.options;n.boundClassNames={},g(i.bindings||{},function(t){n.boundClassNames[t.className]=t}),[].forEach.call(t,function(i){n.eventsToUnbind.push(o(i,"click",function(t){var e=n.getButtonEvents(i,t);e&&n.bindingsButtonClick(e.button,e.events,t)}))}),g(i.events||{},function(t,e){r(t)&&n.eventsToUnbind.push(o(n,e,t))}),n.eventsToUnbind.push(o(e.container,"click",function(t){!e.cancelClick&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&n.bindingsChartClick(this,t)})),n.eventsToUnbind.push(o(e.container,"mousemove",function(t){n.bindingsContainerMouseMove(this,t)}))},m.prototype.initUpdate=function(){var e=this;i.addUpdate(function(t){e.update(t)},this.chart)},m.prototype.bindingsButtonClick=function(t,e,i){var n=this,o=n.chart;n.selectedButtonElement&&(a(n,"deselectButton",{button:n.selectedButtonElement}),n.nextEvent&&(n.currentUserDetails&&"annotations"===n.currentUserDetails.coll&&o.removeAnnotation(n.currentUserDetails),n.mouseMoveEvent=n.nextEvent=!1)),n.selectedButton=e,n.selectedButtonElement=t,a(n,"selectButton",{button:t}),e.init&&e.init.call(n,t,i),(e.start||e.steps)&&o.renderer.boxWrapper.addClass(v+"draw-mode")},m.prototype.bindingsChartClick=function(t,e){var i=this,t=i.chart,n=i.selectedButton,o=t.renderer.boxWrapper;i.activeAnnotation&&!e.activeAnnotation&&e.target.parentNode&&!function(t,e){var i=p.Element.prototype,n=i.matches||i.msMatchesSelector||i.webkitMatchesSelector,o=null;if(i.closest)o=i.closest.call(t,e);else do{if(n.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return o}(e.target,"."+v+"popup")&&(a(i,"closePopup"),i.deselectAnnotation()),n&&n.start&&(i.nextEvent?(i.nextEvent(e,i.currentUserDetails),i.steps&&(i.stepIndex++,n.steps[i.stepIndex]?i.mouseMoveEvent=i.nextEvent=n.steps[i.stepIndex]:(a(i,"deselectButton",{button:i.selectedButtonElement}),o.removeClass(v+"draw-mode"),n.end&&n.end.call(i,e,i.currentUserDetails),i.nextEvent=!1,i.mouseMoveEvent=!1,i.selectedButton=null))):(i.currentUserDetails=n.start.call(i,e),n.steps?(i.stepIndex=0,i.steps=!0,i.mouseMoveEvent=i.nextEvent=n.steps[i.stepIndex]):(a(i,"deselectButton",{button:i.selectedButtonElement}),o.removeClass(v+"draw-mode"),i.steps=!1,i.selectedButton=null,n.end&&n.end.call(i,e,i.currentUserDetails))))},m.prototype.bindingsContainerMouseMove=function(t,e){this.mouseMoveEvent&&this.mouseMoveEvent(e,this.currentUserDetails)},m.prototype.fieldsToOptions=function(t,i){return g(t,function(n,t){var e=parseFloat(n),o=t.split("."),s=i,a=o.length-1;!l(e)||n.match(/px/g)||t.match(/format/g)||(n=e),""!==n&&"undefined"!==n&&o.forEach(function(t,e){var i=y(o[e+1],"");a===e?s[t]=n:(s[t]||(s[t]=i.match(/\d/g)?[]:{}),s=s[t])})}),i},m.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},m.prototype.annotationToFields=function(e){var n=e.options,o=m.annotationsEditable,a=o.nestedOptions,r=this.utils.getFieldType,s=y(n.type,n.shapes&&n.shapes[0]&&n.shapes[0].type,n.labels&&n.labels[0]&&n.labels[0].itemType,"label"),l=m.annotationsNonEditable[n.langKey]||[],c={langKey:n.langKey,type:s};function p(t,n,i,o){var s;i&&-1===l.indexOf(n)&&(0<=(i.indexOf&&i.indexOf(n))||i[n]||!0===i)&&(u(t)?(o[n]=[],t.forEach(function(t,i){d(t)?(o[n][i]={},g(t,function(t,e){p(t,e,a[n],o[n][i])})):p(t,0,a[n],o[n])})):d(t)?(s={},u(o)?(o.push(s),s[n]={},s=s[n]):o[n]=s,g(t,function(t,e){p(t,e,0===n?i:a[n],s)})):"format"===n?o[n]=[h(t,e.labels[0].points[0]).toString(),"text"]:u(o)?o.push([t,r(t)]):o[n]=[t,r(t)])}return g(n,function(t,i){"typeOptions"===i?(c[i]={},g(n[i],function(t,e){p(t,e,a,c[i])})):p(t,i,o[s],c)}),c},m.prototype.getClickedClassNames=function(t,e){for(var i,n=e.target,o=[];n;)if((i=s(n,"class"))&&(o=o.concat(i.split(" ").map(function(t){return[t,n]}))),(n=n.parentNode)===t)return o;return o},m.prototype.getButtonEvents=function(t,e){var i,n=this;return this.getClickedClassNames(t,e).forEach(function(t){n.boundClassNames[t[0]]&&!i&&(i={events:n.boundClassNames[t[0]],button:t[1]})}),i},m.prototype.update=function(t){this.options=c(!0,this.options,t),this.removeEvents(),this.initEvents()},m.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(t){t()})},m.prototype.destroy=function(){this.removeEvents()},m.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:[]},m.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]},m);function m(t,e){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=t,this.options=e,this.eventsToUnbind=[],this.container=n.getElementsByClassName(this.options.bindingsClassName||"")}function x(t){var i=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;c(!0,t.prototype.defaultOptions.events,{click:function(t){var n=this,o=n.chart.navigationBindings,e=o.activeAnnotation;i&&i.click.call(n,t),e!==n?(o.deselectAnnotation(),(o.activeAnnotation=n).setControlPointsVisibility(!0),a(o,"showPopup",{annotation:n,formType:"annotation-toolbar",options:o.annotationToFields(n),onSubmit:function(t){var e,i={};"remove"===t.actionType?(o.activeAnnotation=!1,o.chart.removeAnnotation(n)):(o.fieldsToOptions(t.fields,i),o.deselectAnnotation(),e=i.typeOptions,"measure"===n.options.type&&(e.crosshairY.enabled=0!==e.crosshairY.strokeWidth,e.crosshairX.enabled=0!==e.crosshairX.strokeWidth),n.update(i))}})):(o.deselectAnnotation(),a(o,"closePopup")),t.activeAnnotation=!0}})}return f.prototype.utils={updateRectSize:function(t,e){var i=e.chart,n=e.options.typeOptions,o=i.pointer.getCoordinates(t),s=o.xAxis[0].value-n.point.x,a=n.point.y-o.yAxis[0].value;e.update({typeOptions:{background:{width:i.inverted?a:s,height:i.inverted?s:a}}})},getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[typeof t]}},t.Chart.prototype.initNavigationBindings=function(){var t=this,e=t.options;e&&e.navigation&&e.navigation.bindings&&(t.navigationBindings=new f(t,e.navigation),t.navigationBindings.initEvents(),t.navigationBindings.initUpdate())},o(t.Chart,"load",function(){this.initNavigationBindings()}),o(t.Chart,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()}),o(f,"deselectButton",function(){this.selectedButtonElement=null}),o(t.Annotation,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}),t.Annotation&&(x(t.Annotation),g(t.Annotation.types,function(t){x(t)})),t.setOptions({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation;return this.chart.addAnnotation(c({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{xAxis:0,yAxis:0,x:e.xAxis[0].value,y:e.yAxis[0].value},r:5}]},i.annotationsOptions,i.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,e){var i=e.options.shapes[0].point,n=this.chart.xAxis[0].toPixels(i.x),o=this.chart.yAxis[0].toPixels(i.y),s=this.chart.inverted,a=Math.max(Math.sqrt(Math.pow(s?o-t.chartX:n-t.chartX,2)+Math.pow(s?n-t.chartY:o-t.chartY,2)),5);e.update({shapes:[{r:a}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=e.xAxis[0].value,o=e.yAxis[0].value;return this.chart.addAnnotation(c({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:0,yAxis:0,x:n,y:o},{xAxis:0,yAxis:0,x:n,y:o},{xAxis:0,yAxis:0,x:n,y:o},{xAxis:0,yAxis:0,x:n,y:o}]}]},i.annotationsOptions,i.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(t,e){var i=e.options.shapes[0].points,n=this.chart.pointer.getCoordinates(t),o=n.xAxis[0].value,s=n.yAxis[0].value;i[1].x=o,i[2].x=o,i[2].y=s,i[3].y=s,e.update({shapes:[{points:i}]})}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation;return this.chart.addAnnotation(c({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:0,yAxis:0,x:e.xAxis[0].value,y:e.yAxis[0].value},overflow:"none",crop:!0}]},i.annotationsOptions,i.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{}}}),f}),i(e,"modules/stock-tools-bindings.js",[e["parts/Globals.js"],e["annotations/navigationBindings.js"],e["parts/Utilities.js"]],function(a,t,e){var c=e.correctFloat,r=e.defined,i=e.extend,p=e.fireEvent,l=e.isNumber,h=e.merge,s=e.pick,u=e.uniqueKey,d=t.prototype.utils,g="highcharts-";d.addFlagFromForm=function(l){return function(t){var i=this,e=i.chart,n=e.stockTools,o=d.getFieldType,s=d.attractToPoint(t,e),a={x:s.x,y:s.y},r={type:"flags",onSeries:s.series.id,shape:l,data:[a],point:{events:{click:function(){var e=this,t=e.options;p(i,"showPopup",{point:e,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[t.title,o(t.title)],name:[t.name,o(t.name)]},onSubmit:function(t){"remove"===t.actionType?e.remove():e.update(i.fieldsToOptions(t.fields,{}))}})}}}};n&&n.guiEnabled||e.addSeries(r),p(i,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",o("A")],name:["Flag A",o("Flag A")]},onSubmit:function(t){i.fieldsToOptions(t.fields,r.data[0]),e.addSeries(r)}})}},d.manageIndicators=function(t){var e,i,n=this,o=n.chart,s={linkedTo:t.linkedTo,type:t.type},a=["ad","atr","cci","cmf","macd","mfi","roc","rsi","ao","aroon","aroonoscillator","trix","apo","dpo","ppo","natr","williamsr","stochastic","slowstochastic","linearRegression","linearRegressionSlope","linearRegressionIntercept","linearRegressionAngle"];"edit"===t.actionType?(n.fieldsToOptions(t.fields,s),(i=o.get(t.seriesId))&&i.update(s,!1)):"remove"===t.actionType?(i=o.get(t.seriesId))&&(e=i.yAxis,i.linkedSeries&&i.linkedSeries.forEach(function(t){t.remove(!1)}),i.remove(!1),0<=a.indexOf(i.type)&&(e.remove(!1),n.resizeYAxes())):(s.id=u(),n.fieldsToOptions(t.fields,s),0<=a.indexOf(t.type)?(e=o.addAxis({id:u(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),s.yAxis=e.options.id,n.resizeYAxes()):s.yAxis=o.get(t.linkedTo).options.yAxis,0<=["ad","cmf","mfi","vbp","vwap"].indexOf(t.type)&&(s.params.volumeSeriesID=o.series.filter(function(t){return"column"===t.options.type})[0].options.id),o.addSeries(s,!1)),p(n,"deselectButton",{button:n.selectedButtonElement}),o.redraw()},d.updateHeight=function(t,e){e.update({typeOptions:{height:this.chart.pointer.getCoordinates(t).yAxis[0].value-e.options.typeOptions.points[1].y}})},d.attractToPoint=function(t,e){var i,n=e.pointer.getCoordinates(t),o=n.xAxis[0].value,s=n.yAxis[0].value,a=Number.MAX_VALUE;return e.series.forEach(function(t){t.points.forEach(function(t){t&&a>Math.abs(t.x-o)&&(a=Math.abs(t.x-o),i=t)})}),{x:i.x,y:i.y,below:s<i.y,series:i.series,xAxis:i.series.xAxis.index||0,yAxis:i.series.yAxis.index||0}},d.isNotNavigatorYAxis=function(t){return t.userOptions.className!==g+"navigator-yaxis"},d.updateNthPoint=function(a){return function(t,e){var i=e.options.typeOptions,n=this.chart.pointer.getCoordinates(t),o=n.xAxis[0].value,s=n.yAxis[0].value;i.points.forEach(function(t,e){a<=e&&(t.x=o,t.y=s)}),e.update({typeOptions:{points:i.points}})}},i(t.prototype,{getYAxisPositions:function(t,n,o){var e,s=0;function a(t){return r(t)&&!l(t)&&t.match("%")}return(e=t.map(function(t){var e=a(t.options.height)?parseFloat(t.options.height)/100:t.height/n,i=a(t.options.top)?parseFloat(t.options.top)/100:c(t.top-t.chart.plotTop)/n;return l(e)||(e=o/100),s=c(s+e),{height:100*e,top:100*i}})).allAxesHeight=s,e},getYAxisResizers:function(n){var o=[];return n.forEach(function(t,e){var i=n[e+1];o[e]=i?{enabled:!0,controlledAxis:{next:[s(i.options.id,i.options.index)]}}:{enabled:!1}}),o},resizeYAxes:function(t){t=t||20;var e=this.chart,i=e.yAxis.filter(d.isNotNavigatorYAxis),n=e.plotHeight,o=i.length,s=this.getYAxisPositions(i,n,t),a=this.getYAxisResizers(i),r=s.allAxesHeight,l=t;1<r?(s=o<6?(s[0].height=c(s[0].height-l),this.recalculateYAxisPositions(s,l)):(l=(t=100/o)/(o-1),this.recalculateYAxisPositions(s,l,!0,-1)))[o-1]={top:c(100-t),height:t}:(l=100*c(1-r),s=o<5?(s[0].height=c(s[0].height+l),this.recalculateYAxisPositions(s,l)):(l/=o,this.recalculateYAxisPositions(s,l,!0,1))),s.forEach(function(t,e){i[e].update({height:t.height+"%",top:t.top+"%",resize:a[e]},!1)})},recalculateYAxisPositions:function(n,o,s,a){return n.forEach(function(t,e){var i=n[e-1];t.top=i?c(i.height+i.top):0,s&&(t.height=c(t.height+a*o))}),n}});var n={segment:{className:"highcharts-segment",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"segment",type:"crookedLine",typeOptions:{points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.segment.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowSegment.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1)]},ray:{className:"highcharts-ray",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"ray",type:"crookedLine",typeOptions:{type:"ray",points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.ray.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowRay.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.infinityLine.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowInfinityLine.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",points:[{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.horizontalLine.annotationsOptions);this.chart.addAnnotation(n)}},verticalLine:{className:"highcharts-vertical-line",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",points:[{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.verticalLine.annotationsOptions);this.chart.addAnnotation(n)}},crooked3:{className:"highcharts-crooked3",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"crooked3",type:"crookedLine",typeOptions:{points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked3.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1),d.updateNthPoint(2)]},crooked5:{className:"highcharts-crooked5",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"crookedLine",type:"crookedLine",typeOptions:{points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked5.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1),d.updateNthPoint(2),d.updateNthPoint(3),d.updateNthPoint(4)]},elliott3:{className:"highcharts-elliott3",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"elliott3",type:"elliottWave",typeOptions:{points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott3.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1),d.updateNthPoint(2),d.updateNthPoint(3)]},elliott5:{className:"highcharts-elliott5",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"elliott5",type:"elliottWave",typeOptions:{points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott5.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1),d.updateNthPoint(2),d.updateNthPoint(3),d.updateNthPoint(4),d.updateNthPoint(5)]},measureX:{className:"highcharts-measure-x",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"measure",type:"measure",typeOptions:{selectType:"x",point:{x:e.xAxis[0].value,y:e.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureX.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateRectSize]},measureY:{className:"highcharts-measure-y",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"measure",type:"measure",typeOptions:{selectType:"y",point:{x:e.xAxis[0].value,y:e.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureY.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateRectSize]},measureXY:{className:"highcharts-measure-xy",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",point:{x:e.xAxis[0].value,y:e.yAxis[0].value,xAxis:0,yAxis:0},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureXY.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateRectSize]},fibonacci:{className:"highcharts-fibonacci",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"fibonacci",type:"fibonacci",typeOptions:{points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.fibonacci.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1),d.updateHeight]},parallelChannel:{className:"highcharts-parallel-channel",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"parallelChannel",type:"tunnel",typeOptions:{points:[{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}]}},i.annotationsOptions,i.bindings.parallelChannel.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1),d.updateHeight]},pitchfork:{className:"highcharts-pitchfork",start:function(t){var e=this.chart.pointer.getCoordinates(t),i=this.chart.options.navigation,n=h({langKey:"pitchfork",type:"pitchfork",typeOptions:{points:[{x:e.xAxis[0].value,y:e.yAxis[0].value,controlPoint:{style:{fill:"red"}}},{x:e.xAxis[0].value,y:e.yAxis[0].value},{x:e.xAxis[0].value,y:e.yAxis[0].value}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},i.annotationsOptions,i.bindings.pitchfork.annotationsOptions);return this.chart.addAnnotation(n)},steps:[d.updateNthPoint(1),d.updateNthPoint(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(t){var e=d.attractToPoint(t,this.chart),i=this.chart.options.navigation,n=r(this.verticalCounter)?this.verticalCounter:0,o=h({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:e.x,y:e.y,xAxis:e.xAxis,yAxis:e.yAxis},label:{offset:e.below?40:-40,text:n.toString()}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalCounter.annotationsOptions),s=this.chart.addAnnotation(o);n++,s.options.events.click.call(s,{})}},verticalLabel:{className:"highcharts-vertical-label",start:function(t){var e=d.attractToPoint(t,this.chart),i=this.chart.options.navigation,n=h({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:e.x,y:e.y,xAxis:e.xAxis,yAxis:e.yAxis},label:{offset:e.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalLabel.annotationsOptions),o=this.chart.addAnnotation(n);o.options.events.click.call(o,{})}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(t){var e=d.attractToPoint(t,this.chart),i=this.chart.options.navigation,n=h({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:e.x,y:e.y,xAxis:e.xAxis,yAxis:e.yAxis},label:{offset:e.below?40:-40,format:" "},connector:{fill:"none",stroke:e.below?"red":"green"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalArrow.annotationsOptions),o=this.chart.addAnnotation(n);o.options.events.click.call(o,{})}},flagCirclepin:{className:"highcharts-flag-circlepin",start:d.addFlagFromForm("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:d.addFlagFromForm("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:d.addFlagFromForm("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:d.addFlagFromForm("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(t){this.chart.update({chart:{zoomType:"x"}}),p(this,"deselectButton",{button:t})}},zoomY:{className:"highcharts-zoom-y",init:function(t){this.chart.update({chart:{zoomType:"y"}}),p(this,"deselectButton",{button:t})}},zoomXY:{className:"highcharts-zoom-xy",init:function(t){this.chart.update({chart:{zoomType:"xy"}}),p(this,"deselectButton",{button:t})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(t){this.chart.series[0].update({type:"line",useOhlcData:!0}),p(this,"deselectButton",{button:t})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(t){this.chart.series[0].update({type:"ohlc"}),p(this,"deselectButton",{button:t})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(t){this.chart.series[0].update({type:"candlestick"}),p(this,"deselectButton",{button:t})}},fullScreen:{className:"highcharts-full-screen",init:function(t){this.chart.fullscreen.toggle(),p(this,"deselectButton",{button:t})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(t){var e=this.chart,i=e.series[0],n=i.options,o=n.lastVisiblePrice&&n.lastVisiblePrice.enabled,s=n.lastPrice&&n.lastPrice.enabled,a=e.stockTools,r=a.getIconsURL();a&&a.guiEnabled&&(t.firstChild.style["background-image"]=s?'url("'+r+'current-price-show.svg")':'url("'+r+'current-price-hide.svg")'),i.update({lastPrice:{enabled:!s,color:"red"},lastVisiblePrice:{enabled:!o,label:{enabled:!0}}}),p(this,"deselectButton",{button:t})}},indicators:{className:"highcharts-indicators",init:function(){var e=this;p(e,"showPopup",{formType:"indicators",options:{},onSubmit:function(t){e.utils.manageIndicators.call(e,t)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(t){var e=this.chart,i=e.stockTools,n=i.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(e.annotations||[]).forEach(function(t){t.setVisibility(!this.toggledAnnotations)},this),i&&i.guiEnabled&&(this.toggledAnnotations?t.firstChild.style["background-image"]='url("'+n+'annotations-hidden.svg")':t.firstChild.style["background-image"]='url("'+n+'annotations-visible.svg")'),p(this,"deselectButton",{button:t})}},saveChart:{className:"highcharts-save-chart",init:function(t){var e=this.chart,i=[],n=[],o=[],s=[];e.annotations.forEach(function(t,e){i[e]=t.userOptions}),e.series.forEach(function(t){t.is("sma")?n.push(t.userOptions):"flags"===t.type&&o.push(t.userOptions)}),e.yAxis.forEach(function(t){d.isNotNavigatorYAxis(t)&&s.push(t.options)}),a.win.localStorage.setItem(g+"chart",JSON.stringify({annotations:i,indicators:n,flags:o,yAxes:s})),p(this,"deselectButton",{button:t})}}};a.setOptions({navigation:{bindings:n}}),t.prototype.utils=h(d,t.prototype.utils)}),i(e,"modules/stock-tools-gui.js",[e["parts/Globals.js"],e["parts/Utilities.js"],e["annotations/navigationBindings.js"]],function(s,t,e){var h=t.addEvent,u=t.createElement,d=t.css,i=t.extend,n=t.fireEvent,g=t.getStyle,c=t.isArray,a=t.merge,y=t.pick,p=(s.win,"div"),v="highcharts-",o=v+"active";s.setOptions({lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",circle:"Circle",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel"}},navigation:{popup:{circle:"Circle",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",flags:"Flags",addButton:"add",saveButton:"save",editButton:"edit",removeButton:"remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background"}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:["indicators","separator","simpleShapes","lines","crookedLines","measure","advanced","toggleAnnotations","separator","verticalLabels","flags","separator","zoomChange","fullScreen","typeChange","separator","currentPriceIndicator","saveChart"],definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label","circle","rectangle"],circle:{symbol:"circle.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:["segment","arrowSegment","ray","arrowRay","line","arrowLine","horizontalLine","verticalLine"],segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","pitchfork","parallelChannel"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},parallelChannel:{symbol:"parallel-channel.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}),h(s.Chart,"afterGetContainer",function(){this.setStockTools()}),h(s.Chart,"getMargins",function(){var t=this.stockTools&&this.stockTools.listWrapper,e=t&&(t.startWidth+g(t,"padding-left")+g(t,"padding-right")||t.offsetWidth);e&&e<this.plotWidth&&(this.plotLeft+=e)}),h(s.Chart,"destroy",function(){this.stockTools&&this.stockTools.destroy()}),h(s.Chart,"redraw",function(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()});var r=(f.prototype.init=function(){var e,i=this,n=this.lang,t=this.options,o=this.toolbar,s=i.addSubmenu,a=t.buttons,r=t.definitions,l=o.childNodes;a.forEach(function(t){e=i.addButton(o,r,t,n),i.eventsToUnbind.push(h(e.buttonWrapper,"click",function(){i.eraseActiveButtons(l,e.buttonWrapper)})),c(r[t].items)&&s.call(i,e,r[t])})},f.prototype.addSubmenu=function(t,e){var i,n=this,o=t.submenuArrow,s=t.buttonWrapper,a=g(s,"width"),r=this.wrapper,l=this.listWrapper,c=this.toolbar.childNodes,p=0;this.submenu=i=u("ul",{className:v+"submenu-wrapper"},null,s),this.addSubmenuItems(s,e),n.eventsToUnbind.push(h(o,"click",function(t){t.stopPropagation(),n.eraseActiveButtons(c,s),0<=s.className.indexOf(v+"current")?(l.style.width=l.startWidth+"px",s.classList.remove(v+"current"),i.style.display="none"):(i.style.display="block",p=i.offsetHeight-s.offsetHeight-3,i.offsetHeight+s.offsetTop>r.offsetHeight&&s.offsetTop>p||(p=0),d(i,{top:-p+"px",left:a+3+"px"}),s.className+=" "+v+"current",l.startWidth=r.offsetWidth,l.style.width=l.startWidth+g(l,"padding-left")+i.offsetWidth+3+"px")}))},f.prototype.addSubmenuItems=function(e,i){var t,n,o=this,s=this.submenu,a=this.lang,r=this.listWrapper;i.items.forEach(function(t){n=o.addButton(s,i,t,a),o.eventsToUnbind.push(h(n.mainButton,"click",function(){o.switchSymbol(this,e,!0),r.style.width=r.startWidth+"px",s.style.display="none"}))}),t=s.querySelectorAll("li > ."+v+"menu-item-btn")[0],o.switchSymbol(t,!1)},f.prototype.eraseActiveButtons=function(t,e,i){[].forEach.call(t,function(t){t!==e&&(t.classList.remove(v+"current"),t.classList.remove(v+"active"),0<(i=t.querySelectorAll("."+v+"submenu-wrapper")).length&&(i[0].style.display="none"))})},f.prototype.addButton=function(t,e,i,n){void 0===n&&(n={});var o,s=e[i],a=s.items,r=f.prototype.classMapping,l=s.className||"",c=u("li",{className:y(r[i],"")+" "+l,title:n[i]||i},null,t),p=u("span",{className:v+"menu-item-btn"},null,c);return a&&a.length?(o=u("span",{className:v+"submenu-item-arrow "+v+"arrow-right"},null,c)).style["background-image"]="url("+this.iconsURL+"arrow-bottom.svg)":p.style["background-image"]="url("+this.iconsURL+s.symbol+")",{buttonWrapper:c,mainButton:p,submenuArrow:o}},f.prototype.addNavigation=function(){var t=this,e=t.wrapper;t.arrowWrapper=u(p,{className:v+"arrow-wrapper"}),t.arrowUp=u(p,{className:v+"arrow-up"},null,t.arrowWrapper),t.arrowUp.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",t.arrowDown=u(p,{className:v+"arrow-down"},null,t.arrowWrapper),t.arrowDown.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",e.insertBefore(t.arrowWrapper,e.childNodes[0]),t.scrollButtons()},f.prototype.scrollButtons=function(){var t=0,e=this,i=e.wrapper,n=e.toolbar,o=.1*i.offsetHeight;e.eventsToUnbind.push(h(e.arrowUp,"click",function(){0<t&&(t-=o,n.style["margin-top"]=-t+"px")})),e.eventsToUnbind.push(h(e.arrowDown,"click",function(){i.offsetHeight+t<=n.offsetHeight+o&&(t+=o,n.style["margin-top"]=-t+"px")}))},f.prototype.createHTML=function(){var t,e,i,n=this,o=n.chart,s=n.options,a=o.container,r=o.options.navigation,l=r&&r.bindingsClassName;n.wrapper=i=u(p,{className:v+"stocktools-wrapper "+s.className+" "+l}),a.parentNode.insertBefore(i,a),n.toolbar=e=u("ul",{className:v+"stocktools-toolbar "+s.toolbarClassName}),n.listWrapper=t=u(p,{className:v+"menu-wrapper"}),i.insertBefore(t,i.childNodes[0]),t.insertBefore(e,t.childNodes[0]),n.showHideToolbar(),n.addNavigation()},f.prototype.showHideNavigatorion=function(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")},f.prototype.showHideToolbar=function(){var t,e=this.chart,i=this.wrapper,n=this.listWrapper,o=this.submenu,s=this.visible;this.showhideBtn=t=u(p,{className:v+"toggle-toolbar "+v+"arrow-left"},null,i),t.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",s?(i.style.height="100%",t.style.top=g(n,"padding-top")+"px",t.style.left=i.offsetWidth+g(n,"padding-left")+"px"):(o&&(o.style.display="none"),t.style.left="0px",this.visible=s=!1,n.classList.add(v+"hide"),t.classList.toggle(v+"arrow-right"),i.style.height=t.offsetHeight+"px"),this.eventsToUnbind.push(h(t,"click",function(){e.update({stockTools:{gui:{visible:!s,placed:!0}}})}))},f.prototype.switchSymbol=function(t,e){var i=t.parentNode,n=i.classList.value,o=i.parentNode.parentNode;o.className="",n&&o.classList.add(n.trim()),o.querySelectorAll("."+v+"menu-item-btn")[0].style["background-image"]=t.style["background-image"],e&&this.selectButton(o)},f.prototype.selectButton=function(t){0<=t.className.indexOf(o)?t.classList.remove(o):t.classList.add(o)},f.prototype.unselectAllButtons=function(e){var t=e.parentNode.querySelectorAll("."+o);[].forEach.call(t,function(t){t!==e&&t.classList.remove(o)})},f.prototype.update=function(t){a(!0,this.chart.options.stockTools,t),this.destroy(),this.chart.setStockTools(t),this.chart.navigationBindings&&this.chart.navigationBindings.update()},f.prototype.destroy=function(){var t=this.wrapper,e=t&&t.parentNode;this.eventsToUnbind.forEach(function(t){t()}),e&&e.removeChild(t),this.chart.isDirtyBox=!0,this.chart.redraw()},f.prototype.redraw=function(){this.showHideNavigatorion()},f.prototype.getIconsURL=function(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/8.1.0/gfx/stock-icons/"},f);function f(t,e,i){this.arrowDown=void 0,this.arrowUp=void 0,this.arrowWrapper=void 0,this.listWrapper=void 0,this.showhideBtn=void 0,this.submenu=void 0,this.toolbar=void 0,this.wrapper=void 0,this.chart=i,this.options=t,this.lang=e,this.iconsURL=this.getIconsURL(),this.guiEnabled=t.enabled,this.visible=y(t.visible,!0),this.placed=y(t.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),n(this,"afterInit")}return r.prototype.classMapping={circle:v+"circle-annotation",rectangle:v+"rectangle-annotation",label:v+"label-annotation",segment:v+"segment",arrowSegment:v+"arrow-segment",ray:v+"ray",arrowRay:v+"arrow-ray",line:v+"infinity-line",arrowLine:v+"arrow-infinity-line",verticalLine:v+"vertical-line",horizontalLine:v+"horizontal-line",crooked3:v+"crooked3",crooked5:v+"crooked5",elliott3:v+"elliott3",elliott5:v+"elliott5",pitchfork:v+"pitchfork",fibonacci:v+"fibonacci",parallelChannel:v+"parallel-channel",measureX:v+"measure-x",measureY:v+"measure-y",measureXY:v+"measure-xy",verticalCounter:v+"vertical-counter",verticalLabel:v+"vertical-label",verticalArrow:v+"vertical-arrow",currentPriceIndicator:v+"current-price-indicator",indicators:v+"indicators",flagCirclepin:v+"flag-circlepin",flagDiamondpin:v+"flag-diamondpin",flagSquarepin:v+"flag-squarepin",flagSimplepin:v+"flag-simplepin",zoomX:v+"zoom-x",zoomY:v+"zoom-y",zoomXY:v+"zoom-xy",typeLine:v+"series-type-line",typeOHLC:v+"series-type-ohlc",typeCandlestick:v+"series-type-candlestick",fullScreen:v+"full-screen",toggleAnnotations:v+"toggle-annotations",saveChart:v+"save-chart",separator:v+"separator"},i(s.Chart.prototype,{setStockTools:function(t){var e=this.options,i=e.lang,n=a(e.stockTools&&e.stockTools.gui,t&&t.gui),o=i.stockTools&&i.stockTools.gui;this.stockTools=new s.Toolbar(n,o,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}}),h(e,"selectButton",function(t){var e=t.button,i=this.chart.stockTools;i&&i.guiEnabled&&(i.unselectAllButtons(t.button),0<=e.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(e=e.parentNode.parentNode),i.selectButton(e))}),h(e,"deselectButton",function(t){var e=t.button,i=this.chart.stockTools;i&&i.guiEnabled&&(0<=e.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(e=e.parentNode.parentNode),i.selectButton(e))}),s.Toolbar=r,s.Toolbar}),i(e,"masters/modules/stock-tools.src.js",[],function(){})});