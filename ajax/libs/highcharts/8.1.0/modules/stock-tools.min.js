!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/stock-tools",["highcharts","highcharts/modules/stock"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,e))}i(t=t?t._modules:{},"mixins/navigation.js",[],function(){return{initUpdate:function(t){t.navigation||(t.navigation={updates:[],update:function(i,e){this.updates.forEach(function(t){t.update.call(t.context,i,e)})}})},addUpdate:function(t,i){i.navigation||this.initUpdate(i),i.navigation.updates.push({update:t,context:i})}}}),i(t,"annotations/navigationBindings.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/navigation.js"]],function(t,i,e){function n(t){var s=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;h(!0,t.prototype.defaultOptions.events,{click:function(t){var e=this,n=e.chart.navigationBindings,i=n.activeAnnotation;s&&s.click.call(e,t),i!==e?(n.deselectAnnotation(),(n.activeAnnotation=e).setControlPointsVisibility(!0),r(n,"showPopup",{annotation:e,formType:"annotation-toolbar",options:n.annotationToFields(e),onSubmit:function(t){var i={};"remove"===t.actionType?(n.activeAnnotation=!1,n.chart.removeAnnotation(e)):(n.fieldsToOptions(t.fields,i),n.deselectAnnotation(),t=i.typeOptions,"measure"===e.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),e.update(i))}})):(n.deselectAnnotation(),r(n,"closePopup")),t.activeAnnotation=!0}})}var s=i.addEvent,o=i.attr,p=i.format,r=i.fireEvent,u=i.isArray,a=i.isFunction,l=i.isNumber,d=i.isObject,h=i.merge,g=i.objectEach,y=i.pick,c=t.doc,v=t.win,f=(m.prototype.initEvents=function(){var n=this,i=n.chart,t=n.container,e=n.options;n.boundClassNames={},g(e.bindings||{},function(t){n.boundClassNames[t.className]=t}),[].forEach.call(t,function(e){n.eventsToUnbind.push(s(e,"click",function(t){var i=n.getButtonEvents(e,t);i&&n.bindingsButtonClick(i.button,i.events,t)}))}),g(e.events||{},function(t,i){a(t)&&n.eventsToUnbind.push(s(n,i,t))}),n.eventsToUnbind.push(s(i.container,"click",function(t){!i.cancelClick&&i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&n.bindingsChartClick(this,t)})),n.eventsToUnbind.push(s(i.container,"mousemove",function(t){n.bindingsContainerMouseMove(this,t)}))},m.prototype.initUpdate=function(){var i=this;e.addUpdate(function(t){i.update(t)},this.chart)},m.prototype.bindingsButtonClick=function(t,i,e){var n=this.chart;this.selectedButtonElement&&(r(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&n.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),this.selectedButton=i,this.selectedButtonElement=t,r(this,"selectButton",{button:t}),i.init&&i.init.call(this,t,e),(i.start||i.steps)&&n.renderer.boxWrapper.addClass("highcharts-draw-mode")},m.prototype.bindingsChartClick=function(t,i){t=this.chart;var e,n=this.selectedButton;if(t=t.renderer.boxWrapper,e=this.activeAnnotation&&!i.activeAnnotation&&i.target.parentNode){t:{e=i.target;var s=v.Element.prototype,o=s.matches||s.msMatchesSelector||s.webkitMatchesSelector,a=null;if(s.closest)a=s.closest.call(e,".highcharts-popup");else do{if(o.call(e,".highcharts-popup"))break t;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);e=a}e=!e}e&&(r(this,"closePopup"),this.deselectAnnotation()),n&&n.start&&(this.nextEvent?(this.nextEvent(i,this.currentUserDetails),this.steps&&(this.stepIndex++,n.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]:(r(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),n.end&&n.end.call(this,i,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=n.start.call(this,i),n.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]):(r(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,n.end&&n.end.call(this,i,this.currentUserDetails))))},m.prototype.bindingsContainerMouseMove=function(t,i){this.mouseMoveEvent&&this.mouseMoveEvent(i,this.currentUserDetails)},m.prototype.fieldsToOptions=function(t,e){return g(t,function(n,t){var i=parseFloat(n),s=t.split("."),o=e,a=s.length-1;!l(i)||n.match(/px/g)||t.match(/format/g)||(n=i),""!==n&&"undefined"!==n&&s.forEach(function(t,i){var e=y(s[i+1],"");a===i?o[t]=n:(o[t]||(o[t]=e.match(/\d/g)?[]:{}),o=o[t])})}),e},m.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},m.prototype.annotationToFields=function(i){function a(t,n,e,s){var o;e&&-1===h.indexOf(n)&&(0<=(e.indexOf&&e.indexOf(n))||e[n]||!0===e)&&(u(t)?(s[n]=[],t.forEach(function(t,e){d(t)?(s[n][e]={},g(t,function(t,i){a(t,i,r[n],s[n][e])})):a(t,0,r[n],s[n])})):d(t)?(o={},u(s)?(s.push(o),o[n]={},o=o[n]):s[n]=o,g(t,function(t,i){a(t,i,0===n?e:r[n],o)})):"format"===n?s[n]=[p(t,i.labels[0].points[0]).toString(),"text"]:u(s)?s.push([t,l(t)]):s[n]=[t,l(t)])}var n=i.options,s=m.annotationsEditable,r=s.nestedOptions,l=this.utils.getFieldType,o=y(n.type,n.shapes&&n.shapes[0]&&n.shapes[0].type,n.labels&&n.labels[0]&&n.labels[0].itemType,"label"),h=m.annotationsNonEditable[n.langKey]||[],c={langKey:n.langKey,type:o};return g(n,function(t,e){"typeOptions"===e?(c[e]={},g(n[e],function(t,i){a(t,i,r,c[e])})):a(t,e,s[o],c)}),c},m.prototype.getClickedClassNames=function(t,i){var e,n=i.target;for(i=[];n&&((e=o(n,"class"))&&(i=i.concat(e.split(" ").map(function(t){return[t,n]}))),(n=n.parentNode)!==t););return i},m.prototype.getButtonEvents=function(t,i){var e,n=this;return this.getClickedClassNames(t,i).forEach(function(t){n.boundClassNames[t[0]]&&!e&&(e={events:n.boundClassNames[t[0]],button:t[1]})}),e},m.prototype.update=function(t){this.options=h(!0,this.options,t),this.removeEvents(),this.initEvents()},m.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(t){t()})},m.prototype.destroy=function(){this.removeEvents()},m.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:[]},m.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]},m);function m(t,i){this.selectedButton=this.boundClassNames=void 0,this.chart=t,this.options=i,this.eventsToUnbind=[],this.container=c.getElementsByClassName(this.options.bindingsClassName||"")}return f.prototype.utils={updateRectSize:function(t,i){var e=i.chart,n=i.options.typeOptions,s=e.pointer.getCoordinates(t);t=s.xAxis[0].value-n.point.x,n=n.point.y-s.yAxis[0].value,i.update({typeOptions:{background:{width:e.inverted?n:t,height:e.inverted?t:n}}})},getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[typeof t]}},t.Chart.prototype.initNavigationBindings=function(){var t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new f(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},s(t.Chart,"load",function(){this.initNavigationBindings()}),s(t.Chart,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()}),s(f,"deselectButton",function(){this.selectedButtonElement=null}),s(t.Annotation,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}),t.Annotation&&(n(t.Annotation),g(t.Annotation.types,function(t){n(t)})),t.setOptions({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return this.chart.addAnnotation(h({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},r:5}]},i.annotationsOptions,i.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,i){var e=i.options.shapes[0].point,n=this.chart.xAxis[0].toPixels(e.x),e=this.chart.yAxis[0].toPixels(e.y),s=this.chart.inverted;i.update({shapes:[{r:Math.max(Math.sqrt(Math.pow(s?e-t.chartX:n-t.chartX,2)+Math.pow(s?n-t.chartY:e-t.chartY,2)),5)}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var i=this.chart.pointer.getCoordinates(t);t=this.chart.options.navigation;var e=i.xAxis[0].value,i=i.yAxis[0].value;return this.chart.addAnnotation(h({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:0,yAxis:0,x:e,y:i},{xAxis:0,yAxis:0,x:e,y:i},{xAxis:0,yAxis:0,x:e,y:i},{xAxis:0,yAxis:0,x:e,y:i}]}]},t.annotationsOptions,t.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(t,i){var e=i.options.shapes[0].points,n=this.chart.pointer.getCoordinates(t);t=n.xAxis[0].value,n=n.yAxis[0].value,e[1].x=t,e[2].x=t,e[2].y=n,e[3].y=n,i.update({shapes:[{points:e}]})}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return this.chart.addAnnotation(h({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},overflow:"none",crop:!0}]},i.annotationsOptions,i.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{}}}),f}),i(t,"modules/stock-tools-bindings.js",[t["parts/Globals.js"],t["annotations/navigationBindings.js"],t["parts/Utilities.js"]],function(a,t,i){var r=i.correctFloat,l=i.defined,e=i.extend,h=i.fireEvent,c=i.isNumber,n=i.merge,s=i.pick,o=i.uniqueKey,p=t.prototype.utils;p.addFlagFromForm=function(a){return function(t){var e=this,i=e.chart,n=i.stockTools,s=p.getFieldType,o={type:"flags",onSeries:(t=p.attractToPoint(t,i)).series.id,shape:a,data:[{x:t.x,y:t.y}],point:{events:{click:function(){var i=this,t=i.options;h(e,"showPopup",{point:i,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[t.title,s(t.title)],name:[t.name,s(t.name)]},onSubmit:function(t){"remove"===t.actionType?i.remove():i.update(e.fieldsToOptions(t.fields,{}))}})}}}};n&&n.guiEnabled||i.addSeries(o),h(e,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",s("A")],name:["Flag A",s("Flag A")]},onSubmit:function(t){e.fieldsToOptions(t.fields,o.data[0]),i.addSeries(o)}})}},p.manageIndicators=function(t){var i,e=this.chart,n={linkedTo:t.linkedTo,type:t.type},s="ad atr cci cmf macd mfi roc rsi ao aroon aroonoscillator trix apo dpo ppo natr williamsr stochastic slowstochastic linearRegression linearRegressionSlope linearRegressionIntercept linearRegressionAngle".split(" ");"edit"===t.actionType?(this.fieldsToOptions(t.fields,n),(t=e.get(t.seriesId))&&t.update(n,!1)):"remove"===t.actionType?(t=e.get(t.seriesId))&&(i=t.yAxis,t.linkedSeries&&t.linkedSeries.forEach(function(t){t.remove(!1)}),t.remove(!1),0<=s.indexOf(t.type)&&(i.remove(!1),this.resizeYAxes())):(n.id=o(),this.fieldsToOptions(t.fields,n),0<=s.indexOf(t.type)?(i=e.addAxis({id:o(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),n.yAxis=i.options.id,this.resizeYAxes()):n.yAxis=e.get(t.linkedTo).options.yAxis,0<=["ad","cmf","mfi","vbp","vwap"].indexOf(t.type)&&(n.params.volumeSeriesID=e.series.filter(function(t){return"column"===t.options.type})[0].options.id),e.addSeries(n,!1)),h(this,"deselectButton",{button:this.selectedButtonElement}),e.redraw()},p.updateHeight=function(t,i){i.update({typeOptions:{height:this.chart.pointer.getCoordinates(t).yAxis[0].value-i.options.typeOptions.points[1].y}})},p.attractToPoint=function(t,i){var e=(t=i.pointer.getCoordinates(t)).xAxis[0].value;t=t.yAxis[0].value;var n,s=Number.MAX_VALUE;return i.series.forEach(function(t){t.points.forEach(function(t){t&&s>Math.abs(t.x-e)&&(s=Math.abs(t.x-e),n=t)})}),{x:n.x,y:n.y,below:t<n.y,series:n.series,xAxis:n.series.xAxis.index||0,yAxis:n.series.yAxis.index||0}},p.isNotNavigatorYAxis=function(t){return"highcharts-navigator-yaxis"!==t.userOptions.className},p.updateNthPoint=function(o){return function(t,i){var e=i.options.typeOptions,n=(t=this.chart.pointer.getCoordinates(t)).xAxis[0].value,s=t.yAxis[0].value;e.points.forEach(function(t,i){o<=i&&(t.x=n,t.y=s)}),i.update({typeOptions:{points:e.points}})}},e(t.prototype,{getYAxisPositions:function(t,e,n){function s(t){return l(t)&&!c(t)&&t.match("%")}var o=0;return(t=t.map(function(t){var i=s(t.options.height)?parseFloat(t.options.height)/100:t.height/e;return t=s(t.options.top)?parseFloat(t.options.top)/100:r(t.top-t.chart.plotTop)/e,c(i)||(i=n/100),o=r(o+i),{height:100*i,top:100*t}})).allAxesHeight=o,t},getYAxisResizers:function(e){var n=[];return e.forEach(function(t,i){t=e[i+1],n[i]=t?{enabled:!0,controlledAxis:{next:[s(t.options.id,t.options.index)]}}:{enabled:!1}}),n},resizeYAxes:function(t){t=t||20;var e=(n=this.chart).yAxis.filter(p.isNotNavigatorYAxis),i=e.length,n=this.getYAxisPositions(e,n.plotHeight,t),s=this.getYAxisResizers(e),o=n.allAxesHeight,a=t;1<o?(n=i<6?(n[0].height=r(n[0].height-a),this.recalculateYAxisPositions(n,a)):(t=100/i,this.recalculateYAxisPositions(n,t/(i-1),!0,-1)))[i-1]={top:r(100-t),height:t}:(a=100*r(1-o),n=i<5?(n[0].height=r(n[0].height+a),this.recalculateYAxisPositions(n,a)):this.recalculateYAxisPositions(n,a/i,!0,1)),n.forEach(function(t,i){e[i].update({height:t.height+"%",top:t.top+"%",resize:s[i]},!1)})},recalculateYAxisPositions:function(e,n,s,o){return e.forEach(function(t,i){i=e[i-1],t.top=i?r(i.height+i.top):0,s&&(t.height=r(t.height+o*n))}),e}}),i={segment:{className:"highcharts-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"segment",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.segment.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowSegment.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},ray:{className:"highcharts-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"ray",type:"crookedLine",typeOptions:{type:"ray",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.ray.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowRay.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.infinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowInfinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;t=n({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.horizontalLine.annotationsOptions),this.chart.addAnnotation(t)}},verticalLine:{className:"highcharts-vertical-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;t=n({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.verticalLine.annotationsOptions),this.chart.addAnnotation(t)}},crooked3:{className:"highcharts-crooked3",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"crooked3",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked3.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2)]},crooked5:{className:"highcharts-crooked5",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"crookedLine",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked5.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2),p.updateNthPoint(3),p.updateNthPoint(4)]},elliott3:{className:"highcharts-elliott3",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"elliott3",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott3.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2),p.updateNthPoint(3)]},elliott5:{className:"highcharts-elliott5",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"elliott5",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott5.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2),p.updateNthPoint(3),p.updateNthPoint(4),p.updateNthPoint(5)]},measureX:{className:"highcharts-measure-x",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"measure",type:"measure",typeOptions:{selectType:"x",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureX.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateRectSize]},measureY:{className:"highcharts-measure-y",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"measure",type:"measure",typeOptions:{selectType:"y",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureY.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateRectSize]},measureXY:{className:"highcharts-measure-xy",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureXY.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateRectSize]},fibonacci:{className:"highcharts-fibonacci",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"fibonacci",type:"fibonacci",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.fibonacci.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateHeight]},parallelChannel:{className:"highcharts-parallel-channel",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"parallelChannel",type:"tunnel",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.parallelChannel.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateHeight]},pitchfork:{className:"highcharts-pitchfork",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=n({langKey:"pitchfork",type:"pitchfork",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value,controlPoint:{style:{fill:"red"}}},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},i.annotationsOptions,i.bindings.pitchfork.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(t){t=p.attractToPoint(t,this.chart);var i=this.chart.options.navigation,e=l(this.verticalCounter)?this.verticalCounter:0;t=n({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,text:e.toString()}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalCounter.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalLabel:{className:"highcharts-vertical-label",start:function(t){t=p.attractToPoint(t,this.chart);var i=this.chart.options.navigation;t=n({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalLabel.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(t){t=p.attractToPoint(t,this.chart);var i=this.chart.options.navigation;t=n({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,format:" "},connector:{fill:"none",stroke:t.below?"red":"green"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalArrow.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},flagCirclepin:{className:"highcharts-flag-circlepin",start:p.addFlagFromForm("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:p.addFlagFromForm("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:p.addFlagFromForm("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:p.addFlagFromForm("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(t){this.chart.update({chart:{zoomType:"x"}}),h(this,"deselectButton",{button:t})}},zoomY:{className:"highcharts-zoom-y",init:function(t){this.chart.update({chart:{zoomType:"y"}}),h(this,"deselectButton",{button:t})}},zoomXY:{className:"highcharts-zoom-xy",init:function(t){this.chart.update({chart:{zoomType:"xy"}}),h(this,"deselectButton",{button:t})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(t){this.chart.series[0].update({type:"line",useOhlcData:!0}),h(this,"deselectButton",{button:t})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(t){this.chart.series[0].update({type:"ohlc"}),h(this,"deselectButton",{button:t})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(t){this.chart.series[0].update({type:"candlestick"}),h(this,"deselectButton",{button:t})}},fullScreen:{className:"highcharts-full-screen",init:function(t){this.chart.fullscreen.toggle(),h(this,"deselectButton",{button:t})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(t){var i=this.chart,e=i.series[0],n=(s=e.options).lastVisiblePrice&&s.lastVisiblePrice.enabled,s=s.lastPrice&&s.lastPrice.enabled,o=(i=i.stockTools).getIconsURL();i&&i.guiEnabled&&(t.firstChild.style["background-image"]=s?'url("'+o+'current-price-show.svg")':'url("'+o+'current-price-hide.svg")'),e.update({lastPrice:{enabled:!s,color:"red"},lastVisiblePrice:{enabled:!n,label:{enabled:!0}}}),h(this,"deselectButton",{button:t})}},indicators:{className:"highcharts-indicators",init:function(){var i=this;h(i,"showPopup",{formType:"indicators",options:{},onSubmit:function(t){i.utils.manageIndicators.call(i,t)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(t){var i=this.chart,e=i.stockTools,n=e.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(i.annotations||[]).forEach(function(t){t.setVisibility(!this.toggledAnnotations)},this),e&&e.guiEnabled&&(t.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+n+'annotations-hidden.svg")':'url("'+n+'annotations-visible.svg")'),h(this,"deselectButton",{button:t})}},saveChart:{className:"highcharts-save-chart",init:function(t){var i=this.chart,e=[],n=[],s=[],o=[];i.annotations.forEach(function(t,i){e[i]=t.userOptions}),i.series.forEach(function(t){t.is("sma")?n.push(t.userOptions):"flags"===t.type&&s.push(t.userOptions)}),i.yAxis.forEach(function(t){p.isNotNavigatorYAxis(t)&&o.push(t.options)}),a.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:e,indicators:n,flags:s,yAxes:o})),h(this,"deselectButton",{button:t})}}},a.setOptions({navigation:{bindings:i}}),t.prototype.utils=n(p,t.prototype.utils)}),i(t,"modules/stock-tools-gui.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["annotations/navigationBindings.js"]],function(n,t,i){var p=t.addEvent,u=t.createElement,d=t.css,e=t.extend,s=t.fireEvent,g=t.getStyle,l=t.isArray,o=t.merge,r=t.pick;function h(t,i,e){this.wrapper=this.toolbar=this.submenu=this.showhideBtn=this.listWrapper=this.arrowWrapper=this.arrowUp=this.arrowDown=void 0,this.chart=e,this.options=t,this.lang=i,this.iconsURL=this.getIconsURL(),this.guiEnabled=t.enabled,this.visible=r(t.visible,!0),this.placed=r(t.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),s(this,"afterInit")}return n.setOptions({lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",circle:"Circle",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel"}},navigation:{popup:{circle:"Circle",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",flags:"Flags",addButton:"add",saveButton:"save",editButton:"edit",removeButton:"remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background"}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:"indicators separator simpleShapes lines crookedLines measure advanced toggleAnnotations separator verticalLabels flags separator zoomChange fullScreen typeChange separator currentPriceIndicator saveChart".split(" "),definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label","circle","rectangle"],circle:{symbol:"circle.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:"segment arrowSegment ray arrowRay line arrowLine horizontalLine verticalLine".split(" "),segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","pitchfork","parallelChannel"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},parallelChannel:{symbol:"parallel-channel.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}),p(n.Chart,"afterGetContainer",function(){this.setStockTools()}),p(n.Chart,"getMargins",function(){var t=this.stockTools&&this.stockTools.listWrapper;(t=t&&(t.startWidth+g(t,"padding-left")+g(t,"padding-right")||t.offsetWidth))&&t<this.plotWidth&&(this.plotLeft+=t)}),p(n.Chart,"destroy",function(){this.stockTools&&this.stockTools.destroy()}),p(n.Chart,"redraw",function(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()}),h.prototype.init=function(){var i,e=this,n=this.lang,t=this.options,s=this.toolbar,o=e.addSubmenu,a=t.definitions,r=s.childNodes;t.buttons.forEach(function(t){i=e.addButton(s,a,t,n),e.eventsToUnbind.push(p(i.buttonWrapper,"click",function(){e.eraseActiveButtons(r,i.buttonWrapper)})),l(a[t].items)&&o.call(e,i,a[t])})},h.prototype.addSubmenu=function(t,i){var e,n=this,s=t.submenuArrow,o=t.buttonWrapper,a=g(o,"width"),r=this.wrapper,l=this.listWrapper,h=this.toolbar.childNodes,c=0;this.submenu=e=u("ul",{className:"highcharts-submenu-wrapper"},null,o),this.addSubmenuItems(o,i),n.eventsToUnbind.push(p(s,"click",function(t){t.stopPropagation(),n.eraseActiveButtons(h,o),0<=o.className.indexOf("highcharts-current")?(l.style.width=l.startWidth+"px",o.classList.remove("highcharts-current"),e.style.display="none"):(e.style.display="block",c=e.offsetHeight-o.offsetHeight-3,e.offsetHeight+o.offsetTop>r.offsetHeight&&o.offsetTop>c||(c=0),d(e,{top:-c+"px",left:a+3+"px"}),o.className+=" highcharts-current",l.startWidth=r.offsetWidth,l.style.width=l.startWidth+g(l,"padding-left")+e.offsetWidth+3+"px")}))},h.prototype.addSubmenuItems=function(i,e){var n,s=this,o=this.submenu,a=this.lang,r=this.listWrapper;e.items.forEach(function(t){n=s.addButton(o,e,t,a),s.eventsToUnbind.push(p(n.mainButton,"click",function(){s.switchSymbol(this,i,!0),r.style.width=r.startWidth+"px",o.style.display="none"}))});var t=o.querySelectorAll("li > .highcharts-menu-item-btn")[0];s.switchSymbol(t,!1)},h.prototype.eraseActiveButtons=function(t,i,e){[].forEach.call(t,function(t){t!==i&&(t.classList.remove("highcharts-current"),t.classList.remove("highcharts-active"),0<(e=t.querySelectorAll(".highcharts-submenu-wrapper")).length&&(e[0].style.display="none"))})},h.prototype.addButton=function(t,i,e,n){void 0===n&&(n={});var s,o=(i=i[e]).items,a=i.className||"";return e=u("li",{className:r(h.prototype.classMapping[e],"")+" "+a,title:n[e]||e},null,t),t=u("span",{className:"highcharts-menu-item-btn"},null,e),o&&o.length?(s=u("span",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},null,e)).style["background-image"]="url("+this.iconsURL+"arrow-bottom.svg)":t.style["background-image"]="url("+this.iconsURL+i.symbol+")",{buttonWrapper:e,mainButton:t,submenuArrow:s}},h.prototype.addNavigation=function(){var t=this.wrapper;this.arrowWrapper=u("div",{className:"highcharts-arrow-wrapper"}),this.arrowUp=u("div",{className:"highcharts-arrow-up"},null,this.arrowWrapper),this.arrowUp.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",this.arrowDown=u("div",{className:"highcharts-arrow-down"},null,this.arrowWrapper),this.arrowDown.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",t.insertBefore(this.arrowWrapper,t.childNodes[0]),this.scrollButtons()},h.prototype.scrollButtons=function(){var t=0,i=this.wrapper,e=this.toolbar,n=.1*i.offsetHeight;this.eventsToUnbind.push(p(this.arrowUp,"click",function(){0<t&&(t-=n,e.style["margin-top"]=-t+"px")})),this.eventsToUnbind.push(p(this.arrowDown,"click",function(){i.offsetHeight+t<=e.offsetHeight+n&&(t+=n,e.style["margin-top"]=-t+"px")}))},h.prototype.createHTML=function(){var t=this.chart,i=this.options,e=t.container,t=t.options.navigation;this.wrapper=t=u("div",{className:"highcharts-stocktools-wrapper "+i.className+" "+(t&&t.bindingsClassName)}),e.parentNode.insertBefore(t,e),this.toolbar=e=u("ul",{className:"highcharts-stocktools-toolbar "+i.toolbarClassName}),this.listWrapper=i=u("div",{className:"highcharts-menu-wrapper"}),t.insertBefore(i,t.childNodes[0]),i.insertBefore(e,i.childNodes[0]),this.showHideToolbar(),this.addNavigation()},h.prototype.showHideNavigatorion=function(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")},h.prototype.showHideToolbar=function(){var t,i=this.chart,e=this.wrapper,n=this.listWrapper,s=this.submenu,o=this.visible;this.showhideBtn=t=u("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},null,e),t.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",o?(e.style.height="100%",t.style.top=g(n,"padding-top")+"px",t.style.left=e.offsetWidth+g(n,"padding-left")+"px"):(s&&(s.style.display="none"),t.style.left="0px",this.visible=o=!1,n.classList.add("highcharts-hide"),t.classList.toggle("highcharts-arrow-right"),e.style.height=t.offsetHeight+"px"),this.eventsToUnbind.push(p(t,"click",function(){i.update({stockTools:{gui:{visible:!o,placed:!0}}})}))},h.prototype.switchSymbol=function(t,i){var e=t.parentNode,n=e.classList.value;(e=e.parentNode.parentNode).className="",n&&e.classList.add(n.trim()),e.querySelectorAll(".highcharts-menu-item-btn")[0].style["background-image"]=t.style["background-image"],i&&this.selectButton(e)},h.prototype.selectButton=function(t){0<=t.className.indexOf("highcharts-active")?t.classList.remove("highcharts-active"):t.classList.add("highcharts-active")},h.prototype.unselectAllButtons=function(i){var t=i.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(t,function(t){t!==i&&t.classList.remove("highcharts-active")})},h.prototype.update=function(t){o(!0,this.chart.options.stockTools,t),this.destroy(),this.chart.setStockTools(t),this.chart.navigationBindings&&this.chart.navigationBindings.update()},h.prototype.destroy=function(){var t=this.wrapper,i=t&&t.parentNode;this.eventsToUnbind.forEach(function(t){t()}),i&&i.removeChild(t),this.chart.isDirtyBox=!0,this.chart.redraw()},h.prototype.redraw=function(){this.showHideNavigatorion()},h.prototype.getIconsURL=function(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/8.1.0/gfx/stock-icons/"},(t=h).prototype.classMapping={circle:"highcharts-circle-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",line:"highcharts-infinity-line",arrowLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",verticalCounter:"highcharts-vertical-counter",verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",typeCandlestick:"highcharts-series-type-candlestick",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"},e(n.Chart.prototype,{setStockTools:function(t){var i=this.options,e=i.lang;t=o(i.stockTools&&i.stockTools.gui,t&&t.gui),this.stockTools=new n.Toolbar(t,e.stockTools&&e.stockTools.gui,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}}),p(i,"selectButton",function(t){var i=t.button,e=this.chart.stockTools;e&&e.guiEnabled&&(e.unselectAllButtons(t.button),0<=i.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(i=i.parentNode.parentNode),e.selectButton(i))}),p(i,"deselectButton",function(t){t=t.button;var i=this.chart.stockTools;i&&i.guiEnabled&&(0<=t.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(t=t.parentNode.parentNode),i.selectButton(t))}),n.Toolbar=t,n.Toolbar}),i(t,"masters/modules/stock-tools.src.js",[],function(){})});