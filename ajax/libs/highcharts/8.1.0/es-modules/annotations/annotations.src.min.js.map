{"version":3,"sources":["annotations.src.js"],"names":["H","U","addEvent","defined","destroyObjectProperties","erase","extend","find","fireEvent","merge","pick","splat","wrap","controllableMixin","ControllableRect","ControllableCircle","ControllablePath","ControllableImage","ControllableLabel","eventEmitterMixin","MockPoint","ControlPoint","chartProto","Chart","prototype","Annotation","chart","userOptions","labelsAndShapes","this","points","controlPoints","coll","labels","shapes","options","defaultOptions","getLabelsAndShapesOptions","init","nonDOMEvents","visible","draggable","labelOptions","align","allowOverlap","backgroundColor","borderColor","borderRadius","borderWidth","className","crop","formatter","y","overflow","padding","shadow","shape","style","fontSize","fontWeight","color","useHTML","verticalAlign","x","shapeOptions","stroke","strokeWidth","fill","r","snap","controlPointOptions","symbol","width","height","stroke-width","events","zIndex","linkPoints","addControlPoints","addShapes","addLabels","setLabelCollector","baseOptions","newOptions","mergedOptions","forEach","name","map","basicOptions","i","initShape","labelsOptions","initLabel","addClipPaths","setClipAxes","clipXAxis","clipYAxis","clipRect","renderer","getClipBox","xAxes","xAxis","yAxes","yAxis","linkedAxes","concat","reduce","axes","labelOrShape","point","left","top","annotation","labelCollector","label","push","graphic","labelCollectors","setOptions","redraw","animation","render","animate","redrawItems","call","items","length","redrawItem","renderItems","renderItem","g","attr","visibility","add","shapesGroup","clip","plotBoxClip","labelsGroup","translateX","translateY","addEvents","setVisibility","setControlPointsVisibility","setItemControlPointsVisibility","item","destroy","destroyItem","remove","removeAnnotation","update","userOptionsIndex","annotations","indexOf","constructor","isUpdating","index","shapesMap","type","itemType","shouldBeDrawn","placed","adjustVisibility","hasVisiblePoints","series","show","hide","rect","circle","path","image","types","extendAnnotation","Constructor","BaseConstructor","initAnnotation","addAnnotation","idOrAnnotation","id","drawAnnotations","plotBox","collectionsWithUpdate","collectionsWithInit","callbacks","controlPointsGroup","annotationOptions","Pointer","proceed","hasDraggedAnnotation","apply","Array","slice","arguments"],"mappings":"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"}