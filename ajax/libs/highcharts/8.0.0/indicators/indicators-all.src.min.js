"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){var t=e?e._modules:{};function a(e,t,a,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,a))}a(t,"mixins/indicator-required.js",[t["parts/Globals.js"]],function(e){var s=e.error;return{isParentLoaded:function(e,t,a,o,i){return e?!o||o(e):(s(i||this.generateMessage(a,t)),!1)},generateMessage:function(e,t){return'Error: "'+e+'" indicator type requires "'+t+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+e}}}),a(t,"indicators/indicators.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var o=t.extend,m=t.isArray,i=t.pick,h=t.splat,s=e.error,n=e.Series,r=e.addEvent,l=e.seriesType,p=e.seriesTypes,u=e.seriesTypes.ohlc.prototype,d=a.generateMessage;r(e.Series,"init",function(e){var t=e.options;t.useOhlcData&&"highcharts-navigator-series"!==t.id&&o(this,{pointValKey:u.pointValKey,keys:u.keys,pointArrayMap:u.pointArrayMap,toYData:u.toYData})}),r(n,"afterSetOptions",function(e){var t=e.options,a=t.dataGrouping;a&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(a.approximation="ohlc")}),l("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var e=this,t=e.options.compareToMain,a=e.linkedParent;n.prototype.processData.apply(e,arguments),a&&a.compareValue&&t&&(e.compareValue=a.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var t={allLoaded:!0};return this.requiredIndicators.forEach(function(e){p[e]?p[e].prototype.requireIndicators():(t.allLoaded=!1,t.needed=e)}),t},init:function(e,t){var c=this,a=c.requireIndicators();if(!a.allLoaded)return s(d(c.type,a.needed));function o(){var e,t,a,o,i,s,n=c.points||[],r=(c.xData||[]).length,l=c.getValues(c.linkedParent,c.options.params)||{values:[],xData:[],yData:[]},p=[],u=!0;if(r&&!c.hasGroupedData&&c.visible&&c.points)if(c.cropped){for(c.xAxis&&(o=c.xAxis.min,i=c.xAxis.max),a=c.cropData(l.xData,l.yData,o,i),s=0;s<a.xData.length;s++)p.push([a.xData[s]].concat(h(a.yData[s])));e=l.xData.indexOf(c.xData[0]),t=l.xData.indexOf(c.xData[c.xData.length-1]),-1===e&&t===l.xData.length-2&&p[0][0]===n[0].x&&p.shift(),c.updateData(p)}else l.xData.length!==r-1&&l.xData.length!==r+1&&(u=!1,c.updateData(l.values));u&&(c.xData=l.xData,c.yData=l.yData,c.options.data=l.values),!1===c.bindTo.series&&(delete c.processedXData,c.isDirty=!0,c.redraw()),c.isDirtyData=!1}if(n.prototype.init.call(c,e,t),e.linkSeries(),c.dataEventsToUnbind=[],!c.linkedParent)return s("Series "+c.options.linkedTo+" not found! Check `linkedTo`.",!1,e);if(c.dataEventsToUnbind.push(r(c.bindTo.series?c.linkedParent:c.linkedParent.xAxis,c.bindTo.eventName,o)),"init"===c.calculateOn)o();else var i=r(c.chart,c.calculateOn,function(){o(),i()});return c},getName:function(){var e=this.name,a=[];return e||((this.nameComponents||[]).forEach(function(e,t){a.push(this.options.params[e]+i(this.nameSuffixes[t],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+a.join(", ")+")":"")),e},getValues:function(e,t){var a,o,i=t.period,s=e.xData,n=e.yData,r=n.length,l=0,p=0,u=[],c=[],h=[],d=-1;if(!(s.length<i)){for(m(n[0])&&(d=t.index?t.index:0);l<i-1;)p+=d<0?n[l]:n[l][d],l++;for(a=l;a<r;a++)p+=d<0?n[a]:n[a][d],o=[s[a],p/i],u.push(o),c.push(o[0]),h.push(o[1]),p-=d<0?n[a-l]:n[a-l][d];return{values:u,xData:c,yData:h}}},destroy:function(){this.dataEventsToUnbind.forEach(function(e){e()}),n.prototype.destroy.apply(this,arguments)}})}),a(t,"indicators/accumulation-distribution.src.js",[t["parts/Globals.js"]],function(S){(0,S.seriesType)("ad","sma",{params:{volumeSeriesID:"volume"}},{nameComponents:!1,nameBase:"Accumulation/Distribution",getValues:function(e,t){var a,o,i,s=t.period,n=e.xData,r=e.yData,l=t.volumeSeriesID,p=e.chart.get(l),u=p&&p.yData,c=r?r.length:0,h=[],d=[],m=[];if(!(n.length<=s&&c&&4!==r[0].length)){if(p){for(o=s;o<c;o++)a=h.length,y=n,g=u,0,D=(f=r)[v=o][1],x=f[v][2],b=f[v][3],A=g[v],j=b===D&&b===x||D===x?0:(2*b-x-D)/(D-x)*A,i=[y[v],j],0<a&&(i[1]+=h[a-1][1]),h.push(i),d.push(i[0]),m.push(i[1]);var y,f,g,v,D,x,b,A,j;return{values:h,xData:d,yData:m}}S.error("Series "+l+" not found! Check `volumeSeriesID`.",!0,e.chart)}}})}),a(t,"indicators/ao.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var y=t.correctFloat,f=t.isArray,a=e.noop;e.seriesType("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:a,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,translate:e.seriesTypes.column.prototype.translate,drawPoints:e.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var e,t=this.options,a=this.points,o=this.userOptions.color,i=t.greaterBarColor,s=t.lowerBarColor,n=a[0];if(!o&&n)for(n.color=i,e=1;e<a.length;e++)a[e].y>a[e-1].y?a[e].color=i:a[e].y<a[e-1].y?a[e].color=s:a[e].color=a[e-1].color},getValues:function(e){var t,a,o,i,s,n,r=e.xData||[],l=e.yData||[],p=l.length,u=[],c=[],h=[],d=0,m=0;if(!(r.length<=34)&&f(l[0])&&4===l[0].length){for(s=0;s<33;s++)i=(l[s][1]+l[s][2])/2,29<=s&&(d=y(d+i)),m=y(m+i);for(n=33;n<p;n++)i=(l[n][1]+l[n][2])/2,d=y(d+i),m=y(m+i),t=y(d/5-m/34),u.push([r[n],t]),c.push(r[n]),h.push(t),o=n+1-34,d=y(d-(l[a=n+1-5][1]+l[a][2])/2),m=y(m-(l[o][1]+l[o][2])/2);return{values:u,xData:c,yData:h}}}})}),a(t,"mixins/multipe-lines.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var c=t.defined,h=e.each,d=e.merge,m=e.error,y=e.seriesTypes.sma;return{pointArrayMap:["top","bottom"],pointValKey:"top",linesApiNames:["bottomLine"],getTranslatedLinesNames:function(t){var a=[];return h(this.pointArrayMap,function(e){e!==t&&a.push("plot"+e.charAt(0).toUpperCase()+e.slice(1))}),a},toYData:function(t){var a=[];return h(this.pointArrayMap,function(e){a.push(t[e])}),a},translate:function(){var o,i,s=this,e=s.pointArrayMap;o=s.getTranslatedLinesNames(),y.prototype.translate.apply(s,arguments),h(s.points,function(a){h(e,function(e,t){null!==(i=a[e])&&(a[o[t]]=s.yAxis.toPixels(i,!0))})})},drawGraph:function(){var a,o=this,e=o.pointValKey,t=o.linesApiNames,i=o.points,s=i.length,n=o.options,r=o.graph,l={options:{gapSize:n.gapSize}},p=[],u=o.getTranslatedLinesNames(e);h(u,function(e,t){for(p[t]=[];s--;)a=i[s],p[t].push({x:a.x,plotX:a.plotX,plotY:a[e],isNull:!c(a[e])});s=i.length}),h(t,function(e,t){p[t]?(o.points=p[t],n[e]?o.options=d(n[e].styles,l):m('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),o.graph=o["graph"+e],y.prototype.drawGraph.call(o),o["graph"+e]=o.graph):m('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),o.points=i,o.options=n,o.graph=r,y.prototype.drawGraph.call(o)}}}),a(t,"indicators/aroon.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var m=t.pick;function y(e,t){var a,o=e[0],i=0;for(a=1;a<e.length;a++)("max"===t&&e[a]>=o||"min"===t&&e[a]<=o)&&(o=e[a],i=a);return i}e.seriesType("aroon","sma",{params:{period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},e.merge(a,{nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y",linesApiNames:["aroonDown"],getValues:function(e,t){var a,o,i,s,n,r=t.period,l=e.xData,p=e.yData,u=p?p.length:0,c=[],h=[],d=[];for(n=r-1;n<u;n++)s=y((a=p.slice(n-r+1,n+2)).map(function(e){return m(e[2],e)}),"min"),o=y(a.map(function(e){return m(e[1],e)}),"max")/r*100,i=s/r*100,l[n+1]&&(c.push([l[n+1],o,i]),h.push(l[n+1]),d.push([o,i]));return{values:c,xData:h,yData:d}}}))}),a(t,"indicators/aroon-oscillator.src.js",[t["parts/Globals.js"],t["mixins/multipe-lines.js"],t["mixins/indicator-required.js"]],function(e,t,a){var l=e.seriesTypes.aroon,o=a;e.seriesType("aroonoscillator","aroon",{params:{period:25},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}},e.merge(t,{nameBase:"Aroon Oscillator",pointArrayMap:["y"],pointValKey:"y",linesApiNames:[],init:function(){var t=arguments,a=this;o.isParentLoaded(l,"aroon",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,o,i,s=[],n=[],r=[];for(a=l.prototype.getValues.call(this,e,t),i=0;i<a.yData.length;i++)o=a.yData[i][0]-a.yData[i][1],s.push([a.xData[i],o]),n.push(a.xData[i]),r.push(o);return{values:s,xData:n,yData:r}}}))}),a(t,"indicators/atr.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var r,S=t.isArray;function T(e,t){var a=e,o=t,i=a[1]-a[2],s=o===r?0:Math.abs(a[1]-o[3]),n=o===r?0:Math.abs(a[2]-o[3]);return Math.max(i,s,n)}(0,e.seriesType)("atr","sma",{params:{period:14}},{getValues:function(e,t){var a,o,i,s=t.period,n=e.xData,r=e.yData,l=r?r.length:0,p=1,u=0,c=0,h=[],d=[],m=[];if(i=[[n[0],r[0]]],!(n.length<=s)&&S(r[0])&&4===r[0].length){for(o=1;o<=l;o++)D=i,x=r,0,A=n[b=o],j=x[b],D.push([A,j]),s<p?(y=r,g=s,v=u,u=(a=[n[(f=o)-1],(v*(g-1)+T(y[f-1],y[f-2]))/g])[1],h.push(a),d.push(a[0]),m.push(a[1])):(s===p?(u=c/(o-1),h.push([n[o-1],u]),d.push(n[o-1]),m.push(u)):c+=T(r[o-1],r[o-2]),p++);var y,f,g,v,D,x,b,A,j;return{values:h,xData:d,yData:m}}}})}),a(t,"indicators/bollinger-bands.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var x=t.isArray,o=e.merge,b=e.seriesTypes.sma;function A(e,t,a,o){for(var i,s=0,n=e.length,r=0;r<n;r++)s+=(i=(a?e[r][t]:e[r])-o)*i;return s/=n-1,Math.sqrt(s)}e.seriesType("bb","sma",{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}},e.merge(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"],init:function(){b.prototype.init.apply(this,arguments),this.options=o({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var a,o,i,s,n,r,l,p,u,c,h=t.period,d=t.standardDeviation,m=e.xData,y=e.yData,f=y?y.length:0,g=[],v=[],D=[];if(!(m.length<h)){for(p=x(y[0]),c=h;c<=f;c++)n=m.slice(c-h,c),r=y.slice(c-h,c),s=(u=b.prototype.getValues.call(this,{xData:n,yData:r},t)).xData[0],o=(a=u.yData[0])+d*(l=A(r,t.index,p,a)),i=a-d*l,g.push([s,o,a,i]),v.push(s),D.push([o,a,i]);return{values:g,xData:v,yData:D}}}}))}),a(t,"indicators/cci.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var v=t.isArray;function D(e,t){var a,o=e.length,i=0;for(a=0;a<o;a++)i+=Math.abs(t-e[a]);return i}(0,e.seriesType)("cci","sma",{params:{period:14}},{getValues:function(e,t){var a,o,i,s,n,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=1,y=[],f=[],g=[];if(!(p.length<=l)&&v(u[0])&&4===u[0].length){for(;m<l;)o=u[m-1],h.push((o[1]+o[2]+o[3])/3),m++;for(r=l;r<=c;r++)n=((o=u[r-1])[1]+o[2]+o[3])/3,i=h.push(n),d=h.slice(i-l),a=(n-(s=d.reduce(function(e,t){return e+t},0)/l))/(.015*(D(d,s)/l)),y.push([p[r-1],a]),f.push(p[r-1]),g.push(a);return{values:y,xData:f,yData:g}}}})}),a(t,"indicators/cmf.src.js",[t["parts/Globals.js"]],function(e){e.seriesType("cmf","sma",{params:{period:14,volumeSeriesID:"volume"}},{nameBase:"Chaikin Money Flow",isValid:function(){var e=this.chart,t=this.options,a=this.linkedParent,o=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),i=a&&a.yData&&4===a.yData[0].length;function s(e){return e.xData&&e.xData.length>=t.params.period}return!!(a&&o&&s(a)&&s(o)&&i)},getValues:function(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)},getMoneyFlow:function(e,t,a,o){var l,i,s=t.length,n=[],r=0,p=0,u=[],c=[],h=[],d=-1;function m(e,t){var a,o,i,s=e[1],n=e[2],r=e[3];return null!==t&&null!==s&&null!==n&&null!==r&&s!==n?((i=r)-(o=n)-((a=s)-i))/(a-o)*t:(d=l,null)}if(0<o&&o<=s){for(l=0;l<o;l++)n[l]=m(t[l],a[l]),r+=a[l],p+=n[l];for(u.push(e[l-1]),c.push(o<=l-d&&0!==r?p/r:null),h.push([u[0],c[0]]);l<s;l++)n[l]=m(t[l],a[l]),r-=a[l-o],r+=a[l],p-=n[l-o],p+=n[l],i=[e[l],o<=l-d?p/r:null],u.push(i[0]),c.push(i[1]),h.push([i[0],i[1]])}return{values:h,xData:u,yData:c}}})}),a(t,"indicators/dpo.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var n=t.correctFloat,f=t.pick;function g(e,t,a,o,i){var s=f(t[a][o],t[a]);return n(i?e-s:e+s)}e.seriesType("dpo","sma",{params:{period:21}},{nameBase:"DPO",getValues:function(e,t){var a,o,i,s,n=t.period,r=t.index,l=n+Math.floor(n/2+1),p=e.xData||[],u=e.yData||[],c=u.length,h=[],d=[],m=[],y=0;if(!(p.length<=l)){for(i=0;i<n-1;i++)y=g(y,u,i,r);for(s=0;s<=c-l;s++)o=s+l-1,y=g(y,u,s+n-1,r),a=f(u[o][r],u[o])-y/n,y=g(y,u,s,r,!0),h.push([p[o],a]),d.push(p[o]),m.push(a);return{values:h,xData:d,yData:m}}}})}),a(t,"indicators/ema.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var p=t.correctFloat,y=t.isArray;(0,e.seriesType)("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(e,t,a){for(var o=0,i=0;i<e;)o+=t<0?a[i]:a[i][t],i++;return o},calculateEma:function(e,t,a,o,i,s,n){var r=e[a-1],l=s<0?t[a-1]:t[a-1][s];return[r,void 0===i?n:p(l*o+i*(1-o))]},getValues:function(e,t){var a,o,i,s,n=t.period,r=e.xData,l=e.yData,p=l?l.length:0,u=2/(n+1),c=[],h=[],d=[],m=-1;if(!(p<n)){for(y(l[0])&&(m=t.index?t.index:0),a=this.accumulatePeriodPoints(n,m,l)/n,s=n;s<p+1;s++)i=this.calculateEma(r,l,s,u,o,m,a),c.push(i),h.push(i[0]),d.push(i[1]),o=i[1];return{values:c,xData:h,yData:d}}}})}),a(t,"indicators/chaikin.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var d=t.correctFloat,m=e.seriesTypes.ema,y=e.seriesTypes.ad,f=e.error,o=a;e.seriesType("chaikin","ema",{params:{volumeSeriesID:"volume",periods:[3,10]}},{nameBase:"Chaikin Osc",nameComponents:["periods"],init:function(){var t=arguments,a=this;o.isParentLoaded(m,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,o,i,s,n,r,l=t.periods,p=t.period,u=[],c=[],h=[];if(2!==l.length||l[1]<=l[0])f('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((a=y.prototype.getValues.call(this,e,{volumeSeriesID:t.volumeSeriesID,period:p}))&&(i=m.prototype.getValues.call(this,a,{period:l[0]}),s=m.prototype.getValues.call(this,a,{period:l[1]}),i&&s)){for(o=l[1]-l[0],r=0;r<s.yData.length;r++)n=d(i.yData[r+o]-s.yData[r]),u.push([s.xData[r],n]),c.push(s.xData[r]),h.push(n);return{values:u,xData:c,yData:h}}}})}),a(t,"indicators/dema.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var x=t.correctFloat,b=t.isArray,A=e.seriesTypes.ema,o=a;e.seriesType("dema","ema",{},{init:function(){var t=arguments,a=this;o.isParentLoaded(A,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getEMA:function(e,t,a,o,i,s){return A.prototype.calculateEma(s||[],e,void 0===i?1:i,this.chart.series[0].EMApercent,t,void 0===o?-1:o,a)},getValues:function(e,t){var a,o,i,s,n,r=t.period,l=2*r,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,m=0,y=[],f=[],g=[],v=0,D=[];if(e.EMApercent=2/(r+1),!(c<2*r-1)){for(b(u[0])&&(h=t.index?t.index:0),m=(d=A.prototype.accumulatePeriodPoints(r,h,u))/r,d=0,s=r;s<c+2;s++)s<c+1&&(v=this.getEMA(u,o,m,h,s)[1],D.push(v)),o=v,s<l?d+=v:(s===l&&(m=d/r),v=D[s-r-1],a=this.getEMA([v],i,m)[1],n=[p[s-2],x(2*v-a)],y.push(n),f.push(n[0]),g.push(n[1]),i=a);return{values:y,xData:f,yData:g}}}})}),a(t,"indicators/tema.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var i=t.correctFloat,b=t.isArray,A=e.seriesTypes.ema,o=a;e.seriesType("tema","ema",{},{init:function(){var t=arguments,a=this;o.isParentLoaded(A,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getEMA:function(e,t,a,o,i,s){return A.prototype.calculateEma(s||[],e,void 0===i?1:i,this.chart.series[0].EMApercent,t,void 0===o?-1:o,a)},getTemaPoint:function(e,t,a,o){return[e[o-3],i(3*a.level1-3*a.level2+a.level3)]},getValues:function(e,t){var a,o,i,s,n=t.period,r=2*n,l=3*n,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,m=0,y=[],f=[],g=[],v=[],D=[],x={};if(e.EMApercent=2/(n+1),!(c<3*n-2)){for(b(u[0])&&(h=t.index?t.index:0),m=(d=A.prototype.accumulatePeriodPoints(n,h,u))/n,d=0,i=n;i<c+3;i++)i<c+1&&(x.level1=this.getEMA(u,a,m,h,i)[1],v.push(x.level1)),a=x.level1,i<r?d+=x.level1:(i===r&&(m=d/n,d=0),x.level1=v[i-n-1],x.level2=this.getEMA([x.level1],o,m)[1],D.push(x.level2),o=x.level2,i<l?d+=x.level2:(i===l&&(m=d/n),i===c+1&&(x.level1=v[i-n-1],x.level2=this.getEMA([x.level1],o,m)[1],D.push(x.level2)),x.level1=v[i-n-2],x.level2=D[i-2*n-1],x.level3=this.getEMA([x.level2],x.prevLevel3,m)[1],(s=this.getTemaPoint(p,l,x,i))&&(y.push(s),f.push(s[0]),g.push(s[1])),x.prevLevel3=x.level3));return{values:y,xData:f,yData:g}}}})}),a(t,"indicators/trix.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,o){var s=t.correctFloat,i=e.seriesTypes.tema;e.seriesType("trix","tema",{},{init:function(){var t=arguments,a=this;o.isParentLoaded(i,"tema",a.type,function(e){e.prototype.init.apply(a,t)})},getTemaPoint:function(e,t,a,o){if(t<o)var i=[e[o-3],0!==a.prevLevel3?s(a.level3-a.prevLevel3)/a.prevLevel3*100:null];return i}})}),a(t,"indicators/apo.src.js",[t["parts/Globals.js"],t["mixins/indicator-required.js"]],function(e,t){var h=e.seriesTypes.ema,d=e.error,o=t;e.seriesType("apo","ema",{params:{periods:[10,20]}},{nameBase:"APO",nameComponents:["periods"],init:function(){var t=arguments,a=this;o.isParentLoaded(h,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,o,i,s,n,r=t.periods,l=t.index,p=[],u=[],c=[];if(2!==r.length||r[1]<=r[0])d('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else if(o=h.prototype.getValues.call(this,e,{index:l,period:r[0]}),i=h.prototype.getValues.call(this,e,{index:l,period:r[1]}),o&&i){for(a=r[1]-r[0],n=0;n<i.yData.length;n++)s=o.yData[n+a]-i.yData[n],p.push([i.xData[n],s]),u.push(i.xData[n]),c.push(s);return{values:p,xData:u,yData:c}}}})}),a(t,"indicators/ichimoku-kinko-hyo.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(i,e){var L,w=e.defined,k=e.isArray,B=e.objectEach,t=i.seriesType,N=i.merge,a=i.color,I=i.seriesTypes.sma;function V(e){return{high:e.reduce(function(e,t){return Math.max(e,t[1])},-1/0),low:e.reduce(function(e,t){return Math.min(e,t[2])},1/0)}}function U(e,t,a,o){if(e&&t&&a&&o){var i,s,n=t.plotX-e.plotX,r=t.plotY-e.plotY,l=o.plotX-a.plotX,p=o.plotY-a.plotY,u=e.plotX-a.plotX,c=e.plotY-a.plotY;if(s=(l*c-p*u)/(-l*r+n*p),0<=(i=(-r*u+n*c)/(-l*r+n*p))&&i<=1&&0<=s&&s<=1)return{plotX:e.plotX+s*n,plotY:e.plotY+s*r}}return!1}function z(e){var t=e.indicator;t.points=e.points,t.nextPoints=e.nextPoints,t.color=e.color,t.options=N(e.options.senkouSpan.styles,e.gap),t.graph=e.graph,t.fillGraph=!0,I.prototype.drawGraph.call(t)}t("ikh","sma",{params:{period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!(i.approximations["ichimoku-averages"]=function(){var a,o=[];return[].forEach.call(arguments,function(e,t){o.push(i.approximations.average(e)),a=!a&&void 0===o[t]}),a?void 0:o})},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}},{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"],init:function(){I.prototype.init.apply(this,arguments),this.options=N({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:a(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:a(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:a(this.color).setOpacity(.2).get()}}},this.options)},toYData:function(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]},translate:function(){var a=this;I.prototype.translate.apply(a),a.points.forEach(function(t){a.pointArrayMap.forEach(function(e){w(t[e])&&(t["plot"+e]=a.yAxis.toPixels(t[e],!0),t.plotY=t["plot"+e],t.tooltipPos=[t.plotX,t["plot"+e]],t.isNull=!1)})})},drawGraph:function(){var e,t,a,o,i,s,n,r,l,p,u,c,h,d=this,m=d.points,y=m.length,f=d.options,g=d.graph,v=d.color,D={options:{gapSize:f.gapSize}},x=d.pointArrayMap.length,b=[[],[],[],[],[],[]],A={tenkanLine:b[0],kijunLine:b[1],chikouLine:b[2],senkouSpanA:b[3],senkouSpanB:b[4],senkouSpan:b[5]},j=[],S=d.options.senkouSpan,T=S.color||S.styles.fill,P=S.negativeColor,C=[[],[]],L=[[],[]],k=0;for(d.ikhMap=A;y--;){for(t=m[y],a=0;a<x;a++)e=d.pointArrayMap[a],w(t[e])&&b[a].push({plotX:t.plotX,plotY:t["plot"+e],isNull:!1});if(P&&y!==m.length-1){var V=A.senkouSpanB.length-1,M=U(A.senkouSpanA[V-1],A.senkouSpanA[V],A.senkouSpanB[V-1],A.senkouSpanB[V]),G={plotX:M.plotX,plotY:M.plotY,isNull:!1,intersectPoint:!0};M&&(A.senkouSpanA.splice(V,0,G),A.senkouSpanB.splice(V,0,G),j.push(V))}}if(B(A,function(e,t){f[t]&&"senkouSpan"!==t&&(d.points=b[k],d.options=N(f[t].styles,D),d.graph=d["graph"+t],d.fillGraph=!1,d.color=v,I.prototype.drawGraph.call(d),d["graph"+t]=d.graph),k++}),d.graphCollection&&d.graphCollection.forEach(function(e){d[e].destroy(),delete d[e]}),d.graphCollection=[],P&&A.senkouSpanA[0]&&A.senkouSpanB[0]){for(j.unshift(0),j.push(A.senkouSpanA.length-1),c=0;c<j.length-1;c++)if(o=j[c],i=j[c+1],s=A.senkouSpanB.slice(o,i+1),n=A.senkouSpanA.slice(o,i+1),1<=Math.floor(s.length/2)){var E=Math.floor(s.length/2);if(s[E].plotY===n[E].plotY){for(h=l=r=0;h<s.length;h++)r+=s[h].plotY,l+=n[h].plotY;C[u=l<r?0:1]=C[u].concat(s),L[u]=L[u].concat(n)}else u=s[E].plotY>n[E].plotY?0:1,C[u]=C[u].concat(s),L[u]=L[u].concat(n)}else u=s[0].plotY>n[0].plotY?0:1,C[u]=C[u].concat(s),L[u]=L[u].concat(n);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(e,t){C[t].length&&L[t].length&&(p=0===t?T:P,z({indicator:d,points:C[t],nextPoints:L[t],color:p,options:f,gap:D,graph:d[e]}),d[e]=d.graph,d.graphCollection.push(e))})}else z({indicator:d,points:A.senkouSpanB,nextPoints:A.senkouSpanA,color:T,options:f,gap:D,graph:d.graphsenkouSpan}),d.graphsenkouSpan=d.graph;delete d.nextPoints,delete d.fillGraph,d.points=m,d.options=f,d.graph=g},getGraphPath:function(e){var t,a=this,o=[],i=[],s=[];if(e=e||this.points,a.fillGraph&&a.nextPoints){(t=I.prototype.getGraphPath.call(a,a.nextPoints))[0]="L",o=I.prototype.getGraphPath.call(a,e);for(var n=(s=t.slice(0,o.length)).length-1;0<n;n-=3)i.push(s[n-2],s[n-1],s[n]);o=o.concat(i)}else o=I.prototype.getGraphPath.apply(a,arguments);return o},getValues:function(e,t){var a,o,i,s,n,r,l,p,u,c,h,d,m,y,f,g,v=t.period,D=t.periodTenkan,x=t.periodSenkouSpanB,b=e.xData,A=e.yData,j=e.xAxis,S=A&&A.length||0,T=(j.series.forEach(function(e){if(e.xData)for(f=e.xData,m=e.xIncrement?1:f.length-1,g=m;0<g;g--)y=f[g]-f[g-1],(d===L||y<d)&&(d=y)}),d),P=[],C=[];if(!(b.length<=v)&&k(A[0])&&4===A[0].length){for(a=b[0]-v*T,r=0;r<v;r++)C.push(a+r*T);for(r=0;r<S;r++)D<=r&&(l=((i=V(A.slice(r-D,r))).high+i.low)/2),v<=r&&(c=(l+(p=((s=V(A.slice(r-v,r))).high+s.low)/2))/2),x<=r&&(h=((n=V(A.slice(r-x,r))).high+n.low)/2),u=A[r][3],o=b[r],P[r]===L&&(P[r]=[]),P[r+v]===L&&(P[r+v]=[]),P[r+v][0]=l,P[r+v][1]=p,P[r+v][2]=L,P[r][2]=u,r<=v&&(P[r+v][3]=L,P[r+v][4]=L),P[r+2*v]===L&&(P[r+2*v]=[]),P[r+2*v][3]=c,P[r+2*v][4]=h,C.push(o);for(r=1;r<=v;r++)C.push(o+r*T);return{values:P,xData:C,yData:P}}}})}),a(t,"indicators/keltner-channels.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var x=t.correctFloat,o=e.seriesTypes.sma,b=e.seriesTypes.ema,A=e.seriesTypes.atr,i=e.merge;e.seriesType("keltnerchannels","sma",{params:{period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1},i(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Keltner Channels",nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],requiredIndicators:["ema","atr"],init:function(){o.prototype.init.apply(this,arguments),this.options=i({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var a,o,i,s,n,r,l,p=t.period,u=t.periodATR,c=t.multiplierATR,h=t.index,d=e.yData,m=d?d.length:0,y=[],f=b.prototype.getValues(e,{period:p,index:h}),g=A.prototype.getValues(e,{period:u}),v=[],D=[];if(!(m<p)){for(l=p;l<=m;l++)n=f.values[l-p],r=g.values[l-u],s=n[0],o=x(n[1]+c*r[1]),i=x(n[1]-c*r[1]),a=n[1],y.push([s,o,a,i]),v.push(s),D.push([o,a,i]);return{values:y,xData:v,yData:D}}}}))}),a(t,"indicators/macd.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var u=t.correctFloat,c=t.defined,a=e.seriesType,o=e.noop,l=e.merge,p=e.seriesTypes.sma,h=e.seriesTypes.ema;a("macd","sma",{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0},{nameComponents:["longPeriod","shortPeriod","signalPeriod"],requiredIndicators:["ema"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:o,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,init:function(){p.prototype.init.apply(this,arguments),this.options&&(this.options=l({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},toYData:function(e){return[e.y,e.signal,e.MACD]},translate:function(){var o=this,i=["plotSignal","plotMACD"];e.seriesTypes.column.prototype.translate.apply(o),o.points.forEach(function(a){[a.signal,a.MACD].forEach(function(e,t){null!==e&&(a[i[t]]=o.yAxis.toPixels(e,!0))})})},destroy:function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),p.prototype.destroy.apply(this,arguments)},drawPoints:e.seriesTypes.column.prototype.drawPoints,drawGraph:function(){for(var e,a=this,t=a.points,o=t.length,i=a.options,s=a.zones,n={options:{gapSize:i.gapSize}},r=[[],[]];o--;)e=t[o],c(e.plotMACD)&&r[0].push({plotX:e.plotX,plotY:e.plotMACD,isNull:!c(e.plotMACD)}),c(e.plotSignal)&&r[1].push({plotX:e.plotX,plotY:e.plotSignal,isNull:!c(e.plotMACD)});["macd","signal"].forEach(function(e,t){a.points=r[t],a.options=l(i[e+"Line"].styles,n),a.graph=a["graph"+e],a.currentLineZone=e+"Zones",a.zones=a[a.currentLineZone].zones,p.prototype.drawGraph.call(a),a["graph"+e]=a.graph}),a.points=t,a.options=i,a.zones=s,a.currentLineZone=null},getZonesGraphs:function(e){var t=p.prototype.getZonesGraphs.call(this,e),a=t;return this.currentLineZone&&((a=t.splice(this[this.currentLineZone].startIndex+1)).length?a.splice(0,0,e[0]):a=[e[0]]),a},applyZones:function(){var e=this.zones;this.zones=this.signalZones.zones,p.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e},getValues:function(e,t){var a,o,i,s=0,n=[],r=[],l=[],p=[];if(!(e.xData.length<t.longPeriod+t.signalPeriod)){for(a=h.prototype.getValues(e,{period:t.shortPeriod}),o=h.prototype.getValues(e,{period:t.longPeriod}),a=a.values,o=o.values,i=1;i<=a.length;i++)c(o[i-1])&&c(o[i-1][1])&&c(a[i+t.shortPeriod+1])&&c(a[i+t.shortPeriod+1][0])&&n.push([a[i+t.shortPeriod+1][0],0,null,a[i+t.shortPeriod+1][1]-o[i-1][1]]);for(i=0;i<n.length;i++)r.push(n[i][0]),l.push([0,null,n[i][3]]);for(p=(p=h.prototype.getValues({xData:r,yData:l},{period:t.signalPeriod,index:2})).values,i=0;i<n.length;i++)n[i][0]>=p[0][0]&&(n[i][2]=p[s][1],l[i]=[0,p[s][1],n[i][3]],null===n[i][3]?(n[i][1]=0,l[i][0]=0):(n[i][1]=u(n[i][3]-p[s][1]),l[i][0]=u(n[i][3]-p[s][1])),s++);return{values:n,xData:r,yData:l}}}})}),a(t,"indicators/mfi.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(A,e){var j=e.isArray;function S(e){return e.reduce(function(e,t){return e+t})}function T(e){return(e[1]+e[2]+e[3])/3}function P(e,t){return e*t}A.seriesType("mfi","sma",{params:{period:14,volumeSeriesID:"volume",decimals:4}},{nameBase:"Money Flow Index",getValues:function(e,t){var a,o,i,s,n,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=t.decimals,d=1,m=e.chart.get(t.volumeSeriesID),y=m&&m.yData,f=[],g=!1,v=[],D=[],x=[],b=[];if(m){if(!(p.length<=l)&&j(u[0])&&4===u[0].length&&y){for(a=T(u[d]);d<l+1;)g=a<=(a=T(u[d])),o=P(a,y[d]),x.push(g?o:0),b.push(g?0:o),d++;for(r=d-1;r<c;r++)d-1<r&&(x.shift(),b.shift(),g=a<(a=T(u[r])),o=P(a,y[r]),x.push(g?o:0),b.push(g?0:o)),i=S(b),s=S(x),n=parseFloat((100-100/(1+s/i)).toFixed(h)),f.push([p[r],n]),v.push(p[r]),D.push(n);return{values:f,xData:v,yData:D}}}else A.error("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}})}),a(t,"indicators/momentum.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var d=t.isArray;function m(e,t,a,o,i){var s=a[o-1][3]-a[o-i-1][3],n=t[o-1];return e.shift(),[n,s]}(0,e.seriesType)("momentum","sma",{params:{period:14}},{nameBase:"Momentum",getValues:function(e,t){var a,o,i,s=t.period,n=e.xData,r=e.yData,l=r?r.length:0,p=n[0],u=(r[0],[]),c=[],h=[];if(!(n.length<=s)&&d(r[0])){for(o=[[p,r[0][3]]],a=s+1;a<l;a++)i=m(o,n,r,a,s),u.push(i),c.push(i[0]),h.push(i[1]);return i=m(o,n,r,a,s),u.push(i),c.push(i[0]),h.push(i[1]),{values:u,xData:c,yData:h}}}})}),a(t,"indicators/natr.src.js",[t["parts/Globals.js"]],function(e){var r=e.seriesTypes.atr;e.seriesType("natr","sma",{tooltip:{valueSuffix:"%"}},{requiredIndicators:["atr"],getValues:function(e,t){var a=r.prototype.getValues.apply(this,arguments),o=a.values.length,i=t.period-1,s=e.yData,n=0;if(a){for(;n<o;n++)a.yData[n]=a.values[n][1]/s[i][3]*100,a.values[n][1]=a.yData[n],i++;return a}}})}),a(t,"indicators/pivot-points.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var u=t.defined,g=t.isArray,c=e.seriesTypes.sma;function a(e,t){var a,o=e.series.pointArrayMap,i=o.length;for(c.prototype.pointClass.prototype[t].call(e);i--;)e[a="dataLabel"+o[i]]&&e[a].element&&e[a].destroy(),e[a]=null}e.seriesType("pivotpoints","sma",{params:{period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}},{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",toYData:function(e){return[e.P]},translate:function(){var a=this;c.prototype.translate.apply(a),a.points.forEach(function(t){a.pointArrayMap.forEach(function(e){u(t[e])&&(t["plot"+e]=a.yAxis.toPixels(t[e],!0))})}),a.plotEndPoint=a.xAxis.toPixels(a.endPoint,!0)},getGraphPath:function(e){for(var t,a,o,i=this,s=e.length,n=[[],[],[],[],[],[],[],[],[]],r=[],l=i.plotEndPoint,p=i.pointArrayMap.length;s--;){for(a=e[s],o=0;o<p;o++)t=i.pointArrayMap[o],u(a[t])&&n[o].push({plotX:a.plotX,plotY:a["plot"+t],isNull:!1},{plotX:l,plotY:a["plot"+t],isNull:!1},{plotX:l,plotY:null,isNull:!0});l=a.plotX}return n.forEach(function(e){r=r.concat(c.prototype.getGraphPath.call(i,e))}),r},drawDataLabels:function(){var a,o,i,s,n=this,r=n.pointArrayMap;n.options.dataLabels.enabled&&(o=n.points.length,r.concat([!1]).forEach(function(e,t){for(s=o;s--;)i=n.points[s],e?(i.y=i[e],i.pivotLine=e,i.plotY=i["plot"+e],a=i["dataLabel"+e],t&&(i["dataLabel"+r[t-1]]=i.dataLabel),i.dataLabels||(i.dataLabels=[]),i.dataLabels[0]=i.dataLabel=a=a&&a.element?a:null):i["dataLabel"+r[t-1]]=i.dataLabel;c.prototype.drawDataLabels.apply(n,arguments)}))},getValues:function(e,t){var a,o,i,s,n,r,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=this[t.algorithm+"Placement"],m=[],y=[],f=[];if(!(u.length<p)&&g(c[0])&&4===c[0].length){for(l=p+1;l<=h+p;l+=p)i=u.slice(l-p-1,l),s=c.slice(l-p-1,l),a=i[(o=i.length)-1],r=d(this.getPivotAndHLC(s)),n=m.push([a].concat(r)),y.push(a),f.push(m[n-1].slice(1));return this.endPoint=i[0]+(a-i[0])/o*p,{values:m,xData:y,yData:f}}},getPivotAndHLC:function(e){var t=-1/0,a=1/0,o=e[e.length-1][3];return e.forEach(function(e){t=Math.max(t,e[1]),a=Math.min(a,e[2])}),[(t+a+o)/3,t,a,o]},standardPlacement:function(e){var t=e[1]-e[2];return[null,null,e[0]+t,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-t,null,null]},camarillaPlacement:function(e){var t=e[1]-e[2];return[e[3]+1.5*t,e[3]+1.25*t,e[3]+1.1666*t,e[3]+1.0833*t,e[0],e[3]-1.0833*t,e[3]-1.1666*t,e[3]-1.25*t,e[3]-1.5*t]},fibonacciPlacement:function(e){var t=e[1]-e[2];return[null,e[0]+t,e[0]+.618*t,e[0]+.382*t,e[0],e[0]-.382*t,e[0]-.618*t,e[0]-t,null]}},{destroyElements:function(){a(this,"destroyElements")},destroy:function(){a(this,"destroyElements")}})}),a(t,"indicators/ppo.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var h=t.correctFloat,d=e.seriesTypes.ema,m=e.error,o=a;e.seriesType("ppo","ema",{params:{periods:[12,26]}},{nameBase:"PPO",nameComponents:["periods"],init:function(){var t=arguments,a=this;o.isParentLoaded(d,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,o,i,s,n,r=t.periods,l=t.index,p=[],u=[],c=[];if(2!==r.length||r[1]<=r[0])m('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else if(o=d.prototype.getValues.call(this,e,{index:l,period:r[0]}),i=d.prototype.getValues.call(this,e,{index:l,period:r[1]}),o&&i){for(a=r[1]-r[0],n=0;n<i.yData.length;n++)s=h((o.yData[n+a]-i.yData[n])/i.yData[n]*100),p.push([i.xData[n],s]),u.push(i.xData[n]),c.push(s);return{values:p,xData:u,yData:c}}}})}),a(t,"mixins/reduce-array.js",[t["parts/Globals.js"]],function(e){var t=e.reduce;return{minInArray:function(e,a){return t(e,function(e,t){return Math.min(e,t[a])},Number.MAX_VALUE)},maxInArray:function(e,a){return t(e,function(e,t){return Math.max(e,t[a])},-Number.MAX_VALUE)},getArrayExtremes:function(e,a,o){return t(e,function(e,t){return[Math.min(e[0],t[a]),Math.max(e[1],t[o])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),a(t,"indicators/price-channel.src.js",[t["parts/Globals.js"],t["mixins/reduce-array.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var f=t.getArrayExtremes,o=e.merge;e.seriesType("pc","sma",{params:{period:20},lineWidth:1,topLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[2],lineWidth:1}},bottomLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[8],lineWidth:1}},dataGrouping:{approximation:"averages"}},o(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var a,o,i,s,n,r,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=[],m=[],y=[];if(!(h<p)){for(l=p;l<=h;l++)s=u[l-1],n=c.slice(l-p,l),a=((o=(r=f(n,2,1))[1])+(i=r[0]))/2,d.push([s,o,a,i]),m.push(s),y.push([o,a,i]);return{values:d,xData:m,yData:y}}}}))}),a(t,"indicators/price-envelopes.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var D=t.isArray,l=e.merge,x=e.seriesTypes.sma;e.seriesType("priceenvelopes","sma",{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle",init:function(){x.prototype.init.apply(this,arguments),this.options=l({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},toYData:function(e){return[e.top,e.middle,e.bottom]},translate:function(){var o=this,i=["plotTop","plotMiddle","plotBottom"];x.prototype.translate.apply(o),o.points.forEach(function(a){[a.top,a.middle,a.bottom].forEach(function(e,t){null!==e&&(a[i[t]]=o.yAxis.toPixels(e,!0))})})},drawGraph:function(){for(var e,a=this,t=a.points,o=t.length,i=a.options,s=a.graph,n={options:{gapSize:i.gapSize}},r=[[],[]];o--;)e=t[o],r[0].push({plotX:e.plotX,plotY:e.plotTop,isNull:e.isNull}),r[1].push({plotX:e.plotX,plotY:e.plotBottom,isNull:e.isNull});["topLine","bottomLine"].forEach(function(e,t){a.points=r[t],a.options=l(i[e].styles,n),a.graph=a["graph"+e],x.prototype.drawGraph.call(a),a["graph"+e]=a.graph}),a.points=t,a.options=i,a.graph=s,x.prototype.drawGraph.call(a)},getValues:function(e,t){var a,o,i,s,n,r,l,p,u=t.period,c=t.topBand,h=t.bottomBand,d=e.xData,m=e.yData,y=m?m.length:0,f=[],g=[],v=[];if(!(d.length<u)&&D(m[0])&&4===m[0].length){for(p=u;p<=y;p++)n=d.slice(p-u,p),r=m.slice(p-u,p),s=(l=x.prototype.getValues.call(this,{xData:n,yData:r},t)).xData[0],o=(a=l.yData[0])*(1+c),i=a*(1-h),f.push([s,o,a,i]),g.push(s),v.push([o,a,i]);return{values:f,xData:g,yData:v}}}})}),a(t,"indicators/psar.src.js",[t["parts/Globals.js"]],function(e){function _(e,t){return parseFloat(e.toFixed(t))}function J(e,t){return e-t}function Q(e,t){return e*t}e.seriesType("psar","sma",{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}},{nameComponents:!1,getValues:function(e,t){var a,o,i,s,n,r,l,p,u,c,h,d,m=e.xData,y=e.yData,f=y[0][1],g=t.initialAccelerationFactor,v=t.maxAccelerationFactor,D=t.increment,x=t.initialAccelerationFactor,b=y[0][2],A=t.decimals,j=t.index,S=[],T=[],P=[],C=1;if(!(j>=y.length)){for(d=0;d<j;d++)f=Math.max(y[d][1],f),b=Math.min(y[d][2],_(b,A));for(a=y[d][1]>b?1:-1,o=J(f,b),i=Q(g=t.initialAccelerationFactor,o),S.push([m[j],b]),T.push(m[j]),P.push(_(b,A)),d=j+1;d<y.length;d++)n=y[d-1][2],r=y[d-2][2],l=y[d-1][1],p=y[d-2][1],c=y[d][1],h=y[d][2],null!==r&&null!==p&&null!==n&&null!==l&&null!==c&&null!==h&&(F=b,O=i,Z=r,q=n,R=l,K=p,H=f,b=(X=a)===C?1===X?F+O<Math.min(Z,q)?F+O:Math.min(Z,q):F+O>Math.max(K,R)?F+O:Math.max(K,R):H,W=f,N=Y=h,I=z=c,U=b,k=u=1===a?W<z?z:W:Y<W?Y:W,V=f,M=g,G=D,E=v,w=x,i=Q(g=(L=s=1===(B=C)&&U<N||-1===B&&U<I?1:-1)===a?1===L&&V<k||-1===L&&k<V?M===E?E:_(M+G,2):M:w,o=J(u,b)),S.push([m[d],_(b,A)]),T.push(m[d]),P.push(_(b,A)),C=a,a=s,f=u);var L,k,V,M,G,E,w,B,N,I,U,z,Y,W,X,F,O,Z,q,R,K,H;return{values:S,xData:T,yData:P}}}})}),a(t,"indicators/roc.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var D=t.isArray;(0,e.seriesType)("roc","sma",{params:{index:3,period:9}},{nameBase:"Rate of Change",getValues:function(e,t){var a,o,i=t.period,s=e.xData,n=e.yData,r=n?n.length:0,l=[],p=[],u=[],c=-1;if(!(s.length<=i)){for(D(n[0])&&(c=t.index),a=i;a<r;a++)h=s,d=n,m=a,y=i,v=g=void 0,v=(f=c)<0?(g=d[m-y])?(d[m]-g)/g*100:null:(g=d[m-y][f])?(d[m][f]-g)/g*100:null,o=[h[m],v],l.push(o),p.push(o[0]),u.push(o[1]);var h,d,m,y,f,g,v;return{values:l,xData:p,yData:u}}}})}),a(t,"indicators/rsi.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var v=t.isArray;function D(e,t){return parseFloat(e.toFixed(t))}e.seriesType("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(e,t){var a,o,i,s,n,r=t.period,l=e.xData,p=e.yData,u=p?p.length:0,c=t.decimals,h=1,d=[],m=[],y=[],f=0,g=0;if(!(l.length<r)&&v(p[0])&&4===p[0].length){for(;h<r;)0<(o=D(p[h][3]-p[h-1][3],c))?f+=o:g+=Math.abs(o),h++;for(i=D(f/(r-1),c),s=D(g/(r-1),c),n=h;n<u;n++)g=0<(o=D(p[n][3]-p[n-1][3],c))?(f=o,0):(f=0,Math.abs(o)),i=D((i*(r-1)+f)/r,c),a=0===(s=D((s*(r-1)+g)/r,c))?100:0===i?0:D(100-100/(1+i/s),c),d.push([l[n],a]),m.push(l[n]),y.push(a);return{values:d,xData:m,yData:y}}}})}),a(t,"indicators/stochastic.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/reduce-array.js"],t["mixins/multipe-lines.js"]],function(e,t,a,o){var f=t.isArray,i=e.merge,g=e.seriesTypes.sma,v=a.getArrayExtremes;e.seriesType("stochastic","sma",{params:{periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},e.merge(o,{nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"],init:function(){g.prototype.init.apply(this,arguments),this.options=i({smoothedLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var a,o,i,s,n,r=t.periods[0],l=t.periods[1],p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=[],y=null;if(!(c<r)&&f(u[0])&&4===u[0].length){for(n=r-1;n<c;n++)a=u.slice(n-r+1,n+1),o=(s=v(a,2,1))[0],i=(u[n][3]-o)/(s[1]-o)*100,d.push(p[n]),m.push([i,null]),r-1+(l-1)<=n&&(y=g.prototype.getValues.call(this,{xData:d.slice(-l),yData:m.slice(-l)},{period:l}).yData[0]),h.push([p[n],i,y]),m[m.length-1][1]=y;return{values:h,xData:d,yData:m}}}}))}),a(t,"indicators/slow-stochastic.src.js",[t["parts/Globals.js"],t["mixins/indicator-required.js"]],function(e,o){var p=e.seriesTypes;e.seriesType("slowstochastic","stochastic",{params:{periods:[14,3,3]}},{nameBase:"Slow Stochastic",init:function(){var t=arguments,a=this;o.isParentLoaded(e.seriesTypes.stochastic,"stochastic",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a=t.periods,o=p.stochastic.prototype.getValues.call(this,e,t),i={values:[],xData:[],yData:[]},s=0;if(o){i.xData=o.xData.slice(a[1]-1);var n=o.yData.slice(a[1]-1),r=p.sma.prototype.getValues.call(this,{xData:i.xData,yData:n},{index:1,period:a[2]});if(r){for(var l=i.xData.length;s<l;s++)i.yData[s]=[n[s][1],r.yData[s-a[2]+1]||null],i.values[s]=[i.xData[s],n[s][1],r.yData[s-a[2]+1]||null];return i}}}})}),a(t,"indicators/supertrend.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var A=t.correctFloat,j=t.isArray,b=t.objectEach,S=e.seriesTypes.atr,T=e.seriesTypes.sma,P=e.merge;function C(e,t,a){return{index:t,close:e.yData[t][a],x:e.xData[t]}}e.seriesType("supertrend","sma",{params:{multiplier:3,period:10},risingTrendColor:"#06B535",fallingTrendColor:"#F21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}},{nameBase:"Supertrend",nameComponents:["multiplier","period"],requiredIndicators:["atr"],init:function(){var e,t;T.prototype.init.apply(this,arguments),e=this.options,t=this.linkedParent.options,e.cropThreshold=t.cropThreshold-(e.params.period-1)},drawGraph:function(){for(var e,t,a,o,i,s,n,r,l,p=this,u=p.options,c=p.linkedParent,h=c?c.points:[],d=p.points,m=p.graph,y=d.length,f=h.length-y,g=0<f?f:0,v={options:{gapSize:u.gapSize}},D={top:[],bottom:[],intersect:[]},x={top:{styles:{lineWidth:u.lineWidth,lineColor:u.fallingTrendColor||u.color,dashStyle:u.dashStyle}},bottom:{styles:{lineWidth:u.lineWidth,lineColor:u.risingTrendColor||u.color,dashStyle:u.dashStyle}},intersect:u.changeTrendLine};y--;)e=d[y],t=d[y-1],a=h[y-1+g],o=h[y-2+g],i=h[y+g],s=h[y+g+1],n=e.options.color,r={x:e.x,plotX:e.plotX,plotY:e.plotY,isNull:!1},!o&&a&&c.yData[a.index-1]&&(o=C(c,a.index-1,3)),!s&&i&&c.yData[i.index+1]&&(s=C(c,i.index+1,3)),!a&&o&&c.yData[o.index+1]?a=C(c,o.index+1,3):!a&&i&&c.yData[i.index-1]&&(a=C(c,i.index-1,3)),e&&a&&i&&o&&e.x!==a.x&&(e.x===i.x?(o=a,a=i):e.x===o.x?(a=o,o={close:c.yData[a.index-1][3],x:c.xData[a.index-1]}):s&&e.x===s.x&&(a=s,o=i)),t&&o&&a?(l={x:t.x,plotX:t.plotX,plotY:t.plotY,isNull:!1},e.y>=a.close&&t.y>=o.close?(e.color=n||u.fallingTrendColor||u.color,D.top.push(r)):e.y<a.close&&t.y<o.close?(e.color=n||u.risingTrendColor||u.color,D.bottom.push(r)):(D.intersect.push(r),D.intersect.push(l),D.intersect.push(P(l,{isNull:!0})),e.y>=a.close&&t.y<o.close?(e.color=n||u.fallingTrendColor||u.color,t.color=n||u.risingTrendColor||u.color,D.top.push(r),D.top.push(P(l,{isNull:!0}))):e.y<a.close&&t.y>=o.close&&(e.color=n||u.risingTrendColor||u.color,t.color=n||u.fallingTrendColor||u.color,D.bottom.push(r),D.bottom.push(P(l,{isNull:!0}))))):a&&(e.y>=a.close?(e.color=n||u.fallingTrendColor||u.color,D.top.push(r)):(e.color=n||u.risingTrendColor||u.color,D.bottom.push(r)));b(D,function(e,t){p.points=e,p.options=P(x[t].styles,v),p.graph=p["graph"+t+"Line"],T.prototype.drawGraph.call(p),p["graph"+t+"Line"]=p.graph}),p.points=d,p.options=u,p.graph=m},getValues:function(e,t){var a,o,i,s,n,r,l,p,u,c,h=t.period,d=t.multiplier,m=e.xData,y=e.yData,f=[],g=[],v=[],D=0===h?0:h-1,x=[],b=[];if(!(m.length<=h||!j(y[0])||4!==y[0].length||h<0)){for(a=S.prototype.getValues.call(this,e,{period:h}).yData,c=0;c<a.length;c++)u=y[D+c],p=y[D+c-1]||[],n=x[c-1],r=b[c-1],l=v[c-1],0===c&&(n=r=l=0),o=A((u[1]+u[2])/2+d*a[c]),i=A((u[1]+u[2])/2-d*a[c]),x[c]=o<n||n<p[3]?o:n,b[c]=r<i||p[3]<r?i:r,l===n&&u[3]<x[c]||l===r&&u[3]<b[c]?s=x[c]:(l===n&&u[3]>x[c]||l===r&&u[3]>b[c])&&(s=b[c]),f.push([m[D+c],s]),g.push(m[D+c]),v.push(s);return{values:f,xData:g,yData:v}}}})}),a(t,"indicators/volume-by-price.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(c,e){var o=e.animObject,x=e.arrayMax,m=e.arrayMin,b=e.correctFloat,i=e.extend,h=e.isArray;var A=Math.abs,t=c.noop,s=c.addEvent,a=c.seriesType,j=c.seriesTypes.column.prototype;a("vbp","sma",{params:{ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}},{nameBase:"Volume by Price",bindTo:{series:!1,eventName:"afterSetExtremes"},calculateOn:"render",markerAttribs:t,drawGraph:t,getColumnMetrics:j.getColumnMetrics,crispCol:j.crispCol,init:function(e){var t,a,o,i=this;return c.seriesTypes.sma.prototype.init.apply(i,arguments),t=i.options.params,a=i.linkedParent,o=e.get(t.volumeSeriesID),i.addCustomEvents(a,o),i},addCustomEvents:function(e,t){var a=this;function o(){a.chart.redraw(),a.setData([]),a.zoneStarts=[],a.zoneLinesSVG&&(a.zoneLinesSVG.destroy(),delete a.zoneLinesSVG)}return a.dataEventsToUnbind.push(s(e,"remove",function(){o()})),t&&a.dataEventsToUnbind.push(s(t,"remove",function(){o()})),a},animate:function(e){var a=this,t={};c.svg&&!e&&(t.translateX=a.yAxis.pos,a.group.animate(t,i(o(a.options.animation),{step:function(e,t){a.group.attr({scaleX:Math.max(.001,t.pos)})}})),a.animate=null)},drawPoints:function(){var e=this;e.options.volumeDivision.enabled&&(e.posNegVolume(!0,!0),j.drawPoints.apply(e,arguments),e.posNegVolume(!1,!1)),j.drawPoints.apply(e,arguments)},posNegVolume:function(e,t){var a,o,i,s,n=this,r=t?["positive","negative"]:["negative","positive"],l=n.options.volumeDivision,p=n.points.length,u=[],c=[],h=0;for(e?(n.posWidths=u,n.negWidths=c):(u=n.posWidths,c=n.negWidths);h<p;h++)(s=n.points[h])[r[0]+"Graphic"]=s.graphic,s.graphic=s[r[1]+"Graphic"],e&&(a=s.shapeArgs.width,(i=(o=n.priceZones[h]).wholeVolumeData)?(u.push(a/i*o.positiveVolumeData),c.push(a/i*o.negativeVolumeData)):(u.push(0),c.push(0))),s.color=t?l.styles.positiveColor:l.styles.negativeColor,s.shapeArgs.width=t?n.posWidths[h]:n.negWidths[h],s.shapeArgs.x=t?s.shapeArgs.x:n.posWidths[h]},translate:function(){var e,t,a,o,i,s,n,r,l,p,u,c,h=this,d=h.options,m=h.chart,y=h.yAxis,f=y.min,g=h.options.zoneLines,v=h.priceZones,D=0;j.translate.apply(h),(e=h.points).length&&(l=d.pointPadding<.5?d.pointPadding:.1,t=h.volumeDataArray,a=x(t),o=m.plotWidth/2,p=m.plotTop,i=A(y.toPixels(f)-y.toPixels(f+h.rangeStep)),n=A(y.toPixels(f)-y.toPixels(f+h.rangeStep)),l&&(s=A(i*(1-2*l)),D=A((i-s)/2),i=A(s)),e.forEach(function(e,t){u=e.barX=e.plotX=0,c=e.plotY=y.toPixels(v[t].start)-p-(y.reversed?i-n:i)-D,r=b(o*v[t].wholeVolumeData/a),e.pointWidth=r,e.shapeArgs=h.crispCol.apply(h,[u,c,r,i]),e.volumeNeg=v[t].negativeVolumeData,e.volumePos=v[t].positiveVolumeData,e.volumeAll=v[t].wholeVolumeData}),g.enabled&&h.drawZones(m,y,h.zoneStarts,g.styles))},getValues:function(e,t){var a,o,i=e.processedXData,s=e.processedYData,n=this.chart,r=t.ranges,l=[],p=[],u=[];if(e.chart)if(o=n.get(t.volumeSeriesID)){if(!(a=h(s[0]))||4===s[0].length)return(this.priceZones=this.specifyZones(a,i,s,r,o)).forEach(function(e,t){l.push([e.x,e.end]),p.push(l[t][0]),u.push(l[t][1])}),{values:l,xData:p,yData:u};c.error("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,n)}else c.error("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,n);else c.error("Base series not found! In case it has been removed, add a new one.",!0,n)},specifyZones:function(e,t,a,o,i){var s,n,r=!!e&&function(e){for(var t,a=e.length,o=e[0][3],i=o,s=1;s<a;s++)(t=e[s][3])<o&&(o=t),i<t&&(i=t);return{min:o,max:i}}(a),l=r?r.min:m(a),p=r?r.max:x(a),u=this.zoneStarts=[],c=[],h=0,d=1;if(!l||!p)return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG.destroy()),[];for(s=this.rangeStep=b(p-l)/o,u.push(l);h<o-1;h++)u.push(b(u[h]+s));for(u.push(p),n=u.length;d<n;d++)c.push({index:d-1,x:t[0],start:u[d-1],end:u[d]});return this.volumePerZone(e,c,i,t,a)},volumePerZone:function(t,e,a,o,i){var s,n,r,l,p,u=this,c=a.processedXData,h=a.processedYData,d=e.length-1,m=i.length,y=h.length;return A(m-y)&&(o[0]!==c[0]&&h.unshift(0),o[m-1]!==c[y-1]&&h.push(0)),u.volumeDataArray=[],e.forEach(function(e){for(e.wholeVolumeData=0,e.positiveVolumeData=0,e.negativeVolumeData=0,p=0;p<m;p++)r=n=!1,l=t?i[p][3]:i[p],s=p?t?i[p-1][3]:i[p-1]:l,l<=e.start&&0===e.index&&(n=!0),l>=e.end&&e.index===d&&(r=!0),(l>e.start||n)&&(l<e.end||r)&&(e.wholeVolumeData+=h[p],l<s?e.negativeVolumeData+=h[p]:e.positiveVolumeData+=h[p]);u.volumeDataArray.push(e.wholeVolumeData)}),e},drawZones:function(t,a,e,o){var i,s=t.renderer,n=this.zoneLinesSVG,r=[],l=t.plotWidth,p=t.plotTop;e.forEach(function(e){i=a.toPixels(e)-p,r=r.concat(t.renderer.crispLine(["M",0,i,"L",l,i],o.lineWidth))}),n?n.animate({d:r}):n=this.zoneLinesSVG=s.path(r).attr({"stroke-width":o.lineWidth,stroke:o.color,dashstyle:o.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}},{destroy:function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),c.Point.prototype.destroy.apply(this,arguments)}})}),a(t,"indicators/vwap.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(l,e){var p=e.isArray;(0,l.seriesType)("vwap","sma",{params:{period:30,volumeSeriesID:"volume"}},{getValues:function(e,t){var a,o=e.chart,i=e.xData,s=e.yData,n=t.period,r=!0;if(a=o.get(t.volumeSeriesID))return p(s[0])||(r=!1),this.calculateVWAPValues(r,i,s,a,n);l.error("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,o)},calculateVWAPValues:function(e,t,a,o,i){var s,n,r,l,p,u,c=o.yData,h=o.xData.length,d=t.length,m=[],y=[],f=[],g=[],v=[];for(s=d<=h?d:h,u=p=0;p<s;p++)n=e?(a[p][1]+a[p][2]+a[p][3])/3:a[p],n*=c[p],r=u?m[p-1]+n:n,l=u?y[p-1]+c[p]:c[p],m.push(r),y.push(l),v.push([t[p],r/l]),f.push(v[p][0]),g.push(v[p][1]),++u===i&&(u=0);return{values:v,xData:f,yData:g}}})}),a(t,"indicators/williams-r.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/reduce-array.js"]],function(e,t,a){var y=t.isArray,f=a.getArrayExtremes;e.seriesType("williamsr","sma",{params:{period:14}},{nameBase:"Williams %R",getValues:function(e,t){var a,o,i,s,n,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=[];if(!(p.length<l)&&y(u[0])&&4===u[0].length){for(r=l-1;r<c;r++)a=u.slice(r-l+1,r+1),n=(o=f(a,2,1))[0],i=((s=o[1])-u[r][3])/(s-n)*-100,p[r]&&(h.push([p[r],i]),d.push(p[r]),m.push(i));return{values:h,xData:d,yData:m}}}})}),a(t,"indicators/wma.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var f=t.isArray;function g(e,t,a,o,i){var s=t[o],n=i<0?a[o]:a[o][i];e.push([s,n])}function v(e,t,a,o){var i,s,n=e.length,r=(s=((i=n)+1)/2*i,e.reduce(function(e,t,a){return[null,e[1]+t[1]*(a+1)]})[1]/s),l=t[o-1];return e.shift(),[l,r]}(0,e.seriesType)("wma","sma",{params:{index:3,period:9}},{getValues:function(e,t){var a,o,i,s=t.period,n=e.xData,r=e.yData,l=r?r.length:0,p=1,u=n[0],c=r[0],h=[],d=[],m=[],y=-1;if(!(n.length<s)){for(f(r[0])&&(y=t.index,c=r[0][y]),o=[[u,c]];p!==s;)g(o,n,r,p,y),p++;for(a=p;a<l;a++)i=v(o,n,0,a),h.push(i),d.push(i[0]),m.push(i[1]),g(o,n,r,a,y);return i=v(o,n,0,a),h.push(i),d.push(i[0]),m.push(i[1]),{values:h,xData:d,yData:m}}}})}),a(t,"indicators/zigzag.src.js",[t["parts/Globals.js"]],function(e){(0,e.seriesType)("zigzag","sma",{params:{lowIndex:2,highIndex:1,deviation:1}},{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag",getValues:function(e,t){var a,o,i,s,n,r,l,p=t.lowIndex,u=t.highIndex,c=t.deviation/100,h=1+c,d=1-c,m=e.xData,y=e.yData,f=y?y.length:0,g=[],v=[],D=[],x=!1,b=!1;if(!(!m||m.length<=1||f&&(void 0===y[0][p]||void 0===y[0][u]))){for(s=y[0][p],n=y[0][u],a=1;a<f;a++)y[a][p]<=n*d?(g.push([m[0],n]),i=[m[a],y[a][p]],x=r=!0):y[a][u]>=s*h&&(g.push([m[0],s]),x=!(r=!(i=[m[a],y[a][u]]))),x&&(v.push(g[0][0]),D.push(g[0][1]),o=a++,a=f);for(a=o;a<f;a++)r?(y[a][p]<=i[1]&&(i=[m[a],y[a][p]]),y[a][u]>=i[1]*h&&(b=u)):(y[a][u]>=i[1]&&(i=[m[a],y[a][u]]),y[a][p]<=i[1]*d&&(b=p)),!1!==b&&(g.push(i),v.push(i[0]),D.push(i[1]),r=!r,b=!(i=[m[a],y[a][b]]));return 0!==(l=g.length)&&g[l-1][0]<m[f-1]&&(g.push(i),v.push(i[0]),D.push(i[1])),{values:g,xData:v,yData:D}}}})}),a(t,"indicators/regressions.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var d=t.isArray,a=e.seriesType;a("linearRegression","sma",{params:{xAxisUnit:void 0},tooltip:{valueDecimals:4}},{nameBase:"Linear Regression Indicator",getRegressionLineParameters:function(e,t){function a(e,t){return d(e)?e[t]:e}var o,i,s,n=this.options.params.index,r=e.reduce(function(e,t){return t+e},0),l=t.reduce(function(e,t){return a(t,n)+e},0),p=r/e.length,u=l/t.length,c=0,h=0;for(i=0;i<e.length;i++)c+=(o=e[i]-p)*(a(t[i],n)-u),h+=Math.pow(o,2);return{slope:s=h?c/h:0,intercept:u-s*p}},getEndPointY:function(e,t){return e.slope*t+e.intercept},transformXData:function(e,t){var a=e[0];return e.map(function(e){return(e-a)/t})},findClosestDistance:function(e){var t,a,o;for(o=1;o<e.length-1;o++)0<(t=e[o]-e[o-1])&&(void 0===a||t<a)&&(a=t);return a},getValues:function(e,t){var a,o,i,s,n,r,l,p,u,c=e.xData,h=e.yData,d=t.period,m={xData:[],yData:[],values:[]},y=this.options.params.xAxisUnit||this.findClosestDistance(c);for(o=d-1;o<=c.length-1;o++)i=o-d+1,s=o+1,n=c[o],l=c.slice(i,s),p=h.slice(i,s),u=this.transformXData(l,y),a=this.getRegressionLineParameters(u,p),r=this.getEndPointY(a,u[u.length-1]),m.values.push({regressionLineParameters:a,x:n,y:r}),m.xData.push(n),m.yData.push(r);return m}}),a("linearRegressionSlope","linearRegression",{},{nameBase:"Linear Regression Slope Indicator",getEndPointY:function(e){return e.slope}}),a("linearRegressionIntercept","linearRegression",{},{nameBase:"Linear Regression Intercept Indicator",getEndPointY:function(e){return e.intercept}}),a("linearRegressionAngle","linearRegression",{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}},{nameBase:"Linear Regression Angle Indicator",slopeToAngle:function(e){return Math.atan(e)*(180/Math.PI)},getEndPointY:function(e){return this.slopeToAngle(e.slope)}})}),a(t,"indicators/acceleration-bands.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var C=t.correctFloat,L=e.seriesTypes.sma,o=e.merge;e.seriesType("abands","sma",{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},o(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Acceleration Bands",nameComponents:["period","factor"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var a,o,i,s,n,r,l,p,u,c,h,d=t.period,m=t.factor,y=t.index,f=e.xData,g=e.yData,v=g?g.length:0,D=[],x=[],b=[],A=[],j=[];if(!(v<d)){for(h=0;h<=v;h++)h<v&&(S=g[h][2],T=g[h][1],P=m,n=C(T-S)/(C(T+S)/2)*1e3*P,D.push(g[h][1]*C(1+2*n)),x.push(g[h][2]*C(1-2*n))),d<=h&&(u=f.slice(h-d,h),c=g.slice(h-d,h),l=L.prototype.getValues.call(this,{xData:u,yData:D.slice(h-d,h)},{period:d}),p=L.prototype.getValues.call(this,{xData:u,yData:x.slice(h-d,h)},{period:d}),s=(r=L.prototype.getValues.call(this,{xData:u,yData:c},{period:d,index:y})).xData[0],o=l.yData[0],i=p.yData[0],a=r.yData[0],b.push([s,o,a,i]),A.push(s),j.push([o,a,i]));var S,T,P;return{values:b,xData:A,yData:j}}}}))}),a(t,"indicators/trendline.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var v=t.isArray;(0,e.seriesType)("trendline","sma",{params:{index:3}},{nameBase:"Trendline",nameComponents:!1,getValues:function(e,t){var a,o,i,s,n,r=e.xData,l=e.yData,p=[],u=[],c=[],h=0,d=0,m=0,y=0,f=r.length,g=t.index;for(i=0;i<f;i++)h+=s=r[i],d+=n=v(l[i])?l[i][g]:l[i],m+=s*n,y+=s*s;for(a=(f*m-h*d)/(f*y-h*h),isNaN(a)&&(a=0),o=(d-a*h)/f,i=0;i<f;i++)n=a*(s=r[i])+o,p[i]=[s,n],u[i]=s,c[i]=n;return{xData:u,yData:c,values:p}}})}),a(t,"masters/indicators/indicators-all.src.js",[],function(){})});