{"version":3,"sources":["annotations.src.js"],"names":["H","U","defined","destroyObjectProperties","erase","extend","pick","splat","wrap","controllableMixin","ControllableRect","ControllableCircle","ControllablePath","ControllableImage","ControllableLabel","eventEmitterMixin","MockPoint","ControlPoint","merge","addEvent","fireEvent","find","reduce","chartProto","Chart","prototype","Annotation","chart","userOptions","labelsAndShapes","this","points","controlPoints","coll","labels","shapes","options","defaultOptions","getLabelsAndShapesOptions","init","nonDOMEvents","visible","draggable","labelOptions","align","allowOverlap","backgroundColor","borderColor","borderRadius","borderWidth","className","crop","formatter","y","overflow","padding","shadow","shape","style","fontSize","fontWeight","color","useHTML","verticalAlign","x","shapeOptions","stroke","strokeWidth","fill","r","snap","controlPointOptions","symbol","width","height","stroke-width","events","zIndex","linkPoints","addControlPoints","addShapes","addLabels","addClipPaths","setLabelCollector","baseOptions","newOptions","mergedOptions","forEach","name","map","basicOptions","i","initShape","labelsOptions","initLabel","setClipAxes","clipXAxis","clipYAxis","clipRect","renderer","getClipBox","xAxes","xAxis","yAxes","yAxis","linkedAxes","concat","axes","labelOrShape","point","left","top","annotation","labelCollector","label","push","graphic","labelCollectors","setOptions","redraw","animation","render","animate","redrawItems","call","items","length","redrawItem","g","attr","visibility","add","shapesGroup","clip","plotBoxClip","labelsGroup","translateX","translateY","addEvents","setVisibility","setControlPointsVisibility","setItemControlPointsVisibility","item","destroy","destroyItem","remove","removeAnnotation","update","userOptionsIndex","annotations","indexOf","constructor","isUpdating","index","shapesMap","type","itemType","shouldBeDrawn","renderItem","placed","adjustVisibility","hasVisiblePoints","series","show","hide","rect","circle","path","image","types","extendAnnotation","Constructor","BaseConstructor","initAnnotation","addAnnotation","idOrAnnotation","id","drawAnnotations","plotBox","collectionsWithUpdate","collectionsWithInit","callbacks","controlPointsGroup","annotationOptions","Pointer","proceed","hasDraggedAnnotation","apply","Array","slice","arguments"],"mappings":"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"}