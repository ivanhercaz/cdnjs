"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var correctFloat=U.correctFloat,isArray=U.isArray,seriesType=H.seriesType;seriesType("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(r,a,t){for(var e=0,i=0;i<r;)e+=a<0?t[i]:t[i][a],i++;return e},calculateEma:function(r,a,t,e,i,s,o){var c=r[t-1],u=s<0?a[t-1]:a[t-1][s];return[c,void 0===i?o:correctFloat(u*e+i*(1-e))]},getValues:function(r,a){var t,e,i,s,o=a.period,c=r.xData,u=r.yData,l=u?u.length:0,n=2/(o+1),p=[],m=[],d=[],f=-1;if(!(l<o)){for(isArray(u[0])&&(f=a.index?a.index:0),t=this.accumulatePeriodPoints(o,f,u)/o,s=o;s<l+1;s++)i=this.calculateEma(c,u,s,n,e,f,t),p.push(i),m.push(i[0]),d.push(i[1]),e=i[1];return{values:p,xData:m,yData:d}}}});