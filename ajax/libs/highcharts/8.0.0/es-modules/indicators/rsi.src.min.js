"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var isArray=U.isArray;function toFixed(t,a){return parseFloat(t.toFixed(a))}H.seriesType("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(t,a){var e,i,r,s,o,d=a.period,p=t.xData,l=t.yData,x=l?l.length:0,u=a.decimals,F=1,n=[],h=[],m=[],f=0,y=0;if(!(p.length<d)&&isArray(l[0])&&4===l[0].length){for(;F<d;)(i=toFixed(l[F][3]-l[F-1][3],u))>0?f+=i:y+=Math.abs(i),F++;for(r=toFixed(f/(d-1),u),s=toFixed(y/(d-1),u),o=F;o<x;o++)(i=toFixed(l[o][3]-l[o-1][3],u))>0?(f=i,y=0):(f=0,y=Math.abs(i)),r=toFixed((r*(d-1)+f)/d,u),e=0===(s=toFixed((s*(d-1)+y)/d,u))?100:0===r?0:toFixed(100-100/(1+r/s),u),n.push([p[o],e]),h.push(p[o]),m.push(e);return{values:n,xData:h,yData:m}}}});