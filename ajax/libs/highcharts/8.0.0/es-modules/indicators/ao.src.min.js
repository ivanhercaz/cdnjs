"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var correctFloat=U.correctFloat,isArray=U.isArray,noop=H.noop;H.seriesType("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:noop,getColumnMetrics:H.seriesTypes.column.prototype.getColumnMetrics,crispCol:H.seriesTypes.column.prototype.crispCol,translate:H.seriesTypes.column.prototype.translate,drawPoints:H.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var o,r=this.options,t=this.points,e=this.userOptions.color,s=r.greaterBarColor,a=r.lowerBarColor,l=t[0];if(!e&&l)for(l.color=s,o=1;o<t.length;o++)t[o].y>t[o-1].y?t[o].color=s:t[o].y<t[o-1].y?t[o].color=a:t[o].color=t[o-1].color},getValues:function(o){var r,t,e,s,a,l,c=o.xData||[],i=o.yData||[],n=i.length,p=[],y=[],u=[],h=0,m=0;if(!(c.length<=34)&&isArray(i[0])&&4===i[0].length){for(a=0;a<33;a++)s=(i[a][1]+i[a][2])/2,a>=29&&(h=correctFloat(h+s)),m=correctFloat(m+s);for(l=33;l<n;l++)s=(i[l][1]+i[l][2])/2,h=correctFloat(h+s),m=correctFloat(m+s),r=correctFloat(h/5-m/34),p.push([c[l],r]),y.push(c[l]),u.push(r),e=l+1-34,h=correctFloat(h-(i[t=l+1-5][1]+i[t][2])/2),m=correctFloat(m-(i[e][1]+i[e][2])/2);return{values:p,xData:y,yData:u}}}});