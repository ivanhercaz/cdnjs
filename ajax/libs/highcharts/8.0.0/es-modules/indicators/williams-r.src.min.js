"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var isArray=U.isArray;import reduceArrayMixin from"../mixins/reduce-array.js";var getArrayExtremes=reduceArrayMixin.getArrayExtremes;H.seriesType("williamsr","sma",{params:{period:14}},{nameBase:"Williams %R",getValues:function(r,a){var e,s,i,t,m,l,p=a.period,y=r.xData,o=r.yData,u=o?o.length:0,n=[],x=[],A=[];if(!(y.length<p)&&isArray(o[0])&&4===o[0].length){for(l=p-1;l<u;l++)e=o.slice(l-p+1,l+1),m=(s=getArrayExtremes(e,2,1))[0],i=((t=s[1])-o[l][3])/(t-m)*-100,y[l]&&(n.push([y[l],i]),x.push(y[l]),A.push(i));return{values:n,xData:x,yData:A}}}});