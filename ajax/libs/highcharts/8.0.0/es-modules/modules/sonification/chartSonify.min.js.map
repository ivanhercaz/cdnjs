{"version":3,"sources":["chartSonify.js"],"names":["H","U","isArray","pick","splat","utilities","getPointTimeValue","point","timeProp","options","getTimeExtremes","series","points","reduce","acc","value","min","Math","max","Infinity","getExtremesForInstrumentProps","chart","instruments","dataExtremes","newExtremes","instrumentDefinition","Object","keys","instrumentMapping","forEach","instrumentParameter","calculateDataExtremes","merge","getPointEarcons","earconDefinitions","earcons","earconDefinition","cond","earcon","condition","sonification","Earcon","push","onPoint","id","makeInstrumentCopies","map","instrumentDef","instrument","copy","buildTimelinePathFromSeries","timeExtremes","pointPlayTime","timelineEvents","events","time","virtualAxisTranslate","duration","pointToTime","concat","TimelineEvent","eventObject","playOptions","TimelinePath","onStart","onEventStart","event","Point","visible","some","timelinePath","timeline","pause","resetCursor","onPointStart","onEventEnd","eventData","onPointEnd","onEnd","seriesSonify","this","chartSonification","Timeline","paths","play","buildSeriesOptions","chartSonifyOptions","seriesOptions","onSeriesStart","onSeriesEnd","find","optEntry","buildPathOrder","orderOptions","seriesOptionsCallback","order","seriesList","orderList","orderDef","simulItems","items","item","itemObject","get","silentWait","length","addAfterSeriesWaits","wait","newOrder","i","simultaneousPaths","getWaitTime","waitTime","def","syncSimultaneousPaths","extremes","path","hasEvents","eventsToAdd","addTimelineEvents","getSimulPathDurationTotal","durationTotal","maxPathDuration","getSeriesDurationMs","seriesValueDuration","totalValueDuration","totalDurationMs","buildPathsFromOrder","totalAvailableDurationMs","totalUsedDuration","allPaths","simulPaths","chartSonify","afterSeriesWait","getCurrentPoints","cursorObj","getCursor","filter","eventObj","setCursor","fadeOut","currentlyPlayingPoint","cancelSonify","resume","rewind","cancel","pauseSonify","resetSonifyCursor","resetCursorEnd","chartSonifyFunctions"],"mappings":"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"}