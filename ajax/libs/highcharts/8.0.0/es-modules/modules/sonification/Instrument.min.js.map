{"version":3,"sources":["Instrument.js"],"names":["H","U","pick","defaultOptions","type","playCallbackInterval","oscillator","waveformShape","Instrument","options","this","init","prototype","initAudioContext","merge","id","uniqueKey","ctx","audioContext","gainNode","createGain","setGain","panNode","createStereoPanner","setPan","connect","destination","initOscillator","playCallbackTimers","error","copy","Context","win","AudioContext","webkitAudioContext","hasOldContext","state","suspend","createOscillator","oscillatorStarted","panValue","pan","setValueAtTime","currentTime","gainValue","rampTime","console","warn","gain","value","linearRampToValueAtTime","cancelGainRamp","cancelScheduledValues","getValidFrequency","frequency","min","max","validFrequencies","allowedFrequencies","maximum","Infinity","minimum","length","reduce","acc","cur","Math","abs","clearPlayCallbackTimers","forEach","timer","clearInterval","setFrequency","frequencyLimits","limits","validFrequency","oscillatorPlay","start","preparePlay","resume","play","instrument","duration","setOrStartTimer","setter","setterData","target","currentDurationIx","callbackInterval","setInterval","curTime","push","setTimeout","stopOscillatorTimeout","clearTimeout","stopTimeout","stopCallback","_play","immediate","sonification","fadeOutDuration","onEnd","onStop","stop","minFrequency","maxFrequency","volume","mute","immediately","onStopped","callbackData","instr","reset","e","disconnect"],"mappings":"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"}