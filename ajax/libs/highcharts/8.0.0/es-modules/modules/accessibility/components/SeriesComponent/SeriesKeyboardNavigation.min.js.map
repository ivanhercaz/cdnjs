{"version":3,"sources":["SeriesKeyboardNavigation.js"],"names":["H","U","extend","defined","KeyboardNavigationHandler","EventProvider","ChartUtilities","getPointFromXY","getSeriesFromName","getPointIndex","point","index","points","series","i","length","isSkipSeries","seriesNavOptions","chart","options","accessibility","keyboardNavigation","seriesNavigation","seriesA11yOptions","seriesKbdNavOptions","enabled","enableMouseTracking","visible","pointNavigationEnabledThreshold","isSkipPoint","a11yOptions","isNull","skipNullPoints","getClosestPoint","xWeight","yWeight","dPoint","minIx","distance","minDistance","Infinity","hasUndefinedPosition","plotX","plotY","highlightFirstValidPointInChart","highlightedPoint","reduce","acc","cur","highlightFirstValidPoint","highlightLastValidPointInChart","res","updateChartFocusAfterDrilling","focusElement","removeFocusBorder","SeriesKeyboardNavigation","keyCodes","this","Series","prototype","keyboardMoveVertical","forEach","type","seriesTypes","Point","highlight","tooltip","hide","onMouseOver","graphic","setFocusToElement","Chart","highlightAdjacentPoint","next","newSeries","newPoint","curPoint","curPointIndex","curPoints","lastSeries","lastPoint","start","len","j","highlightAdjacentSeries","down","highlightAdjacentPointVertical","bestPoint","yDistance","width","Math","abs","yAxis","reversed","init","e","eventProvider","addEvent","onSeriesDestroy","lastDrilledDownPoint","x","y","seriesName","name","setTimeout","onDrillupAll","last","container","focus","getKeyboardNavigationHandler","keys","inverted","keyCodeMap","up","left","right","keyCode","onKbdSideways","onKbdVertical","enter","space","firePointEvent","response","success","dir","onHandlerInit","terminate","onHandlerTerminate","handler","isNext","attemptHighlightAdjacentPoint","navOptions","mode","initDirection","directionIsNext","wrapAround","destroy","removeAddedEvents"],"mappings":"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"}