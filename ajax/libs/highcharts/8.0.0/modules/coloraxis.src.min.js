"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/color-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var i=t?t._modules:{};function o(t,i,o,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,o))}o(i,"parts-map/ColorSeriesMixin.js",[i["parts/Globals.js"]],function(t){t.colorPointMixin={setVisible:function(t){var i=this,o=t?"show":"hide";i.visible=i.options.visible=Boolean(t),["graphic","dataLabel"].forEach(function(t){i[t]&&i[t][o]()})}},t.colorSeriesMixin={optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var s=this,t=this.data.length?this.data:this.points,e=this.options.nullColor,n=this.colorAxis,a=this.colorKey;t.forEach(function(t){var i,o=t[a];(i=t.options.color||(t.isNull?e:n&&void 0!==o?n.toColor(o,t):t.color||s.color))&&(t.color=i)})}}}),o(i,"parts-map/ColorAxis.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(i,t){var s,e=t.erase,p=t.extend,o=t.isNumber,d=t.pick,n=t.splat,a=i.addEvent,l=i.Axis,r=i.Chart,c=i.Series,h=i.Point,f=i.color,u=i.Legend,g=i.LegendSymbolMixin,m=i.colorPointMixin,x=i.colorSeriesMixin,y=i.noop,v=i.merge;p(c.prototype,x),p(h.prototype,m),r.prototype.collectionsWithUpdate.push("colorAxis"),r.prototype.collectionsWithInit.colorAxis=[r.prototype.addColorAxis],s=i.ColorAxis=function(){this.init.apply(this,arguments)},p(s.prototype,l.prototype),p(s.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(l.prototype.keepProps),init:function(t,i){var o;this.coll="colorAxis",o=this.buildOptions.call(t,this.defaultColorAxisOptions,i),l.prototype.init.call(this,t,o),i.dataClasses&&this.initDataClasses(i),this.initStops(),this.horiz=!o.opposite,this.zoomEnabled=!1,this.defaultLegendLength=200},initDataClasses:function(t){var s,e=this.chart,n=0,a=e.options.chart.colorCount,l=this.options,r=t.dataClasses.length;this.dataClasses=s=[],this.legendItems=[],t.dataClasses.forEach(function(t,i){var o;t=v(t),s.push(t),!e.styledMode&&t.color||("category"===l.dataClassColor?(e.styledMode||(o=e.options.colors,a=o.length,t.color=o[n]),t.colorIndex=n,++n===a&&(n=0)):t.color=f(l.minColor).tweenTo(f(l.maxColor),r<2?.5:i/(r-1)))})},hasData:function(){return!(!this.tickPositions||!this.tickPositions.length)},setTickPositions:function(){if(!this.dataClasses)return l.prototype.setTickPositions.call(this)},initStops:function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(t){t.color=f(t[1])})},buildOptions:function(t,i){var o=this.options.legend,s=i.layout?"vertical"!==i.layout:"vertical"!==o.layout;return v(t,{side:s?2:1,reversed:!s},i,{opposite:!s,showEmpty:!1,title:null,visible:o.enabled&&(!i||!1!==i.visible)})},setOptions:function(t){l.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},setAxisSize:function(){var t,i,o,s,e=this.legendSymbol,n=this.chart,a=n.options.legend||{};e?(this.left=t=e.attr("x"),this.top=i=e.attr("y"),this.width=o=e.attr("width"),this.height=s=e.attr("height"),this.right=n.chartWidth-t-o,this.bottom=n.chartHeight-i-s,this.len=this.horiz?o:s,this.pos=this.horiz?t:i):this.len=(this.horiz?a.symbolWidth:a.symbolHeight)||this.defaultLegendLength},normalizedValue:function(t){return this.isLog&&(t=this.val2lin(t)),1-(this.max-t)/(this.max-this.min||1)},toColor:function(t,i){var o,s,e,n,a,l,r=this.stops,h=this.dataClasses;if(h){for(l=h.length;l--;)if(s=(a=h[l]).from,e=a.to,(void 0===s||s<=t)&&(void 0===e||t<=e)){n=a.color,i&&(i.dataClass=l,i.colorIndex=a.colorIndex);break}}else{for(o=this.normalizedValue(t),l=r.length;l--&&!(o>r[l][0]););s=r[l]||r[l+1],o=1-((e=r[l+1]||s)[0]-o)/(e[0]-s[0]||1),n=s.color.tweenTo(e.color,o)}return n},getOffset:function(){var t=this.legendGroup,i=this.chart.axisOffset[this.side];t&&(this.axisParent=t,l.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=i)},setLegendColor:function(){var t,i=this.horiz,o=this.reversed,s=o?1:0,e=o?0:1;t=i?[s,0,e,0]:[0,e,0,s],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}},drawLegendSymbol:function(t,i){var o=t.padding,s=t.options,e=this.horiz,n=d(s.symbolWidth,e?this.defaultLegendLength:12),a=d(s.symbolHeight,e?12:this.defaultLegendLength),l=d(s.labelPadding,e?16:30),r=d(s.itemDistance,10);this.setLegendColor(),i.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,n,a).attr({zIndex:1}).add(i.legendGroup),this.legendItemWidth=n+o+(e?r:l),this.legendItemHeight=a+o+(e?l:0)},setState:function(i){this.series.forEach(function(t){t.setState(i)})},visible:!0,setVisible:y,getSeriesExtremes:function(){var t,i,o,s,e,n,a,l,r=this.series,h=r.length;for(this.dataMin=1/0,this.dataMax=-1/0;h--;){if(i=(n=r[h]).colorKey=d(n.options.colorKey,n.colorKey,n.pointValKey,n.zoneAxis,"y"),s=n.pointArrayMap,e=n[i+"Min"]&&n[i+"Max"],n[i+"Data"])t=n[i+"Data"];else if(s){if(t=[],o=s.indexOf(i),a=n.yData,0<=o&&a)for(l=0;l<a.length;l++)t.push(d(a[l][o],a[l]))}else t=n.yData;e?(n.minColorValue=n[i+"Min"],n.maxColorValue=n[i+"Max"]):(c.prototype.getExtremes.call(n,t),n.minColorValue=n.dataMin,n.maxColorValue=n.dataMax),void 0!==n.minColorValue&&(this.dataMin=Math.min(this.dataMin,n.minColorValue),this.dataMax=Math.max(this.dataMax,n.maxColorValue)),e||c.prototype.getExtremes.call(n)}},drawCrosshair:function(t,i){var o,s=i&&i.plotX,e=i&&i.plotY,n=this.pos,a=this.len;i&&((o=this.toPixels(i[i.series.colorKey]))<n?o=n-2:n+a<o&&(o=n+a+2),i.plotX=o,i.plotY=this.len-o,l.prototype.drawCrosshair.call(this,t,i),i.plotX=s,i.plotY=e,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(t){var i=t.translatedValue;return o(i)?this.horiz?["M",i-4,this.top-6,"L",i+4,this.top-6,i,this.top,"Z"]:["M",this.left,i,"L",this.left-6,i+6,this.left-6,i-6,"Z"]:l.prototype.getPlotLinePath.apply(this,arguments)},update:function(t,i){var o=this.chart,s=o.legend,e=this.buildOptions.call(o,{},t);this.series.forEach(function(t){t.isDirtyData=!0}),(t.dataClasses&&s.allItems||this.dataClasses)&&this.destroyItems(),o.options[this.coll]=v(this.userOptions,e),l.prototype.update.call(this,e,i),this.legendItem&&(this.setLegendColor(),s.colorizeItem(this,!0))},destroyItems:function(){var i=this.chart;this.legendItem?i.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(t){i.legend.destroyItem(t)}),i.isDirtyLegend=!0},remove:function(t){this.destroyItems(),l.prototype.remove.call(this,t)},getDataClassLegendSymbols:function(){var a,l=this,r=this.chart,h=this.legendItems,t=r.options.legend,d=t.valueDecimals,c=t.valueSuffix||"";return h.length||this.dataClasses.forEach(function(t,i){var o=!0,s=t.from,e=t.to,n=r.numberFormatter;a="",void 0===s?a="< ":void 0===e&&(a="> "),void 0!==s&&(a+=n(s,d)+c),void 0!==s&&void 0!==e&&(a+=" - "),void 0!==e&&(a+=n(e,d)+c),h.push(p({chart:r,name:a,options:{},drawLegendSymbol:g.drawRectangle,visible:!0,setState:y,isDataClass:!0,setVisible:function(){o=this.visible=!o,l.series.forEach(function(t){t.points.forEach(function(t){t.dataClass===i&&t.setVisible(o)})}),r.legend.colorizeItem(this,o)}},t))}),h},beforePadding:!1,name:""}),["fill","stroke"].forEach(function(t){i.Fx.prototype[t+"Setter"]=function(){this.elem.attr(t,f(this.start).tweenTo(f(this.end),this.pos),null,!0)}}),a(r,"afterGetAxes",function(){var o=this,t=o.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=n(t.colorAxis),t.colorAxis.forEach(function(t,i){t.index=i,new s(o,t)}))}),a(c,"bindAxes",function(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}),a(u,"afterGetAllItems",function(i){var o,t,s=[];for((this.chart.colorAxis||[]).forEach(function(t){(o=t.options)&&o.showInLegend&&(o.dataClasses&&o.visible?s=s.concat(t.getDataClassLegendSymbols()):o.visible&&s.push(t),t.series.forEach(function(t){t.options.showInLegend&&!o.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){e(i.allItems,t)}):e(i.allItems,t))}))}),t=s.length;t--;)i.allItems.unshift(s[t])}),a(u,"afterColorizeItem",function(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}),a(u,"afterUpdate",function(){var t=this.chart.colorAxis;t&&t.forEach(function(t){t.update({},arguments[2])})}),a(c,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()})}),o(i,"masters/modules/coloraxis.src.js",[],function(){})});