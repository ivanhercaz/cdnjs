!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,a){t.hasOwnProperty(e)||(t[e]=a.apply(null,i))}e(t=t?t._modules:{},"modules/funnel.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(p,t){var Y=t.pick;t=p.seriesType;var r=p.seriesTypes,j=p.fireEvent,e=p.addEvent,E=p.noop;t("funnel","pie",{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}},{animate:E,translate:function(){function t(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}var e=0,a=this,i=a.chart,n=a.options,o=n.reversed,l=n.ignoreHiddenPoint,s=i.plotWidth;i=i.plotHeight;var r,h=0,d=n.center,c=t(d[0],s),p=t(d[1],i),g=t(n.width,s),u=t(n.height,i),f=t(n.neckWidth,s),b=t(n.neckHeight,i),m=p-u/2+u-b;s=a.data;var v,y,L,W,x,A,D,H,k,w="left"===n.dataLabels.position?1:0;a.getWidthAt=function(t){return m<t||u===b?f:f+(g-f)*(1-(t-(p-u/2))/(u-b))},a.getX=function(t,e,i){return c+(e?-1:1)*(a.getWidthAt(o?2*p-t:t)/2+i.labelDistance)},a.center=[c,p,u],a.centerX=c,s.forEach(function(t){l&&!1===t.visible||(e+=t.y)}),s.forEach(function(t){k=null,y=e?t.y/e:0,D=(W=p-u/2+h*u)+y*u,r=a.getWidthAt(W),x=(L=c-r/2)+r,r=a.getWidthAt(D),H=(A=c-r/2)+r,m<W?(L=A=c-f/2,x=H=c+f/2):m<D&&(k=D,r=a.getWidthAt(m),H=(A=c-r/2)+r,D=m),o&&(W=2*p-W,D=2*p-D,null!==k&&(k=2*p-k)),v=["M",L,W,"L",x,W,H,D],null!==k&&v.push(H,k,A,k),v.push(A,D,"Z"),t.shapeType="path",t.shapeArgs={d:v},t.percentage=100*y,t.plotX=c,t.plotY=(W+(k||D))/2,t.tooltipPos=[c,t.plotY],t.dlBox={x:A,y:W,topWidth:x-L,bottomWidth:H-A,height:Math.abs(Y(k,D)-W),width:NaN},t.slice=E,t.half=w,l&&!1===t.visible||(h+=y)}),j(a,"afterTranslate")},sortByAngle:function(t){t.sort(function(t,e){return t.plotY-e.plotY})},drawDataLabels:function(){var t,e=this.data,i=this.options.dataLabels.distance,a=e.length;for(this.center[2]-=2*i;a--;){var n=e[a],o=(t=n.half)?1:-1,l=n.plotY;n.labelDistance=Y(n.options.dataLabels&&n.options.dataLabels.distance,i),this.maxLabelDistance=Math.max(n.labelDistance,this.maxLabelDistance||0);var s=this.getX(l,t,n);n.labelPosition={natural:{x:0,y:l},final:{},alignment:t?"right":"left",connectorPosition:{breakAt:{x:s+(n.labelDistance-5)*o,y:l},touchingSliceAt:{x:s+n.labelDistance*o,y:l}}}}r[this.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},alignDataLabel:function(t,e,i,a,n){var o=t.series;a=o.options.reversed;var l=t.dlBox||t.shapeArgs,s=i.align,r=i.verticalAlign,h=((o.options||{}).dataLabels||{}).inside,d=o.center[1];o=o.getWidthAt((a?2*d-t.plotY:t.plotY)-l.height/2+e.height),o="middle"===r?(l.topWidth-l.bottomWidth)/4:(o-l.bottomWidth)/2,d=l.y;var c=l.x;"middle"===r?d=l.y-l.height/2+e.height/2:"top"===r&&(d=l.y-l.height+e.height+i.padding),("top"===r&&!a||"bottom"===r&&a||"middle"===r)&&("right"===s?c=l.x-i.padding+o:"left"===s&&(c=l.x+i.padding-o)),a={x:c,y:a?d-l.height:d,width:l.bottomWidth,height:l.height},i.verticalAlign="bottom",h&&!t.visible||p.Series.prototype.alignDataLabel.call(this,t,e,i,a,n),h&&(!t.visible&&t.dataLabel&&(t.dataLabel.placed=!1),t.contrastColor&&e.css({color:t.contrastColor}))}}),e(p.Chart,"afterHideAllOverlappingLabels",function(){this.series.forEach(function(t){t instanceof r.pie&&t.placeDataLabels&&!((t.options||{}).dataLabels||{}).inside&&t.placeDataLabels()})}),t("pyramid","funnel",{neckWidth:"0%",neckHeight:"0%",reversed:!0})}),e(t,"masters/modules/funnel.src.js",[],function(){})});