!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/color-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,o,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,o))}i(t=t?t._modules:{},"parts-map/ColorSeriesMixin.js",[t["parts/Globals.js"]],function(t){t.colorPointMixin={setVisible:function(t){var i=this,o=t?"show":"hide";i.visible=i.options.visible=!!t,["graphic","dataLabel"].forEach(function(t){i[t]&&i[t][o]()})}},t.colorSeriesMixin={optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var o=this,s=this.options.nullColor,e=this.colorAxis,a=this.colorKey;(this.data.length?this.data:this.points).forEach(function(t){var i=t.getNestedProperty(a);(i=t.options.color||(t.isNull?s:e&&void 0!==i?e.toColor(i,t):t.color||o.color))&&(t.color=i)})}}}),i(t,"parts-map/ColorAxis.js",[t["parts/Globals.js"],t["parts/Color.js"],t["parts/Point.js"],t["parts/Legend.js"],t["mixins/legend-symbol.js"],t["parts/Utilities.js"]],function(i,t,o,s,p,e){var l=t.parse;t=e.addEvent;var a=e.erase,f=e.extend,r=e.isNumber,h=e.merge,d=e.pick,n=e.splat,c=i.Axis;e=i.Chart;var u=i.Series,g=i.colorPointMixin,m=i.noop;f(u.prototype,i.colorSeriesMixin),f(o.prototype,g),e.prototype.collectionsWithUpdate.push("colorAxis"),e.prototype.collectionsWithInit.colorAxis=[e.prototype.addColorAxis];var x=i.ColorAxis=function(){this.init.apply(this,arguments)};f(x.prototype,c.prototype),f(x.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(c.prototype.keepProps),init:function(t,i){this.coll="colorAxis";var o=this.buildOptions.call(t,this.defaultColorAxisOptions,i);c.prototype.init.call(this,t,o),i.dataClasses&&this.initDataClasses(i),this.initStops(),this.horiz=!o.opposite,this.zoomEnabled=!1,this.defaultLegendLength=200},initDataClasses:function(t){var o,s=this.chart,e=0,a=s.options.chart.colorCount,r=this.options,n=t.dataClasses.length;this.dataClasses=o=[],this.legendItems=[],t.dataClasses.forEach(function(t,i){t=h(t),o.push(t),!s.styledMode&&t.color||("category"===r.dataClassColor?(s.styledMode||(i=s.options.colors,a=i.length,t.color=i[e]),t.colorIndex=e,++e===a&&(e=0)):t.color=l(r.minColor).tweenTo(l(r.maxColor),n<2?.5:i/(n-1)))})},hasData:function(){return!(!this.tickPositions||!this.tickPositions.length)},setTickPositions:function(){if(!this.dataClasses)return c.prototype.setTickPositions.call(this)},initStops:function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(t){t.color=l(t[1])})},buildOptions:function(t,i){var o=this.options.legend,s=i.layout?"vertical"!==i.layout:"vertical"!==o.layout;return h(t,{side:s?2:1,reversed:!s},i,{opposite:!s,showEmpty:!1,title:null,visible:o.enabled&&(!i||!1!==i.visible)})},setOptions:function(t){c.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},setAxisSize:function(){var t,i,o=this.legendSymbol,s=this.chart,e=s.options.legend||{};o?(this.left=e=o.attr("x"),this.top=t=o.attr("y"),this.width=i=o.attr("width"),this.height=o=o.attr("height"),this.right=s.chartWidth-e-i,this.bottom=s.chartHeight-t-o,this.len=this.horiz?i:o,this.pos=this.horiz?e:t):this.len=(this.horiz?e.symbolWidth:e.symbolHeight)||this.defaultLegendLength},normalizedValue:function(t){return this.isLog&&(t=this.val2lin(t)),1-(this.max-t)/(this.max-this.min||1)},toColor:function(t,i){var o,s=this.stops,e=this.dataClasses;if(e)for(o=e.length;o--;){var a=e[o],r=a.from;if(s=a.to,(void 0===r||r<=t)&&(void 0===s||t<=s)){var n=a.color;i&&(i.dataClass=o,i.colorIndex=a.colorIndex);break}}else{for(t=this.normalizedValue(t),o=s.length;o--&&!(t>s[o][0]););r=s[o]||s[o+1],t=1-((s=s[o+1]||r)[0]-t)/(s[0]-r[0]||1),n=r.color.tweenTo(s.color,t)}return n},getOffset:function(){var t=this.legendGroup,i=this.chart.axisOffset[this.side];t&&(this.axisParent=t,c.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=i)},setLegendColor:function(){var t=this.reversed,i=t?1:0;t=t?0:1,i=this.horiz?[i,0,t,0]:[0,t,0,i],this.legendColor={linearGradient:{x1:i[0],y1:i[1],x2:i[2],y2:i[3]},stops:this.stops}},drawLegendSymbol:function(t,i){var o=t.padding,s=t.options,e=this.horiz,a=d(s.symbolWidth,e?this.defaultLegendLength:12),r=d(s.symbolHeight,e?12:this.defaultLegendLength),n=d(s.labelPadding,e?16:30);s=d(s.itemDistance,10),this.setLegendColor(),i.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,a,r).attr({zIndex:1}).add(i.legendGroup),this.legendItemWidth=a+o+(e?s:n),this.legendItemHeight=r+o+(e?n:0)},setState:function(i){this.series.forEach(function(t){t.setState(i)})},visible:!0,setVisible:m,getSeriesExtremes:function(){var t,i=this.series,o=i.length;for(this.dataMin=1/0,this.dataMax=-1/0;o--;){var s=i[o],e=s.colorKey=d(s.options.colorKey,s.colorKey,s.pointValKey,s.zoneAxis,"y"),a=s.pointArrayMap,r=s[e+"Min"]&&s[e+"Max"];if(s[e+"Data"])var n=s[e+"Data"];else if(a){n=[],a=a.indexOf(e);var l=s.yData;if(0<=a&&l)for(t=0;t<l.length;t++)n.push(d(l[t][a],l[t]))}else n=s.yData;r?(s.minColorValue=s[e+"Min"],s.maxColorValue=s[e+"Max"]):(u.prototype.getExtremes.call(s,n),s.minColorValue=s.dataMin,s.maxColorValue=s.dataMax),void 0!==s.minColorValue&&(this.dataMin=Math.min(this.dataMin,s.minColorValue),this.dataMax=Math.max(this.dataMax,s.maxColorValue)),r||u.prototype.getExtremes.call(s)}},drawCrosshair:function(t,i){var o=i&&i.plotX,s=i&&i.plotY,e=this.pos,a=this.len;if(i){var r=this.toPixels(i.getNestedProperty(i.series.colorKey));r<e?r=e-2:e+a<r&&(r=e+a+2),i.plotX=r,i.plotY=this.len-r,c.prototype.drawCrosshair.call(this,t,i),i.plotX=o,i.plotY=s,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||this.cross.attr({fill:this.crosshair.color}))}},getPlotLinePath:function(t){var i=t.translatedValue;return r(i)?this.horiz?["M",i-4,this.top-6,"L",i+4,this.top-6,i,this.top,"Z"]:["M",this.left,i,"L",this.left-6,i+6,this.left-6,i-6,"Z"]:c.prototype.getPlotLinePath.apply(this,arguments)},update:function(t,i){var o=this.chart,s=o.legend,e=this.buildOptions.call(o,{},t);this.series.forEach(function(t){t.isDirtyData=!0}),(t.dataClasses&&s.allItems||this.dataClasses)&&this.destroyItems(),o.options[this.coll]=h(this.userOptions,e),c.prototype.update.call(this,e,i),this.legendItem&&(this.setLegendColor(),s.colorizeItem(this,!0))},destroyItems:function(){var i=this.chart;this.legendItem?i.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(t){i.legend.destroyItem(t)}),i.isDirtyLegend=!0},remove:function(t){this.destroyItems(),c.prototype.remove.call(this,t)},getDataClassLegendSymbols:function(){var r,n=this,l=this.chart,h=this.legendItems,t=l.options.legend,d=t.valueDecimals,c=t.valueSuffix||"";return h.length||this.dataClasses.forEach(function(t,i){var o=!0,s=t.from,e=t.to,a=l.numberFormatter;r="",void 0===s?r="< ":void 0===e&&(r="> "),void 0!==s&&(r+=a(s,d)+c),void 0!==s&&void 0!==e&&(r+=" - "),void 0!==e&&(r+=a(e,d)+c),h.push(f({chart:l,name:r,options:{},drawLegendSymbol:p.drawRectangle,visible:!0,setState:m,isDataClass:!0,setVisible:function(){o=this.visible=!o,n.series.forEach(function(t){t.points.forEach(function(t){t.dataClass===i&&t.setVisible(o)})}),l.legend.colorizeItem(this,o)}},t))}),h},beforePadding:!1,name:""}),["fill","stroke"].forEach(function(t){i.Fx.prototype[t+"Setter"]=function(){this.elem.attr(t,l(this.start).tweenTo(l(this.end),this.pos),null,!0)}}),t(e,"afterGetAxes",function(){var o=this,t=o.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=n(t.colorAxis),t.colorAxis.forEach(function(t,i){t.index=i,new x(o,t)}))}),t(u,"bindAxes",function(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}),t(s,"afterGetAllItems",function(i){var o,t,s=[];for((this.chart.colorAxis||[]).forEach(function(t){(o=t.options)&&o.showInLegend&&(o.dataClasses&&o.visible?s=s.concat(t.getDataClassLegendSymbols()):o.visible&&s.push(t),t.series.forEach(function(t){t.options.showInLegend&&!o.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){a(i.allItems,t)}):a(i.allItems,t))}))}),t=s.length;t--;)i.allItems.unshift(s[t])}),t(s,"afterColorizeItem",function(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}),t(s,"afterUpdate",function(){var t=this.chart.colorAxis;t&&t.forEach(function(t,i,o){t.update({},o)})}),t(u,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()})}),i(t,"masters/modules/coloraxis.src.js",[],function(){})});