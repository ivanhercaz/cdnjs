"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/gantt",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function i(t,e,i,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,i))}i(e,"parts-gantt/CurrentDateIndicator.js",[e["parts/Globals.js"],e["parts/Utilities.js"],e["parts/PlotLineOrBand.js"]],function(i,t,e){var r=t.addEvent,o=t.merge,n=t.wrap,a=i.Axis,s={currentDateIndicator:!0,color:"#ccd6eb",width:2,label:{format:"%a, %b %d %Y, %H:%M",formatter:function(t,e){return i.dateFormat(e,t)},rotation:0,style:{fontSize:"10px"}}};r(a,"afterSetOptions",function(){var t=this.options,e=t.currentDateIndicator;e&&((e="object"==typeof e?o(s,e):o(s)).value=new Date,t.plotLines||(t.plotLines=[]),t.plotLines.push(e))}),r(e,"render",function(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}),n(e.prototype,"getLabelText",function(t,e){var i=this.options;return i.currentDateIndicator&&i.label&&"function"==typeof i.label.formatter?(i.value=new Date,i.label.formatter.call(this,i.value,i.label.format)):t.call(this,e)})}),i(e,"parts-gantt/GridAxis.js",[e["parts/Globals.js"],e["parts/Tick.js"],e["parts/Utilities.js"]],function(t,e,i){function w(t){return i.isObject(t,!0)}var r=i.addEvent,o=i.defined,c=i.erase,p=i.find,S=i.isArray,E=i.isNumber,u=i.merge,y=i.pick,d=i.timeUnits,g=i.wrap,n=t.dateFormat,a=t.Chart,f=t.Axis,O={top:0,right:1,bottom:2,left:3,0:"top",1:"right",2:"bottom",3:"left"};f.prototype.isOuterAxis=function(){var i=this,t=i.chart,e=i.columnIndex,r=i.linkedParent&&i.linkedParent.columns||i.columns,o=e?i.linkedParent:i,n=-1,a=0;return t[i.coll].forEach(function(t,e){t.side!==i.side||t.options.isInternal||(a=e,t===o&&(n=e))}),a===n&&(!E(e)||r.length===e)},f.prototype.getMaxLabelDimensions=function(n,t){var a={width:0,height:0};return t.forEach(function(t){var e,i=n[t],r=0,o=0;w(i)&&(r=(e=w(i.label)?i.label:{}).getBBox?e.getBBox().height:0,e.textStr&&!E(e.textPxLength)&&(e.textPxLength=e.getBBox().width),o=E(e.textPxLength)?Math.round(e.textPxLength):0,a.height=Math.max(r,a.height),a.width=Math.max(o,a.width))}),a},t.dateFormats.W=function(t){var e=new this.Date(t),i=(this.get("Day",e)+6)%7,r=new this.Date(e.valueOf());this.set("Date",r,this.get("Date",e)-i+3);var o=new this.Date(this.get("FullYear",r),0,1);return 4!==this.get("Day",o)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",o))%7)),(1+Math.floor((r.valueOf()-o.valueOf())/6048e5)).toString()},t.dateFormats.E=function(t){return n("%a",t,!0).charAt(0)},r(e,"afterGetLabelPosition",function(t){var e,i,r,o,n,a,s,l=this.label,h=this.axis,d=h.reversed,c=h.chart,p=h.options,u=p&&w(p.grid)?p.grid:{},g=h.options.labels,f=g.align,x=O[h.side],m=t.tickmarkOffset,v=h.tickPositions,y=this.pos-m,b=E(v[t.index+1])?v[t.index+1]-m:h.max+m,M=h.tickSize("tick",!0),k=S(M)?M[0]:0,A=M&&M[1]/2;!0===u.enabled&&("top"===x?n=(o=h.top+h.offset)-k:"bottom"===x?o=(n=c.chartHeight-h.bottom+h.offset)+k:(o=h.top+h.len-h.translate(d?b:y),n=h.top+h.len-h.translate(d?y:b)),"right"===x?s=(a=c.chartWidth-h.right+h.offset)+k:"left"===x?a=(s=h.left+h.offset)-k:(a=Math.round(h.left+h.translate(d?b:y))-A,s=Math.round(h.left+h.translate(d?y:b))-A),this.slotWidth=s-a,t.pos.x="left"===f?a:"right"===f?s:a+(s-a)/2,t.pos.y=n+(o-n)/2,i=c.renderer.fontMetrics(g.style.fontSize,l.element),e=l.getBBox().height,g.useHTML?t.pos.y+=i.b+-e/2:(r=Math.round(e/i.h),t.pos.y+=(i.b-(i.h-i.f))/2+-(r-1)*i.h/2),t.pos.x+=h.horiz&&g.x||0)}),r(f,"afterTickSize",function(t){var e=this.defaultLeftAxisOptions,i=this.horiz,r=this.options.grid,o=void 0===r?{}:r,n=this.maxLabelDimensions;if(o.enabled){var a=2*Math.abs(e.labels.x),s=i?o.cellHeight||a+n.height:a+n.width;S(t.tickSize)?t.tickSize[0]=s:t.tickSize=[s]}}),r(f,"afterGetTitlePosition",function(t){var e=this,i=e.options;if(!0===(i&&w(i.grid)?i.grid:{}).enabled){var r=e.axisTitle,o=r&&r.getBBox().width,n=e.horiz,a=e.left,s=e.top,l=e.width,h=e.height,d=i.title,c=e.opposite,p=e.offset,u=e.tickSize()||[0],g=d.x||0,f=d.y||0,x=y(d.margin,n?5:10),m=e.chart.renderer.fontMetrics(d.style&&d.style.fontSize,r).f,v=(n?s+h:a)+(n?1:-1)*(c?-1:1)*(u[0]/2)+(e.side===O.bottom?m:0);t.titlePosition.x=n?a-o/2-x+g:v+(c?l:0)+p+g,t.titlePosition.y=n?v-(c?h:0)+(c?m:-m)/2+p+f:s-x+f}}),g(f.prototype,"unsquish",function(t){var e,i=this.options;return!0===(i&&w(i.grid)?i.grid:{}).enabled&&this.categories?this.tickInterval:t.apply(this,(e=arguments,Array.prototype.slice.call(e,1)))}),r(f,"afterSetOptions",function(t){var h,e=this.options,i=t.userOptions,r=e&&w(e.grid)?e.grid:{};!0===r.enabled&&(h=u(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(o(i.linkedTo)&&!o(i.tickPixelInterval)&&(h.tickPixelInterval=350),o(i.tickPixelInterval)||!o(i.linkedTo)||o(i.tickPositioner)||o(i.tickInterval)||(h.tickPositioner=function(t,e){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){var r,o,n,a,s,l=h.units;for(a=0;a<l.length;a++)if(l[a][0]===i.unitName){r=a;break}return l[r+1]?(n=l[r+1][0],o=(l[r+1][1]||[1])[0]):"year"===i.unitName&&(n="year",o=10*i.count),s=d[n],this.tickInterval=s*o,this.getTimeTicks({unitRange:s,count:o,unitName:n},t,e,this.options.startOfWeek)}})),u(!0,this.options,h),this.horiz&&(e.minPadding=y(i.minPadding,0),e.maxPadding=y(i.maxPadding,0)),E(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=r.borderWidth))}),r(f,"afterSetAxisTranslation",function(){var t=this.options,e=t&&w(t.grid)?t.grid:{},i=this.tickPositions&&this.tickPositions.info,r=this.userOptions.labels||{};this.horiz&&(!0===e.enabled&&this.series.forEach(function(t){t.options.pointRange=0}),i&&(!1===t.dateTimeLabelFormats[i.unitName].range||1<i.count)&&!o(r.align)&&(t.labels.align="left",o(r.x)||(t.labels.x=3)))}),r(f,"trimTicks",function(){var t=this,e=t.options,i=e&&w(e.grid)?e.grid:{},r=t.categories,o=t.tickPositions,n=o[0],a=o[o.length-1],s=t.linkedParent&&t.linkedParent.min,l=t.linkedParent&&t.linkedParent.max,h=s||t.min,d=l||t.max,c=t.tickInterval,p=n<h&&h<n+c,u=d<a&&a-c<d;!0!==i.enabled||r||!t.horiz&&!t.isLinked||(p&&!e.startOnTick&&(o[0]=h),u&&!e.endOnTick&&(o[o.length-1]=d))}),r(f,"afterRender",function(){var t,e,i,r,o=this,n=o.options,a=n&&w(n.grid)?n.grid:{},s=o.chart.renderer;if(!0===a.enabled){if(o.maxLabelDimensions=o.getMaxLabelDimensions(o.ticks,o.tickPositions),o.rightWall&&o.rightWall.destroy(),o.isOuterAxis()&&o.axisLine){var l=n.lineWidth;if(l){var h=o.getLinePath(l);i=h.indexOf("M")+1,r=h.indexOf("L")+1,t=h.indexOf("M")+2,e=h.indexOf("L")+2;var d=(o.tickSize("tick")[0]-1)*(o.side===O.top||o.side===O.left?-1:1);o.horiz?(h[t]=h[t]+d,h[e]=h[e]+d):(h[i]=h[i]+d,h[r]=h[r]+d),o.axisLineExtra?o.axisLineExtra.animate({d:h}):(o.axisLineExtra=s.path(h).attr({zIndex:7}).addClass("highcharts-axis-line").add(o.axisGroup),s.styledMode||o.axisLineExtra.attr({stroke:n.lineColor,"stroke-width":l})),o.axisLine[o.showAxis?"show":"hide"](!0)}}(o.columns||[]).forEach(function(t){t.render()})}});var s={afterGetOffset:function(){(this.columns||[]).forEach(function(t){t.getOffset()})},afterInit:function(){var t,e,i=this,r=i.chart,o=i.userOptions,n=i.options,a=n&&w(n.grid)?n.grid:{};if(a.enabled&&((e=(t=i).options).labels||(e.labels={}),e.labels.align=y(e.labels.align,"center"),t.categories||(e.showLastLabel=!1),t.labelRotation=0,e.labels.rotation=0,g(i,"labelFormatter",function(t){var e=this.axis,i=e.tickPositions,r=this.value,o=(e.isLinked?e.linkedParent:e).series[0],n=r===i[0],a=r===i[i.length-1],s=o&&p(o.options.data,function(t){return t[e.isXAxis?"x":"y"]===r});return this.isFirst=n,this.isLast=a,this.point=s,t.call(this)})),a.columns)for(var s=i.columns=[],l=i.columnIndex=0;++l<a.columns.length;){var h=u(o,a.columns[a.columns.length-l-1],{linkedTo:0,type:"category"});delete h.grid.columns;var d=new f(i.chart,h,!0);d.isColumn=!0,d.columnIndex=l,c(r.axes,d),c(r[i.coll],d),s.push(d)}},afterSetOptions:function(t){var e=t.userOptions,i=e&&w(e.grid)?e.grid:{},r=i.columns;i.enabled&&r&&u(!0,this.options,r[r.length-1])},afterSetScale:function(){(this.columns||[]).forEach(function(t){t.setScale()})},destroy:function(e){(this.columns||[]).forEach(function(t){t.destroy(e.keepEvents)})},init:function(t){var e=t.userOptions,i=e&&w(e.grid)?e.grid:{};i.enabled&&o(i.borderColor)&&(e.tickColor=e.lineColor=i.borderColor)}};Object.keys(s).forEach(function(t){r(f,t,s[t])}),r(a,"afterSetChartSize",function(){this.axes.forEach(function(t){(t.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})})}),i(e,"modules/static-scale.src.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(t,e){var i=e.addEvent,a=e.defined,r=e.isNumber,s=e.pick,o=t.Chart;i(t.Axis,"afterSetOptions",function(){var t=this.chart.options&&this.chart.options.chart;!this.horiz&&r(this.options.staticScale)&&(!t.height||t.scrollablePlotArea&&t.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)}),o.prototype.adjustHeight=function(){"adjustHeight"!==this.redrawTrigger&&((this.axes||[]).forEach(function(t){var e,i,r=t.chart,o=!!r.initiatedScale&&r.options.animation,n=t.options.staticScale;t.staticScale&&a(t.min)&&(e=s(t.unitLength,t.max+t.tickInterval-t.min)*n,i=(e=Math.max(e,n))-r.plotHeight,1<=Math.abs(i)&&(r.plotHeight=e,r.redrawTrigger="adjustHeight",r.setSize(void 0,r.chartHeight+i,o)),t.series.forEach(function(t){var e=t.sharedClipKey&&r[t.sharedClipKey];e&&e.attr({height:r.plotHeight})}))}),this.initiatedScale=!0),this.redrawTrigger=null},i(o,"render",o.prototype.adjustHeight)}),i(e,"mixins/tree-series.js",[e["parts/Color.js"],e["parts/Utilities.js"]],function(y,t){function p(t){return"boolean"==typeof t}var u=t.extend,l=t.isArray,h=t.isNumber,d=t.isObject,c=t.merge,b=t.pick;return{getColor:function(t,e){var i,r,o,n,a,s,l,h,d=e.index,c=e.mapOptionsToLevel,p=e.parentColor,u=e.parentColorIndex,g=e.series,f=e.colors,x=e.siblings,m=g.points,v=g.chart.options.chart;return t&&(i=m[t.i],r=c[t.level]||{},i&&r.colorByPoint&&(n=i.index%(f?f.length:v.colorCount),o=f&&f[n]),g.chart.styledMode||(a=b(i&&i.options.color,r&&r.color,o,p&&(l=p,(h=r&&r.colorVariation)&&"brightness"===h.key?y.parse(l).brighten(h.to*(d/x)).get():l),g.color)),s=b(i&&i.options.colorIndex,r&&r.colorIndex,n,u,e.colorIndex)),{color:a,colorIndex:s}},getLevelOptions:function(t){var n,e,i,a,r,o,s=null;if(d(t))for(s={},a=h(t.from)?t.from:1,o=t.levels,e={},n=d(t.defaults)?t.defaults:{},l(o)&&(e=o.reduce(function(t,e){var i,r,o;return d(e)&&h(e.level)&&(o=c({},e),r=p(o.levelIsConstant)?o.levelIsConstant:n.levelIsConstant,delete o.levelIsConstant,delete o.level,i=e.level+(r?0:a-1),d(t[i])?u(t[i],o):t[i]=o),t},{})),r=h(t.to)?t.to:1,i=0;i<=r;i++)s[i]=c({},n,d(e[i])?e[i]:{});return s},setTreeValues:function r(o,n){var t,e=n.before,i=n.idRoot,a=n.mapIdToNode[i],s=!p(n.levelIsConstant)||n.levelIsConstant,l=n.points[o.i],h=l&&l.options||{},d=0,c=[];return u(o,{levelDynamic:o.level-(s?0:a.level),name:b(l&&l.name,""),visible:i===o.id||!!p(n.visible)&&n.visible}),"function"==typeof e&&(o=e(o,n)),o.children.forEach(function(t,e){var i=u({},n);u(i,{index:e,siblings:o.children.length,visible:o.visible}),t=r(t,i),c.push(t),t.visible&&(d+=t.val)}),o.visible=0<d||o.visible,t=b(h.value,d),u(o,{children:c,childrenTotal:d,isLeaf:o.visible&&!d,val:t}),o},updateRootId:function(t){var e,i;return d(t)&&(i=d(t.options)?t.options:{},e=b(t.rootNode,i.rootId,""),d(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e),e}}}),i(e,"parts-gantt/Tree.js",[e["parts/Utilities.js"]],function(t){function g(t){return"function"==typeof t}function o(t,r){var o=t.reduce(function(t,e){var i=m(e.parent,"");return void 0===t[i]&&(t[i]=[]),t[i].push(e),t},{});return Object.keys(o).forEach(function(t,e){var i=o[t];""!==t&&-1===r.indexOf(t)&&(i.forEach(function(t){e[""].push(t)}),delete e[t])}),o}var f=t.extend,x=t.isNumber,m=t.pick,v=function(o,t,n,e,a,s){var l,h,i,d=0,c=0,r=s&&s.after,p=s&&s.before,u={data:e,depth:n-1,id:o,level:n,parent:t};return g(p)&&p(u,s),i=(a[o]||[]).map(function(t){var e=v(t.id,o,n+1,t,a,s),i=t.start,r=!0===t.milestone?i:t.end;return l=!x(l)||i<l?i:l,h=!x(h)||h<r?r:h,d=d+1+e.descendants,c=Math.max(e.height+1,c),e}),e&&(e.start=m(e.start,l),e.end=m(e.end,h)),f(u,{children:i,descendants:d,height:c}),g(r)&&r(u,s),u};return{getListOfParents:o,getNode:v,getTree:function(t,e){var i=t.map(function(t){return t.id}),r=o(t,i);return v("",null,1,null,r,e)}}}),i(e,"modules/broken-axis.src.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(h,t){function s(e,t){return r(t,function(t){return t.from<e&&e<t.to})}var e=t.addEvent,i=t.extend,r=t.find,u=t.fireEvent,o=t.isArray,g=t.pick,f=h.Axis,n=h.Series;i(f.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,r=t.from,o=t.to-t.from,n=r<=e?(e-r)%i:i-(r-e)%i;return t.inclusive?n<=o:n<o&&0!=n},isInAnyBreak:function(t,e){var i,r,o,n=this.options.breaks,a=n&&n.length;if(a){for(;a--;)this.isInBreak(n[a],t)&&(i=!0,r=r||g(n[a].showPoints,!this.isXAxis));o=i&&e?i&&!r:i}return o}}),e(f,"afterInit",function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)}),e(f,"afterSetTickPositions",function(){if(this.isBroken){var t,e=this.tickPositions,i=this.tickPositions.info,r=[];for(t=0;t<e.length;t++)this.isInAnyBreak(e[t])||r.push(e[t]);this.tickPositions=r,this.tickPositions.info=i}}),e(f,"afterSetOptions",function(){this.isBroken&&(this.options.ordinal=!1)}),f.prototype.setBreaks=function(t,e){var p=this,i=o(t)&&!!t.length;function r(t){var e,i,r=t;for(i=0;i<p.breakArray.length;i++)if((e=p.breakArray[i]).to<=t)r-=e.len;else{if(e.from>=t)break;if(p.isInBreak(e,t)){r-=t-e.from;break}}return r}p.isDirty=p.isBroken!==i,p.isBroken=i,p.options.breaks=p.userOptions.breaks=t,p.forceRedraw=!0,p.series.forEach(function(t){t.isDirty=!0}),i||p.val2lin!==r||(delete p.val2lin,delete p.lin2val),i&&(p.userOptions.ordinal=!1,p.val2lin=r,p.lin2val=function(t){var e,i,r=t;for(i=0;i<p.breakArray.length&&!((e=p.breakArray[i]).from>=r);i++)e.to<r?r+=e.len:p.isInBreak(e,r)&&(r+=e.len);return r},p.setExtremes=function(t,e,i,r,o){if(this.isBroken){for(var n,a=this.options.breaks;n=s(t,a);)t=n.to;for(;n=s(e,a);)e=n.from;e<t&&(e=t)}f.prototype.setExtremes.call(this,t,e,i,r,o)},p.setAxisTranslation=function(t){if(f.prototype.setAxisTranslation.call(this,t),this.unitLength=null,this.isBroken){var e,i,r,o,n=p.options.breaks,a=[],s=[],l=0,h=p.userMin||p.min,d=p.userMax||p.max,c=g(p.pointRangePadding,0);n.forEach(function(t){i=t.repeat||1/0,p.isInBreak(t,h)&&(h+=t.to%i-h%i),p.isInBreak(t,d)&&(d-=d%i-t.from%i)}),n.forEach(function(t){for(r=t.from,i=t.repeat||1/0;h<r-i;)r-=i;for(;r<h;)r+=i;for(o=r;o<d;o+=i)a.push({value:o,move:"in"}),a.push({value:o+(t.to-t.from),move:"out",size:t.breakSize})}),a.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),e=0,r=h,a.forEach(function(t){1===(e+="in"===t.move?1:-1)&&"in"===t.move&&(r=t.value),0===e&&(s.push({from:r,to:t.value,len:t.value-r-(t.size||0)}),l+=t.value-r-(t.size||0))}),p.breakArray=s,p.unitLength=d-h-l+c,u(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:p.unitLength&&(p.transA*=(d-p.min+c)/p.unitLength),c&&(p.minPixelPadding=p.transA*p.minPointOffset),p.min=h,p.max=d}}),g(e,!0)&&this.chart.redraw()},e(n,"afterGeneratePoints",function(){var t=this,e=t.isDirty,i=t.options.connectNulls,r=t.points,o=t.xAxis,n=t.yAxis;if(e)for(var a=r.length;a--;){var s=r[a],l=!(null===s.y&&!1===i)&&(o&&o.isInAnyBreak(s.x,!0)||n&&n.isInAnyBreak(s.y,!0));s.visible=!l&&!1!==s.options.visible}}),e(n,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,g(this.pointArrayMap,["y"]))}),h.Series.prototype.drawBreaks=function(i,t){var r,o,n,a,e=this,s=e.points;i&&t.forEach(function(t){r=i.breakArray||[],o=i.isXAxis?i.min:g(e.options.threshold,i.min),s.forEach(function(e){a=g(e["stack"+t.toUpperCase()],e[t]),r.forEach(function(t){n=!1,o<t.from&&a>t.to||o>t.from&&a<t.from?n="pointBreak":(o<t.from&&a>t.from&&a<t.to||o>t.from&&a>t.to&&a<t.from)&&(n="pointInBreak"),n&&u(i,n,{point:e,brk:t})})})})},h.Series.prototype.gappedPath=function(){var t=this.currentDataGrouping,e=t&&t.gapSize,i=this.options.gapSize,r=this.points.slice(),o=r.length-1,n=this.yAxis;if(i&&0<o){"value"!==this.options.gapUnit&&(i*=this.basePointRange),e&&i<e&&e>=this.basePointRange&&(i=e);for(var a=void 0,s=void 0;o--;)if(s&&!1!==s.visible||(s=r[o+1]),a=r[o],!1!==s.visible&&!1!==a.visible){if(s.x-a.x>i){var l=(a.x+s.x)/2;r.splice(o+1,0,{isNull:!0,x:l}),this.options.stacking&&((n.stacks[this.stackKey][l]=new h.StackItem(n,n.options.stackLabels,!1,l,this.stack)).total=0)}s=a}}return this.getGraphPath(r)}}),i(e,"parts-gantt/TreeGrid.js",[e["parts/Globals.js"],e["mixins/tree-series.js"],e["parts/Tick.js"],e["parts-gantt/Tree.js"],e["parts/Utilities.js"]],function(t,e,i,M,r){function D(t){return Array.prototype.slice.call(t,1)}function C(t){return r.isObject(t,!0)}function o(t,e){var i,r;for(i in e)Object.hasOwnProperty.call(e,i)&&(r=e[i],d(t,i,r))}function n(t,e){var i=t.collapseStart,r=t.collapseEnd;return e<=r&&(i-=.5),{from:i,to:r,showPoints:!1}}function I(t,e){var i=t.options.breaks||[],r=n(e,t.max);return i.some(function(t){return t.from===r.from&&t.to===r.to})}function k(t,e){var i=t.options.breaks||[],r=n(e,t.max);return i.push(r),i}function s(t,e){var i=t.options.breaks||[],r=n(e,t.max);return i.reduce(function(t,e){return e.to===r.to&&e.from===r.from||t.push(e),t},[])}function a(b){b.target.axes.filter(function(t){return"treegrid"===t.options.type}).forEach(function(i){var t,e,r,o,n,a,s,l,h,d,c,p,u,g,f,x=i.options||{},m=x.labels,v=x.uniqueNames,y=0;i.mapOfPosToGridNode&&!i.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty})||(e=i.series.reduce(function(e,t){return t.visible&&(t.options.data.forEach(function(t){C(t)&&(t.seriesIndex=y,e.push(t))}),!0===v&&y++),e},[]),o=e,a=!0===(n=v)?y:1,d=[],c=[],p={},u={},g=-1,f="boolean"==typeof n&&n,l={after:function(t){var e=u[t.pos],i=0,r=0;e.children.forEach(function(t){r+=t.descendants+1,i=Math.max(t.height+1,i)}),e.descendants=r,e.height=i,e.collapsed&&c.push(e)},before:function(t){var e,i,r=C(t.data)?t.data:{},o=A(r.name)?r.name:"",n=p[t.parent],a=C(n)?u[n.pos]:null;f&&C(a)&&(e=S(a.children,function(t){return t.name===o}))?(i=e.pos,e.nodes.push(t)):i=g++,u[i]||(u[i]=e={depth:a?a.depth+1:0,name:o,nodes:[t],children:[],pos:i},-1!==i&&d.push(o),C(a)&&a.children.push(e)),A(t.id)&&(p[t.id]=t),!0===r.collapsed&&(e.collapsed=!0),t.pos=i}},h=function(t,s){var l=function(t,i,e){var r=t.nodes,o=i+(-1===i?0:s-1),n=(o-i)/2,a=i+n;return r.forEach(function(t){var e=t.data;C(e)&&(e.y=i+e.seriesIndex,delete e.seriesIndex),t.pos=a}),(e[a]=t).pos=a,t.tickmarkOffset=.5+n,t.collapseStart=o+.5,t.children.forEach(function(t){l(t,o+1,e),o=t.collapseEnd-.5}),t.collapseEnd=o+.5,e};return l(t[-1],-1,{})},s=M.getTree(o,l),u=h(u,a),r={categories:d,mapOfIdToNode:p,mapOfPosToGridNode:u,collapsedNodes:c,tree:s},i.categories=r.categories,i.mapOfPosToGridNode=r.mapOfPosToGridNode,i.hasNames=!0,i.tree=r.tree,i.series.forEach(function(t){var e=t.options.data.map(function(t){return C(t)?w(t):t});t.visible&&t.setData(e,!1)}),i.mapOptionsToLevel=E({defaults:m,from:1,levels:m.levels,to:i.tree.height}),"beforeRender"===b.type&&(t=z(i,"foundExtremes",function(){r.collapsedNodes.forEach(function(t){var e=k(i,t);i.setBreaks(e,!1)}),t()})))})}var z=r.addEvent,R=r.defined,l=r.fireEvent,h=r.extend,L=r.isNumber,A=r.isString,w=r.merge,G=r.pick,d=r.wrap,S=r.find,E=e.getLevelOptions,c=t.Axis,p=i;o(c.prototype,{init:function(t,e,i){var r="treegrid"===i.type;r&&(z(e,"beforeRender",a),z(e,"beforeRedraw",a),i=w({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),t.apply(this,[e,i]),r&&(this.hasNames=!0,this.options.showLastLabel=!0)},getMaxLabelDimensions:function(t){var e,i=this.options,r=i&&i.labels,o=r&&L(r.indentation)?i.labels.indentation:0,n=t.apply(this,D(arguments));return"treegrid"===this.options.type&&this.mapOfPosToGridNode&&(e=this.mapOfPosToGridNode[-1].height,n.width+=o*(e-1)),n},generateTick:function(t,e){var i,r,o,n=this,a=C(n.mapOptionsToLevel)?n.mapOptionsToLevel:{},s="treegrid"===n.options.type,l=n.ticks,h=l[e];s?((i=a[(o=n.mapOfPosToGridNode[e]).depth])&&(r={labels:i}),h?(h.parameters.category=o.name,h.options=r,h.addLabel()):l[e]=h=new p(n,e,null,void 0,{category:o.name,tickmarkOffset:o.tickmarkOffset,options:r})):t.apply(n,D(arguments))},setTickInterval:function(t){var r,e=this,i=e.options;"treegrid"===i.type?(e.min=G(e.userMin,i.min,e.dataMin),e.max=G(e.userMax,i.max,e.dataMax),l(e,"foundExtremes"),e.setAxisTranslation(!0),e.tickmarkOffset=.5,e.tickInterval=1,e.tickPositions=this.mapOfPosToGridNode?(r=e,Object.keys(r.mapOfPosToGridNode).reduce(function(t,e){var i=+e;return r.min<=i&&r.max>=i&&!r.isInAnyBreak(i)&&t.push(i),t},[])):[]):t.apply(e,D(arguments))}}),o(p.prototype,{getLabelPosition:function(t,e,i,r,o,n,a,s,l){var h,d,c,p,u,g=this,f=G(g.options&&g.options.labels,n),x=g.pos,m=g.axis,v="treegrid"===m.options.type,y=t.apply(g,[e,i,r,o,f,a,s,l]);return v&&(h=f&&C(f.symbol)?f.symbol:{},d=f&&L(f.indentation)?f.indentation:0,u=(p=(c=m.mapOfPosToGridNode)&&c[x])&&p.depth||1,y.x+=h.width+2*h.padding+(u-1)*d),y},renderLabel:function(t){var e,i,r,o,n,a,s,l,h,d,c,p,u,g,f,x=this,m=x.pos,v=x.axis,y=x.label,b=v.mapOfPosToGridNode,M=v.options,k=G(x.options&&x.options.labels,M&&M.labels),A=k&&C(k.symbol)?k.symbol:{},w=b&&b[m],S=w&&w.depth,E="treegrid"===M.type,O=!(!y||!y.element),P=-1<v.tickPositions.indexOf(m),T="highcharts-treegrid-node-",B=v.chart.styledMode;E&&w&&O&&y.addClass(T+"level-"+S),t.apply(x,D(arguments)),E&&w&&O&&0<w.descendants&&(e=I(v,w),o=x,n={color:!B&&y.styles.color,collapsed:e,group:y.parentGroup,options:A,renderer:y.renderer,show:P,xy:y.xy},a=o.labelIcon,s=!a,l=n.renderer,h=n.xy,d=n.options,c=d.width,p=d.height,u={x:h.x-c/2-d.padding,y:h.y-p/2},g=n.collapsed?90:180,f=n.show&&L(u.y),s&&(o.labelIcon=a=l.path(l.symbols[d.type](d.x,d.y,c,p)).addClass("highcharts-label-icon").add(n.group)),f||a.attr({y:-9999}),l.styledMode||a.attr({"stroke-width":1,fill:G(n.color,"#666666")}).css({cursor:"pointer",stroke:d.lineColor,strokeWidth:d.lineWidth}),a[s?"attr":"animate"]({translateX:u.x,translateY:u.y,rotation:g}),i=T+(e?"collapsed":"expanded"),r=T+(e?"expanded":"collapsed"),y.addClass(i).removeClass(r),B||y.css({cursor:"pointer"}),[y,x.labelIcon].forEach(function(t){t.attachedTreeGridEvents||(z(t.element,"mouseover",function(){var t;(t=y).addClass("highcharts-treegrid-node-active"),t.renderer.styledMode||t.css({textDecoration:"underline"})}),z(t.element,"mouseout",function(){var t,e,i;t=y,i=R((e=k).style)?e.style:{},t.removeClass("highcharts-treegrid-node-active"),t.renderer.styledMode||t.css({textDecoration:i.textDecoration})}),z(t.element,"click",function(){x.toggleCollapse()}),t.attachedTreeGridEvents=!0)}))}}),h(p.prototype,{collapse:function(t){var e=this.axis,i=this.pos,r=e.mapOfPosToGridNode[i],o=k(e,r);e.setBreaks(o,G(t,!0))},expand:function(t){var e=this.axis,i=this.pos,r=e.mapOfPosToGridNode[i],o=s(e,r);e.setBreaks(o,G(t,!0))},toggleCollapse:function(t){var e,i,r=this.axis,o=this.pos,n=r.mapOfPosToGridNode[o],a=(I(e=r,i=n)?s:k)(e,i);r.setBreaks(a,G(t,!0))}}),c.prototype.utils={getNode:M.getNode}}),i(e,"parts-gantt/PathfinderAlgorithms.js",[e["parts/Utilities.js"]],function(t){var e=t.extend,S=t.pick,E=Math.min,O=Math.max,P=Math.abs;function T(t,e,i){for(var r,o,n=i||0,a=t.length-1,s=e-1e-7;n<=a;)if(0<(o=s-t[r=a+n>>1].xMin))n=1+r;else{if(!(o<0))return r;a=r-1}return 0<n?n-1:0}function B(t,e){for(var i,r,o=T(t,e.x+1)+1;o--;)if(t[o].xMax>=e.x&&(i=t[o],(r=e).x<=i.xMax&&r.x>=i.xMin&&r.y<=i.yMax&&r.y>=i.yMin))return o;return-1}function D(t){var e=[];if(t.length){e.push("M",t[0].start.x,t[0].start.y);for(var i=0;i<t.length;++i)e.push("L",t[i].end.x,t[i].end.y)}return e}function C(t,e){t.yMin=O(t.yMin,e.yMin),t.yMax=E(t.yMax,e.yMax),t.xMin=O(t.xMin,e.xMin),t.xMax=E(t.xMax,e.xMax)}return{straight:function(t,e){return{path:["M",t.x,t.y,"L",e.x,e.y],obstacles:[{start:t,end:e}]}},simpleConnect:e(function(t,e,i){var r,o,n,a,s,l,h,d=[],c=S(i.startDirectionX,P(e.x-t.x)>P(e.y-t.y))?"x":"y",p=i.chartObstacles,u=B(p,t),g=B(p,e);function f(t,e,i,r,o){var n={x:t.x,y:t.y};return n[e]=i[r||e]+(o||0),n}function x(t,e,i){var r=P(e[i]-t[i+"Min"])>P(e[i]-t[i+"Max"]);return f(e,i,t,i+(r?"Max":"Min"),r?1:-1)}return h=-1<g?(r={start:a=x(p[g],e,c),end:e},a):e,-1<u&&(a=x(o=p[u],t,c),d.push({start:t,end:a}),a[c]>=t[c]==a[c]>=h[c]&&(l=t[c="y"===c?"x":"y"]<e[c],d.push({start:a,end:f(a,c,o,c+(l?"Max":"Min"),l?1:-1)}),c="y"===c?"x":"y")),a=f(n=d.length?d[d.length-1].end:t,c,h),d.push({start:n,end:a}),s=f(a,c="y"===c?"x":"y",h),d.push({start:a,end:s}),d.push(r),{path:D(d),obstacles:d}},{requiresObstacles:!0}),fastAvoid:e(function(t,e,g){var i,r,o,n,a,s,l,h,d=S(g.startDirectionX,P(e.x-t.x)>P(e.y-t.y)),c=d?"x":"y",p=[],f=!1,u=g.obstacleMetrics,x=E(t.x,e.x)-u.maxWidth-10,m=O(t.x,e.x)+u.maxWidth+10,v=E(t.y,e.y)-u.maxHeight-10,y=O(t.y,e.y)+u.maxHeight+10,b=g.chartObstacles,M=T(b,x),k=T(b,m);function A(t,e,i){var r,o,n,a,s,l=t.x<e.x?1:-1;for(o=t.x<e.x?(r=t,e):(r=e,t),n=t.y<e.y?(a=t,e):(a=e,t),s=l<0?E(T(b,o.x),b.length-1):0;b[s]&&(0<l&&b[s].xMin<=o.x||l<0&&b[s].xMax>=r.x);){if(b[s].xMin<=o.x&&b[s].xMax>=r.x&&b[s].yMin<=n.y&&b[s].yMax>=a.y)return i?{y:t.y,x:t.x<e.x?b[s].xMin-1:b[s].xMax+1,obstacle:b[s]}:{x:t.x,y:t.y<e.y?b[s].yMin-1:b[s].yMax+1,obstacle:b[s]};s+=l}return e}function w(t,e,i,r,o){var n,a,s=o.soft,l=o.hard,h=r?"x":"y",d={x:e.x,y:e.y},c={x:e.x,y:e.y},p=t[h+"Max"]>=s[h+"Max"],u=t[h+"Min"]<=s[h+"Min"],g=t[h+"Max"]>=l[h+"Max"],f=t[h+"Min"]<=l[h+"Min"],x=P(t[h+"Min"]-e[h]),m=P(t[h+"Max"]-e[h]),v=P(x-m)<10?e[h]<i[h]:m<x;return c[h]=t[h+"Min"],d[h]=t[h+"Max"],n=A(e,c,r)[h]!==c[h],a=A(e,d,r)[h]!==d[h],v=n?!a||v:!a&&v,v=u?!p||v:!p&&v,v=f?!g||v:!g&&v}for(-1<(k=B(b=b.slice(M,k+1),e))&&(n=b[k],a=e,s=t,l=E(n.xMax-a.x,a.x-n.xMin)<E(n.yMax-a.y,a.y-n.yMin),h=w(n,a,s,l,{soft:g.hardBounds,hard:g.hardBounds}),o=l?{y:a.y,x:n[h?"xMax":"xMin"]+(h?1:-1)}:{x:a.x,y:n[h?"yMax":"yMin"]+(h?1:-1)},p.push({end:e,start:o}),e=o);-1<(k=B(b,e));)r=e[c]-t[c]<0,(o={x:e.x,y:e.y})[c]=b[k][r?c+"Max":c+"Min"]+(r?1:-1),p.push({end:e,start:o}),e=o;return{path:D(i=(i=function t(e,i,r){if(e.x===i.x&&e.y===i.y)return[];var o,n,a,s,l,h,d,c=r?"x":"y",p=g.obstacleOptions.margin,u={soft:{xMin:x,xMax:m,yMin:v,yMax:y},hard:g.hardBounds};return-1<(l=B(b,e))?(s=w(l=b[l],e,i,r,u),C(l,g.hardBounds),d=r?{y:e.y,x:l[s?"xMax":"xMin"]+(s?1:-1)}:{x:e.x,y:l[s?"yMax":"yMin"]+(s?1:-1)},-1<(h=B(b,d))&&(C(h=b[h],g.hardBounds),d[c]=s?O(l[c+"Max"]-p+1,(h[c+"Min"]+l[c+"Max"])/2):E(l[c+"Min"]+p-1,(h[c+"Max"]+l[c+"Min"])/2),f=e.x===d.x&&e.y===d.y&&(f&&(d[c]=s?O(l[c+"Max"],h[c+"Max"])+1:E(l[c+"Min"],h[c+"Min"])-1),!f)),n=[{start:e,end:d}]):(n=[{start:e,end:{x:(o=A(e,{x:r?i.x:e.x,y:r?e.y:i.y},r)).x,y:o.y}}],o[r?"x":"y"]!==i[r?"x":"y"]&&(s=w(o.obstacle,o,i,!r,u),C(o.obstacle,g.hardBounds),a={x:r?o.x:o.obstacle[s?"xMax":"xMin"]+(s?1:-1),y:r?o.obstacle[s?"yMax":"yMin"]+(s?1:-1):o.y},r=!r,n=n.concat(t({x:o.x,y:o.y},a,r)))),n=n.concat(t(n[n.length-1].end,i,!r))}(t,e,d)).concat(p.reverse())),obstacles:i}},{requiresObstacles:!0})}}),i(e,"parts-gantt/ArrowSymbols.js",[e["parts/Globals.js"]],function(o){o.SVGRenderer.prototype.symbols.arrow=function(t,e,i,r){return["M",t,e+r/2,"L",t+i,e,"L",t,e+r/2,"L",t+i,e+r]},o.SVGRenderer.prototype.symbols["arrow-half"]=function(t,e,i,r){return o.SVGRenderer.prototype.symbols.arrow(t,e,i/2,r)},o.SVGRenderer.prototype.symbols["triangle-left"]=function(t,e,i,r){return["M",t+i,e,"L",t,e+r/2,"L",t+i,e+r,"Z"]},o.SVGRenderer.prototype.symbols["arrow-filled"]=o.SVGRenderer.prototype.symbols["triangle-left"],o.SVGRenderer.prototype.symbols["triangle-left-half"]=function(t,e,i,r){return o.SVGRenderer.prototype.symbols["triangle-left"](t,e,i/2,r)},o.SVGRenderer.prototype.symbols["arrow-filled-half"]=o.SVGRenderer.prototype.symbols["triangle-left-half"]}),i(e,"parts-gantt/Pathfinder.js",[e["parts/Globals.js"],e["parts/Point.js"],e["parts/Utilities.js"],e["parts-gantt/PathfinderAlgorithms.js"]],function(t,h,e,i){var r=e.addEvent,c=e.defined,n=e.error,o=e.extend,d=e.merge,a=e.objectEach,p=e.pick,u=e.splat,x=t.deg2rad,g=Math.max,f=Math.min;function y(t){var e,i=t.shapeArgs;return i?{xMin:i.x,xMax:i.x+i.width,yMin:i.y,yMax:i.y+i.height}:(e=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}function m(t,e,i){this.init(t,e,i)}function s(t){this.init(t)}o(t.defaultOptions,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}}),m.prototype={init:function(t,e,i){this.fromPoint=t,this.toPoint=e,this.options=i,this.chart=t.series.chart,this.pathfinder=this.chart.pathfinder},renderPath:function(t,e,i){var r,o=this.chart,n=o.styledMode,a=o.pathfinder,s=!o.options.chart.forExport&&!1!==i,l=this.graphics&&this.graphics.path;a.group||(a.group=o.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(o.seriesGroup)),a.group.translate(o.plotLeft,o.plotTop),l&&l.renderer||(l=o.renderer.path().add(a.group),n||l.attr({opacity:0})),l.attr(e),r={d:t},n||(r.opacity=1),l[s?"animate":"attr"](r,i),this.graphics=this.graphics||{},this.graphics.path=l},addMarker:function(t,e,i){var r,o,n,a,s,l,h,d=this,c=d.fromPoint.series.chart,p=c.pathfinder,u=c.renderer,g="start"===t?d.fromPoint:d.toPoint,f=g.getPathfinderAnchorPoint(e);e.enabled&&(h="start"===t?{x:i[4],y:i[5]}:{x:i[i.length-5],y:i[i.length-4]},o=g.getRadiansToVector(h,f),r=g.getMarkerVector(o,e.radius,f),n=-o/x,e.width&&e.height?(s=e.width,l=e.height):s=l=2*e.radius,d.graphics=d.graphics||{},a={x:r.x-s/2,y:r.y-l/2,width:s,height:l,rotation:n,rotationOriginX:r.x,rotationOriginY:r.y},d.graphics[t]?d.graphics[t].animate(a):(d.graphics[t]=u.symbol(e.symbol).addClass("highcharts-point-connecting-path-"+t+"-marker").attr(a).add(p.group),u.styledMode||d.graphics[t].attr({fill:e.color||d.fromPoint.color,stroke:e.lineColor,"stroke-width":e.lineWidth,opacity:0}).animate({opacity:1},g.series.options.animation)))},getPath:function(t){var e=this.pathfinder,i=this.chart,r=e.algorithms[t.type],o=e.chartObstacles;if("function"==typeof r)return r.requiresObstacles&&!o&&(o=e.chartObstacles=e.getChartObstacles(t),i.options.connectors.algorithmMargin=t.algorithmMargin,e.chartObstacleMetrics=e.getObstacleMetrics(o)),r(this.fromPoint.getPathfinderAnchorPoint(t.startMarker),this.toPoint.getPathfinderAnchorPoint(t.endMarker),d({chartObstacles:o,lineObstacles:e.lineObstacles||[],obstacleMetrics:e.chartObstacleMetrics,hardBounds:{xMin:0,xMax:i.plotWidth,yMin:0,yMax:i.plotHeight},obstacleOptions:{margin:t.algorithmMargin},startDirectionX:e.getAlgorithmStartDirection(t.startMarker)},t));n('"'+t.type+'" is not a Pathfinder algorithm.')},render:function(){var t,e,i=this,r=i.fromPoint,o=r.series,n=o.chart,a=n.pathfinder,s=d(n.options.connectors,o.options.connectors,r.options.connectors,i.options),l={};n.styledMode||(l.stroke=s.lineColor||r.color,l["stroke-width"]=s.lineWidth,s.dashStyle&&(l.dashstyle=s.dashStyle)),l.class="highcharts-point-connecting-path highcharts-color-"+r.colorIndex,s=d(l,s),c(s.marker.radius)||(s.marker.radius=f(g(Math.ceil((s.algorithmMargin||8)/2)-1,1),5)),e=(t=i.getPath(s)).path,t.obstacles&&(a.lineObstacles=a.lineObstacles||[],a.lineObstacles=a.lineObstacles.concat(t.obstacles)),i.renderPath(e,l,o.options.animation),i.addMarker("start",d(s.marker,s.startMarker),e),i.addMarker("end",d(s.marker,s.endMarker),e)},destroy:function(){this.graphics&&(a(this.graphics,function(t){t.destroy()}),delete this.graphics)}},s.prototype={algorithms:i,init:function(t){this.chart=t,this.connections=[],r(t,"redraw",function(){this.pathfinder.update()})},update:function(t){var r=this.chart,o=this,e=o.connections;o.connections=[],r.series.forEach(function(t){t.visible&&!t.options.isInternal&&t.points.forEach(function(e){var i,t=e.options&&e.options.connect&&u(e.options.connect);e.visible&&!1!==e.isInside&&t&&t.forEach(function(t){(i=r.get("string"==typeof t?t:t.to))instanceof h&&i.series.visible&&i.visible&&!1!==i.isInside&&o.connections.push(new m(e,i,"string"==typeof t?{}:t))})})});for(var i,n,a=0,s=e.length,l=o.connections.length;a<s;++a){for(n=!1,i=0;i<l;++i)if(e[a].fromPoint===o.connections[i].fromPoint&&e[a].toPoint===o.connections[i].toPoint){o.connections[i].graphics=e[a].graphics,n=!0;break}n||e[a].destroy()}delete this.chartObstacles,delete this.lineObstacles,o.renderConnections(t)},renderConnections:function(t){t?this.chart.series.forEach(function(e){function t(){var t=e.chart.pathfinder;(t&&t.connections||[]).forEach(function(t){t.fromPoint&&t.fromPoint.series===e&&t.render()}),e.pathfinderRemoveRenderEvent&&(e.pathfinderRemoveRenderEvent(),delete e.pathfinderRemoveRenderEvent)}!1===e.options.animation?t():e.pathfinderRemoveRenderEvent=r(e,"afterAnimate",t)}):this.connections.forEach(function(t){t.render()})},getChartObstacles:function(t){for(var e,i=[],r=this.chart.series,o=p(t.algorithmMargin,0),n=0,a=r.length;n<a;++n)if(r[n].visible&&!r[n].options.isInternal)for(var s,l,h=0,d=r[n].points.length;h<d;++h)(l=r[n].points[h]).visible&&(s=y(l))&&i.push({xMin:s.xMin-o,xMax:s.xMax+o,yMin:s.yMin-o,yMax:s.yMax+o});return i=i.sort(function(t,e){return t.xMin-e.xMin}),c(t.algorithmMargin)||(e=t.algorithmMargin=function(t){for(var e,i,r=t.length,o=0,n=[],l=function(t,e,i){var r=p(i,10),o=t.yMax+r>e.yMin-r&&t.yMin-r<e.yMax+r,n=t.xMax+r>e.xMin-r&&t.xMin-r<e.xMax+r,a=o?t.xMin>e.xMax?t.xMin-e.xMax:e.xMin-t.xMax:1/0,s=n?t.yMin>e.yMax?t.yMin-e.yMax:e.yMin-t.yMax:1/0;return n&&o?r?l(t,e,Math.floor(r/2)):1/0:f(a,s)};o<r;++o)for(e=o+1;e<r;++e)(i=l(t[o],t[e]))<80&&n.push(i);return n.push(80),g(Math.floor(n.sort(function(t,e){return t-e})[Math.floor(n.length/10)]/2-1),1)}(i),i.forEach(function(t){t.xMin-=e,t.xMax+=e,t.yMin-=e,t.yMax+=e})),i},getObstacleMetrics:function(t){for(var e,i,r=0,o=0,n=t.length;n--;)r<(e=t[n].xMax-t[n].xMin)&&(r=e),o<(i=t[n].yMax-t[n].yMin)&&(o=i);return{maxHeight:o,maxWidth:r}},getAlgorithmStartDirection:function(t){var e="left"!==t.align&&"right"!==t.align,i="top"!==t.verticalAlign&&"bottom"!==t.verticalAlign;return e?i&&void 0:i||void 0}},t.Connection=m,t.Pathfinder=s,o(h.prototype,{getPathfinderAnchorPoint:function(t){var e,i,r=y(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":i="yMin";break;case"bottom":i="yMax"}return{x:e?r[e]:(r.xMin+r.xMax)/2,y:i?r[i]:(r.yMin+r.yMax)/2}},getRadiansToVector:function(t,e){var i;return c(e)||(e={x:((i=y(this)).xMin+i.xMax)/2,y:(i.yMin+i.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)},getMarkerVector:function(t,e,i){for(var r,o=2*Math.PI,n=t,a=y(this),s=a.xMax-a.xMin,l=a.yMax-a.yMin,h=Math.atan2(l,s),d=!1,c=s/2,p=l/2,u=a.xMin+c,g=a.yMin+p,f={x:u,y:g},x={},m=1,v=1;n<-Math.PI;)n+=o;for(;n>Math.PI;)n-=o;return r=Math.tan(n),-h<n&&n<=h?(v=-1,d=!0):h<n&&n<=Math.PI-h?v=-1:n>Math.PI-h||n<=-(Math.PI-h)?(m=-1,d=!0):m=-1,d?(f.x+=m*c,f.y+=v*c*r):(f.x+=m*(l/(2*r)),f.y+=v*p),i.x!==u&&(f.x=i.x),i.y!==g&&(f.y=i.y),x.x=f.x+e*Math.cos(n),x.y=f.y-e*Math.sin(n),x}}),t.Chart.prototype.callbacks.push(function(t){var e;!1!==t.options.connectors.enabled&&(((e=t).options.pathfinder||e.series.reduce(function(t,e){return e.options&&d(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),t||e.options&&e.options.pathfinder},!1))&&(d(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),n('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.')),this.pathfinder=new s(this),this.pathfinder.update(!0))})}),i(e,"modules/xrange.src.js",[e["parts/Globals.js"],e["parts/Color.js"],e["parts/Point.js"],e["parts/Utilities.js"]],function(t,e,r,i){var v=e.parse,o=i.addEvent,E=i.clamp,n=i.correctFloat,O=i.defined,s=i.find,P=i.isNumber,T=i.isObject,B=i.merge,D=i.pick,a=i.seriesType,l=t.seriesTypes.column,h=t.seriesTypes,d=t.Axis,c=t.Series;a("xrange","column",{colorByPoint:!0,dataLabels:{formatter:function(){var t=this.point.partialFill;if(T(t)&&(t=t.amount),P(t)&&0<t)return n(100*t)+"%"},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:'<span style="font-size: 10px">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0},{type:"xrange",parallelArrays:["x","x2","y"],requireSorting:!1,animate:h.line.prototype.animate,cropShoulder:1,getExtremesFromAll:!0,autoIncrement:t.noop,buildKDTree:t.noop,getColumnMetrics:function(){var t,e=this.chart;function i(){e.series.forEach(function(t){var e=t.xAxis;t.xAxis=t.yAxis,t.yAxis=e})}return i(),t=l.prototype.getColumnMetrics.call(this),i(),t},cropData:function(t,e,i,r){var o=c.prototype.cropData.call(this,this.x2Data,e,i,r);return o.xData=t.slice(o.start,o.end),o},findPointIndex:function(e){var t,i,r=this.cropped,o=this.cropStart,n=this.points,a=e.id;a&&(t=(i=s(n,function(t){return t.id===a}))?i.index:void 0);void 0===t&&(t=(i=s(n,function(t){return t.x===e.x&&t.x2===e.x2&&!t.touched}))?i.index:void 0);return r&&P(t)&&P(o)&&o<=t&&(t-=o),t},translatePoint:function(t){var e,i,r,o,n,a,s,l,h=this,d=h.xAxis,c=h.yAxis,p=h.columnMetrics,u=h.options,g=u.minPointLength||0,f=t.plotX,x=D(t.x2,t.x+(t.len||0)),m=d.translate(x,0,0,0,1),v=Math.abs(m-f),y=this.chart.inverted,b=D(u.borderWidth,1)%2/2,M=p.offset,k=Math.round(p.width);g&&((e=g-v)<0&&(e=0),f-=e/2,m+=e/2),f=Math.max(f,-10),m=E(m,-10,d.len+10),O(t.options.pointWidth)&&(M-=(Math.ceil(t.options.pointWidth)-k)/2,k=Math.ceil(t.options.pointWidth)),u.pointPlacement&&P(t.plotY)&&c.categories&&(t.plotY=c.translate(t.y,0,1,0,1,u.pointPlacement)),t.shapeArgs={x:Math.floor(Math.min(f,m))+b,y:Math.floor(t.plotY+M)+b,width:Math.round(Math.abs(m-f)),height:k,r:h.options.borderRadius},n=(o=t.shapeArgs.x)+t.shapeArgs.width,o<0||n>d.len?(o=E(o,0,d.len),a=(n=E(n,0,d.len))-o,t.dlBox=B(t.shapeArgs,{x:o,width:n-o,centerX:a?a/2:null})):t.dlBox=null;var A=t.tooltipPos,w=y?1:0,S=y?0:1;l=h.columnMetrics?h.columnMetrics.offset:-p.width/2,A[w]=E(A[w]+(y?-1:1)*(d.reversed?-1:1)*(v/2),0,d.len-1),A[S]=E(A[S]+(y?-1:1)*l,0,c.len-1),(r=t.partialFill)&&(T(r)&&(r=r.amount),P(r)||(r=0),i=t.shapeArgs,t.partShapeArgs={x:i.x,y:i.y,width:i.width,height:i.height,r:h.options.borderRadius},s=Math.max(Math.round(v*r+t.plotX-f),0),t.clipRectArgs={x:d.reversed?i.x+v-s:i.x,y:i.y,width:s,height:i.height})},translate:function(){l.prototype.translate.apply(this,arguments),this.points.forEach(function(t){this.translatePoint(t)},this)},drawPoint:function(t,e){var i,r=this,o=r.options,n=r.chart.renderer,a=t.graphic,s=t.shapeType,l=t.shapeArgs,h=t.partShapeArgs,d=t.clipRectArgs,c=t.partialFill,p=o.stacking&&!o.borderRadius,u=t.state,g=o.states[u||"normal"]||{},f=void 0===u?"attr":e,x=r.pointAttribs(t,u),m=D(r.chart.options.chart.animation,g.animation);t.isNull||!1===t.visible?a&&(t.graphic=a.destroy()):(a?a.rect[e](l):(t.graphic=a=n.g("point").addClass(t.getClassName()).add(t.group||r.group),a.rect=n[s](B(l)).addClass(t.getClassName()).addClass("highcharts-partfill-original").add(a)),h&&(a.partRect?(a.partRect[e](B(h)),a.partialClipRect[e](B(d))):(a.partialClipRect=n.clipRect(d.x,d.y,d.width,d.height),a.partRect=n[s](h).addClass("highcharts-partfill-overlay").add(a).clip(a.partialClipRect))),r.chart.styledMode||(a.rect[e](x,m).shadow(o.shadow,null,p),h&&(T(c)||(c={}),T(o.partialFill)&&(c=B(c,o.partialFill)),i=c.fill||v(x.fill).brighten(-.3).get()||v(t.color||r.color).brighten(-.3).get(),x.fill=i,a.partRect[f](x,m).shadow(o.shadow,null,p))))},drawPoints:function(){var e=this,i=e.getAnimationVerb();e.points.forEach(function(t){e.drawPoint(t,i)})},getAnimationVerb:function(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"}},{resolveColor:function(){var t,e,i,r,o,n,a=this.series;a.options.colorByPoint&&!this.options.color?(i=this,r=(e=a).options.colors||e.chart.options.colors,o=r?r.length:e.chart.options.chart.colorCount,t={colorIndex:n=i.y%o,color:r&&r[n]},a.chart.styledMode||(this.color=t.color),this.options.colorIndex||(this.colorIndex=t.colorIndex)):this.color||(this.color=a.color)},init:function(){return r.prototype.init.apply(this,arguments),this.y||(this.y=0),this},setState:function(){r.prototype.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())},getLabelConfig:function(){var t=this,e=r.prototype.getLabelConfig.call(t),i=t.series.yAxis.categories;return e.x2=t.x2,e.yCategory=t.yCategory=i&&i[t.y],e},tooltipDateKeys:["x","x2"],isValid:function(){return"number"==typeof this.x&&"number"==typeof this.x2}}),o(d,"afterGetSeriesExtremes",function(){var e,i,t=this.series;this.isXAxis&&(e=D(this.dataMax,-Number.MAX_VALUE),t.forEach(function(t){t.x2Data&&t.x2Data.forEach(function(t){e<t&&(e=t,i=!0)})}),i&&(this.dataMax=e))})}),i(e,"parts-gantt/GanttSeries.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(r,t){var c=t.isNumber,o=t.merge,e=t.pick,i=t.seriesType,p=t.splat,u=r.dateFormat,n=r.seriesTypes,a=r.Series,g=n.xrange;i("gantt","xrange",{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){var t,e,i=this,r=i.series,o=r.chart.tooltip,n=r.xAxis,a=r.tooltipOptions.dateTimeLabelFormats,s=n.options.startOfWeek,l=r.tooltipOptions,h=l.xDateFormat,d=i.options.milestone,c="<b>"+(i.name||i.yCategory)+"</b>";return l.pointFormat?i.tooltipFormatter(l.pointFormat):(h=h||p(o.getDateFormat(n.closestPointRange,i.start,s,a))[0],t=u(h,i.start),e=u(h,i.end),c+="<br/>",d?c+=t+"<br/>":(c+="Start: "+t+"<br/>",c+="End: "+e+"<br/>"),c)}},connectors:{type:"simpleConnect",animation:{reversed:!0},startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}},{pointArrayMap:["start","end","y"],keyboardMoveVertical:!1,translatePoint:function(t){var e,i;g.prototype.translatePoint.call(this,t),t.options.milestone&&(i=(e=t.shapeArgs).height,t.shapeArgs={x:e.x-i/2,y:e.y,width:i,height:i})},drawPoint:function(t,e){var i,r=this,o=r.options,n=r.chart.renderer,a=t.shapeArgs,s=t.plotY,l=t.graphic,h=t.selected&&"select",d=o.stacking&&!o.borderRadius;t.options.milestone?c(s)&&null!==t.y&&!1!==t.visible?(i=n.symbols.diamond(a.x,a.y,a.width,a.height),l?l[e]({d:i}):t.graphic=l=n.path(i).addClass(t.getClassName(),!0).add(t.group||r.group),r.chart.styledMode||t.graphic.attr(r.pointAttribs(t,h)).shadow(o.shadow,null,d)):l&&(t.graphic=l.destroy()):g.prototype.drawPoint.call(r,t,e)},setData:a.prototype.setData,setGanttPointAliases:function(i){function t(t,e){void 0!==e&&(i[t]=e)}t("x",e(i.start,i.x)),t("x2",e(i.end,i.x2)),t("partialFill",e(i.completed,i.partialFill)),t("connect",e(i.dependency,i.connect))}},o(g.prototype.pointClass.prototype,{applyOptions:function(t,e){var i=o(t);return r.seriesTypes.gantt.prototype.setGanttPointAliases(i),i=g.prototype.pointClass.prototype.applyOptions.call(this,i,e)},isValid:function(){return("number"==typeof this.start||"number"==typeof this.x)&&("number"==typeof this.end||"number"==typeof this.x2||this.milestone)}}))}),i(e,"parts-gantt/GanttChart.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(l,t){var h=t.isArray,d=t.merge,c=t.splat,p=l.Chart;l.ganttChart=function(t,e,i){var r,o="string"==typeof t||t.nodeName,n=e.series,a=l.getOptions(),s=e;return h((e=arguments[o?1:0]).xAxis)||(e.xAxis=[e.xAxis||{},{}]),e.xAxis=e.xAxis.map(function(t,e){return 1===e&&(r=0),d(a.xAxis,{grid:{enabled:!0},opposite:!0,linkedTo:r},t,{type:"datetime"})}),e.yAxis=c(e.yAxis||{}).map(function(t){return d(a.yAxis,{grid:{enabled:!0},staticScale:50,reversed:!0,type:t.categories?t.type:"treegrid"},t)}),e.series=null,(e=d(!0,{chart:{type:"gantt"},title:{text:null},legend:{enabled:!1}},e,{isGantt:!0})).series=s.series=n,e.series.forEach(function(t){t.data.forEach(function(t){l.seriesTypes.gantt.prototype.setGanttPointAliases(t)})}),o?new p(t,e,i):new p(e,e)}}),i(e,"parts/Scrollbar.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(a,t){var l,h=t.addEvent,u=t.correctFloat,g=t.defined,e=t.destroyObjectProperties,s=t.fireEvent,r=t.merge,d=t.pick,i=t.removeEvent,o=a.Axis,n=a.defaultOptions,c=a.hasTouch,p={height:a.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};n.scrollbar=r(!0,p,n.scrollbar),a.swapXY=l=function(t,e){var i,r,o=t.length;if(e)for(i=0;i<o;i+=3)r=t[i+1],t[i+1]=t[i+2],t[i+2]=r;return t};var f=(x.prototype.addEvents=function(){var t,e=this.options.inverted?[1,0]:[0,1],i=this.scrollbarButtons,r=this.scrollbarGroup.element,o=this.track.element,n=this.mouseDownHandler.bind(this),a=this.mouseMoveHandler.bind(this),s=this.mouseUpHandler.bind(this);t=[[i[e[0]].element,"click",this.buttonToMinClick.bind(this)],[i[e[1]].element,"click",this.buttonToMaxClick.bind(this)],[o,"click",this.trackClick.bind(this)],[r,"mousedown",n],[r.ownerDocument,"mousemove",a],[r.ownerDocument,"mouseup",s]],c&&t.push([r,"touchstart",n],[r.ownerDocument,"touchmove",a],[r.ownerDocument,"touchend",s]),t.forEach(function(t){h.apply(null,t)}),this._events=t},x.prototype.buttonToMaxClick=function(t){var e=this,i=(e.to-e.from)*d(e.options.step,.2);e.updatePosition(e.from+i,e.to+i),s(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},x.prototype.buttonToMinClick=function(t){var e=this,i=u(e.to-e.from)*d(e.options.step,.2);e.updatePosition(u(e.from-i),u(e.to-i)),s(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},x.prototype.cursorToScrollbarPosition=function(t){var e=this,i=e.options,r=i.minWidth>e.calculatedWidth?i.minWidth:0;return{chartX:(t.chartX-e.x-e.xOffset)/(e.barWidth-r),chartY:(t.chartY-e.y-e.yOffset)/(e.barWidth-r)}},x.prototype.destroy=function(){var t=this.chart.scroller;this.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,e(t.scrollbarButtons))},x.prototype.drawScrollbarButton=function(t){var e,i,r=this,o=r.renderer,n=r.scrollbarButtons,a=r.options,s=r.size;e=o.g().add(r.group),n.push(e),i=o.rect().addClass("highcharts-scrollbar-button").add(e),this.chart.styledMode||i.attr({stroke:a.buttonBorderColor,"stroke-width":a.buttonBorderWidth,fill:a.buttonBackgroundColor}),i.attr(i.crisp({x:-.5,y:-.5,width:s+1,height:s+1,r:a.buttonBorderRadius},i.strokeWidth())),i=o.path(l(["M",s/2+(t?-1:1),s/2-3,"L",s/2+(t?-1:1),s/2+3,"L",s/2+(t?2:-2),s/2],a.vertical)).addClass("highcharts-scrollbar-arrow").add(n[t]),this.chart.styledMode||i.attr({fill:a.buttonArrowColor})},x.prototype.init=function(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=r(p,e),this.chart=i,this.size=d(this.options.size,this.options.height),e.enabled&&(this.render(),this.addEvents())},x.prototype.mouseDownHandler=function(t){var e=this,i=e.chart.pointer.normalize(t),r=e.cursorToScrollbarPosition(i);e.chartX=r.chartX,e.chartY=r.chartY,e.initPositions=[e.from,e.to],e.grabbedCenter=!0},x.prototype.mouseMoveHandler=function(t){var e,i=this,r=i.chart.pointer.normalize(t),o=i.options.vertical?"chartY":"chartX",n=i.initPositions||[];!i.grabbedCenter||t.touches&&0===t.touches[0][o]||(e=i.cursorToScrollbarPosition(r)[o]-i[o],i.hasDragged=!0,i.updatePosition(n[0]+e,n[1]+e),i.hasDragged&&s(i,"changed",{from:i.from,to:i.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},x.prototype.mouseUpHandler=function(t){var e=this;e.hasDragged&&s(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),e.grabbedCenter=e.hasDragged=e.chartX=e.chartY=null},x.prototype.position=function(t,e,i,r){var o=this,n=o.options.vertical,a=r,s=0,l=o.rendered?"animate":"attr";o.x=t,o.y=e+this.trackBorderWidth,o.width=i,o.height=r,o.xOffset=a,o.yOffset=s,n?(o.width=o.yOffset=i=s=o.size,o.xOffset=a=0,o.barWidth=r-2*i,o.x=t+=o.options.margin):(o.height=o.xOffset=r=a=o.size,o.barWidth=i-2*r,o.y=o.y+o.options.margin),o.group[l]({translateX:t,translateY:o.y}),o.track[l]({width:i,height:r}),o.scrollbarButtons[1][l]({translateX:n?0:i-a,translateY:n?r-s:0})},x.prototype.removeEvents=function(){this._events.forEach(function(t){i.apply(null,t)}),this._events.length=0},x.prototype.render=function(){var t,e=this,i=e.renderer,r=e.options,o=e.size,n=this.chart.styledMode;e.group=t=i.g("scrollbar").attr({zIndex:r.zIndex,translateY:-99999}).add(),e.track=i.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:r.trackBorderRadius||0,height:o,width:o}).add(t),n||e.track.attr({fill:r.trackBackgroundColor,stroke:r.trackBorderColor,"stroke-width":r.trackBorderWidth}),this.trackBorderWidth=e.track.strokeWidth(),e.track.attr({y:-this.trackBorderWidth%2/2}),e.scrollbarGroup=i.g().add(t),e.scrollbar=i.rect().addClass("highcharts-scrollbar-thumb").attr({height:o,width:o,r:r.barBorderRadius||0}).add(e.scrollbarGroup),e.scrollbarRifles=i.path(l(["M",-3,o/4,"L",-3,2*o/3,"M",0,o/4,"L",0,2*o/3,"M",3,o/4,"L",3,2*o/3],r.vertical)).addClass("highcharts-scrollbar-rifles").add(e.scrollbarGroup),n||(e.scrollbar.attr({fill:r.barBackgroundColor,stroke:r.barBorderColor,"stroke-width":r.barBorderWidth}),e.scrollbarRifles.attr({stroke:r.rifleColor,"stroke-width":1})),e.scrollbarStrokeWidth=e.scrollbar.strokeWidth(),e.scrollbarGroup.translate(-e.scrollbarStrokeWidth%2/2,-e.scrollbarStrokeWidth%2/2),e.drawScrollbarButton(0),e.drawScrollbarButton(1)},x.prototype.setRange=function(t,e){var i,r,o,n,a,s=this,l=s.options,h=l.vertical,d=l.minWidth,c=s.barWidth,p=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";g(c)&&(t=Math.max(t,0),i=Math.ceil(c*t),r=c*Math.min(e,1),s.calculatedWidth=n=u(r-i),n<d&&(i=(c-d+n)*t,n=d),o=Math.floor(i+s.xOffset+s.yOffset),a=n/2-.5,s.from=t,s.to=e,h?(s.scrollbarGroup[p]({translateY:o}),s.scrollbar[p]({height:n}),s.scrollbarRifles[p]({translateY:a}),s.scrollbarTop=o,s.scrollbarLeft=0):(s.scrollbarGroup[p]({translateX:o}),s.scrollbar[p]({width:n}),s.scrollbarRifles[p]({translateX:a}),s.scrollbarLeft=o,s.scrollbarTop=0),n<=12?s.scrollbarRifles.hide():s.scrollbarRifles.show(!0),!1===l.showFull&&(t<=0&&1<=e?s.group.hide():s.group.show()),s.rendered=!0)},x.prototype.trackClick=function(t){var e=this,i=e.chart.pointer.normalize(t),r=e.to-e.from,o=e.y+e.scrollbarTop,n=e.x+e.scrollbarLeft;e.options.vertical&&i.chartY>o||!e.options.vertical&&i.chartX>n?e.updatePosition(e.from+r,e.to+r):e.updatePosition(e.from-r,e.to-r),s(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},x.prototype.update=function(t){this.destroy(),this.init(this.chart.renderer,r(!0,this.options,t),this.chart)},x.prototype.updatePosition=function(t,e){1<e&&(t=u(1-u(e-t)),e=1),t<0&&(e=u(e-t),t=0),this.from=t,this.to=e},x);function x(t,e,i){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.group=void 0,this.scrollbar=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions={},this.x=0,this.y=0,this.chart=i,this.options=e,this.renderer=i.renderer,this.init(t,e,i)}return a.Scrollbar||(h(o,"afterInit",function(){var n=this;n.options&&n.options.scrollbar&&n.options.scrollbar.enabled&&(n.options.scrollbar.vertical=!n.horiz,n.options.startOnTick=n.options.endOnTick=!1,n.scrollbar=new f(n.chart.renderer,n.options.scrollbar,n.chart),h(n.scrollbar,"changed",function(t){var e,i,r=Math.min(d(n.options.min,n.min),n.min,n.dataMin),o=Math.max(d(n.options.max,n.max),n.max,n.dataMax)-r;i=n.horiz&&!n.reversed||!n.horiz&&n.reversed?(e=r+o*this.to,r+o*this.from):(e=r+o*(1-this.from),r+o*(1-this.to)),d(this.options.liveRedraw,a.svg&&!a.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===t.DOMType||!g(t.DOMType)?n.setExtremes(i,e,!0,"mousemove"!==t.DOMType,t):this.setRange(this.from,this.to)}))}),h(o,"afterRender",function(){var t,e,i,r=this,o=Math.min(d(r.options.min,r.min),r.min,d(r.dataMin,r.min)),n=Math.max(d(r.options.max,r.max),r.max,d(r.dataMax,r.max)),a=r.scrollbar,s=r.axisTitleMargin+(r.titleOffset||0),l=r.chart.scrollbarsOffsets,h=r.options.margin||0;a&&(t=r.horiz?(r.opposite||(l[1]+=s),a.position(r.left,r.top+r.height+2+l[1]-(r.opposite?h:0),r.width,r.height),r.opposite||(l[1]+=h),1):(r.opposite&&(l[0]+=s),a.position(r.left+r.width+2+l[0]-(r.opposite?0:h),r.top,r.width,r.height),r.opposite&&(l[0]+=h),0),l[t]+=a.size+a.options.margin,isNaN(o)||isNaN(n)||!g(r.min)||!g(r.max)||r.min===r.max?a.setRange(0,1):(e=(r.min-o)/(n-o),i=(r.max-o)/(n-o),r.horiz&&!r.reversed||!r.horiz&&r.reversed?a.setRange(e,i):a.setRange(1-i,1-e)))}),h(o,"afterGetOffset",function(){var t=this.horiz?2:1,e=this.scrollbar;e&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=e.size+e.options.margin)}),a.Scrollbar=f),a.Scrollbar}),i(e,"parts/RangeSelector.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(g,t){var b=t.addEvent,H=t.createElement,f=t.css,a=t.defined,r=t.destroyObjectProperties,o=t.discardElement,x=t.extend,s=t.fireEvent,P=t.isNumber,m=t.merge,n=t.objectEach,U=t.pick,v=t.pInt,M=t.splat,k=g.Axis,e=g.Chart,F=g.defaultOptions;function l(t){this.init(t)}x(F,{rangeSelector:{verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),F.lang=m(F.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),l.prototype={clickButton:function(t,e){var i,r,o,n,a,s,l,h=this,d=h.chart,c=h.buttonOptions[t],p=d.xAxis[0],u=d.scroller&&d.scroller.getUnionExtremes()||p||{},g=u.dataMin,f=u.dataMax,x=p&&Math.round(Math.min(p.max,U(f,p.max))),m=c.type,v=c._range,y=c.dataGrouping;if(null!==g&&null!==f){if(d.fixedRange=v,y&&(this.forcedDataGrouping=!0,k.prototype.setDataGrouping.call(p||{chart:this.chart},y,!1),this.frozenStates=c.preserveDataGrouping),"month"===m||"year"===m)p?(s={range:c,max:x,chart:d,dataMin:g,dataMax:f},i=p.minFromRange.call(s),P(s.newMax)&&(x=s.newMax)):v=c;else if(v)i=Math.max(x-v,g),x=Math.min(i+v,f);else if("ytd"===m){if(!p)return void(h.deferredYTDClick=t);void 0===f&&(g=Number.MAX_VALUE,f=Number.MIN_VALUE,d.series.forEach(function(t){var e=t.xData;g=Math.min(e[0],g),f=Math.max(e[e.length-1],f)}),e=!1),i=o=(l=h.getYTDExtremes(f,g,d.time.useUTC)).min,x=l.max}else"all"===m&&p&&(i=g,x=f);i+=c._offsetMin,x+=c._offsetMax,h.setSelected(t),p?p.setExtremes(i,x,U(e,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:c}):(r=M(d.options.xAxis)[0],a=r.range,r.range=v,n=r.min,r.min=o,b(d,"load",function(){r.range=a,r.min=n}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&s(t,"blur"),e&&e.blur&&s(e,"blur")}var i=this,r=e.options.rangeSelector,o=r.buttons||[].concat(i.defaultButtons),n=r.selected;i.chart=e,i.options=r,i.buttons=[],i.buttonOptions=o,this.unMouseDown=b(e.container,"mousedown",t),this.unResize=b(e,"resize",t),o.forEach(i.computeButtonRange),void 0!==n&&o[n]&&this.clickButton(n,!1),b(e,"load",function(){e.xAxis&&e.xAxis[0]&&b(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var x=this,t=this.chart,m=t.xAxis[0],v=Math.round(m.max-m.min),y=!m.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||m,b=e.dataMin,M=e.dataMax,i=x.getYTDExtremes(M,b,t.time.useUTC),k=i.min,A=i.max,w=x.selected,S=P(w),E=x.options.allButtonsEnabled,O=x.buttons;x.buttonOptions.forEach(function(t,e){var i,r,o=t._range,n=t.type,a=t.count||1,s=O[e],l=0,h=t._offsetMax-t._offsetMin,d=e===w,c=M-b<o,p=o<m.minRange,u=!1,g=!1,f=o===v;("month"===n||"year"===n)&&864e5*{month:28,year:365}[n]*a-h<=v+36e5&&v-36e5<=864e5*{month:31,year:366}[n]*a+h?f=!0:"ytd"===n?(f=A-k+h===v,u=!d):"all"===n&&(f=m.max-m.min>=M-b,g=!d&&S&&f),i=!E&&(c||p||g||y),r=d&&f||f&&!S&&!u||d&&x.frozenStates,i?l=3:r&&(S=!0,l=2),s.state!==l&&(s.setState(l),0===l&&w===e&&x.setSelected(null))})},computeButtonRange:function(t){var e=t.type,i=t.count||1,r={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};r[e]?t._range=r[e]*i:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=U(t.offsetMin,0),t._offsetMax=U(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},setInputValue:function(t,e){var i=this.chart.options.rangeSelector,r=this.chart.time,o=this[t+"Input"];a(e)&&(o.previousValue=o.HCTime,o.HCTime=e),o.value=r.dateFormat(i.inputEditDateFormat||"%Y-%m-%d",o.HCTime),this[t+"DateBox"].attr({text:r.dateFormat(i.inputDateFormat||"%b %e, %Y",o.HCTime)})},showInput:function(t){var e=this.inputGroup,i=this[t+"DateBox"];f(this[t+"Input"],{left:e.translateX+i.x+"px",top:e.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},hideInput:function(t){f(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){var a,e,i,s=this,l=s.chart,r=l.renderer.style||{},o=l.renderer,h=l.options.rangeSelector,n=F.lang,d=s.div,c="min"===t,p=this.inputGroup;function u(){var t=a.value,e=(h.inputDateParser||Date.parse)(t),i=l.xAxis[0],r=l.scroller&&l.scroller.xAxis?l.scroller.xAxis:i,o=r.dataMin,n=r.dataMax;e!==a.previousValue&&(a.previousValue=e,P(e)||(e=t.split("-"),e=Date.UTC(v(e[0]),v(e[1])-1,v(e[2]))),P(e)&&(l.time.useUTC||(e+=60*(new Date).getTimezoneOffset()*1e3),c?e>s.maxInput.HCTime?e=void 0:e<o&&(e=o):e<s.minInput.HCTime?e=void 0:n<e&&(e=n),void 0!==e&&i.setExtremes(c?e:i.min,c?i.max:e,void 0,void 0,{trigger:"rangeSelectorInput"})))}this[t+"Label"]=e=o.label(n[c?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(p),p.offset+=e.width+5,this[t+"DateBox"]=i=o.label("",p.offset).addClass("highcharts-range-input").attr({padding:2,width:h.inputBoxWidth||90,height:h.inputBoxHeight||17,"text-align":"center"}).on("click",function(){s.showInput(t),s[t+"Input"].focus()}),l.styledMode||i.attr({stroke:h.inputBoxBorderColor||"#cccccc","stroke-width":1}),i.add(p),p.offset+=i.width+(c?10:0),this[t+"Input"]=a=H("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:l.plotTop+"px"},d),l.styledMode||(e.css(m(r,h.labelStyle)),i.css(m({color:"#333333"},r,h.inputStyle)),f(a,x({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:r.fontSize,fontFamily:r.fontFamily,top:"-9999em"},h.inputStyle))),a.onfocus=function(){s.showInput(t)},a.onblur=function(){a===g.doc.activeElement&&u(),s.hideInput(t),a.blur()},a.onchange=u,a.onkeypress=function(t){13===t.keyCode&&u()}},getPosition:function(){var t=this.chart,e=t.options.rangeSelector,i="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:i+e.buttonPosition.y,inputTop:i+e.inputPosition.y-10}},getYTDExtremes:function(t,e,i){var r,o=this.chart.time,n=new o.Date(t),a=o.get("FullYear",n),s=i?o.Date.UTC(a,0,1):+new o.Date(a,0,1);return r=Math.max(e||0,s),n=n.getTime(),{max:Math.min(t||n,n),min:r}},render:function(t,e){var i,r,o,n,a,s=this,l=s.chart,h=l.renderer,d=l.container,c=l.options,p=c.exporting&&!1!==c.exporting.enabled&&c.navigation&&c.navigation.buttonOptions,u=F.lang,g=s.div,f=c.rangeSelector,x=U(c.chart.style&&c.chart.style.zIndex,0)+1,m=f.floating,v=s.buttons,y=s.inputGroup,b=f.buttonTheme,M=f.buttonPosition,k=f.inputPosition,A=f.inputEnabled,w=b&&b.states,S=l.plotLeft,E=s.buttonGroup,O=s.rendered,P=s.options.verticalAlign,T=l.legend,B=T&&T.options,D=M.y,C=k.y,I=l.hasLoaded,z=I?"animate":"attr",R=0,L=0;if(!1!==f.enabled){var G,N,W,j;if(O||(s.group=r=h.g("range-selector-group").attr({zIndex:7}).add(),s.buttonGroup=E=h.g("range-selector-buttons").add(r),s.zoomText=h.text(u.rangeSelectorZoom,0,15).add(E),l.styledMode||(s.zoomText.css(f.labelStyle),b["stroke-width"]=U(b["stroke-width"],0)),s.buttonOptions.forEach(function(r,o){v[o]=h.button(r.text,0,0,function(t){var e,i=r.events&&r.events.click;i&&(e=i.call(r,t)),!1!==e&&s.clickButton(o),s.isActive=!0},b,w&&w.hover,w&&w.select,w&&w.disabled).attr({"text-align":"center"}).add(E)}),!1!==A&&(s.div=g=H("div",null,{position:"relative",height:0,zIndex:x}),d.parentNode.insertBefore(g,d),s.inputGroup=y=h.g("input-group").add(r),y.offset=0,s.drawInput("min"),s.drawInput("max"))),s.zoomText[z]({x:U(S+M.x,S)}),i=U(S+M.x,S)+s.zoomText.getBBox().width+5,s.buttonOptions.forEach(function(t,e){v[e][z]({x:i}),i+=v[e].width+U(f.buttonSpacing,5)}),S=l.plotLeft-l.spacing[3],s.updateButtonStates(),p&&this.titleCollision(l)&&"top"===P&&"right"===M.align&&M.y+E.getBBox().height-12<(p.y||0)+p.height&&(R=-40),a=M.x-l.spacing[3],"right"===M.align?a+=R-S:"center"===M.align&&(a-=S/2),E.align({y:M.y,width:E.getBBox().width,align:M.align,x:a},!0,l.spacingBox),s.group.placed=I,s.buttonGroup.placed=I,!1!==A)R=p&&this.titleCollision(l)&&"top"===P&&"right"===k.align&&k.y-y.getBBox().height-12<(p.y||0)+p.height+l.spacing[0]?-40:0,"left"===k.align?a=S:"right"===k.align&&(a=-Math.max(l.axisOffset[1],-R)),y.align({y:k.y,width:y.getBBox().width,align:k.align,x:k.x+a-2},!0,l.spacingBox),G=y.alignAttr.translateX+y.alignOptions.x-R+y.getBBox().x+2,N=y.alignOptions.width,W=E.alignAttr.translateX+E.getBBox().x,j=E.getBBox().width+20,(k.align===M.align||G<W+j&&W<G+N&&D<C+y.getBBox().height)&&y.attr({translateX:y.alignAttr.translateX+(l.axisOffset[1]>=-R?0:-R),translateY:y.alignAttr.translateY+E.getBBox().height+10}),s.setInputValue("min",t),s.setInputValue("max",e),s.inputGroup.placed=I;s.group.align({verticalAlign:P},!0,l.spacingBox),o=s.group.getBBox().height+20,n=s.group.alignAttr.translateY,"bottom"===P&&(L=n-(o=o+(B&&"bottom"===B.verticalAlign&&B.enabled&&!B.floating?T.legendHeight+U(B.margin,10):0)-20)-(m?0:f.y)-(l.titleOffset?l.titleOffset[2]:0)-10),"top"===P?(m&&(L=0),l.titleOffset&&l.titleOffset[0]&&(L=l.titleOffset[0]),L+=l.margin[0]-l.spacing[0]||0):"middle"===P&&(C===D?L=C<0?n+void 0:n:(C||D)&&(C<0||D<0?L-=Math.min(C,D):L=n-o+void 0)),s.group.translate(f.x,f.y+Math.floor(L)),!1!==A&&(s.minInput.style.marginTop=s.group.translateY+"px",s.maxInput.style.marginTop=s.group.translateY+"px"),s.rendered=!0}},getHeight:function(){var t,e=this.options,i=this.group,r=e.inputPosition,o=e.buttonPosition,n=e.y,a=o.y,s=r.y,l=0;return e.height?e.height:(l=i?i.getBBox(!0).height+13+n:0,t=Math.min(s,a),(s<0&&a<0||0<s&&0<a)&&(l+=Math.abs(t)),l)},titleCollision:function(t){return!(t.options.title.text||t.options.subtitle.text)},update:function(t){var e=this.chart;m(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),e.rangeSelector.render()},destroy:function(){var i=this,t=i.minInput,e=i.maxInput;i.unMouseDown(),i.unResize(),r(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),n(i,function(t,e){t&&"chart"!==e&&(t.destroy?t.destroy():t.nodeType&&o(this[e])),t!==l.prototype[e]&&(i[e]=null)},this)}},k.prototype.minFromRange=function(){function t(t,e){var i="year"===n?"FullYear":"Month",r=new s.Date(t),o=s.get(i,r);return s.set(i,r,o+e),o===s.get(i,r)&&s.set("Date",r,0),r.getTime()-t}var e,i,r,o=this.range,n=o.type,a=this.max,s=this.chart.time;return P(o)?(e=a-o,r=o):(e=a+t(a,-o.count),this.chart&&(this.chart.fixedRange=a-e)),i=U(this.dataMin,Number.MIN_VALUE),P(e)||(e=i),e<=i&&(e=i,void 0===r&&(r=t(e,o.count)),this.newMax=Math.min(e+r,this.dataMax)),P(a)||(e=void 0),e},g.RangeSelector||(b(e,"afterGetContainer",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new l(this))}),b(e,"beforeRender",function(){var t,e=this.axes,i=this.rangeSelector;i&&(P(i.deferredYTDClick)&&(i.clickButton(i.deferredYTDClick),delete i.deferredYTDClick),e.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),i.render(),t=i.options.verticalAlign,i.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}),b(e,"update",function(t){var e,i=t.options.rangeSelector,r=this.rangeSelector,o=this.extraBottomMargin,n=this.extraTopMargin;i&&i.enabled&&!a(r)&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=new l(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,r&&(r.render(),e=i&&i.verticalAlign||r.options&&r.options.verticalAlign,r.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin===o&&this.extraTopMargin===n||(this.isDirtyBox=!0))}),b(e,"render",function(){var t,e=this.rangeSelector;e&&!e.options.floating&&(e.render(),"bottom"===(t=e.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}),b(e,"getMargins",function(){var t,e=this.rangeSelector;e&&(t=e.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}),e.prototype.callbacks.push(function(t){var e,i,r,o=t.rangeSelector;function n(){e=t.xAxis[0].getExtremes(),P(e.min)&&o.render(e.min,e.max)}o&&(r=b(t.xAxis[0],"afterSetExtremes",function(t){o.render(t.min,t.max)}),i=b(t,"redraw",n),n()),b(t,"destroy",function(){o&&(i(),r())})}),g.RangeSelector=l)}),i(e,"parts/Navigator.js",[e["parts/Globals.js"],e["parts/Color.js"],e["parts/Scrollbar.js"],e["parts/Utilities.js"]],function(h,t,u,e){function g(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=[].filter.call(e,P);if(r.length)return Math[t].apply(0,r)}var i,r=t.parse,f=e.addEvent,S=e.clamp,E=e.correctFloat,O=e.defined,o=e.destroyObjectProperties,n=e.erase,x=e.extend,a=e.find,m=e.isArray,P=e.isNumber,v=e.merge,T=e.pick,y=e.removeEvent,b=e.splat,M=h.Axis,s=h.Chart,k=h.defaultOptions,l=h.hasTouch,d=h.isTouchDevice,c=h.Series,p=h.seriesTypes;i=void 0===p.areaspline?"line":"areaspline",x(k,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:r("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:i,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),h.Renderer.prototype.symbols["navigator-handle"]=function(t,e,i,r,o){var n=o.width/2,a=Math.round(n/3)+.5,s=o.height;return["M",-n-1,.5,"L",n,.5,"L",n,s+.5,"L",-n-1,s+.5,"L",-n-1,.5,"M",-a,4,"L",-a,s-3,"M",a-1,4,"L",a-1,s-3]},M.prototype.toFixedRange=function(t,e,i,r){var o=this.chart&&this.chart.fixedRange,n=(this.pointRange||0)/2,a=T(i,this.translate(t,!0,!this.horiz)),s=T(r,this.translate(e,!0,!this.horiz)),l=o&&(s-a)/o;return O(i)||(a=E(a+n)),O(r)||(s=E(s-n)),.7<l&&l<1.3&&(r?a=s-o:s=a+o),P(a)&&P(s)||(a=s=void 0),{min:a,max:s}};var A=(w.prototype.drawHandle=function(t,e,i,r){var o=this,n=o.navigatorOptions.handles.height;o.handles[e][r](i?{translateX:Math.round(o.left+o.height/2),translateY:Math.round(o.top+parseInt(t,10)+.5-n)}:{translateX:Math.round(o.left+parseInt(t,10)),translateY:Math.round(o.top+o.height/2-n/2-1)})},w.prototype.drawOutline=function(t,e,i,r){var o,n,a=this,s=a.navigatorOptions.maskInside,l=a.outline.strokeWidth(),h=l/2,d=l%2/2,c=a.outlineHeight,p=a.scrollbarHeight,u=a.size,g=a.left-p,f=a.top;n=i?["M",(g-=h)+c,f-p-d,"L",g+c,o=f+e+d,"L",g,o,"L",g,e=f+t+d,"L",g+c,e,"L",g+c,f+u+p].concat(s?["M",g+c,o-h,"L",g+c,e+h]:[]):["M",g,f+=h,"L",t+=g+p-d,f,"L",t,f+c,"L",e+=g+p-d,f+c,"L",e,f,"L",g+u+2*p,f].concat(s?["M",t-h,f,"L",e+h,f]:[]),a.outline[r]({d:n})},w.prototype.drawMasks=function(t,e,i,r){var o,n,a,s,l=this,h=l.left,d=l.top,c=l.height;o=i?(a=[h,h,h],s=[d,d+t,d+e],n=[c,c,c],[t,e-t,l.size-e]):(a=[h,h+t,h+e],s=[d,d,d],n=[t,e-t,l.size-e],[c,c,c]),l.shades.forEach(function(t,e){t[r]({x:a[e],y:s[e],width:n[e],height:o[e]})})},w.prototype.renderElements=function(){var i,r=this,o=r.navigatorOptions,t=o.maskInside,n=r.chart,e=n.inverted,a=n.renderer,s={cursor:e?"ns-resize":"ew-resize"};r.navigatorGroup=i=a.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!t,t,!t].forEach(function(t,e){r.shades[e]=a.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).add(i),n.styledMode||r.shades[e].attr({fill:t?o.maskFill:"rgba(0,0,0,0)"}).css(1===e&&s)}),r.outline=a.path().addClass("highcharts-navigator-outline").add(i),n.styledMode||r.outline.attr({"stroke-width":o.outlineWidth,stroke:o.outlineColor}),o.handles.enabled&&[0,1].forEach(function(t){if(o.handles.inverted=n.inverted,r.handles[t]=a.symbol(o.handles.symbols[t],-o.handles.width/2-1,0,o.handles.width,o.handles.height,o.handles),r.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(i),!n.styledMode){var e=o.handles;r.handles[t].attr({fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.lineWidth}).css(s)}})},w.prototype.update=function(t){(this.series||[]).forEach(function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy();var e=this.chart.options;v(!0,e.navigator,this.options,t),this.init(this.chart)},w.prototype.render=function(t,e,i,r){var o,n,a,s,l,h,d,c,p,u,g=this,f=g.chart,x=g.scrollbarHeight,m=g.xAxis,v=m.pointRange||0,y=m.fake?f.xAxis[0]:m,b=g.navigatorEnabled,M=g.rendered,k=f.inverted,A=f.xAxis[0].minRange,w=f.xAxis[0].options.maxRange;if(!this.hasDragged||O(i)){if(t=E(t-v/2),e=E(e+v/2),!P(t)||!P(e)){if(!M)return;i=0,r=T(m.width,y.width)}g.left=T(m.left,f.plotLeft+x+(k?f.plotWidth:0)),g.size=h=s=T(m.len,(k?f.plotHeight:f.plotWidth)-2*x),o=k?x:s+2*x,i=T(i,m.toPixels(t,!0)),r=T(r,m.toPixels(e,!0)),P(i)&&Math.abs(i)!==1/0||(i=0,r=o),c=m.toValue(i,!0),p=m.toValue(r,!0),(u=Math.abs(E(p-c)))<A?this.grabbedLeft?i=m.toPixels(p-A-v,!0):this.grabbedRight&&(r=m.toPixels(c+A+v,!0)):O(w)&&E(u-v)>w&&(this.grabbedLeft?i=m.toPixels(p-w-v,!0):this.grabbedRight&&(r=m.toPixels(c+w+v,!0))),g.zoomedMax=S(Math.max(i,r),0,h),g.zoomedMin=S(g.fixedWidth?g.zoomedMax-g.fixedWidth:Math.min(i,r),0,h),g.range=g.zoomedMax-g.zoomedMin,h=Math.round(g.zoomedMax),l=Math.round(g.zoomedMin),b&&(g.navigatorGroup.attr({visibility:"visible"}),d=M&&!g.hasDragged?"animate":"attr",g.drawMasks(l,h,k,d),g.drawOutline(l,h,k,d),g.navigatorOptions.handles.enabled&&(g.drawHandle(l,0,k,d),g.drawHandle(h,1,k,d))),g.scrollbar&&(k?(a=g.top-x,n=g.left-x+(b||!y.opposite?0:(y.titleOffset||0)+y.axisTitleMargin),x=s+2*x):(a=g.top+(b?g.height:-x),n=g.left-x),g.scrollbar.position(n,a,o,x),g.scrollbar.setRange(g.zoomedMin/(s||1),g.zoomedMax/(s||1))),g.rendered=!0}},w.prototype.addMouseEvents=function(){var t,e,i=this,r=i.chart,o=r.container,n=[];i.mouseMoveHandler=t=function(t){i.onMouseMove(t)},i.mouseUpHandler=e=function(t){i.onMouseUp(t)},(n=i.getPartsEvents("mousedown")).push(f(r.renderTo,"mousemove",t),f(o.ownerDocument,"mouseup",e)),l&&(n.push(f(r.renderTo,"touchmove",t),f(o.ownerDocument,"touchend",e)),n.concat(i.getPartsEvents("touchstart"))),i.eventsToUnbind=n,i.series&&i.series[0]&&n.push(f(i.series[0].xAxis,"foundExtremes",function(){r.navigator.modifyNavigatorAxisExtremes()}))},w.prototype.getPartsEvents=function(r){var o=this,n=[];return["shades","handles"].forEach(function(i){o[i].forEach(function(t,e){n.push(f(t.element,r,function(t){o[i+"Mousedown"](t,e)}))})}),n},w.prototype.shadesMousedown=function(t,e){t=this.chart.pointer.normalize(t);var i,r,o,n,a=this,s=a.chart,l=a.xAxis,h=a.zoomedMin,d=a.left,c=a.size,p=a.range,u=t.chartX;s.inverted&&(u=t.chartY,d=a.top),1===e?(a.grabbedCenter=u,a.fixedWidth=p,a.dragOffset=u-h):(n=u-d-p/2,0===e?n=Math.max(0,n):2===e&&c<=n+p&&(n=c-p,a.reversedExtremes?(n-=p,r=a.getUnionExtremes().dataMin):i=a.getUnionExtremes().dataMax),n!==h&&(a.fixedWidth=p,o=l.toFixedRange(n,n+p,r,i),O(o.min)&&s.xAxis[0].setExtremes(Math.min(o.min,o.max),Math.max(o.min,o.max),!0,null,{trigger:"navigator"})))},w.prototype.handlesMousedown=function(t,e){t=this.chart.pointer.normalize(t);var i=this,r=i.chart,o=r.xAxis[0],n=i.reversedExtremes;0===e?(i.grabbedLeft=!0,i.otherHandlePos=i.zoomedMax,i.fixedExtreme=n?o.min:o.max):(i.grabbedRight=!0,i.otherHandlePos=i.zoomedMin,i.fixedExtreme=n?o.max:o.min),r.fixedRange=null},w.prototype.onMouseMove=function(t){var e,i=this,r=i.chart,o=i.left,n=i.navigatorSize,a=i.range,s=i.dragOffset,l=r.inverted;t.touches&&0===t.touches[0].pageX||(e=(t=r.pointer.normalize(t)).chartX,l&&(o=i.top,e=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,e-o,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,e-o)):i.grabbedCenter&&(i.hasDragged=!0,e<s?e=s:n+s-a<e&&(e=n+s-a),i.render(0,0,e-s,e-s+a)),i.hasDragged&&i.scrollbar&&T(i.scrollbar.options.liveRedraw,h.svg&&!d&&!this.chart.isBoosting)&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))},w.prototype.onMouseUp=function(t){var e,i,r,o,n=this,a=n.chart,s=n.xAxis,l=n.scrollbar,h=t.DOMEvent||t,d=a.inverted,c=n.rendered&&!n.hasDragged?"animate":"attr",p=Math.round(n.zoomedMax),u=Math.round(n.zoomedMin);(!n.hasDragged||l&&l.hasDragged)&&"scrollbar"!==t.trigger||(e=n.getUnionExtremes(),n.zoomedMin===n.otherHandlePos?i=n.fixedExtreme:n.zoomedMax===n.otherHandlePos&&(r=n.fixedExtreme),n.zoomedMax===n.size&&(r=n.reversedExtremes?e.dataMin:e.dataMax),0===n.zoomedMin&&(i=n.reversedExtremes?e.dataMax:e.dataMin),o=s.toFixedRange(n.zoomedMin,n.zoomedMax,i,r),O(o.min)&&a.xAxis[0].setExtremes(Math.min(o.min,o.max),Math.max(o.min,o.max),!0,!n.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:h})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(n.grabbedLeft=n.grabbedRight=n.grabbedCenter=n.fixedWidth=n.fixedExtreme=n.otherHandlePos=n.hasDragged=n.dragOffset=null),n.navigatorEnabled&&(n.shades&&n.drawMasks(u,p,d,c),n.outline&&n.drawOutline(u,p,d,c),n.navigatorOptions.handles.enabled&&Object.keys(n.handles).length===n.handles.length&&(n.drawHandle(u,0,d,c),n.drawHandle(p,1,d,c)))},w.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},w.prototype.removeBaseSeriesEvents=function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){y(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&y(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},w.prototype.init=function(s){var t=s.options,e=t.navigator,i=e.enabled,r=t.scrollbar,o=r.enabled,n=i?e.height:0,l=o?r.height:0;this.handles=[],this.shades=[],this.chart=s,this.setBaseSeries(),this.height=n,this.scrollbarHeight=l,this.scrollbarEnabled=o,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=r,this.outlineHeight=n+l,this.opposite=T(e.opposite,Boolean(!i&&s.inverted));var a=this,h=a.baseSeries,d=s.xAxis.length,c=s.yAxis.length,p=h&&h[0]&&h[0].xAxis||s.xAxis[0]||{options:{}};s.isDirtyBox=!0,a.navigatorEnabled?(a.xAxis=new M(s,v({breaks:p.options.breaks,ordinal:p.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:d,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},s.inverted?{offsets:[l,0,-l,0],width:n}:{offsets:[0,-l,0,l],height:n})),a.yAxis=new M(s,v(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:c,isInternal:!0,zoomEnabled:!1},s.inverted?{width:n}:{height:n})),h||e.series.data?a.updateNavigatorSeries(!1):0===s.series.length&&(a.unbindRedraw=f(s,"beforeRedraw",function(){0<s.series.length&&!a.series&&(a.setBaseSeries(),a.unbindRedraw())})),a.reversedExtremes=s.inverted&&!a.xAxis.reversed||!s.inverted&&a.xAxis.reversed,a.renderElements(),a.addMouseEvents()):a.xAxis={translate:function(t,e){var i=s.xAxis[0],r=i.getExtremes(),o=i.len-2*l,n=g("min",i.options.min,r.dataMin),a=g("max",i.options.max,r.dataMax)-n;return e?t*a/o+n:o*(t-n)/a},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)},toFixedRange:M.prototype.toFixedRange,fake:!0},s.options.scrollbar.enabled&&(s.scrollbar=a.scrollbar=new u(s.renderer,v(s.options.scrollbar,{margin:a.navigatorEnabled?0:10,vertical:s.inverted}),s),f(a.scrollbar,"changed",function(t){var e=a.size,i=e*this.to,r=e*this.from;a.hasDragged=a.scrollbar.hasDragged,a.render(0,0,r,i),(s.options.scrollbar.liveRedraw||"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType)&&setTimeout(function(){a.onMouseUp(t)})})),a.addBaseSeriesEvents(),a.addChartEvents()},w.prototype.getUnionExtremes=function(t){var e,i=this.chart.xAxis[0],r=this.xAxis,o=r.options,n=i.options;return t&&null===i.dataMin||(e={dataMin:T(o&&o.min,g("min",n.min,i.dataMin,r.dataMin,r.min)),dataMax:T(o&&o.max,g("max",n.max,i.dataMax,r.dataMax,r.max))}),e},w.prototype.setBaseSeries=function(i,t){var e=this.chart,r=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?a(e.series,function(t){return!t.options.isInternal}).index:0),(e.series||[]).forEach(function(t,e){t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||r.push(t)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(!0,t)},w.prototype.updateNavigatorSeries=function(t,o){var n,a,s,l=this,h=l.chart,d=l.baseSeries,c=l.navigatorOptions.series,p={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,states:{inactive:{opacity:1}}},u=l.series=(l.series||[]).filter(function(t){var e=t.baseSeries;return!(d.indexOf(e)<0&&(e&&(y(e,"updatedData",l.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),1))});d&&d.length&&d.forEach(function(t){var e=t.navigatorSeries,i=x({color:t.color,visible:t.visible},m(c)?k.navigator.series:c);if(!e||!1!==l.navigatorOptions.adaptToUpdatedData){p.name="Navigator "+d.length,n=t.options||{},s=n.navigatorOptions||{},(a=v(n,p,i,s)).pointRange=T(i.pointRange,s.pointRange,k.plotOptions[a.type||"line"].pointRange);var r=s.data||i.data;l.hasNavigatorData=l.hasNavigatorData||!!r,a.data=r||n.data&&n.data.slice(0),e&&e.options?e.update(a,o):(t.navigatorSeries=h.initSeries(a),t.navigatorSeries.baseSeries=t,u.push(t.navigatorSeries))}}),(!c.data||d&&d.length)&&!m(c)||(l.hasNavigatorData=!1,(c=b(c)).forEach(function(t,e){p.name="Navigator "+(u.length+1),(a=v(k.navigator.series,{color:h.series[e]&&!h.series[e].options.isInternal&&h.series[e].color||h.options.colors[e]||h.options.colors[0]},p,t)).data=t.data,a.data&&(l.hasNavigatorData=!0,u.push(h.initSeries(a)))})),t&&this.addBaseSeriesEvents()},w.prototype.addBaseSeriesEvents=function(){var e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&f(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),t.forEach(function(t){f(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),f(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&f(t,"updatedData",this.updatedDataHandler),f(t,"remove",function(){this.navigatorSeries&&(n(e.series,this.navigatorSeries),O(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},w.prototype.getBaseSeriesMin=function(t){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData?e.xData[0]:t)},t)},w.prototype.modifyNavigatorAxisExtremes=function(){var t,e=this.xAxis;void 0!==e.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},w.prototype.modifyBaseAxisExtremes=function(){var t,e,i=this,r=i.chart.navigator,o=i.getExtremes(),n=o.min,a=o.max,s=o.dataMin,l=o.dataMax,h=a-n,d=r.stickToMin,c=r.stickToMax,p=T(i.options.overscroll,0),u=r.series&&r.series[0],g=!!i.setExtremes;i.eventArgs&&"rangeSelectorButton"===i.eventArgs.trigger||(d&&(t=(e=s)+h),c&&(t=l+p,d||(e=Math.max(t-h,r.getBaseSeriesMin(u&&u.xData?u.xData[0]:-Number.MAX_VALUE)))),g&&(d||c)&&P(e)&&(i.min=i.userMin=e,i.max=i.userMax=t)),r.stickToMin=r.stickToMax=null},w.prototype.updatedDataHandler=function(){var t=this.chart.navigator,e=this,i=this.navigatorSeries,r=t.getBaseSeriesMin(e.xData[0]);t.stickToMax=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=P(e.xAxis.min)&&e.xAxis.min<=r&&(!this.chart.fixedRange||!t.stickToMax),i&&!t.hasNavigatorData&&(i.options.pointStart=e.xData[0],i.setData(e.options.data,!1,null,!1))},w.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(f(this.chart,"redraw",function(){var t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||t.scrollbar&&this.xAxis[0]);e&&t.render(e.min,e.max)}),f(this.chart,"getMargins",function(){var t=this,e=t.navigator,i=e.opposite?"plotTop":"marginBottom";t.inverted&&(i=e.opposite?"marginRight":"plotLeft"),t[i]=(t[i]||0)+(e.navigatorEnabled||!t.inverted?e.outlineHeight:0)+e.navigatorOptions.margin}))},w.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(n(this.chart.xAxis,this.xAxis),n(this.chart.axes,this.xAxis)),this.yAxis&&(n(this.chart.yAxis,this.yAxis),n(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(t){t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),[this.handles].forEach(function(t){o(t)},this)},w);function w(t){this.baseSeries=void 0,this.chart=void 0,this.handles=void 0,this.height=void 0,this.left=void 0,this.navigatorEnabled=void 0,this.navigatorGroup=void 0,this.navigatorOptions=void 0,this.navigatorSeries=void 0,this.navigatorSize=void 0,this.opposite=void 0,this.outline=void 0,this.outlineHeight=void 0,this.range=void 0,this.rendered=void 0,this.shades=void 0,this.size=void 0,this.top=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zoomedMax=void 0,this.zoomedMin=void 0,this.init(t)}return h.Navigator||(h.Navigator=A,f(M,"zoom",function(t){var e,i=this.chart.options,r=i.chart.zoomType,o=i.chart.pinchType,n=i.navigator,a=i.rangeSelector;this.isXAxis&&(n&&n.enabled||a&&a.enabled)&&("y"===r?t.zoomed=!1:(!d&&"xy"===r||d&&"xy"===o)&&this.options.range&&(e=this.previousZoom,O(t.newMin)?this.previousZoom=[this.min,this.max]:e&&(t.newMin=e[0],t.newMax=e[1],delete this.previousZoom))),void 0!==t.zoomed&&t.preventDefault()}),f(s,"beforeShowResetZoom",function(){var t=this.options,e=t.navigator,i=t.rangeSelector;if((e&&e.enabled||i&&i.enabled)&&(!d&&"x"===t.chart.zoomType||d&&"x"===t.chart.pinchType))return!1}),f(s,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new A(this))}),f(s,"afterSetChartSize",function(){var t,e,i,r,o=this.legend,n=this.navigator;n&&(e=o&&o.options,i=n.xAxis,r=n.yAxis,t=n.scrollbarHeight,this.inverted?(n.left=n.opposite?this.chartWidth-t-n.height:this.spacing[3]+t,n.top=this.plotTop+t):(n.left=this.plotLeft+t,n.top=n.navigatorOptions.top||this.chartHeight-n.height-t-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(e&&"bottom"===e.verticalAlign&&e.enabled&&!e.floating?o.legendHeight+T(e.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),i&&r&&(this.inverted?i.options.left=r.options.left=n.left:i.options.top=r.options.top=n.top,i.setAxisSize(),r.setAxisSize()))}),f(s,"update",function(t){var e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(v(!0,this.options.navigator,e),v(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}),f(s,"afterUpdate",function(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new A(this),T(t.redraw,!0)&&this.redraw(t.animation))}),f(s,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),f(c,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),s.prototype.callbacks.push(function(t){var e,i=t.navigator;i&&t.xAxis[0]&&(e=t.xAxis[0].getExtremes(),i.render(e.min,e.max))})),h.Navigator=A,h.Navigator}),i(e,"masters/modules/gantt.src.js",[],function(){})});