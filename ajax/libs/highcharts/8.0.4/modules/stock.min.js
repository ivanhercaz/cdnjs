!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/stock",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e))}i(t=t?t._modules:{},"parts/Scrollbar.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(r,t){var n=t.addEvent,l=t.correctFloat,d=t.defined,i=t.destroyObjectProperties,a=t.fireEvent,s=t.merge,h=t.pick,e=t.removeEvent;t=r.Axis;var p,o=r.defaultOptions,c=r.hasTouch,u={height:r.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};o.scrollbar=s(!0,u,o.scrollbar),r.swapXY=p=function(t,i){var e=t.length;if(i)for(i=0;i<e;i+=3){var s=t[i+1];t[i+1]=t[i+2],t[i+2]=s}return t};var g=(f.prototype.addEvents=function(){var t=this.options.inverted?[1,0]:[0,1],i=this.scrollbarButtons,e=this.scrollbarGroup.element,s=this.track.element,o=this.mouseDownHandler.bind(this),r=this.mouseMoveHandler.bind(this),a=this.mouseUpHandler.bind(this);t=[[i[t[0]].element,"click",this.buttonToMinClick.bind(this)],[i[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[s,"click",this.trackClick.bind(this)],[e,"mousedown",o],[e.ownerDocument,"mousemove",r],[e.ownerDocument,"mouseup",a]],c&&t.push([e,"touchstart",o],[e.ownerDocument,"touchmove",r],[e.ownerDocument,"touchend",a]),t.forEach(function(t){n.apply(null,t)}),this._events=t},f.prototype.buttonToMaxClick=function(t){var i=(this.to-this.from)*h(this.options.step,.2);this.updatePosition(this.from+i,this.to+i),a(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})},f.prototype.buttonToMinClick=function(t){var i=l(this.to-this.from)*h(this.options.step,.2);this.updatePosition(l(this.from-i),l(this.to-i)),a(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})},f.prototype.cursorToScrollbarPosition=function(t){var i=this.options;return i=i.minWidth>this.calculatedWidth?i.minWidth:0,{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-i),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-i)}},f.prototype.destroy=function(){var t=this.chart.scroller;this.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,i(t.scrollbarButtons))},f.prototype.drawScrollbarButton=function(t){var i=this.renderer,e=this.scrollbarButtons,s=this.options,o=this.size,r=i.g().add(this.group);e.push(r),r=i.rect().addClass("highcharts-scrollbar-button").add(r),this.chart.styledMode||r.attr({stroke:s.buttonBorderColor,"stroke-width":s.buttonBorderWidth,fill:s.buttonBackgroundColor}),r.attr(r.crisp({x:-.5,y:-.5,width:o+1,height:o+1,r:s.buttonBorderRadius},r.strokeWidth())),r=i.path(p(["M",o/2+(t?-1:1),o/2-3,"L",o/2+(t?-1:1),o/2+3,"L",o/2+(t?2:-2),o/2],s.vertical)).addClass("highcharts-scrollbar-arrow").add(e[t]),this.chart.styledMode||r.attr({fill:s.buttonArrowColor})},f.prototype.init=function(t,i,e){this.scrollbarButtons=[],this.renderer=t,this.userOptions=i,this.options=s(u,i),this.chart=e,this.size=h(this.options.size,this.options.height),i.enabled&&(this.render(),this.addEvents())},f.prototype.mouseDownHandler=function(t){t=this.chart.pointer.normalize(t),t=this.cursorToScrollbarPosition(t),this.chartX=t.chartX,this.chartY=t.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0},f.prototype.mouseMoveHandler=function(t){var i=this.chart.pointer.normalize(t),e=this.options.vertical?"chartY":"chartX",s=this.initPositions||[];!this.grabbedCenter||t.touches&&0===t.touches[0][e]||(e=(i=this.cursorToScrollbarPosition(i)[e])-this[e],this.hasDragged=!0,this.updatePosition(s[0]+e,s[1]+e),this.hasDragged&&a(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},f.prototype.mouseUpHandler=function(t){this.hasDragged&&a(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null},f.prototype.position=function(t,i,e,s){var o=this.options.vertical,r=0,a=this.rendered?"animate":"attr";this.x=t,this.y=i+this.trackBorderWidth,this.width=e,this.xOffset=this.height=s,this.yOffset=r,o?(this.width=this.yOffset=e=r=this.size,this.xOffset=i=0,this.barWidth=s-2*e,this.x=t+=this.options.margin):(this.height=this.xOffset=s=i=this.size,this.barWidth=e-2*s,this.y+=this.options.margin),this.group[a]({translateX:t,translateY:this.y}),this.track[a]({width:e,height:s}),this.scrollbarButtons[1][a]({translateX:o?0:e-i,translateY:o?s-r:0})},f.prototype.removeEvents=function(){this._events.forEach(function(t){e.apply(null,t)}),this._events.length=0},f.prototype.render=function(){var t,i=this.renderer,e=this.options,s=this.size,o=this.chart.styledMode;this.group=t=i.g("scrollbar").attr({zIndex:e.zIndex,translateY:-99999}).add(),this.track=i.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:e.trackBorderRadius||0,height:s,width:s}).add(t),o||this.track.attr({fill:e.trackBackgroundColor,stroke:e.trackBorderColor,"stroke-width":e.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=i.g().add(t),this.scrollbar=i.rect().addClass("highcharts-scrollbar-thumb").attr({height:s,width:s,r:e.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=i.path(p(["M",-3,s/4,"L",-3,2*s/3,"M",0,s/4,"L",0,2*s/3,"M",3,s/4,"L",3,2*s/3],e.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),o||(this.scrollbar.attr({fill:e.barBackgroundColor,stroke:e.barBorderColor,"stroke-width":e.barBorderWidth}),this.scrollbarRifles.attr({stroke:e.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},f.prototype.setRange=function(t,i){var e,s=this.options,o=s.vertical,r=s.minWidth,a=this.barWidth,n=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(d(a)){t=Math.max(t,0);var h=Math.ceil(a*t);this.calculatedWidth=e=l(a*Math.min(i,1)-h),e<r&&(h=(a-r+e)*t,e=r),r=Math.floor(h+this.xOffset+this.yOffset),a=e/2-.5,this.from=t,this.to=i,o?(this.scrollbarGroup[n]({translateY:r}),this.scrollbar[n]({height:e}),this.scrollbarRifles[n]({translateY:a}),this.scrollbarTop=r,this.scrollbarLeft=0):(this.scrollbarGroup[n]({translateX:r}),this.scrollbar[n]({width:e}),this.scrollbarRifles[n]({translateX:a}),this.scrollbarLeft=r,this.scrollbarTop=0),e<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===s.showFull&&(t<=0&&1<=i?this.group.hide():this.group.show()),this.rendered=!0}},f.prototype.trackClick=function(t){var i=this.chart.pointer.normalize(t),e=this.to-this.from,s=this.y+this.scrollbarTop,o=this.x+this.scrollbarLeft;this.options.vertical&&i.chartY>s||!this.options.vertical&&i.chartX>o?this.updatePosition(this.from+e,this.to+e):this.updatePosition(this.from-e,this.to-e),a(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})},f.prototype.update=function(t){this.destroy(),this.init(this.chart.renderer,s(!0,this.options,t),this.chart)},f.prototype.updatePosition=function(t,i){1<i&&(t=l(1-l(i-t)),i=1),t<0&&(i=l(i-t),t=0),this.from=t,this.to=i},f);function f(t,i,e){this._events=[],this.from=this.chartY=this.chartX=0,this.scrollbar=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions={},this.y=this.x=0,this.chart=e,this.options=i,this.renderer=e.renderer,this.init(t,i,e)}return r.Scrollbar||(n(t,"afterInit",function(){var o=this;o.options&&o.options.scrollbar&&o.options.scrollbar.enabled&&(o.options.scrollbar.vertical=!o.horiz,o.options.startOnTick=o.options.endOnTick=!1,o.scrollbar=new g(o.chart.renderer,o.options.scrollbar,o.chart),n(o.scrollbar,"changed",function(t){var i=Math.min(h(o.options.min,o.min),o.min,o.dataMin),e=Math.max(h(o.options.max,o.max),o.max,o.dataMax)-i;if(o.horiz&&!o.reversed||!o.horiz&&o.reversed){var s=i+e*this.to;i+=e*this.from}else s=i+e*(1-this.from),i+=e*(1-this.to);h(this.options.liveRedraw,r.svg&&!r.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===t.DOMType||!d(t.DOMType)?o.setExtremes(i,s,!0,"mousemove"!==t.DOMType,t):this.setRange(this.from,this.to)}))}),n(t,"afterRender",function(){var t=Math.min(h(this.options.min,this.min),this.min,h(this.dataMin,this.min)),i=Math.max(h(this.options.max,this.max),this.max,h(this.dataMax,this.max)),e=this.scrollbar,s=this.axisTitleMargin+(this.titleOffset||0),o=this.chart.scrollbarsOffsets,r=this.options.margin||0;e&&(s=this.horiz?(this.opposite||(o[1]+=s),e.position(this.left,this.top+this.height+2+o[1]-(this.opposite?r:0),this.width,this.height),this.opposite||(o[1]+=r),1):(this.opposite&&(o[0]+=s),e.position(this.left+this.width+2+o[0]-(this.opposite?0:r),this.top,this.width,this.height),this.opposite&&(o[0]+=r),0),o[s]+=e.size+e.options.margin,isNaN(t)||isNaN(i)||!d(this.min)||!d(this.max)||this.min===this.max?e.setRange(0,1):(o=(this.min-t)/(i-t),t=(this.max-t)/(i-t),this.horiz&&!this.reversed||!this.horiz&&this.reversed?e.setRange(o,t):e.setRange(1-t,1-o)))}),n(t,"afterGetOffset",function(){var t=this.horiz?2:1,i=this.scrollbar;i&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=i.size+i.options.margin)}),r.Scrollbar=g),r.Scrollbar}),i(t,"parts/Navigator.js",[t["parts/Globals.js"],t["parts/Color.js"],t["parts/Scrollbar.js"],t["parts/Utilities.js"]],function(h,t,l,i){t=t.parse;var d=i.addEvent,m=i.clamp,v=i.correctFloat,b=i.defined,e=i.destroyObjectProperties,s=i.erase,u=i.extend,o=i.find,g=i.isArray,y=i.isNumber,f=i.merge,M=i.pick,x=i.removeEvent,k=i.splat,p=h.Axis;i=h.Chart;function c(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if((i=[].filter.call(i,y)).length)return Math[t].apply(0,i)}var A=h.defaultOptions,a=h.hasTouch,S=h.isTouchDevice,r=h.Series,n=void 0===h.seriesTypes.areaspline?"line":"areaspline";u(A,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:t("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:n,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),h.Renderer.prototype.symbols["navigator-handle"]=function(t,i,e,s,o){return t=o.width/2,i=Math.round(t/3)+.5,["M",-t-1,.5,"L",t,.5,"L",t,(o=o.height)+.5,"L",-t-1,o+.5,"L",-t-1,.5,"M",-i,4,"L",-i,o-3,"M",i-1,4,"L",i-1,o-3]},p.prototype.toFixedRange=function(t,i,e,s){var o=this.chart&&this.chart.fixedRange,r=(this.pointRange||0)/2;t=M(e,this.translate(t,!0,!this.horiz)),i=M(s,this.translate(i,!0,!this.horiz));var a=o&&(i-t)/o;return b(e)||(t=v(t+r)),b(s)||(i=v(i-r)),.7<a&&a<1.3&&(s?t=i-o:i=t+o),y(t)&&y(i)||(t=i=void 0),{min:t,max:i}};var w=(D.prototype.drawHandle=function(t,i,e,s){var o=this.navigatorOptions.handles.height;this.handles[i][s](e?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-o)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-o/2-1)})},D.prototype.drawOutline=function(t,i,e,s){var o=this.navigatorOptions.maskInside,r=this.outline.strokeWidth(),a=r/2;r=r%2/2;var n=this.outlineHeight,h=this.scrollbarHeight,l=this.size,d=this.left-h,p=this.top;t=e?["M",(d-=a)+n,p-h-r,"L",d+n,e=p+i+r,"L",d,e,"L",d,i=p+t+r,"L",d+n,i,"L",d+n,p+l+h].concat(o?["M",d+n,e-a,"L",d+n,i+a]:[]):["M",d,p+=a,"L",t+=d+h-r,p,"L",t,p+n,"L",i+=d+h-r,p+n,"L",i,p,"L",d+l+2*h,p].concat(o?["M",t-a,p,"L",i+a,p]:[]),this.outline[s]({d:t})},D.prototype.drawMasks=function(t,i,e,s){var o=this.left,r=this.top,a=this.height;if(e)var n=[o,o,o],h=[r,r+t,r+i],l=[a,a,a],d=[t,i-t,this.size-i];else n=[o,o+t,o+i],h=[r,r,r],l=[t,i-t,this.size-i],d=[a,a,a];this.shades.forEach(function(t,i){t[s]({x:n[i],y:h[i],width:l[i],height:d[i]})})},D.prototype.renderElements=function(){var e,s=this,o=s.navigatorOptions,t=o.maskInside,r=s.chart,a=r.renderer,n={cursor:r.inverted?"ns-resize":"ew-resize"};s.navigatorGroup=e=a.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!t,t,!t].forEach(function(t,i){s.shades[i]=a.rect().addClass("highcharts-navigator-mask"+(1===i?"-inside":"-outside")).add(e),r.styledMode||s.shades[i].attr({fill:t?o.maskFill:"rgba(0,0,0,0)"}).css(1===i&&n)}),s.outline=a.path().addClass("highcharts-navigator-outline").add(e),r.styledMode||s.outline.attr({"stroke-width":o.outlineWidth,stroke:o.outlineColor}),o.handles.enabled&&[0,1].forEach(function(t){if(o.handles.inverted=r.inverted,s.handles[t]=a.symbol(o.handles.symbols[t],-o.handles.width/2-1,0,o.handles.width,o.handles.height,o.handles),s.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(e),!r.styledMode){var i=o.handles;s.handles[t].attr({fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.lineWidth}).css(n)}})},D.prototype.update=function(t){(this.series||[]).forEach(function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy(),f(!0,this.chart.options.navigator,this.options,t),this.init(this.chart)},D.prototype.render=function(t,i,e,s){var o,r,a=this.chart,n=this.scrollbarHeight,h=this.xAxis,l=h.pointRange||0,d=h.fake?a.xAxis[0]:h,p=this.navigatorEnabled,c=this.rendered,u=a.inverted,g=a.xAxis[0].minRange,f=a.xAxis[0].options.maxRange;if(!this.hasDragged||b(e)){if(t=v(t-l/2),i=v(i+l/2),!y(t)||!y(i)){if(!c)return;e=0,s=M(h.width,d.width)}this.left=M(h.left,a.plotLeft+n+(u?a.plotWidth:0)),this.size=r=o=M(h.len,(u?a.plotHeight:a.plotWidth)-2*n),a=u?n:o+2*n,e=M(e,h.toPixels(t,!0)),s=M(s,h.toPixels(i,!0)),y(e)&&1/0!==Math.abs(e)||(e=0,s=a),t=h.toValue(e,!0),i=h.toValue(s,!0);var x=Math.abs(v(i-t));x<g?this.grabbedLeft?e=h.toPixels(i-g-l,!0):this.grabbedRight&&(s=h.toPixels(t+g+l,!0)):b(f)&&v(x-l)>f&&(this.grabbedLeft?e=h.toPixels(i-f-l,!0):this.grabbedRight&&(s=h.toPixels(t+f+l,!0))),this.zoomedMax=m(Math.max(e,s),0,r),this.zoomedMin=m(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(e,s),0,r),this.range=this.zoomedMax-this.zoomedMin,r=Math.round(this.zoomedMax),e=Math.round(this.zoomedMin),p&&(this.navigatorGroup.attr({visibility:"visible"}),c=c&&!this.hasDragged?"animate":"attr",this.drawMasks(e,r,u,c),this.drawOutline(e,r,u,c),this.navigatorOptions.handles.enabled&&(this.drawHandle(e,0,u,c),this.drawHandle(r,1,u,c))),this.scrollbar&&(u?(u=this.top-n,d=this.left-n+(p||!d.opposite?0:(d.titleOffset||0)+d.axisTitleMargin),n=o+2*n):(u=this.top+(p?this.height:-n),d=this.left-n),this.scrollbar.position(d,u,a,n),this.scrollbar.setRange(this.zoomedMin/(o||1),this.zoomedMax/(o||1))),this.rendered=!0}},D.prototype.addMouseEvents=function(){var t,i,e=this,s=e.chart,o=s.container,r=[];e.mouseMoveHandler=t=function(t){e.onMouseMove(t)},e.mouseUpHandler=i=function(t){e.onMouseUp(t)},(r=e.getPartsEvents("mousedown")).push(d(s.renderTo,"mousemove",t),d(o.ownerDocument,"mouseup",i)),a&&(r.push(d(s.renderTo,"touchmove",t),d(o.ownerDocument,"touchend",i)),r.concat(e.getPartsEvents("touchstart"))),e.eventsToUnbind=r,e.series&&e.series[0]&&r.push(d(e.series[0].xAxis,"foundExtremes",function(){s.navigator.modifyNavigatorAxisExtremes()}))},D.prototype.getPartsEvents=function(s){var o=this,r=[];return["shades","handles"].forEach(function(e){o[e].forEach(function(t,i){r.push(d(t.element,s,function(t){o[e+"Mousedown"](t,i)}))})}),r},D.prototype.shadesMousedown=function(t,i){t=this.chart.pointer.normalize(t);var e=this.chart,s=this.xAxis,o=this.zoomedMin,r=this.left,a=this.size,n=this.range,h=t.chartX;if(e.inverted&&(h=t.chartY,r=this.top),1===i)this.grabbedCenter=h,this.fixedWidth=n,this.dragOffset=h-o;else{if(t=h-r-n/2,0===i)t=Math.max(0,t);else if(2===i&&a<=t+n)if(t=a-n,this.reversedExtremes){t-=n;var l=this.getUnionExtremes().dataMin}else var d=this.getUnionExtremes().dataMax;t!==o&&(this.fixedWidth=n,i=s.toFixedRange(t,t+n,l,d),b(i.min)&&e.xAxis[0].setExtremes(Math.min(i.min,i.max),Math.max(i.min,i.max),!0,null,{trigger:"navigator"}))}},D.prototype.handlesMousedown=function(t,i){this.chart.pointer.normalize(t);var e=(t=this.chart).xAxis[0],s=this.reversedExtremes;0===i?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=s?e.min:e.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=s?e.max:e.min),t.fixedRange=null},D.prototype.onMouseMove=function(t){var i=this,e=i.chart,s=i.left,o=i.navigatorSize,r=i.range,a=i.dragOffset,n=e.inverted;t.touches&&0===t.touches[0].pageX||(e=(t=e.pointer.normalize(t)).chartX,n&&(s=i.top,e=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,e-s,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,e-s)):i.grabbedCenter&&(i.hasDragged=!0,e<a?e=a:o+a-r<e&&(e=o+a-r),i.render(0,0,e-a,e-a+r)),i.hasDragged&&i.scrollbar&&M(i.scrollbar.options.liveRedraw,h.svg&&!S&&!this.chart.isBoosting)&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))},D.prototype.onMouseUp=function(t){var i=this.chart,e=this.xAxis,s=this.scrollbar,o=t.DOMEvent||t,r=i.inverted,a=this.rendered&&!this.hasDragged?"animate":"attr",n=Math.round(this.zoomedMax),h=Math.round(this.zoomedMin);if(this.hasDragged&&(!s||!s.hasDragged)||"scrollbar"===t.trigger){if(s=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos)var l=this.fixedExtreme;else if(this.zoomedMax===this.otherHandlePos)var d=this.fixedExtreme;this.zoomedMax===this.size&&(d=this.reversedExtremes?s.dataMin:s.dataMax),0===this.zoomedMin&&(l=this.reversedExtremes?s.dataMax:s.dataMin),e=e.toFixedRange(this.zoomedMin,this.zoomedMax,l,d),b(e.min)&&i.xAxis[0].setExtremes(Math.min(e.min,e.max),Math.max(e.min,e.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:o})}"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&(this.shades&&this.drawMasks(h,n,r,a),this.outline&&this.drawOutline(h,n,r,a),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(h,0,r,a),this.drawHandle(n,1,r,a)))},D.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},D.prototype.removeBaseSeriesEvents=function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){x(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&x(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},D.prototype.init=function(a){var t=a.options,i=t.navigator,e=i.enabled,s=t.scrollbar,o=s.enabled;t=e?i.height:0;var n=o?s.height:0;this.handles=[],this.shades=[],this.chart=a,this.setBaseSeries(),this.height=t,this.scrollbarHeight=n,this.scrollbarEnabled=o,this.navigatorEnabled=e,this.navigatorOptions=i,this.scrollbarOptions=s,this.outlineHeight=t+n,this.opposite=M(i.opposite,!(e||!a.inverted));var r=this;e=r.baseSeries,s=a.xAxis.length,o=a.yAxis.length;var h=e&&e[0]&&e[0].xAxis||a.xAxis[0]||{options:{}};a.isDirtyBox=!0,r.navigatorEnabled?(r.xAxis=new p(a,f({breaks:h.options.breaks,ordinal:h.options.ordinal},i.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:s,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},a.inverted?{offsets:[n,0,-n,0],width:t}:{offsets:[0,-n,0,n],height:t})),r.yAxis=new p(a,f(i.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:o,isInternal:!0,zoomEnabled:!1},a.inverted?{width:t}:{height:t})),e||i.series.data?r.updateNavigatorSeries(!1):0===a.series.length&&(r.unbindRedraw=d(a,"beforeRedraw",function(){0<a.series.length&&!r.series&&(r.setBaseSeries(),r.unbindRedraw())})),r.reversedExtremes=a.inverted&&!r.xAxis.reversed||!a.inverted&&r.xAxis.reversed,r.renderElements(),r.addMouseEvents()):r.xAxis={translate:function(t,i){var e=a.xAxis[0],s=e.getExtremes(),o=e.len-2*n,r=c("min",e.options.min,s.dataMin);return e=c("max",e.options.max,s.dataMax)-r,i?t*e/o+r:o*(t-r)/e},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)},toFixedRange:p.prototype.toFixedRange,fake:!0},a.options.scrollbar.enabled&&(a.scrollbar=r.scrollbar=new l(a.renderer,f(a.options.scrollbar,{margin:r.navigatorEnabled?0:10,vertical:a.inverted}),a),d(r.scrollbar,"changed",function(t){var i=r.size,e=i*this.to;i*=this.from,r.hasDragged=r.scrollbar.hasDragged,r.render(0,0,i,e),(a.options.scrollbar.liveRedraw||"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType)&&setTimeout(function(){r.onMouseUp(t)})})),r.addBaseSeriesEvents(),r.addChartEvents()},D.prototype.getUnionExtremes=function(t){var i,e=this.chart.xAxis[0],s=this.xAxis,o=s.options,r=e.options;return t&&null===e.dataMin||(i={dataMin:M(o&&o.min,c("min",r.min,e.dataMin,s.dataMin,s.min)),dataMax:M(o&&o.max,c("max",r.max,e.dataMax,s.dataMax,s.max))}),i},D.prototype.setBaseSeries=function(e,t){var i=this.chart,s=this.baseSeries=[];e=e||i.options&&i.options.navigator.baseSeries||(i.series.length?o(i.series,function(t){return!t.options.isInternal}).index:0),(i.series||[]).forEach(function(t,i){t.options.isInternal||!t.options.showInNavigator&&(i!==e&&t.options.id!==e||!1===t.options.showInNavigator)||s.push(t)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(!0,t)},D.prototype.updateNavigatorSeries=function(t,s){var o,r,a,n=this,h=n.chart,l=n.baseSeries,d=n.navigatorOptions.series,p={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,states:{inactive:{opacity:1}}},c=n.series=(n.series||[]).filter(function(t){var i=t.baseSeries;return!(l.indexOf(i)<0&&(i&&(x(i,"updatedData",n.updatedDataHandler),delete i.navigatorSeries),t.chart&&t.destroy(),1))});l&&l.length&&l.forEach(function(t){var i=t.navigatorSeries,e=u({color:t.color,visible:t.visible},g(d)?A.navigator.series:d);i&&!1===n.navigatorOptions.adaptToUpdatedData||(p.name="Navigator "+l.length,o=t.options||{},a=o.navigatorOptions||{},(r=f(o,p,e,a)).pointRange=M(e.pointRange,a.pointRange,A.plotOptions[r.type||"line"].pointRange),e=a.data||e.data,n.hasNavigatorData=n.hasNavigatorData||!!e,r.data=e||o.data&&o.data.slice(0),i&&i.options?i.update(r,s):(t.navigatorSeries=h.initSeries(r),t.navigatorSeries.baseSeries=t,c.push(t.navigatorSeries)))}),(!d.data||l&&l.length)&&!g(d)||(n.hasNavigatorData=!1,(d=k(d)).forEach(function(t,i){p.name="Navigator "+(c.length+1),(r=f(A.navigator.series,{color:h.series[i]&&!h.series[i].options.isInternal&&h.series[i].color||h.options.colors[i]||h.options.colors[0]},p,t)).data=t.data,r.data&&(n.hasNavigatorData=!0,c.push(h.initSeries(r)))})),t&&this.addBaseSeriesEvents()},D.prototype.addBaseSeriesEvents=function(){var i=this,t=i.baseSeries||[];t[0]&&t[0].xAxis&&d(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),t.forEach(function(t){d(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),d(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&d(t,"updatedData",this.updatedDataHandler),d(t,"remove",function(){this.navigatorSeries&&(s(i.series,this.navigatorSeries),b(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},D.prototype.getBaseSeriesMin=function(t){return this.baseSeries.reduce(function(t,i){return Math.min(t,i.xData?i.xData[0]:t)},t)},D.prototype.modifyNavigatorAxisExtremes=function(){var t,i=this.xAxis;void 0!==i.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===i.min&&t.dataMax===i.max||(i.min=t.dataMin,i.max=t.dataMax))},D.prototype.modifyBaseAxisExtremes=function(){var t=this.chart.navigator,i=this.getExtremes(),e=i.dataMin,s=i.dataMax;i=i.max-i.min;var o=t.stickToMin,r=t.stickToMax,a=M(this.options.overscroll,0),n=t.series&&t.series[0],h=!!this.setExtremes;if(!this.eventArgs||"rangeSelectorButton"!==this.eventArgs.trigger){if(o)var l=e,d=l+i;r&&(d=s+a,o||(l=Math.max(d-i,t.getBaseSeriesMin(n&&n.xData?n.xData[0]:-Number.MAX_VALUE)))),h&&(o||r)&&y(l)&&(this.min=this.userMin=l,this.max=this.userMax=d)}t.stickToMin=t.stickToMax=null},D.prototype.updatedDataHandler=function(){var t=this.chart.navigator,i=this.navigatorSeries,e=t.getBaseSeriesMin(this.xData[0]);t.stickToMax=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=y(this.xAxis.min)&&this.xAxis.min<=e&&(!this.chart.fixedRange||!t.stickToMax),i&&!t.hasNavigatorData&&(i.options.pointStart=this.xData[0],i.setData(this.options.data,!1,null,!1))},D.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(d(this.chart,"redraw",function(){var t=this.navigator,i=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||t.scrollbar&&this.xAxis[0]);i&&t.render(i.min,i.max)}),d(this.chart,"getMargins",function(){var t=this.navigator,i=t.opposite?"plotTop":"marginBottom";this.inverted&&(i=t.opposite?"marginRight":"plotLeft"),this[i]=(this[i]||0)+(t.navigatorEnabled||!this.inverted?t.outlineHeight:0)+t.navigatorOptions.margin}))},D.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(s(this.chart.xAxis,this.xAxis),s(this.chart.axes,this.xAxis)),this.yAxis&&(s(this.chart.yAxis,this.yAxis),s(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(t){t.destroy&&t.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),[this.handles].forEach(function(t){e(t)},this)},D);function D(t){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.init(t)}return h.Navigator||(h.Navigator=w,d(p,"zoom",function(t){var i=this.chart.options,e=i.chart.zoomType,s=i.chart.pinchType,o=i.navigator;i=i.rangeSelector,this.isXAxis&&(o&&o.enabled||i&&i.enabled)&&("y"===e?t.zoomed=!1:(!S&&"xy"===e||S&&"xy"===s)&&this.options.range&&(e=this.previousZoom,b(t.newMin)?this.previousZoom=[this.min,this.max]:e&&(t.newMin=e[0],t.newMax=e[1],delete this.previousZoom))),void 0!==t.zoomed&&t.preventDefault()}),d(i,"beforeShowResetZoom",function(){var t=this.options,i=t.navigator,e=t.rangeSelector;if((i&&i.enabled||e&&e.enabled)&&(!S&&"x"===t.chart.zoomType||S&&"x"===t.chart.pinchType))return!1}),d(i,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new w(this))}),d(i,"afterSetChartSize",function(){var t=this.legend,i=this.navigator;if(i){var e=t&&t.options,s=i.xAxis,o=i.yAxis,r=i.scrollbarHeight;this.inverted?(i.left=i.opposite?this.chartWidth-r-i.height:this.spacing[3]+r,i.top=this.plotTop+r):(i.left=this.plotLeft+r,i.top=i.navigatorOptions.top||this.chartHeight-i.height-r-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(e&&"bottom"===e.verticalAlign&&e.enabled&&!e.floating?t.legendHeight+M(e.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),s&&o&&(this.inverted?s.options.left=o.options.left=i.left:s.options.top=o.options.top=i.top,s.setAxisSize(),o.setAxisSize())}}),d(i,"update",function(t){var i=t.options.navigator||{},e=t.options.scrollbar||{};this.navigator||this.scroller||!i.enabled&&!e.enabled||(f(!0,this.options.navigator,i),f(!0,this.options.scrollbar,e),delete t.options.navigator,delete t.options.scrollbar)}),d(i,"afterUpdate",function(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new w(this),M(t.redraw,!0)&&this.redraw(t.animation))}),d(i,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),d(r,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),i.prototype.callbacks.push(function(t){var i=t.navigator;i&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),i.render(t.min,t.max))})),h.Navigator=w,h.Navigator}),i(t,"parts/OrdinalAxis.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,i){var e=i.addEvent,x=i.css,y=i.defined,s=i.extend,u=i.pick,M=i.timeUnits,l=t.Axis;i=t.Chart;var d=t.noop;e(t.Series,"updatedData",function(){var t=this.xAxis;t&&t.options.ordinal&&delete t.ordinalIndex}),l.prototype.getTimeTicks=function(t,i,e,s,o,r,a){var n,h,l=0,d={},p=[],c=-Number.MAX_VALUE,u=this.options.tickPixelInterval,g=this.chart.time,f=[];if(!this.options.ordinal&&!this.options.breaks||!o||o.length<3||void 0===i)return g.getTimeTicks.apply(g,arguments);var x=o.length;for(n=0;n<x;n++){var m=n&&o[n-1]>e;if(o[n]<i&&(l=n),n===x-1||o[n+1]-o[n]>5*r||m){if(o[n]>c){for(h=g.getTimeTicks(t,o[l],o[n],s);h.length&&h[0]<=c;)h.shift();h.length&&(c=h[h.length-1]),f.push(p.length),p=p.concat(h)}l=n+1}if(m)break}if(h=h.info,a&&h.unitRange<=M.hour){for(n=p.length-1,l=1;l<n;l++)if(g.dateFormat("%d",p[l])!==g.dateFormat("%d",p[l-1])){d[p[l]]="day";var v=!0}v&&(d[p[0]]="day"),h.higherRanks=d}if(h.segmentStarts=f,p.info=h,a&&y(u)){var b;for(l=f=p.length,v=[],g=[];l--;)n=this.translate(p[l]),b&&(g[l]=b-n),v[l]=b=n;for(g.sort(),(g=g[Math.floor(g.length/2)])<.6*u&&(g=null),l=p[f-1]>e?f-1:f,b=void 0;l--;)n=v[l],f=Math.abs(b-n),b&&f<.8*u&&(null===g||f<.8*g)?(d[p[l]]&&!d[p[l+1]]?(f=l+1,b=n):f=l,p.splice(f,1)):b=n}return p},s(l.prototype,{beforeSetTickPositions:function(){var e,t,s=[],i=!1,o=this.getExtremes(),r=o.min,a=o.max,n=this.isXAxis&&!!this.options.breaks;o=this.options.ordinal;var h,l=Number.MAX_VALUE,d=this.chart.options.chart.ignoreHiddenSeries;if(o||n){this.series.forEach(function(t,i){if(e=[],!(d&&!1===t.visible||!1===t.takeOrdinalPosition&&!n)&&(s=s.concat(t.processedXData),p=s.length,s.sort(function(t,i){return t-i}),l=Math.min(l,u(t.closestPointRange,l)),p)){for(i=0;i<p-1;)s[i]!==s[i+1]&&e.push(s[i+1]),i++;e[0]!==s[0]&&e.unshift(s[0]),s=e}t.isSeriesBoosting&&(h=!0)}),h&&(s.length=0);var p=s.length;if(2<p){var c=s[1]-s[0];for(t=p-1;t--&&!i;)s[t+1]-s[t]!==c&&(i=!0);!this.options.keepOrdinalPadding&&(s[0]-r>c||a-s[s.length-1]>c)&&(i=!0)}else this.options.overscroll&&(2===p?l=s[1]-s[0]:1===p?(l=this.options.overscroll,s=[s[0],s[0]+l]):l=this.overscrollPointsRange);i?(this.options.overscroll&&(this.overscrollPointsRange=l,s=s.concat(this.getOverscrollPositions())),this.ordinalPositions=s,c=this.ordinal2lin(Math.max(r,s[0]),!0),t=Math.max(this.ordinal2lin(Math.min(a,s[s.length-1]),!0),1),this.ordinalSlope=a=(a-r)/(t-c),this.ordinalOffset=r-c*a):(this.overscrollPointsRange=u(this.closestPointRange,this.overscrollPointsRange),this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0)}this.isOrdinal=o&&i,this.groupIntervalFactor=null},val2lin:function(t,i){var e=this.ordinalPositions;if(e){var s,o=e.length;for(s=o;s--;)if(e[s]===t){var r=s;break}for(s=o-1;s--;)if(t>e[s]||0===s){r=s+(t=(t-e[s])/(e[s+1]-e[s]));break}i=i?r:this.ordinalSlope*(r||0)+this.ordinalOffset}else i=t;return i},lin2val:function(t,i){var e=this.ordinalPositions;if(e){var s=this.ordinalSlope,o=this.ordinalOffset,r=e.length-1;if(i)if(t<0)t=e[0];else if(r<t)t=e[r];else var a=t-(r=Math.floor(t));else for(;r--;)if((i=s*r+o)<=t){a=(t-i)/((s=s*(r+1)+o)-i);break}return void 0!==a&&void 0!==e[r]?e[r]+(a?a*(e[r+1]-e[r]):0):t}return t},getExtendedPositions:function(){var i,e=this,s=e.chart,o=e.series[0].currentDataGrouping,t=e.ordinalIndex,r=o?o.count+o.unitName:"raw",a=e.options.overscroll,n=e.getExtremes();if(!(t=t||(e.ordinalIndex={}))[r]){var h={series:[],chart:s,getExtremes:function(){return{min:n.dataMin,max:n.dataMax+a}},options:{ordinal:!0},val2lin:l.prototype.val2lin,ordinal2lin:l.prototype.ordinal2lin};e.series.forEach(function(t){(i={xAxis:h,xData:t.xData.slice(),chart:s,destroyGroupedData:d}).xData=i.xData.concat(e.getOverscrollPositions()),i.options={dataGrouping:o?{enabled:!0,forced:!0,approximation:"open",units:[[o.unitName,[o.count]]]}:{enabled:!1}},t.processData.apply(i),h.series.push(i)}),e.beforeSetTickPositions.apply(h),t[r]=h.ordinalPositions}return t[r]},getOverscrollPositions:function(){var t=this.options.overscroll,i=this.overscrollPointsRange,e=[],s=this.dataMax;if(y(i))for(e.push(s);s<=this.dataMax+t;)s+=i,e.push(s);return e},getGroupIntervalFactor:function(t,i,e){var s=(e=e.processedXData).length,o=[],r=this.groupIntervalFactor;if(!r){for(r=0;r<s-1;r++)o[r]=e[r+1]-e[r];o.sort(function(t,i){return t-i}),o=o[Math.floor(s/2)],t=Math.max(t,e[0]),i=Math.min(i,e[s-1]),this.groupIntervalFactor=r=s*o/(i-t)}return r},postProcessTickInterval:function(t){var i=this.ordinalSlope;return i?this.options.breaks?this.closestPointRange||t:t/(i/this.closestPointRange):t}}),l.prototype.ordinal2lin=l.prototype.val2lin,e(i,"pan",function(t){var i=this.xAxis[0],e=i.options.overscroll,s=t.originalEvent.chartX,o=this.options.chart&&this.options.chart.panning,r=!1;if(o&&"y"!==o.type&&i.options.ordinal&&i.series.length){var a=this.mouseDownX,n=i.getExtremes(),h=n.dataMax,l=n.min,d=n.max,p=this.hoverPoints,c=i.closestPointRange||i.overscrollPointsRange;a=(a-s)/(i.translationSlope*(i.ordinalSlope||c));var u={ordinalPositions:i.getExtendedPositions()};c=i.lin2val;var g=i.val2lin;if(u.ordinalPositions){if(1<Math.abs(a)){if(p&&p.forEach(function(t){t.setState()}),a<0){p=u;var f=i.ordinalPositions?i:u}else p=i.ordinalPositions?i:u,f=u;h>(u=f.ordinalPositions)[u.length-1]&&u.push(h),this.fixedRange=d-l,(a=i.toFixedRange(null,null,c.apply(p,[g.apply(p,[l,!0])+a,!0]),c.apply(f,[g.apply(f,[d,!0])+a,!0]))).min>=Math.min(n.dataMin,l)&&a.max<=Math.max(h,d)+e&&i.setExtremes(a.min,a.max,!0,!1,{trigger:"pan"}),this.mouseDownX=s,x(this.container,{cursor:"move"})}}else r=!0}else r=!0;r||o&&/y/.test(o.type)?e&&(i.max=i.dataMax+e):t.preventDefault()}),e(l,"foundExtremes",function(){this.isXAxis&&y(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&"navigator"!==this.eventArgs.trigger)&&(this.max+=this.options.overscroll,!this.isInternal&&y(this.userMin)&&(this.min+=this.options.overscroll))}),e(l,"afterSetScale",function(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)})}),i(t,"modules/broken-axis.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(a,t){var i=t.addEvent,e=t.extend,s=t.find,c=t.fireEvent,o=t.isArray,u=t.pick,g=a.Axis;t=a.Series;function n(i,t){return s(t,function(t){return t.from<i&&i<t.to})}e(g.prototype,{isInBreak:function(t,i){var e=t.repeat||1/0,s=t.from,o=t.to-t.from;return i=s<=i?(i-s)%e:e-(s-i)%e,t.inclusive?i<=o:i<o&&0!==i},isInAnyBreak:function(t,i){var e,s=this.options.breaks,o=s&&s.length;if(o){for(;o--;)if(this.isInBreak(s[o],t)){var r=!0;e=e||u(s[o].showPoints,!this.isXAxis)}var a=r&&i?r&&!e:r}return a}}),i(g,"afterInit",function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)}),i(g,"afterSetTickPositions",function(){if(this.isBroken){var t,i=this.tickPositions,e=this.tickPositions.info,s=[];for(t=0;t<i.length;t++)this.isInAnyBreak(i[t])||s.push(i[t]);this.tickPositions=s,this.tickPositions.info=e}}),i(g,"afterSetOptions",function(){this.isBroken&&(this.options.ordinal=!1)}),g.prototype.setBreaks=function(t,i){function e(t){var i,e=t;for(i=0;i<p.breakArray.length;i++){var s=p.breakArray[i];if(s.to<=t)e-=s.len;else{if(s.from>=t)break;if(p.isInBreak(s,t)){e-=t-s.from;break}}}return e}var p=this,s=o(t)&&!!t.length;p.isDirty=p.isBroken!==s,p.isBroken=s,p.options.breaks=p.userOptions.breaks=t,p.forceRedraw=!0,p.series.forEach(function(t){t.isDirty=!0}),s||p.val2lin!==e||(delete p.val2lin,delete p.lin2val),s&&(p.userOptions.ordinal=!1,p.val2lin=e,p.lin2val=function(t){var i;for(i=0;i<p.breakArray.length;i++){var e=p.breakArray[i];if(e.from>=t)break;e.to<t?t+=e.len:p.isInBreak(e,t)&&(t+=e.len)}return t},p.setExtremes=function(t,i,e,s,o){if(this.isBroken){for(var r,a=this.options.breaks;r=n(t,a);)t=r.to;for(;r=n(i,a);)i=r.from;i<t&&(i=t)}g.prototype.setExtremes.call(this,t,i,e,s,o)},p.setAxisTranslation=function(t){if(g.prototype.setAxisTranslation.call(this,t),this.unitLength=null,this.isBroken){t=p.options.breaks;var i,e,s=[],o=[],r=0,a=p.userMin||p.min,n=p.userMax||p.max,h=u(p.pointRangePadding,0);t.forEach(function(t){i=t.repeat||1/0,p.isInBreak(t,a)&&(a+=t.to%i-a%i),p.isInBreak(t,n)&&(n-=n%i-t.from%i)}),t.forEach(function(t){for(d=t.from,i=t.repeat||1/0;a<d-i;)d-=i;for(;d<a;)d+=i;for(e=d;e<n;e+=i)s.push({value:e,move:"in"}),s.push({value:e+(t.to-t.from),move:"out",size:t.breakSize})}),s.sort(function(t,i){return t.value===i.value?("in"===t.move?0:1)-("in"===i.move?0:1):t.value-i.value});var l=0,d=a;s.forEach(function(t){1===(l+="in"===t.move?1:-1)&&"in"===t.move&&(d=t.value),0===l&&(o.push({from:d,to:t.value,len:t.value-d-(t.size||0)}),r+=t.value-d-(t.size||0))}),p.breakArray=o,p.unitLength=n-a-r+h,c(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:p.unitLength&&(p.transA*=(n-p.min+h)/p.unitLength),h&&(p.minPixelPadding=p.transA*p.minPointOffset),p.min=a,p.max=n}}),u(i,!0)&&this.chart.redraw()},i(t,"afterGeneratePoints",function(){var t=this.options.connectNulls,i=this.points,e=this.xAxis,s=this.yAxis;if(this.isDirty)for(var o=i.length;o--;){var r=i[o],a=!(null===r.y&&!1===t)&&(e&&e.isInAnyBreak(r.x,!0)||s&&s.isInAnyBreak(r.y,!0));r.visible=!a&&!1!==r.options.visible}}),i(t,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,u(this.pointArrayMap,["y"]))}),a.Series.prototype.drawBreaks=function(e,t){var s,o,r,a,i=this,n=i.points;e&&t.forEach(function(t){s=e.breakArray||[],o=e.isXAxis?e.min:u(i.options.threshold,e.min),n.forEach(function(i){a=u(i["stack"+t.toUpperCase()],i[t]),s.forEach(function(t){r=!1,o<t.from&&a>t.to||o>t.from&&a<t.from?r="pointBreak":(o<t.from&&a>t.from&&a<t.to||o>t.from&&a>t.to&&a<t.from)&&(r="pointInBreak"),r&&c(e,r,{point:i,brk:t})})})})},a.Series.prototype.gappedPath=function(){var t=this.currentDataGrouping,i=t&&t.gapSize;t=this.options.gapSize;var e,s=this.points.slice(),o=s.length-1,r=this.yAxis;if(t&&0<o)for("value"!==this.options.gapUnit&&(t*=this.basePointRange),i&&t<i&&i>=this.basePointRange&&(t=i),e=void 0;o--;)e&&!1!==e.visible||(e=s[o+1]),i=s[o],!1!==e.visible&&!1!==i.visible&&(e.x-i.x>t&&(e=(i.x+e.x)/2,s.splice(o+1,0,{isNull:!0,x:e}),this.options.stacking&&((e=r.stacks[this.stackKey][e]=new a.StackItem(r,r.options.stackLabels,!1,e,this.stack)).total=0)),e=i);return this.getGraphPath(s)}}),i(t,"masters/modules/broken-axis.src.js",[],function(){}),i(t,"parts/DataGrouping.js",[t["parts/Globals.js"],t["parts/Point.js"],t["parts/Tooltip.js"],t["parts/Utilities.js"]],function(t,i,e,s){var o=s.addEvent,r=s.arrayMax,a=s.arrayMin,n=s.correctFloat,A=s.defined,h=s.error,c=s.extend,u=s.format,S=s.isNumber,w=s.merge,g=s.pick,l=t.Axis,d=t.defaultPlotOptions;s=t.Series;function p(t,i,e,s){var o,r=this,a=r.data,n=r.options&&r.options.data,h=[],l=[],d=[],p=t.length,c=!!i,u=[],g=r.pointArrayMap,f=g&&g.length,x=["x"].concat(g||["y"]),m=0,v=0;s="function"==typeof s?s:D[s]?D[s]:D[r.getDGApproximation&&r.getDGApproximation()||"average"],f?g.forEach(function(){u.push([])}):u.push([]);var b=f||1;for(o=0;o<=p&&!(t[o]>=e[0]);o++);for(;o<=p;o++){for(;void 0!==e[m+1]&&t[o]>=e[m+1]||o===p;){var y=e[m];r.dataGroupInfo={start:r.cropStart+v,length:u[0].length};var M=s.apply(r,u);for(r.pointClass&&!A(r.dataGroupInfo.options)&&(r.dataGroupInfo.options=w(r.pointClass.prototype.optionsToObject.call({series:r},r.options.data[r.cropStart+v])),x.forEach(function(t){delete r.dataGroupInfo.options[t]})),void 0!==M&&(h.push(y),l.push(M),d.push(r.dataGroupInfo)),v=o,y=0;y<b;y++)u[y].length=0,u[y].hasNulls=!1;if(m+=1,o===p)break}if(o===p)break;if(g)for(y=r.cropStart+o,M=a&&a[y]||r.pointClass.prototype.applyOptions.apply({series:r},[n[y]]),y=0;y<f;y++){var k=M[g[y]];S(k)?u[y].push(k):null===k&&(u[y].hasNulls=!0)}else y=c?i[o]:null,S(y)?u[0].push(y):null===y&&(u[0].hasNulls=!0)}return{groupedXData:h,groupedYData:l,groupMap:d}}var D=t.approximations={sum:function(t){var i=t.length;if(!i&&t.hasNulls)var e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var i=t.length;return t=D.sum(t),S(t)&&i&&(t=n(t/i)),t},averages:function(){var i=[];return[].forEach.call(arguments,function(t){i.push(D.average(t))}),void 0===i[0]?void 0:i},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},high:function(t){return t.length?r(t):t.hasNulls?null:void 0},low:function(t){return t.length?a(t):t.hasNulls?null:void 0},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},ohlc:function(t,i,e,s){if(t=D.open(t),i=D.high(i),e=D.low(e),s=D.close(s),S(t)||S(i)||S(e)||S(s))return[t,i,e,s]},range:function(t,i){return t=D.low(t),i=D.high(i),S(t)||S(i)?[t,i]:null===t&&null===i?null:void 0}},f={approximations:D,groupData:p},x=s.prototype,m=x.processData,v=x.generatePoints,b={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},y={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5}},M=t.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];return x.getDGApproximation=function(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("column")?"sum":"average"},x.groupData=p,x.processData=function(){var t,i=this.chart,e=this.options.dataGrouping,s=!1!==this.allowDG&&e&&g(e.enabled,i.options.isStock),o=this.visible||!i.options.chart.ignoreHiddenSeries,r=this.currentDataGrouping,a=!1;if(this.forceCrop=s,this.groupPixelWidth=null,this.hasProcessed=!0,s&&!this.requireSorting&&(this.requireSorting=a=!0),s=!1===m.apply(this,arguments)||!s,a&&(this.requireSorting=!1),!s){this.destroyGroupedData(),s=e.groupAll?this.xData:this.processedXData;var n=e.groupAll?this.yData:this.processedYData,h=i.plotSizeX,l=(i=this.xAxis).options.ordinal,d=this.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth();if(d){this.isDirty=t=!0,this.points=null;var p=(a=i.getExtremes()).min;d=d*((a=a.max)-p)/h*(l=l&&i.getGroupIntervalFactor(p,a,this)||1),h=i.getTimeTicks(i.normalizeTimeTickInterval(d,e.units||M),Math.min(p,s[0]),Math.max(a,s[s.length-1]),i.options.startOfWeek,s,this.closestPointRange),s=(n=x.groupData.apply(this,[s,n,h,e.approximation])).groupedXData,l=n.groupedYData;var c=0;if(e.smoothed&&s.length){var u=s.length-1;for(s[u]=Math.min(s[u],a);u--&&0<u;)s[u]+=d/2;s[0]=Math.max(s[0],p)}for(u=1;u<h.length;u++)h.info.segmentStarts&&-1!==h.info.segmentStarts.indexOf(u)||(c=Math.max(h[u]-h[u-1],c));(p=h.info).gapSize=c,this.closestPointRange=h.info.totalRange,this.groupMap=n.groupMap,A(s[0])&&s[0]<i.min&&o&&((!A(i.options.min)&&i.min<=i.dataMin||i.min===i.dataMin)&&(i.min=Math.min(s[0],i.min)),i.dataMin=Math.min(s[0],i.dataMin)),e.groupAll&&(s=(e=this.cropData(s,l,i.min,i.max,1)).xData,l=e.yData),this.processedXData=s,this.processedYData=l}else this.groupMap=null;this.hasGroupedData=t,this.currentDataGrouping=p,this.preventGraphAnimation=(r&&r.totalRange)!==(p&&p.totalRange)}},x.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(t,i){t&&(this.groupedData[i]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)},x.generatePoints=function(){v.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},o(i,"update",function(){if(this.dataGroup)return h(24,!1,this.series.chart),!1}),o(e,"headerFormatter",function(t){var i=this.chart,e=i.time,s=t.labelConfig,o=s.series,r=o.tooltipOptions,a=o.options.dataGrouping,n=r.xDateFormat,h=o.xAxis,l=r[(t.isFooter?"footer":"header")+"Format"];if(h&&"datetime"===h.options.type&&a&&S(s.key)){var d=o.currentDataGrouping;if(a=a.dateTimeLabelFormats||b.dateTimeLabelFormats,d)if(r=a[d.unitName],1===d.count)n=r[0];else{n=r[1];var p=r[2]}else!n&&a&&(n=this.getXDateFormat(s,r,h));n=e.dateFormat(n,s.key),p&&(n+=e.dateFormat(p,s.key+d.totalRange-1)),o.chart.styledMode&&(l=this.styledModeFormat(l)),t.text=u(l,{point:c(s.point,{key:n}),series:o},i),t.preventDefault()}}),o(s,"destroy",x.destroyGroupedData),o(s,"afterSetOptions",function(t){t=t.options;var i=this.type,e=this.chart.options.plotOptions,s=d[i].dataGrouping,o=this.useCommonDataGrouping&&b;(y[i]||o)&&(s=s||w(b,y[i]),t.dataGrouping=w(o,s,e.series&&e.series.dataGrouping,e[i].dataGrouping,this.userOptions.dataGrouping))}),o(l,"afterSetScale",function(){this.series.forEach(function(t){t.hasProcessed=!1})}),l.prototype.getGroupPixelWidth=function(){var t,i,e=this.series,s=e.length,o=0,r=!1;for(t=s;t--;)(i=e[t].options.dataGrouping)&&(o=Math.max(o,g(i.groupPixelWidth,b.groupPixelWidth)));for(t=s;t--;)(i=e[t].options.dataGrouping)&&e[t].hasProcessed&&(s=(e[t].processedXData||e[t].data).length,e[t].groupPixelWidth||s>this.chart.plotSizeX/o||s&&i.forced)&&(r=!0);return r?o:0},l.prototype.setDataGrouping=function(i,t){var e;if(t=g(t,!0),i=i||{forced:!1,units:null},this instanceof l)for(e=this.series.length;e--;)this.series[e].update({dataGrouping:i},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping=i},!1);this.ordinalSlope=null,t&&this.chart.redraw()},t.dataGrouping=f}),i(t,"parts/OHLCSeries.js",[t["parts/Globals.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(t,i,e){e=e.seriesType;var n=t.seriesTypes;e("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},init:function(){n.column.prototype.init.apply(this,arguments),this.options.stacking=!1},pointAttribs:function(t,i){i=n.column.prototype.pointAttribs.call(this,t,i);var e=this.options;return delete i.fill,!t.options.color&&e.upColor&&t.open<t.close&&(i.stroke=e.upColor),i},translate:function(){var s=this,o=s.yAxis,r=!!s.modifyValue,a=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];n.column.prototype.translate.apply(s),s.points.forEach(function(e){[e.open,e.high,e.low,e.close,e.low].forEach(function(t,i){null!==t&&(r&&(t=s.modifyValue(t)),e[a[i]]=o.toPixels(t,!0))}),e.tooltipPos[1]=e.plotHigh+o.pos-s.chart.plotTop})},drawPoints:function(){function l(t,i,e){t[2]=Math.max(e+i,t[2]),t[5]=Math.min(e-i,t[5])}var d=this,p=d.chart;d.points.forEach(function(t){var i=t.graphic,e=!i;if(void 0!==t.plotY){i||(t.graphic=i=p.renderer.path().add(d.group)),p.styledMode||i.attr(d.pointAttribs(t,t.selected&&"select"));var s=i.strokeWidth(),o=s%2/2,r=Math.round(t.plotX)-o,a=Math.round(t.shapeArgs.width/2),n=["M",r,Math.round(t.yBottom),"L",r,Math.round(t.plotHigh)];if(null!==t.open){var h=Math.round(t.plotOpen)+o;n.push("M",r,h,"L",r-a,h),l(n,s/2,h)}null!==t.close&&(h=Math.round(t.plotClose)+o,n.push("M",r,h,"L",r+a,h),l(n,s/2,h)),i[e?"attr":"animate"]({d:n}).addClass(t.getClassName(),!0)}})},animate:null},{getClassName:function(){return i.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}),i(t,"parts/CandlestickSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,i){var e=i.merge;i=i.seriesType;var s=t.defaultPlotOptions,a=t.seriesTypes;i("candlestick","ohlc",e(s.column,{states:{hover:{lineWidth:2}},tooltip:s.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),{pointAttribs:function(t,i){var e=a.column.prototype.pointAttribs.call(this,t,i),s=this.options,o=t.open<t.close,r=s.lineColor||this.color;return e["stroke-width"]=s.lineWidth,e.fill=t.options.color||o&&s.upColor||this.color,e.stroke=t.options.lineColor||o&&s.upLineColor||r,i&&(t=s.states[i],e.fill=t.color||e.fill,e.stroke=t.lineColor||e.stroke,e["stroke-width"]=t.lineWidth||e["stroke-width"]),e},drawPoints:function(){var d=this,p=d.chart,c=d.yAxis.reversed;d.points.forEach(function(t){var i=t.graphic,e=!i;if(void 0!==t.plotY){i||(t.graphic=i=p.renderer.path().add(d.group)),d.chart.styledMode||i.attr(d.pointAttribs(t,t.selected&&"select")).shadow(d.options.shadow);var s=i.strokeWidth()%2/2,o=Math.round(t.plotX)-s,r=t.plotOpen,a=t.plotClose,n=Math.min(r,a);r=Math.max(r,a);var h=Math.round(t.shapeArgs.width/2);a=c?r!==t.yBottom:Math.round(n)!==Math.round(t.plotHigh);var l=c?Math.round(n)!==Math.round(t.plotHigh):r!==t.yBottom;n=Math.round(n)+s,r=Math.round(r)+s,(s=[]).push("M",o-h,r,"L",o-h,n,"L",o+h,n,"L",o+h,r,"Z","M",o,n,"L",o,a?Math.round(c?t.yBottom:t.plotHigh):n,"M",o,r,"L",o,l?Math.round(c?t.plotHigh:t.yBottom):r),i[e?"attr":"animate"]({d:s}).addClass(t.getClassName(),!0)}})}})}),i(t,"mixins/on-series.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,i){var v=i.defined,b=i.stableSort,y=t.seriesTypes;return{getPlotBox:function(){return t.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){y.column.prototype.translate.apply(this);var s,o=this,t=o.options,i=o.chart,r=o.points,e=r.length-1,a=t.onSeries;a=a&&i.get(a),t=t.onKey||"y";var n,h=a&&a.options.step,l=a&&a.points,d=l&&l.length,p=i.inverted,c=o.xAxis,u=o.yAxis,g=0;if(a&&a.visible&&d){g=(a.pointXOffset||0)+(a.barW||0)/2,i=a.currentDataGrouping;var f=l[d-1].x+(i?i.totalRange:0);for(b(r,function(t,i){return t.x-i.x}),t="plot"+t[0].toUpperCase()+t.substr(1);d--&&r[e];){var x=l[d];if((i=r[e]).y=x.y,x.x<=i.x&&void 0!==x[t]){if(i.x<=f&&(i.plotY=x[t],x.x<i.x&&!h&&(n=l[d+1])&&void 0!==n[t])){var m=(i.x-x.x)/(n.x-x.x);i.plotY+=m*(n[t]-x[t]),i.y+=m*(n.y-x.y)}if(d++,--e<0)break}}}r.forEach(function(t,i){if(t.plotX+=g,void 0!==t.plotY&&!p||(0<=t.plotX&&t.plotX<=c.len?p?(t.plotY=c.translate(t.x,0,1,0,1),t.plotX=v(t.y)?u.translate(t.y,0,0,0,1):0):t.plotY=(c.opposite?0:o.yAxis.len)+c.offset:t.shapeArgs={}),(s=r[i-1])&&s.plotX===t.plotX){void 0===s.stackIndex&&(s.stackIndex=0);var e=s.stackIndex+1}t.stackIndex=e}),this.onSeries=a}}}),i(t,"parts/FlagsSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/on-series.js"]],function(v,t,i){function e(n){d[n+"pin"]=function(t,i,e,s,o){var r=o&&o.anchorX;o=o&&o.anchorY,"circle"===n&&e<s&&(t-=Math.round((s-e)/2),e=s);var a=d[n](t,i,e,s);return r&&o&&(a.push("M","circle"===n?t+e/2:a[1]+a[4]/2,o<i?i:i+s,"L",r,o),a=a.concat(d.circle(r-1,o-1,2,2))),a}}var s=t.addEvent,b=t.defined,o=t.isNumber,y=t.merge,M=t.objectEach,r=t.seriesType,k=t.wrap;t=v.noop;var a=v.Renderer,n=v.Series,h=v.TrackerMixin,l=v.VMLRenderer,d=v.SVGRenderer.prototype.symbols;r("flags","column",{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:n.prototype.init,pointAttribs:function(t,i){var e=this.options,s=t&&t.color||this.color,o=e.lineColor,r=t&&t.lineWidth;return t=t&&t.fillColor||e.fillColor,i&&(t=e.states[i].fillColor,o=e.states[i].lineColor,r=e.states[i].lineWidth),{fill:t||s,stroke:o||s,"stroke-width":r||e.lineWidth||0}},translate:i.translate,getPlotBox:i.getPlotBox,drawPoints:function(){var t,i=this.points,e=this.chart,s=e.renderer,o=e.inverted,r=this.options,a=r.y,n=this.yAxis,h={},l=[];for(t=i.length;t--;){var d=i[t],p=(o?d.plotY:d.plotX)>this.xAxis.len,c=d.plotX,u=d.stackIndex,g=d.options.shape||r.shape,f=d.plotY;void 0!==f&&(f=d.plotY+a-(void 0!==u&&u*r.stackDistance)),d.anchorX=u?void 0:d.plotX;var x=u?void 0:d.plotY,m="flag"!==g;u=d.graphic,void 0!==f&&0<=c&&!p?(u||(u=d.graphic=s.label("",null,null,g,null,null,r.useHTML),e.styledMode||u.attr(this.pointAttribs(d)).css(y(r.style,d.style)),u.attr({align:m?"center":"left",width:r.width,height:r.height,"text-align":r.textAlign}).addClass("highcharts-point").add(this.markerGroup),d.graphic.div&&(d.graphic.div.point=d),e.styledMode||u.shadow(r.shadow),u.isNew=!0),0<c&&(c-=u.strokeWidth()%2),g={y:f,anchorY:x},r.allowOverlapX&&(g.x=c,g.anchorX=d.anchorX),u.attr({text:d.options.title||r.title||"A"})[u.isNew?"attr":"animate"](g),r.allowOverlapX||(h[d.plotX]?h[d.plotX].size=Math.max(h[d.plotX].size,u.width):h[d.plotX]={align:m?.5:0,size:u.width,target:c,anchorX:c}),d.tooltipPos=[c,f+n.pos-e.plotTop]):u&&(d.graphic=u.destroy())}r.allowOverlapX||(M(h,function(t){t.plotX=t.anchorX,l.push(t)}),v.distribute(l,o?n.len:this.xAxis.len,100),i.forEach(function(t){var i=t.graphic&&h[t.plotX];i&&(t.graphic[t.graphic.isNew?"attr":"animate"]({x:i.pos+i.align*i.size,anchorX:t.anchorX}),b(i.pos)?t.graphic.isNew=!1:(t.graphic.attr({x:-9999,anchorX:-9999}),t.graphic.isNew=!0))})),r.useHTML&&k(this.markerGroup,"on",function(t){return v.SVGElement.prototype.on.apply(t.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var e=this.points;h.drawTrackerPoint.apply(this),e.forEach(function(i){var t=i.graphic;t&&s(t.element,"mouseover",function(){0<i.stackIndex&&!i.raised&&(i._y=t.y,t.attr({y:i._y-8}),i.raised=!0),e.forEach(function(t){t!==i&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:function(t){t&&this.setClip()},setClip:function(){n.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup.clip(this.chart[this.sharedClipKey])},buildKDTree:t,invertGroups:t},{isValid:function(){return o(this.y)||void 0===this.y}}),d.flag=function(t,i,e,s,o){var r=o&&o.anchorX||t;return o=o&&o.anchorY||i,d.circle(r-1,o-1,2,2).concat(["M",r,o,"L",t,i+s,t,i,t+e,i,t+e,i+s,t,i+s,"Z"])},e("circle"),e("square"),a===l&&["circlepin","flag","squarepin"].forEach(function(t){l.prototype.symbols[t]=d[t]})}),i(t,"parts/RangeSelector.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(c,t){function o(t){this.init(t)}var x=t.addEvent,O=t.createElement,u=t.css,r=t.defined,s=t.destroyObjectProperties,a=t.discardElement,g=t.extend,n=t.fireEvent,S=t.isNumber,f=t.merge,h=t.objectEach,C=t.pick,m=t.pInt,v=t.splat,b=c.Axis;t=c.Chart;var z=c.defaultOptions;g(z,{rangeSelector:{verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),z.lang=f(z.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),o.prototype={clickButton:function(t,i){var e=this.chart,s=this.buttonOptions[t],o=e.xAxis[0],r=e.scroller&&e.scroller.getUnionExtremes()||o||{},a=r.dataMin,n=r.dataMax,h=o&&Math.round(Math.min(o.max,C(n,o.max))),l=s.type;r=s._range;var d,p=s.dataGrouping;if(null!==a&&null!==n){if(e.fixedRange=r,p&&(this.forcedDataGrouping=!0,b.prototype.setDataGrouping.call(o||{chart:this.chart},p,!1),this.frozenStates=s.preserveDataGrouping),"month"===l||"year"===l)if(o){l={range:s,max:h,chart:e,dataMin:a,dataMax:n};var c=o.minFromRange.call(l);S(l.newMax)&&(h=l.newMax)}else r=s;else if(r)c=Math.max(h-r,a),h=Math.min(c+r,n);else if("ytd"===l){if(!o)return void(this.deferredYTDClick=t);void 0===n&&(a=Number.MAX_VALUE,n=Number.MIN_VALUE,e.series.forEach(function(t){t=t.xData,a=Math.min(t[0],a),n=Math.max(t[t.length-1],n)}),i=!1),c=d=(h=this.getYTDExtremes(n,a,e.time.useUTC)).min,h=h.max}else"all"===l&&o&&(c=a,h=n);if(c+=s._offsetMin,h+=s._offsetMax,this.setSelected(t),o)o.setExtremes(c,h,C(i,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:s});else{var u=v(e.options.xAxis)[0],g=u.range;u.range=r;var f=u.min;u.min=d,x(e,"load",function(){u.range=g,u.min=f})}}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(i){function t(){var t=e.minInput,i=e.maxInput;t&&t.blur&&n(t,"blur"),i&&i.blur&&n(i,"blur")}var e=this,s=i.options.rangeSelector,o=s.buttons||[].concat(e.defaultButtons),r=s.selected;e.chart=i,e.options=s,e.buttons=[],e.buttonOptions=o,this.unMouseDown=x(i.container,"mousedown",t),this.unResize=x(i,"resize",t),o.forEach(e.computeButtonRange),void 0!==r&&o[r]&&this.clickButton(r,!1),x(i,"load",function(){i.xAxis&&i.xAxis[0]&&x(i.xAxis[0],"setExtremes",function(t){this.max-this.min!==i.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&e.forcedDataGrouping&&!e.frozenStates&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var c=this,t=this.chart,u=t.xAxis[0],g=Math.round(u.max-u.min),f=!u.hasVisibleSeries,i=t.scroller&&t.scroller.getUnionExtremes()||u,x=i.dataMin,m=i.dataMax,v=(t=c.getYTDExtremes(m,x,t.time.useUTC)).min,b=t.max,y=c.selected,M=S(y),k=c.options.allButtonsEnabled,A=c.buttons;c.buttonOptions.forEach(function(t,i){var e=t._range,s=t.type,o=t.count||1,r=A[i],a=0,n=t._offsetMax-t._offsetMin;t=i===y;var h=m-x<e,l=e<u.minRange,d=!1,p=!1;e=e===g,("month"===s||"year"===s)&&864e5*{month:28,year:365}[s]*o-n<=g+36e5&&g-36e5<=864e5*{month:31,year:366}[s]*o+n?e=!0:"ytd"===s?(e=b-v+n===g,d=!t):"all"===s&&(e=u.max-u.min>=m-x,p=!t&&M&&e),s=!k&&(h||l||p||f),o=t&&e||e&&!M&&!d||t&&c.frozenStates,s?a=3:o&&(M=!0,a=2),r.state!==a&&(r.setState(a),0===a&&y===i&&c.setSelected(null))})},computeButtonRange:function(t){var i=t.type,e=t.count||1,s={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};s[i]?t._range=s[i]*e:"month"!==i&&"year"!==i||(t._range=864e5*{month:30,year:365}[i]*e),t._offsetMin=C(t.offsetMin,0),t._offsetMax=C(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},setInputValue:function(t,i){var e=this.chart.options.rangeSelector,s=this.chart.time,o=this[t+"Input"];r(i)&&(o.previousValue=o.HCTime,o.HCTime=i),o.value=s.dateFormat(e.inputEditDateFormat||"%Y-%m-%d",o.HCTime),this[t+"DateBox"].attr({text:s.dateFormat(e.inputDateFormat||"%b %e, %Y",o.HCTime)})},showInput:function(t){var i=this.inputGroup,e=this[t+"DateBox"];u(this[t+"Input"],{left:i.translateX+e.x+"px",top:i.translateY+"px",width:e.width-2+"px",height:e.height-2+"px",border:"2px solid silver"})},hideInput:function(t){u(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){function i(){var t=r.value,i=(h.inputDateParser||Date.parse)(t),e=n.xAxis[0],s=n.scroller&&n.scroller.xAxis?n.scroller.xAxis:e,o=s.dataMin;s=s.dataMax,i!==r.previousValue&&(r.previousValue=i,S(i)||(i=t.split("-"),i=Date.UTC(m(i[0]),m(i[1])-1,m(i[2]))),S(i)&&(n.time.useUTC||(i+=6e4*(new Date).getTimezoneOffset()),d?i>a.maxInput.HCTime?i=void 0:i<o&&(i=o):i<a.minInput.HCTime?i=void 0:s<i&&(i=s),void 0!==i&&e.setExtremes(d?i:e.min,d?e.max:i,void 0,void 0,{trigger:"rangeSelectorInput"})))}var r,e,a=this,n=a.chart,s=n.renderer.style||{},o=n.renderer,h=n.options.rangeSelector,l=a.div,d="min"===t,p=this.inputGroup;this[t+"Label"]=e=o.label(z.lang[d?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(p),p.offset+=e.width+5,this[t+"DateBox"]=o=o.label("",p.offset).addClass("highcharts-range-input").attr({padding:2,width:h.inputBoxWidth||90,height:h.inputBoxHeight||17,"text-align":"center"}).on("click",function(){a.showInput(t),a[t+"Input"].focus()}),n.styledMode||o.attr({stroke:h.inputBoxBorderColor||"#cccccc","stroke-width":1}),o.add(p),p.offset+=o.width+(d?10:0),this[t+"Input"]=r=O("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:n.plotTop+"px"},l),n.styledMode||(e.css(f(s,h.labelStyle)),o.css(f({color:"#333333"},s,h.inputStyle)),u(r,g({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:s.fontSize,fontFamily:s.fontFamily,top:"-9999em"},h.inputStyle))),r.onfocus=function(){a.showInput(t)},r.onblur=function(){r===c.doc.activeElement&&i(),a.hideInput(t),r.blur()},r.onchange=i,r.onkeypress=function(t){13===t.keyCode&&i()}},getPosition:function(){var t=this.chart,i=t.options.rangeSelector;return{buttonTop:(t="top"===i.verticalAlign?t.plotTop-t.axisOffset[0]:0)+i.buttonPosition.y,inputTop:t+i.inputPosition.y-10}},getYTDExtremes:function(t,i,e){var s=this.chart.time,o=new s.Date(t),r=s.get("FullYear",o);return e=e?s.Date.UTC(r,0,1):+new s.Date(r,0,1),i=Math.max(i||0,e),o=o.getTime(),{max:Math.min(t||o,o),min:i}},render:function(t,i){var r=this,e=r.chart,a=e.renderer,s=e.container,o=e.options,n=o.exporting&&!1!==o.exporting.enabled&&o.navigation&&o.navigation.buttonOptions,h=z.lang,l=r.div,d=o.rangeSelector,p=C(o.chart.style&&o.chart.style.zIndex,0)+1;o=d.floating;var c=r.buttons;l=r.inputGroup;var u,g=d.buttonTheme,f=d.buttonPosition,x=d.inputPosition,m=d.inputEnabled,v=g&&g.states,b=e.plotLeft,y=r.buttonGroup,M=r.options.verticalAlign,k=e.legend,A=k&&k.options,S=f.y,w=x.y,D=e.hasLoaded,E=D?"animate":"attr",B=0,T=0;if(!1!==d.enabled){r.rendered||(r.group=u=a.g("range-selector-group").attr({zIndex:7}).add(),r.buttonGroup=y=a.g("range-selector-buttons").add(u),r.zoomText=a.text(h.rangeSelectorZoom,0,15).add(y),e.styledMode||(r.zoomText.css(d.labelStyle),g["stroke-width"]=C(g["stroke-width"],0)),r.buttonOptions.forEach(function(s,o){c[o]=a.button(s.text,0,0,function(t){var i,e=s.events&&s.events.click;e&&(i=e.call(s,t)),!1!==i&&r.clickButton(o),r.isActive=!0},g,v&&v.hover,v&&v.select,v&&v.disabled).attr({"text-align":"center"}).add(y)}),!1!==m&&(r.div=l=O("div",null,{position:"relative",height:0,zIndex:p}),s.parentNode.insertBefore(l,s),r.inputGroup=l=a.g("input-group").add(u),l.offset=0,r.drawInput("min"),r.drawInput("max"))),r.zoomText[E]({x:C(b+f.x,b)});var P=C(b+f.x,b)+r.zoomText.getBBox().width+5;r.buttonOptions.forEach(function(t,i){c[i][E]({x:P}),P+=c[i].width+C(d.buttonSpacing,5)}),b=e.plotLeft-e.spacing[3],r.updateButtonStates(),n&&this.titleCollision(e)&&"top"===M&&"right"===f.align&&f.y+y.getBBox().height-12<(n.y||0)+n.height&&(B=-40),s=f.x-e.spacing[3],"right"===f.align?s+=B-b:"center"===f.align&&(s-=b/2),y.align({y:f.y,width:y.getBBox().width,align:f.align,x:s},!0,e.spacingBox),r.group.placed=D,r.buttonGroup.placed=D,!1!==m&&(B=n&&this.titleCollision(e)&&"top"===M&&"right"===x.align&&x.y-l.getBBox().height-12<(n.y||0)+n.height+e.spacing[0]?-40:0,"left"===x.align?s=b:"right"===x.align&&(s=-Math.max(e.axisOffset[1],-B)),l.align({y:x.y,width:l.getBBox().width,align:x.align,x:x.x+s-2},!0,e.spacingBox),n=l.alignAttr.translateX+l.alignOptions.x-B+l.getBBox().x+2,s=l.alignOptions.width,h=y.alignAttr.translateX+y.getBBox().x,b=y.getBBox().width+20,(x.align===f.align||n<h+b&&h<n+s&&S<w+l.getBBox().height)&&l.attr({translateX:l.alignAttr.translateX+(e.axisOffset[1]>=-B?0:-B),translateY:l.alignAttr.translateY+y.getBBox().height+10}),r.setInputValue("min",t),r.setInputValue("max",i),r.inputGroup.placed=D),r.group.align({verticalAlign:M},!0,e.spacingBox),t=r.group.getBBox().height+20,i=r.group.alignAttr.translateY,"bottom"===M&&(T=i-(t=t+(k=A&&"bottom"===A.verticalAlign&&A.enabled&&!A.floating?k.legendHeight+C(A.margin,10):0)-20)-(o?0:d.y)-(e.titleOffset?e.titleOffset[2]:0)-10),"top"===M?(o&&(T=0),e.titleOffset&&e.titleOffset[0]&&(T=e.titleOffset[0]),T+=e.margin[0]-e.spacing[0]||0):"middle"===M&&(w===S?T=w<0?i+void 0:i:(w||S)&&(T=w<0||S<0?T-Math.min(w,S):i-t+NaN)),r.group.translate(d.x,d.y+Math.floor(T)),!1!==m&&(r.minInput.style.marginTop=r.group.translateY+"px",r.maxInput.style.marginTop=r.group.translateY+"px"),r.rendered=!0}},getHeight:function(){var t=this.options,i=this.group,e=t.y,s=t.buttonPosition.y,o=t.inputPosition.y;return t.height?t.height:(t=i?i.getBBox(!0).height+13+e:0,i=Math.min(o,s),(o<0&&s<0||0<o&&0<s)&&(t+=Math.abs(i)),t)},titleCollision:function(t){return!(t.options.title.text||t.options.subtitle.text)},update:function(t){var i=this.chart;f(!0,i.options.rangeSelector,t),this.destroy(),this.init(i),i.rangeSelector.render()},destroy:function(){var e=this,t=e.minInput,i=e.maxInput;e.unMouseDown(),e.unResize(),s(e.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null),h(e,function(t,i){t&&"chart"!==i&&(t.destroy?t.destroy():t.nodeType&&a(this[i])),t!==o.prototype[i]&&(e[i]=null)},this)}},b.prototype.minFromRange=function(){function t(t,i){var e="year"===r?"FullYear":"Month",s=new a.Date(t),o=a.get(e,s);return a.set(e,s,o+i),o===a.get(e,s)&&a.set("Date",s,0),s.getTime()-t}var i=this.range,r=i.type,e=this.max,a=this.chart.time;if(S(i))var s=e-i,o=i;else s=e+t(e,-i.count),this.chart&&(this.chart.fixedRange=e-s);var n=C(this.dataMin,Number.MIN_VALUE);return S(s)||(s=n),s<=n&&(s=n,void 0===o&&(o=t(s,i.count)),this.newMax=Math.min(s+o,this.dataMax)),S(e)||(s=void 0),s},c.RangeSelector||(x(t,"afterGetContainer",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new o(this))}),x(t,"beforeRender",function(){var t=this.axes,i=this.rangeSelector;i&&(S(i.deferredYTDClick)&&(i.clickButton(i.deferredYTDClick),delete i.deferredYTDClick),t.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),i.render(),t=i.options.verticalAlign,i.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}),x(t,"update",function(t){var i=t.options.rangeSelector;t=this.rangeSelector;var e=this.extraBottomMargin,s=this.extraTopMargin;i&&i.enabled&&!r(t)&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=new o(this)),this.extraTopMargin=this.extraBottomMargin=!1,t&&(t.render(),i=i&&i.verticalAlign||t.options&&t.options.verticalAlign,t.options.floating||("bottom"===i?this.extraBottomMargin=!0:"middle"!==i&&(this.extraTopMargin=!0)),this.extraBottomMargin!==e||this.extraTopMargin!==s)&&(this.isDirtyBox=!0)}),x(t,"render",function(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}),x(t,"getMargins",function(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}),t.prototype.callbacks.push(function(t){function i(){e=t.xAxis[0].getExtremes(),S(e.min)&&s.render(e.min,e.max)}var e,s=t.rangeSelector;if(s){var o=x(t.xAxis[0],"afterSetExtremes",function(t){s.render(t.min,t.max)}),r=x(t,"redraw",i);i()}x(t,"destroy",function(){s&&(r(),o())})}),c.RangeSelector=o)}),i(t,"parts/StockChart.js",[t["parts/Globals.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(u,t,i){var e=i.addEvent,s=i.arrayMax,o=i.arrayMin,y=i.clamp,M=i.defined,b=i.extend,k=i.find,A=i.format,S=i.isNumber,w=i.isString,g=i.merge,D=i.pick,f=i.splat;i=u.Axis;var x=u.Chart,r=u.Renderer,a=u.Series,n=u.SVGRenderer,h=u.VMLRenderer,l=a.prototype,d=l.init,p=l.processData,c=t.prototype.tooltipFormatter;u.StockChart=u.stockChart=function(t,i,e){var s,o=w(t)||t.nodeName,r=arguments[o?1:0],a=r,n=r.series,h=u.getOptions(),l=r.chart&&r.chart.panning,d=D(r.navigator&&r.navigator.enabled,h.navigator.enabled,!0),p=l&&/y/.test(l.type),c={startOnTick:!1,endOnTick:!1};return r.xAxis=f(r.xAxis||{}).map(function(t,i){return g({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},h.xAxis,h.xAxis&&h.xAxis[i],t,{type:"datetime",categories:null},d?c:null)}),r.yAxis=f(r.yAxis||{}).map(function(t,i){return s=D(t.opposite,!0),g({labels:{y:-2},opposite:s,showLastLabel:!(!t.categories&&"category"!==t.type),title:{text:null}},h.yAxis,h.yAxis&&h.yAxis[i],t,p?c:null)}),r.series=null,(r=g({chart:{panning:{enabled:!0,type:"x"},pinchType:"x"},navigator:{enabled:d},scrollbar:{enabled:D(h.scrollbar.enabled,!0)},rangeSelector:{enabled:D(h.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:D(h.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},r,{isStock:!0})).series=a.series=n,o?new x(t,r,e):new x(r,i)},e(a,"setOptions",function(t){var i;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?i={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(i={marker:{enabled:!1,radius:2}}),i&&(t.plotOptions[this.type]=g(t.plotOptions[this.type],i)))}),e(i,"autoLabelAlign",function(t){var i=this.chart,e=this.options;i=i._labelPanes=i._labelPanes||{};var s=this.options.labels;!this.chart.options.isStock||"yAxis"!==this.coll||!i[e=e.top+","+e.height]&&s.enabled&&(15===s.x&&(s.x=0),void 0===s.align&&(s.align="right"),i[e]=this,t.align="right",t.preventDefault())}),e(i,"destroy",function(){var t=this.chart,i=this.options&&this.options.top+","+this.options.height;i&&t._labelPanes&&t._labelPanes[i]===this&&delete t._labelPanes[i]}),e(i,"getPlotLinePath",function(t){var e,s,o,r,i,a,n=this,h=this.isLinked&&!this.series?this.linkedParent.series:this.series,l=n.chart,d=l.renderer,p=n.left,c=n.top,u=[],g=[],f=t.translatedValue,x=t.value,m=t.force;if(l.options.isStock&&!1!==t.acrossPanes&&"xAxis"===n.coll||"yAxis"===n.coll){t.preventDefault(),i=n.coll,a="xAxis"===i?"yAxis":"xAxis",i=n.options[a],g=S(i)?[l[a][i]]:w(i)?[l.get(i)]:h.map(function(t){return t[a]}),(n.isXAxis?l.yAxis:l.xAxis).forEach(function(t){if(!M(t.options.id)||-1===t.options.id.indexOf("navigator")){var i=t.isXAxis?"yAxis":"xAxis";i=M(t.options[i])?l[i][t.options[i]]:l[i][0],n===i&&g.push(t)}});var v=g.length?[]:[n.isXAxis?l.yAxis[0]:l.xAxis[0]];g.forEach(function(i){-1!==v.indexOf(i)||k(v,function(t){return t.pos===i.pos&&t.len===i.len})||v.push(i)});var b=D(f,n.translate(x,null,null,t.old));S(b)&&(n.horiz?v.forEach(function(t){var i;s=t.pos,r=s+t.len,e=o=Math.round(b+n.transB),"pass"!==m&&(e<p||e>p+n.width)&&(m?e=o=y(e,p,p+n.width):i=!0),i||u.push("M",e,s,"L",o,r)}):v.forEach(function(t){var i;e=t.pos,o=e+t.len,s=r=Math.round(c+n.height-b),"pass"!==m&&(s<c||s>c+n.height)&&(m?s=r=y(s,c,c+n.height):i=!0),i||u.push("M",e,s,"L",o,r)})),t.path=0<u.length?d.crispPolyLine(u,t.lineWidth||1):null}}),n.prototype.crispPolyLine=function(t,i){var e;for(e=0;e<t.length;e+=6)t[e+1]===t[e+4]&&(t[e+1]=t[e+4]=Math.round(t[e+1])-i%2/2),t[e+2]===t[e+5]&&(t[e+2]=t[e+5]=Math.round(t[e+2])+i%2/2);return t},r===h&&(h.prototype.crispPolyLine=n.prototype.crispPolyLine),e(i,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),e(i,"afterDrawCrosshair",function(t){var i,e;if(M(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var s=this.chart,o=this.options.crosshair.label,r=this.horiz,a=this.opposite,n=this.left,h=this.top,l=this.crossLabel,d=o.format,p="",c="inside"===this.options.tickPosition,u=!1!==this.crosshair.snap,g=0,f=t.e||this.cross&&this.cross.e,x=t.point,m=this.lin2log;if(this.isLog){t=m(this.min);var v=m(this.max)}else t=this.min,v=this.max;m=r?"center":a?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",l||(l=this.crossLabel=s.renderer.label(null,null,null,o.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:o.align||m,padding:D(o.padding,8),r:D(o.borderRadius,3),zIndex:2}).add(this.labelGroup),s.styledMode||l.attr({fill:o.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:o.borderColor||"","stroke-width":o.borderWidth||0}).css(b({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},o.style))),r?(m=u?x.plotX+n:f.chartX,h+=a?0:this.height):(m=a?this.width+n:0,h=u?x.plotY+h:f.chartY),d||o.formatter||(this.isDatetimeAxis&&(p="%b %d, %Y"),d="{value"+(p?":"+p:"")+"}"),p=u?x[this.isXAxis?"x":"y"]:this.toValue(r?f.chartX:f.chartY),l.attr({text:d?A(d,{value:p},s):o.formatter.call(this,p),x:m,y:h,visibility:p<t||v<p?"hidden":"visible"}),o=l.getBBox(),r?(c&&!a||!c&&a)&&(h=l.y-o.height):h=l.y-o.height/2,e=r?(i=n-o.x,n+this.width-o.x):(i="left"===this.labelAlign?n:0,"right"===this.labelAlign?n+this.width:s.chartWidth),l.translateX<i&&(g=i-l.translateX),l.translateX+o.width>=e&&(g=-(l.translateX+o.width-e)),l.attr({x:m+g,y:h,anchorX:r?m:this.opposite?0:s.chartWidth,anchorY:r?this.opposite?s.chartHeight:0:h+o.height/2})}}),l.init=function(){d.apply(this,arguments),this.setCompare(this.options.compare)},l.setCompare=function(s){this.modifyValue="value"===s||"percent"===s?function(t,i){var e=this.compareValue;return void 0!==t&&void 0!==e?(t="value"===s?t-e:t/e*100-(100===this.options.compareBase?0:100),i&&(i.change=t),t):0}:null,this.userOptions.compare=s,this.chart.hasRendered&&(this.isDirty=!0)},l.processData=function(t){var i,e=-1,s=!0===this.options.compareStart?0:1;if(p.apply(this,arguments),this.xAxis&&this.processedYData){var o=this.processedXData,r=this.processedYData,a=r.length;for(this.pointArrayMap&&(e=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),i=0;i<a-s;i++){var n=r[i]&&-1<e?r[i][e]:r[i];if(S(n)&&o[i+s]>=this.xAxis.min&&0!==n){this.compareValue=n;break}}}},e(a,"afterGetExtremes",function(){if(this.modifyValue){var t=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)];this.dataMin=o(t),this.dataMax=s(t)}}),i.prototype.setCompare=function(i,t){this.isXAxis||(this.series.forEach(function(t){t.setCompare(i)}),D(t,!0)&&this.chart.redraw())},t.prototype.tooltipFormatter=function(t){var i=this.series.chart.numberFormatter;return t=t.replace("{point.change}",(0<this.change?"+":"")+i(this.change,D(this.series.tooltipOptions.changeDecimals,2))),c.apply(this,[t])},e(a,"render",function(){var t=this.chart;if(!(t.is3d&&t.is3d()||t.polar)&&this.xAxis&&!this.xAxis.isRadial){var i=this.yAxis.len;if(this.xAxis.axisLine){var e=t.plotTop+t.plotHeight-this.yAxis.pos-this.yAxis.len,s=Math.floor(this.xAxis.axisLine.strokeWidth()/2);0<=e&&(i-=Math.max(s-e,0))}!this.clipBox&&this.animate?(this.clipBox=g(t.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=i):t[this.sharedClipKey]&&(t[this.sharedClipKey].animate({width:this.xAxis.len,height:i}),t[this.sharedClipKey+"m"]&&t[this.sharedClipKey+"m"].animate({width:this.xAxis.len}))}}),e(x,"update",function(t){"scrollbar"in(t=t.options)&&this.navigator&&(g(!0,this.options.scrollbar,t.scrollbar),this.navigator.update({},!1),delete t.scrollbar)}),e(i,"afterSetScale",function(){var i=this,t=i.chart.options.chart&&i.chart.options.chart.panning;if(t&&("y"===t.type||"xy"===t.type)&&!i.isXAxis&&!M(i.panningState)){var e=Number.MAX_VALUE,s=Number.MIN_VALUE;i.series.forEach(function(t){e=Math.min(u.arrayMin(t.yData),e)-(i.min&&i.dataMin?i.dataMin-i.min:0),s=Math.max(u.arrayMax(t.yData),s)+(i.max&&i.dataMax?i.max-i.dataMax:0)}),i.panningState={startMin:e,startMax:s}}})}),i(t,"masters/modules/stock.src.js",[],function(){})});