"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){var t=e?e._modules:{};function a(e,t,a,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,a))}a(t,"mixins/indicator-required.js",[t["parts/Utilities.js"]],function(e){var s=e.error;return{isParentLoaded:function(e,t,a,i,o){return e?!i||i(e):(s(o||this.generateMessage(a,t)),!1)},generateMessage:function(e,t){return'Error: "'+e+'" indicator type requires "'+t+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+e}}}),a(t,"indicators/indicators.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var s=t.addEvent,n=t.error,i=t.extend,m=t.isArray,o=t.pick,r=t.seriesType,h=t.splat,l=e.Series,p=e.seriesTypes,u=e.seriesTypes.ohlc.prototype,d=a.generateMessage;s(e.Series,"init",function(e){var t=e.options;t.useOhlcData&&"highcharts-navigator-series"!==t.id&&i(this,{pointValKey:u.pointValKey,keys:u.keys,pointArrayMap:u.pointArrayMap,toYData:u.toYData})}),s(l,"afterSetOptions",function(e){var t=e.options,a=t.dataGrouping;a&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(a.approximation="ohlc")}),r("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var e=this,t=e.options.compareToMain,a=e.linkedParent;l.prototype.processData.apply(e,arguments),a&&a.compareValue&&t&&(e.compareValue=a.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var t={allLoaded:!0};return this.requiredIndicators.forEach(function(e){p[e]?p[e].prototype.requireIndicators():(t.allLoaded=!1,t.needed=e)}),t},init:function(e,t){var c=this,a=c.requireIndicators();if(!a.allLoaded)return n(d(c.type,a.needed));function i(){var e,t,a,i,o,s,n=c.points||[],r=(c.xData||[]).length,l=c.getValues(c.linkedParent,c.options.params)||{values:[],xData:[],yData:[]},p=[],u=!0;if(r&&!c.hasGroupedData&&c.visible&&c.points)if(c.cropped){for(c.xAxis&&(i=c.xAxis.min,o=c.xAxis.max),a=c.cropData(l.xData,l.yData,i,o),s=0;s<a.xData.length;s++)p.push([a.xData[s]].concat(h(a.yData[s])));e=l.xData.indexOf(c.xData[0]),t=l.xData.indexOf(c.xData[c.xData.length-1]),-1===e&&t===l.xData.length-2&&p[0][0]===n[0].x&&p.shift(),c.updateData(p)}else l.xData.length!==r-1&&l.xData.length!==r+1&&(u=!1,c.updateData(l.values));u&&(c.xData=l.xData,c.yData=l.yData,c.options.data=l.values),!1===c.bindTo.series&&(delete c.processedXData,c.isDirty=!0,c.redraw()),c.isDirtyData=!1}if(l.prototype.init.call(c,e,t),e.linkSeries(),c.dataEventsToUnbind=[],!c.linkedParent)return n("Series "+c.options.linkedTo+" not found! Check `linkedTo`.",!1,e);if(c.dataEventsToUnbind.push(s(c.bindTo.series?c.linkedParent:c.linkedParent.xAxis,c.bindTo.eventName,i)),"init"===c.calculateOn)i();else var o=s(c.chart,c.calculateOn,function(){i(),o()});return c},getName:function(){var e=this.name,a=[];return e||((this.nameComponents||[]).forEach(function(e,t){a.push(this.options.params[e]+o(this.nameSuffixes[t],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+a.join(", ")+")":"")),e},getValues:function(e,t){var a,i,o=t.period,s=e.xData,n=e.yData,r=n.length,l=0,p=0,u=[],c=[],h=[],d=-1;if(!(s.length<o)){for(m(n[0])&&(d=t.index?t.index:0);l<o-1;)p+=d<0?n[l]:n[l][d],l++;for(a=l;a<r;a++)p+=d<0?n[a]:n[a][d],i=[s[a],p/o],u.push(i),c.push(i[0]),h.push(i[1]),p-=d<0?n[a-l]:n[a-l][d];return{values:u,xData:c,yData:h}}},destroy:function(){this.dataEventsToUnbind.forEach(function(e){e()}),l.prototype.destroy.apply(this,arguments)}})}),a(t,"indicators/accumulation-distribution.src.js",[t["parts/Utilities.js"]],function(e){var j=e.error;(0,e.seriesType)("ad","sma",{params:{volumeSeriesID:"volume"}},{nameComponents:!1,nameBase:"Accumulation/Distribution",getValues:function(e,t){var a,i,o,s=t.period,n=e.xData,r=e.yData,l=t.volumeSeriesID,p=e.chart.get(l),u=p&&p.yData,c=r?r.length:0,h=[],d=[],m=[];if(!(n.length<=s&&c&&4!==r[0].length)){if(p){for(i=s;i<c;i++)a=h.length,y=n,g=u,0,D=(f=r)[v=i][1],x=f[v][2],b=f[v][3],A=g[v],S=b===D&&b===x||D===x?0:(2*b-x-D)/(D-x)*A,o=[y[v],S],0<a&&(o[1]+=h[a-1][1]),h.push(o),d.push(o[0]),m.push(o[1]);var y,f,g,v,D,x,b,A,S;return{values:h,xData:d,yData:m}}j("Series "+l+" not found! Check `volumeSeriesID`.",!0,e.chart)}}})}),a(t,"indicators/ao.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var y=t.correctFloat,f=t.isArray;(0,t.seriesType)("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:e.noop,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,translate:e.seriesTypes.column.prototype.translate,drawPoints:e.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var e,t=this.options,a=this.points,i=this.userOptions.color,o=t.greaterBarColor,s=t.lowerBarColor,n=a[0];if(!i&&n)for(n.color=o,e=1;e<a.length;e++)a[e].y>a[e-1].y?a[e].color=o:a[e].y<a[e-1].y?a[e].color=s:a[e].color=a[e-1].color},getValues:function(e){var t,a,i,o,s,n,r=e.xData||[],l=e.yData||[],p=l.length,u=[],c=[],h=[],d=0,m=0;if(!(r.length<=34)&&f(l[0])&&4===l[0].length){for(s=0;s<33;s++)o=(l[s][1]+l[s][2])/2,29<=s&&(d=y(d+o)),m=y(m+o);for(n=33;n<p;n++)o=(l[n][1]+l[n][2])/2,d=y(d+o),m=y(m+o),t=y(d/5-m/34),u.push([r[n],t]),c.push(r[n]),h.push(t),i=n+1-34,d=y(d-(l[a=n+1-5][1]+l[a][2])/2),m=y(m-(l[i][1]+l[i][2])/2);return{values:u,xData:c,yData:h}}}})}),a(t,"mixins/multipe-lines.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var c=t.defined,h=t.error,d=t.merge,m=e.each,y=e.seriesTypes.sma;return{pointArrayMap:["top","bottom"],pointValKey:"top",linesApiNames:["bottomLine"],getTranslatedLinesNames:function(t){var a=[];return m(this.pointArrayMap,function(e){e!==t&&a.push("plot"+e.charAt(0).toUpperCase()+e.slice(1))}),a},toYData:function(t){var a=[];return m(this.pointArrayMap,function(e){a.push(t[e])}),a},translate:function(){var i,o,s=this,e=s.pointArrayMap;i=s.getTranslatedLinesNames(),y.prototype.translate.apply(s,arguments),m(s.points,function(a){m(e,function(e,t){null!==(o=a[e])&&(a[i[t]]=s.yAxis.toPixels(o,!0))})})},drawGraph:function(){var a,i=this,e=i.pointValKey,t=i.linesApiNames,o=i.points,s=o.length,n=i.options,r=i.graph,l={options:{gapSize:n.gapSize}},p=[],u=i.getTranslatedLinesNames(e);m(u,function(e,t){for(p[t]=[];s--;)a=o[s],p[t].push({x:a.x,plotX:a.plotX,plotY:a[e],isNull:!c(a[e])});s=o.length}),m(t,function(e,t){p[t]?(i.points=p[t],n[e]?i.options=d(n[e].styles,l):h('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),i.graph=i["graph"+e],y.prototype.drawGraph.call(i),i["graph"+e]=i.graph):h('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),i.points=o,i.options=n,i.graph=r,y.prototype.drawGraph.call(i)}}}),a(t,"indicators/aroon.src.js",[t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t){var a=e.merge,m=e.pick;function y(e,t){var a,i=e[0],o=0;for(a=1;a<e.length;a++)("max"===t&&e[a]>=i||"min"===t&&e[a]<=i)&&(i=e[a],o=a);return o}(0,e.seriesType)("aroon","sma",{params:{period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},a(t,{nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y",linesApiNames:["aroonDown"],getValues:function(e,t){var a,i,o,s,n,r=t.period,l=e.xData,p=e.yData,u=p?p.length:0,c=[],h=[],d=[];for(n=r-1;n<u;n++)s=y((a=p.slice(n-r+1,n+2)).map(function(e){return m(e[2],e)}),"min"),i=y(a.map(function(e){return m(e[1],e)}),"max")/r*100,o=s/r*100,l[n+1]&&(c.push([l[n+1],i,o]),h.push(l[n+1]),d.push([i,o]));return{values:c,xData:h,yData:d}}}))}),a(t,"indicators/aroon-oscillator.src.js",[t["parts/Globals.js"],t["mixins/multipe-lines.js"],t["mixins/indicator-required.js"],t["parts/Utilities.js"]],function(e,t,a,i){var o=i.merge,s=i.seriesType,l=e.seriesTypes.aroon,n=a;s("aroonoscillator","aroon",{params:{period:25},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}},o(t,{nameBase:"Aroon Oscillator",pointArrayMap:["y"],pointValKey:"y",linesApiNames:[],init:function(){var t=arguments,a=this;n.isParentLoaded(l,"aroon",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,i,o,s=[],n=[],r=[];for(a=l.prototype.getValues.call(this,e,t),o=0;o<a.yData.length;o++)i=a.yData[o][0]-a.yData[o][1],s.push([a.xData[o],i]),n.push(a.xData[o]),r.push(i);return{values:s,xData:n,yData:r}}}))}),a(t,"indicators/atr.src.js",[t["parts/Utilities.js"]],function(e){var r,j=e.isArray;function T(e,t){var a=e,i=t,o=a[1]-a[2],s=i===r?0:Math.abs(a[1]-i[3]),n=i===r?0:Math.abs(a[2]-i[3]);return Math.max(o,s,n)}(0,e.seriesType)("atr","sma",{params:{period:14}},{getValues:function(e,t){var a,i,o,s=t.period,n=e.xData,r=e.yData,l=r?r.length:0,p=1,u=0,c=0,h=[],d=[],m=[];if(o=[[n[0],r[0]]],!(n.length<=s)&&j(r[0])&&4===r[0].length){for(i=1;i<=l;i++)D=o,x=r,0,A=n[b=i],S=x[b],D.push([A,S]),s<p?(y=r,g=s,v=u,u=(a=[n[(f=i)-1],(v*(g-1)+T(y[f-1],y[f-2]))/g])[1],h.push(a),d.push(a[0]),m.push(a[1])):(s===p?(u=c/(i-1),h.push([n[i-1],u]),d.push(n[i-1]),m.push(u)):c+=T(r[i-1],r[i-2]),p++);var y,f,g,v,D,x,b,A,S;return{values:h,xData:d,yData:m}}}})}),a(t,"indicators/bollinger-bands.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var x=t.isArray,i=t.merge,o=t.seriesType,b=e.seriesTypes.sma;function A(e,t,a,i){for(var o,s=0,n=e.length,r=0;r<n;r++)s+=(o=(a?e[r][t]:e[r])-i)*o;return s/=n-1,Math.sqrt(s)}o("bb","sma",{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}},i(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"],init:function(){b.prototype.init.apply(this,arguments),this.options=i({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var a,i,o,s,n,r,l,p,u,c,h=t.period,d=t.standardDeviation,m=e.xData,y=e.yData,f=y?y.length:0,g=[],v=[],D=[];if(!(m.length<h)){for(p=x(y[0]),c=h;c<=f;c++)n=m.slice(c-h,c),r=y.slice(c-h,c),s=(u=b.prototype.getValues.call(this,{xData:n,yData:r},t)).xData[0],i=(a=u.yData[0])+d*(l=A(r,t.index,p,a)),o=a-d*l,g.push([s,i,a,o]),v.push(s),D.push([i,a,o]);return{values:g,xData:v,yData:D}}}}))}),a(t,"indicators/cci.src.js",[t["parts/Utilities.js"]],function(e){var v=e.isArray;function D(e,t){var a,i=e.length,o=0;for(a=0;a<i;a++)o+=Math.abs(t-e[a]);return o}(0,e.seriesType)("cci","sma",{params:{period:14}},{getValues:function(e,t){var a,i,o,s,n,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=1,y=[],f=[],g=[];if(!(p.length<=l)&&v(u[0])&&4===u[0].length){for(;m<l;)i=u[m-1],h.push((i[1]+i[2]+i[3])/3),m++;for(r=l;r<=c;r++)n=((i=u[r-1])[1]+i[2]+i[3])/3,o=h.push(n),d=h.slice(o-l),a=(n-(s=d.reduce(function(e,t){return e+t},0)/l))/(.015*(D(d,s)/l)),y.push([p[r-1],a]),f.push(p[r-1]),g.push(a);return{values:y,xData:f,yData:g}}}})}),a(t,"indicators/cmf.src.js",[t["parts/Utilities.js"]],function(e){(0,e.seriesType)("cmf","sma",{params:{period:14,volumeSeriesID:"volume"}},{nameBase:"Chaikin Money Flow",isValid:function(){var e=this.chart,t=this.options,a=this.linkedParent,i=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),o=a&&a.yData&&4===a.yData[0].length;function s(e){return e.xData&&e.xData.length>=t.params.period}return!!(a&&i&&s(a)&&s(i)&&o)},getValues:function(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)},getMoneyFlow:function(e,t,a,i){var l,o,s=t.length,n=[],r=0,p=0,u=[],c=[],h=[],d=-1;function m(e,t){var a,i,o,s=e[1],n=e[2],r=e[3];return null!==t&&null!==s&&null!==n&&null!==r&&s!==n?((o=r)-(i=n)-((a=s)-o))/(a-i)*t:(d=l,null)}if(0<i&&i<=s){for(l=0;l<i;l++)n[l]=m(t[l],a[l]),r+=a[l],p+=n[l];for(u.push(e[l-1]),c.push(i<=l-d&&0!==r?p/r:null),h.push([u[0],c[0]]);l<s;l++)n[l]=m(t[l],a[l]),r-=a[l-i],r+=a[l],p-=n[l-i],p+=n[l],o=[e[l],i<=l-d?p/r:null],u.push(o[0]),c.push(o[1]),h.push([o[0],o[1]])}return{values:h,xData:u,yData:c}}})}),a(t,"indicators/dpo.src.js",[t["parts/Utilities.js"]],function(e){var n=e.correctFloat,f=e.pick;function g(e,t,a,i,o){var s=f(t[a][i],t[a]);return n(o?e-s:e+s)}(0,e.seriesType)("dpo","sma",{params:{period:21}},{nameBase:"DPO",getValues:function(e,t){var a,i,o,s,n=t.period,r=t.index,l=n+Math.floor(n/2+1),p=e.xData||[],u=e.yData||[],c=u.length,h=[],d=[],m=[],y=0;if(!(p.length<=l)){for(o=0;o<n-1;o++)y=g(y,u,o,r);for(s=0;s<=c-l;s++)i=s+l-1,y=g(y,u,s+n-1,r),a=f(u[i][r],u[i])-y/n,y=g(y,u,s,r,!0),h.push([p[i],a]),d.push(p[i]),m.push(a);return{values:h,xData:d,yData:m}}}})}),a(t,"indicators/ema.src.js",[t["parts/Utilities.js"]],function(e){var p=e.correctFloat,y=e.isArray;(0,e.seriesType)("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(e,t,a){for(var i=0,o=0;o<e;)i+=t<0?a[o]:a[o][t],o++;return i},calculateEma:function(e,t,a,i,o,s,n){var r=e[a-1],l=s<0?t[a-1]:t[a-1][s];return[r,void 0===o?n:p(l*i+o*(1-i))]},getValues:function(e,t){var a,i,o,s,n=t.period,r=e.xData,l=e.yData,p=l?l.length:0,u=2/(n+1),c=[],h=[],d=[],m=-1;if(!(p<n)){for(y(l[0])&&(m=t.index?t.index:0),a=this.accumulatePeriodPoints(n,m,l)/n,s=n;s<p+1;s++)o=this.calculateEma(r,l,s,u,i,m,a),c.push(o),h.push(o[0]),d.push(o[1]),i=o[1];return{values:c,xData:h,yData:d}}}})}),a(t,"indicators/chaikin.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var d=t.correctFloat,m=t.error,i=t.seriesType,y=e.seriesTypes.ema,f=e.seriesTypes.ad,o=a;i("chaikin","ema",{params:{volumeSeriesID:"volume",periods:[3,10]}},{nameBase:"Chaikin Osc",nameComponents:["periods"],init:function(){var t=arguments,a=this;o.isParentLoaded(y,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,i,o,s,n,r,l=t.periods,p=t.period,u=[],c=[],h=[];if(2!==l.length||l[1]<=l[0])m('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((a=f.prototype.getValues.call(this,e,{volumeSeriesID:t.volumeSeriesID,period:p}))&&(o=y.prototype.getValues.call(this,a,{period:l[0]}),s=y.prototype.getValues.call(this,a,{period:l[1]}),o&&s)){for(i=l[1]-l[0],r=0;r<s.yData.length;r++)n=d(o.yData[r+i]-s.yData[r]),u.push([s.xData[r],n]),c.push(s.xData[r]),h.push(n);return{values:u,xData:c,yData:h}}}})}),a(t,"indicators/dema.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var x=t.correctFloat,b=t.isArray,i=t.seriesType,A=e.seriesTypes.ema,o=a;i("dema","ema",{},{init:function(){var t=arguments,a=this;o.isParentLoaded(A,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getEMA:function(e,t,a,i,o,s){return A.prototype.calculateEma(s||[],e,void 0===o?1:o,this.chart.series[0].EMApercent,t,void 0===i?-1:i,a)},getValues:function(e,t){var a,i,o,s,n,r=t.period,l=2*r,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,m=0,y=[],f=[],g=[],v=0,D=[];if(e.EMApercent=2/(r+1),!(c<2*r-1)){for(b(u[0])&&(h=t.index?t.index:0),m=(d=A.prototype.accumulatePeriodPoints(r,h,u))/r,d=0,s=r;s<c+2;s++)s<c+1&&(v=this.getEMA(u,i,m,h,s)[1],D.push(v)),i=v,s<l?d+=v:(s===l&&(m=d/r),v=D[s-r-1],a=this.getEMA([v],o,m)[1],n=[p[s-2],x(2*v-a)],y.push(n),f.push(n[0]),g.push(n[1]),o=a);return{values:y,xData:f,yData:g}}}})}),a(t,"indicators/tema.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var o=t.correctFloat,b=t.isArray,i=t.seriesType,A=e.seriesTypes.ema,s=a;i("tema","ema",{},{init:function(){var t=arguments,a=this;s.isParentLoaded(A,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getEMA:function(e,t,a,i,o,s){return A.prototype.calculateEma(s||[],e,void 0===o?1:o,this.chart.series[0].EMApercent,t,void 0===i?-1:i,a)},getTemaPoint:function(e,t,a,i){return[e[i-3],o(3*a.level1-3*a.level2+a.level3)]},getValues:function(e,t){var a,i,o,s,n=t.period,r=2*n,l=3*n,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,m=0,y=[],f=[],g=[],v=[],D=[],x={};if(e.EMApercent=2/(n+1),!(c<3*n-2)){for(b(u[0])&&(h=t.index?t.index:0),m=(d=A.prototype.accumulatePeriodPoints(n,h,u))/n,d=0,o=n;o<c+3;o++)o<c+1&&(x.level1=this.getEMA(u,a,m,h,o)[1],v.push(x.level1)),a=x.level1,o<r?d+=x.level1:(o===r&&(m=d/n,d=0),x.level1=v[o-n-1],x.level2=this.getEMA([x.level1],i,m)[1],D.push(x.level2),i=x.level2,o<l?d+=x.level2:(o===l&&(m=d/n),o===c+1&&(x.level1=v[o-n-1],x.level2=this.getEMA([x.level1],i,m)[1],D.push(x.level2)),x.level1=v[o-n-2],x.level2=D[o-2*n-1],x.level3=this.getEMA([x.level2],x.prevLevel3,m)[1],(s=this.getTemaPoint(p,l,x,o))&&(y.push(s),f.push(s[0]),g.push(s[1])),x.prevLevel3=x.level3));return{values:y,xData:f,yData:g}}}})}),a(t,"indicators/trix.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,i){var s=t.correctFloat,a=t.seriesType,o=e.seriesTypes.tema;a("trix","tema",{},{init:function(){var t=arguments,a=this;i.isParentLoaded(o,"tema",a.type,function(e){e.prototype.init.apply(a,t)})},getTemaPoint:function(e,t,a,i){if(t<i)var o=[e[i-3],0!==a.prevLevel3?s(a.level3-a.prevLevel3)/a.prevLevel3*100:null];return o}})}),a(t,"indicators/apo.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var h=t.error,i=t.seriesType,d=e.seriesTypes.ema,o=a;i("apo","ema",{params:{periods:[10,20]}},{nameBase:"APO",nameComponents:["periods"],init:function(){var t=arguments,a=this;o.isParentLoaded(d,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,i,o,s,n,r=t.periods,l=t.index,p=[],u=[],c=[];if(2!==r.length||r[1]<=r[0])h('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else if(i=d.prototype.getValues.call(this,e,{index:l,period:r[0]}),o=d.prototype.getValues.call(this,e,{index:l,period:r[1]}),i&&o){for(a=r[1]-r[0],n=0;n<o.yData.length;n++)s=i.yData[n+a]-o.yData[n],p.push([o.xData[n],s]),u.push(o.xData[n]),c.push(s);return{values:p,xData:u,yData:c}}}})}),a(t,"indicators/ichimoku-kinko-hyo.src.js",[t["parts/Globals.js"],t["parts/Color.js"],t["parts/Utilities.js"]],function(o,e,t){var L,a=e.parse,G=t.defined,k=t.isArray,B=t.merge,N=t.objectEach,i=t.seriesType,U=o.seriesTypes.sma;function V(e){return{high:e.reduce(function(e,t){return Math.max(e,t[1])},-1/0),low:e.reduce(function(e,t){return Math.min(e,t[2])},1/0)}}function I(e,t,a,i){if(e&&t&&a&&i){var o,s,n=t.plotX-e.plotX,r=t.plotY-e.plotY,l=i.plotX-a.plotX,p=i.plotY-a.plotY,u=e.plotX-a.plotX,c=e.plotY-a.plotY;if(s=(l*c-p*u)/(-l*r+n*p),0<=(o=(-r*u+n*c)/(-l*r+n*p))&&o<=1&&0<=s&&s<=1)return{plotX:e.plotX+s*n,plotY:e.plotY+s*r}}return!1}function z(e){var t=e.indicator;t.points=e.points,t.nextPoints=e.nextPoints,t.color=e.color,t.options=B(e.options.senkouSpan.styles,e.gap),t.graph=e.graph,t.fillGraph=!0,U.prototype.drawGraph.call(t)}i("ikh","sma",{params:{period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!(o.approximations["ichimoku-averages"]=function(){var a,i=[];return[].forEach.call(arguments,function(e,t){i.push(o.approximations.average(e)),a=!a&&void 0===i[t]}),a?void 0:i})},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}},{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"],init:function(){U.prototype.init.apply(this,arguments),this.options=B({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:a(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:a(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:a(this.color).setOpacity(.2).get()}}},this.options)},toYData:function(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]},translate:function(){var a=this;U.prototype.translate.apply(a),a.points.forEach(function(t){a.pointArrayMap.forEach(function(e){G(t[e])&&(t["plot"+e]=a.yAxis.toPixels(t[e],!0),t.plotY=t["plot"+e],t.tooltipPos=[t.plotX,t["plot"+e]],t.isNull=!1)})})},drawGraph:function(){var e,t,a,i,o,s,n,r,l,p,u,c,h,d=this,m=d.points,y=m.length,f=d.options,g=d.graph,v=d.color,D={options:{gapSize:f.gapSize}},x=d.pointArrayMap.length,b=[[],[],[],[],[],[]],A={tenkanLine:b[0],kijunLine:b[1],chikouLine:b[2],senkouSpanA:b[3],senkouSpanB:b[4],senkouSpan:b[5]},S=[],j=d.options.senkouSpan,T=j.color||j.styles.fill,P=j.negativeColor,C=[[],[]],L=[[],[]],k=0;for(d.ikhMap=A;y--;){for(t=m[y],a=0;a<x;a++)e=d.pointArrayMap[a],G(t[e])&&b[a].push({plotX:t.plotX,plotY:t["plot"+e],isNull:!1});if(P&&y!==m.length-1){var V=A.senkouSpanB.length-1,M=I(A.senkouSpanA[V-1],A.senkouSpanA[V],A.senkouSpanB[V-1],A.senkouSpanB[V]),E={plotX:M.plotX,plotY:M.plotY,isNull:!1,intersectPoint:!0};M&&(A.senkouSpanA.splice(V,0,E),A.senkouSpanB.splice(V,0,E),S.push(V))}}if(N(A,function(e,t){f[t]&&"senkouSpan"!==t&&(d.points=b[k],d.options=B(f[t].styles,D),d.graph=d["graph"+t],d.fillGraph=!1,d.color=v,U.prototype.drawGraph.call(d),d["graph"+t]=d.graph),k++}),d.graphCollection&&d.graphCollection.forEach(function(e){d[e].destroy(),delete d[e]}),d.graphCollection=[],P&&A.senkouSpanA[0]&&A.senkouSpanB[0]){for(S.unshift(0),S.push(A.senkouSpanA.length-1),c=0;c<S.length-1;c++)if(i=S[c],o=S[c+1],s=A.senkouSpanB.slice(i,o+1),n=A.senkouSpanA.slice(i,o+1),1<=Math.floor(s.length/2)){var w=Math.floor(s.length/2);if(s[w].plotY===n[w].plotY){for(h=l=r=0;h<s.length;h++)r+=s[h].plotY,l+=n[h].plotY;C[u=l<r?0:1]=C[u].concat(s),L[u]=L[u].concat(n)}else u=s[w].plotY>n[w].plotY?0:1,C[u]=C[u].concat(s),L[u]=L[u].concat(n)}else u=s[0].plotY>n[0].plotY?0:1,C[u]=C[u].concat(s),L[u]=L[u].concat(n);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(e,t){C[t].length&&L[t].length&&(p=0===t?T:P,z({indicator:d,points:C[t],nextPoints:L[t],color:p,options:f,gap:D,graph:d[e]}),d[e]=d.graph,d.graphCollection.push(e))})}else z({indicator:d,points:A.senkouSpanB,nextPoints:A.senkouSpanA,color:T,options:f,gap:D,graph:d.graphsenkouSpan}),d.graphsenkouSpan=d.graph;delete d.nextPoints,delete d.fillGraph,d.points=m,d.options=f,d.graph=g},getGraphPath:function(e){var t,a=this,i=[],o=[],s=[];if(e=e||this.points,a.fillGraph&&a.nextPoints){(t=U.prototype.getGraphPath.call(a,a.nextPoints))[0]="L",i=U.prototype.getGraphPath.call(a,e);for(var n=(s=t.slice(0,i.length)).length-1;0<n;n-=3)o.push(s[n-2],s[n-1],s[n]);i=i.concat(o)}else i=U.prototype.getGraphPath.apply(a,arguments);return i},getValues:function(e,t){var a,i,o,s,n,r,l,p,u,c,h,d,m,y,f,g,v=t.period,D=t.periodTenkan,x=t.periodSenkouSpanB,b=e.xData,A=e.yData,S=e.xAxis,j=A&&A.length||0,T=(S.series.forEach(function(e){if(e.xData)for(f=e.xData,m=e.xIncrement?1:f.length-1,g=m;0<g;g--)y=f[g]-f[g-1],(d===L||y<d)&&(d=y)}),d),P=[],C=[];if(!(b.length<=v)&&k(A[0])&&4===A[0].length){for(a=b[0]-v*T,r=0;r<v;r++)C.push(a+r*T);for(r=0;r<j;r++)D<=r&&(l=((o=V(A.slice(r-D,r))).high+o.low)/2),v<=r&&(c=(l+(p=((s=V(A.slice(r-v,r))).high+s.low)/2))/2),x<=r&&(h=((n=V(A.slice(r-x,r))).high+n.low)/2),u=A[r][3],i=b[r],P[r]===L&&(P[r]=[]),P[r+v]===L&&(P[r+v]=[]),P[r+v][0]=l,P[r+v][1]=p,P[r+v][2]=L,P[r][2]=u,r<=v&&(P[r+v][3]=L,P[r+v][4]=L),P[r+2*v]===L&&(P[r+2*v]=[]),P[r+2*v][3]=c,P[r+2*v][4]=h,C.push(i);for(r=1;r<=v;r++)C.push(i+r*T);return{values:P,xData:C,yData:P}}}})}),a(t,"indicators/keltner-channels.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var x=t.correctFloat,i=t.merge,o=t.seriesType,s=e.seriesTypes.sma,b=e.seriesTypes.ema,A=e.seriesTypes.atr;o("keltnerchannels","sma",{params:{period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1},i(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Keltner Channels",nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],requiredIndicators:["ema","atr"],init:function(){s.prototype.init.apply(this,arguments),this.options=i({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var a,i,o,s,n,r,l,p=t.period,u=t.periodATR,c=t.multiplierATR,h=t.index,d=e.yData,m=d?d.length:0,y=[],f=b.prototype.getValues(e,{period:p,index:h}),g=A.prototype.getValues(e,{period:u}),v=[],D=[];if(!(m<p)){for(l=p;l<=m;l++)n=f.values[l-p],r=g.values[l-u],s=n[0],i=x(n[1]+c*r[1]),o=x(n[1]-c*r[1]),a=n[1],y.push([s,i,a,o]),v.push(s),D.push([i,a,o]);return{values:y,xData:v,yData:D}}}}))}),a(t,"indicators/macd.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var u=t.correctFloat,c=t.defined,l=t.merge,a=t.seriesType,i=e.noop,p=e.seriesTypes.sma,h=e.seriesTypes.ema;a("macd","sma",{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0},{nameComponents:["longPeriod","shortPeriod","signalPeriod"],requiredIndicators:["ema"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:i,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,init:function(){p.prototype.init.apply(this,arguments),this.options&&(this.options=l({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},toYData:function(e){return[e.y,e.signal,e.MACD]},translate:function(){var i=this,o=["plotSignal","plotMACD"];e.seriesTypes.column.prototype.translate.apply(i),i.points.forEach(function(a){[a.signal,a.MACD].forEach(function(e,t){null!==e&&(a[o[t]]=i.yAxis.toPixels(e,!0))})})},destroy:function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),p.prototype.destroy.apply(this,arguments)},drawPoints:e.seriesTypes.column.prototype.drawPoints,drawGraph:function(){for(var e,a=this,t=a.points,i=t.length,o=a.options,s=a.zones,n={options:{gapSize:o.gapSize}},r=[[],[]];i--;)e=t[i],c(e.plotMACD)&&r[0].push({plotX:e.plotX,plotY:e.plotMACD,isNull:!c(e.plotMACD)}),c(e.plotSignal)&&r[1].push({plotX:e.plotX,plotY:e.plotSignal,isNull:!c(e.plotMACD)});["macd","signal"].forEach(function(e,t){a.points=r[t],a.options=l(o[e+"Line"].styles,n),a.graph=a["graph"+e],a.currentLineZone=e+"Zones",a.zones=a[a.currentLineZone].zones,p.prototype.drawGraph.call(a),a["graph"+e]=a.graph}),a.points=t,a.options=o,a.zones=s,a.currentLineZone=null},getZonesGraphs:function(e){var t=p.prototype.getZonesGraphs.call(this,e),a=t;return this.currentLineZone&&((a=t.splice(this[this.currentLineZone].startIndex+1)).length?a.splice(0,0,e[0]):a=[e[0]]),a},applyZones:function(){var e=this.zones;this.zones=this.signalZones.zones,p.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e},getValues:function(e,t){var a,i,o,s=0,n=[],r=[],l=[],p=[];if(!(e.xData.length<t.longPeriod+t.signalPeriod)){for(a=h.prototype.getValues(e,{period:t.shortPeriod}),i=h.prototype.getValues(e,{period:t.longPeriod}),a=a.values,i=i.values,o=1;o<=a.length;o++)c(i[o-1])&&c(i[o-1][1])&&c(a[o+t.shortPeriod+1])&&c(a[o+t.shortPeriod+1][0])&&n.push([a[o+t.shortPeriod+1][0],0,null,a[o+t.shortPeriod+1][1]-i[o-1][1]]);for(o=0;o<n.length;o++)r.push(n[o][0]),l.push([0,null,n[o][3]]);for(p=(p=h.prototype.getValues({xData:r,yData:l},{period:t.signalPeriod,index:2})).values,o=0;o<n.length;o++)n[o][0]>=p[0][0]&&(n[o][2]=p[s][1],l[o]=[0,p[s][1],n[o][3]],null===n[o][3]?(n[o][1]=0,l[o][0]=0):(n[o][1]=u(n[o][3]-p[s][1]),l[o][0]=u(n[o][3]-p[s][1])),s++);return{values:n,xData:r,yData:l}}}})}),a(t,"indicators/mfi.src.js",[t["parts/Utilities.js"]],function(e){var A=e.error,S=e.isArray;function j(e){return e.reduce(function(e,t){return e+t})}function T(e){return(e[1]+e[2]+e[3])/3}function P(e,t){return e*t}(0,e.seriesType)("mfi","sma",{params:{period:14,volumeSeriesID:"volume",decimals:4}},{nameBase:"Money Flow Index",getValues:function(e,t){var a,i,o,s,n,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=t.decimals,d=1,m=e.chart.get(t.volumeSeriesID),y=m&&m.yData,f=[],g=!1,v=[],D=[],x=[],b=[];if(m){if(!(p.length<=l)&&S(u[0])&&4===u[0].length&&y){for(a=T(u[d]);d<l+1;)g=a<=(a=T(u[d])),i=P(a,y[d]),x.push(g?i:0),b.push(g?0:i),d++;for(r=d-1;r<c;r++)d-1<r&&(x.shift(),b.shift(),g=a<(a=T(u[r])),i=P(a,y[r]),x.push(g?i:0),b.push(g?0:i)),o=j(b),s=j(x),n=parseFloat((100-100/(1+s/o)).toFixed(h)),f.push([p[r],n]),v.push(p[r]),D.push(n);return{values:f,xData:v,yData:D}}}else A("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}})}),a(t,"indicators/momentum.src.js",[t["parts/Utilities.js"]],function(e){var d=e.isArray;function m(e,t,a,i,o){var s=a[i-1][3]-a[i-o-1][3],n=t[i-1];return e.shift(),[n,s]}(0,e.seriesType)("momentum","sma",{params:{period:14}},{nameBase:"Momentum",getValues:function(e,t){var a,i,o,s=t.period,n=e.xData,r=e.yData,l=r?r.length:0,p=n[0],u=(r[0],[]),c=[],h=[];if(!(n.length<=s)&&d(r[0])){for(i=[[p,r[0][3]]],a=s+1;a<l;a++)o=m(i,n,r,a,s),u.push(o),c.push(o[0]),h.push(o[1]);return o=m(i,n,r,a,s),u.push(o),c.push(o[0]),h.push(o[1]),{values:u,xData:c,yData:h}}}})}),a(t,"indicators/natr.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var a=t.seriesType,r=e.seriesTypes.atr;a("natr","sma",{tooltip:{valueSuffix:"%"}},{requiredIndicators:["atr"],getValues:function(e,t){var a=r.prototype.getValues.apply(this,arguments),i=a.values.length,o=t.period-1,s=e.yData,n=0;if(a){for(;n<i;n++)a.yData[n]=a.values[n][1]/s[o][3]*100,a.values[n][1]=a.yData[n],o++;return a}}})}),a(t,"indicators/pivot-points.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var u=t.defined,g=t.isArray,a=t.seriesType,c=e.seriesTypes.sma;function i(e,t){var a,i=e.series.pointArrayMap,o=i.length;for(c.prototype.pointClass.prototype[t].call(e);o--;)e[a="dataLabel"+i[o]]&&e[a].element&&e[a].destroy(),e[a]=null}a("pivotpoints","sma",{params:{period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}},{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",toYData:function(e){return[e.P]},translate:function(){var a=this;c.prototype.translate.apply(a),a.points.forEach(function(t){a.pointArrayMap.forEach(function(e){u(t[e])&&(t["plot"+e]=a.yAxis.toPixels(t[e],!0))})}),a.plotEndPoint=a.xAxis.toPixels(a.endPoint,!0)},getGraphPath:function(e){for(var t,a,i,o=this,s=e.length,n=[[],[],[],[],[],[],[],[],[]],r=[],l=o.plotEndPoint,p=o.pointArrayMap.length;s--;){for(a=e[s],i=0;i<p;i++)t=o.pointArrayMap[i],u(a[t])&&n[i].push({plotX:a.plotX,plotY:a["plot"+t],isNull:!1},{plotX:l,plotY:a["plot"+t],isNull:!1},{plotX:l,plotY:null,isNull:!0});l=a.plotX}return n.forEach(function(e){r=r.concat(c.prototype.getGraphPath.call(o,e))}),r},drawDataLabels:function(){var a,i,o,s,n=this,r=n.pointArrayMap;n.options.dataLabels.enabled&&(i=n.points.length,r.concat([!1]).forEach(function(e,t){for(s=i;s--;)o=n.points[s],e?(o.y=o[e],o.pivotLine=e,o.plotY=o["plot"+e],a=o["dataLabel"+e],t&&(o["dataLabel"+r[t-1]]=o.dataLabel),o.dataLabels||(o.dataLabels=[]),o.dataLabels[0]=o.dataLabel=a=a&&a.element?a:null):o["dataLabel"+r[t-1]]=o.dataLabel;c.prototype.drawDataLabels.apply(n,arguments)}))},getValues:function(e,t){var a,i,o,s,n,r,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=this[t.algorithm+"Placement"],m=[],y=[],f=[];if(!(u.length<p)&&g(c[0])&&4===c[0].length){for(l=p+1;l<=h+p;l+=p)o=u.slice(l-p-1,l),s=c.slice(l-p-1,l),a=o[(i=o.length)-1],r=d(this.getPivotAndHLC(s)),n=m.push([a].concat(r)),y.push(a),f.push(m[n-1].slice(1));return this.endPoint=o[0]+(a-o[0])/i*p,{values:m,xData:y,yData:f}}},getPivotAndHLC:function(e){var t=-1/0,a=1/0,i=e[e.length-1][3];return e.forEach(function(e){t=Math.max(t,e[1]),a=Math.min(a,e[2])}),[(t+a+i)/3,t,a,i]},standardPlacement:function(e){var t=e[1]-e[2];return[null,null,e[0]+t,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-t,null,null]},camarillaPlacement:function(e){var t=e[1]-e[2];return[e[3]+1.5*t,e[3]+1.25*t,e[3]+1.1666*t,e[3]+1.0833*t,e[0],e[3]-1.0833*t,e[3]-1.1666*t,e[3]-1.25*t,e[3]-1.5*t]},fibonacciPlacement:function(e){var t=e[1]-e[2];return[null,e[0]+t,e[0]+.618*t,e[0]+.382*t,e[0],e[0]-.382*t,e[0]-.618*t,e[0]-t,null]}},{destroyElements:function(){i(this,"destroyElements")},destroy:function(){i(this,"destroyElements")}})}),a(t,"indicators/ppo.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var h=t.correctFloat,d=t.error,i=t.seriesType,m=e.seriesTypes.ema,o=a;i("ppo","ema",{params:{periods:[12,26]}},{nameBase:"PPO",nameComponents:["periods"],init:function(){var t=arguments,a=this;o.isParentLoaded(m,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,i,o,s,n,r=t.periods,l=t.index,p=[],u=[],c=[];if(2!==r.length||r[1]<=r[0])d('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else if(i=m.prototype.getValues.call(this,e,{index:l,period:r[0]}),o=m.prototype.getValues.call(this,e,{index:l,period:r[1]}),i&&o){for(a=r[1]-r[0],n=0;n<o.yData.length;n++)s=h((i.yData[n+a]-o.yData[n])/o.yData[n]*100),p.push([o.xData[n],s]),u.push(o.xData[n]),c.push(s);return{values:p,xData:u,yData:c}}}})}),a(t,"mixins/reduce-array.js",[t["parts/Globals.js"]],function(e){var t=e.reduce;return{minInArray:function(e,a){return t(e,function(e,t){return Math.min(e,t[a])},Number.MAX_VALUE)},maxInArray:function(e,a){return t(e,function(e,t){return Math.max(e,t[a])},-Number.MAX_VALUE)},getArrayExtremes:function(e,a,i){return t(e,function(e,t){return[Math.min(e[0],t[a]),Math.max(e[1],t[i])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),a(t,"indicators/price-channel.src.js",[t["parts/Utilities.js"],t["mixins/reduce-array.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var i=e.merge,o=e.seriesType,f=t.getArrayExtremes;o("pc","sma",{params:{period:20},lineWidth:1,topLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[2],lineWidth:1}},bottomLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[8],lineWidth:1}},dataGrouping:{approximation:"averages"}},i(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var a,i,o,s,n,r,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=[],m=[],y=[];if(!(h<p)){for(l=p;l<=h;l++)s=u[l-1],n=c.slice(l-p,l),a=((i=(r=f(n,2,1))[1])+(o=r[0]))/2,d.push([s,i,a,o]),m.push(s),y.push([i,a,o]);return{values:d,xData:m,yData:y}}}}))}),a(t,"indicators/price-envelopes.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var D=t.isArray,l=t.merge,a=t.seriesType,x=e.seriesTypes.sma;a("priceenvelopes","sma",{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle",init:function(){x.prototype.init.apply(this,arguments),this.options=l({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},toYData:function(e){return[e.top,e.middle,e.bottom]},translate:function(){var i=this,o=["plotTop","plotMiddle","plotBottom"];x.prototype.translate.apply(i),i.points.forEach(function(a){[a.top,a.middle,a.bottom].forEach(function(e,t){null!==e&&(a[o[t]]=i.yAxis.toPixels(e,!0))})})},drawGraph:function(){for(var e,a=this,t=a.points,i=t.length,o=a.options,s=a.graph,n={options:{gapSize:o.gapSize}},r=[[],[]];i--;)e=t[i],r[0].push({plotX:e.plotX,plotY:e.plotTop,isNull:e.isNull}),r[1].push({plotX:e.plotX,plotY:e.plotBottom,isNull:e.isNull});["topLine","bottomLine"].forEach(function(e,t){a.points=r[t],a.options=l(o[e].styles,n),a.graph=a["graph"+e],x.prototype.drawGraph.call(a),a["graph"+e]=a.graph}),a.points=t,a.options=o,a.graph=s,x.prototype.drawGraph.call(a)},getValues:function(e,t){var a,i,o,s,n,r,l,p,u=t.period,c=t.topBand,h=t.bottomBand,d=e.xData,m=e.yData,y=m?m.length:0,f=[],g=[],v=[];if(!(d.length<u)&&D(m[0])&&4===m[0].length){for(p=u;p<=y;p++)n=d.slice(p-u,p),r=m.slice(p-u,p),s=(l=x.prototype.getValues.call(this,{xData:n,yData:r},t)).xData[0],i=(a=l.yData[0])*(1+c),o=a*(1-h),f.push([s,i,a,o]),g.push(s),v.push([i,a,o]);return{values:f,xData:g,yData:v}}}})}),a(t,"indicators/psar.src.js",[t["parts/Utilities.js"]],function(e){function _(e,t){return parseFloat(e.toFixed(t))}function J(e,t){return e-t}function Q(e,t){return e*t}(0,e.seriesType)("psar","sma",{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}},{nameComponents:!1,getValues:function(e,t){var a,i,o,s,n,r,l,p,u,c,h,d,m=e.xData,y=e.yData,f=y[0][1],g=t.initialAccelerationFactor,v=t.maxAccelerationFactor,D=t.increment,x=t.initialAccelerationFactor,b=y[0][2],A=t.decimals,S=t.index,j=[],T=[],P=[],C=1;if(!(S>=y.length)){for(d=0;d<S;d++)f=Math.max(y[d][1],f),b=Math.min(y[d][2],_(b,A));for(a=y[d][1]>b?1:-1,i=J(f,b),o=Q(g=t.initialAccelerationFactor,i),j.push([m[S],b]),T.push(m[S]),P.push(_(b,A)),d=S+1;d<y.length;d++)n=y[d-1][2],r=y[d-2][2],l=y[d-1][1],p=y[d-2][1],c=y[d][1],h=y[d][2],null!==r&&null!==p&&null!==n&&null!==l&&null!==c&&null!==h&&(F=b,O=o,Z=r,q=n,R=l,K=p,H=f,b=(X=a)===C?1===X?F+O<Math.min(Z,q)?F+O:Math.min(Z,q):F+O>Math.max(K,R)?F+O:Math.max(K,R):H,W=f,N=Y=h,U=z=c,I=b,k=u=1===a?W<z?z:W:Y<W?Y:W,V=f,M=g,E=D,w=v,G=x,o=Q(g=(L=s=1===(B=C)&&I<N||-1===B&&I<U?1:-1)===a?1===L&&V<k||-1===L&&k<V?M===w?w:_(M+E,2):M:G,i=J(u,b)),j.push([m[d],_(b,A)]),T.push(m[d]),P.push(_(b,A)),C=a,a=s,f=u);var L,k,V,M,E,w,G,B,N,U,I,z,Y,W,X,F,O,Z,q,R,K,H;return{values:j,xData:T,yData:P}}}})}),a(t,"indicators/roc.src.js",[t["parts/Utilities.js"]],function(e){var D=e.isArray;(0,e.seriesType)("roc","sma",{params:{index:3,period:9}},{nameBase:"Rate of Change",getValues:function(e,t){var a,i,o=t.period,s=e.xData,n=e.yData,r=n?n.length:0,l=[],p=[],u=[],c=-1;if(!(s.length<=o)){for(D(n[0])&&(c=t.index),a=o;a<r;a++)h=s,d=n,m=a,y=o,v=g=void 0,v=(f=c)<0?(g=d[m-y])?(d[m]-g)/g*100:null:(g=d[m-y][f])?(d[m][f]-g)/g*100:null,i=[h[m],v],l.push(i),p.push(i[0]),u.push(i[1]);var h,d,m,y,f,g,v;return{values:l,xData:p,yData:u}}}})}),a(t,"indicators/rsi.src.js",[t["parts/Utilities.js"]],function(e){var v=e.isArray;function D(e,t){return parseFloat(e.toFixed(t))}(0,e.seriesType)("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(e,t){var a,i,o,s,n,r=t.period,l=e.xData,p=e.yData,u=p?p.length:0,c=t.decimals,h=1,d=[],m=[],y=[],f=0,g=0;if(!(l.length<r)&&v(p[0])&&4===p[0].length){for(;h<r;)0<(i=D(p[h][3]-p[h-1][3],c))?f+=i:g+=Math.abs(i),h++;for(o=D(f/(r-1),c),s=D(g/(r-1),c),n=h;n<u;n++)g=0<(i=D(p[n][3]-p[n-1][3],c))?(f=i,0):(f=0,Math.abs(i)),o=D((o*(r-1)+f)/r,c),a=0===(s=D((s*(r-1)+g)/r,c))?100:0===o?0:D(100-100/(1+o/s),c),d.push([l[n],a]),m.push(l[n]),y.push(a);return{values:d,xData:m,yData:y}}}})}),a(t,"indicators/stochastic.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/reduce-array.js"],t["mixins/multipe-lines.js"]],function(e,t,a,i){var f=t.isArray,o=t.merge,s=t.seriesType,g=e.seriesTypes.sma,v=a.getArrayExtremes;s("stochastic","sma",{params:{periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},o(i,{nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"],init:function(){g.prototype.init.apply(this,arguments),this.options=o({smoothedLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var a,i,o,s,n,r=t.periods[0],l=t.periods[1],p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=[],y=null;if(!(c<r)&&f(u[0])&&4===u[0].length){for(n=r-1;n<c;n++)a=u.slice(n-r+1,n+1),i=(s=v(a,2,1))[0],o=(u[n][3]-i)/(s[1]-i)*100,d.push(p[n]),m.push([o,null]),r-1+(l-1)<=n&&(y=g.prototype.getValues.call(this,{xData:d.slice(-l),yData:m.slice(-l)},{period:l}).yData[0]),h.push([p[n],o,y]),m[m.length-1][1]=y;return{values:h,xData:d,yData:m}}}}))}),a(t,"indicators/slow-stochastic.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,i){var a=t.seriesType,p=e.seriesTypes;a("slowstochastic","stochastic",{params:{periods:[14,3,3]}},{nameBase:"Slow Stochastic",init:function(){var t=arguments,a=this;i.isParentLoaded(e.seriesTypes.stochastic,"stochastic",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a=t.periods,i=p.stochastic.prototype.getValues.call(this,e,t),o={values:[],xData:[],yData:[]},s=0;if(i){o.xData=i.xData.slice(a[1]-1);var n=i.yData.slice(a[1]-1),r=p.sma.prototype.getValues.call(this,{xData:o.xData,yData:n},{index:1,period:a[2]});if(r){for(var l=o.xData.length;s<l;s++)o.yData[s]=[n[s][1],r.yData[s-a[2]+1]||null],o.values[s]=[o.xData[s],n[s][1],r.yData[s-a[2]+1]||null];return o}}}})}),a(t,"indicators/supertrend.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var A=t.correctFloat,b=t.merge,a=t.seriesType,S=t.isArray,j=t.objectEach,T=e.seriesTypes.atr,P=e.seriesTypes.sma;function C(e,t,a){return{index:t,close:e.yData[t][a],x:e.xData[t]}}a("supertrend","sma",{params:{multiplier:3,period:10},risingTrendColor:"#06B535",fallingTrendColor:"#F21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}},{nameBase:"Supertrend",nameComponents:["multiplier","period"],requiredIndicators:["atr"],init:function(){var e,t;P.prototype.init.apply(this,arguments),e=this.options,t=this.linkedParent.options,e.cropThreshold=t.cropThreshold-(e.params.period-1)},drawGraph:function(){for(var e,t,a,i,o,s,n,r,l,p=this,u=p.options,c=p.linkedParent,h=c?c.points:[],d=p.points,m=p.graph,y=d.length,f=h.length-y,g=0<f?f:0,v={options:{gapSize:u.gapSize}},D={top:[],bottom:[],intersect:[]},x={top:{styles:{lineWidth:u.lineWidth,lineColor:u.fallingTrendColor||u.color,dashStyle:u.dashStyle}},bottom:{styles:{lineWidth:u.lineWidth,lineColor:u.risingTrendColor||u.color,dashStyle:u.dashStyle}},intersect:u.changeTrendLine};y--;)e=d[y],t=d[y-1],a=h[y-1+g],i=h[y-2+g],o=h[y+g],s=h[y+g+1],n=e.options.color,r={x:e.x,plotX:e.plotX,plotY:e.plotY,isNull:!1},!i&&a&&c.yData[a.index-1]&&(i=C(c,a.index-1,3)),!s&&o&&c.yData[o.index+1]&&(s=C(c,o.index+1,3)),!a&&i&&c.yData[i.index+1]?a=C(c,i.index+1,3):!a&&o&&c.yData[o.index-1]&&(a=C(c,o.index-1,3)),e&&a&&o&&i&&e.x!==a.x&&(e.x===o.x?(i=a,a=o):e.x===i.x?(a=i,i={close:c.yData[a.index-1][3],x:c.xData[a.index-1]}):s&&e.x===s.x&&(a=s,i=o)),t&&i&&a?(l={x:t.x,plotX:t.plotX,plotY:t.plotY,isNull:!1},e.y>=a.close&&t.y>=i.close?(e.color=n||u.fallingTrendColor||u.color,D.top.push(r)):e.y<a.close&&t.y<i.close?(e.color=n||u.risingTrendColor||u.color,D.bottom.push(r)):(D.intersect.push(r),D.intersect.push(l),D.intersect.push(b(l,{isNull:!0})),e.y>=a.close&&t.y<i.close?(e.color=n||u.fallingTrendColor||u.color,t.color=n||u.risingTrendColor||u.color,D.top.push(r),D.top.push(b(l,{isNull:!0}))):e.y<a.close&&t.y>=i.close&&(e.color=n||u.risingTrendColor||u.color,t.color=n||u.fallingTrendColor||u.color,D.bottom.push(r),D.bottom.push(b(l,{isNull:!0}))))):a&&(e.y>=a.close?(e.color=n||u.fallingTrendColor||u.color,D.top.push(r)):(e.color=n||u.risingTrendColor||u.color,D.bottom.push(r)));j(D,function(e,t){p.points=e,p.options=b(x[t].styles,v),p.graph=p["graph"+t+"Line"],P.prototype.drawGraph.call(p),p["graph"+t+"Line"]=p.graph}),p.points=d,p.options=u,p.graph=m},getValues:function(e,t){var a,i,o,s,n,r,l,p,u,c,h=t.period,d=t.multiplier,m=e.xData,y=e.yData,f=[],g=[],v=[],D=0===h?0:h-1,x=[],b=[];if(!(m.length<=h||!S(y[0])||4!==y[0].length||h<0)){for(a=T.prototype.getValues.call(this,e,{period:h}).yData,c=0;c<a.length;c++)u=y[D+c],p=y[D+c-1]||[],n=x[c-1],r=b[c-1],l=v[c-1],0===c&&(n=r=l=0),i=A((u[1]+u[2])/2+d*a[c]),o=A((u[1]+u[2])/2-d*a[c]),x[c]=i<n||n<p[3]?i:n,b[c]=r<o||p[3]<r?o:r,l===n&&u[3]<x[c]||l===r&&u[3]<b[c]?s=x[c]:(l===n&&u[3]>x[c]||l===r&&u[3]>b[c])&&(s=b[c]),f.push([m[D+c],s]),g.push(m[D+c]),v.push(s);return{values:f,xData:g,yData:v}}}})}),a(t,"indicators/volume-by-price.src.js",[t["parts/Globals.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(s,e,t){var o=t.addEvent,i=t.animObject,x=t.arrayMax,m=t.arrayMin,b=t.correctFloat,c=t.error,n=t.extend,h=t.isArray,a=t.seriesType;var A=Math.abs,r=s.noop,S=s.seriesTypes.column.prototype;a("vbp","sma",{params:{ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}},{nameBase:"Volume by Price",bindTo:{series:!1,eventName:"afterSetExtremes"},calculateOn:"render",markerAttribs:r,drawGraph:r,getColumnMetrics:S.getColumnMetrics,crispCol:S.crispCol,init:function(e){var t,a,i,o=this;return s.seriesTypes.sma.prototype.init.apply(o,arguments),t=o.options.params,a=o.linkedParent,i=e.get(t.volumeSeriesID),o.addCustomEvents(a,i),o},addCustomEvents:function(e,t){var a=this;function i(){a.chart.redraw(),a.setData([]),a.zoneStarts=[],a.zoneLinesSVG&&(a.zoneLinesSVG.destroy(),delete a.zoneLinesSVG)}return a.dataEventsToUnbind.push(o(e,"remove",function(){i()})),t&&a.dataEventsToUnbind.push(o(t,"remove",function(){i()})),a},animate:function(e){var a=this,t={};e||(t.translateX=a.yAxis.pos,a.group.animate(t,n(i(a.options.animation),{step:function(e,t){a.group.attr({scaleX:Math.max(.001,t.pos)})}})))},drawPoints:function(){var e=this;e.options.volumeDivision.enabled&&(e.posNegVolume(!0,!0),S.drawPoints.apply(e,arguments),e.posNegVolume(!1,!1)),S.drawPoints.apply(e,arguments)},posNegVolume:function(e,t){var a,i,o,s,n=this,r=t?["positive","negative"]:["negative","positive"],l=n.options.volumeDivision,p=n.points.length,u=[],c=[],h=0;for(e?(n.posWidths=u,n.negWidths=c):(u=n.posWidths,c=n.negWidths);h<p;h++)(s=n.points[h])[r[0]+"Graphic"]=s.graphic,s.graphic=s[r[1]+"Graphic"],e&&(a=s.shapeArgs.width,(o=(i=n.priceZones[h]).wholeVolumeData)?(u.push(a/o*i.positiveVolumeData),c.push(a/o*i.negativeVolumeData)):(u.push(0),c.push(0))),s.color=t?l.styles.positiveColor:l.styles.negativeColor,s.shapeArgs.width=t?n.posWidths[h]:n.negWidths[h],s.shapeArgs.x=t?s.shapeArgs.x:n.posWidths[h]},translate:function(){var e,t,a,i,o,s,n,r,l,p,u,c,h=this,d=h.options,m=h.chart,y=h.yAxis,f=y.min,g=h.options.zoneLines,v=h.priceZones,D=0;S.translate.apply(h),(e=h.points).length&&(l=d.pointPadding<.5?d.pointPadding:.1,t=h.volumeDataArray,a=x(t),i=m.plotWidth/2,p=m.plotTop,o=A(y.toPixels(f)-y.toPixels(f+h.rangeStep)),n=A(y.toPixels(f)-y.toPixels(f+h.rangeStep)),l&&(s=A(o*(1-2*l)),D=A((o-s)/2),o=A(s)),e.forEach(function(e,t){u=e.barX=e.plotX=0,c=e.plotY=y.toPixels(v[t].start)-p-(y.reversed?o-n:o)-D,r=b(i*v[t].wholeVolumeData/a),e.pointWidth=r,e.shapeArgs=h.crispCol.apply(h,[u,c,r,o]),e.volumeNeg=v[t].negativeVolumeData,e.volumePos=v[t].positiveVolumeData,e.volumeAll=v[t].wholeVolumeData}),g.enabled&&h.drawZones(m,y,h.zoneStarts,g.styles))},getValues:function(e,t){var a,i,o=e.processedXData,s=e.processedYData,n=this.chart,r=t.ranges,l=[],p=[],u=[];if(e.chart)if(i=n.get(t.volumeSeriesID)){if(!(a=h(s[0]))||4===s[0].length)return(this.priceZones=this.specifyZones(a,o,s,r,i)).forEach(function(e,t){l.push([e.x,e.end]),p.push(l[t][0]),u.push(l[t][1])}),{values:l,xData:p,yData:u};c("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,n)}else c("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,n);else c("Base series not found! In case it has been removed, add a new one.",!0,n)},specifyZones:function(e,t,a,i,o){var s,n,r=!!e&&function(e){for(var t,a=e.length,i=e[0][3],o=i,s=1;s<a;s++)(t=e[s][3])<i&&(i=t),o<t&&(o=t);return{min:i,max:o}}(a),l=r?r.min:m(a),p=r?r.max:x(a),u=this.zoneStarts=[],c=[],h=0,d=1;if(!l||!p)return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG.destroy()),[];for(s=this.rangeStep=b(p-l)/i,u.push(l);h<i-1;h++)u.push(b(u[h]+s));for(u.push(p),n=u.length;d<n;d++)c.push({index:d-1,x:t[0],start:u[d-1],end:u[d]});return this.volumePerZone(e,c,o,t,a)},volumePerZone:function(t,e,a,i,o){var s,n,r,l,p,u=this,c=a.processedXData,h=a.processedYData,d=e.length-1,m=o.length,y=h.length;return A(m-y)&&(i[0]!==c[0]&&h.unshift(0),i[m-1]!==c[y-1]&&h.push(0)),u.volumeDataArray=[],e.forEach(function(e){for(e.wholeVolumeData=0,e.positiveVolumeData=0,e.negativeVolumeData=0,p=0;p<m;p++)r=n=!1,l=t?o[p][3]:o[p],s=p?t?o[p-1][3]:o[p-1]:l,l<=e.start&&0===e.index&&(n=!0),l>=e.end&&e.index===d&&(r=!0),(l>e.start||n)&&(l<e.end||r)&&(e.wholeVolumeData+=h[p],l<s?e.negativeVolumeData+=h[p]:e.positiveVolumeData+=h[p]);u.volumeDataArray.push(e.wholeVolumeData)}),e},drawZones:function(t,a,e,i){var o,s=t.renderer,n=this.zoneLinesSVG,r=[],l=t.plotWidth,p=t.plotTop;e.forEach(function(e){o=a.toPixels(e)-p,r=r.concat(t.renderer.crispLine(["M",0,o,"L",l,o],i.lineWidth))}),n?n.animate({d:r}):n=this.zoneLinesSVG=s.path(r).attr({"stroke-width":i.lineWidth,stroke:i.color,dashstyle:i.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}},{destroy:function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),e.prototype.destroy.apply(this,arguments)}})}),a(t,"indicators/vwap.src.js",[t["parts/Utilities.js"]],function(e){var l=e.error,p=e.isArray;(0,e.seriesType)("vwap","sma",{params:{period:30,volumeSeriesID:"volume"}},{getValues:function(e,t){var a,i=e.chart,o=e.xData,s=e.yData,n=t.period,r=!0;if(a=i.get(t.volumeSeriesID))return p(s[0])||(r=!1),this.calculateVWAPValues(r,o,s,a,n);l("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,i)},calculateVWAPValues:function(e,t,a,i,o){var s,n,r,l,p,u,c=i.yData,h=i.xData.length,d=t.length,m=[],y=[],f=[],g=[],v=[];for(s=d<=h?d:h,u=p=0;p<s;p++)n=e?(a[p][1]+a[p][2]+a[p][3])/3:a[p],n*=c[p],r=u?m[p-1]+n:n,l=u?y[p-1]+c[p]:c[p],m.push(r),y.push(l),v.push([t[p],r/l]),f.push(v[p][0]),g.push(v[p][1]),++u===o&&(u=0);return{values:v,xData:f,yData:g}}})}),a(t,"indicators/williams-r.src.js",[t["parts/Utilities.js"],t["mixins/reduce-array.js"]],function(e,t){var y=e.isArray,a=e.seriesType,f=t.getArrayExtremes;a("williamsr","sma",{params:{period:14}},{nameBase:"Williams %R",getValues:function(e,t){var a,i,o,s,n,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=[];if(!(p.length<l)&&y(u[0])&&4===u[0].length){for(r=l-1;r<c;r++)a=u.slice(r-l+1,r+1),n=(i=f(a,2,1))[0],o=((s=i[1])-u[r][3])/(s-n)*-100,p[r]&&(h.push([p[r],o]),d.push(p[r]),m.push(o));return{values:h,xData:d,yData:m}}}})}),a(t,"indicators/wma.src.js",[t["parts/Utilities.js"]],function(e){var f=e.isArray;function g(e,t,a,i,o){var s=t[i],n=o<0?a[i]:a[i][o];e.push([s,n])}function v(e,t,a,i){var o,s,n=e.length,r=(s=((o=n)+1)/2*o,e.reduce(function(e,t,a){return[null,e[1]+t[1]*(a+1)]})[1]/s),l=t[i-1];return e.shift(),[l,r]}(0,e.seriesType)("wma","sma",{params:{index:3,period:9}},{getValues:function(e,t){var a,i,o,s=t.period,n=e.xData,r=e.yData,l=r?r.length:0,p=1,u=n[0],c=r[0],h=[],d=[],m=[],y=-1;if(!(n.length<s)){for(f(r[0])&&(y=t.index,c=r[0][y]),i=[[u,c]];p!==s;)g(i,n,r,p,y),p++;for(a=p;a<l;a++)o=v(i,n,0,a),h.push(o),d.push(o[0]),m.push(o[1]),g(i,n,r,a,y);return o=v(i,n,0,a),h.push(o),d.push(o[0]),m.push(o[1]),{values:h,xData:d,yData:m}}}})}),a(t,"indicators/zigzag.src.js",[t["parts/Utilities.js"]],function(e){(0,e.seriesType)("zigzag","sma",{params:{lowIndex:2,highIndex:1,deviation:1}},{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag",getValues:function(e,t){var a,i,o,s,n,r,l,p=t.lowIndex,u=t.highIndex,c=t.deviation/100,h=1+c,d=1-c,m=e.xData,y=e.yData,f=y?y.length:0,g=[],v=[],D=[],x=!1,b=!1;if(!(!m||m.length<=1||f&&(void 0===y[0][p]||void 0===y[0][u]))){for(s=y[0][p],n=y[0][u],a=1;a<f;a++)y[a][p]<=n*d?(g.push([m[0],n]),o=[m[a],y[a][p]],x=r=!0):y[a][u]>=s*h&&(g.push([m[0],s]),x=!(r=!(o=[m[a],y[a][u]]))),x&&(v.push(g[0][0]),D.push(g[0][1]),i=a++,a=f);for(a=i;a<f;a++)r?(y[a][p]<=o[1]&&(o=[m[a],y[a][p]]),y[a][u]>=o[1]*h&&(b=u)):(y[a][u]>=o[1]&&(o=[m[a],y[a][u]]),y[a][p]<=o[1]*d&&(b=p)),!1!==b&&(g.push(o),v.push(o[0]),D.push(o[1]),r=!r,b=!(o=[m[a],y[a][b]]));return 0!==(l=g.length)&&g[l-1][0]<m[f-1]&&(g.push(o),v.push(o[0]),D.push(o[1])),{values:g,xData:v,yData:D}}}})}),a(t,"indicators/regressions.src.js",[t["parts/Utilities.js"]],function(e){var d=e.isArray,t=e.seriesType;t("linearRegression","sma",{params:{xAxisUnit:void 0},tooltip:{valueDecimals:4}},{nameBase:"Linear Regression Indicator",getRegressionLineParameters:function(e,t){function a(e,t){return d(e)?e[t]:e}var i,o,s,n=this.options.params.index,r=e.reduce(function(e,t){return t+e},0),l=t.reduce(function(e,t){return a(t,n)+e},0),p=r/e.length,u=l/t.length,c=0,h=0;for(o=0;o<e.length;o++)c+=(i=e[o]-p)*(a(t[o],n)-u),h+=Math.pow(i,2);return{slope:s=h?c/h:0,intercept:u-s*p}},getEndPointY:function(e,t){return e.slope*t+e.intercept},transformXData:function(e,t){var a=e[0];return e.map(function(e){return(e-a)/t})},findClosestDistance:function(e){var t,a,i;for(i=1;i<e.length-1;i++)0<(t=e[i]-e[i-1])&&(void 0===a||t<a)&&(a=t);return a},getValues:function(e,t){var a,i,o,s,n,r,l,p,u,c=e.xData,h=e.yData,d=t.period,m={xData:[],yData:[],values:[]},y=this.options.params.xAxisUnit||this.findClosestDistance(c);for(i=d-1;i<=c.length-1;i++)o=i-d+1,s=i+1,n=c[i],l=c.slice(o,s),p=h.slice(o,s),u=this.transformXData(l,y),a=this.getRegressionLineParameters(u,p),r=this.getEndPointY(a,u[u.length-1]),m.values.push({regressionLineParameters:a,x:n,y:r}),m.xData.push(n),m.yData.push(r);return m}}),t("linearRegressionSlope","linearRegression",{},{nameBase:"Linear Regression Slope Indicator",getEndPointY:function(e){return e.slope}}),t("linearRegressionIntercept","linearRegression",{},{nameBase:"Linear Regression Intercept Indicator",getEndPointY:function(e){return e.intercept}}),t("linearRegressionAngle","linearRegression",{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}},{nameBase:"Linear Regression Angle Indicator",slopeToAngle:function(e){return Math.atan(e)*(180/Math.PI)},getEndPointY:function(e){return this.slopeToAngle(e.slope)}})}),a(t,"indicators/acceleration-bands.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var C=t.correctFloat,i=t.merge,o=t.seriesType,L=e.seriesTypes.sma;o("abands","sma",{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},i(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Acceleration Bands",nameComponents:["period","factor"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var a,i,o,s,n,r,l,p,u,c,h,d=t.period,m=t.factor,y=t.index,f=e.xData,g=e.yData,v=g?g.length:0,D=[],x=[],b=[],A=[],S=[];if(!(v<d)){for(h=0;h<=v;h++)h<v&&(j=g[h][2],T=g[h][1],P=m,n=C(T-j)/(C(T+j)/2)*1e3*P,D.push(g[h][1]*C(1+2*n)),x.push(g[h][2]*C(1-2*n))),d<=h&&(u=f.slice(h-d,h),c=g.slice(h-d,h),l=L.prototype.getValues.call(this,{xData:u,yData:D.slice(h-d,h)},{period:d}),p=L.prototype.getValues.call(this,{xData:u,yData:x.slice(h-d,h)},{period:d}),s=(r=L.prototype.getValues.call(this,{xData:u,yData:c},{period:d,index:y})).xData[0],i=l.yData[0],o=p.yData[0],a=r.yData[0],b.push([s,i,a,o]),A.push(s),S.push([i,a,o]));var j,T,P;return{values:b,xData:A,yData:S}}}}))}),a(t,"indicators/trendline.src.js",[t["parts/Utilities.js"]],function(e){var v=e.isArray;(0,e.seriesType)("trendline","sma",{params:{index:3}},{nameBase:"Trendline",nameComponents:!1,getValues:function(e,t){var a,i,o,s,n,r=e.xData,l=e.yData,p=[],u=[],c=[],h=0,d=0,m=0,y=0,f=r.length,g=t.index;for(o=0;o<f;o++)h+=s=r[o],d+=n=v(l[o])?l[o][g]:l[o],m+=s*n,y+=s*s;for(a=(f*m-h*d)/(f*y-h*h),isNaN(a)&&(a=0),i=(d-a*h)/f,o=0;o<f;o++)n=a*(s=r[o])+i,p[o]=[s,n],u[o]=s,c[o]=n;return{xData:u,yData:c,values:p}}})}),a(t,"masters/indicators/indicators-all.src.js",[],function(){})});