"use strict";!function(a){"object"==typeof module&&module.exports?module.exports=a.default=a:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators",["highcharts","highcharts/modules/stock"],function(e){return a(e),a.Highcharts=e,a}):a("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){var a=e?e._modules:{};function t(e,a,t,i){e.hasOwnProperty(a)||(e[a]=i.apply(null,t))}t(a,"mixins/indicator-required.js",[a["parts/Utilities.js"]],function(e){var r=e.error;return{isParentLoaded:function(e,a,t,i,n){return e?!i||i(e):(r(n||this.generateMessage(t,a)),!1)},generateMessage:function(e,a){return'Error: "'+e+'" indicator type requires "'+a+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+e}}}),t(a,"indicators/indicators.src.js",[a["parts/Globals.js"],a["parts/Utilities.js"],a["mixins/indicator-required.js"]],function(e,a,t){var r=a.addEvent,s=a.error,i=a.extend,f=a.isArray,n=a.pick,o=a.seriesType,l=a.splat,d=e.Series,p=e.seriesTypes,c=e.seriesTypes.ohlc.prototype,h=t.generateMessage;r(e.Series,"init",function(e){var a=e.options;a.useOhlcData&&"highcharts-navigator-series"!==a.id&&i(this,{pointValKey:c.pointValKey,keys:c.keys,pointArrayMap:c.pointArrayMap,toYData:c.toYData})}),r(d,"afterSetOptions",function(e){var a=e.options,t=a.dataGrouping;t&&a.useOhlcData&&"highcharts-navigator-series"!==a.id&&(t.approximation="ohlc")}),o("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var e=this,a=e.options.compareToMain,t=e.linkedParent;d.prototype.processData.apply(e,arguments),t&&t.compareValue&&a&&(e.compareValue=t.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var a={allLoaded:!0};return this.requiredIndicators.forEach(function(e){p[e]?p[e].prototype.requireIndicators():(a.allLoaded=!1,a.needed=e)}),a},init:function(e,a){var u=this,t=u.requireIndicators();if(!t.allLoaded)return s(h(u.type,t.needed));function i(){var e,a,t,i,n,r,s=u.points||[],o=(u.xData||[]).length,d=u.getValues(u.linkedParent,u.options.params)||{values:[],xData:[],yData:[]},p=[],c=!0;if(o&&!u.hasGroupedData&&u.visible&&u.points)if(u.cropped){for(u.xAxis&&(i=u.xAxis.min,n=u.xAxis.max),t=u.cropData(d.xData,d.yData,i,n),r=0;r<t.xData.length;r++)p.push([t.xData[r]].concat(l(t.yData[r])));e=d.xData.indexOf(u.xData[0]),a=d.xData.indexOf(u.xData[u.xData.length-1]),-1===e&&a===d.xData.length-2&&p[0][0]===s[0].x&&p.shift(),u.updateData(p)}else d.xData.length!==o-1&&d.xData.length!==o+1&&(c=!1,u.updateData(d.values));c&&(u.xData=d.xData,u.yData=d.yData,u.options.data=d.values),!1===u.bindTo.series&&(delete u.processedXData,u.isDirty=!0,u.redraw()),u.isDirtyData=!1}if(d.prototype.init.call(u,e,a),e.linkSeries(),u.dataEventsToUnbind=[],!u.linkedParent)return s("Series "+u.options.linkedTo+" not found! Check `linkedTo`.",!1,e);if(u.dataEventsToUnbind.push(r(u.bindTo.series?u.linkedParent:u.linkedParent.xAxis,u.bindTo.eventName,i)),"init"===u.calculateOn)i();else var n=r(u.chart,u.calculateOn,function(){i(),n()});return u},getName:function(){var e=this.name,t=[];return e||((this.nameComponents||[]).forEach(function(e,a){t.push(this.options.params[e]+n(this.nameSuffixes[a],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+t.join(", ")+")":"")),e},getValues:function(e,a){var t,i,n=a.period,r=e.xData,s=e.yData,o=s.length,d=0,p=0,c=[],u=[],l=[],h=-1;if(!(r.length<n)){for(f(s[0])&&(h=a.index?a.index:0);d<n-1;)p+=h<0?s[d]:s[d][h],d++;for(t=d;t<o;t++)p+=h<0?s[t]:s[t][h],i=[r[t],p/n],c.push(i),u.push(i[0]),l.push(i[1]),p-=h<0?s[t-d]:s[t-d][h];return{values:c,xData:u,yData:l}}},destroy:function(){this.dataEventsToUnbind.forEach(function(e){e()}),d.prototype.destroy.apply(this,arguments)}})}),t(a,"masters/indicators/indicators.src.js",[],function(){})});