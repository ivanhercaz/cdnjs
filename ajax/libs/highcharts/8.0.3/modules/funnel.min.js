!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,a){t.hasOwnProperty(e)||(t[e]=a.apply(null,i))}e(t=t?t._modules:{},"modules/funnel.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["parts/Globals.js"]],function(p,t,i){var Y=t.pick;t=p.seriesType;var r=p.seriesTypes,j=p.fireEvent,e=p.addEvent,E=p.noop;t("funnel","pie",{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}},{animate:E,translate:function(){function t(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}var e=0,a=this,i=a.chart,n=a.options,o=n.reversed,s=n.ignoreHiddenPoint,l=i.plotWidth;i=i.plotHeight;var r,h=0,d=n.center,c=t(d[0],l),p=t(d[1],i),g=t(n.width,l),u=t(n.height,i),f=t(n.neckWidth,l),b=t(n.neckHeight,i),m=p-u/2+u-b;l=a.data;var v,y,L,W,A,x,D,H,k,w="left"===n.dataLabels.position?1:0;a.getWidthAt=function(t){return m<t||u===b?f:f+(g-f)*(1-(t-(p-u/2))/(u-b))},a.getX=function(t,e,i){return c+(e?-1:1)*(a.getWidthAt(o?2*p-t:t)/2+i.labelDistance)},a.center=[c,p,u],a.centerX=c,l.forEach(function(t){s&&!1===t.visible||(e+=t.y)}),l.forEach(function(t){k=null,y=e?t.y/e:0,D=(W=p-u/2+h*u)+y*u,r=a.getWidthAt(W),A=(L=c-r/2)+r,r=a.getWidthAt(D),H=(x=c-r/2)+r,m<W?(L=x=c-f/2,A=H=c+f/2):m<D&&(k=D,r=a.getWidthAt(m),H=(x=c-r/2)+r,D=m),o&&(W=2*p-W,D=2*p-D,null!==k&&(k=2*p-k)),v=["M",L,W,"L",A,W,H,D],null!==k&&v.push(H,k,x,k),v.push(x,D,"Z"),t.shapeType="path",t.shapeArgs={d:v},t.percentage=100*y,t.plotX=c,t.plotY=(W+(k||D))/2,t.tooltipPos=[c,t.plotY],t.dlBox={x:x,y:W,topWidth:A-L,bottomWidth:H-x,height:Math.abs(Y(k,D)-W),width:NaN},t.slice=E,t.half=w,s&&!1===t.visible||(h+=y)}),j(a,"afterTranslate")},sortByAngle:function(t){t.sort(function(t,e){return t.plotY-e.plotY})},drawDataLabels:function(){var t,e=this.data,i=this.options.dataLabels.distance,a=e.length;for(this.center[2]-=2*i;a--;){var n=e[a],o=(t=n.half)?1:-1,s=n.plotY;n.labelDistance=Y(n.options.dataLabels&&n.options.dataLabels.distance,i),this.maxLabelDistance=Math.max(n.labelDistance,this.maxLabelDistance||0);var l=this.getX(s,t,n);n.labelPosition={natural:{x:0,y:s},final:{},alignment:t?"right":"left",connectorPosition:{breakAt:{x:l+(n.labelDistance-5)*o,y:s},touchingSliceAt:{x:l+n.labelDistance*o,y:s}}}}r[this.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},alignDataLabel:function(t,e,i,a,n){var o=t.series;a=o.options.reversed;var s=t.dlBox||t.shapeArgs,l=i.align,r=i.verticalAlign,h=((o.options||{}).dataLabels||{}).inside,d=o.center[1];o=o.getWidthAt((a?2*d-t.plotY:t.plotY)-s.height/2+e.height),o="middle"===r?(s.topWidth-s.bottomWidth)/4:(o-s.bottomWidth)/2,d=s.y;var c=s.x;"middle"===r?d=s.y-s.height/2+e.height/2:"top"===r&&(d=s.y-s.height+e.height+i.padding),("top"===r&&!a||"bottom"===r&&a||"middle"===r)&&("right"===l?c=s.x-i.padding+o:"left"===l&&(c=s.x+i.padding-o)),a={x:c,y:a?d-s.height:d,width:s.bottomWidth,height:s.height},i.verticalAlign="bottom",h&&!t.visible||p.Series.prototype.alignDataLabel.call(this,t,e,i,a,n),h&&(!t.visible&&t.dataLabel&&(t.dataLabel.placed=!1),t.contrastColor&&e.css({color:t.contrastColor}))}}),e(p.Chart,"afterHideAllOverlappingLabels",function(){this.series.forEach(function(t){var e=t.options&&t.options.dataLabels;i.isArray(e)&&(e=e[0]),t.is("pie")&&t.placeDataLabels&&e&&!e.inside&&t.placeDataLabels()})}),t("pyramid","funnel",{neckWidth:"0%",neckHeight:"0%",reversed:!0})}),e(t,"masters/modules/funnel.src.js",[],function(){})});