"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/item-series",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var i=t?t._modules:{};function e(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e))}e(i,"modules/item-series.src.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,i){var C=i.defined,L=i.extend,e=i.isNumber,s=i.merge,P=i.objectEach,R=i.pick,o=i.seriesType,r=t.fireEvent,n=t.seriesTypes.pie.prototype.pointClass.prototype;o("item","pie",{endAngle:void 0,innerSize:"40%",itemPadding:.1,layout:"vertical",marker:s(t.defaultOptions.plotOptions.line.marker,{radius:null}),rows:void 0,showInLegend:!0,startAngle:void 0},{markerAttribs:void 0,translate:function(){this.slots||(this.slots=[]),e(this.options.startAngle)&&e(this.options.endAngle)?(t.seriesTypes.pie.prototype.translate.call(this),this.slots=this.getSlots()):(this.generatePoints(),r(this,"afterTranslate"))},getSlots:function(){for(var t,s,o,i,e,r,n,a,h,l,c,u,d,p=this.center,f=p[2],g=p[3],m=this.slots,y=0,v=this.endAngleRad-this.startAngleRad,b=Number.MAX_VALUE,w=this.options.rows,M=(f-g)/f;b>this.total;)for(c=b,b=m.length=0,u=d,d=[],l=f/++y/2,w?0<=(g=(l-w)/l*f)?l=w:(g=0,M=1):l=Math.floor(l*M),t=l;0<t;t--)e=v*(i=(g+t/l*(f-g-y))/2),r=Math.ceil(e/y),d.push({rowRadius:i,rowLength:e,colCount:r}),b+=r+1;if(u){for(var A=c-this.total;0<A;)u.map(function(t){return{angle:t.colCount/t.rowLength,row:t}}).sort(function(t,i){return i.angle-t.angle}).slice(0,Math.min(A,Math.ceil(u.length/2))).forEach(E);return u.forEach(function(t){var i=t.rowRadius,e=t.colCount;for(n=e?v/e:0,h=0;h<=e;h+=1)a=this.startAngleRad+h*n,s=p[0]+Math.cos(a)*i,o=p[1]+Math.sin(a)*i,m.push({x:s,y:o,angle:a})},this),m.sort(function(t,i){return t.angle-i.angle}),this.itemSize=y,m}function E(t){0<A&&(t.row.colCount--,A--)}},getRows:function(){var t,i=this.options.rows;if(!i)if(t=this.chart.plotWidth/this.chart.plotHeight,i=Math.sqrt(this.total),1<t)for(i=Math.ceil(i);0<i&&!(t<this.total/i/i);)i--;else for(i=Math.floor(i);i<this.total&&!(this.total/i/i<t);)i++;return i},drawPoints:function(){var g=this,m=this.options,y=g.chart.renderer,v=m.marker,b=this.borderWidth%2?.5:1,w=0,M=this.getRows(),A=Math.ceil(this.total/M),E=this.chart.plotWidth/A,S=this.chart.plotHeight/M,k=this.itemSize||Math.min(E,S);this.points.forEach(function(t){var i,e,s,o,r,n,a,h=t.marker||{},l=h.symbol||v.symbol,c=R(h.radius,v.radius),u=C(c)?2*c:k,d=u*m.itemPadding;if(t.graphics=e=t.graphics||{},g.chart.styledMode||(s=g.pointAttribs(t,t.selected&&"select")),!t.isNull&&t.visible){t.graphic||(t.graphic=y.g("point").add(g.group));for(var p=0;p<t.y;p++){if(g.center&&g.slots){var f=g.slots.shift();o=f.x-k/2,r=f.y-k/2}else r="horizontal"===m.layout?(o=w%A*E,S*Math.floor(w/A)):(o=E*Math.floor(w/M),w%M*S);o+=d,r+=d,a=n=Math.round(u-2*d),g.options.crisp&&(o=Math.round(o)-b,r=Math.round(r)+b),i={x:o,y:r,width:n,height:a},void 0!==c&&(i.r=c),e[p]?e[p].animate(i):e[p]=y.symbol(l,null,null,null,null,{backgroundSize:"within"}).attr(L(i,s)).add(t.graphic),e[p].isActive=!0,w++}}P(e,function(t,i){t.isActive?t.isActive=!1:(t.destroy(),delete e[i])})})},drawDataLabels:function(){this.center&&this.slots?t.seriesTypes.pie.prototype.drawDataLabels.call(this):this.points.forEach(function(t){t.destroyElements({dataLabel:1})})},animate:function(t){t?this.group.attr({opacity:0}):this.group.animate({opacity:1},this.options.animation)}},{connectorShapes:n.connectorShapes,getConnectorPath:n.getConnectorPath,setVisible:n.setVisible,getTranslate:n.getTranslate})}),e(i,"masters/modules/item-series.src.js",[],function(){})});