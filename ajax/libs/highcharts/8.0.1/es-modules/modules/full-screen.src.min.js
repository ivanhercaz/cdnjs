"use strict";import H from"../parts/Globals.js";var addEvent=H.addEvent,Chart=H.Chart,Fullscreen=function(){function e(e){if(this.chart=e,this.isOpen=!1,e.container.parentNode instanceof Element){var n=e.container.parentNode;this.browserProps||("function"==typeof n.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:n.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:n.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:n.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}}return e.prototype.close=function(){var e=this.chart;this.isOpen&&this.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&this.unbindFullscreenEvent(),this.isOpen=!1,this.setButtonText()},e.prototype.open=function(){var e=this,n=e.chart;if(e.browserProps){if(e.unbindFullscreenEvent=H.addEvent(n.container.ownerDocument,e.browserProps.fullscreenChange,function(){e.isOpen?(e.isOpen=!1,e.close()):(e.isOpen=!0,e.setButtonText())}),n.container.parentNode instanceof Element){var t=n.container.parentNode[e.browserProps.requestFullscreen]();t&&t.catch(function(){alert("Full screen is not supported inside a frame.")})}H.addEvent(n,"destroy",e.unbindFullscreenEvent)}},e.prototype.setButtonText=function(){var e,n,t,s,r=this.chart,l=r.exportDivElements,i=r.options.exporting,o=null===(n=null===(e=i)||void 0===e?void 0:e.buttons)||void 0===n?void 0:n.contextButton.menuItems,u=r.options.lang;(null===(t=i)||void 0===t?void 0:t.menuItemDefinitions)&&(null===(s=u)||void 0===s?void 0:s.exitFullscreen)&&u.viewFullscreen&&o&&l&&l.length&&(l[o.indexOf("viewFullscreen")].innerHTML=this.isOpen?u.exitFullscreen:i.menuItemDefinitions.viewFullscreen.text||u.viewFullscreen)},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e}();H.Fullscreen=Fullscreen;export default H.Fullscreen;addEvent(Chart,"beforeRender",function(){this.fullscreen=new H.Fullscreen(this)});