!function(n){"object"==typeof module&&module.exports?module.exports=n.default=n:"function"==typeof define&&define.amd?define("highcharts/indicators/regressions",["highcharts","highcharts/modules/stock"],function(e){return n(e),n.Highcharts=e,n}):n("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function n(e,n,t,r){e.hasOwnProperty(n)||(e[n]=r.apply(null,t))}n(e=e?e._modules:{},"indicators/regressions.src.js",[e["parts/Utilities.js"]],function(e){var l=e.isArray;(e=e.seriesType)("linearRegression","sma",{params:{xAxisUnit:void 0},tooltip:{valueDecimals:4}},{nameBase:"Linear Regression Indicator",getRegressionLineParameters:function(e,n){function t(e,n){return l(e)?e[n]:e}var r=this.options.params.index,i=e.reduce(function(e,n){return n+e},0),s=n.reduce(function(e,n){return t(n,r)+e},0);i/=e.length,s/=n.length;var o,a=0,c=0;for(o=0;o<e.length;o++){var u=e[o]-i;a+=u*(t(n[o],r)-s),c+=Math.pow(u,2)}return{slope:e=c?a/c:0,intercept:s-e*i}},getEndPointY:function(e,n){return e.slope*n+e.intercept},transformXData:function(e,n){var t=e[0];return e.map(function(e){return(e-t)/n})},findClosestDistance:function(e){var n,t;for(t=1;t<e.length-1;t++){var r=e[t]-e[t-1];0<r&&(void 0===n||r<n)&&(n=r)}return n},getValues:function(e,n){var t=e.xData;e=e.yData,n=n.period;var r,i={xData:[],yData:[],values:[]},s=this.options.params.xAxisUnit||this.findClosestDistance(t);for(r=n-1;r<=t.length-1;r++){var o=r-n+1,a=r+1,c=t[r],u=t.slice(o,a);o=e.slice(o,a),a=this.transformXData(u,s),u=this.getRegressionLineParameters(a,o),o=this.getEndPointY(u,a[a.length-1]),i.values.push({regressionLineParameters:u,x:c,y:o}),i.xData.push(c),i.yData.push(o)}return i}}),e("linearRegressionSlope","linearRegression",{},{nameBase:"Linear Regression Slope Indicator",getEndPointY:function(e){return e.slope}}),e("linearRegressionIntercept","linearRegression",{},{nameBase:"Linear Regression Intercept Indicator",getEndPointY:function(e){return e.intercept}}),e("linearRegressionAngle","linearRegression",{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}},{nameBase:"Linear Regression Angle Indicator",slopeToAngle:function(e){return 180/Math.PI*Math.atan(e)},getEndPointY:function(e){return this.slopeToAngle(e.slope)}})}),n(e,"masters/indicators/regressions.src.js",[],function(){})});