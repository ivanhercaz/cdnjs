!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e))}i(t=t?t._modules:{},"parts-gantt/GridAxis.js",[t["parts/Globals.js"],t["parts/Tick.js"],t["parts/Utilities.js"]],function(t,i,e){function x(t){return e.isObject(t,!0)}var s=e.addEvent,n=e.defined,h=e.erase,l=e.find,g=e.isArray,m=e.isNumber,d=e.merge,p=e.pick,c=e.timeUnits,f=e.wrap,o=t.dateFormat,a=t.Chart,u=t.Axis,k={top:0,right:1,bottom:2,left:3,0:"top",1:"right",2:"bottom",3:"left"};u.prototype.isOuterAxis=function(){var e=this,t=e.columnIndex,i=e.linkedParent&&e.linkedParent.columns||e.columns,s=t?e.linkedParent:e,n=-1,o=0;return e.chart[e.coll].forEach(function(t,i){t.side!==e.side||t.options.isInternal||(o=i,t===s&&(n=i))}),o===n&&(!m(t)||i.length===t)},u.prototype.getMaxLabelDimensions=function(e,t){var s={width:0,height:0};return t.forEach(function(t){if(t=e[t],x(t)){var i=x(t.label)?t.label:{};t=i.getBBox?i.getBBox().height:0,i.textStr&&!m(i.textPxLength)&&(i.textPxLength=i.getBBox().width),i=m(i.textPxLength)?Math.round(i.textPxLength):0,s.height=Math.max(t,s.height),s.width=Math.max(i,s.width)}}),s},t.dateFormats.W=function(t){t=new this.Date(t);var i=(this.get("Day",t)+6)%7,e=new this.Date(t.valueOf());return this.set("Date",e,this.get("Date",t)-i+3),i=new this.Date(this.get("FullYear",e),0,1),4!==this.get("Day",i)&&(this.set("Month",t,0),this.set("Date",t,1+(11-this.get("Day",i))%7)),(1+Math.floor((e.valueOf()-i.valueOf())/6048e5)).toString()},t.dateFormats.E=function(t){return o("%a",t,!0).charAt(0)},s(i,"afterGetLabelPosition",function(t){var i=this.label,e=this.axis,s=e.reversed,n=e.chart,o=e.options,a=o&&x(o.grid)?o.grid:{},r=(o=e.options.labels).align,h=k[e.side],l=t.tickmarkOffset,d=e.tickPositions,c=this.pos-l;d=m(d[t.index+1])?d[t.index+1]-l:e.max+l;var f=e.tickSize("tick",!0);if(l=g(f)?f[0]:0,f=f&&f[1]/2,!0===a.enabled){if("top"===h)var u=(a=e.top+e.offset)-l;else"bottom"===h?a=(u=n.chartHeight-e.bottom+e.offset)+l:(a=e.top+e.len-e.translate(s?d:c),u=e.top+e.len-e.translate(s?c:d));"right"===h?s=(h=n.chartWidth-e.right+e.offset)+l:"left"===h?h=(s=e.left+e.offset)-l:(h=Math.round(e.left+e.translate(s?d:c))-f,s=Math.round(e.left+e.translate(s?c:d))-f),this.slotWidth=s-h,t.pos.x="left"===r?h:"right"===r?s:h+(s-h)/2,t.pos.y=u+(a-u)/2,n=n.renderer.fontMetrics(o.style.fontSize,i.element),i=i.getBBox().height,o.useHTML?t.pos.y+=n.b+-i/2:(i=Math.round(i/n.h),t.pos.y+=(n.b-(n.h-n.f))/2+-(i-1)*n.h/2),t.pos.x+=e.horiz&&o.x||0}}),s(u,"afterTickSize",function(t){var i=this.defaultLeftAxisOptions,e=this.horiz,s=this.options.grid;s=void 0===s?{}:s;var n=this.maxLabelDimensions;s.enabled&&(i=2*Math.abs(i.labels.x),e=e?s.cellHeight||i+n.height:i+n.width,g(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e])}),s(u,"afterGetTitlePosition",function(t){var i=this.options;if(!0===(i&&x(i.grid)?i.grid:{}).enabled){var e=this.axisTitle,s=e&&e.getBBox().width,n=this.horiz,o=this.left,a=this.top,r=this.width,h=this.height,l=i.title;i=this.opposite;var d=this.offset,c=this.tickSize()||[0],f=l.x||0,u=l.y||0,g=p(l.margin,n?5:10);e=this.chart.renderer.fontMetrics(l.style&&l.style.fontSize,e).f,c=(n?a+h:o)+c[0]/2*(i?-1:1)*(n?1:-1)+(this.side===k.bottom?e:0),t.titlePosition.x=n?o-s/2-g+f:c+(i?r:0)+d+f,t.titlePosition.y=n?c-(i?h:0)+(i?e:-e)/2+d+u:a-g+u}}),f(u.prototype,"unsquish",function(t){var i=this.options;return!0===(i&&x(i.grid)?i.grid:{}).enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}),s(u,"afterSetOptions",function(t){var i=this.options;t=t.userOptions;var e=i&&x(i.grid)?i.grid:{};if(!0===e.enabled){var h=d(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t);"xAxis"===this.coll&&(n(t.linkedTo)&&!n(t.tickPixelInterval)&&(h.tickPixelInterval=350),n(t.tickPixelInterval)||!n(t.linkedTo)||n(t.tickPositioner)||n(t.tickInterval)||(h.tickPositioner=function(t,i){var e=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(e){var s,n=h.units;for(s=0;s<n.length;s++)if(n[s][0]===e.unitName){var o=s;break}if(n[o+1])var a=n[o+1][0],r=(n[o+1][1]||[1])[0];else"year"===e.unitName&&(a="year",r=10*e.count);return e=c[a],this.tickInterval=e*r,this.getTimeTicks({unitRange:e,count:r,unitName:a},t,i,this.options.startOfWeek)}})),d(!0,this.options,h),this.horiz&&(i.minPadding=p(t.minPadding,0),i.maxPadding=p(t.maxPadding,0)),m(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=e.borderWidth)}}),s(u,"afterSetAxisTranslation",function(){var t=this.options,i=t&&x(t.grid)?t.grid:{},e=this.tickPositions&&this.tickPositions.info,s=this.userOptions.labels||{};this.horiz&&(!0===i.enabled&&this.series.forEach(function(t){t.options.pointRange=0}),e&&(!1===t.dateTimeLabelFormats[e.unitName].range||1<e.count)&&!n(s.align)&&(t.labels.align="left",n(s.x)||(t.labels.x=3)))}),s(u,"trimTicks",function(){var t=this.options,i=t&&x(t.grid)?t.grid:{},e=this.categories,s=this.tickPositions,n=s[0],o=s[s.length-1],a=this.linkedParent&&this.linkedParent.min||this.min,r=this.linkedParent&&this.linkedParent.max||this.max,h=this.tickInterval;!0!==i.enabled||e||!this.horiz&&!this.isLinked||(n<a&&a<n+h&&!t.startOnTick&&(s[0]=a),r<o&&o-h<r&&!t.endOnTick&&(s[s.length-1]=r))}),s(u,"afterRender",function(){var t=this.options,i=t&&x(t.grid)?t.grid:{},e=this.chart.renderer;if(!0===i.enabled){if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.isOuterAxis()&&this.axisLine){var s=t.lineWidth;if(s){var n=this.getLinePath(s),o=n.indexOf("M")+1,a=n.indexOf("L")+1;i=n.indexOf("M")+2;var r=n.indexOf("L")+2,h=(this.tickSize("tick")[0]-1)*(this.side===k.top||this.side===k.left?-1:1);this.horiz?(n[i]+=h,n[r]+=h):(n[o]+=h,n[a]+=h),this.axisLineExtra?this.axisLineExtra.animate({d:n}):(this.axisLineExtra=e.path(n).attr({zIndex:7}).addClass("highcharts-axis-line").add(this.axisGroup),e.styledMode||this.axisLineExtra.attr({stroke:t.lineColor,"stroke-width":s})),this.axisLine[this.showAxis?"show":"hide"](!0)}}(this.columns||[]).forEach(function(t){t.render()})}});var r={afterGetOffset:function(){(this.columns||[]).forEach(function(t){t.getOffset()})},afterInit:function(){var t,i,e=this.chart,s=this.userOptions,n=this.options;if((n=n&&x(n.grid)?n.grid:{}).enabled&&((i=(t=this).options).labels||(i.labels={}),i.labels.align=p(i.labels.align,"center"),t.categories||(i.showLastLabel=!1),t.labelRotation=0,i.labels.rotation=0,f(this,"labelFormatter",function(t){var i=this.axis,e=i.tickPositions,s=this.value,n=(i.isLinked?i.linkedParent:i).series[0],o=s===e[0];return e=s===e[e.length-1],n=n&&l(n.options.data,function(t){return t[i.isXAxis?"x":"y"]===s}),this.isFirst=o,this.isLast=e,this.point=n,t.call(this)})),n.columns)for(var o=this.columns=[],a=this.columnIndex=0;++a<n.columns.length;){var r=d(s,n.columns[n.columns.length-a-1],{linkedTo:0,type:"category"});delete r.grid.columns,(r=new u(this.chart,r,!0)).isColumn=!0,r.columnIndex=a,h(e.axes,r),h(e[this.coll],r),o.push(r)}},afterSetOptions:function(t){var i=(t=(t=t.userOptions)&&x(t.grid)?t.grid:{}).columns;t.enabled&&i&&d(!0,this.options,i[i.length-1])},afterSetScale:function(){(this.columns||[]).forEach(function(t){t.setScale()})},destroy:function(i){(this.columns||[]).forEach(function(t){t.destroy(i.keepEvents)})},init:function(t){var i=(t=t.userOptions)&&x(t.grid)?t.grid:{};i.enabled&&n(i.borderColor)&&(t.tickColor=t.lineColor=i.borderColor)}};Object.keys(r).forEach(function(t){s(u,t,r[t])}),s(a,"afterSetChartSize",function(){this.axes.forEach(function(t){(t.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})})}),i(t,"masters/modules/grid-axis.src.js",[],function(){})});