!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i))}e(t=t?t._modules:{},"mixins/tree-series.js",[t["parts/Color.js"],t["parts/Utilities.js"]],function(v,t){var d=t.extend,r=t.isArray,a=t.isNumber,l=t.isObject,h=t.merge,m=t.pick;return{getColor:function(t,e){var i,s=e.index,n=e.mapOptionsToLevel,o=e.parentColor,r=e.parentColorIndex,a=e.series,l=e.colors,h=e.siblings,d=a.points,c=a.chart.options.chart;if(t){if(d=d[t.i],t=n[t.level]||{},n=d&&t.colorByPoint)var f=d.index%(l?l.length:c.colorCount),u=l&&l[f];a.chart.styledMode||(l=d&&d.options.color,c=t&&t.color,(i=o)&&(i=(i=t&&t.colorVariation)&&"brightness"===i.key?v.parse(o).brighten(s/h*i.to).get():o),i=m(l,c,u,i,a.color));var p=m(d&&d.options.colorIndex,t&&t.colorIndex,f,r,e.colorIndex)}return{color:i,colorIndex:p}},getLevelOptions:function(t){var e=null;if(l(t)){e={};var n=a(t.from)?t.from:1,i=t.levels,s={},o=l(t.defaults)?t.defaults:{};for(r(i)&&(s=i.reduce(function(t,e){if(l(e)&&a(e.level)){var i=h({},e),s="boolean"==typeof i.levelIsConstant?i.levelIsConstant:o.levelIsConstant;delete i.levelIsConstant,delete i.level,e=e.level+(s?0:n-1),l(t[e])?d(t[e],i):t[e]=i}return t},{})),i=a(t.to)?t.to:1,t=0;t<=i;t++)e[t]=h({},o,l(s[t])?s[t]:{})}return e},setTreeValues:function s(n,o){var t=o.before,e=o.idRoot,i=o.mapIdToNode[e],r=o.points[n.i],a=r&&r.options||{},l=0,h=[];return d(n,{levelDynamic:n.level-("boolean"!=typeof o.levelIsConstant||o.levelIsConstant?0:i.level),name:m(r&&r.name,""),visible:e===n.id||"boolean"==typeof o.visible&&o.visible}),"function"==typeof t&&(n=t(n,o)),n.children.forEach(function(t,e){var i=d({},o);d(i,{index:e,siblings:n.children.length,visible:n.visible}),t=s(t,i),h.push(t),t.visible&&(l+=t.val)}),n.visible=0<l||n.visible,t=m(a.value,l),d(n,{children:h,childrenTotal:l,isLeaf:n.visible&&!l,val:t}),n},updateRootId:function(t){if(l(t)){var e=l(t.options)?t.options:{};e=m(t.rootNode,e.rootId,""),l(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e}return e}}}),e(t,"parts-gantt/Tree.js",[t["parts/Utilities.js"]],function(t){function s(t,s){var n=t.reduce(function(t,e){var i=p(e.parent,"");return void 0===t[i]&&(t[i]=[]),t[i].push(e),t},{});return Object.keys(n).forEach(function(t,e){var i=n[t];""!==t&&-1===s.indexOf(t)&&(i.forEach(function(t){e[""].push(t)}),delete e[t])}),n}var f=t.extend,u=t.isNumber,p=t.pick,v=function(s,t,n,e,o,r){var a,l,h=0,d=0,i=r&&r.after,c=r&&r.before;return t={data:e,depth:n-1,id:s,level:n,parent:t},"function"==typeof c&&c(t,r),c=(o[s]||[]).map(function(t){var e=v(t.id,s,n+1,t,o,r),i=t.start;return t=!0===t.milestone?i:t.end,a=!u(a)||i<a?i:a,l=!u(l)||l<t?t:l,h=h+1+e.descendants,d=Math.max(e.height+1,d),e}),e&&(e.start=p(e.start,a),e.end=p(e.end,l)),f(t,{children:c,descendants:h,height:d}),"function"==typeof i&&i(t,r),t};return{getListOfParents:s,getNode:v,getTree:function(t,e){var i=t.map(function(t){return t.id});return t=s(t,i),v("",null,1,null,t,e)}}}),e(t,"parts-gantt/GridAxis.js",[t["parts/Globals.js"],t["parts/Tick.js"],t["parts/Utilities.js"]],function(t,e,i){function v(t){return i.isObject(t,!0)}var s=i.addEvent,n=i.defined,l=i.erase,h=i.find,p=i.isArray,m=i.isNumber,d=i.merge,g=i.pick,c=i.timeUnits,f=i.wrap,o=t.dateFormat,r=t.Chart,u=t.Axis,x={top:0,right:1,bottom:2,left:3,0:"top",1:"right",2:"bottom",3:"left"};u.prototype.isOuterAxis=function(){var i=this,t=i.columnIndex,e=i.linkedParent&&i.linkedParent.columns||i.columns,s=t?i.linkedParent:i,n=-1,o=0;return i.chart[i.coll].forEach(function(t,e){t.side!==i.side||t.options.isInternal||(o=e,t===s&&(n=e))}),o===n&&(!m(t)||e.length===t)},u.prototype.getMaxLabelDimensions=function(i,t){var s={width:0,height:0};return t.forEach(function(t){if(t=i[t],v(t)){var e=v(t.label)?t.label:{};t=e.getBBox?e.getBBox().height:0,e.textStr&&!m(e.textPxLength)&&(e.textPxLength=e.getBBox().width),e=m(e.textPxLength)?Math.round(e.textPxLength):0,s.height=Math.max(t,s.height),s.width=Math.max(e,s.width)}}),s},t.dateFormats.W=function(t){t=new this.Date(t);var e=(this.get("Day",t)+6)%7,i=new this.Date(t.valueOf());return this.set("Date",i,this.get("Date",t)-e+3),e=new this.Date(this.get("FullYear",i),0,1),4!==this.get("Day",e)&&(this.set("Month",t,0),this.set("Date",t,1+(11-this.get("Day",e))%7)),(1+Math.floor((i.valueOf()-e.valueOf())/6048e5)).toString()},t.dateFormats.E=function(t){return o("%a",t,!0).charAt(0)},s(e,"afterGetLabelPosition",function(t){var e=this.label,i=this.axis,s=i.reversed,n=i.chart,o=i.options,r=o&&v(o.grid)?o.grid:{},a=(o=i.options.labels).align,l=x[i.side],h=t.tickmarkOffset,d=i.tickPositions,c=this.pos-h;d=m(d[t.index+1])?d[t.index+1]-h:i.max+h;var f=i.tickSize("tick",!0);if(h=p(f)?f[0]:0,f=f&&f[1]/2,!0===r.enabled){if("top"===l)var u=(r=i.top+i.offset)-h;else"bottom"===l?r=(u=n.chartHeight-i.bottom+i.offset)+h:(r=i.top+i.len-i.translate(s?d:c),u=i.top+i.len-i.translate(s?c:d));"right"===l?s=(l=n.chartWidth-i.right+i.offset)+h:"left"===l?l=(s=i.left+i.offset)-h:(l=Math.round(i.left+i.translate(s?d:c))-f,s=Math.round(i.left+i.translate(s?c:d))-f),this.slotWidth=s-l,t.pos.x="left"===a?l:"right"===a?s:l+(s-l)/2,t.pos.y=u+(r-u)/2,n=n.renderer.fontMetrics(o.style.fontSize,e.element),e=e.getBBox().height,o.useHTML?t.pos.y+=n.b+-e/2:(e=Math.round(e/n.h),t.pos.y+=(n.b-(n.h-n.f))/2+-(e-1)*n.h/2),t.pos.x+=i.horiz&&o.x||0}}),s(u,"afterTickSize",function(t){var e=this.defaultLeftAxisOptions,i=this.horiz,s=this.options.grid;s=void 0===s?{}:s;var n=this.maxLabelDimensions;s.enabled&&(e=2*Math.abs(e.labels.x),i=i?s.cellHeight||e+n.height:e+n.width,p(t.tickSize)?t.tickSize[0]=i:t.tickSize=[i])}),s(u,"afterGetTitlePosition",function(t){var e=this.options;if(!0===(e&&v(e.grid)?e.grid:{}).enabled){var i=this.axisTitle,s=i&&i.getBBox().width,n=this.horiz,o=this.left,r=this.top,a=this.width,l=this.height,h=e.title;e=this.opposite;var d=this.offset,c=this.tickSize()||[0],f=h.x||0,u=h.y||0,p=g(h.margin,n?5:10);i=this.chart.renderer.fontMetrics(h.style&&h.style.fontSize,i).f,c=(n?r+l:o)+c[0]/2*(e?-1:1)*(n?1:-1)+(this.side===x.bottom?i:0),t.titlePosition.x=n?o-s/2-p+f:c+(e?a:0)+d+f,t.titlePosition.y=n?c-(e?l:0)+(e?i:-i)/2+d+u:r-p+u}}),f(u.prototype,"unsquish",function(t){var e=this.options;return!0===(e&&v(e.grid)?e.grid:{}).enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}),s(u,"afterSetOptions",function(t){var e=this.options;t=t.userOptions;var i=e&&v(e.grid)?e.grid:{};if(!0===i.enabled){var l=d(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t);"xAxis"===this.coll&&(n(t.linkedTo)&&!n(t.tickPixelInterval)&&(l.tickPixelInterval=350),n(t.tickPixelInterval)||!n(t.linkedTo)||n(t.tickPositioner)||n(t.tickInterval)||(l.tickPositioner=function(t,e){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){var s,n=l.units;for(s=0;s<n.length;s++)if(n[s][0]===i.unitName){var o=s;break}if(n[o+1])var r=n[o+1][0],a=(n[o+1][1]||[1])[0];else"year"===i.unitName&&(r="year",a=10*i.count);return i=c[r],this.tickInterval=i*a,this.getTimeTicks({unitRange:i,count:a,unitName:r},t,e,this.options.startOfWeek)}})),d(!0,this.options,l),this.horiz&&(e.minPadding=g(t.minPadding,0),e.maxPadding=g(t.maxPadding,0)),m(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=i.borderWidth)}}),s(u,"afterSetAxisTranslation",function(){var t=this.options,e=t&&v(t.grid)?t.grid:{},i=this.tickPositions&&this.tickPositions.info,s=this.userOptions.labels||{};this.horiz&&(!0===e.enabled&&this.series.forEach(function(t){t.options.pointRange=0}),i&&(!1===t.dateTimeLabelFormats[i.unitName].range||1<i.count)&&!n(s.align)&&(t.labels.align="left",n(s.x)||(t.labels.x=3)))}),s(u,"trimTicks",function(){var t=this.options,e=t&&v(t.grid)?t.grid:{},i=this.categories,s=this.tickPositions,n=s[0],o=s[s.length-1],r=this.linkedParent&&this.linkedParent.min||this.min,a=this.linkedParent&&this.linkedParent.max||this.max,l=this.tickInterval;!0!==e.enabled||i||!this.horiz&&!this.isLinked||(n<r&&r<n+l&&!t.startOnTick&&(s[0]=r),a<o&&o-l<a&&!t.endOnTick&&(s[s.length-1]=a))}),s(u,"afterRender",function(){var t=this.options,e=t&&v(t.grid)?t.grid:{},i=this.chart.renderer;if(!0===e.enabled){if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.isOuterAxis()&&this.axisLine){var s=t.lineWidth;if(s){var n=this.getLinePath(s),o=n.indexOf("M")+1,r=n.indexOf("L")+1;e=n.indexOf("M")+2;var a=n.indexOf("L")+2,l=(this.tickSize("tick")[0]-1)*(this.side===x.top||this.side===x.left?-1:1);this.horiz?(n[e]+=l,n[a]+=l):(n[o]+=l,n[r]+=l),this.axisLineExtra?this.axisLineExtra.animate({d:n}):(this.axisLineExtra=i.path(n).attr({zIndex:7}).addClass("highcharts-axis-line").add(this.axisGroup),i.styledMode||this.axisLineExtra.attr({stroke:t.lineColor,"stroke-width":s})),this.axisLine[this.showAxis?"show":"hide"](!0)}}(this.columns||[]).forEach(function(t){t.render()})}});var a={afterGetOffset:function(){(this.columns||[]).forEach(function(t){t.getOffset()})},afterInit:function(){var t,e,i=this.chart,s=this.userOptions,n=this.options;if((n=n&&v(n.grid)?n.grid:{}).enabled&&((e=(t=this).options).labels||(e.labels={}),e.labels.align=g(e.labels.align,"center"),t.categories||(e.showLastLabel=!1),t.labelRotation=0,e.labels.rotation=0,f(this,"labelFormatter",function(t){var e=this.axis,i=e.tickPositions,s=this.value,n=(e.isLinked?e.linkedParent:e).series[0],o=s===i[0];return i=s===i[i.length-1],n=n&&h(n.options.data,function(t){return t[e.isXAxis?"x":"y"]===s}),this.isFirst=o,this.isLast=i,this.point=n,t.call(this)})),n.columns)for(var o=this.columns=[],r=this.columnIndex=0;++r<n.columns.length;){var a=d(s,n.columns[n.columns.length-r-1],{linkedTo:0,type:"category"});delete a.grid.columns,(a=new u(this.chart,a,!0)).isColumn=!0,a.columnIndex=r,l(i.axes,a),l(i[this.coll],a),o.push(a)}},afterSetOptions:function(t){var e=(t=(t=t.userOptions)&&v(t.grid)?t.grid:{}).columns;t.enabled&&e&&d(!0,this.options,e[e.length-1])},afterSetScale:function(){(this.columns||[]).forEach(function(t){t.setScale()})},destroy:function(e){(this.columns||[]).forEach(function(t){t.destroy(e.keepEvents)})},init:function(t){var e=(t=t.userOptions)&&v(t.grid)?t.grid:{};e.enabled&&n(e.borderColor)&&(t.tickColor=t.lineColor=e.borderColor)}};Object.keys(a).forEach(function(t){s(u,t,a[t])}),s(r,"afterSetChartSize",function(){this.axes.forEach(function(t){(t.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})})}),e(t,"modules/broken-axis.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(r,t){var e=t.addEvent,i=t.extend,s=t.find,f=t.fireEvent,n=t.isArray,u=t.pick,p=r.Axis;t=r.Series;function a(e,t){return s(t,function(t){return t.from<e&&e<t.to})}i(p.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,s=t.from,n=t.to-t.from;return e=s<=e?(e-s)%i:i-(s-e)%i,t.inclusive?e<=n:e<n&&0!==e},isInAnyBreak:function(t,e){var i,s=this.options.breaks,n=s&&s.length;if(n){for(;n--;)if(this.isInBreak(s[n],t)){var o=!0;i=i||u(s[n].showPoints,!this.isXAxis)}var r=o&&e?o&&!i:o}return r}}),e(p,"afterInit",function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)}),e(p,"afterSetTickPositions",function(){if(this.isBroken){var t,e=this.tickPositions,i=this.tickPositions.info,s=[];for(t=0;t<e.length;t++)this.isInAnyBreak(e[t])||s.push(e[t]);this.tickPositions=s,this.tickPositions.info=i}}),e(p,"afterSetOptions",function(){this.isBroken&&(this.options.ordinal=!1)}),p.prototype.setBreaks=function(t,e){function i(t){var e,i=t;for(e=0;e<c.breakArray.length;e++){var s=c.breakArray[e];if(s.to<=t)i-=s.len;else{if(s.from>=t)break;if(c.isInBreak(s,t)){i-=t-s.from;break}}}return i}var c=this,s=n(t)&&!!t.length;c.isDirty=c.isBroken!==s,c.isBroken=s,c.options.breaks=c.userOptions.breaks=t,c.forceRedraw=!0,c.series.forEach(function(t){t.isDirty=!0}),s||c.val2lin!==i||(delete c.val2lin,delete c.lin2val),s&&(c.userOptions.ordinal=!1,c.val2lin=i,c.lin2val=function(t){var e;for(e=0;e<c.breakArray.length;e++){var i=c.breakArray[e];if(i.from>=t)break;i.to<t?t+=i.len:c.isInBreak(i,t)&&(t+=i.len)}return t},c.setExtremes=function(t,e,i,s,n){if(this.isBroken){for(var o,r=this.options.breaks;o=a(t,r);)t=o.to;for(;o=a(e,r);)e=o.from;e<t&&(e=t)}p.prototype.setExtremes.call(this,t,e,i,s,n)},c.setAxisTranslation=function(t){if(p.prototype.setAxisTranslation.call(this,t),this.unitLength=null,this.isBroken){t=c.options.breaks;var e,i,s=[],n=[],o=0,r=c.userMin||c.min,a=c.userMax||c.max,l=u(c.pointRangePadding,0);t.forEach(function(t){e=t.repeat||1/0,c.isInBreak(t,r)&&(r+=t.to%e-r%e),c.isInBreak(t,a)&&(a-=a%e-t.from%e)}),t.forEach(function(t){for(d=t.from,e=t.repeat||1/0;r<d-e;)d-=e;for(;d<r;)d+=e;for(i=d;i<a;i+=e)s.push({value:i,move:"in"}),s.push({value:i+(t.to-t.from),move:"out",size:t.breakSize})}),s.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value});var h=0,d=r;s.forEach(function(t){1===(h+="in"===t.move?1:-1)&&"in"===t.move&&(d=t.value),0===h&&(n.push({from:d,to:t.value,len:t.value-d-(t.size||0)}),o+=t.value-d-(t.size||0))}),c.breakArray=n,c.unitLength=a-r-o+l,f(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:c.unitLength&&(c.transA*=(a-c.min+l)/c.unitLength),l&&(c.minPixelPadding=c.transA*c.minPointOffset),c.min=r,c.max=a}}),u(e,!0)&&this.chart.redraw()},e(t,"afterGeneratePoints",function(){var t=this.options.connectNulls,e=this.points,i=this.xAxis,s=this.yAxis;if(this.isDirty)for(var n=e.length;n--;){var o=e[n],r=!(null===o.y&&!1===t)&&(i&&i.isInAnyBreak(o.x,!0)||s&&s.isInAnyBreak(o.y,!0));o.visible=!r&&!1!==o.options.visible}}),e(t,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,u(this.pointArrayMap,["y"]))}),r.Series.prototype.drawBreaks=function(i,t){var s,n,o,r,e=this,a=e.points;i&&t.forEach(function(t){s=i.breakArray||[],n=i.isXAxis?i.min:u(e.options.threshold,i.min),a.forEach(function(e){r=u(e["stack"+t.toUpperCase()],e[t]),s.forEach(function(t){o=!1,n<t.from&&r>t.to||n>t.from&&r<t.from?o="pointBreak":(n<t.from&&r>t.from&&r<t.to||n>t.from&&r>t.to&&r<t.from)&&(o="pointInBreak"),o&&f(i,o,{point:e,brk:t})})})})},r.Series.prototype.gappedPath=function(){var t=this.currentDataGrouping,e=t&&t.gapSize;t=this.options.gapSize;var i,s=this.points.slice(),n=s.length-1,o=this.yAxis;if(t&&0<n)for("value"!==this.options.gapUnit&&(t*=this.basePointRange),e&&t<e&&e>=this.basePointRange&&(t=e),i=void 0;n--;)i&&!1!==i.visible||(i=s[n+1]),e=s[n],!1!==i.visible&&!1!==e.visible&&(i.x-e.x>t&&(i=(e.x+i.x)/2,s.splice(n+1,0,{isNull:!0,x:i}),this.options.stacking&&((i=o.stacks[this.stackKey][i]=new r.StackItem(o,o.options.stackLabels,!1,i,this.stack)).total=0)),i=e);return this.getGraphPath(s)}}),e(t,"parts-gantt/TreeGrid.js",[t["parts/Globals.js"],t["mixins/tree-series.js"],t["parts/Tick.js"],t["parts-gantt/Tree.js"],t["parts/Utilities.js"]],function(t,e,a,k,i){function f(t){return Array.prototype.slice.call(t,1)}function b(t){return i.isObject(t,!0)}var y=i.addEvent,u=i.defined,s=i.fireEvent,n=i.extend,p=i.isNumber,P=i.isString,O=i.merge,v=i.pick,o=i.wrap,T=i.find,I=e.getLevelOptions;t=t.Axis;function r(t,e){var i=t.collapseStart;return e<=(t=t.collapseEnd)&&(i-=.5),{from:i,to:t,showPoints:!1}}function m(t,e){var i=t.options.breaks||[],s=r(e,t.max);return i.some(function(t){return t.from===s.from&&t.to===s.to})}function E(t,e){var i=t.options.breaks||[];return t=r(e,t.max),i.push(t),i}function l(t,e){var i=t.options.breaks||[],s=r(e,t.max);return i.reduce(function(t,e){return e.to===s.to&&e.from===s.from||t.push(e),t},[])}function h(x){x.target.axes.filter(function(t){return"treegrid"===t.options.type}).forEach(function(e){var t,i,s,n,r,a,l,o,h,d,c,f,u=e.options||{},p=u.labels,v=u.uniqueNames,m=0;if(!e.mapOfPosToGridNode||e.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty})){u=e.series.reduce(function(e,t){return t.visible&&(t.options.data.forEach(function(t){b(t)&&(t.seriesIndex=m,e.push(t))}),!0===v&&m++),e},[]);var g=(i=u,n=!0===(s=v)?m:1,l=[],o=[],h={},d={},c=-1,f="boolean"==typeof s&&s,i=k.getTree(i,{after:function(t){t=d[t.pos];var e=0,i=0;t.children.forEach(function(t){i+=t.descendants+1,e=Math.max(t.height+1,e)}),t.descendants=i,t.height=e,t.collapsed&&o.push(t)},before:function(t){var e=b(t.data)?t.data:{},i=P(e.name)?e.name:"",s=h[t.parent];s=b(s)?d[s.pos]:null;var n,o=function(t){return t.name===i};f&&b(s)&&(n=T(s.children,o))?(o=n.pos,n.nodes.push(t)):o=c++,d[o]||(d[o]=n={depth:s?s.depth+1:0,name:i,nodes:[t],children:[],pos:o},-1!==o&&l.push(i),b(s)&&s.children.push(n)),P(t.id)&&(h[t.id]=t),!0===e.collapsed&&(n.collapsed=!0),t.pos=o}}),r=n,d=(a=function(t,i,e){var s=i+(-1===i?0:r-1),n=(s-i)/2,o=i+n;return t.nodes.forEach(function(t){var e=t.data;b(e)&&(e.y=i+e.seriesIndex,delete e.seriesIndex),t.pos=o}),(e[o]=t).pos=o,t.tickmarkOffset=.5+n,t.collapseStart=s+.5,t.children.forEach(function(t){a(t,s+1,e),s=t.collapseEnd-.5}),t.collapseEnd=s+.5,e})(d[-1],-1,{}),{categories:l,mapOfIdToNode:h,mapOfPosToGridNode:d,collapsedNodes:o,tree:i});e.categories=g.categories,e.mapOfPosToGridNode=g.mapOfPosToGridNode,e.hasNames=!0,e.tree=g.tree,e.series.forEach(function(t){var e=t.options.data.map(function(t){return b(t)?O(t):t});t.visible&&t.setData(e,!1)}),e.mapOptionsToLevel=I({defaults:p,from:1,levels:p.levels,to:e.tree.height}),"beforeRender"===x.type&&(t=y(e,"foundExtremes",function(){g.collapsedNodes.forEach(function(t){t=E(e,t),e.setBreaks(t,!1)}),t()}))}})}(e=function(t,e){var i;for(i in e)if(Object.hasOwnProperty.call(e,i)){var s=e[i];o(t,i,s)}})(t.prototype,{init:function(t,e,i){var s="treegrid"===i.type;s&&(y(e,"beforeRender",h),y(e,"beforeRedraw",h),i=O({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),t.apply(this,[e,i]),s&&(this.hasNames=!0,this.options.showLastLabel=!0)},getMaxLabelDimensions:function(t){var e=this.options,i=e&&e.labels;if(e=i&&p(i.indentation)?e.labels.indentation:0,i=t.apply(this,f(arguments)),"treegrid"===this.options.type&&this.mapOfPosToGridNode){var s=this.mapOfPosToGridNode[-1].height;i.width+=e*(s-1)}return i},generateTick:function(t,e){var i,s=b(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},n=this.ticks,o=n[e];if("treegrid"===this.options.type){var r=this.mapOfPosToGridNode[e];(s=s[r.depth])&&(i={labels:s}),o?(o.parameters.category=r.name,o.options=i,o.addLabel()):n[e]=new a(this,e,null,void 0,{category:r.name,tickmarkOffset:r.tickmarkOffset,options:i})}else t.apply(this,f(arguments))},setTickInterval:function(t){var i,e=this.options;"treegrid"===e.type?(this.min=v(this.userMin,e.min,this.dataMin),this.max=v(this.userMax,e.max,this.dataMax),s(this,"foundExtremes"),this.setAxisTranslation(!0),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.mapOfPosToGridNode?(i=this,Object.keys(i.mapOfPosToGridNode).reduce(function(t,e){return e=+e,i.min<=e&&i.max>=e&&!i.isInAnyBreak(e)&&t.push(e),t},[])):[]):t.apply(this,f(arguments))}}),e(a.prototype,{getLabelPosition:function(t,e,i,s,n,o,r,a,l){var h=v(this.options&&this.options.labels,o);o=this.pos;var d=this.axis,c="treegrid"===d.options.type;return t=t.apply(this,[e,i,s,n,h,r,a,l]),c&&(e=h&&b(h.symbol)?h.symbol:{},h=h&&p(h.indentation)?h.indentation:0,o=(o=(d=d.mapOfPosToGridNode)&&d[o])&&o.depth||1,t.x+=e.width+2*e.padding+(o-1)*h),t},renderLabel:function(t){var e=this,i=e.pos,s=e.axis,n=e.label,o=s.mapOfPosToGridNode,r=s.options,a=v(e.options&&e.options.labels,r&&r.labels),l=a&&b(a.symbol)?a.symbol:{},h=(o=o&&o[i])&&o.depth;r="treegrid"===r.type;var d=!(!n||!n.element),c=-1<s.tickPositions.indexOf(i);i=s.chart.styledMode,r&&o&&d&&n.addClass("highcharts-treegrid-node-level-"+h),t.apply(e,f(arguments)),r&&o&&d&&0<o.descendants&&(s=m(s,o),function(t,e){var i=t.labelIcon,s=!i,n=e.renderer,o=e.xy,r=e.options,a=r.width,l=r.height,h=o.x-a/2-r.padding;o=o.y-l/2;var d=e.collapsed?90:180,c=e.show&&p(o);s&&(t.labelIcon=i=n.path(n.symbols[r.type](r.x,r.y,a,l)).addClass("highcharts-label-icon").add(e.group)),c||i.attr({y:-9999}),n.styledMode||i.attr({"stroke-width":1,fill:v(e.color,"#666666")}).css({cursor:"pointer",stroke:r.lineColor,strokeWidth:r.lineWidth}),i[s?"attr":"animate"]({translateX:h,translateY:o,rotation:d})}(e,{color:!i&&n.styles.color,collapsed:s,group:n.parentGroup,options:l,renderer:n.renderer,show:c,xy:n.xy}),l="highcharts-treegrid-node-"+(s?"expanded":"collapsed"),n.addClass("highcharts-treegrid-node-"+(s?"collapsed":"expanded")).removeClass(l),i||n.css({cursor:"pointer"}),[n,e.labelIcon].forEach(function(t){t.attachedTreeGridEvents||(y(t.element,"mouseover",function(){n.addClass("highcharts-treegrid-node-active"),n.renderer.styledMode||n.css({textDecoration:"underline"})}),y(t.element,"mouseout",function(){var t=u(a.style)?a.style:{};n.removeClass("highcharts-treegrid-node-active"),n.renderer.styledMode||n.css({textDecoration:t.textDecoration})}),y(t.element,"click",function(){e.toggleCollapse()}),t.attachedTreeGridEvents=!0)}))}}),n(a.prototype,{collapse:function(t){var e=this.axis,i=E(e,e.mapOfPosToGridNode[this.pos]);e.setBreaks(i,v(t,!0))},expand:function(t){var e=this.axis,i=l(e,e.mapOfPosToGridNode[this.pos]);e.setBreaks(i,v(t,!0))},toggleCollapse:function(t){var e=this.axis,i=e.mapOfPosToGridNode[this.pos];i=(m(e,i)?l:E)(e,i),e.setBreaks(i,v(t,!0))}}),t.prototype.utils={getNode:k.getNode}}),e(t,"masters/modules/treegrid.src.js",[],function(){})});