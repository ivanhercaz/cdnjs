"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Utils_1=require("../../Utils/Utils"),HoverMode_1=require("../../Enums/Modes/HoverMode"),Mover=function(){function e(e,t){this.container=e,this.particle=t}return e.prototype.move=function(e){var t,i,o,a,s,n,r,l,v,c=this.container,p=c.options,h=this.particle,y=h.particlesOptions;y.move.enable&&(i=this.getProximitySpeedFactor(),o=0<p.fpsLimit?60*e/1e3:3.6,a=(null!==(t=h.moveSpeed)&&void 0!==t?t:c.retina.moveSpeed)/2*i*o,(s=y.move.noise).enable&&(h.lastNoiseTime>h.noiseDelay?(n=h.position,r=s.factor,v={angle:(l=c.simplex).noise3D(Math.floor(n.x/h.size.value)/r.horizontal.value+r.horizontal.offset,Math.floor(n.y/h.size.value)/r.horizontal.value+r.horizontal.offset,c.particles.noiseZ),length:l.noise3D(Math.floor(n.x/h.size.value)/r.vertical.value+r.vertical.offset,Math.floor(n.y/h.size.value)/r.vertical.value+r.vertical.offset,c.particles.noiseZ)},h.velocity.horizontal+=Math.cos(v.angle)*v.length,h.velocity.horizontal=Utils_1.Utils.clamp(h.velocity.horizontal,-1,1),h.velocity.vertical+=Math.sin(v.angle)*v.length,h.velocity.vertical=Utils_1.Utils.clamp(h.velocity.vertical,-1,1),h.lastNoiseTime-=h.noiseDelay):h.lastNoiseTime+=e),h.position.x+=h.velocity.horizontal*a,h.position.y+=h.velocity.vertical*a,y.move.vibrate&&(h.position.x+=Math.sin(h.position.x*Math.cos(h.position.y)),h.position.y+=Math.cos(h.position.y*Math.sin(h.position.x)))),this.moveParallax(e)},e.prototype.moveParallax=function(e){var t,i,o,a,s,n,r,l,v=this.container,c=v.options;c.interactivity.events.onHover.parallax.enable&&(t=this.particle,i=c.interactivity.events.onHover.parallax.force,(o=v.interactivity.mouse.position)&&(a=window.innerHeight/2,s=window.innerWidth/2,n=c.interactivity.events.onHover.parallax.smooth,r=(o.x-s)*(t.size.value/i),l=(o.y-a)*(t.size.value/i),t.offset.x+=(r-t.offset.x)/n,t.offset.y+=(l-t.offset.y)/n))},e.prototype.getProximitySpeedFactor=function(){var e=this.container,t=e.options,i=this.particle;if(!Utils_1.Utils.isInArray(HoverMode_1.HoverMode.slow,t.interactivity.events.onHover.mode))return 1;var o=this.container.interactivity.mouse.position;if(!o)return 1;var a=i.getPosition(),s=Utils_1.Utils.getDistance(o,a),n=e.retina.slowModeRadius;return n<s?1:(s/n||0)/t.interactivity.modes.slow.factor},e}();exports.Mover=Mover;