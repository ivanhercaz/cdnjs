"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var F3=1/3,G3=1/6,grad3=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function buildPermutationTable(r){for(var e=new Uint8Array(256),t=0;t<256;t++)e[t]=t;for(t=0;t<255;t++){var a=t+~~(r()*(256-t)),i=e[t];e[t]=e[a],e[a]=i}return e}var SimplexNoise=function(){function r(r){this.permMod12=new Uint8Array,r=r||Math.random,this.p=buildPermutationTable(r),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var e=0;e<512;e++)this.perm[e]=this.p[255&e],this.permMod12[e]=this.perm[e]%12}return r.prototype.noise3D=function(r,e,t){var a,i,o,n,d,s,p,h,m,u=this.permMod12,g=this.perm,l=(r+e+t)*F3,f=Math.floor(r+l),G=Math.floor(e+l),M=Math.floor(t+l),v=(f+G+M)*G3,y=r-(f-v),c=e-(G-v),b=t-(M-v),w=c<=y?b<=c?(d=n=a=1,o=i=0):n=b<=y?(d=o=i=0,a=1):(d=i=a=0,o=1):c<b?(n=i=a=0,d=o=1):y<b?(n=o=a=0,d=i=1):(d=n=i=1,o=a=0),x=y-a+G3,A=c-i+G3,U=b-o+G3,F=y-n+2*G3,N=c-d+2*G3,P=b-w+2*G3,S=y-1+3*G3,T=c-1+3*G3,_=b-1+3*G3,j=255&f,D=255&G,O=255&M,k=.6-y*y-c*c-b*b,q=.6-x*x-A*A-U*U,z=.6-F*F-N*N-P*P,B=.6-S*S-T*T-_*_;return 32*((k<0?0:(s=3*u[j+g[D+g[O]]],(k*=k)*k*(grad3[s]*y+grad3[1+s]*c+grad3[2+s]*b)))+(q<0?0:(p=3*u[j+a+g[D+i+g[O+o]]],(q*=q)*q*(grad3[p]*x+grad3[1+p]*A+grad3[2+p]*U)))+(z<0?0:(h=3*u[j+n+g[D+d+g[O+w]]],(z*=z)*z*(grad3[h]*F+grad3[1+h]*N+grad3[2+h]*P)))+(B<0?0:(m=3*u[1+j+g[1+D+g[1+O]]],(B*=B)*B*(grad3[m]*S+grad3[1+m]*T+grad3[2+m]*_))))},r}();exports.SimplexNoise=SimplexNoise;