"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Utils_1=require("./Utils"),Constants_1=require("./Constants"),ColorUtils=function(){function i(){}return i.colorToRgb=function(r){var t,a,o;if("string"==typeof r.value)o=r.value===Constants_1.Constants.randomColorValue?{b:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),r:Math.floor(256*Math.random())}:i.stringToRgb(r.value);else if(r.value instanceof Array){var n=Utils_1.Utils.itemFromArray(r.value);o=i.stringToRgb(n)}else{var s=r.value,e=null!==(t=s.rgb)&&void 0!==t?t:r.value;if(void 0!==e.r)o=e;else{var l=null!==(a=s.hsl)&&void 0!==a?a:r.value;void 0!==l.h&&(o=i.hslToRgb(l))}}return o},i.stringToAlpha=function(r){var t;return null===(t=i.stringToRgba(r))||void 0===t?void 0:t.a},i.stringToRgb=function(r){return i.stringToRgba(r)},i.hslToRgb=function(r){var t={b:0,g:0,r:0},a={h:1<r.h?r.h/360:r.h,s:1<r.s?r.s/100:r.s,l:1<r.l?r.l/100:r.l};if(0===a.s)t.b=a.l,t.g=a.l,t.r=a.l;else{var o=a.l<.5?a.l*(1+a.s):a.l+a.s-a.l*a.s,n=2*a.l-o;t.r=i.hue2rgb(n,o,a.h+1/3),t.g=i.hue2rgb(n,o,a.h),t.b=i.hue2rgb(n,o,a.h-1/3)}return t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},i.hslaToRgba=function(r){var t=i.hslToRgb(r);return{a:r.a,b:t.b,g:t.g,r:t.r}},i.getRandomRgbColor=function(r){var t,a=r||0,o=a+a*Math.pow(16,2)+a*Math.pow(16,4),n=16777215^o,s=Math.floor(Math.random()*n|o).toString(16);return null!==(t=this.stringToRgb("#"+s))&&void 0!==t?t:{b:0,g:0,r:0}},i.getStyleFromColor=function(r,t){var a=null!=t?t:1;return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+a+")"},i.hue2rgb=function(r,t,a){var o=a;return o<0&&(o+=1),1<o&&--o,o<1/6?r+6*(t-r)*o:o<.5?t:o<2/3?r+(t-r)*(2/3-o)*6:r},i.stringToRgba=function(r){if(r.startsWith("rgb"))return(t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i.exec(r))?{a:4<t.length?parseFloat(t[5]):1,b:parseInt(t[3]),g:parseInt(t[2]),r:parseInt(t[1])}:void 0;if(r.startsWith("hsl"))return(t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(r))?i.hslaToRgba({a:4<t.length?parseFloat(t[5]):1,h:parseInt(t[1]),l:parseInt(t[3]),s:parseInt(t[2])}):void 0;var t,a=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,function(r,t,a,o,n){return t+t+a+a+o+o+(void 0!==n?n+n:"")});return(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(a))?{a:void 0!==t[4]?parseInt(t[4],16)/255:1,b:parseInt(t[3],16),g:parseInt(t[2],16),r:parseInt(t[1],16)}:void 0},i}();exports.ColorUtils=ColorUtils;