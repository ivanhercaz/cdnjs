"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ColorUtils_1=require("../../Utils/ColorUtils"),Constants_1=require("../../Utils/Constants"),Linker=function(){function i(){}return i.link=function(i,n){for(var e,l=i.particlesOptions.lineLinked.opacity,t=null!==(e=i.lineLinkedDistance)&&void 0!==e?e:n.retina.lineLinkedDistance,o=0,r=n.particles.spatialGrid.queryRadiusWithDistance(i.position,t);o<r.length;o++){var s=r[o];if(i!==s.particle&&s.particle.particlesOptions.lineLinked.enable){var a=l-s.distance*l/t;if(0<a){if(!n.particles.lineLinkedColor){var c=i.particlesOptions.lineLinked.color;c===Constants_1.Constants.randomColorValue?i.particlesOptions.lineLinked.consent?n.particles.lineLinkedColor=ColorUtils_1.ColorUtils.stringToRgb(c):i.particlesOptions.lineLinked.blink?n.particles.lineLinkedColor=Constants_1.Constants.randomColorValue:n.particles.lineLinkedColor="mid":n.particles.lineLinkedColor="string"==typeof c?ColorUtils_1.ColorUtils.stringToRgb(c):ColorUtils_1.ColorUtils.colorToRgb(c)}-1==s.particle.links.indexOf(i)&&-1==i.links.indexOf(s.particle)&&(i.links.push(s.particle),n.canvas.drawLinkedLine(i,s.particle,a))}}}},i}();exports.Linker=Linker;