import{ColorUtils}from"../Utils/ColorUtils";import{Constants}from"../Utils/Constants";export class Linker{static link(i,n){var o;const t=i.particlesOptions.lineLinked.opacity,l=null!==(o=i.lineLinkedDistance)&&void 0!==o?o:n.retina.lineLinkedDistance;for(const o of n.particles.spatialGrid.queryRadiusWithDist(i.position,l)){if(i===o.particle||!o.particle.particlesOptions.lineLinked.enable)continue;const e=t-o.dist*t/l;if(e>0){if(!n.particles.lineLinkedColor){const o=i.particlesOptions.lineLinked.color;o===Constants.randomColorValue?i.particlesOptions.lineLinked.consent?n.particles.lineLinkedColor=ColorUtils.stringToRgb(o):i.particlesOptions.lineLinked.blink?n.particles.lineLinkedColor=Constants.randomColorValue:n.particles.lineLinkedColor="mid":n.particles.lineLinkedColor="string"==typeof o?ColorUtils.stringToRgb(o):ColorUtils.colorToRgb(o)}-1==o.particle.links.indexOf(i)&&-1==i.links.indexOf(o.particle)&&(i.links.push(o.particle),n.canvas.drawLinkedLine(i,o.particle,i.position,o.particle.position,e))}}}};