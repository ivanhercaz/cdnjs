"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),Utils_1=require("../../../Utils/Utils"),ShapeType_1=require("../../../Enums/ShapeType"),TextDrawer=function(){function e(){}return e.prototype.init=function(p){var n,l;return tslib_1.__awaiter(this,void 0,void 0,function(){var t,a,r,i,s;return tslib_1.__generator(this,function(e){switch(e.label){case 0:if(t=p.options,!Utils_1.Utils.isInArray(ShapeType_1.ShapeType.char,t.particles.shape.type)&&!Utils_1.Utils.isInArray(ShapeType_1.ShapeType.character,t.particles.shape.type))return[3,7];if(!((a=null!==(n=t.particles.shape.options[ShapeType_1.ShapeType.character])&&void 0!==n?n:t.particles.shape.options[ShapeType_1.ShapeType.char])instanceof Array))return[3,5];r=0,i=a,e.label=1;case 1:return r<i.length?(s=i[r],[4,Utils_1.Utils.loadFont(s)]):[3,4];case 2:e.sent(),e.label=3;case 3:return r++,[3,1];case 4:return[3,7];case 5:return void 0===(s=null!==(l=t.particles.shape.options[ShapeType_1.ShapeType.character])&&void 0!==l?l:t.particles.shape.options[ShapeType_1.ShapeType.char])?[3,7]:[4,Utils_1.Utils.loadFont(s)];case 6:e.sent(),e.label=7;case 7:return[2]}})})},e.prototype.draw=function(e,t,a,r){var i=t.shapeData;if(void 0!==i){var s=i.value;if(void 0!==s){var p=t;void 0===p.text&&(s instanceof Array?p.text=Utils_1.Utils.itemFromArray(s,t.randomIndexData):p.text=s);var n=p.text,l=i.style,o=i.weight,c=2*Math.round(a),h=i.font,y=t.fill;e.font=l+" "+o+" "+c+'px "'+h+'"';var u={x:-a/2,y:a/2};y?e.fillText(n,u.x,u.y):e.strokeText(n,u.x,u.y)}}},e}();exports.TextDrawer=TextDrawer;