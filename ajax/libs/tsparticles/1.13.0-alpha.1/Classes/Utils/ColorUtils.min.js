"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Utils_1=require("./Utils"),Constants_1=require("./Constants"),ColorUtils=function(){function s(){}return s.colorToRgb=function(r){var t;if("string"==typeof r.value)t=r.value===Constants_1.Constants.randomColorValue?{b:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),r:Math.floor(256*Math.random())}:s.stringToRgb(r.value);else if(r.value instanceof Array){var a=Utils_1.Utils.itemFromArray(r.value);t=s.stringToRgb(a)}else{var n=r.value;void 0!==n.r&&(t=n);var o=r.value;void 0!==o.h&&(t=s.hslToRgb(o))}return t},s.stringToAlpha=function(r){var t;return null===(t=s.stringToRgba(r))||void 0===t?void 0:t.a},s.stringToRgb=function(r){return s.stringToRgba(r)},s.hslToRgb=function(r){var t={b:0,g:0,r:0};if(0===r.s)t.b=r.l,t.g=r.l,t.r=r.l;else{var a=r.l<.5?r.l*(1+r.s):r.l+r.s-r.l*r.s,n=2*r.l-a;t.r=s.hue2rgb(n,a,r.h+1/3),t.g=s.hue2rgb(n,a,r.h),t.b=s.hue2rgb(n,a,r.h-1/3)}return t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},s.hslaToRgba=function(r){var t=s.hslToRgb(r);return{a:r.a,b:t.b,g:t.g,r:t.r}},s.getRandomRgbColor=function(r){var t,a=r||0,n=a+a*Math.pow(16,2)+a*Math.pow(16,4),o=16777215^n,s=(Math.random()*o+n).toString(16);return null!==(t=this.stringToRgb("#"+s))&&void 0!==t?t:{b:0,g:0,r:0}},s.getStyleFromColor=function(r,t){var a=null!=t?t:1;return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+a+")"},s.hue2rgb=function(r,t,a){var n=a;return n<0&&(n+=1),1<n&&--n,n<1/6?r+6*(t-r)*n:n<.5?t:n<2/3?r+(t-r)*(2/3-n)*6:r},s.stringToRgba=function(r){if(r.startsWith("rgb"))return(t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i.exec(r))?{a:4<t.length?parseFloat(t[5]):1,b:parseInt(t[3]),g:parseInt(t[2]),r:parseInt(t[1])}:void 0;if(r.startsWith("hsl"))return(t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(r))?s.hslaToRgba({a:4<t.length?parseFloat(t[5]):1,h:parseInt(t[1]),l:parseInt(t[3]),s:parseInt(t[2])}):void 0;var t,a=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,function(r,t,a,n,o){return t+t+a+a+n+n+(o?o+o:"")});return(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(a))?{a:parseInt(t[4],16)/255,b:parseInt(t[3],16),g:parseInt(t[2],16),r:parseInt(t[1],16)}:void 0},s}();exports.ColorUtils=ColorUtils;