"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ColorUtils_1=require("./Utils/ColorUtils"),BlackHole=function(){function i(i,t,o){var s,e;this.container=i;var a=t.size.value,l="boolean"==typeof t.size.random?t.size.random:t.size.random.enable,r="boolean"==typeof t.size.random?1:t.size.random.minimumValue;l&&(a=Math.random()*a+r),this.size=a,this.mass=5*a,this.limit=t.size.limit;var n="string"==typeof t.color?{value:t.color}:t.color;this.color=null!==(s=ColorUtils_1.ColorUtils.colorToRgb(n))&&void 0!==s?s:{b:0,g:0,r:0};var h=null!==(e=t.position)&&void 0!==e?e:{x:50,y:50};this.position=null!=o?o:{x:h.x*i.canvas.dimension.width/100-this.size/2,y:h.y*i.canvas.dimension.height/100-this.size/2}}return i.prototype.attract=function(i){var t=this.container,o=this.position.x-i.position.x,s=this.position.y-i.position.y,e=Math.sqrt(Math.abs(o*o+s*s)),a=Math.atan2(o,s)*(180/Math.PI),l=this.mass/Math.pow(e,2);if(e<this.size){var r=!1,n=.033*i.size.value;return this.size>i.size.value&&e<this.size-i.size.value?(t.particles.remove(i),r=!0):(i.size.value-=n,i.velocity.horizontal+=Math.sin(a*(Math.PI/180))*l,i.velocity.vertical+=Math.cos(a*(Math.PI/180))*l,console.log(i.velocity)),(void 0===this.limit||this.size<this.limit)&&(this.size+=n),this.mass+=n,!r}return i.velocity.horizontal+=Math.sin(a*(Math.PI/180))*l,i.velocity.vertical+=Math.cos(a*(Math.PI/180))*l,!0},i.prototype.draw=function(){this.container.canvas.drawBlackHole(this)},i}();exports.BlackHole=BlackHole;