"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Retina = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var Retina = /*#__PURE__*/function () {
  function Retina(container) {
    (0, _classCallCheck2["default"])(this, Retina);
    this.isRetina = void 0;
    this.bubbleModeDistance = void 0;
    this.bubbleModeSize = void 0;
    this.connectModeDistance = void 0;
    this.connectModeRadius = void 0;
    this.grabModeDistance = void 0;
    this.repulseModeDistance = void 0;
    this.slowModeRadius = void 0;
    this.lineLinkedDistance = void 0;
    this.lineLinkedWidth = void 0;
    this.moveSpeed = void 0;
    this.sizeValue = void 0;
    this.sizeAnimationSpeed = void 0;
    this.polygonMaskMoveRadius = void 0;
    this.particlesDensityArea = void 0;
    this.pxRatio = void 0;
    this.container = void 0;
    this.container = container;
    this.isRetina = false;
    this.bubbleModeDistance = 0;
    this.bubbleModeSize = 0;
    this.connectModeDistance = 0;
    this.connectModeRadius = 0;
    this.grabModeDistance = 0;
    this.repulseModeDistance = 0;
    this.slowModeRadius = 0;
    this.lineLinkedDistance = 0;
    this.lineLinkedWidth = 0;
    this.moveSpeed = 0;
    this.sizeValue = 0;
    this.sizeAnimationSpeed = 0;
    this.polygonMaskMoveRadius = 0;
    this.particlesDensityArea = 0;
    this.pxRatio = 1;
  }

  (0, _createClass2["default"])(Retina, [{
    key: "init",
    value: function init() {
      var container = this.container;
      var options = container.options;

      if (options.detectRetina && window.devicePixelRatio > 1) {
        this.pxRatio = window.devicePixelRatio;
        this.isRetina = true;
      } else {
        this.pxRatio = 1;
        this.isRetina = false;
      }

      var ratio = this.pxRatio;
      container.canvas.dimension.width = container.canvas.element.offsetWidth * ratio;
      container.canvas.dimension.height = container.canvas.element.offsetHeight * ratio;
      var densityArea = container.canvas.element.width * container.canvas.element.height / 1000;
      this.bubbleModeDistance = options.interactivity.modes.bubble.distance * ratio;
      this.bubbleModeSize = options.interactivity.modes.bubble.size * ratio;
      this.connectModeDistance = options.interactivity.modes.connect.distance * ratio;
      this.connectModeRadius = options.interactivity.modes.connect.radius * ratio;
      this.particlesDensityArea = densityArea / (this.isRetina ? ratio * 2 : 1);
      this.grabModeDistance = options.interactivity.modes.grab.distance * ratio;
      this.repulseModeDistance = options.interactivity.modes.repulse.distance * ratio;
      this.slowModeRadius = options.interactivity.modes.slow.radius * ratio;
      this.lineLinkedDistance = options.particles.lineLinked.distance * ratio;
      this.lineLinkedWidth = options.particles.lineLinked.width * ratio;
      this.moveSpeed = options.particles.move.speed * ratio;
      this.sizeValue = options.particles.size.value * ratio;
      this.sizeAnimationSpeed = options.particles.size.animation.speed * ratio;
      this.polygonMaskMoveRadius = options.polygon.move.radius * ratio;
    }
  }, {
    key: "reset",
    value: function reset() {}
  }]);
  return Retina;
}();

exports.Retina = Retina;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9DbGFzc2VzL1JldGluYS50cyJdLCJuYW1lcyI6WyJSZXRpbmEiLCJjb250YWluZXIiLCJpc1JldGluYSIsImJ1YmJsZU1vZGVEaXN0YW5jZSIsImJ1YmJsZU1vZGVTaXplIiwiY29ubmVjdE1vZGVEaXN0YW5jZSIsImNvbm5lY3RNb2RlUmFkaXVzIiwiZ3JhYk1vZGVEaXN0YW5jZSIsInJlcHVsc2VNb2RlRGlzdGFuY2UiLCJzbG93TW9kZVJhZGl1cyIsImxpbmVMaW5rZWREaXN0YW5jZSIsImxpbmVMaW5rZWRXaWR0aCIsIm1vdmVTcGVlZCIsInNpemVWYWx1ZSIsInNpemVBbmltYXRpb25TcGVlZCIsInBvbHlnb25NYXNrTW92ZVJhZGl1cyIsInBhcnRpY2xlc0RlbnNpdHlBcmVhIiwicHhSYXRpbyIsIm9wdGlvbnMiLCJkZXRlY3RSZXRpbmEiLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwicmF0aW8iLCJjYW52YXMiLCJkaW1lbnNpb24iLCJ3aWR0aCIsImVsZW1lbnQiLCJvZmZzZXRXaWR0aCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsImRlbnNpdHlBcmVhIiwiaW50ZXJhY3Rpdml0eSIsIm1vZGVzIiwiYnViYmxlIiwiZGlzdGFuY2UiLCJzaXplIiwiY29ubmVjdCIsInJhZGl1cyIsImdyYWIiLCJyZXB1bHNlIiwic2xvdyIsInBhcnRpY2xlcyIsImxpbmVMaW5rZWQiLCJtb3ZlIiwic3BlZWQiLCJ2YWx1ZSIsImFuaW1hdGlvbiIsInBvbHlnb24iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7O0lBSWFBLE07QUFvQlQsa0JBQVlDLFNBQVosRUFBa0M7QUFBQTtBQUFBLFNBbkIzQkMsUUFtQjJCO0FBQUEsU0FsQjNCQyxrQkFrQjJCO0FBQUEsU0FqQjNCQyxjQWlCMkI7QUFBQSxTQWhCM0JDLG1CQWdCMkI7QUFBQSxTQWYzQkMsaUJBZTJCO0FBQUEsU0FkM0JDLGdCQWMyQjtBQUFBLFNBYjNCQyxtQkFhMkI7QUFB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QixLQUFLLEdBQUcsQ0FBeEIsR0FBNEIsQ0FBaEMsQ0FBdkM7QUFDQSxXQUFLZixnQkFBTCxHQUF3QlcsT0FBTyxDQUFDYSxhQUFSLENBQXNCQyxLQUF0QixDQUE0Qk0sSUFBNUIsQ0FBaUNKLFFBQWpDLEdBQTRDWixLQUFwRTtBQUNBLFdBQUtkLG1CQUFMLEdBQTJCVSxPQUFPLENBQUNhLGFBQVIsQ0FBc0JDLEtBQXRCLENBQTRCTyxPQUE1QixDQUFvQ0wsUUFBcEMsR0FBK0NaLEtBQTFFO0FBQ0EsV0FBS2IsY0FBTCxHQUFzQlMsT0FBTyxDQUFDYSxhQUFSLENBQXNCQyxLQUF0QixDQUE0QlEsSUFBNUIsQ0FBaUNILE1BQWpDLEdBQTBDZixLQUFoRTtBQUNBLFdBQUtaLGtCQUFMLEdBQTBCUSxPQUFPLENBQUN1QixTQUFSLENBQWtCQyxVQUFsQixDQUE2QlIsUUFBN0IsR0FBd0NaLEtBQWxFO0FBQ0EsV0FBS1gsZUFBTCxHQUF1Qk8sT0FBTyxDQUFDdUIsU0FBUixDQUFrQkMsVUFBbEIsQ0FBNkJqQixLQUE3QixHQUFxQ0gsS0FBNUQ7QUFDQSxXQUFLVixTQUFMLEdBQWlCTSxPQUFPLENBQUN1QixTQUFSLENBQWtCRSxJQUFsQixDQUF1QkMsS0FBdkIsR0FBK0J0QixLQUFoRDtBQUNBLFdBQUtULFNBQUwsR0FBaUJLLE9BQU8sQ0FBQ3VCLFNBQVIsQ0FBa0JOLElBQWxCLENBQXVCVSxLQUF2QixHQUErQnZCLEtBQWhEO0FBQ0EsV0FBS1Isa0JBQUwsR0FBMEJJLE9BQU8sQ0FBQ3VCLFNBQVIsQ0FBa0JOLElBQWxCLENBQXVCVyxTQUF2QixDQUFpQ0YsS0FBakMsR0FBeUN0QixLQUFuRTtBQUNBLFdBQUtQLHFCQUFMLEdBQTZCRyxPQUFPLENBQUM2QixPQUFSLENBQWdCSixJQUFoQixDQUFxQk4sTUFBckIsR0FBOEJmLEtBQTNEO0FBQ0g7Ozs0QkFFb0IsQ0FDcEIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHtDb250YWluZXJ9IGZyb20gXCIuL0NvbnRhaW5lclwiO1xuXG5leHBvcnQgY2xhc3MgUmV0aW5hIHtcbiAgICBwdWJsaWMgaXNSZXRpbmE6IGJvb2xlYW47XG4gICAgcHVibGljIGJ1YmJsZU1vZGVEaXN0YW5jZTogbnVtYmVyO1xuICAgIHB1YmxpYyBidWJibGVNb2RlU2l6ZTogbnVtYmVyO1xuICAgIHB1YmxpYyBjb25uZWN0TW9kZURpc3RhbmNlOiBudW1iZXI7XG4gICAgcHVibGljIGNvbm5lY3RNb2RlUmFkaXVzOiBudW1iZXI7XG4gICAgcHVibGljIGdyYWJNb2RlRGlzdGFuY2U6IG51bWJlcjtcbiAgICBwdWJsaWMgcmVwdWxzZU1vZGVEaXN0YW5jZTogbnVtYmVyO1xuICAgIHB1YmxpYyBzbG93TW9kZVJhZGl1czogbnVtYmVyO1xuICAgIHB1YmxpYyBsaW5lTGlua2VkRGlzdGFuY2U6IG51bWJlcjtcbiAgICBwdWJsaWMgbGluZUxpbmtlZFdpZHRoOiBudW1iZXI7XG4gICAgcHVibGljIG1vdmVTcGVlZDogbnVtYmVyO1xuICAgIHB1YmxpYyBzaXplVmFsdWU6IG51bWJlcjtcbiAgICBwdWJsaWMgc2l6ZUFuaW1hdGlvblNwZWVkOiBudW1iZXI7XG4gICAgcHVibGljIHBvbHlnb25NYXNrTW92ZVJhZGl1czogbnVtYmVyO1xuICAgIHB1YmxpYyBwYXJ0aWNsZXNEZW5zaXR5QXJlYTogbnVtYmVyO1xuICAgIHB1YmxpYyBweFJhdGlvOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRhaW5lcjogQ29udGFpbmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuaXNSZXRpbmEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idWJibGVNb2RlRGlzdGFuY2UgPSAwO1xuICAgICAgICB0aGlzLmJ1YmJsZU1vZGVTaXplID0gMDtcbiAgICAgICAgdGhpcy5jb25uZWN0TW9kZURpc3RhbmNlID0gMDtcbiAgICAgICAgdGhpcy5jb25uZWN0TW9kZVJhZGl1cyA9IDA7XG4gICAgICAgIHRoaXMuZ3JhYk1vZGVEaXN0YW5jZSA9IDA7XG4gICAgICAgIHRoaXMucmVwdWxzZU1vZGVEaXN0YW5jZSA9IDA7XG4gICAgICAgIHRoaXMuc2xvd01vZGVSYWRpdXMgPSAwO1xuICAgICAgICB0aGlzLmxpbmVMaW5rZWREaXN0YW5jZSA9IDA7XG4gICAgICAgIHRoaXMubGluZUxpbmtlZFdpZHRoID0gMDtcbiAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSAwO1xuICAgICAgICB0aGlzLnNpemVWYWx1ZSA9IDA7XG4gICAgICAgIHRoaXMuc2l6ZUFuaW1hdGlvblNwZWVkID0gMDtcbiAgICAgICAgdGhpcy5wb2x5Z29uTWFza01vdmVSYWRpdXMgPSAwO1xuICAgICAgICB0aGlzLnBhcnRpY2xlc0RlbnNpdHlBcmVhID0gMDtcbiAgICAgICAgdGhpcy5weFJhdGlvID0gMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjb250YWluZXIub3B0aW9ucztcblxuICAgICAgICBpZiAob3B0aW9ucy5kZXRlY3RSZXRpbmEgJiYgd2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxKSB7XG4gICAgICAgICAgICB0aGlzLnB4UmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcblxuICAgICAgICAgICAgdGhpcy5pc1JldGluYSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnB4UmF0aW8gPSAxO1xuXG4gICAgICAgICAgICB0aGlzLmlzUmV0aW5hID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYXRpbyA9IHRoaXMucHhSYXRpbztcblxuICAgICAgICBjb250YWluZXIuY2FudmFzLmRpbWVuc2lvbi53aWR0aCA9IGNvbnRhaW5lci5jYW52YXMuZWxlbWVudC5vZmZzZXRXaWR0aCAqIHJhdGlvO1xuICAgICAgICBjb250YWluZXIuY2FudmFzLmRpbWVuc2lvbi5oZWlnaHQgPSBjb250YWluZXIuY2FudmFzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0ICogcmF0aW87XG5cbiAgICAgICAgY29uc3QgZGVuc2l0eUFyZWEgPSAoY29udGFpbmVyLmNhbnZhcy5lbGVtZW50LndpZHRoICogY29udGFpbmVyLmNhbnZhcy5lbGVtZW50LmhlaWdodCAvIDEwMDApO1xuXG4gICAgICAgIHRoaXMuYnViYmxlTW9kZURpc3RhbmNlID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kaXN0YW5jZSAqIHJhdGlvO1xuICAgICAgICB0aGlzLmJ1YmJsZU1vZGVTaXplID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5zaXplICogcmF0aW87XG4gICAgICAgIHRoaXMuY29ubmVjdE1vZGVEaXN0YW5jZSA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5jb25uZWN0LmRpc3RhbmNlICogcmF0aW87XG4gICAgICAgIHRoaXMuY29ubmVjdE1vZGVSYWRpdXMgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuY29ubmVjdC5yYWRpdXMgKiByYXRpbztcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXNEZW5zaXR5QXJlYSA9IGRlbnNpdHlBcmVhIC8gKHRoaXMuaXNSZXRpbmEgPyByYXRpbyAqIDIgOiAxKTtcbiAgICAgICAgdGhpcy5ncmFiTW9kZURpc3RhbmNlID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmdyYWIuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5yZXB1bHNlTW9kZURpc3RhbmNlID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLnJlcHVsc2UuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5zbG93TW9kZVJhZGl1cyA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5zbG93LnJhZGl1cyAqIHJhdGlvO1xuICAgICAgICB0aGlzLmxpbmVMaW5rZWREaXN0YW5jZSA9IG9wdGlvbnMucGFydGljbGVzLmxpbmVMaW5rZWQuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5saW5lTGlua2VkV2lkdGggPSBvcHRpb25zLnBhcnRpY2xlcy5saW5lTGlua2VkLndpZHRoICogcmF0aW87XG4gICAgICAgIHRoaXMubW92ZVNwZWVkID0gb3B0aW9ucy5wYXJ0aWNsZXMubW92ZS5zcGVlZCAqIHJhdGlvO1xuICAgICAgICB0aGlzLnNpemVWYWx1ZSA9IG9wdGlvbnMucGFydGljbGVzLnNpemUudmFsdWUgKiByYXRpbztcbiAgICAgICAgdGhpcy5zaXplQW5pbWF0aW9uU3BlZWQgPSBvcHRpb25zLnBhcnRpY2xlcy5zaXplLmFuaW1hdGlvbi5zcGVlZCAqIHJhdGlvO1xuICAgICAgICB0aGlzLnBvbHlnb25NYXNrTW92ZVJhZGl1cyA9IG9wdGlvbnMucG9seWdvbi5tb3ZlLnJhZGl1cyAqIHJhdGlvO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICB9XG59XG4iXX0=