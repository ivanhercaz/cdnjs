"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Retina = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var Retina = /*#__PURE__*/function () {
  function Retina(container) {
    (0, _classCallCheck2["default"])(this, Retina);
    this.isRetina = void 0;
    this.bubbleModeDistance = void 0;
    this.bubbleModeSize = void 0;
    this.connectModeDistance = void 0;
    this.connectModeRadius = void 0;
    this.grabModeDistance = void 0;
    this.repulseModeDistance = void 0;
    this.slowModeRadius = void 0;
    this.lineLinkedDistance = void 0;
    this.lineLinkedWidth = void 0;
    this.moveSpeed = void 0;
    this.sizeValue = void 0;
    this.sizeAnimationSpeed = void 0;
    this.polygonMaskMoveRadius = void 0;
    this.pxRatio = void 0;
    this.container = void 0;
    this.container = container;
    this.isRetina = false;
    this.bubbleModeDistance = 0;
    this.bubbleModeSize = 0;
    this.connectModeDistance = 0;
    this.connectModeRadius = 0;
    this.grabModeDistance = 0;
    this.repulseModeDistance = 0;
    this.slowModeRadius = 0;
    this.lineLinkedDistance = 0;
    this.lineLinkedWidth = 0;
    this.moveSpeed = 0;
    this.sizeValue = 0;
    this.sizeAnimationSpeed = 0;
    this.polygonMaskMoveRadius = 0;
    this.pxRatio = 1;
  }

  (0, _createClass2["default"])(Retina, [{
    key: "init",
    value: function init() {
      var container = this.container;
      var options = container.options;

      if (options.detectRetina && window.devicePixelRatio > 1) {
        this.pxRatio = window.devicePixelRatio;
        this.isRetina = true;
      } else {
        this.pxRatio = 1;
        this.isRetina = false;
      }

      var ratio = this.pxRatio;

      if (container.canvas.element) {
        container.canvas.dimension.width = container.canvas.element.offsetWidth * ratio;
        container.canvas.dimension.height = container.canvas.element.offsetHeight * ratio;
      }

      this.bubbleModeDistance = options.interactivity.modes.bubble.distance * ratio;
      this.bubbleModeSize = options.interactivity.modes.bubble.size * ratio;
      this.connectModeDistance = options.interactivity.modes.connect.distance * ratio;
      this.connectModeRadius = options.interactivity.modes.connect.radius * ratio;
      this.grabModeDistance = options.interactivity.modes.grab.distance * ratio;
      this.repulseModeDistance = options.interactivity.modes.repulse.distance * ratio;
      this.slowModeRadius = options.interactivity.modes.slow.radius * ratio;
      this.lineLinkedDistance = options.particles.lineLinked.distance * ratio;
      this.lineLinkedWidth = options.particles.lineLinked.width * ratio;
      this.moveSpeed = options.particles.move.speed * ratio;
      this.sizeValue = options.particles.size.value * ratio;
      this.sizeAnimationSpeed = options.particles.size.animation.speed * ratio;
      this.polygonMaskMoveRadius = options.polygon.move.radius * ratio;
    }
  }, {
    key: "reset",
    value: function reset() {}
  }]);
  return Retina;
}();

exports.Retina = Retina;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9DbGFzc2VzL1JldGluYS50cyJdLCJuYW1lcyI6WyJSZXRpbmEiLCJjb250YWluZXIiLCJpc1JldGluYSIsImJ1YmJsZU1vZGVEaXN0YW5jZSIsImJ1YmJsZU1vZGVTaXplIiwiY29ubmVjdE1vZGVEaXN0YW5jZSIsImNvbm5lY3RNb2RlUmFkaXVzIiwiZ3JhYk1vZGVEaXN0YW5jZSIsInJlcHVsc2VNb2RlRGlzdGFuY2UiLCJzbG93TW9kZVJhZGl1cyIsImxpbmVMaW5rZWREaXN0YW5jZSIsImxpbmVMaW5rZWRXaWR0aCIsIm1vdmVTcGVlZCIsInNpemVWYWx1ZSIsInNpemVBbmltYXRpb25TcGVlZCIsInBvbHlnb25NYXNrTW92ZVJhZGl1cyIsInB4UmF0aW8iLCJvcHRpb25zIiwiZGV0ZWN0UmV0aW5hIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsInJhdGlvIiwiY2FudmFzIiwiZWxlbWVudCIsImRpbWVuc2lvbiIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJpbnRlcmFjdGl2aXR5IiwibW9kZXMiLCJidWJibGUiLCJkaXN0YW5jZSIsInNpemUiLCJjb25uZWN0IiwicmFkaXVzIiwiZ3JhYiIsInJlcHVsc2UiLCJzbG93IiwicGFydGljbGVzIiwibGluZUxpbmtlZCIsIm1vdmUiLCJzcGVlZCIsInZhbHVlIiwiYW5pbWF0aW9uIiwicG9seWdvbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7SUFJYUEsTTtBQW1CVCxrQkFBWUMsU0FBWixFQUFrQztBQUFBO0FBQUEsU0FsQjNCQyxRQWtCMkI7QUFBQSxTQWpCM0JDLGtCQWlCMkI7QUFBQSxTQWhCM0JDLGNBZ0IyQjtBQUFBLFNBZjNCQyxtQkFlMkI7QUFBQSxTQWQzQkMsaUJBYzJCO0FBQUEsU0FiM0JDLGdCQWEyQjtBQUFBLFNBWjNCQyxtQkFZMkI7QUFBQSxTQVgzQkMsY0FXMkI7QUFBQSxTQVYzQkMsa0JBVTJCO0FBQUEs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WSxhQUFSLENBQXNCQyxLQUF0QixDQUE0QlEsSUFBNUIsQ0FBaUNILE1BQWpDLEdBQTBDZCxLQUFoRTtBQUNBLFdBQUtYLGtCQUFMLEdBQTBCTyxPQUFPLENBQUNzQixTQUFSLENBQWtCQyxVQUFsQixDQUE2QlIsUUFBN0IsR0FBd0NYLEtBQWxFO0FBQ0EsV0FBS1YsZUFBTCxHQUF1Qk0sT0FBTyxDQUFDc0IsU0FBUixDQUFrQkMsVUFBbEIsQ0FBNkJmLEtBQTdCLEdBQXFDSixLQUE1RDtBQUNBLFdBQUtULFNBQUwsR0FBaUJLLE9BQU8sQ0FBQ3NCLFNBQVIsQ0FBa0JFLElBQWxCLENBQXVCQyxLQUF2QixHQUErQnJCLEtBQWhEO0FBQ0EsV0FBS1IsU0FBTCxHQUFpQkksT0FBTyxDQUFDc0IsU0FBUixDQUFrQk4sSUFBbEIsQ0FBdUJVLEtBQXZCLEdBQStCdEIsS0FBaEQ7QUFDQSxXQUFLUCxrQkFBTCxHQUEwQkcsT0FBTyxDQUFDc0IsU0FBUixDQUFrQk4sSUFBbEIsQ0FBdUJXLFNBQXZCLENBQWlDRixLQUFqQyxHQUF5Q3JCLEtBQW5FO0FBQ0EsV0FBS04scUJBQUwsR0FBNkJFLE9BQU8sQ0FBQzRCLE9BQVIsQ0FBZ0JKLElBQWhCLENBQXFCTixNQUFyQixHQUE4QmQsS0FBM0Q7QUFDSDs7OzRCQUVvQixDQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQge0NvbnRhaW5lcn0gZnJvbSBcIi4vQ29udGFpbmVyXCI7XG5cbmV4cG9ydCBjbGFzcyBSZXRpbmEge1xuICAgIHB1YmxpYyBpc1JldGluYTogYm9vbGVhbjtcbiAgICBwdWJsaWMgYnViYmxlTW9kZURpc3RhbmNlOiBudW1iZXI7XG4gICAgcHVibGljIGJ1YmJsZU1vZGVTaXplOiBudW1iZXI7XG4gICAgcHVibGljIGNvbm5lY3RNb2RlRGlzdGFuY2U6IG51bWJlcjtcbiAgICBwdWJsaWMgY29ubmVjdE1vZGVSYWRpdXM6IG51bWJlcjtcbiAgICBwdWJsaWMgZ3JhYk1vZGVEaXN0YW5jZTogbnVtYmVyO1xuICAgIHB1YmxpYyByZXB1bHNlTW9kZURpc3RhbmNlOiBudW1iZXI7XG4gICAgcHVibGljIHNsb3dNb2RlUmFkaXVzOiBudW1iZXI7XG4gICAgcHVibGljIGxpbmVMaW5rZWREaXN0YW5jZTogbnVtYmVyO1xuICAgIHB1YmxpYyBsaW5lTGlua2VkV2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgbW92ZVNwZWVkOiBudW1iZXI7XG4gICAgcHVibGljIHNpemVWYWx1ZTogbnVtYmVyO1xuICAgIHB1YmxpYyBzaXplQW5pbWF0aW9uU3BlZWQ6IG51bWJlcjtcbiAgICBwdWJsaWMgcG9seWdvbk1hc2tNb3ZlUmFkaXVzOiBudW1iZXI7XG4gICAgcHVibGljIHB4UmF0aW86IG51bWJlcjtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOiBDb250YWluZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IENvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5pc1JldGluYSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1YmJsZU1vZGVEaXN0YW5jZSA9IDA7XG4gICAgICAgIHRoaXMuYnViYmxlTW9kZVNpemUgPSAwO1xuICAgICAgICB0aGlzLmNvbm5lY3RNb2RlRGlzdGFuY2UgPSAwO1xuICAgICAgICB0aGlzLmNvbm5lY3RNb2RlUmFkaXVzID0gMDtcbiAgICAgICAgdGhpcy5ncmFiTW9kZURpc3RhbmNlID0gMDtcbiAgICAgICAgdGhpcy5yZXB1bHNlTW9kZURpc3RhbmNlID0gMDtcbiAgICAgICAgdGhpcy5zbG93TW9kZVJhZGl1cyA9IDA7XG4gICAgICAgIHRoaXMubGluZUxpbmtlZERpc3RhbmNlID0gMDtcbiAgICAgICAgdGhpcy5saW5lTGlua2VkV2lkdGggPSAwO1xuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IDA7XG4gICAgICAgIHRoaXMuc2l6ZVZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5zaXplQW5pbWF0aW9uU3BlZWQgPSAwO1xuICAgICAgICB0aGlzLnBvbHlnb25NYXNrTW92ZVJhZGl1cyA9IDA7XG4gICAgICAgIHRoaXMucHhSYXRpbyA9IDE7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gY29udGFpbmVyLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZGV0ZWN0UmV0aW5hICYmIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMSkge1xuICAgICAgICAgICAgdGhpcy5weFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG5cbiAgICAgICAgICAgIHRoaXMuaXNSZXRpbmEgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5weFJhdGlvID0gMTtcblxuICAgICAgICAgICAgdGhpcy5pc1JldGluYSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLnB4UmF0aW87XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lci5jYW52YXMuZWxlbWVudCkge1xuICAgICAgICAgICAgY29udGFpbmVyLmNhbnZhcy5kaW1lbnNpb24ud2lkdGggPSBjb250YWluZXIuY2FudmFzLmVsZW1lbnQub2Zmc2V0V2lkdGggKiByYXRpbztcbiAgICAgICAgICAgIGNvbnRhaW5lci5jYW52YXMuZGltZW5zaW9uLmhlaWdodCA9IGNvbnRhaW5lci5jYW52YXMuZWxlbWVudC5vZmZzZXRIZWlnaHQgKiByYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnViYmxlTW9kZURpc3RhbmNlID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kaXN0YW5jZSAqIHJhdGlvO1xuICAgICAgICB0aGlzLmJ1YmJsZU1vZGVTaXplID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5zaXplICogcmF0aW87XG4gICAgICAgIHRoaXMuY29ubmVjdE1vZGVEaXN0YW5jZSA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5jb25uZWN0LmRpc3RhbmNlICogcmF0aW87XG4gICAgICAgIHRoaXMuY29ubmVjdE1vZGVSYWRpdXMgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuY29ubmVjdC5yYWRpdXMgKiByYXRpbztcbiAgICAgICAgdGhpcy5ncmFiTW9kZURpc3RhbmNlID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmdyYWIuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5yZXB1bHNlTW9kZURpc3RhbmNlID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLnJlcHVsc2UuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5zbG93TW9kZVJhZGl1cyA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5zbG93LnJhZGl1cyAqIHJhdGlvO1xuICAgICAgICB0aGlzLmxpbmVMaW5rZWREaXN0YW5jZSA9IG9wdGlvbnMucGFydGljbGVzLmxpbmVMaW5rZWQuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5saW5lTGlua2VkV2lkdGggPSBvcHRpb25zLnBhcnRpY2xlcy5saW5lTGlua2VkLndpZHRoICogcmF0aW87XG4gICAgICAgIHRoaXMubW92ZVNwZWVkID0gb3B0aW9ucy5wYXJ0aWNsZXMubW92ZS5zcGVlZCAqIHJhdGlvO1xuICAgICAgICB0aGlzLnNpemVWYWx1ZSA9IG9wdGlvbnMucGFydGljbGVzLnNpemUudmFsdWUgKiByYXRpbztcbiAgICAgICAgdGhpcy5zaXplQW5pbWF0aW9uU3BlZWQgPSBvcHRpb25zLnBhcnRpY2xlcy5zaXplLmFuaW1hdGlvbi5zcGVlZCAqIHJhdGlvO1xuICAgICAgICB0aGlzLnBvbHlnb25NYXNrTW92ZVJhZGl1cyA9IG9wdGlvbnMucG9seWdvbi5tb3ZlLnJhZGl1cyAqIHJhdGlvO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICB9XG59XG4iXX0=