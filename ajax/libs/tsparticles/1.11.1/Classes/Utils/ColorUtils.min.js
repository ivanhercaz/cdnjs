import{Utils}from"./Utils";export class ColorUtils{static colorToRgb(t){let r;if("string"==typeof t.value)r="random"===t.value?{b:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),r:Math.floor(256*Math.random())}:ColorUtils.stringToRgb(t.value);else if(t.value instanceof Array){const s=Utils.itemFromArray(t.value);r=ColorUtils.stringToRgb(s)}else{const s=t.value;void 0!==s.r&&(r=s);const o=t.value;void 0!==o.h&&(r=ColorUtils.hslToRgb(o))}return r}static stringToAlpha(t){var r;return null===(r=ColorUtils.stringToRgba(t))||void 0===r?void 0:r.a}static stringToRgb(t){return ColorUtils.stringToRgba(t)}static hslToRgb(t){const r={b:0,g:0,r:0};if(0===t.s)r.b=t.l,r.g=t.l,r.r=t.l;else{const s=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,o=2*t.l-s;r.r=ColorUtils.hue2rgb(o,s,t.h+1/3),r.g=ColorUtils.hue2rgb(o,s,t.h),r.b=ColorUtils.hue2rgb(o,s,t.h-1/3)}return r.r=Math.round(255*r.r),r.g=Math.round(255*r.g),r.b=Math.round(255*r.b),r}static hslaToRgba(t){const r=ColorUtils.hslToRgb(t);return{a:t.a,b:r.b,g:r.g,r:r.r}}static getRandomRgbColor(t){var r;const s=t||0,o=s+s*Math.pow(16,2)+s*Math.pow(16,4),a=16777215^o,l=(Math.random()*a+o).toString(16);return null!==(r=this.stringToRgb(`#${l}`))&&void 0!==r?r:{b:0,g:0,r:0}}static getStyleFromColor(t,r){const s=null!=r?r:.4;return`rgba(${Math.round(t.r)}, ${Math.round(t.g)}, ${Math.round(t.b)}, ${s})`}static hue2rgb(t,r,s){let o=s;return o<0&&(o+=1),o>1&&(o-=1),o<1/6?t+6*(r-t)*o:o<.5?r:o<2/3?t+(r-t)*(2/3-o)*6:t}static stringToRgba(t){if(t.startsWith("rgb")){const r=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d\.]+)\s*)?\)/i.exec(t);return r?{a:parseInt(r[4]),b:parseInt(r[3]),g:parseInt(r[2]),r:parseInt(r[1])}:void 0}if(t.startsWith("hsl")){const r=/hsla?\(\s*(\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([\d\.]+)\s*)?\)/i.exec(t);return r?ColorUtils.hslaToRgba({a:parseInt(r[4]),h:parseInt(r[1]),l:parseInt(r[3]),s:parseInt(r[2])}):void 0}{const r=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,s=t.replace(r,(t,r,s,o,a)=>r+r+s+s+o+o+(a?a+a:"")),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(s);return o?{a:parseInt(o[4],16)/255,b:parseInt(o[3],16),g:parseInt(o[2],16),r:parseInt(o[1],16)}:void 0}}};