import{ColorUtils}from"../Utils/ColorUtils";import{Utils}from"../Utils/Utils";export class Linker{constructor(i,o){this.container=i,this.particle=o}link(i){const o=this.container,t=o.options,e=this.particle,n={x:e.position.x+e.offset.x,y:e.position.y+e.offset.y},l={x:i.position.x+i.offset.x,y:i.position.y+i.offset.y},s=Utils.getDistanceBetweenCoordinates(n,l),r=t.particles.lineLinked.opacity,c=o.retina.lineLinkedDistance;if(s<=c){const a=r-s*r/c;if(a>0){if(!o.particles.lineLinkedColor){const i=t.particles.lineLinked.color;"random"===i?t.particles.lineLinked.consent?o.particles.lineLinkedColor=ColorUtils.stringToRgb(i):t.particles.lineLinked.blink?o.particles.lineLinkedColor="random":o.particles.lineLinkedColor="mid":o.particles.lineLinkedColor="string"==typeof i?ColorUtils.stringToRgb(i):ColorUtils.colorToRgb(i)}o.canvas.drawLinkedLine(e,i,n,l,a)}}}};