"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Absorber_1=require("./Absorber"),ClickMode_1=require("../../Enums/Modes/ClickMode"),Utils_1=require("../../Utils/Utils"),Absorbers=function(){function r(r){this.container=r,this.array=[]}return r.prototype.init=function(){var r=this.container.options;if(r.absorbers instanceof Array)for(var e=0,t=r.absorbers;e<t.length;e++){var o=t[e],s=new Absorber_1.Absorber(this,o);this.addAbsorber(s)}else{o=r.absorbers,s=new Absorber_1.Absorber(this,o);this.addAbsorber(s)}},r.prototype.particleUpdate=function(r,e){for(var t=0,o=this.array;t<o.length;t++){if(o[t].attract(r,e),r.destroyed)break}},r.prototype.draw=function(r){for(var e=0,t=this.array;e<t.length;e++){var o=t[e];r.save(),o.draw(r),r.restore()}},r.prototype.stop=function(){this.array=[]},r.prototype.resize=function(){for(var r=0,e=this.array;r<e.length;r++){e[r].resize()}},r.prototype.handleClickMode=function(r){var e,t,o,s,i,a=this.container,n=a.options;r===ClickMode_1.ClickMode.absorber&&(e=void 0,(t=n.interactivity.modes.absorbers)instanceof Array?0<t.length&&(e=Utils_1.Utils.itemFromArray(t)):e=t,o=null!=e?e:n.absorbers instanceof Array?Utils_1.Utils.itemFromArray(n.absorbers):n.absorbers,s=a.interactivity.mouse.clickPosition,i=new Absorber_1.Absorber(this,o,s),this.addAbsorber(i))},r.prototype.addAbsorber=function(r){this.array.push(r)},r.prototype.removeAbsorber=function(r){var e=this.array.indexOf(r);0<=e&&this.array.splice(e,1)},r}();exports.Absorbers=Absorbers;