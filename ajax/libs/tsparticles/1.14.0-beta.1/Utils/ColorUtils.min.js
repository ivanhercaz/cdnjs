"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Utils_1=require("./Utils"),Constants_1=require("./Constants"),ColorUtils=function(){function i(){}return i.colorToRgb=function(r){var t,o,a,s,n,l,e;return"string"==typeof r.value?s=r.value===Constants_1.Constants.randomColorValue?{b:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),r:Math.floor(256*Math.random())}:i.stringToRgb(r.value):r.value instanceof Array?(a=Utils_1.Utils.itemFromArray(r.value),s=i.stringToRgb(a)):void 0!==(l=null!==(t=(n=r.value).rgb)&&void 0!==t?t:r.value).r?s=l:void 0!==(e=null!==(o=n.hsl)&&void 0!==o?o:r.value).h&&(s=i.hslToRgb(e)),s},i.stringToAlpha=function(r){var t;return null===(t=i.stringToRgba(r))||void 0===t?void 0:t.a},i.stringToRgb=function(r){return i.stringToRgba(r)},i.hslToRgb=function(r){var t,o,a={b:0,g:0,r:0},s={h:1<r.h?r.h/360:r.h,l:1<r.l?r.l/100:r.l,s:1<r.s?r.s/100:r.s};return 0===s.s?(a.b=s.l,a.g=s.l,a.r=s.l):(o=2*s.l-(t=s.l<.5?s.l*(1+s.s):s.l+s.s-s.l*s.s),a.r=i.hue2rgb(o,t,s.h+1/3),a.g=i.hue2rgb(o,t,s.h),a.b=i.hue2rgb(o,t,s.h-1/3)),a.r=Math.floor(255*a.r),a.g=Math.floor(255*a.g),a.b=Math.floor(255*a.b),a},i.hslaToRgba=function(r){var t=i.hslToRgb(r);return{a:r.a,b:t.b,g:t.g,r:t.r}},i.getRandomRgbColor=function(r){var t,o=r||0,a=o+o*Math.pow(16,2)+o*Math.pow(16,4),s=16777215^a,n=Math.floor(Math.random()*s|a).toString(16);return null!==(t=this.stringToRgb("#"+n))&&void 0!==t?t:{b:0,g:0,r:0}},i.getStyleFromColor=function(r,t){var o=null!=t?t:1;return"rgba("+r.r+", "+r.g+", "+r.b+", "+o+")"},i.mix=function(r,t,o,a){return{b:Utils_1.Utils.mix(r.b,t.b,o,a),g:Utils_1.Utils.mix(r.g,t.g,o,a),r:Utils_1.Utils.mix(r.r,t.r,o,a)}},i.hue2rgb=function(r,t,o){var a=o;return a<0&&(a+=1),1<a&&--a,a<1/6?r+6*(t-r)*a:a<.5?t:a<2/3?r+(t-r)*(2/3-a)*6:r},i.stringToRgba=function(r){if(r.startsWith("rgb"))return(t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i.exec(r))?{a:4<t.length?parseFloat(t[5]):1,b:parseInt(t[3],10),g:parseInt(t[2],10),r:parseInt(t[1],10)}:void 0;if(r.startsWith("hsl"))return(t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(r))?i.hslaToRgba({a:4<t.length?parseFloat(t[5]):1,h:parseInt(t[1],10),l:parseInt(t[3],10),s:parseInt(t[2],10)}):void 0;var t,o=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,function(r,t,o,a,s){return t+t+o+o+a+a+(void 0!==s?s+s:"")});return(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(o))?{a:void 0!==t[4]?parseInt(t[4],16)/255:1,b:parseInt(t[3],16),g:parseInt(t[2],16),r:parseInt(t[1],16)}:void 0},i}();exports.ColorUtils=ColorUtils;