"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Retina = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var Retina = /*#__PURE__*/function () {
  function Retina(container) {
    (0, _classCallCheck2["default"])(this, Retina);
    this.isRetina = void 0;
    this.bubbleModeDistance = void 0;
    this.bubbleModeSize = void 0;
    this.connectModeDistance = void 0;
    this.connectModeRadius = void 0;
    this.grabModeDistance = void 0;
    this.repulseModeDistance = void 0;
    this.slowModeRadius = void 0;
    this.lineLinkedDistance = void 0;
    this.lineLinkedWidth = void 0;
    this.moveSpeed = void 0;
    this.sizeValue = void 0;
    this.sizeAnimationSpeed = void 0;
    this.polygonMaskMoveRadius = void 0;
    this.pxRatio = void 0;
    this.container = void 0;
    this.container = container;
    this.isRetina = false;
    this.bubbleModeDistance = 0;
    this.bubbleModeSize = 0;
    this.connectModeDistance = 0;
    this.connectModeRadius = 0;
    this.grabModeDistance = 0;
    this.repulseModeDistance = 0;
    this.slowModeRadius = 0;
    this.lineLinkedDistance = 0;
    this.lineLinkedWidth = 0;
    this.moveSpeed = 0;
    this.sizeValue = 0;
    this.sizeAnimationSpeed = 0;
    this.polygonMaskMoveRadius = 0;
    this.pxRatio = 1;
  }

  (0, _createClass2["default"])(Retina, [{
    key: "init",
    value: function init() {
      var container = this.container;
      var options = container.options;

      if (options.detectRetina && window.devicePixelRatio > 1) {
        this.pxRatio = window.devicePixelRatio;
        this.isRetina = true;
      } else {
        this.pxRatio = 1;
        this.isRetina = false;
      }

      var ratio = this.pxRatio;
      container.canvas.dimension.width = container.canvas.element.offsetWidth * ratio;
      container.canvas.dimension.height = container.canvas.element.offsetHeight * ratio;
      this.bubbleModeDistance = options.interactivity.modes.bubble.distance * ratio;
      this.bubbleModeSize = options.interactivity.modes.bubble.size * ratio;
      this.connectModeDistance = options.interactivity.modes.connect.distance * ratio;
      this.connectModeRadius = options.interactivity.modes.connect.radius * ratio;
      this.grabModeDistance = options.interactivity.modes.grab.distance * ratio;
      this.repulseModeDistance = options.interactivity.modes.repulse.distance * ratio;
      this.slowModeRadius = options.interactivity.modes.slow.radius * ratio;
      this.lineLinkedDistance = options.particles.lineLinked.distance * ratio;
      this.lineLinkedWidth = options.particles.lineLinked.width * ratio;
      this.moveSpeed = options.particles.move.speed * ratio;
      this.sizeValue = options.particles.size.value * ratio;
      this.sizeAnimationSpeed = options.particles.size.animation.speed * ratio;
      this.polygonMaskMoveRadius = options.polygon.move.radius * ratio;
    }
  }, {
    key: "reset",
    value: function reset() {}
  }]);
  return Retina;
}();

exports.Retina = Retina;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9DbGFzc2VzL1JldGluYS50cyJdLCJuYW1lcyI6WyJSZXRpbmEiLCJjb250YWluZXIiLCJpc1JldGluYSIsImJ1YmJsZU1vZGVEaXN0YW5jZSIsImJ1YmJsZU1vZGVTaXplIiwiY29ubmVjdE1vZGVEaXN0YW5jZSIsImNvbm5lY3RNb2RlUmFkaXVzIiwiZ3JhYk1vZGVEaXN0YW5jZSIsInJlcHVsc2VNb2RlRGlzdGFuY2UiLCJzbG93TW9kZVJhZGl1cyIsImxpbmVMaW5rZWREaXN0YW5jZSIsImxpbmVMaW5rZWRXaWR0aCIsIm1vdmVTcGVlZCIsInNpemVWYWx1ZSIsInNpemVBbmltYXRpb25TcGVlZCIsInBvbHlnb25NYXNrTW92ZVJhZGl1cyIsInB4UmF0aW8iLCJvcHRpb25zIiwiZGV0ZWN0UmV0aW5hIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsInJhdGlvIiwiY2FudmFzIiwiZGltZW5zaW9uIiwid2lkdGgiLCJlbGVtZW50Iiwib2Zmc2V0V2lkdGgiLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJpbnRlcmFjdGl2aXR5IiwibW9kZXMiLCJidWJibGUiLCJkaXN0YW5jZSIsInNpemUiLCJjb25uZWN0IiwicmFkaXVzIiwiZ3JhYiIsInJlcHVsc2UiLCJzbG93IiwicGFydGljbGVzIiwibGluZUxpbmtlZCIsIm1vdmUiLCJzcGVlZCIsInZhbHVlIiwiYW5pbWF0aW9uIiwicG9seWdvbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7SUFJYUEsTTtBQW1CVCxrQkFBWUMsU0FBWixFQUFrQztBQUFBO0FBQUEsU0FsQjNCQyxRQWtCMkI7QUFBQSxTQWpCM0JDLGtCQWlCMkI7QUFBQSxTQWhCM0JDLGNBZ0IyQjtBQUFBLFNBZjNCQyxtQkFlMkI7QUFBQSxTQWQzQkMsaUJBYzJCO0FBQUEsU0FiM0JDLGdCQWEyQjtBQUFBLFNBWjNCQyxtQkFZMkI7QUFBQSxTQVgzQkMsY0FXMkI7QUFBQSxTQVYzQkMsa0JBVTJCO0FBQUEs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aEU7QUFDQSxXQUFLWCxrQkFBTCxHQUEwQk8sT0FBTyxDQUFDc0IsU0FBUixDQUFrQkMsVUFBbEIsQ0FBNkJSLFFBQTdCLEdBQXdDWCxLQUFsRTtBQUNBLFdBQUtWLGVBQUwsR0FBdUJNLE9BQU8sQ0FBQ3NCLFNBQVIsQ0FBa0JDLFVBQWxCLENBQTZCaEIsS0FBN0IsR0FBcUNILEtBQTVEO0FBQ0EsV0FBS1QsU0FBTCxHQUFpQkssT0FBTyxDQUFDc0IsU0FBUixDQUFrQkUsSUFBbEIsQ0FBdUJDLEtBQXZCLEdBQStCckIsS0FBaEQ7QUFDQSxXQUFLUixTQUFMLEdBQWlCSSxPQUFPLENBQUNzQixTQUFSLENBQWtCTixJQUFsQixDQUF1QlUsS0FBdkIsR0FBK0J0QixLQUFoRDtBQUNBLFdBQUtQLGtCQUFMLEdBQTBCRyxPQUFPLENBQUNzQixTQUFSLENBQWtCTixJQUFsQixDQUF1QlcsU0FBdkIsQ0FBaUNGLEtBQWpDLEdBQXlDckIsS0FBbkU7QUFDQSxXQUFLTixxQkFBTCxHQUE2QkUsT0FBTyxDQUFDNEIsT0FBUixDQUFnQkosSUFBaEIsQ0FBcUJOLE1BQXJCLEdBQThCZCxLQUEzRDtBQUNIOzs7NEJBRW9CLENBQ3BCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7Q29udGFpbmVyfSBmcm9tIFwiLi9Db250YWluZXJcIjtcblxuZXhwb3J0IGNsYXNzIFJldGluYSB7XG4gICAgcHVibGljIGlzUmV0aW5hOiBib29sZWFuO1xuICAgIHB1YmxpYyBidWJibGVNb2RlRGlzdGFuY2U6IG51bWJlcjtcbiAgICBwdWJsaWMgYnViYmxlTW9kZVNpemU6IG51bWJlcjtcbiAgICBwdWJsaWMgY29ubmVjdE1vZGVEaXN0YW5jZTogbnVtYmVyO1xuICAgIHB1YmxpYyBjb25uZWN0TW9kZVJhZGl1czogbnVtYmVyO1xuICAgIHB1YmxpYyBncmFiTW9kZURpc3RhbmNlOiBudW1iZXI7XG4gICAgcHVibGljIHJlcHVsc2VNb2RlRGlzdGFuY2U6IG51bWJlcjtcbiAgICBwdWJsaWMgc2xvd01vZGVSYWRpdXM6IG51bWJlcjtcbiAgICBwdWJsaWMgbGluZUxpbmtlZERpc3RhbmNlOiBudW1iZXI7XG4gICAgcHVibGljIGxpbmVMaW5rZWRXaWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBtb3ZlU3BlZWQ6IG51bWJlcjtcbiAgICBwdWJsaWMgc2l6ZVZhbHVlOiBudW1iZXI7XG4gICAgcHVibGljIHNpemVBbmltYXRpb25TcGVlZDogbnVtYmVyO1xuICAgIHB1YmxpYyBwb2x5Z29uTWFza01vdmVSYWRpdXM6IG51bWJlcjtcbiAgICBwdWJsaWMgcHhSYXRpbzogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IENvbnRhaW5lcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmlzUmV0aW5hID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnViYmxlTW9kZURpc3RhbmNlID0gMDtcbiAgICAgICAgdGhpcy5idWJibGVNb2RlU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuY29ubmVjdE1vZGVEaXN0YW5jZSA9IDA7XG4gICAgICAgIHRoaXMuY29ubmVjdE1vZGVSYWRpdXMgPSAwO1xuICAgICAgICB0aGlzLmdyYWJNb2RlRGlzdGFuY2UgPSAwO1xuICAgICAgICB0aGlzLnJlcHVsc2VNb2RlRGlzdGFuY2UgPSAwO1xuICAgICAgICB0aGlzLnNsb3dNb2RlUmFkaXVzID0gMDtcbiAgICAgICAgdGhpcy5saW5lTGlua2VkRGlzdGFuY2UgPSAwO1xuICAgICAgICB0aGlzLmxpbmVMaW5rZWRXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMubW92ZVNwZWVkID0gMDtcbiAgICAgICAgdGhpcy5zaXplVmFsdWUgPSAwO1xuICAgICAgICB0aGlzLnNpemVBbmltYXRpb25TcGVlZCA9IDA7XG4gICAgICAgIHRoaXMucG9seWdvbk1hc2tNb3ZlUmFkaXVzID0gMDtcbiAgICAgICAgdGhpcy5weFJhdGlvID0gMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjb250YWluZXIub3B0aW9ucztcblxuICAgICAgICBpZiAob3B0aW9ucy5kZXRlY3RSZXRpbmEgJiYgd2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxKSB7XG4gICAgICAgICAgICB0aGlzLnB4UmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcblxuICAgICAgICAgICAgdGhpcy5pc1JldGluYSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnB4UmF0aW8gPSAxO1xuXG4gICAgICAgICAgICB0aGlzLmlzUmV0aW5hID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYXRpbyA9IHRoaXMucHhSYXRpbztcblxuICAgICAgICBjb250YWluZXIuY2FudmFzLmRpbWVuc2lvbi53aWR0aCA9IGNvbnRhaW5lci5jYW52YXMuZWxlbWVudC5vZmZzZXRXaWR0aCAqIHJhdGlvO1xuICAgICAgICBjb250YWluZXIuY2FudmFzLmRpbWVuc2lvbi5oZWlnaHQgPSBjb250YWluZXIuY2FudmFzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0ICogcmF0aW87XG5cbiAgICAgICAgdGhpcy5idWJibGVNb2RlRGlzdGFuY2UgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLmRpc3RhbmNlICogcmF0aW87XG4gICAgICAgIHRoaXMuYnViYmxlTW9kZVNpemUgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLnNpemUgKiByYXRpbztcbiAgICAgICAgdGhpcy5jb25uZWN0TW9kZURpc3RhbmNlID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmNvbm5lY3QuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5jb25uZWN0TW9kZVJhZGl1cyA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5jb25uZWN0LnJhZGl1cyAqIHJhdGlvO1xuICAgICAgICB0aGlzLmdyYWJNb2RlRGlzdGFuY2UgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuZ3JhYi5kaXN0YW5jZSAqIHJhdGlvO1xuICAgICAgICB0aGlzLnJlcHVsc2VNb2RlRGlzdGFuY2UgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMucmVwdWxzZS5kaXN0YW5jZSAqIHJhdGlvO1xuICAgICAgICB0aGlzLnNsb3dNb2RlUmFkaXVzID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLnNsb3cucmFkaXVzICogcmF0aW87XG4gICAgICAgIHRoaXMubGluZUxpbmtlZERpc3RhbmNlID0gb3B0aW9ucy5wYXJ0aWNsZXMubGluZUxpbmtlZC5kaXN0YW5jZSAqIHJhdGlvO1xuICAgICAgICB0aGlzLmxpbmVMaW5rZWRXaWR0aCA9IG9wdGlvbnMucGFydGljbGVzLmxpbmVMaW5rZWQud2lkdGggKiByYXRpbztcbiAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSBvcHRpb25zLnBhcnRpY2xlcy5tb3ZlLnNwZWVkICogcmF0aW87XG4gICAgICAgIHRoaXMuc2l6ZVZhbHVlID0gb3B0aW9ucy5wYXJ0aWNsZXMuc2l6ZS52YWx1ZSAqIHJhdGlvO1xuICAgICAgICB0aGlzLnNpemVBbmltYXRpb25TcGVlZCA9IG9wdGlvbnMucGFydGljbGVzLnNpemUuYW5pbWF0aW9uLnNwZWVkICogcmF0aW87XG4gICAgICAgIHRoaXMucG9seWdvbk1hc2tNb3ZlUmFkaXVzID0gb3B0aW9ucy5wb2x5Z29uLm1vdmUucmFkaXVzICogcmF0aW87XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgIH1cbn1cbiJdfQ==