{"version":3,"sources":["../../src/HOCs/deprecatePropsHOC.jsx"],"names":["DEPRECATED_PROPS","deprecatePropsHOC","WithDeprecatedProps","imgixParams","props","customParams","propsWithOutDeprecated","forEach","deprecatedProp","faces","crop","entropy","propTypes","WrappedComponent","auto","PropTypes","array","object","string","bool","fit","defaultProps","displayName"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AAEA,IAAMA,mBAAmB,CAAC,MAAD,EAAS,MAAT,EAAiB,KAAjB,CAAzB;AACA,IAAMC,oBAAoB,SAApBA,iBAAoB,mBAAoB;AAC5C,MAAMC,sBAAsB,SAAtBA,mBAAsB,QAAS;AACnC,QAAMC,2BACAC,MAAMC,YAAN,IAAsB,EADtB,EAEDD,MAAMD,WAFL,CAAN;AAIA,QAAMG,sCACDF,KADC;AAEJD;AAFI,MAAN;AAIAH,qBAAiBO,OAAjB,CAAyB,0BAAkB;AACzC,2BACE,EAAEC,kBAAkBJ,KAApB,CADF,iBAEeI,cAFf,yGAEiIA,cAFjI;;AAKA,UAAIA,kBAAkBJ,KAAtB,EAA6B;AAC3B,eAAOE,uBAAuBE,cAAvB,CAAP;AACAL,oBAAYK,cAAZ,IAA8BJ,MAAMI,cAAN,CAA9B;AACD;AACF,KAVD;AAWA,yBACE,EAAE,kBAAkBJ,KAApB,CADF;AAIA,WAAOE,uBAAuBD,YAA9B;;AAEA,QAAID,MAAMK,KAAV,EAAiB;AACf,2BACE,KADF;AAIA,aAAOH,uBAAuBG,KAA9B;AACA,UAAI,CAACN,YAAYO,IAAjB,EAAuB;AACrBP,oBAAYO,IAAZ,GAAmB,OAAnB;AACD;AACF;AACD,QAAIN,MAAMO,OAAV,EAAmB;AACjB,2BACE,KADF;AAIA,aAAOL,uBAAuBK,OAA9B;AACA,UAAI,CAACR,YAAYO,IAAjB,EAAuB;AACrBP,oBAAYO,IAAZ,GAAmB,SAAnB;AACD;AACF;;AAED,WAAO,8BAAC,gBAAD,EAAsBJ,sBAAtB,CAAP;AACD,GAhDD;AAiDAJ,sBAAoBU,SAApB,gBACKC,iBAAiBD,SADtB;AAEEE,UAAMC,oBAAUC,KAFlB;AAGEX,kBAAcU,oBAAUE,MAH1B;AAIEP,UAAMK,oBAAUG,MAJlB;AAKEP,aAASI,oBAAUI,IALrB;AAMEV,WAAOM,oBAAUI,IANnB;AAOEC,SAAKL,oBAAUG;AAPjB;AASAhB,sBAAoBmB,YAApB,GAAmC;AACjClB,iBAAa;AADoB,GAAnC;AAGAD,sBAAoBoB,WAApB,4BACET,iBAAiBS,WADnB;;AAIA,SAAOpB,mBAAP;AACD,CAnED;;QAqESD,iB,GAAAA,iB","file":"deprecatePropsHOC.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { warning } from \"../common\";\n\nconst DEPRECATED_PROPS = [\"auto\", \"crop\", \"fit\"];\nconst deprecatePropsHOC = WrappedComponent => {\n  const WithDeprecatedProps = props => {\n    const imgixParams = {\n      ...(props.customParams || {}),\n      ...props.imgixParams\n    };\n    const propsWithOutDeprecated = {\n      ...props,\n      imgixParams\n    };\n    DEPRECATED_PROPS.forEach(deprecatedProp => {\n      warning(\n        !(deprecatedProp in props),\n        `The prop '${deprecatedProp}' has been deprecated and will be removed in v9. Please update the usage to <Imgix imgixParams={{${deprecatedProp}: value}} />`\n      );\n\n      if (deprecatedProp in props) {\n        delete propsWithOutDeprecated[deprecatedProp];\n        imgixParams[deprecatedProp] = props[deprecatedProp];\n      }\n    });\n    warning(\n      !(\"customParams\" in props),\n      `The prop 'customParams' has been replaced with 'imgixParams' and will be removed in v9. Please update usage to <Imgix imgixParams={customParams} />`\n    );\n    delete propsWithOutDeprecated.customParams;\n\n    if (props.faces) {\n      warning(\n        false,\n        `The prop 'faces' has been deprecated and will be removed in v9. Please update the usage to <Imgix imgixParams={{crop: 'faces'}} />`\n      );\n      delete propsWithOutDeprecated.faces;\n      if (!imgixParams.crop) {\n        imgixParams.crop = \"faces\";\n      }\n    }\n    if (props.entropy) {\n      warning(\n        false,\n        `The prop 'entropy' has been deprecated and will be removed in v9. Please update the usage to <Imgix imgixParams={{crop: 'entropy'}} />`\n      );\n      delete propsWithOutDeprecated.entropy;\n      if (!imgixParams.crop) {\n        imgixParams.crop = \"entropy\";\n      }\n    }\n\n    return <WrappedComponent {...propsWithOutDeprecated} />;\n  };\n  WithDeprecatedProps.propTypes = {\n    ...WrappedComponent.propTypes,\n    auto: PropTypes.array,\n    customParams: PropTypes.object,\n    crop: PropTypes.string,\n    entropy: PropTypes.bool,\n    faces: PropTypes.bool,\n    fit: PropTypes.string\n  };\n  WithDeprecatedProps.defaultProps = {\n    imgixParams: {}\n  };\n  WithDeprecatedProps.displayName = `WithDeprecatedProps(${\n    WrappedComponent.displayName\n  })`;\n\n  return WithDeprecatedProps;\n};\n\nexport { deprecatePropsHOC };\n"]}