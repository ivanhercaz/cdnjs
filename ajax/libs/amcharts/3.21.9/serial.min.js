!function(){var m=window.AmCharts;m.AmRectangularChart=m.Class({inherits:m.AmCoordinateChart,construct:function(t){m.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,m.applyTheme(this,t,"AmRectangularChart")},initChart:function(){m.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(m.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),m.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var t,i={};if("xy"==this.type){var e=this.xAxes,a=this.yAxes;for(t=0;t<e.length;t++){var s=e[t];s.ignoreAxisWidth||(s.setOrientation(!0),s.fixAxisPosition(),i[s.position]=!0)}for(t=0;t<a.length;t++)(e=a[t]).ignoreAxisWidth||(e.setOrientation(!1),e.fixAxisPosition(),i[e.position]=!0)}else{for(a=this.valueAxes,t=0;t<a.length;t++)(e=a[t]).ignoreAxisWidth||(e.setOrientation(this.rotate),e.fixAxisPosition(),i[e.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),i[t.position]=!0)}i.left&&(this.marginLeft=0),i.right&&(this.marginRight=0),i.top&&(this.marginTop=0),i.bottom&&(this.marginBottom=0),this.fixMargins=i},measureMargins:function(){var t,i,e=this.valueAxes,a=this.autoMarginOffset,s=this.fixMargins,h=this.realWidth,o=this.realHeight,r=a,n=a,l=h;for(t=o,i=0;i<e.length;i++)e[i].handleSynchronization(),t=this.getAxisBounds(e[i],r,l,n,t),r=Math.round(t.l),l=Math.round(t.r),n=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,r,l,n,t),r=Math.round(t.l),l=Math.round(t.r),n=Math.round(t.t),t=Math.round(t.b)),s.left&&r<a&&(this.marginLeft=Math.round(-r+a),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),s.right&&h-a<=l&&(this.marginRight=Math.round(l-h+a),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),s.top&&n<a+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-n+a+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),s.bottom&&o-a<t&&(this.marginBottom=Math.round(this.marginBottom+t-o+a),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,i,e,a,s){if(!t.ignoreAxisWidth){var h=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),h)switch(h=t.getBBox(),t.position){case"top":(t=h.y)<a&&(a=t);break;case"bottom":s<(t=h.y+h.height)&&(s=t);break;case"right":e<(t=h.x+h.width+o+3)&&(e=t);break;case"left":(t=h.x-o)<i&&(i=t)}}return{l:i,t:a,r:e,b:s}},drawZoomOutButton:function(){var i=this;if(!i.zbSet){var t=i.container.set();i.zoomButtonSet.push(t);var e,a=i.color,s=i.fontSize,h=i.zoomOutButtonImageSize,o=i.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),r=i.langObj.zoomOutText||i.zoomOutText,n=i.zoomOutButtonColor,l=i.zoomOutButtonAlpha,d=i.zoomOutButtonFontSize,u=i.zoomOutButtonPadding;isNaN(d)||(s=d),(d=i.zoomOutButtonFontColor)&&(a=d),(d=i.zoomOutButton)&&(d.fontSize&&(s=d.fontSize),d.color&&(a=d.color),d.backgroundColor&&(n=d.backgroundColor),isNaN(d.backgroundAlpha)||(i.zoomOutButtonRollOverAlpha=d.backgroundAlpha));var c=d=0;c=i.pathToImages;for(o&&(!m.isAbsolute(o)&&void 0!==c||(c=""),e=i.container.image(c+o+i.extension,0,0,h,h),m.setCN(i,e,"zoom-out-image"),t.push(e),d=(e=e.getBBox()).width+5),void 0!==r&&(a=m.text(i.container,r,a,i.fontFamily,s,"start"),m.setCN(i,a,"zoom-out-label"),s=a.getBBox(),c=e?e.height/2-3:s.height/2,a.translate(d,c),t.push(a)),e=t.getBBox(),a=1,m.isModern||(a=0),(n=m.rect(i.container,e.width+2*u+5,e.height+2*u-2,n,1,1,n,a)).setAttr("opacity",l),n.translate(-u,-u),m.setCN(i,n,"zoom-out-bg"),t.push(n),n.toBack(),e=(i.zbBG=n).getBBox(),t.translate(i.marginLeftReal+i.plotAreaWidth-e.width+u,i.marginTopReal+u),t.hide(),t.mouseover(function(){i.rollOverZB()}).mouseout(function(){i.rollOutZB()}).click(function(){i.clickZB()}).touchstart(function(){i.rollOverZB()}).touchend(function(){i.rollOutZB(),i.clickZB()}),l=0;l<t.length;l++)t[l].attr({cursor:"pointer"});void 0!==i.zoomOutButtonTabIndex&&(t.setAttr("tabindex",i.zoomOutButtonTabIndex),t.setAttr("role","menuitem"),t.keyup(function(t){13==t.keyCode&&i.clickZB()})),i.zbSet=t}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,i=this.dy,e=this.marginLeftReal,a=this.marginTopReal,s=this.plotAreaWidth-1,h=this.plotAreaHeight-1,o=this.plotAreaFillColors,r=this.plotAreaFillAlphas,n=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;"object"==typeof r&&(r=r[0]),o=m.polygon(this.container,[0,s,s,0,0],[0,0,h,h,0],o,r,1,n,l,this.plotAreaGradientAngle),m.setCN(this,o,"plot-area"),o.translate(e+t,a+i),this.set.push(o),0!==t&&0!==i&&("object"==typeof(o=this.plotAreaFillColors)&&(o=o[0]),o=m.adjustLuminosity(o,-.15),s=m.polygon(this.container,[0,t,s+t,s,0],[0,i,i,0,0],o,r,1,n,l),m.setCN(this,s,"plot-area-bottom"),s.translate(e,a+h),this.set.push(s),t=m.polygon(this.container,[0,0,t,t,0],[0,h,h+i,i,0],o,r,1,n,l),m.setCN(this,t,"plot-area-left"),t.translate(e,a),this.set.push(t)),(e=this.bbset)&&this.scrollbarOnly&&e.remove()},updatePlotArea:function(){var t=this.updateWidth(),i=this.updateHeight(),e=this.container;this.realWidth=t,this.realWidth=i,e&&this.container.setSize(t,i);e=this.marginLeftReal;var a=this.marginTopReal;(t=t-e-this.marginRightReal-this.dx)<1&&(t=1),(i=i-a-this.marginBottomReal)<1&&(i=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(i),this.plotBalloonsSet.translate(e,a)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,i=this.valueAxes;for(t=0;t<i.length;t++){var e=i[t];this.setAxisRenderers(e),this.updateObjectSize(e)}},setAxisRenderers:function(t){t.axisRenderer=m.RecAxis,t.guideFillRenderer=m.RecFill,t.axisItemRenderer=m.RecItem,t.marginsChanged=!0},updateGraphs:function(){var t,i=this.graphs;for(t=0;t<i.length;t++){var e=i[t];e.index=t,e.rotate=this.rotate,this.updateObjectSize(e)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=m.processObject(t,m.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=m.processObject(t,m.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){m.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,i=this.trendLines;for(t=0;t<i.length;t++){var e=i[t];e.valueAxis.recalculateToPercents?e.set&&e.set.hide():(e.x=this.marginLeftReal,e.y=this.marginTopReal,e.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,i=0;i<t.length;i++)t[i].zoomOut()},removeTrendLine:function(t){var i,e=this.trendLines;for(i=e.length-1;0<=i;i--)e[i]==t&&e.splice(i,1)},adjustMargins:function(t,i){var e=t.position,a=t.scrollbarHeight+t.offset;t.enabled&&("top"==e?i?this.marginLeftReal+=a:this.marginTopReal+=a:i?this.marginRightReal+=a:this.marginBottomReal+=a)},getScrollbarPosition:function(t,i,e){var a="bottom",s="top";t.oppositeAxis||(s=a,a="top"),t.position=i?"bottom"==e||"left"==e?a:s:"top"==e||"right"==e?a:s},updateChartScrollbar:function(t,i){if(t){t.rotate=i;var e=this.marginTopReal,a=this.marginLeftReal,s=t.scrollbarHeight,h=this.dx,o=this.dy,r=t.offset;"top"==t.position?i?(t.y=e,t.x=a-s-r):(t.y=e-s+o-r,t.x=a+h):i?(t.y=e+o,t.x=a+this.plotAreaWidth+h+r):(t.y=e+this.plotAreaHeight+r,t.x=this.marginLeftReal)}},showZB:function(t){var i=this.zbSet;!t||""!==(i=this.zoomOutText)&&i&&this.drawZoomOutButton(),(i=this.zbSet)&&(this.zoomButtonSet.push(i),t?i.show():i.hide(),this.rollOutZB())},handleReleaseOutside:function(t){m.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){m.AmRectangularChart.base.handleMouseDown.call(this,t);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(t)},update:function(){m.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var i=t.valueAxes[0],e=i.relativeStart,a=i.relativeEnd;i.reversed&&(a=1-e,e=1-i.relativeEnd),t.percentZoom(e,a)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,i=this.valueAxes;for(t=0;t<i.length;t++)i[t].zoom(this.start,this.end);for(i=this.graphs,t=0;t<i.length;t++)i[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,i){var e=t.relativeStart;if((s=t.relativeEnd)<e)var a=e,s=(e=s,a);this.relativeZoomValueAxes(i,e,s),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(t,i,e){if(this.hideBalloonReal(),i=m.fitToBounds(i,0,1),(e=m.fitToBounds(e,0,1))<i){var a=i;i=e,e=a}a=1/this.maxZoomFactor;var s=m.getDecimals(a)+4;if(e-i<a&&(i=(e=i+(e-i)/2)-a/2,1<(e+=a/2)&&(i-=e-1,e=1),i<0&&(i=0,e=a)),i=m.roundTo(i,s),e=m.roundTo(e,s),a=!1,t){for(s=0;s<t.length;s++){var h=t[s].zoomToRelativeValues(i,e,!0);h&&(a=h)}this.showZB()}return a},addChartCursor:function(t){m.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide)),this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(t){var i,e=this.valueAxes;for(i=0;i<e.length;i++)if(!t.panning){var a=e[i];a&&a.showBalloon&&a.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var i=this.startX0,e=this.endX0,a=this.endY0,s=this.startY0,h=t.startX,o=t.endX,r=t.startY,n=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(i+h*(e-i),i+o*(e-i),s+r*(a-s),s+n*(a-s),t)}},handleCursorHide:function(){var t,i=this.valueAxes;for(t=0;t<i.length;t++)i[t].hideBalloon();for(i=this.graphs,t=0;t<i.length;t++)i[t].hideBalloonReal()}})}(),function(){var M=window.AmCharts;M.AmSerialChart=M.Class({inherits:M.AmRectangularChart,construct:function(t){this.type="serial",M.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var i=new M.CategoryAxis(t);(i.chart=this).categoryAxis=i,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,M.applyTheme(this,t,this.cname)},initChart:function(){M.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var t,i=this.countColumns(),e=this.chartData,a=this.graphs;for(t=0;t<a.length;t++){var s=a[t];s.data=e,s.columnCount=i}0<e.length&&(this.firstTime=this.getStartTime(e[0].time),this.lastTime=this.getEndTime(e[e.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var t,i,e=this.valueAxes;if(0<e.length){var a=0;for(i=0;i<e.length;i++)a<(t=e[i]).gridCountReal&&(a=t.gridCountReal);var s=!1;for(i=0;i<e.length;i++)if((t=e[i]).gridCountReal<a){var h=(a-t.gridCountReal)/2,o=s=h;0!=h-Math.round(h)&&(s-=.5,o+=.5),0<=t.min&&t.min-s*t.step<0&&(o+=s,s=0),t.max<=0&&0<t.max+o*t.step&&(s+=o,o=0),h=M.getDecimals(t.step),t.minimum=M.roundTo(t.min-s*t.step,h),t.maximum=M.roundTo(t.max+o*t.step,h),t.setStep=t.step,s=t.strictMinMax=!0}for(s&&this.updateAfterValueZoom(),i=0;i<e.length;i++)(t=e[i]).minimum=NaN,t.maximum=NaN,t.setStep=NaN,t.strictMinMax=!1}}},handleWheelReal:function(t,i){if(!this.wheelBusy){var e=this.categoryAxis,a=e.parseDates,s=e.minDuration(),h=1,o=1;if(this.mouseWheelZoomEnabled?i||(h=-1):i&&(h=-1),n=this.chartCursor){var r=n.mouseX,n=n.mouseY;h!=o&&(h*=r=this.rotate?n/this.plotAreaHeight:r/this.plotAreaWidth,o*=1-r),r=.05*(this.end-this.start),a&&(r=.05*(this.endTime-this.startTime)/s),r<1&&(r=1),h*=r,o*=r,a&&!e.equalSpacing||(h=Math.round(h),o=Math.round(o))}n=this.chartData.length,e=this.lastTime,r=this.firstTime,t<0?a?(n=this.endTime-this.startTime,a=this.startTime+h*s,s=this.endTime+o*s,0<o&&0<h&&e<=s&&(a=(s=e)-n),this.zoomToDates(new Date(a),new Date(s))):(0<o&&0<h&&this.end>=n-1&&(h=o=0),a=this.start+h,s=this.end+o,this.zoomToIndexes(a,s)):a?(n=this.endTime-this.startTime,a=this.startTime-h*s,s=this.endTime-o*s,0<o&&0<h&&a<=r&&(s=(a=r)+n),this.zoomToDates(new Date(a),new Date(s))):(0<o&&0<h&&this.start<1&&(h=o=0),a=this.start-h,s=this.end-o,this.zoomToIndexes(a,s))}},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN);var i=t=!1,e=!1,a=this.chartScrollbar;a&&(a.dragging&&(t=!0,a.handleDragStop()),a.resizingRight&&(e=!0,a.rightDragStop()),a.resizingLeft&&(i=!0,a.leftDragStop())),M.AmSerialChart.base.validateData.call(this),t&&a.handleDragStart(),e&&a.rightDragStart(),i&&a.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){M.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(M.ifArray(t)){!(a=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||a.draw(),(a=this.valueScrollbar)&&a.draw();var i,e,a=t.length-1;(i=this.categoryAxis).parseDates&&!i.equalSpacing?(i=this.startTime,e=this.endTime,(isNaN(i)||isNaN(e))&&(i=this.firstTime,e=this.lastTime)):(i=this.start,e=this.end,(isNaN(i)||isNaN(e))&&(e=i=NaN),isNaN(i)&&(isNaN(this.startTime)||(i=this.getClosestIndex(t,"time",this.startTime,!0,0,t.length))),isNaN(e)&&(isNaN(this.endTime)||(e=this.getClosestIndex(t,"time",this.endTime,!1,0,t.length))),(isNaN(i)||isNaN(e))&&(i=0,e=a)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(i,e)}}else this.cleanChart()},cleanChart:function(){M.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,i,e){t.chart=this,t.id=e,t.rotate=i,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){M.AmSerialChart.base.updateValueAxes.call(this);var t,i=this.valueAxes;for(t=0;t<i.length;t++){var e=i[t],a=this.rotate;e.rotate=a,e.setOrientation(a),(a=this.categoryAxis).startOnAxis&&!a.parseDates||(e.expandMinMax=!0)}},getStartTime:function(t){var i=this.categoryAxis;return M.resetDateToMin(new Date(t),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(t){var i=M.extractPeriod(this.categoryAxis.minPeriod);return M.changeDate(new Date(t),i.period,i.count,!0).getTime()-1},updateMargins:function(){M.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate)),(t=this.valueScrollbar)&&(this.getScrollbarPosition(t,!this.rotate,this.valueAxes[0].position),this.adjustMargins(t,!this.rotate))},updateScrollbars:function(){M.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,i){var e=this.categoryAxis;e.parseDates&&!e.equalSpacing?(this.timeZoom(t,i),isNaN(t)&&this.zoomOutValueAxes()):this.indexZoom(t,i),(e=this.chartCursor)&&(e.pan||e.hideCursorReal()),this.updateLegendValues()},timeZoom:function(t,i){var e=this.maxSelectedTime;if(isNaN(e)||(i!=this.endTime&&e<i-t&&(t=i-e),t!=this.startTime&&e<i-t&&(i=t+e)),0<(a=this.minSelectedTime)&&i-t<a){var a,s=Math.round(t+(i-t)/2);t=s-(a=Math.round(a/2)),i=s+a}if(a=this.chartData,s=this.categoryAxis,M.ifArray(a)&&(t!=this.startTime||i!=this.endTime)){var h=s.minDuration(),o=this.firstTime,r=this.lastTime;t||(t=o,isNaN(e)||(t=r-e)),r<t&&(t=r),(i=i||r)<o&&(i=o),t<o&&(t=o),r<i&&(i=r),i<t&&(i=t+h),i-t<h/5&&(i<r?i=t+h/5:t=i-h/5),this.startTime=t,this.endTime=i,e=a.length-1,h=this.getClosestIndex(a,"time",t,!0,0,e),a=this.getClosestIndex(a,"time",i,!1,h,e),s.timeZoom(t,i),s.zoom(h,a),this.start=M.fitToBounds(h,0,e),this.end=M.fitToBounds(a,0,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var t,i=this.categoryAxis;i&&i.parseDates&&!i.equalSpacing&&(this.startTime>this.firstTime&&(t=!0),this.endTime<this.lastTime&&(t=!0)),0<this.start&&(t=!0),this.end<this.chartData.length-1&&(t=!0),(i=this.valueAxes)&&(i=i[0],isNaN(i.relativeStart)||(0!==M.roundTo(i.relativeStart,3)&&(t=!0),1!=M.roundTo(i.relativeEnd,3)&&(t=!0))),M.AmSerialChart.base.showZB.call(this,t)},updateAfterValueZoom:function(){M.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,i){var e=this.maxSelectedSeries,a=!1;if(isNaN(e)||(i!=this.end&&e<i-t&&(t=i-e,a=!0),t!=this.start&&e<i-t&&(i=t+e,a=!0)),(a=a&&this.chartScrollbar)&&a.dragger){var s=a.dragger.getBBox();a.maxWidth=s.width,a.maxHeight=s.height}t==this.start&&i==this.end||(a=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(e)||(t=a-e)),isNaN(i)&&(i=a),i<t&&(i=t),a<i&&(i=a),a<t&&(t=a-1),t<0&&(t=0),this.start=t,this.end=i,this.categoryAxis.zoom(t,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==t||i!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){M.AmSerialChart.base.updateGraphs.call(this);var t,i=this.graphs;for(t=0;t<i.length;t++){var e=i[t];e.columnWidthReal=this.columnWidth,e.categoryAxis=this.categoryAxis,M.isString(e.fillToGraph)&&(e.fillToGraph=this.graphsById[e.fillToGraph])}},zoomAxesAndGraphs:function(){M.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var t,i,e=this.graphs;for(this.columnsArray=[],t=0;t<e.length;t++){var a,s=(i=e[t]).columnsArray;if(s)for(a=0;a<s.length;a++)this.columnsArray.push(s[a])}if(this.columnsArray.sort(this.compareDepth),e=this.columnsSet,0<this.columnsArray.length){for(s=this.container.set(),this.columnSet.push(s),t=0;t<this.columnsArray.length;t++)s.push(this.columnsArray[t].column.set);i&&s.translate(i.x,i.y),this.columnsSet=s}M.remove(e)}},compareDepth:function(t,i){return t.depth>i.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,i=this.categoryAxis;if(t){if(!this.zoomedByScrollbar){var e=t.dragger;e&&e.stop()}this.zoomedByScrollbar=!1,i.parseDates&&!i.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var t,i=this.trendLines;for(t=0;t<i.length;t++){var e=i[t];e=M.processObject(e,M.TrendLine,this.theme);(i[t]=e).chart=this,e.id||(e.id="trendLineAuto"+t+"_"+(new Date).getTime()),M.isString(e.valueAxis)&&(e.valueAxis=this.getValueAxisById(e.valueAxis)),e.valueAxis||(e.valueAxis=this.valueAxes[0]),e.categoryAxis=this.categoryAxis}},validateNow:function(t,i){t&&this.zoomOutOnDataUpdate&&(this.endTime=this.end=this.startTime=this.start=NaN),M.AmSerialChart.base.validateNow.call(this,t,i)},countColumns:function(){var t,i,e,a,s=0,h=this.valueAxes.length,o=this.graphs.length,r=!1;for(a=0;a<h;a++){var n=(i=this.valueAxes[a]).stackType,l=0;if("100%"==n||"regular"==n)for(r=!1,e=0;e<o;e++)(t=this.graphs[e]).tcc=1,t.valueAxis==i&&"column"==t.type&&(!r&&t.stackable&&(s++,r=!0),(!t.stackable&&t.clustered||t.newStack&&0!==l)&&s++,t.columnIndex=s-1,t.clustered||(t.columnIndex=0),l++);if("none"==n||"3d"==n){for(l=!1,e=0;e<o;e++)(t=this.graphs[e]).valueAxis==i&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(s=0),t.hidden||(t.columnIndex=s,s++)):t.hidden||(l=!0,t.tcc=1,t.columnIndex=0));l&&0===s&&(s=1)}if("3d"==n){for(i=1,l=0;l<o;l++)(t=this.graphs[l]).newStack&&i++,t.depthCount=i,t.tcc=s;s=i}}return s},parseData:function(){M.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){var i,e=this.chartData;for(i=0;i<e.length;i++)if(e[i].category==t)return i},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var i=this.categoryAxis,e=M.extractPeriod(i.minPeriod).period;i=i.dateFormatsObject[e];t.startValue=M.formatDate(t.startDate,i,this),t.endValue=M.formatDate(t.endDate,i,this),t.chart=this,(t.target=this).fire(t)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(M.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var i={chart:this,target:this,type:"zoomed"};i.startIndex=this.start,i.endIndex=this.end,i.startValue=t[this.start].category,i.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(i)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,i,e,a,s,h){s<0&&(s=0),h>t.length-1&&(h=t.length-1);var o=s+Math.round((h-s)/2),r=t[o][i];return e==r?o:h-s<=1?a||Math.abs(t[s][i]-e)<Math.abs(t[h][i]-e)?s:h:e==r?o:e<r?this.getClosestIndex(t,i,e,a,s,o):this.getClosestIndex(t,i,e,a,o,h)},zoomToIndexes:function(t,i){var e=this.chartData;if(e){var a=e.length;0<a&&(t<0&&(t=0),a-1<i&&(i=a-1),(a=this.categoryAxis).parseDates&&!a.equalSpacing?this.zoom(e[t].time,this.getEndTime(e[i].time)):this.zoom(t,i))}},zoomToDates:function(t,i){var e=this.chartData;if(e)if(this.categoryAxis.equalSpacing){var a=this.getClosestIndex(e,"time",t.getTime(),!0,0,e.length);i=M.resetDateToMin(i,this.categoryAxis.minPeriod,1),e=this.getClosestIndex(e,"time",i.getTime(),!1,0,e.length),this.zoom(a,e)}else this.zoom(t.getTime(),i.getTime())},zoomToCategoryValues:function(t,i){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(i))},formatPeriodString:function(t,i){if(i){i.periodDataItem={},i.periodPercentDataItem={};var e=["value","open","low","high","close"],a="value open low high close average sum count".split(" "),s=i.valueAxis,h=this.chartData,o=i.numberFormatter;o=o||this.nf;for(var r=0;r<e.length;r++){for(var n,l,d,u,c,m,g,p,f,x,v=e[r],b=0,A=0,C=0,T=0,y=this.start;y<=this.end;y++){if(N=h[y]){var D=N.axes[s.id].graphs[i.id];if(D){if(D.values){var S=D.values[v],N=N.x.categoryAxis;this.rotate?(N<0||N>D.graph.height)&&(S=NaN):(N<0||N>D.graph.width)&&(S=NaN),isNaN(S)||(isNaN(n)&&(n=S),l=S,(isNaN(d)||S<d)&&(d=S),(isNaN(u)||u<S)&&(u=S),c=M.getDecimals(b),N=M.getDecimals(S),b+=S,c=(b=M.roundTo(b,Math.max(c,N)))/++A)}D.percents&&(D=D.percents[v],!isNaN(D))&&(isNaN(m)&&(m=D),g=D,(isNaN(p)||D<p)&&(p=D),(isNaN(f)||f<D)&&(f=D),x=M.getDecimals(C),S=M.getDecimals(D),C+=D,x=(C=M.roundTo(C,Math.max(x,S)))/++T)}}}b={open:n,close:l,high:u,low:d,average:c,sum:b,count:A},C={open:m,close:g,high:f,low:p,average:x,sum:C,count:T},t=M.formatValue(t,b,a,o,v+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=M.formatValue(t,C,a,this.pf,"percents\\."+v+"\\."),i.periodDataItem[v]=b,i.periodPercentDataItem[v]=C}}return M.cleanFromEmpty(t)},formatString:function(t,i,e){if(i){var a=i.graph;if(void 0!==t){if(-1!=t.indexOf("[[category]]")){var s=i.serialDataItem.category;if(this.categoryAxis.parseDates){var h=this.balloonDateFormat,o=this.chartCursor;o&&o.categoryBalloonDateFormat&&(h=o.categoryBalloonDateFormat),-1!=(h=M.formatDate(s,h,this)).indexOf("fff")&&(h=M.formatMilliseconds(h,s)),s=h}t=t.replace(/\[\[category\]\]/g,String(s.replace("$","$$$")))}s=(s=a.numberFormatter)||this.nf,(o=(h=i.graph.valueAxis).duration)&&!isNaN(i.values.value)&&(o=M.formatDuration(i.values.value,o,"",h.durationUnits,h.maxInterval,s),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),o)),"date"==h.type&&(h=M.formatDate(new Date(i.values.value),a.dateFormat,this),o=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(o,h),h=M.formatDate(new Date(i.values.open),a.dateFormat,this),o=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(o,h)),a="value open low high close total".split(" "),h=this.pf,t=M.formatValue(t,i.percents,a,h,"percents\\."),t=M.formatValue(t,i.values,a,s,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(t=M.formatValue(t,i.values,["percents"],h)).indexOf("[[")&&(t=M.formatDataContextValue(t,i.dataContext)),-1!=t.indexOf("[[")&&i.graph.customData&&(t=M.formatDataContextValue(t,i.graph.customData)),t=M.AmSerialChart.base.formatString.call(this,t,i,e)}return t}},updateChartCursor:function(){M.AmSerialChart.base.updateChartCursor.call(this);var t=this.chartCursor,i=this.categoryAxis;if(t){var e=t.categoryBalloonAlpha,a=t.categoryBalloonColor,s=t.color;void 0===a&&(a=t.cursorColor);var h=t.valueZoomable,o=t.zoomable,r=t.valueLineEnabled;if(this.rotate?(t.vLineEnabled=r,t.hZoomEnabled=h,t.vZoomEnabled=o):(t.hLineEnabled=r,t.vZoomEnabled=h,t.hZoomEnabled=o),t.valueLineBalloonEnabled)for(r=0;r<this.valueAxes.length;r++)(o=(h=this.valueAxes[r]).balloon)||(o={}),(o=M.extend(o,this.balloon,!0)).fillColor=a,o.balloonColor=a,o.fillAlpha=e,o.borderColor=a,o.color=s,h.balloon=o;else for(o=0;o<this.valueAxes.length;o++)(h=this.valueAxes[o]).balloon&&(h.balloon=null);i&&(i.balloonTextFunction=t.categoryBalloonFunction,(t.categoryLineAxis=i).balloonText=t.categoryBalloonText,t.categoryBalloonEnabled&&((o=i.balloon)||(o={}),(o=M.extend(o,this.balloon,!0)).fillColor=a,o.balloonColor=a,o.fillAlpha=e,o.borderColor=a,o.color=s,i.balloon=o),i.balloon&&(i.balloon.enabled=t.categoryBalloonEnabled))}},addChartScrollbar:function(t){M.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this).listenTo(t,"zoomed",this.handleScrollbarZoom),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),t.gridAxis=this.categoryAxis,this.chartScrollbar=t},addValueScrollbar:function(t){M.callMethod("destroy",[this.valueScrollbar]),t&&((t.chart=this).listenTo(t,"zoomed",this.handleScrollbarValueZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted));var i=t.scrollbarHeight;this.rotate?void 0===t.height&&(t.height=i):void 0===t.width&&(t.width=i),t.gridAxis||(t.gridAxis=this.valueAxes[0]),t.valueAxes=this.valueAxes,this.valueScrollbar=t},removeChartScrollbar:function(){M.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){M.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(t){M.AmSerialChart.base.handleReleaseOutside.call(this,t),M.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){M.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){M.AmSerialChart.base.processScrollbars.call(this);var t=this.valueScrollbar;t&&((t=M.processObject(t,M.ChartScrollbar,this.theme)).id="valueScrollbar",this.addValueScrollbar(t))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){M.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var i=t.index,e=this.chartData,a=t.graph;if(i+1<e.length)for(i+=1;i<e.length;i++)if((t=e[i])&&(t=t.axes[a.valueAxis.id].graphs[a.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,i,e,a,s){var h,o,r=s.target;this.rotate?(isNaN(t)||isNaN(i)||this.relativeZoomValueAxes(this.valueAxes,t,i)&&this.updateAfterValueZoom(),r.vZoomEnabled&&(h=s.start,o=s.end)):(isNaN(e)||isNaN(a)||this.relativeZoomValueAxes(this.valueAxes,e,a)&&this.updateAfterValueZoom(),r.hZoomEnabled&&(h=s.start,o=s.end)),isNaN(h)||isNaN(o)||((t=this.categoryAxis).parseDates&&!t.equalSpacing?this.zoomToDates(new Date(h),new Date(o)):this.zoomToIndexes(h,o))},handleCursorZoomStarted:function(){if(t=this.valueAxes){var t,i=(t=t[0]).relativeStart,e=t.relativeEnd;t.reversed&&(i=1-t.relativeEnd,e=1-t.relativeStart),this.rotate?(this.startX0=i,this.endX0=e):(this.startY0=i,this.endY0=e)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(t){M.AmSerialChart.base.handleCursorMove.call(this,t);var i=t.target,e=this.categoryAxis;if(t.panning)this.handleCursorHide(t);else if(this.chartData&&!i.isHidden){var a,s=this.graphs;if(s)if(a=e.xToIndex(this.rotate?t.y:t.x),a=this.chartData[a]){var h,o,r,n;if(i.oneBalloonOnly&&i.valueBalloonsEnabled){var l=1/0;for(h=s.length-1;0<=h;h--)if((o=s[h]).balloon.enabled&&o.showBalloon&&!o.hidden){if(r=o.valueAxis.id,r=a.axes[r].graphs[o.id],i.showNextAvailable&&isNaN(r.y)&&!(r=this.getNextItem(r)))continue;r=r.y,"top"==o.showBalloonAt&&(r=0),"bottom"==o.showBalloonAt&&(r=this.height);var d=i.mouseX,u=i.mouseY;(r=this.rotate?Math.abs(d-r):Math.abs(u-r))<l&&(l=r,n=o)}i.mostCloseGraph=n}if(this.prevCursorItem!=a||n!=this.prevMostCloseGraph){for(l=[],h=0;h<s.length;h++)r=(o=s[h]).valueAxis.id,r=a.axes[r].graphs[o.id],i.showNextAvailable&&isNaN(r.y)&&!(r=this.getNextItem(r))&&o.balloon?o.balloon.hide():n&&o!=n?(o.showGraphBalloon(r,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),o.balloon.hide(0)):i.valueBalloonsEnabled?(o.balloon.showBullet=i.bulletsEnabled,o.balloon.bulletSize=i.bulletSize/2,t.hideBalloons||(o.showGraphBalloon(r,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),o.balloon.set&&l.push({balloon:o.balloon,y:o.balloon.pointToY}))):(o.currentDataItem=r,o.resizeBullet(r,i.graphBulletSize,i.graphBulletAlpha));i.avoidBalloonOverlapping&&this.arrangeBalloons(l),this.prevCursorItem=a}this.prevMostCloseGraph=n}s=M.fitToBounds(t.x,0,i.width),n=M.fitToBounds(t.y,0,i.height),e.showBalloon(s,n,i.categoryBalloonDateFormat,t.skip),this.updateLegendValues()}},handleCursorHide:function(t){var i;for(M.AmSerialChart.base.handleCursorHide.call(this,t),t=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),t&&t.hideBalloon(),t=this.graphs,i=0;i<t.length;i++)t[i].currentDataItem=null},handleCursorPanning:function(t){var i,e,a,s=t.target,h=t.deltaX,o=t.deltaY,r=t.delta2X,n=t.delta2Y;if(t=!1,this.rotate){isNaN(r)&&(r=h,t=!0);var l=(d=this.endX0)-(i=this.startX0),d=d-l*r,u=l;t||(u=0),t=M.fitToBounds(i-l*h,0,1-u)}else isNaN(n)&&(n=o,t=!0),d=this.endY0,d+=(l=d-(i=this.startY0))*o,u=l,t||(u=0),t=M.fitToBounds(i+l*n,0,1-u);i=M.fitToBounds(d,u,1),s.valueZoomable&&(e=this.relativeZoomValueAxes(this.valueAxes,t,i)),i=this.categoryAxis,this.rotate&&(h=o,r=n),t=!1,isNaN(r)&&(r=h,t=!0),s.zoomable&&(0<Math.abs(h)||0<Math.abs(r))&&(i.parseDates&&!i.equalSpacing?(n=this.startTime0,r*=i=(o=this.endTime0)-n,l=this.firstTime,d=this.lastTime,u=i,t||(u=0),t=Math.round(M.fitToBounds(n-i*h,l,d-u)),r=Math.round(M.fitToBounds(o-r,l+u,d)),this.startTime==t&&this.endTime==r||(a={chart:this,target:s,type:"zoomed",start:t,end:r},this.skipZoomed=!0,s.fire(a),this.zoom(t,r),a=!0)):(n=this.start0,i=(o=this.end0)-n,h=Math.round(i*h),r=Math.round(i*r),l=this.chartData.length-1,t||(i=0),t=M.fitToBounds(n-h,0,l-i),i=M.fitToBounds(o-r,i,l),this.start==t&&this.end==i||(this.skipZoomed=!0,s.fire({chart:this,target:s,type:"zoomed",start:t,end:i}),this.zoom(t,i),a=!0))),!a&&e&&this.updateAfterValueZoom()},arrangeBalloons:function(t){var i=this.plotAreaHeight;t.sort(this.compareY);var e,a,s,h=this.plotAreaWidth,o=t.length;for(e=0;e<o;e++)(a=t[e].balloon).setBounds(0,0,h,i),a.restorePrevious(),a.draw(),i=a.yPos-3;for(t.reverse(),e=0;e<o;e++){i=(a=t[e].balloon).bottom;var r=a.bottom-a.yPos;0<e&&i-r<s+3&&a.setBounds&&(a.setBounds(0,s+3,h,s+r+3),a.restorePrevious(),a.draw()),a.set&&a.set.show(),s=a.bottom}},compareY:function(t,i){return t.y<i.y?1:-1}})}(),function(){var P=window.AmCharts;P.Cuboid=P.Class({construct:function(t,i,e,a,s,h,o,r,n,l,d,u,c,m,g,p,f){this.set=t.set(),this.container=t,this.h=Math.round(e),this.w=Math.round(i),this.dx=a,this.dy=s,this.colors=h,this.alpha=o,this.bwidth=r,this.bcolor=n,this.balpha=l,this.dashLength=m,this.topRadius=p,this.pattern=g,this.rotate=c,this.bcn=f,c?i<0&&0===d&&(d=180):e<0&&270==d&&(d=90),this.gradientRotation=d,0===a&&0===s&&(this.cornerRadius=u),this.draw()},draw:function(){var t=this.set;t.clear();var i=this.container,e=i.chart,a=this.w,s=this.h,h=this.dx,o=this.dy,r=this.colors,n=this.alpha,l=this.bwidth,d=this.bcolor,u=this.balpha,c=this.gradientRotation,m=this.cornerRadius,g=this.dashLength,p=this.pattern,f=this.topRadius,x=this.bcn,v=r,b=r;"object"==typeof r&&(v=r[0],b=r[r.length-1]);var A,C,T,y,D,S,N,M,w,B=n;p&&(n=0);var z,R,O,I,Z=this.rotate;if(0<Math.abs(h)||0<Math.abs(o))if(isNaN(f))N=b,b=P.adjustLuminosity(v,-.2),b=P.adjustLuminosity(v,-.2),A=P.polygon(i,[0,h,a+h,a,0],[0,o,o,0,0],b,n,1,d,0,c),0<u&&(w=P.line(i,[0,h,a+h],[0,o,o],d,u,l,g)),(C=P.polygon(i,[0,0,a,a,0],[0,s,s,0,0],b,n,1,d,0,c)).translate(h,o),0<u&&(T=P.line(i,[h,h],[o,o+s],d,u,l,g)),y=P.polygon(i,[0,0,h,h,0],[0,s,s+o,o,0],b,n,1,d,0,c),D=P.polygon(i,[a,a,a+h,a+h,a],[0,s,s+o,o,0],b,n,1,d,0,c),0<u&&(S=P.line(i,[a,a+h,a+h,a],[0,o,s+o,s],d,u,l,g)),b=P.adjustLuminosity(N,.2),N=P.polygon(i,[0,h,a+h,a,0],[s,s+o,s+o,s,s],b,n,1,d,0,c),0<u&&(M=P.line(i,[0,h,a+h],[s,s+o,s+o],d,u,l,g));else{var L,W,V;Z?(V=L=s/2,W=a+(b=h/2),R=Math.abs(s/2),z=Math.abs(h/2)):(W=b=a/2,V=s+(L=o/2)+1,z=Math.abs(a/2),R=Math.abs(o/2)),O=z*f,I=R*f,.1<z&&.1<z&&(A=P.circle(i,z,v,n,l,d,u,!1,R)).translate(b,L),.1<O&&.1<O&&(N=P.circle(i,O,P.adjustLuminosity(v,.5),n,l,d,u,!1,I)).translate(W,V)}for(n=B,Math.abs(s)<1&&(s=0),Math.abs(a)<1&&(a=0),!isNaN(f)&&(0<Math.abs(h)||0<Math.abs(o))?(r={fill:r=[v],stroke:d,"stroke-width":l,"stroke-opacity":u,"fill-opacity":n},z=Z?(n="M0,0 L"+a+","+(s/2-s/2*f),l=" B",0<a&&(l=" A"),P.VML?n=(n+=l+Math.round(a-O)+","+Math.round(s/2-I)+","+Math.round(a+O)+","+Math.round(s/2+I)+","+a+",0,"+a+","+s)+" L0,"+s+(l+Math.round(-z))+","+Math.round(s/2-R)+","+Math.round(z)+","+Math.round(s/2+R)+",0,"+s+",0,0":(n+="A"+O+","+I+",0,0,0,"+a+","+(s-s/2*(1-f))+"L0,"+s,n+="A"+z+","+R+",0,0,1,0,0"),90):(n="M0,0 L"+(l=a/2-a/2*f)+","+s,P.VML?(n="M0,0 L"+l+","+s,l=" B",s<0&&(l=" A"),n+=l+Math.round(a/2-O)+","+Math.round(s-I)+","+Math.round(a/2+O)+","+Math.round(s+I)+",0,"+s+","+a+","+s,n+=" L"+a+",0",n+=l+Math.round(a/2+z)+","+Math.round(R)+","+Math.round(a/2-z)+","+Math.round(-R)+","+a+",0,0,0"):(n+="A"+O+","+I+",0,0,0,"+(a-a/2*(1-f))+","+s+"L"+a+",0",n+="A"+z+","+R+",0,0,1,0,0"),180),(i=i.path(n).attr(r)).gradient("linearGradient",[v,P.adjustLuminosity(v,-.3),P.adjustLuminosity(v,-.3),v],z),Z?i.translate(h/2,0):i.translate(0,o/2)):i=0===s?P.line(i,[0,a],[0,0],d,u,l,g):0===a?P.line(i,[0,0],[0,s],d,u,l,g):0<m?P.rect(i,a,s,r,n,l,d,u,m,c,g):P.polygon(i,[0,0,a,a,0],[0,s,s,0,0],r,n,l,d,u,c,!1,g),a=isNaN(f)?s<0?[A,w,C,T,y,D,S,N,M,i]:[N,M,C,T,y,D,A,w,S,i]:Z?0<a?[A,i,N]:[N,i,A]:s<0?[A,i,N]:[N,i,A],P.setCN(e,i,x+"front"),P.setCN(e,C,x+"back"),P.setCN(e,N,x+"top"),P.setCN(e,A,x+"bottom"),P.setCN(e,y,x+"left"),P.setCN(e,D,x+"right"),A=0;A<a.length;A++)(C=a[A])&&(t.push(C),P.setCN(e,C,x+"element"));p&&i.pattern(p,NaN,e.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(t,i){var e=this;e.animationFinished=!1,e.easing=i,e.totalFrames=t*P.updateRate,e.rh=e.h,e.frame=0,e.height(1),setTimeout(function(){e.updateHeight.call(e)},1e3/P.updateRate)},updateHeight:function(){var t=this;t.frame++;var i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rh-1,i),t.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/P.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,i){var e=this;e.animationFinished=!1,e.easing=i,e.totalFrames=t*P.updateRate,e.rw=e.w,e.frame=0,e.width(1),setTimeout(function(){e.updateWidth.call(e)},1e3/P.updateRate)},updateWidth:function(){var t=this;t.frame++;var i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rw-1,i),t.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/P.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var N=window.AmCharts;N.CategoryAxis=N.Class({inherits:N.AxisBase,construct:function(t){this.cname="CategoryAxis",N.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,N.applyTheme(this,t,this.cname)},draw:function(){N.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,this.labelRotationR=this.labelRotation,this.type=null,N.ifArray(t)){var i,e=this.chart;"scrollbar"!=this.id?(N.setCN(e,this.set,"category-axis"),N.setCN(e,this.labelsSet,"category-axis"),N.setCN(e,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var a,s,h,o,r,n,l=this.start,d=this.labelFrequency,u=0,c=this.end-l+1,m=this.gridCountR,g=this.showFirstLabel,p=this.showLastLabel,f="",x=(f=N.extractPeriod(this.minPeriod),N.getPeriodDuration(f.period,f.count)),v=this.rotate,b=this.firstDayOfWeek,A=this.boldPeriodBeginning;i=N.resetDateToMin(new Date(t[t.length-1].time+1.05*x),this.minPeriod,1,b).getTime(),this.firstTime=e.firstTime,this.endTime>i&&(this.endTime=i),n=this.minorGridEnabled,h=this.gridAlpha;var C=0,T=0;if(this.widthField)for(i=this.start;i<=this.end;i++)if(r=this.data[i]){var y=Number(this.data[i].dataContext[this.widthField]);isNaN(y)||(C+=y,r.widthValue=y)}if(this.parseDates&&!this.equalSpacing)this.lastTime=t[t.length-1].time,this.maxTime=N.resetDateToMin(new Date(this.lastTime+1.05*x),this.minPeriod,1,b).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(u=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,d=(i=this.choosePeriod(0)).period,s=i.count,(i=N.getPeriodDuration(d,s))<x&&(d=f.period,s=f.count,i=x),"WW"==(h=d)&&(h="DD"),this.currentDateFormat=this.dateFormatsObject[h],this.stepWidth=this.getStepWidth(c),m=Math.ceil(this.timeDifference/i)+1,f=N.resetDateToMin(new Date(this.startTime-i),d,s,b).getTime(),this.cellWidth=this.getStepWidth(c),l=-1,(c=Math.round(f/i))/2==Math.round(c/2)&&(l=-2,f-=i),(c=this.start)/2==Math.round(c/2)&&c--,c<0&&(c=0),(T=this.end+2)>=this.data.length&&(T=this.data.length),t=!1,t=!g,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),y=c,this.data[c].time!=N.resetDateToMin(new Date(this.data[c].time),d,s,b).getTime()){x=0;var D=f;for(i=c;i<T;i++)r=this.data[i].time,this.checkPeriodChange(d,s,r,D)&&(2<=++x&&(y=i,i=T),D=r)}if(n&&1<s&&(r=this.chooseMinorFrequency(s),N.getPeriodDuration(d,r)),0<this.gridCountR)for(i=c;i<T;i++)r=this.data[i].time,this.checkPeriodChange(d,s,r,f)&&y<=i&&(c=this.getCoordinate(i-this.start),n=!1,this.nextPeriod[h]&&(n=this.checkPeriodChange(this.nextPeriod[h],1,r,f,h))&&N.resetDateToMin(new Date(r),this.nextPeriod[h],1,b).getTime()!=r&&(n=!1),x=!1,n&&this.markPeriodChange?(n=this.dateFormatsObject[this.nextPeriod[h]],x=!0):n=this.dateFormatsObject[h],f=N.formatDate(new Date(r),n,e),(i==l&&!g||i==m&&!p)&&(f=" "),t?t=!1:(A||(x=!1),c-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(f=this.labelFunction(f,new Date(r),this,d,s,o)),this.boldLabels&&(x=!0),n=(a=new this.axisItemRenderer(this,c,f,void 0,void 0,void 0,void 0,x)).graphics(),this.pushAxisItem(a),n=n.getBBox().width,N.isModern||(n-=c),this.previousPos=c+n)),o=f=r)}}else if(this.cellWidth=this.getStepWidth(c),c<m&&(m=c),u+=this.start,this.stepWidth=this.getStepWidth(c),0<m)for(b=Math.floor(c/m),r=this.chooseMinorFrequency(b),(c=u)/2==Math.round(c/2)&&c--,c<0&&(c=0),A=0,this.widthField&&(c=this.start,b=1),this.end-c+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),i=c;i<=this.end+2;i++){if(m=!1,0<=i&&i<this.data.length?(f=(s=this.data[i]).category,m=s.forceShow):f="",n&&!isNaN(r)){if(i/r!=Math.round(i/r)&&!m)continue;i/b==Math.round(i/b)||m||(this.gridAlpha=this.minorGridAlpha,f=void 0)}else if(i/b!=Math.round(i/b)&&!m)continue;c=this.getCoordinate(i-u),m=0,"start"==this.gridPosition&&(c-=this.cellWidth/2,m=this.cellWidth/2),a=!0,o=m,"start"==this.tickPosition&&(a=!1,m=o=0),(i==l&&!g||i==this.end&&!p)&&(f=void 0),Math.round(A/d)!=A/d&&(f=void 0),A++,t=this.cellWidth,v&&(t=NaN,this.ignoreAxisWidth||!e.autoMargins)&&(t="right"==this.position?e.marginRight-this.titleWidth:e.marginLeft-this.titleWidth,t-=this.tickLength+10),this.labelFunction&&s&&(f=this.labelFunction(f,s,this)),f=N.fixBrakes(f),x=!1,this.boldLabels&&(x=!0),i>this.end&&"start"==this.tickPosition&&(f=" "),this.rotate&&this.inside&&(m-=2),isNaN(s.widthValue)||(s.percentWidthValue=s.widthValue/C*100,c=T,T+=t=this.rotate?this.height*s.widthValue/C:this.width*s.widthValue/C,o=m=t/2),(a=new this.axisItemRenderer(this,c,f,a,t,m,void 0,x,o,!1,s.labelColor,s.className)).serialDataItem=s,this.pushAxisItem(a),this.gridAlpha=h}for(i=g=0;i<this.data.length;i++)(r=this.data[i])&&(p=this.parseDates&&!this.equalSpacing?(p=r.time,l=this.cellWidth,"MM"==this.minPeriod&&(l=864e5*N.daysInMonth(new Date(p))*this.stepWidth,r.cellWidth=l),Math.round((p-this.startTime)*this.stepWidth+l/2)):this.getCoordinate(i-u),r.x[this.id]=p);if(this.widthField)for(i=this.start;i<=this.end;i++)l=(r=this.data[i]).widthValue,r.percentWidthValue=l/C*100,g=this.rotate?(p=this.height*l/C/2+g,this.height*l/C+g):(p=this.width*l/C/2+g,this.width*l/C+g),r.x[this.id]=p;for(C=this.guides.length,i=0;i<C;i++)b=n=l=NaN,p=(g=this.guides[i]).above,g.toCategory&&(b=e.getCategoryIndexByValue(g.toCategory),isNaN(b)||(l=this.getCoordinate(b-u),g.expand&&(l+=this.cellWidth/2),a=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,g),this.pushAxisItem(a,p))),g.category&&(b=e.getCategoryIndexByValue(g.category),isNaN(b)||(n=this.getCoordinate(b-u),g.expand&&(n-=this.cellWidth/2),b=(l-n)/2,a=new this.axisItemRenderer(this,n,g.label,!0,NaN,b,g),this.pushAxisItem(a,p))),A=e.dataDateFormat,g.toDate&&(!A||g.toDate instanceof Date||(g.toDate=g.toDate.toString()+" |"),g.toDate=N.getDate(g.toDate,A),this.equalSpacing?(b=e.getClosestIndex(this.data,"time",g.toDate.getTime(),!1,0,this.data.length-1),isNaN(b)||(l=this.getCoordinate(b-u))):l=(g.toDate.getTime()-this.startTime)*this.stepWidth,a=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,g),this.pushAxisItem(a,p)),g.date&&(!A||g.date instanceof Date||(g.date=g.date.toString()+" |"),g.date=N.getDate(g.date,A),this.equalSpacing?(b=e.getClosestIndex(this.data,"time",g.date.getTime(),!1,0,this.data.length-1),isNaN(b)||(n=this.getCoordinate(b-u))):n=(g.date.getTime()-this.startTime)*this.stepWidth,b=(l-n)/2,a=!0,g.toDate&&(a=!1),a="H"==this.orientation?new this.axisItemRenderer(this,n,g.label,a,2*b,NaN,g):new this.axisItemRenderer(this,n,g.label,!1,NaN,b,g),this.pushAxisItem(a,p)),a&&(b=a.label)&&this.addEventListeners(b,g),(0<l||0<n)&&(b=!1,this.rotate?(l<this.height||n<this.height)&&(b=!0):(l<this.width||n<this.width)&&(b=!0),b&&(n=(l=new this.guideFillRenderer(this,n,l,g)).graphics(),this.pushAxisItem(l,p),(g.graphics=n).index=i,this.addEventListeners(n,g)));(e=e.chartCursor)&&(v?e.fixHeight(this.cellWidth):(e.fixWidth(this.cellWidth),e.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=S}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(v=this.axisLine.set)&&v.toFront();var S=this.getBBox().height;2<S-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(t){var i,e,a=this.data,s=this.chart,h=s.rotate,o=this.stepWidth;if(this.parseDates&&!this.equalSpacing)t=this.startTime+Math.round(t/o)-this.minDuration()/2,i=s.getClosestIndex(a,"time",t,!1,this.start,this.end+1);else if(this.widthField)for(s=1/0,o=this.start;o<=this.end;o++){var r=this.data[o];r&&((r=Math.abs(r.x[this.id]-t))<s&&(s=r,i=o))}else this.startOnAxis||(t-=o/2),i=this.start+Math.round(t/o);return a[i=N.fitToBounds(i,0,a.length-1)]&&(e=a[i].x[this.id]),h?e>this.height+1&&i--:e>this.width+1&&i--,e<0&&i++,N.fitToBounds(i,0,a.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){if(t=this.xToIndex(t),t=this.data[t])return this.parseDates?t.time:t.category},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(t,i){return i=i||this.currentDateFormat,this.parseDates&&(t=N.formatDate(new Date(t),i,this.chart)),t},showBalloonAt:function(t,i){return void 0===i&&(i=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(i)},formatBalloonText:function(t,i,e){var a="",s="",h=this.chart,o=this.data[i];if(o)if(this.parseDates)a=N.formatDate(o.category,e,h),i=N.changeDate(new Date(o.category),this.minPeriod,1),s=N.formatDate(i,e,h),-1!=a.indexOf("fff")&&(a=N.formatMilliseconds(a,o.category),s=N.formatMilliseconds(s,i));else{var r;this.data[i+1]&&(r=this.data[i+1]),a=N.fixNewLines(o.category),r&&(s=N.fixNewLines(r.category))}return(t=t.replace(/\[\[category\]\]/g,String(a))).replace(/\[\[toCategory\]\]/g,String(s))},adjustBalloonCoordinate:function(t,i){var e=this.xToIndex(t),a=this.chart.chartCursor;if(this.stickBalloonToCategory){var s=this.data[e];s&&(t=s.x[this.id]),this.stickBalloonToStart&&(t-=this.cellWidth/2);var h=0;if(a){var o=a.limitToGraph;if(o){var r=o.valueAxis.id;o.hidden||(h=s.axes[r].graphs[o.id].y)}this.rotate?("left"==this.position?(o&&(h-=a.width),0<h&&(h=0)):h<0&&(h=0),a.fixHLine(t,h)):("top"==this.position?(o&&(h-=a.height),0<h&&(h=0)):h<0&&(h=0),a.fullWidth&&(t+=1),a.fixVLine(t,h))}}return a&&!i&&(a.setIndex(e),this.parseDates&&a.setTimestamp(this.coordinateToDate(t).getTime())),t}})}();