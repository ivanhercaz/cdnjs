!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact")):"function"==typeof define&&define.amd?define(["exports","preact"],t):t(n.preactHooks={},n.preact)}(this,function(n,u){var e,i,r,c=[],t=u.options.__r,f=u.options.diffed,o=u.options.__c,_=u.options.unmount;function a(n){u.options.__h&&u.options.__h(i);var t=i.__H||(i.__H={t:[],u:[]});return n>=t.t.length&&t.t.push({}),t.t[n]}function s(o,n,t){var u=a(e++);return u.__c||(u.__c=i,u.i=[t?t(n):H(void 0,n),function(n){var t=o(u.i[0],n);u.i[0]!==t&&(u.i[0]=t,u.__c.setState({}))}]),u.i}function p(n,t){var o=a(e++);l(o.o,t)&&(o.i=n,o.o=t,i.__h.push(o))}function m(n,t){var o=a(e++);return l(o.o,t)?(o.o=t,o.v=n,o.i=n()):o.i}function h(){c.some(function(n){n.__P&&(n.__H.u.forEach(v),n.__H.u.forEach(d),n.__H.u=[])}),c=[]}function v(n){n.p&&n.p()}function d(n){var t=n.i();"function"==typeof t&&(n.p=t)}function l(o,n){return!o||n.some(function(n,t){return n!==o[t]})}function H(n,t){return"function"==typeof t?t(n):t}u.options.__r=function(n){t&&t(n),e=0,(i=n.__c).__H&&(i.__H.u.forEach(v),i.__H.u.forEach(d),i.__H.u=[])},u.options.diffed=function(n){f&&f(n);var t=n.__c;if(t){var o=t.__H;o&&o.u.length&&(1!==c.push(t)&&r===u.options.requestAnimationFrame||((r=u.options.requestAnimationFrame)||function(n){function t(){clearTimeout(u),cancelAnimationFrame(o),setTimeout(n)}var o,u=setTimeout(t,100);"undefined"!=typeof window&&(o=requestAnimationFrame(t))})(h))}},u.options.__c=function(n,t){t.some(function(n){n.__h.forEach(v),n.__h=n.__h.filter(function(n){return!n.i||d(n)})}),o&&o(n,t)},u.options.unmount=function(n){_&&_(n);var t=n.__c;if(t){var o=t.__H;o&&o.t.forEach(function(n){return n.p&&n.p()})}},n.useState=function(n){return s(H,n)},n.useReducer=s,n.useEffect=function(n,t){var o=a(e++);l(o.o,t)&&(o.i=n,o.o=t,i.__H.u.push(o))},n.useLayoutEffect=p,n.useRef=function(n){return m(function(){return{current:n}},[])},n.useImperativeHandle=function(n,t,o){p(function(){"function"==typeof n?n(t()):n&&(n.current=t())},null==o?o:o.concat(n))},n.useMemo=m,n.useCallback=function(n,t){return m(function(){return n},t)},n.useContext=function(n){var t=i.context[n.__c];if(!t)return n.__;var o=a(e++);return null==o.i&&(o.i=!0,t.sub(i)),t.props.value},n.useDebugValue=function(n,t){u.options.useDebugValue&&u.options.useDebugValue(t?t(n):n)}});