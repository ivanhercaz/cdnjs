!function(e,t){if("function"==typeof define&&define.amd)define(["exports","../../globals/js/settings","../../globals/js/misc/event-matches","../content-switcher/content-switcher","../../globals/js/misc/on"],t);else if("undefined"!=typeof exports)t(exports,require("../../globals/js/settings"),require("../../globals/js/misc/event-matches"),require("../content-switcher/content-switcher"),require("../../globals/js/misc/on"));else{var n={};t(n,e.settings,e.eventMatches,e.contentSwitcher,e.on),e.tabs=n}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e,o,a,i,s){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o=t(o),a=t(a),i=t(i),s=t(s);var c=function(){function c(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=l(this,f(c).call(this,e,t))).manage((0,s.default)(n.element,"keydown",function(e){n._handleKeyDown(e)})),n.manage((0,s.default)(n.element.ownerDocument,"click",function(e){n._handleDocumentClick(e)}));var o=n.element.querySelector(n.options.selectorButtonSelected);return o&&n._updateTriggerText(o),n}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,i.default),e=c,n=[{key:"options",get:function(){var e=o.default.prefix;return Object.assign(Object.create(i.default.options),{selectorInit:"[data-tabs]",selectorMenu:".".concat(e,"--tabs__nav"),selectorTrigger:".".concat(e,"--tabs-trigger"),selectorTriggerText:".".concat(e,"--tabs-trigger-text"),selectorButton:".".concat(e,"--tabs__nav-item"),selectorButtonEnabled:".".concat(e,"--tabs__nav-item:not(.").concat(e,"--tabs__nav-item--disabled)"),selectorButtonSelected:".".concat(e,"--tabs__nav-item--selected"),selectorLink:".".concat(e,"--tabs__nav-link"),classActive:"".concat(e,"--tabs__nav-item--selected"),classHidden:"".concat(e,"--tabs__nav--hidden"),classOpen:"".concat(e,"--tabs-trigger--open"),classButtonDisabled:"".concat(e,"--tabs__nav-item--disabled"),eventBeforeSelected:"tab-beingselected",eventAfterSelected:"tab-selected"})}}],(t=[{key:"_changeState",value:function(i,s){var r=this;u(f(c.prototype),"_changeState",this).call(this,i,function(e){e||r._updateTriggerText(i.item);for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];s.apply(void 0,[e].concat(n))})}},{key:"_handleClick",value:function(e){var t=(0,a.default)(e,this.options.selectorButton),n=(0,a.default)(e,this.options.selectorTrigger);t&&!t.classList.contains(this.options.classButtonDisabled)&&(u(f(c.prototype),"_handleClick",this).call(this,e),this._updateMenuState(!1)),n&&this._updateMenuState()}},{key:"_handleDocumentClick",value:function(e){this.element.contains(e.target)||this._updateMenuState(!1)}},{key:"_handleKeyDown",value:function(e){var o=this;if((0,a.default)(e,this.options.selectorTrigger))13===e.which&&this._updateMenuState();else{var t,n={37:this.constructor.NAVIGATE.BACKWARD,39:this.constructor.NAVIGATE.FORWARD}[e.which];if(n){var i=(t=this.element.querySelectorAll(this.options.selectorButtonEnabled),Array.prototype.slice.call(t)),s=this.element.querySelector(this.options.selectorButtonSelected),r=Math.max(i.indexOf(s)+n,-1),c=0<=r&&r<i.length?r:r-Math.sign(r)*i.length;this.setActive(i[c],function(e,t){if(t){var n=t.querySelector(o.options.selectorLink);n&&n.focus()}}),e.preventDefault()}}}},{key:"_updateMenuState",value:function(e){var t=this.element.querySelector(this.options.selectorMenu),n=this.element.querySelector(this.options.selectorTrigger);t&&(t.classList.toggle(this.options.classHidden,void 0===e?e:!e),t.classList.contains(this.options.classHidden)?n.classList.remove(this.options.classOpen):n.classList.add(this.options.classOpen))}},{key:"_updateTriggerText",value:function(e){var t=this.element.querySelector(this.options.selectorTriggerText);t&&(t.textContent=e.textContent)}}])&&r(e.prototype,t),n&&r(e,n),c.components=new WeakMap,c.NAVIGATE={BACKWARD:-1,FORWARD:1},c}();e.default=c});