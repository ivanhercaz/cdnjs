!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).icepick=e()}(function(){return function e(t,n,r){function o(s,i){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!i&&u)return u(s,!0);if(c)return c(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var a=n[s]={exports:{}};t[s][0].call(a.exports,function(e){return o(t[s][1][e]||e)},a,a.exports,e,t,n,r)}return n[s].exports}for(var c="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";function r(e,t){return(t||[]).reduce((e,t)=>{if(e)return e[t]},e)}function o(e,t){return Object.keys(t).reduce((e,n)=>s.assoc(e,n,t[n]),e)}function c(e,t,n){return e[t]===n?e:s.assoc(e,t,n)}const s=n,i=e=>null!==e&&(Array.isArray(e)||u(e)),u=e=>"object"==typeof e&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype,f=(e,t)=>{let n,r;if(Array.isArray(e))for(n=e.length;n--;)t(n);else for(n=(r=Object.keys(e)).length;n--;)t(r[n])},a=e=>Array.isArray(e)?e.slice():(e=>{const t={},n=Object.keys(e);let r,o=n.length;for(;o--;)t[r=n[o]]=e[r];return t})(e),l=e=>i(e)&&!Object.isFrozen(e)?d(e):e,p=e=>"object"==typeof e?Object.freeze(e):e,y=[],d=e=>{if(y.some(t=>t===e))throw new Error("object has a reference cycle");return y.push(e),f(e,t=>{const n=e[t];i(n)&&d(n)}),y.pop(),Object.freeze(e),e};n.freeze=d,n.thaw=function e(t){if(!i(t)||!Object.isFrozen(t))return t;const n=Array.isArray(t)?new Array(t.length):{};return f(t,r=>{n[r]=e(t[r])}),n},n.assoc=function(e,t,n){if(e[t]===n)return p(e);const r=a(e);return r[t]=l(n),p(r)},n.set=n.assoc,n.dissoc=function(e,t){const n=a(e);return delete n[t],p(n)},n.unset=n.dissoc,n.assocIn=function e(t,n,r){const o=n[0];return 1===n.length?s.assoc(t,o,r):s.assoc(t,o,e(t[o]||{},n.slice(1),r))},n.setIn=n.assocIn,n.getIn=r,n.updateIn=function(e,t,n){const o=r(e,t);return s.assocIn(e,t,n(o))},["push","unshift","pop","shift","reverse","sort"].forEach(e=>{n[e]=function(t,n){const r=[...t];return r[e](l(n)),p(r)},n[e].displayName="icepick."+e}),n.splice=function(e,...t){const n=[...e],r=t.map(l);return n.splice.apply(n,r),p(n)},n.slice=function(e,t,n){const r=e.slice(t,n);return p(r)},["map","filter"].forEach(e=>{n[e]=function(t,n){const r=n[e](t);return p(r)},n[e].displayName="icepick."+e}),n.extend=n.assign=function(e,...t){const n=t.reduce(o,e);return p(n)},n.merge=function e(t,n,r){return null==t||null==n?t:Object.keys(n).reduce((t,o)=>{const u=n[o],f=t[o],a=r?r(f,u,o):u;return i(u)&&i(f)?a===f&&Object.isFrozen(a)&&Object.isFrozen(f)?t:Array.isArray(u)?s.assoc(t,o,a):c(t,o,e(f,a,r)):c(t,o,a)},t)};const h={value:function(){return this.val},thru:function(e){return this.val=l(e(this.val)),this}};Object.keys(n).forEach(e=>{h[e]=function(...t){return t.unshift(this.val),this.val=n[e].apply(null,t),this}}),n.chain=function(e){const t=Object.create(h);return t.val=e,t}},{}]},{},[1])(1)});