!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).icepick=e()}(function(){return function c(i,u,f){function a(r,e){if(!u[r]){if(!i[r]){var n="function"==typeof require&&require;if(!e&&n)return n(r,!0);if(s)return s(r,!0);var t=new Error("Cannot find module '"+r+"'");throw t.code="MODULE_NOT_FOUND",t}var o=u[r]={exports:{}};i[r][0].call(o.exports,function(e){return a(i[r][1][e]||e)},o,o.exports,c,i,u,f)}return u[r].exports}for(var s="function"==typeof require&&require,e=0;e<f.length;e++)a(f[e]);return a}({1:[function(e,r,o){"use strict";function c(e,r){return(r||[]).reduce(function(e,r){if(e)return e[r]},e)}function i(e,n){return Object.keys(n).reduce(function(e,r){return p.assoc(e,r,n[r])},e)}function f(e,r,n){return e[r]===n?e:p.assoc(e,r,n)}function u(e,r){var n,t;if(Array.isArray(e))for(n=e.length;n--;)r(n);else for(n=(t=Object.keys(e)).length;n--;)r(t[n])}function a(e){return Array.isArray(e)?e.slice():function(e){for(var r,n={},t=Object.keys(e),o=t.length;o--;)n[r=t[o]]=e[r];return n}(e)}function s(e){return h(e)&&!Object.isFrozen(e)?v(e):e}function l(e){return"object"==typeof e?Object.freeze(e):e}var p=o,h=function(e){return null!==e&&(Array.isArray(e)||n(e))},n=function(e){return"object"==typeof e&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype},t=[],v=function(n){if(t.some(function(e){return e===n}))throw new Error("object has a reference cycle");return t.push(n),u(n,function(e){var r=n[e];h(r)&&v(r)}),t.pop(),Object.freeze(n),n};o.freeze=v,o.thaw=function r(n){if(!h(n)||!Object.isFrozen(n))return n;var t=Array.isArray(n)?new Array(n.length):{};return u(n,function(e){t[e]=r(n[e])}),t},o.assoc=function(e,r,n){if(e[r]===n)return l(e);var t=a(e);return t[r]=s(n),l(t)},o.set=o.assoc,o.dissoc=function(e,r){var n=a(e);return delete n[r],l(n)},o.unset=o.dissoc,o.assocIn=function e(r,n,t){var o=n[0];return 1===n.length?p.assoc(r,o,t):p.assoc(r,o,e(r[o]||{},n.slice(1),t))},o.setIn=o.assocIn,o.getIn=c,o.updateIn=function(e,r,n){var t=c(e,r);return p.assocIn(e,r,n(t))},["push","unshift","pop","shift","reverse","sort"].forEach(function(t){o[t]=function(e,r){var n=[].concat(e);return n[t](s(r)),l(n)},o[t].displayName="icepick."+t}),o.splice=function(e){for(var r=[],n=arguments.length-1;0<n--;)r[n]=arguments[n+1];var t=[].concat(e),o=r.map(s);return t.splice.apply(t,o),l(t)},o.slice=function(e,r,n){var t=e.slice(r,n);return l(t)},["map","filter"].forEach(function(t){o[t]=function(e,r){var n=r[t](e);return l(n)},o[t].displayName="icepick."+t}),o.extend=o.assign=function(e){for(var r=[],n=arguments.length-1;0<n--;)r[n]=arguments[n+1];var t=r.reduce(i,e);return l(t)},o.merge=function c(e,i,u){return null==e||null==i?e:Object.keys(i).reduce(function(e,r){var n=i[r],t=e[r],o=u?u(t,n,r):n;return h(n)&&h(t)?o===t&&Object.isFrozen(o)&&Object.isFrozen(t)?e:Array.isArray(n)?p.assoc(e,r,o):f(e,r,c(t,o,u)):f(e,r,o)},e)};var y={value:function(){return this.val},thru:function(e){return this.val=s(e(this.val)),this}};Object.keys(o).forEach(function(n){n.match(/^(map|filter)$/)?y[n]=function(e){return this.val=o[n](e,this.val),this}:y[n]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return this.val=o[n].apply(o,[this.val].concat(e)),this}}),o.chain=function(e){var r=Object.create(y);return r.val=e,r}},{}]},{},[1])(1)});