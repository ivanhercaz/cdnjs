!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).icepick=e()}}(function(){return function e(r,n,t){function o(c,u){if(!n[c]){if(!r[c]){var f="function"==typeof require&&require;if(!u&&f)return f(c,!0);if(i)return i(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var a=n[c]={exports:{}};r[c][0].call(a.exports,function(e){var n=r[c][1][e];return o(n||e)},a,a.exports,e,r,n,t)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<t.length;c++)o(t[c]);return o}({1:[function(e,r,n){"use strict";function t(e,r){return(r||[]).reduce(function(e,r){if(e)return e[r]},e)}function o(e,r){return Object.keys(r).reduce(function(e,n){return u.assoc(e,n,r[n])},e)}function i(e,r,n){return null==e||null==r?e:Object.keys(r).reduce(function(e,t){var o=r[t],s=e[t],a=n?n(s,o,t):o;return f(o)&&f(s)?a===s&&Object.isFrozen(a)&&Object.isFrozen(s)?e:Array.isArray(o)?u.assoc(e,t,a):c(e,t,i(s,a,n)):c(e,t,a)},e)}function c(e,r,n){return e[r]===n?e:u.assoc(e,r,n)}var u=n,f=function(e){return null!==e&&(Array.isArray(e)||s(e))},s=function(e){return"object"==typeof e&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype},a=function(e,r){var n,t;if(Array.isArray(e))for(n=e.length;n--;)r(n);else for(n=(t=Object.keys(e)).length;n--;)r(t[n])},l=function(e){for(var r,n={},t=Object.keys(e),o=t.length;o--;)n[r=t[o]]=e[r];return n},p=function(e){return Array.isArray(e)?e.slice():l(e)},v=function(e){return f(e)&&!Object.isFrozen(e)?d(e):e},h=function(e){return"object"==typeof e?Object.freeze(e):e},y=[],d=function(e){if(y.some(function(r){return r===e}))throw new Error("object has a reference cycle");return y.push(e),a(e,function(r){var n=e[r];f(n)&&d(n)}),y.pop(),Object.freeze(e),e};n.freeze=d,n.thaw=function e(r){if(!f(r)||!Object.isFrozen(r))return r;var n=Array.isArray(r)?new Array(r.length):{};return a(r,function(t){n[t]=e(r[t])}),n},n.assoc=function(e,r,n){if(e[r]===n)return h(e);var t=p(e);return t[r]=v(n),h(t)},n.set=n.assoc,n.dissoc=function(e,r){var n=p(e);return delete n[r],h(n)},n.unset=n.dissoc,n.assocIn=function e(r,n,t){var o=n[0];return 1===n.length?u.assoc(r,o,t):u.assoc(r,o,e(r[o]||{},n.slice(1),t))},n.setIn=n.assocIn,n.getIn=t,n.updateIn=function(e,r,n){var o=t(e,r);return u.assocIn(e,r,n(o))},["push","unshift","pop","shift","reverse","sort"].forEach(function(e){n[e]=function(r,n){var t=[].concat(r);return t[e](v(n)),h(t)},n[e].displayName="icepick."+e}),n.splice=function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];var t=[].concat(e),o=r.map(v);return t.splice.apply(t,o),h(t)},n.slice=function(e,r,n){var t=e.slice(r,n);return h(t)},["map","filter"].forEach(function(e){n[e]=function(r,n){var t=n[e](r);return h(t)},n[e].displayName="icepick."+e}),n.extend=n.assign=function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];var t=r.reduce(o,e);return h(t)},n.merge=i;var b={value:function(){return this.val},thru:function(e){return this.val=v(e(this.val)),this}};Object.keys(n).forEach(function(e){e.match(/^(map|filter)$/)?b[e]=function(r){return this.val=n[e](r,this.val),this}:b[e]=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return this.val=n[e].apply(n,[this.val].concat(r)),this}}),n.chain=function(e){var r=Object.create(b);return r.val=e,r}},{}]},{},[1])(1)});
