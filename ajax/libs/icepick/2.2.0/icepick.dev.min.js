!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).icepick=e()}(function(){return function u(c,i,f){function s(n,e){if(!i[n]){if(!c[n]){var r="function"==typeof require&&require;if(!e&&r)return r(n,!0);if(a)return a(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var o=i[n]={exports:{}};c[n][0].call(o.exports,function(e){return s(c[n][1][e]||e)},o,o.exports,u,c,i,f)}return i[n].exports}for(var a="function"==typeof require&&require,e=0;e<f.length;e++)s(f[e]);return s}({1:[function(e,n,o){"use strict";function u(e,n){return(n||[]).reduce(function(e,n){if(e)return e[n]},e)}function c(e,r){return Object.keys(r).reduce(function(e,n){return p.assoc(e,n,r[n])},e)}function f(e,n,r){return e[n]===r?e:p.assoc(e,n,r)}function i(e,n){var r,t;if(Array.isArray(e))for(r=e.length;r--;)n(r);else for(r=(t=Object.keys(e)).length;r--;)n(t[r])}function s(e){return Array.isArray(e)?e.slice():function(e){for(var n,r={},t=Object.keys(e),o=t.length;o--;)r[n=t[o]]=e[n];return r}(e)}function a(e){return y(e)&&!Object.isFrozen(e)?v(e):e}function l(e){return"object"==typeof e?Object.freeze(e):e}var p=o,y=function(e){return null!==e&&(Array.isArray(e)||r(e))},r=function(e){return"object"==typeof e&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype},t=[],v=function(r){if(t.some(function(e){return e===r}))throw new Error("object has a reference cycle");return t.push(r),i(r,function(e){var n=r[e];y(n)&&v(n)}),t.pop(),Object.freeze(r),r};o.freeze=v,o.thaw=function n(r){if(!y(r)||!Object.isFrozen(r))return r;var t=Array.isArray(r)?new Array(r.length):{};return i(r,function(e){t[e]=n(r[e])}),t},o.assoc=function(e,n,r){if(e[n]===r)return l(e);var t=s(e);return t[n]=a(r),l(t)},o.set=o.assoc,o.dissoc=function(e,n){var r=s(e);return delete r[n],l(r)},o.unset=o.dissoc,o.assocIn=function e(n,r,t){var o=r[0];return 1===r.length?p.assoc(n,o,t):p.assoc(n,o,e(n[o]||{},r.slice(1),t))},o.setIn=o.assocIn,o.getIn=u,o.updateIn=function(e,n,r){var t=u(e,n);return p.assocIn(e,n,r(t))},["push","unshift","pop","shift","reverse","sort"].forEach(function(t){o[t]=function(e,n){var r=[].concat(e);return r[t](a(n)),l(r)},o[t].displayName="icepick."+t}),o.splice=function(e){for(var n=[],r=arguments.length-1;0<r--;)n[r]=arguments[r+1];var t=[].concat(e),o=n.map(a);return t.splice.apply(t,o),l(t)},o.slice=function(e,n,r){var t=e.slice(n,r);return l(t)},["map","filter"].forEach(function(t){o[t]=function(e,n){var r=n[t](e);return l(r)},o[t].displayName="icepick."+t}),o.extend=o.assign=function(e){for(var n=[],r=arguments.length-1;0<r--;)n[r]=arguments[r+1];var t=n.reduce(c,e);return l(t)},o.merge=function u(e,c,i){return null==e||null==c?e:Object.keys(c).reduce(function(e,n){var r=c[n],t=e[n],o=i?i(t,r,n):r;return y(r)&&y(t)?o===t&&Object.isFrozen(o)&&Object.isFrozen(t)?e:Array.isArray(r)?p.assoc(e,n,o):f(e,n,u(t,o,i)):f(e,n,o)},e)};var h={value:function(){return this.val},thru:function(e){return this.val=a(e(this.val)),this}};Object.keys(o).forEach(function(r){h[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return e.unshift(this.val),this.val=o[r].apply(null,e),this}}),o.chain=function(e){var n=Object.create(h);return n.val=e,n}},{}]},{},[1])(1)});