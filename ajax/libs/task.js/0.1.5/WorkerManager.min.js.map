{"version":3,"sources":["WorkerManager.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","Transferables","[object Object]","transferables","this","map","transferable","ArrayBuffer","buffer","Error","WorkerManager","$config","WorkerProxies","_terminated","_taskTimeout","_reissueTasksInTimedoutWorkers","_queue","length","worker","_getWorker","setTimeout","_next","task","shift","_debug","_log","action","taskId","id","workerId","message","run","_workers","filter","item","tasks","forEach","push","$options","managerCount","_workerType","workerType","require","error","_WorkerProxy","NodeWorkerThread","SimulatedWorker","DefaultWorkerProxy","_logger","logger","console","log","_requires","requires","_workerTaskConcurrency","workerTaskConcurrency","_maxWorkers","maxWorkers","_idleTimeout","idleTimeout","taskTimeout","_idleCheckInterval","_warmStart","warmStart","_warmStartCompleted","_globals","globals","_env","env","_globalsInitializationFunction","initialize","debug","JSON","stringify","config","_workersInitializing","_onWorkerTaskComplete","bind","_flushIdleWorkers","_totalWorkersCreated","_lastTaskTimeoutCheck","Date","i","_createWorker","data","event","source","managerId","keys","_idleCheckIntervalID","setInterval","arguments","function","Array","prototype","slice","call","taskCount","Promise","resolve","reject","args","func","wrap","wrappedFunc","from","lastArg","toArray","_run","clearInterval","terminate","some","startTime","forceExit","lastTaskTimestamp","idleWorkers","sort","a","b","onTaskComplete","onExit","_onWorkerExit","requireCode","globalsInitializationFunction","toString","trim","_runOnWorker","then","module","exports"],"mappings":"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"}