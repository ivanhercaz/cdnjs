"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var INFINITY=1/0,isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},baseToString=function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-INFINITY?"-0":t},toString=function(e){return null==e?"":baseToString(e)},isString=function(e){return"string"==typeof e},isNumber=function(e){return"number"==typeof e},isDefined=function(e){return null!=e};function get(e,t){var h=[],l=!1;return function e(t,r){if(r){var n=r.indexOf("."),i=r,a=null;-1!==n&&(i=r.slice(0,n),a=r.slice(n+1));var o=t[i];if(isDefined(o))if(a||!isString(o)&&!isNumber(o))if(isArray(o)){l=!0;for(var s=0,c=o.length;s<c;s+=1)e(o[s],a)}else a&&e(o,a);else h.push(toString(o))}else h.push(t)}(e,t),l?h:h[0]}var MatchOptions={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},BasicOptions={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score-t.score}},FuzzyOptions={location:0,threshold:.6,distance:100},AdvancedOptions={useExtendedSearch:!1,getFn:get},Config=_objectSpread2({},BasicOptions,{},MatchOptions,{},FuzzyOptions,{},AdvancedOptions);function computeScore(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.errors,n=void 0===r?0:r,i=t.currentLocation,a=void 0===i?0:i,o=t.expectedLocation,s=void 0===o?0:o,c=t.distance,h=void 0===c?Config.distance:c,l=n/e.length,u=Math.abs(s-a);return h?l+u/h:u?1:l}function convertMaskToIndices(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Config.minMatchCharLength,r=[],n=-1,i=-1,a=0,o=e.length;a<o;a+=1){var s=e[a];s&&-1===n?n=a:s||-1===n||(t<=(i=a-1)-n+1&&r.push([n,i]),n=-1)}return e[a-1]&&t<=a-n&&r.push([n,a-1]),r}var MAX_BITS=32;function search(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=n.location,a=void 0===i?Config.location:i,o=n.distance,s=void 0===o?Config.distance:o,c=n.threshold,h=void 0===c?Config.threshold:c,l=n.findAllMatches,u=void 0===l?Config.findAllMatches:l,f=n.minMatchCharLength,d=void 0===f?Config.minMatchCharLength:f,v=n.includeMatches,g=void 0===v?Config.includeMatches:v;if(t.length>MAX_BITS)throw new Error("Pattern length exceeds max of ".concat(MAX_BITS,"."));var y,p=t.length,m=e.length,_=Math.max(0,Math.min(a,m)),S=h,b=_,k=[];if(g)for(var M=0;M<m;M+=1)k[M]=0;for(;-1<(y=e.indexOf(t,b));){var A=computeScore(t,{currentLocation:y,expectedLocation:_,distance:s});if(S=Math.min(A,S),b=y+p,g)for(var C=0;C<p;)C+=k[y+C]=1}b=-1;for(var I=[],x=1,w=p+m,O=1<<(p<=MAX_BITS-1?p-1:MAX_BITS-2),L=0;L<p;L+=1){for(var j=0,P=w;j<P;){computeScore(t,{errors:L,currentLocation:_+P,expectedLocation:_,distance:s})<=S?j=P:w=P,P=Math.floor((w-j)/2+j)}w=P;var T=Math.max(1,_-P+1),F=u?m:Math.min(_+P,m)+p,N=Array(F+2);N[F+1]=(1<<L)-1;for(var D=F;T<=D;--D){var E=D-1,B=r[e.charAt(E)];if(B&&g&&(k[E]=1),N[D]=(N[D+1]<<1|1)&B,0!==L&&(N[D]|=(I[D+1]|I[D])<<1|1|I[D+1]),N[D]&O&&(x=computeScore(t,{errors:L,currentLocation:E,expectedLocation:_,distance:s}))<=S){if(S=x,(b=E)<=_)break;T=Math.max(1,2*_-b)}}if(S<computeScore(t,{errors:L+1,currentLocation:_,expectedLocation:_,distance:s}))break;I=N}var $={isMatch:0<=b,score:x||.001};return g&&($.matchedIndices=convertMaskToIndices(k,d)),$}function createPatternAlphabet(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var i=0;i<r;i+=1)t[e.charAt(i)]|=1<<r-i-1;return t}var BitapSearch=function(){function m(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.location,n=void 0===r?Config.location:r,i=t.threshold,a=void 0===i?Config.threshold:i,o=t.distance,s=void 0===o?Config.distance:o,c=t.includeMatches,h=void 0===c?Config.includeMatches:c,l=t.findAllMatches,u=void 0===l?Config.findAllMatches:l,f=t.minMatchCharLength,d=void 0===f?Config.minMatchCharLength:f,v=t.isCaseSensitive,g=void 0===v?Config.isCaseSensitive:v;_classCallCheck(this,m),this.options={location:n,threshold:a,distance:s,includeMatches:h,findAllMatches:u,minMatchCharLength:d,isCaseSensitive:g},this.pattern=g?e:e.toLowerCase(),this.chunks=[];for(var y=0;y<this.pattern.length;){var p=this.pattern.substring(y,y+MAX_BITS);this.chunks.push({pattern:p,alphabet:createPatternAlphabet(p)}),y+=MAX_BITS}}return _createClass(m,[{key:"searchIn",value:function(e){var t=e.$;return this.searchInString(t)}},{key:"searchInString",value:function(e){var t=this.options,r=t.isCaseSensitive,n=t.includeMatches;if(r||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return n&&(i.matchedIndices=[[0,e.length-1]]),i}for(var a=this.options,o=a.location,s=a.distance,c=a.threshold,h=a.findAllMatches,l=a.minMatchCharLength,u=[],f=0,d=!1,v=0,g=this.chunks.length;v<g;v+=1){var y=this.chunks[v],p=search(e,y.pattern,y.alphabet,{location:o+MAX_BITS*v,distance:s,threshold:c,findAllMatches:h,minMatchCharLength:l,includeMatches:n}),m=p.isMatch,_=p.score,S=p.matchedIndices;m&&(d=!0),f+=_,m&&S&&(u=[].concat(_toConsumableArray(u),_toConsumableArray(S)))}var b={isMatch:d,score:d?f/this.chunks.length:1};return d&&n&&(b.matchedIndices=u),b}}]),m}(),SPACE=/[^ ]+/g;function createIndex(e,t){var r=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).getFn,n=void 0===r?Config.getFn:r,i=[];if(isString(t[0]))for(var a=0,o=t.length;a<o;a+=1){var s=t[a];if(isDefined(s)){var c={$:s,idx:a,t:s.match(SPACE).length};i.push(c)}}else for(var h=e.length,l=0,u=t.length;l<u;l+=1){for(var f=t[l],d={idx:l,$:{}},v=0;v<h;v+=1){var g=e[v],y=n(f,g);if(isDefined(y))if(isArray(y)){for(var p=[],m=[{arrayIndex:-1,value:y}];m.length;){var _=m.pop(),S=_.arrayIndex,b=_.value;if(isDefined(b))if(isString(b)){var k={$:b,idx:S,t:b.match(SPACE).length};p.push(k)}else if(isArray(b))for(var M=0,A=b.length;M<A;M+=1)m.push({arrayIndex:M,value:b[M]})}d.$[g]=p}else{var C={$:y,t:y.match(SPACE).length};d.$[g]=C}}i.push(d)}return i}var KeyStore=function(){function u(e){if(_classCallCheck(this,u),this._keys={},this._keyNames=[],this._length=e.length,e.length&&isString(e[0]))for(var t=0;t<this._length;t+=1){var r=e[t];this._keys[r]={weight:1},this._keyNames.push(r)}else{for(var n=0,i=0;i<this._length;i+=1){var a=e[i];if(!Object.prototype.hasOwnProperty.call(a,"name"))throw new Error('Missing "name" property in key object');var o=a.name;if(this._keyNames.push(o),!Object.prototype.hasOwnProperty.call(a,"weight"))throw new Error('Missing "weight" property in key object');var s=a.weight;if(s<=0||1<=s)throw new Error('"weight" property in key must be in the range of (0, 1)');this._keys[o]={weight:s},n+=s}for(var c=0;c<this._length;c+=1){var h=this._keyNames[c],l=this._keys[h].weight;this._keys[h].weight=l/n}}}return _createClass(u,[{key:"get",value:function(e,t){return this._keys[e]?this._keys[e][t]:-1}},{key:"keys",value:function(){return this._keyNames}},{key:"count",value:function(){return this._length}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),u}();function transformMatches(e,t){var r=e.matches;if(t.matches=[],isDefined(r))for(var n=0,i=r.length;n<i;n+=1){var a=r[n];if(isDefined(a.indices)&&0!==a.indices.length){var o={indices:a.indices,value:a.value};a.key&&(o.key=a.key),-1<a.idx&&(o.refIndex=a.idx),t.matches.push(o)}}}function transformScore(e,t){t.score=e.score}var registeredSearchers=[],Fuse=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,n),this.options=_objectSpread2({},Config,{},t),this._processKeys(this.options.keys),this.setCollection(e,r)}return _createClass(n,[{key:"setCollection",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:null;this.list=e,this.listIsStringArray=isString(e[0]),r?this.setIndex(r):this.setIndex(this._createIndex())}},{key:"setIndex",value:function(e){this._indexedList=e}},{key:"_processKeys",value:function(e){this._keyStore=new KeyStore(e)}},{key:"_createIndex",value:function(){return createIndex(this._keyStore.keys(),this.list,{getFn:this.options.getFn})}},{key:"search",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:{limit:!1};if(!(e=e.trim()).length)return[];for(var n=this.options.shouldSort,i=null,a=0,o=registeredSearchers.length;a<o;a+=1){var s=registeredSearchers[a];if(s.condition(e,this.options)){i=new s(e,this.options);break}}i=i||new BitapSearch(e,this.options);var c=this._searchUsing(i);return this._computeScore(c),n&&this._sort(c),r.limit&&isNumber(r.limit)&&(c=c.slice(0,r.limit)),this._format(c)}},{key:"_searchUsing",value:function(e){var t=this._indexedList,r=[],n=this.options.includeMatches;if(this.listIsStringArray)for(var i=0,a=t.length;i<a;i+=1){var o=t[i],s=o.$,c=o.idx,h=o.t;if(isDefined(s)){var l=e.searchIn(o),u=l.isMatch,f=l.score;if(u){var d={score:f,value:s,t:h};n&&(d.indices=l.matchedIndices),r.push({item:s,idx:c,matches:[d]})}}}else for(var v=this._keyStore.keys(),g=this._keyStore.count(),y=0,p=t.length;y<p;y+=1){var m=t[y],_=m.$,S=m.idx;if(isDefined(_)){for(var b=[],k=0;k<g;k+=1){var M=v[k],A=_[M];if(isDefined(A))if(isArray(A))for(var C=0,I=A.length;C<I;C+=1){var x=A[C],w=x.$,O=x.idx,L=x.t;if(isDefined(w)){var j=e.searchIn(x),P=j.isMatch,T=j.score;if(P){var F={score:T,key:M,value:w,idx:O,t:L};n&&(F.indices=j.matchedIndices),b.push(F)}}}else{var N=A.$,D=A.t,E=e.searchIn(A),B=E.isMatch,$=E.score;if(!B)continue;var X={score:$,key:M,value:N,t:D};n&&(X.indices=E.matchedIndices),b.push(X)}}b.length&&r.push({idx:S,item:_,matches:b})}}return r}},{key:"_computeScore",value:function(e){for(var t=e.length,r=0;r<t;r+=1){for(var n=e[r],i=n.matches,a=i.length,o=1,s=0;s<a;s+=1){var c=i[s],h=c.key,l=c.t,u=this._keyStore.get(h,"weight"),f=-1<u?u:1,d=0===c.score&&-1<u?Number.EPSILON:c.score,v=1/Math.sqrt(l);o*=Math.pow(d,f*v)}n.score=o}}},{key:"_sort",value:function(e){e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[],r=this.options,n=r.includeMatches,i=r.includeScore,a=[];n&&a.push(transformMatches),i&&a.push(transformScore);for(var o=0,s=e.length;o<s;o+=1){var c=e[o],h=c.idx,l={item:this.list[h],refIndex:h};if(a.length)for(var u=0,f=a.length;u<f;u+=1)a[u](c,l);t.push(l)}return t}}]),n}();Fuse.version="5.2.1",Fuse.createIndex=createIndex,Fuse.config=Config,module.exports=Fuse;