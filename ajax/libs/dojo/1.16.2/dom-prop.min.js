define(["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(i,e,c,l,u,f,m,p){var y={},x=1,C=e._scopeName+"attrid";c.add("dom-textContent",function(e,t,n){return"textContent"in n}),i.names={class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"},i.get=function(e,t){e=u.byId(e);var n=t.toLowerCase(),o=i.names[n]||t;return"textContent"!=o||c("dom-textContent")?e[o]:function e(t){for(var n,o="",r=t.childNodes,a=0;n=r[a];a++)8!=n.nodeType&&(1==n.nodeType?o+=e(n):o+=n.nodeValue);return o}(e)},i.set=function(e,t,n){if(e=u.byId(e),2==arguments.length&&"string"!=typeof t){for(var o in t)i.set(e,o,t[o]);return e}var r=t.toLowerCase(),a=i.names[r]||t;if("style"==a&&"string"!=typeof n)return f.set(e,n),e;if("innerHTML"==a)return c("ie")&&e.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(m.empty(e),e.appendChild(m.toDom(n,e.ownerDocument))):e[a]=n,e;if("textContent"==a&&!c("dom-textContent"))return m.empty(e),e.appendChild(e.ownerDocument.createTextNode(n)),e;if(l.isFunction(n)){var d=e[C];d||(d=x++,e[C]=d),y[d]||(y[d]={});var s=y[d][a];if(s)p.disconnect(s);else try{delete e[a]}catch(e){}return n?y[d][a]=p.connect(e,a,n):e[a]=null,e}return e[a]=n,e}});