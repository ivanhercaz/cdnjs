define(["./sniff","./_base/window","./_base/kernel"],function(e,a,t){if(e("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var i={};e("ie")?i.byId=function(e,t){if("string"!=typeof e)return e||null;var n=t||a.doc,r=e&&n.getElementById(e);if(r&&(r.attributes.id.value==e||r.id==e))return r;var i=n.all[e];i&&!i.nodeName||(i=[i]);for(var u=0;r=i[u++];)if(r.attributes&&r.attributes.id&&r.attributes.id.value==e||r.id==e)return r;return null}:i.byId=function(e,t){return("string"==typeof e?(t||a.doc).getElementById(e):e)||null};var n=t.global.document||null;e.add("dom-contains",!(!n||!n.contains)),i.isDescendant=e("dom-contains")?function(e,t){return!(!(t=i.byId(t))||!t.contains(i.byId(e)))}:function(e,t){try{for(e=i.byId(e),t=i.byId(t);e;){if(e==t)return!0;e=e.parentNode}}catch(e){}return!1},e.add("css-user-select",function(e,t,n){if(!n)return!1;var r=n.style,i=["Khtml","O","Moz","Webkit"],u=i.length,a="userSelect";do{if(void 0!==r[a])return a}while(u--&&(a=i[u]+"UserSelect"));return!1});var r=e("css-user-select");return i.setSelectable=r?function(e,t){i.byId(e).style[r]=t?"":"none"}:function(e,t){var n=(e=i.byId(e)).getElementsByTagName("*"),r=n.length;if(t)for(e.removeAttribute("unselectable");r--;)n[r].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");r--;)n[r].setAttribute("unselectable","on")},i});