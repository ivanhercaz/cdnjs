define(["require","intern!object","intern/chai!assert","../../../Deferred","../../../has"],function(u,n,t,f,i){function e(e,n,o){i.add("foo",n,!0,!0),i.add("bar",o,!0,!0);var r=new f;return u(["../support/foobarPlugin!"],function(n){t.strictEqual(n,e),r.resolve()}),r}n({name:"dojo/loader_tests/undefPlugin",setup:function(){u({async:!0})},beforeEach:function(){u.undef("../support/foobarPlugin!"),u.undef("../support/foobarPlugin")},teardown:function(){u.undef("../../support/foobarPlugin!"),u.undef("../../support/foobarPlugin")},expectFoo:function(){return e("foo",!0,!1)},expectBar:function(){return e("bar",!1,!0)},expectUndefined:function(){return e("undefined",!1,!1)}})});