define(["intern!object","intern/chai!assert","sinon","dojo/sniff","../../dom-style","../../dom-construct"],function(e,o,t,i,a,n){var l,d,r,u,s=0;function c(){return"dom-style"+s++}e({name:"dojo/dom-style",setup:function(){l=document.createElement("div"),document.body.appendChild(l)},teardown:function(){document.body.removeChild(l)},"getComputedStyle()":{"gets expected result":function(){var e=document.createElement("div"),t={position:"relative",width:"100px",height:"125px"};for(var n in t)e.style[n]=t[n];l.appendChild(e);var i=a.getComputedStyle(e);for(var n in t)o.equal(i[n],t[n])},"does not throw on frame elements":function(){var e,t=document.createElement("div"),n=document.createElement("iframe");t.appendChild(n),l.appendChild(t),a.set(n,"display","none"),(e=n.contentWindow.document).open(),e.write("<!doctype html><html><body><div>Test</div></body></html>"),e.close(),o.isNotNull(a.getComputedStyle(e.body))}},"toPixelValue()":{"node + undefined":function(){var e=document.createElement("div");l.appendChild(e);var t=a.toPixelValue(e,void 0);o.equal(t,0)},"node + 'medium'":function(){i("ie")||this.skip("IE Only");var e=document.createElement("div"),t=a.toPixelValue(e,"medium");o.equal(t,4)},"node + '##px'":function(){var e=document.createElement("div"),t=a.toPixelValue(e,"42px");o.equal(t,42)}},"get()":{"string + string":function(){var e=document.createElement("div"),t=c(),n="width";l.appendChild(e),e.id=t,e.style[n]="42px";var i=a.get(e,n);o.equal(i,42)},"node + string":function(){var e=document.createElement("div"),t="width";l.appendChild(e),e.style[t]="42px";var n=a.get(e,t);o.equal(n,42)},"node + 'opacity'":function(){if(i("ie")<9||i("ie")<10&&i("quirks"))this.skip("skipped for IE 8- && IE 9, 10 in quirks");else{var e=document.createElement("div"),t="opacity";l.appendChild(e),e.style[t]=.3;var n=a.get(e,t);o.equal(parseFloat(n).toFixed(4),.3.toFixed(4))}},"node + alias of float":function(){var e=["cssFloat","styleFloat","float"],t=document.createElement("div"),n="right";for(var i in l.appendChild(t),t.style.cssFloat=n,e){var d=a.get(t,e[i]);o.equal(d,n)}},"node + height when height:'auto'":function(){var e=document.createElement("div"),t="width",n="auto";l.appendChild(e),e.style[t]=n;var i=a.get(e,t);o.notEqual(i,n),o.isNumber(i)},"node + width when width:'auto'":function(){var e=document.createElement("div"),t="height",n="auto";l.appendChild(e),e.style[t]=n;var i=a.get(e,t);o.notEqual(i,n),o.isNumber(i)},"node + 'fontWeight' when fontWeight = 400":function(){if(i("ie")||i("trident")){var e=document.createElement("div"),t="fontweight";l.appendChild(e),e.style[t]=400;var n=a.get(e,t);o.equal(n,"normal")}else this.skip("for has('ie') and has('trident') only")},"node + 'fontWeight' when fontWeight = 700":function(){if(i("ie")||i("trident")){var e=document.createElement("div"),t="fontweight";l.appendChild(e),e.style[t]=700;var n=a.get(e,t);o.equal(n,"bold")}else this.skip("for has('ie') and has('trident') only")},"node + style with measurement returned as number of px":function(){var e=["margin","padding","left","top","width","height","max-width","min-width","offset-width"],t=document.createElement("div");for(var n in l.appendChild(t),e){t.style[e[n]]="10px";var i=a.get(t,e[n]);o.equal(i,10)}},node:function(){var e=document.createElement("div"),t={position:"relative",width:"100px",height:"125px"};for(var n in t)e.style[n]=t[n];l.appendChild(e);var i=a.get(e);for(var n in t)o.equal(i[n],t[n])}},"set()":{"string + string + string":function(){var e=document.createElement("div"),t=c();l.appendChild(e),e.id=t,a.set(t,"width","10px"),o.equal(e.style.width,"10px")},"node + string + string":function(){var e=document.createElement("div");l.appendChild(e),a.set(e,"width","10px"),o.equal(e.style.width,"10px")},"node + map":function(){var e=document.createElement("div"),t={position:"relative",width:"100px",height:"125px"};for(var n in l.appendChild(e),a.set(e,t),t)o.equal(e.style[n],t[n])},"node + aliases of float":function(){var e=["cssFloat","styleFloat","float"],t=document.createElement("div"),n="right";for(var i in l.appendChild(t),t.style.float=n,e)a.set(t,e[i],n),o.equal(t.style.cssFloat,n),t.style.cssFloat="none"},"node + opacity + number":function(){var e=document.createElement("div"),t="opacity";l.appendChild(e),a.set(e,t,.3),o.equal(e.style[t],.3)},node:function(){var e=document.createElement("div"),t={position:"relative",width:"100px",height:"125px"};for(var n in t)e.style[n]=t[n];l.appendChild(e);var i=a.set(e);for(var n in t)o.equal(i[n],t[n])}},"validation tests":{setup:function(){d=document.createElement("div"),r=n.toDom('<div style="padding: 1px 2px 3px 4px;"></div>');var e=n.toDom('<table><tbody><tr id="trow"><td>Col A</td><td>Col B</td></tr></tbody></table>');document.body.appendChild(d),d.appendChild(r),d.appendChild(e),u=document.getElementById("trow")},teardown:function(){document.body.removeChild(d)},getComputedStyle:function(){var e=a.getComputedStyle(r);o.isTrue(null!==e),r=document.createElement("div"),a.set(r,"nodeStyle"),e=a.getComputedStyle(r),o.isTrue(null!==e)},getWidth:function(){var e=a.get(u,"width");o.isTrue(0<e,"width: "+e)}}})});