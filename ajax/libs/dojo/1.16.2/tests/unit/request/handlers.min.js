define(["intern!object","intern/chai!assert","../../../request/handlers","dojo/has","dojo/json","dojo/has!host-browser?dojo/domReady!"],function(t,o,e,r,s){var n=this;t({name:"dojo/request/handlers",text:function(){var t=e({text:"foo bar baz ",options:{}});o.strictEqual(t.data,"foo bar baz ")},json:function(){var t={foo:"bar",baz:[{thonk:"blarg"},"xyzzy!"]},a=e({text:s.stringify(t),options:{handleAs:"json"}});o.deepEqual(a.data,t)},javascript:function(){var t={foo:"bar",baz:[{thonk:"blarg"},"xyzzy!"]},a=e({text:"("+s.stringify(t)+")",options:{handleAs:"javascript"}});o.deepEqual(a.data,t),a=e({text:"true;",options:{handleAs:"javascript"}}),o.ok(a.data),a=e({text:"false;",options:{handleAs:"javascript"}}),o.ok(!a.data)},xml:function(){if(r("host-browser")){var t={text:'<foo><bar baz="thonk">blarg</bar></foo>',options:{handleAs:"xml"}};if("DOMParser"in n){var a=new DOMParser;t.data=a.parseFromString(t.text,"text/xml")}t=e(t),o.strictEqual(t.data.documentElement.tagName,"foo")}},register:{"custom handler":function(){e.register("custom",function(){return"custom response"});var t=e({text:"foo bar baz",options:{handleAs:"custom"}});o.strictEqual(t.data,"custom response")}}})});