define(["intern!object","intern/chai!assert","../../../request/script","../../../errors/RequestTimeoutError","../../../errors/CancelError","dojo/domReady!"],function(e,c,t,r,s){e({name:"dojo/request/script",load:function(){var e=this.async();t.get("/__services/request/script",{query:{scriptVar:"scriptLoad"}}).then(e.callback(function(){c.notTypeOf(scriptLoad,"undefined"),c.strictEqual(scriptLoad,"loaded")}),e.reject)},checkString:function(){var e=this.async();t.get("/__services/request/script",{query:{checkString:"myTasks"},checkString:"myTasks"}).then(e.callback(function(){c.notTypeOf(myTasks,"undefined"),c.deepEqual(myTasks,["Take out trash.","Do dishes.","Brush teeth."])}),e.reject)},"script error event":function(){var e=this.async();t.get("/__services/non-existent-script",{jsonp:"callback",timeout:3e3}).then(e.reject,e.callback(function(e){var t=e.source;t.type?c.strictEqual(t.type,"error"):c.instanceOf(e,r)}))},jsonp:function(){var e=this.async();t.get("/__services/request/script",{query:{foo:"bar"},jsonp:"callback"}).then(e.callback(function(e){c.strictEqual(e.animalType,"mammal")}),e.reject)},"jsonp timeout":function(){var e=this.async();t.get("/__services/request/script",{query:{delay:3e3},timeout:500,jsonp:"callback"}).then(e.reject,e.callback(function(e){c.instanceOf(e,r)}))},"jsonp cancel":function(){var e=this.async();t.get("/__services/request/script",{query:{delay:3e3},jsonp:"callback"}).then(e.reject,e.callback(function(e){c.instanceOf(e,s)})).cancel()}})});