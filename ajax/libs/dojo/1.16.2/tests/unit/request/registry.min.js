define(["intern!object","intern/chai!assert","../../../request/registry","intern/dojo/has","intern/dojo/_base/lang","intern/dojo/has!host-browser?dojo/domReady!"],function(o,t,n,e,r){var a={name:"dojo/request/registry",".register":{"RegExp registration works":function(){var o=this.async(),e=n.register(/^foo/,o.callback(function(o){t.match(o,/^foo/),e.remove()}));n.get("foobar")},"functional registration works":function(){var o=this.async(),r=n.register(function(o,e){return"POST"===e.method},o.callback(function(o,e){t.equal(e.method,"POST"),r.remove()}));n.post("foobar")},"string registration works":function(){var o=this.async(),e=n.register("foobar",o.callback(function(o){t.equal(o,"foobar"),e.remove()}));n.get("foobar")}}};e("host-browser")&&(a[".get"]={"fallback works":function(){var o=this.async(),e=n.register("foobar",function(){});n.get("client.html").then(r.hitch(o,o.resolve),r.hitch(o,o.reject)).always(function(){e.remove()})}}),o(a)});