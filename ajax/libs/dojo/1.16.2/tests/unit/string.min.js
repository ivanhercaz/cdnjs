define(["intern!object","intern/chai!assert","../../string"],function(t,o,r){t({name:"dojo/string",".pad":function(){o.strictEqual(r.pad("1",5),"00001"),o.strictEqual(r.pad("000001",5),"000001"),o.strictEqual(r.pad("1",5,null,!0),"10000")},".substitute":{normal:function(){o.strictEqual(r.substitute('File "${0}" is not found in directory "${1}".',["foo.html","/temp"]),'File "foo.html" is not found in directory "/temp".'),o.strictEqual(r.substitute('File "${name}" is not found in directory "${info.dir}".',{name:"foo.html",info:{dir:"/temp"}}),'File "foo.html" is not found in directory "/temp".'),o.strictEqual(r.substitute("Escaped ${}"),"Escaped $")},"missing key":function(){o.throws(function(){r.substitute("${x}",{y:1})},/^string\.substitute could not find key "\w+" in template$/)},transform:function(){function t(t){var i="/"===t.charAt(0)?"directory":"file";return this.____prefix&&(i=this.____prefix+i),i+' "'+t+'"'}var i={____prefix:"...",getPrefix:t};o.strictEqual(r.substitute("${0} is not found in ${1}.",["foo.html","/temp"],t),'file "foo.html" is not found in directory "/temp".'),o.strictEqual(r.substitute("${0} is not found in ${1}.",["foo.html","/temp"],i.getPrefix,i),'...file "foo.html" is not found in ...directory "/temp".')},formatter:function(){o.strictEqual(r.substitute("${0:postfix}",["thinger"],null,{postfix:function(t){return t+" -- howdy"}}),"thinger -- howdy")}},".trim":function(){o.strictEqual(r.trim("   \f\n\r\t      astoria           "),"astoria"),o.strictEqual(r.trim("astoria                            "),"astoria"),o.strictEqual(r.trim("                            astoria"),"astoria"),o.strictEqual(r.trim("astoria"),"astoria"),o.strictEqual(r.trim("   a   "),"a")},".rep":function(){o.strictEqual(r.rep("a",5),"aaaaa"),o.strictEqual(r.rep("ab",4),"abababab"),o.strictEqual(r.rep("ab",0),""),o.strictEqual(r.rep("",3),"")},".escape":function(){o.equal(r.escape("astoria"),"astoria"),o.equal(r.escape("&<>'/"),"&amp;&lt;&gt;&#x27;&#x2F;"),o.equal(r.escape('oh"oh"oh'),"oh&quot;oh&quot;oh")}})});