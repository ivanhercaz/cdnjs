define(["intern!object","intern/chai!assert","../../json"],function(o,n,e){o({name:"dojo/json",".parse":{"simple string":function(){n.deepEqual(e.parse('{"foo":"bar"}'),{foo:"bar"})},"simple true":function(){n.deepEqual(e.parse('{"foo":true}'),{foo:!0})},"simple false":function(){n.deepEqual(e.parse('{"foo":false}'),{foo:!1})},"simple null":function(){n.deepEqual(e.parse('{"foo":null}'),{foo:null})},"simple number":function(){n.deepEqual(e.parse('{"foo":3.3}'),{foo:3.3})},"strict string":function(){n.deepEqual(e.parse('{"foo":"bar"}',!0),{foo:"bar"})},"strict empty string":function(){n.deepEqual(e.parse('{"foo":""}',!0),{foo:""})},"strict escaped string":function(){n.deepEqual(e.parse('{"foo":"b\\n\\t\\"ar()"}',!0),{foo:'b\n\t"ar()'})},"strict true":function(){n.deepEqual(e.parse('{"foo":true}',!0),{foo:!0})},"strict false":function(){n.deepEqual(e.parse('{"foo":false}',!0),{foo:!1})},"strict null":function(){n.deepEqual(e.parse('{"foo":null}',!0),{foo:null})},"strict number":function(){n.deepEqual(e.parse('{"foo":3.3}',!0),{foo:3.3})},"strict negative number":function(){n.deepEqual(e.parse('{"foo":-3.3}',!0),{foo:-3.3})},"strict negative exponent":function(){n.deepEqual(e.parse('{"foo":3.3e-33}',!0),{foo:33e-34})},"strict exponent":function(){n.deepEqual(e.parse('{"foo":3.3e33}',!0),{foo:33e32})},"strict array":function(){n.deepEqual(e.parse('{"foo":[3,true,[]]}',!0),{foo:[3,!0,[]]})},"bad call throws":function(){n.throws(function(){e.parse('{"foo":alert()}',!0)})},"bad math throws":function(){n.throws(function(){e.parse('{"foo":3+4}',!0)})},"bad array index throws":function(){n.throws(function(){e.parse('{"foo":"bar"}[3]',!0)})},"unquoted object key throws":function(){n.throws(function(){e.parse('{foo:"bar"}',!0)})},"unclosed array throws":function(){n.throws(function(){e.parse("[",!0)})},"closing an unopened object literal throws":function(){n.throws(function(){e.parse("}",!0)})},"malformed array throws":function(){n.throws(function(){e.parse('["foo":"bar"]')})}},".stringify":{string:function(){n.equal(e.stringify({foo:"bar"}),'{"foo":"bar"}')},null:function(){n.equal(e.stringify({foo:null}),'{"foo":null}')},function:function(){n.equal(e.stringify({foo:function(){}}),"{}")},NaN:function(){n.equal(e.stringify({foo:NaN}),'{"foo":null}')},Infinity:function(){n.equal(e.stringify({foo:1/0}),'{"foo":null}')},date:function(){n.match(e.parse(e.stringify({foo:new Date(1)})).foo,/1970-01-01T00:00:00.*Z/)},"inherited object":function(){function o(){this.foo="foo"}o.prototype.bar="bar",n.equal(e.stringify(new o),'{"foo":"foo"}')},toJson:function(){n.equal(e.stringify({foo:{toJSON:function(){return{name:"value"}}}}),'{"foo":{"name":"value"}}')}}})});