define(["intern!object","intern/chai!assert","../../hash","../../topic"],function(t,e,n,i){var s=null;function a(t){t=t||"",location.replace("#"+t)}function c(){var t=location.href,e=t.indexOf("#");return 0<=e?t.substring(e+1):""}t({name:"dojo/hash","get hash":{beforeEach:function(){a("")},afterEach:function(){a("")},empty:function(){e.strictEqual(n(),"")},text:function(){a("text"),e.strictEqual(n(),"text")},"text%20with%20spaces":function(){a("text%20with%20spaces"),e.strictEqual(n(),"text%20with%20spaces")},"text%23with%23encoded%23hashes":function(){a("text%23with%23encoded%23hashes"),e.strictEqual(n(),"text%23with%23encoded%23hashes")},"text+with+pluses":function(){a("text+with+pluses"),e.strictEqual(n(),"text+with+pluses")},"%20leadingSpace":function(){a("%20leadingSpace"),e.strictEqual(n(),"%20leadingSpace")},"trailingSpace%20":function(){a("trailingSpace%20"),e.strictEqual(n(),"trailingSpace%20")},under_score:function(){a("under_score"),e.strictEqual(n(),"under_score")},"extra&instring":function(){a("extra&instring"),e.strictEqual(n(),"extra&instring")},"extra?instring":function(){a("extra?instring"),e.strictEqual(n(),"extra?instring")},"?testa=3&testb=test":function(){a("?testa=3&testb=test"),e.strictEqual(n(),"?testa=3&testb=test")}},"set hash":{beforeEach:function(){a("")},afterEach:function(){a("")},empty:function(){n(""),e.strictEqual(c(),"")},text:function(){n("text"),e.strictEqual(c(),"text")},"text%20with%20spaces":function(){n("text%20with%20spaces"),e.strictEqual(c(),"text%20with%20spaces")},"text%23with%23encoded%23hashes":function(){n("text%23with%23encoded%23hashes"),e.strictEqual(c(),"text%23with%23encoded%23hashes")},"text+with+pluses":function(){n("text+with+pluses"),e.strictEqual(c(),"text+with+pluses")},"%20leadingSpace":function(){n("%20leadingSpace"),e.strictEqual(c(),"%20leadingSpace")},"trailingSpace%20":function(){n("trailingSpace%20"),e.strictEqual(c(),"trailingSpace%20")},under_score:function(){n("under_score"),e.strictEqual(c(),"under_score")},"extra&instring":function(){n("extra&instring"),e.strictEqual(c(),"extra&instring")},"extra?instring":function(){n("extra?instring"),e.strictEqual(c(),"extra?instring")},"?testa=3&testb=test":function(){n("?testa=3&testb=test"),e.strictEqual(c(),"?testa=3&testb=test")},"#leadingHash":function(){n("#leadingHash"),e.strictEqual(c(),"leadingHash")}},"topic publish":{before:function(){s=null,a("")},after:function(){s&&s.remove(),a("")},text:function(){var t=this.async();return s=i.subscribe("/dojo/hashchange",t.callback(function(t){return e.strictEqual(t,"text"),t})),n("text"),t}}})});