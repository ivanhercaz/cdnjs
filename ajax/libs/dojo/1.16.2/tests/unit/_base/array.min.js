define(["intern!object","intern/chai!assert","../../../_base/array"],function(t,a,e){t({name:"dojo/_base/array",".indexOf":{"no index":function(){var t=[128,256,512],r=["aaa","bbb","ccc"];a.strictEqual(e.indexOf([45,56,85],56),1),a.strictEqual(e.indexOf([Number,String,Date],String),1),a.strictEqual(e.indexOf(t,t[1]),1),a.strictEqual(e.indexOf(t,t[2]),2),a.strictEqual(e.indexOf(r,r[1]),1),a.strictEqual(e.indexOf(r,r[2]),2),a.strictEqual(e.indexOf({a:1},"a"),-1),t.push(r),a.strictEqual(e.indexOf(t,r),3)},"from index":function(){a.strictEqual(e.indexOf([45,56,85],56,2),-1),a.strictEqual(e.indexOf([45,56,85],56,1),1),a.strictEqual(e.indexOf([45,56,85],56,-3),1),a.strictEqual(e.indexOf([45,56,85],56,3),-1)}},".lastIndexOf":{"no index":function(){var t=[128,256,512],r=["aaa","bbb","aaa","ccc"];a.strictEqual(e.indexOf([45,56,85],56),1),a.strictEqual(e.indexOf([Number,String,Date],String),1),a.strictEqual(e.lastIndexOf(t,t[1]),1),a.strictEqual(e.lastIndexOf(t,t[2]),2),a.strictEqual(e.lastIndexOf(r,r[1]),1),a.strictEqual(e.lastIndexOf(r,r[2]),2),a.strictEqual(e.lastIndexOf(r,r[0]),2)},"from index":function(){a.strictEqual(e.lastIndexOf([45,56,85],56,1),1),a.strictEqual(e.lastIndexOf([45,56,85],85,1),-1),a.strictEqual(e.lastIndexOf([45,56,85],85,-2),-1),a.strictEqual(e.lastIndexOf([45,56,45],45,0),0)}},".forEach":{"no exception":function(){e.forEach([128,"bbb",512],function(t,r){switch(r){case 0:a.strictEqual(t,128);break;case 1:a.strictEqual(t,"bbb");break;case 2:a.strictEqual(t,512);break;default:a.ok(!1)}}),a.doesNotThrow(function(){e.forEach(void 0,function(){})},/.*/,"forEach on undefined")},string:function(){e.forEach("abc",function(t,r){switch(r){case 0:a.strictEqual(t,"a");break;case 1:a.strictEqual(t,"b");break;case 2:a.strictEqual(t,"c");break;default:a.ok(!1)}})},"string callback":function(){var t=[128,"bbb",512],r={_res:""};e.forEach(t,"this._res += item",r),a.strictEqual(r._res,"128bbb512"),r._res=[],e.forEach(t,"this._res.push(index)",r),a.deepEqual(r._res,[0,1,2]),r._res=[],e.forEach(t,"this._res.push(array)",r),a.deepEqual(r._res,[[128,"bbb",512],[128,"bbb",512],[128,"bbb",512]]),a.throws(function(){e.forEach(t,"this._res += arr[i];",r)},/.*/,"forEach on undefined variable")}},".every":{array:function(){var t=[128,"bbb",512];a.ok(e.every(t,function(t,r,e){return a.strictEqual(e.constructor,Array),a.typeOf(e,"array"),a.typeOf(r,"number"),1===r&&a.strictEqual(t,"bbb"),!0})),a.ok(e.every(t,function(t,r){switch(r){case 0:return a.strictEqual(t,128),!0;case 1:return a.strictEqual(t,"bbb"),!0;case 2:return a.strictEqual(t,512),!0;default:return!1}})),a.ok(!e.every(t,function(t,r){switch(r){case 0:return a.strictEqual(t,128),!0;case 1:return a.strictEqual(t,"bbb"),!0;case 2:return a.strictEqual(t,512),!1;default:return!0}}))},string:function(){a.ok(e.every("abc",function(t,r){switch(r){case 0:return a.strictEqual(t,"a"),!0;case 1:return a.strictEqual(t,"b"),!0;case 2:return a.strictEqual(t,"c"),!0;default:return!1}})),a.ok(!e.every("abc",function(t,r){switch(r){case 0:return a.strictEqual(t,"a"),!0;case 1:return a.strictEqual(t,"b"),!0;case 2:return a.strictEqual(t,"c"),!1;default:return!0}}))}},".some":{array:function(){var t=[128,"bbb",512];a.ok(e.some(t,function(t,r,e){return a.strictEqual(e.length,3),!0})),a.ok(e.some(t,function(t,r){return r<1})),a.ok(!e.some(t,function(){return!1})),a.ok(e.some(t,function(t,r,e){return a.strictEqual(e.constructor,Array),a.typeOf(e,"array"),a.typeOf(r,"number"),1===r&&a.strictEqual(t,"bbb"),!0}))},string:function(){var t="abc";a.ok(e.some(t,function(t,r,e){switch(a.strictEqual(e.length,3),r){case 0:return a.strictEqual(t,"a"),!0;case 1:return a.strictEqual(t,"b"),!0;case 2:return a.strictEqual(t,"c"),!0;default:return!1}})),a.ok(e.some(t,function(t,r){switch(r){case 0:return a.strictEqual(t,"a"),!0;case 1:return a.strictEqual(t,"b"),!0;case 2:return a.strictEqual(t,"c"),!1;default:return!0}})),a.ok(!e.some(t,function(){return!1}))}},".filter":{array:function(){var t=["foo","bar",10];a.deepEqual(e.filter(t,function(t,r){return r<1}),["foo"],"index < 1"),a.deepEqual(e.filter(t,function(t){return"foo"===t}),["foo"],'item == "foo"'),a.deepEqual(e.filter(t,function(){return!1}),[]),a.deepEqual(e.filter(t,function(t){return"number"==typeof t}),[10])},string:function(){var t="thinger blah blah blah";a.deepEqual(e.filter(t,function(t,r){return r<3}),["t","h","i"]),a.deepEqual(e.filter(t,function(){return!1}),[])}},".map":function(){a.deepEqual(e.map(function(){return!0},[]),[]),a.deepEqual(e.map(["cat","dog","mouse"],function(t,r){return r+1}),[1,2,3])}})});