{"version":3,"sources":["Promise.js"],"names":["define","registerSuite","assert","Deferred","name",".always will be invoked for resolution and rejection","resolvedResult","resolvedAlwaysResult","rejectedResult","deferredToResolve","expectedResolvedResult","deferredToReject","expectedRejectedResult","dfd","this","async","promise","then","result","always","callback","rejectedAlwaysResult","strictEqual","reject","resolve",".otherwise() is equivalent to .then(null, ...)","deferred","expectedResult","otherwise","otherwiseResult",".trace() returns the same promise","expectedPromise","trace",".traceRejected() returns the same promise","traceRejected","finally() called when deferred already resolved","thenExpected","finallyResult","equal","undefined","thenResult","fail","finally() called when deferred is resolved later","setTimeout","finally() called when deferred already rejected","expected","Error","finally() called when deferred is rejected later","otherwiseExpected","finally() holds up call chain when chaining from a resolved promise and returning a promise that will resolve","testValue","resultPromise","dfd2","isResolved","isFulfilled","finally() holds up call chain correctly when chaining from a rejected promise and returning a promise that will reject","expectedError","isRejected","resultError","finally() returns rejected promise if callback throws exception","finally() returns rejected promise if chained off resolved promise and callback returns rejected promise","finally() returns rejected promise if chained off rejected promise and callback returns rejected promise"],"mappings":"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"}