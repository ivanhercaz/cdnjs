define([],function(){var e={myecho:function(r){return"<P>"+r[0]+"</P>"},contentB:function(){return"<P>Content B</P>"},contentC:function(){return"<P>Content C</P>"},add:function(r){return r[0]+r[1]}};return function(r){var n="";return r.body.forEach(function(r){n+=r}).then(function(){if(!n)return{status:400,headers:{"Content-Type":"application/json"},body:[JSON.stringify({error:"No data provided"})]};try{var r=JSON.parse(n),t={id:r.id,error:null};return"triggerRpcError"===r.method?t.error="Triggered RPC Error test":t.result=e[r.method](r.params),{status:200,headers:{"Content-Type":"application/json"},body:[JSON.stringify(t)]}}catch(r){return{status:400,headers:{"Content-Type":"application/json"},body:[JSON.stringify({error:"Bad data: "+n})]}}})}});