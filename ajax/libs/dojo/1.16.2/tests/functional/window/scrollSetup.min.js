require(["dojo/_base/array","dojo/Deferred","dojo/promise/all","dojo/string","dojo/window","dojo/dom-geometry","dojo/_base/window","dojo/on","dojo/query","./iframe_content/scrollDocuments.js","dojo/text!./iframe_content/scrollItem.html","dojo/domReady!"],function(e,n,o,d,l,a,m,u,s,t,i){var h=[];function f(e,o,t,n,d){var i,r,c,l,a,m=(i=e,r=t.getBoundingClientRect(),c=i.document.documentElement||{},l=i.innerHeight||c.clientHeight||i.document.body.clientHeight,a=i.innerWidth||c.clientWidth||i.document.body.clientWidth,(r.bottom<=l||r.top<l)&&r.right<=a);s("."+n,o)[0].value=m?1:0,s(".hasScrolled",o)[0].value=d?1:0}e.forEach(t,function(e){var o=d.substitute(i,{label:e.label,testId:e.id}),t=document.createElement("div");t.innerHTML=o,document.body.appendChild(t),function(e,o,d){var i,r,c=new n,t=document.createElement("iframe");t.frameBorder="0",t.allowTransparency="true",o.appendChild(t),r=t.contentWindow.window,i=r.document;try{i.open()}catch(e){t.src='javascript:var d=document.open();d.domain="'+document.domain+'";void(0);',i.open()}r.ready=function(){var t=i.getElementById("it"),n=m.withGlobal(r,"docScroll",a,[]);f(r,d,t,"before",!1),u(s(".scrollBtn",d)[0],"click",function(){var e,o;l.scrollIntoView(t),o=m.withGlobal(r,"docScroll",a,[]),e=n.y!==o.y||n.x!==o.x,f(r,d,t,"after",e)}),c.resolve()},i.write(e),i.close(),h.push(c.promise)}(e.html,s(".iframeRoot",t)[0],t)}),o(h).then(function(){window.ready=!0})});