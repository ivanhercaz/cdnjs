{"version":3,"sources":["Source.js"],"names":["define","array","declare","kernel","lang","domClass","domGeom","mouse","ready","topic","dnd","Selector","Manager","isAsync","require","Source","isSource","horizontal","copyOnly","selfCopy","selfAccept","skipForm","withHandles","autoSync","delay","accept","generateText","constructor","node","params","mixin","this","type","length","i","isDragging","mouseDown","targetAnchor","targetBox","before","_lastX","_lastY","sourceState","add","targetState","topics","subscribe","hitch","checkAcceptance","source","nodes","getItem","id","flag","j","copyState","keyPressed","self","arguments","manager","target","destroy","superclass","call","forEach","t","remove","onMouseMove","e","m","Math","abs","pageX","pageY","getSelectedNodes","startDrag","getCopyKeyState","current","position","x","w","isBodyLtr","ownerDocument","y","h","_markTargetAnchor","canDrop","selection","onMouseDown","_legalMouseDown","isFormElement","onMouseUp","onDndSourceOver","_unmarkTargetAnchor","onDndStart","copy","sync","_changeState","accepted","overSource","onDndDrop","onDrop","onDndCancel","onDropExternal","onDropInternal","oldCreator","_normalizedCreator","creator","hint","data","n","cloneNode","getUniqueId","delItem","selectNone","insertNodes","deleteSelectedNodes","_removeSelection","onDraggingOver","onDraggingOut","onOverEvent","onOutEvent","outSource","_removeItemClass","_addItemClass","_markDndStatus","isLeft","parentNode","contains"],"mappings":"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"}