define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(e,u,t,i,n){var o,r;function s(e,o){function t(t,n){return u(t,e,function(e){return o?o(e,n):i.isDescendant(e.relatedTarget,t)?void 0:n.call(this,e)})}return t.bubble=function(u){return s(e,function(e,t){var n=u(e.target),o=e.relatedTarget;if(n&&n!=(o&&1==o.nodeType&&u(o)))return t.call(n,e)})},t}return t.add("dom-quirks",n.doc&&"BackCompat"==n.doc.compatMode),t.add("events-mouseenter",n.doc&&"onmouseenter"in n.doc.createElement("div")),t.add("events-mousewheel",n.doc&&"onmousewheel"in n.doc),o=t("dom-quirks")&&t("ie")||!t("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,t){return e.button&t},isLeft:function(e){return 1&e.button},isMiddle:function(e){return 4&e.button},isRight:function(e){return 2&e.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,t){return e.button==t},isLeft:function(e){return 0==e.button},isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}},e.mouseButtons=o,r=t("events-mousewheel")?"mousewheel":function(e,t){return u(e,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail,t.call(this,e)})},{_eventHandler:s,enter:s("mouseover"),leave:s("mouseout"),wheel:r,isLeft:o.isLeft,isMiddle:o.isMiddle,isRight:o.isRight}});