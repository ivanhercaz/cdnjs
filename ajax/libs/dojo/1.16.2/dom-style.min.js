define(["./sniff","./dom","./_base/window"],function(t,u,r){var e,l,a={};e=t("webkit")?function(t){var e;if(1==t.nodeType){var r=t.ownerDocument.defaultView;!(e=r.getComputedStyle(t,null))&&t.style&&(t.style.display="",e=r.getComputedStyle(t,null))}return e||{}}:t("ie")&&(t("ie")<9||t("quirks"))?function(t){return 1==t.nodeType&&t.currentStyle?t.currentStyle:{}}:function(t){if(1!==t.nodeType)return{};var e=t.ownerDocument.defaultView;return(e.opener?e:r.global.window).getComputedStyle(t,null)},a.getComputedStyle=e,l=t("ie")?function(t,e){if(!e)return 0;if("medium"==e)return 4;if(e.slice&&"px"==e.slice(-2))return parseFloat(e);var r=t.style,n=t.runtimeStyle,i=t.currentStyle,l=r.left,o=n.left;n.left=i.left;try{r.left=e,e=r.pixelLeft}catch(t){e=0}return r.left=l,n.left=o,e}:function(t,e){return parseFloat(e)||0},a.toPixelValue=l;function i(t,e){try{return t.filters.item(o)}catch(t){return e?{}:null}}var o="DXImageTransform.Microsoft.Alpha",f=t("ie")<9||t("ie")<10&&t("quirks")?function(t){try{return i(t).Opacity/100}catch(t){return 1}}:function(t){return e(t).opacity},s=t("ie")<9||t("ie")<10&&t("quirks")?function(t,e){""===e&&(e=1);var r=100*e;if(1===e?(t.style.zoom="",i(t)&&(t.style.filter=t.style.filter.replace(new RegExp("\\s*progid:"+o+"\\([^\\)]+?\\)","i"),""))):(t.style.zoom=1,i(t)?i(t,1).Opacity=r:t.style.filter+=" progid:"+o+"(Opacity="+r+")",i(t,1).Enabled=!0),"tr"==t.tagName.toLowerCase())for(var n=t.firstChild;n;n=n.nextSibling)"td"==n.tagName.toLowerCase()&&s(n,e);return e}:function(t,e){return t.style.opacity=e},c={left:!0,top:!0},y=/margin|padding|width|height|max|min|offset/;var d={cssFloat:1,styleFloat:1,float:1};return a.get=function(t,e){var r=u.byId(t),n=arguments.length;if(2==n&&"opacity"==e)return f(r);e=d[e]?"cssFloat"in r.style?"cssFloat":"styleFloat":e;var i=a.getComputedStyle(r);return 1==n?i:function(t,e,r){if(e=e.toLowerCase(),"auto"==r){if("height"==e)return t.offsetHeight;if("width"==e)return t.offsetWidth}if("fontweight"==e)switch(r){case 700:return"bold";case 400:default:return"normal"}return e in c||(c[e]=y.test(e)),c[e]?l(t,r):r}(r,e,i[e]||r.style[e])},a.set=function(t,e,r){var n=u.byId(t),i=arguments.length,l="opacity"==e;if(e=d[e]?"cssFloat"in n.style?"cssFloat":"styleFloat":e,3==i)return l?s(n,r):n.style[e]=r;for(var o in e)a.set(t,o,e[o]);return a.getComputedStyle(n)},a});