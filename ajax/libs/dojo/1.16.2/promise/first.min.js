define(["../_base/array","../Deferred","../when"],function(e,a,f){"use strict";var o=e.forEach;return function(e){var r;if(e instanceof Array)r=e;else if(e&&"object"==typeof e)for(var n in r=[],e)Object.hasOwnProperty.call(e,n)&&r.push(e[n]);if(!r||!r.length)return(new a).resolve();var t=new a;return o(r,function(e){f(e,t.resolve,t.reject)}),t.promise}});