define("ace/ext/whitespace",["require","exports","module","ace/lib/lang"],function(e,r,t){"use strict";var m=e("../lib/lang");r.$detectIndentation=function(e,t){function n(e){for(var t=0,n=e;n<r.length;n+=e)t+=r[n]||0;return t}for(var r=[],i=[],o=0,s=0,a=Math.min(e.length,1e3),c=0;c<a;c++){var g=e[c];if(/^\s*[^*+\-\s]/.test(g)){if("\t"==g[0])o++,s=-Number.MAX_VALUE;else{var l=g.match(/^ */)[0].length;if(l&&"\t"!=g[l]){var h=l-s;!(0<h)||s%h||l%h||(i[h]=(i[h]||0)+1),r[l]=(r[l]||0)+1}s=l}for(;c<a&&"\\"==g[g.length-1];)g=e[c++]}}var u=i.reduce(function(e,t){return e+t},0),f={score:0,length:0},d=0;for(c=1;c<12;c++){var p=n(c);1==c?(d=p,p=r[1]?.9:.8,r.length||(p=0)):p/=d,i[c]&&(p+=i[c]/u),p>f.score&&(f={score:p,length:c})}if(f.score&&1.4<f.score)var v=f.length;return d+1<o?((1==v||d<o/4||f.score<1.8)&&(v=void 0),{ch:"\t",length:v}):o+1<d?{ch:" ",length:v}:void 0},r.detectIndentation=function(e){var t=e.getLines(0,1e3),n=r.$detectIndentation(t)||{};return n.ch&&e.setUseSoftTabs(" "==n.ch),n.length&&e.setTabSize(n.length),n},r.trimTrailingSpace=function(e,t){var n=e.getDocument(),r=n.getAllLines(),i=t&&t.trimEmpty?-1:0,o=[],s=-1;t&&t.keepCursorPosition&&(e.selection.rangeCount?e.selection.rangeList.ranges.forEach(function(e,t,n){var r=n[t+1];r&&r.cursor.row==e.cursor.row||o.push(e.cursor)}):o.push(e.selection.getCursor()),s=0);for(var a=o[s]&&o[s].row,c=0,g=r.length;c<g;c++){var l=r[c],h=l.search(/\s+$/);c==a&&(h<o[s].column&&i<h&&(h=o[s].column),a=o[++s]?o[s].row:-1),i<h&&n.removeInLine(c,h,l.length)}},r.convertIndentation=function(e,t,n){var r=e.getTabString()[0],i=e.getTabSize();n=n||i;for(var o="\t"==(t=t||r)?t:m.stringRepeat(t,n),s=e.doc,a=s.getAllLines(),c={},g={},l=0,h=a.length;l<h;l++){var u=a[l].match(/^\s*/)[0];if(u){var f=e.$getStringScreenWidth(u)[0],d=Math.floor(f/i),p=f%i,v=c[d]||(c[d]=m.stringRepeat(o,d));(v+=g[p]||(g[p]=m.stringRepeat(" ",p)))!=u&&(s.removeInLine(l,0,u.length),s.insertInLine({row:l,column:0},v))}}e.setTabSize(n),e.setUseSoftTabs(" "==t)},r.$parseStringArg=function(e){var t={};/t/.test(e)?t.ch="\t":/s/.test(e)&&(t.ch=" ");var n=e.match(/\d+/);return n&&(t.length=parseInt(n[0],10)),t},r.$parseArg=function(e){return e?"string"==typeof e?r.$parseStringArg(e):"string"==typeof e.text?r.$parseStringArg(e.text):e:{}},r.commands=[{name:"detectIndentation",description:"Detect indentation from content",exec:function(e){r.detectIndentation(e.session)}},{name:"trimTrailingSpace",description:"Trim trailing whitespace",exec:function(e,t){r.trimTrailingSpace(e.session,t)}},{name:"convertIndentation",description:"Convert indentation to ...",exec:function(e,t){var n=r.$parseArg(t);r.convertIndentation(e.session,n.ch,n.length)}},{name:"setIndentation",description:"Set indentation",exec:function(e,t){var n=r.$parseArg(t);n.length&&e.session.setTabSize(n.length),n.ch&&e.session.setUseSoftTabs(" "==n.ch)}}]}),window.require(["ace/ext/whitespace"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)});