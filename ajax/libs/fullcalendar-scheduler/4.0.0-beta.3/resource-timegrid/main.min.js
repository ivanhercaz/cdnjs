!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@fullcalendar/core"),require("@fullcalendar/resource-common"),require("@fullcalendar/timegrid"),require("@fullcalendar/resource-daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/resource-common","@fullcalendar/timegrid","@fullcalendar/resource-daygrid"],r):r((e=e||self).FullCalendarResourceTimeGrid={},e.FullCalendar,e.FullCalendarResourceCommon,e.FullCalendarTimeGrid,e.FullCalendarResourceDayGrid)}(this,function(e,l,a,c,s){"use strict";var r="default"in a?a.default:a,t="default"in c?c.default:c,i=function(e,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};function o(e,r){function t(){this.constructor=e}i(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var n,d=function(){return(d=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)},u=(o(p,n=l.DateComponent),p.prototype.destroy=function(){this.calendar.unregisterInteractiveComponent(this)},p.prototype.render=function(e){var t=this,i=this.timeGrid,o=e.dateProfile,r=e.resourceDayTable,a=this.dayRanges=this.buildDayRanges(r.dayTable,o,this.dateEnv),s=this.splitter.splitProps(e);this.slicers=l.mapHash(s,function(e,r){return t.slicers[r]||new c.TimeGridSlicer});var n=l.mapHash(this.slicers,function(e,r){return e.sliceProps(s[r],o,null,i,a)});i.allowAcrossResources=1===a.length,i.receiveProps(d({},this.joiner.joinProps(n,r),{dateProfile:o,cells:r.cells[0]}))},p.prototype.renderNowIndicator=function(e){var r=this.timeGrid,t=this.props.resourceDayTable,i=this.slicers[""].sliceNowDate(e,r,this.dayRanges),o=this.joiner.expandSegs(t,i);r.renderNowIndicator(o,e)},p.prototype.queryHit=function(e,r){var t=this.timeGrid.positionToHit(e,r);if(t)return{component:this.timeGrid,dateSpan:{range:t.dateSpan.range,allDay:t.dateSpan.allDay,resourceId:this.props.resourceDayTable.cells[0][t.col].resource.id},dayEl:t.dayEl,rect:{left:t.relativeRect.left,right:t.relativeRect.right,top:t.relativeRect.top,bottom:t.relativeRect.bottom},layer:0}},p);function p(e,r){var t=n.call(this,e,r.el)||this;return t.buildDayRanges=l.memoize(c.buildDayRanges),t.splitter=new a.VResourceSplitter,t.slicers={},t.joiner=new f,t.timeGrid=r,e.calendar.registerInteractiveComponent(t,{el:t.timeGrid.el}),t}var y,f=(o(h,y=a.VResourceJoiner),h.prototype.transformSeg=function(e,r,t){return[d({},e,{col:r.computeCol(e.col,t)})]},h);function h(){return null!==y&&y.apply(this,arguments)||this}var m,D=(o(G,m=c.AbstractTimeGridView),G.prototype.destroy=function(){m.prototype.destroy.call(this),this.header&&this.header.destroy(),this.resourceTimeGrid.destroy(),this.resourceDayGrid&&this.resourceDayGrid.destroy()},G.prototype.render=function(e){m.prototype.render.call(this,e);var r=this.splitter.splitProps(e),t=this.flattenResources(e.resourceStore,this.resourceOrderSpecs),i=this.buildResourceDayTable(this.props.dateProfile,this.dateProfileGenerator,t,this.opt("datesAboveResources"));this.header&&this.header.receiveProps({resources:t,dates:i.dayTable.headerDates,dateProfile:e.dateProfile,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml}),this.resourceTimeGrid.receiveProps(d({},r.timed,{dateProfile:e.dateProfile,resourceDayTable:i})),this.resourceDayGrid&&this.resourceDayGrid.receiveProps(d({},r.allDay,{dateProfile:e.dateProfile,resourceDayTable:i,isRigid:!1,nextDayThreshold:this.nextDayThreshold}))},G.prototype.renderNowIndicator=function(e){this.resourceTimeGrid.renderNowIndicator(e)},G.needsResourceData=!0,G);function G(e,r,t,i){var o=m.call(this,e,r,t,i)||this;return o.flattenResources=l.memoize(a.flattenResources),o.buildResourceDayTable=l.memoize(v),o.resourceOrderSpecs=l.parseFieldSpecs(o.opt("resourceOrder")),o.opt("columnHeader")&&(o.header=new a.ResourceDayHeader(o.context,o.el.querySelector(".fc-head-container"))),o.resourceTimeGrid=new u(e,o.timeGrid),o.dayGrid&&(o.resourceDayGrid=new s.ResourceDayGrid(e,o.dayGrid)),o}function v(e,r,t,i){var o=c.buildDayTable(e,r);return i?new a.DayResourceTable(o,t):new a.ResourceDayTable(o,t)}var T=l.createPlugin({deps:[r,t],defaultView:"resourceTimeGridDay",views:{resourceTimeGrid:{class:D,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},resourceTimeGridDay:{type:"resourceTimeGrid",duration:{days:1}},resourceTimeGridWeek:{type:"resourceTimeGrid",duration:{weeks:1}}}});e.ResourceTimeGridView=D,e.default=T,e.ResourceTimeGrid=u,Object.defineProperty(e,"__esModule",{value:!0})});