"use strict";const Middie=require("middie"),handleRequest=require("./handleRequest"),{hookRunner:hookRunner,hookIterator:hookIterator}=require("./hooks");function onRunMiddlewares(e,n,r,o){null==e?null!==o.context.preParsing?hookRunner(o.context.preParsing,hookIterator,o.request,o,handleRequest):handleRequest(null,o.request,o):o.send(e)}module.exports.onRunMiddlewares=onRunMiddlewares,module.exports.buildMiddie=function(e){if(!e.length)return null;const n=Middie(onRunMiddlewares);for(var r=0;r<e.length;r++)n.use.apply(n,e[r]);return n};