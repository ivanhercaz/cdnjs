{"version":3,"sources":["shadow-css-d7d058ec-d59cb009.js"],"names":["safeSelector","selector","placeholders","content","index","replace","_","keep","replaceBy","push","pseudo","exp","restoreSafeSelector","_polyfillHost","_polyfillSlotted","_polyfillHostContext","_parenSuffix","_cssColonHostRe","RegExp","_cssColonHostContextRe","_cssColonSlottedRe","_polyfillHostNoCombinator","_polyfillHostNoCombinatorRe","_shadowDOMSelectorsRe","_selectorReSuffix","_polyfillHostRe","_colonHostRe","_colonSlottedRe","_colonHostContextRe","_commentRe","stripComments","input","_commentWithHashRe","extractCommentsWithHash","match","_ruleRe","_curlyRe","OPEN_CURLY","CLOSE_CURLY","BLOCK_PLACEHOLDER","processRules","ruleCallback","inputWithEscapedBlocks","escapeBlocks","nextBlockIndex","escapedString","m","suffix","contentPrefix","startsWith","blocks","substring","length","rule","inputParts","split","resultParts","escapedBlocks","bracketCount","currentBlockParts","partIndex","part","join","insertPolyfillHostInCssText","convertColonRule","cssText","regExp","partReplacer","parts","r","i","p","trim","colonHostPartReplacer","host","convertColonHost","colonHostContextPartReplacer","indexOf","convertColonSlotted","slotScopeId","slotClass","selectors","compound","slottedSelector","prefixSelector","char","orgSelector","addedSelector","trimRight","updatedSelector","convertColonHostContext","convertShadowDOMSelectors","reduce","result","pattern","makeScopeMatcher","scopeSelector","selectorNeedsScoping","test","applySimpleSelectorScope","hostSelector","lastIndex","before","colon","after","applyStrictSelectorScope","className","_scopeSelectorPart","scopedP","t","matches","safeContent","res","scopedSelector","startIndex","sep","shouldScope","exec","separator","slice","scopeSelectorText","slotSelector","map","shallowPart","scopeSelectors","commentOriginalSelector","scopeCssText","scopeId","hostScopeId","slotted","slottedSelectors","scopeCss","commentsWithHash","orgSelectors","processCommentedSelector","placeholder","comment","scoped","forEach"],"mappings":"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"}