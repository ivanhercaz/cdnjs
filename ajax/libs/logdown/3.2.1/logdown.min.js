!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.logdown=t():e.logdown=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){var n=r(1)(),o=r(3),i=r(6),s=r(9)();n.prefixColors=["#F2777A","#F99157","#FFCC66","#99CC99","#66CCCC","#6699CC","#CC99CC"],n._setPrefixRegExps=function(){try{s.localStorage&&"string"==typeof s.localStorage.getItem("debug")&&(n._prefixRegExps=[],s.localStorage.getItem("debug").split(",").forEach(function(e){var t="enable";"-"===(e=e.trim())[0]&&(e=e.substr(1),t="disable");var r=n._prepareRegExpForPrefixSearch(e);n._prefixRegExps.push({type:t,regExp:r})}))}catch(e){}},n._getNextPrefixColor=function(){var e=0;return function(){return e+=1,n.prefixColors[e%n.prefixColors.length]}}(),n.prototype._getDecoratedPrefix=function(){var e=[];return i()?(e.push("%c"+this.opts.prefix+"%c "),e.push("color:"+this.opts.prefixColor+"; font-weight:bold;","")):e.push("["+this.opts.prefix+"] "),e},n.prototype._prepareOutput=function(e){var t,r=this._getDecoratedPrefix();return"string"==typeof e[0]?this.opts.markdown&&i()?(t=o.parse(e[0]),r[0]=r[0]+t.text,r=r.concat(t.styles)):r[0]=r[0]+e[0]:r.push(e[0]),e.length>1&&(r=r.concat(e.slice(1))),r},n._setPrefixRegExps(),e.exports=n},function(e,t,r){var n=r(2);e.exports=function(){function e(t,r){return this instanceof e?e._isPrefixAlreadyInUse(t)?e._getInstanceByPrefix(t):(this.opts=e._normalizeOpts(t,r),this.state=e._getInitialState(this.opts),e._decorateLoggerMethods(this),e._instances.push(this),this):new e(t,r)}return e.transports=[],e._instances=[],e._prefixRegExps=[],e._prepareRegExpForPrefixSearch=function(e){return new RegExp("^"+e.replace(/\*/g,".*?")+"$")},e._isPrefixAlreadyInUse=function(t){return e._instances.some(function(e){return e.opts.prefix===t})},e._getInstanceByPrefix=function(t){return e._instances.filter(function(e){return e.opts.prefix===t})[0]},e._normalizeOpts=function(t,r){if("string"!=typeof t)throw new TypeError("prefix must be a string");var n=void 0===(r=r||{}).markdown||Boolean(r.markdown),o=r.prefixColor||e._getNextPrefixColor();return{logger:r.logger||console,markdown:n,prefix:t,prefixColor:o}},e._getInitialState=function(t){return{isEnabled:e._getEnableState(t)}},e._getEnableState=function(t){var r=!1;return e._prefixRegExps.forEach(function(e){"enable"===e.type&&e.regExp.test(t.prefix)?r=!0:"disable"===e.type&&e.regExp.test(t.prefix)&&(r=!1)}),r},e._decorateLoggerMethods=function(t){var r=t.opts.logger,o=Object.keys(r).filter(function(e){return"function"==typeof r[e]});0===o.length&&(o=["log","warn","error"]),o.forEach(function(o){t[o]=function(){var t=n(arguments),i=this.opts.prefix;if(e.transports.length){var s="["+i+"] "+t.filter(function(e){return"object"!=typeof e}).join(" ");e.transports.forEach(function(e){e({state:this.state,instance:i,level:o,args:t,msg:s})}.bind(this))}if(this.state.isEnabled){var c=this._prepareOutput(t,o);r[o].apply(r,c)}}})},e}},function(e,t){e.exports=function(e){return Array.prototype.slice.call(e,0)}},function(e,t,r){var n=r(4),o=r(5);e.exports={parse:function(e){for(var t=[],r=o(e,n);r;)t.push(r.rule.style),t.push(""),e=e.replace(r.rule.regexp,r.rule.replacer),r=o(e,n);return{text:e,styles:t}}}},function(e,t){e.exports=[{regexp:/\*([^*]+)\*/,replacer:function(e,t){return"%c"+t+"%c"},style:"font-weight:bold;"},{regexp:/_([^_]+)_/,replacer:function(e,t){return"%c"+t+"%c"},style:"font-style:italic;"},{regexp:/`([^`]+)`/,replacer:function(e,t){return"%c"+t+"%c"},style:"background-color:rgba(255,204,102, 0.1);color:#FFCC66;padding:2px 5px;border-radius:2px;"}]},function(e,t){e.exports=function(e,t){var r=[];return t.forEach(function(t){var n=e.match(t.regexp);n&&r.push({rule:t,match:n})}),0===r.length?null:(r.sort(function(e,t){return e.match.index-t.match.index}),r[0])}},function(e,t,r){var n=r(7),o=r(8);e.exports=function(){return n()||o()}},function(e,t){e.exports=function(){try{return"WebkitAppearance"in document.documentElement.style}catch(e){return!1}}},function(e,t){e.exports=function(){try{return navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)}catch(e){return!1}}},function(e,t,r){(function(t){e.exports=function(){return"object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}}).call(t,r(10))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r}])});
