{"version":3,"sources":["jquery.fileupload-image.js"],"names":["factory","define","amd","exports","require","window","jQuery","loadImage","$","blueimp","fileupload","prototype","options","processQueue","unshift","action","maxMetaDataSize","disableImageHead","disableMetaDataParsers","disableExif","disableExifThumbnail","disableExifOffsets","includeExifTags","excludeExifTags","disableIptc","disableIptcOffsets","includeIptcTags","excludeIptcTags","disabled","prefix","fileTypes","maxFileSize","noRevoke","maxWidth","maxHeight","minWidth","minHeight","crop","orientation","forceResize","quality","type","thumbnail","canvas","name","widget","loadImageFileTypes","loadImageMaxFileSize","imageMaxWidth","imageMaxHeight","imageOrientation","imageCrop","disableImageResize","previewMaxWidth","previewMaxHeight","previewOrientation","previewThumbnail","previewCrop","previewCanvas","processActions","data","that","this","file","files","index","dfd","Deferred","size","test","img","src","resolveWith","promise","resizeImage","extend","resolve","newImg","width","height","getContext","preview","thumbnailBlob","exif","get","scale","saveImage","toBlob","blob","replace","substr","imageHead","loadImageMetaData","parseMetaData","result","saveImageMetaData","exifOffsets","writeExifData","replaceHead","setImage","deleteImageReferences"],"mappings":"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"}