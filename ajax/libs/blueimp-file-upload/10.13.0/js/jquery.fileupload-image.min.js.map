{"version":3,"sources":["jquery.fileupload-image.js"],"names":["factory","define","amd","exports","require","window","jQuery","loadImage","$","blueimp","fileupload","prototype","options","processQueue","unshift","action","maxMetaDataSize","disableImageHead","disableMetaDataParsers","disableExif","disableExifThumbnail","disableExifOffsets","includeExifTags","excludeExifTags","disableIptc","disableIptcOffsets","includeIptcTags","excludeIptcTags","disabled","prefix","fileTypes","maxFileSize","noRevoke","maxWidth","maxHeight","minWidth","minHeight","crop","orientation","forceResize","quality","type","thumbnail","canvas","name","widget","loadImageFileTypes","loadImageMaxFileSize","imageMaxWidth","imageMaxHeight","imageOrientation","imageCrop","disableImageResize","previewMaxWidth","previewMaxHeight","previewOrientation","previewThumbnail","previewCrop","previewCanvas","processActions","data","that","this","file","files","index","dfd","Deferred","size","test","img","src","resolveWith","promise","resizeImage","extend","resolve","newImg","width","height","getContext","preview","exif","get","scale","saveImage","toBlob","blob","replace","substr","imageHead","loadImageMetaData","parseMetaData","result","saveImageMetaData","exifOffsets","writeExifData","replaceHead","setImage","deleteImageReferences"],"mappings":"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"}