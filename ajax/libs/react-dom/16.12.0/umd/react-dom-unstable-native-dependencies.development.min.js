"use strict";!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react-dom"),require("react")):"function"==typeof define&&define.amd?define(["react-dom","react"],t):e.ReactDOMUnstableNativeDependencies=t(e.ReactDOM,e.React)}(this,function(e,t){if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent)document.createElement("react");var o,s=function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(void 0===t)throw new Error("`warningWithoutStack(condition, format, ...args)` requires a warning message argument");if(8<r.length)throw new Error("warningWithoutStack() currently supports at most 8 arguments.");if(!e){if("undefined"!=typeof console){var i=r.map(function(e){return""+e});i.unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,i)}try{var a=0,s="Warning: "+t.replace(/%s/g,function(){return r[a++]});throw new Error(s)}catch(e){}}},i=null,m=null,a=null;function v(e){var t=function(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(o(e),Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function y(e){o(e);var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))throw Error("executeDirectDispatch(...): Invalid `event`.");e.currentTarget=t?a(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}o=function(e){var t=e._dispatchListeners,n=e._dispatchInstances,r=Array.isArray(t),o=r?t.length:t?1:0,i=Array.isArray(n),a=i?n.length:n?1:0;i===r&&a===o||s(!1,"EventPluginUtils: Invalid `event`.")};var n=5;function S(e){for(;(e=e.return)&&e.tag!==n;);return e||null}function P(e,t){for(;t;){if(e===t||e===t.alternate)return 1;t=S(t)}}function r(e,t,n){for(var r,o=[];e;)o.push(e),e=S(e);for(r=o.length;0<r--;)t(o[r],"captured",n);for(r=0;r<o.length;r++)t(o[r],"bubbled",n)}function u(e,t){if(null==t)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function c(e,t){var n,r=e.stateNode;if(!r)return null;var o=i(r);if(!o)return null;if(n=o[t],function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return n.disabled&&("button"===(r=t)||"input"===r||"select"===r||"textarea"===r);default:return}var r}(t,e.type,o))return null;if(n&&"function"!=typeof n)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type.");return n}function l(e,t,n){e||s(!1,"Dispatching inst must not be null");var r,o=(r=t,c(e,n.dispatchConfig.phasedRegistrationNames[r]));o&&(n._dispatchListeners=u(n._dispatchListeners,o),n._dispatchInstances=u(n._dispatchInstances,e))}function R(e){e&&e.dispatchConfig.phasedRegistrationNames&&r(e._targetInst,l,e)}function b(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;r(t?S(t):null,l,e)}}function p(e){e&&e.dispatchConfig.registrationName&&function(e,t){if(e&&t&&t.dispatchConfig.registrationName){var n=c(e,t.dispatchConfig.registrationName);n&&(t._dispatchListeners=u(t._dispatchListeners,n),t._dispatchInstances=u(t._dispatchInstances,e))}}(e._targetInst,e)}function _(e){T(e,p)}var d=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,h=10,f={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function g(){return!0}function E(){return!1}function A(e,t,n,r){delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation,delete this.isDefaultPrevented,delete this.isPropagationStopped,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){delete this[i];var a=o[i];a?this[i]=a(n):"target"===i?this.target=r:this[i]=n[i]}var s=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=s?g:E,this.isPropagationStopped=E,this}function w(n,e){var t="function"==typeof e;return{configurable:!0,set:function(e){return r(t?"setting the method":"setting the property","This is effectively a no-op"),e},get:function(){return r(t?"accessing the method":"accessing the property",t?"This is a no-op function":"This is set to null"),e}};function r(e,t){s(!1,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",e,n,t)}}function I(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function C(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),this.eventPool.length<h&&this.eventPool.push(e)}function N(e){e.eventPool=[],e.getPooled=I,e.release=C}d(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=g)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=g)},persist:function(){this.isPersistent=g},isPersistent:E,destructor:function(){var e=this.constructor.Interface;for(var t in e)Object.defineProperty(this,t,w(t,e[t]));this.dispatchConfig=null,this._targetInst=null,this.nativeEvent=null,this.isDefaultPrevented=E,this.isPropagationStopped=E,this._dispatchListeners=null,this._dispatchInstances=null,Object.defineProperty(this,"nativeEvent",w("nativeEvent",null)),Object.defineProperty(this,"isDefaultPrevented",w("isDefaultPrevented",E)),Object.defineProperty(this,"isPropagationStopped",w("isPropagationStopped",E)),Object.defineProperty(this,"preventDefault",w("preventDefault",function(){})),Object.defineProperty(this,"stopPropagation",w("stopPropagation",function(){}))}}),A.Interface=f,A.extend=function(e){function t(){}var n=this;t.prototype=n.prototype;var r=new t;function o(){return n.apply(this,arguments)}return d(r,o.prototype),((o.prototype=r).constructor=o).Interface=d({},n.Interface,e),o.extend=n.extend,N(o),o},N(A);var D=A.extend({touchHistory:function(e){return null}}),O="touchstart",Y="touchmove",H="touchend",X="touchcancel",k="scroll",L="selectionchange",j="mousedown",M="mousemove",x="mouseup";function U(e){return e===O||e===j}function B(e){return e===Y||e===M}function G(e){return e===H||e===X||e===x}var q=[O,j],W=[Y,M],F=[X,H,x],V=20,z=[],J={touchBank:z,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function K(e){return e.timeStamp||e.timestamp}function Q(e){var t=e.identifier;if(null==t)throw Error("Touch object is missing identifier.");return t<=V||s(!1,"Touch identifier %s is greater than maximum supported %s which causes performance issues backfilling array locations for all of the indices.",t,V),t}function Z(e){var t,n,r,o=Q(e),i=z[o];i?(r=e,(n=i).touchActive=!0,n.startPageX=r.pageX,n.startPageY=r.pageY,n.startTimeStamp=K(r),n.currentPageX=r.pageX,n.currentPageY=r.pageY,n.currentTimeStamp=K(r),n.previousPageX=r.pageX,n.previousPageY=r.pageY,n.previousTimeStamp=K(r)):z[o]={touchActive:!0,startPageX:(t=e).pageX,startPageY:t.pageY,startTimeStamp:K(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:K(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:K(t)},J.mostRecentTimeStamp=K(e)}function $(e){var t=z[Q(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=K(e),J.mostRecentTimeStamp=K(e)):console.warn("Cannot record touch move without a touch start.\nTouch Move: %s\n","Touch Bank: %s",te(e),ne())}function ee(e){var t=z[Q(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=K(e),J.mostRecentTimeStamp=K(e)):console.warn("Cannot record touch end without a touch start.\nTouch End: %s\n","Touch Bank: %s",te(e),ne())}function te(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:K(e)})}function ne(){var e=JSON.stringify(z.slice(0,V));return z.length>V&&(e+=" (original size: "+z.length+")"),e}var re={recordTouchTrack:function(e,t){if(B(e))t.changedTouches.forEach($);else if(U(e))t.changedTouches.forEach(Z),J.numberActiveTouches=t.touches.length,1===J.numberActiveTouches&&(J.indexOfSingleActiveTouch=t.touches[0].identifier);else if(G(e)&&(t.changedTouches.forEach(ee),J.numberActiveTouches=t.touches.length,1===J.numberActiveTouches)){for(var n=0;n<z.length;n++){var r=z[n];if(null!=r&&r.touchActive){J.indexOfSingleActiveTouch=n;break}}var o=z[J.indexOfSingleActiveTouch];null!=o&&o.touchActive||s(!1,"Cannot find single active touch.")}},touchHistory:J};function oe(e,t){if(null==t)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?t:Array.isArray(e)?e.concat(t):Array.isArray(t)?[e].concat(t):[e,t]}function ie(e,t){var n=ae;ae=e,null!==le.GlobalResponderHandler&&le.GlobalResponderHandler.onChange(n,e,t)}var ae=null,se=0,ue={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:q},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:[k]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:[L]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:W},responderStart:{registrationName:"onResponderStart",dependencies:q},responderMove:{registrationName:"onResponderMove",dependencies:W},responderEnd:{registrationName:"onResponderEnd",dependencies:F},responderRelease:{registrationName:"onResponderRelease",dependencies:F},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function ce(e,t,n,r){var o=U(e)?ue.startShouldSetResponder:B(e)?ue.moveShouldSetResponder:e===L?ue.selectionChangeShouldSetResponder:ue.scrollShouldSetResponder,i=ae?function(e,t){for(var n=0,r=e;r;r=S(r))n++;for(var o=0,i=t;i;i=S(i))o++;for(;0<n-o;)e=S(e),n--;for(;0<o-n;)t=S(t),o--;for(var a=n;a--;){if(e===t||e===t.alternate)return e;e=S(e),t=S(t)}return null}(ae,t):t,a=i===ae,s=D.getPooled(o,i,n,r);s.touchHistory=re.touchHistory,a?T(s,b):T(s,R);var u,c=v(s);if(s.isPersistent()||s.constructor.release(s),!c||c===ae)return null;var l=D.getPooled(ue.responderGrant,c,n,r);l.touchHistory=re.touchHistory,_(l);var p=!0===y(l);if(ae){var d=D.getPooled(ue.responderTerminationRequest,ae,n,r);d.touchHistory=re.touchHistory,_(d);var h=!d._dispatchListeners||y(d);if(d.isPersistent()||d.constructor.release(d),h){var f=D.getPooled(ue.responderTerminate,ae,n,r);f.touchHistory=re.touchHistory,_(f),u=oe(u,[l,f]),ie(c,p)}else{var g=D.getPooled(ue.responderReject,c,n,r);g.touchHistory=re.touchHistory,_(g),u=oe(u,g)}}else u=oe(u,l),ie(c,p);return u}var le={_getResponder:function(){return ae},eventTypes:ue,extractEvents:function(e,t,n,r,o){if(U(e))se+=1;else if(G(e)){if(!(0<=se))return console.warn("Ended a touch event which was not counted in `trackedTouchCount`."),null;--se}re.recordTouchTrack(e,n);var i,a,s=(i=e,a=n,t&&(i===k&&!a.responderIgnoreScroll||0<se&&i===L||U(i)||B(i))?ce(e,t,n,r):null),u=ae&&U(e),c=ae&&B(e),l=ae&&G(e),p=u?ue.responderStart:c?ue.responderMove:l?ue.responderEnd:null;if(p){var d=D.getPooled(p,ae,n,r);d.touchHistory=re.touchHistory,_(d),s=oe(s,d)}var h=ae&&e===X,f=ae&&!h&&G(e)&&function(e){var t=e.touches;if(!t||0===t.length)return!0;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&0!==r){var o=m(r);if(P(ae,o))return!1}}return!0}(n),g=h?ue.responderTerminate:f?ue.responderRelease:null;if(g){var v=D.getPooled(g,ae,n,r);v.touchHistory=re.touchHistory,_(v),s=oe(s,v),ie(null)}return s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){le.GlobalResponderHandler=e}}},pe=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,de=pe[0],he=pe[1],fe=pe[2],ge=pe[3];return i=fe,m=de,(a=he)&&m||s(!1,"EventPluginUtils.setComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode."),Object.freeze({ResponderEventPlugin:le,ResponderTouchHistoryStore:re,injectEventPluginsByName:ge})});