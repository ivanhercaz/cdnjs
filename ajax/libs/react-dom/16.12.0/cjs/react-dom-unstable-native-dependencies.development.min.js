"use strict";"production"!==process.env.NODE_ENV&&function(){var e=require("react-dom"),i=require("object-assign");if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent)document.createElement("react");var o,s=function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(void 0===t)throw new Error("`warningWithoutStack(condition, format, ...args)` requires a warning message argument");if(8<r.length)throw new Error("warningWithoutStack() currently supports at most 8 arguments.");if(!e){if("undefined"!=typeof console){var i=r.map(function(e){return""+e});i.unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,i)}try{var a=0,s="Warning: "+t.replace(/%s/g,function(){return r[a++]});throw new Error(s)}catch(e){}}},a=null,m=null,u=null;function v(e){var t=function(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(o(e),Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function y(e){o(e);var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))throw Error("executeDirectDispatch(...): Invalid `event`.");e.currentTarget=t?u(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}o=function(e){var t=e._dispatchListeners,n=e._dispatchInstances,r=Array.isArray(t),o=r?t.length:t?1:0,i=Array.isArray(n),a=i?n.length:n?1:0;i===r&&a===o||s(!1,"EventPluginUtils: Invalid `event`.")};var t=5;function S(e){for(;(e=e.return)&&e.tag!==t;);return e||null}function P(e,t){for(;t;){if(e===t||e===t.alternate)return 1;t=S(t)}}function n(e,t,n){for(var r,o=[];e;)o.push(e),e=S(e);for(r=o.length;0<r--;)t(o[r],"captured",n);for(r=0;r<o.length;r++)t(o[r],"bubbled",n)}function c(e,t){if(null==t)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function l(e,t){var n,r=e.stateNode;if(!r)return null;var o=a(r);if(!o)return null;if(n=o[t],function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return n.disabled&&("button"===(r=t)||"input"===r||"select"===r||"textarea"===r);default:return}var r}(t,e.type,o))return null;if(n&&"function"!=typeof n)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type.");return n}function r(e,t,n){e||s(!1,"Dispatching inst must not be null");var r,o=(r=t,l(e,n.dispatchConfig.phasedRegistrationNames[r]));o&&(n._dispatchListeners=c(n._dispatchListeners,o),n._dispatchInstances=c(n._dispatchInstances,e))}function R(e){e&&e.dispatchConfig.phasedRegistrationNames&&n(e._targetInst,r,e)}function b(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;n(t?S(t):null,r,e)}}function p(e){e&&e.dispatchConfig.registrationName&&function(e,t){if(e&&t&&t.dispatchConfig.registrationName){var n=l(e,t.dispatchConfig.registrationName);n&&(t._dispatchListeners=c(t._dispatchListeners,n),t._dispatchInstances=c(t._dispatchInstances,e))}}(e._targetInst,e)}function E(e){T(e,p)}var d=10,h={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function f(){return!0}function g(){return!1}function A(e,t,n,r){delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation,delete this.isDefaultPrevented,delete this.isPropagationStopped,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){delete this[i];var a=o[i];a?this[i]=a(n):"target"===i?this.target=r:this[i]=n[i]}var s=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=s?f:g,this.isPropagationStopped=g,this}function _(n,e){var t="function"==typeof e;return{configurable:!0,set:function(e){return r(t?"setting the method":"setting the property","This is effectively a no-op"),e},get:function(){return r(t?"accessing the method":"accessing the property",t?"This is a no-op function":"This is set to null"),e}};function r(e,t){s(!1,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",e,n,t)}}function w(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function C(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),this.eventPool.length<d&&this.eventPool.push(e)}function I(e){e.eventPool=[],e.getPooled=w,e.release=C}i(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=f)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=f)},persist:function(){this.isPersistent=f},isPersistent:g,destructor:function(){var e=this.constructor.Interface;for(var t in e)Object.defineProperty(this,t,_(t,e[t]));this.dispatchConfig=null,this._targetInst=null,this.nativeEvent=null,this.isDefaultPrevented=g,this.isPropagationStopped=g,this._dispatchListeners=null,this._dispatchInstances=null,Object.defineProperty(this,"nativeEvent",_("nativeEvent",null)),Object.defineProperty(this,"isDefaultPrevented",_("isDefaultPrevented",g)),Object.defineProperty(this,"isPropagationStopped",_("isPropagationStopped",g)),Object.defineProperty(this,"preventDefault",_("preventDefault",function(){})),Object.defineProperty(this,"stopPropagation",_("stopPropagation",function(){}))}}),A.Interface=h,A.extend=function(e){function t(){}var n=this;t.prototype=n.prototype;var r=new t;function o(){return n.apply(this,arguments)}return i(r,o.prototype),((o.prototype=r).constructor=o).Interface=i({},n.Interface,e),o.extend=n.extend,I(o),o},I(A);var N=A.extend({touchHistory:function(e){return null}}),D="touchstart",Y="touchmove",H="touchend",X="touchcancel",O="scroll",k="selectionchange",j="mousedown",x="mousemove",L="mouseup";function M(e){return e===D||e===j}function G(e){return e===Y||e===x}function B(e){return e===H||e===X||e===L}var q=[D,j],U=[Y,x],W=[X,H,L],F=20,V=[],z={touchBank:V,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function J(e){return e.timeStamp||e.timestamp}function K(e){var t=e.identifier;if(null==t)throw Error("Touch object is missing identifier.");return t<=F||s(!1,"Touch identifier %s is greater than maximum supported %s which causes performance issues backfilling array locations for all of the indices.",t,F),t}function Q(e){var t,n,r,o=K(e),i=V[o];i?(r=e,(n=i).touchActive=!0,n.startPageX=r.pageX,n.startPageY=r.pageY,n.startTimeStamp=J(r),n.currentPageX=r.pageX,n.currentPageY=r.pageY,n.currentTimeStamp=J(r),n.previousPageX=r.pageX,n.previousPageY=r.pageY,n.previousTimeStamp=J(r)):V[o]={touchActive:!0,startPageX:(t=e).pageX,startPageY:t.pageY,startTimeStamp:J(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:J(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:J(t)},z.mostRecentTimeStamp=J(e)}function Z(e){var t=V[K(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=J(e),z.mostRecentTimeStamp=J(e)):console.warn("Cannot record touch move without a touch start.\nTouch Move: %s\n","Touch Bank: %s",ee(e),te())}function $(e){var t=V[K(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=J(e),z.mostRecentTimeStamp=J(e)):console.warn("Cannot record touch end without a touch start.\nTouch End: %s\n","Touch Bank: %s",ee(e),te())}function ee(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:J(e)})}function te(){var e=JSON.stringify(V.slice(0,F));return V.length>F&&(e+=" (original size: "+V.length+")"),e}var ne={recordTouchTrack:function(e,t){if(G(e))t.changedTouches.forEach(Z);else if(M(e))t.changedTouches.forEach(Q),z.numberActiveTouches=t.touches.length,1===z.numberActiveTouches&&(z.indexOfSingleActiveTouch=t.touches[0].identifier);else if(B(e)&&(t.changedTouches.forEach($),z.numberActiveTouches=t.touches.length,1===z.numberActiveTouches)){for(var n=0;n<V.length;n++){var r=V[n];if(null!=r&&r.touchActive){z.indexOfSingleActiveTouch=n;break}}var o=V[z.indexOfSingleActiveTouch];null!=o&&o.touchActive||s(!1,"Cannot find single active touch.")}},touchHistory:z};function re(e,t){if(null==t)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?t:Array.isArray(e)?e.concat(t):Array.isArray(t)?[e].concat(t):[e,t]}function oe(e,t){var n=ie;ie=e,null!==ce.GlobalResponderHandler&&ce.GlobalResponderHandler.onChange(n,e,t)}var ie=null,ae=0,se={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:q},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:[O]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:[k]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:U},responderStart:{registrationName:"onResponderStart",dependencies:q},responderMove:{registrationName:"onResponderMove",dependencies:U},responderEnd:{registrationName:"onResponderEnd",dependencies:W},responderRelease:{registrationName:"onResponderRelease",dependencies:W},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function ue(e,t,n,r){var o=M(e)?se.startShouldSetResponder:G(e)?se.moveShouldSetResponder:e===k?se.selectionChangeShouldSetResponder:se.scrollShouldSetResponder,i=ie?function(e,t){for(var n=0,r=e;r;r=S(r))n++;for(var o=0,i=t;i;i=S(i))o++;for(;0<n-o;)e=S(e),n--;for(;0<o-n;)t=S(t),o--;for(var a=n;a--;){if(e===t||e===t.alternate)return e;e=S(e),t=S(t)}return null}(ie,t):t,a=i===ie,s=N.getPooled(o,i,n,r);s.touchHistory=ne.touchHistory,a?T(s,b):T(s,R);var u,c=v(s);if(s.isPersistent()||s.constructor.release(s),!c||c===ie)return null;var l=N.getPooled(se.responderGrant,c,n,r);l.touchHistory=ne.touchHistory,E(l);var p=!0===y(l);if(ie){var d=N.getPooled(se.responderTerminationRequest,ie,n,r);d.touchHistory=ne.touchHistory,E(d);var h=!d._dispatchListeners||y(d);if(d.isPersistent()||d.constructor.release(d),h){var f=N.getPooled(se.responderTerminate,ie,n,r);f.touchHistory=ne.touchHistory,E(f),u=re(u,[l,f]),oe(c,p)}else{var g=N.getPooled(se.responderReject,c,n,r);g.touchHistory=ne.touchHistory,E(g),u=re(u,g)}}else u=re(u,l),oe(c,p);return u}var ce={_getResponder:function(){return ie},eventTypes:se,extractEvents:function(e,t,n,r,o){if(M(e))ae+=1;else if(B(e)){if(!(0<=ae))return console.warn("Ended a touch event which was not counted in `trackedTouchCount`."),null;--ae}ne.recordTouchTrack(e,n);var i,a,s=(i=e,a=n,t&&(i===O&&!a.responderIgnoreScroll||0<ae&&i===k||M(i)||G(i))?ue(e,t,n,r):null),u=ie&&M(e),c=ie&&G(e),l=ie&&B(e),p=u?se.responderStart:c?se.responderMove:l?se.responderEnd:null;if(p){var d=N.getPooled(p,ie,n,r);d.touchHistory=ne.touchHistory,E(d),s=re(s,d)}var h=ie&&e===X,f=ie&&!h&&B(e)&&function(e){var t=e.touches;if(!t||0===t.length)return!0;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&0!==r){var o=m(r);if(P(ie,o))return!1}}return!0}(n),g=h?se.responderTerminate:f?se.responderRelease:null;if(g){var v=N.getPooled(g,ie,n,r);v.touchHistory=ne.touchHistory,E(v),s=re(s,v),oe(null)}return s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){ce.GlobalResponderHandler=e}}},le=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,pe=le[0],de=le[1],he=le[2],fe=le[3];a=he,m=pe,(u=de)&&m||s(!1,"EventPluginUtils.setComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode.");var ge=Object.freeze({ResponderEventPlugin:ce,ResponderTouchHistoryStore:ne,injectEventPluginsByName:fe});module.exports=ge}();