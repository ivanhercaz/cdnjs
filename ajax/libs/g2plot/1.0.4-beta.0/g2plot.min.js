!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.G2Plot=e():t.G2Plot=e()}(window,function(){return n={},r.m=i=[function(t,e,i){"use strict";i.r(e),i.d(e,"contains",function(){return n}),i.d(e,"includes",function(){return n}),i.d(e,"difference",function(){return p}),i.d(e,"find",function(){return b}),i.d(e,"findIndex",function(){return _}),i.d(e,"firstValue",function(){return w}),i.d(e,"flatten",function(){return O}),i.d(e,"flattenDeep",function(){return M}),i.d(e,"getRange",function(){return C}),i.d(e,"pull",function(){return P}),i.d(e,"pullAt",function(){return L}),i.d(e,"reduce",function(){return k}),i.d(e,"remove",function(){return E}),i.d(e,"sortBy",function(){return B}),i.d(e,"union",function(){return I}),i.d(e,"uniq",function(){return F}),i.d(e,"valuesOfKey",function(){return R}),i.d(e,"head",function(){return N}),i.d(e,"last",function(){return Y}),i.d(e,"startsWith",function(){return G}),i.d(e,"endsWith",function(){return z}),i.d(e,"filter",function(){return h}),i.d(e,"every",function(){return X}),i.d(e,"some",function(){return V}),i.d(e,"group",function(){return U}),i.d(e,"groupBy",function(){return W}),i.d(e,"groupToMap",function(){return q}),i.d(e,"getWrapBehavior",function(){return Z}),i.d(e,"wrapBehavior",function(){return K}),i.d(e,"number2color",function(){return Q}),i.d(e,"parseRadius",function(){return J}),i.d(e,"clamp",function(){return tt}),i.d(e,"fixedBase",function(){return et}),i.d(e,"isDecimal",function(){return nt}),i.d(e,"isEven",function(){return rt}),i.d(e,"isInteger",function(){return ot}),i.d(e,"isNegative",function(){return at}),i.d(e,"isNumberEqual",function(){return st}),i.d(e,"isOdd",function(){return lt}),i.d(e,"isPositive",function(){return ct}),i.d(e,"maxBy",function(){return ut}),i.d(e,"minBy",function(){return ht}),i.d(e,"mod",function(){return pt}),i.d(e,"toDegree",function(){return dt}),i.d(e,"toInteger",function(){return gt}),i.d(e,"toRadian",function(){return vt}),i.d(e,"forIn",function(){return mt}),i.d(e,"has",function(){return xt}),i.d(e,"hasKey",function(){return bt}),i.d(e,"hasValue",function(){return wt}),i.d(e,"keys",function(){return g}),i.d(e,"isMatch",function(){return y}),i.d(e,"values",function(){return _t}),i.d(e,"lowerCase",function(){return Mt}),i.d(e,"lowerFirst",function(){return Ct}),i.d(e,"substitute",function(){return St}),i.d(e,"upperCase",function(){return jt}),i.d(e,"upperFirst",function(){return At}),i.d(e,"getType",function(){return Tt}),i.d(e,"isArguments",function(){return Lt}),i.d(e,"isArray",function(){return a}),i.d(e,"isArrayLike",function(){return s}),i.d(e,"isBoolean",function(){return kt}),i.d(e,"isDate",function(){return Et}),i.d(e,"isError",function(){return Dt}),i.d(e,"isFunction",function(){return f}),i.d(e,"isFinite",function(){return Bt}),i.d(e,"isNil",function(){return d}),i.d(e,"isNull",function(){return Ft}),i.d(e,"isNumber",function(){return it}),i.d(e,"isObject",function(){return c}),i.d(e,"isObjectLike",function(){return m}),i.d(e,"isPlainObject",function(){return x}),i.d(e,"isPrototype",function(){return Rt}),i.d(e,"isRegExp",function(){return Nt}),i.d(e,"isString",function(){return D}),i.d(e,"isType",function(){return o}),i.d(e,"isUndefined",function(){return Yt}),i.d(e,"isElement",function(){return Gt}),i.d(e,"requestAnimationFrame",function(){return zt}),i.d(e,"clearAnimationFrame",function(){return Xt}),i.d(e,"augment",function(){return Wt}),i.d(e,"clone",function(){return Ut}),i.d(e,"debounce",function(){return Zt}),i.d(e,"memoize",function(){return Kt}),i.d(e,"deepMix",function(){return Jt}),i.d(e,"each",function(){return u}),i.d(e,"extend",function(){return te}),i.d(e,"indexOf",function(){return ee}),i.d(e,"isEmpty",function(){return ne}),i.d(e,"isEqual",function(){return re}),i.d(e,"isEqualWith",function(){return oe}),i.d(e,"map",function(){return ae}),i.d(e,"mapValues",function(){return se}),i.d(e,"mix",function(){return Ht}),i.d(e,"assign",function(){return Ht}),i.d(e,"get",function(){return le}),i.d(e,"set",function(){return ce}),i.d(e,"pick",function(){return he}),i.d(e,"throttle",function(){return pe}),i.d(e,"toArray",function(){return fe}),i.d(e,"toString",function(){return Ot}),i.d(e,"uniqueId",function(){return ge}),i.d(e,"noop",function(){return ye}),i.d(e,"identity",function(){return ve}),i.d(e,"size",function(){return me}),i.d(e,"Cache",function(){return xe});var s=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},n=function(t,e){return!!s(t)&&-1<t.indexOf(e)},r={}.toString,o=function(t,e){return r.call(t)==="[object "+e+"]"},a=function(t){return Array.isArray?Array.isArray(t):o(t,"Array")};function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c=function(t){var e=l(t);return null!==t&&"object"===e||"function"===e},u=function(t,e){if(t)if(a(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(c(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},h=function(t,i){if(!s(t))return t;var n=[];return u(t,function(t,e){i(t,e)&&n.push(t)}),n},p=function(t,e){return void 0===e&&(e=[]),h(t,function(t){return!n(e,t)})},f=function(t){return o(t,"Function")},d=function(t){return null==t},g=Object.keys?function(t){return Object.keys(t)}:function(i){var n=[];return u(i,function(t,e){f(i)&&"prototype"===e||n.push(e)}),n},y=function(t,e){var i=g(e),n=i.length;if(d(t))return!n;for(var r=0;r<n;r+=1){var o=i[r];if(e[o]!==t[o]||!(o in t))return!1}return!0};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=function(t){return"object"===v(t)&&null!==t},x=function(t){if(!m(t)||!o(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},b=function(t,e){if(!a(t))return null;var i;if(f(e)&&(i=e),x(e)&&(i=function(t){return y(t,e)}),i)for(var n=0;n<t.length;n+=1)if(i(t[n]))return t[n];return null},_=function(t,e,i){void 0===i&&(i=0);for(var n=i;n<t.length;n++)if(e(t[n],n))return n;return-1},w=function(t,e){for(var i=null,n=0;n<t.length;n++){var r=t[n][e];if(!d(r)){i=a(r)?r[0]:r;break}}return i},O=function(t){if(!a(t))return[];for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e},M=function t(e,i){if(void 0===i&&(i=[]),a(e))for(var n=0;n<e.length;n+=1)t(e[n],i);else i.push(e);return i},C=function(t){if(!(t=h(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(a(t[0])){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);t=e}var n=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:n}},S=Array.prototype,j=S.splice,A=S.indexOf,P=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++)for(var r=e[n],o=-1;-1<(o=A.call(t,r));)j.call(t,o,1);return t},T=Array.prototype.splice,L=function(t,e){if(!s(t))return[];for(var i=t?e.length:0,n=i-1;i--;){var r=void 0,o=e[i];i!==n&&o===r||(r=o,T.call(t,o,1))}return t},k=function(t,i,e){if(!a(t)&&!x(t))return t;var n=e;return u(t,function(t,e){n=i(n,t,e)}),n},E=function(t,e){var i=[];if(!s(t))return i;for(var n=-1,r=[],o=t.length;++n<o;){var a=t[n];e(a,n,t)&&(i.push(a),r.push(n))}return L(t,r),i},D=function(t){return o(t,"String")},B=function(t,i){var e;if(f(i))e=function(t,e){return i(t)-i(e)};else{var r=[];D(i)?r.push(i):a(i)&&(r=i),e=function(t,e){for(var i=0;i<r.length;i+=1){var n=r[i];if(t[n]>e[n])return 1;if(t[n]<e[n])return-1}return 0}}return t.sort(e),t},F=function(t){var e=[];return u(t,function(t){n(e,t)||e.push(t)}),e},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F([].concat.apply([],t))},R=function(t,i){var n=[],r={};return t.forEach(function(t){var e=t[i];d(e)||(a(e)||(e=[e]),u(e,function(t){r[t]||(n.push(t),r[t]=!0)}))}),n};function N(t){if(s(t))return t[0]}function Y(t){if(s(t))return t[t.length-1]}var G=function(t,e){return!(!a(t)&&!D(t))&&t[0]===e},z=function(t,e){return!(!a(t)&&!D(t))&&t[t.length-1]===e},X=function(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i))return!1;return!0},V=function(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i))return!0;return!1},H=Object.prototype.hasOwnProperty,W=function(t,e){if(!e||!a(t))return{};var i,n={},r=f(e)?e:function(t){return t[e]};return u(t,function(t){i=r(t),H.call(n,i)?n[i].push(t):n[i]=[t]}),n},q=function(t,e){if(!e)return{0:t};if(!f(e)){var r=a(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",i=0,n=r.length;i<n;i++)e+=t[r[i]]&&t[r[i]].toString();return e}}return W(t,e)},U=function(t,e){if(!e)return[t];var i=q(t,e),n=[];for(var r in i)n.push(i[r]);return n},Z=function(t,e){return t["_wrap_"+e]},K=function(e,i){if(e["_wrap_"+i])return e["_wrap_"+i];function t(t){e[i](t)}return e["_wrap_"+i]=t},$={},Q=function(t){var e=$[t];if(!e){for(var i=t.toString(16),n=i.length;n<6;n++)i="0"+i;e="#"+i,$[t]=e}return e},J=function(t){var e=0,i=0,n=0,r=0;return a(t)?1===t.length?e=i=n=r=t[0]:2===t.length?(e=n=t[0],i=r=t[1]):3===t.length?(e=t[0],i=r=t[1],n=t[2]):(e=t[0],i=t[1],n=t[2],r=t[3]):e=i=n=r=t,{r1:e,r2:i,r3:n,r4:r}},tt=function(t,e,i){return t<e?e:i<t?i:t},et=function(t,e){var i=e.toString(),n=i.indexOf(".");if(-1===n)return Math.round(t);var r=i.substr(n+1).length;return 20<r&&(r=20),parseFloat(t.toFixed(r))},it=function(t){return o(t,"Number")},nt=function(t){return it(t)&&t%1!=0},rt=function(t){return it(t)&&t%2==0},ot=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},at=function(t){return it(t)&&t<0};function st(t,e,i){return void 0===i&&(i=1e-5),Math.abs(t-e)<i}var lt=function(t){return it(t)&&t%2!=0},ct=function(t){return it(t)&&0<t},ut=function(t,e){if(a(t)){var i,n,r=t[0];return i=f(e)?e(t[0]):t[0][e],u(t,function(t){(n=f(e)?e(t):t[e])>i&&(r=t,i=n)}),r}},ht=function(t,e){if(a(t)){var i,n,r=t[0];return i=f(e)?e(t[0]):t[0][e],u(t,function(t){(n=f(e)?e(t):t[e])<i&&(r=t,i=n)}),r}},pt=function(t,e){return(t%e+e)%e},ft=180/Math.PI,dt=function(t){return ft*t},gt=parseInt,yt=Math.PI/180,vt=function(t){return yt*t},mt=u,xt=function(t,e){return t.hasOwnProperty(e)},bt=xt,_t=Object.values?function(t){return Object.values(t)}:function(i){var n=[];return u(i,function(t,e){f(i)&&"prototype"===e||n.push(t)}),n},wt=function(t,e){return n(_t(t),e)},Ot=function(t){return d(t)?"":t.toString()},Mt=function(t){return Ot(t).toLowerCase()},Ct=function(t){var e=Ot(t);return e.charAt(0).toLowerCase()+e.substring(1)},St=function(t,i){return t&&i?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===i[e]?"":i[e]}):t},jt=function(t){return Ot(t).toUpperCase()},At=function(t){var e=Ot(t);return e.charAt(0).toUpperCase()+e.substring(1)},Pt={}.toString,Tt=function(t){return Pt.call(t).replace(/^\[object /,"").replace(/]$/,"")},Lt=function(t){return o(t,"Arguments")},kt=function(t){return o(t,"Boolean")},Et=function(t){return o(t,"Date")},Dt=function(t){return o(t,"Error")},Bt=function(t){return it(t)&&isFinite(t)},Ft=function(t){return null===t},It=Object.prototype,Rt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)},Nt=function(t){return o(t,"RegExp")},Yt=function(t){return void 0===t},Gt=function(t){return t instanceof Element||t instanceof HTMLDocument};function zt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Xt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Vt(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}function Ht(t,e,i,n){return e&&Vt(t,e),i&&Vt(t,i),n&&Vt(t,n),t}var Wt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t[0],n=1;n<t.length;n++){var r=t[n];f(r)&&(r=r.prototype),Ht(i.prototype,r)}};function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ut=function t(e){if("object"!==qt(e)||null===e)return e;var i;if(a(e)){i=[];for(var n=0,r=e.length;n<r;n++)"object"===qt(e[n])&&null!=e[n]?i[n]=t(e[n]):i[n]=e[n]}else for(var o in i={},e)"object"===qt(e[o])&&null!=e[o]?i[o]=t(e[o]):i[o]=e[o];return i},Zt=function(n,r,o){var a;return function(){var t=this,e=arguments,i=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||n.apply(t,e)},r),i&&n.apply(t,e)}},Kt=function(o,a){if(!f(o))throw new TypeError("Expected a function");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=a?a.apply(this,t):t[0],n=s.cache;if(n.has(i))return n.get(i);var r=o.apply(this,t);return n.set(i,r),r}return s.cache=new Map,s};function $t(t,e,i,n){for(var r in i=i||0,n=n||5,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&x(o)?(x(t[r])||(t[r]={}),i<n?$t(t[r],o,i+1,n):t[r]=e[r]):a(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}function Qt(t){return t}var Jt=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n+=1)$t(t,e[n]);return t},te=function(t,e,i,n){f(e)||(i=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function i(){}i.prototype=t;var n=new i;return n.constructor=e,n},o=r(e.prototype,t);return t.prototype=Ht(o,t.prototype),t.superclass=r(e.prototype,e),Ht(o,i),Ht(t,n),t},ee=function(t,e){if(!s(t))return-1;var i=Array.prototype.indexOf;if(i)return i.call(t,e);for(var n=-1,r=0;r<t.length;r++)if(t[r]===e){n=r;break}return n},ie=Object.prototype.hasOwnProperty,ne=function(t){if(d(t))return!0;if(s(t))return!t.length;var e=Tt(t);if("Map"===e||"Set"===e)return!t.size;if(Rt(t))return!Object.keys(t).length;for(var i in t)if(ie.call(t,i))return!1;return!0},re=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(D(e)||D(i))return!1;if(s(e)||s(i)){if(e.length!==i.length)return!1;for(var n=!0,r=0;r<e.length&&(n=t(e[r],i[r]));r++);return n}if(m(e)||m(i)){var o=Object.keys(e),a=Object.keys(i);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=t(e[o[r]],i[o[r]]));r++);return n}return!1},oe=function(t,e,i){return f(i)?!!i(t,e):re(t,e)},ae=function(t,i){if(!s(t))return t;var n=[];return u(t,function(t,e){n.push(i(t,e))}),n},se=function(e,i){void 0===i&&(i=Qt);var n={};return c(e)&&!d(e)&&Object.keys(e).forEach(function(t){n[t]=i(e[t],t)}),n},le=function(t,e,i){for(var n=0,r=D(e)?e.split("."):e;t&&n<r.length;)t=t[r[n++]];return void 0===t||n<r.length?i:t},ce=function(t,e,i){var n=t,r=D(e)?e.split("."):e;return r.forEach(function(t,e){e<r.length-1?(c(n[t])||(n[t]=it(r[e+1])?[]:{}),n=n[t]):n[t]=i}),t},ue=Object.prototype.hasOwnProperty,he=function(e,t){if(null===e||!x(e))return{};var i={};return u(t,function(t){ue.call(e,t)&&(i[t]=e[t])}),i},pe=function(i,n,r){var o,a,s,l,c=0;r=r||{};function u(){c=!1===r.leading?0:Date.now(),o=null,l=i.apply(a,s),o||(a=s=null)}function t(){var t=Date.now();c||!1!==r.leading||(c=t);var e=n-(t-c);return a=this,s=arguments,e<=0||n<e?(o&&(clearTimeout(o),o=null),c=t,l=i.apply(a,s),o||(a=s=null)):o||!1===r.trailing||(o=setTimeout(u,e)),l}return t.cancel=function(){clearTimeout(o),c=0,o=a=s=null},t},fe=function(t){return s(t)?Array.prototype.slice.call(t):[]},de={},ge=function(t){return de[t=t||"g"]?de[t]+=1:de[t]=1,t+de[t]},ye=function(){},ve=function(t){return t};function me(t){return d(t)?0:s(t)?t.length:Object.keys(t).length}var xe=(be.prototype.has=function(t){return void 0!==this.map[t]},be.prototype.get=function(t,e){var i=this.map[t];return void 0===i?e:i},be.prototype.set=function(t,e){this.map[t]=e},be.prototype.clear=function(){this.map={}},be.prototype.delete=function(t){delete this.map[t]},be.prototype.size=function(){return Object.keys(this.map).length},be);function be(){this.map={}}},function(t,e,i){"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(e),i.d(e,"__extends",function(){return r}),i.d(e,"__assign",function(){return o}),i.d(e,"__rest",function(){return a}),i.d(e,"__decorate",function(){return s}),i.d(e,"__param",function(){return c}),i.d(e,"__metadata",function(){return u}),i.d(e,"__awaiter",function(){return h}),i.d(e,"__generator",function(){return p}),i.d(e,"__exportStar",function(){return f}),i.d(e,"__values",function(){return d}),i.d(e,"__read",function(){return g}),i.d(e,"__spread",function(){return y}),i.d(e,"__spreadArrays",function(){return v}),i.d(e,"__await",function(){return m}),i.d(e,"__asyncGenerator",function(){return x}),i.d(e,"__asyncDelegator",function(){return b}),i.d(e,"__asyncValues",function(){return _}),i.d(e,"__makeTemplateObject",function(){return w}),i.d(e,"__importStar",function(){return O}),i.d(e,"__importDefault",function(){return M}),i.d(e,"__classPrivateFieldGet",function(){return C}),i.d(e,"__classPrivateFieldSet",function(){return S});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}function s(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(o<3?r(a):3<o?r(e,i,a):r(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a}function c(i,n){return function(t,e){n(t,e,i)}}function u(t,e){if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,a,s,l){return new(s=s||Promise)(function(i,e){function n(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?i(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,r)}o((l=l.apply(t,a||[])).next())})}function p(i,n){var r,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==e[0]&&2!==e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(i,s)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function f(t,e){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)a.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function x(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=i.apply(t,e||[]),a=[];return r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r;function n(n){o[n]&&(r[n]=function(i){return new Promise(function(t,e){1<a.push([n,i,t,e])||s(n,i)})})}function s(t,e){try{(i=o[t](e)).value instanceof m?Promise.resolve(i.value.v).then(l,c):u(a[0][2],i)}catch(t){u(a[0][3],t)}var i}function l(t){s("next",t)}function c(t){s("throw",t)}function u(t,e){t(e),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(n){var t,r;return t={},e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,i){t[e]=n[e]?function(t){return(r=!r)?{value:m(n[e](t)),done:"return"===e}:i?i(t):t}:i}}function _(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=l[Symbol.asyncIterator];return e?e.call(l):(l=d(l),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=l[s]&&function(a){return new Promise(function(t,e){var i,n,r,o;i=t,n=e,r=(a=l[s](a)).done,o=a.value,Promise.resolve(o).then(function(t){i({value:t,done:r})},n)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function M(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}},function(t,e,i){"use strict";i.r(e),i.d(e,"mat3",function(){return n}),i.d(e,"vec2",function(){return s}),i.d(e,"vec3",function(){return l}),i.d(e,"transform",function(){return c});var a=i(11);a.translate=function(t,e,i){var n=new Array(9);return a.fromTranslation(n,i),a.multiply(t,n,e)},a.rotate=function(t,e,i){var n=new Array(9);return a.fromRotation(n,i),a.multiply(t,n,e)},a.scale=function(t,e,i){var n=new Array(9);return a.fromScaling(n,i),a.multiply(t,n,e)},a.transform=function(t,e){for(var i=[].concat(t),n=0,r=e.length;n<r;n++){var o=e[n];switch(o[0]){case"t":a.translate(i,i,[o[1],o[2]]);break;case"s":a.scale(i,i,[o[1],o[2]]);break;case"r":a.rotate(i,i,o[1])}}return i};var n=a,o=i(19),r=i(0);o.angle=function(t,e){var i=o.dot(t,e)/(o.length(t)*o.length(e));return Math.acos(Object(r.clamp)(i,-1,1))},o.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},o.angleTo=function(t,e,i){var n=o.angle(t,e),r=0<=o.direction(t,e);return i?r?2*Math.PI-n:n:r?n:2*Math.PI-n},o.vertical=function(t,e,i){return i?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};var s=o,l=i(62),c=function(t,e){var i=t?Object(r.clone)(t):[1,0,0,0,1,0,0,0,1];return Object(r.each)(e,function(t){switch(t[0]){case"t":n.translate(i,i,[t[1],t[2]]);break;case"s":n.scale(i,i,[t[1],t[2]]);break;case"r":n.rotate(i,i,t[1]);break;case"m":n.multiply(i,i,t[1]);break;default:return!1}}),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(24)),a=i(0),s=r.__importDefault(i(208)),l=r.__importDefault(i(211)),c=i(4),u=r.__importDefault(i(43)),h=r.__importDefault(i(9)),p=i(8),f=(n=o.default,r.__extends(d,n),d.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},d.prototype.repaint=function(){this.canvasController.canvas.draw()},d.prototype.updateConfig=function(e,t){if(void 0===t&&(t=!1),t)this.eachLayer(function(t){t instanceof h.default&&t.updateConfig(e)});else{var i=this.layers[0];i instanceof u.default&&i.updateConfig(e)}e.width&&(this.width=e.width),e.height&&(this.height=e.height),e.theme&&(this.theme=e.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},d.prototype.changeData=function(e,t){if(void 0===t&&(t=!1),t)this.eachLayer(function(t){t instanceof h.default&&t.changeData(e)});else{var i=this.layers[0];i instanceof h.default&&i.changeData(e)}},d.prototype.getPlotTheme=function(){return this.layers[0].getPlotTheme()},d.prototype.getData=function(){return this.layers[0].getData()},d.prototype.bindStateManager=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.bindStateManager(e,i)})},d.prototype.setActive=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setActive(e,i)})},d.prototype.setSelected=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setSelected(e,i)})},d.prototype.setDisable=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setDisable(e,i)})},d.prototype.setDefault=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setDefault(e,i)})},d.prototype.getView=function(){return this.layers[0].view},d.prototype.getLayer=function(t){return void 0===t&&(t=0),this.layers[t]},d.prototype.getCanvas=function(){return this.canvasController.canvas},d.prototype.getLayers=function(){return this.layers},d.prototype.render=function(){this.eachLayer(function(t){return t.render()})},d.prototype.eachLayer=function(t){a.each(this.layers,t)},d.prototype.addLayer=function(e){a.findIndex(this.layers,function(t){return t===e})<0&&this.layers.push(e)},d.prototype.createLayers=function(t){if(!t.layers&&t.type){var e=new(c.getPlotType(t.type))(a.deepMix({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}));this.addLayer(e)}},d.prototype.parseEvents=function(t){var r=this,o=a.keys(p.CANVAS_EVENT_MAP);t.events&&a.each(t.events,function(t,e){if(a.contains(o,e)&&a.isFunction(t)){var i=p.CANVAS_EVENT_MAP[e]||e,n=t;r.on(i,n)}})},d);function d(t,e){var i=n.call(this)||this;return i.containerDOM="string"==typeof t?document.getElementById(t):t,i.forceFit=a.isNil(e.forceFit)?a.isNil(e.width)&&a.isNil(e.height):e.forceFit,i.renderer=e.renderer||"canvas",i.pixelRatio=e.pixelRatio||null,i.width=e.width,i.height=e.height,i.theme=e.theme,i.localRefresh=e.localRefresh,i.canvasController=new s.default({containerDOM:i.containerDOM,plot:i}),i.width=i.canvasController.width,i.height=i.canvasController.height,i.canvas=i.canvasController.canvas,i.layers=[],i.destroyed=!1,i.createLayers(e),i.eventController=new l.default({plot:i,canvas:i.canvasController.canvas}),i.eventController.bindEvents(),i.parseEvents(e),i}e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};e.registerPlotType=function(t,e){n[t.toLowerCase()]=e},e.getPlotType=function(t){return n[t.toLowerCase()]}},function(t,e,i){"use strict";function n(t,e,i){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,i,!1),{remove:function(){t.removeEventListener(e,i,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,i),{remove:function(){t.detachEvent("on"+e,i)}}}}var r,o,a,s;function l(t){r||(r=document.createElement("table"),o=document.createElement("tr"),a=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:o,th:o,"*":document.createElement("div")});var e=a.test(t)&&RegExp.$1;e&&e in s||(e="*");var i=s[e];t=t.replace(/(^\s*)|(\s*$)/g,""),i.innerHTML=""+t;var n=i.childNodes[0];return i.removeChild(n),n}function c(t,e,i){var n;try{n=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(t){}finally{n=void 0===n?i:n}return n}function u(t,e){var i=c(t,"height",e);return"auto"===i&&(i=t.offsetHeight),parseFloat(i)}function h(t,e){var i=u(t,e),n=parseFloat(c(t,"borderTopWidth"))||0,r=parseFloat(c(t,"paddingTop"))||0,o=parseFloat(c(t,"paddingBottom"))||0;return i+n+(parseFloat(c(t,"borderBottomWidth"))||0)+r+o+(parseFloat(c(t,"marginTop"))||0)+(parseFloat(c(t,"marginBottom"))||0)}function p(t,e){var i=c(t,"width",e);return"auto"===i&&(i=t.offsetWidth),parseFloat(i)}function f(t,e){var i=p(t,e),n=parseFloat(c(t,"borderLeftWidth"))||0,r=parseFloat(c(t,"paddingLeft"))||0,o=parseFloat(c(t,"paddingRight"))||0,a=parseFloat(c(t,"borderRightWidth"))||0,s=parseFloat(c(t,"marginRight"))||0;return i+n+a+r+o+(parseFloat(c(t,"marginLeft"))||0)+s}function d(){return window.devicePixelRatio?window.devicePixelRatio:2}function g(t,e){if(t)for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);return t}i.r(e),i.d(e,"addEventListener",function(){return n}),i.d(e,"createDom",function(){return l}),i.d(e,"getHeight",function(){return u}),i.d(e,"getOuterHeight",function(){return h}),i.d(e,"getOuterWidth",function(){return f}),i.d(e,"getRatio",function(){return d}),i.d(e,"getStyle",function(){return c}),i.d(e,"getWidth",function(){return p}),i.d(e,"modifyCSS",function(){return g})},function(t,e,i){"use strict";i.r(e),i.d(e,"version",function(){return ci}),i.d(e,"Event",function(){return y}),i.d(e,"Base",function(){return et}),i.d(e,"AbstractCanvas",function(){return ai}),i.d(e,"AbstractGroup",function(){return si}),i.d(e,"AbstractShape",function(){return li}),i.d(e,"PathUtil",function(){return n});var n={};i.r(n),i.d(n,"catmullRomToBezier",function(){return L}),i.d(n,"fillPath",function(){return f}),i.d(n,"fillPathByDiff",function(){return D}),i.d(n,"formatPath",function(){return B}),i.d(n,"intersection",function(){return h}),i.d(n,"parsePathArray",function(){return a}),i.d(n,"parsePathString",function(){return T}),i.d(n,"pathToAbsolute",function(){return k}),i.d(n,"pathToCurve",function(){return E}),i.d(n,"rectPath",function(){return s});var l={};i.r(l),i.d(l,"easeLinear",function(){return Dt}),i.d(l,"easeQuad",function(){return It}),i.d(l,"easeQuadIn",function(){return Bt}),i.d(l,"easeQuadOut",function(){return Ft}),i.d(l,"easeQuadInOut",function(){return It}),i.d(l,"easeCubic",function(){return Yt}),i.d(l,"easeCubicIn",function(){return Rt}),i.d(l,"easeCubicOut",function(){return Nt}),i.d(l,"easeCubicInOut",function(){return Yt}),i.d(l,"easePoly",function(){return Xt}),i.d(l,"easePolyIn",function(){return Gt}),i.d(l,"easePolyOut",function(){return zt}),i.d(l,"easePolyInOut",function(){return Xt}),i.d(l,"easeSin",function(){return Ut}),i.d(l,"easeSinIn",function(){return Wt}),i.d(l,"easeSinOut",function(){return qt}),i.d(l,"easeSinInOut",function(){return Ut}),i.d(l,"easeExp",function(){return $t}),i.d(l,"easeExpIn",function(){return Zt}),i.d(l,"easeExpOut",function(){return Kt}),i.d(l,"easeExpInOut",function(){return $t}),i.d(l,"easeCircle",function(){return te}),i.d(l,"easeCircleIn",function(){return Qt}),i.d(l,"easeCircleOut",function(){return Jt}),i.d(l,"easeCircleInOut",function(){return te}),i.d(l,"easeBounce",function(){return ne}),i.d(l,"easeBounceIn",function(){return ie}),i.d(l,"easeBounceOut",function(){return ne}),i.d(l,"easeBounceInOut",function(){return re}),i.d(l,"easeBack",function(){return le}),i.d(l,"easeBackIn",function(){return ae}),i.d(l,"easeBackOut",function(){return se}),i.d(l,"easeBackInOut",function(){return le}),i.d(l,"easeElastic",function(){return he}),i.d(l,"easeElasticIn",function(){return ue}),i.d(l,"easeElasticOut",function(){return he}),i.d(l,"easeElasticInOut",function(){return pe});function m(t,e,i,n,r){var o=[];if(null===r&&null===n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!==r){var a=Math.PI/180,s=t+i*Math.cos(-n*a),l=t+i*Math.cos(-r*a);o=[["M",s,e+i*Math.sin(-n*a)],["A",i,i,0,+(180<r-n),0,l,e+i*Math.sin(-r*a)]]}else o=[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]];return o}function x(t,e,i,n){return[t,e,i,n,i,n]}function b(t,e,i,n,r,o){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*o+2/3*n,r,o]}function X(t,e,i,n,r,o,a,s,l,c){function u(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}}i===n&&(i+=1);var h,p,f,d,g,y=120*Math.PI/180,v=Math.PI/180*(+r||0),m=[];if(c)p=c[0],f=c[1],d=c[2],g=c[3];else{t=(h=u(t,e,-v)).x,e=h.y,s=(h=u(s,l,-v)).x,l=h.y,t===s&&e===l&&(s+=1,l+=1);var x=(t-s)/2,b=(e-l)/2,_=x*x/(i*i)+b*b/(n*n);1<_&&(i*=_=Math.sqrt(_),n*=_);var w=i*i,O=n*n,M=(o===a?-1:1)*Math.sqrt(Math.abs((w*O-w*b*b-O*x*x)/(w*b*b+O*x*x)));d=M*i*b/n+(t+s)/2,g=M*-n*x/i+(e+l)/2,p=Math.asin(((e-g)/n).toFixed(9)),f=Math.asin(((l-g)/n).toFixed(9)),p=t<d?Math.PI-p:p,f=s<d?Math.PI-f:f,p<0&&(p=2*Math.PI+p),f<0&&(f=2*Math.PI+f),a&&f<p&&(p-=2*Math.PI),!a&&p<f&&(f-=2*Math.PI)}var C=f-p;if(Math.abs(C)>y){var S=f,j=s,A=l;f=p+y*(a&&p<f?1:-1),m=X(s=d+i*Math.cos(f),l=g+n*Math.sin(f),i,n,r,0,a,j,A,[f,S,d,g])}C=f-p;var P=Math.cos(p),T=Math.sin(p),L=Math.cos(f),k=Math.sin(f),E=Math.tan(C/4),D=4/3*i*E,B=4/3*n*E,F=[t,e],I=[t+D*T,e-B*P],R=[s+D*k,l-B*L],N=[s,l];if(I[0]=2*F[0]-I[0],I[1]=2*F[1]-I[1],c)return[I,R,N].concat(m);for(var Y=[],G=0,z=(m=[I,R,N].concat(m).join().split(",")).length;G<z;G++)Y[G]=G%2?u(m[G-1],m[G],v).y:u(m[G],m[G+1],v).x;return Y}function _(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function O(t,e,i,n,r,o,a,s,l){null===l&&(l=1);for(var c=(l=1<l?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var d=c*u[f]+c,g=_(d,t,i,r,a),y=_(d,e,n,o,s),v=g*g+y*y;p+=h[f]*Math.sqrt(v)}return c*p}function M(t,e,i,n,r,o,a,s){if(!(Math.max(t,i)<Math.min(r,a)||Math.min(t,i)>Math.max(r,a)||Math.max(e,n)<Math.min(o,s)||Math.min(e,n)>Math.max(o,s))){var l=(t-i)*(o-s)-(e-n)*(r-a);if(l){var c=((t*n-e*i)*(r-a)-(t-i)*(r*s-o*a))/l,u=((t*n-e*i)*(o-s)-(e-n)*(r*s-o*a))/l,h=+c.toFixed(2),p=+u.toFixed(2);if(!(h<+Math.min(t,i).toFixed(2)||h>+Math.max(t,i).toFixed(2)||h<+Math.min(r,a).toFixed(2)||h>+Math.max(r,a).toFixed(2)||p<+Math.min(e,n).toFixed(2)||p>+Math.max(e,n).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:c,y:u}}}}function C(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function S(t,e,i,n){return null===t&&(t=e=i=n=0),null===e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:Math.min(i,n)/2,r2:Math.max(i,n)/2,r0:Math.sqrt(i*i+n*n)/2,path:s(t,e,i,n),vb:[t,e,i,n].join(" ")}}function j(t,e,i,n,r,o,a,s){Object(w.isArray)(t)||(t=[t,e,i,n,r,o,a,s]);var l=function(t,e,i,n,r,o,a,s){for(var l,c,u,h,p=[],f=[[],[]],d=0;d<2;++d)if(u=0===d?(c=6*t-12*i+6*r,l=-3*t+9*i-9*r+3*a,3*i-3*t):(c=6*e-12*n+6*o,l=-3*e+9*n-9*o+3*s,3*n-3*e),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;0<(h=-u/c)&&h<1&&p.push(h)}else{var g=c*c-4*u*l,y=Math.sqrt(g);if(!(g<0)){var v=(-c+y)/(2*l);0<v&&v<1&&p.push(v);var m=(-c-y)/(2*l);0<m&&m<1&&p.push(m)}}for(var x,b=p.length,_=b;b--;)x=1-(h=p[b]),f[0][b]=x*x*x*t+3*x*x*h*i+3*x*h*h*r+h*h*h*a,f[1][b]=x*x*x*e+3*x*x*h*n+3*x*h*h*o+h*h*h*s;return f[0][_]=t,f[1][_]=e,f[0][_+1]=a,f[1][_+1]=s,f[0].length=f[1].length=_+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return S(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function A(t,e,i,n,r,o,a,s,l){var c=1-l,u=Math.pow(c,3),h=Math.pow(c,2),p=l*l,f=p*l,d=t+2*l*(i-t)+p*(r-2*i+t),g=e+2*l*(n-e)+p*(o-2*n+e),y=i+2*l*(r-i)+p*(a-2*r+i),v=n+2*l*(o-n)+p*(s-2*o+n);return{x:u*t+3*h*l*i+3*c*l*l*r+f*a,y:u*e+3*h*l*n+3*c*l*l*o+f*s,m:{x:d,y:g},n:{x:y,y:v},start:{x:c*t+l*i,y:c*e+l*n},end:{x:c*r+l*a,y:c*o+l*s},alpha:90-180*Math.atan2(d-y,g-v)/Math.PI}}function P(t,e,i){if(n=j(t),r=j(e),n=S(n),r=S(r),!(C(r,n.x,n.y)||C(r,n.x2,n.y)||C(r,n.x,n.y2)||C(r,n.x2,n.y2)||C(n,r.x,r.y)||C(n,r.x2,r.y)||C(n,r.x,r.y2)||C(n,r.x2,r.y2)||(n.x<r.x2&&n.x>r.x||r.x<n.x2&&r.x>n.x)&&(n.y<r.y2&&n.y>r.y||r.y<n.y2&&r.y>n.y)))return i?0:[];for(var n,r,o=~~(O.apply(0,t)/8),a=~~(O.apply(0,e)/8),s=[],l=[],c={},u=i?0:[],h=0;h<1+o;h++){var p=A.apply(0,t.concat(h/o));s.push({x:p.x,y:p.y,t:h/o})}for(h=0;h<1+a;h++)p=A.apply(0,e.concat(h/a)),l.push({x:p.x,y:p.y,t:h/a});for(h=0;h<o;h++)for(var f=0;f<a;f++){var d=s[h],g=s[h+1],y=l[f],v=l[f+1],m=Math.abs(g.x-d.x)<.001?"y":"x",x=Math.abs(v.x-y.x)<.001?"y":"x",b=M(d.x,d.y,g.x,g.y,y.x,y.y,v.x,v.y);if(b){if(c[b.x.toFixed(4)]===b.y.toFixed(4))continue;c[b.x.toFixed(4)]=b.y.toFixed(4);var _=d.t+Math.abs((b[m]-d[m])/(g[m]-d[m]))*(g.t-d.t),w=y.t+Math.abs((b[x]-y[x])/(v[x]-y[x]))*(v.t-y.t);0<=_&&_<=1&&0<=w&&w<=1&&(i?u+=1:u.push({x:b.x,y:b.y,t1:_,t2:w}))}}return u}var w=i(0),r="\t\n\v\f\r   ᠎             　\u2028\u2029",c=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),u=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),T=function(o){if(!o)return null;if(Object(w.isArray)(o))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return String(o).replace(c,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(u,function(t,e){e&&n.push(+e)}),"m"===r&&2<n.length&&(s.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===n.length&&s.push([e,n[0]]),"r"===r)s.push([e].concat(n));else for(;n.length>=a[r]&&(s.push([e].concat(n.splice(0,a[r]))),a[r]););return o}),s},L=function(t,e){for(var i=[],n=0,r=t.length;n<r-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4===n?o[3]={x:+t[0],y:+t[1]}:r-2===n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i},k=function(t){if(!(t=T(t))||!t.length)return[["M",0,0]];var e,i,n=[],r=0,o=0,a=0,s=0,l=0;"M"===t[0][0]&&(a=r=+t[0][1],s=o=+t[0][2],l++,n[0]=["M",r,o]);for(var c=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),u=void 0,h=void 0,p=l,f=t.length;p<f;p++){if(n.push(u=[]),(e=(h=t[p])[0])!==e.toUpperCase())switch(u[0]=e.toUpperCase(),u[0]){case"A":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+h[6]+r,u[7]=+h[7]+o;break;case"V":u[1]=+h[1]+o;break;case"H":u[1]=+h[1]+r;break;case"R":for(var d=2,g=(i=[r,o].concat(h.slice(1))).length;d<g;d++)i[d]=+i[d]+r,i[++d]=+i[d]+o;n.pop(),n=n.concat(L(i,c));break;case"O":n.pop(),(i=m(r,o,h[1],h[2])).push(i[0]),n=n.concat(i);break;case"U":n.pop(),n=n.concat(m(r,o,h[1],h[2],h[3])),u=["U"].concat(n[n.length-1].slice(-2));break;case"M":a=+h[1]+r,s=+h[2]+o;break;default:for(d=1,g=h.length;d<g;d++)u[d]=+h[d]+(d%2?r:o)}else if("R"===e)i=[r,o].concat(h.slice(1)),n.pop(),n=n.concat(L(i,c)),u=["R"].concat(h.slice(-2));else if("O"===e)n.pop(),(i=m(r,o,h[1],h[2])).push(i[0]),n=n.concat(i);else if("U"===e)n.pop(),n=n.concat(m(r,o,h[1],h[2],h[3])),u=["U"].concat(n[n.length-1].slice(-2));else for(var y=0,v=h.length;y<v;y++)u[y]=h[y];if("O"!==(e=e.toUpperCase()))switch(u[0]){case"Z":r=+a,o=+s;break;case"H":r=u[1];break;case"V":o=u[1];break;case"M":a=u[u.length-2],s=u[u.length-1];break;default:r=u[u.length-2],o=u[u.length-1]}}return n},E=function(t,e){function i(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(X.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":r="C"===i||"S"===i?(n=2*e.x-e.bx,2*e.y-e.by):(n=e.x,e.y),t=["C",n,r].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(b(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(b(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(x(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(x(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(x(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(x(e.x,e.y,e.X,e.Y))}return t}function n(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)u[e]="A",s&&(h[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),o=Math.max(a.length,s&&s.length||0)}}function r(t,e,i,n,r){t&&e&&"M"===t[r][0]&&"M"!==e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],o=Math.max(a.length,s&&s.length||0))}var o,a=k(t),s=e&&k(e),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],h=[],p="",f="";o=Math.max(a.length,s&&s.length||0);for(var d=0;d<o;d++){a[d]&&(p=a[d][0]),"C"!==p&&(u[d]=p,d&&(f=u[d-1])),a[d]=i(a[d],l,f),"A"!==u[d]&&"C"===p&&(u[d]="C"),n(a,d),s&&(s[d]&&(p=s[d][0]),"C"!==p&&(h[d]=p,d&&(f=h[d-1])),s[d]=i(s[d],c,f),"A"!==h[d]&&"C"===p&&(h[d]="C"),n(s,d)),r(a,s,l,c,d),r(s,a,c,l,d);var g=a[d],y=s&&s[d],v=g.length,m=s&&y.length;l.x=g[v-2],l.y=g[v-1],l.bx=parseFloat(g[v-4])||l.x,l.by=parseFloat(g[v-3])||l.y,c.bx=s&&(parseFloat(y[m-4])||c.x),c.by=s&&(parseFloat(y[m-3])||c.y),c.x=s&&y[m-2],c.y=s&&y[m-1]}return s?[a,s]:a},o=/,?([a-z]),?/gi,a=function(t){return t.join(",").replace(o,"$1")},s=function(t,e,i,n,r){if(r)return[["M",+t+ +r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]];return o.parsePathArray=a,o},h=function(t,e){return function(t,e,i){var n,r,o,a,s,l,c,u,h,p;t=E(t),e=E(e);for(var f=[],d=0,g=t.length;d<g;d++){var y=t[d];if("M"===y[0])n=s=y[1],r=l=y[2];else{r="C"===y[0]?(n=(h=[n,r].concat(y.slice(1)))[6],h[7]):(h=[n,r,n,r,s,l,s,l],n=s,l);for(var v=0,m=e.length;v<m;v++){var x=e[v];if("M"===x[0])o=c=x[1],a=u=x[2];else{a="C"===x[0]?(o=(p=[o,a].concat(x.slice(1)))[6],p[7]):(p=[o,a,o,a,c,u,c,u],o=c,u);for(var b=P(h,p,i),_=0,w=b.length;_<w;_++)b[_].segment1=d,b[_].segment2=v,b[_].bez1=h,b[_].bez2=p;f=f.concat(b)}}}}return f}(t,e)};function p(p,t,e){if(1===e)return[[].concat(p)];var i=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])i=i.concat(function(t,e){var i=[[p[1],p[2]]];e=e||2;var n,r,o,a,s=[];"A"===t[0]?(i.push(t[6]),i.push(t[7])):"C"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]]),i.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]])):i.push([t[1],t[2]]);for(var l=i,c=1/e,u=0;u<e-1;u++){var h=(r=c/(1-c*u),a=o=void 0,o=[],a=[],(n=l).length&&function t(e,i){if(1===e.length)o.push(e[0]),a.push(e[0]);else{for(var n=[],r=0;r<e.length-1;r++)0===r&&o.push(e[0]),r===e.length-2&&a.push(e[r+1]),n[r]=[(1-i)*e[r][0]+i*e[r+1][0],(1-i)*e[r][1]+i*e[r+1][1]];t(n,i)}}(n,r),{left:o,right:a.reverse()});s.push(h.left),l=h.right}return s.push(l),s.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])})}(t,e));else{var n=[].concat(p);"M"===n[0]&&(n[0]="L");for(var r=0;r<=e-1;r++)i.push(n)}return i}function v(t,i){if(t.length===i.length){var n=!0;return Object(w.each)(t,function(t,e){if(t!==i[e])return n=!1}),n}}var f=function(n,t){if(1===n.length)return n;var r=n.length-1,e=t.length-1,i=r/e,o=[];if(1===n.length&&"M"===n[0][0]){for(var a=0;a<e-r;a++)n.push(n[0]);return n}for(a=0;a<e;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var l=o.reduce(function(t,e,i){return i===r?t.concat(n[r]):t.concat(p(n[i],n[i+1],e))},[]);return l.unshift(n[0]),"Z"!==t[e]&&"z"!==t[e]||l.push("Z"),l};var D=function(t,e){var i=function(t,e){var i,n,r,o,a,s,l=t.length,c=e.length,u=0;if(0===l||0===c)return null;for(var h=[],p=0;p<=l;p++)h[p]=[],h[p][0]={min:p};for(var f=0;f<=c;f++)h[0][f]={min:f};for(p=1;p<=l;p++)for(i=t[p-1],f=1;f<=c;f++){n=e[f-1],u=v(i,n)?0:1;var d=h[p-1][f].min+1,g=h[p][f-1].min+1,y=h[p-1][f-1].min+u;h[p][f]=(s=a=void 0,a=null,(o=g)<(s=y)&&(s=o,a="add"),(r=d)<s&&(s=r,a="del"),{type:a,min:s})}return h}(t,e),n=t.length,r=e.length,o=[],a=1,s=1;if(i[n][r]!==n){for(var l=1;l<=n;l++){var c=i[l][l].min;s=l;for(var u=a;u<=r;u++)i[l][u].min<c&&(c=i[l][u].min,s=u);a=s,i[l][a].type&&o.push({index:l-1,type:i[l][a].type})}for(l=o.length-1;0<=l;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=r-(n=t.length);if(n<r)for(l=0;l<h;l++)"z"===t[n-1][0]||"Z"===t[n-1][0]?t.splice(n-2,0,t[n-2]):t.push(t[n-1]),n+=1;return t};function d(t,e,i){for(var n,r=[].concat(t),o=1/(i+1),a=g(e)[0],s=1;s<=i;s++)o*=s,0===(n=Math.floor(t.length*o))?r.unshift([a[0]*o+t[n][0]*(1-o),a[1]*o+t[n][1]*(1-o)]):r.splice(n,0,[a[0]*o+t[n][0]*(1-o),a[1]*o+t[n][1]*(1-o)]);return r}function g(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var B=function(t,e){if(t.length<=1)return t;for(var i,n=0;n<e.length;n++)if(t[n][0]!==e[n][0])switch(i=g(t[n]),e[n][0]){case"M":t[n]=["M"].concat(i[0]);break;case"L":t[n]=["L"].concat(i[0]);break;case"A":t[n]=[].concat(e[n]),t[n][6]=i[0][0],t[n][7]=i[0][1];break;case"Q":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=d(i,t[n-1],1)}t[n]=["Q"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[n]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(0<n)){t[n]=e[n];break}i=d(i,t[n-1],2)}t[n]=["C"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=d(i,t[n-1],1)}t[n]=["S"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;default:t[n]=e[n]}return t},y=($.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},$.prototype.stopPropagation=function(){this.propagationStopped=!0},$.prototype.toString=function(){return"[Event (type="+this.type+")]"},$.prototype.save=function(){},$.prototype.restore=function(){},$),F=i(1),I=i(24),R=(i(31),i(37)),N=i.n(R),Y=i(23),G=i.n(Y),z=i(50),V=i.n(z),H=(i(17),i(70)),W=i.n(H),q=i(25),U=i.n(q),Z=i(71),K=i.n(Z);function $(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}function Q(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}var J,tt="undefined"!=typeof window&&void 0!==window.document,et=(J=I.default,Object(F.__extends)(nt,J),nt.prototype.getDefaultCfg=function(){return{}},nt.prototype.get=function(t){return this.cfg[t]},nt.prototype.set=function(t,e){this.cfg[t]=e},nt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},nt),it=i(2);function nt(t){var e=J.call(this)||this;e.destroyed=!1;var i=e.getDefaultCfg();return e.cfg=W()(i,t),e}function rt(t,e){var i=[],n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=e[0],f=e[1],d=e[2],g=e[3],y=e[4],v=e[5],m=e[6],x=e[7],b=e[8];return i[0]=p*n+f*a+d*c,i[1]=p*r+f*s+d*u,i[2]=p*o+f*l+d*h,i[3]=g*n+y*a+v*c,i[4]=g*r+y*s+v*u,i[5]=g*o+y*l+v*h,i[6]=m*n+x*a+b*c,i[7]=m*r+x*s+b*u,i[8]=m*o+x*l+b*h,i}function ot(t,e){var i=[],n=e[0],r=e[1];return i[0]=t[0]*n+t[3]*r+t[6],i[1]=t[1]*n+t[4]*r+t[7],i}var at=["zIndex","capture","visible","type"],st=["repeat"];var lt,ct=(lt=et,Object(F.__extends)(ht,lt),ht.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},ht.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},ht.prototype.onCanvasChange=function(t){},ht.prototype.initAttrs=function(t){},ht.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},ht.prototype.isGroup=function(){return!1},ht.prototype.getParent=function(){return this.get("parent")},ht.prototype.getCanvas=function(){return this.get("canvas")},ht.prototype.attr=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e[0],r=e[1];if(!n)return this.attrs;if(Object(w.isObject)(n)){for(var o in n)this.setAttr(o,n[o]);return this.afterAttrsChange(n),this}return 2===e.length?(this.setAttr(n,r),this.afterAttrsChange(((t={})[n]=r,t)),this):this.attrs[n]},ht.prototype.isClipped=function(t,e){var i=this.getClip();return i&&!i.isHit(t,e)},ht.prototype.setAttr=function(t,e){var i=this.attrs[t];i!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,i))},ht.prototype.onAttrChange=function(t,e,i){"matrix"===t&&this.set("totalMatrix",null)},ht.prototype.afterAttrsChange=function(t){this.onCanvasChange("attr")},ht.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},ht.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},ht.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},ht.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),i=(this.get("el"),e.indexOf(this));e.splice(i,1),e.push(this),this.onCanvasChange("zIndex")}},ht.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),i=(this.get("el"),e.indexOf(this));e.splice(i,1),e.unshift(this),this.onCanvasChange("zIndex")}},ht.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Q(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},ht.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},ht.prototype.getMatrix=function(){return this.attr("matrix")},ht.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},ht.prototype.getTotalMatrix=function(){var t=this.get("totalMatrix");if(!t){var e=this.attr("matrix"),i=this.get("parentMatrix");t=i&&e?rt(i,e):e||i,this.set("totalMatrix",t)}return t},ht.prototype.applyMatrix=function(t){var e,i=this.attr("matrix");e=t&&i?rt(t,i):i||t,this.set("totalMatrix",e),this.set("parentMatrix",t)},ht.prototype.getDefaultMatrix=function(){return null},ht.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?ot(e,t):t},ht.prototype.invertFromMatrix=function(t){var e,i,n,r,o,a,s,l,c,u,h,p,f,d,g=this.attr("matrix");return g?ot((e=[],i=g[0],n=g[1],r=g[2],o=g[3],a=g[4],s=g[5],l=g[6],c=g[7],(d=i*(h=(u=g[8])*a-s*c)+n*(p=-u*o+s*l)+r*(f=c*o-a*l))?(d=1/d,e[0]=h*d,e[1]=(-u*n+r*c)*d,e[2]=(s*n-r*a)*d,e[3]=p*d,e[4]=(u*i-r*l)*d,e[5]=(-s*i+r*o)*d,e[6]=f*d,e[7]=(-c*i+n*l)*d,e[8]=(a*i-n*o)*d,e):null),t):t},ht.prototype.setClip=function(t){var e=this.getCanvas(),i=null;if(t){var n=this.getShapeBase()[Object(w.upperFirst)(t.type)];n&&(i=new n({type:t.type,isClipShape:!0,attrs:t.attrs,canvas:e}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},ht.prototype.getClip=function(){return this.get("clipShape")||null},ht.prototype.clone=function(){var e=this,i=this.attrs,n={};Object(w.each)(i,function(t,e){Object(w.isArray)(i[e])?n[e]=function(t){for(var e=[],i=0;i<t.length;i++)Object(w.isArray)(t[i])?e.push([].concat(t[i])):e.push(t[i]);return e}(i[e]):n[e]=i[e]});var r=new this.constructor({attrs:n});return Object(w.each)(at,function(t){r.set(t,e.get(t))}),r},ht.prototype.destroy=function(){this.destroyed||(this.attrs={},lt.prototype.destroy.call(this))},ht.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},ht.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var n=this.get("animations")||[];i.timer||i.initTimer();var r,o,a,s,l,c=t[0],u=t[1],h=t[2],p=void 0===h?"easeLinear":h,f=t[3],d=void 0===f?w.noop:f,g=t[4],y=void 0===g?0:g;Object(w.isFunction)(c)?(r=c,c={}):Object(w.isObject)(c)&&c.onFrame&&(r=c.onFrame,o=c.repeat),Object(w.isObject)(u)?(u=(l=u).duration,p=l.easing||"easeLinear",y=l.delay||0,o=l.repeat||o||!1,d=l.callback||w.noop,a=l.pauseCallback||w.noop,s=l.resumeCallback||w.noop):(Object(w.isNumber)(d)&&(y=d,d=null),p=Object(w.isFunction)(p)?(d=p,"easeLinear"):p||"easeLinear");var v,m,x,b=(v=c,m={},x=this.attr(),Object(w.each)(v,function(t,e){-1!==st.indexOf(e)||Object(w.isEqual)(x[e],t)||(m[e]=t)}),m),_={fromAttrs:function(t,e){var i={},n=e.attrs;for(var r in t)i[r]=n[r];return i}(b,this),toAttrs:b,duration:u,easing:p,repeat:o,callback:d,pauseCallback:a,resumeCallback:s,delay:y,startTime:i.getTime(),id:Object(w.uniqueId)(),onFrame:r,pathFormatted:!1};0<n.length?n=function(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(w.each)(t,function(i){n+r<i.startTime+i.delay+i.duration&&o>i.delay&&Object(w.each)(e.toAttrs,function(t,e){a.call(i.toAttrs,e)&&(delete i.toAttrs[e],delete i.fromAttrs[e])})}),t}(n,_):i.addAnimator(this),n.push(_),this.set("animations",n),this.set("_pause",{isPaused:!1})},ht.prototype.stopAnimate=function(e){var i=this;void 0===e&&(e=!0);var t=this.get("animations");Object(w.each)(t,function(t){e&&(t.onFrame?i.attr(t.onFrame(1)):i.attr(t.toAttrs)),t.callback&&t.callback()}),this.set("animating",!1),this.set("animations",[])},ht.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations");return Object(w.each)(e,function(t){t.pauseCallback&&t.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:t.getTime()}),this},ht.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),i=this.get("_pause").pauseTime;return Object(w.each)(t,function(t){t.startTime=t.startTime+(e-i),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},ht.prototype.emitDelegation=function(t,e){for(var i=e.propagationPath,n=this.getEvents(),r=0;r<i.length;r++){var o=i[r],a=o.get("name");if(a){var s=a+":"+t;(n[s]||n["*"])&&(e.name=s,e.currentTarget=o,e.delegateTarget=this,e.delegateObject=o.get("delegateObject"),this.emit(s,e))}}},ht.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.getMatrix(),n=Object(it.transform)(i,[["t",t,e]]);return this.setMatrix(n),this},ht.prototype.move=function(t,e){var i=this.attr("x")||0,n=this.attr("y")||0;return this.translate(t-i,e-n),this},ht.prototype.moveTo=function(t,e){return this.move(t,e)},ht.prototype.scale=function(t,e){var i=this.getMatrix(),n=Object(it.transform)(i,[["s",t,e||t]]);return this.setMatrix(n),this},ht.prototype.rotate=function(t){var e=this.getMatrix(),i=Object(it.transform)(e,[["r",t]]);return this.setMatrix(i),this},ht.prototype.rotateAtStart=function(t){var e=this.attr(),i=e.x,n=e.y,r=this.getMatrix(),o=Object(it.transform)(r,[["t",-i,-n],["r",t],["t",i,n]]);return this.setMatrix(o),this},ht.prototype.rotateAtPoint=function(t,e,i){var n=this.getMatrix(),r=Object(it.transform)(n,[["t",-t,-e],["r",i],["t",t,e]]);return this.setMatrix(r),this},ht),ut={};function ht(t){var e=lt.call(this,t)||this;e.attrs={};var i=e.getDefaultAttrs();return Object(w.mix)(i,t.attrs),e.attrs=i,e.initAttrs(i),e.initAnimate(),e}function pt(t){return t.get("visible")&&t.get("capture")}var ft,dt=(ft=ct,Object(F.__extends)(gt,ft),gt.prototype.isCanvas=function(){return!1},gt.prototype.getBBox=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,r=[],o=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)});return n=0<a.length?(U()(a,function(t){var e=t.getBBox();r.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,r),e=Math.max.apply(null,r),i=Math.min.apply(null,o),Math.max.apply(null,o)):i=e=t=0,{x:t,y:i,minX:t,minY:i,maxX:e,maxY:n,width:e-t,height:n-i}},gt.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,r=[],o=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)});return n=0<a.length?(U()(a,function(t){var e=t.getCanvasBBox();r.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,r),e=Math.max.apply(null,r),i=Math.min.apply(null,o),Math.max.apply(null,o)):i=e=t=0,{x:t,y:i,minX:t,minY:i,maxX:e,maxY:n,width:e-t,height:n-i}},gt.prototype.getDefaultCfg=function(){var t=ft.prototype.getDefaultCfg.call(this);return t.children=[],t},gt.prototype.onAttrChange=function(t,e,i){if(ft.prototype.onAttrChange.call(this,t,e,i),"matrix"===t){var n=this.getTotalMatrix();this._applyChildrenMarix(n)}},gt.prototype.applyMatrix=function(t){var e=this.getTotalMatrix();ft.prototype.applyMatrix.call(this,t);var i=this.getTotalMatrix();i!==e&&this._applyChildrenMarix(i)},gt.prototype._applyChildrenMarix=function(e){var t=this.getChildren();U()(t,function(t){t.applyMatrix(e)})},gt.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],n=t[1];V()(i)?n=i:n.type=i;var r=ut[n.type];r||(r=K()(n.type),ut[n.type]=r);var o=new(this.getShapeBase()[r])(n);return this.add(o),o},gt.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i,n=t[0],r=t[1];if(N()(n))i=new n(r||{parent:this});else{var o=n||{};i=new(this.getGroupBase())(o)}return this.add(i),i},gt.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},gt.prototype.getShape=function(t,e,i){if(!pt(this))return null;var n,r=this.getChildren();if(this.isCanvas())n=this._findShape(r,t,e,i);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(n=this._findShape(r,o[0],o[1],i))}return n},gt.prototype._findShape=function(t,e,i,n){for(var r=null,o=t.length-1;0<=o;o--){var a=t[o];if(pt(a)&&(a.isGroup()?r=a.getShape(e,i,n):a.isHit(e,i)&&(r=a)),r)break}return r},gt.prototype.add=function(t){var e,i,n,r=this.getCanvas(),o=this.getChildren(),a=this.get("timeline"),s=t.getParent();s&&(i=s,n=t,!1?n.destroy():(n.set("parent",null),n.set("canvas",null)),Q(i.getChildren(),n)),t.set("parent",this),r&&function e(t,i){if(t.set("canvas",i),t.isGroup()){var n=t.get("children");n.length&&n.forEach(function(t){e(t,i)})}}(t,r),a&&function e(t,i){if(t.set("timeline",i),t.isGroup()){var n=t.get("children");n.length&&n.forEach(function(t){e(t,i)})}}(t,a),o.push(t),(e=t).isGroup()&&!e.isEntityGroup()&&!e.get("children").length||e.onCanvasChange("add"),this._applyElementMatrix(t)},gt.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},gt.prototype.getChildren=function(){return this.get("children")},gt.prototype.sort=function(){var n,t=this.getChildren();U()(t,function(t,e){return t._INDEX=e,t}),t.sort((n=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(t,e){var i=n(t,e);return 0===i?t._INDEX-e._INDEX:i})),this.onCanvasChange("sort")},gt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;0<=e;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},gt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),ft.prototype.destroy.call(this))},gt.prototype.getFirst=function(){return this.getChildByIndex(0)},gt.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},gt.prototype.getChildByIndex=function(t){return this.getChildren()[t]},gt.prototype.getCount=function(){return this.getChildren().length},gt.prototype.contain=function(t){return-1<this.getChildren().indexOf(t)},gt.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},gt.prototype.findAll=function(e){var i=[],t=this.getChildren();return U()(t,function(t){e(t)&&i.push(t),t.isGroup()&&(i=i.concat(t.findAll(e)))}),i},gt.prototype.find=function(e){var i=null,t=this.getChildren();return U()(t,function(t){if(e(t)?i=t:t.isGroup()&&(i=t.find(e)),i)return!1}),i},gt.prototype.findById=function(e){return this.find(function(t){return t.get("id")===e})},gt.prototype.findByClassName=function(e){return this.find(function(t){return t.get("className")===e})},gt.prototype.findAllByName=function(e){return this.findAll(function(t){return t.get("name")===e})},gt);function gt(){return null!==ft&&ft.apply(this,arguments)||this}function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var vt,mt,xt=0,bt=0,_t=0,wt=0,Ot=0,Mt=0,Ct="object"===("undefined"==typeof performance?"undefined":yt(performance))&&performance.now?performance:Date,St="object"===("undefined"==typeof window?"undefined":yt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jt(){return Ot||(St(At),Ot=Ct.now()+Mt)}function At(){Ot=0}function Pt(){this._call=this._time=this._next=null}function Tt(t,e,i){var n=new Pt;return n.restart(t,e,i),n}function Lt(){Ot=(wt=Ct.now())+Mt,xt=bt=0;try{!function(){jt(),++xt;for(var t,e=vt;e;)0<=(t=Ot-e._time)&&e._call.call(null,t),e=e._next;--xt}()}finally{xt=0,function(){for(var t,e,i=vt,n=1/0;i;)i=i._call?(n>i._time&&(n=i._time),(t=i)._next):(e=i._next,i._next=null,t?t._next=e:vt=e);mt=t,Et(n)}(),Ot=0}}function kt(){var t=Ct.now(),e=t-wt;1e3<e&&(Mt-=e,wt=t)}function Et(t){xt||(bt=bt&&clearTimeout(bt),24<t-Ot?(t<1/0&&(bt=setTimeout(Lt,t-Ct.now()-Mt)),_t=_t&&clearInterval(_t)):(_t||(wt=Ct.now(),_t=setInterval(kt,1e3)),xt=1,St(Lt)))}function Dt(t){return+t}function Bt(t){return t*t}function Ft(t){return t*(2-t)}function It(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Rt(t){return t*t*t}function Nt(t){return--t*t*t+1}function Yt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Pt.prototype=Tt.prototype={constructor:Pt,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?jt():+i)+(null==e?0:+e),this._next||mt===this||(mt?mt._next=this:vt=this,mt=this),this._call=t,this._time=i,Et()},stop:function(){this._call&&(this._call=null,this._time=1/0,Et())}};var Gt=function t(e){function i(t){return Math.pow(t,e)}return e=+e,i.exponent=t,i}(3),zt=function t(e){function i(t){return 1-Math.pow(1-t,e)}return e=+e,i.exponent=t,i}(3),Xt=function t(e){function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,i.exponent=t,i}(3),Vt=Math.PI,Ht=Vt/2;function Wt(t){return 1-Math.cos(t*Ht)}function qt(t){return Math.sin(t*Ht)}function Ut(t){return(1-Math.cos(Vt*t))/2}function Zt(t){return Math.pow(2,10*t-10)}function Kt(t){return 1-Math.pow(2,-10*t)}function $t(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Qt(t){return 1-Math.sqrt(1-t*t)}function Jt(t){return Math.sqrt(1- --t*t)}function te(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ee=7.5625;function ie(t){return 1-ne(1-t)}function ne(t){return(t=+t)<4/11?ee*t*t:t<8/11?ee*(t-=6/11)*t+.75:t<10/11?ee*(t-=9/11)*t+.9375:ee*(t-=21/22)*t+63/64}function re(t){return((t*=2)<=1?1-ne(1-t):ne(t-1)+1)/2}function oe(t,e,i){t.prototype=e.prototype=i,i.constructor=t}var ae=function t(e){function i(t){return t*t*((e+1)*t-e)}return e=+e,i.overshoot=t,i}(1.70158),se=function t(e){function i(t){return--t*t*((e+1)*t+e)+1}return e=+e,i.overshoot=t,i}(1.70158),le=function t(e){function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,i.overshoot=t,i}(1.70158),ce=2*Math.PI,ue=function e(i,n){var r=Math.asin(1/(i=Math.max(1,i)))*(n/=ce);function t(t){return i*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return t.amplitude=function(t){return e(t,n*ce)},t.period=function(t){return e(i,t)},t}(1,.3),he=function e(i,n){var r=Math.asin(1/(i=Math.max(1,i)))*(n/=ce);function t(t){return 1-i*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return t.amplitude=function(t){return e(t,n*ce)},t.period=function(t){return e(i,t)},t}(1,.3),pe=function e(i,n){var r=Math.asin(1/(i=Math.max(1,i)))*(n/=ce);function t(t){return((t=2*t-1)<0?i*Math.pow(2,10*t)*Math.sin((r-t)/n):2-i*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return t.amplitude=function(t){return e(t,n*ce)},t.period=function(t){return e(i,t)},t}(1,.3);function fe(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function de(){}var ge="\\s*([+-]?\\d+)\\s*",ye="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ve="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",me=/^#([0-9a-f]{3,8})$/,xe=new RegExp("^rgb\\("+[ge,ge,ge]+"\\)$"),be=new RegExp("^rgb\\("+[ve,ve,ve]+"\\)$"),_e=new RegExp("^rgba\\("+[ge,ge,ge,ye]+"\\)$"),we=new RegExp("^rgba\\("+[ve,ve,ve,ye]+"\\)$"),Oe=new RegExp("^hsl\\("+[ye,ve,ve]+"\\)$"),Me=new RegExp("^hsla\\("+[ye,ve,ve,ye]+"\\)$"),Ce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Se(){return this.rgb().formatHex()}function je(){return this.rgb().formatRgb()}function Ae(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=me.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?Pe(e):3===i?new ke(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?new ke(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?new ke(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=xe.exec(t))?new ke(e[1],e[2],e[3],1):(e=be.exec(t))?new ke(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=_e.exec(t))?Te(e[1],e[2],e[3],e[4]):(e=we.exec(t))?Te(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Oe.exec(t))?Fe(e[1],e[2]/100,e[3]/100,1):(e=Me.exec(t))?Fe(e[1],e[2]/100,e[3]/100,e[4]):Ce.hasOwnProperty(t)?Pe(Ce[t]):"transparent"===t?new ke(NaN,NaN,NaN,0):null}function Pe(t){return new ke(t>>16&255,t>>8&255,255&t,1)}function Te(t,e,i,n){return n<=0&&(t=e=i=NaN),new ke(t,e,i,n)}function Le(t,e,i,n){return 1===arguments.length?((r=t)instanceof de||(r=Ae(r)),r?new ke((r=r.rgb()).r,r.g,r.b,r.opacity):new ke):new ke(t,e,i,null==n?1:n);var r}function ke(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function Ee(){return"#"+Be(this.r)+Be(this.g)+Be(this.b)}function De(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Be(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Fe(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||1<=i?t=e=NaN:e<=0&&(t=NaN),new Re(t,e,i,n)}function Ie(t){if(t instanceof Re)return new Re(t.h,t.s,t.l,t.opacity);if(t instanceof de||(t=Ae(t)),!t)return new Re;if(t instanceof Re)return t;var e=(t=t.rgb()).r/255,i=t.g/255,n=t.b/255,r=Math.min(e,i,n),o=Math.max(e,i,n),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(i-n)/s+6*(i<n):i===o?(n-e)/s+2:(e-i)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=0<l&&l<1?0:a,new Re(a,s,l,t.opacity)}function Re(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function Ne(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}oe(de,Ae,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Se,formatHex:Se,formatHsl:function(){return Ie(this).formatHsl()},formatRgb:je,toString:je}),oe(ke,Le,fe(de,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ee,formatHex:Ee,formatRgb:De,toString:De})),oe(Re,function(t,e,i,n){return 1===arguments.length?Ie(t):new Re(t,e,i,null==n?1:n)},fe(de,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Re(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Re(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new ke(Ne(240<=t?t-240:120+t,r,n),Ne(t,r,n),Ne(t<120?240+t:t-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ye=function(t){return function(){return t}};function Ge(o){return 1==(o=+o)?ze:function(t,e){return e-t?(i=t,n=e,r=o,i=Math.pow(i,r),n=Math.pow(n,r)-i,r=1/r,function(t){return Math.pow(i+t*n,r)}):Ye(isNaN(t)?e:t);var i,n,r}}function ze(t,e){var i,n,r=e-t;return r?(i=t,n=r,function(t){return i+t*n}):Ye(isNaN(t)?e:t)}var Xe=function t(e){var a=Ge(e);function i(e,t){var i=a((e=Le(e)).r,(t=Le(t)).r),n=a(e.g,t.g),r=a(e.b,t.b),o=ze(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=n(t),e.b=r(t),e.opacity=o(t),e+""}}return i.gamma=t,i}(1);var Ve=function(e,i){i=i||[];var n,r=e?Math.min(i.length,e.length):0,o=i.slice();return function(t){for(n=0;n<r;++n)o[n]=e[n]*(1-t)+i[n]*t;return o}};function He(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function We(t,e){var i,n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),a=new Array(n);for(i=0;i<r;++i)o[i]=Je(t[i],e[i]);for(;i<n;++i)a[i]=e[i];return function(t){for(i=0;i<r;++i)a[i]=o[i](t);return a}}function qe(e,i){return e=+e,i=+i,function(t){return e*(1-t)+i*t}}function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,n){var e,i,r,o,a,s=Ke.lastIndex=$e.lastIndex=0,l=-1,c=[],u=[];for(t+="",n+="";(e=Ke.exec(t))&&(i=$e.exec(n));)(r=i.index)>s&&(r=n.slice(s,r),c[l]?c[l]+=r:c[++l]=r),(e=e[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,u.push({i:l,x:qe(e,i)})),s=$e.lastIndex;return s<n.length&&(r=n.slice(s),c[l]?c[l]+=r:c[++l]=r),c.length<2?u[0]?(a=u[0].x,function(t){return a(t)+""}):(o=n,function(){return o}):(n=u.length,function(t){for(var e,i=0;i<n;++i)c[(e=u[i]).i]=e.x(t);return c.join("")})}var Ke=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$e=new RegExp(Ke.source,"g");function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Je=function(t,e){var i,n=Qe(e);return null==e||"boolean"===n?Ye(e):("number"===n?qe:"string"===n?(i=Ae(e))?(e=i,Xe):Ze:e instanceof Ae?Xe:e instanceof Date?function(e,i){var n=new Date;return e=+e,i=+i,function(t){return n.setTime(e*(1-t)+i*t),n}}:He(e)?Ve:Array.isArray(e)?We:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var i,n={},r={};for(i in null!==t&&"object"===Ue(t)||(t={}),null!==e&&"object"===Ue(e)||(e={}),e)i in t?n[i]=Je(t[i],e[i]):r[i]=e[i];return function(t){for(i in n)r[i]=n[i](t);return r}}:qe)(t,e)},ti=[1,0,0,0,1,0,0,0,1];function ei(t,e,i){var n,r=e.startTime;if(!(i<r+e.delay||e._paused)){var o=e.duration,a=e.easing;if(i=i-r-e.delay,e.repeat)n=i%o/o,n=l[a](n);else{if(!((n=i/o)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),1;n=l[a](n)}if(e.onFrame){var s=e.onFrame(n);t.attr(s)}else!function(t,e,i){var n={},r=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,s,l,c;for(var u in o)if(!Object(w.isEqual)(r[u],o[u]))if("path"===u){var h=o[u],p=r[u];h.length>p.length?(h=T(o[u]),p=T(r[u]),p=D(p,h),p=B(p,h),e.fromAttrs.path=p,e.toAttrs.path=h):e.pathFormatted||(h=T(o[u]),p=T(r[u]),p=B(p,h),e.fromAttrs.path=p,e.toAttrs.path=h,e.pathFormatted=!0),n[u]=[];for(var f=0;f<h.length;f++){for(var d=h[f],g=p[f],y=[],v=0;v<d.length;v++)Object(w.isNumber)(d[v])&&g&&Object(w.isNumber)(g[v])?(a=Je(g[v],d[v]),y.push(a(i))):y.push(d[v]);n[u].push(y)}}else if("matrix"===u){var m=(l=r[u]||ti,(He(c=o[u]||ti)?Ve:We)(l,c)(i));n[u]=m}else["fill","stroke","fillStyle","strokeStyle"].includes(u)&&(s=o[u],/^[r,R,L,l]{1}[\s]*\(/.test(s))?n[u]=o[u]:Object(w.isFunction)(o[u])||(a=Je(r[u],o[u]),n[u]=a(i));t.attr(n)}}(t,e,n)}}var ii,ni,ri,oi=(fi.prototype.initTimer=function(){var n,r,o,a=this;this.timer=Tt(function(t){if(a.current=t,0<a.animators.length){for(var e=a.animators.length-1;0<=e;e--)if((n=a.animators[e]).destroyed)a.removeAnimator(e);else{if(!n.isAnimatePaused())for(var i=(r=n.get("animations")).length-1;0<=i;i--)o=r[i],ei(n,o,t)&&(r.splice(i,1),o.callback&&o.callback());0===r.length&&a.removeAnimator(e)}a.canvas.get("autoDraw")||a.canvas.draw()}})},fi.prototype.addAnimator=function(t){this.animators.push(t)},fi.prototype.removeAnimator=function(t){this.animators.splice(t,1)},fi.prototype.isAnimating=function(){return!!this.animators.length},fi.prototype.stop=function(){this.timer&&this.timer.stop()},fi.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},fi.prototype.getTime=function(){return this.current},fi),ai=(ri=dt,Object(F.__extends)(pi,ri),pi.prototype.getDefaultCfg=function(){var t=ri.prototype.getDefaultCfg.call(this);return t.cursor="default",t},pi.prototype.initContainer=function(){var t=this.get("container");G()(t)&&(t=document.getElementById(t),this.set("container",t))},pi.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},pi.prototype.initEvents=function(){},pi.prototype.initTimeline=function(){var t=new oi(this);this.set("timeline",t)},pi.prototype.setDOMSize=function(t,e){var i=this.get("el");tt&&(i.style.width=t+"px",i.style.height=e+"px")},pi.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},pi.prototype.getRenderer=function(){return this.get("renderer")},pi.prototype.getCursor=function(){return this.get("cursor")},pi.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");tt&&e&&(e.style.cursor=t)},pi.prototype.getPointByClient=function(t,e){var i=this.get("el").getBoundingClientRect();return{x:t-i.left,y:e-i.top}},pi.prototype.getClientByPoint=function(t,e){var i=this.get("el").getBoundingClientRect();return{x:t+i.left,y:e+i.top}},pi.prototype.draw=function(){},pi.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},pi.prototype.clearEvents=function(){},pi.prototype.isCanvas=function(){return!0},pi.prototype.getParent=function(){return null},pi.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),ri.prototype.destroy.call(this))},pi),si=(ni=dt,Object(F.__extends)(hi,ni),hi.prototype.isGroup=function(){return!0},hi.prototype.isEntityGroup=function(){return!1},hi.prototype.clone=function(){for(var t=ni.prototype.clone.call(this),e=this.getChildren(),i=0;i<e.length;i++){var n=e[i];t.add(n.clone())}return t},hi),li=(ii=ct,Object(F.__extends)(ui,ii),ui.prototype._isInBBox=function(t,e){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=e&&i.maxY>=e},ui.prototype.afterAttrsChange=function(t){ii.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},ui.prototype.getBBox=function(){var t=this.get("bbox");return t||(t=this.calculateBBox(),this.set("bbox",t)),t},ui.prototype.getCanvasBBox=function(){var t=this.get("canvasBox");return t||(t=this.calculateCanvasBBox(),this.set("canvasBox",t)),t},ui.prototype.applyMatrix=function(t){ii.prototype.applyMatrix.call(this,t),this.set("canvasBox",null)},ui.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),i=t.minX,n=t.minY,r=t.maxX,o=t.maxY;if(e){var a=ot(e,[t.minX,t.minY]),s=ot(e,[t.maxX,t.minY]),l=ot(e,[t.minX,t.maxY]),c=ot(e,[t.maxX,t.maxY]);i=Math.min(a[0],s[0],l[0],c[0]),r=Math.max(a[0],s[0],l[0],c[0]),n=Math.min(a[1],s[1],l[1],c[1]),o=Math.max(a[1],s[1],l[1],c[1])}var u=this.attrs;if(u.shadowColor){var h=u.shadowBlur,p=void 0===h?0:h,f=u.shadowOffsetX,d=void 0===f?0:f,g=u.shadowOffsetY,y=void 0===g?0:g,v=i-p+d,m=r+p+d,x=n-p+y,b=o+p+y;i=Math.min(i,v),r=Math.max(r,m),n=Math.min(n,x),o=Math.max(o,b)}return{x:i,y:n,minX:i,minY:n,maxX:r,maxY:o,width:r-i,height:o-n}},ui.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},ui.prototype.isClipShape=function(){return this.get("isClipShape")},ui.prototype.isInShape=function(t,e){return!1},ui.prototype.isOnlyHitBox=function(){return!1},ui.prototype.isHit=function(t,e){var i=this.get("startArrowShape"),n=this.get("endArrowShape"),r=[t,e,1],o=(r=this.invertFromMatrix(r))[0],a=r[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(i&&i.isHit(o,a))return!0;if(n&&n.isHit(o,a))return!0}return!1},ui),ci=i(150).version;function ui(t){return ii.call(this,t)||this}function hi(){return null!==ni&&ni.apply(this,arguments)||this}function pi(t){var e=ri.call(this,t)||this;return e.initContainer(),e.initDom(),e.initEvents(),e.initTimeline(),e}function fi(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(6);e.IElement=r.IElement,e.ICanvas=r.ICanvas,e.IGroup=r.IGroup,e.IShape=r.IShape,e.BBox=r.BBox;var o=i(95);e.Canvas=o.Canvas;var a=i(96);e.SVG=a.Canvas;var s=i(29);e.View=s.View,e.registerAnimation=s.registerAnimation,e.registerGeometry=s.registerGeometry,e.Geometry=s.Geometry,e.Interaction=s.Interaction,e.registerInteraction=s.registerInteraction,e.registerShape=s.registerShape,e.getTheme=s.getTheme,e.Util=s.Util,e.getShapeFactory=s.getShapeFactory;var l=i(101);e.VIEW_LIFE_CIRCLE=l.VIEW_LIFE_CIRCLE;var c=i(102);e.MarkerSymbols=c.MarkerSymbols;var u=i(179);e.Datum=u.Datum,e.Data=u.Data,e.LooseObject=u.LooseObject,e.Options=u.Options,e.Point=u.Point,e.ShapeInfo=u.ShapeInfo,e.AttributeOption=u.AttributeOption,e.AdjustOption=u.AdjustOption,e.LabelOption=u.LabelOption,e.MappingDatum=u.MappingDatum;var h=i(53);e.DEFAULT_ANIMATE_CFG=h.DEFAULT_ANIMATE_CFG,e.getDefaultAnimateCfg=h.getDefaultAnimateCfg,e.doAnimate=h.doAnimate;var p=i(181);e.Element=p.default;var f=n.__importDefault(i(184));e.HtmlTooltip=f.default;var d=n.__importDefault(i(104));e.HtmlTooltipTheme=d.default;var g=n.__importDefault(i(26));e.TooltipCssConst=g.default;var y=i(16);e.Axis=y.Axis,e.Legend=y.Legend,e.Tooltip=y.Tooltip,e.Slider=y.Slider,e.Scrollbar=y.Scrollbar;var v=i(189);e.TooltipCfg=v.TooltipCfg;var m=i(40);e.Coordinate=m.Coordinate},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.EVENT_MAP={onViewClick:"click",onViewDblClick:"dblclick",onViewMousemove:"mousemove",onViewMousedown:"mousedown",onViewMouseup:"mouseup",onViewMouseenter:"mouseenter",onViewMouseleave:"mouseleave",onViewContextmenu:"contextmenu",onAxisClick:"axis-label:click",onAxisDblClick:"axis-label:dblclick",onAxisMousemove:"axis-label:mousemove",onAxisMousedown:"axis-label:mousedown",onAxisMouseup:"axis-label:mouseup",onAxisMouseenter:"axis-label:mouseenter",onAxisMouseleave:"axis-label:mouseleave",onAxisContextmenu:"axis-label:contextmenu",onLabelClick:"label:click",onLabelDblClick:"label:dblclick",onLabelMousemove:"label:mousemove",onLabelMouseup:"label:mouseup",onLabelMousedown:"label:mousedown",onLabelMouseenter:"label:mouseenter",onLabelMouseleave:"label:mouseleave",onLabelContextmenu:"label:contextmenu",onLegendClick:"legend-item:click",onLegendDblClick:"legend-item:dblclick",onLegendMouseMove:"legend-item:mousemove",onLegendMouseDown:"legend-item:mousedown",onLegendMouseUp:"legend-item:mouseup",onLegendMouseLeave:"legend-item:mouseleave",onLegendMouseEnter:"legend-item:mouseenter",onLegendContextmenu:"legend-item:contextmenu"},e.CANVAS_EVENT_MAP={onPlotClick:"click",onPlotDblClick:"dblclick",onPlotMousemove:"mousemove",onPlotMousedown:"mousedown",onPlotMouseup:"mouseup",onPlotMouseenter:"mouseenter",onPlotMouseleave:"mouseleave",onPlotContextmenu:"contextmenu",onTitleClick:"title:click",onTitleDblClick:"title:dblclick",onTitleMousemove:"title:mousemove",onTitleMousedown:"title:mousedown",onTitleMouseup:"title:mouseup",onTitleMouseenter:"title:mouseenter",onTitleMouseleave:"title:mouseleave",onTitleContextmenu:"title:contextmenu",onDescriptionClick:"description:click",onDescriptionDblClick:"description:dblclick",onDescriptionMousemove:"description:mousemove",onDescriptionMousedown:"description:mousedown",onDescriptionMouseup:"description:mouseup",onDescriptionMouseenter:"description:mouseenter",onDescriptionMouseleave:"description:mouseleave",onDescriptionContextmenu:"description:contextmenu",onBreadcrumbClick:"breadcrumb:click",onBreadcrumbDblClick:"breadcrumb:dblclick",onBreadcrumbMousemove:"breadcrumb:mousemove",onBreadcrumbMousedown:"breadcrumb:mousedown",onBreadcrumbMouseup:"breadcrumb:mouseup",onBreadcrumbMouseenter:"breadcrumb:mouseenter",onBreadcrumbMouseleave:"breadcrumb:mouseleave",onBreadcrumbContextmenu:"breadcrumb:contextmenu"},e.LAYER_EVENT_MAP={onLayerClick:"click",onLayerDblClick:"dblclick",onLayerMousemove:"mousemove",onLayerMousedown:"mousedown",onLayerMouseup:"mouseup",onLayerMouseenter:"mouseenter",onLayerMouseleave:"mouseleave",onLayerContextmenu:"contextmenu"},e.onEvent=function(t,e,i){t.view.on(e,i)};var s=["Click","Dblclick","Mousemove","Mouseenter","Mouseleave","Mousedown","Mouseup","Contextmenu"];e.getEventMap=function(t){var a={};return n.each(t,function(t,e){var r="on"+e,o=t+":";n.each(s,function(t){var e=r+t,i=t.toLowerCase(),n=o+i;a[e]=n})}),a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,o=i(1),s=i(0),n=i(7),l=o.__importDefault(i(190)),c=i(32),r=i(18),u=o.__importDefault(i(197)),h=i(8),p=o.__importDefault(i(203)),f=o.__importDefault(i(55)),d=o.__importDefault(i(108)),g=o.__importDefault(i(43)),y=i(44),v=(a=g.default,o.__extends(m,a),m.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!1}},m.prototype.getOptions=function(t){var e=this.options||{},i=a.prototype.getOptions.call(this,t),n=this.constructor.getDefaultOptions(t),r=s.reduce(s.flatten(s.map([i,n,e,t],function(t){return s.get(t,"interactions",[])})),function(t,e){var i=s.findIndex(t,function(t){return t.type===e.type});return 0<=i&&t.splice(i,1),o.__spreadArrays(t,[e])},[]);return s.deepMix({},i,n,e,t,{interactions:r})},m.prototype.beforeInit=function(){a.prototype.beforeInit.call(this)},m.prototype.init=function(){var t=this;a.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new n.View({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,region:e}),this.applyInteractions(),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},m.prototype.afterInit=function(){a.prototype.afterInit.call(this),this.view&&!this.view.destroyed&&"auto"!==this.options.padding&&this.parseEvents()},m.prototype.afterRender=function(){if(this.view&&!this.view.destroyed){var t=this.options,e=t.padding?t.padding:this.config.theme.padding;t.defaultState&&"auto"!==e&&this.stateController.defaultStates(t.defaultState),"auto"===e&&this.paddingController.processAutoPadding()}},m.prototype.render=function(){a.prototype.render.call(this);var t=this.options.data;s.isEmpty(t)||this.view.render()},m.prototype.destroy=function(){this.doDestroy(),a.prototype.destroy.call(this)},m.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&"auto"===this.initialOptions.padding&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},m.prototype.changeData=function(t){this.options.data=this.processData(t),this.view.changeData(this.options.data)},m.prototype.getPlot=function(){return this.view},m.prototype.getLabels=function(){return this.labels},m.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},m.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},m.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},m.prototype.getInteractions=function(){return this.interactions},m.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},m.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},m.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},m.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},m.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},m.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},m.prototype.processData=function(t){return t},m.prototype.scale=function(){var t=s.mapValues(this.config.scales,function(t){var e=t.type;return e?{type:e}:{}}),e=s.deepMix({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},m.prototype.axis=function(){var t=r.getComponent("axis",{plot:this,dim:"x"}),e=r.getComponent("axis",{plot:this,dim:"y"}),i={};i[this.options.xField]=t,i[this.options.yField]=e,this.setConfig("axes",i)},m.prototype.tooltip=function(){!1!==this.options.tooltip.visible?(this.setConfig("tooltip",s.deepMix({},s.get(this.options,"tooltip"))),s.deepMix(this.config.theme.tooltip,this.options.tooltip.domStyles)):this.setConfig("tooltip",!1)},m.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&1<e.length&&"center"===e[1]?e[0]:t},m.prototype.legend=function(){if(!1!==this.options.legend.visible){var t=s.get(this.options,"legend.flipPage"),e=s.get(this.options,"legend.clickable");this.setConfig("legends",{position:this.getLegendPosition(s.get(this.options,"legend.position")),formatter:s.get(this.options,"legend.formatter"),offsetX:s.get(this.options,"legend.offsetX"),offsetY:s.get(this.options,"legend.offsetY"),clickable:!!s.isUndefined(e)||e,flipPage:t,marker:s.get(this.options,"legend.marker"),title:s.get(this.options,"legend.title")})}else this.setConfig("legends",!1)},m.prototype.annotation=function(){var i=this,n=[];"cartesian"===this.config.coordinate.type&&this.options.guideLine&&s.each(this.options.guideLine,function(t){var e=r.getComponent("guideLine",{plot:i,cfg:t});n.push(e)}),this.setConfig("annotations",n)},m.prototype.interaction=function(){var i=this,t=this.options.interactions,e=void 0===t?[]:t;s.each(e,function(t){var e=t.type;"slider"!==e&&"scrollbar"!==e||(i.options.xAxis=s.deepMix({},i.options.xAxis,{label:{autoHide:!0,autoRotate:!1}})),i.setConfig("interaction",t)})},m.prototype.animation=function(){!1===this.options.animation&&this.setConfig("animate",!1)},m.prototype.applyInteractions=function(){var n=this,t=this.options.interactions,e=void 0===t?[]:t;this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[],e.forEach(function(t){var e=u.default.getInteraction(t.type,n.type);if(e){var i=new e({view:n.view},n,e.getInteractionRange(n.layerBBox,t.cfg),t.cfg);n.interactions.push(i)}})},m.prototype.setConfig=function(t,e){"geometry"!==t?"interaction"!==t?!1!==e?s.assign(this.config[t],e):this.config[t]=!1:this.config.interactions.push(e):this.config.geometries.push(e)},m.prototype.parseEvents=function(t){var r=this,e=this.options;if(e.events){a.prototype.parseEvents.call(this,e.events);var o=t?t.EVENT_MAP:h.EVENT_MAP;s.each(e.events,function(t,e){if(s.isFunction(t)){var i=o[e]||e,n=t;h.onEvent(r,i,n)}})}},m.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),y.isTextUsable(t.title)){var i=this.width,n=this.config.theme,r=new l.default({leftMargin:e.minX+n.title.padding[3],rightMargin:e.maxX-n.title.padding[1],topMargin:e.minY+n.title.padding[0],text:t.title.text,style:s.mix(n.title,t.title.style),wrapperWidth:i-n.title.padding[3]-n.title.padding[1],container:this.container.addGroup(),theme:n,index:y.isTextUsable(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=r,this.paddingController.registerPadding(r,"outer")}},m.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),y.isTextUsable(t.description)){var i=this.width,n=this.config.theme,r=0;if(this.title){var o=this.title.getBBox();r+=o.minY+o.height,r+=n.description.padding[0]}else r+=e.minY+n.title.padding[0];var a=new l.default({leftMargin:e.minX+n.description.padding[3],topMargin:r,rightMargin:e.maxX-n.title.padding[1],text:t.description.text,style:s.mix(n.description,t.description.style),wrapperWidth:i-n.description.padding[3]-n.description.padding[1],container:this.container.addGroup(),theme:n,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=a,this.paddingController.registerPadding(a,"outer")}},m.prototype.doRenderLabel=function(t,e){s.each(this.labels,function(t){t.destroy()}),this.labels=[];var i={layer:this,container:t.labelsContainer,geometry:t,label:e},n=c.getLabelComponent(e.type);if(n){var r=new n(i);r.render(),this.labels.push(r)}},m.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},m.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},m.prototype.doDestroyLabels=function(){s.each(this.labels,function(t){t.destroy()}),this.labels=[]},m.prototype.getViewRange=function(){var r=this,t=this.options.interactions,e=void 0===t?[]:t,o=this.layerBBox;return e.forEach(function(t){var e=u.default.getInteraction(t.type,r.type),i=e&&e.getInteractionRange(o,t.cfg),n="";i&&(i.maxY===o.maxY&&i.minY>o.minY?n="bottom":i.maxX===o.maxX&&i.minX>o.minX?n="right":i.minX===o.minX&&i.maxX>o.maxX?n="left":i.minY===o.minY&&i.maxY>o.maxY&&(n="top"),r.paddingController.registerPadding({getBBox:function(){return i},position:n},"outer"))}),this.paddingController.processOuterPadding()},m.prototype.viewRangeToRegion=function(t){var e=this.width,i=this.height,n={x:0,y:0},r={x:1,y:1};return n.x=t.minX/e,n.y=t.minY/i,r.x=t.maxX/e,r.y=t.maxY/i,{start:n,end:r}},m);function m(t){var e=a.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=s.deepMix({},e.options),e.paddingController=new p.default({plot:e}),e.stateController=new f.default({plot:e}),e.themeController=new d.default,e}e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r.fromRange=function(t,e,i,n){return new r(t,e,i-t,n-e)},r.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},Object.defineProperty(r.prototype,"minX",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minY",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!0,configurable:!0}),r);function r(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.height=n,this.width=i,this.x=t,this.y=e}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new b.ARRAY_TYPE(9);return b.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new b.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,i,n,r,o,a,s,l){var c=new b.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=i,c[3]=n,c[4]=r,c[5]=o,c[6]=a,c[7]=s,c[8]=l,c},e.set=function(t,e,i,n,r,o,a,s,l,c){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=u*a-s*c,p=-u*o+s*l,f=c*o-a*l,d=i*h+n*p+r*f;return d?(d=1/d,t[0]=h*d,t[1]=(-u*n+r*c)*d,t[2]=(s*n-r*a)*d,t[3]=p*d,t[4]=(u*i-r*l)*d,t[5]=(-s*i+r*o)*d,t[6]=f*d,t[7]=(-c*i+n*l)*d,t[8]=(a*i-n*o)*d,t):null},e.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return t[0]=a*u-s*c,t[1]=r*c-n*u,t[2]=n*s-r*a,t[3]=s*l-o*u,t[4]=i*u-r*l,t[5]=r*o-i*s,t[6]=o*c-a*l,t[7]=n*l-i*c,t[8]=i*a-n*o,t},e.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*(c*o-a*l)+i*(-c*r+a*s)+n*(l*r-o*s)},e.multiply=n,e.translate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=i[0],f=i[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=p*n+f*a+c,t[7]=p*r+f*s+u,t[8]=p*o+f*l+h,t},e.rotate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=Math.sin(i),f=Math.cos(i);return t[0]=f*n+p*a,t[1]=f*r+p*s,t[2]=f*o+p*l,t[3]=f*a-p*n,t[4]=f*s-p*r,t[5]=f*l-p*o,t[6]=c,t[7]=u,t[8]=h,t},e.scale=function(t,e,i){var n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i+i,s=n+n,l=r+r,c=i*a,u=n*a,h=n*s,p=r*a,f=r*s,d=r*l,g=o*a,y=o*s,v=o*l;return t[0]=1-h-d,t[3]=u-v,t[6]=p+y,t[1]=u+v,t[4]=1-c-d,t[7]=f-g,t[2]=p-y,t[5]=f+g,t[8]=1-c-h,t},e.normalFromMat4=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],f=e[11],d=e[12],g=e[13],y=e[14],v=e[15],m=i*s-n*a,x=i*l-r*a,b=i*c-o*a,_=n*l-r*s,w=n*c-o*s,O=r*c-o*l,M=u*g-h*d,C=u*y-p*d,S=u*v-f*d,j=h*y-p*g,A=h*v-f*g,P=p*v-f*y,T=m*P-x*A+b*j+_*S-w*C+O*M;return T?(T=1/T,t[0]=(s*P-l*A+c*j)*T,t[1]=(l*S-a*P-c*C)*T,t[2]=(a*A-s*S+c*M)*T,t[3]=(r*A-n*P-o*j)*T,t[4]=(i*P-r*S+o*C)*T,t[5]=(n*S-i*A-o*M)*T,t[6]=(g*O-y*w+v*_)*T,t[7]=(y*b-d*O-v*x)*T,t[8]=(d*w-g*b+v*m)*T,t):null},e.projection=function(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t},e.subtract=r,e.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t},e.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=e[0],p=e[1],f=e[2],d=e[3],g=e[4],y=e[5],v=e[6],m=e[7],x=e[8];return Math.abs(i-h)<=b.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-p)<=b.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(r-f)<=b.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-d)<=b.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-g)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-y)<=b.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-v)<=b.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-m)<=b.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(u-x)<=b.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))};var b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(72));function n(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=i[0],f=i[1],d=i[2],g=i[3],y=i[4],v=i[5],m=i[6],x=i[7],b=i[8];return t[0]=p*n+f*a+d*c,t[1]=p*r+f*s+d*u,t[2]=p*o+f*l+d*h,t[3]=g*n+y*a+v*c,t[4]=g*r+y*s+v*u,t[5]=g*o+y*l+v*h,t[6]=m*n+x*a+b*c,t[7]=m*r+x*s+b*u,t[8]=m*o+x*l+b*h,t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}e.mul=n,e.sub=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(33);e.getGlobalTheme=n.getGlobalTheme,e.registerGlobalTheme=n.registerGlobalTheme;var r=i(205);e.getTheme=r.getTheme,e.registerTheme=r.registerTheme;var o=i(206);e.convertToG2Theme=o.convertToG2Theme},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(213)),o=n.__importDefault(i(215)),a=n.__importDefault(i(217)),s=n.__importDefault(i(219)),l={area:r.default,line:a.default,point:s.default,interval:o.default};e.getGeom=function(t,e,i){return new l[t][e](i).config}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),c=i(19);e.default={box:function(t,e,i,n){var r=Math.min(t,i),o=Math.max(t,i),a=Math.min(e,n);return{x:r,y:a,width:o-r,height:Math.max(e,n)-a}},length:function(t,e,i,n){return s.distance(t,e,i,n)},pointAt:function(t,e,i,n,r){return{x:(1-r)*t+r*i,y:(1-r)*e+r*n}},pointDistance:function(t,e,i,n,r,o){var a=(i-t)*(r-t)+(n-e)*(o-e);return a<0?s.distance(t,e,r,o):(i-t)*(i-t)+(n-e)*(n-e)<a?s.distance(i,n,r,o):this.pointToLine(t,e,i,n,r,o)},pointToLine:function(t,e,i,n,r,o){var a=[i-t,n-e];if(c.exactEquals(a,[0,0]))return Math.sqrt((r-t)*(r-t)+(o-e)*(o-e));var s=[-a[1],a[0]];c.normalize(s,s);var l=[r-t,o-e];return Math.abs(c.dot(l,s))},tangentAngle:function(t,e,i,n){return Math.atan2(n-e,i-t)}}},function(t,e,i){"use strict";i.r(e),i.d(e,"Category",function(){return c}),i.d(e,"Identity",function(){return K}),i.d(e,"Linear",function(){return _}),i.d(e,"Log",function(){return E}),i.d(e,"Pow",function(){return D}),i.d(e,"Time",function(){return B}),i.d(e,"TimeCat",function(){return x}),i.d(e,"Quantile",function(){return I}),i.d(e,"Quantize",function(){return F}),i.d(e,"Scale",function(){return s}),i.d(e,"getScale",function(){return q}),i.d(e,"registerScale",function(){return U}),i.d(e,"getTickMethod",function(){return r});var ot=i(0),n={};function r(t){return n[t]}function o(t,e){n[t]=e}var a,s=(p.prototype.translate=function(t){return t},p.prototype.change=function(t){Object(ot.assign)(this.__cfg__,t),this.init()},p.prototype.clone=function(){return this.constructor(this.__cfg__)},p.prototype.getTicks=function(){var i=this;return Object(ot.map)(this.ticks,function(t,e){return Object(ot.isObject)(t)?t:{text:i.getText(t,e),tickValue:t,value:i.scale(t)}})},p.prototype.getText=function(t,e){var i=this.formatter,n=i?i(t,e):t;return Object(ot.isNil)(n)||!Object(ot.isFunction)(n.toString)?"":n.toString()},p.prototype.getConfig=function(t){return this.__cfg__[t]},p.prototype.init=function(){Object(ot.assign)(this,this.__cfg__),this.setDomain(),Object(ot.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},p.prototype.initCfg=function(){},p.prototype.setDomain=function(){},p.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(ot.isString)(t)){var i=r(t);if(!i)throw new Error("There is no method to to calculate ticks!");e=i(this)}else Object(ot.isFunction)(t)&&(e=t(this));return e},p.prototype.rangeMin=function(){return Object(ot.head)(this.range)},p.prototype.rangeMax=function(){return Object(ot.last)(this.range)},p.prototype.calcPercent=function(t,e,i){return Object(ot.isNumber)(t)?(t-e)/(i-e):NaN},p.prototype.calcValue=function(t,e,i){return e+t*(i-e)},p),l=i(1),c=(a=s,Object(l.__extends)(h,a),h.prototype.translate=function(t){var e=Object(ot.indexOf)(this.values,t);return-1===e?Object(ot.isNumber)(t)?t:NaN:e},h.prototype.scale=function(t){var e=this.translate(t),i=this.calcPercent(e,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},h.prototype.invert=function(t){var e=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),n=Math.round(e*i)+this.min;return n<this.min||n>this.max?NaN:this.values[n]},h.prototype.getText=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=t;return Object(ot.isNumber)(t)&&!this.values.includes(t)&&(n=this.values[n]),a.prototype.getText.apply(this,Object(l.__spreadArrays)([n],e))},h.prototype.initCfg=function(){this.tickMethod="cat"},h.prototype.setDomain=function(){if(Object(ot.isNil)(this.getConfig("min"))&&(this.min=0),Object(ot.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=1<t?t-1:t}},h),u=i(30);function h(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}function p(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}function f(t,e){return(u.format||u.default.format)(t,e)}function d(t){return Object(ot.isString)(t)&&(t=0<t.indexOf("T")?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(ot.isDate)(t)&&(t=t.getTime()),t}var Y=36e5,G=864e5,z=31*G,g=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",Y],["HH",6*Y],["HH",432e5],["YYYY-MM-DD",G],["YYYY-MM-DD",4*G],["YYYY-WW",7*G],["YYYY-MM",z],["YYYY-MM",4*z],["YYYY-MM",6*z],["YYYY",380*G]];var y,v,m,x=(m=c,Object(l.__extends)(M,m),M.prototype.translate=function(t){t=d(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(ot.isNumber)(t)&&t<this.values.length?t:NaN),e},M.prototype.getText=function(t,e){var i=this.translate(t);if(-1<i){var n=this.values[i],r=this.formatter;return r?r(n,e):f(n,this.mask)}return t},M.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},M.prototype.setDomain=function(){var i=this.values;Object(ot.each)(i,function(t,e){i[e]=d(t)}),i.sort(function(t,e){return t-e}),m.prototype.setDomain.call(this)},M),b=(v=s,Object(l.__extends)(O,v),O.prototype.scale=function(t){if(Object(ot.isNil)(t))return NaN;var e=this.rangeMin(),i=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(i-e)},O.prototype.init=function(){v.prototype.init.call(this);var t=this.ticks,e=Object(ot.head)(t),i=Object(ot.last)(t);e<this.min&&(this.min=e),i>this.max&&(this.max=i),Object(ot.isNil)(this.minLimit)||(this.min=e),Object(ot.isNil)(this.maxLimit)||(this.max=i)},O.prototype.setDomain=function(){var t=Object(ot.getRange)(this.values),e=t.min,i=t.max;Object(ot.isNil)(this.min)&&(this.min=e),Object(ot.isNil)(this.max)&&(this.max=i),this.min>this.max&&(this.min=e,this.max=i)},O.prototype.calculateTicks=function(){var e=this,t=v.prototype.calculateTicks.call(this);return this.nice||(t=Object(ot.filter)(t,function(t){return t>=e.min&&t<=e.max})),t},O.prototype.getScalePercent=function(t){var e=this.max,i=this.min;return(t-i)/(e-i)},O.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},O),_=(y=b,Object(l.__extends)(w,y),w.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},w.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},w);function w(){var t=null!==y&&y.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}function O(){var t=null!==v&&v.apply(this,arguments)||this;return t.isContinuous=!0,t}function M(){return null!==m&&m.apply(this,arguments)||this}function C(t,e){var i=Math.E;return 0<=e?Math.pow(i,Math.log(e)/t):-1*Math.pow(i,Math.log(-e)/t)}function S(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function j(t,e,i){Object(ot.isNil)(i)&&(i=Math.max.apply(null,t));var n=i;return Object(ot.each)(t,function(t){0<t&&t<n&&(n=t)}),n===i&&(n=i/e),1<n&&(n=1),n}var A,P,T,L,k,E=(k=b,Object(l.__extends)(W,k),W.prototype.invert=function(t){var e,i=this.base,n=S(i,this.max),r=this.rangeMin(),o=this.rangeMax()-r,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(n-(e=S(i,a/i)))*o;if(t<s)return t/s*a}else e=S(i,this.min);var l=(t-r)/o*(n-e)+e;return Math.pow(i,l)},W.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},W.prototype.setDomain=function(){k.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=j(this.values,this.base,this.max))},W.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;if(t<=0)return 0;var n=this.base,r=this.positiveMin;return r&&(i=r/n),t<r?t/r/(S(n,e)-S(n,i)):(S(n,t)-S(n,i))/(S(n,e)-S(n,i))},W),D=(L=b,Object(l.__extends)(H,L),H.prototype.invert=function(t){var e=this.getInvertPercent(t),i=this.exponent,n=C(i,this.max),r=C(i,this.min),o=e*(n-r)+r,a=0<=o?1:-1;return Math.pow(o,i)*a},H.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},H.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;var n=this.exponent;return(C(n,t)-C(n,i))/(C(n,e)-C(n,i))},H),B=(T=_,Object(l.__extends)(V,T),V.prototype.getText=function(t,e){var i=this.translate(t),n=this.formatter;return n?n(i,e):f(i,this.mask)},V.prototype.scale=function(t){var e=t;return(Object(ot.isString)(e)||Object(ot.isDate)(e))&&(e=this.translate(e)),T.prototype.scale.call(this,e)},V.prototype.translate=function(t){return d(t)},V.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},V.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),i=this.getConfig("max");if(Object(ot.isNil)(e)&&Object(ot.isNumber)(e)||(this.min=this.translate(this.min)),Object(ot.isNil)(i)&&Object(ot.isNumber)(i)||(this.max=this.translate(this.max)),t&&t.length){var n=[],r=1/0,o=r,a=0;Object(ot.each)(t,function(t){var e=d(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");e<r?(o=r,r=e):e<o&&(o=e),a<e&&(a=e),n.push(e)}),1<t.length&&(this.minTickInterval=o-r),Object(ot.isNil)(e)&&(this.min=r),Object(ot.isNil)(i)&&(this.max=a)}},V),F=(P=b,Object(l.__extends)(X,P),X.prototype.invert=function(t){var e=this.ticks,i=e.length,n=this.getInvertPercent(t),r=Math.floor(n*(i-1));if(i-1<=r)return Object(ot.last)(e);if(r<0)return Object(ot.head)(e);var o=e[r],a=r/(i-1);return o+(n-a)/((r+1)/(i-1)-a)*(e[r+1]-o)},X.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},X.prototype.calculateTicks=function(){var t=P.prototype.calculateTicks.call(this);return this.nice||(Object(ot.last)(t)!==this.max&&t.push(this.max),Object(ot.head)(t)!==this.min&&t.unshift(this.min)),t},X.prototype.getScalePercent=function(i){var t=this.ticks;if(i<Object(ot.head)(t))return 0;if(i>Object(ot.last)(t))return 1;var n=0;return Object(ot.each)(t,function(t,e){if(!(t<=i))return!1;n=e}),n/(t.length-1)},X),I=(A=F,Object(l.__extends)(N,A),N.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},N),R={};function N(){var t=null!==A&&A.apply(this,arguments)||this;return t.type="quantile",t}function X(){var t=null!==P&&P.apply(this,arguments)||this;return t.type="quantize",t}function V(){var t=null!==T&&T.apply(this,arguments)||this;return t.type="time",t}function H(){var t=null!==L&&L.apply(this,arguments)||this;return t.type="pow",t}function W(){var t=null!==k&&k.apply(this,arguments)||this;return t.type="log",t}function q(t){return R[t]}function U(t,e){if(q(t))throw new Error("type '"+t+"' existed.");R[t]=e}var Z,K=(Z=s,Object(l.__extends)($,Z),$.prototype.calculateTicks=function(){return this.values},$.prototype.scale=function(t){return this.values[0]!==t&&Object(ot.isNumber)(t)?t:this.range[0]},$.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},$),at=[1,5,2,2.5,4,3],st=100*Number.EPSILON;function $(){var t=null!==Z&&Z.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}function lt(t,e,i){var n=e-t;if(n<i){var r=(i-n)/2;return 1-Math.pow(r,2)/Math.pow(.1*n,2)}return 1}function Q(t,e,i,n,r,o){if(void 0===i&&(i=5),void 0===n&&(n=!0),void 0===r&&(r=at),void 0===o&&(o=[.25,.2,.5,.05]),t===e||1===i)return{min:t,max:e,ticks:[t]};for(var a={score:-2,lmin:0,lmax:0,lstep:0},s=1;s<1/0;){for(var l=0,c=r;l<c.length;l++){var u=c[l],h=($=u,Q=r,J=s,tt=Object(ot.size)(Q),1-Object(ot.indexOf)(Q,$)/(tt-1)-J+1);if(Number.isNaN(h))throw new Error("NaN");if(o[0]*h+o[1]+o[2]+o[3]<a.score){s=1/0;break}for(var p=2;p<1/0;){var f=(K=i)<=(Z=p)?2-(Z-1)/(K-1):1;if(o[0]*h+o[1]+o[2]*f+o[3]<a.score)break;for(var d=(e-t)/(p+1)/s/u,g=Math.ceil(Math.log10(d));g<1/0;){var y=s*u*Math.pow(10,g),v=lt(t,e,y*(p-1));if(o[0]*h+o[1]*v+o[2]*f+o[3]<a.score)break;var m=Math.floor(e/y)*s-(p-1)*s,x=Math.ceil(t/y)*s;if(x<m)g+=1;else{for(var b=m;b<=x;b+=1){var _=b*(y/s),w=_+y*(p-1),O=y,M=(N=u,Y=r,G=s,z=_,X=w,V=O,q=void 0,H=Object(ot.size)(Y),W=Object(ot.indexOf)(Y,N),q=0,((U=(z%V+V)%V)<st||V-U<st)&&z<=0&&0<=X&&(q=1),1-W/(H-1)-G+q),C=(F=_,I=w,R=(B=e)-(D=t),1-.5*(Math.pow(B-I,2)+Math.pow(D-F,2))/Math.pow(.1*R,2)),S=(A=t,P=e,0,k=(p-1)/((L=w)-(T=_)),E=(i-1)/(Math.max(L,P)-Math.min(A,T)),2-Math.max(k/E,E/k)),j=o[0]*M+o[1]*C+o[2]*S+ +o[3];j>a.score&&(!n||_<=t&&e<=w)&&(a.lmin=_,a.lmax=w,a.lstep=O,a.score=j)}g+=1}}p+=1}}s+=1}for(var A,P,T,L,k,E,D,B,F,I,R,N,Y,G,z,X,V,H,W,q,U,Z,K,$,Q,J,tt,et=Number.isInteger(a.lstep)?0:Math.ceil(Math.abs(Math.log10(a.lstep))),it=[],nt=a.lmin;nt<=a.lmax;nt+=a.lstep)it.push(nt);var rt=et?Object(ot.map)(it,function(t){return Number.parseFloat(t.toFixed(et))}):it;return{min:Math.min(t,Object(ot.head)(rt)),max:Math.max(e,Object(ot.last)(rt)),ticks:rt}}function J(t){var e=t.values,i=t.tickInterval,n=t.tickCount,r=e;if(Object(ot.isNumber)(i))return Object(ot.filter)(r,function(t,e){return e%i==0});var o=t.min,a=t.max;if(Object(ot.isNil)(o)&&(o=0),Object(ot.isNil)(a)&&(a=e.length-1),Object(ot.isNumber)(n)&&n<a-o){var s=Q(o,a,n,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(ot.filter)(s,function(t){return o<=t&&t<=a}).map(function(t){return e[t]})}return e.slice(o,a+1)}var tt=Math.sqrt(50),et=Math.sqrt(10),it=Math.sqrt(2),nt=(rt.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},rt.prototype.nice=function(t){var e,i;void 0===t&&(t=5);var n,r=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],l=this._domain[a];return l<s&&(s=(e=[l,s])[0],l=e[1],o=(i=[a,o])[0],a=i[1]),0<(n=ct(s,l,t))?n=ct(s=Math.floor(s/n)*n,l=Math.ceil(l/n)*n,t):n<0&&(n=ct(s=Math.ceil(s*n)/n,l=Math.floor(l*n)/n,t)),0<n?(r[o]=Math.floor(s/n)*n,r[a]=Math.ceil(l/n)*n,this.domain(r)):n<0&&(r[o]=Math.ceil(s*n)/n,r[a]=Math.floor(l*n)/n,this.domain(r)),this},rt.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,i){var n,r,o,a,s=-1;if(i=+i,(t=+t)==(e=+e)&&0<i)return[t];if((n=e<t)&&(r=t,t=e,e=r),0===(a=ct(t,e,i))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return n&&o.reverse(),o}(this._domain[0],this._domain[this._domain.length-1],t||5)},rt);function rt(){this._domain=[0,1]}function ct(t,e,i){var n=(e-t)/Math.max(0,i),r=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,r);return 0<=r?(tt<=o?10:et<=o?5:it<=o?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(tt<=o?10:et<=o?5:it<=o?2:1)}function ut(t,e,i){return("ceil"===i?Math.ceil(t/e):"floor"===i?Math.floor(t/e):Math.round(t/e))*e}function ht(t,e,i){var n=ut(t,i,"floor"),r=ut(e,i,"ceil");n=Object(ot.fixedBase)(n,i),r=Object(ot.fixedBase)(r,i);for(var o=[],a=n;a<=r;a+=i){var s=Object(ot.fixedBase)(a,i);o.push(s)}return{min:n,max:r,ticks:o}}function pt(t,e,i){var n,r=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,l=t.tickCount,c=void 0===l?5:l,u=Object(ot.isNil)(r)?Object(ot.isNil)(e)?a:e:r,h=Object(ot.isNil)(o)?Object(ot.isNil)(i)?s:i:o;if(h<u&&(h=(n=[u,h])[0],u=n[1]),c<=2)return[u,h];for(var p=(h-u)/(c-1),f=[],d=0;d<c;d++)f.push(u+p*d);return f}function ft(t,e,i){void 0===i&&(i=5);var n={max:0,min:0,ticks:[]},r=(e-t)/i,o=Math.pow(10,Math.floor(Math.log10(r))),a=o<1?Math.ceil(Math.abs(Math.log10(o))):0,s=o;2*o-r<1.5*(r-s)&&5*o-r<2.75*(r-(s=2*o))&&10*o-r<1.5*(r-(s=5*o))&&(s=10*o);var l=Math.ceil(e/s),c=Math.floor(t/s);n.max=Math.max(l*s,e),n.min=Math.min(c*s,t);for(var u=Number.parseFloat((c*s).toFixed(a));u<e;)n.ticks.push(u),u+=s,a&&(u=Number.parseFloat(u.toFixed(a)));return n.ticks.push(u),n}function dt(t){return new Date(t).getFullYear()}function gt(t){return new Date(t).getMonth()}o("cat",J),o("time-cat",function(t){var e=J(t),i=Object(ot.last)(t.values);return i!==Object(ot.last)(e)&&e.push(i),e}),o("wilkinson-extended",function(t){var e=t.min,i=t.max,n=t.tickCount,r=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,l=Q(e,i,n,r).ticks;return Object(ot.isNil)(a)&&Object(ot.isNil)(s)?o?ht(e,i,o).ticks:l:pt(t,Object(ot.head)(l),Object(ot.last)(l))}),o("r-pretty",function(t){var e=t.min,i=t.max,n=t.tickCount,r=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=ft(e,i,n).ticks;return Object(ot.isNil)(o)&&Object(ot.isNil)(a)?r?ht(e,i,r).ticks:s:pt(t,Object(ot.head)(s),Object(ot.last)(s))}),o("time",function(t){var s,e,i,n=t.min,r=t.max,o=t.minTickInterval,a=t.tickInterval,l=t.tickCount;if(a)l=Math.ceil((r-n)/a);else{var c=(r-n)/(s=function(t){return t[1]},e=function(t,e,i,n){for(var r=Object(ot.isNil)(i)?0:i,o=Object(ot.isNil)(n)?t.length:n;r<o;){var a=r+o>>>1;s(t[a])>e?o=a:r=1+a}return r}(g,(r-n)/l)-1,i=g[e],e<0?i=g[0]:g.length<=e&&(i=Object(ot.last)(g)),a=i[1])/l;1<c&&(a*=Math.ceil(c)),o&&a<o&&(a=o)}for(var u=[],h=n;h<r+a;h+=a)u.push(h);return u}),o("time-pretty",function(t){var e=t.min,i=t.max,n=t.minTickInterval,r=t.tickInterval,o=t.tickCount,a=[];r||(r=(i-e)/o,n&&r<n&&(r=n));var s,l,c,u,h,p,f,d,g,y,v,m=dt(e);if(31536e6<r)for(var x=dt(i),b=Math.ceil(r/31536e6),_=m;_<=x+b;_+=b)a.push(new Date(_,0,1).getTime());else if(z<r){var w=Math.ceil(r/z),O=gt(e),M=(d=i,g=dt(f=e),y=dt(d),v=gt(f),12*(y-g)+(gt(d)-v)%12);for(_=0;_<=M+w;_+=w)a.push(new Date(m,_+O,1).getTime())}else if(G<r){var C=(T=new Date(e)).getFullYear(),S=T.getMonth(),j=T.getDate(),A=Math.ceil(r/G),P=(h=e,p=i,Math.ceil((p-h)/G));for(_=0;_<P+A;_+=A)a.push(new Date(C,S,j+_).getTime())}else if(Y<r){C=(T=new Date(e)).getFullYear(),S=T.getMonth(),A=T.getDate();var T,L=T.getHours(),k=Math.ceil(r/Y),E=(c=e,u=i,Math.ceil((u-c)/Y));for(_=0;_<=E+k;_+=k)a.push(new Date(C,S,A,L+_).getTime())}else if(6e4<r){var D=(s=e,l=i,Math.ceil((l-s)/6e4)),B=Math.ceil(r/6e4);for(_=0;_<=D+B;_+=B)a.push(e+6e4*_)}else{var F=r;F<1e3&&(F=1e3);var I=1e3*Math.floor(e/1e3),R=Math.ceil((i-e)/1e3),N=Math.ceil(F/1e3);for(_=0;_<R+N;_+=N)a.push(I+1e3*_)}return a}),o("log",function(t){var e,i=t.base,n=t.tickCount,r=t.min,o=t.max,a=t.values,s=S(i,o);if(0<r)e=Math.floor(S(i,r));else{var l=j(a,i,o);e=Math.floor(S(i,l))}for(var c=s-e,u=Math.ceil(c/n),h=[],p=e;p<s+u;p+=u)h.push(Math.pow(i,p));return r<=0&&h.unshift(0),h}),o("pow",function(t){var i=t.exponent,e=t.tickCount,n=Math.ceil(C(i,t.max));return ft(Math.floor(C(i,t.min)),n,e).ticks.map(function(t){var e=0<=t?1:-1;return Math.pow(t,i)*e})}),o("quantile",function(t){var e,i,n,r=t.tickCount,o=t.values;if(!o||!o.length)return[];for(var a=o.slice().sort(function(t,e){return t-e}),s=[],l=0;l<r;l++){var c=l/(r-1);s.push((i=c,n=(e=a).length*i,1===i?e[e.length-1]:0===i?e[0]:n%1!=0?e[Math.ceil(n)-1]:e.length%2==0?(e[n-1]+e[n])/2:e[n]))}return s}),o("d3-linear",function(t){var e,i,n,r,o,a=t.min,s=t.max,l=t.tickInterval,c=t.minLimit,u=t.maxLimit,h=(e=t.min,i=t.max,n=t.nice,r=t.tickCount,(o=new nt).domain([e,i]),n&&o.nice(r),o.ticks(r));return Object(ot.isNil)(c)&&Object(ot.isNil)(u)?l?ht(a,s,l).ticks:h:pt(t,Object(ot.head)(h),Object(ot.last)(h))}),U("cat",c),U("category",c),U("identity",K),U("linear",_),U("log",E),U("pow",D),U("time",B),U("timeCat",x),U("quantize",F),U("quantile",I)},function(t,e,i){"use strict";i.r(e),i.d(e,"Component",function(){return X}),i.d(e,"GroupComponent",function(){return W}),i.d(e,"HtmlComponent",function(){return Kt}),i.d(e,"Axis",function(){return s}),i.d(e,"Annotation",function(){return n}),i.d(e,"Grid",function(){return c}),i.d(e,"Legend",function(){return u}),i.d(e,"Tooltip",function(){return f}),i.d(e,"Crosshair",function(){return l}),i.d(e,"Slider",function(){return ei}),i.d(e,"Scrollbar",function(){return ni});var n={};i.r(n),i.d(n,"Line",function(){return U}),i.d(n,"Text",function(){return Z}),i.d(n,"Arc",function(){return K}),i.d(n,"Region",function(){return $}),i.d(n,"Image",function(){return Q}),i.d(n,"DataMarker",function(){return J}),i.d(n,"DataRegion",function(){return tt}),i.d(n,"RegionFilter",function(){return et});var r={};i.r(r),i.d(r,"getDefault",function(){return mt}),i.d(r,"ellipsisHead",function(){return xt}),i.d(r,"ellipsisTail",function(){return bt}),i.d(r,"ellipsisMiddle",function(){return _t});var o={};i.r(o),i.d(o,"getDefault",function(){return St}),i.d(o,"reserveFirst",function(){return jt}),i.d(o,"reserveLast",function(){return At}),i.d(o,"reserveBoth",function(){return Pt}),i.d(o,"equidistance",function(){return Tt});var a={};i.r(a),i.d(a,"getDefault",function(){return kt}),i.d(a,"fixedAngle",function(){return Et}),i.d(a,"unfixedAngle",function(){return Dt});var h={};i.r(h),i.d(h,"autoHide",function(){return o}),i.d(h,"autoRotate",function(){return a}),i.d(h,"autoEllipsis",function(){return r});var s={};i.r(s),i.d(s,"Line",function(){return Vt}),i.d(s,"Circle",function(){return Ht}),i.d(s,"Base",function(){return dt});var l={};i.r(l),i.d(l,"Line",function(){return qt}),i.d(l,"Circle",function(){return Ut}),i.d(l,"Base",function(){return Wt}),i.d(l,"Html",function(){return Qt});var c={};i.r(c),i.d(c,"Base",function(){return Jt}),i.d(c,"Circle",function(){return de}),i.d(c,"Line",function(){return ge});var u={};i.r(u),i.d(u,"Category",function(){return ve}),i.d(u,"Continuous",function(){return me}),i.d(u,"Base",function(){return ye});var p={};i.r(p),i.d(p,"CONTAINER_CLASS",function(){return be}),i.d(p,"TITLE_CLASS",function(){return _e}),i.d(p,"LIST_CLASS",function(){return we}),i.d(p,"LIST_ITEM_CLASS",function(){return Oe}),i.d(p,"MARKER_CLASS",function(){return Me}),i.d(p,"VALUE_CLASS",function(){return Ce}),i.d(p,"NAME_CLASS",function(){return Se}),i.d(p,"CROSSHAIR_X",function(){return je}),i.d(p,"CROSSHAIR_Y",function(){return Ae});var f={};i.r(f),i.d(f,"Html",function(){return Fe});var b=i(1),_=i(0),d=i(61),g=i.n(d),y=i(2),v=[1,0,0,0,1,0,0,0,1];function m(t,e){return e?Object(y.transform)(v,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function x(t,e){return t.x||t.y?Object(y.transform)(e||v,[["t",t.x,t.y]]):null}function w(t,e){var i=[];return y.vec2.transformMat3(i,e,t),i}function O(t){var e=0,i=0,n=0,r=0;return Object(_.isNumber)(t)?e=i=n=r=t:Object(_.isArray)(t)&&(e=t[0],n=Object(_.isNil)(t[1])?t[0]:t[1],r=Object(_.isNil)(t[2])?t[0]:t[2],i=Object(_.isNil)(t[3])?n:t[3]),[e,n,r,i]}function M(t){for(var e=t.childNodes,i=e.length-1;0<=i;i--)t.removeChild(e[i])}function C(t){var e=t.start,i=t.end,n=Math.min(e.x,i.x),r=Math.min(e.y,i.y),o=Math.max(e.x,i.x),a=Math.max(e.y,i.y);return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:a,width:o-n,height:a-r}}function S(t,e,i,n){return{x:t,y:e,width:i,height:n,minX:t,minY:e,maxX:t+i,maxY:e+n}}function j(t,e,i){return(1-i)*t+e*i}function A(t,e,i){return{x:t.x+Math.cos(i)*e,y:t.y+Math.sin(i)*e}}function P(t){return t+"px"}function T(t,e,i,n){var r,o,a=n/(r=e.x-t.x,o=e.y-t.y,Math.sqrt(r*r+o*o)),s=0;return"start"===i?s=0-a:"end"===i&&(s=1+a),{x:j(t.x,e.x,s),y:j(t.y,e.y,s)}}var L,k,E,D,B,F,I,R,N,Y,G=i(6),z={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},X=(Y=G.Base,Object(b.__extends)(ht,Y),ht.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},ht.prototype.clear=function(){},ht.prototype.update=function(t){var n=this,r=this.get("defaultCfg");Object(_.each)(t,function(t,e){var i=t;n.get(e)!==t&&(Object(_.isObject)(t)&&r[e]&&(i=Object(_.deepMix)({},r[e],t)),n.set(e,i))}),this.updateInner(t),this.afterUpdate(t)},ht.prototype.updateInner=function(t){},ht.prototype.afterUpdate=function(t){Object(_.hasKey)(t,"visible")&&(t.visible?this.show():this.hide()),Object(_.hasKey)(t,"capture")&&this.setCapture(t.capture)},ht.prototype.getLayoutBBox=function(){return this.getBBox()},ht.prototype.getLocationType=function(){return this.get("locationType")},ht.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},ht.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},ht.prototype.setLocation=function(t){var e=Object(b.__assign)({},t);this.update(e)},ht.prototype.getLocation=function(){var e=this,i={},t=this.get("locationType"),n=z[t];return Object(_.each)(n,function(t){i[t]=e.get(t)}),i},ht.prototype.isList=function(){return!1},ht.prototype.isSlider=function(){return!1},ht.prototype.init=function(){},ht.prototype.initCfg=function(){var r=this,t=this.get("defaultCfg");Object(_.each)(t,function(t,e){var i=r.get(e);if(Object(_.isObject)(i)){var n=Object(_.deepMix)({},t,i);r.set(e,n)}})},ht),V=["visible","tip","delegateObject"],H=["container","group","shapesMap","isRegister","isUpdating","destroyed"],W=(N=X,Object(b.__extends)(ut,N),ut.prototype.getDefaultCfg=function(){var t=N.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},ut.prototype.remove=function(){this.clear(),this.get("group").remove()},ut.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},ut.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},ut.prototype.getElementById=function(t){return this.get("shapesMap")[t]},ut.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},ut.prototype.getElementsByName=function(e){var i=[];return Object(_.each)(this.get("shapesMap"),function(t){t.get("name")===e&&i.push(t)}),i},ut.prototype.getContainer=function(){return this.get("container")},ut.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},ut.prototype.render=function(){var t=this.get("offScreenGroup");t=t||this.offScreenRender();var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},ut.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},ut.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},ut.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},ut.prototype.destroy=function(){this.removeEvent(),this.remove(),N.prototype.destroy.call(this)},ut.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},ut.prototype.getLayoutBBox=function(){var t,e,i,n,r,o,a,s,l,c,u=this.get("group"),h=this.getInnerLayoutBBox(),p=u.getTotalMatrix();return p&&(i=w(t=p,[(e=h).minX,e.minY]),n=w(t,[e.maxX,e.minY]),r=w(t,[e.minX,e.maxY]),o=w(t,[e.maxX,e.maxY]),a=Math.min(i[0],n[0],r[0],o[0]),s=Math.max(i[0],n[0],r[0],o[0]),l=Math.min(i[1],n[1],r[1],o[1]),c=Math.max(i[1],n[1],r[1],o[1]),h={x:a,y:l,minX:a,minY:l,maxX:s,maxY:c,width:s-a,height:c-l}),h},ut.prototype.on=function(t,e,i){return this.get("group").on(t,e,i),this},ut.prototype.off=function(t,e){var i=this.get("group");return i&&i.off(t,e),this},ut.prototype.emit=function(t,e){this.get("group").emit(t,e)},ut.prototype.init=function(){N.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},ut.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},ut.prototype.delegateEmit=function(t,e){var i=this.get("group");(e.target=i).emit(t,e),function(t,e,i){var n=new g.a(e,i);n.target=t,n.propagationPath.push(t),t.emitDelegation(e,n);for(var r=t.getParent();r;)r.emitDelegation(e,n),n.propagationPath.push(r),r=r.getParent()}(i,t,e)},ut.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},ut.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},ut.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},ut.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",function u(t){var e,i,n,r,o,a=t.getClip(),s=a&&a.getBBox();if(t.isGroup()){var h=1/0,p=-1/0,f=1/0,d=-1/0,l=t.getChildren();0<l.length?Object(_.each)(l,function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=u(t),i=t.applyToMatrix([e.minX,e.minY,1]),n=t.applyToMatrix([e.minX,e.maxY,1]),r=t.applyToMatrix([e.maxX,e.minY,1]),o=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(i[0],n[0],r[0],o[0]),s=Math.max(i[0],n[0],r[0],o[0]),l=Math.min(i[1],n[1],r[1],o[1]),c=Math.max(i[1],n[1],r[1],o[1]);a<h&&(h=a),p<s&&(p=s),l<f&&(f=l),d<c&&(d=c)}}):d=f=p=h=0,e=S(h,f,p-h,d-f)}else e=t.getBBox();return s?(i=e,n=s,S(r=Math.max(i.minX,n.minX),o=Math.max(i.minY,n.minY),Math.min(i.maxX,n.maxX)-r,Math.min(i.maxY,n.maxY)-o)):e}(t)),t},ut.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var i=t.addGroup(e);return this.get("isRegister")&&this.registerElement(i),i},ut.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var i=t.addShape(e);return this.get("isRegister")&&this.registerElement(i),i},ut.prototype.addComponent=function(t,e){var i=e.id,n=e.component,r=Object(b.__rest)(e,["id","component"]),o=new n(Object(b.__assign)(Object(b.__assign)({},r),{id:i,container:t,updateAutoRender:this.get("updateAutoRender")}));return o.init(),o.render(),this.get("isRegister")&&this.registerElement(o.get("group")),o},ut.prototype.initEvent=function(){},ut.prototype.removeEvent=function(){this.get("group").off()},ut.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},ut.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},ut.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},ut.prototype.moveElementTo=function(t,e){var i=x(e);t.attr("matrix",i)},ut.prototype.addAnimation=function(t,e,i){var n=e.attr("opacity");Object(_.isNil)(n)&&(n=1),e.attr("opacity",0),e.animate({opacity:n},i)},ut.prototype.removeAnimation=function(t,e,i){e.animate({opacity:0},i)},ut.prototype.updateAnimation=function(t,e,i,n){e.animate(i,n)},ut.prototype.updateElements=function(t,h){var p,f=this,d=this.get("animate"),g=this.get("animateOption"),e=t.getChildren().slice(0);Object(_.each)(e,function(e){var t=e.get("id"),i=f.getElementById(t),n=e.get("name");if(i)if(e.get("isComponent")){var r=e.get("component"),o=i.get("component"),a=Object(_.pick)(r.cfg,Object(_.difference)(Object(_.keys)(r.cfg),H));o.update(a),i.set("update_status","update")}else{var s=f.getReplaceAttrs(i,e);d&&g.update?f.updateAnimation(n,i,s,g.update):i.attr(s),e.isGroup()&&f.updateElements(e,i),Object(_.each)(V,function(t){i.set(t,e.get(t))}),function(t,e){if(t.getClip()||e.getClip()){var i=e.getClip();if(i){var n={type:i.get("type"),attrs:i.attr()};t.setClip(n)}else t.setClip(null)}}(i,e),(p=i).set("update_status","update")}else{h.add(e);var l=h.getChildren();if(l.splice(l.length-1,1),p){var c=l.indexOf(p);l.splice(c+1,0,e)}else l.unshift(e);if(f.registerElement(e),e.set("update_status","add"),e.get("isComponent")?(r=e.get("component")).set("container",h):e.isGroup()&&f.registerNewGroup(e),p=e,d){var u=f.get("isInit")?g.appear:g.enter;u&&f.addAnimation(n,e,u)}}})},ut.prototype.clearUpdateStatus=function(t){var e=t.getChildren();Object(_.each)(e,function(t){t.set("update_status",null)})},ut.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},ut.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},ut.prototype.appendDelegateObject=function(t,e){var i=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),Object(_.mix)(e.delegateObject,i)},ut.prototype.getReplaceAttrs=function(t,e){var i=t.attr(),n=e.attr();return Object(_.each)(i,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n},ut.prototype.registerNewGroup=function(t){var e=this,i=t.getChildren();Object(_.each)(i,function(t){e.registerElement(t),t.set("update_status","add"),t.isGroup()&&e.registerNewGroup(t)})},ut.prototype.deleteElements=function(){var o=this,a=this.get("shapesMap"),i=[];Object(_.each)(a,function(t,e){!t.get("update_status")||t.destroyed?i.push([e,t]):t.set("update_status",null)});var s=this.get("animate"),l=this.get("animateOption");Object(_.each)(i,function(t){var e=t[0],i=t[1];if(!i.destroyed){var n=i.get("name");if(s&&l.leave){var r=Object(_.mix)({callback:function(){o.removeElement(i)}},l.leave);o.removeAnimation(n,i,r)}else o.removeElement(i)}delete a[e]})},ut.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},ut),q={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},U=(R=W,Object(b.__extends)(ct,R),ct.prototype.getDefaultCfg=function(){var t=R.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:q.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:q.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:q.lineColor,lineWidth:1}}}})},ct.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},ct.prototype.renderLine=function(t){var e=this.get("start"),i=this.get("end"),n=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(b.__assign)({x1:e.x,y1:e.y,x2:i.x,y2:i.y},n)})},ct.prototype.getLabelPoint=function(t,e,i){var n;return(1<(n="start"===i?0:"center"===i?.5:Object(_.isString)(i)&&-1!==i.indexOf("%")?parseInt(i,10)/100:Object(_.isNumber)(i)?i:1)||n<0)&&(n=1),{x:j(t.x,e.x,n),y:j(t.y,e.y,n)}},ct.prototype.renderLabel=function(t){var e=this.get("text"),i=this.get("start"),n=this.get("end"),r=e.position,o=e.content,a=e.style,s=e.offsetX,l=e.offsetY,c=e.autoRotate,u=this.getLabelPoint(i,n,r),h=Object(b.__assign)({x:u.x+s,y:u.y+l,text:o},a);if(c){var p=[n.x-i.x,n.y-i.y],f=m(u,Math.atan2(p[1],p[0]));h.matrix=f}this.addShape(t,{type:"text",id:this.getElementId("line-text"),name:"annotation-line-text",attrs:h})},ct),Z=(I=W,Object(b.__extends)(lt,I),lt.prototype.getDefaultCfg=function(){var t=I.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},defaultCfg:{style:{fill:q.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:q.fontFamily}}})},lt.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},lt.prototype.renderInner=function(t){this.renderText(t)},lt.prototype.renderText=function(t){var e=this.getLocation(),i=e.x,n=e.y,r=this.get("content"),o=this.get("style"),a=this.addShape(t,{type:"text",id:this.getElementId("text"),name:"annotation-text",attrs:Object(b.__assign)({x:i,y:n,text:r},o)});this.applyRotate(a,i,n)},lt.prototype.applyRotate=function(t,e,i){var n=this.get("rotate"),r=null;n&&(r=m({x:e,y:i},n)),t.attr("matrix",r)},lt.prototype.resetLocation=function(){var t=this.getElementByLocalId("text");if(t){var e=this.getLocation(),i=e.x,n=e.y;t.attr({x:i,y:n}),this.applyRotate(t,i,n)}},lt),K=(F=W,Object(b.__extends)(st,F),st.prototype.getDefaultCfg=function(){var t=F.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},st.prototype.renderInner=function(t){this.renderArc(t)},st.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,i=t.radius,n=t.startAngle,r=t.endAngle,o=A(e,i,n),a=A(e,i,r),s=r-n>Math.PI?1:0,l=[["M",o.x,o.y]];if(r-n==2*Math.PI){var c=A(e,i,n+Math.PI);l.push(["A",i,i,0,s,1,c.x,c.y]),l.push(["A",i,i,0,s,1,a.x,a.y])}else l.push(["A",i,i,0,s,1,a.x,a.y]);return l},st.prototype.renderArc=function(t){var e=this.getArcPath(),i=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(b.__assign)({path:e},i)})},st),$=(B=W,Object(b.__extends)(at,B),at.prototype.getDefaultCfg=function(){var t=B.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:q.regionColor,opacity:.4}}})},at.prototype.renderInner=function(t){this.renderRegion(t)},at.prototype.renderRegion=function(t){var e=this.get("start"),i=this.get("end"),n=this.get("style"),r=C({start:e,end:i});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(b.__assign)({x:r.x,y:r.y,width:r.width,height:r.height},n)})},at),Q=(D=W,Object(b.__extends)(ot,D),ot.prototype.getDefaultCfg=function(){var t=D.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},ot.prototype.renderInner=function(t){this.renderImage(t)},ot.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),i=this.get("style"),n=C({start:t,end:e}),r=this.get("src");return Object(b.__assign)({x:n.x,y:n.y,img:r,width:n.width,height:n.height},i)},ot.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},ot),J=(E=W,Object(b.__extends)(rt,E),rt.prototype.getDefaultCfg=function(){var t=E.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:q.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:q.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:q.fontFamily}}}})},rt.prototype.renderInner=function(t){Object(_.get)(this.get("line"),"display")&&this.renderLine(t),Object(_.get)(this.get("text"),"display")&&this.renderText(t),Object(_.get)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},rt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},rt.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},rt.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},rt.prototype.renderText=function(t){var e=this.getShapeAttrs().text;this.addShape(t,{type:"text",id:this.getElementId("text"),name:"annotation-text",attrs:e})},rt.prototype.autoAdjust=function(t){var e=this.get("direction"),i=this.get("x"),n=this.get("y"),r=Object(_.get)(this.get("line"),"length",0),o=this.get("coordinateBBox"),a=t.getBBox(),s=a.minX,l=a.maxX,c=a.minY,u=a.maxY,h=t.findById(this.getElementId("text")),p=t.findById(this.getElementId("line"));if(o&&(h&&(i+s<=o.minX&&h.attr("textAlign","start"),i+l>=o.maxX&&h.attr("textAlign","end")),"upward"===e&&n+c<=o.minY||"upward"!==e&&n+u>=o.maxY)){var f=void 0,d=void 0;d="upward"===e&&n+c<=o.minY?(f="top",1):(f="bottom",-1),h.attr("textBaseline",f),p&&p.attr("path",[["M",0,0],["L",0,r*d]]),h.attr("y",(r+2)*d)}},rt.prototype.getShapeAttrs=function(){var t=Object(_.get)(this.get("line"),"display"),e=Object(_.get)(this.get("point"),"style",{}),i=Object(_.get)(this.get("line"),"style",{}),n=Object(_.get)(this.get("text"),"style",{}),r=this.get("direction"),o=t?Object(_.get)(this.get("line"),"length",0):0,a="upward"===r?-1:1;return{point:Object(b.__assign)({x:0,y:0},e),line:Object(b.__assign)({path:[["M",0,0],["L",0,o*a]]},i),text:Object(b.__assign)({x:0,y:(o+2)*a,text:Object(_.get)(this.get("text"),"content",""),textBaseline:"upward"===r?"bottom":"top"},n)}},rt),tt=(k=W,Object(b.__extends)(nt,k),nt.prototype.getDefaultCfg=function(){var t=k.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:q.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:q.textColor,fontFamily:q.fontFamily}}}})},nt.prototype.renderInner=function(t){var e,i,n,r,o,a,s,l=Object(_.get)(this.get("region"),"style",{}),c=Object(_.get)(this.get("text"),"style",{}),u=this.get("lineLength")||0,h=this.get("points");if(h.length){var p=(i=(e=h).map(function(t){return t.x}),n=e.map(function(t){return t.y}),r=Math.min.apply(Math,i),o=Math.min.apply(Math,n),a=Math.max.apply(Math,i),s=Math.max.apply(Math,n),{x:r,y:o,minX:r,minY:o,maxX:a,maxY:s,width:a-r,height:s-o}),f=[];f.push(["M",h[0].x,p.minY-u]),h.forEach(function(t){f.push(["L",t.x,t.y])}),f.push(["L",h[h.length-1].x,h[h.length-1].y-u]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(b.__assign)({path:f},l)}),this.addShape(t,{type:"text",id:this.getElementId("text"),name:"annotation-text",attrs:Object(b.__assign)({x:(p.minX+p.maxX)/2,y:p.minY-u,text:Object(_.get)(this.get("text"),"content","")},c)})}},nt),et=(L=W,Object(b.__extends)(it,L),it.prototype.getDefaultCfg=function(){var t=L.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},it.prototype.renderInner=function(t){var r=this,e=this.get("start"),i=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});Object(_.each)(this.get("shapes"),function(t,e){var i=t.get("type"),n=Object(_.clone)(t.attr());r.adjustShapeAttrs(n),r.addShape(o,{id:r.getElementId("shape-"+i+"-"+e),capture:!1,type:i,attrs:n})});var n=C({start:e,end:i});o.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}})},it.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},it);function it(){return null!==L&&L.apply(this,arguments)||this}function nt(){return null!==k&&k.apply(this,arguments)||this}function rt(){return null!==E&&E.apply(this,arguments)||this}function ot(){return null!==D&&D.apply(this,arguments)||this}function at(){return null!==B&&B.apply(this,arguments)||this}function st(){return null!==F&&F.apply(this,arguments)||this}function lt(){return null!==I&&I.apply(this,arguments)||this}function ct(){return null!==R&&R.apply(this,arguments)||this}function ut(){return null!==N&&N.apply(this,arguments)||this}function ht(t){var e=Y.call(this,t)||this;return e.initCfg(),e}function pt(i,t,e){var n=t+"Style",r=null;return Object(_.each)(e,function(t,e){i[e]&&t[n]&&(r=r||{},Object(_.mix)(r,t[n]))}),r}var ft,dt=(ft=W,Object(b.__extends)(gt,ft),gt.prototype.getDefaultCfg=function(){var t=ft.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:q.lineColor}},tickLine:{style:{lineWidth:1,stroke:q.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:q.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:q.textColor,textBaseline:"middle",fontFamily:q.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:q.textColor,textBaseline:"middle",fontFamily:q.fontFamily,textAlign:"center"},offset:48},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:q.uncheckedColor}}}}})},gt.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},gt.prototype.isList=function(){return!0},gt.prototype.getItems=function(){return this.get("ticks")},gt.prototype.setItems=function(t){this.update({ticks:t})},gt.prototype.updateItem=function(t,e){Object(_.mix)(t,e),this.clear(),this.render()},gt.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},gt.prototype.setItemState=function(t,e,i){t[e]=i,this.updateTickStates(t)},gt.prototype.hasState=function(t,e){return!!t[e]},gt.prototype.getItemStates=function(i){var t=this.get("tickStates"),n=[];return Object(_.each)(t,function(t,e){i[e]&&n.push(e)}),n},gt.prototype.clearItemsState=function(e){var i=this,t=this.getItemsByState(e);Object(_.each)(t,function(t){i.setItemState(t,e,!1)})},gt.prototype.getItemsByState=function(e){var i=this,t=this.getItems();return Object(_.filter)(t,function(t){return i.hasState(t,e)})},gt.prototype.getSidePoint=function(t,e){var i=this.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},gt.prototype.getTextAnchor=function(t){var e;return Object(_.isNumberEqual)(t[0],0)?e="center":0<t[0]?e="start":t[0]<0&&(e="end"),e},gt.prototype.processOverlap=function(t){},gt.prototype.drawLine=function(t){var e=this.getLinePath(),i=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(_.mix)({path:e},i.style)})},gt.prototype.getTickLineItems=function(t){var n=this,r=[],e=this.get("tickLine"),o=e.alignTick,a=e.length,s=1;return 2<=t.length&&(s=t[1].value-t[0].value),Object(_.each)(t,function(t){var e=t.point;o||(e=n.getTickPoint(t.value-s/2));var i=n.getSidePoint(e,a);r.push({startPoint:e,tickValue:t.value,endPoint:i,tickId:t.id,id:"tickline-"+t.id})}),r},gt.prototype.getSubTickLineItems=function(t){var e=[],i=this.get("subTickLine"),n=i.count,r=t.length;if(2<=r)for(var o=0;o<r-1;o++)for(var a=t[o],s=t[o+1],l=0;l<n;l++){var c=(l+1)/(n+1),u=(1-c)*a.tickValue+c*s.tickValue,h=this.getTickPoint(u),p=this.getSidePoint(h,i.length);e.push({startPoint:h,endPoint:p,tickValue:u,id:"sub-"+a.id+"-"+l})}return e},gt.prototype.getTickLineAttrs=function(t){var e=this.get("tickLine").style,i=t.startPoint,n=t.endPoint;return Object(_.mix)({x1:i.x,y1:i.y,x2:n.x,y2:n.y},e)},gt.prototype.drawTick=function(t,e){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-tickline",attrs:this.getTickLineAttrs(t)})},gt.prototype.drawTickLines=function(i){var n=this,t=this.get("ticks"),e=this.get("subTickLine"),r=this.getTickLineItems(t),o=this.addGroup(i,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),a=this.get("tickLine");if(Object(_.each)(r,function(t){if(a.displayWithLabel){var e=n.getElementId("label-"+t.tickId);i.findById(e)&&n.drawTick(t,o)}else n.drawTick(t,o)}),e){var s=this.getSubTickLineItems(r);Object(_.each)(s,function(t){n.drawTick(t,o)})}},gt.prototype.processTicks=function(){var e=this,t=this.get("ticks");Object(_.each)(t,function(t){t.point=e.getTickPoint(t.value),Object(_.isNil)(t.id)&&(t.id=t.name)})},gt.prototype.drawTicks=function(e){var i=this;this.processTicks(),this.get("label")&&this.drawLabels(e),this.get("tickLine")&&this.drawTickLines(e);var t=this.get("ticks");Object(_.each)(t,function(t){i.applyTickStates(t,e)})},gt.prototype.getLabelAttrs=function(t,e){var i=this.get("label"),n=i.offset,r=i.style,o=i.rotate,a=i.formatter,s=this.getSidePoint(t.point,n),l=this.getSideVector(n,s),c=a?a(t.name,t,e):t.name,u=Object(_.mix)({x:s.x,y:s.y,text:c,textAlign:this.getTextAnchor(l)},r);return o&&(u.matrix=m(s,o)),u},gt.prototype.drawLabels=function(t){var i=this,e=this.get("ticks"),n=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});Object(_.each)(e,function(t,e){i.addShape(n,{type:"text",name:"axis-label",id:i.getElementId("label-"+t.id),attrs:i.getLabelAttrs(t,e),delegateObject:{tick:t,item:t,index:e}})}),this.processOverlap(n)},gt.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,i=t.position,n=t.offset,r=t.autoRotate,o=.5;"start"===i?o=0:"end"===i&&(o=1);var a=this.getTickPoint(o),s=this.getSidePoint(a,n),l=Object(_.mix)({x:s.x,y:s.y,text:t.text},e),c=t.rotate,u=c;if(Object(_.isNil)(c)&&r){var h=this.getAxisVector(a);u=y.vec2.angleTo(h,[1,0],!0)}if(u){var p=m(s,u);l.matrix=p}return l},gt.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},gt.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var i=this.get("tickStates"),n=this.getElementId("label-"+t.id),r=e.findById(n);if(r){var o=pt(t,"label",i);o&&r.attr(o)}var a=this.getElementId("tickline-"+t.id),s=e.findById(a);if(s){var l=pt(t,"tickLine",i);l&&s.attr(l)}}},gt.prototype.updateTickStates=function(t){var e=this.getItemStates(t),i=this.get("tickStates"),n=this.get("label"),r=this.getElementByLocalId("label-"+t.id),o=this.get("tickLine"),a=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(r){var s=pt(t,"label",i);s&&r.attr(s)}if(a){var l=pt(t,"tickLine",i);l&&a.attr(l)}}else r&&r.attr(n.style),a&&a.attr(o.style)},gt);function gt(){return null!==ft&&ft.apply(this,arguments)||this}function yt(t,e){return 0<t.charCodeAt(e)&&t.charCodeAt(e)<128?1:2}function vt(i,t,n,r){var e=t.getChildren(),o=!1;return Object(_.each)(e,function(t){var e=function(t,e,i,n){var r,o,a=e.attr("text"),s=(r=t,o=e.getCanvasBBox(),r?o.width:o.height),l=function(t){for(var e=0,i=0;i<t.length;i++)e+=yt(t,i);return e}(a),c=!1;if(i<s){var u,h=Math.floor(i/s*l)-2;(u=0<=h?function(t,e,i){var n=t.length,r="";if("tail"===i){for(var o=0,a=0;o<e;){var s=yt(t,a);if(!(o+s<=e))break;r+=t[a],o+=yt(t,a),a++}r+="…"}else if("head"===i){for(o=0,a=n-1;o<e&&o+(s=yt(t,a))<=e;)r+=t[a],o+=yt(t,a),a--;r="…"+r}else{for(var l="",c="",u=o=0,h=n-1;o<e;){var p=yt(t,u),f=!1;p+o<=e&&(l+=t[u],u++,o+=p,f=!0);var d=yt(t,h);if(d+o<=e&&(c=t[h]+c,o+=d,h--,f=!0),!f)break}r=l+"…"+c}return r}(a,h,n):"…")&&(e.attr("text",u),c=!0)}return c?e.set("tip",a):e.set("tip",null),c}(i,t,n,r);o=o||e}),o}function mt(){return bt}function xt(t,e,i){return vt(t,e,i,"head")}function bt(t,e,i){return vt(t,e,i,"tail")}function _t(t,e,i){return vt(t,e,i,"middle")}function wt(t){var i=0;return Object(_.each)(t,function(t){var e=t.getBBox().width;i<e&&(i=e)}),i}function Ot(t){var e=t.attr("matrix");return e&&1!==e[0]}function Mt(t,e,i,n,r){void 0===r&&(r=!1);var o=!1;if(t)o=Math.abs(i.y-n.y)<i.height;else if(e){var a=r?n.height:i.height;o=Math.abs(i.x-n.x)<a}else{var s=r?n.width:i.width;o=Math.abs(i.x-n.x)<s}return o}function Ct(t,e,i){var n=e.getChildren().slice();if(!n.length)return!1;var r=!1;i&&n.reverse();for(var o=n.length,a=n[0],s=Ot(a),l=a.getBBox(),c=1;c<o;c++){var u=n[c],h=u.getBBox();Mt(t,s,l,h,i)?(u.hide(),r=!0):l=h}return r}function St(){return Tt}function jt(t,e){return Ct(t,e,!1)}function At(t,e){return Ct(t,e,!0)}function Pt(t,e){var i=e.getChildren().slice();if(i.length<=2)return!1;for(var n=!1,r=i.length,o=i[0],a=i[r-1],s=Ot(o),l=o.getBBox(),c=o,u=1;u<r-1;u++){var h=i[u],p=h.getBBox();Mt(t,s,l,p)?(h.hide(),n=!0):(l=p,c=h)}return Mt(t,s,l,a.getBBox())&&(c.hide(),n=!0),n}function Tt(t,e){var i=e.getChildren().slice();if(i.length<2)return!1;var n=!1,r=i[0],o=r.getBBox(),a=i[1],s=Ot(r),l=i.length,c=0;if(t){var u=Math.abs(a.attr("y")-r.attr("y"));c=o.height/u}else c=s?(u=Math.abs(a.attr("x")-r.attr("x")),o.width/u):wt(i)/(u=Math.abs(a.attr("x")-r.attr("x")));if(1<c){c=Math.ceil(c);for(var h=0;h<l;h++)h%c!=0&&(i[h].hide(),n=!0)}return n}function Lt(t,e,i,n){var r=e.getChildren();if(!r.length)return!1;if(!t&&r.length<2)return!1;var o,a,s=wt(r),l=!1;return(l=t?!!i&&i<s:s>Math.abs(r[1].attr("x")-r[0].attr("x")))&&(o=r,a=n(i,s),Object(_.each)(o,function(t){var e=m({x:t.attr("x"),y:t.attr("y")},a);t.attr("matrix",e)})),l}function kt(){return Et}function Et(t,e,i){return Lt(t,e,i,function(){return t?q.verticalAxisRotate:q.horizontalAxisRotate})}function Dt(n,t,e){return Lt(n,t,e,function(t,e){if(!t)return n?q.verticalAxisRotate:q.horizontalAxisRotate;if(n)return-Math.acos(t/e);var i=0;return(e<t||(i=Math.asin(t/e))>Math.PI/4)&&(i=Math.PI/4),i})}var Bt,Ft,It,Rt,Nt,Yt,Gt,zt,Xt,Vt=(Xt=dt,Object(b.__extends)(se,Xt),se.prototype.getDefaultCfg=function(){var t=Xt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},se.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",e.x,e.y]),i},se.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),e=this.get("end"),i=Xt.prototype.getInnerLayoutBBox.call(this),n=Math.min(t.x,e.x,i.x),r=Math.min(t.y,e.y,i.y),o=Math.max(t.x,e.x,i.maxX),a=Math.max(t.y,e.y,i.maxY);return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:a,width:o-n,height:a-r}},se.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return Object(_.isNumberEqual)(t.x,e.x)},se.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return Object(_.isNumberEqual)(t.y,e.y)},se.prototype.getTickPoint=function(t){var e=this.get("start"),i=this.get("end"),n=i.x-e.x,r=i.y-e.y;return{x:e.x+n*t,y:e.y+r*t}},se.prototype.getSideVector=function(t){var e=this.getAxisVector(),i=y.vec2.normalize([],e),n=this.get("verticalFactor"),r=[i[1],-1*i[0]];return y.vec2.scale([],r,t*n)},se.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},se.prototype.processOverlap=function(e){var i=this,t=this.isVertical(),n=this.isHorizontal();if(t||n){var r=this.get("label"),o=this.get("title"),a=this.get("verticalLimitLength"),s=r.offset,l=a,c=0,u=0;o&&(c=o.style.fontSize,u=o.spacing),l=l&&l-s-u-c;var h=this.get("overlapOrder");if(Object(_.each)(h,function(t){r[t]&&i.autoProcessOverlap(t,r[t],e,l)}),o){var p=e.getBBox(),f=t?p.width:p.height;o.offset=s+f+u+c/2}}},se.prototype.autoProcessOverlap=function(t,e,i,n){var r=this,o=this.isVertical(),a=!1,s=h[t];if(!0===e?a=s.getDefault()(o,i,n):Object(_.isFunction)(e)?a=e(o,i,n):s[e]&&(a=s[e](o,i,n)),"autoRotate"===t){if(a){var l=i.getChildren(),c=this.get("verticalFactor");Object(_.each)(l,function(t){if("center"===t.attr("textAlign")){var e=0<c?"end":"start";t.attr("textAlign",e)}})}}else if("autoHide"===t){var u=i.getChildren().slice(0);Object(_.each)(u,function(t){t.get("visible")||(r.get("isRegister")&&r.unregisterElement(t),t.remove())})}},se),Ht=(zt=dt,Object(b.__extends)(ae,zt),ae.prototype.getDefaultCfg=function(){var t=zt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},ae.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,i=t.y,n=this.get("radius"),r=n,o=this.get("startAngle"),a=this.get("endAngle"),s=[];if(Math.abs(a-o)===2*Math.PI)s=[["M",e,i-r],["A",n,r,0,1,1,e,i+r],["A",n,r,0,1,1,e,i-r],["Z"]];else{var l=this.getCirclePoint(o),c=this.getCirclePoint(a),u=Math.abs(a-o)>Math.PI?1:0,h=a<o?0:1;s=[["M",e,i],["L",l.x,l.y],["A",n,r,0,u,h,c.x,c.y],["L",e,i]]}return s},ae.prototype.getTickPoint=function(t){var e=this.get("startAngle"),i=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(i)},ae.prototype.getSideVector=function(t,e){var i=this.get("center"),n=[e.x-i.x,e.y-i.y],r=this.get("verticalFactor"),o=y.vec2.length(n);return y.vec2.scale(n,n,r*t/o),n},ae.prototype.getAxisVector=function(t){var e=this.get("center"),i=[t.x-e.x,t.y-e.y];return[i[1],-1*i[0]]},ae.prototype.getCirclePoint=function(t,e){var i=this.get("center");return e=e||this.get("radius"),{x:i.x+Math.cos(t)*e,y:i.y+Math.sin(t)*e}},ae),Wt=(Gt=W,Object(b.__extends)(oe,Gt),oe.prototype.getDefaultCfg=function(){var t=Gt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:q.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:q.textColor,textAlign:"center",textBaseline:"middle",fontFamily:q.fontFamily}},textBackground:{padding:5,style:{stroke:q.lineColor}}}})},oe.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},oe.prototype.renderText=function(t){var e=this.get("text"),i=e.style,n=e.autoRotate,r=e.content;if(!Object(_.isNil)(r)){var o=this.getTextPoint(),a=null;n&&(a=m(o,this.getRotateAngle())),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({},o),{text:r,matrix:a}),i)})}},oe.prototype.renderLine=function(t){var e=this.getLinePath(),i=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(b.__assign)({path:e},i)})},oe.prototype.renderBackground=function(t){var e=this.getElementId("text"),i=t.findById(e),n=this.get("textBackground");if(n&&i){var r=i.getBBox(),o=O(n.padding),a=n.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(b.__assign)({x:r.x-o[3],y:r.y-o[0],width:r.width+o[1]+o[3],height:r.height+o[0]+o[2],matrix:i.attr("matrix")},a)}).toBack()}},oe),qt=(Yt=Wt,Object(b.__extends)(re,Yt),re.prototype.getDefaultCfg=function(){var t=Yt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},re.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get("text").position,r=Math.atan2(i.y-e.y,i.x-e.x);return"start"===n?r-Math.PI/2:r+Math.PI/2},re.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get("text");return T(e,i,n.position,n.offset)},re.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,i=t.end;return[["M",e.x,e.y],["L",i.x,i.y]]},re),Ut=(Nt=Wt,Object(b.__extends)(ne,Nt),ne.prototype.getDefaultCfg=function(){var t=Nt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},ne.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,i=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:i-Math.PI/2},ne.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,i=t.offset,n=this.getLocation(),r=n.center,o=n.radius,a=n.startAngle,s=n.endAngle,l="start"===e?a:s,c=this.getRotateAngle()-Math.PI,u=A(r,o,l),h=Math.cos(c)*i,p=Math.sin(c)*i;return{x:u.x+h,y:u.y+p}},ne.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,i=t.radius,n=t.startAngle,r=t.endAngle,o=null;if(r-n==2*Math.PI){var a=e.x,s=e.y;o=[["M",a,s-i],["A",i,i,0,1,1,a,s+i],["A",i,i,0,1,1,a,s-i],["Z"]]}else{var l=A(e,i,n),c=A(e,i,r),u=Math.abs(r-n)>Math.PI?1:0,h=r<n?0:1;o=[["M",l.x,l.y],["A",i,i,0,u,h,c.x,c.y]]}return o},ne),Zt=i(5),Kt=(Rt=X,Object(b.__extends)(ie,Rt),ie.prototype.getDefaultCfg=function(){var t=Rt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},ie.prototype.getContainer=function(){return this.get("container")},ie.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},ie.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},ie.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},ie.prototype.getBBox=function(){var t=this.getContainer();return S(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},ie.prototype.clear=function(){M(this.get("container"))},ie.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Rt.prototype.destroy.call(this)},ie.prototype.init=function(){Rt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},ie.prototype.initCapture=function(){this.setCapture(this.get("capture"))},ie.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},ie.prototype.initDom=function(){},ie.prototype.initContainer=function(){var t=this.get("container");if(Object(_.isNil)(t)){t=this.createDom();var e=this.get("parent");Object(_.isString)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.set("container",t)}else Object(_.isString)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},ie.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?Object(_.deepMix)({},e,t):e,this.set("domStyles",t)},ie.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var i=this.get("containerClassName");if(i&&e.className.match(new RegExp("(\\s|^)"+i+"(\\s|$)"))){var n=t[i];Object(Zt.modifyCSS)(e,n)}}},ie.prototype.applyChildrenStyles=function(n,t){Object(_.each)(t,function(e,t){var i=n.getElementsByClassName(t);Object(_.each)(i,function(t){Object(Zt.modifyCSS)(t,e)})})},ie.prototype.applyStyle=function(t,e){var i=this.get("domStyles");Object(Zt.modifyCSS)(e,i[t])},ie.prototype.createDom=function(){var t=this.get("containerTpl");return Object(Zt.createDom)(t)},ie.prototype.initEvent=function(){},ie.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},ie.prototype.removeEvent=function(){},ie.prototype.updateInner=function(t){Object(_.hasKey)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},ie.prototype.resetPosition=function(){},ie),$t=((Bt={})["g2-crosshair"]={position:"relative"},Bt["g2-crosshair-line"]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Bt["g2-crosshair-text"]={position:"absolute",color:q.textColor,fontFamily:q.fontFamily},Bt),Qt=(It=Kt,Object(b.__extends)(ee,It),ee.prototype.getDefaultCfg=function(){var t=It.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="g2-crosshair"></div>',crosshairTpl:'<div class="g2-crosshair-line"></div>',textTpl:'<span class="g2-crosshair-text">{content}</span>',domStyles:null,containerClassName:"g2-crosshair",defaultStyles:$t,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},ee.prototype.render=function(){this.resetText(),this.resetPosition()},ee.prototype.initCrossHair=function(){var t=this.getContainer(),e=this.get("crosshairTpl"),i=Object(Zt.createDom)(e);t.appendChild(i),this.applyStyle("g2-crosshair-line",i),this.set("crosshairEl",i)},ee.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get("text");return T(e,i,n.position,n.offset)},ee.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var i=t.content;if(!e){var n=this.getContainer(),r=Object(_.substitute)(this.get("textTpl"),t);e=Object(Zt.createDom)(r),n.appendChild(e),this.applyStyle("g2-crosshair-text",e),this.set("textEl",e)}e.innerHTML=i}else e&&e.remove()},ee.prototype.isVertical=function(t,e){return t.x===e.x},ee.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),i=this.get("end"),n=Math.min(e.x,i.x),r=Math.min(e.y,i.y);this.isVertical(e,i)?Object(Zt.modifyCSS)(t,{width:"1px",height:P(Math.abs(i.y-e.y))}):Object(Zt.modifyCSS)(t,{height:"1px",width:P(Math.abs(i.x-e.x))}),Object(Zt.modifyCSS)(t,{top:P(r),left:P(n)}),this.alignText()},ee.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,i=t.clientWidth,n=this.getTextPoint();switch(e){case"center":n.x=n.x-i/2;break;case"right":n.x=n.x-i}Object(Zt.modifyCSS)(t,{top:P(n.y),left:P(n.x)})}},ee.prototype.updateInner=function(t){Object(_.hasKey)(t,"text")&&this.resetText(),It.prototype.updateInner.call(this,t)},ee),Jt=(Ft=W,Object(b.__extends)(te,Ft),te.prototype.getDefaultCfg=function(){var t=Ft.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:q.lineColor}}}})},te.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},te.prototype.renderInner=function(t){this.drawGrid(t)},te.prototype.getAlternatePath=function(t,e){var i=this.getGridPath(t),n=e.slice(0).reverse(),r=this.getGridPath(n,!0);return this.get("closed")?i=i.concat(r):(r[0][0]="L",(i=i.concat(r)).push(["Z"])),i},te.prototype.getPathStyle=function(){return this.get("line").style},te.prototype.drawGrid=function(c){var u=this,h=this.get("line"),t=this.get("items"),p=this.get("alternateColor"),f=null;Object(_.each)(t,function(t,e){var i=t.id||e;if(h){var n=u.getPathStyle(),r=u.getElementId("line-"+i),o=u.getGridPath(t.points);u.addShape(c,{type:"path",name:"grid-line",id:r,attrs:Object(_.mix)({path:o},n)})}if(p&&0<e){var a=u.getElementId("region-"+i),s=e%2==0;if(Object(_.isString)(p))s&&u.drawAlternateRegion(a,c,f.points,t.points,p);else{var l=s?p[1]:p[0];u.drawAlternateRegion(a,c,f.points,t.points,l)}}f=t})},te.prototype.drawAlternateRegion=function(t,e,i,n,r){var o=this.getAlternatePath(i,n);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:o,fill:r}})},te);function te(){return null!==Ft&&Ft.apply(this,arguments)||this}function ee(){return null!==It&&It.apply(this,arguments)||this}function ie(){return null!==Rt&&Rt.apply(this,arguments)||this}function ne(){return null!==Nt&&Nt.apply(this,arguments)||this}function re(){return null!==Yt&&Yt.apply(this,arguments)||this}function oe(){return null!==Gt&&Gt.apply(this,arguments)||this}function ae(){return null!==zt&&zt.apply(this,arguments)||this}function se(){return null!==Xt&&Xt.apply(this,arguments)||this}var le,ce,ue,he,pe,fe,de=(fe=Jt,Object(b.__extends)(De,fe),De.prototype.getDefaultCfg=function(){var t=fe.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"circle",center:null,closed:!0})},De.prototype.getGridPath=function(t,e){var i,n,r,o,a=this.getLineType(),s=this.get("closed"),l=[];if(t.length)if("circle"===a){var c=this.get("center"),u=t[0],h=(i=c.x,n=c.y,r=u.x-i,o=u.y-n,Math.sqrt(r*r+o*o)),p=e?0:1;s?(l.push(["M",c.x,c.y-h]),l.push(["A",h,h,0,0,p,c.x,c.y+h]),l.push(["A",h,h,0,0,p,c.x,c.y-h]),l.push(["Z"])):Object(_.each)(t,function(t,e){0===e?l.push(["M",t.x,t.y]):l.push(["A",h,h,0,0,p,t.x,t.y])})}else Object(_.each)(t,function(t,e){0===e?l.push(["M",t.x,t.y]):l.push(["L",t.x,t.y])}),s&&l.push(["Z"]);return l},De),ge=(pe=Jt,Object(b.__extends)(Ee,pe),Ee.prototype.getDefaultCfg=function(){var t=pe.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"line"})},Ee.prototype.getGridPath=function(t){var i=[];return Object(_.each)(t,function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),i},Ee),ye=(he=W,Object(b.__extends)(ke,he),ke.prototype.getDefaultCfg=function(){var t=he.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},ke.prototype.getLayoutBBox=function(){var t=he.prototype.getLayoutBBox.call(this),e=this.get("x"),i=this.get("y"),n=this.get("offsetX"),r=this.get("offsetY"),o=this.get("maxWidth"),a=this.get("maxHeight"),s=e+n,l=i+r,c=t.maxX-s,u=t.maxY-l;return o&&(c=Math.min(c,o)),a&&(u=Math.min(u,a)),S(s,l,c,u)},ke.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},ke.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),i=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+i,y:e+n})},ke.prototype.applyOffset=function(){this.resetLocation()},ke.prototype.getDrawPoint=function(){return this.get("currentPoint")},ke.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},ke.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},ke.prototype.drawBackground=function(t){var e=this.get("background"),i=t.getBBox(),n=O(e.padding),r=Object(b.__assign)({x:0,y:0,width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:r}).toBack()},ke.prototype.drawTitle=function(t){var e=this.get("currentPoint"),i=this.get("title"),n=i.spacing,r=i.style,o=i.text,a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(b.__assign)({text:o,x:e.x,y:e.y},r)}).getBBox();this.set("currentPoint",{x:e.x,y:a.maxY+n})},ke.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var i=O(t.padding);e.x=i[3],e.y=i[0]}this.set("currentPoint",e)},ke),ve=(ue=ye,Object(b.__extends)(Le,ue),Le.prototype.getDefaultCfg=function(){var t=ue.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"legend",type:"category",itemSpacing:24,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:q.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:q.uncheckedColor},markerStyle:{fill:q.uncheckedColor,stroke:q.uncheckedColor}},inactive:{nameStyle:{fill:q.uncheckedColor},markerStyle:{opacity:.2}}}}})},Le.prototype.isList=function(){return!0},Le.prototype.getItems=function(){return this.get("items")},Le.prototype.setItems=function(t){this.update({items:t})},Le.prototype.updateItem=function(t,e){Object(_.mix)(t,e),this.clear(),this.render()},Le.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},Le.prototype.setItemState=function(t,e,i){t[e]=i;var n=this.getElementByLocalId("item-"+t.id);if(n){var r=this.getItems().indexOf(t),o=this.createOffScreenGroup(),a=this.drawItem(t,r,this.getItemHeight(),o);this.updateElements(a,n),this.clearUpdateStatus(n)}},Le.prototype.hasState=function(t,e){return!!t[e]},Le.prototype.getItemStates=function(i){var t=this.get("itemStates"),n=[];return Object(_.each)(t,function(t,e){i[e]&&n.push(e)}),n},Le.prototype.clearItemsState=function(e){var i=this,t=this.getItemsByState(e);Object(_.each)(t,function(t){i.setItemState(t,e,!1)})},Le.prototype.getItemsByState=function(e){var i=this,t=this.getItems();return Object(_.filter)(t,function(t){return i.hasState(t,e)})},Le.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},Le.prototype.processItems=function(){var t=this.get("items");Object(_.each)(t,function(t){t.id||(t.id=t.name)})},Le.prototype.drawItems=function(t){var o=this,e=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(e,{id:this.getElementId("item-group"),name:"legend-item-group"}),s=this.getItemHeight(),l=this.get("itemWidth"),c=this.get("itemSpacing"),u=this.get("currentPoint"),h=u.x,p=u.y,f=this.get("layout"),i=this.get("items"),d=!1,g=0,y=this.get("maxWidth"),v=this.get("maxHeight");Object(_.each)(i,function(t,e){var i=o.drawItem(t,e,s,a),n=i.getBBox(),r=l||n.width;g<r&&(g=r),"horizontal"===f?(y&&y<u.x+r-h&&(d=!0,u.x=h,u.y+=s),o.moveElementTo(i,u),u.x+=r+c):(v&&v<u.y+s-p&&(d=!0,u.x+=g+c,u.y=p,g=0),o.moveElementTo(i,u),u.y+=s)}),d&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=h,this.startY=p,this.adjustNavigation(t,a))},Le.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=this.get("itemName");e&&(t=e.style.fontSize+8)}return t},Le.prototype.drawMarker=function(t,e,i,n){var r=Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({x:0,y:n/2},e.style),{symbol:Object(_.get)(i.marker,"symbol","circle")}),Object(_.get)(i.marker,"style",{})),o=this.addShape(t,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:r}),a=o.getBBox();o.attr("x",a.width/2);var s=o.attr(),l=s.stroke,c=s.fill;return l&&o.set("isStroke",!0),c&&o.set("isFill",!0),o},Le.prototype.drawItemText=function(t,e,i,n,r,o,a){var s=i.formatter,l=Object(b.__assign)({x:o,y:r/2,text:s?s(n[e],n,a):n[e]},i.style);return this.addShape(t,{type:"text",id:this.getElementId("item-"+n.id+"-"+e),name:"legend-item-"+e,attrs:l})},Le.prototype.drawItem=function(t,e,i,n){var r="item-"+t.id,o=this.addGroup(n,{name:"legend-item",id:this.getElementId(r),delegateObject:{item:t,index:e}}),a=this.get("marker"),s=this.get("itemName"),l=this.get("itemValue"),c=this.get("itemBackground"),u=0;if(a&&(u=this.drawMarker(o,a,t,i).getBBox().maxX+a.spacing),s&&(u=this.drawItemText(o,"name",s,t,i,u,e).getBBox().maxX+s.spacing),l){var h=this.drawItemText(o,"value",l,t,i,u,e),p=this.get("itemWidth");p&&l.alignRight&&h.attr({textAlign:"right",x:p})}if(c){var f=o.getBBox();this.addShape(o,{type:"rect",name:"legend-item-background",id:this.getElementId(r+"-background"),attrs:Object(b.__assign)({x:0,y:0,width:f.width,height:i},c.style)}).toBack()}return this.applyItemStates(t,o),o},Le.prototype.adjustNavigation=function(t,e){var n=this,r=this.startX,i=this.startY,o=this.get("layout"),a=e.findAll(function(t){return"legend-item"===t.get("name")}),s=this.get("maxWidth"),l=this.get("maxHeight"),c=this.get("itemWidth"),u=this.get("itemSpacing"),h=this.getItemHeight(),p=this.drawNavigation(t,o,"00/00",12),f=p.getBBox(),d={x:r,y:i},g=1,y=0,v=0,m=0;if("horizontal"===o)this.pageHeight=h,Object(_.each)(a,function(t){var e=t.getBBox(),i=c||e.width;(y&&y<d.x+i+u||s<d.x+i+u+f.width)&&(1===g&&(y=d.x+u,n.pageWidth=y,n.moveElementTo(p,{x:s-u-f.width-f.minX,y:d.y+h/2-f.height/2-f.minY})),g+=1,d.x=r,d.y+=h),n.moveElementTo(t,d),d.x+=i+u});else{Object(_.each)(a,function(t){var e=t.getBBox();e.width>v&&(v=e.width)}),m=v,v+=u,s&&(v=Math.min(s,v),m=Math.min(s,m)),this.pageWidth=v,this.pageHeight=l-Math.max(f.height,h);var x=Math.floor(this.pageHeight/h);Object(_.each)(a,function(t,e){0!==e&&e%x==0&&(g+=1,d.x+=v,d.y=i),n.moveElementTo(t,d),d.y+=h}),this.totalPagesCnt=g,this.moveElementTo(p,{x:r+m/2-f.width/2-f.minX,y:l-f.height-f.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=g,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(p),e.attr("matrix",this.getCurrentNavigationMatrix())},Le.prototype.drawNavigation=function(t,e,i,n){var r={x:0,y:0},o=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),a=this.drawArrow(o,r,"navigation-arrow-left","horizontal"===e?"up":"left",n);a.on("click",this.onNavigationBack);var s=a.getBBox();r.x+=s.width+2;var l=this.addShape(o,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:r.x,y:r.y+n/2,text:i,fontSize:12,fill:"#ccc",textBaseline:"middle"}}).getBBox();return r.x+=l.width+2,this.drawArrow(o,r,"navigation-arrow-right","horizontal"===e?"down":"right",n).on("click",this.onNavigationAfter),o},Le.prototype.updateNavigation=function(t){var e=this.currentPageIndex+"/"+this.totalPagesCnt,i=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),n=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),r=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),o=i.getBBox();i.attr("text",e);var a=i.getBBox();i.attr("x",i.attr("x")-(a.width-o.width)/2),n.attr("opacity",1===this.currentPageIndex?.45:1),n.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),r.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),r.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},Le.prototype.drawArrow=function(t,e,i,n,r){var o=e.x,a=e.y,s={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},l=this.addShape(t,{type:"path",id:this.getElementId(i),name:i,attrs:{path:[["M",o+r/2,a],["L",o,a+r],["L",o+r,a+r],["Z"]],fill:"#000",cursor:"pointer"}});return l.attr("matrix",m({x:o+r/2,y:a+r/2},s[n])),l},Le.prototype.getCurrentNavigationMatrix=function(){var t=this.currentPageIndex,e=this.pageWidth,i=this.pageHeight;return x("horizontal"===this.get("layout")?{x:0,y:i*(1-t)}:{x:e*(1-t),y:0})},Le.prototype.applyItemStates=function(n,t){if(0<this.getItemStates(n).length){var e=t.getChildren(),r=this.get("itemStates");Object(_.each)(e,function(t){var e=t.get("name").split("-")[2],i=pt(n,e,r);i&&(t.attr(i),"marker"!==e||t.get("isStroke")&&t.get("isFill")||(t.get("isStroke")&&t.attr("fill",null),t.get("isFill")&&t.attr("stroke",null)))})}},Le),me=(ce=ye,Object(b.__extends)(Te,ce),Te.prototype.getDefaultCfg=function(){var t=ce.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:q.textColor,textBaseline:"middle",fontFamily:q.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},Te.prototype.isSlider=function(){return!0},Te.prototype.getValue=function(){return this.getCurrentValue()},Te.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},Te.prototype.setRange=function(t,e){this.update({min:t,max:e})},Te.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:e,value:t})},Te.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},Te.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},Te.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},Te.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(t){var e=n.getValueByCanvasPoint(t.x,t.y),i=n.getCurrentValue()[1];i<e&&(i=e),n.setValue([e,i])}),t.on("legend-handler-max:drag",function(t){var e=n.getValueByCanvasPoint(t.x,t.y),i=n.getCurrentValue()[0];e<i&&(i=e),n.setValue([i,e])})},Te.prototype.bindRailEvent=function(t){},Te.prototype.bindTrackEvent=function(t){var s=this,l=null;t.on("legend-track:dragstart",function(t){l={x:t.x,y:t.y}}),t.on("legend-track:drag",function(t){if(l){var e=s.getValueByCanvasPoint(l.x,l.y),i=s.getValueByCanvasPoint(t.x,t.y),n=s.getCurrentValue(),r=n[1]-n[0],o=s.getRange(),a=i-e;a<0?n[0]+a>o.min?s.setValue([n[0]+a,n[1]+a]):s.setValue([o.min,o.min+r]):0<a&&(0<a&&n[1]+a<o.max?s.setValue([n[0]+a,n[1]+a]):s.setValue([o.max-r,o.max])),l={x:t.x,y:t.y}}}),t.on("legend-track:dragend",function(t){l=null})},Te.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},Te.prototype.drawLabel=function(t,e){var i=this.get("label"),n=i.style,r=i.align,o=this.get(t),a=this.getLabelAlignAttrs(t,r),s="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(s),name:"legend-label-"+t,attrs:Object(b.__assign)(Object(b.__assign)({x:0,y:0,text:o},n),a)})},Te.prototype.getLabelAlignAttrs=function(t,e){var i="center",n="middle";return this.isVertical()?(i="start",n="rail"===e||"min"===t?"top":"bottom"):"rail"!==e?(n="top",i="min"===t?"start":"end"):(i="start",n="middle"),{textAlign:i,textBaseline:n}},Te.prototype.getRailPath=function(t,e,i,n){var r=this.get("rail"),o=r.size,a=r.defaultLength,s=r.type,l=this.isVertical(),c=i,u=n;c=c||(l?o:a),u=u||(l?a:o);var h=[];return"color"===s?(h.push(["M",t,e]),h.push(["L",t+c,e])):h.push(["M",t+c,e]),h.push(["L",t+c,e+u]),h.push(["L",t,e+u]),h.push(["Z"]),h},Te.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(b.__assign)({path:this.getRailPath(0,0)},e)})},Te.prototype.getTrackColor=function(t){var e,i=t.length;if(!i)return null;if(1===i)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var n=0;n<i;n++)e+=" "+n/(i-1)+":"+t[n];return e},Te.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return Object(_.clone)(e)},Te.prototype.getClipTrackAttrs=function(t){var e,i,n,r,o=this.getCurrentValue(),a=o[0],s=o[1],l=this.getRailBBox(t),c=this.getPointByValue(a,t),u=this.getPointByValue(s,t);return r=this.isVertical()?(e=l.minX,i=c.y,n=l.width,u.y-c.y):(e=c.x,i=l.minY,n=u.x-c.x,l.height),{x:e,y:i,width:n,height:r}},Te.prototype.getTrackAttrs=function(t){var e=this.get("track"),i=this.get("colors"),n=this.getTrackPath(t);return Object(_.mix)({path:n,fill:this.getTrackColor(i)},e.style)},Te.prototype.resetTrackClip=function(t){var e=t||this.get("group"),i=this.getElementId("track"),n=e.findById(i),r=n.getClip(),o=this.getClipTrackAttrs(t);r?r.attr(o):n.setClip({type:"rect",attrs:o})},Te.prototype.resetTrack=function(t){var e=this.getElementId("track"),i=t.findById(e),n=this.getTrackAttrs(t);i?i.attr(n):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:n})},Te.prototype.getPointByValue=function(t,e){var i=this.getRange(),n=i.min,r=(t-n)/(i.max-n),o=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=o.minX+o.width/2,a.y=j(o.minY,o.maxY,r)):(a.x=j(o.minX,o.maxX,r),a.y=o.minY+o.height/2),a},Te.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},Te.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},Te.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},Te.prototype.isVertical=function(){return"vertical"===this.get("layout")},Te.prototype.getValueByCanvasPoint=function(t,e){var i=this.getRange(),n=i.min,r=i.max,o=this.getRailCanvasBBox(),a=this.isVertical(),s=this.get("step"),l=j(n,r,a?(e-o.minY)/o.height:(t-o.minX)/o.width);return s&&(l=n+Math.round((l-n)/s)*s),r<l&&(l=r),l<n&&(l=n),l},Te.prototype.getCurrentValue=function(){var t=this.get("value");return t=t||[this.get("min"),this.get("max")]},Te.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),i=e[0],n=e[1];this.resetHandler(t,"min",i),this.resetHandler(t,"max",n)},Te.prototype.getHandlerPath=function(t,e){var i=this.isVertical(),n=[],r=t.size,o=e.x,a=e.y,s=1.4*r,l=r/2,c=r/6;if(i){var u=o+.4*s;n.push(["M",o,a]),n.push(["L",u,a+l]),n.push(["L",o+s,a+l]),n.push(["L",o+s,a-l]),n.push(["L",u,a-l]),n.push(["Z"]),n.push(["M",u,a+c]),n.push(["L",o+s-2,a+c]),n.push(["M",u,a-c]),n.push(["L",o+s-2,a-c])}else{var h=a+.4*s;n.push(["M",o,a]),n.push(["L",o-l,h]),n.push(["L",o-l,a+s]),n.push(["L",o+l,a+s]),n.push(["L",o+l,h]),n.push(["Z"]),n.push(["M",o-c,h]),n.push(["L",o-c,a+s-2]),n.push(["M",o+c,h]),n.push(["L",o+c,a+s-2])}return n},Te.prototype.resetHandler=function(t,e,i){var n=this.getPointByValue(i,t),r=this.get("handler"),o=this.getHandlerPath(r,n),a=this.getElementId("handler-"+e),s=t.findById(a),l=this.isVertical();s?s.attr("path",o):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:a,attrs:Object(b.__assign)(Object(b.__assign)({path:o},r.style),{cursor:l?"ns-resize":"ew-resize"})})},Te.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),i=t.findById(this.getElementId("label-min")),n=t.findById(this.getElementId("label-max")),r=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,n,e,r):this.fixedHorizontal(i,n,e,r)},Te.prototype.fitRailLength=function(t,e,i,n){var r=this.isVertical()?"height":"width",o=this.get("label"),a=o.align,s=o.spacing,l=this.get("max"+Object(_.upperFirst)(r));if(l){var c=("rail"===a?i[r]+t[r]+e[r]+2*s:i[r])-l;0<c&&this.changeRailLength(n,r,i[r]-c)}},Te.prototype.changeRailLength=function(t,e,i){var n,r=t.getBBox();n="height"===e?this.getRailPath(r.x,r.y,r.width,i):this.getRailPath(r.x,r.y,i,r.height),t.attr("path",n)},Te.prototype.changeRailPosition=function(t,e,i){var n=t.getBBox(),r=this.getRailPath(e,i,n.width,n.height);t.attr("path",r)},Te.prototype.fixedHorizontal=function(t,e,i,n){var r=this.get("label"),o=r.align,a=r.spacing,s=i.getBBox(),l=t.getBBox(),c=e.getBBox(),u=s.height;this.fitRailLength(l,c,s,i),s=i.getBBox(),"rail"===o?(t.attr({x:n.x,y:n.y+u/2}),this.changeRailPosition(i,n.x+l.width+a,n.y),e.attr({x:n.x+l.width+s.width+2*a,y:n.y+u/2})):"top"===o?(t.attr({x:n.x,y:n.y}),e.attr({x:n.x+s.width,y:n.y}),this.changeRailPosition(i,n.x,n.y+l.height+a)):(this.changeRailPosition(i,n.x,n.y),t.attr({x:n.x,y:n.y+s.height+a}),e.attr({x:n.x+s.width,y:n.y+s.height+a}))},Te.prototype.fixedVertail=function(t,e,i,n){var r=this.get("label"),o=r.align,a=r.spacing,s=i.getBBox(),l=t.getBBox(),c=e.getBBox();if(this.fitRailLength(l,c,s,i),s=i.getBBox(),"rail"===o)t.attr({x:n.x,y:n.y}),this.changeRailPosition(i,n.x,n.y+l.height+a),e.attr({x:n.x,y:n.y+l.height+s.height+2*a});else if("right"===o)t.attr({x:n.x+s.width+a,y:n.y}),this.changeRailPosition(i,n.x,n.y),e.attr({x:n.x+s.width+a,y:n.y+s.height});else{var u=Math.max(l.width,c.width);t.attr({x:n.x,y:n.y}),this.changeRailPosition(i,n.x+u+a,n.y),e.attr({x:n.x,y:n.y+s.height})}},Te),xe=i(35),be="g2-tooltip",_e="g2-tooltip-title",we="g2-tooltip-list",Oe="g2-tooltip-list-item",Me="g2-tooltip-marker",Ce="g2-tooltip-value",Se="g2-tooltip-name",je="g2-tooltip-crosshair-x",Ae="g2-tooltip-crosshair-y",Pe=((le={})[""+be]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:q.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},le[""+_e]={marginBottom:"4px"},le[""+we]={margin:0,listStyleType:"none",padding:0},le[""+Oe]={listStyleType:"none",marginBottom:"4px"},le[""+Me]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},le[""+Ce]={display:"inline-block",float:"right",marginLeft:"30px"},le[""+je]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},le[""+Ae]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},le);function Te(){return null!==ce&&ce.apply(this,arguments)||this}function Le(){var i=null!==ue&&ue.apply(this,arguments)||this;return i.currentPageIndex=1,i.totalPagesCnt=1,i.pageWidth=0,i.pageHeight=0,i.startX=0,i.startY=0,i.onNavigationBack=function(){var t=i.getElementByLocalId("item-group");if(1<i.currentPageIndex){--i.currentPageIndex,i.updateNavigation();var e=i.getCurrentNavigationMatrix();i.get("animate")?t.animate({matrix:e},100):t.attr({matrix:e})}},i.onNavigationAfter=function(){var t=i.getElementByLocalId("item-group");if(i.currentPageIndex<i.totalPagesCnt){i.currentPageIndex+=1,i.updateNavigation();var e=i.getCurrentNavigationMatrix();i.get("animate")?t.animate({matrix:e},100):t.attr({matrix:e})}},i}function ke(){return null!==he&&he.apply(this,arguments)||this}function Ee(){return null!==pe&&pe.apply(this,arguments)||this}function De(){return null!==fe&&fe.apply(this,arguments)||this}var Be,Fe=(Be=Kt,Object(b.__extends)(ze,Be),ze.prototype.getDefaultCfg=function(){var t=Be.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],containerTpl:'<div class="'+be+'"><div class="'+_e+'"></div><ul class="'+we+'"></ul></div>',itemTpl:'<li class="'+Oe+'" data-index={index}>\n          <span class="'+Me+'" style="background:{color}"></span>\n          <span class="'+Se+'">{name}</span>:\n          <span class="'+Ce+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+je+'"></div>',yCrosshairTpl:'<div class="'+Ae+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:be,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Pe})},ze.prototype.render=function(){this.resetTitle(),this.renderItems(),this.resetPosition()},ze.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},ze.prototype.updateInner=function(t){var e,i,n;e=t,n=!(i=["title","showTitle"]),Object(_.each)(i,function(t){if(Object(_.hasKey)(e,t))return!(n=!0)}),n&&this.resetTitle(),Object(_.hasKey)(t,"items")&&this.renderItems(),Be.prototype.updateInner.call(this,t)},ze.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),Object(Zt.modifyCSS)(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},ze.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),Object(Zt.modifyCSS)(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},ze.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},ze.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},ze.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",i=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");i&&Object(Zt.modifyCSS)(i,{display:e}),n&&Object(Zt.modifyCSS)(n,{display:e})},ze.prototype.initDom=function(){this.cacheDoms()},ze.prototype.removeDom=function(){Be.prototype.removeDom.call(this),this.clearCrosshairs()},ze.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(_e)[0],i=t.getElementsByClassName(we)[0];this.set("titleDom",e),this.set("listDom",i)},ze.prototype.resetPosition=function(){var t,e=this.get("x"),i=this.get("y"),n=this.get("offset"),r=this.getOffset(),o=r.offsetX,a=r.offsetY,s=this.get("position"),l=this.get("region"),c=this.getContainer(),u=this.getBBox(),h=u.width,p=u.height;l&&(t=C(l));var f=function(t,e,i,n,r,s,o){var a,l,c,u,h=function(t,e,i,n,r){var o=t,a=e;switch(s){case"left":o=t-n-i,a=e-r/2;break;case"right":o=t+i,a=e-r/2;break;case"top":o=t-n/2,a=e-r-i;break;case"bottom":o=t-n/2,a=e+i;break;default:o=t+i,a=e-r-i}return{x:o,y:a}}(t,e,i,n,r);if(o){var p=(a=h.x,l=h.y,c=n,u=r,{left:a<o.x,right:a+c>o.x+o.width,top:l<o.y,bottom:l+u>o.y+o.height});"auto"===s?(p.right&&(h.x=t-n-i),p.top&&(h.y=e+i)):"top"===s||"bottom"===s?(p.left&&(h.x=o.x),p.right&&(h.x=o.x+o.width-n),"top"===s&&p.top&&(h.y=e+i),"bottom"===s&&p.bottom&&(h.y=e-r-i)):(p.top&&(h.y=o.y),p.bottom&&(h.y=o.y+o.height-r),"left"===s&&p.left&&(h.x=t+i),"right"===s&&p.right&&(h.x=t-n-i))}return h}(e,i,n,h,p,s,t);Object(Zt.modifyCSS)(c,{left:P(f.x+o),top:P(f.y+a)}),this.resetCrosshairs()},ze.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},ze.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},ze.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var i=C(t),n=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",i),r&&(r.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",i),n&&(n.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",i),this.resetCrosshair("y",i)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},ze.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),n=this.get(t);"x"===t?Object(Zt.modifyCSS)(i,{left:P(n),top:P(e.y),height:P(e.height)}):Object(Zt.modifyCSS)(i,{top:P(n),left:P(e.x),width:P(e.width)})},ze.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",i=t+"CrosshairTpl",n="CROSSHAIR_"+t.toUpperCase(),r=p[n],o=this.get(e),a=this.get("parent");return o||(o=Object(Zt.createDom)(this.get(i)),this.applyStyle(r,o),a.appendChild(o),this.set(e,o)),o},ze.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),o=this.get("itemTpl"),a=this.get("listDom");a&&(Object(_.each)(t,function(t){var e=xe.default.toCSSGradient(t.color),i=Object(b.__assign)(Object(b.__assign)({},t),{color:e}),n=Object(_.substitute)(o,i),r=Object(Zt.createDom)(n);a.appendChild(r)}),this.applyChildrenStyles(a,this.get("domStyles")))},ze.prototype.clearItemDoms=function(){this.get("listDom")&&M(this.get("listDom"))},ze.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},ze),Ie={opacity:0},Re={stroke:"#C5C5C5",strokeOpacity:.85},Ne={fill:"#CACED4",opacity:.85},Ye=i(68),Ge=i(15);function ze(){return null!==Be&&Be.apply(this,arguments)||this}function Xe(t){return e=t,Object(_.map)(e,function(t,e){return[0===e?"M":"L",t[0],t[1]]});var e}var Ve,He,We,qe,Ue=(qe=W,Object(b.__extends)(si,qe),si.prototype.getDefaultCfg=function(){var t=qe.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Ie,lineStyle:Re,areaStyle:Ne})},si.prototype.renderInner=function(t){var e=this.cfg,i=e.width,n=e.height,r=e.data,o=e.smooth,a=e.isArea,s=e.backgroundStyle,l=e.lineStyle,c=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(b.__assign)({x:0,y:0,width:i,height:n},s)});var u,h,p,f,d=function(t,i,n,e){void 0===e&&(e=!0);var r=new Ge.Linear({values:t}),o=new Ge.Category({values:Object(_.map)(t,function(t,e){return e})}),a=Object(_.map)(t,function(t,e){return[o.scale(e)*i,n-r.scale(t)*n]});return(e?function(t){if(t.length<=2)return Xe(t);var e=[];Object(_.each)(t,function(t){Object(_.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])});var i=Object(Ye.a)(e,!1),n=Object(_.head)(t),r=n[0],o=n[1];return i.unshift(["M",r,o]),i}:Xe)(a)}(r,i,n,o);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Object(b.__assign)({path:d},l)}),a){var g=(u=d,h=i,p=n,(f=Object(b.__spreadArrays)(u)).push(["L",h,0]),f.push(["L",0,p]),f.push(["Z"]),f);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Object(b.__assign)({path:g},c)})}},si.prototype.applyOffset=function(){var t=this.cfg,e=t.x,i=t.y;this.moveElementTo(this.get("group"),{x:e,y:i})},si),Ze={fill:"#416180 ",opacity:.05},Ke={fill:"#5B8FF9",opacity:.15,cursor:"move"},$e={width:10,height:24},Qe={textBaseline:"middle",fill:"#000",opacity:.45},Je={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},ti=(We=W,Object(b.__extends)(ai,We),ai.prototype.getDefaultCfg=function(){var t=We.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:Je})},ai.prototype.renderInner=function(t){var e=this.cfg,i=e.width,n=e.height,r=e.style,o=r.fill,a=r.stroke,s=r.radius,l=r.opacity,c=r.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:n,fill:o,stroke:a,radius:s,opacity:l,cursor:c}});var u=1/3*i,h=2/3*i,p=.25*n,f=.75*n;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:u,y1:p,x2:u,y2:f,stroke:a,cursor:c}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:h,y1:p,x2:h,y2:f,stroke:a,cursor:c}})},ai.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ai.prototype.initEvent=function(){this.bindEvents()},ai.prototype.bindEvents=function(){var e=this;this.get("group").on("mouseenter",function(){var t=e.get("style").highLightFill;e.getElementByLocalId("background").attr("fill",t),e.draw()}),this.get("group").on("mouseleave",function(){var t=e.get("style").fill;e.getElementByLocalId("background").attr("fill",t),e.draw()})},ai.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},ai),ei=(He=W,Object(b.__extends)(oi,He),oi.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e)},oi.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},oi.prototype.setValue=function(t){if(Object(_.isArray)(t)&&2===t.length){var e=[this.get("start"),this.get("end")];this.update({start:t[0],end:t[1]}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:e,value:t})}},oi.prototype.getValue=function(){return[this.get("start"),this.get("end")]},oi.prototype.getDefaultCfg=function(){var t=He.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Ze,foregroundStyle:Ke,handlerStyle:$e,textStyle:Qe}})},oi.prototype.update=function(t){var e=t.start,i=t.end,n=Object(b.__assign)({},t);Object(_.isNil)(e)||(n.start=Object(_.clamp)(e,0,1)),Object(_.isNil)(i)||(n.end=Object(_.clamp)(i,0,1)),He.prototype.update.call(this,n),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},oi.prototype.init=function(){this.set("start",Object(_.clamp)(this.get("start"),0,1)),this.set("end",Object(_.clamp)(this.get("end"),0,1)),He.prototype.init.call(this)},oi.prototype.renderInner=function(t){var e=this.cfg,i=(e.start,e.end,e.width),n=e.height,r=e.trendCfg,o=void 0===r?{}:r,a=e.minText,s=e.maxText,l=e.backgroundStyle,c=void 0===l?{}:l,u=e.foregroundStyle,h=void 0===u?{}:u,p=e.textStyle,f=void 0===p?{}:p,d=e.handlerStyle,g=void 0===d?{}:d;Object(_.size)(Object(_.get)(o,"data"))&&this.addComponent(t,Object(b.__assign)({component:Ue,id:this.getElementId("trend"),x:0,y:0,width:i,height:n},o)),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(b.__assign)({x:0,y:0,width:i,height:n},c)});var y=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Object(b.__assign)({y:n/2,textAlign:"right",text:a,silent:!1},f)}),v=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Object(b.__assign)({y:n/2,textAlign:"left",text:s,silent:!1},f)}),m=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(b.__assign)({y:0,height:n},h)}),x=Object(_.get)(g,"height",24);this.minHandler=this.addComponent(t,Object(b.__assign)({component:ti,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(n-x)/2,width:i,height:x,cursor:"ew-resize"},g)),this.maxHandler=this.addComponent(t,Object(b.__assign)({component:ti,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(n-x)/2,width:i,height:x,cursor:"ew-resize"},g)),this.updateUI(m,y,v)},oi.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},oi.prototype.initEvent=function(){this.bindEvents()},oi.prototype.updateUI=function(t,i,n){var e=this.cfg,r=e.start,o=e.end,a=e.width,s=e.minText,l=e.maxText,c=e.handlerStyle,u=r*a,h=o*a;t.attr("x",u),t.attr("width",h-u);var p=Object(_.get)(c,"width",10);i.attr("text",s),n.attr("text",l);var f=this._dodgeText([u,h],i,n),d=f[0],g=f[1];this.minHandler&&(this.minHandler.update({x:u-p/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(_.each)(d,function(t,e){return i.attr(e,t)}),this.maxHandler&&(this.maxHandler.update({x:h-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(_.each)(g,function(t,e){return n.attr(e,t)})},oi.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},oi.prototype.adjustOffsetRange=function(t){var e=this.cfg,i=e.start,n=e.end;switch(this.currentTarget){case"minHandler":var r=0-i,o=1-i;return Math.min(o,Math.max(r,t));case"maxHandler":return r=0-n,o=1-n,Math.min(o,Math.max(r,t));case"foreground":return r=0-i,o=1-n,Math.min(o,Math.max(r,t));default:return 0}},oi.prototype.updateStartEnd=function(t){var e=this.cfg,i=e.start,n=e.end;switch(this.currentTarget){case"minHandler":i+=t;break;case"maxHandler":n+=t;break;case"foreground":i+=t,n+=t}this.set("start",i),this.set("end",n)},oi.prototype._dodgeText=function(t,e,i){var n,r,o=this.cfg,a=o.handlerStyle,s=o.width,l=Object(_.get)(a,"width",10),c=t[0],u=t[1],h=!1;u<c&&(c=(n=[u,c])[0],u=n[1],e=(r=[i,e])[0],i=r[1],h=!0);var p=e.getBBox(),f=i.getBBox(),d=p.width>c-2?{x:c+l/2+2,textAlign:"left"}:{x:c-l/2-2,textAlign:"right"},g=f.width>s-u-2?{x:u-l/2-2,textAlign:"right"}:{x:u+l/2+2,textAlign:"left"};return h?[g,d]:[d,g]},oi.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},oi.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},oi),ii={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},ni=(Ve=W,Object(b.__extends)(ri,Ve),ri.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e)},ri.prototype.getRange=function(){return{min:this.get("minLimit"),max:this.get("maxLimit")}},ri.prototype.setValue=function(t){var e=this.getValue();this.update({thumbOffset:this.get("trackLen")-this.get("thumbLen")*Object(_.clamp)(t,0,1)}),this.delegateEmit("valuechange",{originalValue:e,value:this.getValue()})},ri.prototype.getValue=function(){return Object(_.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},ri.prototype.getDefaultCfg=function(){var t=Ve.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:ii})},ri.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},ri.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ri.prototype.initEvent=function(){this.bindEvents()},ri.prototype.renderTrackShape=function(t){var e=this.cfg,i=e.trackLen,n=e.theme,r=(void 0===n?{default:{}}:n).default,o=r.lineCap,a=r.trackColor,s=r.size,l=this.get("isHorizontal")?{x1:0+s/2,y1:s/2,x2:i-s/2,y2:s/2,lineWidth:s,stroke:a,lineCap:o}:{x1:s/2,y1:0+s/2,x2:s/2,y2:i-s/2,lineWidth:s,stroke:a,lineCap:o};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:l})},ri.prototype.renderThumbShape=function(t){var e=this.cfg,i=e.thumbOffset,n=e.thumbLen,r=e.theme,o=(void 0===r?{default:{}}:r).default,a=o.size,s=o.lineCap,l=o.thumbColor,c=this.get("isHorizontal")?{x1:i+a/2,y1:a/2,x2:i+n-a/2,y2:a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"}:{x1:a/2,y1:i+a/2,x2:a/2,y2:i+n-a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:c})},ri.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},ri.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},ri.prototype.validateRange=function(t){var e=this.cfg,i=e.thumbLen,n=e.trackLen,r=t;return n<t+i?r=n-i:t+i<i&&(r=0),r},ri.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},ri.prototype.updateThumbOffset=function(t){var e=this.cfg,i=e.thumbOffset,n=e.isHorizontal,r=e.thumbLen,o=e.size,a=this.validateRange(t);if(a!==i){var s=this.getElementByLocalId("thumb");n?s.attr({x1:a+o/2,x2:a+r-o/2}):s.attr({y1:a+o/2,y2:a+r-o/2}),this.emitOffsetChange(a)}},ri.prototype.emitOffsetChange=function(t){var e=this.cfg,i=e.thumbOffset,n=e.trackLen,r=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Object(_.clamp)(t/(n-r),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:t})},ri);function ri(){var h=null!==Ve&&Ve.apply(this,arguments)||this;return h.clearEvents=_.noop,h.onStartEvent=function(n){return function(t){h.isMobile=n,t.originalEvent.preventDefault();var e=n?Object(_.get)(t.originalEvent,"touches.0.clientX"):t.clientX,i=n?Object(_.get)(t.originalEvent,"touches.0.clientY"):t.clientY;h.startPos=h.cfg.isHorizontal?e:i,h.bindLaterEvent()}},h.bindLaterEvent=function(){var t=h.getContainerDOM(),e=[];e=h.isMobile?[Object(Zt.addEventListener)(t,"touchmove",h.onMouseMove),Object(Zt.addEventListener)(t,"touchend",h.onMouseUp),Object(Zt.addEventListener)(t,"touchcancel",h.onMouseUp)]:[Object(Zt.addEventListener)(t,"mousemove",h.onMouseMove),Object(Zt.addEventListener)(t,"mouseup",h.onMouseUp),Object(Zt.addEventListener)(t,"mouseleave",h.onMouseUp)],h.clearEvents=function(){e.forEach(function(t){t.remove()})}},h.onMouseMove=function(t){var e=h.cfg,i=e.isHorizontal,n=e.thumbOffset;t.preventDefault();var r=h.isMobile?Object(_.get)(t,"touches.0.clientX"):t.clientX,o=h.isMobile?Object(_.get)(t,"touches.0.clientY"):t.clientY,a=i?r:o,s=a-h.startPos;h.startPos=a,h.updateThumbOffset(n+s)},h.onMouseUp=function(t){t.preventDefault(),h.clearEvents()},h.onTrackClick=function(t){var e=h.cfg,i=e.isHorizontal,n=e.x,r=e.y,o=e.thumbLen,a=h.getContainerDOM().getBoundingClientRect(),s=t.clientX,l=t.clientY,c=i?s-a.left-n-o/2:l-a.top-r-o/2,u=h.validateRange(c);h.updateThumbOffset(u)},h.onThumbMouseOver=function(){var t=h.cfg.theme.hover.thumbColor;h.getElementByLocalId("thumb").attr("stroke",t),h.draw()},h.onThumbMouseOut=function(){var t=h.cfg.theme.default.thumbColor;h.getElementByLocalId("thumb").attr("stroke",t),h.draw()},h}function oi(){var s=null!==He&&He.apply(this,arguments)||this;return s.onMouseDown=function(n){return function(t){s.currentTarget=n;var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),s.prevX=Object(_.get)(e,"touches.0.pageX",e.pageX),s.prevY=Object(_.get)(e,"touches.0.pageY",e.pageY);var i=s.getContainerDOM();i.addEventListener("mousemove",s.onMouseMove),i.addEventListener("mouseup",s.onMouseUp),i.addEventListener("mouseleave",s.onMouseUp),i.addEventListener("touchmove",s.onMouseMove),i.addEventListener("touchend",s.onMouseUp),i.addEventListener("touchcancel",s.onMouseUp)}},s.onMouseMove=function(t){var e=s.cfg.width,i=[s.get("start"),s.get("end")];t.stopPropagation(),t.preventDefault();var n=Object(_.get)(t,"touches.0.pageX",t.pageX),r=Object(_.get)(t,"touches.0.pageY",t.pageY),o=n-s.prevX,a=s.adjustOffsetRange(o/e);s.updateStartEnd(a),s.updateUI(s.getElementByLocalId("foreground"),s.getElementByLocalId("minText"),s.getElementByLocalId("maxText")),s.prevX=n,s.prevY=r,s.draw(),s.emit("sliderchange",[s.get("start"),s.get("end")].sort()),s.delegateEmit("valuechanged",{originValue:i,value:[s.get("start"),s.get("end")]})},s.onMouseUp=function(){s.currentTarget&&(s.currentTarget=void 0);var t=s.getContainerDOM();t&&(t.removeEventListener("mousemove",s.onMouseMove),t.removeEventListener("mouseup",s.onMouseUp),t.removeEventListener("mouseleave",s.onMouseUp),t.removeEventListener("touchmove",s.onMouseMove),t.removeEventListener("touchend",s.onMouseUp),t.removeEventListener("touchcancel",s.onMouseUp))},s}function ai(){return null!==We&&We.apply(this,arguments)||this}function si(){return null!==qe&&qe.apply(this,arguments)||this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(69);e.default=function(t){return Array.isArray?Array.isArray(t):n.default(t,"Array")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(191)),o=n.__importDefault(i(192)),a=n.__importDefault(i(193)),s=n.__importDefault(i(194)),l=n.__importDefault(i(195)),c=n.__importDefault(i(196)),u={axis:r.default,label:a.default,guideLine:o.default},h={tooltip:c.default,label:l.default,axis:s.default};e.getComponent=function(t,e){return new u[t](e).config},e.getComponentStateMethod=function(t,e){return h[t][e]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=n,e.clone=function(t){var e=new a.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var i=new a.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,i){return t[0]=e,t[1]=i,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},e.subtract=r,e.multiply=o,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},e.distance=c,e.squaredDistance=u,e.length=h,e.squaredLength=p,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var i=e[0],n=e[1],r=i*i+n*n;return 0<r&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,i,n){var r=e[0],o=e[1];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t},e.random=function(t,e){e=e||1;var i=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},e.transformMat2=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t},e.transformMat2d=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t},e.transformMat3=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t},e.transformMat4=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t},e.rotate=function(t,e,i,n){var r=e[0]-i[0],o=e[1]-i[1],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*a+i[0],t[1]=r*a+o*s+i[1],t},e.angle=function(t,e){var i=t[0],n=t[1],r=e[0],o=e[1],a=i*i+n*n;0<a&&(a=1/Math.sqrt(a));var s=r*r+o*o;0<s&&(s=1/Math.sqrt(s));var l=(i*r+n*o)*a*s;return 1<l?0:l<-1?Math.PI:Math.acos(l)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var i=t[0],n=t[1],r=e[0],o=e[1];return Math.abs(i-r)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-o)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))};var l,a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(72));function n(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function o(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function s(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function c(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}function u(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function h(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function p(t){var e=t[0],i=t[1];return e*e+i*i}e.len=h,e.sub=r,e.mul=o,e.div=s,e.dist=c,e.sqrDist=u,e.sqrLen=p,e.forEach=(l=n(),function(t,e,i,n,r,o){var a,s=void 0;for(e=e||2,i=i||0,a=n?Math.min(n*e+i,t.length):t.length,s=i;s<a;s+=e)l[0]=t[s],l[1]=t[s+1],r(l,l,o),t[s]=l[0],t[s+1]=l[1];return t})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1).__importStar(i(2)),u=i(0);function a(t){var e=0;return u.each(t,function(t){e+=t*t}),Math.sqrt(e)}function s(t,e){return t.x*e.y+t.y*e.x}function O(t,e,i){void 0===i&&(i=1);var n=[t.x,t.y,i];return r.vec3.transformMat3(n,n,e),{x:n[0],y:n[1]}}function f(t,e,i){return e<=t&&t<=i}function o(t,e){for(var i=!1,n=0,r=e.length-1;n<e.length;r=n++){var o=e[n].x,a=e[n].y,s=e[r].x,l=e[r].y;a>t.y!=l>t.y&&t.x<=(s-o)*(t.y-a)/(l-a)+o&&(i=!i)}return i}function n(t){return t*t}function h(t,e){return Math.sqrt(n(t.x-e.x)+n(t.y-e.y))}function d(t,e,i){var n=h(e,i);if(0===n)return h(t,e);var r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;r=Math.max(0,Math.min(1,r));var o=h(t,{x:e.x+r*(i.x-e.x),y:e.y+r*(i.y-e.y)});return Math.sqrt(o)}function l(i,t){var n=1/0;u.each(t,function(t){var e=Math.sqrt(h(t,i));e<n&&(n=e)});for(var e=0,r=t.length-1;e<t.length;r=e++){var o=t[e].x,a=t[e].y,s=t[r].x,l=t[r].y,c=d(i,{x:o,y:a},{x:s,y:l});c<n&&(n=c)}return n}function c(t,e){for(var i=0,n=t;i<n.length;i++)if(o(n[i],e))return!0;return!1}e.dotProduct2D=s,e.angleTo=function(t,e){var i=a(t),n=a(e),r=s(t,e);return Math.acos(r/i/n)},e.crossProduct2D=function(t,e){var i=a(t),n=a(e),r=s(t,e),o=Math.acos(r/i/n);return i*n*Math.sin(o)},e.crossProduct3D=function(t,e){var i=t.x,n=t.y,r=t.z,o=e.x,a=e.y,s=e.z;return{x:n*s-r*a,y:r*o-i*s,z:i*a-n*o}},e.sub2D=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e.applyMatrix=O,e.isBetween=f,e.getLineIntersect=function(t,e,i,n){var r=i.x-t.x,o=i.y-t.y,a=e.x-t.x,s=e.y-t.y,l=n.x-i.x,c=n.y-i.y,u=a*c-s*l,h=null;if(.001*(a*a+s*s)*(l*l+c*c)<u*u){var p=(r*c-o*l)/u;f(p,0,1)&&f((r*s-o*a)/u,0,1)&&(h={x:t.x+p*a,y:t.y+p*s})}return h},e.isPointInPolygon=o,e.dist2=h,e.distBetweenPoints=function(t,e){return Math.sqrt(n(t.x-e.x)+n(t.y-e.y))},e.distBetweenPointLine=d,e.isPolygonIntersection=c,e.minDistBetweenConvexPolygon=function(i,n){if(c(i,n))return 0;var r=1/0,o=1/0;return u.each(i,function(t){var e=l(t,n);e<r&&(r=e)}),u.each(n,function(t){var e=l(t,i);e<o&&(o=e)}),Math.min(r,o)},e.bboxOnRotate=function(t){var e,i=t.getBBox(),n=i.minX,r=i.minY,o=i.maxX-i.minX,a=i.maxY-i.minY,s=t.attr("matrix"),l=O({x:0,y:0},e=s?[s[0],s[1],0,s[3],s[4],0,0,0,1]:[1,0,0,0,1,0,0,0,1]);l.x+=n,l.y+=r;var c=O({x:o,y:0},e);c.x+=n,c.y+=r;var u=O({x:0,y:a},e);u.x+=n,u.y+=r;var h=O({x:o,y:a},e);h.x+=n,h.y+=r;var p=[l,c,u,h];p.sort(function(t,e){return t.y-e.y});var f=p[0].y,d=p[p.length-1].y,g=[p[0],p[1]],y=[p[2],p[3]],v=g[0].x<g[1].x?g[0]:g[1],m=g[0].x<g[1].x?g[1]:g[0],x=y[0].x<y[1].x?y[0]:y[1],b=y[0].x<y[1].x?y[1]:y[0];p.sort(function(t,e){return t.x-e.x});var _=p[0].x,w=p[p.length-1].x;return{width:w-_,height:d-f,left:_,right:w,top:f,bottom:d,topLeft:v,topRight:m,bottomLeft:x,bottomRight:b,centerX:_+(w-_)/2,centerY:f+(d-f)/2}},e.lineSimplification=function(t){return t.length<5?t:function t(e,i){for(var n,r=-1/0,o=0,a=e.length-1,s=1;s<a;s++){var l=e[s],c={start:e[0],end:e[a]},u=d(l,c.start,c.end);r<u&&(r=u,o=s)}if(i<r){var h=t(e.slice(0,o+1),i),p=t(e.slice(o,e.length),i);n=h.concat(p)}else n=[e[0],e[e.length-1]];return n}(t,2)},e.getMedian=function(t){var e=u.clone(t);e.sort(function(t,e){return t-e});var i=Math.floor(e.length/2);return e.length%2?e[i]:(e[i-1]+e[i])/2},e.getMean=function(t){var e=0;return u.each(t,function(t){e+=t}),e/t.length},e.sturges=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=i(97);e.extractScale=function(t,e){if(!e)return t;var i,n,r,o;Object.prototype.hasOwnProperty.call(e,"tickCount")&&(t.tickCount=e.tickCount),Object.prototype.hasOwnProperty.call(e,"type")&&"dateTime"!==e.type&&(t.type=e.type),Object.prototype.hasOwnProperty.call(e,"tickInterval")&&("time"===e.type?t.tickInterval=(i=e.tickInterval,r=a.timeIntervals[(n=i.split(" "))[1]],o=parseInt(n[0],10),[r.format,o*r.value]):t.tickInterval=e.tickInterval),"time"===e.type&&e.mask&&(t.mask=e.mask),Object.prototype.hasOwnProperty.call(e,"min")&&(t.min=e.min),Object.prototype.hasOwnProperty.call(e,"max")&&(t.max=e.max),Object.prototype.hasOwnProperty.call(e,"minLimit")&&(t.minLimit=e.minLimit),Object.prototype.hasOwnProperty.call(e,"maxLimit")&&(t.maxLimit=e.maxLimit),Object.prototype.hasOwnProperty.call(e,"nice")&&(t.nice=e.nice),Object.prototype.hasOwnProperty.call(e,"formatter")&&(t.formatter=e.formatter),Object.prototype.hasOwnProperty.call(e,"exponent")&&(t.exponent=e.exponent),Object.prototype.hasOwnProperty.call(e,"base")&&(t.base=e.base),e.tickMethod&&(t.tickMethod=e.tickMethod)},e.trySetScaleMinToZero=function(t,e){var i=o.filter(e,function(t){return o.isNumber(t)}),n=Math.min.apply(Math,i),r=Math.max.apply(Math,i);0<n?o.isNil(t.min)&&(t.min=0):r<0&&o.isNil(t.max)&&(t.max=0)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distance=function(t,e,i,n){var r=t-i,o=e-n;return Math.sqrt(r*r+o*o)},e.isNumberEqual=function(t,e){return Math.abs(t-e)<.001},e.getBBoxByArray=function(t,e){var i=Math.min.apply(null,t),n=Math.min.apply(null,e);return{x:i,y:n,width:Math.max.apply(null,t)-i,height:Math.max.apply(null,e)-n}},e.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(69);e.default=function(t){return n.default(t,"String")}},function(t,e,i){"use strict";i.r(e);var n=(r.prototype.on=function(t,e,i){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!i}),this},r.prototype.once=function(t,e){return this.on(t,e,!0),this},r.prototype.emit=function(o){for(var a=this,s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];function e(t){for(var e=t.length,i=0;i<e;i++)if(t[i]){var n=t[i],r=n.callback;n.once&&(t.splice(i,1),0===t.length&&delete a._events[o],e--,i--),r.apply(a,s)}}var i=this._events[o]||[],n=this._events["*"]||[];e(i),e(n)},r.prototype.off=function(t,e){if(t)if(e){for(var i=this._events[t]||[],n=i.length,r=0;r<n;r++)i[r].callback===e&&(i.splice(r,1),n--,r--);0===i.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},r.prototype.getEvents=function(){return this._events},r);function r(){this._events={}}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),a=i(50);e.default=function(t,e){if(t)if(o.default(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(a.default(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTAINER_CLASS="g2-tooltip",e.TITLE_CLASS="g2-tooltip-title",e.LIST_CLASS="g2-tooltip-list",e.LIST_ITEM_CLASS="g2-tooltip-list-item",e.MARKER_CLASS="g2-tooltip-marker",e.VALUE_CLASS="g2-tooltip-value",e.NAME_CLASS="g2-tooltip-name",e.CROSSHAIR_X="g2-tooltip-crosshair-x",e.CROSSHAIR_Y="g2-tooltip-crosshair-y"},function(t,e,i){"use strict";t.exports=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);function r(t){var e;return 1===(e=(e=Math.round(t)).toString(16)).length&&(e="0"+t),e}e.rgb2arr=function(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e},e.toHex=r,e.arr2rgb=function(t){return"#"+(r(t[0])+r(t[1])+r(t[2]))},e.mappingColor=function(t,e){var i;return n.each(t,function(t){e>=t.from&&e<t.to&&(i=t.color)}),i}},function(t,e,i){"use strict";i.r(e),i.d(e,"VERSION",function(){return dn}),i.d(e,"Chart",function(){return fi}),i.d(e,"View",function(){return pi}),i.d(e,"Event",function(){return Ke}),i.d(e,"ComponentController",function(){return di}),i.d(e,"Geometry",function(){return sn}),i.d(e,"GeometryLabel",function(){return fn}),i.d(e,"Interaction",function(){return ge}),i.d(e,"Facet",function(){return ft}),i.d(e,"InteractionAction",function(){return vt}),i.d(e,"registerComponentController",function(){return Ue}),i.d(e,"registerGeometry",function(){return si}),i.d(e,"registerShape",function(){return en}),i.d(e,"registerShapeFactory",function(){return tn}),i.d(e,"getShapeFactory",function(){return nn}),i.d(e,"registerGeometryLabel",function(){return qi}),i.d(e,"registerGeometryLabelLayout",function(){return Zi}),i.d(e,"getGeometryLabel",function(){return Wi}),i.d(e,"getGeometryLabelLayout",function(){return Ui}),i.d(e,"getInteraction",function(){return je}),i.d(e,"registerInteraction",function(){return Ae}),i.d(e,"registerAction",function(){return Mt}),i.d(e,"getActionClass",function(){return Ot}),i.d(e,"getFacet",function(){return gt}),i.d(e,"registerFacet",function(){return yt}),i.d(e,"getTheme",function(){return Ne}),i.d(e,"registerTheme",function(){return Ye}),i.d(e,"registerEngine",function(){return f}),i.d(e,"getEngine",function(){return M}),i.d(e,"registerAnimation",function(){return Di}),i.d(e,"getAnimation",function(){return Ei}),i.d(e,"LAYER",function(){return d}),i.d(e,"DIRECTION",function(){return v}),i.d(e,"Util",function(){return sl});var d,v,h,n,r,o,S=i(1),E=i(0);(o=d=d||{}).FORE="fore",o.MID="mid",o.BG="bg",(r=v=v||{}).TOP="top",r.TOP_LEFT="top-left",r.TOP_RIGHT="top-right",r.RIGHT="right",r.RIGHT_TOP="right-top",r.RIGHT_BOTTOM="right-bottom",r.LEFT="left",r.LEFT_TOP="left-top",r.LEFT_BOTTOM="left-bottom",r.BOTTOM="bottom",r.BOTTOM_LEFT="bottom-left",r.BOTTOM_RIGHT="bottom-right",r.NONE="none",(n=h=h||{}).AXIS="axis",n.GRID="grid",n.LEGEND="legend",n.TOOLTIP="tooltip",n.ANNOTATION="annotation",n.OTHER="other";var l,a,s,c;(c=l=l||{}).BEFORE_RENDER="beforerender",c.AFTER_RENDER="afterrender",c.BEFORE_PAINT="beforepaint",c.AFTER_PAINT="afterpaint",c.BEFORE_CHANGE_DATA="beforechangedata",c.AFTER_CHANGE_DATA="afterchangedata",c.BEFORE_CLEAR="beforeclear",c.AFTER_CLEAR="afterclear",c.BEFORE_DESTROY="beforedestroy",(s=a=a||{}).MOUSE_ENTER="plot:mouseenter",s.MOUSE_DOWN="plot:mousedown",s.MOUSE_MOVE="plot:mousemove",s.MOUSE_UP="plot:mouseup",s.MOUSE_LEAVE="plot:mouseleave",s.TOUCH_START="plot:touchstart",s.TOUCH_MOVE="plot:touchmove",s.TOUCH_END="plot:touchend",s.TOUCH_CANCEL="plot:touchcancel",s.CLICK="plot:click",s.DBLCLICK="plot:dblclick",s.CONTEXTMENU="plot:contextmenu",s.LEAVE="plot:leave",s.ENTER="plot:enter";var u=["color","shape","size"],p={};function M(t){var e=p[t];if(!e)throw new Error("G engine '"+t+"' is not exist, please register it at first.");return e}function f(t,e){p[t]=e}var C=i(5);function g(t){return"number"==typeof t&&!isNaN(t)}function j(t,e,i,n){var r,o,a=i,s=n;if(e){var l=(r=t,o=getComputedStyle(r),{width:(r.clientWidth||parseInt(o.width))-parseInt(o.paddingLeft)-parseInt(o.paddingRight),height:(r.clientHeight||parseInt(o.height))-parseInt(o.paddingTop)-parseInt(o.paddingBottom)});a=l.width?l.width:a,s=l.height?l.height:s}return{width:Math.max(g(a)?a:1,1),height:Math.max(g(s)?s:1,1)}}function y(t){return Y[t.toLowerCase()]}function m(t,e){if(y(t))throw new Error("Attribute type '"+t+"' existed.");Y[t.toLowerCase()]=e}var x,b,_,w,O,A,P=(A=i(24).default,Object(S.__extends)(q,A),q.prototype.show=function(){this.visible||(this.visible=!0,this.changeVisible(!0))},q.prototype.hide=function(){this.visible&&(this.visible=!1,this.changeVisible(!1))},q.prototype.destroy=function(){this.off(),this.destroyed=!0},q.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},q),T=(i(6),i(52),i(76),function(t,e){return Object(E.isString)(e)?e:t.invert(t.scale(e))}),L=(W.prototype.mapping=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map(function(t,e){return i._toOriginParam(t,i.scales[e])});return this.callback.apply(this,n)},W.prototype.getLinearValue=function(t){var e=this.values.length-1,i=Math.floor(e*t),n=e*t-i,r=this.values[i];return r+((i===e?r:this.values[i+1])-r)*n},W.prototype.getNames=function(){for(var t=this.scales,e=this.names,i=Math.min(t.length,e.length),n=[],r=0;r<i;r+=1)n.push(e[r]);return n},W.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},W.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},W.prototype.defaultCallback=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){var i=n.scales[e];return"identity"===i.type?i.values[0]:n._getAttributeValue(i,t)})},W.prototype._parseCfg=function(t){var n=this,e=t.type,i=void 0===e?"base":e,r=t.names,o=void 0===r?[]:r,a=t.scales,s=void 0===a?[]:a,l=t.values,c=void 0===l?[]:l,u=t.callback;this.type=i,this.scales=s,this.values=c,this.names=o,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(u){var i=u.apply(void 0,t);if(!Object(E.isNil)(i))return[i]}return n.defaultCallback.apply(n,t)}},W.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var i=t.translate(e);return this.values[i%this.values.length]}var n=t.scale(e);return this.getLinearValue(n)},W.prototype._toOriginParam=function(t,e){return e.isLinear?t:Object(E.isArray)(t)?t.map(function(t){return T(e,t)}):T(e,t)},W),k=i(35),D=(O=L,Object(S.__extends)(H,O),H.prototype.getLinearValue=function(t){return this.gradient(t)},H),B=(w=L,Object(S.__extends)(V,w),V),F=(_=L,Object(S.__extends)(X,_),X.prototype.mapping=function(t,e){var i=this.scales,n=i[0],r=i[1];return Object(E.isNil)(t)||Object(E.isNil)(e)?[]:[Object(E.isArray)(t)?t.map(function(t){return n.scale(t)}):n.scale(t),Object(E.isArray)(e)?e.map(function(t){return r.scale(t)}):r.scale(e)]},X),I=(b=L,Object(S.__extends)(z,b),z.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},z),R=(x=L,Object(S.__extends)(G,x),G),N=i(15),Y={};function G(t){var e=x.call(this,t)||this;return e.type="size",e.names=["size"],e}function z(t){var e=b.call(this,t)||this;return e.type="shape",e.names=["shape"],e}function X(t){var e=_.call(this,t)||this;return e.names=["x","y"],e.type="position",e}function V(t){var e=w.call(this,t)||this;return e.type="opacity",e.names=["opacity"],e}function H(t){var e=O.call(this,t)||this;return e.type="color",e.names=["color"],Object(E.isString)(e.values)&&(e.linear=!0),e.gradient=k.default.gradient(e.values),e}function W(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}function q(t){var e=A.call(this)||this;e.destroyed=!1;var i=t.visible,n=void 0===i||i;return e.visible=n,e}m("Color",D),m("Opacity",B),m("Position",F),m("Shape",I),m("Size",R);var U=i(40),Z=i(16),K=Z.Axis.Line,$=Z.Axis.Circle,Q=Z.Grid.Line,J=Z.Grid.Circle,tt=Z.Legend.Category,et=Z.Legend.Continuous,it=Z.Tooltip.Html,nt=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function rt(t){return t.alias||t.field}function ot(t,i){var e,n,r={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?r=function(){var t,e;switch(i){case v.TOP:t={x:0,y:1},e={x:1,y:1};break;case v.RIGHT:t={x:1,y:0},e={x:1,y:1};break;case v.BOTTOM:t={x:0,y:0},e={x:1,y:0};break;case v.LEFT:t={x:0,y:0},e={x:0,y:1};break;default:t=e={x:0,y:0}}return{start:t,end:e}}():t.isPolar&&(n=t.isTransposed?(e={x:0,y:0},{x:1,y:0}):(e={x:0,y:0},{x:0,y:1}),r={start:e,end:n});var o=r.start,a=r.end;return{start:t.convert(o),end:t.convert(a)}}function at(t,e){var i,n,r=t.start,o=t.end;return i=t.start,n=t.end,i.x===n.x?0<(r.y-o.y)*(e.x-r.x)?1:-1:0<(o.x-r.x)*(r.y-e.y)?-1:1}function st(t,e){return Object(E.get)(t,["components","axis",e],{})}function lt(t){var e=t.startAngle,i=t.endAngle;return{center:t.circleCenter,radius:t.polarRadius,startAngle:e,endAngle:i}}function ct(t,e){return Object(E.isBoolean)(t)?!1!==t&&{}:Object(E.get)(t,[e])}function ut(t,e){return Object(E.get)(t,"position",e)}function ht(t,e){return Object(E.get)(e,["title","text"],rt(t))}var pt,ft=(wt.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},wt.prototype.render=function(){this.renderViews()},wt.prototype.update=function(){},wt.prototype.clear=function(){this.clearFacetViews()},wt.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},wt.prototype.facetToView=function(t){var e=t.region,i=t.data,n=t.padding,r=void 0===n?this.cfg.padding:n,o=this.view.createView({region:e,padding:r});o.data(i||[]),t.view=o,this.beforeEachView(o,t);var a=this.cfg.eachView;return a&&a(o,t),this.afterEachView(o,t),o},wt.prototype.createContainer=function(){return this.view.getLayer(d.FORE).addGroup()},wt.prototype.renderViews=function(){this.createFacetViews()},wt.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},wt.prototype.clearFacetViews=function(){var e=this;Object(E.each)(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},wt.prototype.getFieldValues=function(t,i){var n=[],r={};return Object(E.each)(t,function(t){var e=t[i];Object(E.isNil)(e)||r[e]||(n.push(e),r[e]=!0)}),n},wt.prototype.getRegion=function(t,e,i,n){var r=1/(0===e?1:e),o=1/(0===t?1:t);return{start:{x:r*i,y:o*n},end:{x:r*(i+1),y:o*(n+1)}}},wt.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},wt.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},wt.prototype.processAxis=function(t,e){var i=t.getOptions(),n=i.coordinate,r=t.geometries;if("rect"===Object(E.get)(n,"type","rect")&&r.length){Object(E.isNil)(i.axes)&&(i.axes={});var o=i.axes,a=r[0].getXYFields(),s=a[0],l=a[1],c=ct(o,s),u=ct(o,l);!1!==c&&(i.axes[s]=this.getXAxisOption(s,o,c,e)),!1!==u&&(i.axes[l]=this.getYAxisOption(l,o,u,e))}},wt.prototype.getFacetDataFilter=function(t){return function(n){return Object(E.every)(t,function(t){var e=t.field,i=t.value;return!(!Object(E.isNil)(i)&&e)||n[e]===i})}},wt),dt={},gt=function(t){return dt[Object(E.lowerCase)(t)]},yt=function(t,e){dt[Object(E.lowerCase)(t)]=e},vt=(_t.prototype.applyCfg=function(t){Object(E.assign)(this,t)},_t.prototype.init=function(){this.applyCfg(this.cfg)},_t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},_t),mt=(pt=vt,Object(S.__extends)(bt,pt),bt.prototype.execute=function(){this.callback&&this.callback(this.context)},bt.prototype.destroy=function(){pt.prototype.destroy.call(this),this.callback=null},bt),xt={};function bt(){return null!==pt&&pt.apply(this,arguments)||this}function _t(t,e){this.context=t,this.cfg=e,t.addAction(this)}function wt(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Object(E.deepMix)({},this.getDefaultCfg(),e)}function Ot(t){var e=xt[t];return Object(E.get)(e,"ActionClass")}function Mt(t,e,i){xt[t]={ActionClass:e,cfg:i}}var Ct=i(2);function St(t,e,i,n){return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}function jt(t,e,i,n,r,o){void 0===o&&(o=0);var a=St(t,e,i,n),s=St(t,e,i,r),l=St(t,e,o,n),c=St(t,e,o,r);if(r-n==2*Math.PI){var u=St(t,e,i,n+Math.PI),h=St(t,e,o,n+Math.PI),p=[["M",a.x,a.y],["A",i,i,0,1,1,u.x,u.y],["A",i,i,0,1,1,s.x,s.y],["M",l.x,l.y]];return o&&(p.push(["A",o,o,0,1,0,h.x,h.y]),p.push(["A",o,o,0,1,0,c.x,c.y])),p.push(["M",a.x,a.y]),p.push(["Z"]),p}var f=r-n<=Math.PI?0:1,d=[["M",a.x,a.y],["A",i,i,0,f,1,s.x,s.y],["L",c.x,c.y]];return o&&d.push(["A",o,o,0,f,0,l.x,l.y]),d.push(["L",a.x,a.y]),d.push(["Z"]),d}function At(t,e,i,n,r){var o=St(t,e,i,n),a=St(t,e,i,r);if(Object(E.isNumberEqual)(r-n,2*Math.PI)){var s=St(t,e,i,n+Math.PI);return[["M",o.x,o.y],["A",i,i,0,1,1,s.x,s.y],["A",i,i,0,1,1,o.x,o.y],["A",i,i,0,1,0,s.x,s.y],["A",i,i,0,1,0,o.x,o.y],["Z"]]}var l=r-n<=Math.PI?0:1;return[["M",o.x,o.y],["A",i,i,0,l,1,a.x,a.y]]}function Pt(t,e){var i,n,r=function(t){if(Object(E.isEmpty)(t))return null;var e=t[0].x,i=t[0].x,n=t[0].y,r=t[0].y;return Object(E.each)(t,function(t){e=e>t.x?t.x:e,i=i<t.x?t.x:i,n=n>t.y?t.y:n,r=r<t.y?t.y:r}),{minX:e,maxX:i,minY:n,maxY:r,centerX:(e+i)/2,centerY:(n+r)/2}}(t.points),o=e.startAngle,a=e.endAngle-o;return n=e.isTransposed?(i=r.maxY*a,r.minY*a):(i=r.maxX*a,r.minX*a),{startAngle:n+=o,endAngle:i+=o}}function Tt(t,e){var i=t.attr(),n=e.attr();return Object(E.each)(i,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n}function Lt(t,e,i){var n=Math.min(e,i),r=Math.max(e,i);return n<=t&&t<=r}function kt(e,t){return t.forEach(function(t){delete e[t]}),e}function Et(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),i=t.convert({x:1,y:0});return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function Dt(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function Bt(t,e){var i=!1;if(t)if("theta"===t.type){var n=t.start,r=t.end;i=Lt(e.x,n.x,r.x)&&Lt(e.y,n.y,r.y)}else{var o=t.invert(e);i=Lt(o.x,0,1)&&Lt(o.y,0,1)}return i}function Ft(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)}function It(t,i){void 0===i&&(i=0);var e,n=t.start,r=t.end,o=t.getWidth(),a=t.getHeight();if(t.isPolar){var s=t.startAngle,l=t.endAngle,c=t.getCenter(),u=t.getRadius();return{type:"path",startState:{path:jt(c.x,c.y,u+i,s,s)},endState:function(t){var e=(l-s)*t+s;return{path:jt(c.x,c.y,u+i,s,e)}},attrs:{path:jt(c.x,c.y,u+i,s,l)}}}return e=t.isTransposed?{height:a+2*i}:{width:o+2*i},{type:"rect",startState:{x:n.x-i,y:r.y-i,width:t.isTransposed?o+2*i:0,height:t.isTransposed?0:a+2*i},endState:e,attrs:{x:n.x-i,y:r.y-i,width:o+2*i,height:a+2*i}}}function Rt(t,e){for(var i=[t[0]],n=1,r=t.length;n<r;n+=2){var o=e.convert({x:t[n],y:t[n+1]});i.push(o.x,o.y)}return i}function Nt(t,e,i){for(var n=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);var s,l,c,u=function(t,e,i){var n,r,o,a,s=[],l=!!i;if(l){o=[1/0,1/0],a=[-1/0,-1/0];for(var c=0,u=t.length;c<u;c++){var h=t[c];o=Ct.vec2.min([],o,h),a=Ct.vec2.max([],a,h)}o=Ct.vec2.min([],o,i[0]),a=Ct.vec2.max([],a,i[1])}c=0;for(var p=t.length;c<p;c++){if(h=t[c],e)n=t[c?c-1:p-1],r=t[(c+1)%p];else{if(0===c||c===p-1){s.push(h);continue}n=t[c-1],r=t[c+1]}var f=[];f=Ct.vec2.sub(f,r,n),f=Ct.vec2.scale(f,f,.4);var d=Ct.vec2.distance(h,n),g=Ct.vec2.distance(h,r),y=d+g;0!==y&&(d/=y,g/=y);var v=Ct.vec2.scale([],f,-d),m=Ct.vec2.scale([],f,g),x=Ct.vec2.add([],h,v),b=Ct.vec2.add([],h,m);l&&(x=Ct.vec2.max([],x,o),x=Ct.vec2.min([],x,a),b=Ct.vec2.max([],b,o),b=Ct.vec2.min([],b,a)),s.push(x),s.push(b)}return e&&s.push(s.shift()),s}(r,n,i),h=r.length,p=[];for(o=0;o<h-1;o++)s=u[2*o],l=u[2*o+1],c=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return n&&(s=u[h],l=u[h+1],c=r[0],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),p}function Yt(t,e){return function(t,e){var i=[];if(t.length){for(var n=0,r=t.length;n<r;n+=1){var o=t[n],a=0===n?"M":"L";i.push([a,o.x,o.y])}e&&i.push(["Z"])}return i}(t,e)}function Gt(t,e,i){var n=[],r=t[0],o=null;if(t.length<=2)return Yt(t,e);Object(E.each)(t,function(t){o&&o.x===t.x&&o.y===t.y||(n.push(t.x),n.push(t.y),o=t)});var a=Nt(n,e,i||[[0,0],[1,1]]);return a.unshift(["M",r.x,r.y]),a}function zt(t){void 0===t&&(t=0);var e=Object(E.isArray)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Object(S.__spreadArrays)(e,e);break;case 3:e=Object(S.__spreadArrays)(e,[e[1]]);break;default:e=e.slice(0,4)}return e}var Xt=(Vt.fromRange=function(t,e,i,n){return new Vt(t,e,i-t,n-e)},Object.defineProperty(Vt.prototype,"minX",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"minY",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Vt.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},Vt.prototype.clone=function(){return new Vt(this.x,this.y,this.width,this.height)},Vt.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return Object(E.each)(t,function(t){i.x=Math.min(t.x,i.x),i.y=Math.min(t.y,i.y),i.width=Math.max(t.maxX,i.maxX)-i.x,i.height=Math.max(t.maxY,i.maxY)-i.y}),i},Vt.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return Object(E.each)(t,function(t){i.x=Math.max(t.x,i.x),i.y=Math.max(t.y,i.y),i.width=Math.min(t.maxX,i.maxX)-i.x,i.height=Math.min(t.maxY,i.maxY)-i.y}),i},Vt.prototype.cut=function(t,e){var i=t.width,n=t.height;switch(e){case v.TOP:case v.TOP_LEFT:case v.TOP_RIGHT:return Vt.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case v.RIGHT:case v.RIGHT_TOP:case v.RIGHT_BOTTOM:return Vt.fromRange(this.minX,this.minY,this.maxX-i,this.maxY);case v.BOTTOM:case v.BOTTOM_LEFT:case v.BOTTOM_RIGHT:return Vt.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case v.LEFT:case v.LEFT_TOP:case v.LEFT_BOTTOM:return Vt.fromRange(this.minX+i,this.minY,this.maxX,this.maxY);default:return this}},Vt.prototype.shrink=function(t){var e=zt(t),i=e[0],n=e[1],r=e[2],o=e[3];return new Vt(this.x+o,this.y+i,this.width-o-n,this.height-i-r)},Vt.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},Vt.prototype.size=function(){return this.width*this.height},Vt);function Vt(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.height=n,this.width=i}var Ht=i(146),Wt=i.n(Ht);function qt(t,e){var i=t.event.target.getCanvasBBox();return i.width>=e||i.height>=e?i:null}function Ut(t){var e,i=t.event.target;return i&&(e=i.get("element")),e}function Zt(t){var e,i=t.event.target;return i&&(e=i.get("delegateObject")),e}function Kt(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function $t(t){return t&&t.component&&t.component.isList()}function Qt(t){return t&&t.component&&t.component.isSlider()}function Jt(t){var e=t.event.target;return e&&"mask"===e.get("name")}function te(t,e){var i,n,r,o,a,s;if("path"===t.event.target.get("type")){var l=(o=e,a=t.event.target,(s=a.getCanvasBBox()).width>=o||s.height>=o?a.attr("path"):null);if(!l)return;return i=l,n=ie(t.view),r=ae(i),n.filter(function(t){var e,i=t.shape;if("path"===i.get("type"))e=ae(i.attr("path"));else{var n=i.getCanvasBBox();e=[[n.minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]}return Wt()(r,e)})}var c=qt(t,e);return c?oe(t.view,c):null}function ee(t,e,i){var n=qt(t,i);if(!n)return null;var r=t.view,o=he(r,e,{x:n.x,y:n.y}),a=he(r,e,{x:n.maxX,y:n.maxY});return oe(e,{minX:o.x,minY:o.y,maxX:a.x,maxY:a.y})}function ie(t){var e=t.geometries,i=[];return Object(E.each)(e,function(t){var e=t.elements;i=i.concat(e)}),t.views&&t.views.length&&Object(E.each)(t.views,function(t){i=i.concat(ie(t))}),i}function ne(t,i){var e=t.geometries,n=[];return Object(E.each)(e,function(t){var e=t.getElementsBy(function(t){return t.hasState(i)});n=n.concat(e)}),n}function re(t,e){var i=t.getModel().data;return Object(E.isArray)(i)?i[0][e]:i[e]}function oe(t,i){var e=ie(t),n=[];return Object(E.each)(e,function(t){var e=t.shape.getCanvasBBox();e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY||n.push(t)}),n}function ae(t){var n=[];return Object(E.each)(t,function(t){if("A"!==t[0])for(var e=1;e<t.length;e+=2)n.push([t[e],t[e+1]]);else{var i=t.length;n.push([t[i-2],t[i-1]])}}),n}function se(t){return Object(E.map)(t.getComponents(),function(t){return t.component})}function le(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}function ce(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function ue(e){var t=e.parent,i=null;return t&&(i=t.views.filter(function(t){return t!==e})),i}function he(t,e,i){var n,r=(n=i,t.getCoordinate().invert(n));return e.getCoordinate().convert(r)}function pe(t,e,i,n){var r=!1;return Object(E.each)(t,function(t){if(t[i]===e[i]&&t[n]===e[n])return!(r=!0)}),r}function fe(t,e){var i=t.getScaleByField(e);return!i&&t.views&&Object(E.each)(t.views,function(t){if(i=fe(t,e))return!1}),i}var de=(ve.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},ve.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},ve.prototype.addAction=function(t){this.actions.push(t)},ve.prototype.removeAction=function(t){var e=this.actions,i=this.actions.indexOf(t);0<=i&&e.splice(i,1)},ve.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},ve.prototype.getCurrentShape=function(){return Object(E.get)(this.event,["gEvent","shape"])},ve.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},ve.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},ve.prototype.isInComponent=function(i){var t=se(this.view),n=this.getCurrentPoint();return!!n&&!!t.find(function(t){var e=t.getBBox();return(!i||t.get("name")===i)&&ce(e,n)})},ve.prototype.destroy=function(){this.view=null,this.event=null,Object(E.each)(this.actions.slice(),function(t){t.destroy()}),this.actions=null,this.cacheMap=null},ve),ge=(ye.prototype.init=function(){this.initEvents()},ye.prototype.initEvents=function(){},ye.prototype.clearEvents=function(){},ye.prototype.destroy=function(){this.clearEvents()},ye);function ye(t,e){this.view=t,this.cfg=e}function ve(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}function me(t,e){var i,n,r,o,a=t.split(":"),s=a[0],l=e.getAction(s)||(n=e,r=xt[i=s],o=null,r&&((o=new r.ActionClass(n,r.cfg)).name=i,o.init()),o);if(!l)throw new Error("There is no action named "+s);return{action:l,methodName:a[1]}}function xe(t){var e=t.action,i=t.methodName;if(!e[i])throw new Error("Action("+e.name+") doesn't have a method called "+i);e[i]()}var be,_e="start",we="showEnable",Oe="processing",Me=(be=ge,Object(S.__extends)(Se,be),Se.prototype.init=function(){this.initContext(),be.prototype.init.call(this)},Se.prototype.destroy=function(){be.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},Se.prototype.initEvents=function(){var n=this;Object(E.each)(this.steps,function(t,i){Object(E.each)(t,function(t){var e=n.getActionCallback(i,t);e&&n.bindEvent(t.trigger,e)})})},Se.prototype.clearEvents=function(){var n=this;Object(E.each)(this.steps,function(t,i){Object(E.each)(t,function(t){var e=n.getActionCallback(i,t);e&&n.offEvent(t.trigger,e)})})},Se.prototype.initContext=function(){var t=this.view,r=new de(t);this.context=r;var e=this.steps;Object(E.each)(e,function(t){Object(E.each)(t,function(e){if(Object(E.isFunction)(e.action))e.actionObject={action:(i=e.action,(n=new mt(r)).callback=i,n.name="callback",n),methodName:"execute"};else if(Object(E.isString)(e.action))e.actionObject=me(e.action,r);else if(Object(E.isArray)(e.action)){var t=e.action;e.actionObject=[],Object(E.each)(t,function(t){e.actionObject.push(me(t,r))})}var i,n})})},Se.prototype.isAllowStep=function(t){var e=this.currentStepName,i=this.steps;if(e===t)return!0;if(t===we)return!0;if(t===Oe)return e===_e;if(t===_e)return e!==Oe;if("end"===t)return e===Oe||e===_e;if("rollback"===t){if(i.end)return"end"===e;if(e===_e)return!0}return!1},Se.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var i=this.getKey(t,e);return(!e.once||!this.emitCaches[i])&&(!e.isEnable||e.isEnable(this.context))}return!1},Se.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},Se.prototype.afterExecute=function(t,e){t!==we&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,e);this.emitCaches[i]=!0},Se.prototype.getKey=function(t,e){return t+e.trigger+e.action},Se.prototype.getActionCallback=function(t,i){var n=this,r=this.context,e=this.callbackCaches,o=i.actionObject;if(i.action&&o){var a=this.getKey(t,i);if(!e[a]){var s=function(e){r.event=e,n.isAllowExcute(t,i)?(Object(E.isArray)(o)?Object(E.each)(o,function(t){r.event=e,xe(t)}):(r.event=e,xe(o)),n.afterExecute(t,i),i.callback&&(r.event=e,i.callback(r))):r.event=null};i.debounce?e[a]=Object(E.debounce)(s,i.debounce.wait,i.debounce.immediate):i.throttle?e[a]=Object(E.throttle)(s,i.throttle.wait,{leading:i.throttle.leading,trailing:i.throttle.trailing}):e[a]=s}return e[a]}return null},Se.prototype.bindEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.addEventListener(i[1],e):"document"===i[0]?document.addEventListener(i[1],e):this.view.on(t,e)},Se.prototype.offEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.removeEventListener(i[1],e):"document"===i[0]?document.removeEventListener(i[1],e):this.view.off(t,e)},Se),Ce={};function Se(t,e){var i=be.call(this,t,e)||this;return i.callbackCaches={},i.emitCaches={},i.steps=e,i}function je(t){return Ce[Object(E.lowerCase)(t)]}function Ae(t,e){Ce[Object(E.lowerCase)(t)]=e}var Pe=i(26);function Te(t){var e,a={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},i={title:{autoRotate:!0,position:"center",style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily},offset:32},label:{autoRotate:!0,autoHide:!0,offset:16,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},r={title:null,marker:{symbol:"circle",style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1};return{defaultColor:t.brandColor,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{animateCfg:{duration:300},style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var i=Pt(t.getModel(),e),n=(i.startAngle+i.endAngle)/2,r=7.5*Math.cos(n),o=7.5*Math.sin(n);return{matrix:Object(Ct.transform)(null,[["t",r,o]])}}return a.interval.selected}}},"hollow-rect":{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},line:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},tick:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},funnel:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}},pyramid:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},line:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},dot:{default:{style:Object(S.__assign)(Object(S.__assign)({},a.line.default),{lineDash:[1,1]})},active:{style:Object(S.__assign)(Object(S.__assign)({},a.line.active),{lineDash:[1,1]})},inactive:{style:Object(S.__assign)(Object(S.__assign)({},a.line.inactive),{lineDash:[1,1]})},selected:{style:Object(S.__assign)(Object(S.__assign)({},a.line.selected),{lineDash:[1,1]})}},dash:{default:{style:Object(S.__assign)(Object(S.__assign)({},a.line.default),{lineDash:[5.5,1]})},active:{style:Object(S.__assign)(Object(S.__assign)({},a.line.active),{lineDash:[5.5,1]})},inactive:{style:Object(S.__assign)(Object(S.__assign)({},a.line.inactive),{lineDash:[5.5,1]})},selected:{style:Object(S.__assign)(Object(S.__assign)({},a.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hvh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}},polygon:{polygon:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},point:{circle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},square:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},bowtie:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},diamond:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},hexagon:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},triangle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"triangle-down":{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"hollow-circle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-square":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-bowtie":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-diamond":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-hexagon":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle-down":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},cross:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},tick:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},plus:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},hyphen:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},line:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}}},area:{area:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},smooth:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},line:{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}},"smooth-line":{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}}},schema:{candle:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},box:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}}},edge:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},arc:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}}},components:{axis:{top:Object(E.deepMix)({},i,{position:"top",grid:null,title:null}),bottom:Object(E.deepMix)({},i,{position:"bottom",grid:null,title:null}),left:Object(E.deepMix)({},i,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n}),right:Object(E.deepMix)({},i,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n}),circle:Object(E.deepMix)({},i,{title:null,label:{offset:8},grid:Object(E.deepMix)({},n,{line:{type:"line"}})}),radius:Object(E.deepMix)({},i,{title:null,label:{offset:8},grid:Object(E.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:Object(E.deepMix)({},r,{layout:"vertical"}),left:Object(E.deepMix)({},r,{layout:"vertical"}),top:Object(E.deepMix)({},r,{layout:"horizontal"}),bottom:Object(E.deepMix)({},r,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:((e={})[""+Pe.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:t.tooltipContainerBorderRadius+"px",color:t.tooltipTextFillColor,fontSize:t.tooltipTextFontSize+"px",fontFamily:t.fontFamily,lineHeight:t.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},e[""+Pe.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},e[""+Pe.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},e[""+Pe.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e[""+Pe.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e[""+Pe.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var Le="#000",ke="#595959",Ee="#8C8C8C",De="#BFBFBF",Be="#D9D9D9",Fe="#FFFFFF",Ie=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Re={default:Te({brandColor:Ie[0],paletteQualitative10:Ie,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:De,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:ke,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:De,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Be,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Ee,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Be,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Ee,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ie[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:ke,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Be,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ee,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:De,annotationArcBorderColor:Be,annotationArcBorder:.5,annotationLineBorderColor:De,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:ke,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#F2F2F2",annotationTextBorder:1.5,annotationRegionFillColor:Le,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:De,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:ke,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:ke,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Fe,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:De,pointFillColor:Ie[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Fe,pointBorderOpacity:1,pointActiveBorderColor:Le,pointSelectedBorder:2,pointSelectedBorderColor:Le,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ie[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Fe,hollowPointActiveBorder:1,hollowPointActiveBorderColor:Le,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Le,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ie[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ie[0],areaFillOpacity:.25,areaActiveFillColor:Ie[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ie[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ie[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Le,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Le,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ie[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Le,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Le,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ie[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Fe,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Le,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Le,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3})};function Ne(t){return Object(E.get)(Re,Object(E.lowerCase)(t),Re.default)}function Ye(t,e){Re[Object(E.lowerCase)(t)]=e}function Ge(t,e,i){var n=i.translate(t),r=i.translate(e);return Object(E.isNumberEqual)(n,r)}function ze(t,e,i){var n=i.coordinate,r=i.getYScale(),o=r.field,a=n.invert(e),s=r.invert(a.y);return Object(E.find)(t,function(t){var e=t._origin;return e[o][0]<=s&&e[o][1]>=s})||t[t.length-1]}var Xe=Object(E.memoize)(function(i){if(i.isCategory)return 1;var t=i.values,n=i.translate(t[0]),r=n;Object(E.each)(t,function(t){var e=i.translate(t);e<n&&(n=e),r<e&&(r=e)});var e=t.length;return(r-n)/(e-1)});function Ve(t){var i,e,n,r=(e=t,n=Object(E.values)(e.attributes),Object(E.filter)(n,function(t){return Object(E.contains)(u,t.type)}));Object(E.each)(r,function(t){var e=t.getScale(t.type);if(e&&e.isLinear)return i=e,!1});var o=t.getXScale(),a=t.getYScale();return i||a||o}function He(t,n,e){if(0===n.length)return null;var i=e.type,r=e.getXScale(),o=e.getYScale(),a=r.field,s=o.field,l=null;if("heatmap"===i||"point"===i){var c=e.coordinate.invert(t),u=r.invert(c.x),h=o.invert(c.y),p=1/0;return Object(E.each)(n,function(t){var e=t._origin,i=Math.pow(e[a]-u,2)+Math.pow(e[s]-h,2);i<p&&(p=i,l=t)}),l}var f,d,g,y,v,m,x,b=n[0],_=n[n.length-1],w=(f=t,d=e.coordinate,g=e.getXScale(),y=g.range,v=y[y.length-1],m=y[0],x=d.invert(f).x,d.isPolar&&(1+v)/2<x&&(x=m),g.translate(g.invert(x))),O=b._origin[a],M=b._origin[s],C=_._origin[a],S=o.isLinear&&Object(E.isArray)(M);if(Object(E.isArray)(O))Object(E.each)(n,function(t){var e=t._origin;if(r.translate(e[a][0])<=w&&r.translate(e[a][1])>=w){if(!S)return l=t,!1;Object(E.isArray)(l)||(l=[]),l.push(t)}}),Object(E.isArray)(l)&&(l=ze(l,t,e));else{var j;if(r.isLinear||"timeCat"===r.type){if((w>r.translate(C)||w<r.translate(O))&&(w>r.max||w<r.min))return null;for(var A=0,P=n.length-1,T=void 0;A<=P;){T=Math.floor((A+P)/2);var L=n[T]._origin[a];if(Ge(L,w,r))return n[T];r.translate(L)<=r.translate(w)?(A=T+1,_=n[T],j=n[T+1]):(0===P&&(_=n[0]),P=T-1)}}else Object(E.each)(n,function(t,e){var i=t._origin;if(Ge(i[a],w,r)){if(!S)return l=t,!1;Object(E.isArray)(l)||(l=[]),l.push(t)}else r.translate(i[a])<=w&&(_=t,j=n[e+1])}),Object(E.isArray)(l)&&(l=ze(l,t,e));_&&j&&Math.abs(r.translate(_._origin[a])-w)>Math.abs(r.translate(j._origin[a])-w)&&(_=j)}var k=Xe(e.getXScale());return!l&&Math.abs(r.translate(_._origin[a])-w)<=k/2&&(l=_),l}function We(n,t,r){void 0===r&&(r="");var i,o,e,a,s=n._origin,l=function(t,e){var i=r;r||(i=e.getAttribute("position").getFields()[0]);var n=e.scales;return n[i]?n[i].getText(t[i]):Object(E.hasKey)(t,i)?t[i]:i}(s,t),c=t.tooltipOption,u=t.theme.defaultColor,h=[];function p(t,e){if(!Object(E.isNil)(e)&&""!==e){var i={title:l,data:s,mappingData:n,name:t||l,value:e,color:n.color||u,marker:!0};h.push(i)}}if(Object(E.isObject)(c)){var f=c.fields,d=c.callback;if(d){var g=f.map(function(t){return n._origin[t]}),y=d.apply(void 0,g),v=Object(S.__assign)({data:n._origin,mappingData:n,title:l,color:n.color||u,marker:!0},y);h.push(v)}else{var m=t.scales;Object(E.each)(f,function(t){if(!Object(E.isNil)(s[t])){var e=m[t];i=rt(e),o=e.getText(s[t]),p(i,o)}})}}else{var x=Ve(t);Object(E.isNil)(s[x.field])||(a=s[(e=x).field],o=Object(E.isArray)(a)?a.map(function(t){return e.getText(t)}).join("-"):e.getText(a),p(i=function(t,e){var i,n=e.getGroupScales();if(n.length&&Object(E.each)(n,function(t){return i=t,!1}),i){var r=i.field;return i.getText(t[r])}return rt(Ve(e))}(s,t),o))}return h}var qe={};function Ue(t,e){qe[t]=e}var Ze=(ti.prototype.update=function(t){return this.option=this.wrapperOption(t),this},ti.prototype.hasAction=function(e){var t=this.option.actions;return Object(E.some)(t,function(t){return t[0]===e})},ti.prototype.create=function(t,e){var i=this.option,n=i.type,r=i.cfg,o=Object(S.__assign)({start:t,end:e},r),a=Object(U.getCoordinate)(this.isTheta()?"polar":n);return this.coordinate=new a(o),this.coordinate.type=n,this.isTheta()&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},ti.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},ti.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},ti.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},ti.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},ti.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},ti.prototype.isTheta=function(){return"theta"===this.option.type},ti.prototype.getOption=function(){return this.option},ti.prototype.getCoordinate=function(){return this.coordinate},ti.prototype.wrapperOption=function(t){return Object(S.__assign)({type:"rect",actions:[],cfg:{}},t)},ti.prototype.execActions=function(r){var o=this,t=this.option.actions;Object(E.each)(t,function(t){var e,i=t[0],n=t.slice(1);(Object(E.isNil)(r)||r.includes(i))&&(e=o.coordinate)[i].apply(e,n)})},ti),Ke=(Object.defineProperty(Je.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!0,configurable:!0}),Je.prototype.toString=function(){return"[Event (type="+this.type+")]"},Je.prototype.clone=function(){return new Je(this.view,this.gEvent,this.data)},Je),$e=(Qe.prototype.shrink=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return this.top+=e,this.right+=i,this.bottom+=n,this.left+=r,this},Qe.prototype.inc=function(t,e){var i=t.width,n=t.height;switch(e){case v.TOP:case v.TOP_LEFT:case v.TOP_RIGHT:this.top+=n;break;case v.RIGHT:case v.RIGHT_TOP:case v.RIGHT_BOTTOM:this.right+=i;break;case v.BOTTOM:case v.BOTTOM_LEFT:case v.BOTTOM_RIGHT:this.bottom+=n;break;case v.LEFT:case v.LEFT_TOP:case v.LEFT_BOTTOM:this.left+=i}return this},Qe.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},Qe);function Qe(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.top=t,this.right=e,this.bottom=i,this.left=n}function Je(t,e,i){this.view=t,this.gEvent=e,this.data=i,this.type=e.type}function ti(t){this.option=this.wrapperOption(t)}function ei(t){var e=t.getController("axis"),i=t.getController("legend"),n=t.getController("annotation"),r=t.getController("slider"),o=function(t){var e,i=t.padding;if(e=i,Object(E.isNumber)(e)||Object(E.isArray)(e))return zt(i);var s=t.viewBBox,l=new $e;return Object(E.each)(t.getComponents(),function(t){var e=t.component,i=t.type;if(i!==h.GRID&&i!==h.TOOLTIP){var n=e.getLayoutBBox(),r=new Xt(n.x,n.y,n.width,n.height);if(i===h.AXIS){var o=r.exceed(s);l.shrink(o)}else{var a=t.direction;l.inc(r,a)}}}),l.getPadding()}(t);t.coordinateBBox=t.viewBBox.shrink(o),t.adjustCoordinate(),[e,r,i,n].forEach(function(t){t&&t.layout()})}var ii,ni=(ai.prototype.createScale=function(t,e,i,n){var r=i,o=this.getScaleMeta(n);if(Object(E.isEmpty)(e)&&o){var a=o.scale,s={type:a.type};a.isCategory&&(s.values=a.values),r=Object(E.deepMix)(s,o.scaleDef,i)}var l=function(t,e,i){var n=e||[];if(Object(E.isNumber)(t)||Object(E.isNil)(Object(E.firstValue)(n,t))&&Object(E.isEmpty)(i))return new(Object(N.getScale)("identity"))({field:t.toString(),values:[t]});var r,o,a,s,l=Object(E.get)(i,"type",(r=t,o=n,a="linear",s=Object(E.firstValue)(o,r),Object(E.isArray)(s)&&(s=s[0]),nt.test(s)?a="time":Object(E.isString)(s)&&(a="cat"),a)),c={field:t,values:Object(E.valuesOfKey)(n,t)};return Object(E.mix)(c,i),new(Object(N.getScale)(l))(c)}(t,e,r);return this.cacheScale(l,i,n),l},ai.prototype.sync=function(){var o=this;this.syncScales.forEach(function(t,e){var i=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=[];Object(E.each)(t,function(t){var e=o.getScale(t);n=Object(E.isNumber)(e.max)?Math.max(n,e.max):n,i=Object(E.isNumber)(e.min)?Math.min(i,e.min):i,Object(E.each)(e.values,function(t){r.includes(t)||r.push(t)})}),Object(E.each)(t,function(t){var e=o.getScale(t);e.isContinuous?e.change({min:i,max:n,values:r}):e.isCategory&&e.change({values:r})})})},ai.prototype.cacheScale=function(t,e,i){var n=this.getScaleMeta(i);n&&n.scale.type===t.type?(function(t,e){if("identity"!==t.type&&"identity"!==e.type){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);t.change(i)}}(n.scale,t),n.scaleDef=e):(n={key:i,scale:t,scaleDef:e},this.scales.set(i,n));var r=this.getSyncKey(n);if(n.syncKey=r,this.removeFromSyncScales(i),r){var o=this.syncScales.get(r);o||(o=[],this.syncScales.set(r,o)),o.push(i)}},ai.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var i=Object(E.last)(t.split("-")),n=this.syncScales.get(i);n&&n.length&&(e=this.getScaleMeta(n[0]))}return e&&e.scale},ai.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var i=e.syncKey,n=this.syncScales.get(i);if(n&&n.length){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}this.scales.delete(t)},ai.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},ai.prototype.removeFromSyncScales=function(n){var r=this;this.syncScales.forEach(function(t,e){var i=t.indexOf(n);if(-1!==i)return t.splice(i,1),0===t.length&&r.syncScales.delete(e),!1})},ai.prototype.getSyncKey=function(t){var e=t.scale,i=t.scaleDef,n=e.field,r=Object(E.get)(i,["sync"]);return!0===r?n:!1===r?void 0:r},ai.prototype.getScaleMeta=function(t){return this.scales.get(t)},ai),ri=(ii=P,Object(S.__extends)(oi,ii),oi.prototype.setLayout=function(t){this.layoutFunc=t},oi.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Ze(this.options.coordinate),this.initOptions(),Object(E.each)(this.views,function(t){t.init()})},oi.prototype.render=function(t){void 0===t&&(t=!1),this.emit(l.BEFORE_RENDER),this.paint(t),this.emit(l.AFTER_RENDER),!1===this.visible&&this.changeVisible(!1)},oi.prototype.clear=function(){var i=this;this.emit(l.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,Object(E.each)(this.geometries,function(t){t.clear()}),this.geometries=[],Object(E.each)(this.controllers,function(t){t.clear()}),this.createdScaleKeys.forEach(function(t,e){i.getRootView().scalePool.deleteScale(e)}),this.createdScaleKeys.clear(),Object(E.each)(this.views,function(t){t.clear()}),this.emit(l.AFTER_CLEAR)},oi.prototype.destroy=function(){this.emit(l.BEFORE_DESTROY);var t=this.interactions;Object(E.each)(t,function(t){t&&t.destroy()}),this.clear(),Object(E.each)(this.controllers,function(t){t.destroy()}),this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),ii.prototype.destroy.call(this)},oi.prototype.changeVisible=function(e){return ii.prototype.changeVisible.call(this,e),this.geometries.forEach(function(t){t.changeVisible(e)}),this.controllers.forEach(function(t){t.changeVisible(e)}),this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},oi.prototype.data=function(t){return Object(E.set)(this.options,"data",t),this.isDataChanged=!0,this},oi.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},oi.prototype.filter=function(t,e){return Object(E.isFunction)(e)?Object(E.set)(this.options,["filters",t],e):!e&&Object(E.get)(this.options,["filters",t])&&delete this.options.filters[t],this},oi.prototype.axis=function(t,e){return Object(E.isBoolean)(t)?Object(E.set)(this.options,["axes"],t):Object(E.set)(this.options,["axes",t],e),this},oi.prototype.legend=function(t,e){return!Object(E.isBoolean)(t)&&Object(E.isString)(t)?Object(E.set)(this.options,["legends",t],e):Object(E.set)(this.options,["legends"],t),this},oi.prototype.scale=function(t,e){var i=this;return Object(E.isString)(t)?Object(E.set)(this.options,["scales",t],e):Object(E.isObject)(t)&&Object(E.each)(t,function(t,e){Object(E.set)(i.options,["scales",e],t)}),this},oi.prototype.tooltip=function(t){return Object(E.set)(this.options,"tooltip",t),this},oi.prototype.annotation=function(){return this.getController("annotation")},oi.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},oi.prototype.coordinate=function(t,e){return Object(E.isString)(t)?Object(E.set)(this.options,"coordinate",{type:t,cfg:e}):Object(E.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},oi.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},oi.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var i=gt(t);if(!i)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new i(this,Object(S.__assign)(Object(S.__assign)({},e),{type:t})),this},oi.prototype.animate=function(t){return Object(E.set)(this.options,"animate",t),this},oi.prototype.updateOptions=function(t){return this.clear(),Object(E.mix)(this.options,t),this.initOptions(),this},oi.prototype.option=function(t,e){if(oi.prototype[t])throw new Error("Can't use built in variable name \""+t+'", please change another one.');return Object(E.set)(this.options,t,e),this},oi.prototype.theme=function(t){return this.themeObject=Object(E.isObject)(t)?Object(E.deepMix)({},this.themeObject,t):Ne(t),this},oi.prototype.interaction=function(r,t){var e=this.interactions[r];e&&e.destroy();var i=function(t,e){var i=je(r);if(!i)return null;if(Object(E.isPlainObject)(i)){var n=Object(E.mix)(Object(E.clone)(i),e);return new Me(t,n)}return new i(t,e)}(this,t);return i&&(i.init(),this.interactions[r]=i),this},oi.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},oi.prototype.changeData=function(e){this.isDataChanged=!0,this.emit(l.BEFORE_CHANGE_DATA),this.data(e),this.paint(!0),Object(E.each)(this.views,function(t){t.changeData(e)}),this.emit(l.AFTER_CHANGE_DATA)},oi.prototype.createView=function(t){var e={data:this.options.data,scales:Object(E.clone)(this.options.scales),axes:Object(E.clone)(this.options.axes),coordinate:Object(E.clone)(this.coordinateController.getOption()),tooltip:Object(E.clone)(this.options.tooltip),legends:Object(E.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},i=new oi(Object(S.__assign)(Object(S.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:1}),middleGroup:this.middleGroup.addGroup({zIndex:2}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:3}),theme:this.themeObject,padding:this.padding},t),{options:Object(S.__assign)(Object(S.__assign)({},e),Object(E.get)(t,"options",{}))}));return this.views.push(i),i},oi.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},oi.prototype.removeView=function(e){var t=Object(E.remove)(this.views,function(t){return t===e})[0];return t&&t.destroy(),t},oi.prototype.getCoordinate=function(){return this.coordinateInstance},oi.prototype.getTheme=function(){return this.themeObject},oi.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},oi.prototype.getYScales=function(){return Object(E.uniq)(Object(E.map)(this.geometries,function(t){return t.getYScale()}))},oi.prototype.getScalesByDim=function(t){for(var e={},i=0,n=this.geometries;i<n.length;i++){var r=n[i],o="x"===t?r.getXScale():r.getYScale();o&&!e[o.field]&&(e[o.field]=o)}return e},oi.prototype.getScaleByField=function(t,e){var i=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},oi.prototype.getOptions=function(){return this.options},oi.prototype.getData=function(){return this.filteredData},oi.prototype.getLayer=function(t){return t===d.BG?this.backgroundGroup:t===d.MID?this.middleGroup:(d.FORE,this.foregroundGroup)},oi.prototype.isPointInPlot=function(t){return Bt(this.getCoordinate(),t)},oi.prototype.getLegendAttributes=function(){return Object(E.flatten)(Object(E.map)(this.geometries,function(t){return t.getGroupAttributes()}))},oi.prototype.getGroupScales=function(){var t=Object(E.map)(this.geometries,function(t){return t.getGroupScales()});return Object(E.uniq)(Object(E.flatten)(t))},oi.prototype.getCanvas=function(){return this.getRootView().canvas},oi.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},oi.prototype.getXY=function(t){var i,n,e=this.getCoordinate(),r=this.getScalesByDim("x"),o=this.getScalesByDim("y");if(Object(E.each)(t,function(t,e){r[e]&&(i=r[e].scale(t)),o[e]&&(n=o[e].scale(t))}),!Object(E.isNil)(i)&&!Object(E.isNil)(n))return e.convert({x:i,y:n})},oi.prototype.getController=function(e){return Object(E.find)(this.controllers,function(t){return t.name===e})},oi.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},oi.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},oi.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},oi.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},oi.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},oi.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},oi.prototype.getSnapRecords=function(n){var t=this.geometries,r=[];return Object(E.each)(t,function(e){var i,t=e.dataArray;Object(E.each)(t,function(t){(i=He(n,t,e))&&r.push(i)})}),Object(E.each)(this.views,function(t){var e=t.getSnapRecords(n);r=r.concat(e)}),r},oi.prototype.getComponents=function(){var e=[];return Object(E.each)(this.controllers,function(t){e.push.apply(e,t.getComponents())}),e},oi.prototype.filterData=function(t){var n=this.options.filters;return 0===Object(E.size)(n)?t:Object(E.filter)(t,function(e,i){return Object.keys(n).every(function(t){return(0,n[t])(e[t],e,i)})})},oi.prototype.filterFieldData=function(i,t){var e=this.options.filters,n=Object(E.get)(e,i);return Object(E.isUndefined)(n)?t:Object(E.filter)(t,function(t,e){return n(t[i],t,e)})},oi.prototype.adjustCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.adjust(t,e)},oi.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(l.BEFORE_PAINT),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(l.AFTER_PAINT),this.isDataChanged=!1},oi.prototype.renderLayoutRecursive=function(e){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(e),this.doLayout(),this.adjustCoordinate(),Object(E.each)(this.views,function(t){t.renderLayoutRecursive(e)})},oi.prototype.renderPaintRecursive=function(e){if(this.limitInPlot){var t=this.middleGroup,i=It(this.coordinateInstance),n=i.type,r=i.attrs;t.setClip({type:n,attrs:r})}this.paintGeometries(e),this.renderComponents(e),Object(E.each)(this.views,function(t){t.renderPaintRecursive(e)})},oi.prototype.createScale=function(t,e,i,n){var r=Object(E.get)(this.options.scales,[t]),o=Object(S.__assign)(Object(S.__assign)({},r),i);return this.parent?this.parent.createScale(t,e,o,n):this.scalePool.createScale(t,e,o,n)},oi.prototype.renderDataRecursive=function(e){this.doFilterData(),this.createCoordinate(),this.initGeometries(e),this.renderFacet(e),Object(E.each)(this.views,function(t){t.renderDataRecursive(e)})},oi.prototype.calculateViewBBox=function(){var t,e,i,n;if(this.parent){var r=this.parent.coordinateBBox;t=r.x,e=r.y,i=r.width,n=r.height}else e=t=0,i=this.canvas.get("width"),n=this.canvas.get("height");var o=this.region,a=o.start,s=o.end;this.viewBBox=new Xt(t+i*a.x,e+n*a.y,i*(s.x-a.x),n*(s.y-a.y)),this.coordinateBBox=this.viewBBox},oi.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},oi.prototype.initComponentController=function(){var i=this;Object(E.each)(this.usedControllers,function(t){var e=qe[t];e&&i.controllers.push(new e(i))})},oi.prototype.createViewEvent=function(t){var e=t.shape,i=t.name,n=e?e.get("origin"):null,r=new Ke(this,t,n);return r.type=i,r},oi.prototype.doPlotEvent=function(t){var e=t.type,i={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var n=this.isPointInPlot(i);if(n){var r="plot:"+e;t.type=r,this.emit(r,t),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!n?("mousemove"===e&&(t.type=a.MOUSE_LEAVE,this.emit(a.MOUSE_LEAVE,t)),t.type=a.LEAVE,this.emit(a.LEAVE,t)):!this.isPreMouseInPlot&&n&&("mousemove"===e&&(t.type=a.MOUSE_ENTER,this.emit(a.MOUSE_ENTER,t)),t.type=a.ENTER,this.emit(a.ENTER,t)),this.isPreMouseInPlot=n):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(t.type=a.MOUSE_LEAVE,this.emit(a.MOUSE_LEAVE,t)),t.type=a.LEAVE,this.emit(a.LEAVE,t),this.isPreMouseInPlot=!1)}},oi.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},oi.prototype.initGeometries=function(i){var n=this;this.createOrUpdateScales(),Object(E.each)(this.geometries,function(t){t.scales=n.getGeometryScales();var e={coordinate:n.getCoordinate(),scaleDefs:Object(E.get)(n.options,"scales",{}),data:n.filteredData,theme:n.themeObject,isDataChanged:n.isDataChanged};i?t.update(e):t.init(e)}),this.adjustScales()},oi.prototype.createOrUpdateScales=function(){var n=this,t=this.getScaleFields(),r=this.getGroupedFields(),e=this.getOptions(),o=e.data,a=e.scales,s=this.filteredData;Object(E.each)(t,function(t){var e=Object(E.get)(a,[t]),i=n.getScaleKey(t);n.createScale(t,r.includes(t)?o:s,e,i),n.createdScaleKeys.set(i,!0)})},oi.prototype.syncScale=function(){this.getRootView().scalePool.sync()},oi.prototype.getGeometryScales=function(){var e=this,t=this.getScaleFields(),i={};return Object(E.each)(t,function(t){i[t]=e.getScaleByField(t)}),i},oi.prototype.getScaleFields=function(){var t=this.geometries.reduce(function(t,e){return t.push.apply(t,e.getScaleFields()),t},[]);return Object(E.uniq)(t)},oi.prototype.getGroupedFields=function(){var t=this.geometries.reduce(function(t,e){return t.push.apply(t,e.getGroupFields()),t},[]);return Object(E.uniq)(t)},oi.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},oi.prototype.adjustCategoryScaleRange=function(){var l=this,t=Object(S.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(t){return!!t}),c=this.getCoordinate(),u=this.options.scales;Object(E.each)(t,function(t){var e=t.field,i=t.values,n=t.isCategory,r=t.isIdentity;if((n||r)&&i&&!Object(E.get)(u,[e,"range"])){var o=i.length,a=void 0;if(1===o)a=[.5,1];else{var s=0;a=function(){if(c.isPolar){var t=c.startAngle;return c.endAngle-t==2*Math.PI}}()?c.isTransposed?[(s=1/o*Object(E.get)(l.theme,"widthRatio.multiplePie",1/1.3))/2,1-s/2]:[0,1-1/o]:[s=1/o/2,1-s]}t.range=a}})},oi.prototype.initComponents=function(e){Object(E.each)(this.controllers,function(t){e?t.update():(t.clear(),t.render())})},oi.prototype.doLayout=function(){this.layoutFunc(this)},oi.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},oi.prototype.paintGeometries=function(e){var i=this,n=this.options.animate;this.geometries.map(function(t){t.coordinate=i.getCoordinate(),t.canvasRegion={x:i.viewBBox.x,y:i.viewBBox.y,minX:i.viewBBox.minX,minY:i.viewBBox.minY,maxX:i.viewBBox.maxX,maxY:i.viewBBox.maxY,width:i.viewBBox.width,height:i.viewBBox.height},n||t.animate(!1),t.paint(e)})},oi.prototype.renderComponents=function(t){Object(E.each)(this.getComponents(),function(t){t.component.render()})},oi.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},oi.prototype.initOptions=function(){var n=this,t=this.options,e=t.geometries,i=void 0===e?[]:e,r=t.interactions,o=void 0===r?[]:r,a=t.views,s=void 0===a?[]:a,l=t.annotations,c=void 0===l?[]:l;i.forEach(function(t){n.createGeometry(t)}),o.forEach(function(t){var e=t.type,i=t.cfg;n.interaction(e,i)}),s.forEach(function(t){n.createView(t)});var u=this.getController("annotation");c.forEach(function(t){u.annotation(t)})},oi.prototype.createGeometry=function(t){var e=t.type,i=t.cfg,n=void 0===i?{}:i;if(this[e]){var r=this[e](n);Object(E.each)(t,function(t,e){Object(E.isFunction)(r[e])&&r[e](t)})}},oi.prototype.getScaleKey=function(t){return this.id+"-"+t},oi);function oi(t){var a=ii.call(this,{visible:t.visible})||this;a.id=Object(E.uniqueId)("view"),a.views=[],a.geometries=[],a.controllers=[],a.interactions={},a.limitInPlot=!1,a.options={data:[],animate:!0},a.usedControllers=Object.keys(qe),a.scalePool=new ni,a.layoutFunc=ei,a.isPreMouseInPlot=!1,a.isDataChanged=!1,a.createdScaleKeys=new Map,a.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var i=a.createViewEvent(t);a.doPlotEvent(i),a.emit(e,i)}},a.onDelegateEvents=function(t){var i=t.type,e=t.name;if(e.includes(":")){var n=a.createViewEvent(t);if(a.emit(e,n),t.delegateObject){var r=a.getEvents(),o=t.currentTarget.get("inheritNames");Object(E.each)(o,function(t){var e=t+":"+i;r[e]&&a.emit(e,n)})}}};var e=t.parent,i=t.canvas,n=t.backgroundGroup,r=t.middleGroup,o=t.foregroundGroup,s=t.region,l=void 0===s?{start:{x:0,y:0},end:{x:1,y:1}}:s,c=t.padding,u=t.theme,h=t.options,p=t.limitInPlot;return a.parent=e,a.canvas=i,a.backgroundGroup=n,a.middleGroup=r,a.foregroundGroup=o,a.region=l,a.padding=c,a.options=Object(S.__assign)(Object(S.__assign)({},a.options),h),a.limitInPlot=p,a.themeObject=Object(E.isObject)(u)?Object(E.deepMix)({},Ne("default"),u):Ne(u),a.init(),a}function ai(){this.scales=new Map,this.syncScales=new Map}function si(t,n){ri.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var e=Object(S.__assign)({container:this.middleGroup.addGroup({name:"element"}),labelsContainer:this.foregroundGroup.addGroup({name:"element"})},t),i=new n(e);return this.geometries.push(i),i}}function li(t){return yi[t.toLowerCase()]}function ci(t,e){if(li(t))throw new Error("Adjust type '"+t+"' existed.");yi[t.toLowerCase()]=e}var ui,hi,pi=ri,fi=(hi=pi,Object(S.__extends)(_i,hi),_i.prototype.initDefaultInteractions=function(t){var e=this;Object(E.each)(t,function(t){e.interaction(t)})},_i.prototype.changeSize=function(t,e){return this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this},_i.prototype.destroy=function(){var t,e;hi.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),(e=(t=this.wrapperElement).parentNode)&&e.removeChild(t),this.wrapperElement=null},_i.prototype.changeVisible=function(t){return this.wrapperElement.style.display=t?"":"none",this},_i.prototype.forceFit=function(){var t=j(this.ele,!0,this.width,this.height),e=t.width,i=t.height;this.changeSize(e,i)},_i.prototype.updateCanvasStyle=function(){Object(C.modifyCSS)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},_i.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},_i.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},_i),di=(bi.prototype.clear=function(){Object(E.each)(this.components,function(t){t.component.destroy()}),this.components=[]},bi.prototype.destroy=function(){this.clear()},bi.prototype.getComponents=function(){return this.components},bi.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},bi),gi=(xi.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},xi.prototype.getAdjustRange=function(t,e,i){var n,r,o=this.yField,a=i.indexOf(e),s=i.length;return!o&&this.isAdjust("y")?(n=0,r=1):1<s?(n=i[0===a?0:a-1],r=i[a===s-1?s-1:a+1],0!==a?n+=(e-n)/2:n-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-i[s-2])/2):(n=0===e?0:e-.5,r=0===e?1:e+.5),{pre:n,next:r}},xi.prototype.adjustData=function(t,e){var r=this,o=this.getDimValues(e);E.each(t,function(i,n){E.each(o,function(t,e){r.adjustDim(e,t,i,n)})})},xi.prototype.groupData=function(t,e){return E.each(t,function(t){void 0===t[e]&&(t[e]=0)}),E.groupBy(t,e)},xi.prototype.adjustDim=function(t,e,i,n){},xi.prototype.getDimValues=function(e){var t=this.xField,i=this.yField,n={},r=[];return t&&this.isAdjust("x")&&r.push(t),i&&this.isAdjust("y")&&r.push(i),r.forEach(function(t){n[t]=E.valuesOfKey(e,t).sort(function(t,e){return t-e})}),!i&&this.isAdjust("y")&&(n.y=[0,1]),n},xi),yi={},vi=(ui=gi,Object(S.__extends)(mi,ui),mi.prototype.process=function(t){var e=E.clone(t),i=E.flatten(e),n=this.dodgeBy,r=n?E.group(i,n):e;return this.cacheMap={},this.adjustDataArray=r,this.mergeData=i,this.adjustData(r,i),this.adjustDataArray=[],this.mergeData=[],e},mi.prototype.adjustDim=function(o,i,t,a){var s=this,l=this.getDistribution(o),e=this.groupData(t,o);return E.each(e,function(t,e){var r;r=1===i.length?{pre:i[0]-1,next:i[0]+1}:s.getAdjustRange(o,parseFloat(e),i),E.each(t,function(t){var e=t[o],i=l[e],n=i.indexOf(a);t[o]=s.getDodgeOffset(r,n,i.length)})}),[]},mi.prototype.getDodgeOffset=function(t,e,i){var n=this.dodgeRatio,r=this.marginRatio,o=t.pre,a=t.next,s=a-o,l=s*n/i,c=r*l;return(o+a)/2+(.5*(s-i*l-(i-1)*c)+((e+1)*l+e*c)-.5*l-.5*s)},mi.prototype.getDistribution=function(n){var t=this.adjustDataArray,e=this.cacheMap,r=e[n];return r||(r={},E.each(t,function(t,e){var i=E.valuesOfKey(t,n);i.length||i.push(0),E.each(i,function(t){r[t]||(r[t]=[]),r[t].push(e)})}),e[n]=r),r},mi);function mi(t){var e=ui.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var i=t.marginRatio,n=void 0===i?.5:i,r=t.dodgeRatio,o=void 0===r?.5:r,a=t.dodgeBy;return e.marginRatio=n,e.dodgeRatio=o,e.dodgeBy=a,e}function xi(t){var e=t.xField,i=t.yField,n=t.adjustNames,r=void 0===n?["x","y"]:n;this.adjustNames=r,this.xField=e,this.yField=i}function bi(t){this.visible=!0,this.components=[],this.view=t}function _i(t){var e=this,i=t.container,n=t.width,r=t.height,o=t.autoFit,a=void 0!==o&&o,s=t.padding,l=t.renderer,c=void 0===l?"canvas":l,u=t.pixelRatio,h=t.localRefresh,p=void 0===h||h,f=t.visible,d=void 0===f||f,g=t.defaultInteractions,y=void 0===g?["tooltip","legend-filter","legend-active","continuous-filter"]:g,v=t.options,m=t.limitInPlot,x=t.theme,b=Object(E.isString)(i)?document.getElementById(i):i,_=Object(C.createDom)('<div style="position:relative;"></div>');b.appendChild(_);var w=j(b,a,n,r),O=new(M(c).Canvas)(Object(S.__assign)({container:_,pixelRatio:u,localRefresh:p},w));return(e=hi.call(this,{parent:null,canvas:O,backgroundGroup:O.addGroup({zIndex:1}),middleGroup:O.addGroup({zIndex:2}),foregroundGroup:O.addGroup({zIndex:3}),padding:s,visible:d,options:v,limitInPlot:m,theme:x})||this).onResize=Object(E.debounce)(function(){e.forceFit()},300),e.ele=b,e.canvas=O,e.width=w.width,e.height=w.height,e.autoFit=a,e.localRefresh=p,e.renderer=c,e.wrapperElement=_,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(y),e}var wi,Oi,Mi,Ci=(Mi=gi,Object(S.__extends)(Li,Mi),Li.prototype.process=function(t){var e=E.clone(t),i=E.flatten(e);return this.adjustData(e,i),e},Li.prototype.adjustDim=function(i,n,t){var r=this,e=this.groupData(t,i);return E.each(e,function(t,e){return r.adjustGroup(t,i,parseFloat(e),n)})},Li.prototype.getAdjustOffset=function(t){var e,i=t.pre,n=t.next,r=.05*(n-i);return(n-r-(e=i+r))*Math.random()+e},Li.prototype.adjustGroup=function(t,e,i,n){var r=this,o=this.getAdjustRange(e,i,n);return E.each(t,function(t){t[e]=r.getAdjustOffset(o)}),t},Li),Si=E.Cache,ji=(Oi=gi,Object(S.__extends)(Ti,Oi),Ti.prototype.process=function(t){var e=this.yField,i=this.reverseOrder,n=e?this.processStack(t):this.processOneDimStack(t);return i?this.reverse(n):n},Ti.prototype.reverse=function(t){return t.slice(0).reverse()},Ti.prototype.processStack=function(t){var l=this.xField,c=this.yField,e=this.reverseOrder?this.reverse(t):t,u=new Si,h=new Si;return e.map(function(t){return t.map(function(t){var e,i=E.get(t,l,0),n=E.get(t,c),r=i.toString();if(n=E.isArray(n)?n[1]:n,E.isNil(n))return t;var o=0<=n?u:h;o.has(r)||o.set(r,0);var a=o.get(r),s=n+a;return o.set(r,s),Object(S.__assign)(Object(S.__assign)({},t),((e={})[c]=[a,s],e))})})},Ti.prototype.processOneDimStack=function(t){var a=this,s=this.xField,l=this.height,e=this.reverseOrder?this.reverse(t):t,c=new Si;return e.map(function(t){return t.map(function(t){var e,i=a.size,n=t[s],r=2*i/l;c.has(n)||c.set(n,r/2);var o=c.get(n);return c.set(n,o+r),Object(S.__assign)(Object(S.__assign)({},t),((e={}).y=o,e))})})},Ti),Ai=(wi=gi,Object(S.__extends)(Pi,wi),Pi.prototype.process=function(t){var e=E.flatten(t),s=this.xField,l=this.yField,c=this.getXValuesMaxMap(e),u=Math.max.apply(Math,Object.keys(c).map(function(t){return c[t]}));return E.map(t,function(t){return E.map(t,function(t){var e,i,n=t[l],r=t[s];if(E.isArray(n)){var o=(u-c[r])/2;return Object(S.__assign)(Object(S.__assign)({},t),((e={})[l]=E.map(n,function(t){return o+t}),e))}var a=(u-n)/2;return Object(S.__assign)(Object(S.__assign)({},t),((i={})[l]=[a,n+a],i))})})},Pi.prototype.getXValuesMaxMap=function(t){var e=this,i=this.xField,n=this.yField,r=E.groupBy(t,function(t){return t[i]});return E.mapValues(r,function(t){return e.getDimMaxValue(t,n)})},Pi.prototype.getDimMaxValue=function(t,e){var i=E.map(t,function(t){return E.get(t,e,[])}),n=E.flatten(i);return Math.max.apply(Math,n)},Pi);function Pi(){return null!==wi&&wi.apply(this,arguments)||this}function Ti(t){var e=Oi.call(this,t)||this,i=t.adjustNames,n=void 0===i?["y"]:i,r=t.height,o=void 0===r?NaN:r,a=t.size,s=void 0===a?10:a,l=t.reverseOrder,c=void 0!==l&&l;return e.adjustNames=n,e.height=o,e.size=s,e.reverseOrder=c,e}function Li(){return null!==Mi&&Mi.apply(this,arguments)||this}ci("Dodge",vi),ci("Jitter",Ci),ci("Stack",ji),ci("Symmetric",Ai);var ki={};function Ei(t){return ki[t.toLowerCase()]}function Di(t,e){ki[t.toLowerCase()]=e}var Bi={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Fi={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Ii={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Ri(t,e,i){var n=Fi[t];return n&&(Object(E.isFunction)(n)&&(n=n(e)),n=Object(E.deepMix)({},Bi,n),i)?n[i]:n}function Ni(t,e,i){var n,r,o=Object(E.get)(t.get("origin"),"data","_origin"),a=e.animation,s=(n=e,r=o,{delay:Object(E.isFunction)(n.delay)?n.delay(r):n.delay,easing:Object(E.isFunction)(n.easing)?n.easing(r):n.easing,duration:Object(E.isFunction)(n.duration)?n.duration(r):n.duration,callback:n.callback});if(a){var l=Ei(a);l&&l(t,s,i)}else t.animate(i.toAttrs,s)}var Yi,Gi=i(94),zi=(Yi=P,Object(S.__extends)(Hi,Yi),Hi.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},Hi.prototype.update=function(t){var e=this.shapeFactory,i=this.shape;if(i){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(i,t);var n=this.getOffscreenGroup(),r=e.drawShape(this.shapeType,t,n);r.set("data",this.data),r.set("origin",t),this.syncShapeStyle(i,r,"",this.getAnimateCfg("update"))}},Hi.prototype.destroy=function(){var t=this.shapeFactory,e=this.shape;if(e){var i=this.getAnimateCfg("leave");i?Ni(e,i,{coordinate:t.coordinate,toAttrs:Object(S.__assign)({},e.attr())}):e.remove(!0)}this.states=[],Yi.prototype.destroy.call(this)},Hi.prototype.changeVisible=function(t){Yi.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(t){t.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(t){t.hide()}))},Hi.prototype.setState=function(t,e){var i=this,n=this.states,r=this.shapeFactory,o=this.model,a=this.shape,s=this.shapeType,l=n.indexOf(t);if(e){if(-1<l)return;n.push(t),"active"!==t&&"selected"!==t||a.toFront()}else{if(-1===l)return;n.splice(l,1),"active"!==t&&"selected"!==t||a.toBack()}var c=r.drawShape(s,o,this.getOffscreenGroup());n.length?n.forEach(function(t){i.syncShapeStyle(a,c,t,null)}):this.syncShapeStyle(a,c,"",null),c.remove(!0);var u={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",u),Object(Gi.propagationDelegate)(this.container,"statechange",u)},Hi.prototype.clearStates=function(){var e=this,t=this.states;Object(E.each)(t,function(t){e.setState(t,!1)}),this.states=[]},Hi.prototype.hasState=function(t){return this.states.includes(t)},Hi.prototype.getStates=function(){return this.states},Hi.prototype.getData=function(){return this.data},Hi.prototype.getModel=function(){return this.model},Hi.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(i=t.getCanvasBBox()),e&&e.forEach(function(t){var e=t.getCanvasBBox();i.x=Math.min(e.x,i.x),i.y=Math.min(e.y,i.y),i.minX=Math.min(e.minX,i.minX),i.minY=Math.min(e.minY,i.minY),i.maxX=Math.max(e.maxX,i.maxX),i.maxY=Math.max(e.maxY,i.maxY)}),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},Hi.prototype.getStateStyle=function(t,e){var i=this.shapeType,n=Object(E.get)(this.geometry.stateOption,t,{}),r=Object(E.deepMix)({},Object(E.get)(this.theme,[i,t],{}),n),o=Object(E.get)(r.style,[e])?Object(E.get)(r.style,[e]):r.style;return Object(E.isFunction)(o)&&(o=o(this)),{animate:r.animate,style:o}},Hi.prototype.getAnimateCfg=function(t){var e=this.geometry.animateOption,i=this.shapeFactory,n=Ri(i.geometryType,i.coordinate,t);return!e||!0===e&&Object(E.isEmpty)(n)||!1===e[t]||null===e[t]?null:Object(S.__assign)(Object(S.__assign)({},n),e[t])},Hi.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var i=this.shapeFactory,n=this.container,r=this.shapeType;if(this.shape=i.drawShape(r,t,n),this.shape){this.setShapeInfo(this.shape,t),this.shape.get("name")||this.shape.set("name",this.shapeFactory.geometryType),this.shape.set("inheritNames",["element"]);var o=e?"enter":"appear",a=this.getAnimateCfg(o);a&&Ni(this.shape,a,{coordinate:i.coordinate,toAttrs:Object(S.__assign)({},this.shape.attr())})}},Hi.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},Hi.prototype.setShapeInfo=function(t,e){var i=this;t.set("origin",e),t.set("element",this),t.isGroup()&&t.get("children").forEach(function(t){i.setShapeInfo(t,e)})},Hi.prototype.syncShapeStyle=function(t,e,i,n,r){if(void 0===i&&(i=""),void 0===r&&(r=0),t.isGroup())for(var o=t.get("children"),a=e.get("children"),s=0;s<o.length;s++)this.syncShapeStyle(o[s],a[s],i,n,r+s);else{var l=void 0;if(i){var c=this.getStateStyle(i,t.get("name")||r),u=c.animate,h=c.style;e.attr(h),l=u}var p=Tt(t,e);n?Ni(t,n,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model}):null!==l&&this.geometry.animateOption?(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p)}},Hi.prototype.getShapeType=function(t){var e=Object(E.get)(t,"shape");return Object(E.isArray)(e)?e[0]:e},Hi),Xi={},Vi={};function Hi(t){var e=Yi.call(this,t)||this;e.states=[];var i=t.shapeFactory,n=t.theme,r=t.container,o=t.offscreenGroup,a=t.visible,s=void 0===a||a;return e.shapeFactory=i,e.theme=n,e.container=r,e.offscreenGroup=o,e.visible=s,e}function Wi(t){return Xi[t.toLowerCase()]}function qi(t,e){Xi[t.toLowerCase()]=e}function Ui(t){return Vi[t.toLowerCase()]}function Zi(t,e){Vi[t.toLowerCase()]=e}var Ki=i(68),$i={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var i=this.getShape(t);return i.getPoints?i.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getMarker:function(t,e){var i=this.getShape(t);if(!i.getMarker){var n=this.defaultShapeType;i=this.getShape(n)}var r=this.theme,o=Object(E.get)(r,[t,"default"],{}),a=i.getMarker(e);return Object(E.deepMix)({},o,a)},drawShape:function(t,e,i){return this.getShape(t).draw(e,i)}},Qi={coordinate:null,parsePath:function(t){var e,i,n,r,o,g,y,a,s,l=this.coordinate,c=Object(Ki.b)(t);return l.isPolar?(r=l,o=c,s=[],Object(E.each)(o,function(t,e){switch(t[0].toLowerCase()){case"m":case"c":case"q":s.push(Rt(t,r));break;case"l":g=o[e-1],y=t,(r.isTransposed?g[g.length-2]===y[1]:g[g.length-1]===y[2])?s=s.concat(function(t){var e=t.isTransposed,i=t.startAngle,n=t.endAngle,r={x:g[1],y:g[2]},o={x:y[1],y:y[2]},a=[],s=e?"y":"x",l=Math.abs(o[s]-r[s])*(n-i),c=r[s]<=o[s]?1:0,u=l>Math.PI?1:0,h=t.convert(o),p=Dt(t,h);if(.5<=p)if(l==2*Math.PI){var f={x:(o.x+r.x)/2,y:(o.y+r.y)/2},d=t.convert(f);a.push(["A",p,p,0,u,c,d.x,d.y]),a.push(["A",p,p,0,u,c,h.x,h.y])}else a.push(["A",p,p,0,u,c,h.x,h.y]);return a}(r)):s.push(Rt(t,r));break;case"z":default:s.push(t)}}),a=s,Object(E.each)(a,function(t,e){if("a"===t[0].toLowerCase()){var i=a[e-1],n=a[e+1];n&&"a"===n[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M")}}),s):(e=l,i=c,n=[],Object(E.each)(i,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":n.push(Rt(t,e));break;case"z":default:n.push(t)}}),n)},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map(function(t){return e.convert(t)})},draw:function(t,e){}},Ji={};function tn(t,e){var i=Object(E.upperFirst)(t),n=Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},$i),e),{geometryType:t});return Ji[i]=n}function en(t,e,i){var n=Object(E.upperFirst)(t),r=Ji[n],o=Object(S.__assign)(Object(S.__assign)({},Qi),i);return r[e]=o}function nn(t){var e=Object(E.upperFirst)(t);return Ji[e]}function rn(e,i){return Object(E.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!Object(E.isEqual)(e[t],i[t])})}function on(t){return Object(E.isArray)(t)?t:t.split("*")}var an,sn=(an=P,Object(S.__extends)(ln,an),ln.prototype.position=function(t){var e=t;Object(E.isPlainObject)(t)||(e={fields:on(t)});var i=Object(E.get)(e,"fields");return 1===i.length&&(i.unshift("1"),Object(E.set)(e,"fields",i)),Object(E.set)(this.attributeOption,"position",e),this},ln.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},ln.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},ln.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},ln.prototype.adjust=function(t){var i=t;return(Object(E.isString)(t)||Object(E.isPlainObject)(t))&&(i=[t]),Object(E.each)(i,function(t,e){Object(E.isObject)(t)||(i[e]={type:t})}),this.adjustOption=i,this},ln.prototype.style=function(t,e){if(Object(E.isString)(t)){var i=on(t);this.styleOption={fields:i,callback:e}}else{var n=(i=t.fields,t.callback),r=t.cfg;this.styleOption=i||n||r?t:{cfg:t}}return this},ln.prototype.tooltip=function(t,e){if(Object(E.isString)(t)){var i=on(t);this.tooltipOption={fields:i,callback:e}}else this.tooltipOption=t;return this},ln.prototype.animate=function(t){return this.animateOption=t,this},ln.prototype.label=function(t,e,i){if(Object(E.isString)(t)){var n={},r=on(t);n.fields=r,Object(E.isFunction)(e)?n.callback=e:Object(E.isPlainObject)(e)&&(n.cfg=e),i&&(n.cfg=i),this.labelOption=n}else this.labelOption=t;return this},ln.prototype.state=function(t){return this.stateOption=t,this},ln.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},ln.prototype.update=function(t){void 0===t&&(t={});var e=t.data,i=t.isDataChanged,n=this.attributeOption,r=this.lastAttributeOption;Object(E.isEqual)(n,r)?!e||!i&&Object(E.isEqual)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.processData(e)):this.init(t),this.adjustScale()},ln.prototype.paint=function(n){var r=this;void 0===n&&(n=!1),this.defaultSize=void 0,this.elements=[],this.elementsMap={},this.getOffscreenGroup().clear();var t=this.beforeMappingData,e=this.beforeMapping(t),o=[];if(e.forEach(function(t,e){var i=r.mapping(t);o.push(i),r.createElements(i,e,n)}),this.canDoGroupAnimation(n)){var i=this.container,s=this.type,a=this.coordinate,l=Object(E.get)(this.animateOption,"appear"),c=this.getYScale(),u=a.convert({x:0,y:c.scale(this.getYMinValue())});!function(t,e,i,n){if(Ii[s]){var r=Ii[s](i),o=Ei(Object(E.get)(r,"animation",""));if(o){var a=Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},Bi.appear),r),e);t.stopAnimate(),o(t,a,{coordinate:i,minYPoint:n,toAttrs:null})}}}(i,l,a,u)}this.labelOption&&this.renderLabels(Object(E.flatten)(o),n),this.afterMapping(o),Object(E.each)(this.lastElementsMap,function(t){t.animate=r.animateOption,t.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(S.__assign)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},ln.prototype.clear=function(){var t=this.container,e=this.geometryLabel;t&&t.clear(),e&&e.clear(),this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[]},ln.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,an.prototype.destroy.call(this)},ln.prototype.getGroupScales=function(){var i=[],t=this.attributes;return Object(E.each)(t,function(t){if(u.includes(t.type)){var e=t.scales;Object(E.each)(e,function(t){t.isCategory&&!i.includes(t)&&i.push(t)})}}),i},ln.prototype.getAttribute=function(t){return this.attributes[t]},ln.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},ln.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},ln.prototype.getGroupAttributes=function(){var e=[];return Object(E.each)(this.attributes,function(t){u.includes(t.type)&&e.push(t)}),e},ln.prototype.getDefaultValue=function(t){var e,i=this.getAttribute(t);return i&&Object(E.isEmpty)(i.scales)&&(e=i.values[0]),e},ln.prototype.getAttributeValues=function(t,i){var e=t.scales,n=Object(E.map)(e,function(t){var e=t.field;return"identity"===t.type?t.values[0]:(t.isCategory,i[e])});return t.mapping.apply(t,n)},ln.prototype.getAdjust=function(t){return this.adjusts[t]},ln.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},ln.prototype.getElementsBy=function(e){return this.elements.filter(function(t){return e(t)})},ln.prototype.getElementId=function(t){var i=(t=Object(E.isArray)(t)?t[0]:t)._origin;if(this.idFields.length){for(var e=i[this.idFields[0]],n=1;n<this.idFields.length;n++)e+="-"+i[this.idFields[n]];return e}var r,o,a=this.type,s=this.getXScale(),l=this.getYScale(),c=s.field||"x",u=l.field||"y",h=i[u];r="identity"===s.type?s.values[0]:i[c],o="interval"===a||"schema"===a?r:"line"===a||"area"===a||"path"===a?a:r+"-"+h;var p=this.getGroupScales();Object(E.isEmpty)(p)||Object(E.each)(p,function(t){var e=t.field;"identity"!==t.type&&(o=o+"-"+i[e])});var f=this.getAdjust("dodge");if(f){var d=f.dodgeBy;d&&(o=o+"-"+i[d])}return this.getAdjust("jitter")&&(o=o+"-"+t.x+"-"+t.y),o},ln.prototype.getScaleFields=function(){var e=[],t=this.attributeOption,i=this.labelOption,n=this.tooltipOption;return Object(E.each)(t,function(t){e=e.concat(t.fields||t.values)}),e=(e=e.concat(Object(E.get)(i,"fields",[]))).concat(Object(E.get)(n,"fields",[])),Object(E.uniq)(e)},ln.prototype.changeVisible=function(e){an.prototype.changeVisible.call(this,e),this.elements.forEach(function(t){t.changeVisible(e)}),e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},ln.prototype.getGroupFields=function(){var i=this,n=[];return Object(E.each)(u,function(t){var e=i.attributeOption[t];n.push.apply(n,Object(E.get)(e,"fields",[]))}),Object(E.uniq)(n)},ln.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},ln.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},ln.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},ln.prototype.adjustScale=function(){var t=this.getYScale();this.getAdjust("stack")&&t&&this.updateStackRange(t,this.beforeMappingData)},ln.prototype.getShapeFactory=function(){var t=this.shapeType;if(nn(t))return this.shapeFactory||(this.shapeFactory=Object(E.clone)(nn(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=Object(E.get)(this.theme,["geometries",t],{}),this.shapeFactory},ln.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),i=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:i?this.normalizeValues(t[i.field],i):t.y?t.y:.1,y0:i?i.scale(this.getYMinValue()):void 0}},ln.prototype.createElement=function(t,e){void 0===e&&(e=!1);var i=this.theme,n=this.container,r=this.getDrawCfg(t),o=this.getShapeFactory(),a=new zi({theme:Object(E.get)(i,["geometries",this.shapeType],{}),shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return a.geometry=this,a.draw(r,e),a},ln.prototype.getDrawCfg=function(t){var e=t._origin,i={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},n=t.shape;!n&&this.getShapeFactory()&&(n=this.getShapeFactory().defaultShapeType),i.shape=n;var r=this.theme.geometries[this.shapeType];i.defaultStyle=Object(E.get)(r,[n,"default"],{}).style;var o=this.styleOption;return o&&(i.style=this.getStyleCfg(o,e)),this.generatePoints&&(i.points=t.points,i.nextPoints=t.nextPoints),i},ln.prototype.createElements=function(t,o,a){var s=this;void 0===a&&(a=!1);var l=this.lastElementsMap,c=this.elementsMap,u=this.elements;return Object(E.each)(t,function(t,e){var i=s.getElementId(t);c[i]&&(i=i+"-"+o+"-"+e);var n=l[i];if(n){var r=s.getDrawCfg(t);rn(r,n.getModel())&&n.update(r),delete l[i]}else n=s.createElement(t,a);u.push(n),c[i]=n}),u},ln.prototype.getLabelType=function(){var t=this.labelOption,e=this.coordinate,i=this.type,n=e.type,r=Object(E.get)(t,["cfg","type"]);return r=r||("polar"===n?"polar":"theta"===n?"pie":"interval"===i||"polygon"===i?"interval":"base")},ln.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,i=t.max;return 0<=e?e:i<=0?i:0},ln.prototype.createAttrOption=function(t,e,i){if(Object(E.isNil)(e)||Object(E.isObject)(e))Object(E.isObject)(e)&&Object(E.isEqual)(Object.keys(e),["values"])?Object(E.set)(this.attributeOption,t,{fields:e.values}):Object(E.set)(this.attributeOption,t,e);else{var n={};Object(E.isNumber)(e)?n.values=[e]:n.fields=on(e),i&&(Object(E.isFunction)(i)?n.callback=i:n.values=i),Object(E.set)(this.attributeOption,t,n)}},ln.prototype.initAttributes=function(){var c=this,u=this.attributes,t=this.attributeOption,h=this.theme,p=this.shapeType;Object(E.each)(t,function(t,e){if(t){var i=Object(S.__assign)({},t),n=i.callback,r=i.values,o=i.fields,a=void 0===o?[]:o,s=Object(E.map)(a,function(t){return c.scales[t]});i.scales=s,"position"!==e&&1===s.length&&"identity"===s[0].type?i.values=s[0].values:n||r||("size"===e?i.values=h.sizes:"shape"===e?i.values=h.shapes[p]||[]:"color"===e&&(s.length?i.values=s[0].values.length<=10?h.colors10:h.colors20:i.values=h.colors10));var l=y(e);u[e]=new l(i)}})},ln.prototype.processData=function(t){var i=this,e=this.groupData(t);e=Object(E.map)(e,function(t){var e=i.saveOrigin(t);return i.numeric(e),e});var n=this.adjustData(e);return this.beforeMappingData=n},ln.prototype.adjustData=function(t){var s=this,e=this.adjustOption,l=t;if(e){var c=this.getXScale(),u=this.getYScale(),h=c.field,p=u?u.field:null;e.forEach(function(t){var e=Object(S.__assign)({xField:h,yField:p},t),i=t.type;if("dodge"===i){var n=[];if(c.isCategory||"identity"===c.type)n.push("x");else{if(u)throw new Error("dodge is not support linear attribute, please use category attribute!");n.push("y")}e.adjustNames=n,e.dodgeRatio=s.theme.columnWidthRatio}else if("stack"===i){var r=s.coordinate;if(!u){e.height=r.getHeight();var o=s.getDefaultValue("size")||3;e.size=o}!r.isTransposed&&Object(E.isNil)(e.reverseOrder)&&(e.reverseOrder=!0)}var a=new(li(i))(e);l=a.process(l),s.adjusts[i]=a})}return l},ln.prototype.groupData=function(t){for(var e=this.getGroupScales(),i=this.scaleDefs,n={},r=[],o=0,a=e;o<a.length;o++){var s=a[o].field;r.push(s),Object(E.get)(i,[s,"values"])&&(n[s]=i[s].values)}return function(t,e,i){if(void 0===i&&(i={}),!e)return[t];var n=Object(E.groupToMap)(t,e),r=[];if(1===e.length&&i[e[0]])for(var o=0,a=i[e[0]];o<a.length;o++){var s=n["_"+a[o]];s&&r.push(s)}else Object(E.each)(n,function(t){r.push(t)});return r}(t,r,n)},ln.prototype.saveOrigin=function(t){return Object(E.map)(t,function(t){var e;return Object(S.__assign)(Object(S.__assign)({},t),((e={})._origin=t,e))})},ln.prototype.numeric=function(t){for(var e=this.getAttribute("position").scales,i=0,n=t.length;i<n;i+=1)for(var r=t[i],o=0;o<Math.min(2,e.length);o+=1){var a=e[o];if(a.isCategory){var s=a.field;r[s]=a.translate(r[s])}}},ln.prototype.updateStackRange=function(t,e){for(var i=Object(E.flatten)(e),n=t.field,r=t.min,o=t.max,a=0,s=i;a<s.length;a++){var l=s[a],c=Math.min.apply(null,l[n]),u=Math.max.apply(null,l[n]);c<r&&(r=c),o<u&&(o=u)}var h=this.scaleDefs,p={};r<t.min&&!Object(E.get)(h,[n,"min"])&&(p.min=r),o>t.max&&!Object(E.get)(h,[n,"max"])&&(p.max=o),t.change(p)},ln.prototype.beforeMapping=function(t){var e=this,i=t;if(this.sortable){var n=this.getXScale(),r=n.field;Object(E.each)(i,function(t){t.sort(function(t,e){return n.translate(t[r])-n.translate(e[r])})})}return this.generatePoints&&(Object(E.each)(i,function(t){e.generateShapePoints(t)}),i.reduce(function(t,e){return t[0].nextPoints=e[0].points,e},i[0])),i},ln.prototype.afterMapping=function(t){this.sortable||this.sort(t),this.dataArray=t},ln.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),i=this.getAttribute("shape"),n=0,r=t;n<r.length;n++){var o=r[n],a=this.createShapePointsCfg(o),s=i?this.getAttributeValues(i,o):null,l=e.getShapePoints(s,a);o.points=l}},ln.prototype.normalizeValues=function(t,e){return Object(E.isArray)(t)?t.map(function(t){return e.scale(t)}):e.scale(t)},ln.prototype.mapping=function(t){for(var e=this.attributes,i=[],n=0,r=t;n<r.length;n++){var o=r[n],a={_origin:o._origin,points:o.points,nextPoints:o.nextPoints};for(var s in e)if(e.hasOwnProperty(s)){var l=e[s],c=l.names,u=this.getAttributeValues(l,o);if(1<c.length)for(var h=0;h<u.length;h+=1){var p=u[h];a[c[h]]=Object(E.isArray)(p)&&1===p.length?p[0]:p}else a[c[0]]=1===u.length?u[0]:u}this.convertPoint(a),i.push(a)}return i},ln.prototype.convertPoint=function(t){var e=t.x,i=t.y;if(!Object(E.isNil)(e)&&!Object(E.isNil)(i)){var n,r,o,a=this.coordinate;if(Object(E.isArray)(i)&&Object(E.isArray)(e)){n=[],r=[];for(var s=0,l=0,c=e.length,u=i.length;s<c&&l<u;s+=1,l+=1)o=a.convert({x:e[s],y:i[l]}),n.push(o.x),r.push(o.y)}else if(Object(E.isArray)(i))r=[],i.forEach(function(t){o=a.convert({x:e,y:t}),n&&n!==o.x?(Object(E.isArray)(n)||(n=[n]),n.push(o.x)):n=o.x,r.push(o.y)});else if(Object(E.isArray)(e))n=[],e.forEach(function(t){o=a.convert({x:t,y:i}),r&&r!==o.y?(Object(E.isArray)(r)||(r=[r]),r.push(o.y)):r=o.y,n.push(o.x)});else{var h=a.convert({x:e,y:i});n=h.x,r=h.y}t.x=n,t.y=r}},ln.prototype.sort=function(t){var i=this.getXScale(),n=i.field;Object(E.each)(t,function(t){t.sort(function(t,e){return i.translate(t._origin[n])-i.translate(e._origin[n])})})},ln.prototype.getStyleCfg=function(t,e){var i=t.fields,n=void 0===i?[]:i,r=t.callback,o=t.cfg;if(o)return o;var a=n.map(function(t){return e[t]});return r.apply(void 0,a)},ln.prototype.setCfg=function(t){var i=this,e=t.coordinate,n=t.data,r=t.theme,o=t.scaleDefs;e&&(this.coordinate=e),n&&(this.data=n),o&&(this.scaleDefs=o,this.idFields=[],Object(E.each)(o,function(t,e){Object(E.get)(t,"key")&&i.idFields.push(e)})),r&&(this.theme=this.userTheme?Object(E.deepMix)({},r,this.userTheme):r)},ln.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var i=this.geometryLabel;i||(i=new(Wi(this.getLabelType()))(this),this.geometryLabel=i),i.render(t,e);var a=i.labelsRenderer.shapesMap;Object(E.each)(this.elementsMap,function(i,t){var n,e,r,o=(n=t,e=a,r=[],Object(E.each)(e,function(t,e){e.split(" ")[0]===n&&r.push(t)}),r);(i.labelShape=o).length&&Object(E.each)(o,function(t){var e=t.getChildren();Object(E.each)(e,function(t){t.set("element",i)})})})},ln.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===Object(E.get)(this.animateOption,"appear")||Object(E.get)(this.animateOption,"appear")&&void 0===Object(E.get)(this.animateOption,["appear","animation"]))},ln);function ln(t){var e=an.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.animateOption=!0,e.elementsMap={},e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[];var i=t.container,n=t.labelsContainer,r=t.coordinate,o=t.data,a=t.sortable,s=void 0!==a&&a,l=t.visible,c=void 0===l||l,u=t.theme,h=t.scales,p=void 0===h?{}:h,f=t.scaleDefs,d=void 0===f?{}:f;return e.container=i,e.labelsContainer=n,e.coordinate=r,e.data=o,e.sortable=s,e.visible=c,e.userTheme=u,e.scales=p,e.scaleDefs=d,e}function cn(t,e,i){var n=Object(Ct.transform)(t.getMatrix(),[["t",e,i]]);t.setMatrix(n)}function un(t,e){var i=t.attr(),n=i.x,r=i.y,o=Object(Ct.transform)(t.getMatrix(),[["t",-n,-r],["r",e],["t",n,r]]);t.setMatrix(o)}var hn=(pn.prototype.render=function(t,e,u){var h=this;void 0===u&&(u=!1),this.shapesMap={};for(var p=this.container,i=this.createOffscreenGroup(),n=0,r=t;n<r.length;n++){var o=r[n];o&&this.renderLabel(o,i)}this.doLayout(t,e),this.renderLabelLine(t),this.adjustLabel(t);var f=this.lastShapesMap,d=this.shapesMap;Object(E.each)(d,function(t,e){if(t.destroyed)delete d[e];else{if(f[e]){var r=t.get("data"),o=t.get("origin"),a=t.get("coordinate"),i=f[e],s=t.get("animateCfg");i.set("data",r),i.set("origin",o),i.set("animateCfg",s),i.set("coordinate",a);var l=Object(E.get)(s,"update"),c=i.getChildren();t.getChildren().map(function(t,e){var i=c[e];i.set("data",r),i.set("origin",o),i.set("animateCfg",s),i.set("coordinate",a);var n=Tt(i,t);l?Ni(i,l,{toAttrs:n,coordinate:a}):i.attr(n)}),h.shapesMap[e]=i}else{p.add(t);var n=Object(E.get)(t.get("animateCfg"),u?"enter":"appear");n&&Ni(t,n,{toAttrs:Object(S.__assign)({},t.attr()),coordinate:t.get("coordinate")})}delete f[e]}}),Object(E.each)(f,function(t){var e=Object(E.get)(t.get("animateCfg"),"leave");e?Ni(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)}),this.lastShapesMap=d,i.destroy()},pn.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},pn.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},pn.prototype.renderLabel=function(t,e){var i,n=t.id,r=t.data,o=t.mappingData,a=t.coordinate,s=t.animate,l=t.content,c={id:n,data:r,origin:o,coordinate:a},u=e.addGroup(Object(S.__assign)({name:"label",animateCfg:!1!==this.animate&&null!==s&&!1!==s&&Object(E.deepMix)({},this.animate,s)},c));if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var h=l.getCanvasBBox(),p=h.width,f=h.height,d=Object(E.get)(t,"textAlign","left"),g=t.x;"center"===d?g-=p/2:"right"!==d&&"end"!==d||(g-=p),cn(l,g,t.y-f/2),i=l,u.add(l)}else i=u.addShape("text",Object(S.__assign)({attrs:Object(S.__assign)({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:Object(E.get)(t,"textBaseline","middle"),text:t.content},t.style)},c));t.rotate&&un(i,t.rotate),this.shapesMap[n]=u},pn.prototype.doLayout=function(r,o){var a=this;if(this.layout){var t=Object(E.isArray)(this.layout)?this.layout:[this.layout];Object(E.each)(t,function(t){var e=Ui(Object(E.get)(t,"type",""));if(e){var i=[],n=[];Object(E.each)(a.shapesMap,function(t,e){i.push(t),n.push(o[e])}),e(r,i,n,a.region,t.cfg)}})}},pn.prototype.renderLabelLine=function(t){var a=this;Object(E.each)(t,function(t){if(t&&t.labelLine){var e=Object(E.get)(t,"labelLine",{}),i=t.id,n=e.path;if(!n){var r=t.start;n=[["M",r.x,r.y],["L",t.x,t.y]]}var o=a.shapesMap[i];o.destroyed||o.addShape("path",{capture:!1,attrs:Object(S.__assign)({path:n,stroke:t.color?t.color:Object(E.get)(t,["style","fill"],"#000"),fill:null},e.style),id:i,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}})},pn.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},pn.prototype.adjustLabel=function(t){var r=this;Object(E.each)(t,function(t){if(t){var e=t.id,i=r.shapesMap[e];if(!i.destroyed){var n=i.find(function(t){return"text"===t.get("type")});n&&(t.offsetX&&n.attr("x",n.attr("x")+t.offsetX),t.offsetY&&n.attr("y",n.attr("y")+t.offsetY))}}})},pn);function pn(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,i=t.container;this.layout=e,this.container=i}var fn=(Cn.prototype.getLabelItems=function(t){var a=this,s=[],i=this.getLabelCfgs(t);return Object(E.each)(t,function(n,t){var r=i[t];if(r){var e=Object(E.isArray)(r.content)?r.content:[r.content],o=(r.content=e).length;Object(E.each)(e,function(t,e){if(Object(E.isNil)(t)||""===t)s.push(null);else{var i=Object(S.__assign)(Object(S.__assign)({},r),a.getLabelPoint(r,n,e));i.textAlign||(i.textAlign=a.getLabelAlign(i,e,o)),i.offset<=0&&(i.labelLine=null),s.push(i)}})}else s.push(null)}),s},Cn.prototype.render=function(t,e){void 0===e&&(e=!1);var i=this.getLabelItems(t),n=this.getLabelsRenderer(),r=this.getGeometryShapes();n.render(i,r,e)},Cn.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},Cn.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},Cn.prototype.getCoordinate=function(){return this.geometry.coordinate},Cn.prototype.getDefaultLabelCfg=function(){return Object(E.get)(this.geometry.theme,"labels",{})},Cn.prototype.setLabelPosition=function(t,e,i,n){},Cn.prototype.getDefaultOffset=function(t){var e=this.getCoordinate(),i=this.getOffsetVector(t);return e.isTransposed?i[0]:i[1]},Cn.prototype.getLabelOffset=function(t,e,i){var n=this.getDefaultOffset(t.offset),r=this.getCoordinate().isTransposed,o=r?1:-1,a={x:0,y:0};return a[r?"x":"y"]=0<e||1===i?n*o:n*o*-1,a},Cn.prototype.getLabelPoint=function(o,t,e){var i=this.getCoordinate(),n=o.content.length;function r(t,e){var i,n,r=t;return Object(E.isArray)(r)&&(r=1===o.content.length?r.length<=2?r[t.length-1]:(i=r,n=0,Object(E.each)(i,function(t){n+=t}),n/i.length):r[e]),r}var a={content:o.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&"polygon"===this.geometry.type){var s=function(t,e){if(Object(E.isNumber)(t)&&Object(E.isNumber)(e))return[t,e];for(var i,n,r=-1,o=0,a=0,s=t.length-1,l=0;++r<t.length;)i=s,s=r,l+=n=t[i]*e[s]-t[s]*e[i],o+=(t[i]+t[s])*n,a+=(e[i]+e[s])*n;return[o/(l*=3),a/l]}(t.x,t.y);a.x=s[0],a.y=s[1]}else a.x=r(t.x,e),a.y=r(t.y,e);var l=Object(E.isArray)(t.shape)?t.shape[0]:t.shape;if("funnel"===l||"pyramid"===l){var c=Object(E.get)(t,"nextPoints"),u=Object(E.get)(t,"points");if(c){var h=i.convert(u[1]),p=i.convert(c[1]);a.x=(h.x+p.x)/2,a.y=(h.y+p.y)/2}else"pyramid"===l&&(h=i.convert(u[1]),p=i.convert(u[2]),a.x=(h.x+p.x)/2,a.y=(h.y+p.y)/2)}o.position&&this.setLabelPosition(a,t,e,o.position);var f=this.getLabelOffset(o,e,n);return a.start={x:a.x,y:a.y},a.x+=f.x,a.y+=f.y,a.color=t.color,a},Cn.prototype.getLabelAlign=function(t,e,i){var n="center";if(this.getCoordinate().isTransposed){var r=this.getDefaultOffset(t.offset);n=r<0?"right":0===r?"center":"left",1<i&&0===e&&("right"===n?n="left":"left"===n&&(n="right"))}return n},Cn.prototype.getLabelId=function(t){var e=this.geometry,i=e.type,n=e.getXScale(),r=e.getYScale(),o=t._origin,a=e.getElementId(t);return"line"===i||"area"===i?a+=" "+o[n.field]:"path"===i&&(a+=" "+o[n.field]+"-"+o[r.field]),a},Cn.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,i=t.labelOption,n=t.canvasRegion,r=t.animateOption,o=this.geometry.coordinate,a=this.labelsRenderer;return a||(a=new hn({container:e,layout:Object(E.get)(i,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=a),a.region=n,a.animate=!!r&&Ri("label",o),a},Cn.prototype.getLabelCfgs=function(t){var l=this,e=this.geometry,c=this.getDefaultLabelCfg(),u=e.type,h=e.theme,i=e.labelOption,n=e.scales,p=e.coordinate,f=i.fields,d=i.callback,g=i.cfg,y=f.map(function(t){return n[t]}),v=[];return Object(E.each)(t,function(t,e){var i,n=t._origin,r=l.getLabelText(n,y);if(d){var o=f.map(function(t){return n[t]});if(i=d.apply(void 0,o),Object(E.isNil)(i))return void v.push(null)}var a=Object(S.__assign)(Object(S.__assign)({id:l.getLabelId(t),data:n,mappingData:t,coordinate:p},g),i),s=a.content;Object(E.isFunction)(s)?a.content=s(n,t,e):Object(E.isUndefined)(s)&&(a.content=r[0]),Object(E.isFunction)(a.position)&&(a.position=a.position(n,t,e)),a="polygon"===u||a.offset<0&&!["line","point","path"].includes(u)?Object(E.deepMix)({},c,h.innerLabels,a):Object(E.deepMix)({},c,h.labels,a),v.push(a)}),v},Cn.prototype.getLabelText=function(i,t){var n=[];return Object(E.each)(t,function(e){var t=i[e.field];t=Object(E.isArray)(t)?t.map(function(t){return e.getText(t)}):e.getText(t),Object(E.isNil)(t)||""===t?n.push(null):n.push(t)}),n},Cn.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate();return e.isTransposed?e.applyMatrix(t,0):e.applyMatrix(0,t)},Cn.prototype.getGeometryShapes=function(){var i=this.geometry,n={};return Object(E.each)(i.elementsMap,function(t,e){n[e]=t.shape}),Object(E.each)(i.getOffscreenGroup().getChildren(),function(t){var e=i.getElementId(t.get("origin").mappingData);n[e]=t}),n},Cn),dn="4.0.5",gn="#000",yn="#FFFFFF",vn="#A6A6A6",mn="#737373",xn="#404040",bn="#262626",_n=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],wn={brandColor:_n[0],paletteQualitative10:_n,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:xn,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:vn,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:xn,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:bn,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:mn,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:bn,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:mn,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:_n[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:vn,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:bn,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:mn,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:bn,annotationArcBorder:.5,annotationLineBorderColor:xn,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:vn,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#0D0D0D",annotationTextBorder:1.5,annotationRegionFillColor:yn,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:xn,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:vn,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:vn,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:gn,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:xn,pointFillColor:_n[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:gn,pointBorderOpacity:1,pointActiveBorderColor:yn,pointSelectedBorder:2,pointSelectedBorderColor:yn,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:_n[0],hollowPointBorderOpacity:.95,hollowPointFillColor:gn,hollowPointActiveBorder:1,hollowPointActiveBorderColor:yn,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:yn,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:_n[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:_n[0],areaFillOpacity:.25,areaActiveFillColor:_n[0],areaActiveFillOpacity:.5,areaSelectedFillColor:_n[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:_n[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:yn,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:yn,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:_n[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:yn,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:yn,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:_n[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:gn,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:yn,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:yn,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},On=i(95),Mn=i(96);function Cn(t){this.geometry=t}function Sn(t){return Object(E.isNil)(t)||isNaN(t)}function jn(t){if(Object(E.isArray)(t))return Sn(t[1].y);var e=t.y;return Object(E.isArray)(e)?Sn(e[0]):Sn(e)}function An(t,e){if(!t.length)return[];if(e)return[Object(E.filter)(t,function(t){return!jn(t)})];var i=[],n=[];return t.forEach(function(t){jn(t)?n.length&&(i.push(n),n=[]):n.push(t)}),n.length&&i.push(n),i}function Pn(t,e,i,n){void 0===n&&(n="");var r=t.style,o=t.defaultStyle,a=t.color,s=t.size,l=Object(S.__assign)(Object(S.__assign)({},o),r);return a&&(e&&(Object(E.get)(r,"stroke")||(l.stroke=a)),i&&(Object(E.get)(r,"fill")||(l.fill=a))),n&&Object(E.isNil)(Object(E.get)(r,n))&&!Object(E.isNil)(s)&&(l[n]=s),l}function Tn(t){var i=t.x;return(Object(E.isArray)(t.y)?t.y:[t.y]).map(function(t,e){return{x:Object(E.isArray)(i)?i[e]:i,y:t}})}var Ln={line:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},dot:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},dash:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},smooth:function(t,e,i){return[["M",t-i,e],["A",i/2,i/2,0,1,1,t,e],["A",i/2,i/2,0,1,0,t+i,e]]},hv:function(t,e,i){return[["M",t-i-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+i+1,e+2.5]]},vh:function(t,e,i){return[["M",t-i-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+i+1,e-2.5]]},hvh:function(t,e,i){return[["M",t-(i+1),e+2.5],["L",t-i/2,e+2.5],["L",t-i/2,e-2.5],["L",t+i/2,e-2.5],["L",t+i/2,e+2.5],["L",t+i+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function kn(t,e){var i=t.color;return{symbol:Ln[e],style:{lineWidth:2,r:6,stroke:i}}}function En(t,s,l){var c=t.isStack,e=t.connectNulls,u=t.isInCircle,i=An(t.points,e),h=[];return Object(E.each)(i,function(t){var e,i,n,r,o,a;h=h.concat((i=u,n=c,r=s,o=l,a=(e=t)[0],Object(E.isArray)(a.y)?function(t,e,i,n,r){var o=[],a=[];Object(E.each)(t,function(t){var e=Tn(t);o.push(e[1]),a.push(e[0])});var s=Dn(o,e,n,r),l=Dn(a,e,n,r);return i?s:s.concat(l)}(e,i,n,r,o):Dn(e,i,r,o)))}),Object(S.__assign)(Object(S.__assign)({},Pn(t,!0,!1,"lineWidth")),{path:h})}function Dn(t,e,i,n){var r;return i?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),r=Gt(t,!1,n)):(r=Yt(t,!1),e&&r.push(["Z"])),r}tn("line",{defaultShapeType:"line"}),Object(E.each)(["line","dot","dash","smooth"],function(l){en("line",l,{draw:function(t,e){var i,n="smooth"===l;if(n){var r=this.coordinate,o=r.start,a=r.end;i=[[o.x,a.y],[a.x,o.y]]}var s=En(t,n,i);return e.addShape({type:"path",attrs:s,name:"line"})},getMarker:function(t){return kn(t,l)}})});var Bn,Fn=(Bn=sn,Object(S.__extends)(In,Bn),In.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);var n=this.lastElementsMap,r=this.elementsMap,o=this.elements,a=this.theme,s=this.container,l=this.getElementId(t),c=this.getShapeInfo(t),u=n[l];if(u)rn(u.getModel(),c)&&u.update(c),delete n[l];else{var h=this.getShapeFactory();(u=new zi({theme:Object(E.get)(a,["geometries",this.shapeType],{}),shapeFactory:h,container:s,offscreenGroup:this.getOffscreenGroup()})).geometry=this,u.draw(c,i)}return o.push(u),r[l]=u,o},In.prototype.getPoints=function(t){return t.map(function(t){return{x:t.x,y:t.y}})},In.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(S.__assign)(Object(S.__assign)({},e),{mappingData:t,data:this.getData(t),isStack:!!this.getAdjust("stack"),points:this.getPoints(t),connectNulls:this.connectNulls})},In.prototype.getData=function(t){return t.map(function(t){return t._origin})},In);function In(t){var e=Bn.call(this,t)||this;e.type="path",e.shapeType="line";var i=t.connectNulls,n=void 0!==i&&i;return e.connectNulls=n,e}function Rn(t,e,i,n,r){var o=Pn(t,e,!e,"lineWidth"),a=t.connectNulls,s=t.isInCircle,l=An(t.points,a),c=[];return Object(E.each)(l,function(t){c=c.concat(function(t,o,a,s,l){var e=[],i=[];Object(E.each)(t,function(t){e.push(t[1]),i.push(t[0])}),i=i.reverse();var c=[];return Object(E.each)([e,i],function(t,e){var i=[],n=s.parsePoints(t),r=n[0];o&&n.push({x:r.x,y:r.y}),i=a?Gt(n,!1,l):Yt(n,!1),0<e&&(i[0][0]="L"),c=c.concat(i)}),c.push(["Z"]),c}(t,s,i,n,r))}),o.path=c,o}function Nn(t){var e=t.start,i=t.end;return[[e.x,i.y],[i.x,e.y]]}tn("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,i=t.y0;return(Object(E.isArray)(t.y)?t.y:[i,t.y]).map(function(t){return{x:e,y:t}})}}),en("area","area",{draw:function(t,e){var i=Rn(t,!1,!1,this);return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:t.color}}}});var Yn,Gn=(Yn=Fn,Object(S.__extends)(zn,Yn),zn.prototype.getPoints=function(t){return t.map(function(t){return t.points})},zn.prototype.getYMinValue=function(){return this.startOnZero?Yn.prototype.getYMinValue.call(this):this.getYScale().min},zn);function zn(t){var e=Yn.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var i=t.startOnZero,n=void 0===i||i,r=t.sortable,o=void 0===r||r;return e.startOnZero=n,e.sortable=o,e}tn("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return Tn(t)}}),en("edge","line",{draw:function(t,e){var i=Pn(t,!0,!1,"lineWidth"),n=Yt(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var Xn,Vn,Hn=(Vn=sn,Object(S.__extends)(Un,Vn),Un),Wn=(Xn=sn,Object(S.__extends)(qn,Xn),qn.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);var n=this.prepareRange(t),r=this.prepareSize(),o=Object(E.get)(this.styleOption,["style","shadowBlur"]);return Object(E.isNumber)(o)||(o=r/2),this.prepareGreyScaleBlurredCircle(r,o),this.drawWithRange(t,n,r,o),null},qn.prototype.clear=function(){Xn.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},qn.prototype.prepareRange=function(t){var i=this.getAttribute("color").getFields()[0],n=1/0,r=-1/0;return t.forEach(function(t){var e=t._origin[i];r<e&&(r=e),e<n&&(n=e)}),n===r&&(n=r-1),[n,r]},qn.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Object(E.isNumber)(t)||(t=this.getDefaultSize()),t},qn.prototype.prepareGreyScaleBlurredCircle=function(t,e){var i=this.getGrayScaleBlurredCanvas(),n=t+e,r=i.getContext("2d");i.width=i.height=2*n,r.clearRect(0,0,i.width,i.height),r.shadowOffsetX=r.shadowOffsetY=2*n,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(-n,-n,t,0,2*Math.PI,!0),r.closePath(),r.fill()},qn.prototype.drawWithRange=function(t,e,i,n){var r=this.coordinate,o=r.start,a=r.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),c=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var u=this.getShadowCanvasCtx();e&&(t=t.filter(function(t){return t._origin[c]<=e[1]&&t._origin[c]>=e[0]}));for(var h=this.scales[c],p=0,f=t;p<f.length;p++){var d=f[p],g=this.getDrawCfg(d),y=g.x,v=g.y,m=h.scale(d._origin[c]);this.drawGrayScaleBlurredCircle(y-o.x,v-a.y,i+n,m,u)}var x=u.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(x),u.putImageData(x,0,0);var b=this.getImageShape();b.attr("x",o.x),b.attr("y",a.y),b.attr("width",s),b.attr("height",l),b.attr("img",u.canvas),b.set("origin",this.getShapeInfo(t))},qn.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},qn.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},qn.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},qn.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},qn.prototype.drawGrayScaleBlurredCircle=function(t,e,i,n,r){var o=this.getGrayScaleBlurredCanvas();r.globalAlpha=n,r.drawImage(o,t-i,e-i)},qn.prototype.colorize=function(t){for(var e=this.getAttribute("color"),i=t.data,n=this.paletteCache,r=3;r<i.length;r+=4){var o=i[r];if(Object(E.isNumber)(o)){var a=n[o]?n[o]:k.default.rgb2arr(e.gradient(o/256));i[r-3]=a[0],i[r-2]=a[1],i[r-1]=a[2],i[r]=o}}},qn.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t)},qn.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(S.__assign)(Object(S.__assign)({},e),{mappingData:t,data:this.getData(t)})},qn.prototype.getData=function(t){return t.map(function(t){return t._origin})},qn);function qn(){var t=null!==Xn&&Xn.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}function Un(){var t=null!==Vn&&Vn.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}function Zn(t,e){void 0===e&&(e=!1);var i,n,r,o,a=t.x,s=t.y,l=t.y0,c=t.size;n=Object(E.isArray)(s)?(i=s[0],s[1]):(i=l,s),o=Object(E.isArray)(a)?(r=a[0],a[1]):(r=a-c/2,a+c/2);var u=[{x:r,y:i},{x:r,y:n}];return e?u.push({x:o,y:(n+i)/2}):u.push({x:o,y:n},{x:o,y:i}),u}function Kn(t){var e=[],i=t[0];e.push(["M",i.x,i.y]);for(var n=1,r=t.length;n<r;n++)e.push(["L",t[n].x,t[n].y]);return e.push(["L",i.x,i.y]),e.push(["z"]),e}function $n(t,e,i){var n=[];return Object(E.isNil)(e)?i?n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[2].x,t[2].y],["Z"]):n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),n}function Qn(t){var e=t.theme,i=t.coordinate,n=t.getXScale(),r=n.values,o=t.beforeMappingData,a=r.length;if(n.isLinear&&1<r.length){r.sort();var s=function(t,e){var i=t.length,n=t;Object(E.isString)(n[0])&&(n=t.map(function(t){return e.translate(t)}));for(var r=n[1]-n[0],o=2;o<i;o++){var a=n[o]-n[o-1];a<r&&(r=a)}return r}(r,n);a=(n.max-n.min)/s,r.length>a&&(a=r.length)}var l=n.range,c=1/a,u=1;u=i.isPolar?i.isTransposed&&1<a?e.multiplePieWidthRatio:e.roseWidthRatio:(n.isLinear&&(c*=l[1]-l[0]),e.columnWidthRatio),c*=u,t.getAdjust("dodge")&&(c/=function(t,e){if(e){var i=Object(E.flatten)(t);return Object(E.valuesOfKey)(i,e).length}return t.length}(o,t.getAdjust("dodge").dodgeBy));var h=e.maxColumnWidth,p=e.minColumnWidth,f=Et(t.coordinate);if(h){var d=h/f;d<c&&(c=d)}if(p){var g=p/f;c<g&&(c=g)}return c}tn("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return Zn(t)}}),en("interval","rect",{draw:function(t,e){var i=Pn(t,!1,!0),n=this.parsePath(Kn(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var Jn,tr,er=(tr=sn,Object(S.__extends)(ar,tr),ar.prototype.createShapePointsCfg=function(t){var e,i=tr.prototype.createShapePointsCfg.call(this,t),n=this.getAttribute("size");return n?(e=this.getAttributeValues(n,t)[0],e/=Et(this.coordinate)):(this.defaultSize||(this.defaultSize=Qn(this)),e=this.defaultSize),i.size=e,i},ar.prototype.adjustScale=function(){tr.prototype.adjustScale.call(this);var t=this.getYScale();if("theta"===this.coordinate.type)t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,i=t.field,n=t.min,r=t.max;"time"!==t.type&&(0<n&&!Object(E.get)(e,[i,"min"])&&t.change({min:0}),r<=0&&!Object(E.get)(e,[i,"max"])&&t.change({max:0}))}},ar),ir=(Jn=Fn,Object(S.__extends)(or,Jn),or),nr={hexagon:function(t,e,i){var n=i/2*Math.sqrt(3);return[["M",t,e-i],["L",t+n,e-i/2],["L",t+n,e+i/2],["L",t,e+i],["L",t-n,e+i/2],["L",t-n,e-i/2],["Z"]]},bowtie:function(t,e,i){var n=i-1.5;return[["M",t-i,e-n],["L",t+i,e+n],["L",t+i,e-n],["L",t-i,e+n],["Z"]]},cross:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e+i],["M",t+i,e-i],["L",t-i,e+i]]},tick:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},plus:function(t,e,i){return[["M",t-i,e],["L",t+i,e],["M",t,e-i],["L",t,e+i]]},hyphen:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},line:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]}},rr=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function or(t){var e=Jn.call(this,t)||this;e.type="line";var i=t.sortable,n=void 0===i||i;return e.sortable=n,e}function ar(){var t=null!==tr&&tr.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}function sr(t,e,i,n,r){var o=Pn(e,r,!r,"r"),a=t.parsePoints(e.points),s=a[0];if(e.isStack)s=a[1];else if(1<a.length){for(var l=i.addGroup(),c=0,u=a;c<u.length;c++){var h=u[c];l.addShape({type:"marker",attrs:Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},o),{symbol:nr[n]||n}),h)})}return l}return i.addShape({type:"marker",attrs:Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},o),{symbol:nr[n]||n}),s)})}tn("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return Tn(t)}}),Object(E.each)(rr,function(i){en("point","hollow-"+i,{draw:function(t,e){return sr(this,t,e,i,!0)},getMarker:function(t){var e=t.color;return{symbol:nr[i]||i,style:{r:4.5,stroke:e,fill:null}}}})});var lr,cr=(lr=sn,Object(S.__extends)(ur,lr),ur.prototype.getDrawCfg=function(t){var e=lr.prototype.getDrawCfg.call(this,t);return Object(S.__assign)(Object(S.__assign)({},e),{isStack:!!this.getAdjust("stack")})},ur);function ur(){var t=null!==lr&&lr.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}tn("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(n){var r=[];return Object(E.each)(n.x,function(t,e){var i=n.y[e];r.push({x:t,y:i})}),r}}),en("polygon","polygon",{draw:function(t,e){if(!Object(E.isEmpty)(t.points)){var i=Pn(t,!0,!0),n=this.parsePath(function(t){for(var e=t[0],i=1,n=[["M",e.x,e.y]];i<t.length;){var r=t[i];r.x===t[i-1].x&&r.y===t[i-1].y||(n.push(["L",r.x,r.y]),r.x===e.x&&r.y===e.y&&i<t.length-1&&(e=t[i+1],n.push(["Z"]),n.push(["M",e.x,e.y]),i++)),i++}return Object(E.isEqual)(Object(E.last)(n),e)||n.push(["L",e.x,e.y]),n.push(["Z"]),n}(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var hr,pr,fr=(pr=sn,Object(S.__extends)(yr,pr),yr.prototype.createShapePointsCfg=function(t){var e,i=pr.prototype.createShapePointsCfg.call(this,t),n=i.x,r=i.y;if(!Object(E.isArray)(n)||!Object(E.isArray)(r)){var o=this.getXScale(),a=this.getYScale(),s=.5/o.values.length,l=.5/a.values.length;o.isCategory&&a.isCategory?(n=[n-s,n-s,n+s,n+s],r=[r-l,r+l,r+l,r-l]):Object(E.isArray)(n)?(n=[(e=n)[0],e[0],e[1],e[1]],r=[r-l/2,r+l/2,r+l/2,r-l/2]):Object(E.isArray)(r)&&(r=[(e=r)[0],e[1],e[1],e[0]],n=[n-s/2,n-s/2,n+s/2,n+s/2]),i.x=n,i.y=r}return i},yr),dr=(tn("schema",{defaultShapeType:""}),hr=sn,Object(S.__extends)(gr,hr),gr.prototype.createShapePointsCfg=function(t){var e,i=hr.prototype.createShapePointsCfg.call(this,t),n=this.getAttribute("size");return n?(e=this.getAttributeValues(n,t)[0],e/=Et(this.coordinate)):(this.defaultSize||(this.defaultSize=Qn(this)),e=this.defaultSize),i.size=e,i},gr);function gr(){var t=null!==hr&&hr.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}function yr(){var t=null!==pr&&pr.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}function vr(t,e){var i=[];i.push({x:t.x,y:t.y/2+e.y/2}),i.push({x:e.x,y:t.y/2+e.y/2}),i.push(e);var n=["C"];return Object(E.each)(i,function(t){n.push(t.x,t.y)}),n}function mr(t,e){var i=[];i.push({x:e.x,y:e.y}),i.push(t);var n=["Q"];return Object(E.each)(i,function(t){n.push(t.x,t.y)}),n}function xr(t,o){var e=An(t.points,t.connectNulls),a=[];return Object(E.each)(e,function(t){var i,n,r,e=(i=t,n=o,r=[],Object(E.each)(i,function(l,t){var c=i[t+1];if(r.push(l),c){var e=function(t){var e,i=l.x,n=l.y,r=c.x,o=c.y;switch(t){case"hv":e=[{x:r,y:n}];break;case"vh":e=[{x:i,y:o}];break;case"hvh":var a=(r+i)/2;e=[{x:a,y:n},{x:a,y:o}];break;case"vhv":var s=(n+o)/2;e=[{x:i,y:s},{x:r,y:s}]}return e}(n);r=r.concat(e)}}),r);a=a.concat(e.map(function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}),Object(S.__assign)(Object(S.__assign)({},Pn(t,!0,!1,"lineWidth")),{path:a})}function br(t){var e=Object(E.isArray)(t)?t:[t],i=e[0],n=e[e.length-1],r=1<e.length?e[1]:i;return{min:i,max:n,min1:r,max1:3<e.length?e[3]:n,median:2<e.length?e[2]:r}}function _r(t,e,i){var n,r=i/2;if(Object(E.isArray)(e)){var o=br(e),a=o.min,s=o.max,l=o.median,c=o.min1,u=t-r,h=t+r;n=[[u,s],[h,s],[t,s],[t,p=o.max1],[u,c],[u,p],[h,p],[h,c],[t,c],[t,a],[u,a],[h,a],[u,l],[h,l]]}else{e=Object(E.isNil)(e)?.5:e;var p,f=br(t),d=(a=f.min,s=f.max,l=f.median,e-r),g=e+r;n=[[a,d],[a,g],[a,e],[c=f.min1,e],[c,d],[c,g],[p=f.max1,g],[p,d],[p,e],[s,e],[s,d],[s,g],[l,d],[l,g]]}return n.map(function(t){return{x:t[0],y:t[1]}})}function wr(t,e,i){var n,r,o=(n=e,function(t,e){if(Object(E.isString)(t))return t.padEnd(4,e);if(Object(E.isArray)(t)){var i=t.length;if(i<4)for(var n=4-i,r=0;r<n;r++)t.push(e)}return t}(r=(Object(E.isArray)(n)?n:[n]).sort(function(t,e){return e-t}),r[r.length-1]));return[{x:t,y:o[0]},{x:t,y:o[1]},{x:t-i/2,y:o[2]},{x:t-i/2,y:o[1]},{x:t+i/2,y:o[1]},{x:t+i/2,y:o[2]},{x:t,y:o[2]},{x:t,y:o[3]}]}en("area","line",{draw:function(t,e){var i=Rn(t,!0,!1,this);return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),en("area","smooth",{draw:function(t,e){var i=Rn(t,!1,!0,this,Nn(this.coordinate));return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:t.color}}}}),en("area","smooth-line",{draw:function(t,e){var i=Rn(t,!0,!0,this,Nn(this.coordinate));return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),en("edge","arc",{draw:function(t,e){var i,n,r,o,a,s,l,c,u,h=Pn(t,!0,!1,"lineWidth"),p=t.points,f=2<p.length?"weight":"normal";if(t.isInCircle){var d={x:0,y:1};return i="normal"==f?(l=p[0],c=mr(p[1],d),(u=[["M",l.x,l.y]]).push(c),u):(h.fill=h.stroke,r=d,o=mr((n=p)[1],r),a=mr(n[3],r),(s=[["M",n[0].x,n[0].y]]).push(a),s.push(["L",n[3].x,n[3].y]),s.push(["L",n[2].x,n[2].y]),s.push(o),s.push(["L",n[1].x,n[1].y]),s.push(["L",n[0].x,n[0].y]),s.push(["Z"]),s),i=this.parsePath(i),e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},h),{path:i})})}if("normal"==f)return i=At(((p=this.parsePoints(p))[1].x+p[0].x)/2,p[0].y,Math.abs(p[1].x-p[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},h),{path:i})});var g=vr(p[1],p[3]),y=vr(p[2],p[0]);return i=[["M",p[0].x,p[0].y],["L",p[1].x,p[1].y],g,["L",p[3].x,p[3].y],["L",p[2].x,p[2].y],y,["Z"]],i=this.parsePath(i),h.fill=h.stroke,e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},h),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),en("edge","smooth",{draw:function(t,e){var i,n,r,o=Pn(t,!0,!1,"lineWidth"),a=t.points,s=this.parsePath((i=a[0],n=vr(i,a[1]),(r=[["M",i.x,i.y]]).push(n),r));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},o),{path:s})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),en("edge","vhv",{draw:function(t,e){var i=Pn(t,!0,!1,"lineWidth"),n=t.points,r=this.parsePath(function(t,e){var i=[];i.push({x:t.x,y:t.y*(1-1/3)+e.y*(1/3)}),i.push({x:e.x,y:t.y*(1-1/3)+e.y*(1/3)}),i.push(e);var n=[["M",t.x,t.y]];return Object(E.each)(i,function(t){n.push(["L",t.x,t.y])}),n}(n[0],n[1]));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),en("interval","funnel",{getPoints:function(t){return t.size=2*t.size,Zn(t)},draw:function(t,e){var i=Pn(t,!1,!0),n=this.parsePath($n(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),en("interval","hollow-rect",{draw:function(t,e){var i=Pn(t,!0,!1),n=this.parsePath(Kn(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),en("interval","line",{getPoints:function(t){return i=t.x,e=t.y,n=t.y0,Object(E.isArray)(e)?e.map(function(t,e){return{x:Object(E.isArray)(i)?i[e]:i,y:t}}):[{x:i,y:n},{x:i,y:e}];var i,e,n},draw:function(t,e){var i=Pn(t,!0,!1,"lineWidth"),n=this.parsePath(Kn(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]},style:{r:5,stroke:t.color}}}}),en("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,Zn(t,!0)},draw:function(t,e){var i=Pn(t,!1,!0),n=this.parsePath($n(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),en("interval","tick",{getPoints:function(l){return function(){var t,e,i=l.x,n=l.y,r=l.y0,o=l.size;e=Object(E.isArray)(n)?(t=n[0],n[1]):(t=r,n);var a=i+o/2,s=i-o/2;return[{x:i,y:t},{x:i,y:e},{x:s,y:t},{x:a,y:t},{x:s,y:e},{x:a,y:e}]}()},draw:function(t,e){var i,n=Pn(t,!0,!1),r=this.parsePath([["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},style:{r:5,stroke:t.color}}}}),Object(E.each)(["hv","vh","hvh","vhv"],function(n){en("line",n,{draw:function(t,e){var i=xr(t,n);return e.addShape({type:"path",attrs:i,name:"line"})},getMarker:function(t){return kn(t,n)}})}),Object(E.each)(["cross","tick","plus","hyphen","line"],function(i){en("point",i,{draw:function(t,e){return sr(this,t,e,i,!0)},getMarker:function(t){var e=t.color;return{symbol:nr[i],style:{r:4.5,stroke:e,fill:null}}}})}),en("point","image",{draw:function(t,e){var i=Pn(t,!1,!1,"r").r,n=this.parsePoints(t.points),r=n[0];if(t.isStack)r=n[1];else if(1<n.length){for(var o=e.addGroup(),a=0,s=n;a<s.length;a++){var l=s[a];o.addShape("image",{attrs:{x:l.x-i/2,y:l.y-i,width:i,height:i,img:t.shape[1]}})}return o}return e.addShape("image",{attrs:{x:r.x-i/2,y:r.y-i,width:i,height:i,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Object(E.each)(rr,function(i){en("point",i,{draw:function(t,e){return sr(this,t,e,i,!1)},getMarker:function(t){var e=t.color;return{symbol:nr[i]||i,style:{r:4.5,fill:e}}}})}),en("schema","box",{getPoints:function(t){return _r(t.x,t.y,t.size)},draw:function(t,e){var i,n=Pn(t,!0,!1),r=this.parsePath([["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},n),{path:r,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,i){var n=_r(t,[e-6,e-3,e,e+3,e+6],i);return[["M",n[0].x+1,n[0].y],["L",n[1].x-1,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x+1,n[10].y],["L",n[11].x-1,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),en("schema","candle",{getPoints:function(t){return wr(t.x,t.y,t.size)},draw:function(t,e){var i,n=Pn(t,!0,!0),r=this.parsePath([["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},n),{path:r,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,i){var n=wr(t,[e+7.5,e+3,e-3,e-7.5],i);return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});var Or,Mr,Cr,Sr=(Cr=fn,Object(S.__extends)(kr,Cr),kr.prototype.setLabelPosition=function(t,e,i,n){var r=this.getCoordinate(),o=r.isTransposed,a=e.points,s=r.convert(a[0]),l=r.convert(a[2]),c=o?-1:1,u=(s.x-l.x)/2*c,h=(s.y-l.y)/2*c;switch(n){case"right":o||(t.x-=u,t.y+=h),t.textAlign=Object(E.get)(t,"textAlign","left");break;case"left":o?t.x-=2*u:(t.x+=u,t.y+=h),t.textAlign=Object(E.get)(t,"textAlign","right");break;case"bottom":o?(t.x-=u,t.y-=h):t.y+=2*h,t.textAlign=Object(E.get)(t,"textAlign","center"),t.textBaseline=Object(E.get)(t,"textBaseline","top");break;case"middle":o?t.x-=u:t.y+=h,t.textAlign=Object(E.get)(t,"textAlign","center");break;case"top":o&&(t.x-=u,t.y+=h),t.textAlign=Object(E.get)(t,"textAlign","center"),t.textBaseline=Object(E.get)(t,"textBaseline","bottom")}},kr),jr=Math.PI/2,Ar=(Mr=fn,Object(S.__extends)(Lr,Mr),Lr.prototype.getLabelAlign=function(t){var e,i=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(i.isTransposed){var n=i.getCenter(),r=this.getDefaultOffset(t.offset);e=Math.abs(t.x-n.x)<1?"center":t.angle>Math.PI||t.angle<=0?0<r?"left":"right":0<r?"right":"left"}else e="center";return e},Lr.prototype.getLabelPoint=function(t,e,i){var n,r=1,o=t.content[i];n=this.isToMiddle(e)?this.getMiddlePoint(e.points):(1===t.content.length&&0===i?i=1:0===i&&(r=-1),this.getArcPoint(e,i));var a=this.getDefaultOffset(t.offset)*r,s=this.getPointAngle(n),l=t.labelEmit,c=this.getCirclePoint(s,a,n,l);return 0===c.r?c.content="":(c.content=o,c.angle=s,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(s,a,l):t.rotate,c.start={x:n.x,y:n.y},c},Lr.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),Object(E.isArray)(t.x)||Object(E.isArray)(t.y)?{x:Object(E.isArray)(t.x)?t.x[e]:t.x,y:Object(E.isArray)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},Lr.prototype.getPointAngle=function(t){return Ft(this.getCoordinate(),t)},Lr.prototype.getCirclePoint=function(t,e,i,n){var r=this.getCoordinate(),o=r.getCenter(),a=Dt(r,i);if(0===a)return Object(S.__assign)(Object(S.__assign)({},o),{r:a});var s=t;return r.isTransposed&&e<a&&!n?s=t+2*Math.asin(e/(2*a)):a+=e,{x:o.x+a*Math.cos(s),y:o.y+a*Math.sin(s),r:a}},Lr.prototype.getLabelRotate=function(t,e,i){var n=t+jr;return i&&(n-=jr),n&&(jr<n?n-=Math.PI:n<-jr&&(n+=Math.PI)),n},Lr.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),i=t.length,n={x:0,y:0};return Object(E.each)(t,function(t){n.x+=t.x,n.y+=t.y}),n.x/=i,n.y/=i,n=e.convert(n)},Lr.prototype.isToMiddle=function(t){return 2<t.x.length},Lr),Pr=(Or=Ar,Object(S.__extends)(Tr,Or),Tr.prototype.getDefaultLabelCfg=function(){return Object(E.get)(this.geometry.theme,"pieLabels",{})},Tr.prototype.getDefaultOffset=function(t){return t||0},Tr.prototype.getLabelRotate=function(t,e,i){var n;return e<0&&((n=t)>Math.PI/2&&(n-=Math.PI),n<-Math.PI/2&&(n+=Math.PI)),n},Tr.prototype.getLabelAlign=function(t){var e,i=this.getCoordinate().getCenter();return e=t.angle<=Math.PI/2&&t.x>=i.x?"left":"right",this.getDefaultOffset(t.offset)<=0&&(e="right"===e?"left":"right"),e},Tr.prototype.getArcPoint=function(t){return t},Tr.prototype.getPointAngle=function(t){var e,i=this.getCoordinate(),n={x:Object(E.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},r={x:Object(E.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o=Ft(i,n);if(t.points&&t.points[0].y===t.points[1].y)e=o;else{var a=Ft(i,r);a<=o&&(a+=2*Math.PI),e=o+(a-o)/2}return e},Tr.prototype.getCirclePoint=function(t,e,i){var n=this.getCoordinate(),r=n.getCenter(),o=n.getRadius()+e;return Object(S.__assign)(Object(S.__assign)({},St(r.x,r.y,o,t)),{angle:t,r:o})},Tr);function Tr(t){var e=Or.call(this,t)||this;return e.defaultLayout="distribute",e}function Lr(){return null!==Mr&&Mr.apply(this,arguments)||this}function kr(){return null!==Cr&&Cr.apply(this,arguments)||this}var Er=(Dr.prototype.hasGap=function(t){for(var e=!0,i=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),o=Math.round(t.minY),a=Math.round(t.maxY),s=n;s<=r;s+=1)if(i[s]){if(s===n||s===r){for(var l=o;l<=a;l++)if(i[s][l]){e=!1;break}}else if(i[s][o]||i[s][a]){e=!1;break}}else i[s]={};return e},Dr.prototype.fillGap=function(t){for(var e=this.bitmap,i=Math.round(t.minX),n=Math.round(t.maxX),r=Math.round(t.minY),o=Math.round(t.maxY),a=i;a<=n;a+=1)e[a]||(e[a]={});for(a=i;a<=n;a+=this.xGap){for(var s=r;s<=o;s+=this.yGap)e[a][s]=!0;e[a][o]=!0}if(1!==this.yGap)for(a=r;a<=o;a+=1)e[i][a]=!0,e[n][a]=!0;if(1!==this.xGap)for(a=i;a<=n;a+=1)e[a][r]=!0,e[a][o]=!0},Dr.prototype.destroy=function(){this.bitmap={}},Dr);function Dr(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,i=void 0===e?1:e,n=t.yGap,r=void 0===n?8:n;this.xGap=i,this.yGap=r}function Br(t,e,i,n){var r=t.getCanvasBBox(),o=r.width,a=r.height,s={x:e,y:i,textAlign:"center"};switch(n){case 0:s.y-=a+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=a+1,--s.x,s.textAlign="right";break;case 2:s.y+=a+1,--s.x,s.textAlign="right";break;case 3:s.y+=a+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*a+2;break;case 6:s.y+=2*a+2;break;case 7:s.x+=o+1,s.textAlign="left";break;case 8:s.x-=o+1,s.textAlign="right"}return t.attr(s),t.getCanvasBBox()}function Fr(t,e,i,n,r){var o,a,s=i.start,l=i.end,c=i.getWidth(),u=i.getHeight();"y"===r?(o=s.x+c/2,a=n.y<s.y?n.y:s.y):"x"===r?(o=n.x>s.x?n.x:s.x,a=s.y+u/2):"xy"===r&&(a=i.isPolar?(o=i.getCenter().x,i.getCenter().y):(o=(s.x+l.x)/2,(s.y+l.y)/2));var h,p,f,d,g,y,v=(f=r,g=(p=[o,a])[0],y=p[1],(h=t).applyToMatrix([g,y,1]),"x"===f?(h.setMatrix(Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",.01,1],["t",g,y]])),d=Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",100,1],["t",g,y]])):"y"===f?(h.setMatrix(Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",1,.01],["t",g,y]])),d=Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",1,100],["t",g,y]])):"xy"===f&&(h.setMatrix(Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",.01,.01],["t",g,y]])),d=Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",100,100],["t",g,y]])),d);t.animate({matrix:v},e)}var Ir=i(147),Rr=i.n(Ir);function Nr(t,e){var i,n=Rr()(t,e),r=n.startAngle,o=n.endAngle;return!Object(E.isNumberEqual)(r,.5*-Math.PI)&&r<.5*-Math.PI&&(r+=2*Math.PI),!Object(E.isNumberEqual)(o,.5*-Math.PI)&&o<.5*-Math.PI&&(o+=2*Math.PI),0===e[5]&&(r=(i=[o,r])[0],o=i[1]),Object(E.isNumberEqual)(r,1.5*Math.PI)&&(r=-.5*Math.PI),Object(E.isNumberEqual)(o,-.5*Math.PI)&&(o=1.5*Math.PI),{startAngle:r,endAngle:o}}function Yr(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function Gr(t){var e,i,n,r=t.filter(function(t){return"A"===t[0]||"a"===t[0]}),o=r[0],a=1<r.length?r[1]:r[0],s=t.indexOf(o),l=t.indexOf(a),c=Yr(t[s-1]),u=Yr(t[l-1]),h=Nr(c,o),p=h.startAngle,f=h.endAngle,d=Nr(u,a),g=d.startAngle,y=d.endAngle;n=Object(E.isNumberEqual)(p,g)&&Object(E.isNumberEqual)(f,y)?(i=p,f):(i=Math.min(p,g),Math.max(f,y));var v=o[1],m=r[r.length-1][1];return v<m?(v=(e=[m,v])[0],m=e[1]):v===m&&(m=0),{startAngle:i,endAngle:n,radius:v,innerRadius:m}}function zr(t,e,i){if(t.isGroup())Object(E.each)(t.getChildren(),function(t){zr(t,e,i)});else{var n=t.getBBox(),r=(n.minX+n.maxX)/2,o=(n.minY+n.maxY)/2;if(t.applyToMatrix([r,o,1]),"zoomIn"===i){var a=Object(Ct.transform)(t.getMatrix(),[["t",-r,-o],["s",.01,.01],["t",r,o]]);t.setMatrix(a),t.animate({matrix:Object(Ct.transform)(t.getMatrix(),[["t",-r,-o],["s",100,100],["t",r,o]])},e)}else t.animate({matrix:Object(Ct.transform)(t.getMatrix(),[["t",-r,-o],["s",.01,.01],["t",r,o]])},Object(S.__assign)(Object(S.__assign)({},e),{callback:function(){t.remove(!0)}}))}}function Xr(t){return[v.TOP,v.BOTTOM].includes(t)?{offsetX:0,offsetY:t===v.TOP?-8:8,style:{textAlign:"center",textBaseline:t===v.TOP?"bottom":"top"}}:[v.LEFT,v.RIGHT].includes(t)?{offsetX:t===v.LEFT?-8:8,offsetY:0,style:{textAlign:t===v.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Vr(t,e,i){return{x:t.x+e*Math.cos(i),y:t.y+e*Math.sin(i)}}var Hr,Wr,qr,Ur,Zr,Kr,$r,Qr=($r=ft,Object(S.__extends)(ho,$r),ho.prototype.getDefaultCfg=function(){return Object(E.deepMix)({},$r.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:$r.prototype.getDefaultTitleCfg.call(this)})},ho.prototype.render=function(){$r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},ho.prototype.getRegion=function(t,e){var i=2*Math.PI/t,n=-1*Math.PI/2+i*e,r=.5/(1+1/Math.sin(i/2)),o=Vr({x:.5,y:.5},.5-r,n),a=5*Math.PI/4,s=Math.PI/4;return{start:Vr(o,r,a),end:Vr(o,r,s)}},ho.prototype.afterEachView=function(t,e){this.processAxis(t,e)},ho.prototype.beforeEachView=function(t,e){},ho.prototype.generateFacets=function(o){var a=this,t=this.cfg,e=t.fields,s=t.type,l=e[0];if(!l)throw new Error("No `fields` specified!");var c=this.getFieldValues(o,l),u=c.length,h=[];return c.forEach(function(t,e){var i=[{field:l,value:t,values:c}],n=Object(E.filter)(o,a.getFacetDataFilter(i)),r={type:s,data:n,region:a.getRegion(u,e),columnValue:t,columnField:l,columnIndex:e,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(r)}),h},ho.prototype.getXAxisOption=function(t,e,i,n){return i},ho.prototype.getYAxisOption=function(t,e,i,n){return i},ho.prototype.renderTitle=function(){var r=this;Object(E.each)(this.facets,function(t){var e=t.columnValue,i=t.view,n=Object(E.deepMix)({position:["50%","0%"],content:e},Xr(v.TOP),r.cfg.title);i.annotation().text(n)})},ho),Jr=(Kr=ft,Object(S.__extends)(uo,Kr),uo.prototype.getDefaultCfg=function(){return Object(E.deepMix)({},Kr.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:Kr.prototype.getDefaultTitleCfg.call(this)})},uo.prototype.render=function(){Kr.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},uo.prototype.afterEachView=function(t,e){this.processAxis(t,e)},uo.prototype.beforeEachView=function(t,e){},uo.prototype.generateFacets=function(l){var c=this,t=this.cfg.fields,u=this.cfg.cols,h=t[0];if(!h)throw new Error("No `fields` specified!");var p=this.getFieldValues(l,h),f=p.length;u=u||f;var d=this.getPageCount(f,u),g=[];return p.forEach(function(t,e){var i=c.getRowCol(e,u),n=i.row,r=i.col,o=[{field:h,value:t,values:p}],a=Object(E.filter)(l,c.getFacetDataFilter(o)),s={type:c.cfg.type,data:a,region:c.getRegion(d,u,r,n),columnValue:t,rowValue:t,columnField:h,rowField:null,columnIndex:r,rowIndex:n,columnValuesLength:u,rowValuesLength:d,total:f};g.push(s)}),g},uo.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1&&n.columnValuesLength*n.rowIndex+n.columnIndex+1+n.columnValuesLength<=n.total?Object(S.__assign)(Object(S.__assign)({},i),{label:null,title:null}):i},uo.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},uo.prototype.renderTitle=function(){var r=this;Object(E.each)(this.facets,function(t){var e=t.columnValue,i=t.view,n=Object(E.deepMix)({position:["50%","0%"],content:e},Xr(v.TOP),r.cfg.title);i.annotation().text(n)})},uo.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},uo.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},uo),to=(Zr=ft,Object(S.__extends)(co,Zr),co.prototype.getDefaultCfg=function(){return Object(E.deepMix)({},Zr.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(S.__assign)({},Zr.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(S.__assign)({},Zr.prototype.getDefaultTitleCfg.call(this))})},co.prototype.render=function(){Zr.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},co.prototype.afterEachView=function(t,e){this.processAxis(t,e)},co.prototype.beforeEachView=function(t,e){},co.prototype.generateFacets=function(t){for(var e=this.cfg,i=e.fields,n=e.type,r=i.length,o=r,a=[],s=0;s<o;s++)for(var l=i[s],c=0;c<r;c++){var u=i[c],h={type:n,data:t,region:this.getRegion(r,o,s,c),columnValue:l,rowValue:u,columnField:l,rowField:u,columnIndex:s,rowIndex:c,columnValuesLength:o,rowValuesLength:r};a.push(h)}return a},co.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1?Object(S.__assign)(Object(S.__assign)({},i),{label:null,title:null}):i},co.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},co.prototype.renderTitle=function(){var c=this;Object(E.each)(this.facets,function(t,e){var i=t.columnIndex,n=t.rowIndex,r=t.columnValuesLength,o=(t.rowValuesLength,t.columnValue),a=t.rowValue,s=t.view;if(0===n){var l=Object(E.deepMix)({position:["50%","0%"],content:o},Xr(v.TOP),c.cfg.columnTitle);s.annotation().text(l)}i===r-1&&(l=Object(E.deepMix)({position:["100%","50%"],content:a},Xr(v.RIGHT),c.cfg.rowTitle),s.annotation().text(l))})},co),eo=(Ur=ft,Object(S.__extends)(lo,Ur),lo.prototype.getDefaultCfg=function(){return Object(E.deepMix)({},Ur.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:Ur.prototype.getDefaultTitleCfg.call(this),transpose:!1})},lo.prototype.render=function(){Ur.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},lo.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},lo.prototype.afterEachView=function(t,e){this.processAxis(t,e)},lo.prototype.generateFacets=function(s){var l,c,u=this,t=this.cfg.fields[0],h=[],p=1,f=1,d=[""],g=[""];return this.cfg.transpose?(l=t,d=this.getFieldValues(s,l).slice(0,2),p=d.length):(c=t,g=this.getFieldValues(s,c).slice(0,2),f=g.length),d.forEach(function(o,a){g.forEach(function(t,e){var i=[{field:l,value:o,values:d},{field:c,value:t,values:g}],n=Object(E.filter)(s,u.getFacetDataFilter(i)),r={type:u.cfg.type,data:n,region:u.getRegion(f,p,a,e),columnValue:o,rowValue:t,columnField:l,rowField:c,columnIndex:a,rowIndex:e,columnValuesLength:p,rowValuesLength:f};h.push(r)})}),h},lo.prototype.getXAxisOption=function(t,e,i,n){return 1===n.columnIndex||1===n.rowIndex?Object(S.__assign)(Object(S.__assign)({},i),{label:null,title:null}):i},lo.prototype.getYAxisOption=function(t,e,i,n){return i},lo.prototype.renderTitle=function(){var a=this;Object(E.each)(this.facets,function(t,e){var i=t.columnValue,n=t.rowValue,r=t.view;if(a.cfg.transpose){var o=Object(E.deepMix)({position:["50%","0%"],content:i},Xr(v.TOP),a.cfg.title);r.annotation().text(o)}else o=Object(E.deepMix)({position:["100%","50%"],content:n},Xr(v.RIGHT),a.cfg.title),r.annotation().text(o)})},lo),io=(qr=ft,Object(S.__extends)(so,qr),so.prototype.afterEachView=function(t,e){this.processAxis(t,e)},so.prototype.beforeEachView=function(t,e){},so.prototype.getDefaultCfg=function(){return Object(E.deepMix)({},qr.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(S.__assign)({},qr.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(S.__assign)({},qr.prototype.getDefaultTitleCfg.call(this))})},so.prototype.render=function(){qr.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},so.prototype.generateFacets=function(s){var l=this,t=this.cfg.fields,c=t[0],u=t[1],h=[],p=1,f=1,d=[""],g=[""];return c&&(d=this.getFieldValues(s,c),p=d.length),u&&(g=this.getFieldValues(s,u),f=g.length),d.forEach(function(o,a){g.forEach(function(t,e){var i=[{field:c,value:o,values:d},{field:u,value:t,values:g}],n=Object(E.filter)(s,l.getFacetDataFilter(i)),r={type:l.cfg.type,data:n,region:l.getRegion(f,p,a,e),columnValue:o,rowValue:t,columnField:c,rowField:u,columnIndex:a,rowIndex:e,columnValuesLength:p,rowValuesLength:f};h.push(r)})}),h},so.prototype.renderTitle=function(){var c=this;Object(E.each)(this.facets,function(t,e){var i=t.columnIndex,n=t.rowIndex,r=t.columnValuesLength,o=(t.rowValuesLength,t.columnValue),a=t.rowValue,s=t.view;if(0===n){var l=Object(E.deepMix)({position:["50%","0%"],content:o},Xr(v.TOP),c.cfg.columnTitle);s.annotation().text(l)}i===r-1&&(l=Object(E.deepMix)({position:["100%","50%"],content:a},Xr(v.RIGHT),c.cfg.rowTitle),s.annotation().text(l))})},so.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):n.columnIndex!==Math.floor((n.columnValuesLength-1)/2)?Object(S.__assign)(Object(S.__assign)({},i),{title:null}):i},so.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):n.rowIndex!==Math.floor((n.rowValuesLength-1)/2)?Object(S.__assign)(Object(S.__assign)({},i),{title:null}):i},so),no=(Wr=ft,Object(S.__extends)(ao,Wr),ao.prototype.afterEachView=function(t,e){this.processAxis(t,e)},ao.prototype.beforeEachView=function(t,e){},ao.prototype.init=function(){Wr.prototype.init.call(this),this.view.on(l.AFTER_RENDER,this.afterChartRender)},ao.prototype.getDefaultCfg=function(){return Object(E.deepMix)({},Wr.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:Wr.prototype.getDefaultTitleCfg.call(this)})},ao.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],i={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(i),i.children=this.getChildFacets(t,1,e),this.setRegion(e),e},ao.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)})},ao.prototype.getRegion=function(t,e,i,n){var r=1/e,o=1/t,a={x:r*i,y:o*n};return{start:a,end:{x:a.x+r,y:a.y+2*o/3}}},ao.prototype.forceColIndex=function(t){var e=this,i=[],n=0;t.forEach(function(t){e.isLeaf(t)&&(i.push(t),t.columnIndex=n,n++)}),i.forEach(function(t){t.columnValuesLength=i.length});for(var r=this.cfg.fields.length-1;0<=r;r--)for(var o=0,a=this.getFacetsByLevel(t,r);o<a.length;o++){var s=a[o];this.isLeaf(s)||(s.originColIndex=s.columnIndex,s.columnIndex=this.getRegionIndex(s.children),s.columnValuesLength=i.length)}},ao.prototype.getFacetsByLevel=function(t,e){var i=[];return t.forEach(function(t){t.rowIndex===e&&i.push(t)}),i},ao.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},ao.prototype.isLeaf=function(t){return!t.children||!t.children.length},ao.prototype.getRows=function(){return this.cfg.fields.length+1},ao.prototype.getChildFacets=function(o,a,s){var l=this,t=this.cfg.fields;if(!(t.length<a)){var c=[],u=t[a-1],h=this.getFieldValues(o,u);return h.forEach(function(t,e){var i=[{field:u,value:t,values:h}],n=o.filter(l.getFacetDataFilter(i));if(n.length){var r={type:l.cfg.type,data:n,region:null,columnValue:t,rowValue:"",columnField:u,rowField:"",columnIndex:e,rowValuesLength:l.getRows(),columnValuesLength:1,rowIndex:a,children:l.getChildFacets(n,a+1,s)};c.push(r),s.push(r)}}),c}},ao.prototype.render=function(){Wr.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},ao.prototype.renderTitle=function(){var r=this;Object(E.each)(this.facets,function(t){var e=t.columnValue,i=t.view,n=Object(E.deepMix)({position:["50%","0%"],content:e},Xr(v.TOP),r.cfg.title);i.annotation().text(n)})},ao.prototype.drawLines=function(t){var i=this;t.forEach(function(t){if(!i.isLeaf(t)){var e=t.children;i.addFacetLines(t,e)}})},ao.prototype.addFacetLines=function(t,e){var o=this,i=t.view.coordinateBBox,a={x:i.x+i.width/2,y:i.y+i.height};e.forEach(function(t){var e=t.view.coordinateBBox,i={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},n={x:a.x,y:a.y+(i.y-a.y)/2},r={x:i.x,y:n.y};o.drawLine([a,n,r,i])})},ao.prototype.getPath=function(t){var i=[];return this.cfg.line.smooth?(i.push(["M",t[0].x,t[0].y]),i.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),i},ao.prototype.drawLine=function(t){var e=this.getPath(t),i=this.cfg.line.style;this.container.addShape("path",{attrs:Object(E.assign)({path:e},i)})},ao.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},ao.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.originColIndex&&0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},ao),ro=(Hr=di,Object(S.__extends)(oo,Hr),Object.defineProperty(oo.prototype,"name",{get:function(){return"annotation"},enumerable:!0,configurable:!0}),oo.prototype.init=function(){},oo.prototype.layout=function(){function e(t){var e=t.component,i=t.extra,n=i.type,r=o.getAnnotationTheme(n);e.update(o.getAnnotationCfg(n,i,r))}function i(t){var e=o.createAnnotation(t);e&&(e.component.init(),"regionFilter"===t.type&&e.component.render(),o.cache.set(t,e))}var o=this,t=this.getComponents();t.length?Object(E.each)(t,function(t){"regionFilter"===t.component.get("type")?o.view.once(l.AFTER_RENDER,function(){e(t)}):e(t)}):Object(E.each)(this.option,function(t){"regionFilter"===t.type?o.view.once(l.AFTER_RENDER,function(){i(t)}):i(t)})},oo.prototype.render=function(){},oo.prototype.update=function(){function e(t){var e=t.type,i=a.getAnnotationTheme(e),n=a.getAnnotationCfg(e,t,i),r=a.cache.get(t);if(r)kt(n,["container"]),r.component.update(n),s.set(t,!0);else{var o=a.createAnnotation(t);o&&(o.component.init(),"regionFilter"===t.type&&o.component.render(),a.cache.set(t,o),s.set(t,!0))}}var a=this,s=new WeakMap;this.view.once(l.AFTER_RENDER,function(){Object(E.each)(a.option,function(t){"regionFilter"===t.type&&e(t)});var i=new Map;a.cache.forEach(function(t,e){s.has(e)?i.set(e,t):t.component.destroy()}),a.cache=i}),Object(E.each)(this.option,function(t){"regionFilter"!==t.type&&e(t)})},oo.prototype.clear=function(t){void 0===t&&(t=!1),Hr.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},oo.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},oo.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},oo.prototype.createAnnotation=function(t){var e=t.type,i=Z.Annotation[Object(E.upperFirst)(e)];if(i){var n=this.getAnnotationTheme(e),r=this.getAnnotationCfg(e,t,n);return{component:new i(r),layer:this.isTop(r)?d.FORE:d.BG,direction:v.NONE,type:h.ANNOTATION,extra:t}}},oo.prototype.annotation=function(t){this.option.push(t)},oo.prototype.arc=function(t){return this.annotation(Object(S.__assign)({type:"arc"},t)),this},oo.prototype.image=function(t){return this.annotation(Object(S.__assign)({type:"image"},t)),this},oo.prototype.line=function(t){return this.annotation(Object(S.__assign)({type:"line"},t)),this},oo.prototype.region=function(t){return this.annotation(Object(S.__assign)({type:"region"},t)),this},oo.prototype.text=function(t){return this.annotation(Object(S.__assign)({type:"text"},t)),this},oo.prototype.dataMarker=function(t){return this.annotation(Object(S.__assign)({type:"dataMarker"},t)),this},oo.prototype.dataRegion=function(t){this.annotation(Object(S.__assign)({type:"dataRegion"},t))},oo.prototype.regionFilter=function(t){this.annotation(Object(S.__assign)({type:"regionFilter"},t))},oo.prototype.parsePosition=function(t){var e=this.view.getXScale(),i=this.view.getScalesByDim("y"),n=Object(E.isFunction)(t)?t.call(null,e,i):t,r=0,o=0;if(Object(E.isArray)(n)){var a=n[0],s=n[1];if(Object(E.isString)(a)&&-1!==a.indexOf("%")&&!isNaN(a.slice(0,-1)))return this.parsePercentPosition(n);r=this.getNormalizedValue(a,e),o=this.getNormalizedValue(s,Object.values(i)[0])}else if(!Object(E.isNil)(n))for(var l=0,c=Object(E.keys)(n);l<c.length;l++){var u=c[l],h=n[u];u===e.field&&(r=this.getNormalizedValue(h,e)),i[u]&&(o=this.getNormalizedValue(h,i[u]))}return this.view.getCoordinate().convert({x:r,y:o})},oo.prototype.getRegionPoints=function(t,e){var n,r=this,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),a=Object.values(o)[0],s=i.field,l=this.view.getData(),c=Object(E.isArray)(t)?t[0]:t[s],u=Object(E.isArray)(e)?e[0]:e[s],h=[];return Object(E.each)(l,function(t,e){if(t[s]===c&&(n=e),n<=e){var i=r.parsePosition([t[s],t[a.field]]);i&&h.push(i)}if(t[s]===u)return!1}),h},oo.prototype.getNormalizedValue=function(t,e){var i,n;switch(t){case"start":i=0;break;case"end":i=1;break;case"median":n=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,i=e.scale(n);break;case"min":case"max":n=e.isCategory?"min"===t?0:e.values.length-1:e[t],i=e.scale(n);break;default:i=e.scale(t)}return i},oo.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,i=parseFloat(t[1])/100,n=this.view.getCoordinate(),r=n.start,o=n.end,a=Math.min(r.x,o.x),s=Math.min(r.y,o.y);return{x:n.getWidth()*e+a,y:n.getHeight()*i+s}},oo.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,i=t.end,n=t.getWidth(),r=t.getHeight(),o={x:Math.min(e.x,i.x),y:Math.min(e.y,i.y)};return{x:o.x,y:o.y,minX:o.x,minY:o.y,maxX:o.x+n,maxY:o.y+r,width:n,height:r}},oo.prototype.getAnnotationCfg=function(t,e,i){var n=this.view.getCoordinate(),r={};if(Object(E.isNil)(e))return null;if("arc"===t){var o=e.start,a=e.end,s=this.parsePosition(o),l=this.parsePosition(a),c=Ft(n,s),u=Ft(n,l);u<c&&(u=2*Math.PI+u),r={center:n.getCenter(),radius:Dt(n,s),startAngle:c,endAngle:u}}else if("image"===t)o=e.start,a=e.end,r={start:this.parsePosition(o),end:this.parsePosition(a),src:e.src};else if("line"===t)o=e.start,a=e.end,r={start:this.parsePosition(o),end:this.parsePosition(a),text:Object(E.get)(e,"text",null)};else if("region"===t)o=e.start,a=e.end,r={start:this.parsePosition(o),end:this.parsePosition(a)};else if("text"===t){var h=e.position,p=e.rotate;r=Object(S.__assign)(Object(S.__assign)({},this.parsePosition(h)),{content:e.content,rotate:p})}else if("dataMarker"===t){var f=(h=e.position,e.point),d=e.line,g=e.text,y=e.autoAdjust,v=e.direction;r=Object(S.__assign)(Object(S.__assign)({},this.parsePosition(h)),{coordinateBBox:this.getCoordinateBBox(),point:f,line:d,text:g,autoAdjust:y,direction:v})}else if("dataRegion"===t){var m=(o=e.start,a=e.end,e.region),x=(g=e.text,e.lineLength);r={points:this.getRegionPoints(o,a),region:m,text:g,lineLength:x}}else if("regionFilter"===t){var b=(o=e.start,a=e.end,e.apply),_=e.color,w=this.view.geometries,O=[],M=function e(t){t&&(t.isGroup()?t.getChildren().forEach(function(t){return e(t)}):O.push(t))};Object(E.each)(w,function(t){b?Object(E.contains)(b,t.type)&&Object(E.each)(t.elements,function(t){M(t.shape)}):Object(E.each)(t.elements,function(t){M(t.shape)})}),r={color:_,shapes:O,start:this.parsePosition(o),end:this.parsePosition(a)}}var C=Object(E.deepMix)({},i,Object(S.__assign)(Object(S.__assign)({},r),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return C.container=this.getComponentContainer(C),C.animate=this.view.getOptions().animate&&C.animate&&Object(E.get)(e,"animate",C.animate),C.animateOption=Object(E.deepMix)({},Bi,C.animateOption,e.animateOption),C},oo.prototype.isTop=function(t){return Object(E.get)(t,"top",!0)},oo.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},oo.prototype.getAnnotationTheme=function(t){return Object(E.get)(this.view.getTheme(),["components","annotation",t],{})},oo);function oo(t){var e=Hr.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(d.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(d.BG).addGroup(),e.option=[],e}function ao(){var t=null!==Wr&&Wr.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}function so(){return null!==qr&&qr.apply(this,arguments)||this}function lo(){return null!==Ur&&Ur.apply(this,arguments)||this}function co(){return null!==Zr&&Zr.apply(this,arguments)||this}function uo(){return null!==Kr&&Kr.apply(this,arguments)||this}function ho(){return null!==$r&&$r.apply(this,arguments)||this}function po(t,e){return Object(E.get)(t,["components","axis",e,"grid"],{})}function fo(o,t,a,s){var l=[],e=t.getTicks();return o.isPolar&&e.push({value:1,text:"",tickValue:""}),e.reduce(function(t,e,i){var n=e.value;if(s)l.push({points:[o.convert("y"===a?{x:0,y:n}:{x:n,y:0}),o.convert("y"===a?{x:1,y:n}:{x:n,y:1})]});else if(i){var r=(t.value+n)/2;l.push({points:[o.convert("y"===a?{x:0,y:r}:{x:r,y:0}),o.convert("y"===a?{x:1,y:r}:{x:r,y:1})]})}return e},e[0]),l}function go(o,t,e,a,s){var l=t.values.length,c=[],i=e.getTicks();return i.reduce(function(t,e){var i=t?t.value:e.value,n=e.value,r=(i+n)/2;return"x"===s?c.push({points:[o.convert({x:a?n:r,y:0}),o.convert({x:a?n:r,y:1})]}):c.push({points:Object(E.map)(Array(l+1),function(t,e){return o.convert({x:e/l,y:a?n:r})})}),e},i[0]),c}function yo(t,e){var i=Object(E.get)(e,"grid");if(null!==i){var n=Object(E.get)(t,"grid");return void 0!==i||null!==n}}var vo,mo=["container"],xo=(vo=di,Object(S.__extends)(bo,vo),Object.defineProperty(bo.prototype,"name",{get:function(){return"axis"},enumerable:!0,configurable:!0}),bo.prototype.init=function(){},bo.prototype.render=function(){this.option=this.view.getOptions().axes,this.createXAxes(),this.createYAxes()},bo.prototype.layout=function(){var c=this,u=this.view.getCoordinate();Object(E.each)(this.getComponents(),function(t){var e,i=t.component,n=t.direction,r=t.type,o=t.extra,a=o.dim,s=o.scale,l=o.alignTick;r===h.AXIS?u.isPolar?"x"===a?e=u.isTransposed?ot(u,n):lt(u):"y"===a&&(e=u.isTransposed?lt(u):ot(u,n)):e=ot(u,n):r===h.GRID&&(e=u.isPolar?{items:u.isTransposed?"x"===a?go(u,c.view.getYScales()[0],s,l,a):fo(u,s,a,l):"x"===a?fo(u,s,a,l):go(u,c.view.getXScale(),s,l,a),center:c.view.getCoordinate().getCenter()}:{items:fo(u,s,a,l)}),i.update(e)})},bo.prototype.update=function(){this.option=this.view.getOptions().axes;var i=new Map;this.updateXAxes(i),this.updateYAxes(i);var n=new Map;this.cache.forEach(function(t,e){i.has(e)?n.set(e,t):t.component.destroy()}),this.cache=n},bo.prototype.clear=function(){vo.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},bo.prototype.destroy=function(){vo.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},bo.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},bo.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var i=e.field,n=ct(this.option,e.field);if(!1!==n){var r=this.view.getCoordinate(),o=this.getId("axis",i),a=this.getId("grid",i),s=ut(n,v.BOTTOM),l=d.BG;if(r.isRect)(c=this.cache.get(o))?(kt(h=this.getLineAxisCfg(e,n,s),mo),c.component.update(h)):(c=this.createLineAxis(e,n,l,s,"x"),this.cache.set(o,c)),t.set(o,c),(u=this.cache.get(a))?(kt(h=this.getLineGridCfg(e,n,s,"x"),mo),u.component.update(h),t.set(a,u)):(u=this.createLineGrid(e,n,l,s,"x"))&&(this.cache.set(a,u),t.set(a,u));else if(r.isPolar){var c,u;if(c=this.cache.get(o))kt(h=r.isTransposed?this.getLineAxisCfg(e,n,"radius"):this.getCircleAxisCfg(e,n,s),mo),c.component.update(h),t.set(o,c);else{if(r.isTransposed){if(Object(E.isUndefined)(n))return;c=this.createLineAxis(e,n,l,"radius","x")}else c=this.createCircleAxis(e,n,l,s,"x");this.cache.set(o,c),t.set(o,c)}if(u=this.cache.get(a)){var h;kt(h=r.isTransposed?this.getCircleGridCfg(e,n,"radius","x"):this.getLineGridCfg(e,n,"circle","x"),mo),u.component.update(h),t.set(a,u)}else{if(r.isTransposed){if(Object(E.isUndefined)(n))return;u=this.createCircleGrid(e,n,l,"radius","x")}else u=this.createLineGrid(e,n,l,"circle","x");u&&(this.cache.set(a,u),t.set(a,u))}}}}},bo.prototype.updateYAxes=function(p){var f=this,t=this.view.getYScales();Object(E.each)(t,function(t,e){if(t&&!t.isIdentity){var i=t.field,n=ct(f.option,i);if(!1!==n){var r=d.BG,o=f.getId("axis",i),a=f.getId("grid",i),s=f.view.getCoordinate();if(s.isRect){var l=ut(n,0===e?v.LEFT:v.RIGHT);(c=f.cache.get(o))?(kt(h=f.getLineAxisCfg(t,n,l),mo),c.component.update(h)):(c=f.createLineAxis(t,n,r,l,"y"),f.cache.set(o,c)),p.set(o,c),(u=f.cache.get(a))?(kt(h=f.getLineGridCfg(t,n,l,"y"),mo),u.component.update(h),p.set(a,u)):(u=f.createLineGrid(t,n,r,l,"y"))&&(f.cache.set(a,u),p.set(a,u))}else if(s.isPolar){var c,u;if(c=f.cache.get(o))kt(h=s.isTransposed?f.getCircleAxisCfg(t,n,"circle"):f.getLineAxisCfg(t,n,"radius"),mo),c.component.update(h),p.set(o,c);else{if(s.isTransposed){if(Object(E.isUndefined)(n))return;c=f.createCircleAxis(t,n,r,"circle","y")}else c=f.createLineAxis(t,n,r,"radius","y");f.cache.set(o,c),p.set(o,c)}if(u=f.cache.get(a)){var h;kt(h=s.isTransposed?f.getLineGridCfg(t,n,"circle","y"):f.getCircleGridCfg(t,n,"radius","y"),mo),u.component.update(h),p.set(a,u)}else{if(s.isTransposed){if(Object(E.isUndefined)(n))return;u=f.createLineGrid(t,n,r,"circle","y")}else u=f.createCircleGrid(t,n,r,"radius","y");u&&(f.cache.set(a,u),p.set(a,u))}}}}})},bo.prototype.createXAxes=function(){var t=this.view.getXScale();if(t&&!t.isIdentity){var e=ct(this.option,t.field);if(!1!==e){var i=ut(e,v.BOTTOM),n=d.BG,r=this.view.getCoordinate(),o=this.getId("axis",t.field),a=this.getId("grid",t.field);if(r.isRect){var s=this.createLineAxis(t,e,n,i,"x");this.cache.set(o,s),(l=this.createLineGrid(t,e,n,i,"x"))&&this.cache.set(a,l)}else if(r.isPolar){var l=s=void 0;if(r.isTransposed){if(Object(E.isUndefined)(e))return;s=this.createLineAxis(t,e,n,"radius","x"),l=this.createCircleGrid(t,e,n,"radius","x")}else s=this.createCircleAxis(t,e,n,i,"x"),l=this.createLineGrid(t,e,n,"circle","x");this.cache.set(o,s),l&&this.cache.set(a,l)}}}},bo.prototype.createYAxes=function(){var h=this,t=this.view.getYScales();Object(E.each)(t,function(t,e){if(t&&!t.isIdentity){var i=t.field,n=ct(h.option,i);if(!1!==n){var r=d.BG,o=h.getId("axis",i),a=h.getId("grid",i),s=h.view.getCoordinate();if(s.isRect){var l=ut(n,0===e?v.LEFT:v.RIGHT),c=h.createLineAxis(t,n,r,l,"y");h.cache.set(o,c),(u=h.createLineGrid(t,n,r,l,"y"))&&h.cache.set(a,u)}else if(s.isPolar){var u=c=void 0;if(s.isTransposed){if(Object(E.isUndefined)(n))return;c=h.createCircleAxis(t,n,r,"circle","y"),u=h.createLineGrid(t,n,r,"circle","y")}else c=h.createLineAxis(t,n,r,"radius","y"),u=h.createCircleGrid(t,n,r,"radius","y");h.cache.set(h.getId("axis",t.field),c),u&&h.cache.set(a,u)}}}})},bo.prototype.createLineAxis=function(t,e,i,n,r){var o={component:new K(this.getLineAxisCfg(t,e,n)),layer:i,direction:"radius"===n?v.NONE:n,type:h.AXIS,extra:{dim:r,scale:t}};return o.component.set("field",t.field),o.component.init(),o},bo.prototype.createLineGrid=function(t,e,i,n,r){var o=this.getLineGridCfg(t,e,n,r);if(o){var a={component:new Q(o),layer:i,direction:v.NONE,type:h.GRID,extra:{dim:r,scale:t,alignTick:Object(E.get)(o,"alignTick",!0)}};return a.component.init(),a}},bo.prototype.createCircleAxis=function(t,e,i,n,r){var o={component:new $(this.getCircleAxisCfg(t,e,n)),layer:i,direction:n,type:h.AXIS,extra:{dim:r,scale:t}};return o.component.set("field",t.field),o.component.init(),o},bo.prototype.createCircleGrid=function(t,e,i,n,r){var o=this.getCircleGridCfg(t,e,n,r);if(o){var a={component:new J(o),layer:i,direction:v.NONE,type:h.GRID,extra:{dim:r,scale:t,alignTick:Object(E.get)(o,"alignTick",!0)}};return a.component.init(),a}},bo.prototype.getLineAxisCfg=function(t,e,i){var n=this.axisContainer,r=this.view.getCoordinate(),o=ot(r,i),a=ht(t,e),s=Object(S.__assign)(Object(S.__assign)({container:n},o),{ticks:Object(E.map)(t.getTicks(),function(t){return{id:""+t.tickValue,name:t.text,value:t.value}}),title:{text:a},verticalFactor:r.isPolar?-1*at(o,r.getCenter()):at(o,r.getCenter())}),l=st(this.view.getTheme(),i),c=Object(E.get)(e,["title"])?Object(E.deepMix)({},{title:{style:{text:a}}},e):e,u=Object(E.deepMix)({},s,l,c);return Object(E.mix)(u,this.getAnimateCfg(u))},bo.prototype.getLineGridCfg=function(t,e,i,n){if(yo(st(this.view.getTheme(),i),e)){var r=po(this.view.getTheme(),i),o=Object(E.deepMix)({container:this.gridContainer},r,Object(E.get)(e,"grid",{}),this.getAnimateCfg(e));return o.items=fo(this.view.getCoordinate(),t,n,Object(E.get)(o,"alignTick",!0)),o}},bo.prototype.getCircleAxisCfg=function(t,e,i){var n=this.axisContainer,r=Object(E.map)(t.getTicks(),function(t){return{id:""+t.tickValue,name:t.text,value:t.value}}),o=this.view.getCoordinate();t.isCategory||Math.abs(o.endAngle-o.startAngle)!==2*Math.PI||r.pop();var a=ht(t,e),s=Object(S.__assign)(Object(S.__assign)({container:n},lt(this.view.getCoordinate())),{ticks:r,title:{text:a},verticalFactor:1}),l=st(this.view.getTheme(),"circle"),c=Object(E.get)(e,["title"])?Object(E.deepMix)({},{title:{style:{text:a}}},e):e,u=Object(E.deepMix)({},s,l,c);return Object(E.mix)(u,this.getAnimateCfg(u))},bo.prototype.getCircleGridCfg=function(t,e,i,n){if(yo(st(this.view.getTheme(),i),e)){var r=po(this.view.getTheme(),"radius"),o=Object(E.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},r,Object(E.get)(e,"grid",{}),this.getAnimateCfg(e)),a=Object(E.get)(o,"alignTick",!0),s="x"===n?this.view.getYScales()[0]:this.view.getXScale();return o.items=go(this.view.getCoordinate(),s,t,a,n),o}},bo.prototype.getId=function(t,e){return t+"-"+e+"-"+this.view.getCoordinate().type},bo.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&Object(E.get)(t,"animate"),animateOption:Object(E.deepMix)({},Bi,{appear:null},Object(E.get)(t,"animateOption",{}))}},bo);function bo(t){var e=vo.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(d.BG).addGroup(),e.axisContainer=e.view.getLayer(d.BG).addGroup(),e}function _o(t,e,i){return i===v.TOP?[t.minX+t.width/2-e.width/2,t.minY]:i===v.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:i===v.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:i===v.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:i===v.TOP_LEFT||i===v.LEFT_TOP?[t.tl.x,t.tl.y]:i===v.TOP_RIGHT||i===v.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:i===v.BOTTOM_LEFT||i===v.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:i===v.BOTTOM_RIGHT||i===v.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function wo(t,e,i){if(!t)return i;var n;if(t.callback&&1<t.callback.length){var r=Array(t.callback.length-1).fill("");n=t.mapping.apply(t,Object(S.__spreadArrays)([e],r)).join("")}else n=t.mapping(e).join("");return n||i}function Oo(t){return t.startsWith(v.LEFT)||t.startsWith(v.RIGHT)?"vertical":"horizontal"}function Mo(t,e){return Object(E.isBoolean)(t)?!1!==t&&{}:Object(E.get)(t,[e],t)}function Co(t){return Object(E.get)(t,"position",v.BOTTOM)}var So,jo,Ao=(jo=di,Object(S.__extends)(Lo,jo),Object.defineProperty(Lo.prototype,"name",{get:function(){return"legend"},enumerable:!0,configurable:!0}),Lo.prototype.init=function(){},Lo.prototype.render=function(){var r=this;if(this.option=this.view.getOptions().legends,Object(E.get)(this.option,"custom")){var t=this.createCustomLegend(void 0,void 0,void 0,this.option);if(t){t.init();var e=d.FORE,i=Co(this.option);this.components.push({id:"global-custom",component:t,layer:e,direction:i,type:h.LEGEND,extra:void 0})}}else this.loopLegends(function(t,e,i){var n=r.createFieldLegend(t,e,i);n&&(n.component.init(),r.components.push(n))})},Lo.prototype.layout=function(){var v=this;this.layoutBBox=this.view.viewBBox,Object(E.each)(this.components,function(t){var e=t.component,i=t.direction,n=Oo(i),r=v.getCategoryLegendSizeCfg(n),o=e.get("maxWidth"),a=e.get("maxHeight");e.update({maxWidth:Math.min(r.maxWidth,o||0),maxHeight:Math.min(r.maxHeight,a||0)});var s=e.getLayoutBBox(),l=new Xt(s.x,s.y,s.width,s.height),c=_o(v.view.coordinateBBox,l,i),u=c[0],h=c[1],p=_o(v.layoutBBox,l,i),f=p[0],d=p[1],g=0,y=0;y=i.startsWith("top")||i.startsWith("bottom")?(g=u,d):(g=f,h),e.update({x:g,y:y}),v.layoutBBox=v.layoutBBox.cut(l,i)})},Lo.prototype.update=function(){var l=this;this.option=this.view.getOptions().legends;var c={};if(Object(E.get)(this.option,"custom")){var t="global-custom",e=this.getComponentById(t);if(e){var i=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);kt(i,["container"]),e.component.update(i),c[t]=!0}else{var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var r=d.FORE,o=Co(this.option);this.components.push({id:t,component:n,layer:r,direction:o,type:h.LEGEND,extra:void 0}),c[t]=!0}}}else this.loopLegends(function(t,e,i){var n=l.getId(i.field),r=l.getComponentById(n);if(r){var o=void 0,a=Mo(l.option,i.field);!1!==a&&(Object(E.get)(a,"custom")?o=l.getCategoryCfg(t,e,i,a,!0):i.isLinear?o=l.getContinuousCfg(t,e,i,a):i.isCategory&&(o=l.getCategoryCfg(t,e,i,a))),o&&(kt(o,["container"]),r.direction=Co(a),r.component.update(o),c[n]=!0)}else{var s=l.createFieldLegend(t,e,i);s&&(s.component.init(),l.components.push(s),c[n]=!0)}});var a=[];Object(E.each)(this.getComponents(),function(t){c[t.id]?a.push(t):t.component.destroy()}),this.components=a},Lo.prototype.clear=function(){jo.prototype.clear.call(this),this.container.clear()},Lo.prototype.destroy=function(){jo.prototype.destroy.call(this),this.container.remove(!0)},Lo.prototype.getGeometries=function(t,e){var i=this;return void 0===e&&(e=[]),e.push.apply(e,t.geometries),Object(E.each)(t.views,function(t){return i.getGeometries(t,e)}),e},Lo.prototype.loopLegends=function(n){if(this.view.getRootView()===this.view){var t=this.getGeometries(this.view),r={};Object(E.each)(t,function(i){var t=i.getGroupAttributes();Object(E.each)(t,function(t){var e=t.getScale(t.type);e&&"identity"!==e.type&&!r[e.field]&&(n(i,t,e),r[e.field]=!0)})})}},Lo.prototype.createFieldLegend=function(t,e,i){var n,r=Mo(this.option,i.field),o=d.FORE,a=Co(r);if(!1!==r&&(Object(E.get)(r,"custom")?n=this.createCustomLegend(t,e,i,r):i.isLinear?n=this.createContinuousLegend(t,e,i,r):i.isCategory&&(n=this.createCategoryLegend(t,e,i,r))),n)return n.set("field",i.field),{id:this.getId(i.field),component:n,layer:o,direction:a,type:h.LEGEND,extra:{scale:i}}},Lo.prototype.createCustomLegend=function(t,e,i,n){var r=this.getCategoryCfg(t,e,i,n,!0);return new tt(r)},Lo.prototype.createContinuousLegend=function(t,e,i,n){var r=this.getContinuousCfg(t,e,i,n);return new et(r)},Lo.prototype.createCategoryLegend=function(t,e,i,n){var r=this.getCategoryCfg(t,e,i,n);return new tt(r)},Lo.prototype.getContinuousCfg=function(t,r,o,e){var i=o.getTicks(),n=Object(E.find)(i,function(t){return 0===t.value}),a=Object(E.find)(i,function(t){return 1===t.value}),s=Object(E.map)(i,function(t){var e=t.value,i=t.tickValue,n=r.mapping(o.invert(e)).join("");return{value:i,attrValue:n,color:n,scaleValue:e}});n||s.push({value:o.min,attrValue:r.mapping(0).join(""),color:r.mapping(0).join(""),scaleValue:0}),a||s.push({value:o.max,attrValue:r.mapping(1).join(""),color:r.mapping(1).join(""),scaleValue:1}),s.sort(function(t,e){return t.value-e.value});var l={min:Object(E.head)(s).value,max:Object(E.last)(s).value,colors:[],rail:{type:r.type},track:{}};"size"===r.type&&(l=Object(S.__assign)(Object(S.__assign)({},l),{track:{style:{fill:"size"===r.type?this.view.getTheme().defaultColor:void 0}}})),"color"===r.type&&(l=Object(S.__assign)(Object(S.__assign)({},l),{colors:Object(E.map)(s,function(t){return t.attrValue})}));var c=this.container,u=Oo(Co(e)),h=Object(E.get)(e,"title");h=h&&Object(E.deepMix)({text:rt(o)},h);var p=Object(S.__assign)(Object(S.__assign)({container:c,layout:u},l),{title:h});return this.mergeLegendCfg(p,e,"continuous")},Lo.prototype.getCategoryCfg=function(t,e,i,n,r){var o,a,s,l=this.container,c=Object(E.get)(n,"position",v.BOTTOM),u=Object(E.get)(this.view.getTheme(),["components","legend",c,"marker"]),h=Object(E.get)(n,"marker"),p=Oo(c),f=r?(o=u,a=h,s=n.items,Object(E.map)(s,function(t){var e=Object(E.deepMix)({},o,a,t.marker),i=e.symbol;return Object(E.isString)(i)&&nr[i]&&(e.symbol=nr[i]),t.marker=e,t})):function(f,d,g,y){var v=e.getScale(e.type);if(v.isCategory){var m=v.field;return Object(E.map)(v.getTicks(),function(t){var e,i=t.text,n=t.value,r=i,o=v.invert(n),a=!Object(E.size)(f.filterFieldData(m,[((e={})[m]=o,e)])),s=d.getAttribute("color"),l=d.getAttribute("shape"),c=wo(s,o,f.getTheme().defaultColor),u=wo(l,o,"point"),h=d.getShapeMarker(u,{color:c,isInPolar:d.coordinate.isPolar}),p=(h=Object(E.deepMix)({},g,h,y)).symbol;return Object(E.isString)(p)&&nr[p]&&(h.symbol=nr[p]),{id:o,name:r,value:o,marker:h,unchecked:a}})}return[]}(this.view,t,u,h),d=Object(E.get)(n,"title");d=d&&Object(E.deepMix)({text:i?rt(i):""},d);var g=Object(S.__assign)({container:l,layout:p,items:f,title:d},this.getCategoryLegendSizeCfg(p)),y=this.mergeLegendCfg(g,n,c);return y.reversed&&y.items.reverse(),y},Lo.prototype.mergeLegendCfg=function(t,e,i){var n=Object(E.get)(this.view.getTheme(),["components","legend",i],{});return Object(E.deepMix)({},n,t,{animateOption:Bi},e)},Lo.prototype.getId=function(t){return this.name+"-"+t},Lo.prototype.getComponentById=function(e){return Object(E.find)(this.components,function(t){return t.id===e})},Lo.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,i=e.width,n=e.height,r=this.view.coordinateBBox,o=r.width,a=r.height;return"vertical"===t?{maxWidth:.25*i,maxHeight:a}:{maxWidth:o,maxHeight:.25*n}},Lo),Po=(So=di,Object(S.__extends)(To,So),Object.defineProperty(To.prototype,"name",{get:function(){return"slider"},enumerable:!0,configurable:!0}),To.prototype.init=function(){},To.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},To.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),i=new Xt(e.x,e.y,Math.min(e.width,t),e.height),n=_o(this.view.viewBBox,i,v.BOTTOM),r=(n[0],n[1]),o=_o(this.view.coordinateBBox,i,v.BOTTOM),a=o[0];o[1],this.slider.component.update({x:a,y:r,width:t})}},To.prototype.update=function(){this.render()},To.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new Z.Slider(Object(S.__assign)({container:this.container},t));return e.init(),{component:e,layer:d.FORE,direction:v.BOTTOM,type:h.OTHER}},To.prototype.updateSlider=function(){var t=this.getSliderCfg();return kt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},To.prototype.getSliderCfg=function(){if(Object(E.isObject)(this.option)){var t=Object(S.__assign)({data:this.getData()},Object(E.get)(this.option,"trendCfg",{})),e=this.view.coordinateBBox.width,i=Object(E.deepMix)({},{x:0,y:0,width:e},this.option);return Object(S.__assign)(Object(S.__assign)({},i),{trendCfg:t})}return{}},To.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0];return Object(E.map)(t,function(t){return t[e.field]||0})},To.prototype.updateMinMaxText=function(t,e){var i=this.view.getOptions().data,n=Object(E.size)(i),r=this.view.getXScale();if(r&&n){var o=r.field,a=Object(E.map)(i,function(t){return t[o]||""}),s=Math.floor(t*(n-1)),l=Math.floor(e*(n-1)),c=Object(E.get)(a,[s]),u=Object(E.get)(a,[l]);this.slider.component.update({minText:c,maxText:u,start:t,end:e}),this.view.filter(r.field,function(t,e,i){return Lt(i,s,l)})}},To.prototype.getComponents=function(){return this.slider?[this.slider]:[]},To);function To(t){var n=So.call(this,t)||this;return n.onValueChanged=function(t){var e=t[0],i=t[1];n.updateMinMaxText(e,i),n.view.render(!0)},n.container=n.view.getLayer(d.FORE).addGroup(),n}function Lo(t){var e=jo.call(this,t)||this;return e.container=e.view.getLayer(d.FORE).addGroup(),e}var ko,Eo,Do=(Eo=di,Object(S.__extends)(Io,Eo),Object.defineProperty(Io.prototype,"name",{get:function(){return"tooltip"},enumerable:!0,configurable:!0}),Io.prototype.init=function(){},Io.prototype.render=function(){var t=this.view.getOptions().tooltip;this.isVisible=!1!==t},Io.prototype.showTooltip=function(t){if(this.point=t,this.isVisible){var e=this.view,i=this.getTooltipItems(t);if(i.length){var n=this.getTitle(i),r={x:i[0].x,y:i[0].y};e.emit("tooltip:show",Object(S.__assign)({items:i,title:n},t));var o=this.getTooltipCfg(),a=o.follow,s=o.showMarkers,l=o.showCrosshairs,c=o.showContent,u=o.marker,h=this.items,p=this.title;if(Object(E.isEqual)(p,n)&&Object(E.isEqual)(h,i)){if(this.tooltip){var f=a?t:r;this.tooltip.update(f),this.tooltip.show()}this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()}else e.emit("tooltip:change",Object(S.__assign)({items:i,title:n},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(E.mix)({},o,{items:i,title:n},a?t:r)),this.tooltip.show()),s&&this.renderTooltipMarkers(i,u);if(this.items=i,this.title=n,l){var d=Object(E.get)(o,["crosshairs","follow"],!1);this.renderCrosshairs(d?t:r,o)}}else this.hideTooltip()}},Io.prototype.hideTooltip=function(){var t=this.tooltipMarkersGroup;t&&t.hide();var e=this.xCrosshair,i=this.yCrosshair;e&&e.hide(),i&&i.hide();var n=this.tooltip;n&&n.hide(),this.view.emit("tooltip:hide",{}),this.point=null},Io.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},Io.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},Io.prototype.isTooltipLocked=function(){return this.isLocked},Io.prototype.clear=function(){var t=this.tooltip,e=this.xCrosshair,i=this.yCrosshair,n=this.tooltipMarkersGroup;t&&(t.hide(),t.clear()),e&&e.clear(),i&&i.clear(),n&&n.clear()},Io.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},Io.prototype.changeVisible=function(t){if(this.visible!==t){var e=this.tooltip,i=this.tooltipMarkersGroup,n=this.xCrosshair,r=this.yCrosshair;t?(e&&e.show(),i&&i.show(),n&&n.show(),r&&r.show()):(e&&e.hide(),i&&i.hide(),n&&n.hide(),r&&r.hide()),this.visible=t}},Io.prototype.getTooltipItems=function(i){var t,n,e=this.findItemsFromView(this.view,i);if(e.length){if(e=Object(E.flatten)(e),Object(E.each)(e,function(t){Object(E.each)(t,function(t){var e=t.mappingData,i=e.x,n=e.y;t.x=Object(E.isArray)(i)?i[i.length-1]:i,t.y=Object(E.isArray)(n)?n[n.length-1]:n})}),!1===this.getTooltipCfg().shared&&1<e.length){var r=e[0],o=Math.abs(i.y-r[0].y);Object(E.each)(e,function(t){var e=Math.abs(i.y-t[0].y);e<=o&&(r=t,o=e)}),e=[r]}return t=Object(E.flatten)(e),n=[],Object(E.each)(t,function(e){Object(E.find)(n,function(t){return t.color===e.color&&t.name===e.name&&t.value===e.value&&t.title===e.title})||n.push(e)}),n}return[]},Io.prototype.layout=function(){},Io.prototype.update=function(){this.point&&this.showTooltip(this.point)},Io.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,i=t.getTheme(),n=Object(E.get)(i,["components","tooltip"],{}),r=Object(E.isUndefined)(Object(E.get)(e,"enterable"))?n.enterable:Object(E.get)(e,"enterable");return Object(E.deepMix)({},n,e,{capture:!(!r&&!this.isLocked)})},Io.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e},Io.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),n=new it(Object(S.__assign)(Object(S.__assign)({parent:t.get("el").parentNode,region:e},i),{visible:!1,crosshairs:null}));n.init(),this.tooltip=n},Io.prototype.renderTooltipMarkers=function(t,r){var o=this.getTooltipMarkersGroup();Object(E.each)(t,function(t){var e=t.x,i=t.y,n=Object(S.__assign)(Object(S.__assign)({fill:t.color,symbol:"circle",shadowColor:t.color},r),{x:e,y:i});o.addShape("marker",{attrs:n})})},Io.prototype.renderCrosshairs=function(t,e){var i=Object(E.get)(e,["crosshairs","type"],"x");"x"===i?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===i?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===i&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},Io.prototype.renderXCrosshairs=function(t,e){var i=this.getViewWithGeometry(this.view).getCoordinate();if(Bt(i,t)){var n,r;if(i.isRect)r=i.isTransposed?(n={x:i.start.x,y:t.y},{x:i.end.x,y:t.y}):(n={x:t.x,y:i.end.y},{x:t.x,y:i.start.y});else{var o=Ft(i,t),a=i.getCenter(),s=i.getRadius();r=St(a.x,a.y,s,o),n=a}var l=Object(E.deepMix)({start:n,end:r,container:this.getTooltipCrosshairsGroup()},Object(E.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete l.type;var c=this.xCrosshair;c?c.update(l):(c=new Z.Crosshair.Line(l)).init(),c.render(),c.show(),this.xCrosshair=c}},Io.prototype.renderYCrosshairs=function(t,e){var i=this.getViewWithGeometry(this.view).getCoordinate();if(Bt(i,t)){var n,r;if(i.isRect){var o=void 0,a=void 0;a=i.isTransposed?(o={x:t.x,y:i.end.y},{x:t.x,y:i.start.y}):(o={x:i.start.x,y:t.y},{x:i.end.x,y:t.y}),n={start:o,end:a},r="Line"}else n={center:i.getCenter(),radius:Dt(i,t),startAngle:i.startAngle,endAngle:i.endAngle},r="Circle";delete(n=Object(E.deepMix)({container:this.getTooltipCrosshairsGroup()},n,Object(E.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var s=this.yCrosshair;!s||i.isRect&&"circle"===s.get("type")||!i.isRect&&"line"===s.get("type")?(s=new Z.Crosshair[r](n)).init():s.update(n),s.render(),s.show(),this.yCrosshair=s}},Io.prototype.getCrosshairsText=function(t,e,i){var n=Object(E.get)(i,["crosshairs","text"]),r=Object(E.get)(i,["crosshairs","follow"]),o=this.items;if(n){var a=this.getViewWithGeometry(this.view),s=o[0],l=a.getXScale(),c=a.getYScales()[0],u=void 0,h=void 0;if(r){var p=this.view.getCoordinate().invert(e);u=l.invert(p.x),h=c.invert(p.y)}else u=s.data[l.field],h=s.data[c.field];var f="x"===t?u:h;return Object(E.isFunction)(n)?n=n(t,f,o,e):n.content=f,{text:n}}},Io.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},Io.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},Io.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},Io.prototype.getTooltipItemsByHitShape=function(t,e,i){var n=[],r=t.container.getShape(e.x,e.y);if(r&&r.get("visible")&&r.get("origin")){var o=We(r.get("origin").mappingData,t,i);o.length&&n.push(o)}return n},Io.prototype.getTooltipItemsByFindData=function(o,a,s){var l=[];return Object(E.each)(o.dataArray,function(t){var e=He(a,t,o);if(e){var i=o.getElementId(e),n=o.elementsMap[i];if("heatmap"===o.type||n.visible){var r=We(e,o,s);r.length&&l.push(r)}}}),l},Io.prototype.findItemsFromView=function(t,n){var r=this;if(!1===t.getOptions().tooltip)return[];var o=[],e=t.geometries,i=this.getTooltipCfg(),a=i.shared,s=i.title;return Object(E.each)(e,function(t){if(t.visible&&!1!==t.tooltipOption){var e,i=t.type;(e=["point","edge","polygon"].includes(i)||!["area","line","path","heatmap"].includes(i)&&!1===a?r.getTooltipItemsByHitShape(t,n,s):r.getTooltipItemsByFindData(t,n,s)).length&&o.push(e)}}),Object(E.each)(t.views,function(t){o=o.concat(r.findItemsFromView(t,n))}),o},Io.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:Object(E.find)(t.views,function(t){return e.getViewWithGeometry(t)})},Io),Bo=(ko=vt,Object(S.__extends)(Fo,ko),Fo.prototype.show=function(){var t=this.context.view,e=this.context.event,i=t.getTooltipItems({x:e.x,y:e.y});if(!Object(E.isEqual)(i,this.items)&&(this.items=i).length){var n=t.getXScale().field,r=i[0].data[n],o=[],a=t.geometries;if(Object(E.each)(a,function(t){if("interval"===t.type||"schema"===t.type){var e=t.getElementsBy(function(t){return t.getData()[n]===r});o=o.concat(e)}}),o.length){var s=t.getCoordinate(),l=o[0].shape.getCanvasBBox(),c=o[0].shape.getCanvasBBox(),u=l;Object(E.each)(o,function(t){var e=t.shape.getCanvasBBox();s.isTransposed?(e.minY<l.minY&&(l=e),e.maxY>c.maxY&&(c=e)):(e.minX<l.minX&&(l=e),e.maxX>c.maxX&&(c=e)),u.x=Math.min(e.minX,u.minX),u.y=Math.min(e.minY,u.minY),u.width=Math.max(e.maxX,u.maxX)-u.x,u.height=Math.max(e.maxY,u.maxY)-u.y});var h=t.backgroundGroup,p=t.coordinateBBox,f=void 0;if(s.isRect){var d=t.getXScale().isLinear?0:.25,g=void 0,y=void 0,v=void 0,m=void 0;m=s.isTransposed?(g=p.minX,y=Math.min(c.minY,l.minY)-d*c.height,v=p.width,u.height+2*d*c.height):(g=Math.min(l.minX,c.minX)-d*l.width,y=Math.min(p.minY,l.minY),v=u.width+2*d*l.width,p.height),f=[["M",g,y],["L",g+v,y],["L",g+v,y+m],["L",g,y+m],["Z"]]}else{var x=Object(E.head)(o),b=Object(E.last)(o),_=Pt(x.getModel(),s).startAngle,w=Pt(b.getModel(),s).endAngle,O=s.getCenter(),M=s.getRadius(),C=s.innerRadius*M;f=jt(O.x,O.y,M,_,w,C)}this.regionPath?(this.regionPath.attr("path",f),this.regionPath.show()):this.regionPath=h.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:f,fill:"#CCD6EC",opacity:.3}})}}},Fo.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},Fo.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),ko.prototype.destroy.call(this)},Fo);function Fo(){return null!==ko&&ko.apply(this,arguments)||this}function Io(){var t=null!==Eo&&Eo.apply(this,arguments)||this;return t.isLocked=!1,t.isVisible=!0,t}function Ro(t,e){return t&&(t.className&&(Object(E.isNil)(t.className.baseVal)?t.className:t.className.baseVal).includes(e))}var No,Yo,Go,zo=(Go=vt,Object(S.__extends)(qo,Go),qo.prototype.show=function(){var t=this.context,e=t.event,i=t.view;if(!i.isTooltipLocked()){var n=this.timeStamp,r=+new Date;if(16<r-n){var o=this.location,a={x:e.x,y:e.y};o&&Object(E.isEqual)(o,a)||this.showTooltip(i,a),this.timeStamp=r,this.location=a}}},qo.prototype.hide=function(){var t=this.context.view;if(!t.isTooltipLocked()){var e=this.context.event,i=Object(E.get)(e,["gEvent","originalEvent","toElement"]);i&&(Ro(i,"g2-tooltip")||function(){for(var t=i.parentNode,e=!1;t&&t!==document.body;){if(Ro(t,"g2-tooltip")){e=!0;break}t=t.parentNode}return e}())||(this.hideTooltip(t),this.location=null)}},qo.prototype.showTooltip=function(t,e){t.showTooltip(e)},qo.prototype.hideTooltip=function(t){t.hideTooltip()},qo),Xo=(Yo=zo,Object(S.__extends)(Wo,Yo),Wo.prototype.showTooltip=function(i,n){var t=ue(i);Object(E.each)(t,function(t){var e=he(i,t,n);t.showTooltip(e)})},Wo.prototype.hideTooltip=function(t){var e=ue(t);Object(E.each)(e,function(t){t.hideTooltip()})},Wo),Vo=(No=vt,Object(S.__extends)(Ho,No),Ho.prototype.hasState=function(t){return t.hasState(this.stateName)},Ho.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},Ho.prototype.setState=function(){this.setStateEnable(!0)},Ho.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},Ho.prototype.clearViewState=function(t){var e=this,i=ne(t,this.stateName);Object(E.each)(i,function(t){e.setElementState(t,!1)})},Ho);function Ho(){var t=null!==No&&No.apply(this,arguments)||this;return t.stateName="",t}function Wo(){return null!==Yo&&Yo.apply(this,arguments)||this}function qo(){var t=null!==Go&&Go.apply(this,arguments)||this;return t.timeStamp=0,t}function Uo(t){return t.get("delegateObject").item}var Zo,Ko,$o,Qo,Jo,ta,ea,ia=(ea=Vo,Object(S.__extends)(ga,ea),ga.prototype.isItemIgnore=function(e,i){return!!this.ignoreListItemStates.filter(function(t){return i.hasState(e,t)}).length},ga.prototype.setStateByComponent=function(t,e,i){var n=this.context.view,r=t.get("field"),o=ie(n);this.setElementsStateByItem(o,r,e,i)},ga.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},ga.prototype.isMathItem=function(t,e,i){var n=fe(this.context.view,e),r=re(t,e);return!Object(E.isNil)(r)&&i.name===n.getText(r)},ga.prototype.setElementsStateByItem=function(t,e,i,n){var r=this;Object(E.each)(t,function(t){r.isMathItem(t,e,i)&&t.setState(r.stateName,n)})},ga.prototype.setStateEnable=function(t){var e=Ut(this.context);if(e)Kt(this.context)&&this.setStateByElement(e,t);else{var i=Zt(this.context);if($t(i)){var n=i.item,r=i.component;if(n&&r&&!this.isItemIgnore(n,r)){var o=this.context.event.gEvent;if(o&&o.fromShape&&o.toShape&&Uo(o.fromShape)===Uo(o.toShape))return;this.setStateByComponent(r,n,t)}}}},ga.prototype.toggle=function(){var t=Ut(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},ga.prototype.reset=function(){this.setStateEnable(!1)},ga),na=(ta=ia,Object(S.__extends)(da,ta),da.prototype.active=function(){this.setState()},da),ra=(Jo=vt,Object(S.__extends)(fa,Jo),fa.prototype.getColorScale=function(t,e){var i=e.geometry.getAttribute("color");return i?t.getScaleByField(i.getFields()[0]):null},fa.prototype.getLinkPath=function(t,e){var i=t.shape.getCanvasBBox(),n=e.shape.getCanvasBBox();return[["M",i.maxX,i.minY],["L",n.minX,n.minY],["L",n.minX,n.maxY],["L",i.maxX,i.maxY],["Z"]]},fa.prototype.addLinkShape=function(t,e,i){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,i)}})},fa.prototype.linkByElement=function(t){var e,i,n,r=this,o=this.context.view,a=this.getColorScale(o,t);if(a){var s=re(t,a.field);if(!this.cache[s]){var l=(e=o,i=a.field,n=s,ie(e).filter(function(t){return re(t,i)===n})),c=this.linkGroup.addGroup();this.cache[s]=c;var u=l.length;Object(E.each)(l,function(t,e){if(e<u-1){var i=l[e+1];r.addLinkShape(c,t,i)}})}}},fa.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var i=re(t,e.field);this.cache[i]&&(this.cache[i].remove(),this.cache[i]=null)}},fa.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Ut(t);e&&this.linkByElement(e)},fa.prototype.unlink=function(){var t=Ut(this.context);t&&this.removeLink(t)},fa.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},fa.prototype.destroy=function(){Jo.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},fa),oa=(Qo=Vo,Object(S.__extends)(pa,Qo),pa.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},pa.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},pa.prototype.getIntersectElements=function(){var t=null;if(Jt(this.context))t=te(this.context,10);else{var e=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!i)return;var n={minX:Math.min(e.x,i.x),minY:Math.min(e.y,i.y),maxX:Math.max(e.x,i.x),maxY:Math.max(e.y,i.y)};t=oe(this.context.view,n)}return t},pa.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=ie(this.context.view),i=this.getIntersectElements();i&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,t):this.setElementsState(i,t,e):this.clear()}},pa.prototype.setSiblingsStateByRecord=function(t,n){var r=this,e=this.context.view,i=ue(e),o=t.map(function(t){return t.getModel().data}),a=e.getXScale().field,s=e.getYScales()[0].field;Object(E.each)(i,function(t){var e=ie(t),i=e.filter(function(t){var e=t.getModel().data;return pe(o,e,a,s)});r.setElementsState(i,n,e)})},pa.prototype.setSiblingsState=function(n){var r=this,t=ue(this.context.view);Jt(this.context)&&Object(E.each)(t,function(t){var e=ie(t),i=ee(r.context,t,10);i&&i.length?r.setElementsState(i,n,e):r.clearViewState(t)})},pa.prototype.setElementsState=function(e,i,t){var n=this;Object(E.each)(t,function(t){e.includes(t)?n.setElementState(t,i):n.setElementState(t,!1)})},pa.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},pa.prototype.clear=function(){var e=this,t=this.context.view;if(this.effectSiblings){var i=ue(t);Object(E.each)(i,function(t){e.clearViewState(t)})}else this.clearViewState(t)},pa),aa=($o=oa,Object(S.__extends)(ha,$o),ha.prototype.active=function(){this.setState()},ha),sa=(Ko=Vo,Object(S.__extends)(ua,Ko),ua.prototype.setStateEnable=function(t){var e=Ut(this.context);if(e){if(!Kt(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},ua.prototype.toggle=function(){var t=Ut(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},ua.prototype.reset=function(){this.setStateEnable(!1)},ua),la=(Zo=sa,Object(S.__extends)(ca,Zo),ca.prototype.active=function(){this.setState()},ca);function ca(){var t=null!==Zo&&Zo.apply(this,arguments)||this;return t.stateName="active",t}function ua(){return null!==Ko&&Ko.apply(this,arguments)||this}function ha(){var t=null!==$o&&$o.apply(this,arguments)||this;return t.stateName="active",t}function pa(){var t=null!==Qo&&Qo.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}function fa(){var t=null!==Jo&&Jo.apply(this,arguments)||this;return t.cache={},t}function da(){var t=null!==ta&&ta.apply(this,arguments)||this;return t.stateName="active",t}function ga(){var t=null!==ea&&ea.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}function ya(t){var e=ie(t);Object(E.each)(e,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}function va(t,e,i){Object(E.each)(t,function(t){e(t)?(t.hasState("inactive")&&t.setState("inactive",!1),t.setState("active",i)):(t.hasState("active")&&t.setState("active",!1),t.setState("inactive",i))})}var ma,xa,ba,_a,wa,Oa,Ma,Ca,Sa,ja,Aa=(ja=ia,Object(S.__extends)(qa,ja),qa.prototype.setElementsStateByItem=function(t,e,i,n){var r=this;this.setHighlightBy(t,function(t){return r.isMathItem(t,e,i)},n)},qa.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState("inactive")&&t.setState("inactive",!1),t.setState("active",!0)):t.hasState("active")||t.setState("inactive",!0)},qa.prototype.setHighlightBy=function(t,e,i){var n=this;if(i)Object(E.each)(t,function(t){n.setElementHighlight(t,e)});else{var r=ne(this.context.view,"active"),o=!0;Object(E.each)(r,function(t){if(!e(t))return o=!1}),o?this.clear():Object(E.each)(t,function(t){e(t)&&(t.hasState("active")&&t.setState("active",!1),t.setState("inactive",!0))})}},qa.prototype.setElementState=function(e,t){var i=ie(this.context.view);this.setHighlightBy(i,function(t){return e===t},t)},qa.prototype.highlight=function(){this.setState()},qa.prototype.clear=function(){ya(this.context.view)},qa),Pa=(Sa=Aa,Object(S.__extends)(Wa,Sa),Wa.prototype.setStateByElement=function(t,e){var i=this.context.view,n=t.geometry.getAttribute("color");if(n){var r=i.getScaleByField(n.getFields()[0]),o=re(t,r.field),a=ie(i),s=a.filter(function(t){return re(t,r.field)===o});this.setHighlightBy(a,function(t){return s.includes(t)},e)}},Wa),Ta=(Ca=Aa,Object(S.__extends)(Ha,Ca),Ha.prototype.setStateByElement=function(t,e){var i=this.context.view,n=i.getXScale(),r=re(t,n.field),o=ie(i),a=o.filter(function(t){return re(t,n.field)===r});this.setHighlightBy(o,function(t){return a.includes(t)},e)},Ha),La=(Ma=oa,Object(S.__extends)(Va,Ma),Va.prototype.clearViewState=function(t){ya(t)},Va.prototype.highlight=function(){this.setState()},Va.prototype.setElementsState=function(e,t,i){va(i,function(t){return 0<=e.indexOf(t)},t)},Va),ka=(Oa=sa,Object(S.__extends)(Xa,Oa),Xa.prototype.highlight=function(){this.setState()},Xa.prototype.setElementState=function(e,t){va(ie(this.context.view),function(t){return e===t},t)},Xa.prototype.clear=function(){ya(this.context.view)},Xa),Ea=(wa=oa,Object(S.__extends)(za,wa),za.prototype.selected=function(){this.setState()},za),Da=(_a=ia,Object(S.__extends)(Ga,_a),Ga.prototype.selected=function(){this.setState()},Ga),Ba=(ba=sa,Object(S.__extends)(Ya,ba),Ya.prototype.selected=function(){this.setState()},Ya),Fa=(xa=vt,Object(S.__extends)(Na,xa),Na.prototype.getTriggerListInfo=function(){var t=Zt(this.context),e=null;return $t(t)&&(e={item:t.item,list:t.component}),e},Na.prototype.getAllowComponents=function(){var e=this,t=se(this.context.view),i=[];return Object(E.each)(t,function(t){t.isList()&&e.allowSetStateByElement(t)&&i.push(t)}),i},Na.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},Na.prototype.clearAllComponentsState=function(){var e=this,t=this.getAllowComponents();Object(E.each)(t,function(t){t.clearItemsState(e.stateName)})},Na.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var i=t.get("name");if(-1===this.cfg.componentNames.indexOf(i))return!1}var n=fe(this.context.view,e);return n&&n.isCategory},Na.prototype.allowSetStateByItem=function(e,i){var t=this.ignoreItemStates;return!t.length||0===t.filter(function(t){return i.hasState(e,t)}).length},Na.prototype.setStateByElement=function(t,e,i){var n=t.get("field"),r=fe(this.context.view,n),o=re(e,n),a=r.getText(o);this.setItemsState(t,a,i)},Na.prototype.setStateEnable=function(e){var i=this,n=Ut(this.context);if(n){var t=this.getAllowComponents();Object(E.each)(t,function(t){i.setStateByElement(t,n,e)})}else{var r=Zt(this.context);if($t(r)){var o=r.item,a=r.component;this.allowSetStateByElement(a)&&this.allowSetStateByItem(o,a)&&this.setItemState(a,o,e)}}},Na.prototype.setItemsState=function(e,i,n){var r=this,t=e.getItems();Object(E.each)(t,function(t){t.name===i&&r.setItemState(e,t,n)})},Na.prototype.setItemState=function(t,e,i){t.setItemState(e,this.stateName,i)},Na.prototype.setState=function(){this.setStateEnable(!0)},Na.prototype.reset=function(){this.setStateEnable(!1)},Na.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,i=t.item,n=this.hasState(e,i);this.setItemState(e,i,!n)}},Na.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},Na),Ia=(ma=Fa,Object(S.__extends)(Ra,ma),Ra.prototype.active=function(){this.setState()},Ra);function Ra(){var t=null!==ma&&ma.apply(this,arguments)||this;return t.stateName="active",t}function Na(){var t=null!==xa&&xa.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}function Ya(){var t=null!==ba&&ba.apply(this,arguments)||this;return t.stateName="selected",t}function Ga(){var t=null!==_a&&_a.apply(this,arguments)||this;return t.stateName="selected",t}function za(){var t=null!==wa&&wa.apply(this,arguments)||this;return t.stateName="selected",t}function Xa(){var t=null!==Oa&&Oa.apply(this,arguments)||this;return t.stateName="active",t}function Va(){var t=null!==Ma&&Ma.apply(this,arguments)||this;return t.stateName="active",t}function Ha(){return null!==Ca&&Ca.apply(this,arguments)||this}function Wa(){return null!==Sa&&Sa.apply(this,arguments)||this}function qa(){var t=null!==ja&&ja.apply(this,arguments)||this;return t.stateName="active",t}var Ua,Za,Ka,$a,Qa,Ja,ts=(Ja=Fa,Object(S.__extends)(hs,Ja),hs.prototype.setItemsState=function(t,e,i){this.setHighlightBy(t,function(t){return t.name===e},i)},hs.prototype.setItemState=function(t,e,i){t.getItems(),this.setHighlightBy(t,function(t){return t===e},i)},hs.prototype.setHighlightBy=function(e,i,t){var n=e.getItems();if(t)Object(E.each)(n,function(t){i(t)?(e.hasState(t,"inactive")&&e.setItemState(t,"inactive",!1),e.setItemState(t,"active",!0)):e.hasState(t,"active")||e.setItemState(t,"inactive",!0)});else{var r=e.getItemsByState("active"),o=!0;Object(E.each)(r,function(t){if(!i(t))return o=!1}),o?this.clear():Object(E.each)(n,function(t){i(t)&&(e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.setItemState(t,"inactive",!0))})}},hs.prototype.highlight=function(){this.setState()},hs.prototype.clear=function(){var e,t,i=this.getTriggerListInfo();if(i)t=(e=i.list).getItems(),Object(E.each)(t,function(t){e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.hasState(t,"inactive")&&e.setItemState(t,"inactive",!1)});else{var n=this.getAllowComponents();Object(E.each)(n,function(t){t.clearItemsState("active"),t.clearItemsState("inactive")})}},hs),es=(Qa=Fa,Object(S.__extends)(us,Qa),us.prototype.selected=function(){this.setState()},us),is=($a=Fa,Object(S.__extends)(cs,$a),cs.prototype.unchecked=function(){this.setState()},cs),ns=(Ka=vt,Object(S.__extends)(ls,Ka),ls.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},ls.prototype.emitEvent=function(t){var e="mask:"+t,i=this.context.view,n=this.context.event;i.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:n.x,y:n.y})},ls.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(S.__assign)({fill:"#C5D4EB",opacity:.3},e)})},ls.prototype.getMaskPath=function(){return[]},ls.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},ls.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},ls.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},ls.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,i=t.x-e.x,n=t.y-e.y,r=this.points;Object(E.each)(r,function(t){t.x+=i,t.y+=n}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},ls.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},ls.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},ls.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},ls.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},ls.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},ls.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,Ka.prototype.destroy.call(this)},ls),rs=(Za=ns,Object(S.__extends)(ss,Za),ss.prototype.getMaskAttrs=function(){var t=this.points,e=Object(E.last)(this.points),i=0,n=0,r=0;if(t.length){var o=t[0];i=le(o,e)/2,n=(e.x+o.x)/2,r=(e.y+o.y)/2}return{x:n,y:r,r:i}},ss),os=(Ua=ns,Object(S.__extends)(as,Ua),as.prototype.getRegion=function(){var t=this.points;return{start:Object(E.head)(t),end:Object(E.last)(t)}},as.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,i=t.end;return{x:Math.min(e.x,i.x),y:Math.min(e.y,i.y),width:Math.abs(i.x-e.x),height:Math.abs(i.y-e.y)}},as);function as(){var t=null!==Ua&&Ua.apply(this,arguments)||this;return t.shapeType="rect",t}function ss(){var t=null!==Za&&Za.apply(this,arguments)||this;return t.shapeType="circle",t}function ls(){var t=null!==Ka&&Ka.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}function cs(){var t=null!==$a&&$a.apply(this,arguments)||this;return t.stateName="unchecked",t}function us(){var t=null!==Qa&&Qa.apply(this,arguments)||this;return t.stateName="selected",t}function hs(){var t=null!==Ja&&Ja.apply(this,arguments)||this;return t.stateName="active",t.ignoreItemStates=["unchecked"],t}function ps(t){t.x=Object(E.clamp)(t.x,0,1),t.y=Object(E.clamp)(t.y,0,1)}var fs,ds,gs,ys,vs,ms=(vs=os,Object(S.__extends)(js,vs),js.prototype.getRegion=function(){var t=null,e=null,i=this.points,n=this.dim,r=this.context.view.getCoordinate(),o=r.invert(Object(E.head)(i)),a=r.invert(Object(E.last)(i));return this.inPlot&&(ps(o),ps(a)),e="x"===n?(t=r.convert({x:o.x,y:0}),r.convert({x:a.x,y:1})):(t=r.convert({x:0,y:o.y}),r.convert({x:1,y:a.y})),{start:t,end:e}},js),xs=(ys=ns,Object(S.__extends)(Ss,ys),Ss.prototype.getMaskPath=function(){var t=this.points,i=[];return t.length&&(Object(E.each)(t,function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),i.push(["L",t[0].x,t[0].y])),i},Ss.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},Ss.prototype.addPoint=function(){this.resize()},Ss),bs=(gs=xs,Object(S.__extends)(Cs,gs),Cs.prototype.getMaskPath=function(){return function(t){if(t.length<=2)return Yt(t,!1);var e=t[0],i=[];Object(E.each)(t,function(t){i.push(t.x),i.push(t.y)});var n=Nt(i,!0,null);return n.unshift(["M",e.x,e.y]),n}(this.points)},Cs),_s=(ds=vt,Object(S.__extends)(Ms,ds),Ms.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},Ms.prototype.default=function(){this.setCursor("default")},Ms.prototype.pointer=function(){this.setCursor("pointer")},Ms.prototype.move=function(){this.setCursor("move")},Ms.prototype.crosshair=function(){this.setCursor("crosshair")},Ms.prototype.wait=function(){this.setCursor("wait")},Ms.prototype.help=function(){this.setCursor("help")},Ms.prototype.text=function(){this.setCursor("text")},Ms.prototype.eResize=function(){this.setCursor("e-resize")},Ms.prototype.wResize=function(){this.setCursor("w-resize")},Ms.prototype.nResize=function(){this.setCursor("n-resize")},Ms.prototype.sResize=function(){this.setCursor("s-resize")},Ms.prototype.neResize=function(){this.setCursor("ne-resize")},Ms.prototype.nwResize=function(){this.setCursor("nw-resize")},Ms.prototype.seResize=function(){this.setCursor("se-resize")},Ms.prototype.swResize=function(){this.setCursor("sw-resize")},Ms.prototype.nsResize=function(){this.setCursor("ns-resize")},Ms.prototype.ewResize=function(){this.setCursor("ew-resize")},Ms),ws=(fs=vt,Object(S.__extends)(Os,fs),Os.prototype.filterView=function(t,e,i){var n=this;t.getScaleByField(e)&&t.filter(e,i),t.views&&t.views.length&&Object(E.each)(t.views,function(t){n.filterView(t,e,i)})},Os.prototype.filter=function(){var t=Zt(this.context);if(t){var e=this.context.view,i=t.component,n=i.get("field");if($t(t)){if(n){var r=i.getItemsByState("unchecked"),o=fe(e,n),a=r.map(function(t){return t.name});a.length?this.filterView(e,n,function(t){var e=o.getText(t);return!a.includes(e)}):this.filterView(e,n,null),e.render(!0)}}else if(Qt(t)){var s=i.getValue(),l=s[0],c=s[1];this.filterView(e,n,function(t){return l<=t&&t<=c}),e.render(!0)}}},Os);function Os(){return null!==fs&&fs.apply(this,arguments)||this}function Ms(){return null!==ds&&ds.apply(this,arguments)||this}function Cs(){return null!==gs&&gs.apply(this,arguments)||this}function Ss(){return null!==ys&&ys.apply(this,arguments)||this}function js(){var t=null!==vs&&vs.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}function As(t,e,i,n){var r=Math.min(i[e],n[e]),o=Math.max(i[e],n[e]),a=t.range,s=a[0],l=a[1];if(r<s&&(r=s),l<o&&(o=l),r===l&&o===l)return null;var c=t.invert(r),u=t.invert(o);if(t.isCategory){var h=t.values.indexOf(c),p=t.values.indexOf(u),f=t.values.slice(h,p+1);return function(t){return f.includes(t)}}return function(t){return c<=t&&t<=u}}var Ps,Ts,Ls,ks,Es,Ds,Bs,Fs,Is,Rs,Ns=(Rs=vt,Object(S.__extends)(rl,Rs),rl.prototype.hasDim=function(t){return this.dims.includes(t)},rl.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},rl.prototype.filter=function(){var t,e;if(Jt(this.context)){var i=this.context.event.target.getCanvasBBox();t={x:i.x,y:i.y},e={x:i.maxX,y:i.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var n=this.context.view,r=n.getCoordinate(),o=r.invert(e),a=r.invert(t);if(this.hasDim("x")){var s=n.getXScale(),l=As(s,"x",o,a);this.filterView(n,s.field,l)}if(this.hasDim("y")){var c=n.getYScales()[0];l=As(c,"y",o,a),this.filterView(n,c.field,l)}this.reRender(n)}},rl.prototype.end=function(){this.isStarted=!1},rl.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var i=t.getYScales()[0];this.filterView(t,i.field,null)}this.reRender(t)},rl.prototype.filterView=function(t,e,i){t.filter(e,i)},rl.prototype.reRender=function(t){t.render(!0)},rl),Ys=(Is=Ns,Object(S.__extends)(nl,Is),nl.prototype.filterView=function(t,e,i){var n=ue(t);Object(E.each)(n,function(t){t.filter(e,i)})},nl.prototype.reRender=function(t){var e=ue(t);Object(E.each)(e,function(t){t.render(!0)})},nl),Gs=(Fs=vt,Object(S.__extends)(il,Fs),il.prototype.filter=function(){var t=Zt(this.context),e=this.context.view,i=ie(e);if(Jt(this.context)){var n=te(this.context,10);n&&Object(E.each)(i,function(t){n.includes(t)?t.show():t.hide()})}else if(t){var r=t.component,o=r.get("field");if($t(t)){if(o){var a=r.getItemsByState("unchecked"),s=fe(e,o),l=a.map(function(t){return t.name});Object(E.each)(i,function(t){var e=re(t,o),i=s.getText(e);0<=l.indexOf(i)?t.hide():t.show()})}}else if(Qt(t)){var c=r.getValue(),u=c[0],h=c[1];Object(E.each)(i,function(t){var e=re(t,o);u<=e&&e<=h?t.show():t.hide()})}}},il.prototype.clear=function(){var t=ie(this.context.view);Object(E.each)(t,function(t){t.show()})},il.prototype.reset=function(){this.clear()},il),zs=(Bs=vt,Object(S.__extends)(el,Bs),el.prototype.filter=function(){Jt(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},el.prototype.filterByRecord=function(){var t=this.context.view,e=te(this.context,10);if(e){var i=t.getXScale().field,n=t.getYScales()[0].field,r=e.map(function(t){return t.getModel().data}),o=ue(t);Object(E.each)(o,function(t){var e=ie(t);Object(E.each)(e,function(t){var e=t.getModel().data;pe(r,e,i,n)?t.show():t.hide()})})}},el.prototype.filterByBBox=function(){var n=this,t=ue(this.context.view);Object(E.each)(t,function(t){var e=ee(n.context,t,10),i=ie(t);e&&Object(E.each)(i,function(t){e.includes(t)?t.show():t.hide()})})},el.prototype.reset=function(){var t=ue(this.context.view);Object(E.each)(t,function(t){var e=ie(t);Object(E.each)(e,function(t){t.show()})})},el),Xs=(Ds=vt,Object(S.__extends)(tl,Ds),tl.prototype.getButtonCfg=function(){return Object(E.deepMix)(this.buttonCfg,this.cfg)},tl.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),i=e.addShape({type:"text",name:"button-text",attrs:Object(S.__assign)({text:t.text},t.textStyle)}).getBBox(),n=zt(t.padding),r=e.addShape({type:"rect",name:"button-rect",attrs:Object(S.__assign)({x:i.x-n[3],y:i.y-n[0],width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},t.style)});r.toBack(),e.on("mouseenter",function(){r.attr(t.activeStyle)}),e.on("mouseleave",function(){r.attr(t.style)}),this.buttonGroup=e},tl.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,i=e.getBBox(),n=Object(Ct.transform)(null,[["t",t.x-i.width-10,t.y+i.height+5]]);e.setMatrix(n)},tl.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},tl.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},tl.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),Ds.prototype.destroy.call(this)},tl),Vs=(Es=vt,Object(S.__extends)(Js,Es),Js.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},Js.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,i=this.context.event;this.dragStart?e.emit("drag",{target:i.target,x:i.x,y:i.y}):4<le(t,this.startPoint)&&(e.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0)}},Js.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},Js),Hs=(ks=vt,Object(S.__extends)(Qs,ks),Qs.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},Qs.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(5<le(t,e)&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var i=this.context.view,n=Object(Ct.transform)(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);i.backgroundGroup.setMatrix(n),i.foregroundGroup.setMatrix(n),i.middleGroup.setMatrix(n)}}},Qs.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},Qs.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},Qs),Ws=(Ls=vt,Object(S.__extends)($s,Ls),$s.prototype.hasDim=function(t){return this.dims.includes(t)},$s.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},$s.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var i=this.getScale(t);e.scale(i.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},$s.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},$s),qs=(Ts=Ws,Object(S.__extends)(Ks,Ts),Ks.prototype.start=function(){var o=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var t=this.dims;Object(E.each)(t,function(t){var e=o.getScale(t),i=e.min,n=e.max,r=e.values;o.startCache[t]={min:i,max:n,values:r}})},Ks.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},Ks.prototype.translate=function(){var e=this;if(this.starting){var t=this.startPoint,i=this.context.view.getCoordinate(),n=this.context.getCurrentPoint(),r=i.invert(t),o=i.invert(n),a=o.x-r.x,s=o.y-r.y,l=this.context.view,c=this.dims;Object(E.each)(c,function(t){e.translateDim(t,{x:-1*a,y:-1*s})}),l.render(!0)}},Ks.prototype.translateDim=function(t,e){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.translateLinear(t,i,e)}},Ks.prototype.translateLinear=function(t,e,i){var n=this.context.view,r=this.startCache[t],o=r.min,a=r.max,s=a-o,l=i[t]*s;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:o,max:a}),n.scale(e.field,{nice:!1,min:o+l,max:a+l})},Ks.prototype.reset=function(){Ts.prototype.reset.call(this),this.startPoint=null,this.starting=!1},Ks),Us=(Ps=Ws,Object(S.__extends)(Zs,Ps),Zs.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},Zs.prototype.zoom=function(e){var i=this,t=this.dims;Object(E.each)(t,function(t){i.zoomDim(t,e)}),this.context.view.render(!0)},Zs.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},Zs.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.zoomLinear(t,i,e)}},Zs.prototype.zoomLinear=function(t,e,i){var n=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var r=this.cacheScaleDefs[t],o=r.max-r.min,a=e.min,s=e.max,l=i*o,c=a-l,u=s+l,h=(u-c)/o;c<u&&h<100&&.01<h&&n.scale(e.field,{nice:!1,min:a-l,max:s+l})},Zs);function Zs(){var t=null!==Ps&&Ps.apply(this,arguments)||this;return t.zoomRatio=.05,t}function Ks(){var t=null!==Ts&&Ts.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}function $s(){var t=null!==Ls&&Ls.apply(this,arguments)||this;return t.dims=["x","y"],t.cfgFields=["dims"],t.cacheScaleDefs={},t}function Qs(){var t=null!==ks&&ks.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}function Js(){var t=null!==Es&&Es.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}function tl(){var t=null!==Ds&&Ds.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}function el(){var t=null!==Bs&&Bs.apply(this,arguments)||this;return t.byRecord=!1,t}function il(){return null!==Fs&&Fs.apply(this,arguments)||this}function nl(){return null!==Is&&Is.apply(this,arguments)||this}function rl(){var t=null!==Rs&&Rs.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}function ol(t){return t.isInPlot()}function al(t){return t.gEvent.preventDefault(),0<t.gEvent.originalEvent.deltaY}Ye("dark",Te(wn)),f("canvas",On),f("svg",Mn),si("Polygon",fr),si("Interval",er),si("Schema",dr),si("Path",Fn),si("Point",cr),si("Line",ir),si("Area",Gn),si("Edge",Hn),si("Heatmap",Wn),qi("base",fn),qi("interval",Sr),qi("pie",Pr),qi("polar",Ar),Zi("overlap",function(t,e,i,n){var l=new Er;Object(E.each)(e,function(t){for(var e=t.find(function(t){return"text"===t.get("type")}),i=e.attr(),n=i.x,r=i.y,o=!1,a=0;a<=8;a++){var s=Br(e,n,r,a);if(l.hasGap(s)){l.fillGap(s),o=!0;break}}o||t.remove(!0)}),l.destroy()}),Zi("distribute",function(t,n,e,i){var r=t[0]?t[0].offset:0,o=n[0].get("coordinate"),l=o.getRadius(),c=o.getCenter();if(0<r){var a=2*(l+r)+28,x={start:o.start,end:o.end},s=[[],[]];t.forEach(function(t){t&&("right"===t.textAlign?s[0].push(t):s[1].push(t))}),s.forEach(function(t,e){var i=a/14;t.length>i&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(i,t.length-i)),t.sort(function(t,e){return t.y-e.y}),function(t,i,o,a){var n,e=!0,r=x.start,s=x.end,l=Math.min(r.y,s.y),c=Math.abs(r.y-s.y),u=0,h=Number.MIN_VALUE,p=i.map(function(t){return t.y>u&&(u=t.y),t.y<h&&(h=t.y),{size:14,targets:[t.y-l]}});for(h-=l,c<u-l&&(c=u-l);e;)for(p.forEach(function(t){var e=(Math.min.apply(h,t.targets)+Math.max.apply(h,t.targets))/2;t.pos=Math.min(Math.max(h,e-t.size/2),c-t.size)}),e=!1,n=p.length;n--;)if(0<n){var f=p[n-1],d=p[n];f.pos+f.size>d.pos&&(f.size+=d.size,f.targets=f.targets.concat(d.targets),f.pos+f.size>c&&(f.pos=c-f.size),p.splice(n,1),e=!0)}n=0,p.forEach(function(t){var e=l+7;t.targets.forEach(function(){i[n].y=t.pos+e,e+=14,n++})});for(var g={},y=0,v=t;y<v.length;y++){var m=v[y];g[m.get("id")]=m}i.forEach(function(t){var e=t.r*t.r,i=Math.pow(Math.abs(t.y-o.y),2);if(e<i)t.x=o.x;else{var n=Math.sqrt(e-i);t.x=a?o.x+n:o.x-n}var r=g[t.id];r.attr("x",t.x),r.attr("y",t.y)})}(n,t,c,e)})}Object(E.each)(t,function(t){if(t&&t.labelLine){var e=t.offset,i=t.angle,n=St(c.x,c.y,l,i),r=St(c.x,c.y,l+e/2,i),o=t.x+Object(E.get)(t,"offsetX",0),a=t.y+Object(E.get)(t,"offsetY",0),s={x:o-4*Math.cos(i),y:a-4*Math.sin(i)};Object(E.isObject)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M "+n.x,n.y+" Q"+r.x,r.y+" "+s.x,s.y].join(",")}})}),Zi("fixed-overlap",function(t,e,i,n){var r=new Er;Object(E.each)(e,function(t){!function(t,e,i){void 0===i&&(i=100);var n,r=t.attr(),o=r.x,a=r.y,s=t.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),c=1,u=0,h=0;if(e.hasGap(s))return e.fillGap(s),1;for(var p,f=!1,d=0,g={};Math.min(Math.abs(u),Math.abs(h))<l&&d<i;)if(h=~~(n=[(p=.1*(c+=-1))*Math.cos(p),p*Math.sin(p)])[1],((u=~~n[0])||h)&&!g[u+"-"+h]&&(t.attr({x:o+u,y:a+h}),u+h<0&&t.attr("textAlign","right"),d++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),f=!0,g[u+"-"+h]=!0;break}return f}(t.find(function(t){return"text"===t.get("type")}),r)&&t.remove(!0)}),r.destroy()}),Zi("limit-in-shape",function(t,e,r,i){Object(E.each)(e,function(t,e){var i=t.getCanvasBBox(),n=r[e].getBBox();(i.minX<n.minX||i.minY<n.minY||i.maxX>n.maxX||i.maxY>n.maxY)&&t.remove(!0)})}),Zi("limit-in-canvas",function(t,e,i,y){Object(E.each)(e,function(t){var e=y.minX,i=y.minY,n=y.maxX,r=y.maxY,o=t.getCanvasBBox(),a=o.minX,s=o.minY,l=o.maxX,c=o.maxY,u=o.x,h=o.y,p=o.width,f=o.height,d=u,g=h;(a<e||l<e)&&(d=e),(s<i||c<i)&&(g=i),n<a?d=n-p:n<l&&(d-=l-n),r<s?g=r-f:r<c&&(g-=c-r),d===u&&g===h||cn(t,d-u,g-h)})}),Di("fade-in",function(t,e,i){var n={fillOpacity:Object(E.isNil)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Object(E.isNil)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Object(E.isNil)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(n,e)}),Di("fade-out",function(t,e,i){var n=e.easing,r=e.duration,o=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r,n,function(){t.remove(!0)},o)}),Di("grow-in-x",function(t,e,i){Fr(t,e,i.coordinate,i.minYPoint,"x")}),Di("grow-in-xy",function(t,e,i){Fr(t,e,i.coordinate,i.minYPoint,"xy")}),Di("grow-in-y",function(t,e,i){Fr(t,e,i.coordinate,i.minYPoint,"y")}),Di("scale-in-x",function(t,e,i){var n=t.getBBox(),r=t.get("origin").mappingData.points,o=0<r[0].y-r[1].y?n.maxX:n.minX,a=(n.minY+n.maxY)/2;t.applyToMatrix([o,a,1]);var s=Object(Ct.transform)(t.getMatrix(),[["t",-o,-a],["s",.01,1],["t",o,a]]);t.setMatrix(s),t.animate({matrix:Object(Ct.transform)(t.getMatrix(),[["t",-o,-a],["s",100,1],["t",o,a]])},e)}),Di("scale-in-y",function(t,e,i){var n=t.getBBox(),r=t.get("origin").mappingData,o=(n.minX+n.maxX)/2,a=r.points,s=a[0].y-a[1].y<=0?n.maxY:n.minY;t.applyToMatrix([o,s,1]);var l=Object(Ct.transform)(t.getMatrix(),[["t",-o,-s],["s",1,.01],["t",o,s]]);t.setMatrix(l),t.animate({matrix:Object(Ct.transform)(t.getMatrix(),[["t",-o,-s],["s",1,100],["t",o,s]])},e)}),Di("wave-in",function(t,e,i){var n=It(i.coordinate,20),r=n.type,o=n.startState,a=n.endState,s=t.setClip({type:r,attrs:o});s.animate(a,Object(S.__assign)(Object(S.__assign)({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),s.remove(!0)}}))}),Di("zoom-in",function(t,e,i){zr(t,e,"zoomIn")}),Di("zoom-out",function(t,e,i){zr(t,e,"zoomOut")}),Di("position-update",function(t,e,i){var n=i.toAttrs,r=n.x,o=n.y;delete n.x,delete n.y,t.attr(n),t.animate({x:r,y:o},e)}),Di("sector-path-update",function(t,e,i){var n=i.toAttrs,r=i.coordinate,o=n.path,a=o.map(function(t){return t[0]}),s=Gr(o),l=s.startAngle,c=s.endAngle,u=s.radius,h=s.innerRadius,p=Gr(t.attr("path")),f=p.startAngle,d=p.endAngle,g=r.getCenter(),y=l-f,v=c-d;t.animate(function(t){var e=f+t*y,i=d+t*v;return Object(S.__assign)(Object(S.__assign)({},n),{path:Object(E.isEqual)(a,["M","A","A","Z"])?At(g.x,g.y,u,e,i):jt(g.x,g.y,u,e,i,h)})},Object(S.__assign)(Object(S.__assign)({},e),{callback:function(){t.attr("path",o)}}))}),Di("path-in",function(t,e,i){var n=t.getTotalLength();t.attr("lineDash",[n]),t.animate(function(t){return{lineDashOffset:(1-t)*n}},e)}),yt("rect",io),yt("mirror",eo),yt("list",Jr),yt("matrix",to),yt("circle",Qr),yt("tree",no),Ue("axis",xo),Ue("legend",Ao),Ue("tooltip",Do),Ue("annotation",ro),Ue("slider",Po),Mt("tooltip",zo),Mt("sibling-tooltip",Xo),Mt("element-active",na),Mt("element-single-active",la),Mt("element-range-active",aa),Mt("element-highlight",Aa),Mt("element-highlight-by-x",Ta),Mt("element-highlight-by-color",Pa),Mt("element-single-highlight",ka),Mt("element-range-highlight",La),Mt("element-sibling-highlight",La,{effectSiblings:!0,effectByRecord:!0}),Mt("element-selected",Da),Mt("element-single-selected",Ba),Mt("element-range-selected",Ea),Mt("element-link-by-color",ra),Mt("active-region",Bo),Mt("list-active",Ia),Mt("list-selected",es),Mt("list-highlight",ts),Mt("list-unchecked",is),Mt("legend-item-highlight",ts,{componentNames:["legend"]}),Mt("axis-label-highlight",ts,{componentNames:["axis"]}),Mt("rect-mask",os),Mt("x-rect-mask",ms,{dim:"x"}),Mt("y-rect-mask",ms,{dim:"y"}),Mt("circle-mask",rs),Mt("path-mask",xs),Mt("smooth-path-mask",bs),Mt("cursor",_s),Mt("data-filter",ws),Mt("brush",Ns),Mt("brush-x",Ns,{dims:["x"]}),Mt("brush-y",Ns,{dims:["y"]}),Mt("sibling-filter",Ys),Mt("sibling-x-filter",Ys),Mt("sibling-y-filter",Ys),Mt("element-filter",Gs),Mt("element-sibling-filter",zs),Mt("element-sibling-filter-record",zs,{byRecord:!0}),Mt("view-drag",Vs),Mt("view-move",Hs),Mt("scale-translate",qs),Mt("scale-zoom",Us),Mt("reset-button",Xs,{name:"reset-button",text:"reset"}),Ae("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Ae("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Ae("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Ae("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Ae("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Ae("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Ae("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Ae("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Ae("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Ae("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Ae("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Ae("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ol,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ol,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ol,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Ae("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Ae("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ol,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ol,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ol,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Ae("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ol,action:"path-mask:start"},{trigger:"mousedown",isEnable:ol,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Ae("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Ae("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Ae("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Ae("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Ae("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Ae("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Ae("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return al(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!al(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Ae("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var sl={translate:cn,rotate:un,zoom:function(t,e){var i=t.getBBox(),n=(i.minX+i.maxX)/2,r=(i.minY+i.maxY)/2;t.applyToMatrix([n,r,1]);var o=Object(Ct.transform)(t.getMatrix(),[["t",-n,-r],["s",e,e],["t",n,r]]);t.setMatrix(o)},transform:Ct.transform,getAngle:Pt,polarToCartesian:St}},function(t,e,i){"use strict";i.r(e);function n(){}var h={},p=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="[^\\s]+",f=/\[([^]*?)\]/gm;function o(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i.push(t[n].substr(0,e));return i}function a(r){return function(t,e,i){var n=i[r].indexOf(e.charAt(0).toUpperCase()+e.substr(1).toLowerCase());~n&&(t.month=n)}}function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],u=o(c,3),d=o(l,3);h.i18n={dayNamesShort:d,dayNames:l,monthNamesShort:u,monthNames:c,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10)*t%10]}};var g={D:function(t){return t.getDate()},DD:function(t){return s(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return s(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return s(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return s(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return s(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return s(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return s(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return s(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return s(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return s(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return s(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(0<e?"-":"+")+s(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},y={D:["\\d\\d?",function(t,e){t.day=e}],Do:["\\d\\d?"+r,function(t,e){t.day=parseInt(e,10)}],M:["\\d\\d?",function(t,e){t.month=e-1}],YY:["\\d\\d?",function(t,e){var i=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(68<e?i-1:i)+e}],h:["\\d\\d?",function(t,e){t.hour=e}],m:["\\d\\d?",function(t,e){t.minute=e}],s:["\\d\\d?",function(t,e){t.second=e}],YYYY:["\\d{4}",function(t,e){t.year=e}],S:["\\d",function(t,e){t.millisecond=100*e}],SS:["\\d{2}",function(t,e){t.millisecond=10*e}],SSS:["\\d{3}",function(t,e){t.millisecond=e}],d:["\\d\\d?",n],ddd:[r,n],MMM:[r,a("monthNamesShort")],MMMM:[r,a("monthNames")],a:[r,function(t,e,i){var n=e.toLowerCase();n===i.amPm[0]?t.isPm=!1:n===i.amPm[1]&&(t.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(t,e){var i,n=(e+"").match(/([+-]|\d\d)/gi);n&&(i=60*n[1]+parseInt(n[2],10),t.timezoneOffset="+"===n[0]?i:-i)}]};y.dd=y.d,y.dddd=y.ddd,y.DD=y.D,y.mm=y.m,y.hh=y.H=y.HH=y.h,y.MM=y.M,y.ss=y.s,y.A=y.a,h.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},h.format=function(e,t,i){var n=i||h.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=h.masks[t]||t||h.masks.default;var r=[];return(t=(t=t.replace(f,function(t,e){return r.push(e),"@@@"})).replace(p,function(t){return t in g?g[t](e,n):t.slice(1,t.length-1)})).replace(/@@@/g,function(){return r.shift()})},h.parse=function(t,e,i){var n=i||h.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=h.masks[e]||e,1e3<t.length)return null;var r={},o=[],a=[],s=(e=e.replace(f,function(t,e){return a.push(e),"@@@"})).replace(/[|\\{()[^$+*?.-]/g,"\\$&").replace(p,function(t){if(y[t]){var e=y[t];return o.push(e[1]),"("+e[0]+")"}return t});s=s.replace(/@@@/g,function(){return a.shift()});var l=t.match(new RegExp(s,"i"));if(!l)return null;for(var c=1;c<l.length;c++)o[c-1](r,l[c],n);var u=new Date;return!0===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12==+r.hour&&(r.hour=0),null!=r.timezoneOffset?(r.minute=(r.minute||0)-r.timezoneOffset,new Date(Date.UTC(r.year||u.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):new Date(r.year||u.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0)},e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null==t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,u=i(1),h=i(0),r=u.__importDefault(i(54)),p=i(7),o=(n=r.default,u.__extends(a,n),a.prototype.getGeometry=function(){return this.geometry},a.prototype.getLabels=function(){return this.labels},a.prototype.show=function(){this.container.show()},a.prototype.hide=function(){this.container.hide()},a.prototype.init=function(t){var e=this;this.layer=t.layer;var i=this.layer.view;function n(){e.clear(),e.render()}this.view=i,this.geometry=t.geometry,this.coord=i.getCoordinate(),this.options=h.deepMix(this.getDefaultOptions(),t.label),i.on(p.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),this.addDisposable(function(){i.off(p.VIEW_LIFE_CIRCLE.AFTER_PAINT,n)})},a.prototype.renderInner=function(a){var s=this;this.labels=[],this.labelsCfgMap={},h.each(this.geometry.elements,function(i,t){var e=[].concat(s.drawLabelItem(a,i,t));h.each(e,function(t,e){s.adjustLabel(t,i,e),t.destroyed||(s.labels.push(t),s.labelsCfgMap[t.get("id")]=h.clone(t.attrs))})});var l=this.lastLabelsCfgMap,t=this.labelsCfgMap,c=!!this.geometry.animateOption&&p.getDefaultAnimateCfg("label",this.coord);h.each(t,function(t,e){var i=a.findById(e);if(i)if(l[e]){var n=l[e],r=h.get(c,"update");r&&(i.attr(n),p.doAnimate(i,r,{toAttrs:u.__assign({},t),coordinate:s.coord}))}else{var o=h.get(c,"appear");o&&p.doAnimate(i,o,{toAttrs:u.__assign({},i.attr()),coordinate:s.coord})}delete l[e]}),h.each(l,function(t,e){var i=h.get(c,"leave");if(i){var n=a.addShape("text",{attrs:t,id:e,name:"label"});p.doAnimate(n,i,{toAttrs:null,coordinate:s.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},a.prototype.drawLabelText=function(t,e,i){return void 0===i&&(i={}),t.addShape("text",u.__assign({attrs:e},i))},a.prototype.getDefaultOptions=function(){return{}},a.prototype.drawLabelItem=function(r,t,e){var o=this,a=t.getModel(),i=[].concat(this.getLabelItemAttrs(t,e));return h.map(i,function(t,e){var i=h.isArray(a.mappingData)?a.mappingData[e]:a.mappingData,n=o.getLabelId(i);return o.drawLabelText(r,t,{id:n,name:"label",origin:i})})},a.prototype.getLabelId=function(t){var e=t._origin,i=this.geometry.type,n=this.geometry.getXScale(),r=this.geometry.getYScale(),o=this.geometry.getElementId(t);return"line"===i||"area"===i?o+=" "+e[n.field]:"path"===i&&(o+=" "+e[n.field]+"-"+e[r.field]),o},a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}e.default=o;var s={};e.registerLabelComponent=function(t,e){s[t]=e},e.getLabelComponent=function(t){return s[t]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(109),o=i(204),a={default:r.DEFAULT_GLOBAL_THEME,dark:o.DEFAULT_DARK_THEME};function s(t){return void 0===t&&(t="default"),a[t.toLowerCase()]||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",t),r.DEFAULT_GLOBAL_THEME)}e.registerGlobalTheme=function(t,e){var i=s();a[t.toLowerCase()]=n.deepMix({},i,e)},e.getGlobalTheme=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);function r(t,e){return n.filter(t.geometries,function(t){return t.type===e})}e.getAllGeometryByType=r,e.getGeometryByType=function(t,e){return n.head(r(t,e))},e.getGeometryShapes=function(t){return n.map(t.elements,function(t){return t.shape})}},function(t,e,i){"use strict";i.r(e);function u(t,e,i,n){return t[n]+(e[n]-t[n])*i}var a=i(0),n=/rgba?\(([\s.,0-9]+)\)/,s=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,l=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t){return"#"+o(t[0])+o(t[1])+o(t[2])}function r(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}function o(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e}function p(t){if("#"===t[0]&&7===t.length)return t;var e;f||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),f=e),f.style.color=t;var i=document.defaultView.getComputedStyle(f,"").getPropertyValue("color");return h(n.exec(i)[1].split(/\s*,\s*/).map(function(t){return Number(t)}))}var f;e.default={rgb2arr:r,gradient:function(t){var e=Object(a.isString)(t)?t.split("-"):t,c=Object(a.map)(e,function(t){return r(-1===t.indexOf("#")?p(t):t)});return function(t){return e=c,i=t,n=isNaN(Number(i))||i<0?0:1<i?1:Number(i),r=e.length-1,o=Math.floor(r*n),a=r*n-o,s=e[o],l=o===r?s:e[o+1],h([u(s,l,a,0),u(s,l,a,1),u(s,l,a,2)]);var e,i,n,r,o,a,s,l}},toRGB:Object(a.memoize)(p),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var n,e=void 0;if("l"===t[0]){var i=+(r=s.exec(t))[1]+90;e=r[2],n="linear-gradient("+i+"deg, "}else if("r"===t[0]){var r;n="radial-gradient(",e=(r=l.exec(t))[4]}var o=e.match(c);return Object(a.each)(o,function(t,e){var i=t.split(":");n+=i[1]+" "+100*i[0]+"%",e!==o.length-1&&(n+=", ")}),n+=")"}return t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(22),y=i(14),d=i(99);function v(t,e,i,n,r){var o=1-r;return o*o*o*t+3*e*r*o*o+3*i*r*r*o+n*r*r*r}function h(t,e,i,n,r){var o=1-r;return 3*(o*o*(e-t)+2*o*r*(i-e)+r*r*(n-i))}function g(t,e,i,n){var r,o,a,s=-3*t+9*e-9*i+3*n,l=6*t-12*e+6*i,c=3*e-3*t,u=[];if(f.isNumberEqual(s,0))f.isNumberEqual(l,0)||0<=(r=-c/l)&&r<=1&&u.push(r);else{var h=l*l-4*s*c;f.isNumberEqual(h,0)?u.push(-l/(2*s)):0<h&&(o=(-l-(a=Math.sqrt(h)))/(2*s),0<=(r=(-l+a)/(2*s))&&r<=1&&u.push(r),0<=o&&o<=1&&u.push(o))}return u}function m(t,e,i,n,r,o,a,s,l){var c=v(t,i,r,a,l),u=v(e,n,o,s,l),h=y.default.pointAt(t,e,i,n,l),p=y.default.pointAt(i,n,r,o,l),f=y.default.pointAt(r,o,a,s,l),d=y.default.pointAt(h.x,h.y,p.x,p.y,l),g=y.default.pointAt(p.x,p.y,f.x,f.y,l);return[[t,e,h.x,h.y,d.x,d.y,c,u],[c,u,g.x,g.y,f.x,f.y,a,s]]}e.default={extrema:g,box:function(t,e,i,n,r,o,a,s){for(var l=[t,a],c=[e,s],u=g(t,i,r,a),h=g(e,n,o,s),p=0;p<u.length;p++)l.push(v(t,i,r,a,u[p]));for(p=0;p<h.length;p++)c.push(v(e,n,o,s,h[p]));return f.getBBoxByArray(l,c)},length:function(t,e,i,n,r,o,a,s){return function t(e,i,n,r,o,a,s,l,c){if(0===c)return d.snapLength([e,n,o,s],[i,r,a,l]);var u=m(e,i,n,r,o,a,s,l,.5),h=u[0],p=u[1];return h.push(c-1),p.push(c-1),t.apply(null,h)+t.apply(null,p)}(t,e,i,n,r,o,a,s,3)},nearestPoint:function(t,e,i,n,r,o,a,s,l,c){return d.nearestPoint([t,i,r,a],[e,n,o,s],l,c,v)},pointDistance:function(t,e,i,n,r,o,a,s,l,c){var u=this.nearestPoint(t,e,i,n,r,o,a,s,l,c);return f.distance(u.x,u.y,l,c)},interpolationAt:v,pointAt:function(t,e,i,n,r,o,a,s,l){return{x:v(t,i,r,a,l),y:v(e,n,o,s,l)}},divide:function(t,e,i,n,r,o,a,s,l){return m(t,e,i,n,r,o,a,s,l)},tangentAngle:function(t,e,i,n,r,o,a,s,l){var c=h(t,i,r,a,l),u=h(e,n,o,s,l);return f.piMod(Math.atan2(u,c))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(69);e.default=function(t){return n.default(t,"Function")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),r=i(0),a=(o=n.__importDefault(i(77)).default,n.__extends(s,o),s.registerInteraction=function(t,e){s.GLOBAL_INTERACTION_MAP[t]=e},s.registerPlotInteraction=function(t,e,i){s.PLOT_INTERACTION_MAP[t]||(s.PLOT_INTERACTION_MAP[t]={}),s.PLOT_INTERACTION_MAP[t][e]=i},s.getInteraction=function(t,e){return e&&s.PLOT_INTERACTION_MAP[e]&&s[e][t]?s.PLOT_INTERACTION_MAP[e][t]:s.GLOBAL_INTERACTION_MAP[t]},s.getInteractionRange=function(t,e){},s.prototype.destroy=function(){r.each(this.disposables,function(t){t()}),this.disposables=[],this.clear(),o.prototype.destroy.call(this)},s.prototype.getViewLayer=function(){return this.viewLayer},s.prototype.getRange=function(){return this.interactionRange},s.prototype.getInteractionConfig=function(){return this.interactionConfig},s.prototype.addDisposable=function(t){this.disposables.push(t)},s.prototype.render=function(){},s.GLOBAL_INTERACTION_MAP={},s.PLOT_INTERACTION_MAP={},s);function s(t,e,i,n){var r=o.call(this,t)||this;return r.viewLayer=e,r.interactionRange=i,r.interactionConfig=n,r.disposables=[],r.render(),r}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.attr("text","")}},function(t,e,i){"use strict";i.r(e),i.d(e,"getCoordinate",function(){return d}),i.d(e,"registerCoordinate",function(){return g}),i.d(e,"Coordinate",function(){return r});var c,u,n,s=i(1),h=i(2),p=i(0),r=(x.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},x.prototype.update=function(t){p.assign(this,t),this.initial()},x.prototype.convertDim=function(t,e){var i,n=this[e],r=n.start,o=n.end;return this.isReflect(e)&&(r=(i=[o,r])[0],o=i[1]),r+t*(o-r)},x.prototype.invertDim=function(t,e){var i,n=this[e],r=n.start,o=n.end;return this.isReflect(e)&&(r=(i=[o,r])[0],o=i[1]),(t-r)/(o-r)},x.prototype.applyMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,r=[t,e,i];return h.vec3.transformMat3(r,r,n),r},x.prototype.invertMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,r=h.mat3.invert([],n),o=[t,e,i];return h.vec3.transformMat3(o,o,r),o},x.prototype.convert=function(t){var e=this.convertPoint(t),i=e.x,n=e.y,r=this.applyMatrix(i,n,1);return{x:r[0],y:r[1]}},x.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},x.prototype.rotate=function(t){var e=this.matrix,i=this.center;return h.mat3.translate(e,e,[-i.x,-i.y]),h.mat3.rotate(e,e,t),h.mat3.translate(e,e,[i.x,i.y]),this},x.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},x.prototype.scale=function(t,e){var i=this.matrix,n=this.center;return h.mat3.translate(i,i,[-n.x,-n.y]),h.mat3.scale(i,i,[t,e]),h.mat3.translate(i,i,[n.x,n.y]),this},x.prototype.translate=function(t,e){var i=this.matrix;return h.mat3.translate(i,i,[t,e]),this},x.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},x.prototype.getCenter=function(){return this.center},x.prototype.getWidth=function(){return this.width},x.prototype.getHeight=function(){return this.height},x.prototype.getRadius=function(){return this.radius},x.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},x.prototype.resetMatrix=function(t){this.matrix=t||Object(s.__spreadArrays)(this.originalMatrix)},x),o=(n=r,Object(s.__extends)(m,n),m.prototype.initial=function(){n.prototype.initial.call(this);var t=this.start,e=this.end;this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},m.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:this.convertDim(i,"x"),y:this.convertDim(n,"y")}},m.prototype.invertPoint=function(t){var e,i=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y");return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:i,y:n}},m),a=(u=r,Object(s.__extends)(v,u),v.prototype.initial=function(){u.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,e=Math.min(this.width,this.height)/2;this.radius&&0<=this.radius&&this.radius<=1&&(e*=this.radius),this.d=Math.floor(e*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*e,end:this.innerRadius*e+.99*this.d}},v.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;this.isTransposed&&(i=(e=[n,i])[0],n=e[1]);var r=this.convertDim(i,"x"),o=this.a*r,a=this.convertDim(n,"y");return{x:this.center.x+Math.cos(r)*(o+a),y:this.center.y+Math.sin(r)*(o+a)}},v.prototype.invertPoint=function(t){var e,i=this.d+this.y.start,n=h.vec2.subtract([],[t.x,t.y],[this.center.x,this.center.y]),r=h.vec2.angleTo(n,[1,0],!0),o=r*this.a;h.vec2.length(n)<o&&(o=h.vec2.length(n)),r=2*Math.floor((h.vec2.length(n)-o)/i)*Math.PI+r;var a=this.a*r,s=h.vec2.length(n)-a;s=Object(p.isNumberEqual)(s,0)?0:s;var l=this.invertDim(r,"x"),c=this.invertDim(s,"y");return l=Object(p.isNumberEqual)(l,0)?0:l,c=Object(p.isNumberEqual)(c,0)?0:c,this.isTransposed&&(l=(e=[c,l])[0],c=e[1]),{x:l,y:c}},v),l=(c=r,Object(s.__extends)(y,c),y.prototype.initial=function(){for(c.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var t,e=this.getOneBox(),i=e.maxX-e.minX,n=e.maxY-e.minY,r=Math.abs(e.minX)/i,o=Math.abs(e.minY)/n;this.height/n>this.width/i?(t=this.width/i,this.circleCenter={x:this.center.x-(.5-r)*this.width,y:this.center.y-(.5-o)*t*n}):(t=this.height/n,this.circleCenter={x:this.center.x-(.5-r)*t*i,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?0<this.radius&&this.radius<=1?this.polarRadius=t*this.radius:(this.radius<=0||this.radius>t)&&(this.polarRadius=t):this.polarRadius=t,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},y.prototype.getRadius=function(){return this.polarRadius},y.prototype.convertPoint=function(t){var e,i=this.getCenter(),n=t.x,r=t.y;return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),n=this.convertDim(n,"x"),r=this.convertDim(r,"y"),{x:i.x+Math.cos(n)*r,y:i.y+Math.sin(n)*r}},y.prototype.invertPoint=function(t){var e=this.getCenter(),i=[t.x-e.x,t.y-e.y],n=[1,0,0,0,1,0,0,0,1];h.mat3.rotate(n,n,this.startAngle);var r=[1,0,0];h.vec3.transformMat3(r,r,n),r=[r[0],r[1]];var o=h.vec2.angleTo(r,i,this.endAngle<this.startAngle);Object(p.isNumberEqual)(o,2*Math.PI)&&(o=0);var a=h.vec2.length(i),s=o/(this.endAngle-this.startAngle);s=0<this.endAngle-this.startAngle?s:-s;var l=this.invertDim(a,"y"),c={x:0,y:0};return c.x=this.isTransposed?l:s,c.y=this.isTransposed?s:l,c},y.prototype.getCenter=function(){return this.circleCenter},y.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(e)],n=[0,Math.sin(t),Math.sin(e)],r=Math.min(t,e);r<Math.max(t,e);r+=Math.PI/18)i.push(Math.cos(r)),n.push(Math.sin(r));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,n),maxY:Math.max.apply(Math,n)}},y),f={},d=function(t){return f[t.toLowerCase()]},g=function(t,e){f[t.toLowerCase()]=e};function y(t){var e=c.call(this,t)||this;e.isPolar=!0,e.type="polar";var i=t.startAngle,n=void 0===i?-Math.PI/2:i,r=t.endAngle,o=void 0===r?3*Math.PI/2:r,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=n,e.endAngle=o,e.innerRadius=s,e.radius=l,e.initial(),e}function v(t){var e=u.call(this,t)||this;e.isHelix=!0,e.type="helix";var i=t.startAngle,n=void 0===i?1.25*Math.PI:i,r=t.endAngle,o=void 0===r?7.25*Math.PI:r,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=n,e.endAngle=o,e.innerRadius=s,e.radius=l,e.initial(),e}function m(t){var e=n.call(this,t)||this;return e.isRect=!0,e.type="cartesian",e.initial(),e}function x(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,i=t.end,n=t.matrix,r=void 0===n?[1,0,0,0,1,0,0,0,1]:n,o=t.isTransposed,a=void 0!==o&&o;this.start=e,this.end=i,this.matrix=r,this.originalMatrix=Object(s.__spreadArrays)(r),this.isTransposed=a}g("rect",o),g("cartesian",o),g("polar",l),g("helix",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Math.PI/180;e.default=function(t){return n*t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(t%e+e)%e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(24)),a=i(0),s=i(8),l=r.__importDefault(i(10)),c=(n=o.default,r.__extends(u,n),u.prototype.processOptions=function(t){this.id=t.id,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},u.prototype.updateConfig=function(t){this.options=a.deepMix({},this.options,t),this.processOptions(this.options)},u.prototype.beforeInit=function(){return null},u.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},u.prototype.afterInit=function(){return null},u.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},u.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},u.prototype.destroy=function(){var e=this;this.eachLayer(function(t){t.destroy()}),a.each(this.eventHandlers,function(t){e.off(t.eventName,t.handler)}),this.container.remove(!0),this.destroyed=!0},u.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},u.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},u.prototype.addLayer=function(e){a.findIndex(this.layers,function(t){return t===e})<0&&(e.parent!==this&&(e.parent=this,e.init()),this.layers.push(e))},u.prototype.removeLayer=function(e){var t=a.findIndex(this.layers,function(t){return t===e});0<=t&&this.layers.splice(t,1)},u.prototype.updateBBox=function(t,e){void 0===e&&(e=!1);var i={x:this.x,y:this.y,width:this.width,height:this.height},n=a.deepMix({},i,t);this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(t){t.updateBBoxByParent(),t.render()}),this.canvas.draw()},u.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},u.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,i=this.parent;i;)t+=i.x,e+=i.y,i=i.parent;return{x:t,y:e}},u.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new l.default(t.x,t.y,this.width,this.height)},u.prototype.getOptions=function(t){var e=0,i=0;t.parent&&(e=t.parent.width,i=t.parent.height);var n={x:0,y:0,width:e,height:i};return a.deepMix({},n,t)},u.prototype.eachLayer=function(t){a.each(this.layers,t)},u.prototype.parseEvents=function(t){var r=this,o=a.keys(s.LAYER_EVENT_MAP);a.each(t,function(t,e){if(a.contains(o,e)&&a.isFunction(t)){var i=s.LAYER_EVENT_MAP[e]||e,n=t;r.on(i,n),r.eventHandlers.push({name:i,handler:n})}})},u.prototype.getLayerBBox=function(){return new l.default(this.x,this.y,this.width,this.height)},u.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,i=this.parent.x,n=this.parent.y;return{start:{x:(this.x-i)/t,y:(this.y-n)/e},end:{x:(this.x+this.width-i)/t,y:(this.y+this.height-n)/e}}}return{start:{x:0,y:0},end:{x:1,y:1}}},u);function u(t){var e=n.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.isTextUsable=function(t){return!!t&&!(!0!==t.visible||"string"!=typeof t.text||!t.text.trim())},e.breakText=function(t,e){var i=n.__spreadArrays(t);return e.forEach(function(t,e){i.splice(t+e,0,"\n")}),i.join("")},e.getAxisShapes=function(t){return t.backgroundGroup.findAll(function(t){if(t.get("name"))return"axis"===t.get("name").split("-")[0]})},e.getLegendShapes=function(t){return t.foregroundGroup.findAll(function(t){if(t.get("name"))return"legend-item-group"===t.get("name")})},e.sortedLastIndex=function(t,e){for(var i=t.length;0<i&&!(e>=t[i-1]);)--i;return i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(207),o={default:r.DEFAULT_RESPONSIVE_THEME};e.registerResponsiveTheme=function(t,e){o[t.toLowerCase()]=n.deepMix({},r.DEFAULT_RESPONSIVE_THEME,e)},e.getResponsiveTheme=function(t){return o[t.toLowerCase()]||r.DEFAULT_RESPONSIVE_THEME}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=(o.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},o);function o(t){n.assign(this,t),this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(2)),o=i(0),r=i(7);e.groupTransform=function(t,e){var i=n.transform([1,0,0,0,1,0,0,0,1],e);t.setMatrix(i)},e.transform=function(t,e){var i=e?o.clone(e):[1,0,0,0,1,0,0,0,1];return n.transform(i,t)},e.move=function(t,e,i,n){var r=n?o.clone(n):[1,0,0,0,1,0,0,0,1];r[6]=e,r[7]=i,t.setMatrix(r)},e.translate=function(t,e,i){r.Util.translate(t,e,i)},e.rotate=function(t,e){r.Util.rotate(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(0),n=i(4),a=o.__importDefault(i(9)),s=i(13),l=o.__importDefault(i(126)),c=i(21),u=o.__importDefault(i(285));i(288),i(58);var h=o.__importStar(i(131));i(289);var p,f=i(34),d={column:"interval"},g={interval:"column"},y=(p=a.default,o.__extends(v,p),v.getDefaultOptions=function(){return r.deepMix({},p.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},v.prototype.beforeInit=function(){p.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},v.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new l.default(o.__assign({view:this.view,field:t.yField,transpose:!0,animation:!1!==t.animation},t.conversionTag))),p.prototype.afterRender.call(this)},v.prototype.geometryParser=function(t,e){return"g2"===t?d[e]:g[e]},v.prototype.processData=function(t){var i=this.options.xField,n=[];return r.each(t,function(t){var e=r.clone(t);e[i]=e[i].toString(),n.push(e)}),n},v.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},r.has(t,"xAxis")&&c.extractScale(e[t.xField],t.xAxis),e[t.yField]={},r.has(t,"yAxis")&&c.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),p.prototype.scale.call(this)},v.prototype.coord=function(){},v.prototype.adjustColumn=function(t){},v.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",r.deepMix({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},v.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},v.prototype.animation=function(){p.prototype.animation.call(this),!1===this.options.animation&&(this.column.animate=!1)},v.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,h)},v.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,i=e.label,n=t[e.yField];if(i&&i.visible){var r=f.getGeometryByType(this.view,"interval");this.doRenderLabel(r,o.__assign({type:"column",formatter:n.formatter},this.options.label))}},v.prototype.applyResponsive=function(t){var e=this,i=u.default[t];r.each(i,function(t){t.method(e)})},v);function v(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="column",t}e.default=y,n.registerPlotType("column",y)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=n.__importDefault(i(9)),a=i(18);i(113);var s,l=(s=r.default,n.__extends(c,s),c.getDefaultOptions=function(){return o.deepMix({},s.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},c.prototype.coord=function(){},c.prototype.addGeometry=function(){},c.prototype.annotation=function(){var i=this,t=this.options,n=[],r={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};o.each(t.guideLine,function(t){var e=a.getComponent("guideLine",{plot:i,cfg:o.deepMix({},r,t)});n.push(e)}),this.setConfig("annotations",n)},c);function c(){return null!==s&&s.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){return void 0===i&&(i=1e-5),Math.abs(t-e)<i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(170);e.Adjust=n.default;function r(t){return o[t.toLowerCase()]}var o={};e.getAdjust=r,e.registerAdjust=function(t,e){if(r(t))throw new Error("Adjust type '"+t+"' existed.");o[t.toLowerCase()]=e}},function(t,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var c=e(1),u=e(0),h=e(101),p=e(180);l.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var r={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},f={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};l.getDefaultAnimateCfg=function(t,e,i){var n=r[t];return n&&(u.isFunction(n)&&(n=n(e)),n=u.deepMix({},l.DEFAULT_ANIMATE_CFG,n),i)?n[i]:n},l.doAnimate=function(t,e,i){var n,r,o=u.get(t.get("origin"),"data",h.FIELD_ORIGIN),a=e.animation,s=(n=e,r=o,{delay:u.isFunction(n.delay)?n.delay(r):n.delay,easing:u.isFunction(n.easing)?n.easing(r):n.easing,duration:u.isFunction(n.duration)?n.duration(r):n.duration,callback:n.callback});if(a){var l=p.getAnimation(a);l&&l(t,s,i)}else t.animate(i.toAttrs,s)},l.doGroupAppearAnimate=function(t,e,i,n,r){if(f[i]){var o=f[i](n),a=p.getAnimation(u.get(o,"animation",""));if(a){var s=c.__assign(c.__assign(c.__assign({},l.DEFAULT_ANIMATE_CFG.appear),o),e);t.stopAnimate(),a(t,s,{coordinate:n,minYPoint:r,toAttrs:null})}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(24)),a=i(0),s=(n=o.default,r.__extends(l,n),l.prototype.getGroup=function(){return this.group},l.prototype.getBBox=function(){return this.getGroup().getBBox()},l.prototype.clear=function(){this.group.clear()},l.prototype.render=function(){this.renderInner(this.group),this.getCanvas().draw()},l.prototype.update=function(t){this.config=r.__assign(r.__assign({},this.config),t),this.init(r.__assign(r.__assign({},this.config),{config:t})),this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},l.prototype.destroy=function(){a.each(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},l.prototype.getCanvas=function(){return this.container.get("canvas")},l.prototype.addDisposable=function(t){this.disposables.push(t)},l);function l(t){var e=n.call(this)||this;return e.container=t.container,e.destroyed=!1,e.group=e.container.addGroup(),e.config=t,e.disposables=[],e.init(t),e}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),u=i(0),r=i(18),o=i(8),a=n.__importDefault(i(106));function h(t,e){if(u.isFunction(e))return e(t);var i=e.name,n=e.exp;return u.isFunction(n)?n(t[i]):t[i]===n}e.compare=h;var s=(l.prototype.createStateManager=function(){this.stateManager=new a.default},l.prototype.bindStateManager=function(t,e){this.stateManager=t,e.setState&&this._updateStateProcess(e.setState),e.onStateChange&&this._stateChangeProcess(e.onStateChange)},l.prototype.defaultStates=function(t){var r=this;u.each(t,function(t,e){var i=t.condition,n=t.related;r.setState({type:e,condition:i,related:n})})},l.prototype.setState=function(a){var s=this,l=a.type,c=a.condition,t=a.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),u.each(this.shapes,function(t,e){var i=t.get("origin").data;if(h(u.isArray(i)?i[0]:i,c)){var n,r=a.style?a.style:s._getDefaultStateStyle(l,t),o=s.originAttrs[e];n=u.isFunction(r)?r(o):u.mix({},o,r),t.attr(n),s.setZIndex(l,t)}}),t&&this._parserRelated(l,t,c),this.plot.canvas.draw()},l.prototype._updateStateProcess=function(t){var n=this;u.each(t,function(t){var e,i=t.state;e=u.isFunction(i)?function(t){var e=i(t);n.stateManager.setState(e.name,e.exp)}:function(){n.stateManager.setState(i.name,i.exp)},t.event?o.onEvent(n.plot,n._eventParser(t.event),e):e()})},l.prototype._stateChangeProcess=function(t){var i=this;u.each(t,function(e){i.stateManager.on(e.name+":change",function(t){e.callback(t,i.plot)})})},l.prototype._getShapes=function(){var i=this,n=[],t=this.plot.view.geometries;return u.each(t,function(t){var e=t.container;i.shapeContainers.push(e),t.destroyed||n.push.apply(n,t.getShapes())}),n},l.prototype._getOriginAttrs=function(){var e=[];return u.each(this.shapes,function(t){e.push(u.clone(t.attr()))}),e},l.prototype._eventParser=function(t){var e=t.split(":");return this.plot.geometryParser("g2",e[0])+":"+e[1]},l.prototype._getDefaultStateStyle=function(t,e){var i=this.plot.theme,n=this.plot.geometryParser("plot",e.name)+"Style";if(i[n]){var r=i[n][t];return u.isFunction(r)&&(r=r(e.attr())),r}return{}},l.prototype._parserRelated=function(e,t,i){var n=this;u.each(t,function(t){n.plot[t]&&r.getComponentStateMethod(t,e)(n.plot,i)})},l.prototype.setZIndex=function(t,e){if("active"===t||"selected"===t){var i=e.get("parent").get("children");i[i.length-1].setZIndex(0),e.setZIndex(1)}},l.prototype.resetZIndex=function(){u.each(this.shapeContainers,function(t){t.get("children").sort(function(t,e){return t._INDEX-e._INDEX})})},l);function l(t){this.shapeContainers=[],u.assign(this,t)}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),l=r.__importDefault(i(114)),c=r.__importDefault(i(80)),a=r.__importDefault(i(122)),s={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},u=(n=a.default,r.__extends(h,n),h.prototype.init=function(){this.axisInstance=this.getAxisInstance(),n.prototype.init.call(this)},h.prototype.shouldApply=function(){var t=this.plot.options;return!!this.responsiveTheme.axis&&!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible)},h.prototype.apply=function(){for(var e=this,t=this.plot.view.backgroundGroup.findAll(function(t){if("axis-label"===t.get("name")&&t.get("delegateObject").axis.get("field")===e.plot.options[e.dim+"Field"])return t}),i=[],n=0;n<t.length;n++)i.push(t[n]);var r=new l.default({shapes:i}),o=this.responsiveTheme.axis.x[this.type],a=o.constraints,s=o.rules;new c.default({nodes:r,constraints:a,region:this.plot.getViewRange(),rules:s,plot:this.plot,onEnd:function(t){e.updateTicks(t.origion_nodes)}})},h.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",i=this.dim+"Field";if(t[e]&&t[e].type&&"dateTime"===t[e].type)return"dateTime";var n=this.plot.view.getScaleByField([t[i]]).type;return s[n]},h.prototype.getAxisInstance=function(){var t="x"===this.dim?0:1;return this.plot.view.getController("axis").getComponents()[t].component},h.prototype.updateTicks=function(t){var e=this,i=this.plot.view.backgroundGroup.findAll(function(t){if("axis-tickline-group"===t.get("name")&&t.get("delegateObject").axis.get("field")===e.plot.options[e.dim+"Field"])return t})[0];if(i){var n=i.get("children");o.each(t,function(t,e){""===t.shape.attr("text")&&n[e].attr("opacity",0)})}this.plot.canvas.draw()},h);function h(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=i(4),a=n.__importDefault(i(9)),s=i(18),l=n.__importDefault(i(126)),c=i(13),u=i(21),h=n.__importDefault(i(262));i(127);var p=n.__importStar(i(264));i(265);var f,d=i(34),g={bar:"interval"},y={interval:"bar"},v=(f=a.default,n.__extends(m,f),m.getDefaultOptions=function(){return r.deepMix({},f.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,offset:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},m.prototype.beforeInit=function(){f.prototype.beforeInit.call(this);var t=this.options;t.responsive&&"auto"!==t.padding&&this.applyResponsive("preRender")},m.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new l.default(n.__assign({view:this.view,field:t.xField,animation:!1!==t.animation},t.conversionTag))),f.prototype.afterRender.call(this)},m.prototype.geometryParser=function(t,e){return"g2"===t?g[e]:y[e]},m.prototype.processData=function(t){var e=t?t.slice().reverse():t,i=this.options.yField,n=[];return r.each(e,function(t){var e=r.clone(t);e[i]=e[i].toString(),n.push(e)}),n},m.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},r.has(t,"yAxis")&&u.extractScale(e[t.yField],t.yAxis),e[t.xField]={},r.has(t,"xAxis")&&u.extractScale(e[t.xField],t.xAxis),this.setConfig("scales",e),f.prototype.scale.call(this)},m.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},m.prototype.axis=function(){var t=s.getComponent("axis",{plot:this,dim:"x"}),e=s.getComponent("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var i={};i[this.options.xField]=t,i[this.options.yField]=e,this.setConfig("axes",i)},m.prototype.adjustBar=function(t){return null},m.prototype.addGeometry=function(){var t=this.options,e=c.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",r.deepMix({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},m.prototype.animation=function(){f.prototype.animation.call(this),!1===this.options.animation&&(this.bar.animate=!1)},m.prototype.parseEvents=function(){f.prototype.parseEvents.call(this,p)},m.prototype.renderLabel=function(){var t=this.config.scales[this.options.xField];if(this.options.label&&this.options.label.visible){var e=d.getGeometryByType(this.view,"interval");this.doRenderLabel(e,n.__assign({type:"bar",formatter:t.formatter},this.options.label))}},m.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},m.prototype.applyResponsive=function(t){var e=this,i=h.default[t];r.each(i,function(t){t.method(e)})},m.prototype.getLabelOptionsByPosition=function(t){return"middle"===t?{offset:0}:"left"===t?{offset:7,style:{stroke:null,lineWidth:0}}:"right"===t?{offset:4}:void 0},m);function m(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="bar",t}e.default=v,o.registerPlotType("bar",v)},function(t,f,e){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var s=e(1),l=e(0),i=s.__importStar(e(32)),a=e(28),r=s.__importDefault(e(10));f.DEFAULT_OFFSET=8;var n,o=(n=i.default,s.__extends(c,n),c.prototype.getLabelItemAttrs=function(t,e){var i=this.options,n=i.style,r=i.formatter,o=t.shape,a=this.getValue(t);return l.deepMix({},n,s.__assign(s.__assign({},this.getPosition(t)),{text:r?r(a,o,e):a,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseLine(t)}))},c.prototype.getDefaultOptions=function(){var t=this.layer.theme.label.style;return{offsetX:0,offsetY:0,style:l.clone(t),adjustPosition:!0}},c.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var i=t.getBBox(),n=this.getElementShapeBBox(e);if(n.height<=i.height){var r=n.minY+this.options.offsetY-f.DEFAULT_OFFSET;t.attr("y",r),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},c.prototype.getValue=function(t){return l.get(t.getData(),this.layer.options.yField)},c.prototype.getPosition=function(t){var e=this.getValue(t),i=this.getElementShapeBBox(t),n=i.minX,r=i.minY,o=i.maxY,a=i.height,s=i.width,l=this.options,c=l.offsetX,u=l.offsetY,h=l.position,p=0<e?-1:1;return{x:n+s/2+c,y:"top"===h?(0<e?r:o)+(u+f.DEFAULT_OFFSET)*p:"bottom"===h?o+(u+f.DEFAULT_OFFSET)*p:r+a/2}},c.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"top"!==this.options.position){var i=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,r=a.rgb2arr(i),o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n;return a.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],o)}return this.options.style.fill},c.prototype.getTextStroke=function(t){var e=this.getTextFill(t),i=this.options,n=i.position,r=i.adjustColor;return"top"!==n&&r&&"black"!==e?null:void 0},c.prototype.getElementShapeBBox=function(t){var e=this,i=t.shape,n=[];return l.each(i.get("origin").points,function(t){n.push(e.coord.convertPoint(t))}),new r.default(n[0].x,n[1].y,Math.abs(n[2].x-n[0].x),Math.abs(n[0].y-n[1].y))},c.prototype.getTextAlign=function(t){return"center"},c.prototype.getTextBaseLine=function(t){return"middle"===this.options.position?"middle":"bottom"},c);function c(){return null!==n&&n.apply(this,arguments)||this}f.default=o,i.registerLabelComponent("column",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(1),o=i(2),h=i(0),g=i(86),a=i(300);function n(t){return Number(t.endsWith("%")?t.slice(0,-1):t)/100}e.CROOK_DISTANCE=4,e.percent2Number=n;var r=(s.prototype.adjustOverlap=function(t,r){for(var e=1;e<t.length;e++)for(var i=t[e],n=0,o=e-1;0<=o;o--){var a=t[o],s=a.getBBox(),l=i.getBBox();if(a.get("parent").get("visible")&&(n=g.getOverlapArea(s,l),!g.near(n,0))){i.get("parent").set("visible",!1);break}}t.forEach(function(t){return i=r,n=(e=t).getBBox(),void(i.y<=n.y&&i.y+i.height>=n.y+n.height||e.get("parent").set("visible",!1));var e,i,n})},s.prototype.adjustItem=function(t){},s.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},s.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},s.prototype.clear=function(){this.container&&this.container.clear()},s.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},s.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},s.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},s.prototype.drawTexts=function(){var o=this,t=this.options,a=t.style,s=t.formatter,i=t.autoRotate,l=t.offsetX,c=t.offsetY,e=t.adjustPosition,n=t.allowOverlap,r=this.getItems(),u=[];r.map(function(t,e){var i=h.deepMix({},t,a),n=s?s(t.name,{_origin:t.origin},e):t.name,r=o.container.addGroup({name:"itemGroup",index:e}).addShape("text",{attrs:h.deepMix({},i,{x:t.x+l,y:t.y+c,text:n})});r.set("id","text-"+t.name+"-"+e),u.push(r)}),u.forEach(function(t){var e=o.coordinateBBox;o.adjustText(t,e)}),e&&this.layout(u,r,this.coordinateBBox),n||this.adjustOverlap(u,this.coordinateBBox),u.forEach(function(t,e){i&&o.rotateLabel(t,g.getLabelRotate(r[e].angle))})},s.prototype.adjustText=function(e,t){var i=e.getBBox(),n=i.width;if(i.maxX>t.maxX?n=t.maxX-i.minX:i.minX<t.minX&&(n=i.maxX-t.minX),"left"===e.attr("textAlign")?e.attr("x",Math.max(+i.x,0)):"right"===e.attr("textAlign")&&e.attr("x",Math.max(+i.maxX,0)),n!==i.width){var r={};["fontSize","fontFamily","fontWeight"].forEach(function(t){r[t]=e.attr(t)});var o=e.attr("text").split("\n").map(function(t){return a.getEllipsisText(t,n,r)});e.attr("text",o.join("\n"))}},s.prototype.drawLines=function(){var l=this;if(this.options.line.visible){var t=this.container.get("children"),c=this.getCoordinate().center;t.forEach(function(t,e){var i=t.get("children")[0],n=l.arcPoints[e],r=n.x<c.x,o=4<l.options.offset?4:0,a=l.getLinePath(i,n,o),s=l.options.line;t.addShape("path",{attrs:u.__assign({path:a,stroke:n.color},s)}),i.attr("x",i.attr("x")+(r?-o:o))})}},s.prototype.getLinePath=function(t,e,i){var n=!!this.options.line&&this.options.line.smooth,r=e.angle,o=this.getCoordinate(),a=o.center,s=o.radius,l=g.getEndPoint(a,r,s+i);i<4&&(l=e);var c=e.x<a.x,u=t.getBBox(),h={x:c?u.maxX:u.minX,y:u.y+u.height/2},p=["C",h.x+(c?1:-1)*(i<4?i/2:4),h.y,2*l.x-e.x,2*l.y-e.y,l.x,l.y],f=["L",l.x,l.y],d=n?p:f;return["M",h.x,h.y].concat(d).concat("L",e.x,e.y).join(",")},s.prototype.getGeometry=function(){return this.plot.view.geometries[0]},s.prototype.getCoordinate=function(){var t=this.getGeometry().coordinate;return{center:t.getCenter(),radius:t.getRadius(),startAngle:t.startAngle}},s.prototype.adjustOption=function(t){var e=t.offset,i=this.getCoordinate().radius;h.isString(e)&&(e=i*n(e)),t.offset=e},s.prototype.rotateLabel=function(t,e){var i=t.attr("x"),n=t.attr("y"),r=o.transform(t.getMatrix(),[["t",-i,-n],["r",e],["t",i,n]]);t.setMatrix(r)},s.prototype.getItems=function(){var n=this,r=this.options.offset,t=this.getCoordinate(),o=t.center,a=t.radius;return this.arcPoints.map(function(t){var e=g.getEndPoint(o,t.angle,a+r),i=u.__assign(u.__assign({},t),e);return n.adjustItem(i),i})},s.prototype.initArcPoints=function(){var c=this,u=this.plot.options.angleField,t=this.getGeometry().elements,e=this.getCoordinate(),h=e.center,p=e.radius,f=this.getCoordinate().startAngle,d=this.getGeometry().scales[u],i=t.map(function(t){var e=t.shape.get("origin"),i=e.color,n=e.data[0]||e.data,r=f+2*Math.PI*d.scale(n[u]),o=(f+r)/2,a=g.getEndPoint(h,o,p);f=r;var s=""+n[u],l=a.x>h.x?"left":"right";return{x:a.x,y:a.y,color:i,name:s,origin:n,angle:g.getAngleByPoint(c.getGeometry().coordinate,a),textAlign:l}});this.arcPoints=i},s);function s(t,e){this.destroyed=!1,this.plot=t,this.coordinateBBox=this.plot.view.coordinateBBox;var i=h.deepMix(this.getDefaultOptions(),e,{});this.adjustOption(i),this.options=i,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DAY_FIELD="$$day$$",e.WEEK_FIELD="$$week$$",e.DATE_FIELD="$$date$$",e.IS_MONTH_CENTER_FIELD="$$is_month_center$$",e.FORMATTER="YYYY-MM-DD",e.MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.WEEKS=["S","M","T","W","T","F","S"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){return"[Event (type="+this.type+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},r);function r(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=function(t){var e=new c.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=r,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},e.subtract=a,e.multiply=s,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},e.distance=h,e.squaredDistance=p,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=g,e.cross=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],l=i[2];return t[0]=r*l-o*s,t[1]=o*a-n*l,t[2]=n*s-r*a,t},e.lerp=function(t,e,i,n){var r=e[0],o=e[1],a=e[2];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t[2]=a+n*(i[2]-a),t},e.hermite=function(t,e,i,n,r,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,c=a*(o-1),u=a*(3-2*o);return t[0]=e[0]*s+i[0]*l+n[0]*c+r[0]*u,t[1]=e[1]*s+i[1]*l+n[1]*c+r[1]*u,t[2]=e[2]*s+i[2]*l+n[2]*c+r[2]*u,t},e.bezier=function(t,e,i,n,r,o){var a=1-o,s=a*a,l=o*o,c=s*a,u=3*o*s,h=3*l*a,p=l*o;return t[0]=e[0]*c+i[0]*u+n[0]*h+r[0]*p,t[1]=e[1]*c+i[1]*u+n[1]*h+r[1]*p,t[2]=e[2]*c+i[2]*u+n[2]*h+r[2]*p,t},e.random=function(t,e){e=e||1;var i=2*c.RANDOM()*Math.PI,n=2*c.RANDOM()-1,r=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*r,t[1]=Math.sin(i)*r,t[2]=n*e,t},e.transformMat4=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[3]*n+i[7]*r+i[11]*o+i[15];return a=a||1,t[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/a,t[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/a,t[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/a,t},e.transformMat3=function(t,e,i){var n=e[0],r=e[1],o=e[2];return t[0]=n*i[0]+r*i[3]+o*i[6],t[1]=n*i[1]+r*i[4]+o*i[7],t[2]=n*i[2]+r*i[5]+o*i[8],t},e.transformQuat=function(t,e,i){var n=i[0],r=i[1],o=i[2],a=i[3],s=e[0],l=e[1],c=e[2],u=r*c-o*l,h=o*s-n*c,p=n*l-r*s,f=r*p-o*h,d=o*u-n*p,g=n*h-r*u,y=2*a;return u*=y,h*=y,p*=y,f*=2,d*=2,g*=2,t[0]=s+u+f,t[1]=l+h+d,t[2]=c+p+g,t},e.rotateX=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0],o[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),o[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},e.rotateY=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),o[1]=r[1],o[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},e.rotateZ=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),o[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),o[2]=r[2],t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},e.angle=function(t,e){var i=o(t[0],t[1],t[2]),n=o(e[0],e[1],e[2]);d(i,i),d(n,n);var r=g(i,n);return 1<r?0:r<-1?Math.PI:Math.acos(r)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var i=t[0],n=t[1],r=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(i-o)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-a)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))};var l,c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(72));function n(){var t=new c.ARRAY_TYPE(3);return c.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function r(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function o(t,e,i){var n=new c.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=i,n}function a(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function s(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function u(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function h(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}function p(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r}function f(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function d(t,e){var i=e[0],n=e[1],r=e[2],o=i*i+n*n+r*r;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=a,e.mul=s,e.div=u,e.dist=h,e.sqrDist=p,e.len=r,e.sqrLen=f,e.forEach=(l=n(),function(t,e,i,n,r,o){var a,s=void 0;for(e=e||3,i=i||0,a=n?Math.min(n*e+i,t.length):t.length,s=i;s<a;s+=e)l[0]=t[s],l[1]=t[s+1],l[2]=t[s+2],r(l,l,o),t[s]=l[0],t[s+1]=l[1],t[s+2]=l[2];return t})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(152);e.getBBoxMethod=n.getMethod;var r=i(153),o=i(154),a=i(155),s=i(156),l=i(157),c=i(159),u=i(163),h=i(164);n.register("rect",r.default),n.register("image",r.default),n.register("circle",o.default),n.register("marker",o.default),n.register("polyline",a.default),n.register("polygon",s.default),n.register("text",l.default),n.register("path",c.default),n.register("line",u.default),n.register("ellipse",h.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(98),a=i(158);function r(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,i){var n=1;return o.isString(t)&&(n=t.split("\n").length),1<n?e*n+r(e,i)*(n-1):e},e.getLineSpaceing=r,e.getTextWidth=function(t,e){var i=a.getOffScreenContext(),n=0;if(o.isNil(t)||""===t)return n;if(i.save(),i.font=e,o.isString(t)&&t.includes("\n")){var r=t.split("\n");o.each(r,function(t){var e=i.measureText(t).width;n<e&&(n=e)})}else n=i.measureText(t).width;return i.restore(),n},e.assembleFont=function(t){var e=t.fontSize,i=t.fontFamily,n=t.fontWeight;return[t.fontStyle,t.fontVariant,n,e+"px",i].join(" ").trim()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var w=i(165),O=/[a-z]/;function M(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){var e=w.default(t);if(!e||!e.length)return[["M",0,0]];for(var i=!1,n=0;n<e.length;n++){var r=e[n][0];if(O.test(r)||0<=["V","H","T","S"].indexOf(r)){i=!0;break}}if(!i)return e;var o=[],a=0,s=0,l=0,c=0,u=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(l=a=+h[1],c=s=+h[2],u++,o[0]=["M",a,s]),n=u;for(var p=e.length;n<p;n++){var f=e[n],d=o[n-1],g=[],y=(r=f[0]).toUpperCase();if(r!==y)switch(g[0]=y,y){case"A":g[1]=f[1],g[2]=f[2],g[3]=f[3],g[4]=f[4],g[5]=f[5],g[6]=+f[6]+a,g[7]=+f[7]+s;break;case"V":g[1]=+f[1]+s;break;case"H":g[1]=+f[1]+a;break;case"M":l=+f[1]+a,c=+f[2]+s;break;default:for(var v=1,m=f.length;v<m;v++)g[v]=+f[v]+(v%2?a:s)}else g=e[n];switch(y){case"Z":a=+l,s=+c;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var x=M([d[1],d[2]],[d[3],d[4]]);g=["Q",x[0],x[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var b=d.length,_=M([d[b-4],d[b-3]],[d[b-2],d[b-1]]);g=["C",_[0],_[1],g[1],g[2],a,s];break;case"M":l=g[g.length-2],c=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(166),o=i(22);e.default={box:function(t){for(var e=[],i=[],n=0;n<t.length;n++){var r=t[n];e.push(r[0]),i.push(r[1])}return o.getBBoxByArray(e,i)},length:function(t){return n.lengthOfSegment(t)},pointAt:function(t,e){return n.pointAtSegments(t,e)},pointDistance:function(t,e,i){return n.distanceAtSegment(t,e,i)},tangentAngle:function(t,e){return n.angleAtSegments(t,e)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(61),n=i(98),r=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function l(t,e,i){i.name=e,i.target=t,i.currentTarget=t,(i.delegateTarget=t).emit(e,i)}function c(t,e,i){if(i.bubbles){var n=void 0,r=!1;if("mouseenter"===e||"dragenter"===e?(n=i.fromShape,r=!0):"mouseleave"!==e&&"dragleave"!==e||(r=!0,n=i.toShape),t.isCanvas()&&r)return;if(n&&function(t,e){if(t.isCanvas())return 1;for(var i=e.getParent(),n=!1;i;){if(i===t){n=!0;break}i=i.getParent()}return n}(t,n))return i.bubbles=!1;i.name=e,i.currentTarget=t,(i.delegateTarget=t).emit(e,i)}}var o=(a.prototype.init=function(){this._bindEvents()},a.prototype._bindEvents=function(){var e=this,i=this.canvas.get("el");n.each(r,function(t){i.addEventListener(t,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._clearEvents=function(){var e=this,i=this.canvas.get("el");n.each(r,function(t){i.removeEventListener(t,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._getEventObj=function(t,e,i,n,r,o){var a=new s.default(t,e);return a.fromShape=r,a.toShape=o,a.x=i.x,a.y=i.y,a.clientX=i.clientX,a.clientY=i.clientY,a.propagationPath.push(n),a},a.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},a.prototype._getPointInfo=function(t){var e,i=this.canvas,n=((e=t).touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{clientX:e.clientX,clientY:e.clientY}),r=i.getPointByClient(n.clientX,n.clientY);return{x:r.x,y:r.y,clientX:n.clientX,clientY:n.clientY}},a.prototype._triggerEvent=function(t,e){var i=this._getPointInfo(e),n=this._getShape(i,e),r=this["_on"+t],o=!1;if(r)r.call(this,i,n,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,i,null,null,n),n&&this._emitEvent(t,e,i,n,null,n),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,i,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,i,a,a,null),this._emitEvent(t,e,i,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,i,null)):this._emitEvent(t,e,i,n,null,null)}if(o||(this.currentShape=n),n&&!n.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=n.attr("cursor")||s.get("cursor")}},a.prototype._onmousedown=function(t,e,i){0===i.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=i.timeStamp),this._emitEvent("mousedown",i,t,e,null,null)},a.prototype._emitMouseoverEvents=function(t,e,i,n){var r=this.canvas.get("el");i!==n&&(i&&(this._emitEvent("mouseout",t,e,i,i,n),this._emitEvent("mouseleave",t,e,i,i,n),n&&!n.get("destroyed")||(r.style.cursor=this.canvas.get("cursor"))),n&&(this._emitEvent("mouseover",t,e,n,i,n),this._emitEvent("mouseenter",t,e,n,i,n)))},a.prototype._emitDragoverEvents=function(t,e,i,n,r){n?(n!==i&&(i&&this._emitEvent("dragleave",t,e,i,i,n),this._emitEvent("dragenter",t,e,n,i,n)),r||this._emitEvent("dragover",t,e,n)):i&&this._emitEvent("dragleave",t,e,i,i,n),r&&this._emitEvent("dragover",t,e,n)},a.prototype._afterDrag=function(t,e,i){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(e,i);n!==t&&this._emitMouseoverEvents(i,e,t,n),this.currentShape=n},a.prototype._onmouseup=function(t,e,i){if(0===i.button){var n=this.draggingShape;this.dragging?(n&&this._emitEvent("drop",i,t,e),this._emitEvent("dragend",i,t,n),this._afterDrag(n,t,i)):(this._emitEvent("mouseup",i,t,e),e===this.mousedownShape&&this._emitEvent("click",i,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},a.prototype._ondragover=function(t,e,i){i.preventDefault();var n=this.currentShape;this._emitDragoverEvents(i,t,n,e,!0)},a.prototype._onmousemove=function(t,e,i){var n=this.canvas,r=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(i,t,r,e,!1),this._emitEvent("drag",i,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,l=i.timeStamp-this.mousedownTimeStamp,c=a.clientX-t.clientX,u=a.clientY-t.clientY;120<l||40<c*c+u*u?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",i,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&n.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",i,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(i,t,r,e),this._emitEvent("mousemove",i,t,e)):(this._emitMouseoverEvents(i,t,r,e),this._emitEvent("mousemove",i,t,e))}else this._emitMouseoverEvents(i,t,r,e),this._emitEvent("mousemove",i,t,e)}},a.prototype._emitEvent=function(t,e,i,n,r,o){var a=this._getEventObj(t,e,i,n,r,o);if(n){l(a.shape=n,t,a);for(var s=n.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||c(s,t,a),a.propagationPath.push(s),s=s.getParent()}else l(this.canvas,t,a)},a.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},a);function a(t){var i=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var e=t.type;i._triggerEvent(e,t)},this._onDocumentMove=function(t){if(i.canvas.get("el")!==t.target&&(i.dragging||i.currentShape)){var e=i._getPointInfo(t);i.dragging&&i._emitEvent("drag",t,e,i.draggingShape)}},this._onDocumentMouseUp=function(t){if(i.canvas.get("el")!==t.target&&i.dragging){var e=i._getPointInfo(t);i.draggingShape&&i._emitEvent("drop",t,e,null),i._emitEvent("dragend",t,e,i.draggingShape),i._afterDrag(i.draggingShape,e,t)}},this.canvas=t.canvas}e.default=o},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return c}),i(25);var n=i(17),r=i.n(n);function o(t,e){for(var i=[],n=0,r=t.length;n<r-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4===n?o[3]={x:+t[0],y:+t[1]}:r-2===n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}i(23),i(145),i(0);var a="\t\n\v\f\r   ᠎             　\u2028\u2029",s=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig");function c(t){if(!t)return null;if(r()(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(l,function(t,e){e&&n.push(+e)}),"m"===r&&2<n.length&&(a.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===n.length&&a.push([e,n[0]]),"r"===r)a.push([e].concat(n));else for(;n.length>=o[r]&&(a.push([e].concat(n.splice(0,o[r]))),o[r]););return""}),a}i(42),i(41)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={}.toString;e.default=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,i){"use strict";function r(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,n){return e&&r(t,e),i&&r(t,i),n&&r(t,n),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(151);e.default=function(t){var e=n.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*r},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var r=Math.PI/180},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,i){"use strict";function r(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeBBox=r,e.mergeArrowBBox=function(t,e){var i=t.get("startArrowShape"),n=t.get("endArrowShape");return i&&(e=r(e,i.getCanvasBBox())),n&&(e=r(e,n.getCanvasBBox())),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(172);e.Attribute=r.default;function o(t){return a[t.toLowerCase()]}var a={};e.getAttribute=o,e.registerAttribute=function(t,e){if(o(t))throw new Error("Attribute type '"+t+"' existed.");a[t.toLowerCase()]=e},n.__exportStar(i(173),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=["start","process","end","reset"],n=(a.prototype._getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},a.prototype._start=function(t){this.preStart(t),this.start(t),this.afterStart(t)},a.prototype.preStart=function(t){},a.prototype.afterStart=function(t){},a.prototype._process=function(t){this.preProcess(t),this.process(t),this.afterProcess(t)},a.prototype.preProcess=function(t){},a.prototype.process=function(t){},a.prototype.afterProcess=function(t){},a.prototype._end=function(t){this.preEnd(t),this.end(t),this.afterEnd(t)},a.prototype.preEnd=function(t){},a.prototype.end=function(t){},a.prototype.afterEnd=function(t){},a.prototype._reset=function(t){this.preReset(t),this.reset(t),this.afterReset(t)},a.prototype.preReset=function(t){},a.prototype.reset=function(t){},a.prototype.afterReset=function(t){},a.prototype._bindEvents=function(){var n=this;r.each(o,function(t){var e=n[t+"Event"],i=r.wrapBehavior(n,"_"+t);n.view.on(e,i),n._eventHandlers.push({type:e,handler:i})})},a.prototype._unbindEvents=function(){var e=this,t=this._eventHandlers;r.each(t,function(t){e.view.off(t.type,t.handler)})},a.prototype.destroy=function(){this._unbindEvents(),this._reset()},a);function a(t){var e=this._getDefaultCfg();r.assign(this,e,t),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}e.default=n},function(t,f,e){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var i=e(1).__importStar(e(2)),s=e(0),w=i.vec2;function v(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function a(t,e){for(var i=[t[0]],n=1,r=t.length;n<r;n+=2){var o=e.convertPoint({x:t[n],y:t[n+1]});i.push(o.x,o.y)}return i}function l(t,e,i){for(var n=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);var s,l,c,u=f.smoothBezier(r,.4,n,i),h=r.length,p=[];for(o=0;o<h-1;o++)s=u[2*o],l=u[2*o+1],c=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return n&&(s=u[h],l=u[h+1],c=r[0],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),p}function c(t,e){return function(t,e){var i=[];if(t.length){for(var n=0,r=t.length;n<r;n+=1){var o=t[n],a=0===n?"M":"L";i.push([a,o.x,o.y])}e&&i.push(["Z"])}return i}(t,e)}f.smoothBezier=function(t,e,i,n){var r,o,a,s,l=[],c=!!n;if(c){a=[1/0,1/0],s=[-1/0,-1/0];for(var u=0,h=t.length;u<h;u++){var p=t[u];a=w.min([],a,p),s=w.max([],s,p)}a=w.min([],a,n[0]),s=w.max([],s,n[1])}u=0;for(var f=t.length;u<f;u++){if(p=t[u],i)r=t[u?u-1:f-1],o=t[(u+1)%f];else{if(0===u||u===f-1){l.push(p);continue}r=t[u-1],o=t[u+1]}var d=[];d=w.sub(d,o,r),d=w.scale(d,d,e);var g=w.distance(p,r),y=w.distance(p,o),v=g+y;0!==v&&(g/=v,y/=v);var m=w.scale([],d,-g),x=w.scale([],d,y),b=w.add([],p,m),_=w.add([],p,x);c&&(b=w.max([],b,a),b=w.min([],b,s),_=w.max([],_,a),_=w.min([],_,s)),l.push(b),l.push(_)}return i&&l.push(l.shift()),l},f.catmullRom2bezier=l,f.getLinePath=c,f.getSplinePath=function(t,e,i){var n=[],r=t[0],o=null;if(t.length<=2)return c(t,e);s.each(t,function(t){o&&o.x===t.x&&o.y===t.y||(n.push(t.x),n.push(t.y),o=t)});var a=l(n,e,i||[[0,0],[1,1]]);return a.unshift(["M",r.x,r.y]),a},f.getPointRadius=function(t,e){return v(t,e)},f.getPointAngle=function(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)},f.convertNormalPath=function(e,t){var i=[];return s.each(t,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":i.push(a(t,e));break;case"z":default:i.push(t)}}),i},f.convertPolarPath=function(i,n){var g,y,r,o=[];return s.each(n,function(t,e){switch(t[0].toLowerCase()){case"m":case"c":case"q":o.push(a(t,i));break;case"l":g=n[e-1],y=t,(i.isTransposed?g[g.length-2]===y[1]:g[g.length-1]===y[2])?o=o.concat(function(t){var e=t.isTransposed,i=t.startAngle,n=t.endAngle,r={x:g[1],y:g[2]},o={x:y[1],y:y[2]},a=[],s=e?"y":"x",l=Math.abs(o[s]-r[s])*(n-i),c=r[s]<=o[s]?1:0,u=l>Math.PI?1:0,h=t.convertPoint(o),p=v(t,h);if(.5<=p)if(l==2*Math.PI){var f={x:(o.x+r.x)/2,y:(o.y+r.y)/2},d=t.convertPoint(f);a.push(["A",p,p,0,u,c,d.x,d.y]),a.push(["A",p,p,0,u,c,h.x,h.y])}else a.push(["A",p,p,0,u,c,h.x,h.y]);return a}(i)):o.push(a(t,i));break;case"z":default:o.push(t)}}),r=o,s.each(r,function(t,e){if("a"===t[0].toLowerCase()){var i=r[e-1],n=r[e+1];n&&"a"===n[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M")}}),o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(46)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),t.lineStyle&&this.parseStyle()},s.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};o.isFunction(t)?e.callback=t:e.values=[t],this.config.size=e},s.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),o.has(t,"color")){var i=t.color;o.isString(i)?e.values=[i]:o.isFunction(i)?e.callback=i:e.values=i}this.config.color=e},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle,i={fields:null,callback:null,cfg:null};o.isFunction(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(115),a=i(116),o=(s.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},s.prototype._iteration=function(){var t;"shape"===(this.nodes.type,(t=this.nodes).type)&&t.measureNodes(),this.rules&&this._applyRules(),"shape"===t.type&&t.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},s.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},s.prototype._run=function(){for(var t=this._constraintsTest();!(t||this.iterationIndex>this.iterationTime-1);)this._iteration(),t=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},s.prototype._constraintsTest=function(){var t=r.constraintsLib[this.currentConstraint.name],e=this.currentConstraint.option;return"compare"===t.usage?this._constraintCompare(t,e):this._constraintAssignment(t,e)},s.prototype._constraintCompare=function(t,e){var i=t.type,n=t.expression,r=this.nodes.nodes;return"chain"===i?this._chainConstraintCompare(n,r,e):"padding"===i?this._paddingConstraintCompare(n,this.region,r,e):"group"===i?this._groupConstraintCompare(n,r,e):void 0},s.prototype._chainConstraintCompare=function(t,e,i){for(var n=0;n<e.length-1;n++)if(!1===t(e[n],e[n+1],i))return!1;return!0},s.prototype._paddingConstraintCompare=function(t,e,i,n){if(e)for(var r=0,o=i;r<o.length;r++)if(!1===t(o[r],e,n))return!1;return!0},s.prototype._groupConstraintCompare=function(t,e,i){for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<e.length;o++)if(o!==n&&!1===t(r,e[o],i))return!1;return!0},s.prototype._constraintAssignment=function(t,e){var i=t.type,n=t.expression,r=this.nodes.nodes;return"chain"===i?this._chainConstraintAssign():"padding"===i?this._paddingConstraintAssign(n,this.region,r,e):void 0},s.prototype._chainConstraintAssign=function(){return!0},s.prototype._paddingConstraintAssign=function(t,e,i,n){if(e)for(var r=0,o=i;r<o.length;r++){var a=o[r],s=t(a,e,n);a.value=s}return!0},s.prototype._applyRules=function(){for(var t=this.rules[this.currentConstraint.name][this.iterationIndex],e=a.rulesLib[t.name],i=t.option?t.option:{},n=this.nodes.nodes,r=0;r<n.length;r++){var o=n[r];this._applyRule(o.shape,e,i,r)}},s.prototype._applyRule=function(t,e,i,n){e(t,i,n,{nodes:this.nodes,region:this.region,plot:this.plot})},s);function s(t){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,n.assign(this,t),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=i(4),a=n.__importDefault(i(57));i(267);var s,l=i(34),c=(s=a.default,n.__extends(u,s),u.getDefaultOptions=function(){return r.deepMix({},s.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,offset:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},u.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},u.prototype.renderLabel=function(){var t=this.config.scales[this.options.yField];if(this.options.label&&this.options.label.visible){var e=l.getGeometryByType(this.view,"interval");this.doRenderLabel(e,n.__assign({type:"stacked-bar",formatter:t.formatter},this.options.label))}},u.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},u);function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.type="stackedBar",t}e.default=c,o.registerPlotType("stackedBar",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),s=i(0);e.transformDataPercentage=function(t,n,a){var e=s.groupBy(t,n);e=s.mapValues(e,function(t){return s.map(t,function(e){return s.map(a,function(t){return e[t]})})}),e=s.mapValues(e,s.flatten),e=s.mapValues(e,function(t){return s.map(t,function(t){var e=Number.parseFloat(t);return!s.isNumber(e)||isNaN(e)?0:e})});var r=s.mapValues(e,function(t){return s.reduce(t,function(t,e){return t+e},0)}),i=s.map(t,function(e){var i=o.__assign(o.__assign({},e),{_origin:e,total:r[e[n]]});return s.each(a,function(t){i[t]=e[t]/r[e[n]]}),i});return s.each(s.groupBy(i,n),function(r){var o=0;s.each(r,function(i,n){s.each(a,function(t,e){(1<=o+i[t]||n===r.length-1&&e===a.length-1)&&(i[t]=1-o),o+=i[t]})})}),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=i(0),r=i(4),a=o.__importDefault(i(9)),s=i(13);i(124);var l=i(21),c=o.__importDefault(i(275)),u=o.__importStar(i(277));i(278);var h,p=i(34),f={area:"area",line:"line",point:"point"},d=(h=a.default,o.__extends(g,h),g.getDefaultOptions=function(){return n.deepMix({},h.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},g.prototype.beforeInit=function(){h.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},g.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),h.prototype.afterRender.call(this)},g.prototype.geometryParser=function(t,e){return f[e]},g.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},n.has(t,"xAxis")&&l.extractScale(e[t.xField],t.xAxis),e[t.yField]={},n.has(t,"yAxis")&&l.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),h.prototype.scale.call(this)},g.prototype.coord=function(){return null},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},g.prototype.adjustArea=function(t){},g.prototype.adjustLine=function(t){},g.prototype.adjustPoint=function(t){},g.prototype.addLine=function(){var t=this.options,e=n.deepMix({},t.line);if(e.visible){var i=s.getGeom("line","guide",{type:"line",plot:this,line:e});this.adjustLine(i),this.setConfig("geometry",i),this.line=i}},g.prototype.addPoint=function(){var t=this.options;if(n.deepMix({},t.point).visible){var e=s.getGeom("point","guide",{plot:this});this.adjustPoint(e),this.setConfig("geometry",e),this.point=e}},g.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,i=e.label,n=t[e.yField];if(i.visible){var r=p.getGeometryByType(this.view,"line");this.doRenderLabel(r,o.__assign({type:"point",formatter:n.formatter},this.options.label))}},g.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},g.prototype.label=function(){},g.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},g.prototype.parseEvents=function(){h.prototype.parseEvents.call(this,u)},g.prototype.applyResponsive=function(t){var e=this,i=c.default[t];n.each(i,function(t){t.method(e)})},g);function g(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="area",t}e.default=d,r.registerPlotType("area",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=r.__importDefault(i(83)),l=i(280),c=(n=s.default,r.__extends(u,n),u.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},u.prototype.beforeInit=function(){var t=o.get(this.options,["label","visible"]),e=o.get(this.options,["label","type"]),i=this.options;t&&("line"===e&&(i.lineLabel=this.options.label),"area"===e&&(i.areaLabel=this.options.label)),n.prototype.beforeInit.call(this)},u.prototype.label=function(){if(!1===this.options.label.visible)return this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),void(this.area.label=!1)},u.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},u.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},u.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},u.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,n.prototype.afterRender.call(this)},u.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},u.prototype.renderPlotComponents=function(){var n=this;o.each(["areaLabel","lineLabel"],function(t){var e=r.__assign({view:n.view,plot:n},n.options[t]),i=l.getPlotComponents(n,t,e);i&&(i.render(),n.plotComponents.push(i))})},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t}e.default=c,a.registerPlotType("stackedArea",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=i(0),r=i(4),a=o.__importDefault(i(292)),s=o.__importDefault(i(48));i(133);var l,c=i(34),u=(l=s.default,o.__extends(h,l),h.getDefaultOptions=function(){return n.deepMix({},l.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},h.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),l.prototype.init.call(this)},h.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new a.default(o.__assign({view:this.view,field:t.stackField,animation:!1!==t.animation},t.connectedArea))),l.prototype.afterRender.call(this)},h.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},h.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,i=e.label,n=t[e.yField];if(i&&i.visible){var r=c.getGeometryByType(this.view,"interval");this.doRenderLabel(r,o.__assign({type:"stacked-column",formatter:n.formatter},this.options.label))}},h.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},h);function h(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="stackedColumn",t}e.default=u,r.registerPlotType("stackedColumn",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEndPoint=function(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}},e.getCenter=function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},e.getOverlapArea=function(t,e,i){return void 0===i&&(i=0),Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i))*Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i))},e.getOverlapInfo=function(t,e,i){void 0===i&&(i=0);var n=Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i)),r=Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i));return n&&t.x<e.x&&(n=-n),r&&t.y<e.y&&(r=-r),t.x===e.x&&t.width===e.width&&(n=e.width),t.y===e.y&&t.height===e.height&&(r=e.height),{xOverlap:n,yOverlap:r}},e.inPanel=function(t,e){return t.x<e.x&&t.x+t.width>e.x+e.width&&t.y<e.y&&t.y+t.height>e.y+e.height},e.near=function(t,e,i){return void 0===i&&(i=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<i},e.getAngleByPoint=function(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)},e.getLabelRotate=function(t){var e=Math.PI/2,i=t;return(e<i||i<-e)&&(i+=Math.PI),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),a=i(0),r=i(4),s=n.__importDefault(i(9)),l=i(18),c=i(13),u=n.__importStar(i(324)),h={rose:"interval"},p={rose:"column"},f=(o=s.default,n.__extends(d,o),d.getDefaultOptions=function(){return a.deepMix({},o.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},d.prototype.getOptions=function(t){var e=o.prototype.getOptions.call(this,t),i=t.sectorStyle,n=t.categoryField,r=t.radiusField;return a.deepMix({},e,{columnStyle:i,xField:n,yField:r})},d.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},d.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},d.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},d.prototype.addGeometry=function(){var t=this.options,e=c.getGeom("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},d.prototype.adjustRoseAdjust=function(){},d.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},d.prototype.animation=function(){o.prototype.animation.call(this),!1===this.options.animation&&(this.rose.animate=!1)},d.prototype.annotation=function(){},d.prototype.parseEvents=function(){o.prototype.parseEvents.call(this,u)},d.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=a.deepMix({},t.label);this.adjustLabelOptions(e);var i=[t.categoryField,t.radiusField];return l.getComponent("label",n.__assign({plot:this,labelType:"polar",fields:i},e))},d.prototype.adjustLabelOptions=function(t){var i=this.options.radiusField;if(t){var e=t.offset,n=t.type,r=t.content;"inner"===n?t.offset=e<0?e:-10:"outer"===n&&(t.offset=0<=e?e:10),r||(t.content=function(t,e){return""+e._origin[i]})}},d);function d(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="rose",t}e.default=f,r.registerPlotType("rose",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(1),u=i(0);e.getStyle=function(t,e,i,n){void 0===n&&(n="");var r=t.style,o=t.defaultStyle,a=t.color,s=t.size,l=c.__assign(c.__assign({},o),r);return a&&(e&&(u.get(r,"stroke")||(l.stroke=a)),i&&(u.get(r,"fill")||(l.fill=a))),n&&u.isNil(u.get(r,n))&&!u.isNil(s)&&(l[n]=s),l}},function(t,h,e){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var s=e(1),p=e(0),i=e(4);e(359);var n=s.__importDefault(e(9)),r=e(21),o=e(18),a=s.__importStar(e(360));e(361);var l=s.__importDefault(e(362)),c=e(34),u={waterfall:"interval"},f={interval:"waterfall"};h.VALUE_FIELD="$$value$$",h.IS_TOTAL="$$total$$";var d,g=(d=n.default,s.__extends(y,d),y.getDefaultOptions=function(){return p.deepMix({},d.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"总计值"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},y.prototype.getOptions=function(t){var e=d.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},y.prototype.afterInit=function(){d.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new l.default({view:this.view,fields:[t.xField,t.yField,h.VALUE_FIELD],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},y.prototype.afterRender=function(){d.prototype.afterRender.call(this);var a=this.options;this.view.on("tooltip:change",function(t){for(var e=t.items,i=0;i<e.length;i++){var n=e[i],r=p.get(n,"data",{});if(n.name=r[a.xField],n.value=r[a.yField],!n.value&&r[h.IS_TOTAL]){var o=r[h.VALUE_FIELD];n.value=o[0]-o[1]}t.items[i]=n}}),this.renderLabel()},y.prototype.renderLabel=function(){var t=c.getGeometryByType(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,s.__assign({type:"waterfall"},this.options.label))},y.prototype.geometryParser=function(t,e){return"g2"===t?u[e]:f[e]},y.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},y.prototype.addGeometry=function(){var t={type:"interval",position:{fields:[this.options.xField,h.VALUE_FIELD]},shape:{values:["waterfall"]}};t.style=this._parseStyle(),t.color=this._parseColor(),this.waterfall=t,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",t)},y.prototype.processData=function(t){var e,o=[],i=this.options.xField,a=this.options.yField;if(p.map(t,function(t,e){var i,n=t[a];if(0<e){var r=o[e-1][h.VALUE_FIELD];n=p.isArray(r)?[r[1],t[a]+r[1]]:[r,t[a]+r]}o.push(s.__assign(s.__assign({},t),((i={})[h.VALUE_FIELD]=n,i.$$index$$=e,i)))}),this.options.showTotal&&this.options.showTotal.visible){var n=p.map(t,function(t){return t[a]}),r=p.reduce(n,function(t,e){return t+e},0);o.push(((e={})[i]=this.options.showTotal.label,e[a]=null,e[h.VALUE_FIELD]=[r,0],e.$$index$$=o.length,e[h.IS_TOTAL]=!0,e))}return o},y.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},p.has(t,"xAxis")&&r.extractScale(e[t.xField],t.xAxis),e[h.VALUE_FIELD]={},p.has(t,"yAxis")&&r.extractScale(e[h.VALUE_FIELD],t.yAxis),this.setConfig("scales",e)},y.prototype.axis=function(){var t=o.getComponent("axis",{plot:this,dim:"x"}),e=o.getComponent("axis",{plot:this,dim:"y"}),i={fields:{}};i.fields[this.options.xField]=t,i.fields[h.VALUE_FIELD]=e,this.setConfig("axes",i)},y.prototype.coord=function(){},y.prototype.parseEvents=function(){d.prototype.parseEvents.call(this,a)},y.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,h.VALUE_FIELD]))},y.prototype._parseStyle=function(){var i=this.options.waterfallStyle,n=this.options.leaderLine,t={};return p.isFunction(i)?t.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign({},i.apply(void 0,t),{leaderLine:n})}:t.cfg=s.__assign(s.__assign({},i),{leaderLine:n}),t},y.prototype._parseColor=function(){var r=this,t=this.options,e=this.options,i={fields:[e.xField,e.yField,h.VALUE_FIELD,"$$index$$"]};if(p.isFunction(t.color))i.callback=t.color;else{var o="#f4664a",a="#30bf78",s="rgba(0, 0, 0, 0.25)";if(p.isString(t.color))o=a=s=t.color;else if(p.isObject(t.color)){var n=t.color,l=n.rising,c=n.falling,u=n.total;o=l,a=c,s=u}i.callback=function(t,e,i,n){return n===r.options.data.length?s||(0<=i[0]?o:a):0<=(p.isArray(i)?i[1]-i[0]:i)?o:a}}return i},y.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},y.prototype.adjustMeta=function(t){var e=t.meta;if(e){var i=e?e[t.yField]:{};i.alias=i.alias||t.yField,t.meta[h.VALUE_FIELD]=i}},y);function y(){var t=null!==d&&d.apply(this,arguments)||this;return t.type="watarfall",t}h.default=g,i.registerPlotType("waterfall",g)},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1),r=e(0),o=n.__importDefault(e(30)),a=e(60);function s(t,e){return t.setMilliseconds(t.getMilliseconds()+e),t}i.DAY_MS=864e5,i.getDateRange=function(t){var e=n.__spreadArrays(t).sort(function(t,e){return t.getTime()-e.getTime()});return[o.default.format(r.head(e),a.FORMATTER),o.default.format(r.last(e),a.FORMATTER)]},i.getYearRange=function(t){var e=t||new Date;return[o.default.format(new Date(e.getFullYear(),0,1),a.FORMATTER),o.default.format(new Date(e.getFullYear(),11,30),a.FORMATTER)]},i.isLastWeekOfMonth=function(t){return t.getMonth()!==s(new Date(t),7*i.DAY_MS).getMonth()},i.isLastDayOfMonth=function(t){return t.getMonth()!==s(new Date(t),i.DAY_MS).getMonth()},i.getWeek=function(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-e.getTime())/i.DAY_MS+e.getDay()+1)/7)},i.getDay=function(t){return t.getDay()},i.advanceBy=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h,n=i(1),r=i(0),o=i(4),a=n.__importDefault(i(9)),s=i(21),l=i(140),c=n.__importStar(i(384)),u=(h=a.default,n.__extends(p,h),p.getDefaultOptions=function(){return r.deepMix({},h.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},p.prototype.init=function(){var t=this.options,e=t.value,i=(t.range||[]).map(function(t){return+t}).sort(function(t,e){return t-e}),n=this.options,r=n.min,o=void 0===r?i[0]:r,a=n.max,s=void 0===a?i[i.length-1]:a,l=n.format,c=void 0===l?function(t){return""+t}:l,u=c(e);this.options.data=[{value:e||0}],this.options.valueText=u,this.options.min=o,this.options.max=s,this.options.format=c,this.initG2Shape(),h.prototype.init.call(this)},p.prototype.initG2Shape=function(){this.gaugeShape=new l.GaugeShape(r.uniqueId()),this.gaugeShape.setOption(this.type,r.deepMix({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},p.prototype.geometryParser=function(){return"gauge"},p.prototype.scale=function(){var t=this.options,e=t.min,i=t.max,n=t.format,r={value:{}};s.extractScale(r.value,{min:e,max:i,minLimit:e,maxLimit:i,nice:!0,formatter:n,tickInterval:20}),this.setConfig("scales",r),h.prototype.scale.call(this)},p.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},p.prototype.axis=function(){var t,e=this.options.axis,i={value:{line:null,grid:null,tickLine:null}};t=e.offset<0?e.offset-this.options.rangeSize-e.tickLine.length:e.offset+e.tickLine.length,e.label.visible?i.value.label={offset:t,textStyle:e.label.style,autoRotate:!0}:i.value.label={style:{opacity:0}},i[1]=!1,this.setConfig("axes",i)},p.prototype.addGeometry=function(){var t={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[this.options.pivot.pointer.style.fill||this.theme.defaultColor]}};this.setConfig("geometry",t)},p.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var i=this.renderStatistic();e.push(i)}this.setConfig("annotations",e)},p.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic;return{type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:1.2*t,textAlign:"center",textBaseline:"middle"}}},p.prototype.parseEvents=function(){h.prototype.parseEvents.call(this,c)},p);function p(t){var e=h.call(this,t)||this;return e.type="gauge",e}e.default=u,o.registerPlotType("gauge",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(14),p=i(22),l=i(99);function f(t,e,i,n){var r=1-n;return r*r*t+2*n*r*e+n*n*i}function u(t,e,i){var n=t+i-2*e;if(p.isNumberEqual(n,0))return[.5];var r=(t-e)/n;return r<=1&&0<=r?[r]:[]}function d(t,e,i,n){return 2*(1-n)*(e-t)+2*n*(i-e)}function g(t,e,i,n,r,o,a){var s=f(t,i,r,a),l=f(e,n,o,a),c=h.default.pointAt(t,e,i,n,a),u=h.default.pointAt(i,n,r,o,a);return[[t,e,c.x,c.y,s,l],[s,l,u.x,u.y,r,o]]}e.default={box:function(t,e,i,n,r,o){var a=u(t,i,r)[0],s=u(e,n,o)[0],l=[t,r],c=[e,o];return void 0!==a&&l.push(f(t,i,r,a)),void 0!==s&&c.push(f(e,n,o,s)),p.getBBoxByArray(l,c)},length:function(t,e,i,n,r,o){return function t(e,i,n,r,o,a,s){if(0===s)return(p.distance(e,i,n,r)+p.distance(n,r,o,a)+p.distance(e,i,o,a))/2;var l=g(e,i,n,r,o,a,.5),c=l[0],u=l[1];return c.push(s-1),u.push(s-1),t.apply(null,c)+t.apply(null,u)}(t,e,i,n,r,o,3)},nearestPoint:function(t,e,i,n,r,o,a,s){return l.nearestPoint([t,i,r],[e,n,o],a,s,f)},pointDistance:function(t,e,i,n,r,o,a,s){var l=this.nearestPoint(t,e,i,n,r,o,a,s);return p.distance(l.x,l.y,a,s)},interpolationAt:f,pointAt:function(t,e,i,n,r,o,a){return{x:f(t,i,r,a),y:f(e,n,o,a)}},divide:function(t,e,i,n,r,o,a){return g(t,e,i,n,r,o,a)},tangentAngle:function(t,e,i,n,r,o,a){var s=d(t,i,r,a),l=d(e,n,o,a),c=Math.atan2(l,s);return p.piMod(c)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var R=i(100),N=i(100),Y=i(162);function G(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}e.default=function(t){for(var e=[],i=null,n=null,r=null,o=0,a=(t=Y.default(t)).length,s=0;s<a;s++){var l=t[s];n=t[s+1];var c=l[0],u={command:c,prePoint:i,params:l,startTangent:null,endTangent:null};switch(c){case"M":r=[l[1],l[2]],o=s;break;case"A":var h=R.default(i,l);u.arcParams=h}if("Z"===c)i=r,n=t[o+1];else{var p=l.length;i=[l[p-2],l[p-1]]}n&&"Z"===n[0]&&(n=t[o],e[o]&&(e[o].prePoint=i)),u.currentPoint=i,e[o]&&N.isSamePoint(i,e[o].currentPoint)&&(e[o].prePoint=u.prePoint);var f=n?[n[n.length-2],n[n.length-1]]:null;u.nextPoint=f;var d=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[d[0]-i[0],d[1]-i[1]],u.endTangent=[i[0]-d[0],i[1]-d[1]];else if("Q"===c){var g=[l[1],l[2]];u.startTangent=[d[0]-g[0],d[1]-g[1]],u.endTangent=[i[0]-g[0],i[1]-g[1]]}else if("T"===c)g=G((m=e[s-1]).currentPoint,d),"Q"===m.command?(u.command="Q",u.startTangent=[d[0]-g[0],d[1]-g[1]],u.endTangent=[i[0]-g[0],i[1]-g[1]]):(u.command="TL",u.startTangent=[d[0]-i[0],d[1]-i[1]],u.endTangent=[i[0]-d[0],i[1]-d[1]]);else if("C"===c){var y=[l[1],l[2]],v=[l[3],l[4]];u.startTangent=[d[0]-y[0],d[1]-y[1]],u.endTangent=[i[0]-v[0],i[1]-v[1]]}else if("S"===c){var m;y=G((m=e[s-1]).currentPoint,d),v=[l[1],l[2]],"C"===m.command?(u.command="C",u.startTangent=[d[0]-y[0],d[1]-y[1]]):(u.command="SQ",u.startTangent=[d[0]-v[0],d[1]-v[1]]),u.endTangent=[i[0]-v[0],i[1]-v[1]]}else if("A"===c){var x=.001,b=u.arcParams||{},_=b.rx,w=void 0===_?0:_,O=b.ry,M=void 0===O?0:O,C=b.xRotation,S=void 0===C?0:C,j=b.arcFlag,A=void 0===j?0:j,P=b.sweepFlag,T=b.startAngle,L=void 0===T?0:T,k=b.endAngle,E=void 0===k?0:k;0===(void 0===P?0:P)&&(x*=-1);var D=S*Math.cos(L-x)+w,B=A*Math.sin(L-x)+M;u.startTangent=[D-r[0],B-r[1]];var F=S*Math.cos(L+E+x)+w,I=A*Math.sin(L+E-x)+M;u.endTangent=[d.x-F,d.y-I]}e.push(u)}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(61);e.propagationDelegate=function(t,e,i){var n=new o.default(e,i);n.target=t,n.propagationPath.push(t),t.emitDelegation(e,n);for(var r=t.getParent();r;)r.emitDelegation(e,n),n.propagationPath.push(r),r=r.getParent()}},function(t,e,i){"use strict";i.r(e),i.d(e,"version",function(){return ue}),i.d(e,"Event",function(){return r.Event}),i.d(e,"Canvas",function(){return ce}),i.d(e,"Group",function(){return nt}),i.d(e,"Shape",function(){return n});var n={};i.r(n),i.d(n,"Base",function(){return rt}),i.d(n,"Circle",function(){return ot}),i.d(n,"Ellipse",function(){return ht}),i.d(n,"Image",function(){return gt}),i.d(n,"Line",function(){return wt}),i.d(n,"Marker",function(){return St}),i.d(n,"Path",function(){return Vt}),i.d(n,"Polygon",function(){return Zt}),i.d(n,"Polyline",function(){return Qt}),i.d(n,"Rect",function(){return re}),i.d(n,"Text",function(){return ae});var _=i(1),r=i(6),o=i(31),h=i.n(o),a=i(23),s=i.n(a),l=i(37),c=i.n(l),u=i(17),v=i.n(u),p=i(25),f=i.n(p),d=i(41),M=i.n(d),g=i(42),C=i.n(g),y=(i(51),i(73)),m=i.n(y),x=i(74),b=i.n(x);function w(t,e,i,n){var r=t-i,o=e-n;return Math.sqrt(r*r+o*o)}function S(t,e,i,n,r,o){return t<=r&&r<=t+i&&e<=o&&o<=e+n}var O=null;function j(t,e){return t[0]===e[0]&&t[1]===e[1]}var A=i(0),P=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,T=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,L=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,k=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function E(t,i){var e=t.match(k);f()(e,function(t){var e=t.split(":");i.addColorStop(e[0],e[1])})}function D(t,e,i){if(s()(i)){if("("===i[1]||"("===i[2]){if("l"===i[0])return function(t,e,i){var n,r,o=P.exec(i),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],l=e.getBBox();r=0<=a&&a<.5*Math.PI?(n={x:l.minX,y:l.minY},{x:l.maxX,y:l.maxY}):.5*Math.PI<=a&&a<Math.PI?(n={x:l.maxX,y:l.minY},{x:l.minX,y:l.maxY}):Math.PI<=a&&a<1.5*Math.PI?(n={x:l.maxX,y:l.maxY},{x:l.minX,y:l.minY}):(n={x:l.minX,y:l.maxY},{x:l.maxX,y:l.minY});var c=Math.tan(a),u=c*c,h=(r.x-n.x+c*(r.y-n.y))/(1+u)+n.x,p=c*(r.x-n.x+c*(r.y-n.y))/(1+u)+n.y,f=t.createLinearGradient(n.x,n.y,h,p);return E(s,f),f}(t,e,i);if("r"===i[0])return function(t,e,i){var n=T.exec(i),r=parseFloat(n[1]),o=parseFloat(n[2]),a=parseFloat(n[3]),s=n[4];if(0===a){var l=s.match(k);return l[l.length-1].split(":")[1]}var c=e.getBBox(),u=c.maxX-c.minX,h=c.maxY-c.minY,p=Math.sqrt(u*u+h*h)/2,f=t.createRadialGradient(c.minX+u*r,c.minY+h*o,0,c.minX+u/2,c.minY+h/2,a*p);return E(s,f),f}(t,e,i);if("p"===i[0])return function(t,e,i){if(e.get("patternSource")&&e.get("patternSource")===i)return e.get("pattern");var n,r,o=L.exec(i),a=o[1],s=o[2];function l(){n=t.createPattern(r,a),e.set("pattern",n),e.set("patternSource",i)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return r=new Image,s.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=s,r.complete?l():(r.onload=l,r.src=r.src),n}(t,e,i)}return i}}function B(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function F(t,e){return B(t)*B(e)?(t[0]*e[0]+t[1]*e[1])/(B(t)*B(e)):1}function I(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(F(t,e))}function R(t,e){var i=e[1],n=e[2],r=C()(M()(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(r)*(s-c)/2+Math.sin(r)*(l-u)/2,p=-1*Math.sin(r)*(s-c)/2+Math.cos(r)*(l-u)/2,f=h*h/(i*i)+p*p/(n*n);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f));var d=i*i*(p*p)+n*n*(h*h),g=d?Math.sqrt((i*i*(n*n)-d)/d):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*i*p/n:0,v=i?g*-n*h/i:0,m=(s+c)/2+Math.cos(r)*y-Math.sin(r)*v,x=(l+u)/2+Math.sin(r)*y+Math.cos(r)*v,b=[(h-y)/i,(p-v)/n],_=[(-1*h-y)/i,(-1*p-v)/n],w=I([1,0],b),O=I(b,_);return F(b,_)<=-1&&(O=Math.PI),1<=F(b,_)&&(O=0),0===a&&0<O&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:x,rx:j(t,[c,u])?0:i,ry:j(t,[c,u])?0:n,startAngle:w,endAngle:w+O,xRotation:r,arcFlag:o,sweepFlag:a}}function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Y=Math.sin,G=Math.cos;function z(t,e,i,n,r,o,a){var s=e.stroke,l=e.lineWidth,c=i-r,u=n-o,h=Math.atan2(u,c),p=new Vt({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Math.cos(Math.PI/6)+","+10*Math.sin(Math.PI/6)+" L0,0 L"+10*Math.cos(Math.PI/6)+",-"+10*Math.sin(Math.PI/6),stroke:s,lineWidth:l}});p.translate(r,o),p.rotateAtPoint(r,o,h),t.set(a?"startArrowShape":"endArrowShape",p)}function X(t,e,i,n,r,o,a){var s=e.startArrow,l=e.endArrow,c=e.stroke,u=e.lineWidth,h=a?s:l,p=h.d,f=h.fill,d=h.stroke,g=h.lineWidth,y=Object(_.__rest)(h,["d","fill","stroke","lineWidth"]),v=i-r,m=n-o,x=Math.atan2(m,v);p&&(r-=G(x)*p,o-=Y(x)*p);var b=new Vt({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(_.__assign)(Object(_.__assign)({},y),{stroke:d||c,lineWidth:g||u,fill:f})});b.translate(r,o),b.rotateAtPoint(r,o,x),t.set(a?"startArrowShape":"endArrowShape",b)}function V(t,e,i,n,r){var o=Math.atan2(n-e,i-t);return{dx:G(o)*r,dy:Y(o)*r}}function H(t,e,i,n,r,o){"object"===N(e.startArrow)?X(t,e,i,n,r,o,!0):e.startArrow?z(t,e,i,n,r,o,!0):t.set("startArrowShape",null)}function W(t,e,i,n,r,o){"object"===N(e.endArrow)?X(t,e,i,n,r,o,!1):e.endArrow?z(t,e,i,n,r,o,!1):t.set("startArrowShape",null)}var q={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function U(t,e){var i=e.attr();for(var n in i){var r=i[n],o=q[n]?q[n]:n;"matrix"===o&&r?t.transform(r[0],r[1],r[3],r[4],r[6],r[7]):"lineDash"===o&&t.setLineDash?Object(A.isArray)(r)&&t.setLineDash(r):("strokeStyle"===o||"fillStyle"===o?r=D(t,e,r):"globalAlpha"===o&&(r*=t.globalAlpha),t[o]=r)}}function Z(t,e,i){for(var n=0;n<e.length;n++){var r=e[n];r.get("visible")?r.draw(t,i):r.skipDraw()}}function K(t,e,i,n){var r=i.path,o=i.startArrow,a=i.endArrow,s=[0,0],l=[0,0],c={dx:0,dy:0};e.beginPath();for(var u=0;u<r.length;u++){var h=r[u],p=h[0];if(0===u&&o&&o.d)c=V((f=t.getStartTangent())[0][0],f[0][1],f[1][0],f[1][1],o.d);else if(u===r.length-2&&"Z"===r[u+1][0]&&a&&a.d)"Z"===r[u+1][0]&&(c=V((f=t.getEndTangent())[0][0],f[0][1],f[1][0],f[1][1],a.d));else if(u===r.length-1&&a&&a.d){var f;"Z"!==r[0]&&(c=V((f=t.getEndTangent())[0][0],f[0][1],f[1][0],f[1][1],a.d))}var d=c.dx,g=c.dy;switch(p){case"M":e.moveTo(h[1]-d,h[2]-g),l=[h[1],h[2]];break;case"L":e.lineTo(h[1]-d,h[2]-g);break;case"Q":e.quadraticCurveTo(h[1],h[2],h[3]-d,h[4]-g);break;case"C":e.bezierCurveTo(h[1],h[2],h[3],h[4],h[5]-d,h[6]-g);break;case"A":var y=void 0;n?(y=n[u])||(y=R(s,h),n[u]=y):y=R(s,h);var v=y.cx,m=y.cy,x=y.rx,b=y.ry,_=y.startAngle,w=y.endAngle,O=y.xRotation,M=y.sweepFlag;if(e.ellipse)e.ellipse(v,m,x,b,O,_,w,1-M);else{var C=b<x?x:b,S=b<x?1:x/b,j=b<x?b/x:1;e.translate(v,m),e.rotate(O),e.scale(S,j),e.arc(0,0,C,_,w,1-M),e.scale(1/S,1/j),e.rotate(-O),e.translate(-v,-m)}break;case"Z":e.closePath()}if("Z"===p)s=l;else{var A=h.length;s=[h[A-2],h[A-1]]}}}function $(t,e){var i=t.get("canvas");i&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(i.refreshElement(t,e,i),i.get("autoDraw")&&i.draw(),t.set("hasChanged",!0)))}function Q(t){if(!t.length)return null;var i=[],n=[],r=[],o=[];return Object(A.each)(t,function(t){var e=function(t){var e,i,n;if(t.destroyed)e=t._cacheCanvasBBox;else{var r=t.get("cacheCanvasBBox");n=t.getCanvasBBox(),e=(i=r)&&n?{minX:Math.min(i.minX,n.minX),minY:Math.min(i.minY,n.minY),maxX:Math.max(i.maxX,n.maxX),maxY:Math.max(i.maxY,n.maxY)}:i||n}return e}(t);e&&(i.push(e.minX),n.push(e.minY),r.push(e.maxX),o.push(e.maxY))}),{minX:Math.min.apply(null,i),minY:Math.min.apply(null,n),maxX:Math.max.apply(null,r),maxY:Math.max.apply(null,o)}}var J,tt,et,it=i(63),nt=(et=r.AbstractGroup,Object(_.__extends)(lt,et),lt.prototype.onCanvasChange=function(t){$(this,t)},lt.prototype.getShapeBase=function(){return n},lt.prototype.getGroupBase=function(){return lt},lt.prototype._applyClip=function(t,e){e&&(t.save(),U(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},lt.prototype.draw=function(t,e){var i=this.getChildren();i.length&&(t.save(),U(t,this),this._applyClip(t,this.getClip()),Z(t,i,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},lt.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},lt),rt=(tt=r.AbstractShape,Object(_.__extends)(st,tt),st.prototype.getDefaultAttrs=function(){var t=tt.prototype.getDefaultAttrs.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},st.prototype.getShapeBase=function(){return n},st.prototype.getGroupBase=function(){return nt},st.prototype.onCanvasChange=function(t){$(this,t)},st.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),i=Object(it.getBBoxMethod)(t)(this),n=e/2,r=i.x-n,o=i.y-n,a=i.x+i.width+n,s=i.y+i.height+n;return{x:r,minX:r,y:o,minY:o,width:i.width+e,height:i.height+e,maxX:a,maxY:s}},st.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},st.prototype.isStroke=function(){return!!this.attrs.stroke},st.prototype._applyClip=function(t,e){e&&(t.save(),U(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},st.prototype.draw=function(t,e){var i=this.getClip();if(e){var n=i?Q([this,i]):this.getCanvasBBox();if(n.minX>e.maxX||n.maxX<e.minX||n.minY>e.maxY||n.maxY<e.minY)return}t.save(),U(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},st.prototype._afterDraw=function(){this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},st.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},st.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},st.prototype.fill=function(t){t.fill()},st.prototype.stroke=function(t){t.stroke()},st.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,n=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(h()(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=n)),this.isStroke()&&0<i&&(h()(r)||1===r||(t.globalAlpha=r),this.stroke(t)),this.afterDrawPath(t)},st.prototype.createPath=function(t){},st.prototype.afterDrawPath=function(t){},st.prototype.isInShape=function(t,e){var i=this.isStroke(),n=this.isFill(),r=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,i,n,r)},st.prototype.isInStrokeOrPath=function(t,e,i,n,r){return!1},st.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},st),ot=(J=rt,Object(_.__extends)(at,J),at.prototype.getDefaultAttrs=function(){var t=J.prototype.getDefaultAttrs.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{x:0,y:0,r:0})},at.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o=this.attr(),a=o.x,s=o.y,l=o.r,c=r/2,u=w(a,s,t,e);return n&&i?u<=l+c:n?u<=l:!!i&&l-c<=u&&u<=l+c},at.prototype.createPath=function(t){var e=this.attr(),i=e.x,n=e.y,r=e.r;t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.closePath()},at);function at(){return null!==J&&J.apply(this,arguments)||this}function st(){return null!==tt&&tt.apply(this,arguments)||this}function lt(){return null!==et&&et.apply(this,arguments)||this}function ct(t,e,i,n){return t/(i*i)+e/(n*n)}var ut,ht=(ut=rt,Object(_.__extends)(pt,ut),pt.prototype.getDefaultAttrs=function(){var t=ut.prototype.getDefaultAttrs.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{x:0,y:0,rx:0,ry:0})},pt.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o=this.attr(),a=r/2,s=o.x,l=o.y,c=o.rx,u=o.ry,h=(t-s)*(t-s),p=(e-l)*(e-l);return n&&i?ct(h,p,c+a,u+a)<=1:n?ct(h,p,c,u)<=1:!!i&&1<=ct(h,p,c-a,u-a)&&ct(h,p,c+a,u+a)<=1},pt.prototype.createPath=function(t){var e=this.attr(),i=e.x,n=e.y,r=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(i,n,r,o,0,0,2*Math.PI,!1);else{var a=o<r?r:o,s=o<r?1:r/o,l=o<r?o/r:1;t.save(),t.translate(i,n),t.scale(s,l),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},pt);function pt(){return null!==ut&&ut.apply(this,arguments)||this}function ft(t){return t instanceof HTMLElement&&s()(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var dt,gt=(dt=rt,Object(_.__extends)(mt,dt),mt.prototype.getDefaultAttrs=function(){var t=dt.prototype.getDefaultAttrs.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{x:0,y:0,width:0,height:0})},mt.prototype.initAttrs=function(t){this._setImage(t.img)},mt.prototype.isStroke=function(){return!1},mt.prototype.isOnlyHitBox=function(){return!0},mt.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},mt.prototype._setImage=function(t){var e=this,i=this.attrs;if(s()(t)){var n=new Image;n.onload=function(){if(e.destroyed)return!1;e.attr("img",n),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},n.src=t,n.crossOrigin="Anonymous",this.set("loading",!0)}else t instanceof Image?(i.width||(i.width=t.width),i.height||(i.height=t.height)):ft(t)&&(i.width||(i.width=Number(t.getAttribute("width"))),i.height||(i.height,Number(t.getAttribute("height"))))},mt.prototype.onAttrChange=function(t,e,i){dt.prototype.onAttrChange.call(this,t,e,i),"img"===t&&this._setImage(e)},mt.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),i=e.x,n=e.y,r=e.width,o=e.height,a=e.sx,s=e.sy,l=e.swidth,c=e.sheight,u=e.img;(u instanceof Image||ft(u))&&(h()(a)||h()(s)||h()(l)||h()(c)?t.drawImage(u,i,n,r,o):t.drawImage(u,a,s,l,c,i,n,r,o))},mt),yt=i(14),vt=i.n(yt);function mt(){return null!==dt&&dt.apply(this,arguments)||this}function xt(t,e,i,n,r,o,a){var s=Math.min(t,i),l=Math.max(t,i),c=Math.min(e,n),u=Math.max(e,n),h=r/2;return s-h<=o&&o<=l+h&&c-h<=a&&a<=u+h&&vt.a.pointToLine(t,e,i,n,o,a)<=r/2}var bt,_t,wt=(_t=rt,Object(_.__extends)(kt,_t),kt.prototype.getDefaultAttrs=function(){var t=_t.prototype.getDefaultAttrs.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},kt.prototype.initAttrs=function(t){this.setArrow()},kt.prototype.onAttrChange=function(t,e,i){_t.prototype.onAttrChange.call(this,t,e,i),this.setArrow()},kt.prototype.setArrow=function(){var t=this.attr(),e=t.x1,i=t.y1,n=t.x2,r=t.y2,o=t.startArrow,a=t.endArrow;o&&H(this,t,n,r,e,i),a&&W(this,t,e,i,n,r)},kt.prototype.isInStrokeOrPath=function(t,e,i,n,r){if(!i||!r)return!1;var o=this.attr();return xt(o.x1,o.y1,o.x2,o.y2,r,t,e)},kt.prototype.createPath=function(t){var e=this.attr(),i=e.x1,n=e.y1,r=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,l={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(l=V(i,n,r,o,e.startArrow.d)),s&&s.d&&(c=V(i,n,r,o,e.endArrow.d)),t.beginPath(),t.moveTo(i+l.dx,n+l.dy),t.lineTo(r-c.dx,o-c.dy)},kt.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},kt.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,i=t.y1,n=t.x2,r=t.y2;return vt.a.length(e,i,n,r)},kt.prototype.getPoint=function(t){var e=this.attr(),i=e.x1,n=e.y1,r=e.x2,o=e.y2;return vt.a.pointAt(i,n,r,o,t)},kt),Ot=i(65),Mt=i.n(Ot),Ct={circle:function(t,e,i){return[["M",t-i,e],["A",i,i,0,1,0,t+i,e],["A",i,i,0,1,0,t-i,e]]},square:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e-i],["L",t+i,e+i],["L",t-i,e+i],["Z"]]},diamond:function(t,e,i){return[["M",t-i,e],["L",t,e-i],["L",t+i,e],["L",t,e+i],["Z"]]},triangle:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e+n],["L",t,e-n],["L",t+i,e+n],["Z"]]},"triangle-down":function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e-n],["L",t+i,e-n],["L",t,e+n],["Z"]]}},St=(bt=rt,Object(_.__extends)(Lt,bt),Lt.prototype.initAttrs=function(t){this._resetParamsCache()},Lt.prototype._resetParamsCache=function(){this.set("paramsCache",{})},Lt.prototype.onAttrChange=function(t,e,i){bt.prototype.onAttrChange.call(this,t,e,i),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},Lt.prototype.isOnlyHitBox=function(){return!0},Lt.prototype._getR=function(t){return Object(A.isNil)(t.r)?t.radius:t.r},Lt.prototype._getPath=function(){var t,e,i=this.attr(),n=i.x,r=i.y,o=i.symbol||"circle",a=this._getR(i);return e=c()(o)?(e=(t=o)(n,r,a),Mt()(e)):(t=Lt.Symbols[o])(n,r,a),t?e:(console.warn(o+" marker is not supported."),null)},Lt.prototype.createPath=function(t){K(this,t,{path:this._getPath()},this.get("paramsCache"))},Lt.Symbols=Ct,Lt),jt=i(36),At=i.n(jt),Pt=i(93),Tt=i.n(Pt);function Lt(){return null!==bt&&bt.apply(this,arguments)||this}function kt(){return null!==_t&&_t.apply(this,arguments)||this}function Et(t,e,i){var n=function(){if(!O){var t=document.createElement("canvas");t.width=1,t.height=1,O=t.getContext("2d")}return O}();return t.createPath(n),n.isPointInPath(e,i)}function Dt(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function Bt(t,e,i){var n,r,o,a=!1,s=t.length;if(s<=2)return!1;for(var l=0;l<s;l++){var c=t[l],u=t[(l+1)%s];if(r=u,((o=[e,i])[0]-(n=c)[0])*(r[1]-n[1])==(r[0]-n[0])*(o[1]-n[1])&&Math.min(n[0],r[0])<=o[0]&&o[0]<=Math.max(n[0],r[0])&&Math.min(n[1],r[1])<=o[1]&&o[1]<=Math.max(n[1],r[1]))return!0;0<Dt(c[1]-i)!=0<Dt(u[1]-i)&&Dt(e-(i-c[1])*(c[0]-u[0])/(c[1]-u[1])-c[0])<0&&(a=!a)}return a}var Ft=i(92),It=i.n(Ft);function Rt(t,e,i,n,r,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(l<n||r<l)return!1;var c={x:t+i*Math.cos(l),y:e+i*Math.sin(l)};return w(c.x,c.y,a,s)<=o/2}var Nt=i(11),Yt=i(62),Gt=Object(_.__assign)({hasArc:function(t){for(var e=!1,i=t.length,n=0;n<i;n++){var r=t[n][0];if("C"===r||"A"===r||"Q"===r){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,i=[],n=[],r=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(r.length&&(n.push(r),r=[]),r.push([a[1],a[2]])):"Z"===s?r.length&&(i.push(r),r=[]):r.push([a[1],a[2]])}return 0<r.length&&n.push(r),{polygons:i,polylines:n}},isPointInStroke:function(t,e,i,n){for(var r=!1,o=e/2,a=0;a<t.length;a++){var s=t[a],l=s.currentPoint,c=s.params,u=s.prePoint,h=s.box;if(!h||S(h.x-o,h.y-o,h.width+e,h.height+e,i,n)){switch(s.command){case"L":case"Z":r=xt(u[0],u[1],l[0],l[1],e,i,n);break;case"Q":r=It.a.pointDistance(u[0],u[1],c[1],c[2],c[3],c[4],i,n)<=e/2;break;case"C":r=At.a.pointDistance(u[0],u[1],c[1],c[2],c[3],c[4],c[5],c[6],i,n)<=e/2;break;case"A":var p=s.arcParams,f=p.cx,d=p.cy,g=p.rx,y=p.ry,v=p.startAngle,m=p.endAngle,x=p.xRotation,b=[i,n,1],_=[1,0,0,0,1,0,0,0,1],w=y<g?g:y,O=y<g?1:g/y,M=y<g?y/g:1;Nt.translate(_,_,[-f,-d]),Nt.rotate(_,_,-x),Nt.scale(_,_,[1/O,1/M]),Yt.transformMat3(b,b,_),r=Rt(0,0,w,v,m,e,b[0],b[1])}if(r)break}}return r}},r.PathUtil);function zt(t,e,i){for(var n=!1,r=0;r<t.length&&!(n=Bt(t[r],e,i));r++);return n}var Xt,Vt=(Xt=rt,Object(_.__extends)(Ht,Xt),Ht.prototype.getDefaultAttrs=function(){var t=Xt.prototype.getDefaultAttrs.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{startArrow:!1,endArrow:!1})},Ht.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},Ht.prototype.onAttrChange=function(t,e,i){Xt.prototype.onAttrChange.call(this,t,e,i),"path"===t&&this._setPathArr(e),this.setArrow()},Ht.prototype._setPathArr=function(t){this.attrs.path=Mt()(t);var e=Gt.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},Ht.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Tt()(this.attr("path")),this.set("segments",t)),t},Ht.prototype.setArrow=function(){var t,e=this.attr(),i=e.startArrow,n=e.endArrow;i&&H(this,e,(t=this.getStartTangent())[0][0],t[0][1],t[1][0],t[1][1]),n&&W(this,e,(t=this.getEndTangent())[0][0],t[0][1],t[1][0],t[1][1])},Ht.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(i&&(s=Gt.isPointInStroke(o,r,t,e)),!s&&n)if(a)s=Et(this,t,e);else{var l=this.attr("path"),c=Gt.extractPolygons(l);s=zt(c.polygons,t,e)||zt(c.polylines,t,e)}return s},Ht.prototype.createPath=function(t){K(this,t,this.attr(),this.get("paramsCache"))},Ht.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},Ht.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(A.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},Ht.prototype.getPoint=function(i){var n,r,t=this.get("tCache");t||(this._calculateCurve(),this._setTcache(),t=this.get("tCache"));var e=this.get("curve");if(!t||0===t.length)return e?{x:e[0][1],y:e[0][2]}:null;Object(A.each)(t,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),r=e)});var o=e[r];if(Object(A.isNil)(o)||Object(A.isNil)(r))return null;var a=o.length,s=e[r+1];return At.a.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],n)},Ht.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Gt.pathToCurve(t))},Ht.prototype._setTcache=function(){var i,n,r,o,a=0,s=0,l=[],c=this.get("curve");c&&(Object(A.each)(c,function(t,e){r=c[e+1],o=t.length,r&&(a+=At.a.length(t[o-2],t[o-1],r[1],r[2],r[3],r[4],r[5],r[6])||0)}),this.set("totalLength",a),0!==a?(Object(A.each)(c,function(t,e){r=c[e+1],o=t.length,r&&((i=[])[0]=s/a,n=At.a.length(t[o-2],t[o-1],r[1],r[2],r[3],r[4],r[5],r[6]),s+=n||0,i[1]=s/a,l.push(i))}),this.set("tCache",l)):this.set("tCache",[]))},Ht.prototype.getStartTangent=function(){var t,e=this.getSegments();if(1<e.length){var i=e[0].currentPoint,n=e[1].currentPoint,r=e[1].startTangent;t=[],r?t.push([i[0]-r[0],i[1]-r[1]]):t.push([n[0],n[1]]),t.push([i[0],i[1]])}return t},Ht.prototype.getEndTangent=function(){var t,e=this.getSegments(),i=e.length;if(1<i){var n=e[i-2].currentPoint,r=e[i-1].currentPoint,o=e[i-1].endTangent;t=[],o?t.push([r[0]-o[0],r[1]-o[1]]):t.push([n[0],n[1]]),t.push([r[0],r[1]])}return t},Ht);function Ht(){return null!==Xt&&Xt.apply(this,arguments)||this}function Wt(t,e,i,n,r){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++)if(xt(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,i,n))return!0;if(r){var s=t[0],l=t[o-1];if(xt(s[0],s[1],l[0],l[1],e,i,n))return!0}return!1}var qt,Ut,Zt=(Ut=rt,Object(_.__extends)(te,Ut),te.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o=this.attr().points,a=!1;return i&&(a=Wt(o,r,t,e,!0)),!a&&n&&(a=Bt(o,t,e)),a},te.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var i=0;i<e.length;i++){var n=e[i];0===i?t.moveTo(n[0],n[1]):t.lineTo(n[0],n[1])}t.closePath()}},te),Kt=i(66),$t=i.n(Kt),Qt=(qt=rt,Object(_.__extends)(Jt,qt),Jt.prototype.getDefaultAttrs=function(){var t=qt.prototype.getDefaultAttrs.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{startArrow:!1,endArrow:!1})},Jt.prototype.initAttrs=function(t){this.setArrow()},Jt.prototype.onAttrChange=function(t,e,i){qt.prototype.onAttrChange.call(this,t,e,i),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},Jt.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Jt.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,i=e.points,n=e.startArrow,r=e.endArrow,o=i.length,a=i[0][0],s=i[0][1],l=i[o-1][0],c=i[o-1][1];n&&H(this,t,i[1][0],i[1][1],a,s),r&&W(this,t,i[o-2][0],i[o-2][1],l,c)},Jt.prototype.isFill=function(){return!1},Jt.prototype.isInStrokeOrPath=function(t,e,i,n,r){return!(!i||!r)&&Wt(this.attr().points,r,t,e,!1)},Jt.prototype.isStroke=function(){return!0},Jt.prototype.createPath=function(t){var e=this.attr(),i=e.points,n=e.startArrow,r=e.endArrow,o=i.length;if(!(i.length<2)){var a,s=i[0][0],l=i[0][1],c=i[o-1][0],u=i[o-1][1];n&&n.d&&(s+=(a=V(s,l,i[1][0],i[1][1],n.d)).dx,l+=a.dy),r&&r.d&&(c-=(a=V(i[o-2][0],i[o-2][1],c,u,r.d)).dx,u-=a.dy),t.beginPath(),t.moveTo(s,l);for(var h=0;h<o-1;h++){var p=i[h];t.lineTo(p[0],p[1])}t.lineTo(c,u)}},Jt.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},Jt.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(A.isNil)(e)?(this.set("totalLength",$t.a.length(t)),this.get("totalLength")):e},Jt.prototype.getPoint=function(i){var n,r,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(A.each)(e,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),r=e)}),vt.a.pointAt(t[r][0],t[r][1],t[r+1][0],t[r+1][1],n)},Jt.prototype._setTcache=function(){var i=this.attr().points;if(i&&0!==i.length){var n=this.getTotalLength();if(!(n<=0)){var r,o,a=0,s=[];Object(A.each)(i,function(t,e){i[e+1]&&((r=[])[0]=a/n,o=vt.a.length(t[0],t[1],i[e+1][0],i[e+1][1]),a+=o,r[1]=a/n,s.push(r))}),this.set("tCache",s)}}},Jt.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},Jt.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},Jt);function Jt(){return null!==qt&&qt.apply(this,arguments)||this}function te(){return null!==Ut&&Ut.apply(this,arguments)||this}var ee,ie,ne,re=(ne=rt,Object(_.__extends)(fe,ne),fe.prototype.getDefaultAttrs=function(){var t=ne.prototype.getDefaultAttrs.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},fe.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o,a,s,l,c,u,h,p,f=this.attr(),d=f.x,g=f.y,y=f.width,v=f.height,m=f.radius;if(m){var x=!1;return i&&(l=v,x=xt((o=d)+(c=m),a=g,o+(s=y)-c,a,u=r,h=t,p=e)||xt(o+s,a+c,o+s,a+l-c,u,h,p)||xt(o+s-c,a+l,o+c,a+l,u,h,p)||xt(o,a+l-c,o,a+c,u,h,p)||Rt(o+s-c,a+c,c,1.5*Math.PI,2*Math.PI,u,h,p)||Rt(o+s-c,a+l-c,c,0,.5*Math.PI,u,h,p)||Rt(o+c,a+l-c,c,.5*Math.PI,Math.PI,u,h,p)||Rt(o+c,a+c,c,Math.PI,1.5*Math.PI,u,h,p)),!x&&n&&(x=Et(this,t,e)),x}var b,_=r/2;return n&&i?S(d-_,g-_,y+_,v+_,t,e):n?S(d,g,y,v,t,e):i?S(d-(b=r/2),g-b,y,r,t,e)||S(d+y-b,g-b,r,v,t,e)||S(d+b,g+v-b,y,r,t,e)||S(d-b,g+b,r,v,t,e):void 0},fe.prototype.createPath=function(t){var e,i,n,r,o,a=this.attr(),s=a.x,l=a.y,c=a.width,u=a.height,h=a.radius;if(t.beginPath(),0===h)t.rect(s,l,c,u);else{var p=(e=h,o=r=n=i=0,v()(e)?1===e.length?i=n=r=o=e[0]:2===e.length?(i=r=e[0],n=o=e[1]):3===e.length?(i=e[0],n=o=e[1],r=e[2]):(i=e[0],n=e[1],r=e[2],o=e[3]):i=n=r=o=e,[i,n,r,o]),f=p[0],d=p[1],g=p[2],y=p[3];t.moveTo(s+f,l),t.lineTo(s+c-d,l),0!==d&&t.arc(s+c-d,l+d,d,-Math.PI/2,0),t.lineTo(s+c,l+u-g),0!==g&&t.arc(s+c-g,l+u-g,g,0,Math.PI/2),t.lineTo(s+y,l+u),0!==y&&t.arc(s+y,l+u-y,y,Math.PI/2,Math.PI),t.lineTo(s,l+f),0!==f&&t.arc(s+f,l+f,f,Math.PI,1.5*Math.PI),t.closePath()}},fe),oe=i(64),ae=(ie=rt,Object(_.__extends)(pe,ie),pe.prototype.getDefaultAttrs=function(){var t=ie.prototype.getDefaultAttrs.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},pe.prototype.isOnlyHitBox=function(){return!0},pe.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},pe.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(oe.assembleFont)(t)},pe.prototype._setText=function(t){var e=null;s()(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},pe.prototype.onAttrChange=function(t,e,i){ie.prototype.onAttrChange.call(this,t,e,i),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(e)},pe.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,i=+t.fontSize;return e?e-i:.14*i},pe.prototype._drawTextArr=function(i,t,n){var r,e=this.attrs,o=e.textBaseline,a=e.x,s=e.y,l=+e.fontSize,c=this._getSpaceingY(),u=Object(oe.getTextHeight)(e.text,e.fontSize,e.lineHeight);f()(t,function(t,e){r=s+e*(c+l)-u+l,"middle"===o&&(r+=u-l-(u-l)/2),"top"===o&&(r+=u-l),n?i.fillText(t,a,r):i.strokeText(t,a,r)})},pe.prototype._drawText=function(t,e){var i=this.attr(),n=i.x,r=i.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=i.text;e?t.fillText(a,n,r):t.strokeText(a,n,r)}},pe.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,n=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&0<i&&(h()(r)||1===r||(t.globalAlpha=n),this.stroke(t)),this.isFill()&&(h()(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=n)),this.afterDrawPath(t)},pe.prototype.fill=function(t){this._drawText(t,!0)},pe.prototype.stroke=function(t){this._drawText(t,!1)},pe),se=i(67),le=i.n(se),ce=(ee=r.AbstractCanvas,Object(_.__extends)(he,ee),he.prototype.getDefaultCfg=function(){var t=ee.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t},he.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},he.prototype.getShapeBase=function(){return n},he.prototype.getGroupBase=function(){return nt},he.prototype.getPixelRatio=function(){return this.get("pixelRatio")||(window?window.devicePixelRatio:1)},he.prototype.getViewRange=function(){var t=this.get("el");return{minX:0,minY:0,maxX:t.width,maxY:t.height}},he.prototype.initEvents=function(){var t=new le.a({canvas:this});t.init(),this.set("eventController",t)},he.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},he.prototype.setDOMSize=function(t,e){ee.prototype.setDOMSize.call(this,t,e);var i=this.get("context"),n=this.get("el"),r=this.getPixelRatio();n.width=r*t,n.height=r*e,1<r&&i.scale(r,r)},he.prototype.clear=function(){ee.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},he.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements");return e.length&&e[0]===this?t=this.getViewRange():(t=Q(e))&&(t.minX=Math.floor(t.minX-.5),t.minY=Math.floor(t.minY-.5),t.maxX=Math.ceil(t.maxX+.5),t.maxY=Math.ceil(t.maxY+.5)),t},he.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},he.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(b()(t),this.set("drawFrame",null),this.set("refreshElements",[]))},he.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},he.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),i=this.getChildren();t.clearRect(0,0,e.width,e.height),U(t,this),Z(t,i),this.set("refreshElements",[])},he.prototype._drawRegion=function(){var t=this.get("context"),e=this.getChildren(),i=this._getRefreshRegion();i&&(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),U(t,this),Z(t,e,i),t.restore()),this.set("refreshElements",[])},he.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=m()(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},he.prototype.skipDraw=function(){},he.prototype.destroy=function(){this.get("eventController").destroy(),ee.prototype.destroy.call(this)},he),ue=i(167).version;function he(){return null!==ee&&ee.apply(this,arguments)||this}function pe(){return null!==ie&&ie.apply(this,arguments)||this}function fe(){return null!==ne&&ne.apply(this,arguments)||this}},function(t,e,i){"use strict";i.r(e),i.d(e,"version",function(){return At}),i.d(e,"Event",function(){return o.Event}),i.d(e,"Canvas",function(){return jt}),i.d(e,"Group",function(){return S}),i.d(e,"Shape",function(){return n});var n={};i.r(n),i.d(n,"Base",function(){return A}),i.d(n,"Circle",function(){return P}),i.d(n,"Dom",function(){return T}),i.d(n,"Ellipse",function(){return L}),i.d(n,"Image",function(){return k}),i.d(n,"Line",function(){return B}),i.d(n,"Marker",function(){return R}),i.d(n,"Path",function(){return N}),i.d(n,"Polygon",function(){return Y}),i.d(n,"Polyline",function(){return X}),i.d(n,"Rect",function(){return nt}),i.d(n,"Text",function(){return lt});var r=i(1),o=i(6),p=i(0),a={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},h={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function s(t){var e=a[t.type],i=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var n=document.createElementNS("http://www.w3.org/2000/svg",e);if(t.get("id")&&(n.id=t.get("id")),t.set("el",n),t.set("attrs",{}),i){var r=i.get("el");r||(r=i.createDom(),i.set("el",r)),r.appendChild(n)}return n}function d(t,e){var i=t.get("el"),n=Object(p.toArray)(i.children).sort(e),r=document.createDocumentFragment();n.forEach(function(t){r.appendChild(t)}),i.appendChild(r)}function g(t){var e=t.attr().matrix;if(e){for(var i=t.cfg.el,n=[],r=0;r<9;r+=3)n.push(e[r]+","+e[r+1]);-1===(n=n.join(",")).indexOf("NaN")?i.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)}}function y(t,e){var i=t.getClip(),n=t.get("el");if(i){if(i&&!n.hasAttribute("clip-path")){s(i),i.createPath(e);var r=e.addClip(i);n.setAttribute("clip-path","url(#"+r+")")}}else n.removeAttribute("clip-path")}function l(e,t){t.forEach(function(t){t.draw(e)})}function c(t,e){var i,n,r,o,a=t.get("canvas");if(a&&a.get("autoDraw")){var s=a.get("context"),l=t.getParent(),c=l?l.getChildren():[a],u=t.get("el");if("remove"===e)if(t.get("isClipShape")){var h=u&&u.parentNode,p=h&&h.parentNode;h&&p&&p.removeChild(h)}else u&&u.parentNode&&u.parentNode.removeChild(u);else if("show"===e)u.setAttribute("visibility","visible");else if("hide"===e)u.setAttribute("visibility","hidden");else if("zIndex"===e)i=u,n=c.indexOf(t),r=i.parentNode,(o=Array.from(r.childNodes).filter(function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})[n])?r.insertBefore(i,o):r.appendChild(i);else if("sort"===e){var f=t.get("children");f&&f.length&&d(t,function(t,e){return f.indexOf(t)-f.indexOf(e)?1:0})}else"clear"===e?u&&(u.innerHTML=""):"matrix"===e?g(t):"clip"===e?y(t,s):"attr"===e||"add"===e&&t.draw(s)}}var u,f,v,m,x,b,_,w,O,M,C,S=(C=o.AbstractGroup,Object(r.__extends)(tt,C),tt.prototype.isEntityGroup=function(){return!0},tt.prototype.createDom=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","g");this.set("el",t);var e=this.getParent();if(e){var i=e.get("el");i||(i=e.createDom(),e.set("el",i)),i.appendChild(t)}return t},tt.prototype.afterAttrsChange=function(t){C.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var i=e.get("context");this.createPath(i,t)}},tt.prototype.onCanvasChange=function(t){c(this,t)},tt.prototype.getShapeBase=function(){return n},tt.prototype.getGroupBase=function(){return tt},tt.prototype.draw=function(t){var e=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),y(this,t),this.createPath(t),e.length&&l(t,e))},tt.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(p.each)(e||i,function(t,e){h[e]&&n.setAttribute(h[e],t)}),g(this)},tt),j=i(63),A=(M=o.AbstractShape,Object(r.__extends)(J,M),J.prototype.getDefaultAttrs=function(){var t=M.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},J.prototype.afterAttrsChange=function(t){M.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var i=e.get("context");this.draw(i,t)}},J.prototype.getShapeBase=function(){return n},J.prototype.getGroupBase=function(){return S},J.prototype.onCanvasChange=function(t){c(this,t)},J.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var i=Object(j.getBBoxMethod)(this.get("type"));i&&(e=i(this))}if(e){var n=e.x,r=e.y,o=e.width,a=e.height,s=this.getHitLineWidth(),l=s/2,c=n-l,u=r-l;return{x:c,y:u,minX:c,minY:u,maxX:n+o+l,maxY:r+a+l,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},J.prototype.isFill=function(){var t=this.attr(),e=t.fill,i=t.fillStyle;return(e||i||this.isClipShape())&&this.canFill},J.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,i=t.strokeStyle;return(e||i)&&this.canStroke},J.prototype.draw=function(t,e){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||s(this),y(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},J.prototype.createPath=function(t,e){},J.prototype.strokeAndFill=function(t,e){var i=e||this.attr(),n=i.fill,r=i.fillStyle,o=i.stroke,a=i.strokeStyle,s=i.fillOpacity,l=i.strokeOpacity,c=i.lineWidth,u=this.get("el");this.canFill&&(e?"fill"in i?this._setColor(t,"fill",n):"fillStyle"in i&&this._setColor(t,"fill",r):this._setColor(t,"fill",n||r),s&&u.setAttribute(h.fillOpacity,s)),this.canStroke&&0<c&&(e?"stroke"in i?this._setColor(t,"stroke",o):"strokeStyle"in i&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),l&&u.setAttribute(h.strokeOpacity,l),c&&u.setAttribute(h.lineWidth,c))},J.prototype._setColor=function(t,e,i){var n=this.get("el");if(i)if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i))(r=t.find("gradient",i))||(r=t.addGradient(i)),n.setAttribute(h[e],"url(#"+r+")");else if(/^[p,P]{1}[\s]*\(/.test(i)){var r;(r=t.find("pattern",i))||(r=t.addPattern(i)),n.setAttribute(h[e],"url(#"+r+")")}else n.setAttribute(h[e],i);else n.setAttribute(h[e],"none")},J.prototype.shadow=function(t,e){var i=this.attr(),n=e||i,r=n.shadowOffsetX,o=n.shadowOffsetY,a=n.shadowBlur,s=n.shadowColor;(r||o||a||s)&&function(t,e){var i=t.cfg.el,n=t.attr(),r={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(r.dx||r.dy||r.blur||r.color){var o=e.find("filter",r);o=o||e.addShadow(r),i.setAttribute("filter","url(#"+o+")")}else i.removeAttribute("filter")}(this,t)},J.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&g(this)},J.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},J.prototype.isPointInPath=function(t,e){var i=this.get("el"),n=this.get("canvas").get("el").getBoundingClientRect(),r=t+n.left,o=e+n.top,a=document.elementFromPoint(r,o);return!(!a||!a.isEqualNode(i))},J.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,i=t.lineAppendWidth;return this.isStroke()?e+i:0},J),P=(O=A,Object(r.__extends)(Q,O),Q.prototype.getDefaultAttrs=function(){var t=O.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,r:0})},Q.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(p.each)(e||i,function(t,e){"x"===e||"y"===e?n.setAttribute("c"+e,t):h[e]&&n.setAttribute(h[e],t)})},Q),T=(w=A,Object(r.__extends)($,w),$.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(p.each)(e||i,function(t,e){h[e]&&n.setAttribute(h[e],t)}),n.innerHTML=i.html},$),L=(_=A,Object(r.__extends)(K,_),K.prototype.getDefaultAttrs=function(){var t=_.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,rx:0,ry:0})},K.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(p.each)(e||i,function(t,e){"x"===e||"y"===e?n.setAttribute("c"+e,t):h[e]&&n.setAttribute(h[e],t)})},K),k=(b=A,Object(r.__extends)(Z,b),Z.prototype.getDefaultAttrs=function(){var t=b.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,width:0,height:0})},Z.prototype.createPath=function(t,e){var i=this,n=this.attr(),r=this.get("el");Object(p.each)(e||n,function(t,e){"img"===e?i._setImage(n.img):h[e]&&r.setAttribute(h[e],t)})},Z.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},Z.prototype._setImage=function(t){var e=this.attr(),i=this.get("el");if(Object(p.isString)(t))i.setAttribute("href",t);else if(t instanceof window.Image)e.width||(i.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(i.setAttribute("height",t.height),this.attr("height",t.height)),i.setAttribute("href",t.src);else if(t instanceof HTMLElement&&Object(p.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())i.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var n=document.createElement("canvas");n.setAttribute("width",""+t.width),n.setAttribute("height",""+t.height),n.getContext("2d").putImageData(t,0,0),e.width||(i.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(i.setAttribute("height",""+t.height),this.attr("height",t.height)),i.setAttribute("href",n.toDataURL())}},Z),E=i(14),D=i.n(E),B=(x=A,Object(r.__extends)(U,x),U.prototype.getDefaultAttrs=function(){var t=x.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},U.prototype.createPath=function(n,t){var r=this.attr(),o=this.get("el");Object(p.each)(t||r,function(t,e){if("startArrow"===e||"endArrow"===e)if(t){var i=Object(p.isObject)(t)?n.addArrow(r,h[e]):n.getDefaultArrow(r,h[e]);o.setAttribute(h[e],"url(#"+i+")")}else o.removeAttribute(h[e]);else h[e]&&o.setAttribute(h[e],t)})},U.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,i=t.y1,n=t.x2,r=t.y2;return D.a.length(e,i,n,r)},U.prototype.getPoint=function(t){var e=this.attr(),i=e.x1,n=e.y1,r=e.x2,o=e.y2;return D.a.pointAt(i,n,r,o,t)},U),F={circle:function(t,e,i){return[["M",t,e],["m",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,2*-i,0]]},square:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e-i],["L",t+i,e+i],["L",t-i,e+i],["Z"]]},diamond:function(t,e,i){return[["M",t-i,e],["L",t,e-i],["L",t+i,e],["L",t,e+i],["Z"]]},triangle:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e+n],["L",t,e-n],["L",t+i,e+n],["z"]]},triangleDown:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e-n],["L",t+i,e-n],["L",t,e+n],["Z"]]}},I={get:function(t){return F[t]},register:function(t,e){F[t]=e},remove:function(t){delete F[t]},getAll:function(){return F}},R=(m=A,Object(r.__extends)(q,m),q.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},q.prototype._assembleMarker=function(){var t=this._getPath();return Object(p.isArray)(t)?t.map(function(t){return t.join(" ")}).join(""):t},q.prototype._getPath=function(){var t,e=this.attr(),i=e.x,n=e.y,r=e.r||e.radius,o=e.symbol||"circle";return(t=Object(p.isFunction)(o)?o:I.get(o))?t(i,n,r):(console.warn(t+" symbol is not exist."),null)},q.symbolsFactory=I,q),N=(v=A,Object(r.__extends)(W,v),W.prototype.getDefaultAttrs=function(){var t=v.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{startArrow:!1,endArrow:!1})},W.prototype.createPath=function(n,t){var r=this,o=this.attr(),a=this.get("el");Object(p.each)(t||o,function(t,e){if("path"===e&&Object(p.isArray)(t))a.setAttribute("d",r._formatPath(t));else if("startArrow"===e||"endArrow"===e)if(t){var i=Object(p.isObject)(t)?n.addArrow(o,h[e]):n.getDefaultArrow(o,h[e]);a.setAttribute(h[e],"url(#"+i+")")}else a.removeAttribute(h[e]);else h[e]&&a.setAttribute(h[e],t)})},W.prototype._formatPath=function(t){var e=t.map(function(t){return t.join(" ")}).join("");return~e.indexOf("NaN")?"":e},W.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},W.prototype.getPoint=function(t){var e=this.get("el"),i=this.getTotalLength(),n=e?e.getPointAtLength(t*i):null;return n?{x:n.x,y:n.y}:null},W),Y=(f=A,Object(r.__extends)(H,f),H.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(p.each)(e||i,function(t,e){"points"===e&&Object(p.isArray)(t)&&2<=t.length?n.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):h[e]&&n.setAttribute(h[e],t)})},H),G=i(66),z=i.n(G),X=(u=A,Object(r.__extends)(V,u),V.prototype.getDefaultAttrs=function(){var t=u.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{startArrow:!1,endArrow:!1})},V.prototype.onAttrChange=function(t,e,i){u.prototype.onAttrChange.call(this,t,e,i),-1!==["points"].indexOf(t)&&this._resetCache()},V.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},V.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(p.each)(e||i,function(t,e){"points"===e&&Object(p.isArray)(t)&&2<=t.length?n.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):h[e]&&n.setAttribute(h[e],t)})},V.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(p.isNil)(e)?(this.set("totalLength",z.a.length(t)),this.get("totalLength")):e},V.prototype.getPoint=function(i){var n,r,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(p.each)(e,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),r=e)}),D.a.pointAt(t[r][0],t[r][1],t[r+1][0],t[r+1][1],n)},V.prototype._setTcache=function(){var i=this.attr().points;if(i&&0!==i.length){var n=this.getTotalLength();if(!(n<=0)){var r,o,a=0,s=[];Object(p.each)(i,function(t,e){i[e+1]&&((r=[])[0]=a/n,o=D.a.length(t[0],t[1],i[e+1][0],i[e+1][1]),a+=o,r[1]=a/n,s.push(r))}),this.set("tCache",s)}}},V.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},V.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},V);function V(){var t=null!==u&&u.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}function H(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}function W(){var t=null!==v&&v.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}function q(){var t=null!==m&&m.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}function U(){var t=null!==x&&x.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}function Z(){var t=null!==b&&b.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}function K(){var t=null!==_&&_.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}function $(){var t=null!==w&&w.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}function Q(){var t=null!==O&&O.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}function J(){var t=null!==M&&M.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}function tt(){return null!==C&&C.apply(this,arguments)||this}var et,it,nt=(it=A,Object(r.__extends)(gt,it),gt.prototype.getDefaultAttrs=function(){var t=it.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},gt.prototype.createPath=function(t,e){var i=this,n=this.attr(),r=this.get("el"),o=!1,a=["x","y","width","height","radius"];Object(p.each)(e||n,function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&h[e]&&r.setAttribute(h[e],t):(r.setAttribute("d",i._assembleRect(n)),o=!0)})},gt.prototype._assembleRect=function(t){var e=t.x,i=t.y,n=t.width,r=t.height,o=t.radius;if(!o)return"M "+e+","+i+" l "+n+",0 l 0,"+r+" l"+-n+" 0 z";var a,s,l,c,u,h=(a=o,u=c=l=s=0,Object(p.isArray)(a)?1===a.length?s=l=c=u=a[0]:2===a.length?(s=c=a[0],l=u=a[1]):3===a.length?(s=a[0],l=u=a[1],c=a[2]):(s=a[0],l=a[1],c=a[2],u=a[3]):s=l=c=u=a,{r1:s,r2:l,r3:c,r4:u});return Object(p.isArray)(o)?1===o.length?h.r1=h.r2=h.r3=h.r4=o[0]:2===o.length?(h.r1=h.r3=o[0],h.r2=h.r4=o[1]):3===o.length?(h.r1=o[0],h.r2=h.r4=o[1],h.r3=o[2]):(h.r1=o[0],h.r2=o[1],h.r3=o[2],h.r4=o[3]):h.r1=h.r2=h.r3=h.r4=o,[["M "+(e+h.r1)+","+i],["l "+(n-h.r1-h.r2)+",0"],["a "+h.r2+","+h.r2+",0,0,1,"+h.r2+","+h.r2],["l 0,"+(r-h.r2-h.r3)],["a "+h.r3+","+h.r3+",0,0,1,"+-h.r3+","+h.r3],["l "+(h.r3+h.r4-n)+",0"],["a "+h.r4+","+h.r4+",0,0,1,"+-h.r4+","+-h.r4],["l 0,"+(h.r4+h.r1-r)],["a "+h.r1+","+h.r1+",0,0,1,"+h.r1+","+-h.r1],["z"]].join(" ")},gt),rt=i(144),ot={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},at={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},st={left:"left",start:"left",center:"middle",right:"end",end:"end"},lt=(et=A,Object(r.__extends)(dt,et),dt.prototype.getDefaultAttrs=function(){var t=et.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},dt.prototype.createPath=function(t,e){var i=this,n=this.attr(),r=this.get("el");this._setFont(),Object(p.each)(e||n,function(t,e){"text"===e?i._setText(""+t):"matrix"===e&&t?g(i):h[e]&&r.setAttribute(h[e],t)}),r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},dt.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),i=e.fontSize,n=e.textBaseline,r=e.textAlign,o=Object(rt.detect)();o&&"firefox"===o.name?t.setAttribute("dominant-baseline",at[n]||"alphabetic"):t.setAttribute("alignment-baseline",ot[n]||"baseline"),t.setAttribute("text-anchor",st[r]||"left"),i&&+i<12&&(this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform())},dt.prototype._setText=function(t){var e=this.get("el"),i=this.attr(),n=i.x,r=i.textBaseline,o=void 0===r?"bottom":r;if(t)if(~t.indexOf("\n")){var a=t.split("\n"),s=a.length-1,l="";Object(p.each)(a,function(t,e){0===e?"alphabetic"===o?l+='<tspan x="'+n+'" dy="'+-s+'em">'+t+"</tspan>":"top"===o?l+='<tspan x="'+n+'" dy="0.9em">'+t+"</tspan>":"middle"===o?l+='<tspan x="'+n+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===o?l+='<tspan x="'+n+'" dy="-'+(.3+s)+'em">'+t+"</tspan>":"hanging"===o&&(l+='<tspan x="'+n+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+n+'" dy="1em">'+t+"</tspan>"}),e.innerHTML=l}else e.innerHTML=t;else e.innerHTML=""},dt),ct=i(67),ut=i.n(ct),ht=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,pt=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ft=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function dt(){var t=null!==et&&et.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}function gt(){var t=null!==it&&it.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}function yt(t){var e=t.match(ft);if(!e)return"";var i="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),Object(p.each)(e,function(t){t=t.split(":"),i+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),i}var vt,mt=(Bt.prototype.match=function(t,e){return this.cfg===e},Bt),xt={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},bt={x:"-40%",y:"-40%",width:"200%",height:"200%"},_t=(Dt.prototype.match=function(t,e){if(this.type!==t)return!1;var i=!0,n=this.cfg;return Object(p.each)(Object.keys(n),function(t){if(n[t]!==e[t])return i=!1}),i},Dt.prototype.update=function(t,e){var i=this.cfg;return i[xt[t]]=e,this._parseShadow(i,this.el),this},Dt.prototype._parseShadow=function(t,e){var i='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=i},Dt),wt=(Et.prototype.match=function(){return!1},Et.prototype._setDefaultPath=function(t,e){var i=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),i.setAttribute("refX",""+10*Math.cos(Math.PI/6)),i.setAttribute("refY","5")},Et.prototype._setMarker=function(t,e){var i=this.el,n=this.cfg.path,r=this.cfg.d;Object(p.isArray)(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",n),i.appendChild(e),r&&i.setAttribute("refX",""+r/t)},Et.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},Et),Ot=(kt.prototype.match=function(){return!1},kt.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},kt),Mt=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ct=(Lt.prototype.match=function(t,e){return this.cfg===e},Lt),St=(Tt.prototype.find=function(t,e){for(var i=this.children,n=null,r=0;r<i.length;r++)if(i[r].match(t,e)){n=i[r].id;break}return n},Tt.prototype.findById=function(t){for(var e=this.children,i=null,n=0;n<e.length;n++)if(e[n].id===t){i=e[n];break}return i},Tt.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},Tt.prototype.getDefaultArrow=function(t,e){var i=t.stroke||t.strokeStyle;if(this.defaultArrow[i])return this.defaultArrow[i].id;var n=new wt(t,e);return this.defaultArrow[i]=n,this.el.appendChild(n.el),this.add(n),n.id},Tt.prototype.addGradient=function(t){var e=new mt(t);return this.el.appendChild(e.el),this.add(e),e.id},Tt.prototype.addArrow=function(t,e){var i=new wt(t,e);return this.el.appendChild(i.el),this.add(i),i.id},Tt.prototype.addShadow=function(t){var e=new _t(t);return this.el.appendChild(e.el),this.add(e),e.id},Tt.prototype.addPattern=function(t){var e=new Ct(t);return this.el.appendChild(e.el),this.add(e),e.id},Tt.prototype.addClip=function(t){var e=new Ot(t);return this.el.appendChild(e.el),this.add(e),e.id},Tt),jt=(vt=o.AbstractCanvas,Object(r.__extends)(Pt,vt),Pt.prototype.getShapeBase=function(){return n},Pt.prototype.getGroupBase=function(){return S},Pt.prototype.getShape=function(t,e,i){var n=i.target||i.srcElement;if(!a[n.tagName]){for(var r=n.parentNode;r&&!a[r.tagName];)r=r.parentNode;n=r}return this.find(function(t){return t.get("el")===n})},Pt.prototype.createDom=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=new St(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},Pt.prototype.onCanvasChange=function(t){var e=this.get("context"),i=this.get("el");if("sort"===t){var n=this.get("children");n&&n.length&&d(this,function(t,e){return n.indexOf(t)-n.indexOf(e)?1:0})}else if("clear"===t){if(i){i.innerHTML="";var r=e.el;r.innerHTML="",i.appendChild(r)}}else"matrix"===t?g(this):"clip"===t?y(this,e):"changeSize"===t&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},Pt.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();y(this,t),e.length&&l(t,e)},Pt.prototype.initEvents=function(){var t=new ut.a({canvas:this});t.init(),this.set("eventController",t)},Pt.prototype.clearEvents=function(){this.get("eventController").destroy()},Pt),At=i(169).version;function Pt(t){return vt.call(this,Object(r.__assign)(Object(r.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}function Tt(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=Object(p.uniqueId)("defs_");e.id=i,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}function Lt(t){this.cfg={};var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var i=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(i);var n=Object(p.uniqueId)("pattern_");e.id=n,this.el=e,this.id=n,this.cfg=t;var r=Mt.exec(t)[2];i.setAttribute("href",r);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return r.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=r,o.complete?a():(o.onload=a,o.src=o.src),this}function kt(t){this.type="clip",this.cfg={};var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=Object(p.uniqueId)("clip_"),e.id=this.id;var i=t.cfg.el;return e.appendChild(i),this.cfg=t,this}function Et(t,e){this.cfg={};var i=document.createElementNS("http://www.w3.org/2000/svg","marker"),n=Object(p.uniqueId)("marker_");i.setAttribute("id",n);var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("stroke",t.stroke||"none"),r.setAttribute("fill",t.fill||"none"),i.appendChild(r),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto-start-reverse"),this.el=i,this.child=r,this.id=n;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,r):(this.cfg=o,this._setMarker(t.lineWidth,r)),this}function Dt(t){this.type="filter",this.cfg={},this.type="filter";var i=document.createElementNS("http://www.w3.org/2000/svg","filter");return Object(p.each)(bt,function(t,e){i.setAttribute(e,t)}),this.el=i,this.id=Object(p.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,i),this}function Bt(t){this.cfg={};var e,i,n,r,o,a,s,l=null,c=Object(p.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var i,n,r=ht.exec(t),o=Object(p.mod)(Object(p.toRadian)(parseFloat(r[1])),2*Math.PI),a=r[2];n=0<=o&&o<.5*Math.PI?(i={x:0,y:0},{x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(i={x:1,y:0},{x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(i={x:1,y:1},{x:0,y:0}):(i={x:0,y:1},{x:1,y:0});var s=Math.tan(o),l=s*s,c=(n.x-i.x+s*(n.y-i.y))/(1+l)+i.x,u=s*(n.x-i.x+s*(n.y-i.y))/(1+l)+i.y;e.setAttribute("x1",i.x),e.setAttribute("y1",i.y),e.setAttribute("x2",c),e.setAttribute("y2",u),e.innerHTML=yt(a)}(t,l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):(e=t,i=l=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),n=pt.exec(e),r=parseFloat(n[1]),o=parseFloat(n[2]),a=parseFloat(n[3]),s=n[4],i.setAttribute("cx",r),i.setAttribute("cy",o),i.setAttribute("r",a),i.innerHTML=yt(s)),l.setAttribute("id",c),this.el=l,this.id=c,this.cfg=t,this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.timeIntervals={second:{value:1e3,format:"HH:mm:ss"},miniute:{value:6e4,format:"HH:mm"},hour:{value:36e5,format:"HH"},day:{value:864e5,format:"YYYY-MM-DD"},week:{value:6048e5,format:"YYYY-MM-DD"},month:{value:2592e6,format:"YYYY-MM"},year:{value:31536e6,format:"YYYY"}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromArray=function(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)},e.isBrowser="undefined"!=typeof window&&void 0!==window.document;var n=i(31);e.isNil=n.default;var r=i(37);e.isFunction=r.default;var o=i(23);e.isString=o.default;var a=i(50);e.isObject=a.default;var s=i(17);e.isArray=s.default;var l=i(70);e.mix=l.default;var c=i(25);e.each=c.default;var u=i(71);e.upperFirst=u.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(22);e.nearestPoint=function(t,e,i,n,r){for(var o,a=.005,s=1/0,l=[i,n],c=0;c<=20;c++){var u=.05*c,h=[r.apply(null,t.concat([u])),r.apply(null,e.concat([u]))];(g=m.distance(l[0],l[1],h[0],h[1]))<s&&(o=u,s=g)}if(0===o)return{x:t[0],y:e[0]};if(1===o){var p=t.length;return{x:t[p-1],y:e[p-1]}}for(s=1/0,c=0;c<32&&!(a<1e-4);c++){var f=o-a,d=o+a,g=(h=[r.apply(null,t.concat([f])),r.apply(null,e.concat([f]))],m.distance(l[0],l[1],h[0],h[1]));if(0<=f&&g<s)o=f,s=g;else{var y=[r.apply(null,t.concat([d])),r.apply(null,e.concat([d]))],v=m.distance(l[0],l[1],y[0],y[1]);d<=1&&v<s?(o=d,s=v):a*=.5}}return{x:r.apply(null,t.concat([o])),y:r.apply(null,e.concat([o]))}},e.snapLength=function(t,e){for(var i=0,n=t.length,r=0;r<n;r++){var o=t[r],a=e[r],s=t[(r+1)%n],l=e[(r+1)%n];i+=m.distance(o,a,s,l)}return i/2}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var M=i(42),C=i(41);function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function S(t,e){return n(t)*n(e)?(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e)):1}function j(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(S(t,e))}function A(t,e){return t[0]===e[0]&&t[1]===e[1]}e.isSamePoint=A,e.default=function(t,e){var i=e[1],n=e[2],r=M.default(C.default(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(r)*(s-c)/2+Math.sin(r)*(l-u)/2,p=-1*Math.sin(r)*(s-c)/2+Math.cos(r)*(l-u)/2,f=h*h/(i*i)+p*p/(n*n);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f));var d=i*i*(p*p)+n*n*(h*h),g=d?Math.sqrt((i*i*(n*n)-d)/d):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*i*p/n:0,v=i?g*-n*h/i:0,m=(s+c)/2+Math.cos(r)*y-Math.sin(r)*v,x=(l+u)/2+Math.sin(r)*y+Math.cos(r)*v,b=[(h-y)/i,(p-v)/n],_=[(-1*h-y)/i,(-1*p-v)/n],w=j([1,0],b),O=j(b,_);return S(b,_)<=-1&&(O=Math.PI),1<=S(b,_)&&(O=0),0===a&&0<O&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:x,rx:A(t,[c,u])?0:i,ry:A(t,[c,u])?0:n,startAngle:w,endAngle:w+O,xRotation:r,arcFlag:o,sweepFlag:a}}},function(t,e,i){"use strict";var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),(s=e.LAYER||(e.LAYER={})).FORE="fore",s.MID="mid",s.BG="bg",(a=e.DIRECTION||(e.DIRECTION={})).TOP="top",a.TOP_LEFT="top-left",a.TOP_RIGHT="top-right",a.RIGHT="right",a.RIGHT_TOP="right-top",a.RIGHT_BOTTOM="right-bottom",a.LEFT="left",a.LEFT_TOP="left-top",a.LEFT_BOTTOM="left-bottom",a.BOTTOM="bottom",a.BOTTOM_LEFT="bottom-left",a.BOTTOM_RIGHT="bottom-right",a.NONE="none",(o=e.COMPONENT_TYPE||(e.COMPONENT_TYPE={})).AXIS="axis",o.GRID="grid",o.LEGEND="legend",o.TOOLTIP="tooltip",o.ANNOTATION="annotation",o.OTHER="other",e.GROUP_Z_INDEX={FORE:3,MID:2,BG:1},(r=e.VIEW_LIFE_CIRCLE||(e.VIEW_LIFE_CIRCLE={})).BEFORE_RENDER="beforerender",r.AFTER_RENDER="afterrender",r.BEFORE_PAINT="beforepaint",r.AFTER_PAINT="afterpaint",r.BEFORE_CHANGE_DATA="beforechangedata",r.AFTER_CHANGE_DATA="afterchangedata",r.BEFORE_CLEAR="beforeclear",r.AFTER_CLEAR="afterclear",r.BEFORE_DESTROY="beforedestroy",(n=e.PLOT_EVENTS||(e.PLOT_EVENTS={})).MOUSE_ENTER="plot:mouseenter",n.MOUSE_DOWN="plot:mousedown",n.MOUSE_MOVE="plot:mousemove",n.MOUSE_UP="plot:mouseup",n.MOUSE_LEAVE="plot:mouseleave",n.TOUCH_START="plot:touchstart",n.TOUCH_MOVE="plot:touchmove",n.TOUCH_END="plot:touchend",n.TOUCH_CANCEL="plot:touchcancel",n.CLICK="plot:click",n.DBLCLICK="plot:dblclick",n.CONTEXTMENU="plot:contextmenu",n.LEAVE="plot:leave",n.ENTER="plot:enter",e.GROUP_ATTRS=["color","shape","size"],e.FIELD_ORIGIN="_origin",e.MIN_CHART_WIDTH=1,e.MIN_CHART_HEIGHT=1,e.COMPONENT_MAX_VIEW_PERCENTAGE=.25},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerSymbols={hexagon:function(t,e,i){var n=i/2*Math.sqrt(3);return[["M",t,e-i],["L",t+n,e-i/2],["L",t+n,e+i/2],["L",t,e+i],["L",t-n,e+i/2],["L",t-n,e-i/2],["Z"]]},bowtie:function(t,e,i){var n=i-1.5;return[["M",t-i,e-n],["L",t+i,e+n],["L",t+i,e-n],["L",t-i,e+n],["Z"]]},cross:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e+i],["M",t+i,e-i],["L",t-i,e+i]]},tick:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},plus:function(t,e,i){return[["M",t-i,e],["L",t+i,e],["M",t,e-i],["L",t,e+i]]},hyphen:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},line:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);function a(t,e,i,n){return{x:t,y:e,width:i,height:n,minX:t,minY:e,maxX:t+i,maxY:e+n}}function s(t,e,i){return(1-i)*t+e*i}function l(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}function c(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY);return a(i,n,Math.min(t.maxX,e.maxX)-i,Math.min(t.maxY,e.maxY)-n)}e.formatPadding=function(t){var e=0,i=0,n=0,r=0;return o.isNumber(t)?e=i=n=r=t:o.isArray(t)&&(e=t[0],n=o.isNil(t[1])?t[0]:t[1],r=o.isNil(t[2])?t[0]:t[2],i=o.isNil(t[3])?n:t[3]),[e,n,r,i]},e.clearDom=function(t){for(var e=t.childNodes,i=e.length-1;0<=i;i--)t.removeChild(e[i])},e.hasClass=function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},e.regionToBBox=function(t){var e=t.start,i=t.end,n=Math.min(e.x,i.x),r=Math.min(e.y,i.y),o=Math.max(e.x,i.x),a=Math.max(e.y,i.y);return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:a,width:o-n,height:a-r}},e.pointsToBBox=function(t){var e=t.map(function(t){return t.x}),i=t.map(function(t){return t.y}),n=Math.min.apply(Math,e),r=Math.min.apply(Math,i),o=Math.max.apply(Math,e),a=Math.max.apply(Math,i);return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:a,width:o-n,height:a-r}},e.createBBox=a,e.getValueByPercent=s,e.getCirclePoint=function(t,e,i){return{x:t.x+Math.cos(i)*e,y:t.y+Math.sin(i)*e}},e.distance=l,e.wait=function(e){return new Promise(function(t){setTimeout(t,e)})},e.near=function(t,e){return[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<Math.pow(Number.EPSILON,.5)},e.intersectBBox=c,e.mergeBBox=function(t,e){var i=Math.min(t.minX,e.minX),n=Math.min(t.minY,e.minY);return a(i,n,Math.max(t.maxX,e.maxX)-i,Math.max(t.maxY,e.maxY)-n)},e.getBBoxWithClip=function u(t){var e,i=t.getClip(),n=i&&i.getBBox();if(t.isGroup()){var h=1/0,p=-1/0,f=1/0,d=-1/0,r=t.getChildren();0<r.length?o.each(r,function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=u(t),i=t.applyToMatrix([e.minX,e.minY,1]),n=t.applyToMatrix([e.minX,e.maxY,1]),r=t.applyToMatrix([e.maxX,e.minY,1]),o=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(i[0],n[0],r[0],o[0]),s=Math.max(i[0],n[0],r[0],o[0]),l=Math.min(i[1],n[1],r[1],o[1]),c=Math.max(i[1],n[1],r[1],o[1]);a<h&&(h=a),p<s&&(p=s),l<f&&(f=l),d<c&&(d=c)}}):d=f=p=h=0,e=a(h,f,p-h,d-f)}else e=t.getBBox();return n?c(e,n):e},e.updateClip=function(t,e){if(t.getClip()||e.getClip()){var i=e.getClip();if(i){var n={type:i.get("type"),attrs:i.attr()};t.setClip(n)}else t.setClip(null)}},e.toPx=function(t){return t+"px"},e.getTextPoint=function(t,e,i,n){var r=n/l(t,e),o=0;return"start"===i?o=0-r:"end"===i&&(o=1+r),{x:s(t.x,e.x,o),y:s(t.y,e.y,o)}}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});var r=i(187),o=i(26);e.default=((n={})[""+o.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:r.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},n[""+o.TITLE_CLASS]={marginBottom:"4px"},n[""+o.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},n[""+o.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},n[""+o.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},n[""+o.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},n[""+o.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},n[""+o.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.combineFormatter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,i,n){return e.reduce(function(t,e){return e(t,i,n)},t)}},e.getNoopFormatter=function(){return function(t){return t}},e.getPrecisionFormatter=function(i){return function(t){var e=Number(t);return isNaN(e)||n.isNil(i)?t:e.toFixed(i)}},e.getSuffixFormatter=function(e){return function(t){return n.isNil(e)?t:t+" "+e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(24)),a=i(0),s=(n=o.default,r.__extends(l,n),l.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},l.prototype.getState=function(t){return this._states[t]},l.prototype.getAllStates=function(){return this._states},l.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},l.prototype._onUpdate=function(){var n=this,r=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){a.each(r,function(t,e){var i=r[e];n._states[e]&&n._states[e]===t||(n._states[e]=t,n._triggerEvent(e,i))}),n._stateStack={}},16)},l.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},l);function l(){var t=n.call(this)||this;return t._states={},t._stateStack={},t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(0);e.getDataByScaleRange=function(t,e,i,n,r){var o=n[0],a=n[1];void 0===r&&(r=!1);var s=c.groupBy(i,t),l=r?e.slice(e.length-a,e.length-o):e.slice(o,a);return c.flatten(c.map(l,function(t){return s[t]||[]}))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),r=i(0),o=i(12),a=i(45),s=n.getTheme(),l=(c.getGlobalTheme=function(t){return r.isString(t)?o.getGlobalTheme(t):r.deepMix({},o.getGlobalTheme(),t)},c.prototype.getPlotTheme=function(t,e){var i=t.theme;return r.isString(i)?r.deepMix({},o.getGlobalTheme(i),o.getTheme(e)):r.deepMix({},o.getGlobalTheme(),o.getTheme(e),i)},c.prototype.getTheme=function(t,e){var i=o.convertToG2Theme(this.getPlotTheme(t,e));return r.deepMix({},s,i)},c.prototype.getResponsiveTheme=function(t){return a.getResponsiveTheme(t)||a.getResponsiveTheme("default")},c);function c(){}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COLOR_PLATE_10=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],e.COLOR_PLATE_20=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"];var n=i(0);e.DESCRIPTION_BOTTOM_MARGIN=function(t){return t&&"top"===t.split("-")[0]?12:24},e.TOP_BLEEDING=function(t){var e=t.title&&t.title.visible,i=t.description&&t.description.visible;return e||i?12:24},e.BOTTOM_BLEEDING=function(t){return n.some(t.interactions||[],function(t){return("slider"===t.type||"scrollbar"===t.type)&&"vertical"!==(t.cfg&&t.cfg.type)})?8:24},e.DEFAULT_GLOBAL_THEME={width:400,height:400,bleeding:[e.TOP_BLEEDING,24,e.BOTTOM_BLEEDING,24],padding:"auto",defaultColor:"#5B8FF9",colors:e.COLOR_PLATE_10,colors_20:e.COLOR_PLATE_20,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,e.DESCRIPTION_BOTTOM_MARGIN,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(212);e.Line=r.default,e.LineConfig=r.LineConfig;var o=i(248);e.Treemap=o.default,e.TreemapConfig=o.TreemapConfig;var a=i(259);e.StepLine=a.default,e.StepLineConfig=a.StepLineConfig;var s=i(261);e.Bar=s.default,e.BarConfig=s.BarConfig;var l=i(266);e.StackedBar=l.default,e.StackedBarConfig=l.StackedBarConfig;var c=i(268);e.GroupedBar=c.default,e.GroupedBarConfig=c.GroupedBarConfig;var u=i(269);e.PercentStackedBar=u.default,e.PercentStackedBarConfig=u.PercentStackedBarConfig;var h=i(270);e.RangeBar=h.default,e.RangeBarConfig=h.RangeBarConfig;var p=i(274);e.Area=p.default,e.AreaConfig=p.AreaConfig;var f=i(279);e.StackedArea=f.default,e.StackedAreaConfig=f.StackedAreaConfig;var d=i(283);e.PercentStackedArea=d.default,e.PercentStackedAreaConfig=d.PercentStackedAreaConfig;var g=i(284);e.Column=g.default,e.ColumnConfig=g.ColumnConfig;var y=i(58);e.ColumnLabel=y.default;var v=i(290);e.GroupedColumn=v.default,e.GroupedColumnConfig=v.GroupedColumnConfig;var m=i(291);e.StackedColumn=m.default,e.StackedColumnConfig=m.StackedColumnConfig;var x=i(133);e.StackedColumnLabel=x.default;var b=i(293);e.RangeColumn=b.default,e.RangeColumnConfig=b.RangeColumnConfig;var _=i(297);e.PercentStackedColumn=_.default,e.PercentStackedColumnConfig=_.PercentStackedColumnConfig;var w=i(298);e.Pie=w.default,e.PieConfig=w.PieConfig;var O=i(306);e.DensityHeatmap=O.default,e.DensityHeatmapConfig=O.DensityHeatmapConfig;var M=i(313);e.Heatmap=M.default,e.HeatmapConfig=M.HeatmapConfig;var C=i(319);e.WordCloud=C.default,e.WordCloudConfig=C.WordCloudConfig;var S=i(323);e.Rose=S.default,e.RoseConfig=S.RoseConfig;var j=i(325);e.Funnel=j.default,e.FunnelConfig=j.FunnelConfig;var A=i(332);e.StackedRose=A.default,e.StackedRoseConfig=A.StackedRoseConfig;var P=i(334);e.GroupedRose=P.default,e.GroupedRoseConfig=P.GroupedRoseConfig;var T=i(336);e.Radar=T.default,e.RadarConfig=T.RadarConfig;var L=i(340);e.Liquid=L.default,e.LiquidConfig=L.LiquidConfig;var k=i(345);e.Histogram=k.default,e.HistogramConfig=k.HistogramConfig;var E=i(347);e.Density=E.default,e.DensityConfig=E.DensityConfig;var D=i(349);e.Donut=D.default,e.DonutConfig=D.DonutConfig;var B=i(358);e.Waterfall=B.default,e.WaterfallConfig=B.WaterfallConfig;var F=i(363);e.Scatter=F.default,e.ScatterConfig=F.ScatterConfig;var I=i(367);e.Bubble=I.default,e.BubbleConfig=I.BubbleConfig;var R=i(372);e.Bullet=R.default,e.BulletConfig=R.BulletConfig;var N=i(378);e.Calendar=N.default,e.CalendarConfig=N.CalendarConfig;var Y=i(383);e.Gauge=Y.default,e.GaugeConfig=Y.GaugeConfig;var G=i(385);e.FanGauge=G.default,e.FanGaugeConfig=G.FanGaugeConfig;var z=i(387);e.MeterGauge=z.default,e.MeterGaugeConfig=z.MeterGaugeConfig,n.__exportStar(i(389),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=i(0),r=i(4),a=o.__importDefault(i(9)),s=i(13),l=i(21),c=i(222),u=o.__importDefault(i(223));i(124);var h=o.__importDefault(i(125)),p=o.__importStar(i(241)),f=o.__importDefault(i(242));i(243),i(244);var d,g=i(245),y=i(34),v={line:"line",point:"point"},m=(d=a.default,o.__extends(x,d),x.getDefaultOptions=function(){return n.deepMix({},d.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},x.prototype.afterRender=function(){var i=this,t=this.options;this.renderLabel(),t.markerPoints&&(n.each(this.markerPoints,function(t){return t.destroy()}),this.markerPoints=[],t.markerPoints.forEach(function(t){if(t.visible){var e=new f.default(o.__assign(o.__assign({},t),{view:i.view}));i.markerPoints.push(e)}})),t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),d.prototype.afterRender.call(this)},x.prototype.geometryParser=function(t,e){return v[e]},x.prototype.scale=function(){var e=this.options,t={};t[e.xField]={},n.has(e,"xAxis")&&l.extractScale(t[e.xField],e.xAxis),t[e.yField]={},n.has(e,"yAxis")&&l.extractScale(t[e.yField],e.yAxis),this.setConfig("scales",t),l.trySetScaleMinToZero(t[e.yField],n.map(e.data,function(t){return t[e.yField]})),d.prototype.scale.call(this)},x.prototype.coord=function(){},x.prototype.tooltip=function(){n.some(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),d.prototype.tooltip.call(this)},x.prototype.addGeometry=function(){this.addLine(),this.addPoint()},x.prototype.addLine=function(){var t=this.options;this.line=s.getGeom("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},x.prototype.addPoint=function(){var t=this.options;t.point&&(t.point=n.deepMix({visible:!1},t.point)),t.point&&t.point.visible&&(this.point=s.getGeom("point","guide",{plot:this}),this.setConfig("geometry",this.point))},x.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,i=e.label,n=t[e.yField];if(i.visible){var r=y.getGeometryByType(this.view,"line");"line"===i.type?new h.default(o.__assign({view:this.view,plot:this},this.options.label)).render():this.doRenderLabel(r,o.__assign({type:"point",formatter:n.formatter},this.options.label))}},x.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},x.prototype.animation=function(){d.prototype.animation.call(this);var t=this.options;t.animation?(c.getPlotOption({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},x.prototype.applyInteractions=function(){d.prototype.applyInteractions.call(this),this.interactions.push(new g.LineActive({view:this.view})),this.interactions.push(new g.LineSelect({view:this.view}))},x.prototype.parseEvents=function(){d.prototype.parseEvents.call(this,p)},x.prototype.applyResponsive=function(t){var e=this,i=u.default[t];n.each(i,function(t){t.method(e)})},x.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&"line"===this.options.label.type},x);function x(){var t=null!==d&&d.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}e.default=m,r.registerPlotType("line",m)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(46)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField();if(i&&(e.fields=i),o.has(t,"color")){var n=t.color;o.isString(n)?e.values=[n]:o.isFunction(n)?e.callback=n:e.values=n}this.config.color=e},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,i={};o.isFunction(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},s.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=["stackField","seriesField"];e<i.length;e++){var n=i[e];if(o.get(t,n))return[t[n]]}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(7),l=i(0),c=i(20),o=i(78),a=n.__importDefault(i(79)),u=i(12);r.registerShape("line","miniLine",{draw:function(t,e){for(var i=c.lineSimplification(t.points),n=[],r=0;r<i.length;r++){var o=i[r],a=0===r?"M":"L";n.push([a,o.x,o.y])}var s=l.deepMix({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:l.mix({path:n,stroke:t.color||u.getGlobalTheme().defaultColor,lineWidth:t.size||2},s)})}}),r.registerShape("line","miniLineSmooth",{draw:function(t,e){var i=c.lineSimplification(t.points),n=o.getSplinePath(i,!1,[[0,0],[1,1]]);return e.addShape("path",{attrs:l.mix({path:n,stroke:t.color||u.getGlobalTheme().defaultColor,lineWidth:t.size||2},t.style)})}});var s,h=(s=a.default,n.__extends(p,s),p.prototype.init=function(){s.prototype.init.call(this),this.parseShape()},p.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},p);function p(){return null!==s&&s.apply(this,arguments)||this}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(0),r=n.__importStar(i(20)),o=(s.prototype.measure=function(t){return a.deepMix({},r.bboxOnRotate(t),{shape:t})},s.prototype.measureNodes=function(){var n=this,r=[],o=[];a.each(this.shapes,function(t,e){var i=a.deepMix({},n.nodes[e],n.measure(t));0!==i.width&&0!==i.height&&(r.push(i),o.push(t))}),this.nodes=r,this.shapes=o},s.prototype._parserNodes=function(){var i=this;a.each(this.shapes,function(t){var e=i.measure(t);i.nodes.push(e)})},s);function s(t){this.type="shape",this.shapes=t.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=a.deepMix([],this.nodes)}e.default=o},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1),r=n.__importDefault(e(225)),o=n.__importDefault(e(226)),a=n.__importDefault(e(227)),s=n.__importDefault(e(228)),l=n.__importDefault(e(229)),c=n.__importDefault(e(230)),u=n.__importDefault(e(231));i.constraintsLib={elementDist:a.default,elementDistVertical:s.default,elementCollision:o.default,elementWidth:l.default,columnWidth:r.default,ringThickness:u.default,minRingThickness:c.default},i.registerResponsiveConstraint=function(t,e){i.constraintsLib[t]=e}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1),r=n.__importDefault(e(117)),o=n.__importDefault(e(118)),a=n.__importDefault(e(119)),s=n.__importDefault(e(232)),l=n.__importDefault(e(233)),c=n.__importDefault(e(120)),u=n.__importDefault(e(234)),h=n.__importDefault(e(235)),p=n.__importDefault(e(236)),f=n.__importDefault(e(237)),d=n.__importDefault(e(121)),g=n.__importDefault(e(39)),y=n.__importDefault(e(238)),v=n.__importDefault(e(239));i.rulesLib={textWrapper:v.default,textRotation:y.default,textAbbreviate:d.default,textHide:g.default,digitsAbbreviate:a.default,datetimeStringAbbrevaite:o.default,robustAbbrevaite:f.default,nodesResampling:c.default,nodesResamplingByAbbrevate:u.default,nodesResamplingByChange:h.default,nodesResamplingByState:p.default,nodeJitter:s.default,nodeJitterUpward:l.default,clearOverlapping:r.default},i.registerResponsiveRule=function(t,e){i.rulesLib[t]=e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),u=i(0),h=n.__importDefault(i(39));function p(t,e){return!(t.bottom<e.top||e.bottom<t.top||t.right<e.left||e.right<t.left)}e.default=function(t,e,i,n){var r=n.nodes.nodes,o=r[i],a=[];if(!o.shape.get("blank"))for(var s=0;s<r.length;s++){var l=r[s],c=l.shape;s===i||c.get("blank")||p(o,l)&&a.push(l)}0<a.length&&(a.push(o),a.sort(function(t,e){return e.top-t.top}),u.each(a,function(t,e){if(0<e){var i=t.shape;h.default(i),i.set("blank",!0)}}))},e.isNodeOverlap=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),x=n.__importDefault(i(30));function b(t,e){var i,n=Math.abs(t-e),r={minute:[6e4,36e5],hour:[36e5,864e5],day:[864e5,26784e5],month:[26784e5,31536e6],year:[31536e6,1/0]};return o.each(r,function(t,e){n>=t[0]&&n<t[1]&&(i=e)}),i}function _(t,e){return"year"===e?t.getFullYear():"month"===e?t.getMonth()+1:"day"===e?t.getDay()+1:"hour"===e?t.getHours()+1:"minute"===e?t.getMinutes()+1:void 0}e.default=function(t,e,i,n){var r,o=n.nodes.nodes;r=i===o.length-1?o[i-1].shape.get("delegateObject").item.name:o[i+1].shape.get("delegateObject").item.name;var a,s,l,c=new Date(r),u=t.get("delegateObject").item.name,h=new Date(u),p=o[0].shape.get("delegateObject").item.name,f=new Date(p),d=o[o.length-1].shape.get("delegateObject").item.name,g=b(f,new Date(d)),y=b(h,c);if(g!==y){if(0!==i){var v=o[i-1].shape.get("delegateObject").item.name;if(a=g,s=h,l=new Date(v),_(s,a)===_(l,a))return m=function(t,e){for(var i=["year","month","day","hour","minute"],n=["YYYY","MM","DD","HH","MM"],r=i.indexOf(t)+1,o=i.indexOf(e),a="",s=r;s<=o;s++)a+=n[s],s<o&&(a+="-");return a}(g,y),void t.attr("text",x.default.format(h,m))}}else if(0!==i&&i!==o.length-1){var m=["YYYY","MM","DD","HH","MM"][["year","month","day","hour","minute"].indexOf(g)];t.attr("text",x.default.format(h,m))}},e.isTime=function(t){return/^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]$/.test(t)||/^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/.test(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(0),g=i(20),y={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function v(t,e){var i,n;if("auto"===t.unit){var r=Math.floor(Math.log(e)/Math.log(1e3));n=["k","m","b","t"][r-1],i=(e/Math.pow(1e3,r)).toFixed(t.decimal)}else if(t.unit){var o=y[t.unit];n=t.unit,i=(e/o.number).toFixed(t.decimal)}return{num:i,unitname:n}}e.default=function(t,e,i,n){if(d.has(n,"node")&&d.has(n.node,"node")){var r=n.nodes.nodes,o=parseFloat(t.get("origin").text);if(0!==o)if(e.formatter)t.attr("text",e.formatter(o));else if(e.unit){var a=v(e,o),s=a.num,l=a.unitname;t.attr("text",s+l)}else{var c=(p=r,f=[],d.each(p,function(t){var e=parseFloat(t.shape.get("origin").text);f.push(e)}),f),u=(h=g.getMedian(c),l=["k","m","b","t"][Math.floor(Math.log(h)/Math.log(1e3))-1],y[l].number);s=v({unit:l,decimal:function(t,e){var i=Math.floor(Math.log10(e));if(!(e<=t)){var n=Math.floor(Math.log10(t));return Math.abs(n-i)}var r=t%e;if(0<r){var o=Math.floor(Math.log10(r));return Math.abs(o-i)}return 0}(function(t){if(2<=t.length){var e=parseFloat(t[0].shape.get("origin").text),i=parseFloat(t[1].shape.get("origin").text);return Math.abs(e-i)}return 0}(r),u)},o).num,t.attr("text",s+l)}}var h,p,f}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(0),s=n.__importDefault(i(39));function l(t,e,i){var n=[];a.each(t,function(t){"start"===t?n.push(0===e):"end"===t?n.push(e===i.length-1):a.isNumber(t)&&n.push(e===t)});for(var r=0,o=n;r<o.length;r++)if(!0===o[r])return!0;return!1}e.default=function(t,e,i,n){var r=n.nodes.nodes,o=r.length%2!=0;if(!l(e.keep,i,r)){var a=i%2==0;(!o&&a||o&&!a)&&s.default(t)}},e.isKeep=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i,n=e.abbreviateBy?e.abbreviateBy:"end",r=t.attr("text");"end"===n&&(i=r[0]+"..."),"start"===n&&(i="..."+r[r.length-1]),"middle"===n&&(i=r[0]+"..."+r[r.length-1]),t.resetMatrix(),t.attr({text:i,textAlign:"center",textBaseline:"top"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=(o.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},o);function o(t){n.assign(this,t),this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=r.__importDefault(i(114)),s=r.__importDefault(i(80)),o=r.__importDefault(i(122)),l=i(0),c=(n=o.default,r.__extends(u,n),u.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},u.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];l.each(t,function(t){e.push(t.get("children")[0])});var i=new a.default({shapes:e}),n=this.responsiveTheme.label[this.type],r=n.constraints,o=n.rules;new s.default({nodes:i,constraints:r,rules:o,plot:this.plot,region:this.plot.view.coordinateBBox})},u.prototype.getType=function(){return null},u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=e(1),c=e(0),n=l.__importStar(e(32));i.DEFAULT_OFFSET=8;var r,o=(r=n.default,l.__extends(a,r),a.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=c.clone(t.label.style);return{offsetX:0,offsetY:-i.DEFAULT_OFFSET,style:e}},a.prototype.getLabelItemAttrs=function(t,i){var n=this,e=this.options,r=e.style,o=e.formatter,a=t.shape,s=c.get(t,"model.mappingData",[]);return c.map(s,function(t){var e=n.getValue(t);return l.__assign(l.__assign({},n.getPosition(t)),{text:o?o(e,a,i):e,fill:r.fill,stroke:r.stroke,textAlign:"center",textBaseline:"bottom"})})},a.prototype.getValue=function(t){return c.get(t._origin,this.layer.options.yField)},a.prototype.getPosition=function(t){var e=this.options,i=e.offsetX,n=void 0===i?0:i,r=e.offsetY,o=void 0===r?0:r;return{x:(c.isArray(t.x)?c.last(t.x):t.x)+n,y:(c.isArray(t.y)?c.last(t.y):t.y)+o}},a.prototype.adjustLabel=function(){},a);function a(){return null!==r&&r.apply(this,arguments)||this}i.default=o,n.registerLabelComponent("point",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(0),n=(r.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var l=this,t=this.getGeometry().elements;c.each(t,function(t){var e=l.getShapeInfo(t.shape),i=l.options,n=i.style,r=i.offsetX,o=i.offsetY,a=l.options.formatter,s=a?a(e.name):e.name;l.container.addShape("text",{attrs:c.deepMix({},{x:e.x+r,y:e.y+o,text:s,fill:e.color,textAlign:"left",textBaseline:"middle"},n),name:"label"})})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=c.clone(t.label.style);return delete e.fill,{offsetX:8,offsetY:0,style:e}},r.prototype.getGeometry=function(){return c.find(this.view.geometries,function(t){return"line"===t.type})},r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,i=e[e.length-1],n=t.attr("stroke"),r=this.plot.options.seriesField,o=t.get("origin").data[0][r];return{x:i.x,y:i.y,color:n,name:o}},r);function r(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=c.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=i(1),r=i(53),o=i(0);function l(t,e){var i=[],n=t.get("origin").points;return o.each(n,function(t){i.push(e.convertPoint(t))}),i}var n=(a.getDefaultOptions=function(t){var e=t.transpose;return{visible:!0,size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}},animation:o.deepMix({},r.DEFAULT_ANIMATE_CFG)}},a.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",function(){t.clear()})},a.prototype.draw=function(){var i,n,r,o,a=this,t=this.transpose,s=this.view.getScaleByField(this.field).values,e=this.view.geometries[0].getShapes();t?e.forEach(function(t,e){n=s[e],0<e++&&a._drawTag(r,o,t,n),o=n,r=t}):e.forEach(function(t,e){o=s[e],0<e++&&a._drawTag(t,o,i,n),n=o,i=t})},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.remove()},a.prototype._drawTag=function(t,e,i,n){var r=this.transpose,o=this.view.geometries[0].coordinate,a=l(t,o)[r?3:0],s=l(i,o)[r?0:3];this._drawTagArrow(a,s),this._drawTagValue(a,e,s,n)},a.prototype._drawTagArrow=function(t,e){var i,n=this.spacing,r=this.size,o=this.offset,a=this.animation,s=this.transpose,l=this.arrow.headSize,c=e.y-t.y,u=e.x-t.x;i=s?(u-l)/2<n?(n=Math.max(1,(u-l)/2),[[t.x+n,t.y-o],[t.x+n,t.y-o-r],[e.x-n,e.y-o-r/2]]):[[t.x+n,t.y-o],[t.x+n,t.y-o-r],[e.x-n-l,e.y-o-r],[e.x-n,e.y-o-r/2],[e.x-n-l,e.y-o]]:(c-l)/2<n?(n=Math.max(1,(c-l)/2),[[t.x+o,t.y+n],[t.x+o+r,t.y+n],[e.x+o+r/2,e.y-n]]):[[t.x+o,t.y+n],[t.x+o+r,t.y+n],[e.x+o+r,e.y-n-l],[e.x+o+r/2,e.y-n],[e.x+o,e.y-n-l]];var h=this.container.addShape("polygon",{name:"arrow",attrs:g.__assign(g.__assign({},this.arrow.style),{points:i})});!1!==a&&this._fadeInTagShape(h)},a.prototype._drawTagValue=function(t,e,i,n){var r=this.size,o=this.offset,a=this.animation,s=this.transpose,l=this.value.formatter(e,n),c=this.container.addShape("text",{name:"value",attrs:g.__assign(g.__assign({},this.value.style),{text:l,x:s?(t.x+i.x)/2:t.x+o+r/2,y:s?t.y-o-r/2:(t.y+i.y)/2,textAlign:"center",textBaseline:"middle"})});if(s){var u=i.x-t.x,h=c.getBBox().width;if(u<h){var p=h/l.length,f=Math.max(1,Math.ceil(u/p)-1),d=l.slice(0,f)+"...";c.attr("text",d)}}!1!==a&&this._fadeInTagShape(c)},a.prototype._fadeInTagShape=function(t){var e=this.animation,i=t.attr("opacity");t.attr("opacity",0);var n=o.get(e,"appear",r.DEFAULT_ANIMATE_CFG.appear).duration;t.animate({opacity:i},n)},a);function a(t){o.deepMix(this,this.constructor.getDefaultOptions(t),t),this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),l=i(0),n=s.__importStar(i(32)),a=i(28),r=s.__importDefault(i(10));e.DEFAULT_OFFSET=8;var o,c=(o=n.default,s.__extends(u,o),u.prototype.getLabelItemAttrs=function(t,e){var i=this.options,n=i.style,r=i.formatter,o=t.shape,a=this.getValue(t);return l.deepMix({},n,s.__assign(s.__assign({},this.getPosition(t)),{text:r?r(a,o,e):a,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline(t)}))},u.prototype.adjustLabel=function(t,e){var i=this.options,n=i.adjustPosition,r=i.style;if(n){var o=t.getBBox(),a=this.getElementShapeBBox(e);if(a.width<=o.width){var s=a.maxX+this.options.offsetX;t.attr("x",s),t.attr("fill",r.fill)}}},u.prototype.getDefaultOptions=function(){var t=this.layer.theme.label.style;return{offsetX:e.DEFAULT_OFFSET,offsetY:0,style:l.clone(t),adjustPosition:!0}},u.prototype.getValue=function(t){return l.get(t.getData(),this.layer.options.xField)},u.prototype.getPosition=function(t){var e=this.getValue(t),i=this.getElementShapeBBox(t),n=i.minX,r=i.maxX,o=i.minY,a=i.height,s=i.width,l=this.options,c=l.offsetX,u=l.offsetY,h=l.position,p=e<0?-1:1;return{x:"left"===h?(0<e?n:r)+c*p:"right"===h?r+c*p:n+s/2,y:o+a/2+u}},u.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"right"!==this.options.position){var i=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,r=a.rgb2arr(i),o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n;return a.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],o)}return this.options.style.fill},u.prototype.getTextStroke=function(t){var e=this.getTextFill(t),i=this.options,n=i.position,r=i.adjustColor;return"right"!==n&&r&&"black"!==e?null:void 0},u.prototype.getTextAlign=function(t){var e=this.getValue(t),i=this.options.position;return e<0?{right:"right",left:"right",middle:"center"}[i]:{right:"left",left:"left",middle:"center"}[i]},u.prototype.getTextBaseline=function(t){return"middle"},u.prototype.getElementShapeBBox=function(t){var e=this,i=t.shape,n=[];return l.each(i.get("origin").points,function(t){n.push(e.coord.convertPoint(t))}),new r.default(n[0].x,n[2].y,Math.abs(n[1].x-n[0].x),Math.abs(n[0].y-n[2].y))},u);function u(){return null!==o&&o.apply(this,arguments)||this}e.default=c,n.registerLabelComponent("bar",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),l=i(0),o=i(4),a=(n=r.__importDefault(i(57)).default,r.__extends(s,n),s.getDefaultOptions=function(){return l.deepMix({},n.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",offset:8,adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},s.prototype.afterRender=function(){n.prototype.afterRender.call(this);var s=l.valuesOfKey(this.options.data,this.options.groupField);this.view.on("tooltip:change",function(t){for(var e=t.items,i=l.clone(e),n=0;n<s.length;n++)for(var r=s[n],o=0;o<i.length;o++){var a=i[o];a.name===r&&(t.items[n]=a)}})},s.prototype.scale=function(){var t={};t[this.options.groupField]={values:l.valuesOfKey(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=l.deepMix({},this.options.meta,t):this.options.meta=t,n.prototype.scale.call(this)},s.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},s.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupedBar",t}e.default=a,o.registerPlotType("groupedBar",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),r=i(0),a=i(4),s=n.__importDefault(i(81)),l=i(82),c=(o=s.default,n.__extends(u,o),u.getDefaultOptions=function(){return r.deepMix({},o.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){return t.replace(/%/gi,"")}}}})},u.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField,r=o.prototype.processData.call(this,t);return l.transformDataPercentage(r,n,[i])},u.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=t,o.prototype.scale.call(this)},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="percentStackedBar",t}e.default=c,a.registerPlotType("percentStackedBar",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=r.__importDefault(i(84)),l=i(82),c=(n=s.default,r.__extends(u,n),u.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){return t.replace(/%/gi,"")}}}})},u.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return l.transformDataPercentage(t,i,[n])},u.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=o.deepMix({},t,this.options.meta),n.prototype.scale.call(this)},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="percentStackedArea",t}e.default=c,a.registerPlotType("percentStackedArea",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Column:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=(n=r.__importDefault(i(48)).default,r.__extends(l,n),l.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},l.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},l.prototype.addGeometry=function(){n.prototype.addGeometry.call(this)},l.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},l.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupedColumn",t}e.default=s,a.registerPlotType("groupedColumn",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(32),a=(n=r.__importDefault(i(58)).default,r.__extends(s,n),s.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var i=t.getBBox();this.getElementShapeBBox(e).height<i.height&&t.hide()}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,o.registerLabelComponent("stacked-column",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=r.__importDefault(i(85)),l=i(82),c=(n=s.default,r.__extends(u,n),u.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},u.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return l.transformDataPercentage(t||[],i,[n])},u.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=t,n.prototype.scale.call(this)},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="percentStackedColumn",t}e.default=c,a.registerPlotType("percentStackedColumn",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=n.__importStar(i(299)),a=n.__importDefault(i(9)),s=i(13),l=i(136),c=n.__importDefault(i(304)),u=i(4);i(305);var h,p={pie:"interval"},f={pie:"column"},d=(h=a.default,n.__extends(g,h),g.getDefaultOptions=function(){return r.deepMix({},h.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},g.prototype.afterRender=function(){h.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if("spider"===e.type)this.labelComponent=new c.default(n.__assign({view:this.view,fields:t.colorField?[t.angleField,t.colorField]:[t.angleField]},this.options.label)),this.labelComponent.render();else{var i=l.getPieLabel(e.type);this.labelComponent=new i(this,t.label),this.labelComponent.render()}}},g.prototype.geometryParser=function(t,e){return"g2"===t?p[e]:f[e]},g.prototype.scale=function(){var t=this.options;h.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=r.deepMix({},this.config.scales,e),this.setConfig("scales",e)},g.prototype.processData=function(t){var i=this.options.angleField;return t.map(function(t){var e;return n.__assign(n.__assign({},t),((e={})[i]="string"==typeof t[i]?Number.parseFloat(t[i]):t[i],e))})},g.prototype.axis=function(){},g.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{plot:this,positionFields:[1,t.angleField]});e.adjust=[{type:"stack"}],this.pie=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},g.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields&&(this.pie.tooltip.fields=t.fields),t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},g.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.pie.animate=!1)},g.prototype.annotation=function(){},g.prototype.parseEvents=function(t){t?h.prototype.parseEvents.call(this,t):h.prototype.parseEvents.call(this,o)},g.prototype.label=function(){this.pie.label=!1},g);function g(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="pie",t}e.default=d,u.registerPlotType("pie",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(59);e.PieLabelConfig=r.PieLabelConfig;var o=n.__importDefault(i(301)),a=n.__importDefault(i(302)),s=n.__importDefault(i(303)),l={inner:o.default,outer:a.default,"outer-center":s.default};e.getPieLabel=function(t){if(l[t])return l[t];console.warn("this label "+t+" is not registered")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(5),o=i(0),a=i(4),s=n.__importDefault(i(135)),l=n.__importDefault(i(350));i(353);var c,u=n.__importStar(i(354)),h=n.__importDefault(i(355)),p=i(136),f={ring:"interval"},d={interval:"ring"},g=(c=s.default,n.__extends(y,c),y.getDefaultOptions=function(){return o.deepMix({},c.getDefaultOptions.call(this),{radius:.6,innerRadius:.64,statistic:{visible:!0,totalLabel:"总计",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},y.prototype.beforeInit=function(){c.prototype.beforeInit.call(this),y.centralId++,this.statisticClass="statisticClassId"+y.centralId,this.adjustLabelDefaultOptions(),this.options.statistic&&this.options.statistic.triggerOn&&(this.options.tooltip.visible=!1),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},y.prototype.afterRender=function(){var t=this.options,e=this.canvas.get("container");if(this.statistic&&e.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var i=this.canvas.get("container");r.modifyCSS(i,{position:"relative"}),this.statistic=new h.default(n.__assign({container:i,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}t.label&&t.label.visible&&new(p.getPieLabel(t.label.type))(this,t.label).render()},y.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),c.prototype.destroy.call(this)},y.prototype.geometryParser=function(t,e){return"g2"===t?f[e]:d[e]},y.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},y.prototype.parseEvents=function(){c.prototype.parseEvents.call(this,u)},y.prototype.applyResponsive=function(t){var e=this,i=l.default[t];o.each(i,function(t){t.method(e)})},y.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&"inner"===t.type){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},y.centralId=0,y);function y(){var t=null!==c&&c.apply(this,arguments)||this;return t.type="donut",t}e.default=g,a.registerPlotType("donut",g)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),l=i(0),n=i(4),r=s.__importDefault(i(9)),o=i(13),a=i(21),c=s.__importDefault(i(364)),u=s.__importDefault(i(365)),h=s.__importStar(i(139)),p=i(18);i(366);var f,d={scatter:"point"},g={point:"point"},y=(f=r.default,s.__extends(v,f),v.getDefaultOptions=function(){return l.deepMix({},f.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},v.prototype.afterRender=function(){f.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new c.default(s.__assign({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new u.default(s.__assign({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},v.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),f.prototype.destroy.call(this)},v.prototype.isValidLinearValue=function(t){return!l.isNil(t)&&!Number.isNaN(Number(t))},v.prototype.processData=function(t){var e=this,i=this.options,n=i.xField,r=i.yField,o=l.get(this.options,["xAxis","type"],"linear"),a=l.get(this.options,["yAxis","type"],"linear");return o&&a?t.filter(function(t){return!("linear"===o&&!e.isValidLinearValue(t[n])||"linear"===a&&!e.isValidLinearValue(t[r]))}).map(function(t){var e;return s.__assign(s.__assign({},t),((e={})[n]=("linear"===o?Number:String)(t[n]),e[r]=("linear"===a?Number:String)(t[r]),e))}):t},v.prototype.geometryParser=function(t,e){return"g2"===t?d[e]:g[e]},v.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},l.has(t,"xAxis")&&a.extractScale(e[t.xField],t.xAxis),e[t.yField]={},l.has(t,"yAxis")&&a.extractScale(e[t.yField],t.yAxis);var i=l.find(t.interactions,function(t){return"timeline"===t.type});if(i&&l.get(i,"cfg.key")){var n=i.cfg.key;e[n]?e[n].key=!0:e[n]={key:!0}}this.setConfig("scales",e),f.prototype.scale.call(this)},v.prototype.coord=function(){},v.prototype.annotation=function(){},v.prototype.addGeometry=function(){var t=o.getGeom("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,i=e.showTitle,n=e.titleField;this.extractTooltip(),this.setConfig("tooltip",s.__assign({showTitle:i,title:i?n:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},v.prototype.label=function(){var t=this.options;if(!1!==t.label.visible){var e=p.getComponent("label",s.__assign(s.__assign({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)}else this.points&&(this.points.label=!1)},v.prototype.animation=function(){f.prototype.animation.call(this),!1===this.options.animation&&(this.points.animate=!1)},v.prototype.parseEvents=function(t){f.prototype.parseEvents.call(this,t||h)},v.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},v);function v(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="scatter",t}e.default=y,n.registerPlotType("scatter",y)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Point:"point",Trendline:"trendline",Confidence:"confidence",Quadrant:"quadrant",QuadrantLabel:"quadrant-label",QuadrantLine:"quadrant-line"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),M=i(0),n=i(29),O=i(12),C=i(44),r=(o.prototype.setOption=function(t,e){this.type=t,this.options=e,this.axis=e.axis,this.pivot=e.pivot},o.prototype.render=function(){var f=this;n.registerShape("point","gauge",{draw:function(t,e){this.gauge={},this.gauge.options=f.options,this.gauge.axis=f.axis,this.gauge.pivot=f.pivot,this.gauge.type=f.type;var i=this.gauge,n=this.gauge.type,r=t.points[0],o=this.parsePoint({x:0,y:0}),a=this.parsePoint({x:r.x||0,y:1});i.center=o,i.group=e;var s=o.x-a.x,l=o.y-a.y;this.gauge.ringRadius=Math.sqrt(s*s+l*l);var c=this.getAngleRange(),u=c.starAngle,h=c.endAngle,p=r.x*(h-u)+u;switch(n){case"meterGauge":this.drawBarGauge(p),this.gauge.axis.visible&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(p),this.gauge.axis.visible&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(p),this.gauge.axis.visible&&this.drawAxis()}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,i=t.max,n=t.range,r=t.color,o=t.rangeStyle,a=r||O.getGlobalTheme().colors,s=this.getAngleRange(),l={min:e,max:i,starAngle:s.starAngle,endAngle:s.endAngle},c=0;c<n.length;c++){var u=this.valueToAngle(n[c],l),h=this.valueToAngle(n[c+1],l);if(u<=h){var p=this.getPath(u,h),f=M.deepMix({fill:a[c]},o);this.drawRing(p,f)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,i=t.endAngle,n=this.gauge.options.rangeBackgroundStyle,r=this.getPath(e,i);this.drawRing(r,n)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,i=this.gauge.ringStyle.color,n=this.getPath(e,t);this.drawRing(n,i)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,i=t.max,n=t.axis,r=this.getAngleRange(),o={min:e,max:i,starAngle:r.starAngle,endAngle:r.endAngle},a=(i-e)/n.tickCount,s=0;s<n.tickCount;s++){var l=e+s*a,c=this.valueToAngle(l+a/2,o);this.drawRect(c,{length:n.tickLine.length,style:n.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,i=e.min,n=e.max,r=this.getAngleRange(),o={min:i,max:n,starAngle:r.starAngle,endAngle:r.endAngle},a=(n-i)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=i+s*a,c=this.valueToAngle(l,o),u=M.clone(t.tickLine.style);s%5!=0&&(u.lineWidth=u.lineWidth/2),this.drawRect(c,{length:s%5==0?t.tickLine.length:t.tickLine.length/2,style:u})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,i=e.min,n=e.max,r=this.getAngleRange(),o={min:i,max:n,starAngle:r.starAngle,endAngle:r.endAngle},a=(n-i)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=i+s*a,c=this.valueToAngle(l,o);this.drawRect(c,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,i=this.gauge.options,n=i.min,r=i.max,o=i.range,a=i.color,s=i.rangeStyle,l=i.rangeBackgroundStyle,c=a||O.getGlobalTheme().colors,u=this.getAngleRange(),h=u.starAngle,p=u.endAngle,f={min:n,max:r,starAngle:h,endAngle:p},d=(p-h)/49,g=d/3,y=0;y<50;y++){var v=h+y*d,m=this.getPath(v-g/2,v+g-g/2),x=l;if(o&&o.length){var b=o.map(function(t){return e.valueToAngle(t,f)}),_=C.sortedLastIndex(b,v),w=Math.min(_,o.length-1);x=M.deepMix({},{fill:c[w-1]},s)||l}else x=v<=t?M.deepMix({},{fill:a},s):l;this.drawRing(m,x)}},getAngleRange:function(){var t=90-.5*(360-this.gauge.options.angle);return{starAngle:(180-t)*Math.PI/180,endAngle:(360+t)*Math.PI/180}},valueToAngle:function(t,e){var i=e.min,n=e.max,r=e.starAngle,o=e.endAngle;if(t===n)return o;if(t===i)return r;var a=(t-i)/(n-i);n===i&&(a=1);var s=a*(o-r)+r;return s=Math.max(s,r),Math.min(s,o)},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:M.deepMix({},{path:t},e)})},drawRect:function(t,e){var i,n=this.gauge.axis,r=p.__assign(p.__assign({},n),e),o=r.offset,a=r.length,s=this.gauge.center,l=(i=o<0?this.gauge.ringRadius-this.gauge.options.rangeSize+o:this.gauge.ringRadius+o)*Math.cos(t)+s.x,c=i*Math.sin(t)+s.y,u=(i+a)*Math.cos(t)+s.x,h=(i+a)*Math.sin(t)+s.y;this.gauge.group.addShape("line",{attrs:M.deepMix({},{x1:l,y1:c,x2:u,y2:h},e.style)})},getPath:function(t,e){var i=this.gauge.center,n=this.gauge.ringRadius,r=this.gauge.options.rangeSize,o=n*Math.cos(t)+i.x,a=n*Math.sin(t)+i.y,s=(n-r)*Math.cos(t)+i.x,l=(n-r)*Math.sin(t)+i.y,c=n*Math.cos(e)+i.x,u=n*Math.sin(e)+i.y,h=(n-r)*Math.cos(e)+i.x,p=(n-r)*Math.sin(e)+i.y,f=Math.abs(t-e)>Math.PI?1:0;return[["M",o,a],["A",n,n,0,f,1,c,u],["L",h,p],["A",n-r,n-r,0,f,0,s,l],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),i=e.starAngle,n=e.endAngle,r=this.gauge.options,o=r.radius,a=r.rangeSize,s=this.gauge.pivot,l=s.thickness,c=s.thickness/2.5,u=this.gauge.group,h=t.points[0],p=this.parsePoint({x:0,y:0}),f=h.x*(n-i)+i,d={x:(this.gauge.ringRadius-a)*o*Math.cos(f)+this.gauge.center.x,y:(this.gauge.ringRadius-a)*o*Math.sin(f)+this.gauge.center.y};if(s.base.visible&&u.addShape("circle",{attrs:M.deepMix({},{x:p.x,y:p.y,r:s.base.size?s.base.size/2:2.2*l},s.base.style)}),s.pointer.visible){var g={x:p.x-d.x,y:p.y-d.y},y=Math.sqrt(g.x*g.x+g.y*g.y);g.x*=1/y,g.y*=1/y;var v=-Math.PI/2,m=Math.cos(v)*g.x-Math.sin(v)*g.y,x=Math.sin(v)*g.x+Math.cos(v)*g.y,b=Math.PI/2,_=Math.cos(b)*g.x-Math.sin(b)*g.y,w=Math.sin(b)*g.x+Math.cos(b)*g.y,O=[["M",d.x+m*c,d.y+x*c],["L",p.x+m*l,p.y+x*l],["L",p.x+_*l,p.y+w*l],["L",d.x+_*c,d.y+w*c],["Z"]];u.addShape("path",{attrs:M.deepMix({},{path:O},s.pointer.style)}),u.addShape("circle",{attrs:{x:d.x,y:d.y,r:c,fill:s.pointer.style.fill}}),u.addShape("circle",{attrs:{x:p.x,y:p.y,r:l,fill:s.pointer.style.fill}})}s.pin.visible&&u.addShape("circle",{attrs:M.deepMix({},{x:p.x,y:p.y,r:c/1.2},s.pin.style)})}})},o);function o(t){this.uid=t}e.GaugeShape=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=i(0),o=i(4),s=i(13),l=r.__importDefault(i(49)),c=r.__importDefault(i(400)),u=r.__importStar(i(401)),h={progress:"interval"},p={interval:"progress"},f=["#55A6F3","#E8EDF3"],d=(n=l.default,r.__extends(g,n),g.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||f};t=a.mix(t,e)},g.prototype.init=function(){this.processProps(),n.prototype.init.call(this)},g.prototype.beforeInit=function(){var t=this.options.percent;if(!a.isNumber(t))throw new Error("Percent value is required, and the type of percent must be Number.")},g.prototype.update=function(t){var e=this.options;if(a.hasKey(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var i=void 0;i=a.isArray(t.color)?(this.options.color=t.color,[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,{fill:t.color}),this.styleUpdateAnimation(i)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},g.prototype.destroy=function(){this.markers&&0<this.markers.length&&(a.each(this.markers,function(t){t.destroy()}),this.markers=[]),n.prototype.destroy.call(this)},g.prototype.afterRender=function(){var n=this;this.options.marker&&!this.markers&&(this.markers=[],a.each(this.options.marker,function(t){var e=a.mix({canvas:n.canvas,view:n.view,progressSize:n.options.barSize},t),i=new c.default(e);n.markers.push(i)}));var t=this.view.geometries[0].container,e=t.getBBox(),i=t.addShape("rect",{attrs:{width:e.width,height:e.height,x:e.minX,y:e.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),i.on("mouseenter",function(t){n.isEntered=!0,n.view.emit("progress:mouseenter",t)}),i.on("mouseleave",function(t){n.isEntered=!1,n.view.emit("progress:mouseleave",t)}),this.canvas.get("container").addEventListener("mouseleave",function(t){n.isEntered&&(n.view.emit("progress:mouseleave",t),n.isEntered=!1)})},g.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},g.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],a.has(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},g.prototype.parseEvents=function(t){t?n.prototype.parseEvents.call(this,t):n.prototype.parseEvents.call(this,u)},g.prototype.parseColorProps=function(t){var e;if(t.color){if(e=a.isFunction(t.color)?t.color(t.percent):t.color,a.isString(e)){var i=a.clone(f);return i[0]=e,i}return e}return t.color},g.prototype.processData=function(){var t=this.options;return[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}]},g.prototype.updateMarkers=function(i){var n=i.length,r=this.getUpdateAnimationOptions();if(a.each(this.markers,function(t,e){n-1<e?t.destroy():t.update(i[e],r.duration,r.easing)}),this.markers.length<n)for(var t=this.markers.length;t<n;t++){var e=a.deepMix({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},i[t]),o=new c.default(e);this.markers.push(o)}},g.prototype.getSize=function(){return 50<=this.height?10:4},g.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),i=e.duration,n=e.easing,r=[],o=this.view.geometries;a.each(o,function(t){if("interval"===t.type){var e=t.elements;a.each(e,function(t){r.push.apply(r,t.shape)})}}),a.isArray(t)?a.each(t,function(t,e){r[e].animate(t,i,n)}):r[0].animate(t,i,n)},g.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",i=this.options.animation;return i&&i.update&&(i.update.duration&&(t=i.update.duration),i.update.easing&&(e=i.update.easing)),{duration:t,easing:e}},g.prototype.updateColorConfigByStyle=function(t){var i=this;a.isArray(t)?a.each(t,function(t,e){t.fill&&(i.options.color[e]=t.fill)}):t.fill&&(this.options.color[0]=t.fill)},g);function g(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}e.default=d,o.registerPlotType("progress",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),o=i(33),r=["line","area","column","bar","bubble","scatter"];function a(t,e){return!(!n.contains(r,t)||"line"===t&&n.has(e,"seriesField")||"column"===t&&n.has(e,"colorField"))}e.getColorConfig=function(t,e,i){if(e.color)return{single:!1,color:e.color};var n=a(t,e),r=o.getGlobalTheme().colors;return n&&!e.color?{single:!0,color:r[i]}:void 0},e.isSingleGraph=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(10)),a=n.__importStar(i(0)),h=i(33);e.getOverlappingPadding=function(t,e){var i=h.getGlobalTheme().bleeding;a.isArray(i)&&a.each(i,function(t,e){"function"==typeof i[e]&&(i[e]=i[e]({}))});var s=t.layerBBox.minX,l=t.layerBBox.maxX,c=a.clone(t.layerBBox.minY),u=t.layerBBox.maxY;a.each(e,function(t){var e=t.position,i=t.getBBox(),n=i.minX,r=i.maxX,o=i.minY,a=i.maxY;c<a&&a<u&&"top"===e&&(c=a),c<o&&u<a&&"bottom"===e&&(u=o),c<o&&o<=u&&"bottom"===e&&(u=o),s<r&&r<l&&"left"===e&&(s=r),s<n&&r<l&&"right"===e&&(l=n)});var n=new o.default(s,c,l-s,u-c),r=n.minY-t.layerBBox.minY;return 0===r&&(r=i[0]),[r,t.layerBBox.maxX-n.maxX,t.layerBBox.maxY-n.maxY,n.minX-t.layerBBox.minX]}},function(t,u,e){"use strict";(function(e){var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n};Object.defineProperty(u,"__esModule",{value:!0});var a=function(t,e,i){this.name=t,this.version=e,this.os=i};u.BrowserInfo=a;var t=function(t){this.version=t,this.name="node",this.os=e.platform};u.NodeInfo=t;var s=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};u.BotInfo=s;var l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],o=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function i(o){var t=""!==o&&l.reduce(function(t,e){var i=e[0],n=e[1];if(t)return t;var r=n.exec(o);return!!r&&[i,r]},!1);if(!t)return null;var e=t[0],i=t[1];if("searchbot"===e)return new s;var n=i[1]&&i[1].split(/[._]/).slice(0,3);return n?n.length<3&&(n=r(n,function(t){for(var e=[],i=0;i<t;i++)e.push("0");return e}(3-n.length))):n=[],new a(e,n.join("."),c(o))}function c(t){for(var e=0,i=o.length;e<i;e++){var n=o[e],r=n[0];if(n[1].test(t))return r}return null}function n(){return void 0!==e&&e.version?new t(e.version.slice(1)):null}u.detect=function(t){return t?i(t):"undefined"!=typeof navigator?i(navigator.userAgent):n()},u.parseUserAgent=i,u.detectOS=c,u.getNodeVersion=n}).call(this,e(168))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(174),l=i(175),c=i(23);e.default=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(c.default(e)||c.default(i))return!1;if(l.default(e)||l.default(i)){if(e.length!==i.length)return!1;for(var n=!0,r=0;r<e.length&&(n=t(e[r],i[r]));r++);return n}if(s.default(e)||s.default(i)){var o=Object.keys(e),a=Object.keys(i);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=t(e[o[r]],i[o[r]]));r++);return n}return!1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(176),c=i(177),u=i(0);function h(t){for(var e=[],i=t.length,n=0;n<i-1;n++){var r=t[n],o=t[n+1];e.push({from:{x:r[0],y:r[1]},to:{x:o[0],y:o[1]}})}if(1<e.length){var a=t[0],s=t[i-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e}function p(t){var e=t.map(function(t){return t[0]}),i=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,i),maxY:Math.max.apply(null,i)}}e.default=function(e,i){if(e.length<2||i.length<2)return!1;var t=p(e),n=p(i);if(n.minX>t.maxX||n.maxX<t.minX||n.minY>t.maxY||n.maxY<t.minY)return!1;var r=!1;if(u.each(i,function(t){if(l.default(e,t[0],t[1]))return!(r=!0)}),r)return!0;if(u.each(e,function(t){if(l.default(i,t[0],t[1]))return!(r=!0)}),r)return!0;var o=h(e),a=h(i),s=!1;return u.each(a,function(t){if(e=o,i=t,n=!1,u.each(e,function(t){if(c.default(t.from,t.to,i.from,i.to))return!(n=!0)}),n)return!(s=!0);var e,i,n}),s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var M=i(178);function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function C(t,e){return n(t)*n(e)?(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e)):1}function S(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))}e.default=function(t,e){var i=e[1],n=e[2],r=M.mod(M.toRadian(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(r)*(s-c)/2+Math.sin(r)*(l-u)/2,p=-1*Math.sin(r)*(s-c)/2+Math.cos(r)*(l-u)/2,f=h*h/(i*i)+p*p/(n*n);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f));var d=i*i*(p*p)+n*n*(h*h),g=d?Math.sqrt((i*i*(n*n)-d)/d):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*i*p/n:0,v=i?g*-n*h/i:0,m=(s+c)/2+Math.cos(r)*y-Math.sin(r)*v,x=(l+u)/2+Math.sin(r)*y+Math.cos(r)*v,b=[(h-y)/i,(p-v)/n],_=[(-1*h-y)/i,(-1*p-v)/n],w=S([1,0],b),O=S(b,_);return C(b,_)<=-1&&(O=Math.PI),1<=C(b,_)&&(O=0),0===a&&0<O&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:x,rx:M.isSamePoint(t,[c,u])?0:i,ry:M.isSamePoint(t,[c,u])?0:n,startAngle:w,endAngle:w+O,xRotation:r,arcFlag:o,sweepFlag:a}}},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);n.__exportStar(i(97),e);var r=i(43);e.Layer=r.default,e.LayerConfig=r.LayerConfig;var o=i(9);e.ViewLayer=o.default,e.ViewConfig=o.ViewConfig;var a=i(3);e.Base=a.default,e.PlotConfig=a.PlotConfig,n.__exportStar(i(110),e);var s=i(49);e.TinyLayerConfig=s.TinyLayerConfig;var l=i(399);e.Progress=l.default,e.ProgressConfig=l.ProgressConfig;var c=i(402);e.RingProgress=c.default,e.RingProgressConfig=c.RingProgressConfig;var u=i(405);e.TinyColumn=u.default,e.TinyColumnConfig=u.TinyColumnConfig;var h=i(408);e.TinyArea=h.default,e.TinyAreaConfig=h.TinyAreaConfig;var p=i(411);e.TinyLine=p.default,e.TinyLineConfig=p.TinyLineConfig;var f=i(414);e.OverlappedComboPlot=f.default,e.OverlappedComboPlotConfig=f.OverlappedComboPlotConfig;var d=i(12);e.registerTheme=d.registerTheme,e.registerGlobalTheme=d.registerGlobalTheme;var g=i(115);e.registerResponsiveConstraint=g.registerResponsiveConstraint,e.IConstraint=g.IConstraint;var y=i(116);e.registerResponsiveRule=y.registerResponsiveRule;var v=i(45);e.registerResponsiveTheme=v.registerResponsiveTheme,e.getResponsiveTheme=v.getResponsiveTheme;var m=i(106);e.StateManager=m.default},function(t){t.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.0","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/gl-matrix":"~2.7.1","@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.1","@antv/matrix-util":"^2.0.4","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9"},"__npminstall_done":"Wed Apr 08 2020 17:19:30 GMT+0800 (China Standard Time)","gitHead":"95487b1e5ded41f5db351a622adf12659f564d8b","_from":"@antv/g-base@0.4.0","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-base/download/@antv/g-base-0.4.0.tgz"}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(31);e.default=function(t){return n.default(t)?"":t.toString()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=new Map;e.register=function(t,e){n.set(t,e)},e.getMethod=function(t){return n.get(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),i=e.x,n=e.y,r=e.r;return{x:i-r,y:n-r,width:2*r,height:2*r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(22),h=i(75);e.default=function(t){for(var e=t.attr().points,i=[],n=[],r=0;r<e.length;r++){var o=e[r];i.push(o[0]),n.push(o[1])}var a=u.getBBoxByArray(i,n),s=a.x,l=a.y,c={minX:s,minY:l,maxX:s+a.width,maxY:l+a.height};return{x:(c=h.mergeArrowBBox(t,c)).minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(22);e.default=function(t){for(var e=t.attr().points,i=[],n=[],r=0;r<e.length;r++){var o=e[r];i.push(o[0]),n.push(o[1])}return a.getBBoxByArray(i,n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(64);e.default=function(t){var e=t.attr(),i=e.x,n=e.y,r=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s=s||d.assembleFont(e);var l,c=d.getTextWidth(r,s);if(c){var u=e.textAlign,h=e.textBaseline,p=d.getTextHeight(r,o,a),f={x:i,y:n-p};u&&("end"===u||"right"===u?f.x-=c:"center"===u&&(f.x-=c/2)),h&&("top"===h?f.y+=p:"middle"===h&&(f.y+=p/2)),l={x:f.x,y:f.y,width:c,height:p}}else l={x:i,y:n,width:0,height:0};return l}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=null;e.getOffScreenContext=function(){if(!n){var t=document.createElement("canvas");t.width=1,t.height=1,n=t.getContext("2d")}return n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var y=i(92),v=i(36),m=i(160),l=i(93),h=i(51),c=i(75);function x(t,e){var i=t.prePoint,n=t.currentPoint,r=t.nextPoint,o=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),a=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),s=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||h.default(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(r[1]-n[1],r[0]-n[0])),u=Math.abs(Math.atan2(r[0]-n[0],r[1]-n[1]));return c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u,{xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(u-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}e.default=function(t){var e=t.attr(),i=e.path,n=e.stroke?e.lineWidth:0,r=function(t,e){for(var i=[],n=[],r=[],o=0;o<t.length;o++){var a=(g=t[o]).currentPoint,s=g.params,l=g.prePoint,c=void 0;switch(g.command){case"Q":c=y.default.box(l[0],l[1],s[1],s[2],s[3],s[4]);break;case"C":c=v.default.box(l[0],l[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var u=g.arcParams;c=m.default.box(u.cx,u.cy,u.rx,u.ry,u.xRotation,u.startAngle,u.endAngle);break;default:i.push(a[0]),n.push(a[1])}c&&(g.box=c,i.push(c.x,c.x+c.width),n.push(c.y,c.y+c.height)),e&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&r.push(g)}i=i.filter(function(t){return!Number.isNaN(t)}),n=n.filter(function(t){return!Number.isNaN(t)});var h=Math.min.apply(null,i),p=Math.min.apply(null,n),f=Math.max.apply(null,i),d=Math.max.apply(null,n);if(0===r.length)return{x:h,y:p,width:f-h,height:d-p};for(o=0;o<r.length;o++){var g;(a=(g=r[o]).currentPoint)[0]===h?h-=x(g,e).xExtra:a[0]===f&&(f+=x(g,e).xExtra),a[1]===p?p-=x(g,e).yExtra:a[1]===d&&(d+=x(g,e).yExtra)}return{x:h,y:p,width:f-h,height:d-p}}(t.get("segments")||l.default(i),n),o=r.x,a=r.y,s={minX:o,minY:a,maxX:o+r.width,maxY:a+r.height};return{x:(s=c.mergeArrowBBox(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v=i(22),x=i(161);function S(t,e,i,n,r,o){return i*Math.cos(r)*Math.cos(o)-n*Math.sin(r)*Math.sin(o)+t}function j(t,e,i,n,r,o){return i*Math.sin(r)*Math.cos(o)+n*Math.cos(r)*Math.sin(o)+e}function b(t,e,i){return{x:t*Math.cos(i),y:e*Math.sin(i)}}function _(t,e,i){var n=Math.cos(i),r=Math.sin(i);return[t*n-e*r,t*r+e*n]}e.default={box:function(t,e,i,n,r,o,a){for(var s=(f=i,d=n,g=r,Math.atan(-d/f*Math.tan(g))),l=1/0,c=-1/0,u=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var p=s+h;o<a?o<p&&p<a&&u.push(p):a<p&&p<o&&u.push(p)}var f,d,g;for(h=0;h<u.length;h++){var y=S(t,0,i,n,r,u[h]);y<l&&(l=y),c<y&&(c=y)}var v,m,x,b=(v=i,m=n,x=r,Math.atan(m/(v*Math.tan(x)))),_=1/0,w=-1/0,O=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var M=b+h;o<a?o<M&&M<a&&O.push(M):a<M&&M<o&&O.push(M)}for(h=0;h<O.length;h++){var C=j(0,e,i,n,r,O[h]);C<_&&(_=C),w<C&&(w=C)}return{x:l,y:_,width:c-l,height:w-_}},length:function(t,e,i,n,r,o,a){},nearestPoint:function(t,e,i,n,r,o,a,s,l){var c,u,h,p,f=_(s-t,l-e,-r),d=f[0],g=f[1],y=x.default.nearestPoint(0,0,i,n,d,g),v=(c=i,u=n,h=y.x,p=y.y,(Math.atan2(p*c,h*u)+2*Math.PI)%(2*Math.PI));v<o?y=b(i,n,o):a<v&&(y=b(i,n,a));var m=_(y.x,y.y,r);return{x:m[0]+t,y:m[1]+e}},pointDistance:function(t,e,i,n,r,o,a,s,l){var c=this.nearestPoint(t,e,i,n,s,l);return v.distance(c.x,c.y,s,l)},pointAt:function(t,e,i,n,r,o,a,s){var l=(a-o)*s+o;return{x:S(t,0,i,n,r,l),y:j(0,e,i,n,r,l)}},tangentAngle:function(t,e,i,n,r,o,a,s){var l,c,u,h,p,f,d=(a-o)*s+o,g=(h=n,p=r,f=d,-1*i*Math.cos(p)*Math.sin(f)-h*Math.sin(p)*Math.cos(f)),y=(l=n,c=r,u=d,-1*i*Math.sin(c)*Math.sin(u)+l*Math.cos(c)*Math.cos(u));return v.piMod(Math.atan2(y,g))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(22);function S(t,e){var i=Math.abs(t);return 0<e?i:-1*i}e.default={box:function(t,e,i,n){return{x:t-i,y:e-n,width:2*i,height:2*n}},length:function(t,e,i,n){return Math.PI*(3*(i+n)-Math.sqrt((3*i+n)*(i+3*n)))},nearestPoint:function(t,e,i,n,r,o){var a=i,s=n;if(0===a||0===s)return{x:t,y:e};for(var l,c,u=r-t,h=o-e,p=Math.abs(u),f=Math.abs(h),d=a*a,g=s*s,y=Math.PI/4,v=0;v<4;v++){l=a*Math.cos(y),c=s*Math.sin(y);var m=(d-g)*Math.pow(Math.cos(y),3)/a,x=(g-d)*Math.pow(Math.sin(y),3)/s,b=l-m,_=c-x,w=p-m,O=f-x,M=Math.hypot(_,b),C=Math.hypot(O,w);y+=M*Math.asin((b*O-_*w)/(M*C))/Math.sqrt(d+g-l*l-c*c),y=Math.min(Math.PI/2,Math.max(0,y))}return{x:t+S(l,u),y:e+S(c,h)}},pointDistance:function(t,e,i,n,r,o){var a=this.nearestPoint(t,e,i,n,r,o);return s.distance(a.x,a.y,r,o)},pointAt:function(t,e,i,n,r){var o=2*Math.PI*r;return{x:t+i*Math.cos(o),y:e+n*Math.sin(o)}},tangentAngle:function(t,e,i,n,r){var o=2*Math.PI*r,a=Math.atan2(n*Math.cos(o),-i*Math.sin(o));return s.piMod(a)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(25),o=i(17),a=i(23),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,l=/[^\s\,]+/gi;e.default=function(t){var n=t||[];return o.default(n)?n:a.default(n)?(n=n.match(s),r.default(n,function(i,t){if(1<(i=i.match(l))[0].length){var e=i[0].charAt(0);i.splice(1,0,i[0].substr(1)),i[0]=e}r.default(i,function(t,e){isNaN(t)||(i[e]=+t)}),n[t]=i}),n):void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(75);e.default=function(t){var e=t.attr(),i=e.x1,n=e.y1,r=e.x2,o=e.y2,a={minX:Math.min(i,r),maxX:Math.max(i,r),minY:Math.min(n,o),maxY:Math.max(n,o)};return{x:(a=s.mergeArrowBBox(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),i=e.x,n=e.y,r=e.rx,o=e.ry;return{x:i-r,y:n-o,width:2*r,height:2*o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r="\t\n\v\f\r   ᠎             　\u2028\u2029",s=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");e.default=function(t){if(!t)return null;if(n.default(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(l,function(t,e){e&&n.push(+e)}),"m"===r&&2<n.length&&(a.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===n.length&&a.push([e,n[0]]),"r"===r)a.push([e].concat(n));else for(;n.length>=o[r]&&(a.push([e].concat(n.splice(0,o[r]))),o[r]););return""}),a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(14),l=i(22);function d(t){for(var e=0,i=[],n=0;n<t.length-1;n++){var r=t[n],o=t[n+1],a=l.distance(r[0],r[1],o[0],o[1]),s={from:r,to:o,length:a};i.push(s),e+=a}return{segments:i,totalLength:e}}e.lengthOfSegment=function(t){if(t.length<2)return 0;for(var e=0,i=0;i<t.length-1;i++){var n=t[i],r=t[i+1];e+=l.distance(n[0],n[1],r[0],r[1])}return e},e.pointAtSegments=function(t,e){if(1<e||e<0||t.length<2)return null;var i=d(t),n=i.segments,r=i.totalLength;if(0===r)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<n.length;s++){var l=n[s],c=l.from,u=l.to,h=l.length/r;if(o<=e&&e<=o+h){var p=(e-o)/h;a=f.default.pointAt(c[0],c[1],u[0],u[1],p);break}o+=h}return a},e.angleAtSegments=function(t,e){if(1<e||e<0||t.length<2)return 0;for(var i=d(t),n=i.segments,r=i.totalLength,o=0,a=0,s=0;s<n.length;s++){var l=n[s],c=l.from,u=l.to,h=l.length/r;if(o<=e&&e<=o+h){a=Math.atan2(u[1]-c[1],u[0]-c[0]);break}o+=h}return a},e.distanceAtSegment=function(t,e,i){for(var n=1/0,r=0;r<t.length-1;r++){var o=t[r],a=t[r+1],s=f.default.pointDistance(o[0],o[1],a[0],a[1],e,i);s<n&&(n=s)}return n}},function(t){t.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.2","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","browser":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.0","@antv/g-math":"^0.1.1","@antv/gl-matrix":"~2.7.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0"},"__npminstall_done":"Wed Apr 08 2020 17:19:30 GMT+0800 (China Standard Time)","gitHead":"0e1fcb57c85ca1e1bc4d516b12791f05364af71b","_from":"@antv/g-canvas@0.4.2","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-canvas/download/@antv/g-canvas-0.4.2.tgz"}')},function(t,e){var i,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,c=[],u=!1,h=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!u){var t=s(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new d(t,e)),1!==c.length||u||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t){t.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.0","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","browser":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.0","@antv/g-math":"^0.1.1","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":"Wed Apr 08 2020 17:19:30 GMT+0800 (China Standard Time)","gitHead":"95487b1e5ded41f5db351a622adf12659f564d8b","_from":"@antv/g-svg@0.4.0","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-svg/download/@antv/g-svg-0.4.0.tgz"}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),o=i(171),n=(r.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},r.prototype.getAdjustRange=function(t,e,i){var n,r,o=this.yField,a=i.indexOf(e),s=i.length;return!o&&this.isAdjust("y")?(n=0,r=1):1<s?(n=i[0===a?0:a-1],r=i[a===s-1?s-1:a+1],0!==a?n+=(e-n)/2:n-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-i[s-2])/2):(n=0===e?0:e-.5,r=0===e?1:e+.5),{pre:n,next:r}},r.prototype.adjustData=function(t,e){var r=this,o=this.getDimValues(e);a.each(t,function(i,n){a.each(o,function(t,e){r.adjustDim(e,t,i,n)})})},r.prototype.groupData=function(t,e){return a.each(t,function(t){void 0===t[e]&&(t[e]=o.DEFAULT_Y)}),a.groupBy(t,e)},r.prototype.adjustDim=function(t,e,i,n){},r.prototype.getDimValues=function(e){var t=this.xField,i=this.yField,n={},r=[];return t&&this.isAdjust("x")&&r.push(t),i&&this.isAdjust("y")&&r.push(i),r.forEach(function(t){n[t]=a.valuesOfKey(e,t).sort(function(t,e){return t-e})}),!i&&this.isAdjust("y")&&(n.y=[o.DEFAULT_Y,1]),n},r);function r(t){var e=t.xField,i=t.yField,n=t.adjustNames,r=void 0===n?["x","y"]:n;this.adjustNames=r,this.xField=e,this.yField=i}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_Y=0,e.MARGIN_RATIO=.5,e.DODGE_RATIO=.5,e.GAP=.05},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){return h.isString(e)?e:t.invert(t.scale(e))}var h=i(0),r=(o.prototype.mapping=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map(function(t,e){return i._toOriginParam(t,i.scales[e])});return this.callback.apply(this,n)},o.prototype.getLinearValue=function(t){var e=this.values.length-1,i=Math.floor(e*t),n=e*t-i,r=this.values[i];return r+((i===e?r:this.values[i+1])-r)*n},o.prototype.getNames=function(){for(var t=this.scales,e=this.names,i=Math.min(t.length,e.length),n=[],r=0;r<i;r+=1)n.push(e[r]);return n},o.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},o.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},o.prototype.defaultCallback=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){var i=n.scales[e];return"identity"===i.type?i.values[0]:n._getAttributeValue(i,t)})},o.prototype._parseCfg=function(t){var n=this,e=t.type,i=void 0===e?"base":e,r=t.names,o=void 0===r?[]:r,a=t.scales,s=void 0===a?[]:a,l=t.values,c=void 0===l?[]:l,u=t.callback;this.type=i,this.scales=s,this.values=c,this.names=o,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(u){var i=u.apply(void 0,t);if(!h.isNil(i))return[i]}return n.defaultCallback.apply(n,t)}},o.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var i=t.translate(e);return this.values[i%this.values.length]}var n=t.scale(e);return this.getLinearValue(n)},o.prototype._toOriginParam=function(t,e){return e.isLinear?t:h.isArray(t)?t.map(function(t){return n(e,t)}):n(e,t)},o);function o(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15);e.Scale=n.Scale},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"object"===n(t)&&null!==t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,i){"use strict";function h(t){return Math.abs(t)<1e-6?0:t<0?-1:1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){var n,r,o,a=!1,s=t.length;if(s<=2)return!1;for(var l=0;l<s;l++){var c=t[l],u=t[(l+1)%s];if(r=u,((o=[e,i])[0]-(n=c)[0])*(r[1]-n[1])==(r[0]-n[0])*(o[1]-n[1])&&Math.min(n[0],r[0])<=o[0]&&o[0]<=Math.max(n[0],r[0])&&Math.min(n[1],r[1])<=o[1]&&o[1]<=Math.max(n[1],r[1]))return!0;0<h(c[1]-i)!=0<h(u[1]-i)&&h(e-(i-c[1])*(c[0]-u[0])/(c[1]-u[1])-c[0])<0&&(a=!a)}return a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function f(t,e,i){return e<=t&&t<=i}e.default=function(t,e,i,n){var r=i.x-t.x,o=i.y-t.y,a=e.x-t.x,s=e.y-t.y,l=n.x-i.x,c=n.y-i.y,u=a*c-s*l,h=null;if(.001*(a*a+s*s)*(l*l+c*c)<u*u){var p=(r*c-o*l)/u;f(p,0,1)&&f((r*s-o*a)/u,0,1)&&(h={x:t.x+p*a,y:t.y+p*s})}return h}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPixelRatio=function(){return window?window.devicePixelRatio:1},e.distance=function(t,e,i,n){var r=t-i,o=e-n;return Math.sqrt(r*r+o*o)},e.inBox=function(t,e,i,n,r,o){return t<=r&&r<=t+i&&e<=o&&o<=e+n};var n=null;e.getOffScreenContext=function(){if(!n){var t=document.createElement("canvas");t.width=1,t.height=1,n=t.getContext("2d")}return n},e.intersectRect=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.mergeRegion=function(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e},e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var r=i(31);e.isNil=r.default;var o=i(23);e.isString=o.default;var a=i(37);e.isFunction=a.default;var s=i(17);e.isArray=s.default;var l=i(25);e.each=l.default;var c=i(41);e.toRadian=c.default;var u=i(42);e.mod=u.default;var h=i(51);e.isNumberEqual=h.default;var p=i(73);e.requestAnimationFrame=p.default;var f=i(74);e.clearAnimationFrame=f.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};e.getAnimation=function(t){return n[t.toLowerCase()]},e.registerAnimation=function(t,e){n[t.toLowerCase()]=e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l,s=i(1),a=i(0),f=i(53),n=s.__importDefault(i(182)),d=i(183),h=i(94),r=(l=n.default,s.__extends(o,l),o.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},o.prototype.update=function(t){var e=this.shapeFactory,i=this.shape;if(i){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(i,t);var n=this.getOffscreenGroup(),r=e.drawShape(this.shapeType,t,n);r.set("data",this.data),r.set("origin",t),this.syncShapeStyle(i,r,"",this.getAnimateCfg("update"))}},o.prototype.destroy=function(){var t=this.shapeFactory,e=this.shape;if(e){var i=this.getAnimateCfg("leave");i?f.doAnimate(e,i,{coordinate:t.coordinate,toAttrs:s.__assign({},e.attr())}):e.remove(!0)}this.states=[],l.prototype.destroy.call(this)},o.prototype.changeVisible=function(t){l.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(t){t.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(t){t.hide()}))},o.prototype.setState=function(t,e){var i=this,n=this.states,r=this.shapeFactory,o=this.model,a=this.shape,s=this.shapeType,l=n.indexOf(t);if(e){if(-1<l)return;n.push(t),"active"!==t&&"selected"!==t||a.toFront()}else{if(-1===l)return;n.splice(l,1),"active"!==t&&"selected"!==t||a.toBack()}var c=r.drawShape(s,o,this.getOffscreenGroup());n.length?n.forEach(function(t){i.syncShapeStyle(a,c,t,null)}):this.syncShapeStyle(a,c,"",null),c.remove(!0);var u={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",u),h.propagationDelegate(this.container,"statechange",u)},o.prototype.clearStates=function(){var e=this,t=this.states;a.each(t,function(t){e.setState(t,!1)}),this.states=[]},o.prototype.hasState=function(t){return this.states.includes(t)},o.prototype.getStates=function(){return this.states},o.prototype.getData=function(){return this.data},o.prototype.getModel=function(){return this.model},o.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(i=t.getCanvasBBox()),e&&e.forEach(function(t){var e=t.getCanvasBBox();i.x=Math.min(e.x,i.x),i.y=Math.min(e.y,i.y),i.minX=Math.min(e.minX,i.minX),i.minY=Math.min(e.minY,i.minY),i.maxX=Math.max(e.maxX,i.maxX),i.maxY=Math.max(e.maxY,i.maxY)}),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},o.prototype.getStateStyle=function(t,e){var i=this.shapeType,n=a.get(this.geometry.stateOption,t,{}),r=a.deepMix({},a.get(this.theme,[i,t],{}),n),o=a.get(r.style,[e])?a.get(r.style,[e]):r.style;return a.isFunction(o)&&(o=o(this)),{animate:r.animate,style:o}},o.prototype.getAnimateCfg=function(t){var e=this.geometry.animateOption,i=this.shapeFactory,n=i.geometryType,r=i.coordinate,o=f.getDefaultAnimateCfg(n,r,t);return!e||!0===e&&a.isEmpty(o)||!1===e[t]||null===e[t]?null:s.__assign(s.__assign({},o),e[t])},o.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var i=this.shapeFactory,n=this.container,r=this.shapeType;if(this.shape=i.drawShape(r,t,n),this.shape){this.setShapeInfo(this.shape,t),this.shape.get("name")||this.shape.set("name",this.shapeFactory.geometryType),this.shape.set("inheritNames",["element"]);var o=e?"enter":"appear",a=this.getAnimateCfg(o);a&&f.doAnimate(this.shape,a,{coordinate:i.coordinate,toAttrs:s.__assign({},this.shape.attr())})}},o.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},o.prototype.setShapeInfo=function(t,e){var i=this;t.set("origin",e),t.set("element",this),t.isGroup()&&t.get("children").forEach(function(t){i.setShapeInfo(t,e)})},o.prototype.syncShapeStyle=function(t,e,i,n,r){if(void 0===i&&(i=""),void 0===r&&(r=0),t.isGroup())for(var o=t.get("children"),a=e.get("children"),s=0;s<o.length;s++)this.syncShapeStyle(o[s],a[s],i,n,r+s);else{var l=void 0;if(i){var c=this.getStateStyle(i,t.get("name")||r),u=c.animate,h=c.style;e.attr(h),l=u}var p=d.getReplaceAttrs(t,e);n?f.doAnimate(t,n,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model}):null!==l&&this.geometry.animateOption?(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p)}},o.prototype.getShapeType=function(t){var e=a.get(t,"shape");return a.isArray(e)?e[0]:e},o);function o(t){var e=l.call(this,t)||this;e.states=[];var i=t.shapeFactory,n=t.theme,r=t.container,o=t.offscreenGroup,a=t.visible,s=void 0===a||a;return e.shapeFactory=i,e.theme=n,e.container=r,e.offscreenGroup=o,e.visible=s,e}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),o=(r=n.__importDefault(i(24)).default,n.__extends(a,r),a.prototype.show=function(){this.visible||(this.visible=!0,this.changeVisible(!0))},a.prototype.hide=function(){this.visible&&(this.visible=!1,this.changeVisible(!1))},a.prototype.destroy=function(){this.off(),this.destroyed=!0},a.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},a);function a(t){var e=r.call(this)||this;e.destroyed=!1;var i=t.visible,n=void 0===i||i;return e.visible=n,e}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(0);function g(t,e,i,n){return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}e.polarToCartesian=g,e.getSectorPath=function(t,e,i,n,r,o){void 0===o&&(o=0);var a=g(t,e,i,n),s=g(t,e,i,r),l=g(t,e,o,n),c=g(t,e,o,r);if(r-n==2*Math.PI){var u=g(t,e,i,n+Math.PI),h=g(t,e,o,n+Math.PI),p=[["M",a.x,a.y],["A",i,i,0,1,1,u.x,u.y],["A",i,i,0,1,1,s.x,s.y],["M",l.x,l.y]];return o&&(p.push(["A",o,o,0,1,0,h.x,h.y]),p.push(["A",o,o,0,1,0,c.x,c.y])),p.push(["M",a.x,a.y]),p.push(["Z"]),p}var f=r-n<=Math.PI?0:1,d=[["M",a.x,a.y],["A",i,i,0,f,1,s.x,s.y],["L",c.x,c.y]];return o&&d.push(["A",o,o,0,f,0,l.x,l.y]),d.push(["L",a.x,a.y]),d.push(["Z"]),d},e.getArcPath=function(t,e,i,n,r){var o=g(t,e,i,n),a=g(t,e,i,r);if(c.isNumberEqual(r-n,2*Math.PI)){var s=g(t,e,i,n+Math.PI);return[["M",o.x,o.y],["A",i,i,0,1,1,s.x,s.y],["A",i,i,0,1,1,o.x,o.y],["A",i,i,0,1,0,s.x,s.y],["A",i,i,0,1,0,o.x,o.y],["Z"]]}var l=r-n<=Math.PI?0:1;return[["M",o.x,o.y],["A",i,i,0,l,1,a.x,a.y]]},e.getAngle=function(t,e){var i,n,r=function(t){if(c.isEmpty(t))return null;var e=t[0].x,i=t[0].x,n=t[0].y,r=t[0].y;return c.each(t,function(t){e=e>t.x?t.x:e,i=i<t.x?t.x:i,n=n>t.y?t.y:n,r=r<t.y?t.y:r}),{minX:e,maxX:i,minY:n,maxY:r,centerX:(e+i)/2,centerY:(n+r)/2}}(t.points),o=e.startAngle,a=e.endAngle-o;return n=e.isTransposed?(i=r.maxY*a,r.minY*a):(i=r.maxX*a,r.minX*a),{startAngle:n+=o,endAngle:i+=o}},e.getPolygonCentroid=function(t,e){if(c.isNumber(t)&&c.isNumber(e))return[t,e];for(var i,n,r=-1,o=0,a=0,s=t.length-1,l=0;++r<t.length;)i=s,s=r,l+=n=t[i]*e[s]-t[s]*e[i],o+=(t[i]+t[s])*n,a+=(e[i]+e[s])*n;return[o/(l*=3),a/l]},e.getReplaceAttrs=function(t,e){var i=t.attr(),n=e.attr();return c.each(i,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(1),l=i(35),d=i(5),c=i(0),n=i(185),g=i(103),u=i(26),o=i(104),y=i(188),a=(r=n.default,s.__extends(h,r),h.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return s.__assign(s.__assign({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],containerTpl:'<div class="'+u.CONTAINER_CLASS+'"><div class="'+u.TITLE_CLASS+'"></div><ul class="'+u.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+u.LIST_ITEM_CLASS+'" data-index={index}>\n          <span class="'+u.MARKER_CLASS+'" style="background:{color}"></span>\n          <span class="'+u.NAME_CLASS+'">{name}</span>:\n          <span class="'+u.VALUE_CLASS+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+u.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+u.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:u.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:o.default})},h.prototype.render=function(){this.resetTitle(),this.renderItems(),this.resetPosition()},h.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},h.prototype.updateInner=function(t){var e,i,n;e=t,n=!(i=["title","showTitle"]),c.each(i,function(t){if(c.hasKey(e,t))return!(n=!0)}),n&&this.resetTitle(),c.hasKey(t,"items")&&this.renderItems(),r.prototype.updateInner.call(this,t)},h.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),d.modifyCSS(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},h.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),d.modifyCSS(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},h.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},h.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},h.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",i=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");i&&d.modifyCSS(i,{display:e}),n&&d.modifyCSS(n,{display:e})},h.prototype.initDom=function(){this.cacheDoms()},h.prototype.removeDom=function(){r.prototype.removeDom.call(this),this.clearCrosshairs()},h.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(u.TITLE_CLASS)[0],i=t.getElementsByClassName(u.LIST_CLASS)[0];this.set("titleDom",e),this.set("listDom",i)},h.prototype.resetPosition=function(){var t,e=this.get("x"),i=this.get("y"),n=this.get("offset"),r=this.getOffset(),o=r.offsetX,a=r.offsetY,s=this.get("position"),l=this.get("region"),c=this.getContainer(),u=this.getBBox(),h=u.width,p=u.height;l&&(t=g.regionToBBox(l));var f=y.getAlignPoint(e,i,n,h,p,s,t);d.modifyCSS(c,{left:g.toPx(f.x+o),top:g.toPx(f.y+a)}),this.resetCrosshairs()},h.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},h.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},h.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var i=g.regionToBBox(t),n=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",i),r&&(r.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",i),n&&(n.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",i),this.resetCrosshair("y",i)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},h.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),n=this.get(t);"x"===t?d.modifyCSS(i,{left:g.toPx(n),top:g.toPx(e.y),height:g.toPx(e.height)}):d.modifyCSS(i,{top:g.toPx(n),left:g.toPx(e.x),width:g.toPx(e.width)})},h.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",i=t+"CrosshairTpl",n="CROSSHAIR_"+t.toUpperCase(),r=u[n],o=this.get(e),a=this.get("parent");return o||(o=d.createDom(this.get(i)),this.applyStyle(r,o),a.appendChild(o),this.set(e,o)),o},h.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),o=this.get("itemTpl"),a=this.get("listDom");a&&(c.each(t,function(t){var e=l.default.toCSSGradient(t.color),i=s.__assign(s.__assign({},t),{color:e}),n=c.substitute(o,i),r=d.createDom(n);a.appendChild(r)}),this.applyChildrenStyles(a,this.get("domStyles")))},h.prototype.clearItemDoms=function(){this.get("listDom")&&g.clearDom(this.get("listDom"))},h.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},h);function h(){return null!==r&&r.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(5),a=i(0),s=i(103),l=(n=i(186).default,r.__extends(c,n),c.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return r.__assign(r.__assign({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},c.prototype.getContainer=function(){return this.get("container")},c.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},c.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},c.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},c.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,i=parseFloat(t.style.top)||0;return s.createBBox(e,i,t.clientWidth,t.clientHeight)},c.prototype.clear=function(){var t=this.get("container");s.clearDom(t)},c.prototype.destroy=function(){this.removeEvent(),this.removeDom(),n.prototype.destroy.call(this)},c.prototype.init=function(){n.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},c.prototype.initCapture=function(){this.setCapture(this.get("capture"))},c.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},c.prototype.initDom=function(){},c.prototype.initContainer=function(){var t=this.get("container");if(a.isNil(t)){t=this.createDom();var e=this.get("parent");a.isString(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.set("container",t)}else a.isString(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},c.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?a.deepMix({},e,t):e,this.set("domStyles",t)},c.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var i=this.get("containerClassName");if(i&&s.hasClass(e,i)){var n=t[i];o.modifyCSS(e,n)}}},c.prototype.applyChildrenStyles=function(n,t){a.each(t,function(e,t){var i=n.getElementsByClassName(t);a.each(i,function(t){o.modifyCSS(t,e)})})},c.prototype.applyStyle=function(t,e){var i=this.get("domStyles");o.modifyCSS(e,i[t])},c.prototype.createDom=function(){var t=this.get("containerTpl");return o.createDom(t)},c.prototype.initEvent=function(){},c.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},c.prototype.removeEvent=function(){},c.prototype.updateInner=function(t){a.hasKey(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},c.prototype.resetPosition=function(){},c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(6),a=i(0),s={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},l=(n=o.Base,r.__extends(c,n),c.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},c.prototype.clear=function(){},c.prototype.update=function(t){var n=this,r=this.get("defaultCfg");a.each(t,function(t,e){var i=t;n.get(e)!==t&&(a.isObject(t)&&r[e]&&(i=a.deepMix({},r[e],t)),n.set(e,i))}),this.updateInner(t),this.afterUpdate(t)},c.prototype.updateInner=function(t){},c.prototype.afterUpdate=function(t){a.hasKey(t,"visible")&&(t.visible?this.show():this.hide()),a.hasKey(t,"capture")&&this.setCapture(t.capture)},c.prototype.getLayoutBBox=function(){return this.getBBox()},c.prototype.getLocationType=function(){return this.get("locationType")},c.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},c.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},c.prototype.setLocation=function(t){var e=r.__assign({},t);this.update(e)},c.prototype.getLocation=function(){var e=this,i={},t=this.get("locationType"),n=s[t];return a.each(n,function(t){i[t]=e.get(t)}),i},c.prototype.isList=function(){return!1},c.prototype.isSlider=function(){return!1},c.prototype.init=function(){},c.prototype.initCfg=function(){var r=this,t=this.get("defaultCfg");a.each(t,function(t,e){var i=r.get(e);if(a.isObject(i)){var n=a.deepMix({},t,i);r.set(e,n)}})},c);function c(t){var e=n.call(this,t)||this;return e.initCfg(),e}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},function(t,e,i){"use strict";function c(t,e,i,n,r){return{left:t<r.x,right:t+i>r.x+r.width,top:e<r.y,bottom:e+n>r.y+r.height}}function u(t,e,i,n,r,o){var a=t,s=e;switch(o){case"left":a=t-n-i,s=e-r/2;break;case"right":a=t+i,s=e-r/2;break;case"top":a=t-n/2,s=e-r-i;break;case"bottom":a=t-n/2,s=e+i;break;default:a=t+i,s=e-r-i}return{x:a,y:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.getOutSides=c,e.getPointByPosition=u,e.getAlignPoint=function(t,e,i,n,r,o,a){var s=u(t,e,i,n,r,o);if(a){var l=c(s.x,s.y,n,r,a);"auto"===o?(l.right&&(s.x=t-n-i),l.top&&(s.y=e+i)):"top"===o||"bottom"===o?(l.left&&(s.x=a.x),l.right&&(s.x=a.x+a.width-n),"top"===o&&l.top&&(s.y=e+i),"bottom"===o&&l.bottom&&(s.y=e-r-i)):(l.top&&(s.y=a.y),l.bottom&&(s.y=a.y+a.height-r),"left"===o&&l.left&&(s.x=t+i),"right"===o&&l.right&&(s.x=t-n-i))}return s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),l=i(44),o=n.__importDefault(i(10)),a=(s.prototype.getBBox=function(){var i=this;if(this.shape){var t=this.shape.getBBox();if(0===this.index)return o.default.fromBBoxObject(t);var n=this.plot.theme.description.padding;return r.isArray(n)&&r.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.plot.options.legend.position))}),new o.default(t.maxX,t.minY,t.width,t.height+n[2])}return null},s.prototype.clear=function(){this.shape&&this.shape.attr("text","")},s.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},s.prototype.init=function(){var t=this.textWrapper();this.shape=this.container.addShape("text",{attrs:r.mix({x:this.leftMargin,y:this.topMargin,text:t},this.style)}),this.shape.name=this.name},s.prototype.getPosition=function(){return"left"===this.alignTo?{x:this.leftMargin,y:this.topMargin}:"middle"===this.alignTo?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},s.prototype.getTextAlign=function(){return"left"===this.alignTo?"left":"middle"===this.alignTo?"center":"right"},s.prototype.textWrapper=function(){var a=this.wrapperWidth,t=this.style,e=this.text,s=this.container.addShape("text",{attrs:n.__assign({text:"",x:0,y:0},t)}),i=e.split("\n").map(function(t){for(var e="",i=t.split(""),n=[],r=0;r<i.length;r++){var o=i[r];if(s.attr("text",e+=o),s.getBBox().width-1>a){if(0===r)break;n.push(r),e=""}}return l.breakText(i,n)});return s.remove(),i.join("\n")},s);function s(t){this.position="top",this.destroyed=!1,r.assign(this,t),this.init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),c=i(0),n=i(105);function r(t,e,i){t[i]&&(e[i]=t[i])}var a=(s.prototype.init=function(){this.config=!1;var t=this.plot.getPlotTheme();this.themeConfig=t&&t.axis&&t.axis[this.dim],this._needDraw()&&this._styleParser()},s.prototype._styleParser=function(){this.config=o.__assign({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,r(this.localProps,this.config,"autoHideLabel"),r(this.localProps,this.config,"autoRotateLabel"),r(this.localProps,this.config,"autoRotateTitle")},s.prototype._needDraw=function(){var t=this.plot.options,e=t[this.dim+"Axis"]?t[this.dim+"Axis"]:{},i=c.deepMix({},this.themeConfig,e);return!!(this.localProps=i).visible},s.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},s.prototype._gridParser=function(){var t,e,i,n,r,o=this,a=null===(e=null===(t=this.localProps.grid)||void 0===t?void 0:t.line)||void 0===e?void 0:e.style,s=null===(n=null===(i=this.localProps.grid)||void 0===i?void 0:i.line)||void 0===n?void 0:n.type,l=null===(r=this.localProps.grid)||void 0===r?void 0:r.alternateColor;c.isFunction(a)?this.config.grid=function(t,e,i){var n=a(t,e,i);return{line:{type:s,style:c.deepMix({},c.get(o.themeConfig,"grid.line.style"),n)},alternateColor:l}}:a&&(this.config.grid={line:{type:s,style:a},alternateColor:l},this.applyThemeConfig("grid"))},s.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},s.prototype._labelParser=function(){var t=this.localProps.label,e=t.style,i=o.__rest(t,["style"]),n=o.__assign({},i);e&&(n.style=o.__assign({},this.localProps.label.style)),n.style=c.deepMix({},c.get(this.themeConfig,"label.style"),n.style);var r=this.parseFormatter(n);n.formatter=r,this.config.label=n},s.prototype._titleParser=function(){var t=o.__assign({},this.localProps.title),e=this.localProps.title,i=e.visible,n=e.style,r=e.text;i?(this.config.showTitle=!0,n&&(t.style=n),t.style=c.deepMix({},c.get(this.config,"title.style"),t.textStyle),r&&(t.text=r)):this.config.showTitle=!1,this.config.title=t},s.prototype._isVisible=function(t){return!(!this.localProps[t]||!this.localProps[t].visible)},s.prototype.applyThemeConfig=function(t){this.config[t]=c.deepMix({},c.get(this.themeConfig,t+".style"),this.config[t])},s.prototype.parseFormatter=function(t){var e=n.combineFormatter(n.getNoopFormatter(),n.getPrecisionFormatter(t.precision),n.getSuffixFormatter(t.suffix));return t.formatter&&(e=n.combineFormatter(e,t.formatter)),e},s);function s(t){this.config=!1,this.plot=t.plot,this.dim=t.dim,this.init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),f=i(0),r=i(20),o=(a.prototype._init=function(){var t=this.getDefaultStyle(),e={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(e.style=f.deepMix({},t.line.style,this.cfg.lineStyle),e.text=f.deepMix({},t.text,this.cfg.text),this.cfg.type){var i=this._getState(this.cfg.type),n=100*(1-this.getYScale().scale(i))+"%",r=["0%",n],o=["100%",n];this.config=f.mix({start:r,end:o},e)}else{var a=this.cfg,s=a.start,l=a.end;this.config=f.clone(e);var c=this.getXScale(),u=this.getYScale(),h=f.clone(s),p=f.clone(l);f.each(s,function(t,e){f.contains(f.toArray(s[e]),"%")&&!f.isNumber(s[e])||(h[e]=0===e?100*c.scale(s[0])+"%":100*(1-u.scale(s[1]))+"%")}),f.each(l,function(t,e){f.contains(f.toArray(l[e]),"%")&&!f.isNumber(l[e])||(p[e]=0===e?100*c.scale(l[0])+"%":100*(1-u.scale(l[1]))+"%")}),this.config.start=h,this.config.end=p}},a.prototype.getYScale=function(){var t=this._getState("min"),e=this._getState("max");return new(n.getScale("linear"))(f.mix({},{min:"column"===this.plot.type?0:t,max:e,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]))},a.prototype.getXScale=function(){var t=this.extractXValue();if(f.isString(t[0]))return new(n.getScale("cat"))(f.mix({},{values:t},this.plot.config.scales[this.plot.options.xField]));var e=Math.min.apply(Math,t),i=Math.max.apply(Math,t);return new(n.getScale("linear"))(f.mix({},{min:e,max:i,nice:!0,values:t},this.plot.config.scales[this.plot.options.xField]))},a.prototype._getState=function(t){return this.values=this._extractValues(),"median"===t?r.getMedian(this.values):"mean"===t?r.getMean(this.values):"max"===t?Math.max.apply(Math,this.values):"min"===t?Math.min.apply(Math,this.values):void 0},a.prototype._extractValues=function(){var t=this.plot.options,e=t.yField,i=[],n=this.plot.processData(t.data);return f.each(n,function(t){f.isArray(t[e])?i.push.apply(i,t[e]):i.push(t[e])}),i},a.prototype.extractXValue=function(){var t=this.plot.options,e=t.xField,i=[],n=this.plot.processData(t.data);return f.each(n,function(t){f.isArray(t[e])?i.push.apply(i,t[e]):i.push(t[e])}),i},a.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},a.prototype.getDefaultTextAlign=function(){var t=this.cfg.text;if(t){if(!t.position||"start"===t.position)return"left";if("center"===t.position)return"center";if("end"===t.position)return"right"}},a);function a(t){f.assign(this,t),this._init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),a=i(105),n=(s.prototype.getConfig=function(){return this.config},s.prototype.init=function(t){var e=this;o.assign(this.config,t),this.config.callback=function(t){return e.parseCallBack(t)}},s.prototype.parseCallBack=function(t){var e=this.originConfig,i=this.plot.getPlotTheme(),n=r.__assign({},e);return this.parseOffset(e,n),e.position&&(o.isFunction(e.position)?n.position=e.position(t):n.position=e.position),this.parseFormatter(n),e.style&&(o.isFunction(e.style)?n.textStyle=e.style(t):n.textStyle=e.style),n.textStyle=o.deepMix({},o.get(i,"label.style"),n.textStyle),e.autoRotate&&(n.autoRotate=e.autoRotate),n},s.prototype.parseOffset=function(e,i){var n=0;o.each(["offset","offsetX","offsetY"],function(t){o.has(e,t)&&(i[t]=e[t],n++)}),0===n&&"middle"===o.get(e,"position")&&(i.offset=0)},s.prototype.parseFormatter=function(t){var n=this.originConfig;t.content=function(t,e){var i=t[n.fields[0]];return a.combineFormatter(a.getNoopFormatter(),a.getPrecisionFormatter(n.precision),a.getSuffixFormatter(n.suffix),n.formatter?n.formatter:a.getNoopFormatter())(i,t,e)}},s);function s(t){this.config={};var e=t.plot,i=r.__rest(t,["plot"]);this.plot=e,this.originConfig=i,this.init(t)}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l,c,u=i(0);function n(t,i){l||o(t),u.each(l,function(t){var e=a(t,i);if(s(e.labelData,e.con)){t.shape.attr({opacity:1,fontWeight:600,fill:"red"})}})}function o(s){l=[],c=[];var t=s.view.getController("axis").getComponents();u.each(t,function(t){var e=t.component,i=[],n=function(t,e){var i=t.options,n="y",r=e.get("position");"bottom"!==r&&"top"!==r||(n="x");var o=i[n+"Field"];return t.view.get("scales")[o]}(s,e),r=e.get("labelRenderer").get("group").get("children");if(u.each(r,function(t){"text"===t.type&&(i.push({shape:t}),c.push(t.attr()))}),n){var o=n.ticks,a=n.field;u.each(i,function(t,e){t.value=o[e],t.scaleField=a,t.type=n.type})}l.push.apply(l,i)})}function a(t,e){var i,n=((i={})[t.scaleField]=t.value,i),r=u.clone(e);return"time"===t.type&&u.isObject(e)&&!u.isFunction(r.exp)&&(r.exp=new Date(r.exp).getTime()),{labelData:n,con:r}}function s(t,e){if(u.isFunction(e))return e(t);var i=e.name,n=e.exp;return t[i]&&(u.isFunction(n)?n(t[i]):t[i]===n)}e.default={active:n,selected:n,disable:function(t,r){l||o(t),u.each(l,function(t,e){var i=a(t,r);if(s(i.labelData,i.con)){var n={opacity:.2*(c[e].opacity||1)};t.shape.attr(n)}})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a,s=i(0),l=i(55);function r(t,o){n||c(t),s.each(n,function(t,e){var i=t.get("origin");if(l.compare(i,o)){var n=a[e],r=s.mix({},n,{opacity:1});t.attr(r)}})}function c(t){n=[],a=[];var e=t.view.get("elements");s.each(e,function(t){var e=t.get("labels");e&&s.each(e,function(t){n.push(t),a.push(t.attr())})})}e.default={active:r,selected:r,disable:function(t,r){n||c(t),s.each(n,function(t,e){var i=t.get("origin");if(l.compare(i,r)){var n={opacity:.2*(a[e].opacity||1)};t.attr(n)}})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(0),c=i(55),u=["xField","yField","angleField"];function n(i,n){var t,e,r,o,a=i.options;if(t=n,e=a,r=[],l.each(u,function(t){l.has(e,t)&&r.push(t)}),o=r,!l.isFunction(t)&&o.indexOf(t.name)){var s=a.data;l.each(s,function(t){if(c.compare(t,n)){var e=i.view.getXY(t);i.view.on("tooltip:create",function(t){h(n,t,!1)}),i.view.showTooltip(e)}})}}function h(i,n,t){var r=!t,e=l.clone(n.items);n.items.splice(0),l.each(e,function(t){var e=t.point._origin;c.compare(e,i)===r&&n.items.push(t)})}e.default={active:n,selected:n,disable:function(t,e){t.view.on("tooltip:change",function(t){h(e,t,!0)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(38)),o=n.__importDefault(i(198)),a=n.__importDefault(i(199)),s=n.__importDefault(i(200));r.default.registerInteraction("slider",a.default),r.default.registerInteraction("scrollbar",o.default),r.default.registerInteraction("timeline",s.default),n.__exportStar(i(38),e),e.default=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function u(t){void 0===t&&(t={});var e=h.__assign({type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0]},t);return t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),e}var n,h=i(1),l=i(7),c=h.__importDefault(i(10)),p=i(0),r=h.__importDefault(i(38)),f=i(107),o=(n=r.default,h.__extends(a,n),a.getInteractionRange=function(t,e){var i=u(e),n=i.padding,r=n[0],o=n[1],a=n[2],s=n[3];return"horizontal"===i.type?new c.default(t.minX,t.maxY-i.height-r-a,t.width,i.height+r+a):new c.default(t.maxX-i.width-s-o,t.minY,i.width+s+o,t.height)},a.prototype.render=function(){var e=this,t=this.view;this.ratio=0,this.thumbOffset=0,t.on("afterrender",function(){var t=e.view.padding;p.isEqual([0,0,0,0],t)||(e.trackLen?e.renderScrollbar():(e.measureScrollBar(),e.changeViewData(e.getScrollRange(),!0)))})},a.prototype.start=function(){},a.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},a.prototype.renderScrollbar=function(){var t=u(this.getInteractionConfig()),e=this.getRange(),i="vertical"!==t.type,n=this.view.coordinateBBox,r=t.padding,o=r[0],a=r[3],s=i?{x:n.minX+a,y:e.minY+o}:{x:e.minX+a,y:n.minY+o};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:s.x,y:s.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new l.Scrollbar({container:this.container,x:s.x,y:s.y,isHorizontal:i,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",999),this.scrollbar.on("scrollchange",this.onChangeFn))},a.prototype.measureScrollBar=function(){var t=u(this.getInteractionConfig()),e=t.padding,i=e[0],n=e[1],r=e[2],o=e[3],a="vertical"!==t.type,s=this.view.coordinateBBox,l=this.view.getXScale(),c=this.view.getYScales();this.cnt=l.values.length,this.xScaleCfg={field:l.field,values:l.values||[]},this.yScalesCfg=p.map(c,function(t){return{field:t.field,type:t.type,min:t.min,max:t.max,ticks:t.ticks,formatter:t.formatter}}),this.step=Math.floor((a?s.width:s.height)/t.categorySize),this.trackLen=a?s.width-o-n:s.height-i-r,this.thumbLen=Math.max(this.trackLen*p.clamp(this.step/l.values.length,0,1),20)},a.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*p.clamp(this.ratio,0,1));return[t,Math.min(t+this.step,this.cnt)]},a.prototype.changeViewData=function(t,e){var i=this,n=t[0],r=t[1],o=u(this.getInteractionConfig()),a=this.getViewLayer(),s=a.options.meta,l=a.getData(),c=f.getDataByScaleRange(this.xScaleCfg.field,this.xScaleCfg.values,l,[n,r],"vertical"===o.type);this.yScalesCfg.forEach(function(t){var e=p.get(s,t.field)||{};i.view.scale(t.field,h.__assign(h.__assign({formatter:t.formatter},e),{type:t.type,min:t.min,max:t.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},a.prototype.onChange=function(t){var e=t.ratio,i=t.thumbOffset;this.ratio=e,this.thumbOffset=i;var n=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange()),this.view.animate(n),this.renderScrollbar()},a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.onChangeFn=p.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function m(t){void 0===t&&(t={});var e=x.__assign({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},t);t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),t.height||(e.height=16),t.width||(e.width=16);var i=u.clamp(Math.min(e.start,e.end),0,1),n=u.clamp(Math.max(e.start,e.end),0,1);return e.start=i,e.end=n,e}var n,x=i(1),o=i(7),l=x.__importDefault(i(10)),u=i(0),r=x.__importDefault(i(38)),a=i(107),s=(n=r.default,x.__extends(c,n),c.getInteractionRange=function(t,e){var i=m(e),n=i.padding||[0,0,0,0],r=n[0],o=n[1],a=n[2],s=n[3];return"horizontal"===i.type?new l.default(t.minX,t.maxY-i.height-r-a,t.width,i.height+r+a):new l.default(t.maxX-i.width-s-o,t.minY,i.width+s+o,t.height)},c.prototype.render=function(){var e=this,i=this.getViewLayer(),n=this.view,t=m(this.getInteractionConfig());function r(){if(!u.isEmpty(i.options.data))if(e.xScaleCfg)e.renderSlider();else{var t=n.getXScale();e.xScaleCfg={field:t.field,values:t.values||[]},n.data(e.getSliderData(e.curStart,e.curEnd)),n.render()}}this.curStart=t.start,this.curEnd=t.end,this.xScaleCfg=void 0,n.on(o.VIEW_LIFE_CIRCLE.AFTER_PAINT,r),this.addDisposable(function(){return n.off(o.VIEW_LIFE_CIRCLE.AFTER_PAINT,r)}),n.on(o.VIEW_LIFE_CIRCLE.AFTER_RENDER,r),this.addDisposable(function(){return n.off(o.VIEW_LIFE_CIRCLE.AFTER_RENDER,r)})},c.prototype.start=function(){},c.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},c.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new o.Slider(x.__assign(x.__assign({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},c.prototype.getSliderConfig=function(){var t=this.view.coordinateBBox,e=this.getRange(),i=m(this.getInteractionConfig())||{},n=i.padding,r=void 0===n?[0,0,0,0]:n,o=i.backgroundStyle,a=i.foregroundStyle,s=i.handlerStyle,l=i.textStyle,c=i.trendCfg,u=void 0===c?{}:c,h=r[0],p=r[1],f=r[2],d=r[3],g=this.getSliderMinMaxText(this.curStart,this.curEnd),y=g.minText,v=g.maxText;return{x:t.minX+d,y:e.minY+h,width:t.width-d-p,height:e.height-h-f,start:this.curStart,end:this.curEnd,minText:y,maxText:v,backgroundStyle:o,foregroundStyle:a,handlerStyle:s,textStyle:l,trendCfg:x.__assign(x.__assign({isArea:!1,smooth:!1},u),{data:this.getSliderTrendData()})}},c.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,i=t.yField;return u.map(e,function(t){return t[i]})},c.prototype.getSliderData=function(t,e){var i=this.getViewLayer().getData(),n=u.size(this.xScaleCfg.values),r=Math.round(t*n),o=Math.max(r+1,Math.round(e*n));return a.getDataByScaleRange(this.xScaleCfg.field,this.xScaleCfg.values,i,[r,o])},c.prototype.getSliderMinMaxText=function(t,e){var i=this.getViewLayer().options,n=i.data,r=void 0===n?[]:n,o=i.xField,a=u.size(r),s=Math.round(t*a),l=Math.max(s+1,Math.round(e*a)),c=r.slice(s,l);return{minText:0<c.length?u.head(c)[o]:"",maxText:0<c.length?u.last(c)[o]:""}},c.prototype.onChange=function(t){var e=this.view,i=u.clamp(Math.min(t[0],t[1]),0,1),n=u.clamp(Math.max(t[0],t[1]),0,1),r=this.getSliderData(i,n),o=this.getSliderMinMaxText(i,n),a=o.minText,s=o.maxText;this.curStart=i,this.curEnd=n,this.slider.update({start:i,end:n,minText:a,maxText:s}),this.slider.render();var l=e.getOptions().animate;e.animate(!1),e.changeData(r),e.animate(l)},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.onChangeFn=u.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(1),g=i(0),n=i(7),r=d.__importDefault(i(38)),o=d.__importDefault(i(10)),y=d.__importDefault(i(201));function v(t){return d.__assign({loop:!1,auto:!0,height:40,padding:[0,20,0,0],speed:2},t)}var a,s=(a=r.default,d.__extends(l,a),l.getInteractionRange=function(t,e){var i=v(e),n=i.padding[0],r=i.padding[2];return new o.default(t.minX,t.maxY-i.height-n-r,t.width,i.height+n+r)},l.prototype.setAnimate=function(e){var t=this.view.geometries;this.view.animate(e),t.forEach(function(t){t.animate(e)})},l.prototype.start=function(){},l.prototype.renderTimeLine=function(){var t=this;this.config=v(this.getInteractionConfig());var e=this.view.viewBBox,i=this.config,n=i.loop,r=i.padding,o=i.speed,a=r[0],s=r[1],l=r[2],c=r[3],u=this.getRange(),h=this.getTicks(),p=e.width-c-s,f={x:e.minX+c,y:u.tl.y+a,width:p,height:u.height-a-l,loop:n,ticks:h,speed:o,defaultCurrentTick:h[0]};this.timeline?g.isEqual(f,this.timeLineConfig)||(this.timeLineConfig=f,this.timeline.update(f)):(this.container=this.canvas.addGroup(),this.timeline=new y.default(d.__assign({container:this.container},f)),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(h[0])),this.timeLineConfig=f)},l.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},l.prototype.getFilterData=function(e){var i=this.config.field;return this.getViewLayer().options.data.filter(function(t){return t[i]===e})},l.prototype.getTicks=function(){var e=this.config.field,t=this.getViewLayer().options.data;return g.uniq(t.map(function(t){return t[e]}))},l.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(n.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(n.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},l.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},l);function l(){var t=null!==a&&a.apply(this,arguments)||this;return t.onChangeFn=g.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),c=i(0),o=n.__importDefault(i(202)),a=n.__importDefault(i(54)),s=(r=a.default,n.__extends(l,r),l.prototype.renderInner=function(){},l.prototype.update=function(t){this.config=c.deepMix({},this.config,t);var e=this.config.ticks;this.currentTick=e.includes(this.currentTick)?this.currentTick:e[0],this.renderPlayButton(),this.renderTimeLine(),this.renderTimeSelect(this.currentTick),this.emit("timelineupdate",this.currentTick)},l.prototype.destroy=function(){r.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},l.prototype.init=function(){var t=this.config,e=t.ticks,i=t.defaultCurrentTick;e&&e.length&&(this.currentTick=this.config.ticks.includes(i)?i:e[0],this.renderPlayButton(),this.renderTimeLine(),this.renderTimeSelect(this.currentTick),this.initEvent())},l.prototype.renderPlayButton=function(){var t=this.config,e=t.height,i=t.x,n=t.y,r=e/2*.8;this.timeLineButton?this.timeLineButton.update({x:i+r,y:n+r+e*(1-.8)/2,r:r}):this.timeLineButton=new o.default({container:this.group,x:i+r,y:n+r+e*(1-.8)/2,r:r,isPlay:this.isPlay})},l.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,i=t.y,n=t.width,r=t.height,o=r/2;return 0<n?"M"+e+", "+i+"A"+o+","+o+" 90 0,0 "+e+","+(i+r)+"L"+(e+n)+", "+(i+r)+"A"+o+","+o+" 90 0,0 "+(e+n)+","+i+"L"+e+", "+i:[]},l.prototype.renderTimeLine=function(){var r=this,t=this.config,e=t.width,i=t.height,n=t.ticks,o=t.x,a=t.y;this.timeLine||(this.timeLine={}),this.timeLine.height=.15*i,this.timeLine.x=o+i+20,this.timeLine.y=a+(i/2-this.timeLine.height/2),this.timeLine.width=e-this.timeLine.x-20,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=this.group.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var s=this.timeLine.width/(n.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(t){t.destroy()});var l=-1/0;this.timeLine.textList=n.map(function(t,e){r.tickPosList.push(r.timeLine.x+e*s);var i=r.group.addShape("text",{attrs:{x:r.timeLine.x+e*s,y:r.timeLine.y+r.timeLine.height+5,text:t,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),n=i.getBBox();return n.minX>l?(i.show(),l=n.minX+n.width+10):i.hide(),i})},l.prototype.renderTimeSelect=function(e){var t=this.config,i=t.ticks,n=t.height,r=this.timeLine.width/(i.length-1),o=c.findIndex(i,function(t){return t===e}),a=this.timeLine.x+o*r,s=this.config.y+n/2,l=.15*n;this.timeSelect?(this.timeSelect.attr("x",a),this.timeSelect.attr("y",s),this.timeSelect.attr("r",l)):this.timeSelect=this.group.addShape("circle",{attrs:{x:a,y:s,r:l,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",a),this.timeSelectText.attr("y",s-.15*n-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=this.group.addShape("text",{attrs:{x:a,y:s-.15*n-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},l.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},l.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var i=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[i]&&(this.currentTick=this.config.ticks[i],this.timeSelectText.attr("text",this.currentTick),this.emit("timelinechange",this.currentTick)),this.getCanvas().draw()},l.prototype.syncCurrnentTick=function(){var e=this,t=this.config.ticks,i=this.timeLine.width/(t.length-1),n=c.findIndex(t,function(t){return t===e.currentTick}),r=this.timeLine.x+n*i;this.timeSelect.attr("x",r),this.timeSelectText.attr("x",r),this.getCanvas().draw()},l.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.config,e=t.speed,i=t.ticks,n=r.timeLine.width/i.length/(1e3*e/60);r.setTimeSelectX(n),r.isPlay&&(r.playHandler=r.startPlay())})},l.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit("timelinestart",null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit("timelineend",null))),this.getCanvas().draw()},l.prototype.initEvent=function(){var e=this;this.timeLineButton.on("click",function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),this.timeSelect.on("mousedown",function(t){e.onTimeSelectMouseDown(t)})},l);function l(t){var n=r.call(this,c.deepMix({},{speed:1,loop:!1},t))||this;return n.onTimeSelectMouseMove=function(t){t.stopPropagation(),t.preventDefault();var e=c.get(t,"touches.0.pageX",t.pageX),i=e-n.prevX;n.setTimeSelectX(i),n.prevX=e},n.onTimeSelectMouseUp=function(){n.syncCurrnentTick(),n.emit("timelineend",null);var t=n.getCanvas().get("container");t&&(t.removeEventListener("mousemove",n.onTimeSelectMouseMove),t.removeEventListener("mouseup",n.onTimeSelectMouseUp),t.removeEventListener("mouseleave",n.onTimeSelectMouseUp),t.removeEventListener("touchmove",n.onTimeSelectMouseMove),t.removeEventListener("touchend",n.onTimeSelectMouseUp),t.removeEventListener("touchcancel",n.onTimeSelectMouseUp))},n.onTimeSelectMouseDown=function(t){var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),!1===n.isPlay?n.emit("timelinestart",null):(n.isPlay=!1,n.changePlayStatus(!1)),n.prevX=c.get(e,"touches.0.pageX",e.pageX);var i=n.getCanvas().get("container");i.addEventListener("mousemove",n.onTimeSelectMouseMove),i.addEventListener("mouseup",n.onTimeSelectMouseUp),i.addEventListener("mouseleave",n.onTimeSelectMouseUp),i.addEventListener("touchmove",n.onTimeSelectMouseMove),i.addEventListener("touchend",n.onTimeSelectMouseUp),i.addEventListener("touchcancel",n.onTimeSelectMouseUp)},n}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(54)).default,r.__extends(s,n),s.prototype.renderInner=function(){},s.prototype.update=function(t){this.config=o.deepMix({},this.config,t),this.updateElement(),this.renderMarker()},s.prototype.init=function(){var t=this;this.initElement(),this.renderMarker(),this.group.on("click",function(){t.emit("click")})},s.prototype.destroy=function(){this.group.off(),n.prototype.destroy.call(this)},s.prototype.initElement=function(){this.circle=this.group.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=this.group.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=this.group.addGroup();var t=.25*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-e/2,width:t,height:e,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-e/2,width:t,height:e,fill:"#ffffff"}}),this.group.add(this.pauseGroupMarker)},s.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=.25*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},s.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},s.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},s);function s(t){return n.call(this,o.deepMix({},t))||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=i(0),h=n.__importDefault(i(10)),s=i(44),r=(o.prototype.registerPadding=function(e,t,i){void 0===t&&(t="outer"),void 0===i&&(i=!1),"inner"===t?i&&this.innerPaddingComponents.find(function(t){return t==e})||this.innerPaddingComponents.push(e):i&&this.outerPaddingComponents.find(function(t){return t==e})||this.outerPaddingComponents.push(e)},o.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=p.filter(this.outerPaddingComponents,function(t){return t.afterRender})},o.prototype.clearOuterComponents=function(){p.each(this.outerPaddingComponents,function(t){t.afterRender&&t.destroy()}),this.outerPaddingComponents=[]},o.prototype.getPadding=function(){var t=this.plot.options,e=t.padding?t.padding:this.plot.config.theme.padding;return"auto"===e?[0,0,0,0]:e},o.prototype.processAutoPadding=function(){var t=this._getInnerAutoPadding();this.plot.updateConfig({padding:t}),this.plot.render()},o.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new h.default(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var s=this.plot.layerBBox.minX,l=this.plot.layerBBox.maxX,c=this.plot.layerBBox.minY,u=this.plot.layerBBox.maxY;return p.each(this.outerPaddingComponents,function(t){var e=t.position,i=t.getBBox(),n=i.minX,r=i.maxX,o=i.minY,a=i.maxY;c<=a&&a<=u&&"top"===e&&(c=a),c<=o&&o<=u&&"bottom"===e&&(u=o),s<r&&r<=l&&"left"===e&&(s=r),s<=n&&r<=l&&"right"===e&&(l=n)}),new h.default(s,c,l-s,u-c)},o.prototype._getInnerAutoPadding=function(){var i,n=this.plot.options,t=this.plot.view,e=p.clone(t.viewBBox),r=e.maxX,o=e.maxY,a=this.plot.config.theme.bleeding;p.isArray(a)&&p.each(a,function(t,e){"function"==typeof a[e]&&(a[e]=a[e](n))}),this.plot.config.theme.legend.margin=a,this.bleeding=p.clone(a),i=p.has(this.plot.options,"radius")?[new h.default(0,e.minY,e.width,e.height)]:[new h.default(0,0,e.width,e.height)],this._getAxis(t,i);var s=this._mergeBBox(i);this._getLegend(t,i,e,this.plot.options),this._mergeBBox(i);var l=this.innerPaddingComponents;p.each(l,function(t){var e=t.getBBox();i.push(e)});var c=[0-(s=this._mergeBBox(i)).minY+this.bleeding[0],s.maxX-r+this.bleeding[1],s.maxY-o+this.bleeding[2],0-s.minX+this.bleeding[3]],u=this._getPanel(t);return c[0]+=u[0],c[1]+=u[1],c[2]+=u[2],c[3]+=u[3],c},o.prototype._getAxis=function(t,i){var e=s.getAxisShapes(t);0<e.length&&p.each(e,function(t){var e=t.getBBox();i.push(e)})},o.prototype._getLegend=function(t,e,i,n){var r=s.getLegendShapes(t)[0];if(r){var o=r.getBBox();if(n.legend){var a=n.legend.position.split("-")[0];"top"===a?e.push(new h.default(o.minX,-o.height,o.width,o.height)):"bottom"===a?e.push(new h.default(o.minX,o.height+i.height,o.width,o.height)):"left"===a?e.push(new h.default(o.minX-o.width,o.minY,o.width,o.height)):e.push(new h.default(i.maxX,o.minY,o.width,o.height))}}},o.prototype._getPanel=function(t){var e=[],i=t.geometries;p.each(i,function(t){t.labelsContainer&&e.push(t.labelsContainer)});var n=1/0,r=-1/0,o=1/0,a=-1/0;p.each(e,function(t){t.get("children").forEach(function(t){if("group"!==t.type||0!==t.get("children").length){var e=t.getBBox();e.minX<n&&(n=e.minX),e.maxX>r&&(r=e.maxX),e.minY<o&&(o=e.minY),e.maxY>a&&(a=e.maxY)}})});var s=t.coordinateBBox,l=Math.max(r-parseFloat(s.maxX),0);0<l&&(l*=s.width/(s.width+l));var c=Math.max(parseFloat(s.minX)-n,0);0<c&&(c*=s.width/(s.width+c));var u=Math.max(parseFloat(s.minY)-o,0);0<u&&(u*=s.height/(s.height+u));var h=Math.max(a-parseFloat(s.maxY),0);return 0<h&&(h*=s.height/(s.height+h)),[u,l,h,c]},o.prototype._mergeBBox=function(t){var i=1/0,n=-1/0,r=1/0,o=-1/0;return p.each(t,function(t){var e=t;i=Math.min(e.minX,i),n=Math.max(e.maxX,n),r=Math.min(e.minY,r),o=Math.max(e.maxY,o)}),{minX:i,maxX:n,minY:r,maxY:o}},o.prototype._adjustLegend=function(t,e,i){var n=t.get("position").split("-"),r=t.get("container"),o=r.getBBox(),a=e.viewBBox,s=a.width,l=a.maxY,c=a.minY;"right"===n[0]&&r.move(s,c),"left"===n[0]&&r.move(i.minX-o.width,c),"top"===n[0]&&r.move(0,i.minY-o.height),"bottom"===n[0]&&r.move(0,Math.max(l,i.maxY))},o.prototype._getLegendInnerPadding=function(t){var e=this.plot.theme.legend.innerPadding,i=t.get("position").split("-");return"top"===i[0]?[e[0],0,0,0]:"bottom"===i[0]?[0,0,e[2],0]:"left"===i[0]?[0,0,0,e[3]]:"right"===i[0]?[0,e[1],0,0]:void 0},o.prototype._mergeBleeding=function(t){var e=this.bleeding;if(t.length===e.length)for(var i=0;i<t.length;i++)e[i]+=t[i]},o);function o(t){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=t.plot}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(109);e.DEFAULT_DARK_THEME={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[n.TOP_BLEEDING,24,n.BOTTOM_BLEEDING,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,n.DESCRIPTION_BOTTOM_MARGIN,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,offset:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,offset:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16]},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),n={};e.registerTheme=function(e,t){n[e.toLowerCase()]=function(t){var n={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},r={};"area"===e&&(n={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var o={};return a.each(t,function(t,e){if(a.has(n,e)){var i=n[e];a.each(t,function(t,e){a.set(o,i+"."+["normal"===e?"default":e]+".style",t)})}else a.set(r,e,t)}),a.isEmpty(o)||a.set(r,"geometries",o),r}(t)},e.getTheme=function(t){return n[t.toLowerCase()]||{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.convertToG2Theme=function(t){var e=n.clone(t);return e.legend||(e.legend={}),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_RESPONSIVE_THEME={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(5),c=i(7),o=i(0),a=n.__importDefault(i(209)),s=i(33),l=n.__importDefault(i(108)),u=(h.prototype.getCanvasSize=function(){var t=s.getGlobalTheme(),e=this.plot.width?this.plot.width:t.width,i=this.plot.height?this.plot.height:t.height;return this.plot.forceFit&&(e=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:e,i=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:i),{width:e,height:i}},h.prototype.getCanvasDOM=function(){return this.canvas.get("container")},h.prototype.updateCanvasSize=function(){var t=this.getCanvasSize(),e=t.width,i=t.height;this.width=e,this.height=i,this.canvas.changeSize(e,i)},h.prototype.updateCanvasTheme=function(){var t=this.plot.theme,e=l.default.getGlobalTheme(t),i=o.get(e,"backgroundStyle.fill");i&&this.updateCanvasStyle({backgroundColor:i})},h.prototype.updateCanvasStyle=function(t){r.modifyCSS(this.getCanvasDOM(),t),r.modifyCSS(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},h.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},h.prototype.bindForceFit=function(){this.plot.forceFit&&(this.resizeObserver=new a.default(this.onResize),this.resizeObserver.observe(this.containerDOM))},h.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},h.prototype.initGCanvas=function(){var t=this.plot,e=t.renderer,i=void 0===e?"canvas":e,n=t.pixelRatio,r=t.localRefresh,o=this.getCanvasSize(),a=o.width,s=o.height,l="canvas"===i?c.Canvas:c.SVG;this.canvas=new l({localRefresh:r,container:this.containerDOM,width:a,height:s,pixelRatio:n}),this.width=a,this.height=s,this.updateCanvasTheme()},h);function h(t){var n=this;this.onResize=o.debounce(function(){if(!n.plot.destroyed){var t=n.getCanvasSize(),e=t.width,i=t.height;n.width===e&&n.height===i||(n.width=e,n.height=i,n.plot.updateConfig({width:e,height:i}),n.plot.render())}},300);var e=t.containerDOM,i=t.plot;this.containerDOM=e,this.plot=i,this.init()}e.default=u},function(t,C,e){"use strict";e.r(C),function(t){function c(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t}var n=function(){if("undefined"!=typeof Map)return Map;function n(t,i){var n=-1;return t.some(function(t,e){return t[0]===i&&(n=e,!0)}),n}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=n(this.__entries__,t),i=this.__entries__[e];return i&&i[1]},t.prototype.set=function(t,e){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,i=n(e,t);~i&&e.splice(i,1)},t.prototype.has=function(t){return!!~n(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];t.call(e,r[1],r[0])}},t;function t(){this.__entries__=[]}}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,e=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),l="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(e):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},r=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof MutationObserver,a=(s.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},s.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},s.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},s.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;r.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s),h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||e},p=y(0,0,0,0);function s(){function t(){o&&(o=!1,n()),a&&i()}function e(){l(t)}function i(){var t=Date.now();if(o){if(t-s<2)return;a=!0}else a=!(o=!0),setTimeout(e,r);s=t}var n,r,o,a,s;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(n=this.refresh.bind(this),a=o=!(r=20),s=0,i)}function f(t){return parseFloat(t)||0}function d(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(t,e){return t+f(i["border-"+e+"-width"])},0)}var u="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox};function g(t){return i?u(t)?y(0,0,(e=t.getBBox()).width,e.height):function(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return p;var n=h(t).getComputedStyle(t),r=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var r=n[i],o=t["padding-"+r];e[r]=f(o)}return e}(n),o=r.left+r.right,a=r.top+r.bottom,s=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(s+o)!==e&&(s-=d(n,"left","right")+o),Math.round(l+a)!==i&&(l-=d(n,"top","bottom")+a)),t!==h(t).document.documentElement){var c=Math.round(s+o)-e,u=Math.round(l+a)-i;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return y(r.left,r.top,s,l)}(t):p;var e}function y(t,e,i,n){return{x:t,y:e,width:i,height:n}}function v(t,e){var i,n,r,o,a,s,l=(i=e.x,n=e.y,r=e.width,o=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(a.prototype),c(s,{x:i,y:n,width:r,height:o,top:n,right:i+r,bottom:o+n,left:i}),s);c(this,{target:t,contentRect:l})}function m(t){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=a.getInstance(),i=new b(t,e,this);_.set(this,i)}var x=(O.prototype.isActive=function(){var t=g(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},O.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},O),b=(w.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new x(t)),this.controller_.addObserver(this),this.controller_.refresh())}},w.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},w.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},w.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},w.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new v(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},w.prototype.clearActive=function(){this.activeObservations_.splice(0)},w.prototype.hasActive=function(){return 0<this.activeObservations_.length},w),_=new("undefined"!=typeof WeakMap?WeakMap:n);function w(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}function O(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}["observe","unobserve","disconnect"].forEach(function(e){m.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}});var M=void 0!==e.ResizeObserver?e.ResizeObserver:m;C.default=M}.call(this,e(210))},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),n=(r.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"mousemove",s.wrapBehavior(this,"onMove")),this.addEvent(this.canvas,"mouseup",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"click",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"dblclick",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"wheel",s.wrapBehavior(this,"onEvents"))},r.prototype.clearEvents=function(){var t=this.eventHandlers;s.each(t,function(t){t.target.off(t.type,t.handler)})},r.prototype.addEvent=function(t,e,i){t.on(e,i),this.eventHandlers.push({target:t,type:e,handler:i})},r.prototype.onEvents=function(t){var e=this.getEventObj(t),i=t.target;!this.isShapeInView(i)&&i.name&&this.plot.emit(i.name+":"+t.type,t),this.plot.emit(""+t.type,e);var n=this.plot.getLayers();0<n.length&&this.onLayerEvent(n,e,t.type)},r.prototype.onMove=function(t){var e,i=t.target,n=this.getEventObj(t);!this.isShapeInView(i)&&i.name&&(this.plot.emit(i.name+":"+t.type,n),!this.lastShape||(e=this.lastShape,i&&e&&i===e)||(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",n),this.plot.emit(i.name+":mouseenter",n)),this.lastShape=i),this.plot.emit("mousemove",n);var r=this.plot.getLayers();0<r.length&&this.onLayerEvent(r,n,"mousemove")},r.prototype.isShapeInView=function(t){for(var e=["frontgroundGroup","backgroundGroup","panelGroup"],i=t.get("parent");i;){var n=i.get("name");if(n&&s.contains(e,n))return!0;i=i.get("parent")}return!1},r.prototype.getEventObj=function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,event:t.event}},r.prototype.onLayerEvent=function(t,r,o){var a=this;s.each(t,function(t){var e,i=t.getGlobalBBox();if((e={x:r.x,y:r.y}).x>=i.minX&&e.x<=i.maxX&&e.y>=i.minY&&e.y<=i.maxY){t.emit(""+o,r);var n=t.layers;0<n.length&&a.onLayerEvent(n,r,o)}})},r);function r(t){this.plot=t.plot,this.canvas=t.canvas,this.pixelRatio=this.canvas.get("pixelRatio"),this.eventHandlers=[]}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(111)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="line",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(112)),o=n.__importDefault(i(214));e.default={main:r.default,mini:o.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(7),s=i(0),l=i(20),c=i(78),o=n.__importDefault(i(112)),a=i(12);function u(t,e,i){var n=[],r=[];s.each(t.points,function(t){n.push(t[1]),r.push(t[0])}),r=e.parsePoints(r.reverse()),n=l.lineSimplification(e.parsePoints(n));var o=i?c.getSplinePath(n,!1,[[0,0],[1,1]]):h(n),a=h(r);return a[0][0]="L",o.concat(a)}function h(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],r=0===i?"M":"L";e.push([r,n.x,n.y])}return e}function p(t){return"l(90) 0:"+t+" 1:#ffffff"}r.registerShape("area","miniArea",{draw:function(t,e){var i=t.style?t.style.opacity:null,n=u(t,this,!1),r=s.deepMix({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:{path:n,fill:p(t.color||a.getGlobalTheme().defaultColor),opacity:i||.4},style:r})}}),r.registerShape("area","miniAreaSmooth",{draw:function(t,e){var i=t.style?t.style.opacity:null,n=u(t,this,!0);return e.addShape("path",{attrs:{path:n,fill:p(t.color||a.getGlobalTheme().defaultColor),opacity:i||.5}})}});var f,d=(f=o.default,n.__extends(g,f),g.prototype.init=function(){f.prototype.init.call(this),this.parseShape()},g.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},g);function g(){return null!==f&&f.apply(this,arguments)||this}e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(216));e.default={main:n.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(46)),s=["colorField","stackField","groupField"],l=(n=a.default,r.__extends(c,n),c.prototype.init=function(){this.type="interval",n.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var i=this._getStyleProps(t);i&&this.parseStyle(i)},c.prototype.parseColor=function(){var e=this.plot.options,t=this._getColorMappingField(e),i={};t&&(i.fields=t),e.color&&(o.isString(e.color)?i.values=[e.color]:o.isFunction(e.color)?i.callback=e.color:o.isArray(e.color)?i.values=e.color:o.isObject(e.color)&&(i.fields=t,i.callback=function(t){return e.color[t]})),this.config.color=i},c.prototype.parseSize=function(t){var e=this.plot.options,i={};o.isFunction(e[t])?(i.fields=[this.config.position.fields],i.callback=e[t]):i.values=[e[t]],this.config.size=i},c.prototype.parseStyle=function(t){var e=this.plot.options,i=this.config.color,n=this.plot.options[t],r={};o.isFunction(n)?(r.fields=(null==i?void 0:i.fields)||[e.xField,e.yField],r.callback=n):r.cfg=n,this.config.style=r},c.prototype._getSizeProps=function(t){for(var e=0,i=["columnSize","barSize"];e<i.length;e++){var n=i[e];if(o.get(t,n))return n}},c.prototype._getStyleProps=function(t){for(var e=0,i=["columnStyle","barStyle","pieStyle","ringStyle"];e<i.length;e++){var n=i[e];if(o.get(t,n))return n}},c.prototype._getColorMappingField=function(t){for(var e=0,i=s;e<i.length;e++){var n=i[e];if(o.get(t,n))return[t[n]]}},c.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,i=s;e<i.length;e++)if(t[i[e]])return!0;return!1},c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(218)),o=n.__importDefault(i(79)),a=n.__importDefault(i(113));e.default={main:o.default,guide:r.default,mini:a.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(79)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;t.xField&&t.yField&&(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},s.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField();i&&(e.fields=i),t.line.color?e.values=[t.line.color]:(i=i||this.config.position.fields,o.isString(t.color)?e.values=[t.color]:o.isFunction(t.color)?(e.fields=i,e.callback=t.color):o.isArray(t.color)&&(e.fields=i,e.values=t.color)),this.config.color=e},s.prototype.parseStyle=function(){var t=this.plot.options.line.style,e={};o.isFunction(t)?(e.fields=this.config.position.fields,e.callback=t):e.cfg=t,this.config.style=e},s.prototype._needParseAttribute=function(t){var e=this.plot.options;return!!e[t]||!!e.line[t]},s.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=["stackField","seriesField"];e<i.length;e++){var n=i[e];if(o.get(t,n))return[t[n]]}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(220)),o=n.__importDefault(i(221));e.default={guide:o.default,circle:r.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=i(0),o=(n=r.__importDefault(i(46)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=t.colorField;i&&(e.fields=a.isArray(i)?i:[i]),t.color&&this._parseColor(t,e),a.isEmpty(e)||(this.config.color=e)},s.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=a.isArray(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},s.prototype.parseShape=function(t){this.config.shape=t},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,i={fields:null,callback:null,cfg:null},n=t.xField,r=t.yField,o=t.colorField;a.isFunction(e)?(i.fields=o?a.isArray(o)?[n,r,o].concat(o):[n,r,o]:[n,r],i.callback=e):(i.cfg=e,a.isNil(e.opacity)||(i.cfg.fillOpacity=e.opacity)),this.config.style=i},s.prototype._parseColor=function(t,e){a.isString(t.color)?e.values=[t.color]:a.isFunction(t.color)?e.callback=t.color:a.isArray(t.color)&&(e.values=t.color)},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=i(0),o=r.__importDefault(i(46)),s=["seriesField","stackField"],l=(n=o.default,r.__extends(c,n),c.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},c.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField(t);i?this._parseColorByField(t,e,i):t.point&&t.point.color?e.values=[t.point.color]:t.color&&this._parseColor(t,e),0<a.keys(e).length&&(this.config.color=e)},c.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},c.prototype.parseShape=function(t){var e={};a.isString(t)?e.values=[t]:a.isObject(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},c.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,i={fields:null,callback:null,cfg:null},n=this._getColorMappingField(t);a.isFunction(e)&&n?(i.fields=[n],i.callback=e):i.cfg=e,this.config.style=i},c.prototype._parseColorByField=function(t,e,i){if(e.fields=[i],t.point.color){for(var n=function(i,t){var n=[];return a.each(t,function(t){var e=t[i];n.push(e)}),a.uniq(n)}(i,t.data).length,r=[],o=0;o<n;o++)r.push(t.point.color);e.values=r}else t.color&&this._parseColor(t,e)},c.prototype._parseColor=function(t,e){a.isString(t.color)?e.values=[t.color]:a.isFunction(t.color)?e.callback=t.color:a.isArray(t.color)&&(e.values=t.color)},c.prototype._needParseAttribute=function(t){var e=this.plot.options;return e.point&&a.has(e.point,t)},c.prototype._getColorMappingField=function(t){for(var e=0,i=s;e<i.length;e++){var n=i[e];if(a.get(t,n))return[t[n]]}},c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var b,n=i(7),_=i(0);function w(t,e,i){for(var n=e.points,r=i.start.x+i.getWidth()*t,o=0;o<n.length-1;o++){var a=n[o],s=n[o+1];if(r>=a.x&&r<=s.x){var l=(s.y-a.y)/(s.x-a.x);return[r,a.y+l*(r-a.x)]}}}e.getPlotOption=function(t){b=t},n.registerAnimation("clipingWithData",function(t,e){var i=_.deepMix({},e,{easing:"easeLinear",duration:1e4}),n=t.get("element").geometry;n.labelsContainer.set("visible",!1);var r,o,a,s,l=t.get("index"),c=n.coordinate,u=n.scales[b.options.yField],h=_.clone(t.get("origin"));r=t,o=c.start,a=c.end,s=c.height,r.setClip({type:"rect",attrs:{x:o.x,y:a.y,width:0,height:s}});var p=t.get("clipShape"),f=t.get("parent"),d=null,g=b.options.seriesField;g&&(d=f.addShape("text",{attrs:{x:c.start.x+12,y:0,text:h.data[0][g],fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var y=d?16:0,v=f.addShape("text",{attrs:{x:c.start.x+12,y:y,text:"test"+l,fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});i.callback=function(){t&&!t.get("destroyed")&&(t.setClip(null),p.remove(),v.animate({opacity:0},300,function(){v.remove(),_.isNil(d)||d.remove();var t=n.labelsContainer;t.get("visible")||t.set("visible",!0)}))};var m=i.delay;_.isFunction(m)&&(m=i.delay(l));var x=i.easing;_.isFunction(x)&&(x=i.easing(l)),p.animate({width:c.getWidth()},i.duration,x,i.callback,m),i.onFrame=function(t){var e,i,n,r=w(t,h,c);if(r){v.attr("x",r[0]+12),v.attr("y",r[1]+y);var o=(e=u,i=r[1],n=(i-c.start.y)/(c.end.y-c.start.y),e.invert(n).toFixed(2));u.formatter&&(o=u.formatter(o)),v.attr("text",o)}},v.animate(i.onFrame,{duration:i.duration,easing:x,callback:i.callback,delay:m}),d&&d.animate({onFrame:function(t){var e=w(t,h,c);e&&(d.attr("x",e[0]+12),d.attr("y",e[1]))}},i.duration,x,i.callback,m)})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(224)),o=n.__importDefault(i(240)),a=[{name:"responsiveAxis",method:r.default},{name:"responsivePointLabel",method:o.default}];e.default={preRender:[],afterRender:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(56));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e,i){return void 0===i&&(i={ratio:.6}),e.width*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1).__importStar(i(20));e.default={type:"group",usage:"compare",expression:function(t,e){var i=[t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],n=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],r=o.minDistBetweenConvexPolygon(i,n);return 2<=Math.round(r)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1).__importStar(i(20));e.default={type:"chain",usage:"compare",expression:function(t,e,i){void 0===i&&(i={value:4});var n=[t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],r=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],o=a.minDistBetweenConvexPolygon(n,r);return Math.round(o)>=i.value}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"chain",usage:"compare",expression:function(t,e,i){void 0===i&&(i={value:5});var n=Math.abs(t.bottom-e.top);return Math.round(n)>=i.value}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"compare",expression:function(t,e,i){return void 0===i&&(i={ratio:.15}),t.width<e.width*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e){var i=e.coord.radius/2;return Math.min(i,t.value)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e,i){return void 0===i&&(i={ratio:.8}),e.radius*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(20);e.default=function(t,e,i){var n,r,o,a,s,l,c,u,h=i.nodes.nodes;if(e!==h.length-1){var p=(n=h[e],r=h[e+1],a={x:r.centerX-n.centerX,y:r.centerY-n.centerY},s=Math.sqrt(a.x*a.x+a.y*a.y),l={x:10,y:0},c=Math.sqrt(l.x*l.x+l.y*l.y),(u=d.dotProduct2D(a,l)/(s*c)*180/Math.PI)<0&&(u=360-u),45<(u=90<u&&u<=180?180-u:180<u&&u<270?u-180:360-u)?o="x":u<45&&(o="y"),{dir:o,distX:Math.abs(n.centerX-r.centerX),distY:Math.abs(n.centerY-r.centerY)}.dir),f=t.get("startPoint");"x"===p&&t.attr("y",f.y+20)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(0),x=i(117);e.default=function(t,e,i,n){var r,o,a,s=n.nodes.nodes;if(0!==i){var l=s[i],c=s[i-1];if(x.isNodeOverlap(l,c)){var u=n.plot.plot.get("elements")[0],h=c.top-l.height/2;if(h-10>n.region.top){var p=l.shape.get("origin"),f=(r=u.getShapeId(p),o=u.getShapes(),m.each(o,function(t){var e=t;e.get("id")===r&&(a=e)}),a.get("box")),d=f.left+f.width/2,g=f.top,y=u.get("labelController").labelsContainer.addShape("path",{attrs:{path:[["M",d,g],["L",l.shape.attr("x"),h]],stroke:"#ccc",lineWidth:1}}),v={x:t.attr("x"),y:t.attr("y")};l.shape.attr("y",h-10),s[i]=n.nodes.measure(l.shape),s[i].line=y,s[i].origin_position=v}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(120),a=n.__importDefault(i(39));e.default=function(t,e,i,n){var r=n.nodes.nodes;o.isKeep(e.keep,i,r)||t.attr("text")!==t.get("delegateObject").item.name&&a.default(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=i(0),f=n.__importDefault(i(39));e.default=function(t,e,n,i){var r,o,a=i.nodes.nodes,s=(r=a,(o=p.deepMix([],r)).sort(function(t,e){return e.width-t.width}),Math.round(o[0].width));if(!(n<=1)){var l=a[n],c=function(t){for(var e=n-1;0<e;e--){var i=t[e];if(!i.shape.get("blank"))return i}}(a),u=c.centerX-l.centerX,h=c.centerY-l.centerY;Math.sqrt(u*u+h*h)<s&&(f.default(t),t.set("blank",!0))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),h=i(0),p=n.__importDefault(i(39));function f(t,e,i){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o.shape.get("origin")[e]===i)return o}}e.default=function(t,e,i,n){var r=n.nodes.nodes,o=r[i];o.line&&o.line.remove();var a=function(t,e,i){var n=[];h.each(t,function(t){n.push(t[e])}),n.sort(function(t,e){return t-e});var r=n[0],o=f(i,e,r),a=n[n.length-1],s=f(i,e,a),l=function(t){var e=h.clone(t);e.sort(function(t,e){return t-e});var i=Math.floor(e.length/2);return e.length,e[i]}(n);return{min:o,max:s,median:f(i,e,l)}}(n.plot.initialProps.data,n.plot[n.plot.type].label.fields[0],r),s=!1;if(h.each(a,function(t){t.shape.get("origin")===o.shape.get("origin")&&(s=!0)}),s){if(o.origin_position){var l=o.origin_position,c=l.x,u=l.y;t.attr("x",c),t.attr("y",u)}}else p.default(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=n.__importStar(i(118)),s=n.__importDefault(i(119)),l=n.__importDefault(i(121));e.default=function(t,e,i,n){var r=n.nodes.nodes,o=t.attr("text");/^\d+$/.test(o)?s.default(t,e,i,r):a.isTime(o)?a.default(t,e,i,r):l.default(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.resetMatrix(),t.attr({rotate:360-e.degree,textAlign:"right",textBaseline:"middle"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var i=t.attr("text"),n=Math.ceil(i.length/e.lineNumber),r="",o=1;o<e.lineNumber;o++){var a=n*o;r=i.slice(0,a)+"\n"+i.slice(a)}var s=t.attr("fontSize");t.attr({text:r,lineHeight:s,textAlign:"center",textBaseline:"top"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=r.__importDefault(i(123)).default,r.__extends(a,n),a.prototype.getType=function(){var t=this.plot.options;return t.label&&t.label.type?t.label.type:"point"},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=function(t){var e=t.getResponsiveTheme();new o({plot:t,responsiveTheme:e})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Line:"line",Point:"point"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=i(1),y=i(7),v=i(0),l=i(53),n={stroke:"transparent",fill:"#FCC509",lineWidth:0},r={stroke:"#FFF",fill:"#FCC509",lineWidth:1},o={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},a=(s.prototype.render=function(){var t=this.getDataArray();this._renderPoints(t),this.view.canvas.draw(),this._addInteraction()},s.prototype.clear=function(){this.container&&this.container.clear()},s.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},s.prototype.getDataArray=function(){return this.view.geometries[0].dataArray},s.prototype._init=function(){var t=this,e=this.view.foregroundGroup;this.container=e.addGroup(),this.render(),this.view.on("beforerender",function(){t.clear()})},s.prototype._renderPoints=function(f){var d=this;v.each(this.config.data,function(e,t){var i=v.find(f[0],function(t){return v.isMatch(t._origin,e)});if(i){var n=d.config.style.normal,r=d.container.addGroup({name:d.name}),o=i.x,a=i.y;v.isArray(o)&&(o=o[0]),v.isArray(a)&&(a=a[0]);var s=d.config.symbol,l=d.config,c=l.offsetX,u=l.offsetY,h=void 0;if(v.isString(s)&&s.startsWith("image://")){var p=s.substr(8);h=r.addShape("image",{attrs:{x:o-d.size/2+c,y:a-d.size/2+u,img:p,width:d.size,height:d.size}})}else s=v.isString(s)?y.MarkerSymbols[s]:s,h=r.addShape({type:"marker",name:"marker-point",id:"point-"+t,attrs:g.__assign(g.__assign({x:o+c,y:a+u,r:d.size/2},n),{symbol:s})});d.points.push(h),d._animatePoint(h),d._renderLabel(r,i,t),r.set("data",e),r.set("origin",i)}})},s.prototype._renderLabel=function(t,e,i){var n=this.config.label;if(n&&n.visible){var r=n.offsetX,o=void 0===r?0:r,a=n.offsetY,s=void 0===a?0:a,l=n.formatter,c=n.position,u=n.field,h=e._origin[u];l&&(h=l(h,{_origin:e._origin},i));var p=v.isArray(e.x)?e.x[0]:e.x,f=v.isArray(e.y)?e.y[0]:e.y,d=t.addShape("text",{name:"marker-label",id:"label-"+i,attrs:g.__assign(g.__assign({x:p+o,y:f+s,text:h||""},n.style),{textAlign:"center",textBaseline:"top"===c?"bottom":"top"})});this.labels.push(d)}},s.prototype._addInteraction=function(){var s=this,t=this.config.events;v.each(t,function(o,a){s.container.on(s.name+":"+a,function(t){o(t);var e=t.target.get("parent").get("children")[0];if(e){var i=e.get("data"),n=e.get("id"),r={id:n,data:i};"click"===a?s.selectedPoint&&s.selectedPoint.get("id")===n?(s.selectedPoint=null,s.setState("inactive",r)):(s.selectedPoint=e,s.setState("selected",r)):"mouseenter"===a?s.setState("active",r):"mouseleave"===a&&s.setState("inactive",r)}s.view.canvas.draw()}),s.view.on("click",function(t){var e=t.target.get("parent");(!e||e.get("name")!==s.name&&s.selectedPoint)&&(s.selectedPoint=null,s.setState("inactive"))})})},s.prototype.setState=function(t,e){var i=this;"active"===t?this.selectedPoint&&e.id===this.selectedPoint.get("id")||this._onActive(e):"inactive"===t?this.points.forEach(function(t){return i._onInactive(t)}):"selected"===t&&this._onSelected(e)},s.prototype._onActive=function(t){var e=this,n=this.config.style.active;v.each(this.points,function(i){i.get("id")===t.id?v.each(n,function(t,e){i.attr(e,t)}):e._onInactive(i)})},s.prototype._onInactive=function(i){var t=this.config.style.normal;this.selectedPoint&&i.get("id")===this.selectedPoint.get("id")||v.each(t,function(t,e){i.attr(e,t)})},s.prototype._onSelected=function(t){var e=this,n=this.config.style.selected;v.each(this.points,function(i){i.get("id")===t.id?v.each(n,function(t,e){i.attr(e,t)}):e._onInactive(i)})},s.prototype._animatePoint=function(t){var e=this.config,i=e.animation,n=e.size;if(!1!==i){var r=i.endState,o=void 0===r?{}:r,a=i.animateCfg,s=void 0===a?l.DEFAULT_ANIMATE_CFG.appear:a;t.animate(g.__assign({r:Number.isNaN(o.size/2)?n/2:o.size/2},o),s)}},s);function s(t){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:n,selected:o,active:r},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=t.view,this.size=t.size||6,this.config=v.deepMix({},this.defaultCfg,t),this._init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("line",{lineStyle:{normal:{},active:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+1}},disable:function(t){return{opacity:.2*(t.shape.attr("opacity")||1)}},selected:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+2}}},pointStyle:{normal:{},active:{},disable:{},selected:{}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(45).registerResponsiveTheme("line",{label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(246));e.LineActive=r.default;var o=n.__importDefault(i(247));e.LineSelect=o.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(77)).default,r.__extends(s,n),s.prototype.start=function(){},s.prototype.process=function(t){var e=o.filter(this.view.geometries,function(t){return"line"==t.type});if("line"===t.target.get("name")){var i=o.get(t,"data.data");o.each(e,function(t){o.each(t.elements,function(t){t.setState("active",t.data===i)})})}else o.each(e,function(t){o.each(t.elements,function(t){t.setState("active",!1)})})},s);function s(t){return n.call(this,r.__assign({processEvent:"mousemove"},t))||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(77)).default,r.__extends(s,n),s.prototype.start=function(){},s.prototype.end=function(t){var e=t.target,i=o.filter(this.view.geometries,function(t){return"line"==t.type});if("line"===e.get("name")){var n=o.get(t,"data.data");o.each(i,function(t){o.each(t.elements,function(t){t.setState("inactive",t.data!==n)})})}else o.each(i,function(t){o.each(t.elements,function(t){t.setState("inactive",!1)})})},s);function s(t){return n.call(this,r.__assign({endEvent:"click"},t))||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(249)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="treemap",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(1),c=i(0),n=i(4),o=a.__importDefault(i(9)),u=a.__importDefault(i(250)),s=i(253),l=a.__importStar(i(257)),h=a.__importDefault(i(258)),p=(r=o.default,a.__extends(f,r),f.getDefaultOptions=function(){return c.deepMix({},r.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},f.prototype.beforeInit=function(){var e=this;r.prototype.beforeInit.call(this);var t=this.options.interactions;t&&c.each(t,function(t){"drilldown"===t.type&&(e.isDrilldown=!0,e.options.maxLevel=1)});var i=this.options.data,n=this.getTreemapData(i);this.rootData=n},f.prototype.afterRender=function(){r.prototype.afterRender.call(this),this.options.label&&this.options.label.visible&&new h.default(a.__assign({view:this.view,plot:this},this.options.label)).render()},f.prototype.geometryParser=function(){return"polygon"},f.prototype.getTreemapData=function(t,e){var i=this.getViewRange(),n=u.default(t,i.x,i.y,i.width,i.height);this.recursive(n,1);var r=[];return this.getAllNodes(n,r,e),r.sort(function(t,e){return t.depth-e.depth}),this.options.xField="x",this.options.yField="y",r},f.prototype.processData=function(){return this.rootData},f.prototype.coord=function(){},f.prototype.addGeometry=function(){var i=this,t=this.options,e=t.data,n=t.colorField,r=t.color,o=this.getTreemapData(e);this.rootData=o;var a=this.isNested(o);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[n],values:r},style:{fields:["depth"],callback:function(t){var e=i.adjustStyleByDepth(t,a);return c.deepMix({},e,i.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},f.prototype.applyInteractions=function(){var n=this,t=this.options.interactions,r=this.view.interactions;c.each(t,function(t){var e=s.INTERACTION_MAP[t.type];if(e){var i=new e(c.deepMix({},{view:n.view,plot:n,startEvent:"polygon:click"},t.cfg,e.getInteractionRange(n.layerBBox,t.cfg)));r[t.type]=i}})},f.prototype.animation=function(){r.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},f.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,l)},f.prototype.recursive=function(t,a){var s=this,l=this.options.colorField;c.each(t,function(o){c.each(o.children,function(t){if(1<(t.depth=a)&&(t.parent=o),c.hasKey(t,l)||(t[l]=o[l]),t.showLabel=!0,!s.isLeaf(t)){var e=Math.abs(t.y1-t.y0),i=s.getLabelHeight(),n=i<e/2?i:4;t.showLabel=4!==n;var r=u.default(t,t.x0+4,t.y0+n,t.x1-4,t.y1-4);s.fillColorField(r,l,t[l]),s.recursive(r,t.depth+1)}})})},f.prototype.getAllNodes=function(t,e,i){var n=this,r=i||this.options.maxLevel,o=this.getViewRange();c.each(t,function(t){c.hasKey(t,"x0")&&t.depth<=r&&e.push(a.__assign(a.__assign({},t),{x:[t.x0,t.x1,t.x1,t.x0],y:[o.height-t.y1,o.height-t.y1,o.height-t.y0,o.height-t.y0]})),c.hasKey(t,"children")&&n.getAllNodes(t.children,e)})},f.prototype.fillColorField=function(t,e,i){c.each(t,function(t){c.hasKey(t,e)||(t[e]=i)})},f.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,i=0;if(t&&t.visible){var n=t.style;i=n&&n.fontSize?n.fontSize:e}return i+8},f.prototype.isLeaf=function(t){return!t.children||0===t.children.length},f.prototype.isNested=function(t){if(1===this.options.maxLevel)return!1;for(var e=!1,i=0;i<t.length;i++)if(t[i].children){e=!0;break}return e},f.prototype.adjustStyleByDepth=function(t,e){var i=this.options.maxLevel;return e?1===t?{lineWidth:1,stroke:"black",opacity:t/i}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/i}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},f);function f(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="treemap",t}e.default=p,n.registerPlotType("treemap",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var O=i(251),M=i(252),C=(1+Math.sqrt(5))/2;e.default=function(t,e,i,n,r){var o=t.children,a=t.value;o.sort(function(t,e){return e.value-t.value});for(var s,l,c,u,h,p,f,d,g=[],y=0,v=0;y<o.length;){var m=n-e,x=r-i;for(l=s=o[v++].value,h=(c=s)*s*(u=Math.max(x/m,m/x)/(a*C)),f=Math.max(l/h,h/c);v<o.length;v++){if((d=o[v].value)<c&&(c=d),l<d&&(l=d),h=(s+=d)*s*u,(p=Math.max(l/h,h/c))>f){s-=d;break}f=p}var b={value:s,dice:m<x,children:o.slice(y,v)};if(g.push(b),b.dice){var _=a?x*s/a:x;O.dice(b,e,i,n,i+_),a&&(i+=_)}else{var w=a?m*s/a:m;M.slice(b,e,i,e+w,r),a&&(e+=w)}a-=s,y=v}return g}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(0);e.dice=function(t,e,i,n,r){var o=n-e,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=o/s,c=e;u.each(a,function(t){t.y0=i,t.y1=r,t.x0=c,c+=t.value*l,t.x1=t.x0+t.value*l})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(0);e.slice=function(t,e,i,n,r){var o=r-i,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=o/s,c=i;u.each(a,function(t){t.x0=e,t.x1=n,t.y0=c,c+=t.value*l,t.y1=t.y0+t.value*l})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(254));e.INTERACTION_MAP={drilldown:n.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(1),r=s.__importDefault(i(255)),o=s.__importDefault(i(38)),l=s.__importDefault(i(10)),a=i(0),c=i(256),u=(n=o.default,s.__extends(h,n),h.getInteractionRange=function(t,e){var i,n=(void 0===(i=e)&&(i={}),s.__assign({x:0,y:0,startNode:{name:"root"},itemWidth:100,itemHeight:30,padding:[0,0,0,0]},i)),r=n.padding,o=r[0],a=r[1];if(t)return new l.default(t.minX,t.maxY-n.itemHeight-o-a,t.width,n.itemHeight+o+a)},h.prototype.start=function(t){var e=this,i=t.data.data;i.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:a.clone(this.currentNode.name),value:a.clone(this.currentNode.value)},depth:a.clone(this.currentDepth)},this.currentDepth++,c.drillingDown(t.target,this.view,function(){e.update(i)}))},h.prototype.update=function(t){a.hasKey(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},h.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),"root"===this.startNode.name?(this.startNodeName=a.hasKey(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+10,this.breadcrumb=new r.default({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},h.prototype.clear=function(){},h.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y})},h.prototype.getItems=function(){var i=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var t=this.getRootItem();i.push(t)}else{i=[];var e=[];this.findParent(this.currentNode,e),i.push(this.getRootItem()),a.each(e,function(t,e){i.push({key:String(e+2),text:t.name,data:t})}),i.push({key:String(e.length+2),text:this.currentNode.name,data:this.currentNode})}return i},h.prototype.findParent=function(t,e){t.parent&&(a.hasKey(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e))},h.prototype.onInteraction=function(){var r=this;this.container.on("click",function(t){var e=t.target.get("parent");if(e&&"item-group"===e.get("class")){var i=e.get("data");if(i.data)if(i.text===r.startNodeName)r.currentDepth-1==1?c.rollingUp(r.currentNode.name,r.view,function(){r.updateRoot(i)}):r.updateRoot(i),r.currentDepth=1;else{if(r.currentNode===i.data)return;var n=a.clone(r.currentDepth);r.currentDepth=parseInt(i.key),n-1===r.currentDepth?c.rollingUp(r.currentNode.name,r.view,function(){r.update(i.data)}):r.update(i.data)}}})},h.prototype.getRootItem=function(){var t=this.plot.options.data;return{key:"1",text:a.hasKey(t,"name")?t.name:"root",data:this.plot.rootData}},h.prototype.saveOriginMapping=function(){var t=this.plot.options,e={field:t.colorField,values:t.colors};this.originMapping=e},h.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&a.hasKey(this.mapping,String(t))){if((n=a.clone(this.mapping[t])).values&&a.isFunction(n.values)){var i=n.values(this.parentNode,this.currentNode);n.values=i}this.view.geometries[0].color(n.field,n.values)}else{var n=a.clone(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},h.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox;this.geometry.container.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},h.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},h);function h(){return null!==n&&n.apply(this,arguments)||this}e.default=u,o.default.registerInteraction("drilldown",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,m=i(1),n=m.__importDefault(i(54)),o=i(47),a=(r=n.default,m.__extends(s,r),s.prototype.destroy=function(){this.offEvents(),r.prototype.destroy.call(this)},s.prototype.init=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=m.__assign({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=m.__assign({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=m.__assign({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=m.__assign({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=m.__assign({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},s.prototype.renderInner=function(t){this.offEvents(),this.renderItems(t,0,0),o.move(this.group,this.x,this.y)},s.prototype.renderItems=function(c,u,h){var p,f=this,t=this.itemPadding,d=t[0],g=t[1],y=t[2],v=t[3],e=c.addShape("rect",{class:"breadcrumb-background",attrs:m.__assign({x:u,y:h,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(t,e){var i=c.addGroup({id:"item-group-"+t.key,data:t,class:"item-group",attrs:{cursor:"pointer"}}),n=i.addShape("rect",{id:"item-background-"+t.key,class:"item-background",attrs:m.__assign(m.__assign({x:u,y:h,width:v+g,height:d+y},f.itemBackgroundStyle),{cursor:"pointer"})});n.name="breadcrumb";var r=i.addShape("text",{id:"item-text-"+t.key,class:"item-text",attrs:m.__assign(m.__assign({x:u+v,y:h+d,text:t.text},f.textStyle),{cursor:"pointer"})});r.name="breadcrumb";var o=r.getBBox();p=f.itemHeight||o.height;var a=f.itemWidth||o.width;f.maxItemWidth&&(a=Math.min(a,f.maxItemWidth));var s={x:u,y:h,width:a+v+g,height:p+d+y};if(n.attr("width",s.width),n.attr("height",s.height),i.setClip({type:"rect",attrs:s}),u+=s.width,e!==f.items.length-1){var l=c.addShape("text",{attrs:m.__assign({x:u,y:h+d,text:f.separator},f.separatorStyle),class:"separator"});u+=l.getBBox().width}}),e.attr({width:u,height:p+d+y})},s.prototype.bindEvents=function(t){function o(t,i,n){return function(){var e=i.get("data"),t=r.find(function(t){return t.key===e});a.emit(n,{item:t})}}var a=this,r=this.items,e=t.get("children").filter(function(t){return"item-group"===t.get("class")});e.forEach(function(t){var e=o(0,t,"onItemClick"),i=o(0,t,"onItemDblclick"),n=a.onItemGroupToggleActive(t,!0),r=a.onItemGroupToggleActive(t,!1);t.on("click",e),t.on("dblclick",i),t.on("mouseenter",n),t.on("mouseleave",r),a.listeners.push({target:t,event:"click",callback:e}),a.listeners.push({target:t,event:"dblclick",callback:i}),a.listeners.push({target:t,event:"mouseenter",callback:n}),a.listeners.push({target:t,event:"mouseleave",callback:r})})},s.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,i=t.event,n=t.callback;e.off(i,n)}),this.listeners=[]},s);function s(){var n=null!==r&&r.apply(this,arguments)||this;return n.listeners=[],n.onItemGroupToggleActive=function(e,i){return function(){var t=e.get("children").find(function(t){return"item-background"===t.get("class")});t&&t.attr(i?n.itemActiveBackgroundStyle:n.itemBackgroundStyle),n.getCanvas().draw()}},n}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var w=i(0),O=i(47),M=[1,0,0,0,1,0,0,0,1],C="easeQuadInOut";function S(t,i){var e=t.getShapes(),n=[];return w.each(e,function(t){var e=i.addShape("path",{attrs:w.deepMix({},t.attrs,{capture:!1})});n.push(e)}),n}function j(t){var e=t.coordinateBBox;return{minX:e.minX,minY:e.minY,centerX:(e.maxX-e.minX)/2,centerY:(e.maxY-e.minY)/2,width:e.width,height:e.height}}function A(t){var e=t.attr("path"),i=e[0][1],n=e[0][2],r=e[1][1],o=e[2][2];return{minX:i,minY:o,centerX:(r-i)/2,centerY:(n-o)/2,width:Math.abs(r-i),height:Math.abs(n-o)}}function P(t){t.labelsContainer.set("visible",!1)}function T(t){t.labelsContainer.set("visible",!0)}e.drillingDown=function(t,n,e){var r=A(t),o=j(n),i=o.width/r.width,a=o.height/r.height,s=(o.minX-r.minX)*i,l=(o.minY-r.minY)*a,c=O.transform([["s",i,a],["t",s,l]]),u=n.geometries[0];P(u);var h=n.backgroundGroup.addGroup();h.set("zIndex",-100),h.setClip({type:"rect",attrs:{x:o.minX,y:o.minY,width:o.width,height:o.height}});var p=S(u,h);u.container.set("visible",!1),n.canvas.draw(),e(),window.setTimeout(function(){w.each(p,function(t,e){0===e?t.animate({matrix:c},400,C,function(){h.remove(),n.canvas.draw()}):t.animate(O.transform,400)}),P(u=n.geometries[0]);var t=u.getShapes();w.each(t,function(t){t.attr("opacity",0),t.animate({opacity:1},400,C)});var e=u.container;e.stopAnimate(),e.set("visible",!0),e.attr("matrix",w.clone(M)),O.groupTransform(e,[["s",r.width/o.width,r.height/o.height],["t",r.minX,r.minY]]);var i=w.clone(M);u.container.animate({matrix:i},400,C,function(){T(u)}),n.canvas.draw()},16)},e.rollingUp=function(t,e,i){var n=e.geometries[0];P(n);var r=n.container;r.attr("matrix",w.clone(M));var o=e.backgroundGroup.addGroup();o.set("zIndex",-100);var a=S(n,o);r.set("visible",!1),e.canvas.draw(),i(),P(n=e.geometries[0]),r=n.container;var s,l,c,u,h,p,f,d,g=A((s=n.getShapes(),l=t,w.each(s,function(t){t.get("origin").data.name===l&&(c=t)}),c)),y=j(e);r.get("parent").get("clipShape")||r.setClip({type:"rect",attrs:{x:y.minX,y:y.minY,width:y.width,height:y.height}}),u=o,h=a,p=g.width/y.width,f=g.height/y.height,d=O.transform([["s",p,f],["t",g.minX,g.minY]]),u.animate({matrix:d},400,C,function(){u.remove()}),w.each(h,function(t){t.animate({opacity:0},400,C)});var v=y.width/g.width,m=y.height/g.height,x=(y.minX-g.minX)*v,b=(y.minY-g.minY)*m,_=O.transform([["s",v,m],["t",x,b]]);r.setMatrix(_),r.set("visible",!0),r.animate({matrix:M},400,C,function(){T(n)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Rect:"polygon",Breadcrumb:"breadcrumb"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(0),x=i(44);function b(t,e,i,n){for(var r=n.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:e}}),o=r.getBBox().width,a=n.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),s="",l=i-o,c=0;c<t.length;c++){var u=t[c];if(a.attr("text",s+=u),a.getBBox().width>=l){var h=s.substr(0,s.length-1);if(0<h.length)return h+"..."}}return a.remove(),r.remove(),s}var n=(r.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var h=this,t=this.getGeometry().elements;m.each(t,function(t){var e,i=t.shape,n=i.get("origin").data,r=(e=h.plot.options.maxLevel,!n.children||n.depth>=e);if(n.showLabel){var o=m.clone(h.options.style),a=h.getPosition(i,r),s=h.options.formatter,l=s?s(n.name):n.name,c=h.getTextBaseLine(r),u=h.container.addShape("text",{attrs:m.deepMix({},o,{x:a.x,y:a.y,text:l,fill:"black",textAlign:"center",textBaseline:c,fontWeight:r?300:600}),name:"label"});h.adjustLabel(u,i,r)}})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getPosition=function(t,e){var i=t.getBBox(),n=0,r=0;return r=e?(n=i.minX+i.width/2,i.minY+i.height/2):(n=i.x+i.width/2,i.y+4),{x:n,y:r}},r.prototype.getTextBaseLine=function(t){return t?"middle":"top"},r.prototype.adjustLabel=function(t,e,i){i?this.adjustLeafLabel(t,e):this.adjustParentLabel(t,e)},r.prototype.adjustLeafLabel=function(t,e){var i=e.getBBox(),n=t.getBBox(),r=m.clone(t.attr("text")),o=Math.max(t.attr("fontSize")-2,8),a=i.x+i.width/2,s=i.y+i.height/2;t.attr({x:a,y:s,textAlign:"center",textBaseline:"middle",lineHeight:o,fontSize:o});var l,c,u,h,p,f,d,g=i.width-8;if(n.width>i.width&&n.height>i.height)t.attr("text","");else if(g<o)t.attr("text","");else if(n.width>i.width){var y=(l=t,c=g,u=this.container,h=l.attr("fontSize"),p=l.attr("text"),f=u.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:h}}),d=p.split("\n").map(function(t){for(var e="",i=t.split(""),n=[],r=0;r<i.length;r++){var o=i[r];if(f.attr("text",e+=o),f.getBBox().width-1>c){if(0===r)break;n.push(r),e=""}}return x.breakText(i,n)}),f.remove(),d.join("\n"));if(t.attr({lineHeight:t.attr("fontSize"),text:y}),t.getBBox().height>i.height){var v=b(r,o,g,this.container);t.attr("text",v)}}},r.prototype.adjustParentLabel=function(t,e){var i=e.getBBox().width-8;if(t.getBBox().width>i){var n=b(t.attr("text"),t.attr("fontSize"),i,this.container);t.attr("text",n)}},r.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:m.clone(t)}},r.prototype.getGeometry=function(){return m.find(this.view.geometries,function(t){return"polygon"===t.type})},r);function r(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=m.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(260),s=(n=r.__importDefault(i(3)).default,r.__extends(l,n),l.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="step-line",n.prototype.createLayers.call(this,e)},l.getDefaultOptions=a.StepLineLayer.getDefaultOptions,l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(111)),s=i(4),l=(n=a.default,r.__extends(c,n),c.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{step:"hv"})},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="step-line",t}e.StepLineLayer=l,s.registerPlotType("step-line",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(57)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="bar",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveAxis",method:i(1).__importDefault(i(263)).default}];e.default={preRender:[],afterRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(56));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onBarClick:"interval:click",onBarDblclick:"interval:dblclick",onBarMousemove:"interval:mousemove",onBarMouseenter:"interval:mouseenter",onBarMouseleave:"interval:mouseleave",onBarMousedown:"interval:mousedown",onBarMouseup:"interval:mouseup",onBarContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("bar",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(81)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedBar",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(32),a=(n=r.__importDefault(i(127)).default,r.__extends(s,n),s.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var i=t.getBBox();this.getElementShapeBBox(e).width<=i.width&&t.set("visible",!1)}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,o.registerLabelComponent("stacked-bar",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(128)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedBar",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(129)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedBar",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(271)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="rangeBar",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=r.__importDefault(i(57)),l=r.__importDefault(i(272)),c=i(273),u=(n=s.default,r.__extends(h,n),h.getDefaultOptions=function(){return o.deepMix(n.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,offset:12}}},{})},h.prototype.afterRender=function(){this.renderLabel();var i=[],t=this.view.geometries;o.each(t,function(t){var e=t.elements;o.each(e,function(t){i.push(t.shape)})}),c.setShapeCache(i),n.prototype.afterRender.call(this)},h.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new l.default(r.__assign({view:this.view,plot:this},this.options.label)).render()},h.prototype.animation=function(){n.prototype.animation.call(this),this.bar.animate={appear:{animation:"clipInFromCenter",duration:600},update:{animation:"updateFromCenter",duration:600}}},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rangeBar",t}e.default=u,a.registerPlotType("rangeBar",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=i(0),s=i(28),r=n.__importDefault(i(10)),o=(a.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},a.prototype.render=function(){var h=this,t=this.getGeometry(),e=t.elements,i=t.coordinate;this.coord=i,p.each(e,function(t){var s=t.shape,e=h.getPosition(s),l=h.getValue(s),c=h.getTextAlign(),u=[];p.each(e,function(t,e){var i=0===e?h.options.leftStyle:h.options.rightStyle,n=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==n&&(i.stroke=null);var r=h.options.formatter,o=r?r(l[e]):l[e],a=h.container.addShape("text",{attrs:p.deepMix({},i,{x:t.x,y:t.y,text:o,fill:n,textAlign:c[e],textBaseline:"middle"}),name:"label"});u.push(a),h.doAnimation(a)}),s.set("labelShapes",u),h.adjustPosition(u[0],u[1],s)}),this.plot.canvas.draw()},a.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},a.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},a.prototype.getBBox=function(){return this.container.getBBox()},a.prototype.getShapeBbox=function(t){var e=this,i=[];return p.each(t.get("origin").points,function(t){i.push(e.coord.convertPoint(t))}),new r.default(i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y))},a.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:8,offsetY:0,style:p.clone(t),adjustColor:!0,adjustPosition:!0}},a.prototype.getPosition=function(t){var e,i,n=this.getShapeBbox(t),r=n.minX,o=n.maxX,a=n.minY,s=n.height,l=this.options,c=l.offsetX,u=a+s/2+l.offsetY;return i="outer"===this.options.position?(e=r-c,o+c):(e=r+c,o-c),[{x:e,y:u},{x:i,y:u}]},a.prototype.getValue=function(t){var e=this.plot.options.xField;return t.get("origin").data[e]},a.prototype.getTextAlign=function(){return"outer"===this.options.position?["right","left"]:["left","right"]},a.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,r=s.rgb2arr(i);return o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n,p.each([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],function(t){o>=t.from&&o<t.to&&(a=t.color)}),a}var o,a;return 0===e?this.options.leftStyle.fill:this.options.rightStyle.fill},a.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},a.prototype.adjustPosition=function(t,e,i){var n=i.get("origin"),r=n.x[0],o=n.x[1],a=Math.abs(o-r),s=this.view.coordinateBBox,l=[t.getBBox(),e.getBBox()],c=t.attr("x"),u=e.attr("x");if(this.options.adjustPosition&&"inner"===this.options.position){var h=l[0].width+l[1].width;(2<l[0].maxX-l[1].minX||a<h)&&(c=r-this.options.offsetX,t.attr("fill",this.options.leftStyle.fill),t.attr("textAlign","right"),l[0]=t.getBBox(),u=o+this.options.offsetX,e.attr("fill",this.options.rightStyle.fill),e.attr("textAlign","left"),l[1]=e.getBBox())}l[0].minX<s.minX&&(c=s.minX+8,t.attr("textAlign","left")),t.attr("x",c),e.attr("x",u),this.plot.canvas.draw()},a.prototype.getGeometry=function(){return p.find(this.view.geometries,function(t){return"interval"===t.type})},a);function a(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i(7),s=i(0);function r(t,e){var i=t.getBBox(),n=i.minX+i.width/2;t.setClip({type:"rect",attrs:{x:n,y:i.minY,width:0,height:i.height}}),t.get("clipShape").animate({width:i.width,x:i.minX},e.duration,e.easing,function(){t.setClip(null)},e.delay)}function o(t,e){var i,n,r=(n=t.id,s.each(a,function(t){t.id===n&&(i=t)}),i.attr("path")),o=s.clone(t.attr("path"));t.attr("path",r),t.animate({path:o},e.duration,e.easing,e.callback,100)}r.animationName="clipInFromCenter",e.setShapeCache=function(t){a=t},o.animationName="updateFromCenter",n.registerAnimation("clipInFromCenter",r),n.registerAnimation("updateFromCenter",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(83)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="area",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveAxis",method:i(1).__importDefault(i(276)).default}];e.default={preRender:[],afterRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(56));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineContextmenu:"line:contextmenu",onPointClick:"point:click",onPointDblclick:"point:dblclick",onPointMousemove:"point:mousemove",onPointMouseenter:"point:mouseenter",onPointMouseleave:"point:mouseleave",onPointMousedown:"point:mousedown",onPointMouseup:"point:mouseup",onPointContextmenu:"point:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("area",{areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(84)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedArea",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(281)),o=n.__importDefault(i(282)),a={lineLabel:{Ctr:r.default},areaLabel:{Ctr:o.default}};e.getPlotComponents=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=a[e],r=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(r,n.padding),r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),s=i(0),o=(n=r.__importDefault(i(125)).default,r.__extends(a,n),a.prototype.getShapeInfo=function(t){var e=t.get("origin").points,i=e[e.length-1],n=t.attr("stroke"),r=this.plot.options.stackField,o=t.get("origin").data[0][r],a=s.reduce(i.y,function(t,e){return t+e},0)/s.size(i.y);return{x:i.x,y:a,color:n,name:o}},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),g=i(0);function s(e,t,i){var n=t[0],r=t[t.length-1];g.each(t,function(t){if(t.x===e)return t.y[i];t.x<e&&t.x>n.x&&(n=t),t.x>e&&t.x<r.x&&(r=t)});var o=(e-n.x)/(r.x-n.x);return n.y[i]*(1-o)+r.y[i]*o}function y(t,e){var i;for(i=0;i<t.length;i++){var n=t[i];if(n.x===e||n.x>e)break}return i}var n=(o.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},o.prototype.render=function(){var u=this,h=this.plot.options.stackField,t=this.getGeometry().dataArray,n=[];g.each(t,function(t,e){var i=u.drawLabel(t,e);i&&(n.push(g.deepMix({},t[0],i)),u.scaleFactor.push(i.scaleFactor))});var p=[];g.each(n,function(t,e){var i=u.options,n=i.style,r=i.offsetX,o=i.offsetY,a=u.getFontSize(e),s=u.options.formatter,l=s?s(t._origin[h]):t._origin[h],c=u.container.addShape("text",{attrs:g.deepMix({},{x:t.x+r,y:t.y+o,text:l,fill:t.color,fontSize:a,textAlign:"center",textBaseline:"top"},n),name:"label"});p.push(c)}),this.plot.canvas.draw()},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getBBox=function(){return this.container.getBBox()},o.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=g.clone(t.label.style);return e.stroke=null,delete e.fill,{offsetX:0,offsetY:0,style:e,autoScale:!0}},o.prototype.drawLabel=function(t,e){var i,n,r,o,a=(i=t,r=1/0,o=n=-1/0,g.each(i,function(t){r=Math.min(t.x,r),o=Math.max(t.x,o);var e=Math.abs(t.y[0]-t.y[1]);n=Math.max(n,e)}),{xRange:[r,o],maxHeight:n}),s=a.xRange,l=a.maxHeight,c=s[1]-s[0],u=this.getInterpolatedPoints(s[0],c,t),h=this.getLabelBbox(e),p={xRange:s,aspect:h.width/h.height,data:u,justTest:!0},f=this.bisection(12,l,this.testFit,p,.01,100);if(null!==f){p.justTest=!1;var d=this.testFit(p);return d.x=d.x,d.y=d.y0+(d.y1-d.y0)/2,d.scaleFactor=f/h.height*.2,d}},o.prototype.getInterpolatedPoints=function(t,e,i){for(var n=[],r=t;r<e;r+=2){var o=s(r,i,0),a=s(r,i,1);n.push({x:r,y:[o,a]})}return n},o.prototype.bisection=function(t,e,i,n,r,o){for(var a=0;a<o;a++){var s=(t+e)/2,l=n;l.height=s,l.width=s*l.aspect;var c=i(l);if(c&&(e-t)/2<r)return s;c?t=s:e=s}return null},o.prototype.testFit=function(t){for(var e=t.xRange,i=t.width,n=t.height,r=t.data,o=t.justTest,a=0;a<r.length;a++){var s=r[a].x,l=s+i;if(l>e[1])break;for(var c=y(r,l),u=-1/0,h=null,p=1/0,f=a;f<c;f++){var d=r[f].y[1],g=r[f].y[0];if(g<p&&(p=g),u<d&&(u=d,h=g),p-u<n)break}if(n<=p-u)return!!o||{x:s,y0:u,y1:h,width:i,height:n}}return!1},o.prototype.getLabelBbox=function(t){var e=g.clone(this.plot.theme.label.textStyle);e.fontSize=12;var i=this.container.addShape("text",{attrs:r.__assign({text:t,x:0,y:0},e)}),n=i.getBBox();return i.remove(),n},o.prototype.getGeometry=function(){return g.find(this.view.geometries,function(t){return"area"===t.type})},o.prototype.getFontSize=function(t){return this.options.autoScale?12*this.scaleFactor[t]:12},o);function o(t){this.destroyed=!1,this.scaleFactor=[],this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=g.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(130)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedArea",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(48)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="column",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(286)),o=n.__importDefault(i(287)),a=[{name:"responsiveAxis",method:r.default},{name:"responsiveLabel",method:o.default}];e.default={preRender:[],afterRender:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(56));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=r.__importDefault(i(123)).default,r.__extends(a,n),a.prototype.getType=function(){return!this.plot.column.label||this.plot.column.label.position&&"top"!==this.plot.column.label.position?"inner":"top"},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=function(t){var e=t.getResponsiveTheme();new o({plot:t,responsiveTheme:e})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(45).registerResponsiveTheme("column",{label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("column",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){var e=t.opacity||1;return{opacity:.5*e,fillOpacity:.5*e}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(132)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedColumn",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(85)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedColumn",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(0),a=i(55);function f(t,e){var i=[],n=t.get("origin").points;return p.each(n,function(t){i.push(e.convertPoint(t))}),i}var n=(r.prototype.draw=function(){var i=this,t=this._getGroupedShapes();p.each(t,function(t,e){0<t.length&&i._drawConnection(t,e)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},r.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype.setState=function(t,e){"active"===t&&this._onActive(e),"disabled"===t&&this._onDisabled(e),"selected"===t&&this._onSelected(e)},r.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",function(){t.clear()})},r.prototype._getGroupedShapes=function(){var i=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0].getShapes(),n={};return p.each(t,function(t){n[t]=[]}),p.each(e,function(t){var e=t.get("origin").data[i.field];n[e].push(t)}),n},r.prototype._drawConnection=function(t,e){var i=t[0].attr("fill");this._areaStyle[e]=this._getShapeStyle(i,"area"),this._lineStyle[e]=this._getShapeStyle(i,"line");for(var n=this.view.geometries[0].coordinate,r=0;r<t.length-1;r++){var o=f(t[r],n),a=f(t[r+1],n),s=p.mix({},this._areaStyle[e]),l=p.mix({},this._lineStyle[e]);this.triggerOn&&(s.opacity=0,l.opacity=0);var c=this.container.addShape("path",{attrs:p.mix({},s,{path:[["M",o[2].x,o[2].y],["L",a[1].x,a[1].y],["L",a[0].x,a[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),u=this.container.addShape("path",{attrs:p.mix({},l,{path:[["M",o[2].x,o[2].y],["L",a[1].x,a[1].y]]}),name:"connectedArea"}),h=t[r].get("origin").data;c.set("data",h),u.set("data",h),this.areas.push(c),this.lines.push(u)}},r.prototype._getShapeStyle=function(t,e){var i=e+"Style";if(this[i])return this[i];var n={areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}[i],r={fill:t};return"line"===e&&(r={stroke:t}),p.mix(n,r)},r.prototype._addInteraction=function(){var i=this,t=this.triggerOn;this.view.on("interval:"+t,function(t){var e=t.target.get("origin").data[i.field];i.setState("active",{name:i.field,exp:e}),i.setState("disabled",{name:i.field,exp:function(t){return t!==e}}),i.view.canvas.draw()}),this.view.on("mousemove",function(t){"interval"!==t.gEvent.target.get("name")&&i.setState("disabled",{name:i.field,exp:function(){return!0}})})},r.prototype._initialAnimation=function(){var t=this.view.coordinateBBox,e=t.x,i=t.y,n=t.width,r=t.height;this.container.setClip({type:"rect",attrs:{x:e,y:i,width:0,height:r}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},r.prototype._onActive=function(r){var o=this;p.each(this.areas,function(t){var e=t.get("data"),i=e[o.field];if(a.compare(e,r)){var n=o._areaStyle[i].opacity||1;t.stopAnimate(),t.animate({opacity:n},400,"easeQuadOut")}}),p.each(this.lines,function(t){var e=t.get("data"),i=e[o.field];if(a.compare(e,r)){var n=o._lineStyle[i].opacity||1;t.stopAnimate(),t.animate({opacity:n},400,"easeQuadOut")}})},r.prototype._onDisabled=function(i){p.each(this.areas,function(t){var e=t.get("data");a.compare(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),p.each(this.lines,function(t){var e=t.get("data");a.compare(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},r.prototype._onSelected=function(t){this._onActive(t)},r.prototype.getGeometry=function(){return p.find(this.view.geometries,function(t){return"interval"===t.type})},r);function r(t){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},p.assign(this,t),this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(294)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="rangeColumn",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=r.__importDefault(i(48)),l=r.__importDefault(i(295)),c=i(296),u=(n=s.default,r.__extends(h,n),h.getDefaultOptions=function(){return o.deepMix(n.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},h.prototype.afterRender=function(){this.renderLabel();var i=[],t=this.view.geometries;o.each(t,function(t){var e=t.elements;o.each(e,function(t){i.push(t.shape)})}),c.setShapeCache(i),n.prototype.afterRender.call(this)},h.prototype.animation=function(){n.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},h.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new l.default(r.__assign({view:this.view,plot:this},this.options.label)).render()},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rangeColumn",t}e.default=u,a.registerPlotType("rangeColumn",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=i(0),s=i(28),r=n.__importDefault(i(10)),o=(a.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},a.prototype.render=function(){var h=this,t=this.getGeometry(),e=t.coordinate,i=t.elements;this.coord=e,p.each(i,function(t){var s=t.shape,e=h.getPosition(s),l=h.getValue(s),c=h.getTextBaseline(),u=[];p.each(e,function(t,e){var i=1===e?h.options.topStyle:h.options.bottomStyle,n=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==n&&(i.stroke=null);var r=h.options.formatter,o=r?r(l[e]):l[e],a=h.container.addShape("text",{attrs:p.deepMix({},i,{x:t.x,y:t.y,text:o,fill:n,textAlign:"center",textBaseline:c[e]}),name:"label"});u.push(a),h.doAnimation(a)}),s.set("labelShapes",u),h.adjustPosition(u[0],u[1],s)}),this.plot.canvas.draw()},a.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},a.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},a.prototype.getBBox=function(){return this.container.getBBox()},a.prototype.getShapeBbox=function(t){var e=this,i=[];return p.each(t.get("origin").points,function(t){i.push(e.coord.convertPoint(t))}),new r.default(i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y))},a.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:0,offsetY:8,style:p.clone(t),adjustColor:!0,adjustPosition:!0}},a.prototype.getPosition=function(t){var e,i=this.getShapeBbox(t),n=i.minX,r=i.minY,o=i.maxY,a=i.width,s=this.options.offsetY,l=n+a/2;return[{x:l,y:"outer"===this.options.position?(e=r-s,o+s):(e=r+s,o-s)},{x:l,y:e}]},a.prototype.getValue=function(t){var e=this.plot.options.yField;return t.get("origin").data[e]},a.prototype.getTextBaseline=function(){return"outer"===this.options.position?["top","bottom"]:["bottom","top"]},a.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,r=s.rgb2arr(i);return o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n,p.each([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],function(t){o>=t.from&&o<t.to&&(a=t.color)}),a}var o,a;return 1===e?this.options.topStyle.fill:this.options.bottomStyle.fill},a.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},a.prototype.adjustPosition=function(t,e,i){var n=i.get("origin"),r=n.y[1],o=n.y[0],a=i.getBBox().height,s=this.view.coordinateBBox,l=[t.getBBox(),e.getBBox()],c=t.attr("y"),u=e.attr("y");if(this.options.adjustPosition&&"inner"===this.options.position){var h=l[0].height+l[1].height;(2<l[1].maxY-l[0].minY||a<h)&&(u=r-this.options.offsetY,e.attr("fill",this.options.topStyle.fill),e.attr("textBaseline","bottom"),c=o+this.options.offsetY,t.attr("fill",this.options.bottomStyle.fill),t.attr("textBaseline","top"),l[0]=t.getBBox(),l[1]=e.getBBox())}l[0].maxY>s.maxY-8&&(c=s.maxY-4,t.attr("textBaseline","bottom")),t.attr("y",c),e.attr("y",u),this.plot.canvas.draw()},a.prototype.getGeometry=function(){return p.find(this.view.geometries,function(t){return"interval"===t.type})},a);function a(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i(7),s=i(0);function r(t,e){var i=t.getBBox(),n=i.minY+i.height/2;t.setClip({type:"rect",attrs:{x:i.minX,y:n,width:i.width,height:0}}),t.get("clipShape").animate({height:i.height,y:i.minY},e.duration,e.easing,function(){t.setClip(null)},e.delay)}function o(t,e){var i,n,r=(n=t.id,s.each(a,function(t){t.id===n&&(i=t)}),i.attr("path")),o=s.clone(t.attr("path"));t.attr("path",r),t.animate({path:o},e.duration,e.easing,e.callback,100)}r.animationName="clipInFromCenterVertical",e.setShapeCache=function(t){a=t},o.animationName="updateFromCenterVertical",n.registerAnimation("clipInFromCenterVertical",r),n.registerAnimation("updateFromCenterVertical",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(134)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedColumn",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(135)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="pie",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Pie:"interval"});n.assign(r.EVENT_MAP,o)},function(t,c,e){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var i=e(1),u=e(0),s=document.createElement("canvas").getContext("2d");c.measureTextWidth=u.memoize(function(t,e){void 0===e&&(e={});var i=e.fontSize,n=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return s.font=[o,a,r,i+"px",n].join(" "),s.measureText(u.isString(t)?t:"").width},function(t,e){return e?i.__spreadArrays([t],u.values(e)).join(""):t}),c.getEllipsisText=function(t,e,i){var n,r=c.measureTextWidth("...",i);n=u.isString(t)?t:u.toString(t);var o,a,s=e,l=[];if(c.measureTextWidth(t,i)<=e)return t;for(;o=n.substr(0,16),!((a=c.measureTextWidth(o,i))+r>s&&s<a);)if(l.push(o),s-=a,!(n=n.substr(16)))return l.join("");for(;o=n.substr(0,1),!((a=c.measureTextWidth(o,i))+r>s);)if(l.push(o),s-=a,!(n=n.substr(1)))return l.join("");return l.join("")+"..."}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),g=i(0),r=n.__importDefault(i(59)),y=i(86),v=i(20);e.percent2Number=function(t){return Number(t.endsWith("%")?t.slice(0,-1):t)/100};var o,a=(o=r.default,n.__extends(s,o),s.prototype.adjustOption=function(t){o.prototype.adjustOption.call(this,t),0<t.offset&&(t.offset=0)},s.prototype.adjustItem=function(t){t.textAlign="middle"},s.prototype.drawLines=function(){},s.prototype.layout=function(t,n){var r=this;t.forEach(function(e,i){0<i&&g.each(t.slice(0,i),function(t){r.resolveCollision(e,t,n[i])})})},s.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:n.__assign(n.__assign({},t),{textAlign:"center",textBaseline:"middle"})}},s.prototype.resolveCollision=function(t,e,i){var n=this.getCoordinate().center,r=i.angle,o=t.getBBox(),a=e.getBBox(),s={x:(o.minX+o.maxX)/2,y:(o.minY+o.maxY)/2},l=g.clone(s),c=g.clone(s);if(e.get("id")!==t.get("id")){var u=y.getOverlapInfo(o,a),h=u.xOverlap,p=u.yOverlap;if(h&&(l.x=s.x+h,l.y=s.y+Math.tan(r)*h),p){var f=p;f=s.y<n.y?f<0?f:a.minY-o.maxY:0<f?f:a.maxY-o.minY,c.y=s.y+f,c.x=s.x+f/Math.tan(r)}var d=v.distBetweenPoints(s,l)<v.distBetweenPoints(s,c)?l:c;t.attr("x",d.x),t.attr("y",d.y)}},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),O=i(0),r=n.__importDefault(i(59)),M=i(86);e.DEFAULT_OFFSET=16;var o,a=(o=r.default,n.__extends(s,o),s.prototype.adjustOption=function(t){o.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},s.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:n.__assign(n.__assign({},t),{textBaseline:"middle"})}},s.prototype.layout=function(t,e,i){var n=this,r=this.getCoordinate().center,o=O.filter(t,function(t){return t.attr("x")<=r.x});[O.filter(t,function(t){return t.attr("x")>r.x}),o].forEach(function(t,e){n._antiCollision(t,!e,i)})},s.prototype._antiCollision=function(o,p,a){var f=this,i=this.getLabelHeight(o),t=this.getCoordinate(),d=t.center,g=t.radius,s=this.options.offset,l=g+s,e=Math.min(a.height,Math.max(2*l+2*i,o.length*i)),n=Math.floor(e/i);this.options.allowOverlap||o.slice(n).forEach(function(t){t.get("parent").set("visible",!1)}),o.splice(n,o.length-n),o.sort(function(t,e){return t.getBBox().y-e.getBBox().y});for(var r,c=!0,u=d.y+e/2,h=d.y-e/2,y=o.map(function(t){var e=t.getBBox();return e.maxY>u&&(u=Math.min(a.maxY,e.maxY)),e.minY<h&&(h=Math.max(a.minY,e.minY)),{text:t.attr("text"),size:i,pos:e.y,targets:[]}}),v=0;v<y.length;)v===y.length-1?y[v].targets[0]=u:y[v].targets[0]=y[v+1].pos-y[v+1].size/2,v++;for(;c;)for(y.forEach(function(t){var e=O.last(t.targets);t.pos=Math.max(h,Math.min(t.pos,e-t.size))}),c=!1,r=y.length;r--;)if(0<r){var m=y[r-1],x=y[r];if(m.pos+m.size>x.pos){m.size+=x.size,m.targets=m.targets.concat(x.targets);var b=O.last(m.targets);m.pos+m.size>b&&(m.pos=b-m.size),y.splice(r,1),c=!0}else m.targets.splice(-1,1,x.pos)}r=0,y.forEach(function(t){var e=i/2;t.targets.forEach(function(){o[r].attr("y",t.pos+e),e+=i,r++})});var _=[],w=[];o.forEach(function(t,e){var i=f.arcPoints[e];0<=i.angle&&i.angle<=Math.PI?w.push(t):_.push(t)}),[_,w].forEach(function(t,e){if(t.length){var i=e?O.last(t).getBBox().maxY-d.y:d.y-O.head(t).getBBox().minY;i=Math.max(l,i);var c=4<s?4:0,n=Math.max.apply(0,O.map(o,function(t){return t.getBBox().width}))+s+c,r=Math.max(l,Math.min((i+l)/2,d.x-(a.minX+n))),u=r*r,h=i*i;t.forEach(function(t,e){var i=f.arcPoints[e],n=t.getBBox(),r=(n.minX,n.width,n.minY+n.height/2),o=Math.pow(r-d.y,2),a=M.getEndPoint(d,i.angle,g),s=(p?1:-1)*c*2;if(h<o)console.warn("异常(一般不会出现)",t.attr("text")),t.attr("x",a.x+s);else{var l=d.x+(p?1:-1)*Math.sqrt((1-o/h)*u);(d.x===a.x&&r===a.y||d.y===a.y&&l===a.x)&&(l=a.x),t.attr("x",l+s)}})}})},s.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:O.head(t)?O.head(t).getBBox().height:14},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(59));e.DEFAULT_OFFSET=16;var o,a=(o=r.default,n.__extends(s,o),s.prototype.adjustOption=function(t){o.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},s.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:n.__assign(n.__assign({},t),{textBaseline:"middle"})}},s.prototype.adjustItem=function(t){var e=this.options.offset;"left"===t.textAlign?t.x+=4<e?4:e/2:"right"===t.textAlign&&(t.x-=4<e?4:e/2)},s.prototype.layout=function(t,e,i){},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var S=i(0);function j(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}var n=(r.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){t.clear()})},r.prototype.render=function(){var e=this;if(this.view&&!this.view.destroyed){var m=S.clone(this.view.getData());this.halves=[[],[]];var x=[],t=this.view.geometries[0].elements;S.each(t,function(t){x.push(t.shape)}),this.coord=this.view.geometries[0].coordinate;var b=this.options.fields[0],_=this.view.getScalesByDim("y")[b],w=this.coord.getCenter(),i=this.coord.startAngle,O=this.coord.polarRadius,n=this.view.coordinateBBox,r=n.width,o=n.height;this.width=r,this.height=o;for(var M=i,a=function(t){var e=m[t],i=_.scale(e[b]),n=M+2*Math.PI*i,r=M+(n-M)/2;M=n;var o=j(w,r,O+0),a=j(w,r,O+15),s="#CCC";if(2===C.options.fields.length){var l=C.options.fields[1],c=C.view.geometries[0].scales[l].scale(e[l]),u=Math.floor(c*(x.length-1));s=x[u].attr("fill")}var h={_anchor:o,_inflection:a,_data:e,x:a.x,y:a.y,r:O+15,fill:s,textGroup:null,_side:null},p=[];if(S.each(C.options.fields,function(t){p.push(e[t])}),C.options.formatter){var f=C.options.formatter(e[b],{_origin:e,color:s},t);S.isString(f)&&(f=[f]),p=f}var d=C.container.addGroup(),g={x:0,y:0,fontSize:C.options.text.fontSize,lineHeight:C.options.text.fontSize,fontWeight:C.options.text.fontWeight,fill:C.options.text.fill},y=e[b];C.options.formatter&&(y=p[0]);var v=S.clone(g);2===p.length&&(v.fontWeight=700),d.addShape("text",{attrs:S.mix({textBaseline:2===p.length?"top":"middle",text:y},v),data:e,offsetY:2===p.length?2:0,name:"label"}).name="label",2===p.length&&(d.addShape("text",{attrs:S.mix({textBaseline:"bottom",text:p[1]},g),data:e,offsetY:-2,name:"label"}).name="label"),h.textGroup=d,o.x<w.x?(h._side="left",C.halves[0].push(h)):(h._side="right",C.halves[1].push(h))},C=this,s=0;s<m.length;s++)a(s);var l=Math.floor(o/this.options.lineHeight);S.each(this.halves,function(t){t.length>l&&t.splice(l,t.length-l),t.sort(function(t,e){return t.y-e.y}),e._antiCollision(t)}),this.view.canvas.draw()}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},r.prototype._antiCollision=function(i){var n,r=this,t=this.coord,e=t.getHeight(),o=t.center,a=t.getRadius(),s=o.y-a-15-this.options.lineHeight,l=!0,c=e,u=0,h=Number.MIN_VALUE,p=0,f=i.map(function(t){var e=t.y;u<e&&(u=e),e<h&&(h=e);var i=t.textGroup.getBBox().width;return p<=i&&(p=i),{size:r.options.lineHeight,targets:[e-s]}});for(c<u-s&&(c=u-s);l;)for(f.forEach(function(t){var e=(Math.min.apply(h,t.targets)+Math.max.apply(h,t.targets))/2;t.pos=Math.min(Math.max(h,e-t.size/2),c-t.size)}),l=!1,n=f.length;n--;)if(0<n){var d=f[n-1],g=f[n];d.pos+d.size>g.pos&&(d.size+=g.size,d.targets=d.targets.concat(g.targets),d.pos+d.size>c&&(d.pos=c-d.size),f.splice(n,1),l=!0)}n=0,f.forEach(function(t){var e=s;t.targets.forEach(function(){i[n].y=t.pos+e+r.options.lineHeight/2,e+=r.options.lineHeight,n++})});var y=[];i.forEach(function(t){var e=r._drawLabel(t);r._drawLabelLine(t,p,e),y.push(e)})},r.prototype._drawLabel=function(t){var e=this.coord,i=e.getCenter(),n=e.getRadius(),r=t.y,o=t.textGroup,a=o.get("children"),s="left"===t._side?1:-1,l={textAlign:"left"===t._side?"right":"left",x:"left"===t._side?i.x-n-this.options.sidePadding:i.x+n+this.options.sidePadding};return this.options.offsetX&&(l.x+=this.options.offsetX*s),a.forEach(function(t){var e=t.get("offsetY"),i=r+e;t.attr(l),t.attr("y",i)}),o},r.prototype._drawLabelLine=function(t,e,i){var n=[t._anchor.x,t._anchor.y],r=[t._inflection.x,t._inflection.y],o=t.y,a=t.textGroup;if(a){var s=["left"===t._side?a.getBBox().maxX+4:a.getBBox().minX-4,o],l=[n,r,s];if(r[1]!==o)if(r[1]<o){var c=s[0]+e+15,u=s[0]-e-15,h=["left"===t._side?c:u,r[1]],p=["left"===t._side?s[0]+e:s[0]-e,s[1]];l=[n,r,h,p,s],("right"===t._side&&h[0]<r[0]||"left"===t._side&&r[0]<h[0])&&(l=[n,p,s])}else l=[n,[r[0],o],s];for(var f=[],d=0;d<l.length;d++){var g=l[d],y="L";0===d&&(y="M"),f.push([y,g[0],g[1]])}i.addShape("path",{attrs:{path:f,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},r.prototype._adjustOptions=function(t){t.text.fontSize&&(t.lineHeight=3*t.text.fontSize)},r);function r(t){this.destroyed=!1,this.view=t.view,this.options=S.deepMix({},this.getDefaultOptions(),t),this._adjustOptions(this.options),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("pie",{columnStyle:{normal:{},active:function(t){return{fillOpacity:.8*(t.opacity||1)}},disable:function(t){return{fillOpacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(307)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="densityHeatmap",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),n=i(4),a=r.__importDefault(i(9)),s=i(18),l=i(13),c=i(21);i(308);var u,h=i(309),p=r.__importStar(i(312)),f=(u=a.default,r.__extends(d,u),d.getDefaultOptions=function(){return o.deepMix({},u.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,offset:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},d.prototype.afterRender=function(){this.renderPlotComponents(),u.prototype.afterRender.call(this)},d.prototype.destroy=function(){o.each(this.plotComponents,function(t){t.destroy()}),u.prototype.destroy.call(this)},d.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},o.has(t,"xAxis")&&c.extractScale(e[t.xField],t.xAxis),e[t.yField]={},o.has(t,"yAxis")&&c.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),u.prototype.scale.call(this)},d.prototype.coord=function(){},d.prototype.geometryParser=function(){return"heatmap"},d.prototype.addGeometry=function(){if(1<this.options.data.length){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},d.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=o.deepMix(e,t.point):t.point=e;var i=l.getGeom("point","guide",{plot:this});i.active=!1,this.setConfig("geometry",i)},d.prototype.extractLabel=function(){var t=this.options,e=t.label;return(!e||!1!==e.visible)&&s.getComponent("label",r.__assign({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e))},d.prototype.legend=function(){this.setConfig("legends",!1)},d.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},d.prototype.parseEvents=function(){u.prototype.parseEvents.call(this,p)},d.prototype.renderPlotComponents=function(){var n=this;o.each(this.plotComponents,function(t){t.destroy()}),o.each(["legend","background"],function(t){var e=r.__assign({view:n.view,plot:n},n.options[t]),i=h.getPlotComponents(n,t,e);i&&(i.render(),n.plotComponents.push(i))})},d);function d(){var t=null!==u&&u.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}e.default=f,n.registerPlotType("densityHeatmap",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(7),a=i(0),s=r.__importStar(i(28)),l=(n=o.Geometry,r.__extends(c,n),c.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},c.prototype.clear=function(){this.clearShadowCanvasCtx(),n.prototype.clear.call(this)},c.prototype.prepareRange=function(t){var i=this.getAttribute("color").getFields()[0],n=1/0,r=-1/0;return t.forEach(function(t){var e=t._origin[i];r<e&&(r=e),e<n&&(n=e)}),n===r&&(n=r-1),[n,r]},c.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),a.isNumber(t)||(t=this.getDefaultSize()),this.radius=t)},c.prototype.prepareBlur=function(){var t=a.get(this.styleOption,["style","shadowBlur"]);a.isNumber(t)||(t=this.radius/2),this.blur=t},c.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},c.prototype.colorize=function(t){for(var e=this.getAttribute("color"),i=t.data,n=this.paletteCache,r=3;r<i.length;r+=4){var o=i[r];if(o){var a=void 0;n[o]?a=n[o]:(a=s.rgb2arr(e.gradient(o/256)),n[o]=a),i[r-3]=a[0],i[r-2]=a[1],i[r-1]=a[2],i[r]=o}}},c.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var i=this.intensity?this.intensity:2,n=Math.sqrt(-2*Math.log(1/255/16/t/i/.3989422804014327))/3*t,r=n-t,o=n+r,a=e.getContext("2d");e.width=e.height=2*o,a.clearRect(0,0,e.width,e.height),a.shadowOffsetX=a.shadowOffsetY=2*o,a.shadowBlur=r,a.shadowColor="black",a.beginPath(),a.arc(-o,-o,t,0,2*Math.PI,!0),a.closePath(),a.fill()},c.prototype.drawGrayScaleBlurredCircle=function(t,e,i,n,r){var o=this.grayScaleCanvas;r.globalAlpha=n,r.drawImage(o,t-i,e-i)},c.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},c.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},c.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t},c.prototype.drawWithRange=function(t,e){var i=this.coordinate,n=i.start,r=i.end,o=this.coordinate.getWidth(),a=this.coordinate.getHeight(),s=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var l=this.getShadowCanvasCtx();e&&(t=t.filter(function(t){return t._origin[s]<=e[1]&&t._origin[s]>=e[0]}));for(var c=this.scales[s],u=0;u<t.length;u++){var h=t[u],p=this.getDrawCfg(h),f=c.scale(h._origin[s]);this.drawGrayScaleBlurredCircle(p.x-n.x,p.y-r.y,this.radius+this.blur,f,l)}var d=l.getImageData(0,0,o,a);this.clearShadowCanvasCtx(),this.colorize(d),l.putImageData(d,0,0),(new Image).src=l.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",n.x),this.imageShape.attr("y",r.y),this.imageShape.attr("width",o),this.imageShape.attr("height",a),this.imageShape.attr("img",l.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},c.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return r.__assign(r.__assign({},e),{mappingData:t,data:this.getData(t)})},c.prototype.getData=function(t){return t.map(function(t){return t._origin})},c);function c(t){var e=n.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}o.registerGeometry("linearHeatmap",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(310)),o=n.__importDefault(i(311)),a={background:{Ctr:r.default},legend:{Ctr:o.default,padding:"outer"}};e.getPlotComponents=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=a[e],r=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(r,n.padding),r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(24)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},s.prototype.render=function(){if("color"===this.options.type)this.renderColorBackground();else if("image"===this.options.type)this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},s.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},s.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},s.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},s.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},s.prototype.getCoordinate=function(){var e;return o.each(this.view.geometries,function(t){"heatmap"===t.type&&(e=t.coordinate)}),e},s);function s(t){var e=n.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(1),p=i(0),n=h.__importDefault(i(10)),r=(o.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container=t.addGroup()},o.prototype.render=function(){var t=this.getScales(),e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,r=i.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(n,r,o):this.renderVertical(n,r,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},o.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getBBox=function(){var t=this.container.getBBox();return new n.default(this.x,this.y,t.width,t.height)},o.prototype.renderVertical=function(t,o,e){var a=this,s=this.width,l=this.height/e.length,c=this.container.addGroup(),i=p.clone(e).reverse(),u=(o-t)/e.length;p.each(i,function(t,e){var i=l*e,n={to:o-u*e,from:o-u*(e+1)};a.container.addShape("rect",{attrs:{x:0,y:i,width:s,height:l,fill:t,opacity:1,cursor:"pointer"},name:"legend"}).set("info",n);var r=a.getDataSlide(n);a.dataSlides[n.from+"-"+n.to]={mode:"active",data:r},c.addShape("path",{attrs:h.__assign({path:[["M",0,i+l],["L",s,i+l]]},a.options.gridlineStyle)})}),this.container.addShape("text",{attrs:h.__assign({text:o,x:s/2,y:-4,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:h.__assign(h.__assign({text:t,x:s/2,y:this.height+4,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),c.addShape("path",{attrs:h.__assign({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},o.prototype.renderHorizontal=function(t,e,i){var r=this,o=this.width/i.length,a=this.height,s=this.container.addGroup(),l=(e-t)/i.length;p.each(i,function(t,e){var i=o*e,n={from:l*e,to:l*(e+1)};r.container.addShape("rect",{attrs:{x:i,y:0,width:o,height:a,fill:t,opacity:.8,cursor:"pointer"},name:"legend"}).set("info",n),s.addShape("path",{attrs:h.__assign({path:[["M",i+o,0],["L",i+o,a]]},r.options.gridlineStyle)})}),this.container.addShape("text",{attrs:h.__assign(h.__assign({text:t,x:-4,y:a/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:h.__assign({text:e,x:this.width+4,y:a/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:h.__assign({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},o.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},o.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?.5*this.options.plot.options.width:10},o.prototype.getDefaultHeight=function(){return"vertical"===this.layout?.5*this.options.plot.options.height:10},o.prototype.legendLayout=function(){var i=this,n=this.options.plot.getPlotTheme().bleeding;p.isArray(n)&&p.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.options.plot.options))});var t=this.container.getBBox(),e=0,r=0,o=this.options.position.split("-"),a=this.options.plot.width,s=this.options.plot.height;"left"===o[0]?e=n[3]:"right"===o[0]?e=a-n[1]-t.width:"center"===o[1]?e=(a-t.width)/2:"left"===o[1]?e=n[3]:"right"===o[1]&&(e=this.options.plot.width-n[1]-t.width),"bottom"===o[0]?r=s-n[2]-t.height:"top"===o[0]?r=this.getTopPosition(n):"center"===o[1]?r=(s-t.height)/2:"top"===o[1]?r=n[0]:"bottom"===o[1]&&(r=s-n[2]-t.height),this.x=e,this.y=r,this.container.translate(e,r)},o.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},o.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},o.prototype.addInteraction=function(){var a=this,s=this.options.plot.options.colorField;this.container.on("click",function(t){var e=t.target;if("legend"===e.get("name")){var i=e.get("info"),n=i.from+"-"+i.to,r=a.dataSlides[n];"active"===r.mode?(r.mode="deactive",e.stopAnimate(),e.animate({opacity:.1},200)):(r.mode="active",e.stopAnimate(),e.animate({opacity:1},200));var o=a.getFilteredData();0<o.length&&(a.view.changeData(o),a.view.scale(s,{min:a.colorScale.min,max:a.colorScale.max,nice:a.colorScale.nice}),a.view.render())}})},o.prototype.getFilteredData=function(){var e=[];return p.each(this.dataSlides,function(t){"active"==t.mode&&e.push.apply(e,t.data)}),e},o.prototype.getDataSlide=function(i){var n=[],t=this.options.plot.options,r=t.colorField,e=t.data;return p.each(e,function(t){var e=t[r];e>=i.from&&e<i.to&&n.push(t)}),n},o.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},o.prototype.getScales=function(){var e;return p.each(this.view.geometries,function(t){"heatmap"===t.type&&(e=t.scales)}),e},o);function o(t){this.destroyed=!1,this.dataSlides={};var e=this.getDefaultOptions();t.plot.options.theme&&"dark"===t.plot.options.theme&&(e=this.getDarkOptions()),this.options=p.deepMix({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Heatmap:"heatmap",LegendLabel:"legend-label",HeatmapBackground:"heatmap-background"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(314)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="heatmap",n.prototype.createLayers.call(this,e)},c.prototype.changeShape=function(t){this.layers[0].changeShape(t)},c.prototype.mappingSize=function(t){this.layers[0].mappingSize(t)},c.prototype.disableMappingSize=function(){this.layers[0].disableMappingSize()},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),f=i(0),a=i(15),o=i(4),s=r.__importDefault(i(9)),d=i(315),l=i(316),c=(n=s.default,r.__extends(u,n),u.getDefaultOptions=function(){return f.deepMix({},n.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},u.prototype.afterRender=function(){this.renderPlotComponents(),n.prototype.afterRender.call(this)},u.prototype.changeShape=function(t){if(this.options.shapeType!==t)if("rect"===(this.options.shapeType=t)){var e=this.getShapes();this.circleToRect(e)}else"circle"===t&&(e=this.getShapes(),this.rectToCircle(e))},u.prototype.mappingSize=function(t){if(!this.options.sizeField||this.options.sizeField!==t){this.options.sizeField=t;var e=f.valuesOfKey(this.options.data,t),i=Math.min.apply(Math,e),n=Math.max.apply(Math,e),r=new(a.getScale("linear"))({min:i,max:n}),o=this.getShapes();"rect"===this.options.shapeType?this.rectSizeMapping(o,r,t):"circle"===this.options.shapeType&&this.circleSizeMapping(o,r,t)}},u.prototype.disableMappingSize=function(){var t=this.getShapes();"rect"===this.options.shapeType?this.rectDisableSizeMapping(t):"circle"===this.options.shapeType&&this.circleDisableSizeMapping(t)},u.prototype.destroy=function(){f.each(this.plotComponents,function(t){t.destroy()}),n.prototype.destroy.call(this)},u.prototype.geometryParser=function(){return""},u.prototype.coord=function(){},u.prototype.legend=function(){this.setConfig("legends",!1)},u.prototype.addGeometry=function(){var t;if(this.gridSize=this.getGridSize(),t="rect"===this.options.shapeType?this.addRect():this.addCircle(),this.options.shapeStyle){var e={};f.isObject(this.options.shapeStyle)?e.cfg=this.options.shapeStyle:f.isFunction(this.options.shapeType)&&(e.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],e.callback=this.options.shapeType),t.style=e}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},u.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},u.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[.5*Math.min(this.gridSize[0],this.gridSize[1])*.9]},e},u.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},u.prototype.getGridSize=function(){if("auto"===this.options.padding)return[0,0];var t=this.getViewRange(),e=this.options,i=e.padding,n=e.xField,r=e.yField,o=e.data,a=t.width-i[1]-i[3],s=t.height-i[0]-i[2];return[a/f.valuesOfKey(o,n).length,s/f.valuesOfKey(o,r).length]},u.prototype.circleToRect=function(t){var l=this,c=this.gridSize;f.each(t,function(t){var e=t.get("origin"),i=e.x,n=e.y,r=e.size,o=2*r/Math.min(c[0],c[1]);l.options.sizeField||(o=1);var a=d.getCircleCurve(i,n,r),s=d.getRectPath(i,n,c[0],c[1],o);t.stopAnimate(),t.attr("path",a),t.animate({path:s},500,"easeLinear")})},u.prototype.rectToCircle=function(t){var p=this;f.each(t,function(t){var e=t.get("coord"),i=t.get("origin").points,n=[];f.each(i,function(t){n.push(e.convertPoint(t))});var r=t.getBBox(),o=r.width,a=r.height,s=r.minX+o/2,l=r.minY+a/2,c=p.options.sizeField?1:.9,u=d.getCircleCurve(s,l,Math.min(o,a)/2*c),h=d.getCirclePath(s,l,Math.min(o,a)/2*c);t.stopAnimate(),t.animate({path:u},500,"easeLinear",function(){t.attr("path",h)})})},u.prototype.rectSizeMapping=function(t,c,u){f.each(t,function(t){var e=t.get("origin").data,i=.3+.6*c.scale(e[u]);t.get("origin").size=i;var n=t.getBBox(),r=n.width,o=n.height,a=n.minX+r/2,s=n.minY+o/2,l=d.getRectPath(a,s,r,o,i);t.stopAnimate(),t.animate({path:l},500,"easeLinear")})},u.prototype.circleSizeMapping=function(t,l,c){f.each(t,function(t){var e=t.get("origin").data,i=.3+.6*l.scale(e[c]),n=t.get("origin"),r=n.x,o=n.y,a=n.size,s=d.getCirclePath(r,o,a*i);t.get("origin").size=a*i,t.stopAnimate(),t.animate({path:s},500,"easeLinear")})},u.prototype.circleDisableSizeMapping=function(t){var a=this;this.options.sizeField=null,f.each(t,function(t){var e=t.get("origin"),i=e.x,n=e.y,r=.9*Math.min(a.gridSize[0],a.gridSize[1]);t.get("origin").size=r/2;var o=d.getCirclePath(i,n,r/2);t.stopAnimate(),t.animate({path:o},500,"easeLinear")})},u.prototype.rectDisableSizeMapping=function(t){var s=this;this.options.sizeField=null,f.each(t,function(t){var e=t.getBBox(),i=e.width,n=e.height,r=e.minX+i/2,o=e.minY+n/2,a=d.getRectPath(r,o,s.gridSize[0],s.gridSize[1],1);t.get("origin").size=1,t.stopAnimate(),t.animate({path:a},500,"easeLinear")})},u.prototype.getShapes=function(){var t=this.view.geometries[0].elements,e=[];return f.each(t,function(t){e.push(t.shape)}),e},u.prototype.renderPlotComponents=function(){var n=this;f.each(this.plotComponents,function(t){t.destroy()}),this.plotComponents=[],f.each(["label","legend"],function(t){var e=r.__assign({view:n.view,plot:n},n.options[t]),i=l.getPlotComponents(n,t,e);i&&(i.render(),n.plotComponents.push(i))})},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}e.default=c,o.registerPlotType("heatmap",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),a=i(0);function s(t,e,i,n,r){var o=i*r,a=n*r;return[["M",t-o/2,e+a/2],["Q",t-o/2,e,t-o/2,e-a/2],["Q",t,e-a/2,t+o/2,e-a/2],["Q",t+o/2,e,t+o/2,e+a/2],["Q",t,e+a/2,t-o/2,e+a/2],["Z"]]}function r(t,e,i){return[["M",t,e],["l",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,-2*i,0],["Z"]]}e.getRectPath=s,e.getCirclePath=r,e.getCircleCurve=function(t,e,i){return[["M",t-i,e],["Q",t-i,e-i,t,e-i],["Q",t+i,e-i,t+i,e],["Q",t+i,e+i,t,e+i],["Q",t-i,e+i,t-i,e],["Z"]]},n.registerShape("polygon","rect",{draw:function(t,e){var i=this.parsePoints(t.points),n=i[2].x-i[0].x,r=i[0].y-i[1].y,o=s(i[0].x+n/2,i[1].y+r/2,n,r,t.size);return e.addShape("path",{attrs:a.deepMix({},{path:o,fill:t.color,opacity:1},t.style)})}}),n.registerShape("point","curvePoint",{draw:function(t,e){var i=r(t.x,t.y,t.size);return e.addShape("path",{attrs:a.deepMix({},{path:i,fill:t.color,opacity:1},t.style)})}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(317)),o=n.__importDefault(i(318)),a={label:{Ctr:r.default},legend:{Ctr:o.default,padding:"outer"}};e.getPlotComponents=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=a[e],r=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(r,n.padding),r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(0),o=i(28),n=(r.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var h=this,t=this.view.geometries[0].elements;p.each(t,function(t){var e=t.shape,i=h.options,n=i.style,r=i.offsetX,o=i.offsetY,a=h.options.formatter,s=a?a(h.getContent(e)):h.getContent(e),l=h.getPosition(e),c=h.getTextColor(e),u=h.container.addShape("text",{attrs:p.deepMix({},n,{x:l.x+r,y:l.y+o,text:s,fill:c,textAlign:"center",textBaseline:"middle"}),name:"label"});h.options.adjustPosition&&h.adjustLabel(u,e)})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:p.clone(t)}},r.prototype.getContent=function(t){return t.get("origin").data[this.plot.options.colorField]},r.prototype.getPosition=function(t){var e=t.getBBox();return{x:e.minX+e.width/2,y:e.minY+e.height/2}},r.prototype.getTextColor=function(t){if(this.options.adjustColor){var e=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,n=o.rgb2arr(e),r=Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i;return o.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],r)}return this.options.style.fill},r.prototype.adjustLabel=function(t,e){var i=t.getBBox(),n=e.getBBox();(i.width>n.width||i.height>n.height)&&t.attr("text","")},r);function r(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),c=i(0),n=l.__importDefault(i(10)),r=(o.prototype.init=function(){var t=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var e=this.options.plot.container;this.container&&this.container.remove(),this.container=e.addGroup(),this.view.on("beforerender",function(){t.clear(),t.options.plot.canvas.draw()})},o.prototype.render=function(){var t=this.view.geometries[0].scales,e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,r=i.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(n,r,o):this.renderVertical(n,r,o),this.legendLayout(),this.addInteraction()},o.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},o.prototype.getBBox=function(){var t=this.container.getBBox();return new n.default(this.x,this.y,t.width,t.height)},o.prototype.renderVertical=function(t,e,i){var r=this,o=(e-t)/(i.length-1),n=1/(i.length-1),a=this.height/(i.length-1),s="l(90)";c.each(i,function(t,e){s+=n*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),c.each(i,function(t,e){var i=a*e;r.container.addShape("path",{attrs:l.__assign({path:[["M",0,i],["L",r.width,i]]},r.options.ticklineStyle)});var n=Math.round(o*e);r.container.addShape("text",{attrs:l.__assign({text:n,textAlign:"left",textBaseline:"middle",x:r.width+4,y:i},r.options.text.style),name:"legend-label"})}),this.anchor=this.container.addShape("path",{attrs:l.__assign({path:[["M",-10,-7],["L",0,0],["L",-10,7],["Z"]]},this.options.anchorStyle)}),this.anchor.set("visible",!1)},o.prototype.renderHorizontal=function(t,e,i){var r=this,o=(e-t)/(i.length-1),n=1/(i.length-1),a=this.width/(i.length-1),s="l(0)";c.each(i,function(t,e){s+=n*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),c.each(i,function(t,e){var i=a*e;r.container.addShape("path",{attrs:l.__assign({path:[["M",i,0],["L",i,r.height]]},r.options.ticklineStyle),name:"legend-label"});var n=Math.round(o*e);r.container.addShape("text",{attrs:l.__assign({text:n,textAlign:"center",textBaseline:"top",x:i,y:r.height+4},r.options.text.style)})}),this.anchor=this.container.addShape("path",{attrs:l.__assign({path:[["M",0,0],["L",-7,-10],["L",7,-10],["Z"]]},this.options.anchorStyle)}),this.anchor.set("visible",!1)},o.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},o.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?this.view.coordinateBBox.width:10},o.prototype.getDefaultHeight=function(){return"vertical"===this.layout?this.view.coordinateBBox.height:10},o.prototype.legendLayout=function(){var i=this,t=this.view.coordinateBBox,n=this.options.plot.getPlotTheme().bleeding;c.isArray(n)&&c.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.options.plot.options))});var e=this.container.getBBox(),r=0,o=0,a=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;"left"===a[0]?r=n[3]:"right"===a[0]?r=s-n[1]-e.width:"center"===a[1]?r=this.width===t.width?t.x:(s-e.width)/2:"left"===a[1]?r=n[3]:"right"===a[1]&&(r=this.options.plot.width-n[1]-e.width),"bottom"===a[0]?o=l-n[2]-e.height:"top"===a[0]?o=this.getTopPosition(n):"center"===a[1]?o=this.height===t.height?t.y:(l-e.height)/2:"top"===a[1]?o=n[0]:"bottom"===a[1]&&(o=l-n[2]-e.height),this.x=r,this.y=o,this.container.translate(r,o)},o.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},o.prototype.addInteraction=function(){function t(t){var e=(t.data.data[n]-o)/(a-o);i.moveAnchor(e)}var i=this,e=("rect"===this.options.plot.options.shapeType?"polygon":"point")+":"+this.options.triggerOn,n=this.options.plot.options.colorField,r=this.colorScale,o=r.min,a=r.max;function s(){i.anchor.set("visible",!1)}this.view.on(e,t),this.interactiveEvents[e]={target:this.view,handler:t},this.options.plot.canvas.on("mouseleave",s),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:s}},o.prototype.moveAnchor=function(t){if(this.anchor.set("visible",!0),"vertical"===this.layout){var e=this.height*t;(i=[1,0,0,0,1,0,0,0,1])[7]=e,this.anchor.stopAnimate(),this.anchor.animate({matrix:i},400,"easeLinear")}else{var i;e=this.width*t,(i=[1,0,0,0,1,0,0,0,1])[6]=e,this.anchor.stopAnimate(),this.anchor.animate({matrix:i},400,"easeLinear")}},o.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},o.prototype.offEvent=function(){c.each(this.interactiveEvents,function(t,e){var i=t.target,n=t.handler;i.off(e,n)})},o);function o(t){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var e=this.getDefaultOptions();this.options=c.deepMix({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(320)),l=i(4),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="wordCloud",e.container=this.containerDOM,n.prototype.createLayers.call(this,e)},u);function u(t,e){return e.renderer="canvas",n.call(this,t,e)||this}e.default=c,l.registerPlotType("wordCloud",s.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),c=i(0),o=r.__importDefault(i(43)),a=r.__importDefault(i(321)),s=r.__importDefault(i(322)),l=(n=o.default,r.__extends(u,n),u.prototype.init=function(){n.prototype.init.call(this),this._initToolTips()},u.prototype.render=function(){n.prototype.render.call(this),this._render()},u.prototype._initToolTips=function(){this._toolTips=new a.default({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},u.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},u.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+(new Date).getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},u.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),s.default(this._targetCanvas,this.options)},u.prototype._handleG2PlotConfig=function(){var t,e,i,n=this.options.wordStyle.fontSize||[10,60],r=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2];this.options.wordStyle.active?(t=!0,e=this.options.wordStyle.active.shadowColor||"#333",i=this.options.wordStyle.active.shadowBlur||10):t=!1,this.options=c.deepMix({},this.options,{minFontSize:n[0],maxFontSize:n[1],minRotation:r[0],maxRotation:r[1],active:t,shadowColor:e,shadowBlur:i})},u.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),i=e.maskImageCanvas,n=e.maskImageContext,r=document.createElement("canvas").getContext("2d");r.fillStyle=this.options.backgroundColor||"#fff",r.fillRect(0,0,1,1);for(var o=r.getImageData(0,0,1,1).data,a=n.getImageData(0,0,i.width,i.height),s=n.createImageData(a),l=0;l<a.data.length;l+=4)128<a.data[l+3]?(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=o[3]):(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=254);n.putImageData(s,0,0),this._targetCanvas.getContext("2d").drawImage(i,0,0),this.options=c.deepMix({},this.options,{clearCanvas:!1}),this._start()},u.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var i=e.getContext("2d");return i.imageSmoothingEnabled=!0,i.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:i}},u.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);for(var n=i.getImageData(0,0,e.width,e.height),r=0;r<n.data.length;r+=4){var o=n.data[r]+n.data[r+1]+n.data[r+2];n.data[r+3]<128||750<o?(n.data[r]=255,n.data[r+1]=255,n.data[r+2]=255,n.data[r+3]=0):(n.data[r]=0,n.data[r+1]=0,n.data[r+2]=0,n.data[r+3]=255)}return i.putImageData(n,0,0),e},u);function u(t){var r=n.call(this,t)||this;return r._toolTipsAction=function(t,e,i,n){e?(r._toolTips.update({items:[{color:t.color||"red",name:t.word,value:t.weight}],x:i.offsetX,y:i.offsetY}),r._toolTips.show()):r._toolTips.hide(),r._toolTips.render(),r._configHoverAction&&r._configHoverAction(t,e,i,n)},r._configHoverAction=t.onWordCloudHover,r._enableToolTips=c.get(t,"tooltip.visible",!0),r.options=c.deepMix({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:r._enableToolTips?r._toolTipsAction:r._configHoverAction}),r}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=i(7).HtmlTooltip,r.__extends(s,n),s);function s(t){var e=o.deepMix({},t,{itemTpl:'<div data-index={index}>\n        <span style="background-color:{color};" class="g2-tooltip-marker"></span>\n        {name}<span class="g2-tooltip-value">{value}</span></div>'},t);return n.call(this,e)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var i=[void 0],n="zero-timeout-message";return window.addEventListener("message",function(t){if("string"==typeof t.data&&t.data.substr(0,n.length)===n){t.stopImmediatePropagation();var e=parseInt(t.data.substr(n.length),36);i[e]&&(i[e](),i[e]=void 0)}},!0),window.clearImmediate=function(t){i[t]&&(i[t]=void 0)},function(t){var e=i.length;return i.push(t),window.postMessage(n+e.toString(36),"*"),e}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});function m(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t}function n(C,t){if(h){Array.isArray(C)||(C=[C]),C.forEach(function(t,e){if("string"==typeof t){if(C[e]=document.getElementById(t),!C[e])throw"The element id specified is not found."}else if(!t.tagName&&!t.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var j={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",animatable:!0,minFontSize:z,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,selected:-1,shadowColor:"#333",shadowBlur:10,classes:null,onWordCloudHover:null,onWordCloudClick:null},S=[];if(t)for(var e in t)if("wordStyle"===e)for(var i in t[e])i in j&&(j[i]=t[e][i]);else e in j&&(j[e]=t[e]);if(j.minFontSize<z&&(j.minFontSize=z),j.minFontSize>j.maxFontSize)console.error("minSize cant bigger than maxSize");else{for(var A=0,n=0;n<j.data.length;n++)A<j.data[n].weight&&(A=j.data[n].weight);var b=!1;if("function"!=typeof j.shape)switch(j.shape){case"circle":default:j.shape="circle";break;case"cardioid":j.shape=function(t){return 1-Math.sin(t)},b=!0;break;case"diamond":j.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":j.shape=function(t){var e=(t+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":j.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-backward":j.shape=function(t){var e=(t+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-up":j.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-down":j.shape=function(t){var e=(t+5*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":j.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":j.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return 0<=(t+.955)%(2*Math.PI/5)-2*Math.PI/10?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}j.gridSize=Math.max(Math.floor(j.gridSize),4);var _,w,O,M,P,T,r,L=j.gridSize,v=L-j.maskGapWidth,p=Math.abs(j.maxRotation-j.minRotation),f=Math.min(j.maxRotation,j.minRotation),d=j.rotationSteps;switch(j.color){case"random-dark":r=function(){return u(10,50)};break;case"random-light":r=function(){return u(50,90)};break;default:"function"==typeof j.color&&(r=j.color)}var o=null;"function"==typeof j.classes&&(o=j.classes);var k,E=!1,D=[],a=function(t){var e,i,n=t.currentTarget,r=n.getBoundingClientRect();i=t.touches?(e=t.touches[0].clientX,t.touches[0].clientY):(e=t.clientX,t.clientY);var o=e-r.left,a=i-r.top,s=Math.floor(o*(n.width/r.width||1)/L),l=Math.floor(a*(n.height/r.height||1)/L);return D&&D[s]&&D[s][l]},s=function(t,e,i,n){n(t?t.id:-1)},B=function(t){var e=a(t);if(k!==e){if(!e)return j.onWordCloudHover(void 0,void 0,t,c),void(j.active&&s(void 0,0,0,c));j.onWordCloudHover(e.item,e.dimension,t,c),j.active&&s(e.item,e.dimension,0,c),k=e}},F=function(t){var e=a(t);e&&(j.onWordCloudClick(e.item,e.dimension,t),t.preventDefault())},l=[],g=function(t){if(l[t])return l[t];var e=8*t,i=e,n=[];for(0===t&&n.push([M[0],M[1],0]);i--;){var r=1;"circle"!==j.shape&&(r=j.shape(i/e*2*Math.PI)),n.push([M[0]+t*r*Math.cos(-i/e*2*Math.PI),M[1]+t*r*Math.sin(-i/e*2*Math.PI)*j.ellipticity,i/e*2*Math.PI])}return l[t]=n},I=function(){return 0<j.abortThreshold&&(new Date).getTime()-T>j.abortThreshold},R=function(h,p,f,d,g,y,v,m,x,b,_){var w=f.fontSize,O=j.color,M=j.classes;if(_){var t=G(b);O=t?t.color:j.color}else O=r?r(d,g,w,y,v):j.color,M=o?o(d,g,w,y,v):j.classes;var e=f.bounds;e[3],e[0],e[1],e[3],e[2],e[0],C.forEach(function(t){if(t.getContext){var e=t.getContext("2d"),i=f.mu;e.save();var n=j.fontWeight+" "+(w*i).toString(10)+"px "+j.fontFamily;e.scale(1/i,1/i),e.font=n,e.fillStyle=O;var r=(h+f.gw/2)*L*i,o=(p+f.gh/2)*L*i;e.translate(r,o),0!==m&&e.rotate(-m),e.textBaseline="middle",j.selected===b&&(e.shadowColor=j.shadowColor,e.shadowBlur=j.shadowBlur),e.fillText(d,f.fillTextOffsetX*i,(f.fillTextOffsetY+.5*w)*i),_||S.push({gx:h,gy:p,info:f,word:d,weight:g,distance:y,theta:v,rotateDeg:m,attributes:x,id:b,color:O}),e.restore()}else{var a=document.createElement("span"),s="";s="rotate("+-m/Math.PI*180+"deg) ",1!==f.mu&&(s+="translateX(-"+f.fillTextWidth/4+"px) scale("+1/f.mu+")");var l={position:"absolute",display:"block",font:j.fontWeight+" "+w*f.mu+"px "+j.fontFamily,left:(h+f.gw/2)*L+f.fillTextOffsetX+"px",top:(p+f.gh/2)*L+f.fillTextOffsetY+"px",width:f.fillTextWidth+"px",height:f.fillTextHeight+"px",lineHeight:w+"px",whiteSpace:"nowrap",transform:s,webkitTransform:s,msTransform:s,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var c in O&&(l.color=O),a.textContent=d,l)a.style[c]=l[c];if(x)for(var u in x)a.setAttribute(u,x[u]);M&&(a.className+=M),t.appendChild(a)}})},y=function(t,e,i,n,r,o,a,s){var l=Math.floor(t[0]-e.gw/2),c=Math.floor(t[1]-e.gh/2);return e.gw,e.gh,!!function(t,e,i){for(var n=i.length;n--;){var r=t+i[n][0],o=e+i[n][1];if(w<=r||O<=o||r<0||o<0){if(!j.drawOutOfBound)return}else if(!_[r][o])return}return 1}(l,c,e.occupied)&&(R(l,c,e,i,n,r,t[2],o,a,s,!1),function(t,e,i){var n,r,o,a,s,l,c,u=i.occupied,h=j.drawMask;if(h&&((n=C[0].getContext("2d")).save(),n.fillStyle=j.maskColor),E){var p=i.bounds;r={x:(t+p[3])*L,y:(e+p[0])*L,w:(p[1]-p[3]+1)*L,h:(p[2]-p[0]+1)*L}}for(var f=u.length;f--;){var d=t+u[f][0],g=e+u[f][1];if(!(w<=d||O<=g||d<0||g<0)){var y=G(i.item.id);y&&(i.item.color=y.color),o=d,a=g,s=h,l=r,c=i.item,w<=o||O<=a||o<0||a<0||(_[o][a]=!1,s&&C[0].getContext("2d").fillRect(o*L,a*L,v,v),E&&(D[o][a]={item:c,dimension:l}))}}h&&n.restore()}(l,c,e),{gx:l,gy:c,rot:o,info:e})},N=function(t){var e,i,n,r;Array.isArray(t)?(e=t[0],i=t[1]):(e=t.word,i=t.weight,n=t.attributes,r=t.id);var o=0===j.rotateRatio||Math.random()>j.rotateRatio?0:0===p?f:0<d?f+Math.floor(Math.random()*d)*p/d:f+Math.random()*p,a=function(t,e,i){var n,r=(n=e,Math.min(Math.max(j.minFontSize,j.maxFontSize*n/A),j.maxFontSize));if(r<=0)return!1;var o=1;r<z&&(o=function(){for(var t=2;t*r<z;)t+=2;return t}());var a=document.createElement("canvas"),s=a.getContext("2d",{willReadFrequently:!0});s.font=j.fontWeight+" "+(r*o).toString(10)+"px "+j.fontFamily;var l=s.measureText(t).width/o,c=Math.max(r*o,s.measureText("m").width,s.measureText("Ｗ").width)/o,u=l+2*c,h=3*c,p=Math.ceil(u/L),f=Math.ceil(h/L);u=p*L,h=f*L;var d,g=-l/2,y=.4*-c,v=Math.ceil((u*Math.abs(Math.sin(i))+h*Math.abs(Math.cos(i)))/L),m=Math.ceil((u*Math.abs(Math.cos(i))+h*Math.abs(Math.sin(i)))/L),x=m*L,b=v*L;a.setAttribute("width",x),a.setAttribute("height",b),s.scale(1/o,1/o),s.translate(x*o/2,b*o/2),s.rotate(-i),s.font=j.fontWeight+" "+(r*o).toString(10)+"px "+j.fontFamily,s.fillStyle="#000",s.textBaseline="middle",s.fillText(t,g*o,(y+.5*r)*o);try{d=s.getImageData(0,0,x,b).data}catch(t){return!1}if(I())return!1;for(var _,w,O,M=[],C=m,S=[v/2,m/2,v/2,m/2];C--;)for(_=v;_--;){O=L;t:for(;O--;)for(w=L;w--;)if(d[4*((_*L+O)*x+(C*L+w))+3]){M.push([C,_]),C<S[3]&&(S[3]=C),C>S[1]&&(S[1]=C),_<S[0]&&(S[0]=_),_>S[2]&&(S[2]=_);break t}}return{mu:o,occupied:M,bounds:S,gw:m,gh:v,fillTextOffsetX:g,fillTextOffsetY:y,fillTextWidth:l,fillTextHeight:c,fontSize:r}}(e,i,o);if(a&&(a.item=t),!a)return!1;if(I())return!1;if(!j.drawOutOfBound){var s=a.bounds;if(s[1]-s[3]+1>w||s[2]-s[0]+1>O)return!1}for(var l=P+1;l--;){var c=g(P-l);j.shuffle&&(c=[].concat(c),m(c));for(var u=0;u<c.length;u++){var h=y(c[u],a,e,i,P-l,o,n,r);if(h)return h}}return null},Y=function(i,n,r){if(n)return!C.some(function(t){var e=document.createEvent("CustomEvent");return e.initCustomEvent(i,!0,n,r||{}),!t.dispatchEvent(e)},this);C.forEach(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent(i,!0,n,r||{}),t.dispatchEvent(e)},this)},G=function(t){for(var e=0;e<S.length;e++){var i=S[e];if(S[e].id===t)return i}},c=function(t){if(void 0===t){var e=C[0];if(e.getContext)w=Math.ceil(e.width/L),O=Math.ceil(e.height/L);else{var i=e.getBoundingClientRect();w=Math.ceil(i.width/L),O=Math.ceil(i.height/L)}if(Y("wordcloudstart",!0)){var n,r,o;if(M=j.origin?[j.origin[0]/L,j.origin[1]/L]:[w/2,O/(b?4:2)],P=Math.floor(Math.sqrt(w*w+O*O)),_=[],!e.getContext||j.clearCanvas)for(C.forEach(function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=j.backgroundColor,e.clearRect(0,0,w*(L+1),O*(L+1)),e.fillRect(0,0,w*(L+1),O*(L+1))}else t.textContent="",t.style.backgroundColor=j.backgroundColor,t.style.position="relative"}),n=w;n--;)for(_[n]=[],r=O;r--;)_[n][r]=!0;else{var a=document.createElement("canvas").getContext("2d");a.fillStyle=j.backgroundColor,a.fillRect(0,0,1,1);var s,l,c=a.getImageData(0,0,1,1).data,u=e.getContext("2d").getImageData(0,0,w*L,O*L).data;for(n=w;n--;)for(_[n]=[],r=O;r--;){l=L;t:for(;l--;)for(s=L;s--;)for(o=4;o--;)if(u[4*((r*L+l)*w*L+(n*L+s))+o]!==c[o]){_[n][r]=!1;break t}!1!==_[n][r]&&(_[n][r]=!0)}u=a=c=void 0}if(j.onWordCloudHover||j.onWordCloudClick){for(E=!0,n=w+1;n--;)D[n]=[];j.onWordCloudHover&&e.addEventListener("mousemove",B),j.onWordCloudClick&&(e.addEventListener("click",F),e.addEventListener("touchstart",F),e.addEventListener("touchend",function(t){t.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function t(){e.removeEventListener("wordcloudstart",t),e.removeEventListener("mousemove",B),e.removeEventListener("click",F),k=void 0})}if(j.animatable){var h,p;p=(o=0)!==j.wait?(h=window.setTimeout,window.clearTimeout):(h=window.setImmediate,window.clearImmediate);var f=function(e,i){C.forEach(function(t){t.removeEventListener(e,i)},this)},d=function t(){f("wordcloudstart",t),p(g)};!function(e){C.forEach(function(t){t.addEventListener("wordcloudstart",e)},this)}(d);var g=h(function t(){if(o>=j.data.length)return p(g),Y("wordcloudstop",!1),void f("wordcloudstart",d);T=(new Date).getTime();var e=N(j.data[o]),i=!Y("wordclouddrawn",!0,{item:j.data[o],drawn:e});if(I()||i)return p(g),j.abort(),Y("wordcloudabort",!1),Y("wordcloudstop",!1),void f("wordcloudstart",d);o++,g=h(t,j.wait)},j.wait)}else for(var y=0;y<j.data.length;y++)N(j.data[y])}}else if(j.selected!==t&&C[0].getContext){j.selected=t;var v=C[0].getContext("2d");v.fillStyle=j.backgroundColor,v.clearRect(0,0,C[0].width,C[0].height),v.fillRect(0,0,C[0].width,C[0].height);for(var m=0;m<S.length;m++){var x=S[m];R(x.gx,x.gy,x.info,x.word,x.weight,x.distance,x.theta,x.rotateDeg,x.attributes,x.id,!0)}}};c()}}function u(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}}var h=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!(e.getImageData&&e.fillText&&Array.prototype.some&&Array.prototype.push)}(),z=function(){if(h){for(var t,e,i=document.createElement("canvas").getContext("2d"),n=20;n;){if(i.font=n.toString(10)+"px sans-serif",i.measureText("Ｗ").width===t&&i.measureText("m").width===e)return n+1;t=i.measureText("Ｗ").width,e=i.measureText("m").width,n--}return 0}}();n.isSupported=h,n.minFontSize=z,e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(87)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="rose",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Rose:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(326)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="funnel",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var C=i(1),j=i(0),c=i(5),u=i(7),n=i(4),r=C.__importDefault(i(9)),o=i(13);i(327),i(328),i(329),i(330),i(331);var a=i(28);function S(t,e,i){return(1-i)*t+i*e}var s,l={column:"interval"},h={interval:"funnel"},p=(s=r.default,C.__extends(f,s),f.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0,formatter:t&&(t.compareField||t.transpose)?function(t){return""+t}:function(t,e){return t+" "+e}},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"转化率",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:j.deepMix({},u.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return j.deepMix({},s.getDefaultOptions.call(this),e)},f.prototype.coord=function(){var t=this.options,e={actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},f.prototype.axis=function(){this.setConfig("axes",!1)},f.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},j.isFunction(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},f.prototype.tooltip=function(){var t=this.options;t.compareField&&j.deepMix(t.tooltip,{htmlContent:function(t,e){var o,a,r,i;o=u.TooltipCssConst.CONTAINER_CLASS,a=c.createDom('<div class="'+o+'"></div>'),c.modifyCSS(a,u.HtmlTooltipTheme[o]);var n=a;if(t){o=u.TooltipCssConst.TITLE_CLASS,a=c.createDom('<div class="'+o+'"></div>'),c.modifyCSS(a,u.HtmlTooltipTheme[o]),n.appendChild(a);var s=a;o=u.TooltipCssConst.MARKER_CLASS,a=c.createDom('<span class="'+o+'"></span>'),c.modifyCSS(a,u.HtmlTooltipTheme[o]),c.modifyCSS(a,{width:"10px",height:"10px"}),s.appendChild(a),i=a,a=c.createDom("<span>"+t+"</span>"),s.appendChild(a)}if(e){o=u.TooltipCssConst.LIST_CLASS,a=c.createDom('<ul class="'+o+'"></ul>'),c.modifyCSS(a,u.HtmlTooltipTheme[o]),n.appendChild(a);var l=a;e.reduce(function(i,t){r=r||t.color;var n=j.get(t,"point._origin.__compare__.compareValues");return j.get(t,"point._origin.__compare__.yValues").forEach(function(t,e){return i.push([n[e],t])}),i},[]).forEach(function(t,e){var i=t[0],n=t[1];o=u.TooltipCssConst.LIST_ITEM_CLASS,a=c.createDom('<li class="'+o+'" data-index='+e+"></li>"),c.modifyCSS(a,u.HtmlTooltipTheme[o]),l.appendChild(a);var r=a;o=u.TooltipCssConst.NAME_CLASS,a=c.createDom('<span class="'+o+'">'+i+"</span>"),c.modifyCSS(a,u.HtmlTooltipTheme[o]),r.appendChild(a),o=u.TooltipCssConst.VALUE_CLASS,a=c.createDom('<span class="'+o+'">'+n+"</span>"),c.modifyCSS(a,u.HtmlTooltipTheme[o]),r.appendChild(a)})}return r&&i&&c.modifyCSS(i,{backgroundColor:r}),n}}),s.prototype.tooltip.call(this)},f.prototype.addGeometry=function(){var t=this.options,e=o.getGeom("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e)},f.prototype.animation=function(){var e=this;s.prototype.animation.call(this);var t=this.options;if(!1===t.animation)this.funnel.animate=!1;else{var i=this.getData(),n=j.get(t,"animation.appear.duration"),r=n/(i.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){e.fadeInPercentages(r),t.compareField&&e.fadeInCompareTexts(r),delete e._animationAppearTimeoutHandler},n),this.funnel.animate=j.deepMix({},t.animation,{appear:{animation:t.transpose?"funnelScaleInX":"funnelScaleInY",duration:r,delay:function(e){return j.findIndex(i,function(t){return j.isEqual(t,e)})*r},callback:function(t){e.fadeInLabels(t,.5*r)}},enter:{animation:"fade-in"}})}},f.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),"auto"==t.padding){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var i=this._findCompareTextContainer();i&&this.paddingController.registerPadding(i,"inner",!0)}s.prototype.afterRender.call(this),!1===t.animation&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),this._legendsListenerAttached||(this._legendsListenerAttached=!0,this.view.getController("legend").container.on("mousedown",this._onLegendContainerMouseDown))},f.prototype.updateConfig=function(t){t=this.adjustProps(t),s.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},f.prototype.changeData=function(t){var e=this.options;if(!1!==e.animation&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var i=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(i)}e.compareField&&(t=this._reduceDataForCompare(t),i=this._findCheckedDataInNewData(t),this._updateDataForCompare(i)),s.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},f.prototype.geometryParser=function(t,e){return"g2"===t?l[e]:h[e]},f.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&(j.set(t,"meta."+t.yField+".nice",!1),j.set(t,"tooltip.shared",!1)),t},f.prototype.resetPercentages=function(){var v=this;if(this._shouldResetPercentages){var m=this.options,t=m.percentage||{},x=t.offsetX,b=t.offsetY,_=t.spacing,e=t.line,w=void 0===e?{}:e,i=t.text,O=void 0===i?{}:i,n=t.value,M=void 0===n?{}:n,C=Date.now(),S=this._findPercentageContainer(!0);this._eachShape(function(t,e,c,u){if(0<e){var i=t.getBBox(),n=i.minX,r=i.maxX,o=i.maxY,a=i.minY,s=m.transpose?n:r,l=m.transpose&&m.compareField?o:a,h=v._findPercentageMembersInContainerByIndex(S,e,!0),p=h.line,f=h.text,d=h.value,g=[function(t,e,i,n,r){function o(){n&&(n.attr(j.deepMix({},O.style,{x:m.transpose?t+x:t-x-_-l-_,y:m.transpose?e-b-_:e+b,opacity:0,text:O.content,textAlign:m.transpose?"left":"right",textBaseline:m.transpose?"bottom":"middle"})),n.set("adjustTimestamp",C),s=n.getBBox().width)}function a(){r&&(r.attr(j.deepMix({},M.style,{x:m.transpose?t+x+s+_:t-x-_,y:m.transpose?e-b-_:e+b,opacity:0,text:j.isFunction(M.formatter)?m.compareField?M.formatter(j.get(u,"__compare__.yValues.0"),j.get(c,"__compare__.yValues.0")):M.formatter(u[m.yField],c[m.yField]):"",textAlign:m.transpose?"left":"right",textBaseline:m.transpose?"bottom":"middle"})),r.set("adjustTimestamp",C),l=r.getBBox().width)}i&&(i.attr(j.deepMix({},w.style,{x1:t,y1:e,x2:m.transpose?t+x:t-x,y2:m.transpose?e-b:e+b,opacity:0})),i.set("adjustTimestamp",C));var s=0,l=0;m.transpose?(o(),a()):(a(),o())},function(t,e,i,n,r){i&&(i.attr(j.deepMix({},w.style,{x1:t,y1:e,x2:t+x,y2:!m.transpose||m.compareField?e+b:e-b,opacity:0})),i.set("adjustTimestamp",C));var o=0;n&&(n.attr(j.deepMix({},O.style,{x:m.transpose?t+x:t+x+_,y:m.transpose?m.compareField?e+b+_:e-b-_:e+b,opacity:0,text:O.content,textAlign:"left",textBaseline:m.transpose?m.compareField?"top":"bottom":"middle"})),n.set("adjustTimestamp",C),o=n.getBBox().width),r&&(r.attr(j.deepMix({},M.style,{x:m.transpose?t+x+o+_:t+x+_+o+_,y:m.transpose?m.compareField?e+b+_:e-b-_:e+b,opacity:0,text:j.isFunction(M.formatter)?m.compareField?M.formatter(j.get(u,"__compare__.yValues.1"),j.get(c,"__compare__.yValues.1")):M.formatter(u[m.yField],c[m.yField]):"",textAlign:"left",textBaseline:m.transpose?m.compareField?"top":"bottom":"middle"})),r.set("adjustTimestamp",C))}];if(m.compareField){var y=[n,a];[[y[0],y[1]],[s,l]].forEach(function(t,e){var i=t[0],n=t[1];return g[e](i,n,p&&p[e],f&&f[e],d&&d[e])})}else g[1](s,l,p,f,d)}u=c,e++}),S.get("children").forEach(function(t){t.get("adjustTimestamp")!=C&&(t.attr({opacity:0}),S.set(t.get("id"),null),setTimeout(function(){return t.remove()},0))})}},f.prototype.fadeInPercentages=function(l,t){function e(o){var s={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};c._eachShape(function(t,e){function i(t){if(t&&"text"==t.get("type")){var e=t.getBBox(),i=e.minX,n=e.maxX,r=e.minY,o=e.maxY;i<a.minX&&(a.minX=i),n>a.maxX&&(a.maxX=n),r<a.minY&&(a.minY=r),o>a.maxY&&(a.maxY=o)}}var n=c._findPercentageMembersInContainerByIndex(u,e),a={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};if(j.each(n,function(t){return j.isArray(t)?i(t[o]):i(t)}),a.minX>s.maxX||a.maxX<s.minX||a.minY>s.maxY||a.maxY<s.minY){var r=function(t){if(t){var e={opacity:1};l?t.animate(e,l):t.attr(e)}};j.each(n,function(t){return j.isArray(t)?r(t[o]):r(t)}),j.assign(s,a)}})}var c=this,i=this.options,u=this._findPercentageContainer();i.compareField?[0,1].forEach(e):e(),l&&t&&setTimeout(t,l)},f.prototype.fadeOutPercentages=function(r,t){var o=this,a=this._findPercentageContainer();this._eachShape(function(t,e){function i(t){if(t){var e={opacity:0};r?t.animate(e,r):t.attr(e)}}var n=o._findPercentageMembersInContainerByIndex(a,e);j.each(n,function(t){return j.isArray(t)?t.forEach(i):i(t)})}),r&&t&&setTimeout(t,r)},f.prototype.refreshPercentages=function(t){var e=this;if(!1!==this.options.animation){var i=this._calcRefreshFadeDurations(),n=i.fadeOutDuration,r=i.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(n,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(r,t)})}},f.prototype._findPercentageContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,i=e.get("percentageContainer");return!i&&t&&(i=e.addGroup(),e.set("percentageContainer",i)),i},f.prototype._findPercentageMembersInContainerByIndex=function(n,r,o){void 0===o&&(o=!1);var t=this.options,e=t.percentage||{},i=e.line,a=e.text,s=void 0===a?{}:a,l=e.value,c=void 0===l?{}:l,u={line:void 0,text:void 0,value:void 0};if(!1===e.visible||!n)return u;if(!1!==(void 0===i?{}:i).visible){var h=function(t){var e="_percentage-line-"+r+"-"+t,i=n.get(e);return!i&&o&&(i=n.addShape({id:e,type:"line",attrs:{}}),n.set(e,i)),i},p=t.compareField?[0,1].map(h):h(0);u.line=p}if(!1!==s.visible){h=function(t){var e="_percentage-text-"+r+"-"+t,i=n.get(e);return!i&&o&&(i=n.addShape({id:e,type:"text",attrs:{}}),n.set(e,i)),i};var f=t.compareField?[0,1].map(h):h(0);u.text=f}if(!1!==c.visible){h=function(t){var e="_percentage-value-"+r+"-"+t,i=n.get(e);return!i&&o&&(i=n.addShape({id:e,type:"text",attrs:{}}),n.set(e,i)),i};var d=t.compareField?[0,1].map(h):h(0);u.value=d}return u},f.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=j.get(t,"animation.update.duration"),i=j.get(t,"animation.enter.duration");return{fadeInDuration:.6*Math.min(i,e),fadeOutDuration:1.2*Math.max(i,e)}},f.prototype.resetLabels=function(){var d=this;if(this._shouldResetLabels){var g,y,v=this.options,m=v.xField,x=v.yField,b=Date.now(),_=this._getGeometry().labelsContainer,w=v.label||{},O=j.deepMix(C.__assign({},this.theme.label),v.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),M=w.formatter;this._eachShape(function(e,i,t){0==i&&(y=(g=t).__compare__);var n=e.getBBox(),r=n.minX,o=n.maxX,a=n.minY,s=n.maxY,l=t[m],c=t[x];w.adjustColor&&(O.fill=d._getAdjustedTextFillByShape(e));var u,h=t.__compare__;u=h?[0,1].map(function(t){return M(l,e,i,h.yValues[t],y.yValues[t])}).join(v.transpose?"\n\n":"    "):M(l,e,i,c,g[x]);var p=d._findLabelInContainerByIndex(_,i,!0),f=h?h.yValues[0]/(h.yValues[0]+h.yValues[1]):.5;p.attr(C.__assign(C.__assign({},O),{x:S(r,o,v.transpose?.5:f),y:S(a,s,v.transpose?f:.5),text:u})),p.set("adjustTimestamp",b)}),_.get("children").forEach(function(t){t.get("adjustTimestamp")!=b&&(t.attr({opacity:0}),_.set(t.get("id"),null),setTimeout(function(){return t.remove()}))})}},f.prototype.fadeInLabels=function(a,s,t){var l=this,c=this._getGeometry().labelsContainer;this._eachShape(function(t,e){if(!a||a==t){var i=l._findLabelInContainerByIndex(c,e);if(i){var n=t.getBBox(),r=i.getBBox();if(r.minX>=n.minX&&r.maxX<=n.maxX&&r.minY>=n.minY&&r.maxY<=n.maxY){var o={opacity:1};s?i.animate(o,s):i.attr(o)}}}}),s&&t&&setTimeout(t,s)},f.prototype.fadeOutLabels=function(r,o,t){var a=this,s=this._getGeometry().labelsContainer;this._eachShape(function(t,e){if(!r||r==t){var i=a._findLabelInContainerByIndex(s,e);if(i){var n={opacity:0};o?i.animate(n,o):i.attr(n)}}}),o&&t&&setTimeout(t,o)},f.prototype.refreshLabels=function(t){var e=this;if(!1!==this.options.animation){var i=this._calcRefreshFadeDurations(),n=i.fadeOutDuration,r=i.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,n,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,r,t)})}},f.prototype._findLabelInContainerByIndex=function(t,e,i){var n,r;if(void 0===i&&(i=!1),!1===(null===(n=this.options.label)||void 0===n?void 0:n.visible))return r;var o="_label-"+e;return!(r=t.get(o))&&i&&(r=t.addShape({id:o,type:"text",attrs:{}}),t.set(o,r)),r},f.prototype.resetCompareTexts=function(){if(this._shouldResetCompareTexts){var n,r,i=this.options;if(this._eachShape(function(t,e,i){0==e&&(n=t.get("parent").getBBox(),r=j.get(i,"__compare__"))}),n&&r&&!1!==j.get(i,"compareText.visible")){var o=this._findCompareTextContainer(!0),a=r.yValuesMax,s=r.compareValues,l=n.minX,c=n.maxX,u=n.minY,h=n.maxY,p=o.get("children");[0,1].forEach(function(t){var e=p[t];(e=e||o.addShape({type:"text"})).attr(j.deepMix({},j.get(i,"compareText.style"),{text:i.transpose?s[t]:t?"  "+s[t]:s[t]+"  ",x:i.transpose?l+j.get(i,"compareText.offsetX"):S(l,c,a[0]/(a[0]+a[1])),y:i.transpose?S(u,h,a[0]/(a[0]+a[1]))+(t?8:-8):u+j.get(i,"compareText.offsetY"),opacity:0,textAlign:!i.transpose&&t?"left":"right",textBaseline:i.transpose&&t?"top":"bottom"}))})}}},f.prototype.fadeInCompareTexts=function(n,t){var e=this._findCompareTextContainer();if(e){var r=e.get("children");[0,1].forEach(function(t){var e=r[t];if(e){var i={opacity:1};n?e.animate(i,n):e.attr(i)}})}n&&t&&setTimeout(t,n)},f.prototype.fadeOutCompareTexts=function(n,t){var e=this._findCompareTextContainer();if(e){var r=e.get("children");[0,1].forEach(function(t){var e=r[t];if(e){var i={opacity:0};n?e.animate(i,n):e.attr(i)}})}n&&t&&setTimeout(t,n)},f.prototype.refreshCompareTexts=function(t){var e=this;if(!1!==this.options.animation){var i=this._calcRefreshFadeDurations(),n=i.fadeInDuration,r=i.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(r,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(n,t)})}},f.prototype._findCompareTextContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,i=e.get("compareTextContainer");return!i&&t&&(i=e.addGroup(),e.set("compareTextContainer",i)),i},f.prototype._eachShape=function(n){var t,r,o=this._findCheckedData(this.getData()),a=o.length,s=0;null===(t=this._getGeometry())||void 0===t||t.elements.forEach(function(t){var e=t.shape,i=o[s];s<a&&n(e,s,i,r),r=i,s++})},f.prototype._getGeometry=function(){return this.view.geometries[0]},f.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,n=a.rgb2arr(e),r=Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i;return a.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],r)},f.prototype._genCustomFieldForDynamicHeight=function(r){var o=this.options,a=r.reduce(function(t,e){return t+e[o.yField]},0),s=1;r.forEach(function(t,e){var i=t[o.yField],n=s-i/a;t.__custom__={datumIndex:e,dataLength:r.length,ratioUpper:s,ratioLower:n,reverse:o.transpose},s=n})},f.prototype._findCheckedDataByMouseDownLegendItem=function(t){var i=t.get("parent").get("children").map(function(t){return!t.get("unchecked")});return this.getData().filter(function(t,e){return i[e]})},f.prototype._findCheckedDataInNewData=function(t){var e=this.options,i=this.view.getController("legend").container.findAll(function(t){return"legend-item"==t.get("name")}).filter(function(t){return t.get("unchecked")}).map(function(t){return t.get("id").replace("-legend-item-","")});return t.filter(function(t){return!j.contains(i,t[e.xField])})},f.prototype._findCheckedData=function(t){var e=this.options,i=this.view.getController("legend").container.findAll(function(t){return"legend-item"==t.get("name")}).filter(function(t){return!t.get("unchecked")}).map(function(t){return t.get("id").replace("-legend-item-","")});return t.filter(function(t){return j.contains(i,t[e.xField])})},f.prototype._reduceDataForCompare=function(i){var l,c=this.options,u=[-1/0,-1/0];return(i=i.reduce(function(t,e){var i,n=e[c.xField],r=e[c.yField],o=e[c.compareField];l=l||o;var a=t.find(function(t){return t[c.xField]==n});a||((i={})[c.xField]=n,i[c.yField]=0,i.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:c.transpose},a=i,t.push(a));var s=o==l?0:1;return a.__compare__.yValues[s]=r,u[s]<r&&(u[s]=r),a.__compare__.compareValues[s]=o,t},[])).forEach(function(t,e){t[c.yField]=j.get(t,"__compare__.yValues",[]).reduce(function(t,e){return t+e},0),j.set(t,"__compare__.yValuesMax",u),j.set(t,"__compare__.yValuesNext",j.get(i,e+1+".__compare__.yValues"))}),i},f.prototype._updateDataForCompare=function(i){var n=[-1/0,-1/0];i.forEach(function(t){var e=j.get(t,"__compare__.yValues");[0,1].forEach(function(t){e[t]>n[t]&&(n[t]=e[t])})}),i.forEach(function(t,e){j.set(t,"__compare__.yValuesMax",n),j.set(t,"__compare__.yValuesNext",j.get(i,e+1+".__compare__.yValues"))})},f);function f(t){var r=s.call(this,t)||this;return r.type="funnel",r._shouldResetPercentages=!0,r._shouldResetLabels=!0,r._shouldResetCompareTexts=!0,r._legendsListenerAttached=!1,r._onLegendContainerMouseDown=function(t){var e=r.options;if(t.target.get("name").startsWith("legend-item")){var i=t.target.get("parent");if(i.set("unchecked",!i.get("unchecked")),r.refreshPercentages(),r.refreshLabels(),e.dynamicHeight){var n=r._findCheckedDataByMouseDownLegendItem(i);r._genCustomFieldForDynamicHeight(n)}e.compareField&&(n=r._findCheckedDataByMouseDownLegendItem(i),r._updateDataForCompare(n),r.refreshCompareTexts())}},r.adjustProps(r.options),t.dynamicHeight&&r._genCustomFieldForDynamicHeight(r.getData()),t.compareField&&(r.options.data=r._reduceDataForCompare(r.getData())),r}e.default=p,n.registerPlotType("funnel",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("bar",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),d=i(0),n=i(29),o=i(88);n.registerShape("interval","funnel-basic-rect",{getPoints:function(u){return u.size=1.8*u.size,function(t){void 0===t&&(t=!1);var e,i,n,r,o=u.x,a=u.y,s=u.y0,l=u.size;i=d.isArray(a)?(e=a[0],a[1]):(e=s,a),r=d.isArray(o)?(n=o[0],o[1]):(n=o-l/2,o+l/2);var c=[{x:n,y:e},{x:n,y:i}];return t?c.push({x:r,y:(i+e)/2}):c.push({x:r,y:i},{x:r,y:e}),c}()},draw:function(p,t){var e,i=o.getStyle(p,!1,!0),f=d.get(p,"data.__compare__"),n=this.parsePath(function(){var t=[],e=p.points,i=p.nextPoints;if(f){var n=f.yValues,r=f.yValuesMax,o=f.yValuesNext,a=(e[0].y+e[1].y)/2,s=n[0]+n[1],l=n.map(function(t){return t/s/.5}),c=.9*(r[0]/(r[0]+r[1])-.5);if(d.isNil(i))t.push(["M",e[0].x,c+(e[0].y-a)*l[0]+a],["L",e[1].x,c+a],["L",e[2].x,c+a],["L",e[3].x,c+(e[3].y-a)*l[0]+a],["Z"]),t.push(["M",e[0].x,.002+c+a],["L",e[1].x,.002+c+(e[1].y-a)*l[1]+a],["L",e[2].x,.002+c+(e[2].y-a)*l[1]+a],["L",e[3].x,.002+c+a],["Z"]);else{var u=o[0]+o[1],h=o.map(function(t){return t/u/.5});t.push(["M",e[0].x,c+(e[0].y-a)*l[0]+a-.001],["L",e[1].x,c+a-.001],["L",i[1].x,c+a-.001],["L",i[0].x,c+(i[3].y-a)*h[0]+a-.001],["Z"]),t.push(["M",e[0].x,c+a+.001],["L",e[1].x,c+(e[1].y-a)*l[1]+a+.001],["L",i[1].x,c+(i[2].y-a)*h[1]+a+.001],["L",i[0].x,c+a+.001],["Z"])}}else d.isNil(i)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",i[1].x,i[1].y],["L",i[0].x,i[0].y],["Z"]);return t}());return t.addShape("path",((e={name:"interval",attrs:r.__assign(r.__assign({},i),{path:n})}).__compare__=f,e))},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),n=i(29),a=i(88);function f(t,e,i){return(1-i)*t+i*e}n.registerShape("interval","funnel-dynamic-rect",{draw:function(t,e){var i=a.getStyle(t,!1,!0),p=o.get(t,"data.__custom__"),n=this.parsePath(function(t){var e=p.reverse,i=p.ratioUpper,n=p.ratioLower,r=[],o=t[0],a=(t[1].x+t[2].x)/2;if(e){var s=n;n=i,i=s}var l=(o.x-a)*f(.6,1.2,n)+a;r.push(["M",l,o.y]);for(var c=1,u=t.length;c<u;c++){var h=t[c].x;switch(c){case 1:case 2:h=(h-a)*f(.6,1.2,i)+a;break;case 3:h=(h-a)*f(.6,1.2,n)+a}r.push(["L",h,t[c].y])}return r.push(["L",l,o.y]),r.push(["z"]),r}(t.points));return e.addShape("path",{attrs:r.__assign(r.__assign({},i),{path:n})})},getMarker:function(t){var e=t.color,i=t.isInPolar;return{symbol:i?"circle":"square",style:{r:i?4.5:4,fill:e}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(2),n=i(29);function r(t,e){var i=e||{},n=i.duration,r=void 0===n?200:n,o=i.delay,a=i.easing,s=i.callback,l=i.reverse,c=t.getBBox(),u=l?c.maxX:c.minX,h=(c.minY+c.maxY)/2,p=t.setClip({type:"rect",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}});p.setMatrix(d.transform(p.getMatrix(),[["t",-u,-h],["s",0,1],["t",u,h]]));var f={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:o}),t.animate(f,{duration:r,easing:a,delay:o}),s&&setTimeout(function(){return s(t)},r+o)}r.animationName="funnelScaleInX",n.registerAnimation("funnelScaleInX",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(2),n=i(29);function r(t,e){var i=e||{},n=i.duration,r=void 0===n?200:n,o=i.delay,a=i.easing,s=i.callback,l=i.reverse,c=t.getBBox(),u=(c.minX+c.maxX)/2,h=l?c.maxY:c.minY,p=t.setClip({type:"rect",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}});p.setMatrix(d.transform(p.getMatrix(),[["t",-u,-h],["s",1,0],["t",u,h]]));var f={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:o}),t.animate(f,{duration:r,easing:a,delay:o}),s&&setTimeout(function(){return s(t)},r+o)}r.animationName="funnelScaleInY",n.registerAnimation("funnelScaleInY",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(333)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedRose",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=(n=r.__importDefault(i(87)).default,r.__extends(l,n),l.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},l.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},l.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="stackedRose",t}e.default=s,a.registerPlotType("stackedRose",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(335)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedRose",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=(n=r.__importDefault(i(87)).default,r.__extends(l,n),l.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},l.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},l.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupedRose",t}e.default=s,a.registerPlotType("groupedRose",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(337)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="radar",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=i(4),a=n.__importDefault(i(9)),s=i(18),l=i(13),c=i(21),u=n.__importStar(i(338));i(339);var h,p={area:"area",line:"line",point:"point"},f=(h=a.default,n.__extends(d,h),d.getDefaultOptions=function(){return r.deepMix({},h.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},d.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,h.prototype.init.call(this)},d.prototype.geometryParser=function(t,e){return p[e]},d.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},r.has(t,"angleAxis")&&c.extractScale(e[t.angleField],t.angleAxis),e[t.radiusField]={},r.has(t,"radiusAxis")&&c.extractScale(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),h.prototype.scale.call(this)},d.prototype.coord=function(){var t={type:"polar",cfg:{radius:this.options.radius}};this.setConfig("coordinate",t)},d.prototype.axis=function(){var t=this.options,e=s.getComponent("axis",{plot:this,dim:"angle"}),i=s.getComponent("axis",{plot:this,dim:"radius"}),n={};n[t.angleField]=e,n[t.radiusField]=i,this.setConfig("axes",n)},d.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=l.getGeom("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var i=l.getGeom("line","guide",{plot:this});this.setConfig("geometry",i),this.line=i}if(t.point&&t.point.visible){var n=l.getGeom("point","guide",{plot:this});this.setConfig("geometry",n),this.point=n}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},d.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},d.prototype.label=function(){var t=this.options;if(!1===t.label.visible)return this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),void(this.area&&(this.area.label=!1));var e=s.getComponent("label",n.__assign({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},d.prototype.annotation=function(){},d.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},d.prototype.parseEvents=function(){h.prototype.parseEvents.call(this,u)},d);function d(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="radar",t}e.default=f,o.registerPlotType("radar",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Area:"area",Line:"line",Point:"point"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("radar",{areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(341)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="liquid",n.prototype.createLayers.call(this,e)},c.prototype.changeValue=function(e,t){if(void 0===t&&(t=!1),t)this.eachLayer(function(t){t instanceof s.default&&t.changeValue(e)});else{var i=this.layers[0];i instanceof s.default&&i.changeValue(e)}},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=i(0),u=n.__importDefault(i(10)),r=i(4),o=n.__importDefault(i(9)),a=i(13),l=i(21),c=i(28),h=n.__importStar(i(342));i(343),i(344);var p,f={column:"interval"},d={interval:"liquid"},g=(p=o.default,n.__extends(y,p),y.getDefaultOptions=function(){return s.deepMix({},p.getDefaultOptions.call(this),{padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[]})},y.prototype.beforeInit=function(){var t=this.options,e=t.min,i=t.max,n=t.value;if(!s.isNumber(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!s.isNumber(i))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!s.isNumber(n))throw new Error("The value of Liquid is required, and the type of value must be Number.")},y.prototype.init=function(){this.options.data=[{}],p.prototype.init.call(this)},y.prototype.coord=function(){},y.prototype.scale=function(){var t=this.options,e=t.min,i=t.max,n={value:{}};l.extractScale(n.value,{min:Math.min(e,i),max:Math.max(e,i)}),this.setConfig("scales",n),p.prototype.scale.call(this)},y.prototype.axis=function(){this.setConfig("axes",!1)},y.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var i=e.liquidStyle;s.isFunction(i)&&(i=i()),i&&(t.style=i)},y.prototype.addGeometry=function(){var t=a.getGeom("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t),this.liquid=t,this.setConfig("geometry",t)},y.prototype.animation=function(){var t=this.options;if(!1===t.animation)this.liquid.animate=!1;else{var e=s.get(t,"animation.factor"),i=s.get(t,"animation.easing"),n=s.get(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:i,duration:n}}}},y.prototype.geometryParser=function(t,e){return"g2"===t?f[e]:d[e]},y.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},y.prototype.extractStatistic=function(){var t,e,i,n,r=this.options,o=r.statistic||{};(t=s.isFunction(o.formatter)?o.formatter(r.value):""+r.value)&&(e=Math.min(this.width,this.height)/t.length*.5,i=Math.max(1,Math.ceil(.025*e))),!1===o.visible&&(n=0);var a=s.deepMix({style:{fontSize:e,shadowBlur:i}},o,{top:!0,content:t,type:"text",position:["50%","50%"],style:{opacity:n,fill:"transparent",shadowColor:"transparent",textAlign:"center"}});return delete a.visible,delete a.formatter,delete a.adjustColor,a},y.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,h)},y.prototype.afterRender=function(){this.fadeInAnnotation();var t=this.options,e=t.padding?t.padding:this.config.theme.padding;t.defaultState&&"auto"!==e&&this.stateController.defaultStates(t.defaultState),"auto"===e&&this.paddingController.processAutoPadding()},y.prototype.processData=function(){return[{_:"_",value:this.options.value}]},y.prototype.changeValue=function(t){this.options.value=t,this.changeData([])},y.prototype.fadeInAnnotation=function(){var t=this,e=this.options,i=this.view.foregroundGroup.findAll(function(t){return"annotation-text"===t.get("name")})[0],n=e.animation||{},r=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?i.animate(r,n.duration*Math.min(1,1.5*n.factor),null,function(){t.shouldFadeInAnnotation=!1}):s.forIn(r,function(t,e){return i.attr(e,t)})},y.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#303030",shadowColor:"white"};if(!1===s.get(t,"statistic.adjustColor"))return{fill:s.get(t,"statistic.style.fill",e.fill),shadowColor:s.get(t,"statistic.style.shadowColor",e.shadowColor)};var i=t.min,n=t.max,r=t.value;if(.55<((i=Math.min(i,n))==(n=Math.max(i,n))?1:(r-i)/(n-i))){var o=this.options.color,a=c.rgb2arr(o);return Math.round(.299*a[0]+.587*a[1]+.114*a[2])/.8<156?{fill:"#f6f6f6",shadowColor:"black"}:e}return e},y.prototype.updateConfig=function(t){p.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},y.prototype.getViewRange=function(){var t=p.prototype.getViewRange.call(this),e=this.options.liquidStyle,i=e.lineWidth?e.lineWidth:2,n=t.minX,r=t.minY,o=t.width,a=t.height,s=Math.min(o,a)-2*i,l=n+o/2-s/2,c=r+a/2-s/2;return new u.default(l,c,s,s)},y);function y(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}e.default=g,r.registerPlotType("liquid",g)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Liquid:"intervl",Statistic:"annotation-text"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function g(t,e,i){return(1-i)*t+i*e}function y(t){var e,i,n={fill:"#fff",stroke:x.color,fillOpacity:0,lineWidth:2},r=v.mix({},n,t.style);return e=r,(i=t).color&&!e.stroke&&(e.stroke=i.color),v.isNumber(i.opacity)&&(e.opacity=e.strokeOpacity=i.opacity),r}var n=i(7),v=i(0),r=i(12),m=i(47),x=r.getGlobalTheme();function b(t,e,i,n,r,o,a){for(var s=2*Math.ceil(2*t/i*4),l=[],c=n;c<2*-Math.PI;)c+=2*Math.PI;for(;0<c;)c-=2*Math.PI;var u,h,p,f,d=o-t+(c=c/Math.PI/2*i)-2*t;l.push(["M",d,e]);for(var g=0,y=0;y<s;++y){var v=(u=y*i/4,p=i,f=r,0===(h=y%4)?[[u+.5*p/Math.PI/2,f/2],[u+.5*p/Math.PI,f],[u+p/4,f]]:1===h?[[u+.5*p/Math.PI/2*(Math.PI-2),f],[u+.5*p/Math.PI/2*(Math.PI-1),f/2],[u+p/4,0]]:2===h?[[u+.5*p/Math.PI/2,-f/2],[u+.5*p/Math.PI,-f],[u+p/4,-f]]:[[u+.5*p/Math.PI/2*(Math.PI-2),-f],[u+.5*p/Math.PI/2*(Math.PI-1),-f/2],[u+p/4,0]]);l.push(["C",v[0][0]+d,-v[0][1]+e,v[1][0]+d,-v[1][1]+e,v[2][0]+d,-v[2][1]+e]),y===s-1&&(g=v[2][0])}return l.push(["L",g+d,a+t]),l.push(["L",d,a+t]),l.push(["L",d,e]),l}n.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var i=1/0;v.each(t.points,function(t){t.x<i&&(i=t.x)});var n,r,o,a,s,l=this.parsePoint({x:.5,y:.5}),c=this.parsePoint({x:i,y:.5}),u=l.x-c.x,h=Math.min(u,c.y),p=(n=t,a={lineWidth:0,fill:x.color,fillOpacity:.85},s=v.mix({},a,n.style),r=s,(o=n).color&&!r.fill&&(r.fill=o.color),v.isNumber(o.opacity)&&(r.opacity=r.fillOpacity=o.opacity),n.color&&!s.stroke&&(s.stroke=s.stroke||n.color),s.fill),f=e.addGroup({name:"waves",attrs:{x:l.x,y:l.y}});f.setClip({type:"circle",attrs:{x:l.x,y:l.y,r:h}});var d=f.get("clipShape");return function(t,e,i,n,r,o){for(var a=d.getBBox(),s=a.maxX-a.minX,l=a.maxY-a.minY,c=0;c<3;c++){var u=c/2,h=r.addShape("path",{attrs:{path:b(o,a.minY+l*i,s/4,0,s/g(56,64,u),t,e),fill:n,opacity:g(.6,.3,u)}}),p=m.transform([["t",s/2,0]]);h.animate({matrix:p},{duration:g(5e3,3500,u),repeat:!0})}}(l.x,l.y,1-t.points[1].y,p,f,4*h),e.addShape("circle",{name:"wrap",attrs:v.mix(y(t),{x:l.x,y:l.y,r:h,fill:"transparent"})}),f[0]}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),g=i(0),y=i(47);function r(t,e){var i=t.get("parent"),n=i.getBBox(),r=Math.min(Math.max(0,g.get(e,"factor",.5)),1),o=g.get(e,"delay",0),a=g.get(e,"duration",800),s=e.callback,l=(n.minX+n.maxX)/2,c=n.maxY,u=i.find(function(t){return"wrap"==t.get("name")}),h=u.attr("opacity");u.attr("opacity",0),u.animate({opacity:h},a*r,"easeLinear",null,o);var p=i.find(function(t){return"waves"==t.get("name")}),f=g.clone(p.attr("matrix"))||[1,0,0,0,1,0,0,0,1],d=y.transform(f,[["t",-l,-c],["s",1,0],["t",l,c]]);p.setMatrix(d),p.animate({matrix:f},a,e.easing,function(){return s&&s(i,u,p)},o)}r.animationName="liquidMoveIn",n.registerAnimation("liquidMoveIn",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(346)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="histogram",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),d=i(0),o=i(4),g=i(20),a=(n=r.__importDefault(i(48)).default,r.__extends(s,n),s.prototype.init=function(){this.options.xField="range",this.options.yField="count",n.prototype.init.call(this)},s.prototype.processData=function(t){var r=this,e=this.options,o=e.binField,i=e.binWidth,n=e.binNumber,a=d.clone(t);d.sortBy(a,o);var s=d.valuesOfKey(a,o),l=d.getRange(s),c=l.max-l.min,u=i;if(!i&&n&&(u=c/n),!i&&!n){var h=g.sturges(s);u=c/h}var p={};d.each(a,function(t){var e=t[o],i=r.getBin(e,u),n=i[0]+"-"+i[1];d.hasKey(p,n)||(p[n]={name:n,range:i,count:0,data:[]}),p[n].data.push(t),p[n].count+=1});var f=[];return d.each(p,function(t){f.push(t)}),f},s.prototype.scale=function(){n.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},s.prototype.getBin=function(t,e){var i=Math.floor(t/e);return[e*i,e*(i+1)]},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="histogram",t}e.default=a,o.registerPlotType("histogram",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(348)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="density",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),y=i(15),v=i(0),o=i(4),m=i(20),a=r.__importDefault(i(83)),x={epanechnikov:function(t){return Math.abs(t)<=1?.75*(1-t*t):0},gaussian:function(t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Math.pow(t,2))},uniform:function(t){return Math.abs(t)<=1?.5:0},triangle:function(t){return Math.abs(t)<=1?1-Math.abs(t):0},quartic:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*e*e:0},triweight:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*Math.pow(e,3):0},cosinus:function(t){var e=Math.PI/4*Math.cos(.5*Math.PI*t);return Math.abs(t)<=1?e:0}},s=(n=a.default,r.__extends(l,n),l.prototype.init=function(){var t=this.options.xAxis?v.clone(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=v.deepMix({},t,{type:"linear"}),this.options.smooth=!0,n.prototype.init.call(this)},l.prototype.processData=function(t){var i=this,e=this.options,n=e.binField,r=e.binWidth,o=e.binNumber,a=e.kernel,s=x[a||"epanechnikov"],l=v.clone(t);v.sortBy(l,n);var c=v.valuesOfKey(l,n),u=v.getRange(c),h=u.max-u.min,p=o,f=r;!o&&r&&(p=Math.floor(h/r)),!r&&o&&(f=h/o),o||r||(p=m.sturges(c),f=h/o);var d=new(y.getScale("linear"))({min:u.min,max:u.max,tickCount:p,nice:!1}).getTicks(),g=[];return v.each(d,function(t){var e=i.kernelDensityEstimator(f,s,t,c);g.push({value:t.text,density:e})}),g},l.prototype.kernelDensityEstimator=function(i,n,r,t){var o=0;return v.each(t,function(t){var e=(r.tickValue-t)/i;o+=n(e)}),0===t.length?0:o/t.length},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="density",t}e.default=s,o.registerPlotType("density",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(137)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="donut",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveRing",method:i(1).__importDefault(i(351)).default}];e.default={preRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),u=i(40),h=n.__importDefault(i(352)),p=n.__importDefault(i(80));e.default=function(t){var e=t.options,i=t.getResponsiveTheme(),n=e.padding,r=e.radius?e.radius:1,o=t.width,a=t.height,s={radius:r,coord:new(u.getCoordinate("polar"))({radius:r,start:{x:n[3],y:n[0]},end:{x:o-n[1],y:a-n[2]}})},l=new h.default({nodes:[{name:"innerRadius",value:0}]}),c=i.ring.constraints;new p.default({nodes:l,constraints:c,region:s,plot:t,onEnd:function(){e.innerRadius=l.nodes[0].value}})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.default=function(t){this.type="variable",n.assign(this,t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(45).registerResponsiveTheme("ring",{ring:{constraints:[{name:"ringThickness"},{name:"minRingThickness"}]}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Ring:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(356)),a=r.__importStar(i(357)),s=i(0),l=(n=o.default,r.__extends(c,n),c.prototype.triggerOn=function(){var n=this,t=this.options.triggerOn;this.view.on("interval:"+t,s.debounce(function(t){var e=n.parseStatisticData(t.data.data),i=n.getStatisticHtmlString(e);n.updateHtml(i)},150));var e=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+e,s.debounce(function(){var t=n.getTotalValue(),e=n.parseStatisticData(t),i=n.getStatisticHtmlString(e);n.updateHtml(i)},150))},c.prototype.adjustOptions=function(){var t,e;if(this.options.content)t=this.options.content;else{var i=this.getTotalValue();t=this.parseStatisticData(i)}e=this.options.htmlContent?this.options.htmlContent(t):this.getStatisticTemplate(t),this.html=e;var n=this.view.coordinateBBox,r=n.minX,o=n.minY,a=n.width,s=n.height;this.x=r+a/2,this.y=o+s/2},c.prototype.getTotalValue=function(){var t,e=0,i=this.plot.options,n=i.angleField,r=i.colorField,o=this.options.totalLabel;return s.each(this.plot.options.data,function(t){"number"==typeof t[n]&&(e+=t[n])}),(t={})[n]=e,t[r]=o,t},c.prototype.parseStatisticData=function(t){var e=this.plot.options,i=e.angleField,n=e.colorField;return n?{name:t[n],value:t[i]}:t[i]},c.prototype.getStatisticTemplate=function(t){var e,i=this.getStatisticSize();return s.isString(t)?e=a.getSingleDataTemplate(t,this.statisticClass,i):s.isObject(t)&&2===s.keys(t).length&&(e=a.getTwoDataTemplate(t.name,t.value,this.statisticClass,i)),e},c.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,i=e.radius,n=e.innerRadius;return Math.min(t.width,t.height)*i*n},c.prototype.getStatisticHtmlString=function(t){var e,i=this.options.triggerOn;return s.isString(i)&&(e=this.getStatisticTemplate(t)),s.isFunction(i)&&(e=i(t),e='<div class="ring-guide-html '+this.statisticClass+'">'+e+"</div>"),e},c);function c(t){var e=n.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),a=i(5),r=(o.prototype.render=function(){if(n.isElement(this.container)){this.wrapperNode=a.createDom('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),a.modifyCSS(this.wrapperNode,{position:"absolute"});var t=a.createDom(this.html);this.wrapperNode.appendChild(t),this.setDomPosition(this.x,this.y)}},o.prototype.updateHtml=function(t){this.wrapperNode.innerHTML=t},o.prototype.updatePosition=function(t,e){this.x=t,this.y=e,this.setDomPosition(t,e)},o.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},o.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},o.prototype.setDomPosition=function(t,e){var i=t,n=e,r=a.getOuterWidth(this.wrapperNode),o=a.getOuterHeight(this.wrapperNode);"middle"===this.options.alignX&&(i=t-r/2),"middle"===this.options.alignY&&(n=e-o/2),a.modifyCSS(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(i)+"px"})},o);function o(t){var e=this.getDefaultOptions();this.options=n.deepMix(e,t,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",o="font-size:32px;font-weight:bold;color:#4D4D4D";e.getSingleDataTemplate=function(t,e,i){return'<div class="ring-guide-html '+e+'" style='+r+"width:"+i+'px;><span class="ring-guide-value" style='+o+">"+t+"</span></div>"},e.getTwoDataTemplate=function(t,e,i,n){return'<div class="ring-guide-html '+i+'" style='+r+"width:"+n+'px;><span class="ring-guide-name" style=font-weight:300;>'+t+'</span><br/><span class="ring-guide-value" style='+o+">"+e+"</span></div>"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(89)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="waterfall",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(0);i(7).registerShape("interval","waterfall",{draw:function(t,e){var i,n,r,o,a=(i=t.style,n=t.defaultStyle,r=t.color,o=p.__assign(p.__assign({},n),i),r&&(o.fill=r),o),s=this.parsePath(function(t){var e=[],i=t[0];e.push(["M",i.x,i.y]);for(var n=1,r=t.length;n<r;n++)e.push(["L",t[n].x,t[n].y]);return e.push(["L",i.x,i.y]),e.push(["z"]),e}(t.points)),l=e.addShape("path",{attrs:p.__assign(p.__assign({},a),{path:s}),name:"interval"}),c=f.get(t.style,"leaderLine");if(c&&c.visible){var u=c.style||{};if(t.nextPoints){var h=[["M",t.points[2].x,t.points[2].y],["L",t.nextPoints[0].x,t.nextPoints[0].y]];h=this.parsePath(h),e.addShape("path",{attrs:p.__assign({path:h,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},u),name:"leader-line"})}}return l}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(131);e.EVENT_MAP=n.EVENT_MAP,e.onEvent=n.onEvent},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),c=i(0),o=r.__importDefault(i(58)),u=i(89),a=i(32),s=(n=o.default,r.__extends(l,n),l.prototype.adjustLabel=function(t,e){var i=e.shape.getBBox(),n=e.getData(),r=n[u.VALUE_FIELD],o=n[this.layer.options.yField],a=c.isArray(r)?r[1]:r,s=(i.minY+i.maxY)/2,l="bottom";o<0?(s=i.maxY+2,l="top"):s=i.minY-2,t.attr("y",s),t.attr("text",a),t.attr("textBaseline",l)},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,a.registerLabelComponent("waterfall",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(0),d=i(89),n=i(7),r=(o.prototype.draw=function(){var c=this;if(this.view&&!this.view.destroyed){var u=f.clone(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var h=this.view.geometries[0].elements.map(function(t){return t.shape});f.each(h,function(t,e){if(t.cfg.origin){var i=t.cfg.origin.data,n=t.getBBox(),r=i[d.VALUE_FIELD],o=r;f.isArray(r)&&(o=r[1]-r[0]),o=0<o?"+"+o:o,i[d.IS_TOTAL]&&(o=r[0]-r[1]);var a=o;if(c.formatter){var s=h[e].attr("fill");a=c.formatter(""+o,{_origin:u[e],color:s},e)}var l=c.container.addShape("text",{attrs:p.__assign({text:a,textBaseline:"middle",textAlign:"center",x:(n.minX+n.maxX)/2,y:(n.minY+n.maxY)/2},c.textAttrs),name:"dill-label"});l.getBBox().height>n.height&&l.set("visible",!1)}}),this.view.getCanvas().draw()}},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype._init=function(){var t=this;this.view.on(n.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.clear()}),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.draw()})},o);function o(t){this.textAttrs={},this.view=t.view,this.fields=t.fields,this.formatter=t.formatter,this.textAttrs=f.mix({fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"},t.style),this._init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(138)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="scatter",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(1),u=i(0),y=c.__importDefault(i(10)),n=(r.prototype.init=function(){var t,e=this.options,i=e.xBaseline,n=e.yBaseline,r=this.view.getCoordinate(),o=this.view.getScaleByField(this.options.plotOptions.xField),a=this.view.getScaleByField(this.options.plotOptions.yField);if(i>o.min&&i<o.max){var s=(i-o.min)/(o.max-o.min);t=[new y.default(r.start.x,r.end.y,r.getWidth()*s,r.getHeight()),new y.default(r.start.x+r.getWidth()*s,r.end.y,r.getWidth()*(1-s),r.getHeight())];var l={start:{x:r.start.x+r.getWidth()*s,y:r.end.y},end:{x:r.start.x+r.getWidth()*s,y:r.start.y}};this.lineData.push(l)}else t=[new y.default(r.start.x,r.end.y,r.getWidth(),r.getHeight())];if(n>a.min&&n<a.max){s=(n-a.min)/(a.max-a.min);var c={start:{x:r.start.x,y:r.start.y-r.getHeight()*s},end:{x:r.end.x,y:r.start.y-r.getHeight()*s}};this.lineData.push(c);var u={name:i<=o.min?"top-right":"top-left",bbox:new y.default(t[0].minX,t[0].minY,t[0].width,t[0].height*(1-s)),index:i<=o.min?2:0};this.regionData.push(u);var h={name:i<=o.min?"bottom-right":"bottom-left",bbox:new y.default(t[0].minX,t[0].minY+t[0].height*(1-s),t[0].width,t[0].height*s),index:i<=o.min?3:1};if(this.regionData.push(h),1<t.length){var p={name:"top-right",bbox:new y.default(t[1].minX,t[1].minY,t[1].width,t[1].height*(1-s)),index:2};this.regionData.push(p);var f={name:"bottom-right",bbox:new y.default(t[1].minX,t[1].minY+t[1].height*(1-s),t[1].width,t[1].height*s),index:3};this.regionData.push(f)}}else if(2===t.length)if(n<=a.min){var d={name:"top-left",bbox:t[0],index:0};this.regionData.push(d),p={name:"top-right",bbox:t[1],index:2},this.regionData.push(p)}else{var g={name:"bottom-left",bbox:t[0],index:1};this.regionData.push(g),f={name:"bottom-right",bbox:t[1],index:3},this.regionData.push(f)}else i<=o.min?n<=a.min?(p={name:"top-right",bbox:t[0],index:2},this.regionData.push(p)):(f={name:"bottom-right",bbox:t[0],index:3},this.regionData.push(f)):n<=a.min?(d={name:"top-left",bbox:t[0],index:0},this.regionData.push(d)):(g={name:"bottom-left",bbox:t[0],index:1},this.regionData.push(g));this.container=this.view.backgroundGroup.addGroup()},r.prototype.render=function(){var a=this;if(0<this.regionData.length){var s=this.getDefaultStyle(),l=this.getRegionStyle(this.regionData);u.each(this.regionData,function(t){var e=t.index,i=a.container.addGroup(),n=i.addShape("rect",{attrs:c.__assign({x:t.bbox.minX,y:t.bbox.minY,width:t.bbox.width,height:t.bbox.height},l[e]),name:"quadrant"});if(a.options.label&&a.options.label.text){var r=u.deepMix({},s.label,a.options.label),o=a.getLabelConfig(t,r);i.addShape("text",{attrs:c.__assign({},o),name:"quadrant-label"})}n.set("data",t),a.quadrantGroups.push(i)});var e=u.deepMix({},s.line,this.options.lineStyle);u.each(this.lineData,function(t){a.container.addShape("path",{attrs:c.__assign({path:[["M",t.start.x,t.start.y],["L",t.end.x,t.end.y]]},e),name:"quadrant-line"})}),this.view.canvas.draw()}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},r.prototype.getRegionStyle=function(t){var i=this.getDefaultStyle().regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;u.isArray(n)?i=i.map(function(t,e){return n.length>e&&n[e]?n[e]:t}):u.isFunction(n)&&u.each(t,function(t,e){i[e]=n(t)})}return i},r.prototype.getLabelConfig=function(t,e){var i=t.index,n=0,r=0,o={},a=e.text;u.isFunction(a)?a=a(t):u.isArray(a)&&(a=a[i]);var s=e.position.split("-"),l=t.name.split("-");return"left"===l[1]?("inner"===s[0]&&(n=t.bbox.maxX-e.offset,o.textAlign="right"),"outter"===s[0]&&(n=t.bbox.minX+e.offset,o.textAlign="left")):"right"===l[1]&&("inner"===s[0]&&(n=t.bbox.minX+e.offset,o.textAlign="left"),"outter"===s[0]&&(n=t.bbox.maxX-e.offset,o.textAlign="right")),"top"===l[0]?("inner"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom"),"outter"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top")):"bottom"===l[0]&&("inner"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top"),"outter"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom")),(o=u.deepMix({},e.style,o)).lineHeight=o.fontSize,c.__assign({x:n,y:r,text:a},o)},r);function r(t){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=t,this.view=this.options.view,this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),y=i(0),f=i(15),n=i(420),d=i(78),o={exp:n.regressionExp,linear:n.regressionLinear,loess:n.regressionLoess,log:n.regressionLog,poly:n.regressionPoly,pow:n.regressionPow,quad:n.regressionQuad},r=(a.prototype.init=function(){var t=this.options.plotOptions,e=t.xField,i=t.yField,n=t.data,r=o[this.options.type]().x(function(t){return t[e]}).y(function(t){return t[i]});this.data=this.processData(r(n)),this.container=this.view.backgroundGroup.addGroup()},a.prototype.render=function(){var t=this.view.getScaleByField(this.options.plotOptions.xField),e=this.view.getScaleByField(this.options.plotOptions.yField),i=this.view.getCoordinate(),n=this.data.trendlineData,r=f.getScale("linear"),o=this.adjustScale(t,n,"x"),a=new r({min:o.min,max:o.max}),s=this.adjustScale(e,n,"y"),l=new r({min:s.min,max:s.max});if(this.options.showConfidence){var c=this.getConfidencePath(a,l,i);this.container.addShape("path",{attrs:p.__assign({path:c},this.options.confidenceStyle),name:"confidence"})}var u=this.getTrendlinePoints(a,l,i),h=d.getSplinePath(u,!1,[[0,0],[1,1]]);this.shape=this.container.addShape("path",{attrs:p.__assign({path:h},this.options.style),name:"trendline"})},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.destroy()},a.prototype.processData=function(r){var o=[],a=[];return y.each(r,function(t){o.push({x:t[0],y:t[1]});var e,i,n=(e=r.rSquared,i=t[1],1.96*Math.sqrt(e*(1-e)/i));a.push({x:t[0],y0:t[1]-n,y1:t[1]+n})}),{trendlineData:o,confidenceData:a}},a.prototype.getTrendlinePoints=function(o,a,s){var l=[];return y.each(this.data.trendlineData,function(t){var e=o.scale(t.x),i=a.scale(t.y),n=s.start.x+s.width*e,r=s.start.y-s.height*i;l.push({x:n,y:r})}),l},a.prototype.getConfidencePath=function(s,l,c){var u=[],h=[],t=[];y.each(this.data.confidenceData,function(t){var e=s.scale(t.x),i=l.scale(t.y0),n=l.scale(t.y1),r=c.start.x+c.width*e,o=c.start.y-c.height*i,a=c.start.y-c.height*n;u.push({x:r,y:o}),h.push({x:r,y:a})});for(var e=0;e<u.length;e++){var i=0===e?"M":"L",n=u[e];isNaN(n.x)||isNaN(n.y)||t.push([i,n.x,n.y])}for(var r=h.length-1;0<r;r--)n=h[r],isNaN(n.x)||isNaN(n.y)||t.push(["L",n.x,n.y]);return t},a.prototype.adjustScale=function(t,e,i){var n=t.min,r=t.max,o=this.options.plotOptions,a=o.data,s=o.xField,l=o.yField,c="x"===i?s:l,u=y.minBy(a,c)[c],h=y.maxBy(a,c)[c],p=(n-u)/(h-u),f=(r-h)/(h-u),d=y.minBy(e,i)[i],g=y.maxBy(e,i)[i];return{min:d+p*(g-d),max:g+f*(g-d)}},a);function a(t){this.options=y.deepMix({},{type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}},t),this.view=this.options.view,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("scatter",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000"}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(368)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="bubble",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=i(4),a=n.__importStar(i(139)),s=n.__importDefault(i(138));i(369),i(371);var l,c=(l=s.default,n.__extends(u,l),u.getDefaultOptions=function(){return r.deepMix({},l.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},u.prototype.legend=function(){var t;l.prototype.legend.call(this),this.options.legend&&!1===this.options.legend.visible||this.setConfig("legends",((t={})[this.options.sizeField]=!1,t))},u.prototype.parseEvents=function(){l.prototype.parseEvents.call(this,a)},u);function u(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="bubble",t}e.default=c,o.registerPlotType("bubble",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(29),r=i(370);n.registerShape("point","bubble-point",{draw:function(t,e){var i=r.drawPoints(this,t,e,"circle",!1);if(!t.style.stroke){var n=i.attr("fill");i.attr("stroke",n)}return i},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(102),d=i(88);e.SHAPES=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],e.HOLLOW_SHAPES=["cross","tick","plus","hyphen","line"],e.drawPoints=function(t,e,i,n,r){var o=d.getStyle(e,r,!r,"r"),a=t.parsePoints(e.points),s=a[0];if(e.isStack)s=a[1];else if(1<a.length){for(var l=i.addGroup(),c=0,u=a;c<u.length;c++){var h=u[c];l.addShape({type:"marker",attrs:p.__assign(p.__assign(p.__assign({},o),{symbol:f.MarkerSymbols[n]||n}),h)})}return l}return i.addShape({type:"marker",attrs:p.__assign(p.__assign(p.__assign({},o),{symbol:f.MarkerSymbols[n]||n}),s)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("bubble",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000",fillOpacity:t.fillOpacity||t.opacity||.95}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(373)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="bullet",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=i(0),o=r.__importStar(i(374)),a=r.__importDefault(i(9)),s=i(21),l=i(18),c=i(13),u=i(4),h=r.__importDefault(i(375)),p=r.__importDefault(i(376));i(377);var f={bullet:"interval"},d={interval:"bullet"};e.STACK_FIELD="$$stackField$$",e.X_FIELD="$$xField$$",e.Y_FIELD="$$yField$$";var g,y=(g=a.default,r.__extends(v,g),v.getDefaultOptions=function(){return n.deepMix({},g.getDefaultOptions.call(this),{data:[],stackField:e.STACK_FIELD,xField:e.X_FIELD,yField:e.Y_FIELD,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},v.prototype.afterRender=function(){g.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},v.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},n.has(t,"yAxis")&&s.extractScale(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},n.has(t,"xAxis")&&s.extractScale(e[t.xField],t.xAxis),this.setConfig("scales",e),g.prototype.scale.call(this)},v.prototype.getOptions=function(t){var e=g.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},v.prototype.afterInit=function(){g.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(t){return t.ranges}),i=t.data.map(function(t){return t.targets});this.bulletRect=new h.default(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new p.default(this.view,{targets:i,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},v.prototype.geometryParser=function(t,e){return"g2"===t?f[e]:d[e]},v.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},v.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,i=[{name:"实际进度",value:"实际进度",marker:{symbol:"square",style:{fill:(t.measureColors||this.theme.colors)[0]}}},{name:"目标值",value:"目标值",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],n=r.__assign({custom:!0,position:"bottom",items:i},t.legend);this.setConfig("legends",n)},v.prototype.addGeometry=function(){var t=this.options,e=c.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},v.prototype.parseEvents=function(){g.prototype.parseEvents.call(this,o)},v.prototype.extractLabel=function(){var t=this.options,e=n.deepMix({},t.label);return!1!==e.visible&&l.getComponent("label",r.__assign({plot:this,labelType:"barLabel",fields:[t.yField]},e))},v.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},v.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(t){return e.push(t.measures.reduce(function(t,e){return t+e},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},v.prototype.processData=function(t){var a=this.options,s=[];return t.forEach(function(t,e){for(var i,n=0;n<t.measures.length;n+=1){var r=t.measures[n],o=t.title||""+e;s.push(((i={})[a.xField]=o,i[a.yField]=r,i[a.stackField]=""+n,i))}}),s},v);function v(){var t=null!==g&&g.apply(this,arguments)||this;return t.type="bullet",t}e.default=y,u.registerPlotType("bullet",y)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Bullet:"interval",BulletTarget:"bullet-target"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(0),h=p.__importDefault(i(10)),n=(r.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var t=this.getGeometry(),e=f.map(null==t?void 0:t.elements,function(t){return t.shape}),i=0;i<this.cfg.ranges.length;i+=1){var n=e[i].getBBox(),r=n.width/e[i].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[i]||[0,1],r)}this.view.canvas.draw()}},r.prototype.drawRect=function(t,e,i){for(var n=this.cfg,r=n.rangeColors,o=t.minX,a=t.minY-t.height*(n.rangeSize-1)/2,s=1;s<e.length;s+=1){var l=(e[s]-e[s-1])*n.rangeMax*i;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:l,height:t.height*n.rangeSize,x:o,y:a,fill:r[(s-1)%r.length],fillOpacity:.25}}).set("zIndex",-1),o+=l}if(n.axis&&n.axis.visible){var c=n.rangeMax/(n.axis.tickCount-1),u=new h.default(t.x,a,o,t.height*n.rangeSize);this.drawBulletTicks(u,c,i)}},r.prototype.drawBulletTicks=function(t,e,i){for(var n=this.cfg,r=n.axis.style,o=n.axis.tickCount,a=n.axis.position,s=f.get(r,"lineHeight",0)-r.fontSize/2,l=0;l<o;l+=1){var c=t.minX+e*l*i,u=""+e*l;if(n.axis.formatter&&(u=n.axis.formatter(u,l)),this.container.addShape("text",{name:"tick",attrs:p.__assign({x:c,y:"before"===a?t.minY-s:t.maxY+s,text:""+u},r)}),n.axis.tickLine&&n.axis.tickLine.visible){var h=n.axis.tickLine;0<l&&l!==o-1&&this.container.addShape("path",{attrs:p.__assign({path:[["M",c,t.minY],["L",c,t.maxY]]},h)}).set("zIndex",-1)}}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},r.prototype.getGeometry=function(){return f.find(this.view.geometries,function(t){return"interval"===t.type})},r);function r(t,e){this.view=t,this.cfg=e,this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),r=i(0),n=(o.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var t=r.map(this.getGeometry().elements,function(t){return t.shape}),e=0;e<this.cfg.targets.length;e+=1){var i=t[e].getBBox(),n=i.width/t[e].get("origin").data[this.cfg.yField];this.drawTarget(i,this.cfg.targets[e],n)}this.view.canvas.draw()}},o.prototype.drawTarget=function(n,t,r){var o=this,a=this.cfg,s=a.markerColors;t.forEach(function(t,e){var i=a.markerStyle;o.container.addShape("rect",{name:"bullet-target",attrs:l.__assign(l.__assign({width:i.width,height:n.height*a.markerSize-i.width/2,x:n.minX+t*r,y:n.minY-n.height*(a.markerSize-1)/2},i),{fill:s[e%s.length]||i.fill})})})},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove()},o.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},o.prototype.getGeometry=function(){return r.find(this.view.geometries,function(t){return"interval"===t.type})},o);function o(t,e){this.view=t,this.cfg=e,this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12).registerTheme("bullet",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1),lineWidth:0}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=n.__importDefault(i(3)),a=n.__importDefault(i(379));i(382);var s,l=(s=o.default,n.__extends(c,s),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="calendar",s.prototype.createLayers.call(this,e)},c.getDefaultOptions=a.default.getDefaultOptions,c);function c(){return null!==s&&s.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p,n=i(1),f=i(0),r=n.__importDefault(i(30)),o=n.__importDefault(i(9)),d=i(60),g=i(380),a=i(4),s=i(90),l=i(18),c=n.__importStar(i(381)),u=(p=o.default,n.__extends(h,p),h.getDefaultOptions=function(){var t;return f.deepMix({},p.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:((t={})[d.DAY_FIELD]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[d.WEEK_FIELD]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},h.prototype.processData=function(t){var e=this.options.dateField,i=this.options.dateRange;if(f.isNil(i)){var n=f.map(t,function(t){return r.default.parse(""+t[e],d.FORMATTER)});i=s.getDateRange(n)}return g.generateCalendarData(t,i,e)},h.prototype.addGeometry=function(){var t=this.options,e=t.valueField,i=t.colors,n=t.tooltip,r={type:"polygon",position:{fields:[d.WEEK_FIELD,d.DAY_FIELD]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:i},label:this.extractLabel()};n&&(n.fields||n.formatter)&&this.geometryTooltip(r),this.setConfig("geometry",r)},h.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[d.WEEK_FIELD,d.DAY_FIELD]))},h.prototype.extractLabel=function(){var t=this.options.label;if(t&&!1===t.visible)return!1;var e=this.options.valueField;return l.getComponent("label",n.__assign({plot:this,fields:[e],position:"top",offset:0},t))},h.prototype.coord=function(){this.setConfig("coordinate",{type:"rect",cfg:{},actions:[["reflect","y"]]})},h.prototype.geometryParser=function(){return""},h.prototype.axis=function(){var t=l.getComponent("axis",{plot:this,dim:"x"}),e=l.getComponent("axis",{plot:this,dim:"y"}),i={};i[d.WEEK_FIELD]=t,i[d.DAY_FIELD]=e,this.setConfig("axes",i)},h.prototype.scale=function(){p.prototype.scale.call(this);var i=g.getMonthCenterWeek(this.options.dateRange),t=this.config.scales,e=this.options,n=e.weeks,r=void 0===n?d.WEEKS:n,o=e.months,a=void 0===o?d.MONTHS:o,s=t[d.WEEK_FIELD],l=t[d.DAY_FIELD];s.formatter=function(t){var e=i[t];return void 0!==e?a[e]:""},l.formatter=function(t){return r[t]||""};var c=this.options,u=c.xAxis,h=c.yAxis;s.alias=f.get(u,["title","text"],s.alias),l.alias=f.get(h,["title","text"],l.alias),this.setConfig("scales",t)},h.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,c)},h);function h(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="calendar",t}e.default=u,a.registerPlotType("calendar",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(1),u=c.__importDefault(i(30)),h=i(0),p=i(60),f=i(90);function d(t){var e,i=t[0],n=t[1],r=u.default.parse(i,p.FORMATTER),o=u.default.parse(n,p.FORMATTER);return o<r&&(o=(e=[r,o])[0],r=e[1]),[r,o]}e.generateCalendarData=function(n,t,r){for(var o=[],e=d(t),i=e[0],a=e[1],s=new Date(i),l=function(){var t,e=u.default.format(s,p.FORMATTER),i=h.find(n,function(t){return t[r]===e});o.push(c.__assign(((t={})[p.DAY_FIELD]=f.getDay(s),t[p.WEEK_FIELD]=""+f.getWeek(s),t[r]=e,t[p.DATE_FIELD]=new Date(s),t),i)),f.advanceBy(s,f.DAY_MS)};s<=a;)l();return o},e.getMonthCenterWeek=function(t){var e=d(t),i=e[0],n=e[1],r=new Map;function o(t){var e=t.getMonth(),i=f.getWeek(t);r.has(e)||r.set(e,[]),r.get(e).push(i)}for(var a=new Date(i);a<=n;)o(a),f.advanceBy(a,7*f.DAY_MS);n<a&&o(n);var s={};return r.forEach(function(t,e){var i=Math.ceil((h.head(t)+h.last(t))/2);s[i]=e}),s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Rect:"polygon"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),c=i(0),n=i(29),u=i(60),h=i(90);n.registerShape("polygon","calendar-polygon",{draw:function(t,e){if(!c.isEmpty(t.points)){var i=t.points,n=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]];n=this.parsePath(n);var r=l.__assign(l.__assign({stroke:"#fff",lineWidth:1,fill:t.color},t.style),{path:n}),o=e.addShape("path",{attrs:r}),a=t.data[u.DATE_FIELD];if(h.isLastWeekOfMonth(a)){var s=[["M",i[2].x,i[2].y],["L",i[3].x,i[3].y]];e.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),h.isLastDayOfMonth(a)&&e.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",i[1].x,i[1].y],["L",i[2].x,i[2].y]]),lineWidth:1,stroke:"#404040"}})}return e.sort(),o}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(91)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="gauge",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent;var o=r.getEventMap({Range:"point",Statistic:"annotation-text"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(386)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="fanGauge",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=i(0),o=i(4),s=r.__importDefault(i(91)),l=i(140),c=(n=s.default,r.__extends(u,n),u.getDefaultOptions=function(){return a.deepMix({},n.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},u.prototype.initG2Shape=function(){this.gaugeShape=new l.GaugeShape(a.uniqueId()),this.gaugeShape.setOption(this.type,a.deepMix({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},u.prototype.axis=function(){this.setConfig("axes",{value:!1,1:!1})},u.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var i=this.renderStatistic();e.push(i)}var n=this.renderSideText(),r=e.concat(n);this.setConfig("annotations",r)},u.prototype.renderSideText=function(){var t=this.options,e=t.max,i=t.min,n=t.format,r=t.rangeSize,o=t.axis;return[i,e].map(function(t,e){return{type:"text",top:!0,position:["50%","50%"],content:n(t),style:a.deepMix({},o.label.style,{textAlign:"center"}),offsetX:e?r:-r,offsetY:12}})},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="fanGauge",t}e.default=c,o.registerPlotType("fanGauge",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(388)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="meterGauge",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=(n=r.__importDefault(i(91)).default,r.__extends(l,n),l.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="meterGauge",t}e.default=s,a.registerPlotType("meterGauge",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(390);e.Ring=n.default,e.RingConfig=n.RingConfig;var r=i(391);e.GroupColumn=r.default,e.GroupColumnConfig=r.GroupColumnConfig;var o=i(392);e.GroupBar=o.default,e.GroupBarConfig=o.GroupBarConfig;var a=i(393);e.PercentageStackArea=a.default,e.PercentageStackAreaConfig=a.PercentageStackAreaConfig;var s=i(394);e.PercentageStackBar=s.default,e.PercentageStackBarConfig=s.PercentageStackBarConfig;var l=i(395);e.PercentageStackColumn=l.default,e.PercentageStackColumnConfig=l.PercentageStackColumnConfig;var c=i(396);e.StackArea=c.default,e.StackAreaConfig=c.StackAreaConfig;var u=i(397);e.StackBar=u.default,e.StackBarConfig=u.StackBarConfig;var h=i(398);e.StackColumn=h.default,e.StackColumnConfig=h.StackColumnConfig},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(27)),l=r.__importDefault(i(137)),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="donut",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},u.getDefaultOptions=l.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(27)),l=r.__importDefault(i(132)),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedColumn",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},u.getDefaultOptions=l.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(27)),l=r.__importDefault(i(128)),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedBar",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},u.getDefaultOptions=l.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(27)),l=r.__importDefault(i(130)),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedArea",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},u.getDefaultOptions=l.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(27)),l=r.__importDefault(i(129)),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedBar",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},u.getDefaultOptions=l.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(27)),l=r.__importDefault(i(134)),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedColumn",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},u.getDefaultOptions=l.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(27)),l=r.__importDefault(i(84)),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedArea",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},u.getDefaultOptions=l.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(27)),l=r.__importDefault(i(81)),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedBar",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},u.getDefaultOptions=l.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(27)),l=r.__importDefault(i(85)),c=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedColumn",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},u.getDefaultOptions=l.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(141)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="progress",n.prototype.createLayers.call(this,e)},c.prototype.update=function(t,e){this.layers[0].update(t,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),s=i(0),n=(o.prototype.destroy=function(){this.shape&&this.shape.destroy()},o.prototype.update=function(t,e,i){var n={};if(s.assign(this,t),this.coord=this.view.geometries[0].coordinate,t.value){var r=[1,0,0,0,1,0,this.coord.convert({x:0,y:this.value}).x,0,1];n.matrix=r}if(t.style){var o=this.shape.attrs,a=s.deepMix({},o,t.style);n=s.deepMix({},a,n)}this.shape.stopAnimate(),this.shape.animate(n,e,i)},o.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var t=this.coord.convert({x:0,y:this.value}).x,e=this.coord.center.y-this.progressSize/2-2,i=this.coord.center.y+this.progressSize/2+2,n=s.deepMix({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:r.__assign({path:[["M",0,e],["L",0,i]]},n),name:"progress-marker"}),this.shape.move(t,0),this.canvas.draw()},o);function o(t){s.assign(this,t),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onProgressClick:"interval:click",onProgressDblclick:"interval:dblclick",onProgressMousemove:"interval:mousemove",onProgressMousedown:"interval:mousedown",onProgressMouseup:"interval:mouseup",onProgressMouseenter:"progress:mouseenter",onProgressMouseleave:"progress:mouseleave",onProgressContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(403)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="ringProgress",n.prototype.createLayers.call(this,e)},c.prototype.update=function(t){this.layers[0].update(t)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=i(13),l=r.__importDefault(i(141)),c=r.__importStar(i(404)),u=["#55A6F3","#E8EDF3"],h=(n=l.default,r.__extends(p,n),p.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||u};t=o.mix(t,e)},p.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},p.prototype.annotation=function(){},p.prototype.addGeometry=function(){var t=this.options;this.ring=s.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},p.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},p.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,c)},p.prototype.getThickness=function(t){var e=this.width,i=this.height,n=Math.min(e,i);return t?1-t/n:60<=n?1-20/n:1-10/n},p);function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="ringProgrsss",t}e.default=h,a.registerPlotType("ringProgress",h)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onRingProgressClick:"interval:click",onRingProgressDblclick:"interval:dblclick",onRingProgressMousemove:"interval:mousemove",onRingProgressMousedown:"interval:mousedown",onRingProgressMouseup:"interval:mouseup",onRingProgressMouseenter:"interval:mouseenter",onRingProgressMouseleave:"interval:mouseleave",onRingProgressContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(406)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="tinyColumn",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(4),s=i(13),l=r.__importDefault(i(49)),c=r.__importStar(i(407)),u={column:"interval"},h={interval:"column"},p=(n=l.default,r.__extends(f,n),f.prototype.init=function(){this.processProps(),n.prototype.init.call(this)},f.prototype.geometryParser=function(t,e){return"g2"===t?u[e]:h[e]},f.prototype.scale=function(){var t={};t[this.options.xField]={type:"cat"},this.setConfig("scales",t)},f.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},f.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,c)},f.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=o.mix(this.options,t)},f.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField);return this.width/e*.6},f.prototype.getColumnNum=function(t,i){var n=[];return o.each(t,function(t){var e=t[i];n.indexOf(e)<0&&n.push(e)}),n.length},f);function f(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyColumn",t}e.default=p,a.registerPlotType("tinyColumn",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(409)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="tinyArea",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(4),a=i(13),s=r.__importDefault(i(49)),l=r.__importStar(i(410)),c={area:"area",line:"line"},u=(n=s.default,r.__extends(h,n),h.prototype.geometryParser=function(t,e){return c[e]},h.prototype.addGeometry=function(){this.area=a.getGeom("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=a.getGeom("line","mini",{plot:this}),this.setConfig("geometry",this.line)},h.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,l)},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyArea",t}e.default=u,o.registerPlotType("tinyArea",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(3)),s=r.__importDefault(i(412)),l=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="tinyLine",n.prototype.createLayers.call(this,e)},c.getDefaultOptions=s.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(4),a=i(13),s=r.__importDefault(i(49)),l=r.__importStar(i(413)),c={line:"line"},u=(n=s.default,r.__extends(h,n),h.prototype.geometryParser=function(t,e){return c[e]},h.prototype.addGeometry=function(){this.line=a.getGeom("line","mini",{plot:this}),this.setConfig("geometry",this.line)},h.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,l)},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyLine",t}e.default=u,o.registerPlotType("tinyLine",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(8);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(415)),p=n.__importStar(i(0)),l=i(4),o=n.__importDefault(i(43));i(110);var a,f=n.__importStar(i(416)),d=i(143),g=i(33),s=(a=r.default,n.__extends(c,a),c.prototype.getDefaultOptions=function(){return{xAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!0},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!1,offset:12},colorMapping:!0,synchroTick:!0},label:{visible:!1},tooltip:{visible:!0,sort:!0},legend:{visible:!0,position:"top-left"},animation:!1}},c.prototype.createComboLayers=function(){var s=this;this.options.layers=this.layerOptionsFilter(this.options.layers),a.prototype.createComboLayers.call(this),this.legendInfo=[],this.axisInfo=[],this.paddingComponents=[],this.globalComponents=[],this.singleGeomCount=0,this.backLayer=new o.default({canvas:this.getCanvas(),width:this.width,height:this.height}),0<this.options.layers.length&&p.each(this.options.layers,function(t){var e,i,n=s.getOverlappedConfig(t),r=l.getPlotType(t.type),o=p.deepMix({},t,{canvas:s.canvas,x:0,y:0,width:s.width,height:s.height,tooltip:{domStyles:{"g2-tooltip":{display:"none"}}}},n),a=new r(o);a.render(),a.hide(),(e=s.axisInfo).push.apply(e,f.getAxisData(a,o,s.globalOptions)),(i=s.legendInfo).push.apply(i,f.getLegendData(a,o)),s.addLayer(a)}),this.topLayer=new o.default({canvas:this.getCanvas(),width:this.width,height:this.height}),this.topLayer.render()},c.prototype.getOverlappedConfig=function(t){var e=f.getColorConfig(t.type,t,this.singleGeomCount);return e&&e.single&&this.singleGeomCount++,p.deepMix({},{xAxis:{visible:!1},yAxis:{visible:!1},legend:{visible:!1},padding:[0,0,0,0],color:e?e.color:null})},c.prototype.overlappingLegend=function(){var t=f.mergeLegendData(this.legendInfo);return this.legendContainer=this.topLayer.container.addGroup(),f.createLegend(t,this.width,this.height,this.getCanvas(),this.globalOptions.legend.position)},c.prototype.render=function(){var t,e=this;if(this.doDestroy(),this.createComboLayers(),!(this.layers.length<1)){var i=g.getGlobalTheme().bleeding;if(this.globalOptions.legend.visible){var n=this.overlappingLegend();this.globalComponents.push({type:"legend",component:n.component}),this.paddingComponents.push(n)}var r=d.getOverlappingPadding(this.layers[0],this.paddingComponents),o=f.axesLayout(this.globalOptions,this.axisInfo,r,this.layers[0],this.width,this.height,this.getCanvas());(t=this.paddingComponents).push.apply(t,o),p.each(o,function(t){e.globalComponents.push({type:"axis",component:t.component})});var a=d.getOverlappingPadding(this.layers[0],this.paddingComponents);if(this.globalOptions.xAxis.visible||(a[2]+=i[2]),p.each(this.layers,function(t){t.updateConfig({padding:a}),t.render(),t.show()}),this.globalOptions.yAxis.grid.visible){var s=o[0].component,l=this.layers[0],c=l.view.geometries[0].coordinate,u=l.view.backgroundGroup;f.drawYGrid(s,c,u,this.globalOptions)}if(this.canvas.draw(),this.globalOptions.tooltip.visible){var h=f.showTooltip(this.canvas,this.layers);this.globalComponents.push({type:"tooltip",component:h})}}},c.prototype.doDestroy=function(){this.clearComponents(),this.eachLayer(function(t){t.destroy()}),this.layers=[]},c.prototype.clearComponents=function(){p.each(this.globalComponents,function(t){"legend"!==t.type&&"tooltip"!==t.type||t.component.destroy(),"axis"===t.type&&t.component.clear()}),this.paddingComponents=[],this.globalComponents=[]},c.prototype.layerOptionsFilter=function(t){var e=[];return p.each(t,function(t){!p.isNil(t.data)&&0<t.data.length&&e.push(t)}),e},c);function c(t,e){var i=a.call(this,t,e)||this;return i.options=e,i}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(3)),a=i(0),s=(n=o.default,r.__extends(l,n),l.prototype.getDefaultOptions=function(){return{}},l.prototype.getGlobalOptions=function(t){return{xAxis:t.xAxis,yAxis:t.yAxis,theme:t.theme,legend:t.legend}},l.prototype.createComboLayers=function(){this.globalOptions=a.deepMix({},this.getDefaultOptions(),this.getGlobalOptions(this.options))},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(142);e.getColorConfig=n.getColorConfig;var r=i(417);e.getLegendData=r.getLegendData,e.mergeLegendData=r.mergeLegendData,e.createLegend=r.createLegend;var o=i(418);e.getAxisData=o.getAxisData,e.mergeAxisScale=o.mergeAxisScale,e.createAxis=o.createAxis,e.axesLayout=o.axesLayout,e.drawYGrid=o.drawYGrid;var a=i(419);e.showTooltip=a.showTooltip},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),g=i(7),y=n.__importDefault(i(10)),v=n.__importStar(i(0)),m=i(33);e.getLegendData=function(o,t){var a=[],s=o.view.geometries[0],l=s.attributes.color,c={isInCircle:!1,color:l.values[0]},e={symbol:"circle",style:{r:4,fill:c.fill}};if(s.shapeFactory&&(e=s.shapeFactory.getMarker(s.type,c)),1===l.scales.length&&"identity"==l.scales[0].type)a.push({value:t.name,checked:!0,marker:e,isSingle:!0,layer:o,name:t.name||s.type});else{var i=l.scales[0].values;v.each(i,function(t,e){var i=t,n={isInCircle:!1,color:l.values[e]},r={symbol:"circle",style:{r:4,fill:c.color}};s.shapeFactory&&(r=s.shapeFactory.getMarker(s.type,n)),a.push({field:l.scales[0].field,value:i,checked:!0,marker:r,isSingle:!1,layer:o,name:i})})}return a},e.mergeLegendData=function(t){return t},e.createLegend=function(t,e,i,n,r){var o=m.getGlobalTheme().legend,a=r.split("-"),s="horizontal";"left"!==a[0]&&"right"!==a[0]||(s="vertical");var l,c=n.addGroup(),u={type:"category-legend",items:t,maxSize:e,container:c,group:c,layout:s,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20},titleDistance:10,autoWrap:!0,itemMarginBottom:4,backgroundPadding:0,maxLength:e},h=new g.Legend.Category(u);!function(t,e,i,n){var r=m.getGlobalTheme().bleeding;v.isArray(r)&&v.each(r,function(t,e){"function"==typeof r[e]&&(r[e]=r[e]({}))});var o=i.get("container").getBBox(),a=0,s=0,l=n.split("-");"left"===l[0]?a=r[3]:"right"===l[0]?a=t-r[1]-o.width:"center"===l[1]?a=(t-o.width)/2:"left"===l[1]?a=r[3]:"right"===l[1]&&(a=t-r[1]-o.width),"bottom"===l[0]?s=e-r[2]-o.height:"top"===l[0]?s=r[0]:"center"===l[1]?s=(e-o.height)/2:"top"===l[1]?s=r[0]:"bottom"===l[1]&&(s=e-r[2]-o.height),i.setLocation({x:a,y:s}),i.render()}(e,i,h,r),l=[],h.get("group").on("click",function(t){var e=t.target.get("delegateObject").item;if(e.isSingle)e.checked?(t.target.get("parent").attr("opacity",.3),e.layer.hide(),e.checked=!1):(t.target.get("parent").attr("opacity",1),e.layer.show(),e.checked=!0);else{var i=e.layer.view;e.checked?(t.target.get("parent").attr("opacity",.3),l.push(e.value),i.filter(e.field,function(t){return!v.contains(l,t)}),i.render(),0===i.filteredData.length?e.layer.hide():e.layer.visibility||e.layer.show(),e.checked=!1):(t.target.get("parent").attr("opacity",1),v.pull(l,e.value),i.filter(e.value,function(t){return!v.contains(l,t)}),i.render(),e.layer.visibility||e.layer.show(),e.checked=!0)}});var p,f=h.get("container").getBBox(),d=o.innerPadding;return"left"===a[0]?p=new y.default(h.get("x")+d[3],h.get("y"),f.width,f.height):"right"===a[0]?p=new y.default(h.get("x")-d[1],h.get("y"),f.width,f.height):"top"===a[0]?p=new y.default(h.get("x"),h.get("y")+d[0],f.width,f.height):"bottom"===a[0]&&(p=new y.default(h.get("x"),h.get("y")-d[2],f.width,f.height)),{position:a[0],component:h,getBBox:function(){return p}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(1),v=u.__importDefault(i(10)),c=i(15),m=i(0),x=i(12),s=i(142),b=i(143),y=i(18),_=i(47),w=i(7);function O(t,e,i){return"x"===e?p(a=t.filter(function(t){if("x"===t.dim)return t}))?"cat"===a[0].scale.type?function(){for(var t=[],e=0,i=a;e<i.length;e++){var n=i[e];t.push.apply(t,n.scale.values)}return new(c.getScale("cat"))({values:m.uniq(t)})}():h(a,5):[a[0].scale]:(n=t.filter(function(t){if("y"===t.dim)return t}),r=i.synchroTick,o=p(n),s=n[0].scale.tickCount,l=c.getScale("linear"),o?h(n,s):n.map(function(t){var a=t.scale,e=function(t){for(var e=[],i=a.min,n=(a.max-i)/t,r=0;r<t;r++){var o=i+n*r;e.push(o)}return e}(s);if(r){var i=new l({min:a.min,max:a.max,ticks:e,tickCount:s,color:t.color});return i.layer=t.layer,i}return a.layer=t.layer,a.color=t.color,a}));var n,r,o,s,l,a}function h(t,e){for(var i=t[0].scale.min,n=t[0].scale.max,r=0,o=t;r<o.length;r++){var a=o[r];i=Math.min(i,a.scale.min),n=Math.max(n,a.scale.max)}return new(c.getScale("linear"))({min:i,max:n,tickCount:e})}function p(t){for(var e=t[0].originalData,i=t[0].scale.field,n=0,r=t;n<r.length;n++){var o=r[n],a=o.originalData,s=o.scale.field;if(a!==e||s!==i)return!1}return!0}function M(e,t,i,n,r){var o,a=C(r),s="x"!==t;o=e&&e.layer?e.layer.container.addGroup():i.addGroup();var l,c,u,h=function(n){var r=[];if(e){var t=e.ticks,o=e.range;if(t&&o){var a=(o[1]-o[0])/(t.length-1);return m.each(t,function(t,e){var i="y"===n?1-(o[0]+a*e):o[0]+a*e;r.push({name:t,value:i})}),r}}}(t),p=y.getComponent("axis",{dim:t,plot:{options:r,getPlotTheme:function(){return x.getGlobalTheme()}}}),f=a.axis&&a.axis[t]?(c=a.axis[t],u={},m.each(c,function(t,e){m.hasKey(t,"style")&&(u[e]=t.style)}),u):{};e&&e.color&&(l=e.color,f={line:p.line?{stroke:l,lineWidth:1}:null,tickLine:p.tickLine?{stroke:l,lineWidth:1,length:5}:null,label:p.label?{textStyle:{fill:l}}:null});var d=m.deepMix({},p,{type:"line",group:o,canvas:i,start:n.start,end:n.end,isVertical:s,verticalFactor:n.factor,ticks:h,label:function(t){return{text:t,textStyle:p.label.textStyle}}},f),g=new w.Axis.Line(d);return e&&(g.layer=e.layer),g.render(),g}function C(t){var e=x.getGlobalTheme();return t.theme&&(m.isString(t.theme)?e=x.getGlobalTheme(t.theme):m.isObject(t.theme)&&(e=t.theme)),e}e.getAxisData=function(t,e,i){var n=t.view.geometries[0].scales,r=[],o=s.isSingleGraph(t.type,e);if(e.xField){var a={dim:"x",scale:n[e.xField],originalData:e.data};r.push(a)}return e.yField&&(a={dim:"y",scale:n[e.yField],originalData:e.data,color:o&&i.yAxis.colorMapping?e.color:null,layer:t},r.push(a)),r},e.mergeAxisScale=O,e.createAxis=M,e.axesLayout=function(r,t,o,e,i,a,s){var n=x.getGlobalTheme().bleeding;m.each(o,function(t,e){0===t&&(o[e]=n[e])});var l,c,u=[],h=[],p=0;if(r.xAxis.visible){l=O(t,"x");var f=m.isArray(l)?l[0]:l;c=M(f,"x",s,{start:{x:0,y:0},end:{x:i,y:0},factor:-1},r),p+=c.get("group").getBBox().height}if(r.yAxis.visible){var d=O(t,"y",r.yAxis);m.isObject(d)&&(d=[d]),m.each(d,function(t,e){var i=0===e?-1:1,n=M(t,"y",s,{start:{x:0,y:o[0]},end:{x:0,y:a-p-o[2]},factor:i},r);0===e&&_.translate(n.get("group"),o[3],0),h.push(n)}),function(o,a,s,t){var e=o[0],i=e.get("group"),n=i.getBBox();_.translate(i,n.width,0),a.push({position:"left",component:e,getBBox:function(){var t=i.attr("matrix");return new v.default(n.minX+t[6],n.minY,n.width,n.height)}});for(var l=t[1],r=function(t){var e=o[t],i=e.get("group"),n=i.getBBox();_.translate(i,s-l-n.width,0),l+=n.width+4;var r={position:"right",component:e,getBBox:function(){var t=i.attr("matrix");return new v.default(n.minX+t[6],n.minY,n.width,n.height)}};a.push(r)},c=o.length-1;0<c;c--)r(c)}(h,u,i,o)}if(r.xAxis.visible){var g=b.getOverlappingPadding(e,u),y=0===h.length?a-p-o[2]:h[0].get("group").getBBox().maxY;c.destroy(),c=M(l[0],"x",s,{start:{x:g[3],y:y},end:{x:i-g[1],y:y},factor:-1},r),u.push({position:"bottom",component:c,getBBox:function(){var t=c.get("group").getBBox();return new v.default(t.minX,t.minY,t.width,t.height)}})}return u},e.drawYGrid=function(t,i,e,n){var r=C(n),o=n.yAxis.grid,a=r.axis.y.grid.style,s=m.deepMix({},a,o.style),l=e.addGroup(),c=t.get("labelItems");m.each(c,function(t,e){0<e&&l.addShape("path",{attrs:u.__assign({path:[["M",i.start.x,t.point.y],["L",i.end.x,t.point.y]]},s)})})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),l=i(7),c=i(33);function u(t){var i=[];return s.each(t,function(t){var e,r,o;-1===(e=i,r=t,o=-1,s.each(e,function(t,e){var i=!0;for(var n in r)if(s.has(r,n)&&!s.isObject(r[n])&&r[n]!==t[n]){i=!1;break}if(i)return o=e,!1}),o)&&i.push(t)}),i}e.showTooltip=function(t,e){var i,n,r,o,a=(i=e[0],n=t,r=c.getGlobalTheme().tooltip,o={parent:i.canvas.get("container"),panelGroup:i.view.middleGroup,panelRange:i.view.coodinateBBox,capture:!1,canvas:n,frontgroundGroup:i.view.frontgroundGroup,theme:r,backgroundGroup:i.view.backgroundGroup,items:[{name:0,value:0}],domStyles:{"g2-tooltip":{opacity:0}}},new l.Tooltip.Html(o));return a.init(),t.on("mousemove",function(t){var i=[],n={x:t.x,y:t.y};s.each(e,function(t){var e=t.view;e&&t.visibility&&i.push.apply(i,e.getTooltipItems(n))}),0<i.length?(a.setLocation(n),a.update({items:u(i),domStyles:{"g2-tooltip":{opacity:1}}}),a.show()):a.get("visible")&&a.hide()}),a}},function(t,e,i){"use strict";function Y(t,n,r,e){t=t.filter(function(t){var e=n(t),i=r(t);return null!=e&&isFinite(e)&&null!=i&&isFinite(i)}),e&&t.sort(function(t,e){return n(t)-n(e)});for(var i,o,a,s=t.length,l=new Float64Array(s),c=new Float64Array(s),u=0,h=0,p=0;p<s;)a=t[p],l[p]=i=+n(a),c[p]=o=+r(a),u+=(i-u)/++p,h+=(o-h)/p;for(var f=0;f<s;++f)l[f]-=u,c[f]-=h;return[l,c,u,h]}function k(t,e,i,n){for(var r=0,o=0,a=t.length;o<a;o++){var s=t[o],l=+e(s),c=+i(s);null!=l&&isFinite(l)&&null!=c&&isFinite(c)&&n(l,c,r++)}}function E(t,e,i,r,o){var a=0,s=0;return k(t,e,i,function(t,e){var i=e-o(t),n=e-r;a+=i*i,s+=n*n}),1-a/s}function f(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function D(t,e,i){for(var n=Math.log(e-t)*Math.LOG10E+1|0,u=+Math.pow(10,-n/2-1),r=[p(t),p(e)],h=0;o(r)&&h<1e4;);return r;function p(t){return[t,i(t)]}function o(t){h++;for(var e,i=t.length,n=!1,r=0;r<i-1;r++){var o=t[r],a=[((e=[o,t[r+1]])[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2],s=p(a[0]),l=f([o,a]),c=f([o,s]);Math.abs(l-c)>u&&(t.splice(r+1,0,s),n=!0)}return n}}function G(t,e,i,n){var r=n-t*t,o=Math.abs(r)<1e-24?0:(i-t*e)/r;return[e-o*t,o]}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.r(e),i.d(e,"regressionExp",function(){return n}),i.d(e,"regressionLinear",function(){return T}),i.d(e,"regressionLoess",function(){return o}),i.d(e,"regressionLog",function(){return a}),i.d(e,"regressionPoly",function(){return s}),i.d(e,"regressionPow",function(){return l}),i.d(e,"regressionQuad",function(){return L});var n=function(){var y,v=function(t){return t[0]},m=function(t){return t[1]};function e(t){var r=0,o=0,a=0,s=0,l=0,c=0,u=y?+y[0]:1/0,h=y?+y[1]:-1/0;k(t,v,m,function(t,e){var i=Math.log(e),n=t*e;o+=(e-o)/++r,s+=(n-s)/r,c+=(t*n-c)/r,a+=(e*i-a)/r,l+=(n*i-l)/r,y||(t<u&&(u=t),h<t&&(h=t))});var e,i,n=(e=G(s/o,a/o,l/o,c/o),i=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(e,i)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x(t,e):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=n[0],f=n[1];p=Math.exp(p);function d(t){return p*Math.exp(f*t)}var g=D(u,h,d);return g.a=p,g.b=f,g.predict=d,g.rSquared=E(t,v,m,o,d),g}return e.domain=function(t){return arguments.length?(y=t,e):y},e.x=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(m=t,e):m},e};function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var T=function(){var g,y=function(t){return t[0]},v=function(t){return t[1]};function e(t){var i=0,n=0,r=0,o=0,a=0,s=g?+g[0]:1/0,l=g?+g[1]:-1/0;k(t,y,v,function(t,e){n+=(t-n)/++i,r+=(e-r)/i,o+=(t*e-o)/i,a+=(t*t-a)/i,g||(t<s&&(s=t),l<t&&(l=t))});function e(t){return f*t+p}var c,u,h=(c=G(n,r,o,a),u=2,function(t){if(Array.isArray(t))return t}(c)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(c,u)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(t,e):void 0}}(c,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1],d=[[s,e(s)],[l,e(l)]];return d.a=f,d.b=p,d.predict=e,d.rSquared=E(t,y,v,r,e),d}return e.domain=function(t){return arguments.length?(g=t,e):g},e.x=function(t){return arguments.length?(y=t,e):y},e.y=function(t){return arguments.length?(v=t,e):v},e};function z(t){t.sort(function(t,e){return t-e});var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var o=function(){var I=function(t){return t[0]},R=function(t){return t[1]},N=.3;function e(t){for(var e=X(Y(t,I,R,!0),4),i=e[0],n=e[1],r=e[2],o=e[3],a=i.length,s=Math.max(2,~~(N*a)),l=new Float64Array(a),c=new Float64Array(a),u=new Float64Array(a).fill(1),h=-1;++h<=2;){for(var p=[0,s-1],f=0;f<a;++f){for(var d=i[f],g=p[0],y=p[1],v=d-i[g]>i[y]-d?g:y,m=0,x=0,b=0,_=0,w=0,O=1/Math.abs(i[v]-d||1),M=g;M<=y;++M){var C=i[M],S=n[M],j=(F=1-(F=Math.abs(d-C)*O)*F*F)*F*F*u[M],A=C*j;m+=j,x+=A,b+=S*j,_+=S*A,w+=C*A}var P=X(G(x/m,b/m,_/m,w/m),2),T=P[0],L=P[1];l[f]=T+L*d,c[f]=Math.abs(n[f]-l[f]),V(i,f+1,p)}if(2===h)break;var k=z(c);if(Math.abs(k)<1e-12)break;for(var E,D,B=0;B<a;++B)E=c[B]/(6*k),u[B]=1<=E?1e-12:(D=1-E*E)*D}var F;return function(t,e,i,n){for(var r,o=t.length,a=[],s=0,l=0,c=[];s<o;++s)r=t[s]+i,c[0]===r?c[1]+=(e[s]-c[1])/++l:(l=0,c[1]+=n,c=[r,e[s]],a.push(c));return c[1]+=n,a}(i,l,r,o)}return e.bandwidth=function(t){return arguments.length?(N=t,e):N},e.x=function(t){return arguments.length?(I=t,e):I},e.y=function(t){return arguments.length?(R=t,e):R},e};function V(t,e,i){var n=t[e],r=i[0],o=i[1]+1;if(!(o>=t.length))for(;r<e&&t[o]-n<=n-t[r];)i[0]=++r,i[1]=o,++o}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a=function(){var g,y=function(t){return t[0]},v=function(t){return t[1]};function e(t){var n=0,r=0,o=0,a=0,s=0,l=g?+g[0]:1/0,c=g?+g[1]:-1/0;k(t,y,v,function(t,e){var i=Math.log(t);r+=(i-r)/++n,o+=(e-o)/n,a+=(i*e-a)/n,s+=(i*i-s)/n,g||(t<l&&(l=t),c<t&&(c=t))});function e(t){return f*Math.log(t)+p}var i,u,h=(i=G(r,o,a,s),u=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(i,u)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(t,e):void 0}}(i,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1],d=D(l,c,e);return d.a=f,d.b=p,d.predict=e,d.rSquared=E(t,y,v,o,e),d}return e.domain=function(t){return arguments.length?(g=t,e):g},e.x=function(t){return arguments.length?(y=t,e):y},e.y=function(t){return arguments.length?(v=t,e):v},e};function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var L=function(){var P,T=function(t){return t[0]},L=function(t){return t[1]};function e(t){var e,i,n,r,o,a,s=(o=Y(t,T,L),a=4,function(t){if(Array.isArray(t))return t}(o)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(o,a)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?B(t,e):void 0}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1],u=s[2],h=s[3],p=l.length,f=0,d=0,g=0,y=0,v=0;for(e=0;e<p;)i=l[e],n=c[e++],f+=((r=i*i)-f)/e,d+=(r*i-d)/e,g+=(r*r-g)/e,y+=(i*n-y)/e,v+=(r*n-v)/e;var m=0,x=0,b=P?+P[0]:1/0,_=P?+P[1]:-1/0;k(t,T,L,function(t,e){m+=(e-m)/++x,P||(t<b&&(b=t),_<t&&(_=t))});function w(t){return C*(t-=u)*t+S*t+j+h}var O=g-f*f,M=f*O-d*d,C=(v*f-y*d)/M,S=(y*O-v*d)/M,j=-C*f,A=D(b,_,w);return A.a=C,A.b=S-2*C*u,A.c=j-S*u+C*u*u+h,A.predict=w,A.rSquared=E(t,T,L,m,w),A}return e.domain=function(t){return arguments.length?(P=t,e):P},e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(L=t,e):L},e};function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var s=function(){var S,j=function(t){return t[0]},A=function(t){return t[1]},P=3;function e(t){if(1===P){var e=T().x(j).y(A).domain(S)(t);return e.coefficients=[e.b,e.a],delete e.a,delete e.b,e}if(2===P){var i=L().x(j).y(A).domain(S)(t);return i.coefficients=[i.c,i.b,i.a],delete i.a,delete i.b,delete i.c,i}var n,r,o,a,s,l,c,u=(l=Y(t,j,A),c=4,function(t){if(Array.isArray(t))return t}(l)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(l,c)||function(t,e){if(t){if("string"==typeof t)return F(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?F(t,e):void 0}}(l,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=u[0],p=u[1],f=u[2],d=u[3],g=h.length,y=[],v=[],m=P+1,x=0,b=0,_=S?+S[0]:1/0,w=S?+S[1]:-1/0;for(k(t,j,A,function(t,e){x+=(e-x)/++b,S||(t<_&&(_=t),w<t&&(w=t))}),n=0;n<m;++n){for(a=o=0;o<g;++o)a+=Math.pow(h[o],n)*p[o];for(y.push(a),s=new Float64Array(m),r=0;r<m;++r){for(a=o=0;o<g;++o)a+=Math.pow(h[o],n+r);s[r]=a}v.push(s)}v.push(y);function O(t){t-=f;var e=d+M[0]+M[1]*t+M[2]*t*t;for(n=3;n<m;++n)e+=M[n]*Math.pow(t,n);return e}var M=function(t){var e,i,n,r,o,a=t.length-1,s=[];for(e=0;e<a;++e){for(i=(r=e)+1;i<a;++i)Math.abs(t[e][i])>Math.abs(t[e][r])&&(r=i);for(n=e;n<1+a;++n)o=t[n][e],t[n][e]=t[n][r],t[n][r]=o;for(i=e+1;i<a;++i)for(n=a;e<=n;n--)t[n][i]-=t[n][e]*t[e][i]/t[e][e]}for(i=a-1;0<=i;--i){for(o=0,n=i+1;n<a;++n)o+=t[n][i]*s[n];s[i]=(t[a][i]-o)/t[i][i]}return s}(v),C=D(_,w,O);return C.coefficients=function(t,e,i,n){var r,o,a,s,l=Array(t);for(r=0;r<t;++r)l[r]=0;for(r=t-1;0<=r;--r)for(a=e[r],s=1,l[r]+=a,o=1;o<=r;++o)s*=(r+1-o)/o,l[r-o]+=a*Math.pow(i,o)*s;return l[0]+=n,l}(m,M,-f,d),C.predict=O,C.rSquared=E(t,j,A,x,O),C}return e.domain=function(t){return arguments.length?(S=t,e):S},e.x=function(t){return arguments.length?(j=t,e):j},e.y=function(t){return arguments.length?(A=t,e):A},e.order=function(t){return arguments.length?(P=t,e):P},e};function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l=function(){var y,v=function(t){return t[0]},m=function(t){return t[1]};function e(t){var r=0,o=0,a=0,s=0,l=0,c=0,u=y?+y[0]:1/0,h=y?+y[1]:-1/0;k(t,v,m,function(t,e){var i=Math.log(t),n=Math.log(e);o+=(i-o)/++r,a+=(n-a)/r,s+=(i*n-s)/r,l+=(i*i-l)/r,c+=(e-c)/r,y||(t<u&&(u=t),h<t&&(h=t))});var e,i,n=(e=G(o,a,s,l),i=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(e,i)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_(t,e):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=n[0],f=n[1];p=Math.exp(p);function d(t){return p*Math.pow(t,f)}var g=D(u,h,d);return g.a=p,g.b=f,g.predict=d,g.rSquared=E(t,v,m,c,d),g}return e.domain=function(t){return arguments.length?(y=t,e):y},e.x=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(m=t,e):m},e}}],r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=149);function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n});