!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.G2Plot=e():t.G2Plot=e()}(window,function(){return n={},r.m=i=[function(t,e,i){"use strict";i.r(e),i.d(e,"contains",function(){return n}),i.d(e,"includes",function(){return n}),i.d(e,"difference",function(){return p}),i.d(e,"find",function(){return b}),i.d(e,"findIndex",function(){return _}),i.d(e,"firstValue",function(){return M}),i.d(e,"flatten",function(){return w}),i.d(e,"flattenDeep",function(){return S}),i.d(e,"getRange",function(){return C}),i.d(e,"pull",function(){return A}),i.d(e,"pullAt",function(){return T}),i.d(e,"reduce",function(){return D}),i.d(e,"remove",function(){return j}),i.d(e,"sortBy",function(){return B}),i.d(e,"union",function(){return F}),i.d(e,"uniq",function(){return E}),i.d(e,"valuesOfKey",function(){return R}),i.d(e,"head",function(){return N}),i.d(e,"last",function(){return z}),i.d(e,"startsWith",function(){return Y}),i.d(e,"endsWith",function(){return H}),i.d(e,"filter",function(){return h}),i.d(e,"every",function(){return G}),i.d(e,"some",function(){return W}),i.d(e,"group",function(){return U}),i.d(e,"groupBy",function(){return V}),i.d(e,"groupToMap",function(){return q}),i.d(e,"getWrapBehavior",function(){return Z}),i.d(e,"wrapBehavior",function(){return Q}),i.d(e,"number2color",function(){return K}),i.d(e,"parseRadius",function(){return J}),i.d(e,"clamp",function(){return tt}),i.d(e,"fixedBase",function(){return et}),i.d(e,"isDecimal",function(){return nt}),i.d(e,"isEven",function(){return rt}),i.d(e,"isInteger",function(){return ot}),i.d(e,"isNegative",function(){return at}),i.d(e,"isNumberEqual",function(){return st}),i.d(e,"isOdd",function(){return lt}),i.d(e,"isPositive",function(){return ut}),i.d(e,"maxBy",function(){return ct}),i.d(e,"minBy",function(){return ht}),i.d(e,"mod",function(){return pt}),i.d(e,"toDegree",function(){return dt}),i.d(e,"toInteger",function(){return gt}),i.d(e,"toRadian",function(){return yt}),i.d(e,"forIn",function(){return mt}),i.d(e,"has",function(){return xt}),i.d(e,"hasKey",function(){return bt}),i.d(e,"hasValue",function(){return Mt}),i.d(e,"keys",function(){return g}),i.d(e,"isMatch",function(){return v}),i.d(e,"values",function(){return _t}),i.d(e,"lowerCase",function(){return St}),i.d(e,"lowerFirst",function(){return Ct}),i.d(e,"substitute",function(){return Ot}),i.d(e,"upperCase",function(){return kt}),i.d(e,"upperFirst",function(){return Pt}),i.d(e,"getType",function(){return Lt}),i.d(e,"isArguments",function(){return Tt}),i.d(e,"isArray",function(){return a}),i.d(e,"isArrayLike",function(){return s}),i.d(e,"isBoolean",function(){return Dt}),i.d(e,"isDate",function(){return jt}),i.d(e,"isError",function(){return It}),i.d(e,"isFunction",function(){return f}),i.d(e,"isFinite",function(){return Bt}),i.d(e,"isNil",function(){return d}),i.d(e,"isNull",function(){return Et}),i.d(e,"isNumber",function(){return it}),i.d(e,"isObject",function(){return u}),i.d(e,"isObjectLike",function(){return m}),i.d(e,"isPlainObject",function(){return x}),i.d(e,"isPrototype",function(){return Rt}),i.d(e,"isRegExp",function(){return Nt}),i.d(e,"isString",function(){return I}),i.d(e,"isType",function(){return o}),i.d(e,"isUndefined",function(){return zt}),i.d(e,"isElement",function(){return Yt}),i.d(e,"requestAnimationFrame",function(){return Ht}),i.d(e,"clearAnimationFrame",function(){return Gt}),i.d(e,"augment",function(){return Vt}),i.d(e,"clone",function(){return Ut}),i.d(e,"debounce",function(){return Zt}),i.d(e,"memoize",function(){return Qt}),i.d(e,"deepMix",function(){return Jt}),i.d(e,"each",function(){return c}),i.d(e,"extend",function(){return te}),i.d(e,"indexOf",function(){return ee}),i.d(e,"isEmpty",function(){return ne}),i.d(e,"isEqual",function(){return re}),i.d(e,"isEqualWith",function(){return oe}),i.d(e,"map",function(){return ae}),i.d(e,"mapValues",function(){return se}),i.d(e,"mix",function(){return Xt}),i.d(e,"assign",function(){return Xt}),i.d(e,"get",function(){return le}),i.d(e,"set",function(){return ue}),i.d(e,"pick",function(){return he}),i.d(e,"throttle",function(){return pe}),i.d(e,"toArray",function(){return fe}),i.d(e,"toString",function(){return wt}),i.d(e,"uniqueId",function(){return ge}),i.d(e,"noop",function(){return ve}),i.d(e,"identity",function(){return ye}),i.d(e,"size",function(){return me}),i.d(e,"Cache",function(){return xe});var s=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},n=function(t,e){return!!s(t)&&-1<t.indexOf(e)},r={}.toString,o=function(t,e){return r.call(t)==="[object "+e+"]"},a=function(t){return Array.isArray?Array.isArray(t):o(t,"Array")};function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=function(t){var e=l(t);return null!==t&&"object"===e||"function"===e},c=function(t,e){if(t)if(a(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(u(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},h=function(t,i){if(!s(t))return t;var n=[];return c(t,function(t,e){i(t,e)&&n.push(t)}),n},p=function(t,e){return void 0===e&&(e=[]),h(t,function(t){return!n(e,t)})},f=function(t){return o(t,"Function")},d=function(t){return null==t},g=Object.keys?function(t){return Object.keys(t)}:function(i){var n=[];return c(i,function(t,e){f(i)&&"prototype"===e||n.push(e)}),n},v=function(t,e){var i=g(e),n=i.length;if(d(t))return!n;for(var r=0;r<n;r+=1){var o=i[r];if(e[o]!==t[o]||!(o in t))return!1}return!0};function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=function(t){return"object"===y(t)&&null!==t},x=function(t){if(!m(t)||!o(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},b=function(t,e){if(!a(t))return null;var i;if(f(e)&&(i=e),x(e)&&(i=function(t){return v(t,e)}),i)for(var n=0;n<t.length;n+=1)if(i(t[n]))return t[n];return null},_=function(t,e,i){void 0===i&&(i=0);for(var n=i;n<t.length;n++)if(e(t[n],n))return n;return-1},M=function(t,e){for(var i=null,n=0;n<t.length;n++){var r=t[n][e];if(!d(r)){i=a(r)?r[0]:r;break}}return i},w=function(t){if(!a(t))return[];for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e},S=function t(e,i){if(void 0===i&&(i=[]),a(e))for(var n=0;n<e.length;n+=1)t(e[n],i);else i.push(e);return i},C=function(t){if(!(t=h(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(a(t[0])){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);t=e}var n=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:n}},O=Array.prototype,k=O.splice,P=O.indexOf,A=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++)for(var r=e[n],o=-1;-1<(o=P.call(t,r));)k.call(t,o,1);return t},L=Array.prototype.splice,T=function(t,e){if(!s(t))return[];for(var i=t?e.length:0,n=i-1;i--;){var r=void 0,o=e[i];i!==n&&o===r||(r=o,L.call(t,o,1))}return t},D=function(t,i,e){if(!a(t)&&!x(t))return t;var n=e;return c(t,function(t,e){n=i(n,t,e)}),n},j=function(t,e){var i=[];if(!s(t))return i;for(var n=-1,r=[],o=t.length;++n<o;){var a=t[n];e(a,n,t)&&(i.push(a),r.push(n))}return T(t,r),i},I=function(t){return o(t,"String")},B=function(t,i){var e;if(f(i))e=function(t,e){return i(t)-i(e)};else{var r=[];I(i)?r.push(i):a(i)&&(r=i),e=function(t,e){for(var i=0;i<r.length;i+=1){var n=r[i];if(t[n]>e[n])return 1;if(t[n]<e[n])return-1}return 0}}return t.sort(e),t},E=function(t){var e=[];return c(t,function(t){n(e,t)||e.push(t)}),e},F=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return E([].concat.apply([],t))},R=function(t,i){var n=[],r={};return t.forEach(function(t){var e=t[i];d(e)||(a(e)||(e=[e]),c(e,function(t){r[t]||(n.push(t),r[t]=!0)}))}),n};function N(t){if(s(t))return t[0]}function z(t){if(s(t))return t[t.length-1]}var Y=function(t,e){return!(!a(t)&&!I(t))&&t[0]===e},H=function(t,e){return!(!a(t)&&!I(t))&&t[t.length-1]===e},G=function(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i))return!1;return!0},W=function(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i))return!0;return!1},X=Object.prototype.hasOwnProperty,V=function(t,e){if(!e||!a(t))return{};var i,n={},r=f(e)?e:function(t){return t[e]};return c(t,function(t){i=r(t),X.call(n,i)?n[i].push(t):n[i]=[t]}),n},q=function(t,e){if(!e)return{0:t};if(!f(e)){var r=a(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",i=0,n=r.length;i<n;i++)e+=t[r[i]]&&t[r[i]].toString();return e}}return V(t,e)},U=function(t,e){if(!e)return[t];var i=q(t,e),n=[];for(var r in i)n.push(i[r]);return n},Z=function(t,e){return t["_wrap_"+e]},Q=function(e,i){if(e["_wrap_"+i])return e["_wrap_"+i];function t(t){e[i](t)}return e["_wrap_"+i]=t},$={},K=function(t){var e=$[t];if(!e){for(var i=t.toString(16),n=i.length;n<6;n++)i="0"+i;e="#"+i,$[t]=e}return e},J=function(t){var e=0,i=0,n=0,r=0;return a(t)?1===t.length?e=i=n=r=t[0]:2===t.length?(e=n=t[0],i=r=t[1]):3===t.length?(e=t[0],i=r=t[1],n=t[2]):(e=t[0],i=t[1],n=t[2],r=t[3]):e=i=n=r=t,{r1:e,r2:i,r3:n,r4:r}},tt=function(t,e,i){return t<e?e:i<t?i:t},et=function(t,e){var i=e.toString(),n=i.indexOf(".");if(-1===n)return Math.round(t);var r=i.substr(n+1).length;return 20<r&&(r=20),parseFloat(t.toFixed(r))},it=function(t){return o(t,"Number")},nt=function(t){return it(t)&&t%1!=0},rt=function(t){return it(t)&&t%2==0},ot=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},at=function(t){return it(t)&&t<0};function st(t,e,i){return void 0===i&&(i=1e-5),Math.abs(t-e)<i}var lt=function(t){return it(t)&&t%2!=0},ut=function(t){return it(t)&&0<t},ct=function(t,e){if(a(t)){var i,n,r=t[0];return i=f(e)?e(t[0]):t[0][e],c(t,function(t){(n=f(e)?e(t):t[e])>i&&(r=t,i=n)}),r}},ht=function(t,e){if(a(t)){var i,n,r=t[0];return i=f(e)?e(t[0]):t[0][e],c(t,function(t){(n=f(e)?e(t):t[e])<i&&(r=t,i=n)}),r}},pt=function(t,e){return(t%e+e)%e},ft=180/Math.PI,dt=function(t){return ft*t},gt=parseInt,vt=Math.PI/180,yt=function(t){return vt*t},mt=c,xt=function(t,e){return t.hasOwnProperty(e)},bt=xt,_t=Object.values?function(t){return Object.values(t)}:function(i){var n=[];return c(i,function(t,e){f(i)&&"prototype"===e||n.push(t)}),n},Mt=function(t,e){return n(_t(t),e)},wt=function(t){return d(t)?"":t.toString()},St=function(t){return wt(t).toLowerCase()},Ct=function(t){var e=wt(t);return e.charAt(0).toLowerCase()+e.substring(1)},Ot=function(t,i){return t&&i?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===i[e]?"":i[e]}):t},kt=function(t){return wt(t).toUpperCase()},Pt=function(t){var e=wt(t);return e.charAt(0).toUpperCase()+e.substring(1)},At={}.toString,Lt=function(t){return At.call(t).replace(/^\[object /,"").replace(/]$/,"")},Tt=function(t){return o(t,"Arguments")},Dt=function(t){return o(t,"Boolean")},jt=function(t){return o(t,"Date")},It=function(t){return o(t,"Error")},Bt=function(t){return it(t)&&isFinite(t)},Et=function(t){return null===t},Ft=Object.prototype,Rt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ft)},Nt=function(t){return o(t,"RegExp")},zt=function(t){return void 0===t},Yt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Ht(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Gt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Wt(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}function Xt(t,e,i,n){return e&&Wt(t,e),i&&Wt(t,i),n&&Wt(t,n),t}var Vt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t[0],n=1;n<t.length;n++){var r=t[n];f(r)&&(r=r.prototype),Xt(i.prototype,r)}};function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ut=function t(e){if("object"!==qt(e)||null===e)return e;var i;if(a(e)){i=[];for(var n=0,r=e.length;n<r;n++)"object"===qt(e[n])&&null!=e[n]?i[n]=t(e[n]):i[n]=e[n]}else for(var o in i={},e)"object"===qt(e[o])&&null!=e[o]?i[o]=t(e[o]):i[o]=e[o];return i},Zt=function(n,r,o){var a;return function(){var t=this,e=arguments,i=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||n.apply(t,e)},r),i&&n.apply(t,e)}},Qt=function(o,a){if(!f(o))throw new TypeError("Expected a function");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=a?a.apply(this,t):t[0],n=s.cache;if(n.has(i))return n.get(i);var r=o.apply(this,t);return n.set(i,r),r}return s.cache=new Map,s};function $t(t,e,i,n){for(var r in i=i||0,n=n||5,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&x(o)?(x(t[r])||(t[r]={}),i<n?$t(t[r],o,i+1,n):t[r]=e[r]):a(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}function Kt(t){return t}var Jt=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n+=1)$t(t,e[n]);return t},te=function(t,e,i,n){f(e)||(i=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function i(){}i.prototype=t;var n=new i;return n.constructor=e,n},o=r(e.prototype,t);return t.prototype=Xt(o,t.prototype),t.superclass=r(e.prototype,e),Xt(o,i),Xt(t,n),t},ee=function(t,e){if(!s(t))return-1;var i=Array.prototype.indexOf;if(i)return i.call(t,e);for(var n=-1,r=0;r<t.length;r++)if(t[r]===e){n=r;break}return n},ie=Object.prototype.hasOwnProperty,ne=function(t){if(d(t))return!0;if(s(t))return!t.length;var e=Lt(t);if("Map"===e||"Set"===e)return!t.size;if(Rt(t))return!Object.keys(t).length;for(var i in t)if(ie.call(t,i))return!1;return!0},re=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(I(e)||I(i))return!1;if(s(e)||s(i)){if(e.length!==i.length)return!1;for(var n=!0,r=0;r<e.length&&(n=t(e[r],i[r]));r++);return n}if(m(e)||m(i)){var o=Object.keys(e),a=Object.keys(i);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=t(e[o[r]],i[o[r]]));r++);return n}return!1},oe=function(t,e,i){return f(i)?!!i(t,e):re(t,e)},ae=function(t,i){if(!s(t))return t;var n=[];return c(t,function(t,e){n.push(i(t,e))}),n},se=function(e,i){void 0===i&&(i=Kt);var n={};return u(e)&&!d(e)&&Object.keys(e).forEach(function(t){n[t]=i(e[t],t)}),n},le=function(t,e,i){for(var n=0,r=I(e)?e.split("."):e;t&&n<r.length;)t=t[r[n++]];return void 0===t||n<r.length?i:t},ue=function(t,e,i){var n=t,r=I(e)?e.split("."):e;return r.forEach(function(t,e){e<r.length-1?(u(n[t])||(n[t]=it(r[e+1])?[]:{}),n=n[t]):n[t]=i}),t},ce=Object.prototype.hasOwnProperty,he=function(e,t){if(null===e||!x(e))return{};var i={};return c(t,function(t){ce.call(e,t)&&(i[t]=e[t])}),i},pe=function(i,n,r){var o,a,s,l,u=0;r=r||{};function c(){u=!1===r.leading?0:Date.now(),o=null,l=i.apply(a,s),o||(a=s=null)}function t(){var t=Date.now();u||!1!==r.leading||(u=t);var e=n-(t-u);return a=this,s=arguments,e<=0||n<e?(o&&(clearTimeout(o),o=null),u=t,l=i.apply(a,s),o||(a=s=null)):o||!1===r.trailing||(o=setTimeout(c,e)),l}return t.cancel=function(){clearTimeout(o),u=0,o=a=s=null},t},fe=function(t){return s(t)?Array.prototype.slice.call(t):[]},de={},ge=function(t){return de[t=t||"g"]?de[t]+=1:de[t]=1,t+de[t]},ve=function(){},ye=function(t){return t};function me(t){return d(t)?0:s(t)?t.length:Object.keys(t).length}var xe=(be.prototype.has=function(t){return void 0!==this.map[t]},be.prototype.get=function(t,e){var i=this.map[t];return void 0===i?e:i},be.prototype.set=function(t,e){this.map[t]=e},be.prototype.clear=function(){this.map={}},be.prototype.delete=function(t){delete this.map[t]},be.prototype.size=function(){return Object.keys(this.map).length},be);function be(){this.map={}}},function(t,e,i){"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(e),i.d(e,"__extends",function(){return r}),i.d(e,"__assign",function(){return o}),i.d(e,"__rest",function(){return a}),i.d(e,"__decorate",function(){return s}),i.d(e,"__param",function(){return u}),i.d(e,"__metadata",function(){return c}),i.d(e,"__awaiter",function(){return h}),i.d(e,"__generator",function(){return p}),i.d(e,"__exportStar",function(){return f}),i.d(e,"__values",function(){return d}),i.d(e,"__read",function(){return g}),i.d(e,"__spread",function(){return v}),i.d(e,"__spreadArrays",function(){return y}),i.d(e,"__await",function(){return m}),i.d(e,"__asyncGenerator",function(){return x}),i.d(e,"__asyncDelegator",function(){return b}),i.d(e,"__asyncValues",function(){return _}),i.d(e,"__makeTemplateObject",function(){return M}),i.d(e,"__importStar",function(){return w}),i.d(e,"__importDefault",function(){return S}),i.d(e,"__classPrivateFieldGet",function(){return C}),i.d(e,"__classPrivateFieldSet",function(){return O});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}function s(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(o<3?r(a):3<o?r(e,i,a):r(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a}function u(i,n){return function(t,e){n(t,e,i)}}function c(t,e){if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,a,s,l){return new(s=s||Promise)(function(i,e){function n(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?i(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,r)}o((l=l.apply(t,a||[])).next())})}function p(i,n){var r,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==e[0]&&2!==e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(i,s)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function f(t,e){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)a.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function x(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=i.apply(t,e||[]),a=[];return r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r;function n(n){o[n]&&(r[n]=function(i){return new Promise(function(t,e){1<a.push([n,i,t,e])||s(n,i)})})}function s(t,e){try{(i=o[t](e)).value instanceof m?Promise.resolve(i.value.v).then(l,u):c(a[0][2],i)}catch(t){c(a[0][3],t)}var i}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(n){var t,r;return t={},e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,i){t[e]=n[e]?function(t){return(r=!r)?{value:m(n[e](t)),done:"return"===e}:i?i(t):t}:i}}function _(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=l[Symbol.asyncIterator];return e?e.call(l):(l=d(l),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=l[s]&&function(a){return new Promise(function(t,e){var i,n,r,o;i=t,n=e,r=(a=l[s](a)).done,o=a.value,Promise.resolve(o).then(function(t){i({value:t,done:r})},n)})}}}function M(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function O(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}},function(t,o,e){(function(t){var e,i,n,r;function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,r=function(){return n={},r.m=i=[function(t,e,i){var n;n=function(){return r={},n.m=i=[function(t,e,i){var o=i(16),a=i(1);t.exports=function(t,e){if(t)if(a(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(o(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break}},function(t,e,i){var n=i(2),r=Array.isArray?Array.isArray:function(t){return n(t,"Array")};t.exports=r},function(t,e){var i={}.toString;t.exports=function(t,e){return i.call(t)==="[object "+e+"]"}},function(t,e,i){var n=i(2);t.exports=function(t){return n(t,"Function")}},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e){t.exports=function(t){return null==t}},function(t,e,i){var n=i(2);t.exports=function(t){return n(t,"Number")}},function(t,e,i){var n=i(13),r=i(2);t.exports=function(t){if(!n(t)||!r(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,i){var n=i(5);t.exports=function(t){return n(t)?"":t.toString()}},function(t,e,i){var n=i(4),r=Array.prototype.indexOf;t.exports=function(t,e){return!!n(t)&&-1<r.call(t,e)}},function(t,e,i){var n=i(2);t.exports=function(t){return n(t,"String")}},function(t,e){function r(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}t.exports=function(t,e,i,n){return e&&r(t,e),i&&r(t,i),n&&r(t,n),t}},function(t,e,i){var r=i(0),o=i(4);t.exports=function(t,i){if(!o(t))return t;var n=[];return r(t,function(t,e){i(t,e)&&n.push(t)}),n}},function(t,e){var i="function"==typeof Symbol&&"symbol"==Wt(Symbol.iterator)?function(t){return Wt(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Wt(t)};t.exports=function(t){return"object"===(void 0===t?"undefined":i(t))&&null!==t}},function(t,e,i){var n=i(4);t.exports=function(t){return n(t)?Array.prototype.slice.call(t):[]}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*n},e.equals=function(t,e){return Math.abs(t-e)<=i*Math.max(1,Math.abs(t),Math.abs(e))};var i=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var n=Math.PI/180},function(t,e){var i="function"==typeof Symbol&&"symbol"==Wt(Symbol.iterator)?function(t){return Wt(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Wt(t)};t.exports=function(t){var e=void 0===t?"undefined":i(t);return null!==t&&"object"===e||"function"===e}},function(t,e,i){var a=i(18),s=i(5);t.exports=function(t,e){var i=a(e),n=i.length;if(s(t))return!n;for(var r=0;r<n;r+=1){var o=i[r];if(e[o]!==t[o]||!(o in t))return!1}return!0}},function(t,e,i){var r=i(0),o=i(3),n=Object.keys?function(t){return Object.keys(t)}:function(i){var n=[];return r(i,function(t,e){o(i)&&"prototype"===e||n.push(e)}),n};t.exports=n},function(t,e,i){var a=i(4),s=Array.prototype.splice;t.exports=function(t,e){if(!a(t))return[];for(var i=t?e.length:0,n=i-1;i--;){var r=void 0,o=e[i];i!==n&&o===r||(r=o,s.call(t,o,1))}return t}},function(t,e,i){var n=i(0),r=i(9);t.exports=function(t){var e=[];return n(t,function(t){r(e,t)||e.push(t)}),e}},function(t,e){t.exports=function(t,e,i){return t<e?e:i<t?i:t}},function(t,e){t.exports=parseInt},function(t,e,i){var r=i(89);r.translate=function(t,e,i){var n=new Array(9);return r.fromTranslation(n,i),r.multiply(t,n,e)},r.rotate=function(t,e,i){var n=new Array(9);return r.fromRotation(n,i),r.multiply(t,n,e)},r.scale=function(t,e,i){var n=new Array(9);return r.fromScaling(n,i),r.multiply(t,n,e)},t.exports=r},function(t,e,i){var a="function"==typeof Symbol&&"symbol"==Wt(Symbol.iterator)?function(t){return Wt(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Wt(t)},s=i(1);t.exports=function t(e){if("object"!==(void 0===e?"undefined":a(e))||null===e)return e;var i=void 0;if(s(e)){i=[];for(var n=0,r=e.length;n<r;n++)"object"===a(e[n])&&null!=e[n]?i[n]=t(e[n]):i[n]=e[n]}else for(var o in i={},e)"object"===a(e[o])&&null!=e[o]?i[o]=t(e[o]):i[o]=e[o];return i}},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,i){var r=i(0),o=i(3),n=Object.values?function(t){return Object.values(t)}:function(i){var n=[];return r(i,function(t,e){o(i)&&"prototype"===e||n.push(t)}),n};t.exports=n},function(t,e,i){var a=i(28);t.exports=function(t,e,i,n,r){if(r)return[["M",+t+ +r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]];return o.parsePathArray=a,o}},function(t,e){var i=/,?([a-z]),?/gi;t.exports=function(t){return t.join(",").replace(i,"$1")}},function(t,e,i){function G(t,e,i,n,r,o,a,s,l,u){function c(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}}i===n&&(i+=1);var h=120*Math.PI/180,p=Math.PI/180*(+r||0),f=[],d=void 0,g=void 0,v=void 0,y=void 0,m=void 0;if(u)g=u[0],v=u[1],y=u[2],m=u[3];else{t=(d=c(t,e,-p)).x,e=d.y,s=(d=c(s,l,-p)).x,l=d.y,t===s&&e===l&&(s+=1,l+=1);var x=(t-s)/2,b=(e-l)/2,_=x*x/(i*i)+b*b/(n*n);1<_&&(i*=_=Math.sqrt(_),n*=_);var M=i*i,w=n*n,S=(o===a?-1:1)*Math.sqrt(Math.abs((M*w-M*b*b-w*x*x)/(M*b*b+w*x*x)));y=S*i*b/n+(t+s)/2,m=S*-n*x/i+(e+l)/2,g=Math.asin(((e-m)/n).toFixed(9)),v=Math.asin(((l-m)/n).toFixed(9)),g=t<y?Math.PI-g:g,v=s<y?Math.PI-v:v,g<0&&(g=2*Math.PI+g),v<0&&(v=2*Math.PI+v),a&&v<g&&(g-=2*Math.PI),!a&&g<v&&(v-=2*Math.PI)}var C=v-g;if(Math.abs(C)>h){var O=v,k=s,P=l;v=g+h*(a&&g<v?1:-1),f=G(s=y+i*Math.cos(v),l=m+n*Math.sin(v),i,n,r,0,a,k,P,[v,O,y,m])}C=v-g;var A=Math.cos(g),L=Math.sin(g),T=Math.cos(v),D=Math.sin(v),j=Math.tan(C/4),I=4/3*i*j,B=4/3*n*j,E=[t,e],F=[t+I*L,e-B*A],R=[s+I*D,l-B*T],N=[s,l];if(F[0]=2*E[0]-F[0],F[1]=2*E[1]-F[1],u)return[F,R,N].concat(f);for(var z=[],Y=0,H=(f=[F,R,N].concat(f).join().split(",")).length;Y<H;Y++)z[Y]=Y%2?c(f[Y-1],f[Y],p).y:c(f[Y],f[Y+1],p).x;return z}function x(t,e,i,n){return[t,e,i,n,i,n]}function b(t,e,i,n,r,o){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*o+2/3*n,r,o]}var _=i(30);t.exports=function(t,e){function i(t,e,i){var n=void 0,r=void 0;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(G.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":r="C"===i||"S"===i?(n=2*e.x-e.bx,2*e.y-e.by):(n=e.x,e.y),t=["C",n,r].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(b(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(b(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(x(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(x(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(x(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(x(e.x,e.y,e.X,e.Y))}return t}function n(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)u[e]="A",a&&(c[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),f=Math.max(o.length,a&&a.length||0)}}function r(t,e,i,n,r){t&&e&&"M"===t[r][0]&&"M"!==e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],f=Math.max(o.length,a&&a.length||0))}var o=_(t),a=e&&_(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],c=[],h="",p="",f=void 0;f=Math.max(o.length,a&&a.length||0);for(var d=0;d<f;d++){o[d]&&(h=o[d][0]),"C"!==h&&(u[d]=h,d&&(p=u[d-1])),o[d]=i(o[d],s,p),"A"!==u[d]&&"C"===h&&(u[d]="C"),n(o,d),a&&(a[d]&&(h=a[d][0]),"C"!==h&&(c[d]=h,d&&(p=c[d-1])),a[d]=i(a[d],l,p),"A"!==c[d]&&"C"===h&&(c[d]="C"),n(a,d)),r(o,a,s,l,d),r(a,o,l,s,d);var g=o[d],v=a&&a[d],y=g.length,m=a&&v.length;s.x=g[y-2],s.y=g[y-1],s.bx=parseFloat(g[y-4])||s.x,s.by=parseFloat(g[y-3])||s.y,l.bx=a&&(parseFloat(v[m-4])||l.x),l.by=a&&(parseFloat(v[m-3])||l.y),l.x=a&&v[m-2],l.y=a&&v[m-1]}return a?[o,a]:o}},function(t,e,i){var b=i(31),_=i(32);function M(t,e,i,n,r){var o=[];if(null===r&&null===n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!==r){var a=Math.PI/180,s=t+i*Math.cos(-n*a),l=t+i*Math.cos(-r*a);o=[["M",s,e+i*Math.sin(-n*a)],["A",i,i,0,+(180<r-n),0,l,e+i*Math.sin(-r*a)]]}else o=[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]];return o}t.exports=function(t){if(!(t=b(t))||!t.length)return[["M",0,0]];var e=[],i=0,n=0,r=0,o=0,a=0,s=void 0,l=void 0;"M"===t[0][0]&&(r=i=+t[0][1],o=n=+t[0][2],a++,e[0]=["M",i,n]);for(var u,c,h=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),p=a,f=t.length;p<f;p++){if(e.push(u=[]),(s=(c=t[p])[0])!==s.toUpperCase())switch(u[0]=s.toUpperCase(),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+c[6]+i,u[7]=+c[7]+n;break;case"V":u[1]=+c[1]+n;break;case"H":u[1]=+c[1]+i;break;case"R":for(var d=2,g=(l=[i,n].concat(c.slice(1))).length;d<g;d++)l[d]=+l[d]+i,l[++d]=+l[d]+n;e.pop(),e=e.concat(_(l,h));break;case"O":e.pop(),(l=M(i,n,c[1],c[2])).push(l[0]),e=e.concat(l);break;case"U":e.pop(),e=e.concat(M(i,n,c[1],c[2],c[3])),u=["U"].concat(e[e.length-1].slice(-2));break;case"M":r=+c[1]+i,o=+c[2]+n;break;default:for(var v=1,y=c.length;v<y;v++)u[v]=+c[v]+(v%2?i:n)}else if("R"===s)l=[i,n].concat(c.slice(1)),e.pop(),e=e.concat(_(l,h)),u=["R"].concat(c.slice(-2));else if("O"===s)e.pop(),(l=M(i,n,c[1],c[2])).push(l[0]),e=e.concat(l);else if("U"===s)e.pop(),e=e.concat(M(i,n,c[1],c[2],c[3])),u=["U"].concat(e[e.length-1].slice(-2));else for(var m=0,x=c.length;m<x;m++)u[m]=c[m];if("O"!==(s=s.toUpperCase()))switch(u[0]){case"Z":i=+r,n=+o;break;case"H":i=u[1];break;case"V":n=u[1];break;case"M":r=u[u.length-2],o=u[u.length-1];break;default:i=u[u.length-2],n=u[u.length-1]}}return e}},function(t,e){var i="function"==typeof Symbol&&"symbol"==Wt(Symbol.iterator)?function(t){return Wt(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Wt(t)},n="\t\n\v\f\r   ᠎             　\u2028\u2029",r=new RegExp("([a-z])["+n+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+n+"]*,?["+n+"]*)+)","ig"),s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+n+"]*,?["+n+"]*","ig");t.exports=function(t){if(!t)return null;if((void 0===t?"undefined":i(t))===i([]))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(r,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(s,function(t,e){e&&n.push(+e)}),"m"===r&&2<n.length&&(a.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===n.length&&a.push([e,n[0]]),"r"===r)a.push([e].concat(n));else for(;n.length>=o[r]&&(a.push([e].concat(n.splice(0,o[r]))),o[r]););}),a}},function(t,e){t.exports=function(t,e){for(var i=[],n=0,r=t.length;n<r-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4===n?o[3]={x:+t[0],y:+t[1]}:r-2===n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}},function(t,e,i){var n=i(8);t.exports=function(t){return n(t).toLowerCase()}},function(t,e,i){var n=i(8);t.exports=function(t){return n(t).toUpperCase()}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e){var i=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},function(t,e,i){var n=i(3),o=i(1),a=i(38);t.exports=function(t,e){if(!e)return{0:t};if(!n(e)){var r=o(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",i=0,n=r.length;i<n;i++)e+=t[r[i]]&&t[r[i]].toString();return e}}return a(t,e)}},function(t,e,i){var r=i(0),o=i(1),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(!e||!o(t))return t;var i={},n=null;return r(t,function(t){n=e(t),a.call(i,n)?i[n].push(t):i[n]=[t]}),i}},function(t,e,i){var u=i(13),c=i(4),h=i(10);t.exports=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(h(e)||h(i))return!1;if(c(e)||c(i)){if(e.length!==i.length)return!1;for(var n=!0,r=0;r<e.length&&(n=t(e[r],i[r]));r++);return n}if(u(e)||u(i)){var o=Object.keys(e),a=Object.keys(i);if(o.length!==a.length)return!1;for(var s=!0,l=0;l<o.length&&(s=t(e[o[l]],i[o[l]]));l++);return s}return!1}},function(t,e,i){var n=i(0),r=i(11),o=i(41),a=i(53),s=i(67),l=i(70),u=i(74),c=i(88),h=i(95),p=i(99),f=i(105),d=i(111),g={DOMUtil:o,DomUtil:o,MatrixUtil:c,PathUtil:p,arrayUtil:a,domUtil:o,eventUtil:s,formatUtil:l,mathUtil:u,matrixUtil:c,objectUtil:h,stringUtil:f,pathUtil:p,typeUtil:d,augment:i(119),clone:i(24),debounce:i(120),deepMix:i(121),each:n,extend:i(122),filter:i(12),group:i(123),groupBy:i(38),groupToMap:i(37),indexOf:i(124),isEmpty:i(125),isEqual:i(39),isEqualWith:i(126),map:i(127),mix:r,pick:i(128),throttle:i(129),toArray:i(14),toString:i(8),uniqueId:i(130)};n([o,a,s,l,u,c,h,p,f,d],function(t){r(g,t)}),t.exports=g},function(t,e,i){t.exports={addEventListener:i(42),createDom:i(43),getBoundingClientRect:i(44),getHeight:i(45),getOuterHeight:i(46),getOuterWidth:i(47),getRatio:i(48),getStyle:i(49),getWidth:i(50),modifyCSS:i(51),requestAnimationFrame:i(52)}},function(t,e){t.exports=function(t,e,i){if(t){if(t.addEventListener)return t.addEventListener(e,i,!1),{remove:function(){t.removeEventListener(e,i,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,i),{remove:function(){t.detachEvent("on"+e,i)}}}}},function(t,e){var i=document.createElement("table"),n=document.createElement("tr"),r=/^\s*<(\w+|!)[^>]*>/,o={tr:document.createElement("tbody"),tbody:i,thead:i,tfoot:i,td:n,th:n,"*":document.createElement("div")};t.exports=function(t){var e=r.test(t)&&RegExp.$1;e in o||(e="*");var i=o[e];t=t.replace(/(^\s*)|(\s*$)/g,""),i.innerHTML=""+t;var n=i.childNodes[0];return i.removeChild(n),n}},function(t,e){t.exports=function(t,e){if(t&&t.getBoundingClientRect){var i=t.getBoundingClientRect(),n=document.documentElement.clientTop,r=document.documentElement.clientLeft;return{top:i.top-n,bottom:i.bottom-n,left:i.left-r,right:i.right-r}}return e||null}},function(t,e){t.exports=function(t,e){var i=this.getStyle(t,"height",e);return"auto"===i&&(i=t.offsetHeight),parseFloat(i)}},function(t,e){t.exports=function(t,e){var i=this.getHeight(t,e),n=parseFloat(this.getStyle(t,"borderTopWidth"))||0,r=parseFloat(this.getStyle(t,"paddingTop"))||0,o=parseFloat(this.getStyle(t,"paddingBottom"))||0;return i+n+(parseFloat(this.getStyle(t,"borderBottomWidth"))||0)+r+o}},function(t,e){t.exports=function(t,e){var i=this.getWidth(t,e),n=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,r=parseFloat(this.getStyle(t,"paddingLeft"))||0,o=parseFloat(this.getStyle(t,"paddingRight"))||0;return i+n+(parseFloat(this.getStyle(t,"borderRightWidth"))||0)+r+o}},function(t,e){t.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e,i){var n=i(5);t.exports=function(t,e,i){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return n(i)?null:i}}},function(t,e){t.exports=function(t,e){var i=this.getStyle(t,"width",e);return"auto"===i&&(i=t.offsetWidth),parseFloat(i)}},function(t,e){t.exports=function(t,e){if(t)for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);return t}},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,i){t.exports={contains:i(9),difference:i(54),find:i(55),firstValue:i(56),flatten:i(57),flattenDeep:i(58),getRange:i(59),merge:i(60),pull:i(61),pullAt:i(19),reduce:i(62),remove:i(63),sortBy:i(64),union:i(65),uniq:i(20),valuesOfKey:i(66)}},function(t,e,i){var n=i(12),r=i(9);t.exports=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return n(t,function(t){return!r(e,t)})}},function(t,e,i){var r=i(3),o=i(7),a=i(17);t.exports=function(t,e){var i=void 0;if(r(e)&&(i=e),o(e)&&(i=function(t){return a(t,e)}),i)for(var n=0;n<t.length;n+=1)if(i(t[n]))return t[n];return null}},function(t,e,i){var o=i(5),a=i(1);t.exports=function(t,e){for(var i=null,n=0;n<t.length;n++){var r=t[n][e];if(!o(r)){i=a(r)?r[0]:r;break}}return i}},function(t,e,i){var n=i(1),r=i(0);t.exports=function(t){if(!n(t))return t;var e=[];return r(t,function(t){n(t)?r(t,function(t){e.push(t)}):e.push(t)}),e}},function(t,e,i){var o=i(1);t.exports=function t(e,i){var n=1<arguments.length&&void 0!==i?i:[];if(o(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n}},function(t,e,i){var r=i(12),o=i(1);t.exports=function(t){if(!(t=r(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(o(t[0])){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);t=e}var n=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:n}}},function(t,e){t.exports=function(t){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e}},function(t,e){var i=Array.prototype,o=i.splice,a=i.indexOf,s=i.slice;t.exports=function(t){for(var e=s.call(arguments,1),i=0;i<e.length;i++)for(var n=e[i],r=-1;-1<(r=a.call(t,n));)o.call(t,r,1);return t}},function(t,e,i){var r=i(1),o=i(7),a=i(0);t.exports=function(t,i,e){if(!r(t)&&!o(t))return t;var n=e;return a(t,function(t,e){n=i(n,t,e)}),n}},function(t,e,i){var s=i(4),l=i(19);t.exports=function(t,e){var i=[];if(!s(t))return i;for(var n=-1,r=[],o=t.length;++n<o;){var a=t[n];e(a,n,t)&&(i.push(a),r.push(n))}return l(t,r),i}},function(t,e,i){var n=i(10),o=i(3),a=i(1);t.exports=function(t,i){var e=void 0;if(o(i))e=function(t,e){return i(t)-i(e)};else{var r=[];n(i)?r.push(i):a(i)&&(r=i),e=function(t,e){for(var i=0;i<r.length;i+=1){var n=r[i];if(t[n]>e[n])return 1;if(t[n]<e[n])return-1}return 0}}return t.sort(e),t}},function(t,e,i){var n=i(0),r=i(14),o=i(20);t.exports=function(){var e=[],t=r(arguments);return n(t,function(t){e=e.concat(t)}),o(e)}},function(t,e,i){var a=i(5),s=i(1),l=i(0);t.exports=function(t,e){for(var i=[],n={},r=0;r<t.length;r++){var o=t[r][e];a(o)||(s(o)||(o=[o]),l(o,function(t){n[t]||(i.push(t),n[t]=!0)}))}return i}},function(t,e,i){t.exports={getWrapBehavior:i(68),wrapBehavior:i(69)}},function(t,e){t.exports=function(t,e){return t["_wrap_"+e]}},function(t,e){t.exports=function(e,i){if(e["_wrap_"+i])return e["_wrap_"+i];function t(t){e[i](t)}return e["_wrap_"+i]=t}},function(t,e,i){var n=i(71);t.exports={number2color:n,numberToColor:n,parsePath:i(72),parseRadius:i(73)}},function(t,e){var r={};t.exports=function(t){var e=r[t];if(!e){for(var i=t.toString(16),n=i.length;n<6;n++)i="0"+i;e="#"+i,r[t]=e}return e}},function(t,e,i){var r=i(1),o=i(10),a=i(0),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,l=/[^\s\,]+/gi;t.exports=function(n){return r(n=n||[])?n:o(n)?(n=n.match(s),a(n,function(i,t){if(1<(i=i.match(l))[0].length){var e=i[0].charAt(0);i.splice(1,0,i[0].substr(1)),i[0]=e}a(i,function(t,e){isNaN(t)||(i[e]=+t)}),n[t]=i}),n):void 0}},function(t,e,i){var o=i(1);t.exports=function(t){var e=0,i=0,n=0,r=0;return o(t)?1===t.length?e=i=n=r=t[0]:2===t.length?(e=n=t[0],i=r=t[1]):3===t.length?(e=t[0],i=r=t[1],n=t[2]):(e=t[0],i=t[1],n=t[2],r=t[3]):e=i=n=r=t,{r1:e,r2:i,r3:n,r4:r}}},function(t,e,i){var n=i(75);t.exports={clamp:i(21),fixedBase:i(76),isDecimal:i(77),isEven:i(78),isInteger:i(79),isNegative:i(80),isNumberEqual:n,isOdd:i(81),isPositive:i(82),maxBy:i(83),minBy:i(84),mod:i(85),snapEqual:n,toDegree:i(86),toInt:i(22),toInteger:i(22),toRadian:i(87)}},function(t,e){t.exports=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(t-e)<i}},function(t,e){t.exports=function(t,e){var i=e.toString(),n=i.indexOf(".");if(-1===n)return Math.round(t);var r=i.substr(n+1).length;return 20<r&&(r=20),parseFloat(t.toFixed(r))}},function(t,e,i){var n=i(6);t.exports=function(t){return n(t)&&t%1!=0}},function(t,e,i){var n=i(6);t.exports=function(t){return n(t)&&t%2==0}},function(t,e,i){var n=i(6),r=Number.isInteger?Number.isInteger:function(t){return n(t)&&t%1==0};t.exports=r},function(t,e,i){var n=i(6);t.exports=function(t){return n(t)&&t<0}},function(t,e,i){var n=i(6);t.exports=function(t){return n(t)&&t%2!=0}},function(t,e,i){var n=i(6);t.exports=function(t){return n(t)&&0<t}},function(t,e,i){var o=i(1),a=i(3),s=i(0);t.exports=function(t,e){if(o(t)){var i=t[0],n=void 0;n=a(e)?e(t[0]):t[0][e];var r=void 0;return s(t,function(t){(r=a(e)?e(t):t[e])>n&&(i=t,n=r)}),i}}},function(t,e,i){var o=i(1),a=i(3),s=i(0);t.exports=function(t,e){if(o(t)){var i=t[0],n=void 0;n=a(e)?e(t[0]):t[0][e];var r=void 0;return s(t,function(t){(r=a(e)?e(t):t[e])<n&&(i=t,n=r)}),i}}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){var i=180/Math.PI;t.exports=function(t){return i*t}},function(t,e){var i=Math.PI/180;t.exports=function(t){return i*t}},function(t,e,i){t.exports={mat3:i(23),vec2:i(90),vec3:i(92),transform:i(94)}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new b.ARRAY_TYPE(9);return b.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new b.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,i,n,r,o,a,s,l){var u=new b.ARRAY_TYPE(9);return u[0]=t,u[1]=e,u[2]=i,u[3]=n,u[4]=r,u[5]=o,u[6]=a,u[7]=s,u[8]=l,u},e.set=function(t,e,i,n,r,o,a,s,l,u){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,p=-c*o+s*l,f=u*o-a*l,d=i*h+n*p+r*f;return d?(d=1/d,t[0]=h*d,t[1]=(-c*n+r*u)*d,t[2]=(s*n-r*a)*d,t[3]=p*d,t[4]=(c*i-r*l)*d,t[5]=(-s*i+r*o)*d,t[6]=f*d,t[7]=(-u*i+n*l)*d,t[8]=(a*i-n*o)*d,t):null},e.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=r*u-n*c,t[2]=n*s-r*a,t[3]=s*l-o*c,t[4]=i*c-r*l,t[5]=r*o-i*s,t[6]=o*u-a*l,t[7]=n*l-i*u,t[8]=i*a-n*o,t},e.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*o-a*l)+i*(-u*r+a*s)+n*(l*r-o*s)},e.multiply=n,e.translate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=i[0],f=i[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=p*n+f*a+u,t[7]=p*r+f*s+c,t[8]=p*o+f*l+h,t},e.rotate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=Math.sin(i),f=Math.cos(i);return t[0]=f*n+p*a,t[1]=f*r+p*s,t[2]=f*o+p*l,t[3]=f*a-p*n,t[4]=f*s-p*r,t[5]=f*l-p*o,t[6]=u,t[7]=c,t[8]=h,t},e.scale=function(t,e,i){var n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i+i,s=n+n,l=r+r,u=i*a,c=n*a,h=n*s,p=r*a,f=r*s,d=r*l,g=o*a,v=o*s,y=o*l;return t[0]=1-h-d,t[3]=c-y,t[6]=p+v,t[1]=c+y,t[4]=1-u-d,t[7]=f-g,t[2]=p-v,t[5]=f+g,t[8]=1-u-h,t},e.normalFromMat4=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],g=e[13],v=e[14],y=e[15],m=i*s-n*a,x=i*l-r*a,b=i*u-o*a,_=n*l-r*s,M=n*u-o*s,w=r*u-o*l,S=c*g-h*d,C=c*v-p*d,O=c*y-f*d,k=h*v-p*g,P=h*y-f*g,A=p*y-f*v,L=m*A-x*P+b*k+_*O-M*C+w*S;return L?(L=1/L,t[0]=(s*A-l*P+u*k)*L,t[1]=(l*O-a*A-u*C)*L,t[2]=(a*P-s*O+u*S)*L,t[3]=(r*P-n*A-o*k)*L,t[4]=(i*A-r*O+o*C)*L,t[5]=(n*O-i*P-o*S)*L,t[6]=(g*w-v*M+y*_)*L,t[7]=(v*b-d*w-y*x)*L,t[8]=(d*M-g*b+y*m)*L,t):null},e.projection=function(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t},e.subtract=r,e.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t},e.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=e[0],p=e[1],f=e[2],d=e[3],g=e[4],v=e[5],y=e[6],m=e[7],x=e[8];return Math.abs(i-h)<=b.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-p)<=b.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(r-f)<=b.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-d)<=b.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-g)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=b.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-y)<=b.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(u-m)<=b.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-x)<=b.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))};var b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(15));function n(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=i[0],f=i[1],d=i[2],g=i[3],v=i[4],y=i[5],m=i[6],x=i[7],b=i[8];return t[0]=p*n+f*a+d*u,t[1]=p*r+f*s+d*c,t[2]=p*o+f*l+d*h,t[3]=g*n+v*a+y*u,t[4]=g*r+v*s+y*c,t[5]=g*o+v*l+y*h,t[6]=m*n+x*a+b*u,t[7]=m*r+x*s+b*c,t[8]=m*o+x*l+b*h,t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}e.mul=n,e.sub=r},function(t,e,i){var o=i(91),n=i(21);o.angle=function(t,e){var i=o.dot(t,e)/(o.length(t)*o.length(e));return Math.acos(n(i,-1,1))},o.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},o.angleTo=function(t,e,i){var n=o.angle(t,e),r=0<=o.direction(t,e);return i?r?2*Math.PI-n:n:r?n:2*Math.PI-n},o.vertical=function(t,e,i){return i?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=n,e.clone=function(t){var e=new a.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var i=new a.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,i){return t[0]=e,t[1]=i,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},e.subtract=r,e.multiply=o,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},e.distance=u,e.squaredDistance=c,e.length=h,e.squaredLength=p,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var i=e[0],n=e[1],r=i*i+n*n;return 0<r&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,i,n){var r=e[0],o=e[1];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t},e.random=function(t,e){e=e||1;var i=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},e.transformMat2=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t},e.transformMat2d=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t},e.transformMat3=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t},e.transformMat4=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t},e.rotate=function(t,e,i,n){var r=e[0]-i[0],o=e[1]-i[1],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*a+i[0],t[1]=r*a+o*s+i[1],t},e.angle=function(t,e){var i=t[0],n=t[1],r=e[0],o=e[1],a=i*i+n*n;0<a&&(a=1/Math.sqrt(a));var s=r*r+o*o;0<s&&(s=1/Math.sqrt(s));var l=(i*r+n*o)*a*s;return 1<l?0:l<-1?Math.PI:Math.acos(l)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var i=t[0],n=t[1],r=e[0],o=e[1];return Math.abs(i-r)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-o)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))};var l,a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(15));function n(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function o(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function s(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function u(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}function c(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function h(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function p(t){var e=t[0],i=t[1];return e*e+i*i}e.len=h,e.sub=r,e.mul=o,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=p,e.forEach=(l=n(),function(t,e,i,n,r,o){var a,s=void 0;for(e=e||2,i=i||0,a=n?Math.min(n*e+i,t.length):t.length,s=i;s<a;s+=e)l[0]=t[s],l[1]=t[s+1],r(l,l,o),t[s]=l[0],t[s+1]=l[1];return t})},function(t,e,i){var n=i(93);t.exports=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=function(t){var e=new u.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=r,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},e.subtract=a,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},e.distance=h,e.squaredDistance=p,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=g,e.cross=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],l=i[2];return t[0]=r*l-o*s,t[1]=o*a-n*l,t[2]=n*s-r*a,t},e.lerp=function(t,e,i,n){var r=e[0],o=e[1],a=e[2];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t[2]=a+n*(i[2]-a),t},e.hermite=function(t,e,i,n,r,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+i[0]*l+n[0]*u+r[0]*c,t[1]=e[1]*s+i[1]*l+n[1]*u+r[1]*c,t[2]=e[2]*s+i[2]*l+n[2]*u+r[2]*c,t},e.bezier=function(t,e,i,n,r,o){var a=1-o,s=a*a,l=o*o,u=s*a,c=3*o*s,h=3*l*a,p=l*o;return t[0]=e[0]*u+i[0]*c+n[0]*h+r[0]*p,t[1]=e[1]*u+i[1]*c+n[1]*h+r[1]*p,t[2]=e[2]*u+i[2]*c+n[2]*h+r[2]*p,t},e.random=function(t,e){e=e||1;var i=2*u.RANDOM()*Math.PI,n=2*u.RANDOM()-1,r=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*r,t[1]=Math.sin(i)*r,t[2]=n*e,t},e.transformMat4=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[3]*n+i[7]*r+i[11]*o+i[15];return a=a||1,t[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/a,t[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/a,t[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/a,t},e.transformMat3=function(t,e,i){var n=e[0],r=e[1],o=e[2];return t[0]=n*i[0]+r*i[3]+o*i[6],t[1]=n*i[1]+r*i[4]+o*i[7],t[2]=n*i[2]+r*i[5]+o*i[8],t},e.transformQuat=function(t,e,i){var n=i[0],r=i[1],o=i[2],a=i[3],s=e[0],l=e[1],u=e[2],c=r*u-o*l,h=o*s-n*u,p=n*l-r*s,f=r*p-o*h,d=o*c-n*p,g=n*h-r*c,v=2*a;return c*=v,h*=v,p*=v,f*=2,d*=2,g*=2,t[0]=s+c+f,t[1]=l+h+d,t[2]=u+p+g,t},e.rotateX=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0],o[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),o[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},e.rotateY=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),o[1]=r[1],o[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},e.rotateZ=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),o[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),o[2]=r[2],t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},e.angle=function(t,e){var i=o(t[0],t[1],t[2]),n=o(e[0],e[1],e[2]);d(i,i),d(n,n);var r=g(i,n);return 1<r?0:r<-1?Math.PI:Math.acos(r)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var i=t[0],n=t[1],r=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(i-o)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-a)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=u.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))};var l,u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(15));function n(){var t=new u.ARRAY_TYPE(3);return u.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function r(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function o(t,e,i){var n=new u.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=i,n}function a(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function s(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function c(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function h(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}function p(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r}function f(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function d(t,e){var i=e[0],n=e[1],r=e[2],o=i*i+n*n+r*r;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=a,e.mul=s,e.div=c,e.dist=h,e.sqrDist=p,e.len=r,e.sqrLen=f,e.forEach=(l=n(),function(t,e,i,n,r,o){var a,s=void 0;for(e=e||3,i=i||0,a=n?Math.min(n*e+i,t.length):t.length,s=i;s<a;s+=e)l[0]=t[s],l[1]=t[s+1],l[2]=t[s+2],r(l,l,o),t[s]=l[0],t[s+1]=l[1],t[s+2]=l[2];return t})},function(t,e,i){var n=i(24),r=i(0),o=i(23);t.exports=function(e,t){return e=n(e),r(t,function(t){switch(t[0]){case"t":o.translate(e,e,[t[1],t[2]]);break;case"s":o.scale(e,e,[t[1],t[2]]);break;case"r":o.rotate(e,e,t[1]);break;case"m":o.multiply(e,e,t[1]);break;default:return!1}}),e}},function(t,e,i){t.exports={forIn:i(96),has:i(25),hasKey:i(97),hasValue:i(98),keys:i(18),isMatch:i(17),values:i(26)}},function(t,e,i){t.exports=i(0)},function(t,e,i){t.exports=i(25)},function(t,e,i){var n=i(9),r=i(26);t.exports=function(t,e){return n(r(t),e)}},function(t,e,i){var n=i(100),r=i(30),o=i(29),a=i(32);t.exports={catmullRom2Bezier:a,catmullRomToBezier:a,fillPath:i(101),fillPathByDiff:i(102),formatPath:i(104),intersection:n,pathIntersection:n,parsePathArray:i(28),parsePathString:i(31),pathToAbsolute:r,path2absolute:r,pathTocurve:o,path2curve:o,rectPath:i(27)}},function(t,e,i){function m(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function O(t,e,i,n,r,o,a,s,l){null===l&&(l=1);for(var u=(l=1<l?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var d=u*c[f]+u,g=m(d,t,i,r,a),v=m(d,e,n,o,s),y=g*g+v*v;p+=h[f]*Math.sqrt(y)}return u*p}function k(t,e,i,n,r,o,a,s){if(!(Math.max(t,i)<Math.min(r,a)||Math.min(t,i)>Math.max(r,a)||Math.max(e,n)<Math.min(o,s)||Math.min(e,n)>Math.max(o,s))){var l=(t-i)*(o-s)-(e-n)*(r-a);if(l){var u=((t*n-e*i)*(r-a)-(t-i)*(r*s-o*a))/l,c=((t*n-e*i)*(o-s)-(e-n)*(r*s-o*a))/l,h=+u.toFixed(2),p=+c.toFixed(2);if(!(h<+Math.min(t,i).toFixed(2)||h>+Math.max(t,i).toFixed(2)||h<+Math.min(r,a).toFixed(2)||h>+Math.max(r,a).toFixed(2)||p<+Math.min(e,n).toFixed(2)||p>+Math.max(e,n).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:u,y:c}}}}function P(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function A(t,e,i,n){return null===t&&(t=e=i=n=0),null===e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:Math.min(i,n)/2,r2:Math.max(i,n)/2,r0:Math.sqrt(i*i+n*n)/2,path:r(t,e,i,n),vb:[t,e,i,n].join(" ")}}function L(t,e,i,n,r,o,a,s){u(t)||(t=[t,e,i,n,r,o,a,s]);var l=function(t,e,i,n,r,o,a,s){for(var l=[],u=[[],[]],c=void 0,h=void 0,p=void 0,f=void 0,d=0;d<2;++d)if(p=0===d?(h=6*t-12*i+6*r,c=-3*t+9*i-9*r+3*a,3*i-3*t):(h=6*e-12*n+6*o,c=-3*e+9*n-9*o+3*s,3*n-3*e),Math.abs(c)<1e-12){if(Math.abs(h)<1e-12)continue;0<(f=-p/h)&&f<1&&l.push(f)}else{var g=h*h-4*p*c,v=Math.sqrt(g);if(!(g<0)){var y=(-h+v)/(2*c);0<y&&y<1&&l.push(y);var m=(-h-v)/(2*c);0<m&&m<1&&l.push(m)}}for(var x=l.length,b=x,_=void 0;x--;)_=1-(f=l[x]),u[0][x]=_*_*_*t+3*_*_*f*i+3*_*f*f*r+f*f*f*a,u[1][x]=_*_*_*e+3*_*_*f*n+3*_*f*f*o+f*f*f*s;return u[0][b]=t,u[1][b]=e,u[0][b+1]=a,u[1][b+1]=s,u[0].length=u[1].length=b+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}}.apply(null,t);return A(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function T(t,e,i,n,r,o,a,s,l){var u=1-l,c=Math.pow(u,3),h=Math.pow(u,2),p=l*l,f=p*l,d=t+2*l*(i-t)+p*(r-2*i+t),g=e+2*l*(n-e)+p*(o-2*n+e),v=i+2*l*(r-i)+p*(a-2*r+i),y=n+2*l*(o-n)+p*(s-2*o+n);return{x:c*t+3*h*l*i+3*u*l*l*r+f*a,y:c*e+3*h*l*n+3*u*l*l*o+f*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:u*t+l*i,y:u*e+l*n},end:{x:u*r+l*a,y:u*o+l*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}}function M(t,e,i){if(n=L(t),r=L(e),n=A(n),r=A(r),!(P(r,n.x,n.y)||P(r,n.x2,n.y)||P(r,n.x,n.y2)||P(r,n.x2,n.y2)||P(n,r.x,r.y)||P(n,r.x2,r.y)||P(n,r.x,r.y2)||P(n,r.x2,r.y2)||(n.x<r.x2&&n.x>r.x||r.x<n.x2&&r.x>n.x)&&(n.y<r.y2&&n.y>r.y||r.y<n.y2&&r.y>n.y)))return i?0:[];for(var n,r,o=~~(O.apply(0,t)/8),a=~~(O.apply(0,e)/8),s=[],l=[],u={},c=i?0:[],h=0;h<1+o;h++){var p=T.apply(0,t.concat(h/o));s.push({x:p.x,y:p.y,t:h/o})}for(var f=0;f<1+a;f++){var d=T.apply(0,e.concat(f/a));l.push({x:d.x,y:d.y,t:f/a})}for(var g=0;g<o;g++)for(var v=0;v<a;v++){var y=s[g],m=s[g+1],x=l[v],b=l[v+1],_=Math.abs(m.x-y.x)<.001?"y":"x",M=Math.abs(b.x-x.x)<.001?"y":"x",w=k(y.x,y.y,m.x,m.y,x.x,x.y,b.x,b.y);if(w){if(u[w.x.toFixed(4)]===w.y.toFixed(4))continue;u[w.x.toFixed(4)]=w.y.toFixed(4);var S=y.t+Math.abs((w[_]-y[_])/(m[_]-y[_]))*(m.t-y.t),C=x.t+Math.abs((w[M]-x[M])/(b[M]-x[M]))*(b.t-x.t);0<=S&&S<=1&&0<=C&&C<=1&&(i?c++:c.push({x:w.x,y:w.y,t1:S,t2:C}))}}return c}var u=i(1),r=i(27),w=i(29);t.exports=function(t,e){return function(t,e){t=w(t),e=w(e);for(var i=void 0,n=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,p=[],f=0,d=t.length;f<d;f++){var g=t[f];if("M"===g[0])i=a=g[1],n=s=g[2];else{n="C"===g[0]?(i=(c=[i,n].concat(g.slice(1)))[6],c[7]):(c=[i,n,i,n,a,s,a,s],i=a,s);for(var v=0,y=e.length;v<y;v++){var m=e[v];if("M"===m[0])r=l=m[1],o=u=m[2];else{o="C"===m[0]?(r=(h=[r,o].concat(m.slice(1)))[6],h[7]):(h=[r,o,r,o,l,u,l,u],r=l,u);for(var x=M(c,h,void 0),b=0,_=x.length;b<_;b++)x[b].segment1=f,x[b].segment2=v,x[b].bez1=c,x[b].bez2=h;p=p.concat(x)}}}}return p}(t,e)}},function(t,e){function c(p,t,e){if(1===e)return[[].concat(p)];var i=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])i=i.concat(function(t,e){var i=[[p[1],p[2]]];e=e||2;var n,r,o,a,s=[];"A"===t[0]?(i.push(t[6]),i.push(t[7])):"C"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]]),i.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]])):i.push([t[1],t[2]]);for(var l=i,u=1/e,c=0;c<e-1;c++){var h=(r=u/(1-u*c),a=o=void 0,o=[],a=[],(n=l).length&&function t(e,i){if(1===e.length)o.push(e[0]),a.push(e[0]);else{for(var n=[],r=0;r<e.length-1;r++)0===r&&o.push(e[0]),r===e.length-2&&a.push(e[r+1]),n[r]=[(1-i)*e[r][0]+i*e[r+1][0],(1-i)*e[r][1]+i*e[r+1][1]];t(n,i)}}(n,r),{left:o,right:a.reverse()});s.push(h.left),l=h.right}return s.push(l),s.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])})}(t,e));else{var n=[].concat(p);"M"===n[0]&&(n[0]="L");for(var r=0;r<=e-1;r++)i.push(n)}return i}t.exports=function(n,t){if(1===n.length)return n;var r=n.length-1,e=t.length-1,i=r/e,o=[];if(1===n.length&&"M"===n[0][0]){for(var a=0;a<e-r;a++)n.push(n[0]);return n}for(var s=0;s<e;s++){var l=Math.floor(i*s);o[l]=(o[l]||0)+1}var u=o.reduce(function(t,e,i){return i===r?t.concat(n[r]):t.concat(c(n[i],n[i+1],e))},[]);return u.unshift(n[0]),"Z"!==t[e]&&"z"!==t[e]||u.push("Z"),u}},function(t,e,i){var x=i(103);t.exports=function(t,e){var i=function(t,e){var i,n,r,o,a=t.length,s=e.length,l=void 0,u=void 0,c=0;if(0===a||0===s)return null;for(var h=[],p=0;p<=a;p++)h[p]=[],h[p][0]={min:p};for(var f=0;f<=s;f++)h[0][f]={min:f};for(var d=1;d<=a;d++){l=t[d-1];for(var g=1;g<=s;g++){u=e[g-1],c=x(l,u)?0:1;var v=h[d-1][g].min+1,y=h[d][g-1].min+1,m=h[d-1][g-1].min+c;h[d][g]=(o=r=void 0,r=null,(n=y)<(o=m)&&(o=n,r="add"),(i=v)<o&&(o=i,r="del"),{type:r,min:o})}}return h}(t,e),n=t.length,r=e.length,o=[],a=1,s=1;if(i[n][r]!==n){for(var l=1;l<=n;l++){var u=i[l][l].min;s=l;for(var c=a;c<=r;c++)i[l][c].min<u&&(u=i[l][c].min,s=c);a=s,i[l][a].type&&o.push({index:l-1,type:i[l][a].type})}for(var h=o.length-1;0<=h;h--)a=o[h].index,"add"===o[h].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}if((n=t.length)<r)for(var p=0;p<r-n;p++)"z"===t[n-1][0]||"Z"===t[n-1][0]?t.splice(n-2,0,t[n-2]):t.push(t[n-1]);return t}},function(t,e,i){var r=i(0);t.exports=function(t,i){if(t.length!==i.length)return!1;var n=!0;return r(t,function(t,e){if(t!==i[e])return n=!1}),n}},function(t,e){function l(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function r(t,e,i){for(var n=[].concat(t),r=void 0,o=1/(i+1),a=l(e)[0],s=1;s<=i;s++)o*=s,0===(r=Math.floor(t.length*o))?n.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):n.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return n}t.exports=function(t,e){if(t.length<=1)return t;for(var i=void 0,n=0;n<e.length;n++)if(t[n][0]!==e[n][0])switch(i=l(t[n]),e[n][0]){case"M":t[n]=["M"].concat(i[0]);break;case"L":t[n]=["L"].concat(i[0]);break;case"A":t[n]=[].concat(e[n]),t[n][6]=i[0][0],t[n][7]=i[0][1];break;case"Q":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=r(i,t[n-1],1)}t[n]=["Q"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[n]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(0<n)){t[n]=e[n];break}i=r(i,t[n-1],2)}t[n]=["C"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=r(i,t[n-1],1)}t[n]=["S"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;default:t[n]=e[n]}return t}},function(t,e,i){var n={lc:i(106),lowerCase:i(33),lowerFirst:i(107),substitute:i(108),uc:i(109),upperCase:i(34),upperFirst:i(110)};t.exports=n},function(t,e,i){t.exports=i(33)},function(t,e,i){var n=i(8);t.exports=function(t){var e=n(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e){t.exports=function(t,i){return t&&i?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===i[e]?"":i[e]}):t}},function(t,e,i){t.exports=i(34)},function(t,e,i){var n=i(8);t.exports=function(t){var e=n(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,i){var n=i(2),r={getType:i(35),isArray:i(1),isArrayLike:i(4),isBoolean:i(112),isFunction:i(3),isNil:i(5),isNull:i(113),isNumber:i(6),isObject:i(16),isObjectLike:i(13),isPlainObject:i(7),isPrototype:i(36),isType:n,isUndefined:i(114),isString:i(10),isRegExp:i(115),isDate:i(116),isArguments:i(117),isError:i(118)};t.exports=r},function(t,e,i){var n=i(2);t.exports=function(t){return n(t,"Boolean")}},function(t,e){t.exports=function(t){return null===t}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,i){var n=i(2);t.exports=function(t){return n(t,"RegExp")}},function(t,e,i){var n=i(2);t.exports=function(t){return n(t,"Date")}},function(t,e,i){var n=i(2);t.exports=function(t){return n(t,"Arguments")}},function(t,e,i){var n=i(2);t.exports=function(t){return n(t,"Error")}},function(t,e,i){var r=i(3),o=i(14),a=i(11);t.exports=function(t){for(var e=o(arguments),i=1;i<e.length;i++){var n=e[i];r(n)&&(n=n.prototype),a(t.prototype,n)}}},function(t,e){t.exports=function(n,r,o){var a=void 0;return function(){var t=this,e=arguments,i=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||n.apply(t,e)},r),i&&n.apply(t,e)}}},function(t,e,i){var a=i(7),s=i(1);function l(t,e,i,n){for(var r in i=i||0,n=n||5,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&a(o)?(a(t[r])||(t[r]={}),i<n?l(t[r],o,i+1,n):t[r]=e[r]):s(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}t.exports=function(){for(var t=new Array(arguments.length),e=t.length,i=0;i<e;i++)t[i]=arguments[i];for(var n=t[0],r=1;r<e;r++)l(n,t[r]);return n}},function(t,e,i){var a=i(3),s=i(11);t.exports=function(t,e,i,n){a(e)||(i=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function i(){}i.prototype=t;var n=new i;return n.constructor=e,n},o=r(e.prototype,t);return t.prototype=s(o,t.prototype),t.superclass=r(e.prototype,e),s(o,i),s(t,n),t}},function(t,e,i){var o=i(37);t.exports=function(t,e){if(!e)return[t];var i=o(t,e),n=[];for(var r in i)n.push(i[r]);return n}},function(t,e,i){var o=i(4);t.exports=function(t,e){if(!o(t))return-1;var i=Array.prototype.indexOf;if(i)return i.call(t,e);for(var n=-1,r=0;r<t.length;r++)if(t[r]===e){n=r;break}return n}},function(t,e,i){var n=i(5),r=i(4),o=i(35),a=i(36),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(n(t))return!0;if(r(t))return!t.length;var e=o(t);if("Map"===e||"Set"===e)return!t.size;if(a(t))return!Object.keys(t).length;for(var i in t)if(s.call(t,i))return!1;return!0}},function(t,e,i){var n=i(3),r=i(39);t.exports=function(t,e,i){return n(i)?!!i(t,e):r(t,e)}},function(t,e,i){var r=i(0),o=i(4);t.exports=function(t,i){if(!o(t))return t;var n=[];return r(t,function(t,e){n.push(i(t,e))}),n}},function(t,e,i){var n=i(0),r=i(7),o=Object.prototype.hasOwnProperty;t.exports=function(e,t){if(null===e||!r(e))return{};var i={};return n(t,function(t){o.call(e,t)&&(i[t]=e[t])}),i}},function(t,e){t.exports=function(i,n,r){var o=void 0,a=void 0,s=void 0,l=void 0,u=0;r=r||{};function c(){u=!1===r.leading?0:Date.now(),o=null,l=i.apply(a,s),o||(a=s=null)}function t(){var t=Date.now();u||!1!==r.leading||(u=t);var e=n-(t-u);return a=this,s=arguments,e<=0||n<e?(o&&(clearTimeout(o),o=null),u=t,l=i.apply(a,s),o||(a=s=null)):o||!1===r.trailing||(o=setTimeout(c,e)),l}return t.cancel=function(){clearTimeout(o),u=0,o=a=s=null},t}},function(t,e){var i,n=(i={},function(t){return i[t=t||"g"]?i[t]+=1:i[t]=1,t+i[t]});t.exports=n}],n.c=r,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=40);function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var i,r},t.exports=n()},function(t,e,i){"use strict";i.r(e),i.d(e,"__extends",function(){return r}),i.d(e,"__assign",function(){return o}),i.d(e,"__rest",function(){return a}),i.d(e,"__decorate",function(){return s}),i.d(e,"__param",function(){return l}),i.d(e,"__metadata",function(){return u}),i.d(e,"__awaiter",function(){return c}),i.d(e,"__generator",function(){return h}),i.d(e,"__exportStar",function(){return p}),i.d(e,"__values",function(){return f}),i.d(e,"__read",function(){return d}),i.d(e,"__spread",function(){return g}),i.d(e,"__spreadArrays",function(){return v}),i.d(e,"__await",function(){return y}),i.d(e,"__asyncGenerator",function(){return m}),i.d(e,"__asyncDelegator",function(){return x}),i.d(e,"__asyncValues",function(){return b}),i.d(e,"__makeTemplateObject",function(){return _}),i.d(e,"__importStar",function(){return M}),i.d(e,"__importDefault",function(){return w}),i.d(e,"__classPrivateFieldGet",function(){return S}),i.d(e,"__classPrivateFieldSet",function(){return C});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}function s(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==("undefined"==typeof Reflect?"undefined":Wt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(o<3?r(a):3<o?r(e,i,a):r(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a}function l(i,n){return function(t,e){n(t,e,i)}}function u(t,e){if("object"==("undefined"==typeof Reflect?"undefined":Wt(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,a,s,l){return new(s=s||Promise)(function(i,e){function n(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?i(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,r)}o((l=l.apply(t,a||[])).next())})}function h(i,n){var r,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(i,s)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function p(t,e){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)a.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function v(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=i.apply(t,e||[]),a=[];return r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r;function n(n){o[n]&&(r[n]=function(i){return new Promise(function(t,e){1<a.push([n,i,t,e])||s(n,i)})})}function s(t,e){try{(i=o[t](e)).value instanceof y?Promise.resolve(i.value.v).then(l,u):c(a[0][2],i)}catch(t){c(a[0][3],t)}var i}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),a.shift(),a.length&&s(a[0][0],a[0][1])}}function x(n){var t,r;return t={},e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,i){t[e]=n[e]?function(t){return(r=!r)?{value:y(n[e](t)),done:"return"===e}:i?i(t):t}:i}}function b(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=l[Symbol.asyncIterator];return e?e.call(l):(l=f(l),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=l[s]&&function(a){return new Promise(function(t,e){var i,n,r,o;i=t,n=e,r=(a=l[s](a)).done,o=a.value,Promise.resolve(o).then(function(t){i({value:t,done:r})},n)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function M(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function w(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.fromRange=function(t,e,i,n){return new r(t,e,i-t,n-e)},r.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},r);function r(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.height=n,this.width=i,this.x=this.minX=t,this.y=this.minY=e;var r=this.maxX=t+i,o=this.maxY=e+n;this.tl={x:t,y:e},this.tr={x:r,y:e},this.bl={x:t,y:o},this.br={x:r,y:o},this.bottom=0,this.left=this.x,this.right=0,this.top=this.y}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(10),s=i(4),l={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"},u=(n=a.default,r.__extends(c,n),c.prototype.createPath=function(t){},c.prototype.afterPath=function(t){},c.prototype.isPointInPath=function(t,e){return!1},c.prototype.drawInner=function(t){var e=this.attrs;this.createPath(t);var i=t.globalAlpha;if(this.hasFill()){var n=e.fillOpacity;o.isNil(n)||1===n?t.fill():(t.globalAlpha=n,t.fill(),t.globalAlpha=i)}if(this.hasStroke()&&0<this.attrs.lineWidth){var r=e.strokeOpacity;o.isNil(r)||1===r||(t.globalAlpha=r),t.stroke()}this.afterPath(t)},c.prototype.isHitBox=function(){return!0},c.prototype.isHit=function(t,e){var i=[t,e,1];if(this.invert(i),this.isHitBox()){var n=this.getBBox();if(n&&!s.box(n.minX,n.maxX,n.minY,n.maxY,i[0],i[1]))return!1}var r=this.attrs.clip;return r?(r.invert(i,this.get("canvas")),!!r.isPointInPath(i[0],i[1])&&this.isPointInPath(i[0],i[1])):this.isPointInPath(i[0],i[1])},c.prototype.calculateBox=function(){return null},c.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},c.prototype.clearTotalMatrix=function(){this.cfg.totalMatrix=null,this.cfg.region=null},c.prototype.clearBBox=function(){this.cfg.box=null,this.cfg.region=null},c.prototype.getBBox=function(){var t=this.get("box");return t||(t=this.calculateBox())&&this.set("box",t),t},c.prototype.clone=function(){var t=null,i=this.attrs,n={};return o.each(i,function(t,e){l[e]&&o.isArray(i[e])?n[e]=function(t){for(var e=[],i=0;i<t.length;i++)o.isArray(t[i])?e.push([].concat(t[i])):e.push(t[i]);return e}(i[e]):n[e]=i[e]}),(t=new c({attrs:n})).cfg.zIndex=this.cfg.zIndex,t},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.isShape=!0,t}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(12),c=i(18),h=i(13),p=i(7);function a(t,e,i,n,r,o,a){var s=u.box(t,e,i,n,r);if(!f(s.minX,s.maxX,s.minY,s.maxY,o,a))return!1;var l=u.pointDistance(t,e,i,n,o,a);return!isNaN(l)&&l<=r/2}function f(t,e,i,n,r,o){return t<=r&&r<=e&&i<=o&&o<=n}e.line=a,e.polyline=function(t,e,i,n){var r=t.length-1;if(r<1)return!1;for(var o=0;o<r;o++)if(a(t[o][0],t[o][1],t[o+1][0],t[o+1][1],e,i,n))return!0;return!1},e.cubicline=function(t,e,i,n,r,o,a,s,l,u,c){return h.pointDistance(t,e,i,n,r,o,a,s,u,c)<=l/2},e.quadraticline=function(t,e,i,n,r,o,a,s,l){return c.pointDistance(t,e,i,n,r,o,s,l)<=a/2},e.arcline=function(t,e,i,n,r,o,a,s,l){return p.pointDistance(t,e,i,n,r,o,s,l)<=a/2},e.rect=function(t,e,i,n,r,o){return t<=r&&r<=t+i&&e<=o&&o<=e+n},e.circle=function(t,e,i,n,r){return Math.pow(n-t,2)+Math.pow(r-e,2)<=Math.pow(i,2)},e.box=f},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi;e.parseRadius=function(t){var e=0,i=0,n=0,r=0;return o.isArray(t)?1===t.length?e=i=n=r=t[0]:2===t.length?(e=n=t[0],i=r=t[1]):3===t.length?(e=t[0],i=r=t[1],n=t[2]):(e=t[0],i=t[1],n=t[2],r=t[3]):e=i=n=r=t,{r1:e,r2:i,r3:n,r4:r}},e.parsePath=function(n){return n=n||[],o.isArray(n)?n:o.isString(n)?(n=n.match(r),o.each(n,function(i,t){if(1<(i=i.match(a))[0].length){var e=i[0].charAt(0);i.splice(1,0,i[0].substr(1)),i[0]=e}o.each(i,function(t,e){isNaN(t)||(i[e]=+t)}),n[t]=i}),n):void 0}},function(t,d,e){"use strict";Object.defineProperty(d,"__esModule",{value:!0});function f(t,e,i,n){return{x:Math.cos(n)*i+t,y:Math.sin(n)*i+e}}function o(t,e,i,n){var r,o;return n?t<e?(r=e-t,o=2*Math.PI-i+t):i<t&&(r=2*Math.PI-t+e,o=t-i):(r=t-e,o=i-t),o<r?i:e}var g=e(0),v=e(2);d.nearAngle=function(t,e,i,n){var r=0;return i-e>=2*Math.PI&&(r=2*Math.PI),e=g.mod(e,2*Math.PI),i=g.mod(i,2*Math.PI)+r,t=g.mod(t,2*Math.PI),n?i<=e?i<t&&t<e?t:o(t,i,e,!0):t<e||i<t?t:o(t,e,i,!1):e<=i?e<t&&t<i?t:o(t,e,i,!0):e<t||t<i?t:o(t,i,e,!1)},d.pointDistance=function(t,e,i,n,r,o,a,s,l){var u=[a,s],c=[t,e],h=g.vec2.subtract([],u,c),p=g.vec2.angleTo([1,0],h);p=d.nearAngle(p,n,r,o);var f=[i*Math.cos(p)+t,i*Math.sin(p)+e];return l?{x:f[0],y:f[1]}:g.vec2.distance(f,u)},d.box=function(t,e,i,n,r,o){var a=Math.PI/2,s=Math.PI,l=3*Math.PI/2,u=[],c=d.nearAngle(0,n,r,o);0===c&&u.push(f(t,e,i,0)),(c=d.nearAngle(a,n,r,o))===a&&u.push(f(t,e,i,a)),(c=d.nearAngle(s,n,r,o))===s&&u.push(f(t,e,i,s)),(c=d.nearAngle(l,n,r,o))===l&&u.push(f(t,e,i,l)),u.push(f(t,e,i,n)),u.push(f(t,e,i,r));var h=u.map(function(t){return t.x}),p=u.map(function(t){return t.y});return v.default.fromRange(Math.min.apply(Math,h),Math.min.apply(Math,p),Math.max.apply(Math,h),Math.max.apply(Math,p))},d.projectPoint=function(t,e,i,n,r,o,a,s){return d.pointDistance(t,e,i,n,r,o,a,s,!0)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var C=i(0),x=i(4),A=i(13),L=i(18),T=i(39),D=i(2),b=C.vec3,_=C.mat3,w=["m","l","c","a","q","h","v","t","s","z"];function S(t,e,i){return{x:i.x+t,y:i.y+e}}function O(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function k(t,e){return(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e))}function P(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(k(t,e))}var r=(o.prototype.init=function(t,e){var i=t[0];e=e||{endPoint:{x:0,y:0}};var n,r,o,a,s=0<=w.indexOf(i),l=s?i.toUpperCase():i,u=t,c=e.endPoint,h=u[1],p=u[2];switch(l){case"M":a=s?S(h,p,c):{x:h,y:p},this.command="M",this.params=[c,a],this.subStart=a,this.endPoint=a;break;case"L":a=s?S(h,p,c):{x:h,y:p},this.command="L",this.params=[c,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-c.x,a.y-c.y]},this.startTangent=function(){return[c.x-a.x,c.y-a.y]};break;case"H":a=s?S(h,0,c):{x:h,y:c.y},this.command="L",this.params=[c,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-c.x,a.y-c.y]},this.startTangent=function(){return[c.x-a.x,c.y-a.y]};break;case"V":a=s?S(0,h,c):{x:c.x,y:h},this.command="L",this.params=[c,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-c.x,a.y-c.y]},this.startTangent=function(){return[c.x-a.x,c.y-a.y]};break;case"Q":r=s?(n=S(h,p,c),S(u[3],u[4],c)):(n={x:h,y:p},{x:u[3],y:u[4]}),this.command="Q",this.params=[c,n,r],this.subStart=e.subStart,this.endPoint=r,this.endTangent=function(){return[r.x-n.x,r.y-n.y]},this.startTangent=function(){return[c.x-n.x,c.y-n.y]};break;case"T":r=s?S(h,p,c):{x:h,y:p},"Q"===e.command?(n=O(e.params[1],c),this.command="Q",this.params=[c,n,r],this.subStart=e.subStart,this.endPoint=r,this.endTangent=function(){return[r.x-n.x,r.y-n.y]},this.startTangent=function(){return[c.x-n.x,c.y-n.y]}):(this.command="TL",this.params=[c,r],this.subStart=e.subStart,this.endPoint=r,this.endTangent=function(){return[r.x-c.x,r.y-c.y]},this.startTangent=function(){return[c.x-r.x,c.y-r.y]});break;case"C":o=s?(n=S(h,p,c),r=S(u[3],u[4],c),S(u[5],u[6],c)):(n={x:h,y:p},r={x:u[3],y:u[4]},{x:u[5],y:u[6]}),this.command="C",this.params=[c,n,r,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-r.x,o.y-r.y]},this.startTangent=function(){return[c.x-n.x,c.y-n.y]};break;case"S":o=s?(r=S(h,p,c),S(u[3],u[4],c)):(r={x:h,y:p},{x:u[3],y:u[4]}),"C"===e.command?(n=O(e.params[2],c),this.command="C",this.params=[c,n,r,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-r.x,o.y-r.y]},this.startTangent=function(){return[c.x-n.x,c.y-n.y]}):(this.command="SQ",this.params=[c,r,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-r.x,o.y-r.y]},this.startTangent=function(){return[c.x-r.x,c.y-r.y]});break;case"A":var f=h,d=p,g=u[3],v=u[4],y=u[5];a=s?S(u[6],u[7],c):{x:u[6],y:u[7]},this.command="A";var m=function(t,e,i,n,r,o,a){var s=C.mod(C.toRadian(a),2*Math.PI),l=t.x,u=t.y,c=e.x,h=e.y,p=Math.cos(s)*(l-c)/2+Math.sin(s)*(u-h)/2,f=-1*Math.sin(s)*(l-c)/2+Math.cos(s)*(u-h)/2,d=p*p/(r*r)+f*f/(o*o);1<d&&(r*=Math.sqrt(d),o*=Math.sqrt(d));var g=r*r*(f*f)+o*o*(p*p),v=Math.sqrt((r*r*(o*o)-g)/g);i===n&&(v*=-1),isNaN(v)&&(v=0);var y=v*r*f/o,m=v*-o*p/r,x=(l+c)/2+Math.cos(s)*y-Math.sin(s)*m,b=(u+h)/2+Math.sin(s)*y+Math.cos(s)*m,_=P([1,0],[(p-y)/r,(f-m)/o]),M=[(p-y)/r,(f-m)/o],w=[(-1*p-y)/r,(-1*f-m)/o],S=P(M,w);return k(M,w)<=-1&&(S=Math.PI),1<=k(M,w)&&(S=0),0===n&&0<S&&(S-=2*Math.PI),1===n&&S<0&&(S+=2*Math.PI),[t,x,b,r,o,_,S,s,n]}(c,a,v,y,f,d,g);this.params=m;var x=e.subStart;this.subStart=x,this.endPoint=a;var b=m[5]%(2*Math.PI);C.isNumberEqual(b,2*Math.PI)&&(b=0);var _=m[6]%(2*Math.PI);C.isNumberEqual(_,2*Math.PI)&&(_=0);var M=.001;this.startTangent=function(){0===y&&(M*=-1);var t=m[3]*Math.cos(b-M)+m[1],e=m[4]*Math.sin(b-M)+m[2];return[t-x.x,e-x.y]},this.endTangent=function(){var t=m[6];t-2*Math.PI<1e-4&&(t=0);var e=m[3]*Math.cos(b+t+M)+m[1],i=m[4]*Math.sin(b+t-M)+m[2];return[c.x-e,c.y-i]};break;case"Z":this.command="Z",this.params=[c,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},o.prototype.isInside=function(t,e,i){var n=this.command,r=this.params,o=this.box;if(o&&!x.box(o.minX,o.maxX,o.minY,o.maxY,t,e))return!1;switch(n){case"M":return!1;case"TL":case"L":case"Z":return x.line(r[0].x,r[0].y,r[1].x,r[1].y,i,t,e);case"SQ":case"Q":return x.quadraticline(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,i,t,e);case"C":return x.cubicline(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,i,t,e);case"A":var a=r,s=a[1],l=a[2],u=a[3],c=a[4],h=a[5],p=a[6],f=a[7],d=a[8],g=c<u?u:c,v=c<u?1:u/c,y=c<u?c/u:1;a=[t,e,1];var m=[1,0,0,0,1,0,0,0,1];return _.translate(m,m,[-s,-l]),_.rotate(m,m,-f),_.scale(m,m,[1/v,1/y]),b.transformMat3(a,a,m),x.arcline(0,0,g,h,h+p,1-d,i,a[0],a[1])}return!1},o.prototype.draw=function(t){var e,i,n,r=this.command,o=this.params;switch(r){case"M":t.moveTo(o[1].x,o[1].y);break;case"TL":case"L":t.lineTo(o[1].x,o[1].y);break;case"SQ":case"Q":e=o[1],i=o[2],t.quadraticCurveTo(e.x,e.y,i.x,i.y);break;case"C":e=o[1],i=o[2],n=o[3],t.bezierCurveTo(e.x,e.y,i.x,i.y,n.x,n.y);break;case"A":var a=o[1],s=o[2],l=o[3],u=o[4],c=o[5],h=o[6],p=o[7],f=o[8],d=u<l?l:u,g=u<l?1:l/u,v=u<l?u/l:1;t.translate(a,s),t.rotate(p),t.scale(g,v),t.arc(0,0,d,c,c+h,1-f),t.scale(1/g,1/v),t.rotate(-p),t.translate(-a,-s);break;case"Z":t.closePath()}},o.prototype.getBBox=function(t){var e,i,n,r,o=t/2,a=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box=D.default.fromRange(Math.min(a[0].x,a[1].x)-o,Math.min(a[0].y,a[1].y)-o,Math.max(a[0].x,a[1].x)+o,Math.max(a[0].y,a[1].y)+o);break;case"SQ":case"Q":for(n=0,r=(i=L.extrema(a[0].x,a[1].x,a[2].x)).length;n<r;n++)i[n]=L.at(a[0].x,a[1].x,a[2].x,i[n]);for(i.push(a[0].x,a[2].x),n=0,r=(e=L.extrema(a[0].y,a[1].y,a[2].y)).length;n<r;n++)e[n]=L.at(a[0].y,a[1].y,a[2].y,e);e.push(a[0].y,a[2].y),this.box=D.default.fromRange(Math.min.apply(Math,i)-o,Math.min.apply(Math,e)-o,Math.max.apply(Math,i)+o,Math.max.apply(Math,e)+o);break;case"C":for(n=0,r=(i=A.extrema(a[0].x,a[1].x,a[2].x,a[3].x)).length;n<r;n++)i[n]=A.at(a[0].x,a[1].x,a[2].x,a[3].x,i[n]);for(n=0,r=(e=A.extrema(a[0].y,a[1].y,a[2].y,a[3].y)).length;n<r;n++)e[n]=A.at(a[0].y,a[1].y,a[2].y,a[3].y,e[n]);i.push(a[0].x,a[3].x),e.push(a[0].y,a[3].y),this.box=D.default.fromRange(Math.min.apply(Math,i)-o,Math.min.apply(Math,e)-o,Math.max.apply(Math,i)+o,Math.max.apply(Math,e)+o);break;case"A":var s=a[1],l=a[2],u=a[3],c=a[4],h=a[5],p=a[6],f=a[7],d=a[8],g=h,v=h+p,y=T.xExtrema(f,u,c),m=1/0,x=-1/0,b=[g,v];for(n=2*-Math.PI;n<=2*Math.PI;n+=Math.PI){var _=y+n;1===d?g<_&&_<v&&b.push(_):v<_&&_<g&&b.push(_)}for(n=0,r=b.length;n<r;n++){var M=T.xAt(f,u,c,s,b[n]);M<m&&(m=M),x<M&&(x=M)}var w=T.yExtrema(f,u,c),S=1/0,C=-1/0,O=[g,v];for(n=2*-Math.PI;n<=2*Math.PI;n+=Math.PI){var k=w+n;1===d?g<k&&k<v&&O.push(k):v<k&&k<g&&O.push(k)}for(n=0,r=O.length;n<r;n++){var P=T.yAt(f,u,c,l,O[n]);P<S&&(S=P),C<P&&(C=P)}this.box=D.default.fromRange(m-o,S-o,x+o,C+o)}},o);function o(t,e,i){this.preSegment=e,this.isLast=i,this.init(t,e)}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=i(6),v=i(8),y=Math.PI,m=Math.sin,x=Math.cos,b=Math.atan2,_=y/3;function a(t,e,i,n,r,o,a){var s,l,u,c,h,p,f;if(!e.fill){var d=e.arrowLength||10,g=e.arrowAngle?e.arrowAngle*y/180:_;f=b(n-o,i-r),h=Math.abs(e.lineWidth*x(f))/2,p=Math.abs(e.lineWidth*m(f))/2,a&&(h=-h,p=-p),s=r+d*x(f+g/2),l=o+d*m(f+g/2),u=r+d*x(f-g/2),c=o+d*m(f-g/2),t.beginPath(),t.moveTo(s-h,l-p),t.lineTo(r-h,o-p),t.lineTo(u-h,c-p),t.moveTo(r-h,o-p),t.lineTo(r+h,o+p),t.moveTo(r,o),t.stroke()}}function s(t,e,i,n,r,o,a){var s=a?e.startArrow:e.endArrow,l=s.d,u=0,c=r-i,h=o-n,p=Math.atan(c/h);0==h&&c<0?u=Math.PI:0<c&&0<h?u=Math.PI/2-p:c<0&&h<0?u=-Math.PI/2-p:0<=c&&h<0?u=-p-Math.PI/2:c<=0&&0<h&&(u=Math.PI/2-p);var f=function(t){var e,i=[],n=g.parsePath(t.path);if(Array.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var r=n.length,o=0;o<n.length;o++){var a=n[o];e=new v.default(a,e,o===r-1),i.push(e)}return i}}(s);if(f){l&&(o=a?(r+=Math.sin(Math.abs(p))*l,o+Math.cos(Math.abs(p))*l-.5*t.lineWidth):(r-=Math.sin(Math.abs(p))*l,o-Math.cos(Math.abs(p))*l+.5*t.lineWidth)),t.save(),t.beginPath(),t.translate(r,o),t.rotate(u);for(var d=0;d<f.length;d++)f[d].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}e.addStartArrow=function(t,e,i,n,r,o){"object"==Wt(e.startArrow)?s(t,e,i,n,r,o,!0):e.startArrow&&a(t,e,i,n,r,o,!0)},e.addEndArrow=function(t,e,i,n,r,o){"object"==Wt(e.endArrow)?s(t,e,i,n,r,o,!1):e.endArrow&&a(t,e,i,n,r,o,!1)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),u=i(0),r=i(36),c={delay:"delay",rotate:"rotate"},h={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};var o,a=(o=r.default,n.__extends(s,o),s.prototype.initAnimate=function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},s.prototype.animate=function(t,e,i,n,r){void 0===n&&(n=u.noop),void 0===r&&(r=0),this.set("animating",!0);var o=this.get("timeline");o||(o=this.get("canvas").get("timeline"),this.setSilent("timeline",o));var a=this.get("animators")||[];o.timer||o.initTimer(),u.isNumber(n)&&(r=n,n=null),i=u.isFunction(i)?(n=i,"easeLinear"):i||"easeLinear";var s=function(t,e){var i={matrix:null,attrs:{}},n=e.attrs;for(var r in t)if("transform"===r)i.matrix=u.transform(e.getMatrix(),t[r]);else if("rotate"===r)i.matrix=u.transform(e.getMatrix(),[["r",t[r]]]);else if("matrix"===r)i.matrix=t[r];else{if(h[r]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[r]))continue;c[r]||n[r]===t[r]||(i.attrs[r]=t[r])}return i}(t,this),l={fromAttrs:function(t,e){var i={},n=e.attrs;for(var r in t.attrs)i[r]=n[r];return i}(s,this),toAttrs:s.attrs,fromMatrix:u.clone(this.getMatrix()),toMatrix:s.matrix,duration:e,easing:i,callback:n,delay:r,startTime:o.getTime(),id:u.uniqueId(),onFrame:null};t.onFrame&&(l.onFrame=t.onFrame),0<a.length?a=function(i,t){if(t.onFrame)return i;var n=t.delay,r=Object.prototype.hasOwnProperty;return u.each(t.toAttrs,function(t,e){u.each(i,function(t){n<t.startTime+t.duration&&r.call(t.toAttrs,e)&&(delete t.toAttrs[e],delete t.fromAttrs[e])})}),t.toMatrix&&u.each(i,function(t){n<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix}),i}(a,l):o.addAnimator(this),a.push(l),this.setSilent("animators",a),this.setSilent("pause",{isPaused:!1})},s.prototype.stopAnimate=function(){var e=this,t=this.get("animators");u.each(t,function(t){t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),t.toMatrix&&e.attr("matrix",t.toMatrix),t.callback&&t.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},s.prototype.pauseAnimate=function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},s.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animators"),i=this.get("pause").pauseTime;return u.each(t,function(t){t.startTime=t.startTime+(e-i),t._paused=!1,t._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",t),this},s);function s(t){void 0===t&&(t={});var e=o.call(this,t)||this;return e.initTransform(),e.initAnimate(),e}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=(o.prototype.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},o.prototype.stopPropagation=function(){this.propagationStopped=!0},o.prototype.remove=function(){this.cfg.removed=!0},o.prototype.clone=function(){return n.clone(this)},o.prototype.toString=function(){return"[Event (type="+this.type+")]"},o);function o(t,e,i,n){this.x=0,this.y=0,this.clientX=0,this.clientY=0,this.cfg={},this.bubbles=!1,this.cancelable=!1,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.type=t,this.event=e,this.bubbles=!!i,this.cancelable=!!n}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(0),a=i(2);e.at=function(t,e,i){return(e-t)*i+t},e.pointDistance=function(t,e,i,n,r,o){var a=[i-t,n-e];if(u.vec2.exactEquals(a,[0,0]))return NaN;var s=[-a[1],a[0]];u.vec2.normalize(s,s);var l=[r-t,o-e];return Math.abs(u.vec2.dot(l,s))},e.box=function(t,e,i,n,r){var o=r/2;return a.default.fromRange(Math.min(t,i)-o,Math.min(e,n)-o,Math.max(t,i)+o,Math.max(e,n)+o)},e.len=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(0),w=m.vec2;function S(t,e,i,n,r){var o=1-r;return o*o*(o*n+3*r*i)+r*r*(r*t+3*o*e)}function c(t,e,i,n,r,o,a,s,l,u,c){var h,p,f,d,g,v,y,m,x=.005,b=1/0,_=[l,u];for(p=0;p<1;p+=.05)f=[S(t,i,r,a,p),S(e,n,o,s,p)],(d=w.squaredDistance(_,f))<b&&(h=p,b=d);b=1/0;for(var M=0;M<32&&!(x<1e-4);M++)m=h+x,f=[S(t,i,r,a,y=h-x),S(e,n,o,s,y)],d=w.squaredDistance(_,f),0<=y&&d<b?(h=y,b=d):(v=[S(t,i,r,a,m),S(e,n,o,s,m)],g=w.squaredDistance(_,v),m<=1&&g<b?(h=m,b=g):x*=.5);return c?{x:S(t,i,r,a,h),y:S(e,n,o,s,h)}:Math.sqrt(b)}function x(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}e.at=S,e.derivativeAt=function(t,e,i,n,r){var o=1-r;return 3*(((e-t)*o+2*(i-e)*r)*o+(n-i)*r*r)},e.pointDistance=c,e.extrema=function(t,e,i,n){var r,o,a,s=3*t-9*e+9*i-3*n,l=6*e-12*i+6*n,u=3*i-3*n,c=[];if(m.isNumberEqual(s,0))m.isNumberEqual(l,0)||0<=(r=-u/l)&&r<=1&&c.push(r);else{var h=l*l-4*s*u;m.isNumberEqual(h,0)?c.push(-l/(2*s)):0<h&&(o=(-l-(a=Math.sqrt(h)))/(2*s),0<=(r=(-l+a)/(2*s))&&r<=1&&c.push(r),0<=o&&o<=1&&c.push(o))}return c},e.len=function(t,e,i,n,r,o,a,s,l){m.isNil(l)&&(l=1);for(var u=(l=1<l?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var d=u*c[f]+u,g=x(d,t,i,r,a),v=x(d,e,n,o,s),y=g*g+v*v;p+=h[f]*Math.sqrt(y)}return u*p},e.projectPoint=function(t,e,i,n,r,o,a,s,l,u){return c(t,e,i,n,r,o,a,s,l,u,!0)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function m(o){if(!o)return null;if(Wt(o)==Wt([]))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return String(o).replace(r,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(l,function(t,e){e&&n.push(+e)}),"m"===r&&2<n.length&&(s.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===n.length&&s.push([e,n[0]]),"r"===r)s.push([e].concat(n));else for(;n.length>=a[r]&&(s.push([e].concat(n.splice(0,a[r]))),a[r]););return o}),s}var u=i(0),n="\t\n\v\f\r   ᠎             　\u2028\u2029",r=new RegExp("([a-z])["+n+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+n+"]*,?["+n+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+n+"]*,?["+n+"]*","ig");e.parsePathString=m;function x(t,e){for(var i=[],n=0,r=t.length;n<r-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4===n?o[3]={x:+t[0],y:+t[1]}:r-2===n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}e.catmullRomToBezier=x;function b(t,e,i,n,r){var o=[];if(null===r&&null===n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!==r){var a=Math.PI/180,s=t+i*Math.cos(-n*a),l=t+i*Math.cos(-r*a);o=[["M",s,e+i*Math.sin(-n*a)],["A",i,i,0,+(180<r-n),0,l,e+i*Math.sin(-r*a)]]}else o=[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]];return o}function _(t){if(!(t=m(t))||!t.length)return[["M",0,0]];var e,i,n=[],r=0,o=0,a=0,s=0,l=0;"M"===t[0][0]&&(a=r=+t[0][1],s=o=+t[0][2],l++,n[0]=["M",r,o]);for(var u=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),c=void 0,h=void 0,p=l,f=t.length;p<f;p++){if(n.push(c=[]),(e=(h=t[p])[0])!==e.toUpperCase())switch(c[0]=e.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+r,c[7]=+h[7]+o;break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+r;break;case"R":for(var d=2,g=(i=[r,o].concat(h.slice(1))).length;d<g;d++)i[d]=+i[d]+r,i[++d]=+i[d]+o;n.pop(),n=n.concat(x(i,u));break;case"O":n.pop(),(i=b(r,o,h[1],h[2])).push(i[0]),n=n.concat(i);break;case"U":n.pop(),n=n.concat(b(r,o,h[1],h[2],h[3])),c=["U"].concat(n[n.length-1].slice(-2));break;case"M":a=+h[1]+r,s=+h[2]+o;break;default:for(d=1,g=h.length;d<g;d++)c[d]=+h[d]+(d%2?r:o)}else if("R"===e)i=[r,o].concat(h.slice(1)),n.pop(),n=n.concat(x(i,u)),c=["R"].concat(h.slice(-2));else if("O"===e)n.pop(),(i=b(r,o,h[1],h[2])).push(i[0]),n=n.concat(i);else if("U"===e)n.pop(),n=n.concat(b(r,o,h[1],h[2],h[3])),c=["U"].concat(n[n.length-1].slice(-2));else for(var v=0,y=h.length;v<y;v++)c[v]=h[v];if("O"!==(e=e.toUpperCase()))switch(c[0]){case"Z":r=+a,o=+s;break;case"H":r=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:r=c[c.length-2],o=c[c.length-1]}}return n}e.pathToAbsolute=_;function M(t,e,i,n){return[t,e,i,n,i,n]}function w(t,e,i,n,r,o){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*o+2/3*n,r,o]}function G(t,e,i,n,r,o,a,s,l,u){function c(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}}i===n&&(i+=1);var h,p,f,d,g,v=120*Math.PI/180,y=Math.PI/180*(+r||0),m=[];if(u)p=u[0],f=u[1],d=u[2],g=u[3];else{t=(h=c(t,e,-y)).x,e=h.y,s=(h=c(s,l,-y)).x,l=h.y,t===s&&e===l&&(s+=1,l+=1);var x=(t-s)/2,b=(e-l)/2,_=x*x/(i*i)+b*b/(n*n);1<_&&(i*=_=Math.sqrt(_),n*=_);var M=i*i,w=n*n,S=(o===a?-1:1)*Math.sqrt(Math.abs((M*w-M*b*b-w*x*x)/(M*b*b+w*x*x)));d=S*i*b/n+(t+s)/2,g=S*-n*x/i+(e+l)/2,p=Math.asin(((e-g)/n).toFixed(9)),f=Math.asin(((l-g)/n).toFixed(9)),p=t<d?Math.PI-p:p,f=s<d?Math.PI-f:f,p<0&&(p=2*Math.PI+p),f<0&&(f=2*Math.PI+f),a&&f<p&&(p-=2*Math.PI),!a&&p<f&&(f-=2*Math.PI)}var C=f-p;if(Math.abs(C)>v){var O=f,k=s,P=l;f=p+v*(a&&p<f?1:-1),m=G(s=d+i*Math.cos(f),l=g+n*Math.sin(f),i,n,r,0,a,k,P,[f,O,d,g])}C=f-p;var A=Math.cos(p),L=Math.sin(p),T=Math.cos(f),D=Math.sin(f),j=Math.tan(C/4),I=4/3*i*j,B=4/3*n*j,E=[t,e],F=[t+I*L,e-B*A],R=[s+I*D,l-B*T],N=[s,l];if(F[0]=2*E[0]-F[0],F[1]=2*E[1]-F[1],u)return[F,R,N].concat(m);for(var z=[],Y=0,H=(m=[F,R,N].concat(m).join().split(",")).length;Y<H;Y++)z[Y]=Y%2?c(m[Y-1],m[Y],y).y:c(m[Y],m[Y+1],y).x;return z}function S(t,e){function i(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(G.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":r="C"===i||"S"===i?(n=2*e.x-e.bx,2*e.y-e.by):(n=e.x,e.y),t=["C",n,r].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(w(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(w(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(M(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(M(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(M(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(M(e.x,e.y,e.X,e.Y))}return t}function n(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)c[e]="A",s&&(h[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),o=Math.max(a.length,s&&s.length||0)}}function r(t,e,i,n,r){t&&e&&"M"===t[r][0]&&"M"!==e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],o=Math.max(a.length,s&&s.length||0))}var o,a=_(t),s=e&&_(e),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],h=[],p="",f="";o=Math.max(a.length,s&&s.length||0);for(var d=0;d<o;d++){a[d]&&(p=a[d][0]),"C"!==p&&(c[d]=p,d&&(f=c[d-1])),a[d]=i(a[d],l,f),"A"!==c[d]&&"C"===p&&(c[d]="C"),n(a,d),s&&(s[d]&&(p=s[d][0]),"C"!==p&&(h[d]=p,d&&(f=h[d-1])),s[d]=i(s[d],u,f),"A"!==h[d]&&"C"===p&&(h[d]="C"),n(s,d)),r(a,s,l,u,d),r(s,a,u,l,d);var g=a[d],v=s&&s[d],y=g.length,m=s&&v.length;l.x=g[y-2],l.y=g[y-1],l.bx=parseFloat(g[y-4])||l.x,l.by=parseFloat(g[y-3])||l.y,u.bx=s&&(parseFloat(v[m-4])||u.x),u.by=s&&(parseFloat(v[m-3])||u.y),u.x=s&&v[m-2],u.y=s&&v[m-1]}return s?[a,s]:a}e.pathTocurve=S;function a(t){return t.join(",").replace(o,"$1")}var o=/,?([a-z]),?/gi;e.parsePathArray=a;function C(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function O(t,e,i,n,r,o,a,s,l){null===l&&(l=1);for(var u=(l=1<l?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var d=u*c[f]+u,g=C(d,t,i,r,a),v=C(d,e,n,o,s),y=g*g+v*v;p+=h[f]*Math.sqrt(y)}return u*p}function k(t,e,i,n,r,o,a,s){if(!(Math.max(t,i)<Math.min(r,a)||Math.min(t,i)>Math.max(r,a)||Math.max(e,n)<Math.min(o,s)||Math.min(e,n)>Math.max(o,s))){var l=(t-i)*(o-s)-(e-n)*(r-a);if(l){var u=((t*n-e*i)*(r-a)-(t-i)*(r*s-o*a))/l,c=((t*n-e*i)*(o-s)-(e-n)*(r*s-o*a))/l,h=+u.toFixed(2),p=+c.toFixed(2);if(!(h<+Math.min(t,i).toFixed(2)||h>+Math.max(t,i).toFixed(2)||h<+Math.min(r,a).toFixed(2)||h>+Math.max(r,a).toFixed(2)||p<+Math.min(e,n).toFixed(2)||p>+Math.max(e,n).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:u,y:c}}}}function P(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function s(t,e,i,n,r){if(r)return[["M",+t+ +r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]];return o.parsePathArray=a,o}e.rectPath=s;function A(t,e,i,n){return null===t&&(t=e=i=n=0),null===e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:Math.min(i,n)/2,r2:Math.max(i,n)/2,r0:Math.sqrt(i*i+n*n)/2,path:s(t,e,i,n),vb:[t,e,i,n].join(" ")}}function L(t,e,i,n,r,o,a,s){u.isArray(t)||(t=[t,e,i,n,r,o,a,s]);var l=function(t,e,i,n,r,o,a,s){for(var l,u,c,h,p=[],f=[[],[]],d=0;d<2;++d)if(c=0===d?(u=6*t-12*i+6*r,l=-3*t+9*i-9*r+3*a,3*i-3*t):(u=6*e-12*n+6*o,l=-3*e+9*n-9*o+3*s,3*n-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;0<(h=-c/u)&&h<1&&p.push(h)}else{var g=u*u-4*c*l,v=Math.sqrt(g);if(!(g<0)){var y=(-u+v)/(2*l);0<y&&y<1&&p.push(y);var m=(-u-v)/(2*l);0<m&&m<1&&p.push(m)}}for(var x,b=p.length,_=b;b--;)x=1-(h=p[b]),f[0][b]=x*x*x*t+3*x*x*h*i+3*x*h*h*r+h*h*h*a,f[1][b]=x*x*x*e+3*x*x*h*n+3*x*h*h*o+h*h*h*s;return f[0][_]=t,f[1][_]=e,f[0][_+1]=a,f[1][_+1]=s,f[0].length=f[1].length=_+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return A(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function T(t,e,i,n,r,o,a,s,l){var u=1-l,c=Math.pow(u,3),h=Math.pow(u,2),p=l*l,f=p*l,d=t+2*l*(i-t)+p*(r-2*i+t),g=e+2*l*(n-e)+p*(o-2*n+e),v=i+2*l*(r-i)+p*(a-2*r+i),y=n+2*l*(o-n)+p*(s-2*o+n);return{x:c*t+3*h*l*i+3*u*l*l*r+f*a,y:c*e+3*h*l*n+3*u*l*l*o+f*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:u*t+l*i,y:u*e+l*n},end:{x:u*r+l*a,y:u*o+l*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}}function D(t,e,i){if(n=L(t),r=L(e),n=A(n),r=A(r),!(P(r,n.x,n.y)||P(r,n.x2,n.y)||P(r,n.x,n.y2)||P(r,n.x2,n.y2)||P(n,r.x,r.y)||P(n,r.x2,r.y)||P(n,r.x,r.y2)||P(n,r.x2,r.y2)||(n.x<r.x2&&n.x>r.x||r.x<n.x2&&r.x>n.x)&&(n.y<r.y2&&n.y>r.y||r.y<n.y2&&r.y>n.y)))return i?0:[];for(var n,r,o=~~(O.apply(0,t)/8),a=~~(O.apply(0,e)/8),s=[],l=[],u={},c=i?0:[],h=0;h<1+o;h++){var p=T.apply(0,t.concat(h/o));s.push({x:p.x,y:p.y,t:h/o})}for(h=0;h<1+a;h++)p=T.apply(0,e.concat(h/a)),l.push({x:p.x,y:p.y,t:h/a});for(h=0;h<o;h++)for(var f=0;f<a;f++){var d=s[h],g=s[h+1],v=l[f],y=l[f+1],m=Math.abs(g.x-d.x)<.001?"y":"x",x=Math.abs(y.x-v.x)<.001?"y":"x",b=k(d.x,d.y,g.x,g.y,v.x,v.y,y.x,y.y);if(b){if(u[b.x.toFixed(4)]===b.y.toFixed(4))continue;u[b.x.toFixed(4)]=b.y.toFixed(4);var _=d.t+Math.abs((b[m]-d[m])/(g[m]-d[m]))*(g.t-d.t),M=v.t+Math.abs((b[x]-v[x])/(y[x]-v[x]))*(y.t-v.t);0<=_&&_<=1&&0<=M&&M<=1&&(i?c+=1:c.push({x:b.x,y:b.y,t1:_,t2:M}))}}return c}e.intersection=function(t,e){return function(t,e){var i,n,r,o,a,s,l,u,c,h;t=S(t),e=S(e);for(var p=[],f=0,d=t.length;f<d;f++){var g=t[f];if("M"===g[0])i=a=g[1],n=s=g[2];else{n="C"===g[0]?(i=(c=[i,n].concat(g.slice(1)))[6],c[7]):(c=[i,n,i,n,a,s,a,s],i=a,s);for(var v=0,y=e.length;v<y;v++){var m=e[v];if("M"===m[0])r=l=m[1],o=u=m[2];else{o="C"===m[0]?(r=(h=[r,o].concat(m.slice(1)))[6],h[7]):(h=[r,o,r,o,l,u,l,u],r=l,u);for(var x=D(c,h,void 0),b=0,_=x.length;b<_;b++)x[b].segment1=f,x[b].segment2=v,x[b].bez1=c,x[b].bez2=h;p=p.concat(x)}}}}return p}(t,e)},e.fillPath=function(n,t){if(1===n.length)return n;var r=n.length-1,e=t.length-1,i=r/e,o=[];if(1===n.length&&"M"===n[0][0]){for(var a=0;a<e-r;a++)n.push(n[0]);return n}for(a=0;a<e;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var l=o.reduce(function(t,e,i){return i===r?t.concat(n[r]):t.concat(function(p,t,e){if(1===e)return[[].concat(p)];var i=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])i=i.concat(function(t,e){var i=[[p[1],p[2]]];e=e||2;var n,r,o,a,s=[];"A"===t[0]?(i.push(t[6]),i.push(t[7])):"C"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]]),i.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]])):i.push([t[1],t[2]]);for(var l=i,u=1/e,c=0;c<e-1;c++){var h=(r=u/(1-u*c),a=o=void 0,o=[],a=[],(n=l).length&&function t(e,i){if(1===e.length)o.push(e[0]),a.push(e[0]);else{for(var n=[],r=0;r<e.length-1;r++)0===r&&o.push(e[0]),r===e.length-2&&a.push(e[r+1]),n[r]=[(1-i)*e[r][0]+i*e[r+1][0],(1-i)*e[r][1]+i*e[r+1][1]];t(n,i)}}(n,r),{left:o,right:a.reverse()});s.push(h.left),l=h.right}return s.push(l),s.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])})}(t,e));else{var n=[].concat(p);"M"===n[0]&&(n[0]="L");for(var r=0;r<=e-1;r++)i.push(n)}return i}(n[i],n[i+1],e))},[]);return l.unshift(n[0]),"Z"!==t[e]&&"z"!==t[e]||l.push("Z"),l};function y(t,i){if(t.length===i.length){var n=!0;return u.each(t,function(t,e){if(t!==i[e])return n=!1}),n}}function c(t,e,i){for(var n,r=[].concat(t),o=1/(i+1),a=h(e)[0],s=1;s<=i;s++)o*=s,0===(n=Math.floor(t.length*o))?r.unshift([a[0]*o+t[n][0]*(1-o),a[1]*o+t[n][1]*(1-o)]):r.splice(n,0,[a[0]*o+t[n][0]*(1-o),a[1]*o+t[n][1]*(1-o)]);return r}function h(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}e.fillPathByDiff=function(t,e){var i=function(t,e){var i,n,r,o,a,s,l=t.length,u=e.length,c=0;if(0===l||0===u)return null;for(var h=[],p=0;p<=l;p++)h[p]=[],h[p][0]={min:p};for(var f=0;f<=u;f++)h[0][f]={min:f};for(p=1;p<=l;p++)for(i=t[p-1],f=1;f<=u;f++){n=e[f-1],c=y(i,n)?0:1;var d=h[p-1][f].min+1,g=h[p][f-1].min+1,v=h[p-1][f-1].min+c;h[p][f]=(s=a=void 0,a=null,(o=g)<(s=v)&&(s=o,a="add"),(r=d)<s&&(s=r,a="del"),{type:a,min:s})}return h}(t,e),n=t.length,r=e.length,o=[],a=1,s=1;if(i[n][r]!==n){for(var l=1;l<=n;l++){var u=i[l][l].min;s=l;for(var c=a;c<=r;c++)i[l][c].min<u&&(u=i[l][c].min,s=c);a=s,i[l][a].type&&o.push({index:l-1,type:i[l][a].type})}for(l=o.length-1;0<=l;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=r-(n=t.length);if(n<r)for(l=0;l<h;l++)"z"===t[n-1][0]||"Z"===t[n-1][0]?t.splice(n-2,0,t[n-2]):t.push(t[n-1]),n+=1;return t},e.formatPath=function(t,e){if(t.length<=1)return t;for(var i,n=0;n<e.length;n++)if(t[n][0]!==e[n][0])switch(i=h(t[n]),e[n][0]){case"M":t[n]=["M"].concat(i[0]);break;case"L":t[n]=["L"].concat(i[0]);break;case"A":t[n]=[].concat(e[n]),t[n][6]=i[0][0],t[n][7]=i[0][1];break;case"Q":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=c(i,t[n-1],1)}t[n]=["Q"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[n]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(0<n)){t[n]=e[n];break}i=c(i,t[n-1],2)}t[n]=["C"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=c(i,t[n-1],1)}t[n]=["S"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;default:t[n]=e[n]}return t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(43);e.Arc=n.default;var r=i(44);e.Circle=r.default;var o=i(45);e.Dom=o.default;var a=i(46);e.Ellipse=a.default;var s=i(47);e.Fan=s.default;var l=i(48);e.Image=l.default;var u=i(49);e.Line=u.default;var c=i(17);e.Marker=c.default;var h=i(50);e.Path=h.default;var p=i(51);e.Polygon=p.default;var f=i(52);e.Polyline=f.default;var d=i(53);e.Rect=d.default;var g=i(54);e.Text=g.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0).createDom('<canvas width="500" height="500"></canvas>').getContext("2d");e.default=function(t,e,i){return i.createPath(n),n.isPointInPath(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=i(0),s=i(6),o=i(3),l=i(8),u=i(4),c=i(2),h=i(40),p=(n=o.default,r.__extends(f,n),f.prototype.getDefaultAttrs=function(){return{path:null,x:0,y:0,lineWidth:1}},f.prototype.isPointInPath=function(t,e){var i=this.attrs,n=i.x,r=i.y,o=i.radius,a=this.getHitLineWidth();return u.circle(n,r,o+a/2,t,e)},f.prototype.calculateBox=function(){var t=this.attrs,e=t.x,i=t.y,n=t.radius,r=this.getHitLineWidth()/2+n;return c.default.fromRange(e-r,i-r,e+r,i+r)},f.prototype._getPath=function(){var t,e=this.attrs,i=e.x,n=e.y,r=e.radius,o=e.symbol||"circle";return(t=a.isFunction(o)?o:h.default.get(o))?t(i,n,r):(console.warn(t+" symbol is not exist."),null)},f.prototype.createPath=function(t){var e=this.cfg.segments;if(!e||this.cfg.hasUpdate){var i,n=s.parsePath(this._getPath());for(t.beginPath(),e=[],o=0;o<n.length;o++){var r=n[o];i=new l.default(r,i,o===n.length-1),e.push(i),i.draw(t)}this.cfg.segments=e,this.cfg.hasUpdate=!1}else{t.beginPath();for(var o=0;o<e.length;o++)e[o].draw(t)}},f.symbolsFactory=h.default,f);function f(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),_=o.vec2;function M(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function l(t,e,i,n,r,o,a,s,l){var u,c,h,p,f,d,g,v=.005,y=1/0,m=[a,s];for(f=0;f<1;f+=.05)h=[M(t,i,r,f),M(e,n,o,f)],(c=_.squaredDistance(m,h))<y&&(u=f,y=c);for(y=1/0,g=0;g<32&&!(v<1e-4);g++){var x=u-v,b=u+v;h=[M(t,i,r,x),M(e,n,o,x)],c=_.squaredDistance(m,h),0<=x&&c<y?(u=x,y=c):(p=[M(t,i,r,b),M(e,n,o,b)],d=_.squaredDistance(m,p),b<=1&&d<y?(u=b,y=d):v*=.5)}return l?{x:M(t,i,r,u),y:M(e,n,o,u)}:Math.sqrt(y)}e.at=M,e.pointDistance=l,e.extrema=function(t,e,i){var n=t+i-2*e;if(o.isNumberEqual(n,0))return[.5];var r=(t-e)/n;return r<=1&&0<=r?[r]:[]},e.projectPoint=function(t,e,i,n,r,o,a,s){return l(t,e,i,n,r,o,a,s,!0)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=i(0),r=i(10),o=i(2),l=i(15),u={};function c(t,e,i){for(var n,r=t.length-1;0<=r;r--){var o=t[r];if(o.cfg.visible&&o.cfg.capture&&!o.destroyed&&!o.removed&&(o.isGroup?n=o.getShape(e,i):o.isHit(e,i)&&(n=o)),n)break}return n}var a,h=(a=r.default,n.__extends(p,a),p.prototype._beforeRenderUI=function(){},p.prototype._renderUI=function(){},p.prototype._bindUI=function(){},p.prototype.addShape=function(t,e){var i=this.get("canvas");e=e||{};var n=u[t];if(n||(n=s.upperFirst(t),u[t]=n),e.attrs&&i){var r=e.attrs;if("text"===t){var o=i.get("fontFamily");o&&(r.fontFamily=r.fontFamily?r.fontFamily:o)}}e.canvas=i,e.type=t;var a=new l[n](e);return this.add(a),a},p.prototype.addGroup=function(t,e){var i,n=this.get("canvas");if(e=s.mix({},e),s.isFunction(t))i=e?(e.canvas=n,e.parent=this,new t(e)):new t({canvas:n,parent:this}),this.add(i);else if(s.isObject(t))t.canvas=n,i=new p(t),this.add(i);else{if(void 0!==t)return!1;i=new p,this.add(i)}return i},p.prototype.renderBack=function(t,e){var i=this.get("backShape"),n=this.getBBox();return s.mix(e,{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2]}),i?i.attr(e):i=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",i),this.sort(),i},p.prototype.removeChild=function(t,e){if(2<=arguments.length)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!s.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),a.prototype.remove.call(this,e)}return this},p.prototype.add=function(t){var i=this,e=i.get("children");if(s.isArray(t))s.each(t,function(t){var e=t.get("parent");e&&e.removeChild(t,!1),i._setCfgProperty(t)}),i.cfg.children=e.concat(t);else{var n=t,r=n.get("parent");r&&r.removeChild(n,!1),i._setCfgProperty(n),e.push(n)}return i},p.prototype._setCfgProperty=function(t){var e=this.cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},p.prototype.contain=function(t){return-1<this.get("children").indexOf(t)},p.prototype.getChildByIndex=function(t){return this.get("children")[t]},p.prototype.getFirst=function(){return this.getChildByIndex(0)},p.prototype.getLast=function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},p.prototype.getBBox=function(){var d=1/0,g=-1/0,v=1/0,y=-1/0,t=this.get("children");return 0<t.length?s.each(t,function(t){if(t.get("visible")){var e=t.getBBox();if(!e)return!0;var i=e.tl,n=e.tr,r=e.bl,o=e.br,a=[i.x,i.y,1],s=[r.x,r.y,1],l=[n.x,n.y,1],u=[o.x,o.y,1];t.apply(a),t.apply(s),t.apply(l),t.apply(u);var c=Math.min(a[0],s[0],l[0],u[0]),h=Math.max(a[0],s[0],l[0],u[0]),p=Math.min(a[1],s[1],l[1],u[1]),f=Math.max(a[1],s[1],l[1],u[1]);c<d&&(d=c),g<h&&(g=h),p<v&&(v=p),y<f&&(y=f)}}):y=v=g=d=0,new o.default(d,v,g-d,y-v)},p.prototype.getCount=function(){return this.get("children").length},p.prototype.sort=function(){var n,t=this.get("children");return s.each(t,function(t,e){return t._INDEX=e,t}),t.sort((n=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(t,e){var i=n(t,e);return 0===i?t._INDEX-e._INDEX:i})),this},p.prototype.findById=function(e){return this.find(function(t){return t.get("id")===e})},p.prototype.find=function(e){if(s.isString(e))return this.findById(e);var t=this.get("children"),i=null;return s.each(t,function(t){if(e(t)?i=t:t.find&&(i=t.find(e)),i)return!1}),i},p.prototype.findAll=function(e){var t=this.get("children"),i=[],n=[];return s.each(t,function(t){e(t)&&i.push(t),t.findAllBy&&(n=t.findAllBy(e),i=i.concat(n))}),i},p.prototype.findBy=function(e){var t=this.get("children"),i=null;return s.each(t,function(t){if(e(t)?i=t:t.findBy&&(i=t.findBy(e)),i)return!1}),i},p.prototype.findAllBy=function(e){var t=this.get("children"),i=[],n=[];return s.each(t,function(t){e(t)&&i.push(t),t.findAllBy&&(n=t.findAllBy(e),i=i.concat(n))}),i},p.prototype.getShape=function(t,e,i){var n,r=this.attrs.clip,o=this.cfg.children;if(r){var a=[t,e,1];r.invert(a,this.get("canvas")),r.isPointInPath(a[0],a[1])&&(n=c(o,t,e))}else n=c(o,t,e);return n},p.prototype.clearTotalMatrix=function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this.cfg.children,e=0;e<t.length;e++)t[e].clearTotalMatrix()}},p.prototype.clear=function(t){if(!this.destroyed){for(var e=this.cfg.children,i=e.length-1;0<=i;i--)e[i].remove(!0,t);return this.cfg.children=[],this}},p.prototype.destroy=function(){this.destroyed||(this.clear(),a.prototype.destroy.call(this))},p.prototype.clone=function(){var t=this.cfg.children,e=new p;return s.each(t,function(t){e.add(t.clone())}),e},p);function p(t){void 0===t&&(t={});var e=a.call(this,t)||this;return e.isGroup=!0,e.type="group",e.canFill=!0,e.canStroke=!0,e.set("children",[]),e.set("tobeRemoved",[]),e._beforeRenderUI(),e._renderUI(),e._bindUI(),e}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(2);e.BBox=r.default;var o=i(21);e.Canvas=o.default;var a=i(10);e.Element=a.default;var s=i(11);e.Event=s.default;var l=i(19);e.Group=l.default;var u=i(8);e.PathSegment=u.default;var c=i(3);e.Shape=c.default;var h=i(14);e.PathUtil=h;var p=i(15);e.Shapes=p;var f=i(55);e.version=f.version,n.__exportStar(i(15),e),n.__exportStar(i(56),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=i(0),r=i(22),o=i(11),a=i(42),l=i(19),u=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"],c=null,h=null,p=null;function f(t){return+t}var d,g=(d=l.default,n.__extends(v,d),v.prototype._scale=function(){if("svg"!==this.cfg.renderType){var t=this.get("pixelRatio");this.scale(t,t)}},v.prototype._setGlobalParam=function(){var t=this.get("renderer")||"canvas";"svg"===t?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",s.getRatio()),this.cfg.renderType=t;var e=r[t];this.cfg.renderer=e,this.cfg.canvas=this;var i=new a.default(this);this.cfg.timeline=i},v.prototype._setContainer=function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),s.modifyCSS(e,{position:"relative"});for(var i=e.style.transform,n=[],r=/(\w+)\((.+?)\)/g,o=r.exec(i);o;)n.push([o[1],o[2].split(", ")]),o=r.exec(i);var a={scaleX:1,scaleY:1};s.each(n,function(t,e){var i=t[0],n=t[1]&&t[1][0],r=t[1]&&t[1][1];"scale"===i?(a.scaleX=s.isNil(n)?1:f(n),a.scaleY=s.isNil(r)?a.scaleX:f(r)):i===e&&(a[e]=n)}),this.set("containerTransform",a)},v.prototype._initPainter=function(){var t=this.get("containerDOM"),e=new this.cfg.renderer.painter(t);this.cfg.painter=e,this.cfg.canvasDOM=this.cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},v.prototype._resize=function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),i=this.get("heightCanvas"),n=this.get("widthStyle"),r=this.get("heightStyle");t.style.width=n,t.style.height=r,t.setAttribute("width",e),t.setAttribute("height",i)},v.prototype.getWidth=function(){var t=this.get("pixelRatio");return this.get("width")*t},v.prototype.getHeight=function(){var t=this.get("pixelRatio");return this.get("height")*t},v.prototype.changeSize=function(t,e){var i=this.get("pixelRatio"),n=t*i,r=e*i;this.set("widthCanvas",n),this.set("heightCanvas",r),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},v.prototype.getPointByClient=function(t,e){var i=this.get("containerTransform"),n=i.scaleX,r=i.scaleY,o=this.get("el"),a=this.get("pixelRatio")||1,s=o.getBoundingClientRect();return{x:(t-s.left)*a/n,y:(e-s.top)*a/r}},v.prototype.getClientByPoint=function(t,e){var i=this.get("containerTransform"),n=i.scaleX,r=i.scaleY,o=this.get("el").getBoundingClientRect(),a=this.get("pixelRatio")||1;return{clientX:t/a*n+o.left,clientY:e/a*r+o.top}},v.prototype.draw=function(){this.cfg.painter.draw(this)},v.prototype.getShape=function(t,e,i){return 3===arguments.length&&this.cfg.renderer.getShape?this.cfg.renderer.getShape.call(this,t,e,i):d.prototype.getShape.call(this,t,e)},v.prototype.getRenderer=function(){return this.cfg.renderType},v.prototype._drawSync=function(){this.cfg.painter.drawSync(this)},v.prototype.destroy=function(){var t=this.cfg,e=t.containerDOM,i=t.canvasDOM;i&&e&&e.removeChild(i),t.timeline.stop(),d.prototype.destroy.call(this)},v.prototype.registerEvent=function(){var i=this,t=this.get("el");s.each(u,function(e){t.addEventListener(e,function(t){i._triggerEvent(e,t)},!1)}),t.addEventListener("touchstart",function(t){s.isEmpty(t.targetTouches)||i._triggerEvent("touchstart",t)},!1),t.addEventListener("touchmove",function(t){s.isEmpty(t.targetTouches)||i._triggerEvent("touchmove",t)},!1),t.addEventListener("touchend",function(t){s.isEmpty(t.changedTouches)||i._triggerEvent("touchend",t)},!1)},v.prototype._getEmitter=function(t,e){if(t){if(!s.isEmpty(t.getEvents()))return t;var i=t.get("parent");if(i&&!e.propagationStopped)return this._getEmitter(i,e)}},v.prototype._getEventObj=function(t,e,i,n){var r=new o.default(t,e,!0,!0);return r.x=i.x,r.y=i.y,r.clientX=e.clientX,r.clientY=e.clientY,r.target=n,r.currentTarget=this._getEmitter(n,r),r},v.prototype._getClientXY=function(t,e){return"touchstart"===t||"touchmove"===t?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:"touchend"===t?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[e.clientX,e.clientY]},v.prototype._triggerEvent=function(t,e){var i=this._getClientXY(t,e),n=i[0],r=i[1],o=this.getPointByClient(n,r),a=this.getShape(o.x,o.y,e),s=this.get("el");if(p&&"svg"===this.getRenderer()&&(a=this.getShape(o.x,o.y)),"mousemove"===t){if(c&&c!==a&&(this._emitEvent("mouseout",e,o,c),this._emitEvent("mouseleave",e,o,c),p&&this._emitEvent("dragleave",e,o,c),c.destroyed||c.removed||(s.style.cursor=c.attr("cursor")||"default")),p&&(this._emitEvent("drag",e,o,p),this._emitEvent("mousemove",e,o,a||this)),a)p||(h===a?(p=a,h=null,this._emitEvent("dragstart",e,o,a)):this._emitEvent("mousemove",e,o,a)),c!==a&&(this._emitEvent("mouseenter",e,o,a),this._emitEvent("mouseover",e,o,a),p&&this._emitEvent("dragenter",e,o,a));else{var l=this._getEventObj("mousemove",e,o,this);this.emit("mousemove",l)}c=a}else this._emitEvent(t,e,o,a||this),p||"mousedown"!==t||(h=a),"mouseup"===t&&(h=null,p&&(p.cfg.capture=!0,this._emitEvent("dragend",e,o,p),p=null,this._emitEvent("drop",e,o,a||this)));a&&!a.destroyed&&(s.style.cursor=a.attr("cursor")||"default")},v.prototype._emitEvent=function(t,e,i,n){var r=this._getEventObj(t,e,i,n),o=this._getEmitter(n,e);return o&&o.emit(t,r),o},v);function v(t){var e=d.call(this,n.__assign({eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},t))||this;return e._setGlobalParam(),e._setContainer(),e._initPainter(),e._scale(),e.get("eventEnable")&&e.registerEvent(),e}e.default=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(23);e.canvas=n;var r=i(26);e.svg=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(24);e.painter=n.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=i(25),s=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],n=(r.prototype.beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},r.prototype.draw=function(e){var i=this;i.animateHandler?i.toDraw=!0:function t(){i.animateHandler=o.requestAnimationFrame(function(){i.animateHandler=void 0,i.toDraw&&t()}),i.beforeDraw();try{i._drawGroup(e)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t)}finally{i.toDraw=!1}}()},r.prototype.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},r.prototype._drawGroup=function(t){if(!t.removed&&!t.destroyed&&t.cfg.visible){var e=t.cfg.children,i=null;this.setContext(t);for(var n=0;n<e.length;n++)i=e[n],e[n].isGroup?this._drawGroup(i):this._drawShape(i);this.restoreContext(t)}},r.prototype._drawShape=function(t){t.removed||t.destroyed||!t.cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t.cfg.attrs=t.attrs,t.cfg.hasUpdate=!1)},r.prototype.setContext=function(t){var e=this.context,i=t.attrs.clip;e.save(),i&&(i.resetTransform(e),i.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},r.prototype.restoreContext=function(t){this.context.restore()},r.prototype.resetContext=function(t){var e=this.context,i=t.attrs;if(!t.isGroup)for(var n in i)if(-1<s.indexOf(n)){var r=i[n];"fillStyle"===n&&(r=a.parseStyle(r,t,e)),"strokeStyle"===n&&(r=a.parseStyle(r,t,e)),"lineDash"===n&&e.setLineDash?o.isArray(r)?e.setLineDash(r):o.isString(r)&&e.setLineDash(r.split(" ")):e[n]=r}},r);function r(t){if(!t)return null;var e=o.uniqueId("canvas_"),i=o.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(i),this.type="canvas",this.canvas=i,this.context=i.getContext("2d"),this}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v=i(0),r=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,y=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,m=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,x=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function b(t,e){var i=t.match(x);v.each(i,function(t){t=t.split(":"),e.addColorStop(t[0],t[1])})}e.parsePath=function(n){return n=n||[],v.isArray(n)?n:v.isString(n)?(n=n.match(r),v.each(n,function(i,t){if(1<(i=i.match(o))[0].length){var e=i[0].charAt(0);i.splice(1,0,i[0].substr(1)),i[0]=e}v.each(i,function(t,e){isNaN(t)||(i[e]=+t)}),n[t]=i}),n):void 0},e.parseStyle=function(t,e,i){if(v.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,i){var n,r,o=y.exec(t),a=v.mod(v.toRadian(parseFloat(o[1])),2*Math.PI),s=o[2],l=e.getBBox(),u=l.maxX,c=l.maxY;r=0<=a&&a<.5*Math.PI?(n={x:l.x,y:l.y},{x:u,y:c}):.5*Math.PI<=a&&a<Math.PI?(n={x:u,y:l.y},{x:l.x,y:c}):Math.PI<=a&&a<1.5*Math.PI?(n={x:u,y:c},{x:l.x,y:l.y}):(n={x:l.x,y:c},{x:u,y:l.y});var h=Math.tan(a),p=h*h,f=(r.x-n.x+h*(r.y-n.y))/(1+p)+n.x,d=h*(r.x-n.x+h*(r.y-n.y))/(1+p)+n.y,g=i.createLinearGradient(n.x,n.y,f,d);return b(s,g),g}(t,e,i);if("r"===t[0])return function(t,e,i){var n=m.exec(t),r=parseFloat(n[1]),o=parseFloat(n[2]),a=parseFloat(n[3]),s=n[4];if(0===a){var l=s.match(x);return l[l.length-1].split(":")[1]}var u=e.getBBox(),c=u.maxX,h=u.maxY,p=c-u.x,f=h-u.y,d=Math.sqrt(p*p+f*f)/2,g=i.createRadialGradient(u.x+p*r,u.y+f*o,a*d,u.x+p/2,u.y+f/2,d);return b(s,g),g}(t,e,i);if("p"===t[0])return function(t,e,i){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var n,r,o=u.exec(t),a=o[1],s=o[2];function l(){n=i.createPattern(r,a),e.setSilent("pattern",n),e.setSilent("patternSource",t)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return r=new Image,s.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=s,r.complete?l():(r.onload=l,r.src=r.src),n}(t,e,i)}return t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(27);e.painter=n.default;var r=i(41);e.getShape=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v=i(0),o=i(28),n=i(30),s=i(6),l=(i(17).default.symbolsFactory,{rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"}),u={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},a={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},c={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},h={left:"left",start:"left",center:"middle",right:"end",end:"end"},r=(p.prototype.draw=function(e){var i=this;i.animateHandler?i.toDraw=!0:function t(){i.animateHandler=v.requestAnimationFrame(function(){i.animateHandler=void 0,i.toDraw&&t()});try{i._drawChildren(e)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t)}finally{i.toDraw=!1}}()},p.prototype.drawSync=function(t){this._drawChildren(t)},p.prototype._drawGroup=function(t,e){var i=t.cfg;t.removed||t.destroyed||(i.tobeRemoved&&(v.each(i.tobeRemoved,function(t){t.parentNode&&t.parentNode.removeChild(t)}),i.tobeRemoved=[]),this._drawShape(t,e),i.children&&0<i.children.length&&this._drawChildren(t))},p.prototype._drawChildren=function(t){var e,i=t.cfg.children;if(i)for(var n=0;n<i.length;n++)(e=i[n]).isGroup?this._drawGroup(e,n):this._drawShape(e,n)},p.prototype._drawShape=function(t,e){var i=t.attrs,n=t.cfg,r=n.el;t.removed||t.destroyed?r&&r.parentNode.removeChild(n.el):(!r&&n.parent&&(this._createDom(t,e),this._updateShape(t)),r=n.el,!1!==n.visible?(n.visible&&r.hasAttribute("visibility")&&r.removeAttribute("visibility"),n.hasUpdate&&this._updateShape(t),i.clip&&i.clip.cfg.hasUpdate&&this._updateShape(i.clip)):r.setAttribute("visibility","hidden"))},p.prototype._updateShape=function(t){var e=t.attrs,i=t.cfg.attrs;if(i)if(t.cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){for(var n in"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t.cfg.el.setAttribute("d",this._assembleMarker(t,e)),"rect"===t.type&&t.cfg.el.setAttribute("d",this._assembleRect(e)),e)e[n]!==i[n]&&this._setAttribute(t,n,e[n]);t.cfg.attrs=v.deepMix({},t.attrs),t.cfg.hasUpdate=!1}else this._updateText(t)},p.prototype._setAttribute=function(t,e,i){var n=t.type,r=t.attrs,o=t.cfg.el,a=this.context;if("marker"!==n&&"rect"!==n||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(n)&&~["x","y"].indexOf(e))o.setAttribute("c"+e,parseInt(i,10));else{if("polygon"===n&&"points"===e)return i&&0!==i.length||(i=""),v.isArray(i)&&(i=(i=i.map(function(t){return t[0]+","+t[1]})).join(" ")),void o.setAttribute("points",i);if("path"!==e)if("img"!==e){if("transform"===e)return i?void this._setTransform(t):void o.removeAttribute("transform");if("rotate"===e)return i?void this._setTransform(t):void o.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e)if(~e.indexOf("Arrow"))if(e=u[e],i){var s;s="boolean"==typeof i?a.getDefaultArrow(r,e):a.addArrow(r,e),o.setAttribute(e,"url(#"+s+")"),t.cfg[e]=s}else t.cfg[e]=null,o.removeAttribute(e);else"html"===e&&("string"==typeof i?o.innerHTML=i:(o.innerHTML="",o.appendChild(i))),u[e]&&o.setAttribute(u[e],i)}else this._setColor(t,e,i);else this._setTransform(t)}else this._setImage(t,i);else v.isArray(i)&&o.setAttribute("d",this._formatPath(i))}},p.prototype._createDom=function(t,e){var i=l[t.type],n=t.attrs,r=t.cfg.parent;if(!i)throw new Error("the type"+t.type+"is not supported by svg");var o=document.createElementNS("http://www.w3.org/2000/svg",i);if(t.cfg.id&&(o.id=t.cfg.id),t.cfg.el=o,r){var a=r.cfg.el;if(void 0===e)a.appendChild(o);else{var s=r.cfg.el.childNodes;"svg"===a.tagName&&(e+=1),s.length<=e?a.appendChild(o):a.insertBefore(o,s[e])}}return t.cfg.attrs={},"text"===t.type?(o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(n.stroke||n.strokeStyle||o.setAttribute("stroke","none"),n.fill||n.fillStyle||o.setAttribute("fill","none")),o},p.prototype._assembleMarker=function(t,e){var i=t._getPath();return v.isArray(i)?i.map(function(t){return t.join(" ")}).join(""):i},p.prototype._assembleRect=function(t){var e=t.x,i=t.y,n=t.width,r=t.height,o=t.radius;if(!o)return"M "+e+","+i+" l "+n+",0 l 0,"+r+" l"+-n+" 0 z";var a=s.parseRadius(o);return v.isArray(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(e+a.r1)+","+i],["l "+(n-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(r-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-n)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-r)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},p.prototype._formatPath=function(t){return~(t=t.map(function(t){return t.join(" ")}).join("")).indexOf("NaN")?"":t},p.prototype._setTransform=function(t){for(var e=t.attrs.matrix,i=t.cfg.el,n=[],r=0;r<9;r+=3)n.push(e[r]+","+e[r+1]);-1===(n=n.join(",")).indexOf("NaN")?i.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)},p.prototype._setImage=function(t,e){var i=t.attrs,n=t.cfg.el;if(v.isString(e))n.setAttribute("href",e);else if(e instanceof Image)i.width||(n.setAttribute("width",e.width),t.attrs.width=e.width),i.height||(n.setAttribute("height",e.height),t.attrs.height=e.height),n.setAttribute("href",e.src);else if(e instanceof HTMLElement&&v.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())n.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+e.width),r.setAttribute("height",""+e.height),r.getContext("2d").putImageData(e,0,0),i.width||(n.setAttribute("width",e.width),t.attrs.width=e.width),i.height||(n.setAttribute("height",e.height),t.attrs.height=e.height),n.setAttribute("href",r.toDataURL())}},p.prototype._updateFan=function(t){function e(t,e,i){return{x:e*Math.cos(t)+i.x,y:e*Math.sin(t)+i.y}}var i=t.attrs,n=t.cfg,r={x:i.x,y:i.y},o=[],a=i.startAngle,s=i.endAngle;v.isNumberEqual(s-a,2*Math.PI)&&(s-=1e-5);var l=e(a,i.re,r),u=e(s,i.re,r),c=a<s?1:0,h=Math.abs(s-a)>Math.PI?1:0,p=i.rs,f=i.re,d=e(a,i.rs,r),g=e(s,i.rs,r);0<i.rs?(o.push("M "+u.x+","+u.y),o.push("L "+g.x+","+g.y),o.push("A "+p+","+p+",0,"+h+","+(1==c?0:1)+","+d.x+","+d.y),o.push("L "+l.x+" "+l.y)):(o.push("M "+r.x+","+r.y),o.push("L "+l.x+","+l.y)),o.push("A "+f+","+f+",0,"+h+","+c+","+u.x+","+u.y),0<i.rs?o.push("L "+g.x+","+g.y):o.push("Z"),n.el.setAttribute("d",o.join(" "))},p.prototype._updateText=function(t){var e=t.attrs,i=t.cfg.attrs,n=t.cfg.el;for(var r in this._setFont(t),e)if(e[r]!==i[r]){if("text"===r){this._setText(t,""+e[r]);continue}if("fillStyle"===r||"strokeStyle"===r){this._setColor(t,r,e[r]);continue}if("matrix"===r){this._setTransform(t);continue}u[r]&&n.setAttribute(u[r],e[r])}t.cfg.attrs=Object.assign({},t.attrs),t.cfg.hasUpdate=!1},p.prototype._setFont=function(t){var e=t.get("el"),i=t.attrs,n=i.fontSize,r=o.detect();r&&"firefox"===r.name?e.setAttribute("dominant-baseline",c[i.textBaseline]||"alphabetic"):e.setAttribute("alignment-baseline",a[i.textBaseline]||"baseline"),e.setAttribute("text-anchor",h[i.textAlign]||"left"),n&&+n<12&&(i.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-i.x,-i.y],["s",n/12,n/12],["t",i.x,i.y]]))},p.prototype._setText=function(t,e){var i=t.cfg.el,n=t.attrs.textBaseline||"bottom";if(e)if(~e.indexOf("\n")){var r=t.attrs.x,o=e.split("\n"),a=o.length-1,s="";v.each(o,function(t,e){0===e?"alphabetic"===n?s+='<tspan x="'+r+'" dy="'+-a+'em">'+t+"</tspan>":"top"===n?s+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===n?s+='<tspan x="'+r+'" dy="'+-(a-1)/2+'em">'+t+"</tspan>":"bottom"===n?s+='<tspan x="'+r+'" dy="-'+(.3+a)+'em">'+t+"</tspan>":"hanging"===n&&(s+='<tspan x="'+r+'" dy="'+(-(a-1)-.3)+'em">'+t+"</tspan>"):s+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"}),i.innerHTML=s}else i.innerHTML=e;else i.innerHTML=""},p.prototype._setClip=function(t,e){var i=t.cfg.el;if(e)if(i.hasAttribute("clip-path"))e.cfg.hasUpdate&&this._updateShape(e);else{this._createDom(e),this._updateShape(e);var n=this.context.addClip(e);i.setAttribute("clip-path","url(#"+n+")")}else i.removeAttribute("clip-path")},p.prototype._setColor=function(t,e,i){var n=t.cfg.el,r=this.context;if(i)if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i))(o=r.find("gradient",i))||(o=r.addGradient(i)),n.setAttribute(u[e],"url(#"+o+")");else if(/^[p,P]{1}[\s]*\(/.test(i)){var o;(o=r.find("pattern",i))||(o=r.addPattern(i)),n.setAttribute(u[e],"url(#"+o+")")}else n.setAttribute(u[e],i);else n.setAttribute(u[e],"none")},p.prototype._setShadow=function(t){var e=t.cfg.el,i=t.attrs,n={dx:i.shadowOffsetX,dy:i.shadowOffsetY,blur:i.shadowBlur,color:i.shadowColor};if(n.dx||n.dy||n.blur||n.color){var r=this.context.find("filter",n);r=r||this.context.addShadow(n),e.setAttribute("filter","url(#"+r+")")}else e.removeAttribute("filter")},p);function p(t){if(this.toDraw=!1,this.type="svg",this.removed=!1,this.destroyed=!1,!t)return null;var e=v.uniqueId("canvas_"),i=v.createDom('<svg id="'+e+'"></svg>');return t.appendChild(i),this.type="svg",this.canvas=i,this.context=new n.default(i),this.toDraw=!1,this}e.default=r},function(t,c,e){"use strict";(function(e){var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n};Object.defineProperty(c,"__esModule",{value:!0});var a=function(t,e,i){this.name=t,this.version=e,this.os=i};c.BrowserInfo=a;var t=function(t){this.version=t,this.name="node",this.os=e.platform};c.NodeInfo=t;var s=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};c.BotInfo=s;var l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],o=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function i(o){var t=""!==o&&l.reduce(function(t,e){var i=e[0],n=e[1];if(t)return t;var r=n.exec(o);return!!r&&[i,r]},!1);if(!t)return null;var e=t[0],i=t[1];if("searchbot"===e)return new s;var n=i[1]&&i[1].split(/[._]/).slice(0,3);return n?n.length<3&&(n=r(n,function(t){for(var e=[],i=0;i<t;i++)e.push("0");return e}(3-n.length))):n=[],new a(e,n.join("."),u(o))}function u(t){for(var e=0,i=o.length;e<i;e++){var n=o[e],r=n[0];if(n[1].test(t))return r}return null}function n(){return void 0!==e&&e.version?new t(e.version.slice(1)):null}c.detect=function(t){return t?i(t):"undefined"!=typeof navigator?i(navigator.userAgent):n()},c.parseUserAgent=i,c.detectOS=u,c.getNodeVersion=n}).call(this,e(29))},function(t,e){var i,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,u=[],c=!1,h=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var t=s(p);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new d(t,e)),1!==u.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(31),o=i(32),a=i(33),s=i(34),l=i(35),u=(c.prototype.find=function(t,e){for(var i=this.children,n=null,r=0;r<i.length;r++)if(i[r].match(t,e)){n=i[r].id;break}return n},c.prototype.findById=function(t){for(var e=this.children,i=null,n=0;n<e.length;n++)if(e[n].id===t){i=e[n];break}return i},c.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},c.prototype.getDefaultArrow=function(t,e){var i=t.stroke||t.strokeStyle;if(this.defaultArrow[i])return this.defaultArrow[i].id;var n=new a.default(t,e);return this.defaultArrow[i]=n,this.el.appendChild(n.el),n.id},c.prototype.addGradient=function(t){var e=new r.default(t);return this.el.appendChild(e.el),this.add(e),e.id},c.prototype.addArrow=function(t,e){var i=new a.default(t,e);return this.el.appendChild(i.el),i.id},c.prototype.addShadow=function(t){var e=new o.default(t);return this.el.appendChild(e.el),this.add(e),e.id},c.prototype.addPattern=function(t){var e=new l.default(t);return this.el.appendChild(e.el),this.add(e),e.id},c.prototype.addClip=function(t){var e=new s.default(t);return this.el.appendChild(e.el),this.add(e),e.id},c);function c(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=n.uniqueId("defs_");e.id=i,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(0),p=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,c=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,n=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function f(t){var e=t.match(n);if(!e)return"";var i="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),h.each(e,function(t){t=t.split(":"),i+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),i}var r=(o.prototype.match=function(t,e){return this.cfg===e},o);function o(t){this.cfg={};var e,i,n,r,o,a,s,l=null,u=h.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var i,n,r=p.exec(t),o=h.mod(h.toRadian(parseFloat(r[1])),2*Math.PI),a=r[2];n=0<=o&&o<.5*Math.PI?(i={x:0,y:0},{x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(i={x:1,y:0},{x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(i={x:1,y:1},{x:0,y:0}):(i={x:0,y:1},{x:1,y:0});var s=Math.tan(o),l=s*s,u=(n.x-i.x+s*(n.y-i.y))/(1+l)+i.x,c=s*(n.x-i.x+s*(n.y-i.y))/(1+l)+i.y;e.setAttribute("x1",i.x),e.setAttribute("y1",i.y),e.setAttribute("x2",u),e.setAttribute("y2",c),e.innerHTML=f(a)}(t,l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):(e=t,i=l=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),n=c.exec(e),r=parseFloat(n[1]),o=parseFloat(n[2]),a=parseFloat(n[3]),s=n[4],i.setAttribute("cx",r),i.setAttribute("cy",o),i.setAttribute("r",a),i.innerHTML=f(s)),l.setAttribute("id",u),this.el=l,this.id=u,this.cfg=t,this}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),n={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},o={x:"-40%",y:"-40%",width:"200%",height:"200%"},a=(s.prototype.match=function(t,e){if(this.type!==t)return!1;var i=!0,n=this.cfg;return r.each(Object.keys(n),function(t){if(n[t]!==e[t])return i=!1}),i},s.prototype.update=function(t,e){var i=this.cfg;return i[n[t]]=e,this._parseShadow(i,this.el),this},s.prototype._parseShadow=function(t,e){var i='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=i},s);function s(t){this.type="filter",this.cfg={},this.type="filter";var i=document.createElementNS("http://www.w3.org/2000/svg","filter");return r.each(o,function(t,e){i.setAttribute(e,t)}),this.el=i,this.id=r.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,i),this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),n=(r.prototype.match=function(){return!1},r.prototype._setDefaultPath=function(t,e){var i=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),i.setAttribute("refX","3"),i.setAttribute("refY","3")},r.prototype._setMarker=function(t,e){var i=this.el,n=this.cfg.path,r=this.cfg.d;a.isArray(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",n),i.appendChild(e),r&&i.setAttribute("refX",""+r/t)},r.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},r);function r(t,e){this.cfg={};var i=document.createElementNS("http://www.w3.org/2000/svg","marker"),n=a.uniqueId("marker_");i.setAttribute("id",n);var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("stroke","none"),r.setAttribute("fill",t.stroke||"#000"),i.appendChild(r),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto-start-reverse"),this.el=i,this.child=r,this.id=n;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,r):this._setMarker(t.lineWidth,r),this}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=(o.prototype.match=function(){return!1},o.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},o);function o(t){this.type="clip",this.cfg={};var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=n.uniqueId("clip_"),e.id=this.id;var i=t.cfg.el;return e.appendChild(i.cloneNode(!0)),this.cfg=t,this}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),l=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,n=(r.prototype.match=function(t,e){return this.cfg===e},r);function r(t){this.cfg={};var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var i=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(i);var n=s.uniqueId("pattern_");e.id=n,this.el=e,this.id=n,this.cfg=t;var r=l.exec(t)[2];i.setAttribute("href",r);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return r.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=r,o.complete?a():(o.onload=a,o.src=o.src),this}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0);function r(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function a(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function s(t,e){r(e)||(a(e)?(t[0]*=e[0],t[4]*=e[4]):o.mat3.multiply(t,t,e))}var l,u=(l=i(37).default,n.__extends(c,l),c.prototype.getDefaultAttrs=function(){return{}},c.prototype.attr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],n=t[1];if(!i)return this.attrs;if(o.isObject(i)){for(var r in i)this._setAttr(r,i[r]);return this.clearBBox(),this.cfg.hasUpdate=!0,this}return 2===t.length?(this._setAttr(i,n),this.clearBBox(),this.cfg.hasUpdate=!0,this):this.attrs[i]},c.prototype._afterSetAttrPath=function(t){},c.prototype._setAttr=function(t,e){var i=this.attrs;i[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"!==t?"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):this._afterSetAttrPath(e):i.globalAlpha=e:i[t+"Style"]=e},c.prototype.clearBBox=function(){this.setSilent("box",null)},c.prototype.hasFill=function(){return this.canFill&&this.attrs.fillStyle},c.prototype.hasStroke=function(){return this.canStroke&&this.attrs.strokeStyle},c.prototype._setClip=function(t){t.cfg.renderer=this.cfg.renderer,t.cfg.canvas=this.cfg.canvas,t.cfg.parent=this.cfg.parent,t.hasFill=function(){return!0}},c.prototype.initTransform=function(){},c.prototype.resetMatrix=function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},c.prototype.translate=function(t,e){var i=this.attrs.matrix;return o.mat3.translate(i,i,[t,e]),this.clearTotalMatrix(),this.attr("matrix",i),this},c.prototype.rotate=function(t){var e=this.attrs.matrix;return o.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},c.prototype.scale=function(t,e){var i=this.attrs.matrix;return o.mat3.scale(i,i,[t,e]),this.clearTotalMatrix(),this.attr("matrix",i),this},c.prototype.rotateAtStart=function(t){var e=this.attrs.x||0,i=this.attrs.y||0;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-i],["r",t],["t",e,i]])},c.prototype.move=function(t,e){var i=this.get("x")||0,n=this.get("y")||0;return this.translate(t-i,e-n),this.set("x",t),this.set("y",e),this},c.prototype.transform=function(t){var e=this,i=this.attrs.matrix;return o.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",o.mat3.multiply([],i,t[1])),e.clearTotalMatrix()}}),this},c.prototype.setTransform=function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},c.prototype.getMatrix=function(){return this.attr("matrix")},c.prototype.setMatrix=function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},c.prototype.apply=function(t,e){var i;return i=e?this._getMatrixByRoot(e):this.attr("matrix"),o.vec3.transformMat3(t,t,i),this},c.prototype._getMatrixByRoot=function(t){t=t||this;for(var e=this,i=[];e!==t;)i.unshift(e),e=e.get("parent");i.unshift(e);var n=[1,0,0,0,1,0,0,0,1];return o.each(i,function(t){o.mat3.multiply(n,t.attr("matrix"),n)}),n},c.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this.cfg.parent;e&&s(t,e.getTotalMatrix()),s(t,this.attr("matrix")),this.cfg.totalMatrix=t}return t},c.prototype.clearTotalMatrix=function(){},c.prototype.invert=function(t){var e=this.getTotalMatrix();if(a(e))t[0]/=e[0],t[1]/=e[4];else{var i=o.mat3.invert([],e);i&&o.vec3.transformMat3(t,t,i)}return this},c.prototype.resetTransform=function(t){var e=this.attr("matrix");r(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])},c);function c(t){void 0===t&&(t={});var e=l.call(this,t)||this;return e.canFill=!1,e.canStroke=!1,e.attrs={},e.attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},e.attr(n.__assign(n.__assign({},e.getDefaultAttrs()),e.cfg.attrs)),e.cfg.attrs={},e}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(1),n=i(38),s=i(0),l=i(11),u=["click","mousedown","mouseup","dblclick","contextmenu","mouseover","mouseout","mousemove","wheel","touchstart","touchend","touchmove","dragstart","drag","dragend","dragenter","dragleave","drop"],r=(o=n.default,a.__extends(c,o),c.prototype.emit=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(o.prototype.emit.apply(this,a.__spreadArrays([t,e],i)),!(e instanceof l.default&&e.propagationStopped)&&0<=u.indexOf(t)){var r=this.cfg.parent;!r||r.removed||r.destroyed||r.emit.apply(r,a.__spreadArrays([t,e],i))}},c.prototype.set=function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this.cfg[t]=e,this},c.prototype.setSilent=function(t,e){this.cfg[t]=e},c.prototype.get=function(t){return this.cfg[t]},c.prototype.show=function(){return this.cfg.visible=!0,this},c.prototype.hide=function(){return this.cfg.visible=!1,this},c.prototype.remove=function(t,e){var i=this.cfg,n=i.parent,r=i.el;return n&&!n.destroyed&&s.pull(n.get("children"),this),r&&(e?n&&n.cfg.tobeRemoved.push(r):r.parentNode.removeChild(r)),!t&&void 0!==t||this.destroy(),this},c.prototype.destroy=function(){this.destroyed||(this.off(),this.cfg={},this.destroyed=!0)},c.prototype.getParent=function(){return this.cfg.parent},c.prototype.getDefaultCfg=function(){return{}},c.prototype.toFront=function(){var t=this.cfg,e=t.parent;if(e){var i=e.cfg.children,n=t.el,r=i.indexOf(this);i.splice(r,1),i.push(this),n&&(n.parentNode.removeChild(n),t.el=null)}},c.prototype.toBack=function(){var t=this.cfg,e=t.parent;if(e){var i=e.cfg.children,n=t.el,r=i.indexOf(this);if(i.splice(r,1),i.unshift(this),n){var o=n.parentNode;o.removeChild(n),o.insertBefore(n,o.firstChild)}}},c.prototype._beforeSetZIndex=function(t){var e=this.cfg.parent;this.cfg.zIndex=t,s.isNil(e)||e.sort();var i=this.cfg.el;if(i){var n=e.cfg.children,r=n.indexOf(this),o=i.parentNode;o.removeChild(i),r===n.length-1?o.appendChild(i):o.insertBefore(i,o.childNodes[r])}return t},c.prototype._beforeSetLoading=function(t){},c.prototype.setZIndex=function(t){return this.cfg.zIndex=t,this._beforeSetZIndex(t)},c.prototype.clone=function(){return s.clone(this)},c.prototype.getBBox=function(){},c);function c(t){void 0===t&&(t={});var e=o.call(this)||this;return e.destroyed=!1,e.removed=!1,e.cfg=a.__assign(a.__assign({canvas:null,capture:!0,context:null,parent:null,visible:!0,zIndex:0},t),e.getDefaultCfg()),e}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.on=function(t,e,i){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!i}),this},r.prototype.once=function(t,e){return this.on(t,e,!0),this},r.prototype.emit=function(o){for(var a=this,s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];function e(t){for(var e=t.length,i=0;i<e;i++){var n=t[i],r=n.callback;n.once&&(t.splice(i,1),0===t.length&&delete a._events[o],e--,i--),r.apply(a,s)}}var i=this._events[o]||[],n=this._events["*"]||[];e(i),e(n)},r.prototype.off=function(t,e){if(t)if(e){for(var i=this._events[t]||[],n=i.length,r=0;r<n;r++)i[r].callback===e&&(i.splice(r,1),n--,r--);0===i.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},r.prototype.getEvents=function(){return this._events},r);function r(){this._events={}}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.xAt=function(t,e,i,n,r){return e*Math.cos(t)*Math.cos(r)-i*Math.sin(t)*Math.sin(r)+n},e.yAt=function(t,e,i,n,r){return e*Math.sin(t)*Math.cos(r)+i*Math.cos(t)*Math.sin(r)+n},e.xExtrema=function(t,e,i){return Math.atan(-i/e*Math.tan(t))},e.yExtrema=function(t,e,i){return Math.atan(i/(e*Math.tan(t)))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={circle:function(t,e,i){return[["M",t,e],["m",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,2*-i,0]]},square:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e-i],["L",t+i,e+i],["L",t-i,e+i],["Z"]]},diamond:function(t,e,i){return[["M",t-i,e],["L",t,e-i],["L",t+i,e],["L",t,e+i],["Z"]]},triangle:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e+n],["L",t,e-n],["L",t+i,e+n],["z"]]},triangleDown:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e-n],["L",t+i,e-n],["L",t,e+n],["Z"]]}};e.default={get:function(t){return n[t]},register:function(t,e){n[t]=e},remove:function(t){delete n[t]},getAll:function(){return n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};e.default=function(t,e,i){var n=i.target||i.srcElement;if(!o[n.tagName]){for(var r=n.parentNode;r&&!o[r.tagName];)r=r.parentNode;n=r}return this.cfg.el===n?this:this.find(function(t){return t.cfg&&t.cfg.el===n})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var y=i(0),l=i(59),u=i(58),m=i(57),x=i(14);function c(t,e,i){var n,r=e.startTime;if(!(i<r+e.delay||e.isPaused)){var o=e.duration,a=e.easing;if(i=i-r-e.delay,e.toAttrs.repeat)n=i%o/o,n=u[a](n);else{if(!((n=i/o)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),e.toMatrix&&t.setMatrix(e.toMatrix),1;n=u[a](n)}if(e.onFrame){var s=e.onFrame(n);t.attr(s)}else!function(t,e,i){var n={},r=e.toAttrs,o=e.fromAttrs,a=e.toMatrix;if(!t.destroyed){var s;for(var l in r)if(!y.isEqual(o[l],r[l]))if("path"===l){var u=r[l],c=o[l];u.length>c.length?(u=x.parsePathString(r[l]),c=x.parsePathString(o[l]),c=x.fillPathByDiff(c,u),c=x.formatPath(c,u),e.fromAttrs.path=c,e.toAttrs.path=u):e.pathFormatted||(u=x.parsePathString(r[l]),c=x.parsePathString(o[l]),c=x.formatPath(c,u),e.fromAttrs.path=c,e.toAttrs.path=u,e.pathFormatted=!0),n[l]=[];for(var h=0;h<u.length;h++){for(var p=u[h],f=c[h],d=[],g=0;g<p.length;g++)y.isNumber(p[g])&&f&&y.isNumber(f[g])?(s=m.interpolate(f[g],p[g]),d.push(s(i))):d.push(p[g]);n[l].push(d)}}else s=m.interpolate(o[l],r[l]),n[l]=s(i);if(a){var v=m.interpolateArray(e.fromMatrix,a)(i);t.setMatrix(v)}t.attr(n)}}(t,e,n)}}var n=(r.prototype.initTimer=function(){var n,r,o,a=this,s=this;s.timer=l.timer(function(t){if(s.current=t,0<a.animators.length){for(var e=a.animators.length-1;0<=e;e--)if((n=a.animators[e]).destroyed)s.removeAnimator(e);else{if(!n.get("pause").isPaused)for(var i=(r=n.get("animators")).length-1;0<=i;i--)o=r[i],c(n,o,t)&&(r.splice(i,1),o.callback&&o.callback());0===r.length&&s.removeAnimator(e)}a.canvas.draw()}})},r.prototype.addAnimator=function(t){this.animators.push(t)},r.prototype.removeAnimator=function(t){this.animators.splice(t,1)},r.prototype.isAnimating=function(){return!!this.animators.length},r.prototype.stop=function(){this.timer&&this.timer.stop()},r.prototype.stopAllAnimations=function(){this.animators.forEach(function(t){t.stopAnimate()}),this.animators=[],this.canvas.draw()},r.prototype.getTime=function(){return this.current},r);function r(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(3),c=i(7),o=i(9),h=i(4),p=i(2);function f(t,e,i){return t+e*Math.cos(i)}function d(t,e,i){return t+e*Math.sin(i)}var a,s=(a=r.default,n.__extends(l,a),l.prototype.getDefaultAttrs=function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},l.prototype.isPointInPath=function(t,e){var i=this.attrs,n=i.x,r=i.y,o=i.r,a=i.startAngle,s=i.endAngle,l=i.clockwise,u=this.getHitLineWidth();return!!this.hasStroke()&&h.arcline(n,r,o,a,s,l,u,t,e)},l.prototype.calculateBox=function(){var t=this.attrs,e=t.x,i=t.y,n=t.r,r=t.startAngle,o=t.endAngle,a=t.clockwise,s=this.getHitLineWidth(),l=s/2,u=c.box(e,i,n,r,o,a);return new p.default(u.x-l,u.y-l,u.width+s,u.height+s)},l.prototype.getStartTangent=function(){var t=this.attrs,e=t.x,i=t.y,n=t.startAngle,r=t.r,o=t.clockwise,a=Math.PI/180;o&&(a*=-1);var s=[],l=f(e,r,n+a),u=d(i,r,n+a),c=f(e,r,n),h=d(i,r,n);return s.push([l,u]),s.push([c,h]),s},l.prototype.getEndTangent=function(){var t=this.attrs,e=t.x,i=t.y,n=t.endAngle,r=t.r,o=t.clockwise,a=Math.PI/180,s=[];o&&(a*=-1);var l=f(e,r,n+a),u=d(i,r,n+a),c=f(e,r,n),h=d(i,r,n);return s.push([c,h]),s.push([l,u]),s},l.prototype.createPath=function(t){var e=this.attrs,i=e.x,n=e.y,r=e.r,o=e.startAngle,a=e.endAngle,s=e.clockwise;(t=t||this.get("context")).beginPath(),t.arc(i,n,r,o,a,s)},l.prototype.afterPath=function(t){var e=this.attrs;if(t=t||this.get("context"),e.startArrow){var i=this.getStartTangent();o.addStartArrow(t,e,i[0][0],i[0][1],i[1][0],i[1][1])}if(e.endArrow){var n=this.getEndTangent();o.addEndArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}},l);function l(){var t=null!==a&&a.apply(this,arguments)||this;return t.canStroke=!0,t.type="arc",t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(3),u=i(4),a=i(2),s=(n=o.default,r.__extends(l,n),l.prototype.getDefaultAttrs=function(){return{x:0,y:0,r:0,lineWidth:1}},l.prototype.isPointInPath=function(t,e){var i=this.attrs,n=i.x,r=i.y,o=i.r,a=this.getHitLineWidth(),s=this.hasFill(),l=this.hasStroke();return s&&l?u.circle(n,r,o,t,e)||u.arcline(n,r,o,0,2*Math.PI,!1,a,t,e):s?u.circle(n,r,o,t,e):!!l&&u.arcline(n,r,o,0,2*Math.PI,!1,a,t,e)},l.prototype.calculateBox=function(){var t=this.attrs,e=t.x,i=t.y,n=t.r,r=this.getHitLineWidth()/2+n;return a.default.fromRange(e-r,i-r,e+r,i+r)},l.prototype.createPath=function(t){var e=this.attrs,i=e.x,n=e.y,r=e.r;t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.closePath()},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.canFill=!0,t.canStroke=!0,t.type="circle",t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(3),a=i(4),s=i(2),l=(n=o.default,r.__extends(u,n),u.prototype.isPointInPath=function(t,e){if(!this.cfg.el)return!1;var i=this.cfg.el.getBBox();return a.box(i.x,i.x+i.width,i.y,i.y+i.height,t,e)},u.prototype.calculateBox=function(){var t=this.attrs,e=t.x,i=t.y,n=t.width,r=t.height,o=this.getHitLineWidth()/2;return new s.default(e-o,i-o,n,r)},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.canFill=!0,t.canStroke=!0,t.type="dom",t}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),v=i(0),o=i(3),y=i(4),l=i(2),a=(n=o.default,r.__extends(s,n),s.prototype.getDefaultAttrs=function(){return{x:0,y:0,rx:1,ry:1,lineWidth:1}},s.prototype.isPointInPath=function(t,e){var i=this.attrs,n=this.hasFill(),r=this.hasStroke(),o=i.x,a=i.y,s=i.rx,l=i.ry,u=this.getHitLineWidth(),c=l<s?s:l,h=l<s?1:s/l,p=l<s?l/s:1,f=[t,e,1],d=[1,0,0,0,1,0,0,0,1];v.mat3.scale(d,d,[h,p]),v.mat3.translate(d,d,[o,a]);var g=v.mat3.invert([],d);return v.vec3.transformMat3(f,f,g),n&&r?y.circle(0,0,c,f[0],f[1])||y.arcline(0,0,c,0,2*Math.PI,!1,u,f[0],f[1]):n?y.circle(0,0,c,f[0],f[1]):!!r&&y.arcline(0,0,c,0,2*Math.PI,!1,u,f[0],f[1])},s.prototype.calculateBox=function(){var t=this.attrs,e=t.x,i=t.y,n=t.rx,r=t.ry,o=this.getHitLineWidth(),a=n+o/2,s=r+o/2;return l.default.fromRange(e-a,i-s,e+a,i+s)},s.prototype.createPath=function(t){var e=this.attrs,i=e.x,n=e.y,r=e.rx,o=e.ry;t=t||this.get("context");var a=o<r?r:o,s=o<r?1:r/o,l=o<r?o/r:1,u=[1,0,0,0,1,0,0,0,1];v.mat3.scale(u,u,[s,l]),v.mat3.translate(u,u,[i,n]),t.beginPath(),t.save(),t.transform(u[0],u[1],u[3],u[4],u[6],u[7]),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.canFill=!0,t.canStroke=!0,t.type="ellipse",t}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),y=i(0),m=i(7),o=i(3),x=i(4),v=i(2),b=i(7),a=(n=o.default,r.__extends(s,n),s.prototype.getDefaultAttrs=function(){return{x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1}},s.prototype.isPointInPath=function(o,a){var s=this,t=s.hasFill(),e=s.hasStroke(),i=s.attrs,l=i.x,u=i.y,c=i.rs,h=i.re,p=i.startAngle,f=i.endAngle,d=i.clockwise,n=[o-l,a-u],r=y.vec2.angleTo([1,0],n);function g(){var t=m.nearAngle(r,p,f,d);if(y.isNumberEqual(r,t)){var e=y.vec2.squaredLength(n);if(c*c<=e&&e<=h*h)return!0}return!1}function v(){var t=s.getHitLineWidth(),e={x:Math.cos(p)*c+l,y:Math.sin(p)*c+u},i={x:Math.cos(p)*h+l,y:Math.sin(p)*h+u},n={x:Math.cos(f)*c+l,y:Math.sin(f)*c+u},r={x:Math.cos(f)*h+l,y:Math.sin(f)*h+u};return!!(x.line(e.x,e.y,i.x,i.y,t,o,a)||x.line(n.x,n.y,r.x,r.y,t,o,a)||x.arcline(l,u,c,p,f,d,t,o,a)||x.arcline(l,u,h,p,f,d,t,o,a))}return t&&e?g()||v():t?g():!!e&&v()},s.prototype.calculateBox=function(){var t=this.attrs,e=t.x,i=t.y,n=t.rs,r=t.re,o=t.startAngle,a=t.endAngle,s=t.clockwise,l=this.getHitLineWidth(),u=b.box(e,i,n,o,a,s),c=b.box(e,i,r,o,a,s),h=Math.min(u.minX,c.minX),p=Math.min(u.minY,c.minY),f=Math.max(u.maxX,c.maxX),d=Math.max(u.maxY,c.maxY),g=l/2;return v.default.fromRange(h-g,p-g,f+g,d+g)},s.prototype.createPath=function(t){var e=this.attrs,i=e.x,n=e.y,r=e.rs,o=e.re,a=e.startAngle,s=e.endAngle,l=e.clockwise,u={x:Math.cos(a)*r+i,y:Math.sin(a)*r+n},c={x:Math.cos(a)*o+i,y:Math.sin(a)*o+n},h={x:Math.cos(s)*r+i,y:Math.sin(s)*r+n};(t=t||this.get("context")).beginPath(),t.moveTo(u.x,u.y),t.lineTo(c.x,c.y),t.arc(i,n,o,a,s,l),t.lineTo(h.x,h.y),t.arc(i,n,r,s,a,!l),t.closePath()},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.canFill=!0,t.canStroke=!0,t.type="fan",t}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),p=i(0),o=i(3),s=i(4),a=i(2),l=(n=o.default,r.__extends(u,n),u.prototype.getDefaultAttrs=function(){return{x:0,y:0,img:null,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null}},u.prototype.isPointInPath=function(t,e){var i=this.attrs;if(this.get("toDraw")||!i.img)return!1;this.cfg.attrs&&this.cfg.attrs.img===i.img||this._setAttrImg();var n=i.x,r=i.y,o=i.width,a=i.height;return s.rect(n,r,o,a,t,e)},u.prototype.isHitBox=function(){return!1},u.prototype.calculateBox=function(){var t=this.attrs;return this.cfg.attrs&&this.cfg.attrs.img===t.img||this._setAttrImg(),new a.default(t.x,t.y,t.width,t.height)},u.prototype._beforeSetLoading=function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this.cfg.loading=!1,e.draw()),t},u.prototype._setAttrImg=function(){var e=this,t=e.attrs,i=t.img;if(!p.isString(i))return i instanceof Image?(t.width||e.attr("width",i.width),t.height||e.attr("height",i.height),i):i instanceof HTMLElement&&p.isString(i.nodeName)&&"CANVAS"===i.nodeName.toUpperCase()?(t.width||e.attr("width",Number(i.getAttribute("width"))),t.height||e.attr("height",Number(i.getAttribute("height"))),i):i instanceof ImageData?(t.width||e.attr("width",i.width),t.height||e.attr("height",i.height),i):null;var n=new Image;n.onload=function(){if(e.get("destroyed"))return!1;e.attr("imgSrc",i),e.attr("img",n);var t=e.get("callback");t&&t.call(e),e.set("loading",!1)},n.src=i,n.crossOrigin="Anonymous",e.set("loading",!0)},u.prototype.drawInner=function(t){this.cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this.cfg.hasUpdate=!1)},u.prototype._drawImage=function(t){var e=this.attrs,i=e.x,n=e.y,r=e.img,o=e.width,a=e.height,s=e.sx,l=e.sy,u=e.swidth,c=e.sheight;this.set("toDraw",!1);var h=r;if(h instanceof ImageData&&((h=new Image).src=r),h instanceof Image||h instanceof HTMLImageElement&&p.isString(h.nodeName)&&"CANVAS"===h.nodeName.toUpperCase()){if(p.isNil(s)||p.isNil(l)||p.isNil(u)||p.isNil(c))return void t.drawImage(h,i,n,o,a);if(!(p.isNil(s)||p.isNil(l)||p.isNil(u)||p.isNil(c)))return void t.drawImage(h,s,l,u,c,i,n,o,a)}},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="image",t}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(3),a=i(9),s=i(12),l=i(4),u=(n=o.default,r.__extends(c,n),c.prototype.getDefaultAttrs=function(){return{x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1}},c.prototype.isPointInPath=function(t,e){var i=this.attrs,n=i.x1,r=i.y1,o=i.x2,a=i.y2,s=this.getHitLineWidth();return!!this.hasStroke()&&l.line(n,r,o,a,s,t,e)},c.prototype.calculateBox=function(){var t=this.attrs,e=t.x1,i=t.y1,n=t.x2,r=t.y2,o=this.getHitLineWidth();return s.box(e,i,n,r,o)},c.prototype.createPath=function(t){var e=this.attrs,i=e.x1,n=e.y1,r=e.x2,o=e.y2;(t=t||this.get("context")).beginPath(),t.moveTo(i,n),t.lineTo(r,o)},c.prototype.afterPath=function(t){var e=this.attrs,i=e.x1,n=e.y1,r=e.x2,o=e.y2;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,r,o,i,n),e.endArrow&&a.addEndArrow(t,e,i,n,r,o)},c.prototype.getPoint=function(t){var e=this.attrs;return{x:s.at(e.x1,e.x2,t),y:s.at(e.y1,e.y2,t)}},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.canStroke=!0,t.type="line",t}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),c=i(0),o=i(3),s=i(8),l=i(6),a=i(9),u=i(14),h=i(13),p=i(16),f=i(2),d=(n=o.default,r.__extends(g,n),g.prototype.getDefaultAttrs=function(){return{path:null,lineWidth:1,startArrow:!1,endArrow:!1}},g.prototype.isPointInPath=function(n,r){var o=this,a=o.get("segments"),t=o.hasFill(),e=o.hasStroke();function i(){if(!c.isEmpty(a)){for(var t=o.getHitLineWidth(),e=0,i=a.length;e<i;e++)if(a[e].isInside(n,r,t))return!0;return!1}}return t&&e?p.default(n,r,o)||i():t?p.default(n,r,o):!!e&&i()},g.prototype._afterSetAttrPath=function(t){if(c.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e,i=l.parsePath(t),n=[];if(c.isArray(i)&&0!==i.length&&("M"===i[0][0]||"m"===i[0][0])){for(var r=i.length,o=0;o<i.length;o++){var a=i[o];e=new s.default(a,e,o===r-1),n.push(e)}this.setSilent("segments",n),this.setSilent("tCache",null),this.setSilent("box",null)}},g.prototype.calculateBox=function(){var t=this.get("segments");if(!t)return null;var r=this.getHitLineWidth(),o=1/0,a=-1/0,s=1/0,l=-1/0;return c.each(t,function(t){t.getBBox(r);var e=t.box;if(e){e.x<o&&(o=e.x);var i=e.maxX;a<i&&(a=i),e.y<s&&(s=e.y);var n=e.maxY;l<n&&(l=n)}}),o===1/0||s===1/0?new f.default(0,0,0,0):new f.default(o,s,a-o,l-s)},g.prototype._setTcache=function(){var i,n,r,o,a=0,s=0,l=[],u=this.cfg.curve;u&&(c.each(u,function(t,e){r=u[e+1],o=t.length,r&&(a+=h.len(t[o-2],t[o-1],r[1],r[2],r[3],r[4],r[5],r[6]))}),c.each(u,function(t,e){r=u[e+1],o=t.length,r&&((i=[])[0]=s/a,n=h.len(t[o-2],t[o-1],r[1],r[2],r[3],r[4],r[5],r[6]),s+=n,i[1]=s/a,l.push(i))}),this.cfg.tCache=l)},g.prototype._calculateCurve=function(){var t=this.attrs.path;this.cfg.curve=u.pathTocurve(t)},g.prototype.getStartTangent=function(){var t,e,i,n,r=this.get("segments");if(1<r.length)if(t=r[0].endPoint,e=r[1].endPoint,i=r[1].startTangent,n=[],c.isFunction(i)){var o=i();n.push([t.x-o[0],t.y-o[1]]),n.push([t.x,t.y])}else n.push([e.x,e.y]),n.push([t.x,t.y]);return n},g.prototype.getEndTangent=function(){var t,e,i,n,r=this.get("segments"),o=r.length;if(1<o)if(t=r[o-2].endPoint,e=r[o-1].endPoint,i=r[o-1].endTangent,n=[],c.isFunction(i)){var a=i();n.push([e.x-a[0],e.y-a[1]]),n.push([e.x,e.y])}else n.push([t.x,t.y]),n.push([e.x,e.y]);return n},g.prototype.getPoint=function(i){var n,r,t=this.cfg.tCache;t||(this._calculateCurve(),this._setTcache(),t=this.cfg.tCache);var e=this.cfg.curve;if(!t)return e?{x:e[0][1],y:e[0][2]}:null;c.each(t,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),r=e)});var o=e[r];if(c.isNil(o)||c.isNil(r))return null;var a=o.length,s=e[r+1];return{x:h.at(o[a-2],s[1],s[3],s[5],1-n),y:h.at(o[a-1],s[2],s[4],s[6],1-n)}},g.prototype.createPath=function(t){var e=this.get("segments");if(c.isArray(e)){(t=t||this.get("context")).beginPath();for(var i=e.length,n=0;n<i;n++)e[n].draw(t)}},g.prototype.afterPath=function(t){var e=this.attrs,i=this.get("segments"),n=e.path;if(t=t||this.get("context"),c.isArray(i)&&1!==i.length&&(e.startArrow||e.endArrow)&&"z"!==n[n.length-1]&&"Z"!==n[n.length-1]&&!e.fill){var r=this.getStartTangent();a.addStartArrow(t,e,r[0][0],r[0][1],r[1][0],r[1][1]);var o=this.getEndTangent();a.addEndArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1])}},g);function g(){var t=null!==n&&n.apply(this,arguments)||this;return t.canFill=!0,t.canStroke=!0,t.type="path",t}e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),s=i(0),o=i(3),a=i(4),l=i(16),u=i(2),c=(n=o.default,r.__extends(h,n),h.prototype.getDefaultAttrs=function(){return{points:null,lineWidth:1}},h.prototype.isPointInPath=function(n,r){var o=this,t=o.hasFill(),e=o.hasStroke();function i(){var t=o.attrs.points;if(t.length<2)return!1;var e=o.getHitLineWidth(),i=t.slice(0);return 3<=t.length&&i.push(t[0]),a.polyline(i,e,n,r)}return t&&e?l.default(n,r,o)||i():t?l.default(n,r,o):!!e&&i()},h.prototype.calculateBox=function(){var t=this.attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var n=1/0,r=1/0,o=-1/0,a=-1/0;s.each(t,function(t){var e=t[0],i=t[1];e<n&&(n=e),o<e&&(o=e),i<r&&(r=i),a<i&&(a=i)});var i=e/2;return u.default.fromRange(n-i,r-i,o+i,a+i)},h.prototype.createPath=function(i){var t=this.attrs.points;t.length<2||((i=i||this.get("context")).beginPath(),s.each(t,function(t,e){0===e?i.moveTo(t[0],t[1]):i.lineTo(t[0],t[1])}),i.closePath())},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.canFill=!0,t.canStroke=!0,t.type="polygon",t}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),l=i(0),o=i(3),a=i(9),u=i(12),s=i(4),c=i(2),h=(n=o.default,r.__extends(p,n),p.prototype.getDefaultAttrs=function(){return{points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null}},p.prototype.isPointInPath=function(t,e){var i=this.attrs;if(this.hasStroke()){var n=i.points;if(n.length<2)return!1;var r=i.lineWidth;return s.polyline(n,r,t,e)}return!1},p.prototype.calculateBox=function(){var t=this.attrs,e=this.getHitLineWidth(),i=t.points;if(!i||0===i.length)return null;var n=1/0,r=1/0,o=-1/0,a=-1/0;l.each(i,function(t){var e=t[0],i=t[1];e<n&&(n=e),o<e&&(o=e),i<r&&(r=i),a<i&&(a=i)});var s=e/2;return c.default.fromRange(n-s,r-s,o+s,a+s)},p.prototype._setTcache=function(){var i,n,r=this.attrs.points,o=0,a=0,s=[];r&&0!==r.length&&(l.each(r,function(t,e){r[e+1]&&(o+=u.len(t[0],t[1],r[e+1][0],r[e+1][1]))}),o<=0||(l.each(r,function(t,e){r[e+1]&&((i=[])[0]=a/o,n=u.len(t[0],t[1],r[e+1][0],r[e+1][1]),a+=n,i[1]=a/o,s.push(i))}),this.tCache=s))},p.prototype.createPath=function(t){var e,i,n=this.attrs.points;if(!(n.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(n[0][0],n[0][1]),i=1,e=n.length-1;i<e;i++)t.lineTo(n[i][0],n[i][1]);t.lineTo(n[e][0],n[e][1])}},p.prototype.getStartTangent=function(){var t=this.attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},p.prototype.getEndTangent=function(){var t=this.attrs.points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},p.prototype.afterPath=function(t){var e=this.attrs,i=e.points,n=i.length-1;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,i[1][0],i[1][1],i[0][0],i[0][1]),e.endArrow&&a.addEndArrow(t,e,i[n-1][0],i[n-1][1],i[n][0],i[n][1])},p.prototype.getPoint=function(i){var n,r,t=this.attrs.points,e=this.tCache;return e||(this._setTcache(),e=this.tCache),l.each(e,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),r=e)}),{x:u.at(t[r][0],t[r+1][0],n),y:u.at(t[r][1],t[r+1][1],n)}},p);function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.canStroke=!0,t.type="polyline",t.tCache=null,t}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(3),l=i(6),h=i(4),a=i(16),s=i(2),u=(n=o.default,r.__extends(c,n),c.prototype.getDefaultAttrs=function(){return{x:0,y:0,width:0,height:0,radius:0,lineWidth:1}},c.prototype.isPointInPath=function(l,u){var c=this,t=c.hasFill(),e=c.hasStroke();function i(){var t=c.attrs,e=t.x,i=t.y,n=t.width,r=t.height,o=t.radius,a=c.getHitLineWidth();if(0!==o)return h.line(e+o,i,e+n-o,i,a,l,u)||h.line(e+n,i+o,e+n,i+r-o,a,l,u)||h.line(e+n-o,i+r,e+o,i+r,a,l,u)||h.line(e,i+r-o,e,i+o,a,l,u)||h.arcline(e+n-o,i+o,o,1.5*Math.PI,2*Math.PI,!1,a,l,u)||h.arcline(e+n-o,i+r-o,o,0,.5*Math.PI,!1,a,l,u)||h.arcline(e+o,i+r-o,o,.5*Math.PI,Math.PI,!1,a,l,u)||h.arcline(e+o,i+o,o,Math.PI,1.5*Math.PI,!1,a,l,u);var s=a/2;return h.line(e-s,i,e+n+s,i,a,l,u)||h.line(e+n,i-s,e+n,i+r+s,a,l,u)||h.line(e+n+s,i+r,e-s,i+r,a,l,u)||h.line(e,i+r+s,e,i-s,a,l,u)}return t&&e?a.default(l,u,c)||i():t?a.default(l,u,c):!!e&&i()},c.prototype.calculateBox=function(){var t=this.attrs,e=t.x,i=t.y,n=t.width,r=t.height,o=this.getHitLineWidth()/2;return s.default.fromRange(e-o,i-o,e+n+o,i+r+o)},c.prototype.createPath=function(t){var e=this.attrs,i=e.x,n=e.y,r=e.width,o=e.height,a=e.radius;if((t=t||this.get("context")).beginPath(),0===a)t.rect(i,n,r,o);else{var s=l.parseRadius(a);t.moveTo(i+s.r1,n),t.lineTo(i+r-s.r2,n),0!==s.r2&&t.arc(i+r-s.r2,n+s.r2,s.r2,-Math.PI/2,0),t.lineTo(i+r,n+o-s.r3),0!==s.r3&&t.arc(i+r-s.r3,n+o-s.r3,s.r3,0,Math.PI/2),t.lineTo(i+s.r4,n+o),0!==s.r4&&t.arc(i+s.r4,n+o-s.r4,s.r4,Math.PI/2,Math.PI),t.lineTo(i,n+s.r1),0!==s.r1&&t.arc(i+s.r1,n+s.r1,s.r1,Math.PI,1.5*Math.PI),t.closePath()}},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.canFill=!0,t.canStroke=!0,t.type="rect",t}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),p=i(0),o=i(3),a=i(4),h=i(2),s=(n=o.default,r.__extends(l,n),l.prototype.getDefaultAttrs=function(){return{x:0,y:0,text:null,lineHeight:1,lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",textArr:null}},l.prototype.isPointInPath=function(t,e){var i=this.getBBox();if(this.hasFill()||this.hasStroke())return a.box(i.x,i.maxX,i.minY,i.maxY,t,e)},l.prototype.initTransform=function(){var t=this.attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this.attrs.x,-1*this.attrs.y],["s",t/12,t/12],["t",this.attrs.x,this.attrs.y]])},l.prototype._assembleFont=function(){var t=this.attrs,e=t.fontSize,i=t.fontFamily,n=t.fontWeight,r=t.fontStyle,o=t.fontVariant;t.font=[r,o,n,e+"px",i].join(" ")},l.prototype._setAttrText=function(){var t=this.attrs,e=t.text,i=null;if(p.isString(e)&&-1!==e.indexOf("\n")){var n=(i=e.split("\n")).length;t.lineCount=n}t.textArr=i},l.prototype._getTextHeight=function(){var t=this.attrs,e=t.lineCount,i=+t.fontSize;return 1<e?i*e+this._getSpaceingY()*(e-1):i},l.prototype.isHitBox=function(){return!1},l.prototype.calculateBox=function(){var t=this.attrs,e=this.cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var i=t.x,n=t.y,r=this.measureText();if(!r)return new h.default(i,n,0,0);var o=this._getTextHeight(),a=t.textAlign,s=t.textBaseline,l=this.getHitLineWidth(),u={x:i,y:n-o};a&&("end"===a||"right"===a?u.x-=r:"center"===a&&(u.x-=r/2)),s&&("top"===s?u.y+=o:"middle"===s&&(u.y+=o/2)),this.set("startPoint",u);var c=l/2;return h.default.fromRange(u.x-c,u.y-c,u.x+r+c,u.y+o+c)},l.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,i=+t.fontSize;return e?e-i:.14*i},l.prototype.drawInner=function(t){var e=this.attrs,i=this.cfg;i.attrs&&!i.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var n=e.text;if(!p.isNil(n)){var r=e.textArr,o=e.x,a=e.y,s=e.maxWidth;if(t.beginPath(),this.hasStroke()){var l=e.strokeOpacity;p.isNil(l)||1===l||(t.globalAlpha=l),r?this._drawTextArr(t,!1):p.isNil(s)?t.strokeText(n,o,a):t.strokeText(n,o,a,s),t.globalAlpha=1}if(this.hasFill()){var u=e.fillOpacity;p.isNil(u)||1===u||(t.globalAlpha=u),r?this._drawTextArr(t,!0):p.isNil(s)?t.fillText(n,o,a):t.fillText(n,o,a,s)}i.hasUpdate=!1}},l.prototype._drawTextArr=function(i,n){var r,t=this.attrs.textArr,o=this.attrs.textBaseline,a=+this.attrs.fontSize,s=this._getSpaceingY(),l=this.attrs.x,u=this.attrs.y,c=this.attrs.maxWidth,e=this.getBBox(),h=e.maxY-e.minY;p.each(t,function(t,e){r=u+e*(s+a)-h+a,"middle"===o&&(r+=h-a-(h-a)/2),"top"===o&&(r+=h-a),n?p.isNil(c)?i.fillText(t,l,r):i.fillText(t,l,r,c):p.isNil(c)?i.strokeText(t,l,r):i.strokeText(t,l,r,c)})},l.prototype.measureText=function(){var e,t=this.attrs,i=t.text,n=t.font,r=t.textArr,o=0;if(!p.isNil(i)){var a=document.createElement("canvas").getContext("2d");return a.save(),a.font=n,r?p.each(r,function(t){e=a.measureText(t).width,o<e&&(o=e),a.restore()}):(o=a.measureText(i).width,a.restore()),p.isNil(t.maxWidth)||(o=Math.min(t.maxWidth,o)),o}},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.canFill=!0,t.canStroke=!0,t.type="text",t}e.default=s},function(t){t.exports=JSON.parse('{"name":"@antv/g","version":"3.5.0-beta.4","description":"A canvas library which providing 2d draw for G2.","keywords":["canvas","svg","G","G2","G6","2d draw"],"main":"lib/index.js","module":"esm/index.js","browser":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","lib","esm","dist","LICENSE","README.md"],"homepage":"https://github.com/antvis/g","author":"https://github.com/orgs/antvis/people","repository":{"type":"git","url":"git@github.com:antvis/g.git"},"bugs":{"url":"https://github.com/antvis/g/issues"},"scripts":{"test":"torch --compile --renderer --opts __tests__/mocha.opts","test-live":"torch --compile --renderer --interactive --opts __tests__/mocha.opts","build":"run-s clean lib","clean":"rimraf lib esm","lib":"run-p lib:*","lib:cjs":"loose-tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","lib:esm":"loose-tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","lib:umd":"webpack --config webpack.config.js --mode production","lint":"exit 0","coverage":"exit 0","tsc":"loose-tsc --noEmit","prettier":"prettier --write \'*.{js,ts,json,md}\'"},"husky":{"hooks":{"pre-commit":"run-s lint"}},"lint-staged":{"*.{js,json,md}":["prettier --write","git add"],"*.{ts}":["tslint -c tslint.json --fix","prettier --write","git add"]},"dependencies":{"@antv/event-emitter":"^0.1.0","@antv/gl-matrix":"~2.7.1","@antv/util":"~1.3.1","d3-ease":"~1.0.3","d3-interpolate":"~1.1.5","d3-timer":"~1.0.6","detect-browser":"^4.6.0"},"devDependencies":{"@antv/torch":"^1.0.3","@babel/cli":"^7.1.5","@babel/core":"^7.1.6","@babel/plugin-proposal-class-properties":"^7.1.0","@babel/plugin-proposal-object-rest-spread":"^7.0.0","@babel/preset-env":"^7.2.0","@babel/preset-typescript":"^7.1.0","@commitlint/cli":"^7.2.1","@commitlint/config-angular":"^7.1.2","@types/lodash":"^4.14.119","@types/node":"^10.12.18","babel-eslint":"^10.0.1","babel-loader":"^8.0.0","babel-plugin-transform-remove-strict-mode":"~0.0.2","benchmark":"^2.1.4","chai":"~4.0.1","eslint":"^5.10.0","eslint-config-egg":"^7.1.0","eslint-config-prettier":"^6.1.0","event-simulate":"~1.0.0","git-contributor":"~1.0.8","husky":"^1.3.1","lint-staged":"^9.2.3","loose-tsc":"^0.0.1","npm-run-all":"^4.1.5","prettier":"^1.18.2","rimraf":"^3.0.0","source-map-support":"^0.5.9","ts-loader":"^5.3.1","ts-node":"^7.0.1","tslint":"^5.12.0","tslint-config-airbnb":"^5.11.1","tslint-config-prettier":"^1.18.0","typescript":"^3.2.2","webpack":"^4.26.1","webpack-cli":"^3.1.2"}}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";i.r(e);function n(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function r(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function u(){}var o="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),h=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),p=new RegExp("^rgba\\("+[o,o,o,a]+"\\)$"),f=new RegExp("^rgba\\("+[s,s,s,a]+"\\)$"),d=new RegExp("^hsl\\("+[a,s,s]+"\\)$"),g=new RegExp("^hsla\\("+[a,s,s,a]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function x(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=l.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?b(e):3===i?new S(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?new S(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?new S(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=c.exec(t))?new S(e[1],e[2],e[3],1):(e=h.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?_(e[1],e[2],e[3],e[4]):(e=f.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=d.exec(t))?P(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?P(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?b(v[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function b(t){return new S(t>>16&255,t>>8&255,255&t,1)}function _(t,e,i,n){return n<=0&&(t=e=i=NaN),new S(t,e,i,n)}function M(t){return t instanceof u||(t=x(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function w(t,e,i,n){return 1===arguments.length?M(t):new S(t,e,i,null==n?1:n)}function S(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function C(){return"#"+k(this.r)+k(this.g)+k(this.b)}function O(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function k(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function P(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||1<=i?t=e=NaN:e<=0&&(t=NaN),new T(t,e,i,n)}function A(t){if(t instanceof T)return new T(t.h,t.s,t.l,t.opacity);if(t instanceof u||(t=x(t)),!t)return new T;if(t instanceof T)return t;var e=(t=t.rgb()).r/255,i=t.g/255,n=t.b/255,r=Math.min(e,i,n),o=Math.max(e,i,n),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(i-n)/s+6*(i<n):i===o?(n-e)/s+2:(e-i)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=0<l&&l<1?0:a,new T(a,s,l,t.opacity)}function L(t,e,i,n){return 1===arguments.length?A(t):new T(t,e,i,null==n?1:n)}function T(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function D(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}function j(t,e,i,n,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*i+(1+3*t+3*o-3*a)*n+a*r)/6}n(u,x,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return A(this).formatHsl()},formatRgb:m,toString:m}),n(S,w,r(u,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatRgb:O,toString:O})),n(T,L,r(u,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new T(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new T(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new S(D(240<=t?t-240:120+t,r,n),D(t,r,n),D(t<120?240+t:t-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));function I(a){var s=a.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),i=a[e],n=a[e+1],r=0<e?a[e-1]:2*i-n,o=e<s-1?a[e+2]:2*n-i;return j((t-e/s)*s,r,i,n,o)}}function B(a){var s=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),i=a[(e+s-1)%s],n=a[e%s],r=a[(e+1)%s],o=a[(e+2)%s];return j((t-e/s)*s,i,n,r,o)}}var E=function(t){return function(){return t}};function F(e,i){return function(t){return e+t*i}}function R(t,e){var i=e-t;return i?F(t,180<i||i<-180?i-360*Math.round(i/360):i):E(isNaN(t)?e:t)}function N(t,e){var i=e-t;return i?F(t,i):E(isNaN(t)?e:t)}var z=function t(e){var o,a=1==(o=+(o=e))?N:function(t,e){return e-t?(i=t,n=e,r=o,i=Math.pow(i,r),n=Math.pow(n,r)-i,r=1/r,function(t){return Math.pow(i+t*n,r)}):E(isNaN(t)?e:t);var i,n,r};function i(e,t){var i=a((e=w(e)).r,(t=w(t)).r),n=a(e.g,t.g),r=a(e.b,t.b),o=N(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=n(t),e.b=r(t),e.opacity=o(t),e+""}}return i.gamma=t,i}(1);function Y(s){return function(t){var e,i,n=t.length,r=new Array(n),o=new Array(n),a=new Array(n);for(e=0;e<n;++e)i=w(t[e]),r[e]=i.r||0,o[e]=i.g||0,a[e]=i.b||0;return r=s(r),o=s(o),a=s(a),i.opacity=1,function(t){return i.r=r(t),i.g=o(t),i.b=a(t),i+""}}}function H(t,e){var i,n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),a=new Array(n);for(i=0;i<r;++i)o[i]=nt(t[i],e[i]);for(;i<n;++i)a[i]=e[i];return function(t){for(i=0;i<r;++i)a[i]=o[i](t);return a}}function G(e,i){var n=new Date;return i-=e=+e,function(t){return n.setTime(e+i*t),n}}function W(e,i){return i-=e=+e,function(t){return e+i*t}}function X(t,e){var i,n={},r={};for(i in null!==t&&"object"==Wt(t)||(t={}),null!==e&&"object"==Wt(e)||(e={}),e)i in t?n[i]=nt(t[i],e[i]):r[i]=e[i];return function(t){for(i in n)r[i]=n[i](t);return r}}function V(t,n){var e,i,r,o,a,s=et.lastIndex=it.lastIndex=0,l=-1,u=[],c=[];for(t+="",n+="";(e=et.exec(t))&&(i=it.exec(n));)(r=i.index)>s&&(r=n.slice(s,r),u[l]?u[l]+=r:u[++l]=r),(e=e[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:W(e,i)})),s=it.lastIndex;return s<n.length&&(r=n.slice(s),u[l]?u[l]+=r:u[++l]=r),u.length<2?c[0]?(a=c[0].x,function(t){return a(t)+""}):(o=n,function(){return o}):(n=c.length,function(t){for(var e,i=0;i<n;++i)u[(e=c[i]).i]=e.x(t);return u.join("")})}function q(e,i){return i-=e=+e,function(t){return Math.round(e+i*t)}}function U(t,e,i,n,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*i+e*n)&&(i-=t*l,n-=e*l),(s=Math.sqrt(i*i+n*n))&&(i/=s,n/=s,l/=s),t*n<e*i&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*rt,skewX:Math.atan(l)*rt,scaleX:a,scaleY:s}}var Z,Q,$,K,J=Y(I),tt=Y(B),et=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,it=new RegExp(et.source,"g"),nt=function(t,e){var i,n=Wt(e);return null==e||"boolean"===n?E(e):("number"===n?W:"string"===n?(i=x(e))?(e=i,z):V:e instanceof x?z:e instanceof Date?G:Array.isArray(e)?H:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?X:W)(t,e)},rt=180/Math.PI,ot={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function at(c,h,p,f){function d(t){return t.length?t.pop()+" ":""}return function(t,e){var i,n,r,o,a,s,l=[],u=[];return t=c(t),e=c(e),function(t,e,i,n,r,o){if(t!==i||e!==n){var a=r.push("translate(",null,h,null,p);o.push({i:a-4,x:W(t,i)},{i:a-2,x:W(e,n)})}else(i||n)&&r.push("translate("+i+h+n+p)}(t.translateX,t.translateY,e.translateX,e.translateY,l,u),o=t.rotate,a=e.rotate,s=l,o!==a?(180<o-a?a+=360:180<a-o&&(o+=360),u.push({i:s.push(d(s)+"rotate(",null,f)-2,x:W(o,a)})):a&&s.push(d(s)+"rotate("+a+f),i=t.skewX,n=e.skewX,r=l,i!==n?u.push({i:r.push(d(r)+"skewX(",null,f)-2,x:W(i,n)}):n&&r.push(d(r)+"skewX("+n+f),function(t,e,i,n,r,o){if(t!==i||e!==n){var a=r.push(d(r)+"scale(",null,",",null,")");o.push({i:a-4,x:W(t,i)},{i:a-2,x:W(e,n)})}else 1===i&&1===n||r.push(d(r)+"scale("+i+","+n+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,l,u),t=e=null,function(t){for(var e,i=-1,n=u.length;++i<n;)l[(e=u[i]).i]=e.x(t);return l.join("")}}}var st=at(function(t){return"none"===t?ot:(Z||(Z=document.createElement("DIV"),Q=document.documentElement,$=document.defaultView),Z.style.transform=t,t=$.getComputedStyle(Q.appendChild(Z),null).getPropertyValue("transform"),Q.removeChild(Z),t=t.slice(7,-1).split(","),U(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),lt=at(function(t){return null==t?ot:((K=K||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=K.transform.baseVal.consolidate())?(t=t.matrix,U(t.a,t.b,t.c,t.d,t.e,t.f)):ot)},", ",")",")"),ut=Math.SQRT2;function ct(t){return((t=Math.exp(t))+1/t)/2}function ht(t,e){var i,a,s=t[0],l=t[1],u=t[2],n=e[0],r=e[1],o=e[2],c=n-s,h=r-l,p=c*c+h*h;if(p<1e-12)a=Math.log(o/u)/ut,i=function(t){return[s+t*c,l+t*h,u*Math.exp(ut*t*a)]};else{var f=Math.sqrt(p),d=(o*o-u*u+4*p)/(2*u*2*f),g=(o*o-u*u-4*p)/(2*o*2*f),v=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(g*g+1)-g);a=(y-v)/ut,i=function(t){var e,i,n=t*a,r=ct(v),o=u/(2*f)*(r*(e=ut*n+v,((e=Math.exp(2*e))-1)/(e+1))-(i=v,((i=Math.exp(i))-1/i)/2));return[s+o*c,l+o*h,u*r/ct(ut*n+v)]}}return i.duration=1e3*a,i}function pt(a){return function(e,t){var i=a((e=L(e)).h,(t=L(t)).h),n=N(e.s,t.s),r=N(e.l,t.l),o=N(e.opacity,t.opacity);return function(t){return e.h=i(t),e.s=n(t),e.l=r(t),e.opacity=o(t),e+""}}}var ft=pt(R),dt=pt(N),gt=Math.PI/180,vt=180/Math.PI,yt=6/29*3*(6/29);function mt(t){if(t instanceof bt)return new bt(t.l,t.a,t.b,t.opacity);if(t instanceof Ot)return kt(t);t instanceof S||(t=M(t));var e,i,n=St(t.r),r=St(t.g),o=St(t.b),a=_t(.2225045*n+.7168786*r+.0606169*o);return n===r&&r===o?e=i=a:(e=_t((.4360747*n+.3850649*r+.1430804*o)/.96422),i=_t((.0139322*n+.0971045*r+.7141733*o)/.82521)),new bt(116*a-16,500*(e-a),200*(a-i),t.opacity)}function xt(t,e,i,n){return 1===arguments.length?mt(t):new bt(t,e,i,null==n?1:n)}function bt(t,e,i,n){this.l=+t,this.a=+e,this.b=+i,this.opacity=+n}function _t(t){return.008856451679035631<t?Math.pow(t,1/3):t/yt+4/29}function Mt(t){return 6/29<t?t*t*t:yt*(t-4/29)}function wt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function St(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ct(t,e,i,n){return 1===arguments.length?function(t){if(t instanceof Ot)return new Ot(t.h,t.c,t.l,t.opacity);if(t instanceof bt||(t=mt(t)),0===t.a&&0===t.b)return new Ot(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*vt;return new Ot(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Ot(t,e,i,null==n?1:n)}function Ot(t,e,i,n){this.h=+t,this.c=+e,this.l=+i,this.opacity=+n}function kt(t){if(isNaN(t.h))return new bt(t.l,0,0,t.opacity);var e=t.h*gt;return new bt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function Pt(e,t){var i=N((e=xt(e)).l,(t=xt(t)).l),n=N(e.a,t.a),r=N(e.b,t.b),o=N(e.opacity,t.opacity);return function(t){return e.l=i(t),e.a=n(t),e.b=r(t),e.opacity=o(t),e+""}}function At(a){return function(e,t){var i=a((e=Ct(e)).h,(t=Ct(t)).h),n=N(e.c,t.c),r=N(e.l,t.l),o=N(e.opacity,t.opacity);return function(t){return e.h=i(t),e.c=n(t),e.l=r(t),e.opacity=o(t),e+""}}}n(bt,xt,r(u,{brighter:function(t){return new bt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new bt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return new S(wt(3.1338561*(e=.96422*Mt(e))-1.6168667*(t=+Mt(t))-.4906146*(i=.82521*Mt(i))),wt(-.9787684*e+1.9161415*t+.033454*i),wt(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}})),n(Ot,Ct,r(u,{brighter:function(t){return new Ot(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ot(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return kt(this).rgb()}}));var Lt=At(R),Tt=At(N),Dt=-.29227,jt=-.90649,It=1.97294,Bt=It*jt,Et=1.78277*It,Ft=1.78277*Dt- -.14861*jt;function Rt(t,e,i,n){return 1===arguments.length?function(t){if(t instanceof Nt)return new Nt(t.h,t.s,t.l,t.opacity);t instanceof S||(t=M(t));var e=t.r/255,i=t.g/255,n=t.b/255,r=(Ft*n+Bt*e-Et*i)/(Ft+Bt-Et),o=n-r,a=(It*(i-r)-Dt*o)/jt,s=Math.sqrt(a*a+o*o)/(It*r*(1-r)),l=s?Math.atan2(a,o)*vt-120:NaN;return new Nt(l<0?l+360:l,s,r,t.opacity)}(t):new Nt(t,e,i,null==n?1:n)}function Nt(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function zt(s){return function t(a){function e(e,t){var i=s((e=Rt(e)).h,(t=Rt(t)).h),n=N(e.s,t.s),r=N(e.l,t.l),o=N(e.opacity,t.opacity);return function(t){return e.h=i(t),e.s=n(t),e.l=r(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}n(Nt,Rt,r(u,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Nt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Nt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*gt,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),r=Math.sin(t);return new S(255*(e+i*(-.14861*n+1.78277*r)),255*(e+i*(Dt*n+jt*r)),255*(e+It*n*i),this.opacity)}}));function Yt(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t(n/(e-1));return i}var Ht=zt(R),Gt=zt(N);i.d(e,"interpolate",function(){return nt}),i.d(e,"interpolateArray",function(){return H}),i.d(e,"interpolateBasis",function(){return I}),i.d(e,"interpolateBasisClosed",function(){return B}),i.d(e,"interpolateDate",function(){return G}),i.d(e,"interpolateNumber",function(){return W}),i.d(e,"interpolateObject",function(){return X}),i.d(e,"interpolateRound",function(){return q}),i.d(e,"interpolateString",function(){return V}),i.d(e,"interpolateTransformCss",function(){return st}),i.d(e,"interpolateTransformSvg",function(){return lt}),i.d(e,"interpolateZoom",function(){return ht}),i.d(e,"interpolateRgb",function(){return z}),i.d(e,"interpolateRgbBasis",function(){return J}),i.d(e,"interpolateRgbBasisClosed",function(){return tt}),i.d(e,"interpolateHsl",function(){return ft}),i.d(e,"interpolateHslLong",function(){return dt}),i.d(e,"interpolateLab",function(){return Pt}),i.d(e,"interpolateHcl",function(){return Lt}),i.d(e,"interpolateHclLong",function(){return Tt}),i.d(e,"interpolateCubehelix",function(){return Ht}),i.d(e,"interpolateCubehelixLong",function(){return Gt}),i.d(e,"quantize",function(){return Yt})},function(t,e,i){"use strict";function n(t){return+t}function r(t){return t*t}function o(t){return t*(2-t)}function a(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function s(t){return t*t*t}function l(t){return--t*t*t+1}function u(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}i.r(e);var c=function t(e){function i(t){return Math.pow(t,e)}return e=+e,i.exponent=t,i}(3),h=function t(e){function i(t){return 1-Math.pow(1-t,e)}return e=+e,i.exponent=t,i}(3),p=function t(e){function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,i.exponent=t,i}(3),f=Math.PI,d=f/2;function g(t){return 1-Math.cos(t*d)}function v(t){return Math.sin(t*d)}function y(t){return(1-Math.cos(f*t))/2}function m(t){return Math.pow(2,10*t-10)}function x(t){return 1-Math.pow(2,-10*t)}function b(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function _(t){return 1-Math.sqrt(1-t*t)}function M(t){return Math.sqrt(1- --t*t)}function w(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var S=7.5625;function C(t){return 1-O(1-t)}function O(t){return(t=+t)<4/11?S*t*t:t<8/11?S*(t-=6/11)*t+.75:t<10/11?S*(t-=9/11)*t+.9375:S*(t-=21/22)*t+63/64}function k(t){return((t*=2)<=1?1-O(1-t):O(t-1)+1)/2}var P=function t(e){function i(t){return t*t*((e+1)*t-e)}return e=+e,i.overshoot=t,i}(1.70158),A=function t(e){function i(t){return--t*t*((e+1)*t+e)+1}return e=+e,i.overshoot=t,i}(1.70158),L=function t(e){function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,i.overshoot=t,i}(1.70158),T=2*Math.PI,D=function e(i,n){var r=Math.asin(1/(i=Math.max(1,i)))*(n/=T);function t(t){return i*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return t.amplitude=function(t){return e(t,n*T)},t.period=function(t){return e(i,t)},t}(1,.3),j=function e(i,n){var r=Math.asin(1/(i=Math.max(1,i)))*(n/=T);function t(t){return 1-i*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return t.amplitude=function(t){return e(t,n*T)},t.period=function(t){return e(i,t)},t}(1,.3),I=function e(i,n){var r=Math.asin(1/(i=Math.max(1,i)))*(n/=T);function t(t){return((t=2*t-1)<0?i*Math.pow(2,10*t)*Math.sin((r-t)/n):2-i*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return t.amplitude=function(t){return e(t,n*T)},t.period=function(t){return e(i,t)},t}(1,.3);i.d(e,"easeLinear",function(){return n}),i.d(e,"easeQuad",function(){return a}),i.d(e,"easeQuadIn",function(){return r}),i.d(e,"easeQuadOut",function(){return o}),i.d(e,"easeQuadInOut",function(){return a}),i.d(e,"easeCubic",function(){return u}),i.d(e,"easeCubicIn",function(){return s}),i.d(e,"easeCubicOut",function(){return l}),i.d(e,"easeCubicInOut",function(){return u}),i.d(e,"easePoly",function(){return p}),i.d(e,"easePolyIn",function(){return c}),i.d(e,"easePolyOut",function(){return h}),i.d(e,"easePolyInOut",function(){return p}),i.d(e,"easeSin",function(){return y}),i.d(e,"easeSinIn",function(){return g}),i.d(e,"easeSinOut",function(){return v}),i.d(e,"easeSinInOut",function(){return y}),i.d(e,"easeExp",function(){return b}),i.d(e,"easeExpIn",function(){return m}),i.d(e,"easeExpOut",function(){return x}),i.d(e,"easeExpInOut",function(){return b}),i.d(e,"easeCircle",function(){return w}),i.d(e,"easeCircleIn",function(){return _}),i.d(e,"easeCircleOut",function(){return M}),i.d(e,"easeCircleInOut",function(){return w}),i.d(e,"easeBounce",function(){return O}),i.d(e,"easeBounceIn",function(){return C}),i.d(e,"easeBounceOut",function(){return O}),i.d(e,"easeBounceInOut",function(){return k}),i.d(e,"easeBack",function(){return L}),i.d(e,"easeBackIn",function(){return P}),i.d(e,"easeBackOut",function(){return A}),i.d(e,"easeBackInOut",function(){return L}),i.d(e,"easeElastic",function(){return j}),i.d(e,"easeElasticIn",function(){return D}),i.d(e,"easeElasticOut",function(){return j}),i.d(e,"easeElasticInOut",function(){return I})},function(t,e,i){"use strict";i.r(e);var r,o,n=0,a=0,s=0,l=0,u=0,c=0,h="object"==("undefined"==typeof performance?"undefined":Wt(performance))&&performance.now?performance:Date,p="object"==("undefined"==typeof window?"undefined":Wt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return u||(p(d),u=h.now()+c)}function d(){u=0}function g(){this._call=this._time=this._next=null}function v(t,e,i){var n=new g;return n.restart(t,e,i),n}function y(){f(),++n;for(var t,e=r;e;)0<=(t=u-e._time)&&e._call.call(null,t),e=e._next;--n}function m(){u=(l=h.now())+c,n=a=0;try{y()}finally{n=0,function(){for(var t,e,i=r,n=1/0;i;)i=i._call?(n>i._time&&(n=i._time),(t=i)._next):(e=i._next,i._next=null,t?t._next=e:r=e);o=t,b(n)}(),u=0}}function x(){var t=h.now(),e=t-l;1e3<e&&(c-=e,l=t)}function b(t){n||(a=a&&clearTimeout(a),24<t-u?(t<1/0&&(a=setTimeout(m,t-h.now()-c)),s=s&&clearInterval(s)):(s||(l=h.now(),s=setInterval(x,1e3)),n=1,p(m)))}g.prototype=v.prototype={constructor:g,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?f():+i)+(null==e?0:+e),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=t,this._time=i,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}};function _(e,i,t){var n=new g;return i=null==i?0:+i,n.restart(function(t){n.stop(),e(t+i)},i,t),n}function M(i,n,r){var o=new g,a=n;return null==n?o.restart(i,n,r):(n=+n,r=null==r?f():+r,o.restart(function t(e){e+=a,o.restart(t,a+=n,r),i(e)},n,r)),o}i.d(e,"now",function(){return f}),i.d(e,"timer",function(){return v}),i.d(e,"timerFlush",function(){return y}),i.d(e,"timeout",function(){return _}),i.d(e,"interval",function(){return M})}],r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==Wt(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=20);function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n},"object"==Wt(o)&&"object"==Wt(t)?t.exports=r():(i=[],void 0===(n="function"==typeof(e=r)?e.apply(o,i):e)||(t.exports=n))}).call(this,e(108)(t))},function(t,e,i){"use strict";function n(t,e,i){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,i,!1),{remove:function(){t.removeEventListener(e,i,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,i),{remove:function(){t.detachEvent("on"+e,i)}}}}var r,o,a,s;function l(t){r||(r=document.createElement("table"),o=document.createElement("tr"),a=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:o,th:o,"*":document.createElement("div")});var e=a.test(t)&&RegExp.$1;e&&e in s||(e="*");var i=s[e];t=t.replace(/(^\s*)|(\s*$)/g,""),i.innerHTML=""+t;var n=i.childNodes[0];return i.removeChild(n),n}function u(t,e,i){var n;try{n=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(t){}finally{n=void 0===n?i:n}return n}function c(t,e){var i=u(t,"height",e);return"auto"===i&&(i=t.offsetHeight),parseFloat(i)}function h(t,e){var i=c(t,e),n=parseFloat(u(t,"borderTopWidth"))||0,r=parseFloat(u(t,"paddingTop"))||0,o=parseFloat(u(t,"paddingBottom"))||0;return i+n+(parseFloat(u(t,"borderBottomWidth"))||0)+r+o+(parseFloat(u(t,"marginTop"))||0)+(parseFloat(u(t,"marginBottom"))||0)}function p(t,e){var i=u(t,"width",e);return"auto"===i&&(i=t.offsetWidth),parseFloat(i)}function f(t,e){var i=p(t,e),n=parseFloat(u(t,"borderLeftWidth"))||0,r=parseFloat(u(t,"paddingLeft"))||0,o=parseFloat(u(t,"paddingRight"))||0,a=parseFloat(u(t,"borderRightWidth"))||0,s=parseFloat(u(t,"marginRight"))||0;return i+n+a+r+o+(parseFloat(u(t,"marginLeft"))||0)+s}function d(){return window.devicePixelRatio?window.devicePixelRatio:2}function g(t,e){if(t)for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);return t}i.r(e),i.d(e,"addEventListener",function(){return n}),i.d(e,"createDom",function(){return l}),i.d(e,"getHeight",function(){return c}),i.d(e,"getOuterHeight",function(){return h}),i.d(e,"getOuterWidth",function(){return f}),i.d(e,"getRatio",function(){return d}),i.d(e,"getStyle",function(){return u}),i.d(e,"getWidth",function(){return p}),i.d(e,"modifyCSS",function(){return g})},function(t,e,i){"use strict";i.r(e),i.d(e,"mat3",function(){return n}),i.d(e,"vec2",function(){return s}),i.d(e,"vec3",function(){return l}),i.d(e,"transform",function(){return u});var a=i(14);a.translate=function(t,e,i){var n=new Array(9);return a.fromTranslation(n,i),a.multiply(t,n,e)},a.rotate=function(t,e,i){var n=new Array(9);return a.fromRotation(n,i),a.multiply(t,n,e)},a.scale=function(t,e,i){var n=new Array(9);return a.fromScaling(n,i),a.multiply(t,n,e)},a.transform=function(t,e){for(var i=[].concat(t),n=0,r=e.length;n<r;n++){var o=e[n];switch(o[0]){case"t":a.translate(i,i,[o[1],o[2]]);break;case"s":a.scale(i,i,[o[1],o[2]]);break;case"r":a.rotate(i,i,o[1])}}return i};var n=a,o=i(19),r=i(0);o.angle=function(t,e){var i=o.dot(t,e)/(o.length(t)*o.length(e));return Math.acos(Object(r.clamp)(i,-1,1))},o.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},o.angleTo=function(t,e,i){var n=o.angle(t,e),r=0<=o.direction(t,e);return i?r?2*Math.PI-n:n:r?n:2*Math.PI-n},o.vertical=function(t,e,i){return i?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};var s=o,l=i(103),u=function(t,e){var i=t?Object(r.clone)(t):[1,0,0,0,1,0,0,0,1];return Object(r.each)(e,function(t){switch(t[0]){case"t":n.translate(i,i,[t[1],t[2]]);break;case"s":n.scale(i,i,[t[1],t[2]]);break;case"r":n.rotate(i,i,t[1]);break;case"m":n.multiply(i,i,t[1]);break;default:return!1}}),i}},function(t,e,i){"use strict";i.r(e),i.d(e,"Util",function(){return L}),i.d(e,"G",function(){return S}),i.d(e,"Interface",function(){return c}),i.d(e,"Plot",function(){return Pi}),i.d(e,"View",function(){return Oi}),i.d(e,"registerElement",function(){return Ee}),i.d(e,"getElement",function(){return Be}),i.d(e,"Element",function(){return gi}),i.d(e,"registerShape",function(){return le}),i.d(e,"registerShapeFactory",function(){return se}),i.d(e,"getShapeFactory",function(){return ue}),i.d(e,"Shape",function(){return n}),i.d(e,"registerFacet",function(){return je}),i.d(e,"Facet",function(){return Te}),i.d(e,"registerInteraction",function(){return bi}),i.d(e,"getInteraction",function(){return xi}),i.d(e,"Interaction",function(){return yi}),i.d(e,"Global",function(){return w}),i.d(e,"setTheme",function(){return C}),i.d(e,"version",function(){return O}),i.d(e,"registerTheme",function(){return g}),i.d(e,"getTheme",function(){return d}),i.d(e,"Animate",function(){return Z}),i.d(e,"registerScale",function(){return it.registerScale}),i.d(e,"getScale",function(){return it.getScale}),i.d(e,"Scale",function(){return it.Scale}),i.d(e,"registerAdjust",function(){return at}),i.d(e,"getAdjust",function(){return ot}),i.d(e,"Adjust",function(){return nt}),i.d(e,"getCoordinate",function(){return kt.getCoordinate}),i.d(e,"Coordinate",function(){return kt.Coordinate}),i.d(e,"getAttribute",function(){return Bt}),i.d(e,"Attribute",function(){return Pt}),i.d(e,"Option",function(){return cr}),i.d(e,"registerElementLabels",function(){return oi}),i.d(e,"getElementLabels",function(){return ri}),i.d(e,"ElementLabels",function(){return qe});var n={};i.r(n),i.d(n,"registerShapeFactory",function(){return se}),i.d(n,"registerShape",function(){return le}),i.d(n,"getShapeFactory",function(){return ue});function r(t){var e=t.fillOpacity||t.opacity||1;return{fillOpacity:L.clamp(e-.15,.1,1),strokeOpacity:L.clamp(e-.15,.1,1)}}function o(t){return{lineWidth:(t.lineWidth||1)+1}}function a(t){var e=t.fillOpacity||t.opacity||1;return{fillOpacity:L.clamp(e-.15,.1,1)}}function s(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}}function l(t){var e=t.stroke||t.strokeStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}}var u,S=i(2),L=i(0),c=i(58),T=i(1),h=i(3),p=i(102),f={},d=function(t){return f[t.toLowerCase()]},g=function(t,e){if(d(t))throw new Error("Theme type '"+t+"' existed.");f[t.toLowerCase()]=e},v='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',y={area:{lineWidth:0,fill:"#1890FF",fillOpacity:.6},hollowArea:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},box:{stroke:"#1890FF",lineWidth:1,fill:null},edge:{stroke:"#1890FF",lineWidth:1,fill:null},interval:{lineWidth:0,fill:"#1890FF",fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},kline:{fill:"#1890FF",lineWidth:1,stroke:"#1890FF"},line:{stroke:"#1890FF",lineWidth:2,fill:null},polygon:{lineWidth:0,fill:"#1890FF",fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},point:{lineWidth:1,fill:"#1890FF",radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:"#1890FF",radius:3},text:{fill:"#1890FF",textAlign:"center",textBaseline:"middle"}},m={autoRotateLabel:!0,autoHideLabel:!1,autoRotateTitle:!0,showTitle:!1,gridType:"line",title:{textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:v,textAlign:"center"},offset:20},label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:v}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]}},x={showTitle:!1,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:v},unSelectedColor:"#bfbfbf",titleStyle:{fill:"#333",textBaseline:"top",textAlign:"start",fontFamily:v},flipPage:!0},b={pixelRatio:null,defaultColor:"#1890FF",padding:[20,20,95,80],fontFamily:v,colors:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],colors_20:["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],backgroundStyle:{fill:"rgba(255,255,255,0)"},axis:{top:L.deepMix({},m,{position:"top",grid:null}),bottom:L.deepMix({},m,{position:"bottom",grid:null}),left:L.deepMix({},m,{position:"left",label:{offset:8},line:null,tickLine:null}),right:L.deepMix({},m,{position:"right",label:{offset:8},line:null,tickLine:null}),circle:L.deepMix({},m,{label:{offset:8,textStyle:{textBaseline:"alphabetic"}}}),radius:L.deepMix({},m,{label:{offset:12},gridType:"arc"}),helix:L.deepMix({},m,{label:null,grid:null})},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:v}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:v}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:v}},thetaLabels:{labelHeight:14,offset:30,labelLine:{lineWidth:1}},defaultLegendPosition:"bottom",legend:{right:L.deepMix({},x,{position:"right",layout:"vertical",itemMarginBottom:8,textStyle:{lineHeight:0}}),left:L.deepMix({},x,{position:"left",layout:"vertical",itemMarginBottom:8}),top:L.deepMix({},x,{position:"top",layout:"horizontal",itemDistance:10}),bottom:L.deepMix({},x,{position:"bottom",layout:"horizontal",itemDistance:10}),html:{position:"bottom",layout:"horizontal",showTitle:!1,unSelectedColor:"#bfbfbf",backgroundStyle:{height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:v,lineHeight:"20px",color:"#8C8C8C"},titleStyle:{marginBottom:"4px"},listStyle:{listStyleType:"none",margin:0,padding:0},itemStyle:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},markerStyle:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"}},margin:[0,24,24,24],legendMargin:24},tooltip:((u={useHtml:!0})["g2-tooltip"]={position:"absolute",display:"none",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:v,lineHeight:"20px",padding:"10px 10px 6px 10px"},u["g2-tooltip-title"]={marginBottom:"4px"},u["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},u["g2-tooltip-list-item"]={marginBottom:"4px",listStyleType:"none",padding:0,marginTop:0,marginLeft:0,marginRight:0},u["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},u["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},u),tooltipMarker:{symbol:function(t,e,i){return[["M",t,e],["m",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,2*-i,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},annotation:{line:{line:{style:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1}},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:v,textBaseline:"bottom"}}},text:{top:!0,style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:v}},region:{top:!1,style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{region:{style:{lineWidth:0,fill:"#000000",opacity:.04}},text:{style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,direction:"upward",autoAdjust:!0,text:{display:!0,style:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},line:{display:!0,lineLength:20,style:{stroke:"#A3B1BF",lineWidth:1}},point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}}}},shape:{area:{area:{default:y.area,active:r},smooth:{default:y.area,active:r},line:{default:y.hollowArea,active:o},smoothLine:{default:y.hollowArea,active:o}},box:{box:{default:y.box,active:o}},edge:{line:{default:y.edge,active:o},vhv:{default:y.edge,active:o},smooth:{default:y.edge,active:o},arc:{default:y.edge,active:o}},interval:{rect:{default:y.interval,active:a},hollowInterval:{default:y.hollowInterval,active:o},line:{default:y.hollowInterval,active:o},tick:{default:y.hollowInterval,active:o},funnel:{default:y.interval,active:a},pyramid:{default:y.interval,active:a},"top-line":{default:y.interval,active:a}},kline:{kline:{default:y.kline,active:r}},line:{line:{default:y.line,active:o},dot:{default:y.line,active:o},dash:{default:y.line,active:o},smooth:{default:y.line,active:o},hv:{default:y.line,active:o},vh:{default:y.line,active:o},hvh:{default:y.line,active:o},vhv:{default:y.line,active:o}},polygon:{polygon:{default:y.polygon,active:a},hollow:{default:y.hollowPolygon,active:o}},point:{circle:{default:y.point,active:s},square:{default:y.point,active:s},bowtie:{default:y.point,active:s},diamond:{default:y.point,active:s},hexagon:{default:y.point,active:s},triangle:{default:y.point,active:s},triangleDown:{default:y.point,active:s},hollowCircle:{default:y.hollowPoint,active:l},hollowSquare:{default:y.hollowPoint,active:l},hollowBowtie:{default:y.hollowPoint,active:l},hollowDiamond:{default:y.hollowPoint,active:l},hollowHexagon:{default:y.hollowPoint,active:l},hollowTriangle:{default:y.hollowPoint,active:l},hollowTriangleDown:{default:y.hollowPoint,active:l},cross:{default:y.hollowPoint,active:l},tick:{default:y.hollowPoint,active:l},plus:{default:y.hollowPoint,active:l},hyphen:{default:y.hollowPoint,active:l},line:{default:y.hollowPoint,active:l},rect:{default:y.point,active:s},image:{default:y.point,active:s},path:{default:y.point,active:s}},text:{text:{default:y.text,active:function(t){return{stroke:t.fill||t.fillStyle,strokeOpacity:1,lineWidth:1}}}}}};g("default",b);var _,M={version:p.a,renderer:"canvas",width:640,height:480,pixelRatio:null,animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},theme:d("default"),setTheme:function(t){var e;e=L.isObject(t)?t:d(t)?d(t):d("default"),L.deepMix(M.theme,e)}},w=M,C=M.setTheme,O=M.version,k=i(22),P=(_=i.n(k).a,Object(T.__extends)(j,_),j.prototype.get=function(t){return this.cfg[t]},j.prototype.set=function(t,e){return this.cfg[t]=e,this},j.prototype.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},j.prototype.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},j.prototype.destroy=function(){this.cfg={},this.off(),this.destroyed=!0},j),A=i(4),D=i(18);function j(t){var e=_.call(this)||this;return e.cfg={},e.destroyed=!1,e.cfg=Object(T.__assign)({visible:!0},t),e}function I(t){var e,i=t.start,n=t.end,r=t.width,o=t.height;if(t.isPolar){var a=t.startAngle,s=t.endAngle,l=t.getCenter(),u=t.getRadius();(e=new S.Shapes.Fan({attrs:{x:l.x,y:l.y,rs:0,re:u+200,startAngle:a,endAngle:a}})).endState={endAngle:s}}else e=new S.Shapes.Rect({attrs:{x:i.x-200,y:n.y-200,width:t.isTransposed?r+400:0,height:t.isTransposed?0:o+400}}),t.isTransposed?e.endState={height:o+400}:e.endState={width:r+400};return e.set("isClip",!0),e}function B(t,e,i){var n;t.apply(e);var r=e[0],o=e[1];if("x"===i){t.transform([["t",-r,-o],["s",.01,1],["t",r,o]]);var a=t.getMatrix();n=A.mat3.transform(a,[["t",-r,-o],["s",100,1],["t",r,o]])}else"y"===i?(t.transform([["t",-r,-o],["s",1,.01],["t",r,o]]),a=t.getMatrix(),n=A.mat3.transform(a,[["t",-r,-o],["s",1,100],["t",r,o]])):"xy"===i&&(t.transform([["t",-r,-o],["s",.01,.01],["t",r,o]]),a=t.getMatrix(),n=A.mat3.transform(a,[["t",-r,-o],["s",100,100],["t",r,o]]));return n}function E(t,e,i){var n,r,o,a=t.id,s=(n=i,r=t.get("index"),o=a,{delay:L.isFunction(n.delay)?n.delay(r,o):n.delay,easing:L.isFunction(n.easing)?n.easing(r,o):n.easing,duration:L.isFunction(n.duration)?n.duration(r,o):n.duration,callback:n.callback}),l=s.easing,u=s.delay,c=s.duration,h=s.callback;t.animate(e,c,l,h,u)}function F(t,e,i,n,r){var o,a,s,l={start:(s=i).start,end:s.end,width:s.getWidth(),height:s.getWidth()},u=l.start,c=l.end,h=l.width,p=l.height,f=new S.Shapes.Rect({attrs:{x:u.x,y:c.y,width:h,height:p}});"y"===r?(o=u.x+h/2,a=n.y<u.y?n.y:u.y):"x"===r?(o=n.x>u.x?n.x:u.x,a=u.y+p/2):"xy"===r&&(a=i.isPolar?(o=i.getCenter().x,i.getCenter().y):(o=(u.x+c.x)/2,(u.y+c.y)/2));var d=B(f,[o,a,1],r);f.set("isClip",!0),f.set("canvas",t.get("canvas")),t.attr("clip",f),e.callback=function(){t.attr("clip",null),f.remove()},E(f,{matrix:d},e)}function R(t,e){var i=t.getBBox(),n=t.get("origin").points;E(t,{matrix:B(t,[(i.minX+i.maxX)/2,n[0].y-n[1].y<=0?i.maxY:i.minY,1],"y")},e)}function N(t,e){var i=t.getBBox(),n=t.get("origin").points;E(t,{matrix:B(t,[0<n[0].y-n[1].y?i.maxX:i.minX,(i.minY+i.maxY)/2,1],"x")},e)}function z(t,e,i){var n,r;if(i.isPolar&&"point"!==t.name)n=i.getCenter().x,r=i.getCenter().y;else{var o=t.getBBox();n=(o.minX+o.maxX)/2,r=(o.minY+o.maxY)/2}E(t,{matrix:B(t,[n,r,1],"xy")},e)}function Y(t,e){if("path"===t.get("type")){var i=D.c(t.attr("path"));t.attr("path",[i[0]]),E(t,{path:i},e)}}function H(t,e,i,n,r){var o,a=I(i),s=t.get("canvas");o=n?(a.attr("startAngle",n),a.attr("endAngle",n),{endAngle:r}):a.endState,a.set("canvas",s),t.attr("clip",a),t.setSilent("animating",!0),e.callback=function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),a.remove())},E(a,o,e)}function G(t,e){var i=L.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),n=L.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0),E(t,{fillOpacity:i,strokeOpacity:n},e)}function W(t,e,i){var n,r,o,a,s,l,u,c=(r=i,s=function(t){if(L.isEmpty(t))return null;var e=t[0].x,i=t[0].x,n=t[0].y,r=t[0].y;return L.each(t,function(t){e=e>t.x?t.x:e,i=i<t.x?t.x:i,n=n>t.y?t.y:n,r=r<t.y?t.y:r}),{minX:e,maxX:i,minY:n,maxY:r,centerX:(e+i)/2,centerY:(n+r)/2}}((n=t).points||n.get("origin").points),l=r.startAngle,u=r.endAngle-l,a=r.isTransposed?(o=s.maxY*u,s.minY*u):(o=s.maxX*u,s.minX*u),{startAngle:a+=l,endAngle:o+=l});H(t,e,i,c.startAngle,c.endAngle)}var X={enter:{clipIn:H,zoomIn:z,pathIn:Y,scaleInY:R,scaleInX:N,fanIn:W,fadeIn:G},leave:{lineWidthOut:function(t,e){e.callback=function(){return t.remove()},E(t,{lineWidth:0,opacity:0},e)},zoomOut:function(t,e,i){var n,r;if(i.isPolar&&"point"!==t.name)n=i.getCenter().x,r=i.getCenter().y;else{var o=t.getBBox();n=(o.minX+o.maxX)/2,r=(o.minY+o.maxY)/2}var a=[n,r,1];t.apply(a);var s={transform:[["t",-n,-r],["s",.01,.01],["t",n,r]]};e.callback=function(){return t.remove()},E(t,s,e)},pathOut:function(t,e){if("path"===t.get("type")){var i={path:[D.c(t.attr("path"))[0]]};e.callback=function(){return t.remove()},E(t,i,e)}},fadeOut:function(t,e){e.callback=function(){return t.remove()},E(t,{fillOpacity:0,strokeOpacity:0},e)},fadeIn:G},appear:{clipIn:H,zoomIn:z,pathIn:Y,scaleInY:R,scaleInX:N,fanIn:W,fadeIn:G,groupWaveIn:function(t,e,i){var n=I(i);n.set("canvas",t.get("canvas")),t.attr("clip",n),e.callback=function(){t.attr("clip",null),n.remove()};var r=n.endState;E(n,r,e)},groupScaleInX:function(t,e,i,n){F(t,e,i,n,"x")},groupScaleInY:function(t,e,i,n){F(t,e,i,n,"y")},groupScaleInXY:function(t,e,i,n){F(t,e,i,n,"xy")}},update:{fadeIn:G,fanIn:W}};L.each(X,function(t){L.each(t,function(t,e){t.animationName=e})});var V=X,q={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},U={line:{appear:function(){return V.appear.groupWaveIn},enter:function(){return V.enter.clipIn},leave:function(){return V.leave.lineWidthOut}},path:{appear:function(){return V.appear.groupWaveIn},enter:function(){return V.enter.clipIn},leave:function(){return V.leave.lineWidthOut}},area:{appear:function(){return V.appear.groupWaveIn},enter:function(){return V.enter.fadeIn},leave:function(){return V.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return V.appear.fadeIn},enter:function(){return V.enter.zoomIn},leave:function(){return V.leave.zoomOut}},edge:{appear:function(){return V.appear.pathIn},enter:function(){return V.enter.pathIn},leave:function(){return V.leave.pathOut}},interval:{appear:function(t){var e;return t.isPolar?(e=V.appear.groupScaleInXY,t.isTransposed&&(e=V.appear.groupWaveIn)):e=t.isTransposed?V.appear.groupScaleInX:V.appear.groupScaleInY,e},enter:function(t){return t.isRect||t.isTransposed||"theta"===t.type?V.enter.fadeIn:V.enter.zoomIn},leave:function(){return V.leave.fadeOut},update:function(t){if("theta"===t.type)return V.update.fanIn}},point:{appear:function(){return V.appear.zoomIn},enter:function(){return V.enter.zoomIn},leave:function(){return V.leave.zoomOut}},text:{appear:function(){return V.appear.zoomIn},enter:function(){return V.enter.zoomIn},leave:function(){return V.leave.zoomOut}},kline:{appear:function(){return V.appear.groupWaveIn},enter:function(){return V.enter.clipIn},leave:function(){return V.leave.lineWidthOut}},box:{appear:function(){return V.appear.groupWaveIn},enter:function(){return V.enter.clipIn},leave:function(){return V.leave.lineWidthOut}},heatmap:null,label:{appear:function(){return V.appear.fadeIn},enter:function(){return V.enter.fadeIn},leave:function(){return V.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return V.appear.fadeIn},leave:function(){return V.leave.fadeOut},update:function(t){if(t.isPolar)return V.appear.fadeIn}},"axis-ticks":{enter:function(){return V.appear.fadeIn},leave:function(){return V.leave.fadeOut},update:function(t){if(t.isPolar)return V.appear.fadeIn}},"axis-grid":{enter:function(){return V.appear.fadeIn},leave:function(){return V.leave.fadeOut},update:function(t){if(t.isPolar)return V.appear.fadeIn}},"axis-grid-rect":{enter:function(){return V.appear.fadeIn},leave:function(){return V.leave.fadeOut},update:function(){return V.leave.fadeIn}}};U.Action=V,U.defaultCfg=q,U.getAnimation=function(t,e,i){var n=this[t];if(n){var r=n[i];if(L.isFunction(r))return r(e)}return!1},U.getAnimateCfg=function(t,e){var i=q[e];return this[t]&&this[t].cfg&&this[t].cfg[e]?L.deepMix({},i,this[t].cfg[e]):i},U.registerAnimation=function(t,e,i){this.Action[t]||(this.Action[t]={}),this.Action[t][e]=i};var Z=U;function Q(t,i){var n=[];if(!1===t.get("animate"))return[];var e=t.get("children");return L.each(e,function(t){if(t.isGroup)n=n.concat(Q(t,i));else if(t.isShape&&t.id){var e=t.id;(e=e.split("-")[0])===i&&n.push(t)}}),n}function $(t,e,i,n){return n?Z.Action[i][n]:Z.getAnimation(t,e,i)}function K(t,e,i){if(!1===i||L.isObject(i)&&!1===i[e])return null;var n=Z.getAnimateCfg(t,e);return i&&i[e]?L.deepMix({},n,i[e]):n}var J,tt=function(t,e){var i=e,n=t.get("panelGroup"),r=t.get("backgroundGroup"),s=t.get("id"),o=t.get("canvas"),a=o.get(s+"caches")||[];0===a.length&&(i=!1);var l,u,c,h,p,f,d,g,v,y,m,x=Q(n,s),b=Q(r,s),_=x.concat(b);if(o.setSilent(s+"caches",(y=_,m={},L.each(y,function(t){if(t.id&&!t.get("isClip")){var e=t.id;m[e]={id:e,type:t.get("type"),attrs:L.clone(t.attr()),name:t.name,index:t.get("index"),animateCfg:t.get("animateOptions"),coord:t.get("coord")}}}),m)),i)u=a,c=_,h=o,d=!1,g=[],v=[],L.each(c,function(t){var e=u[t.id];e?(t.setSilent("cacheShape",e),g.push(t),delete u[t.id]):v.push(t)}),L.each(u,function(t){var e=t.name,i=t.coord,n=t.id,r=t.attrs,o=t.index,a=t.type;if(!(f=K(e,"leave",t.animateCfg)))return!0;if(p=$(e,i,"leave",f.animation),L.isFunction(p)){var s=h.addShape(a,{attrs:r,index:o});if(s.id=n,s.name=e,i&&"label"!==e){var l=s.getMatrix(),u=A.mat3.multiply([],l,i.matrix);s.setMatrix(u)}d=!0,p(s,f,i)}}),L.each(g,function(t){var e=t.name;if(!(f=K(e,"update",t.get("animateOptions"))))return!0;var i=t.get("coord"),n=t.get("cacheShape").attrs;if(!L.isEqual(n,t.attr())){if(p=$(e,i,"update",f.animation),L.isFunction(p))p(t,f,i);else{var r=L.clone(t.attr());t.attr(n),t.animate(r,f.duration,f.easing,function(){t.setSilent("cacheShape",null)})}d=!0}}),L.each(v,function(t){var e=t.name,i=t.get("coord");if(!(f=K(e,"enter",t.get("animateOptions"))))return!0;p=$(e,i,"enter",f.animation),L.isFunction(p)&&(p(t,f,i),d=!0)}),l=d;else{var M,w,S=t.get("elements"),C=t.get("coord");L.each(S,function(t){var e=t.get("type"),i=t.get("animateOptions");if(!1!==i){if(!(M=K(e,"appear",i)))return!0;if(w=$(e,C,"appear",M.animation),L.isFunction(w))if(0===w.animationName.indexOf("group")){var n=t.getYScale(),r=C.convertPoint({x:0,y:n.scale(t.getYMinValue())}),o=t.get("container");w&&w(o,M,C,r)}else{var a=Q(t.get("container"),s);L.each(a,function(t){t.name===e?w(t,M,C):"label"===t.name&&(M=K("label","appear",null),w=$(t.name,C,"appear",M.animation),L.isFunction(w)&&w(t,M,C))})}}}),l=!0}l||o.draw()},et=i(16),it=i(11),nt=(ut.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},ut.prototype.getAdjustRange=function(t,e,i){var n,r,o=this.yField,a=i.indexOf(e),s=i.length;return!o&&this.isAdjust("y")?(n=0,r=1):1<s?(n=i[0===a?0:a-1],r=i[a===s-1?s-1:a+1],0!==a?n+=(e-n)/2:n-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-i[s-2])/2):(n=0===e?0:e-.5,r=0===e?1:e+.5),{pre:n,next:r}},ut.prototype.adjustData=function(t,e){var r=this,o=this.getDimValues(e);L.each(t,function(i,n){L.each(o,function(t,e){r.adjustDim(e,t,i,n)})})},ut.prototype.groupData=function(t,e){return L.each(t,function(t){void 0===t[e]&&(t[e]=0)}),L.groupBy(t,e)},ut.prototype.adjustDim=function(t,e,i,n){},ut.prototype.getDimValues=function(e){var t=this.xField,i=this.yField,n={},r=[];return t&&this.isAdjust("x")&&r.push(t),i&&this.isAdjust("y")&&r.push(i),r.forEach(function(t){n[t]=L.valuesOfKey(e,t).sort(function(t,e){return t-e})}),!i&&this.isAdjust("y")&&(n.y=[0,1]),n},ut),rt={},ot=function(t){return rt[t.toLowerCase()]},at=function(t,e){if(ot(t))throw new Error("Adjust type '"+t+"' existed.");rt[t.toLowerCase()]=e},st=(J=nt,Object(T.__extends)(lt,J),lt.prototype.process=function(t){var e=L.clone(t),i=L.flatten(e),n=this.dodgeBy,r=n?L.group(i,n):e;return this.cacheMap={},this.adjustDataArray=r,this.mergeData=i,this.adjustData(r,i),this.adjustDataArray=[],this.mergeData=[],e},lt.prototype.adjustDim=function(o,i,t,a){var s=this,l=this.getDistribution(o),e=this.groupData(t,o);return L.each(e,function(t,e){var r;r=1===i.length?{pre:i[0]-1,next:i[0]+1}:s.getAdjustRange(o,parseFloat(e),i),L.each(t,function(t){var e=t[o],i=l[e],n=i.indexOf(a);t[o]=s.getDodgeOffset(r,n,i.length)})}),[]},lt.prototype.getDodgeOffset=function(t,e,i){var n=this.dodgeRatio,r=this.marginRatio,o=t.pre,a=t.next,s=a-o,l=s*n/i,u=r*l;return(o+a)/2+(.5*(s-i*l-(i-1)*u)+((e+1)*l+e*u)-.5*l-.5*s)},lt.prototype.getDistribution=function(n){var t=this.adjustDataArray,e=this.cacheMap,r=e[n];return r||(r={},L.each(t,function(t,e){var i=L.valuesOfKey(t,n);i.length||i.push(0),L.each(i,function(t){r[t]||(r[t]=[]),r[t].push(e)})}),e[n]=r),r},lt);function lt(t){var e=J.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var i=t.marginRatio,n=void 0===i?.5:i,r=t.dodgeRatio,o=void 0===r?.5:r,a=t.dodgeBy;return e.marginRatio=n,e.dodgeRatio=o,e.dodgeBy=a,e}function ut(t){var e=t.xField,i=t.yField,n=t.adjustNames,r=void 0===n?["x","y"]:n;this.adjustNames=r,this.xField=e,this.yField=i}var ct,ht,pt,ft=(pt=nt,Object(T.__extends)(xt,pt),xt.prototype.process=function(t){var e=L.clone(t),i=L.flatten(e);return this.adjustData(e,i),e},xt.prototype.adjustDim=function(i,n,t){var r=this,e=this.groupData(t,i);return L.each(e,function(t,e){return r.adjustGroup(t,i,parseFloat(e),n)})},xt.prototype.getAdjustOffset=function(t){var e,i=t.pre,n=t.next,r=.05*(n-i);return(n-r-(e=i+r))*Math.random()+e},xt.prototype.adjustGroup=function(t,e,i,n){var r=this,o=this.getAdjustRange(e,i,n);return L.each(t,function(t){t[e]=r.getAdjustOffset(o)}),t},xt),dt=L.Cache,gt=(ht=nt,Object(T.__extends)(mt,ht),mt.prototype.process=function(t){var e=this.yField,i=this.reverseOrder,n=e?this.processStack(t):this.processOneDimStack(t);return i?this.reverse(n):n},mt.prototype.reverse=function(t){return t.slice(0).reverse()},mt.prototype.processStack=function(t){var l=this.xField,u=this.yField,e=this.reverseOrder?this.reverse(t):t,c=new dt,h=new dt;return e.map(function(t){return t.map(function(t){var e,i=L.get(t,l,0),n=L.get(t,u),r=i.toString();if(n=L.isArray(n)?n[1]:n,L.isNil(n))return t;var o=0<=n?c:h;o.has(r)||o.set(r,0);var a=o.get(r),s=n+a;return o.set(r,s),Object(T.__assign)(Object(T.__assign)({},t),((e={})[u]=[a,s],e))})})},mt.prototype.processOneDimStack=function(t){var a=this,s=this.xField,l=this.height,e=this.reverseOrder?this.reverse(t):t,u=new dt;return e.map(function(t){return t.map(function(t){var e,i=a.size,n=t[s],r=2*i/l;u.has(n)||u.set(n,r/2);var o=u.get(n);return u.set(n,o+r),Object(T.__assign)(Object(T.__assign)({},t),((e={}).y=o,e))})})},mt),vt=(ct=nt,Object(T.__extends)(yt,ct),yt.prototype.process=function(t){var e=L.flatten(t),s=this.xField,l=this.yField,u=this.getXValuesMaxMap(e),c=Math.max.apply(Math,Object.keys(u).map(function(t){return u[t]}));return L.map(t,function(t){return L.map(t,function(t){var e,i,n=t[l],r=t[s];if(L.isArray(n)){var o=(c-u[r])/2;return Object(T.__assign)(Object(T.__assign)({},t),((e={})[l]=L.map(n,function(t){return o+t}),e))}var a=(c-n)/2;return Object(T.__assign)(Object(T.__assign)({},t),((i={})[l]=[a,n+a],i))})})},yt.prototype.getXValuesMaxMap=function(t){var e=this,i=this.xField,n=this.yField,r=L.groupBy(t,function(t){return t[i]});return L.mapValues(r,function(t){return e.getDimMaxValue(t,n)})},yt.prototype.getDimMaxValue=function(t,e){var i=L.map(t,function(t){return L.get(t,e,[])}),n=L.flatten(i);return Math.max.apply(Math,n)},yt);function yt(){return null!==ct&&ct.apply(this,arguments)||this}function mt(t){var e=ht.call(this,t)||this,i=t.adjustNames,n=void 0===i?["y"]:i,r=t.height,o=void 0===r?NaN:r,a=t.size,s=void 0===a?10:a,l=t.reverseOrder,u=void 0!==l&&l;return e.adjustNames=n,e.height=o,e.size=s,e.reverseOrder=u,e}function xt(){return null!==pt&&pt.apply(this,arguments)||this}at("Dodge",st),at("Jitter",ft),at("Stack",gt),at("Symmetric",vt);function bt(t,e){return Object(L.isString)(e)?e:t.invert(t.scale(e))}function _t(t,e){if(Bt(t))throw new Error("Attribute type '"+t+"' existed.");It[t.toLowerCase()]=e}var Mt,wt,St,Ct,Ot,kt=i(24),Pt=(Yt.prototype.mapping=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map(function(t,e){return i._toOriginParam(t,i.scales[e])});return this.callback.apply(this,n)},Yt.prototype.getLinearValue=function(t){var e=this.values.length-1,i=Math.floor(e*t),n=e*t-i,r=this.values[i];return r+((i===e?r:this.values[i+1])-r)*n},Yt.prototype.getNames=function(){for(var t=this.scales,e=this.names,i=Math.min(t.length,e.length),n=[],r=0;r<i;r+=1)n.push(e[r]);return n},Yt.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},Yt.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},Yt.prototype.defaultCallback=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){var i=n.scales[e];return"identity"===i.type?i.values[0]:n._getAttributeValue(i,t)})},Yt.prototype._parseCfg=function(t){var n=this,e=t.type,i=void 0===e?"base":e,r=t.names,o=void 0===r?[]:r,a=t.scales,s=void 0===a?[]:a,l=t.values,u=void 0===l?[]:l,c=t.callback;this.type=i,this.scales=s,this.values=u,this.names=o,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(c){var i=c.apply(void 0,t);if(!Object(L.isNil)(i))return[i]}return n.defaultCallback.apply(n,t)}},Yt.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var i=t.translate(e);return this.values[i%this.values.length]}var n=t.scale(e);return this.getLinearValue(n)},Yt.prototype._toOriginParam=function(t,e){return e.isLinear?t:Object(L.isArray)(t)?t.map(function(t){return bt(e,t)}):bt(e,t)},Yt),At=(Ot=Pt,Object(T.__extends)(zt,Ot),zt.prototype.getLinearValue=function(t){return this.gradient(t)},zt),Lt=(Ct=Pt,Object(T.__extends)(Nt,Ct),Nt),Tt=(St=Pt,Object(T.__extends)(Rt,St),Rt.prototype.mapping=function(t,e){var i=this.scales,n=i[0],r=i[1];return Object(L.isNil)(t)||Object(L.isNil)(e)?[]:[Object(L.isArray)(t)?t.map(function(t){return n.scale(t)}):n.scale(t),Object(L.isArray)(e)?e.map(function(t){return r.scale(t)}):r.scale(e)]},Rt),Dt=(wt=Pt,Object(T.__extends)(Ft,wt),Ft.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},Ft),jt=(Mt=Pt,Object(T.__extends)(Et,Mt),Et),It={},Bt=function(t){return It[t.toLowerCase()]};function Et(t){var e=Mt.call(this,t)||this;return e.type="size",e.names=["size"],e}function Ft(t){var e=wt.call(this,t)||this;return e.type="shape",e.names=["shape"],e}function Rt(t){var e=St.call(this,t)||this;return e.names=["x","y"],e.type="position",e}function Nt(t){var e=Ct.call(this,t)||this;return e.type="opacity",e.names=["opacity"],e}function zt(t){var e=Ot.call(this,t)||this;return e.type="color",e.names=["color"],Object(L.isString)(e.values)&&(e.linear=!0),e.gradient=et.default.gradient(e.values),e}function Yt(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}_t("Color",At),_t("Opacity",Lt),_t("Position",Tt),_t("Shape",Dt),_t("Size",jt);var Ht,Gt,Wt=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;(Gt=Ht=Ht||{}).Linear="linear",Gt.Cat="cat",Gt.Time="time";var Xt=(Kt.prototype.createScale=function(t,e){var i,n=this.defs[t];if(!e||!e.length)return i=n&&n.type?new(Object(it.getScale)(n.type))(n):new(Object(it.getScale)("identity"))({field:t.toString(),values:[t]});var r=L.firstValue(e,t);if(L.isNumber(t)||L.isNil(r)&&!n)i=new(Object(it.getScale)("identity"))({field:t.toString(),values:[t]});else{var o=L.get(n,"type",this._getDefaultType(t,e)),a=this._getScaleCfg(o,t,e);n&&L.mix(a,n),i=new(Object(it.getScale)(o))(a)}return i},Kt.prototype._getDefaultType=function(t,e){var i=Ht.Linear,n=L.firstValue(e,t);return L.isArray(n)&&(n=n[0]),Wt.test(n)?i=Ht.Time:L.isString(n)&&(i=Ht.Cat),i},Kt.prototype._getScaleCfg=function(t,e,i){var n=L.valuesOfKey(i,e),r={field:e,values:n};if("cat"!==t&&"timeCat"!==t&&"time"!==t){var o=L.getRange(n),a=o.min,s=o.max;r.min=a,r.max=s,r.nice=!0}return"time"===t&&(r.nice=!1),r},Kt),Vt=($t.prototype.reset=function(t){return this.type=t.type||"rect",this.actions=t.actions||[],this.cfg=t.cfg,this.options.type=this.type,this.options.actions=this.actions,this.options.cfg=this.cfg,this},$t.prototype.createCoord=function(t,e){var i,n,r=this.type,o=this.cfg,a=Object(T.__assign)({start:t,end:e},o);return"theta"===r?(i=Object(kt.getCoordinate)("polar"),this._hasAction("transpose")||this.transpose(),(n=new i(a)).type=r):n=new(i=Object(kt.getCoordinate)(r))(a),this._execActions(n),n},$t.prototype.rotate=function(t){var e=t*Math.PI/180;return this.actions.push(["rotate",e]),this},$t.prototype.reflect=function(t){return void 0===t&&(t="y"),this.actions.push(["reflect",t]),this},$t.prototype.scale=function(t,e){return this.actions.push(["scale",t,e]),this},$t.prototype.transpose=function(){return this.actions.push(["transpose"]),this},$t.prototype._execActions=function(i){L.each(this.actions,function(t){var e=t[0];i[e](t[1],t[2])})},$t.prototype._hasAction=function(e){var t=this.actions,i=!1;return L.each(t,function(t){if(e===t[0])return!(i=!0)}),i},$t),qt=i(13),Ut=(Qt.prototype.add=function(t,e,i){void 0===i&&(i=!0);var n=L.upperFirst(t);return qt.Annotation[n]?this.options.push(Object(T.__assign)({top:i,type:t},e)):console.error("Annotation "+t+" not exist."),this},Qt.prototype.get=function(t){return this.annotations[t]},Qt.prototype.render=function(e){var i=this;this.coord=e;var t=this.view,n=t&&t.get("filteredData");this.createAnnotations(),L.each(this.annotations,function(t){t.get("top")?t.render(e,i.frontgroundGroup,n):t.render(e,i.backgroundGroup,n)})},Qt.prototype.changeVisible=function(e){L.each(this.annotations,function(t){t.changeVisible(e)})},Qt.prototype.clear=function(){this.reset(),this.options=[],this.backgroundGroup&&this.backgroundGroup.remove(),this.frontgroundGroup&&this.frontgroundGroup.remove()},Qt.prototype.reset=function(){L.each(this.annotations,function(t){t.clear()}),this.annotations=[]},Qt.prototype.repaint=function(){var e=this;if(!this.coord||!this.view)throw new Error("need render first");var i=this.coord,n=this.view.get("filteredData");L.each(this.annotations,function(t){t.clear(),t.get("top")?t.render(i,e.frontgroundGroup,n):t.render(i,e.backgroundGroup,n)}),this.view.get("canvas").draw()},Qt.prototype.createAnnotations=function(){var o=this;L.each(this.options,function(t){var e=t.type,i=t.top,n=Object(T.__rest)(t,["type","top"]),r=new(qt.Annotation[L.upperFirst(e)])(L.deepMix({},Object(T.__assign)({xScales:o.xScales,yScales:o.yScales},L.get(o.theme,"annotation."+e)?o.theme.annotation[e]:{}),n));r.set("top",i),o.annotations.push(r)})},Qt),Zt=i(25);function Qt(t){this.options=[],this.annotations=[],L.assign(this,t)}function $t(t){void 0===t&&(t={}),this.type="rect",this.actions=[],this.cfg={},this.options={},L.mix(this,t),this.options=t}function Kt(t){this.defs={},this.defs=t}function Jt(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function te(t,e){for(var i=[t[0]],n=1,r=t.length;n<r;n+=2){var o=e.convertPoint({x:t[n],y:t[n+1]});i.push(o.x,o.y)}return i}function ee(t,e){return function(t,e){var i=[];if(t.length){for(var n=0,r=t.length;n<r;n+=1){var o=t[n],a=0===n?"M":"L";i.push([a,o.x,o.y])}e&&i.push(["Z"])}return i}(t,e)}function ie(t,e,i){var n=[],r=t[0],o=null;if(t.length<=2)return ee(t,e);L.each(t,function(t){o&&o.x===t.x&&o.y===t.y||(n.push(t.x),n.push(t.y),o=t)});var a=function(t,e,i){for(var n=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);var s,l,u,c=function(t,e,i){var n,r,o,a,s=[],l=!!i;if(l){o=[1/0,1/0],a=[-1/0,-1/0];for(var u=0,c=t.length;u<c;u++){var h=t[u];o=A.vec2.min([],o,h),a=A.vec2.max([],a,h)}o=A.vec2.min([],o,i[0]),a=A.vec2.max([],a,i[1])}u=0;for(var p=t.length;u<p;u++){if(h=t[u],e)n=t[u?u-1:p-1],r=t[(u+1)%p];else{if(0===u||u===p-1){s.push(h);continue}n=t[u-1],r=t[u+1]}var f=[];f=A.vec2.sub(f,r,n),f=A.vec2.scale(f,f,.4);var d=A.vec2.distance(h,n),g=A.vec2.distance(h,r),v=d+g;0!==v&&(d/=v,g/=v);var y=A.vec2.scale([],f,-d),m=A.vec2.scale([],f,g),x=A.vec2.add([],h,y),b=A.vec2.add([],h,m);l&&(x=A.vec2.max([],x,o),x=A.vec2.min([],x,a),b=A.vec2.max([],b,o),b=A.vec2.min([],b,a)),s.push(x),s.push(b)}return e&&s.push(s.shift()),s}(r,n,i),h=r.length,p=[];for(o=0;o<h-1;o++)s=c[2*o],l=c[2*o+1],u=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return n&&(s=c[h],l=c[h+1],u=r[0],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]])),p}(n,e,i||[[0,0],[1,1]]);return a.unshift(["M",r.x,r.y]),a}function ne(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)}var re={_coord:null,getCoord:function(){return this._coord},parsePath:function(t,e){var i,n,r,o,a,g,v,s,l,u=this._coord,c=D.b(t);return u.isPolar&&!1!==e?(o=u,a=c,l=[],L.each(a,function(t,e){switch(t[0].toLowerCase()){case"m":case"c":case"q":l.push(te(t,o));break;case"l":g=a[e-1],v=t,(o.isTransposed?g[g.length-2]===v[1]:g[g.length-1]===v[2])?l=l.concat(function(t){var e=t.isTransposed,i=t.startAngle,n=t.endAngle,r={x:g[1],y:g[2]},o={x:v[1],y:v[2]},a=[],s=e?"y":"x",l=Math.abs(o[s]-r[s])*(n-i),u=r[s]<=o[s]?1:0,c=l>Math.PI?1:0,h=t.convertPoint(o),p=Jt(t,h);if(.5<=p)if(l==2*Math.PI){var f={x:(o.x+r.x)/2,y:(o.y+r.y)/2},d=t.convertPoint(f);a.push(["A",p,p,0,c,u,d.x,d.y]),a.push(["A",p,p,0,c,u,h.x,h.y])}else a.push(["A",p,p,0,c,u,h.x,h.y]);return a}(o)):l.push(te(t,o));break;case"z":default:l.push(t)}}),s=l,L.each(s,function(t,e){if("a"===t[0].toLowerCase()){var i=s[e-1],n=s[e+1];n&&"a"===n[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M")}}),l):(i=u,n=c,r=[],L.each(n,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":r.push(te(t,i));break;case"z":default:r.push(t)}}),r)},parsePoint:function(t){return this._coord.convertPoint(t)},parsePoints:function(t){var e=this._coord;return t.map(function(t){return e.convertPoint(t)})},draw:function(){}},oe={_theme:w.theme.shape,_coord:null,_getShapeStyleByState:function(t,e,i){var n=this._theme,r=this.name;if(n&&n[r]&&n[r][t]){var o=n[r][t][e];return L.isFunction(o)&&(o=o(i)),o}},defaultShapeType:null,setCoord:function(t){this._coord=t},setTheme:function(t){this._theme=t},getShape:function(t){var e=this[L.isArray(t)?t[0]:t]||this[this.defaultShapeType];return e._coord=this._coord,e},getShapePoints:function(t,e){var i=this.getShape(t);return i.getPoints?i.getPoints(e):this.getDefaultPoints(e)},getDefaultPoints:function(){return[]},getMarkerStyle:function(t,e){var i=this.getShape(t);if(i.getMarkerStyle){var n=i.getMarkerStyle(e),r=this._theme,o=i.name,a=this.name;return r&&r[a]&&r[a][o]&&(n=L.mix({},r[a][o].default,n)),n}},getInactiveStyle:function(t,e){var i=this.getShape(t);return i.getInactiveStyle?i.getInactiveStyle(e):this._getShapeStyleByState(i.name,"inactive",e)},getActiveStyle:function(t,e){var i=this.getShape(t);return i.getActiveStyle?i.getActiveStyle(e):this._getShapeStyleByState(i.name,"active",e)},getSelectedStyle:function(t,e){var i=this.getShape(t);return i.getSelectedStyle?i.getSelectedStyle(e):this._getShapeStyleByState(i.name,"selected",e)},drawShape:function(t,e,i){var n=this.getShape(t),r=n.name,o=this._theme,a=this.name;if(o&&o[a]&&o[a][r]){var s=o[a][r].default;e.style=L.mix({},s,e.style)}var l=n.draw(e,i);return l&&(l.setSilent("origin",e.origin),l.id=e.yIndex?e.id+e.yIndex:e.id,l.name=this.name),l}},ae={};function se(t,e){var i=L.upperFirst(t),n=Object(T.__assign)(Object(T.__assign)(Object(T.__assign)({},oe),e),{name:t});return ae[i]=n}function le(t,e,i){var n=L.upperFirst(t),r=ae[n],o=Object(T.__assign)(Object(T.__assign)(Object(T.__assign)({},re),i),{name:e});return r[e]=o}function ue(t){var e=L.upperFirst(t);return ae[e]}var ce=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"],he=(pe.prototype.render=function(){var l=this;this.clear();var u=this.options;if(L.isObject(u)){if(u.custom){var t=this.addCustomLegend();this.legends.push(t)}else{var e=this.view.getElements(),c=[];L.each(e,function(a){var s=a.get("view"),t=a.getAttrsForLegend();L.each(t,function(t){var n,e=t.type,i=t.getScale(e);if(i&&i.field&&"identity"!==i.type&&(n=i,!L.find(c,function(t){var e=[].concat(t.values),i=[].concat(n.values);return t.type===n.type&&t.field===n.field&&L.isEqual(e.sort(),i.sort())}))){c.push(i);var r=s.getFilteredOutValues(i.field),o=l.addLegend(u,i,t,a,r);o&&l.legends.push(o)}})})}this.alignLegends()}},pe.prototype.changeVisible=function(t){L.each(this.legends,function(t){})},pe.prototype.clear=function(){L.each(this.legends,function(t){t.destroy()}),this.legends=[],this.reset()},pe.prototype.reset=function(){this.init()},pe.prototype.init=function(){this.options=this.getLegendOptions(),this.panelRange=this.view.get("panelRange"),this.viewRange=this.view.get("viewRange"),this.container=this.view.get("frontgroundGroup")},pe.prototype.addLegend=function(t,e,i,n,r){var o=e.field,a=t.fields&&t.fields[o];if(!1!==a){if(a&&a.custom)return this.addCustomLegend(o);var s=this.getFieldLegendConfig(o,"position",this.theme.defaultLegendPosition);s=this.adjustPosition(s);var l=e.isLinear?this.addContinuousLegend(e,i,s):this.addCategoryLegend(e,i,n,r,s);return l&&this.bindHoverEvent(l,o),l}},pe.prototype.addContinuousLegend=function(r,o,t){var e=this.container.addGroup({name:"legend"}),i=r.field,n=r.getTicks(),a=L.map(n,function(t){var e=t.value,i=t.tickValue,n=r.invert(e);return{value:i,color:o.mapping(n).join("")}}),s=!!L.find(n,function(t){return 0===t.value}),l=!!L.find(n,function(t){return 1===t.value});if(!s){var u=o.mapping(0).join("");a.push({value:r.min,color:u})}l||(u=o.mapping(0).join(""),a.push({value:r.max,color:u}));var c,h=this.options,p=t.split("-"),f=this.theme.legend[p[0]],d=L.deepMix({},f,this.getFieldLegendOption(i,h),{items:a,attr:o,formatter:r.formatter,container:e,position:t});if(d.showTitle&&L.mix(d,{title:r.field}),"color"===o.type)c=new Zt.Color(d);else{if("size"!==o.type)return;c=new Zt.Size(d)}return this.bindFilterEvent(c,r),c},pe.prototype.addCategoryLegend=function(c,t,h,p,e){var f=this,i=this.options,n=c.field,r=i.fields?i.fields[n]:null,d=[],o=c.getTicks(),g=!0,v=h.get("shapeType")||"point",y=h.getDefaultValue("shape")||v||"point";i.marker&&(y=i.marker,g=!(v="point")),r&&r.marker&&(y=r.marker,g=!(v="point"));var a=this.view,m=this.theme,s=a.get("canvas"),l=a.get("panelGroup").attr("clip"),u=l?l.getBBox():void 0,x=a.get("panelRange"),b=a.get("viewRange"),_=e.split("-"),M="right"===_[0]||"left"===_[0]?u?u.height:x.height:u?b.width-(x.width-u.width):b.width;L.each(o,function(t){var e=t.text,i=t.value,n=c.invert(i),r={isInCircle:h.isInCircle()},o=!p||f.isFiltered(c,p,n),a=h.getAttr("color"),s=h.getAttr("shape");if(a)if(a.callback&&1<a.callback.length){var l=Array(a.callback.length-1).fill("");r.color=a.mapping.apply(a,Object(T.__spreadArrays)([n],l)).join("")||m.defaultColor}else r.color=a.mapping(n).join("")||m.defaultColor;g&&s&&s.scales.length&&(y=s.callback&&1<s.callback.length?(l=Array(s.callback.length-1).fill(""),s.mapping.apply(s,Object(T.__spreadArrays)([n],l)).join("")):s.mapping(n).join(""));var u=ue(v).getMarkerStyle(y,r);L.isFunction(y)&&(u.symbol=y),d.push({value:e,dataValue:n,checked:o,marker:u})});var w,S,C,O,k=!!i.useHtml||!(!r||!r.useHtml);switch(_[0]){case"left":O=u?u.height:x.height,C=x.x-b.x,S="vertical";break;case"right":O=u?u.height:x.height,C=b.tr.x-x.tr.x,S="vertical";break;case"top":O=x.tr.y-b.tr.y,C=u?b.width-(x.width-u.width):b.width,S="horizontal";break;case"bottom":O=b.br.y-x.br.y,C=u?b.width-(x.width-u.width):b.width,S="horizontal"}w=k?L.mix({},m.legend.html,{maxHeight:O,maxWidth:C,layout:S}):L.mix({},m.legend[_[0]],{maxHeight:O,maxWidth:C,layout:S,container:this.container.addGroup({name:"legend"})});var P=L.deepMix({},w,i,r,{maxLength:M,canvas:s,items:d,position:e});P.showTitle&&L.mix(P,{title:c.alias||c.field});var A=k?new Zt.HtmlCategory(P):new Zt.CanvasCategory(P);return this.bindClickEvent(A,c,p,P.onClick),A},pe.prototype.addCustomLegend=function(t){var e,i=this.theme,n=(this.view,this.container.addGroup({name:"legend"})),r=n.get("canvas"),o=this.panelRange,a=this.options;L.isObject(a)&&(e=a.fields?a.fields[t]:{});var s=e.position||a.position||i.defaultLegendPosition;s=this.adjustPosition(s);var l=e.items||a.items;if(l){L.each(l,function(t){L.isPlainObject(t.marker)?t.marker.radius=t.marker.radius||4.5:(t.marker={symbol:t.marker||"circle",radius:4.5},L.contains(ce,t.marker.symbol)?t.marker.stroke=t.color:t.marker.fill=t.color);var e=t.marker.symbol;L.isString(e)&&-1!==e.indexOf("hollow")&&(t.marker.symbol=L.lowerFirst(e.substr(6))),t.checked=!!L.isNil(t.checked)||t.checked});var u=s.split("-"),c="right"===u[0]||"left"===u[0]?o.height:this.viewRange.width,h=L.deepMix({},i.legend[u[0]],a,e,{maxLength:c,viewTheme:i,items:l,container:n,canvas:r}),p=h.useHtml?new Zt.HtmlCategory(h):new Zt.CanvasCategory(h);return p.on("itemclick",function(t){a.onClick&&a.onClick(t)}),this.bindHoverEvent(p),p}},pe.prototype.alignLegends=function(){var a=this,t=this.getRegion();this.totalRegion=t;var e=this.groupLegendByPosition(),i=0;L.each(e,function(n,r){var o=t.subs[i];L.each(n,function(t,e){var i=n[e-1];a.alignLegend(t,i,o,r)}),i++})},pe.prototype.alignLegend=function(t,e,i,n){var r=this.theme,o=this.viewRange.width,a=this.viewRange.height,s=this.totalRegion,l=this.groupLegendByPosition(),u=this.viewRange,c=t.get("offsetX")||0,h=t.get("offsetY")||0,p=t.getHeight(),f=t.getWidth(),d=r.legend.margin,g=r.legend.legendMargin,v=l[n].length,y=n.split("-"),m=0,x=0,b=1<v?s:i;if("left"===y[0]||"right"===y[0])a=u.maxY,m=this.getXAlign(y[0],o,i,u,f,d),x=e?e.get("y")+e.getHeight()+g:this.getYAlignVertical(y[1],a,b,u,0,d,this.viewRange.height);else if("top"===y[0]||"bottom"===y[0])if(x=this.getYAlignHorizontal(y[0],a,i,u,p,d),e){var _=e.getWidth();m=e.get("x")+_+g}else m=this.getXAlign(y[1],o,b,u,f,d);t.moveTo(m+c,x+h)},pe.prototype.getXAlign=function(t,e,i,n,r,o){var a="left"===t?n.minX+o[3]:n.maxX-o[1]-r;return"center"===t&&(a=(e-i.totalWidth)/2),a},pe.prototype.getYAlignHorizontal=function(t,e,i,n,r,o){return"top"===t?n.minY+o[0]:n.maxY-o[2]-r},pe.prototype.getYAlignVertical=function(t,e,i,n,r,o,a){var s="top"===t?n.minY+o[0]:n.maxY-i.totalHeight-o[2];return"center"===t&&(s=n.minY+(n.height-i.totalHeight)/2),s},pe.prototype.adjustPosition=function(t){var e=t.split("-");if(1!==e.length)return e.slice(0,2).join("-");var i=e[0];return"left"===i?"left-bottom":"right"===i?"right-bottom":"top"===i?"top-center":"bottom"===i?"bottom-center":""},pe.prototype.bindClickEvent=function(o,t,a,s){var l=this,u=this.view,c=t.field;o.on("itemclick",function(t){if(s)s(t);else{var e=t.item,i=t.checked,n="single"===o.get("selectedMode"),r=e.dataValue;i?(L.pull(a,r),l.isFieldInView(c,r)&&u.filter(c,function(t){return n?t===r:!L.contains(a,t)})):n||(a.push(r),l.isFieldInView(c,r)&&u.filter(c,function(t){return!L.contains(a,t)})),u.set("keepLegend",!0),u.repaint(),u.set("keepLegend",!1)}})},pe.prototype.bindHoverEvent=function(t,e){var i=t.get("onMouseover"),n=t.get("onMouseleave");t.on("itemmouseover",function(t){i&&i(t)}),t.on("itemmouseleave",function(t){n&&n(t)})},pe.prototype.getRegion=function(){var i=this,n=this.theme.legend.legendMargin,r=[],o=0,a=0,t=this.groupLegendByPosition();return L.each(t,function(t){var e=i.getSubRegion(t);r.push(e),o+=e.totalWidth+n,a+=e.totalHeight+n}),{totalWidth:o,totalHeight:a,subs:r}},pe.prototype.getSubRegion=function(t){var n=0,r=0,o=0,a=0;return L.each(t,function(t){var e=t.getWidth(),i=t.getHeight();n<e&&(n=e),o+=e,r<i&&(r=i),a+=i}),{maxWidth:n,totalWidth:o,maxHeight:r,totalHeight:a}},pe.prototype.isFiltered=function(e,t,i){if(!e.isCategory)return!0;var n=!0;return L.each(t,function(t){if(e.getText(t)===e.getText(i))return n=!1}),n},pe.prototype.isFieldInView=function(t,e){var i=!1,n=this.view.get("scales")[t];return n&&n.values&&(i=L.contains(n.values,e)),i},pe.prototype.getLegendOptions=function(){return L.get(this.view.get("options"),"legends",{})},pe.prototype.getFieldLegendConfig=function(t,e,i){var n=this.options,r=L.get(n,"fields."+t,{});return r[e]?r[e]:n[e]?n[e]:i},pe.prototype.bindFilterEvent=function(t,e){var r=this,o=e.field;t.on("itemfilter",function(t){var e=t.range,i=e[0],n=e[1];r.filterShape(o,i,n)})},pe.prototype.filterShape=function(a,s,l){var u=this;this.view.eachShape(function(t,e,i,n){var r=t[a];if(L.isNil(r))e.show();else{var o=s<=r&&r<=l;u.filterLabels(e,i,o),o?e.show():e.hide()}})},pe.prototype.groupLegendByPosition=function(){return L.groupBy(this.legends,function(t){return t.get("position")})},pe.prototype.filterLabels=function(i,t,n){if(i.get("gLabel"))i.get("gLabel").set("visible",n);else{var e=t.get("labelOptions");if(!L.isEmpty(L.get(e,"fields"))){var r=t.getXScale().field,o=t.getYScale().field,a=i.get("origin")._origin,s=t.get("labels");L.each(s,function(t){var e=t.get("origin")||[];e[r]===a[r]&&e[o]===a[o]&&(t.set("visible",n),i.set("gLabel",t))})}}},pe.prototype.getFieldLegendOption=function(t,e){return void 0===e&&(e={}),L.get(this.getLegendOptions(),"fields."+t,e)},pe);function pe(t){this.legends=[];var e=t.view;this.view=e,this.theme=e.get("theme")}function fe(t,e){void 0===e&&(e=0);var i=e;return"middle"===t&&(i=.5),-1!==t.indexOf("%")&&(i=parseInt(t,10)/100),i}function de(t){var i=[];return L.each(t,function(t){var e,r,o;-1===(e=i,r=t,o=-1,L.each(e,function(t,e){var i=!0;for(var n in r)if(r.hasOwnProperty(n)&&-1===xe.indexOf(n)&&!L.isObject(r[n])&&r[n]!==t[n]){i=!1;break}if(i)return o=e,!1}),o)&&i.push(t)}),i}var ge=(Se.prototype.createAxis=function(i,t,n){var r,o=this,a=this.coord,e=a.type;"theta"===e||"polar"===e&&a.isTransposed||(i&&!this._isHide(i.field)&&(r=this._drawAxis(a,i,t[0],"x",n)),L.isEmpty(t)||"helix"===e||L.each(t,function(t,e){o._isHide(t.field)||o._drawAxis(a,t,i,"y",n,r,e)}))},Se.prototype.changeVisible=function(e){var t=this.axes;L.each(t,function(t){t.set("visible",e)})},Se.prototype.clear=function(){var t=this.axes;L.each(t,function(t){t.clear()}),this.axes=[]},Se.prototype._getAxisOptionByField=function(t,e){return void 0===e&&(e={}),L.get(this.options,"fields."+t,e)},Se.prototype._isHide=function(t){return!1===this._getAxisOptionByField(t)},Se.prototype._getMiddleValue=function(t,e,i,n){if(0===t&&!n)return 0;if(1===t)return 1;var r=e[i+1].value;return n||1!==r?(t+r)/2:1},Se.prototype._getLineRange=function(t,e,i,n){var r,o,a,s=e.field,l=this._getAxisOptionByField(s).position||"";if("x"===i){var u="top"===l?1:0;r={x:0,y:u=fe(l,u)},a=!(o={x:1,y:u})}else{var c;r=n?{x:c=fe(l,c="left"===l?0:1),y:0}:{x:c=fe(l,c="right"===l?1:0),y:0},o={x:c,y:1},a=!0}return{start:r=t.convert(r),end:o=t.convert(o),isVertical:a}},Se.prototype._getLineCfg=function(t,e,i,n){var r=this._getLineRange(t,e,i,n),o=r.start,a=r.end,s=t.center,l=t.isTransposed?!r.isVertical:r.isVertical;return{isVertical:l,factor:l&&o.x>s.x||!l&&o.y>s.y?1:-1,start:o,end:a}},Se.prototype._getCircleCfg=function(t){var e,i=t.x,n=t.y,r=t.isTransposed,o=t.circleCenter,a=t.innerRadius,s=n.start>n.end;e=r?{x:s?0:1,y:0}:{x:0,y:s?0:1};var l,u=[(e=t.convert(e)).x-o.x,e.y-o.y],c=[1,0];return{startAngle:l=e.y>o.y?A.vec2.angle(u,c):-1*A.vec2.angle(u,c),endAngle:l+(i.end-i.start),center:o,radius:Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2)),inner:a||0}},Se.prototype._getRadiusCfg=function(t){var e,i,n=t.x.start<0?-1:1;return i=t.isTransposed?(e={x:0,y:0},{x:1,y:0}):(e={x:0,y:0},{x:0,y:1}),{factor:n,start:t.convert(e),end:t.convert(i)}},Se.prototype._getHelixCfg=function(t){for(var e=t.a,i=t.startAngle,n=t.endAngle,r=t.center,o=t.y,a=[],s=0;s<=100;s++){var l=t.convert({x:s/100,y:0});a.push(l.x),a.push(l.y)}return{a:e,startAngle:i,endAngle:n,crp:a,axisStart:t.convert({x:0,y:0}),center:r,inner:o.start}},Se.prototype._getAxisPosition=function(t,e,i,n){if(this._getAxisOptionByField(n).position)return this._getAxisOptionByField(n).position;var r="",o=t.type;return t.isRect?"x"===e?r="bottom":"y"===e&&(r=i?"right":"left"):r="helix"===o?"helix":"x"===e?t.isTransposed?"radius":"circle":t.isTransposed?"circle":"radius",r},Se.prototype._getAxisDefaultCfg=function(t,e,i,n){var r=this.theme,o=e.field,a={coord:t,theme:r.axis[n]};if((a=L.deepMix({},r.axis[n],a,this._getAxisOptionByField(o))).showTitle){var s=L.get(a,"title",{});s.text=s.text||e.alias||o,L.deepMix(a,{title:s})}return a.ticks=e.getTicks(),t.isPolar&&!e.isCategory&&"x"===i&&Math.abs(t.endAngle-t.startAngle)===2*Math.PI&&a.ticks.pop(),a},Se.prototype._getAxisCfg=function(u,i,t,c,n,r){var h=this;void 0===n&&(n="");var e,o,a,s,l=this._getAxisPosition(u,c,n,i.field),p=this._getAxisDefaultCfg(u,i,c,l);if(p.grid&&t){var f=[],d=function(t){var e=[];if(t.length){var i=(e=t.slice(0))[0],n=e[e.length-1];0!==i.value&&e.unshift({value:0}),1!==n.value&&e.push({value:1})}return e}(t.getTicks());if(d.length){var g=(e=p.ticks,o=i.isLinear,a="center"===p.gridAlign,s=[],e.length&&(2<=e.length&&o&&a&&s.push({text:"",tickValue:"",value:0}),0!==e[0].value&&s.push({text:"",tickValue:"",value:0}),1!==(s=s.concat(e))[s.length-1].value&&s.push({text:"",tickValue:"",value:1})),s);L.each(g,function(t,e){var o=[],a=t.value;if("center"===p.gridAlign&&(a=h._getMiddleValue(a,g,e,i.isLinear)),!L.isNil(a)){var s=u.x,l=u.y;L.each(d,function(t){var e="x"===c?a:t.value,i="x"===c?t.value:a,n=u.convert({x:e,y:i});if(u.isPolar){var r=u.circleCenter;l.start>l.end&&(i=1-i),n.flag=s.start>s.end?0:1,n.radius=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))}o.push(n)}),f.push({id:r+"-"+c+n+"-grid-"+t.tickValue,points:o})}})}p.gridPoints=f}return p},Se.prototype._drawAxis=function(t,e,i,n,r,o,a){var s,l,u=this.container,c=this.canvas;l="cartesian"===t.type?(s=qt.Axis.Line,this._getLineCfg(t,e,n,a)):"helix"===t.type&&"x"===n?(s=qt.Axis.Helix,this._getHelixCfg(t)):"x"===n?(s=qt.Axis.Circle,this._getCircleCfg(t)):(s=qt.Axis.Line,this._getRadiusCfg(t));var h=this._getAxisCfg(t,e,i,n,a,r);h=L.mix({},h,l),"y"===n&&o&&"circle"===o.get("type")&&(h.circle=o),h.id=L.isNil(a)?r+"-"+n:r+"-"+n+a,L.mix(h,{canvas:c,group:u.addGroup()});var p=new s(h);return p.render(),this.axes.push(p),p},Se),ve=A.vec2,ye=["line","area","path"],me=["line","area"],xe=["marker","showMarker"],be=(we.prototype.renderTooltip=function(){var i=this;if(!this.tooltip){var t,n=this.view,e=this.theme,r=this._getCanvas(),o=this._getDefaultTooltipOptions(),a=this.options;if((a=L.deepMix({panelGroup:n.get("panelGroup"),panelRange:n.get("panelRange"),capture:!1,canvas:r,frontgroundGroup:n.get("frontgroundGroup"),theme:e.tooltip,backgroundGroup:n.get("backgroundGroup")},o,a)).crosshairs&&"rect"===a.crosshairs.type&&(a.zIndex=0),a.visible=!1,a.useHtml){t=new qt.Tooltip.Html(a);var s=this._getTriggerEvent();if(!t.get("enterable")&&"panel:mousemove"===s){var l=t.get("container");l&&(l.onmousemove=function(t){var e=i._normalizeEvent(t);n.emit(s,e)})}}else t=new qt.Tooltip.Canvas(a);this.tooltip=t,this.options=a,this._bindEvent()}},we.prototype._normalizeEvent=function(t){var e=this.view,i=this._getCanvas(),n=i.getPointByClient(t.clientX,t.clientY),r=i.get("pixelRatio");return n.x=n.x/r,n.y=n.y/r,n.view=e,n},we.prototype.hideTooltip=function(){var t=this.tooltip;if(t.get("visible")){var e=this.view,i=this._getCanvas();this.prePoint=null,t.hide(),e.emit("tooltip:hide",{tooltip:t}),e.setActive(function(){return!1}),i.draw()}},we.prototype.showTooltip=function(r,t,e){var s=this;if(r){this.tooltip||this.renderTooltip();var l=this.options,u=[],c=[],i=t.getElements(),h=t.get("coord");if(L.each(i,function(o){var a=o.get("type");if(o.get("visible")&&!1!==o.get("tooltipOptions")){var t=o.get("dataArray");if(o.isShareTooltip()||L.contains(["area","line","path"],a))L.each(t,function(t){var e=o.findPoint(r,t);if(e){var i=o.getTooltipItems(e,l.title);L.each(i,function(t){var e=t.point;if(!L.isNil(e)&&!L.isNil(e.x)&&!L.isNil(e.y)){var i=L.isArray(e.x)?e.x[e.x.length-1]:e.x,n=L.isArray(e.y)?e.y[e.y.length-1]:e.y;e=h.applyMatrix(i,n,1),t.x=e[0],t.y=e[1],t.showMarker=!0;var r=s._getItemMarker(o,t.color);t.marker=r,-1!==L.indexOf(ye,a)&&u.push(t)}}),c=c.concat(i)}});else{var e=o.get("shapeContainer"),i=e.get("canvas").get("pixelRatio"),n=e.getShape(r.x*i,r.y*i);n&&n.get("visible")&&n.get("origin")&&(c=o.getTooltipItems(n.get("origin"),l.title))}}}),L.each(c,function(t){var e=t.point,i=L.isArray(e.x)?e.x[e.x.length-1]:e.x,n=L.isArray(e.y)?e.y[e.y.length-1]:e.y;e=h.applyMatrix(i,n,1),t.x=e[0],t.y=e[1]}),c.length){var n=c[0];if(!c.every(function(t){return t.title===n.title})){var o=n,a=1/0;c.forEach(function(t){var e=ve.distance([r.x,r.y],[t.x,t.y]);e<a&&(a=e,o=t)}),c=c.filter(function(t){return t.title===o.title}),u=u.filter(function(t){return t.title===o.title})}if(!1===l.shared&&1<c.length){var p=c[0],f=Math.abs(r.y-p.y);L.each(c,function(t){Math.abs(r.y-t.y)<=f&&(p=t,f=Math.abs(r.y-t.y))}),!p||L.isNil(p.x)||L.isNil(p.y)||(u=[p]),c=[p]}this._setTooltip(r,c,u,e),t.setActive(function(e){var i=!1;return L.each(c,function(t){if(t.point._origin===e)return!(i=!0)}),i},!1)}else this.hideTooltip()}},we.prototype.clear=function(){var t=this.tooltip;t&&t.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},we.prototype._getCanvas=function(){return this.view.get("canvas")},we.prototype._getTriggerEvent=function(){var t,e=L.get(this.options,"triggerOn");return e&&"mousemove"!==e?"click"===e?t="panel:click":"none"===e&&(t=null):t="panel:mousemove",t},we.prototype._getDefaultTooltipOptions=function(){var t,e=this.view,i=this.options,n=this.theme,r=L.mix({},n.tooltip),o=L.filter(e.getElements(),function(t){return t.get("visible")}),a=L.uniq(L.map(o,function(t){return t.get("type")})),s=!!e.get("coord")&&e.get("coord").isTransposed;if(e.get("coord")&&"cartesian"===e.get("coord").type)if("interval"===a[0])!1!==i.shape&&((l=L.mix({},n.tooltipCrosshairsRect)).isTransposed=s,t={zIndex:0,crosshairs:l});else if(-1<L.indexOf(me,a[0])){var l;(l=L.mix({},n.tooltipCrosshairsLine)).isTransposed=s,t={crosshairs:l}}return L.mix(r,t)},we.prototype._bindEvent=function(){var t=this.view,e=this._getTriggerEvent();e&&(t.on(e,this.onMouseMove),t.on("panel:mouseleave",this.onMouseOut))},we.prototype._offEvent=function(){var t=this.view,e=this._getTriggerEvent();e&&(t.off(e,this.onMouseMove),t.off("panel:mouseleave",this.onMouseOut))},we.prototype._setTooltip=function(t,e,i,n){var r=this.tooltip,o=this.prePoint;if(!o||o.x!==t.x||o.y!==t.y){var a=de(e);this.prePoint=t;var s=this.view,l=this.theme,u=L.isArray(t.x)?t.x[t.x.length-1]:t.x,c=L.isArray(t.y)?t.y[t.y.length-1]:t.y;r.get("visible")||s.emit("tooltip:show",{x:u,y:c,tooltip:r});var h=a[0],p=h.title||h.name;r.isContentChange(p,a)&&(s.emit("tooltip:change",{tooltip:r,x:u,y:c,items:a}),p=a[0].title||a[0].name,r.setContent(p,a),L.isEmpty(i)?(r.clearMarkers(),r.set("markerItems",[])):!1===this.options.showTooltipMarkers?r.set("markerItems",i):r.setMarkers(i,l.tooltipMarker)),r.setPosition(u+(s.get("panelGroup").get("x")||0),c+(s.get("panelGroup").get("y")||0),n),r.show()}},we.prototype._getItemMarker=function(t,e){var i=t.get("shapeType")||"point",n=t.getDefaultValue("shape")||"circle",r={color:e};return ue(i).getMarkerStyle(n,r)},we),_e=(Me.prototype.setState=function(t,e,i){this._stateStack[t]={exp:e,draw:i},this._onUpdate()},Me.prototype.getState=function(t){return this._states[t]},Me.prototype.getAllStates=function(){return this._states},Me.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},Me.prototype._onUpdate=function(){var n=this,r=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){for(var t in r){var e=r[t],i=e.exp;n._states[t]&&n._states[t]===i||(n._states[t]=i,n._triggerEvent(t,e))}n._stateStack={}},16)},Me.prototype._triggerEvent=function(t,e){this.view.emit(t+":change",Object(T.__assign)({name:t},e))},Me);function Me(t){void 0===t&&(t={view:null}),this._states={},this._stateStack={},this.view=t.view}function we(t){var o=this;this.timeStamp=0,this.onMouseMove=function(t){var e=o.view.get("panelGroup"),i=o.timeStamp,n=+new Date,r={x:t.x-(e.get("x")||0),y:t.y-(e.get("y")||0)};16<n-i&&(o.showTooltip(r,o.view,t.target),o.timeStamp=n)},this.onMouseOut=function(t){t&&!t.event||o.hideTooltip()},L.assign(this,t)}function Se(t){this.title=null,this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],this.theme=null,L.mix(this,t)}function Ce(t,e){var i=t.get("backgroundGroup").get("backShape"),n=t.get("panelGroup").get("backShape");return i===e||n===e}function Oe(t){t.target&&t.target.get("origin")&&(t.data=t.target.get("origin"))}function ke(t,e){return t&&e&&t===e}function Pe(t,e,i){return!(t===i||!e.isShapeInView(t))}function Ae(t,e){for(var i=t;i=i.get("parent");)if(i===e)return!0;return!1}var Le=(Re.prototype._getEventObj=function(t){return{x:t.x/this._pixelRatio,y:t.y/this._pixelRatio,target:t.target,event:t.event}},Re.prototype._triggerShapeEvent=function(t,e,i){var n=t.name;if(n&&!t.get("destroyed")){var r=this.view,o=n+":"+e;i.view=r,i.appendInfo=t.get("appendInfo"),r.emit(o,i)}},Re.prototype._addEvent=function(t,e,i){t.on(e,i),this._eventHandlers.push({target:t,type:e,handler:i})},Re.prototype.bindEvents=function(){var t=this.view.get("container");this._addEvent(t,"mousedown",L.wrapBehavior(this,"_onEvents")),this._addEvent(t,"mousemove",L.wrapBehavior(this,"_onMove")),this._addEvent(t,"mouseup",L.wrapBehavior(this,"_onEvents")),this._addEvent(t,"click",L.wrapBehavior(this,"_onEvents")),this._addEvent(t,"dblclick",L.wrapBehavior(this,"_onEvents")),this._addEvent(t,"contextmenu",L.wrapBehavior(this,"_onEvents")),this._addEvent(t,"wheel",L.wrapBehavior(this,"_onEvents")),this._addEvent(t,"touchstart",L.wrapBehavior(this,"_onEvents")),this._addEvent(t,"touchmove",L.wrapBehavior(this,"_onEvents")),this._addEvent(t,"touchend",L.wrapBehavior(this,"_onEvents")),this._addEvent(this.canvas,"mousemove",L.wrapBehavior(this,"_onCanvasMove"));var e=this.canvas.get("canvasDOM");this._canvasDomLeaveHandler=L.wrapBehavior(this,"_onCanvasDomLeave"),e.addEventListener("mouseleave",this._canvasDomLeaveHandler)},Re.prototype._onEvents=function(t){var e=t.type,i=this._getEventObj(t),n=t.target;Oe(i),Ce(this.view,n)||this._triggerShapeEvent(n,e,i);var r=n.get("parent");if(r){var o=r.get("name");o&&"panelGroup"===o&&this.view.emit("panel:"+e,i)}this.view.emit(e,i)},Re.prototype._onMove=function(t){var e=this._getEventObj(t),i=t.target;Oe(e),this.view.emit("mousemove",e);var n=Ce(this.view,i);n||this._triggerShapeEvent(i,"mousemove",e);var r=this._lastShape,o=Ce(this.view,r);if(!r||o||ke(r,i)||(Oe(this._getEventObj(t)),this._triggerShapeEvent(r,"mouseleave",e)),!n&&!ke(r,i)){var a=this._getEventObj(t);Oe(a),this._triggerShapeEvent(i,"mouseenter",a)}var s=Ae(i,this._panelGroup),l=!!r&&Ae(r,this._panelGroup);s?l?this.view.emit("panel:mousemove",e):this.view.emit("panel:mouseenter",e):l&&this.view.emit("panel:mouseleave",e),this._lastShape=i},Re.prototype._onCanvasMove=function(t){var e=L.isArray(t)?t[0]:t,i=this._getEventObj(e),n=this.canvas,r=this.view,o=e.target,a=Pe(o,r,n),s=!!this._lastCanvasTarget&&Pe(this._lastCanvasTarget,r,n);o!==this._lastCanvasTarget&&(s&&!a?this.view.emit("mouseleave",i):!s&&a&&this.view.emit("mouseenter",i)),this._lastCanvasTarget=o},Re.prototype._onCanvasDomLeave=function(t){var e=this._getEventObj(t);e.event=t,this.view.emit("panel:mouseleave",e)},Re.prototype.clearEvents=function(){var t=this._eventHandlers;L.each(t,function(t){t.target.off(t.type,t.handler)}),this.canvas.get("canvasDOM").removeEventListener("mouseleave",this._canvasDomLeaveHandler)},Re),Te=(Fe.prototype.init=function(){this.container=this._createContainer();var t=this.view.get("data");this.facets=this.generateFacets(t)},Fe.prototype._createContainer=function(){return this.view.get("frontgroundGroup").addGroup()},Fe.prototype.render=function(){this._renderViews(),this.renderTitle(),this.renderAxis()},Fe.prototype._renderViews=function(){this._clearFacetViews(),this._createFacetViews()},Fe.prototype._createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},Fe.prototype._clearFacetViews=function(){var e=this;L.each(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},Fe.prototype.facetToView=function(t){var e=t.region,i=t.data,n=this.view.createView({start:e.start,end:e.end,padding:L.get(t,"padding",this.cfg.padding||0)});n.data(i||[]),this.beforeProcessView(n,t);var r=this.cfg.eachView;return r&&r(n,t),this.afterProcessView(n,t),t.view=n},Fe.prototype.clear=function(){this._clearFacetViews()},Fe.prototype.destroy=function(){this.clear(),this.container&&this.container.remove(),this.view=void 0,this.facets=[],this.container=void 0,this.destroyed=!0},Fe.prototype.beforeProcessView=function(t,e){},Fe.prototype.afterProcessView=function(t,e){},Fe.prototype.getFieldValues=function(t,i){var n=[],r={};return L.each(t,function(t){var e=t[i];L.isNil(e)||r[e]||(n.push(e),r[e]=!0)}),n},Fe.prototype.getRegion=function(t,e,i,n){var r=1/(0===e?1:e),o=1/(0===t?1:t);return{start:{x:r*i,y:o*n},end:{x:r*(i+1),y:o*(n+1)}}},Fe),De={},je=function(t,e){De[L.lowerFirst(t)]=e},Ie={},Be=function(t){return Ie[t.toLowerCase()]},Ee=function(t,e){if(Be(t))throw new Error("Element type '"+t+"' existed.");var i=t.toLowerCase();Ie[i]=e,ki(i,e)};function Fe(t,e){this.view=t,this.cfg=e,this.init()}function Re(t){void 0===t&&(t={view:null,canvas:null}),this.view=t.view,this.canvas=t.canvas,this._panelGroup=this.view.get("panelGroup"),this._eventHandlers=[],this._pixelRatio=this.canvas.get("pixelRatio")}function Ne(t,e,i){var n=i.translate(t),r=i.translate(e);return i.isCategory?n===r:L.isNumberEqual(n,r)}function ze(t){return t.alias||t.field}var Ye=(Ge.prototype.findPoint=function(t,n){if(0===n.length)return null;var e=this.element,i=e.get("type"),r=e.getXScale(),o=e.getYScale(),a=r.field,s=o.field,l=null;if("point"===i||"heatmap"===i){var u=e.get("coord").invert(t),c=r.invert(u.x),h=o.invert(u.y),p=1/0;return L.each(n,function(t){var e=t._origin,i=Math.pow(e[a]-c,2)+Math.pow(e[s]-h,2);i<p&&(p=i,l=t)}),l}var f=n[0],d=n[n.length-1],g=this._getXValueByPoint(t),v=f._origin[a],y=f._origin[s],m=d._origin[a],x=o.isLinear&&L.isArray(y);if(L.isArray(v))L.each(n,function(t){var e=t._origin;if(r.translate(e[a][0])<=g&&r.translate(e[a][1])>=g){if(!x)return l=t,!1;L.isArray(l)||(l=[]),l.push(t)}}),L.isArray(l)&&(l=this._filterYValue(l,t));else{var b;if(r.isLinear||"timeCat"===r.type){if(g>r.translate(m)||g<r.translate(v))return null;for(var _=0,M=n.length-1,w=void 0;_<=M;){w=Math.floor((_+M)/2);var S=n[w]._origin[a];if(Ne(S,g,r))return n[w];r.translate(S)<=r.translate(g)?(_=w+1,d=n[w],b=n[w+1]):(0===M&&(d=n[0]),M=w-1)}}else L.each(n,function(t,e){var i=t._origin;if(Ne(i[a],g,r)){if(!x)return l=t,!1;L.isArray(l)||(l=[]),l.push(t)}else r.translate(i[a])<=g&&(d=t,b=n[e+1])}),L.isArray(l)&&(l=this._filterYValue(l,t));d&&b&&Math.abs(r.translate(d._origin[a])-g)>Math.abs(r.translate(b._origin[a])-g)&&(d=b)}var C=this._getXDistance();return!l&&Math.abs(r.translate(d._origin[a])-g)<=C/2&&(l=d),l},Ge.prototype.getTooltipItems=function(n,t){var i,r,e=this.element,o=n._origin,a=this._getTooltipTitle(o,t),s=e.get("tooltipOptions"),l=e.get("theme").defaultColor,u=this._getSize(n),c=[];function h(t,e){if(!L.isNil(e)&&""!==e){var i={title:a,point:n,name:t||a,value:e,color:n.color||l,marker:!0,size:u};c.push(i)}}if(s){var p=s.fields,f=s.callback;if(f){var d=p.map(function(t){return n._origin[t]}),g=f.apply(void 0,d),v=Object(T.__assign)({point:n,title:a,color:n.color||l,marker:!0,size:u},g);c.push(v)}else{var y=e.get("scales");L.each(p,function(t){if(!L.isNil(o[t])){var e=y[t];i=ze(e),r=e.getText(o[t]),h(i,r)}})}}else{var m=this._getTooltipValueScale();L.isNil(o[m.field])||(r=this._getTooltipValue(o,m),h(i=this._getTooltipName(o),r))}return c},Ge.prototype.clear=function(){this._xDistance=null},Ge.prototype._getXValueByPoint=function(t){var e=0,i=this.element,n=i.get("coord"),r=i.getXScale(),o=r.range,a=o[o.length-1],s=o[0],l=n.invert(t).x;return i.isInCircle()&&(1+a)/2<l&&(l=s),e=r.invert(l),r.isCategory&&(e=r.translate(e)),e},Ge.prototype._filterYValue=function(t,e){var i=this.element,n=i.get("coord"),r=i.getYScale(),o=r.field,a=n.invert(e),s=r.invert(a.y),l=t[t.length-1];return L.each(t,function(t){var e=t._origin;if(e[o][0]<=s&&e[o][1]>=s)return l=t,!1}),l},Ge.prototype._getXDistance=function(){var t=this._xDistance;if(!t){var i=this.element.getXScale();if(i.isCategory)t=1;else{var e=i.values,n=i.translate(e[0]),r=n;L.each(e,function(t){var e=i.translate(t);e<n&&(n=e),r<e&&(r=e)});var o=e.length;t=(r-n)/(o-1)}this._xDistance=t}return t},Ge.prototype._getTooltipTitleScale=function(t){var e=this.element,i=e.get("scales");return t?i[t]:i[e.getAttr("position").getFields()[0]]},Ge.prototype._getTooltipTitle=function(t,e){var i="",n=this.element,r=this._getTooltipTitleScale(e);if(r){var o=t[r.field];i=r.getText(o)}else if("heatmap"===n.get("type")){var a=n.getXScale(),s=n.getYScale();i="( "+a.getText(t[a.field])+", "+s.getText(t[s.field])+" )"}return i},Ge.prototype._getTooltipValueScale=function(){var i,t=this.element,e=t.getAttrsForLegend();L.each(e,function(t){var e=t.getScale(t.type);if(e&&e.isLinear)return i=e,!1});var n=t.getXScale(),r=t.getYScale();return i||r||n},Ge.prototype._getTooltipValue=function(t,e){var i=t[e.field];return L.isArray(i)?i.map(function(t){return e.getText(t)}).join("-"):e.getText(i)},Ge.prototype._getTooltipName=function(t){var e,i=this.element.getGroupScales();if(i.length&&L.each(i,function(t){return e=t,!1}),e){var n=e.field;return e.getText(t[n])}return ze(this._getTooltipValueScale())},Ge.prototype._getSize=function(t){var e=this.element,i=e.get("coord"),n=e.getSize(t._origin);if(i.isRect&&n){var r=i.isTransposed?"y":"x";L.isArray(t[r])&&(n=n<Math.abs(t[r][1]-t[r][0])?null:n)}return n},Ge),He=["line","point","path"];function Ge(t){this.element=null,this._xDistance=null,this.element=t}var We,Xe,Ve,qe=(Ve=S.Group,Object(T.__extends)(Ke,Ve),Ke.prototype._renderUI=function(){Ve.prototype._renderUI.call(this);var t=this.addGroup({name:"element-labels-group"}),e=this.addGroup({name:"element-labels-line-group"}),i=new qt.Label;i.set("coord",this.get("coord")),i.set("group",t),i.set("lineGroup",e),this.set("labelsRenderer",i),this.set("labelsGroup",t),this.set("lineGroup",e)},Ke.prototype.destroy=function(){this.get("labelsRenderer").destroy(),Ve.prototype.destroy.call(this)},Ke.prototype.showLabels=function(t,e){var i=this.get("labelsRenderer"),n=this.getLabelsItems(t,e),r=[].concat(e),o=this.get("type");n=this.adjustItems(n,r),this.drawLines(n),i.set("items",n.filter(function(t,e){return!!t||(r.splice(e,1),!1)})),o&&(i.set("shapes",r),i.set("type",o),i.set("points",t)),i.set("canvas",this.get("canvas")),i.draw()},Ke.prototype.adjustItems=function(t,e){return L.each(t,function(t){t&&(t.offsetX&&(t.x+=t.offsetX),t.offsetY&&(t.y+=t.offsetY))}),t},Ke.prototype.drawLines=function(t){var e=this;L.each(t,function(t){t&&0<t.offset&&t.labelLine&&e.lineToLabel(t)})},Ke.prototype.lineToLabel=function(t){},Ke.prototype.setLabelPosition=function(t,e,i,n){},Ke.prototype.transLabelPoint=function(t){var e=this.get("coord").applyMatrix(t.x,t.y,1);t.x=e[0],t.y=e[1]},Ke.prototype.getOffsetVector=function(t){var e=t.offset||0,i=this.get("coord");return i.isTransposed?i.applyMatrix(e,0):i.applyMatrix(0,e)},Ke.prototype.getDefaultOffset=function(t){var e=this.get("coord"),i=this.getOffsetVector(t);return e.isTransposed?i[0]:i[1]},Ke.prototype.getLabelOffset=function(t,e,i){var n=this.getDefaultOffset(t),r=this.get("coord").isTransposed,o=r?1:-1,a={x:0,y:0};return a[r?"x":"y"]=0<e||1===i?n*o:n*o*-1,a},Ke.prototype.getLabelsItems=function(t,e){var s=this,l=[],u=this.get("element"),c=this.get("coord"),i=this._getlabelOptions(t,e);return L.each(t,function(n,t){var r=n._origin,o=i[t];if(o){L.isArray(o.text)||(o.text=[o.text]);var a=o.length;L.each(o.text,function(t,e){if(L.isNil(t)||""===t)l.push(null);else{var i=s.getLabelPoint(o,n,e);(i=L.mix({},o,i)).textAlign||(i.textAlign=s.getLabelAlign(i,e,a)),u&&(i.id=u.getShapeId(r)+"-glabel-"+e+"-"+i.text),i.coord=c,l.push(i)}})}else l.push(null)}),l},Ke.prototype.getLabelPoint=function(o,i,t){var n=this.get("coord"),e=o.text.length;function r(t,e){var i,n,r=t;return L.isArray(r)&&(r=1===o.text.length?r.length<=2?r[t.length-1]:(i=r,n=0,L.each(i,function(t){n+=t}),n/i.length):r[e]),r}var a={text:o.text[t],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(i&&"polygon"===this.get("elementType")){var s=function(t,e){if(L.isNumber(t)&&L.isNumber(e))return[t,e];for(var i,n,r=-1,o=0,a=0,s=t.length-1,l=0;++r<t.length;)i=s,s=r,l+=n=t[i]*e[s]-t[s]*e[i],o+=(t[i]+t[s])*n,a+=(e[i]+e[s])*n;return[o/(l*=3),a/l]}(i.x,i.y);a.x=s[0],a.y=s[1]}else a.x=r(i.x,t),a.y=r(i.y,t);if(i&&i.nextPoints&&("funnel"===i.shape||"pyramid"===i.shape)){var l=-1/0;i.nextPoints.forEach(function(t){var e=n.convert(t);e.x>l&&(l=e.x)}),a.x=(a.x+l)/2}"pyramid"===i.shape&&!i.nextPoints&&i.points&&i.points.forEach(function(t){var e=t;e=n.convert(e),(L.isArray(e.x)&&-1===i.x.indexOf(e.x)||L.isNumber(e.x)&&i.x!==e.x)&&(a.x=(a.x+e.x)/2)}),o.position&&this.setLabelPosition(a,i,t,o.position);var u=this.getLabelOffset(o,t,e);return o.offsetX&&(u.x+=o.offsetX),o.offsetY&&(u.y+=o.offsetY),this.transLabelPoint(a),a.start={x:a.x,y:a.y},a.x+=u.x,a.y+=u.y,a.color=i.color,a},Ke.prototype.getLabelAlign=function(t,e,i){var n="center";if(this.get("coord").isTransposed){var r=this.getDefaultOffset(t);n=r<0?"right":0===r?"center":"left",1<i&&0===e&&("right"===n?n="left":"left"===n&&(n="right"))}return n},Ke.prototype._getLabelValue=function(n,t){var e=t;L.isArray(e)||(e=[e]);var r=[];return L.each(e,function(e){var t=n[e.field];if(L.isArray(t)){var i=[];L.each(t,function(t){i.push(e.getText(t))}),t=i}else t=e.getText(t);L.isNil(t)||""===t?r.push(null):r.push(t)}),r},Ke.prototype._getlabelOptions=function(t,e){var a=this,s=this.get("elementType"),l=this.get("theme"),u=this.get("labelOptions"),c=u.scales,h=[];return L.each(t,function(t,e){var i={},n=t._origin,r=a._getLabelValue(n,c);if(u.callback){var o=c.map(function(t){return n[t.field]});i=u.callback.apply(u,o)}L.isNil(i)?h.push(null):(L.isString(i.content)?(i.text=i.content,delete i.content):L.isFunction(i.content)?(i.text=i.content(n,t,e),delete i.content):i.text=r[0],i.htmlTemplate&&(i.useHtml=!0,i.text=i.htmlTemplate(n,t,e),delete i.htmlTemplate),i.formatter&&(i.text=i.formatter.call(null,i.text,t,e),delete i.formatter),(i="polygon"===s||i.offset<0&&-1===L.indexOf(He,s)?L.deepMix({},a.get("defaultLabelCfg"),l.innerLabels,i):L.deepMix({},a.get("defaultLabelCfg"),l.label,i)).origin=n,h.push(i))}),h},Ke),Ue=(Xe=qe,Object(T.__extends)($e,Xe),$e.prototype.setLabelPosition=function(t,e,i,n){var r=n;L.isFunction(r)&&(r=r(e));var o=this.get("coord"),a=o.isTransposed,s=o.convertPoint(e.points[0]),l=o.convertPoint(e.points[2]),u=(s.x-l.x)/2*(a?-1:1),c=(s.y-l.y)/2*(a?-1:1);switch(r){case"right":a?(t.x-=u,t.y+=c,t.textAlign=t.textAlign||"center"):(t.x-=u,t.y+=c,t.textAlign=t.textAlign||"left");break;case"left":a?(t.x-=u,t.y-=c,t.textAlign=t.textAlign||"center"):(t.x+=u,t.y+=c,t.textAlign=t.textAlign||"right");break;case"bottom":a?(t.x-=2*u,t.textAlign=t.textAlign||"left"):(t.y+=2*c,t.textAlign=t.textAlign||"center");break;case"middle":a?t.x-=u:t.y+=c,t.textAlign=t.textAlign||"center";break;case"top":t.textAlign=a?t.textAlign||"left":t.textAlign||"center"}},$e),Ze=(We=qe,Object(T.__extends)(Qe,We),Qe.prototype.getLabelPoint=function(t,e,i){var n,r=i,o=t.text[r],a=1;n=this._isToMiddle(e)?this._getMiddlePoint(e.points):(1===t.text.length&&0===r?r=1:0===r&&(a=-1),this.getArcPoint(e,r));var s=this.getDefaultOffset(t);s*=a;var l=this.getPointAngle(n),u=t.labelEmit,c=this.getCirclePoint(l,s,n,u);return c?(c.text=o,c.angle=l,c.color=e.color):c={text:""},t.autoRotate||void 0===t.autoRotate?c.rotate=this.getLabelRotate(l,s,u):c.rotate=t.rotate,c.start={x:n.x,y:n.y},c},Qe.prototype.getCirclePoint=function(t,e,i,n){var r=this.get("coord"),o=r.getCenter(),a=t,s=Jt(r,i);return 0===s?null:(r.isTransposed&&e<s&&!n?a+=2*Math.asin(e/(2*s)):s+=e,{x:o.x+s*Math.cos(a),y:o.y+s*Math.sin(a),angle:a,r:s})},Qe.prototype.getArcPoint=function(t,e){var i,n=e;return n=n||0,i=L.isArray(t.x)||L.isArray(t.y)?{x:L.isArray(t.x)?t.x[n]:t.x,y:L.isArray(t.y)?t.y[n]:t.y}:t,this.transLabelPoint(i),i},Qe.prototype.getPointAngle=function(t){return ne(this.get("coord"),t)},Qe.prototype.getLabelRotate=function(t,e,i){var n;return n=180*t/Math.PI,n+=90,i&&(n-=90),n&&(90<n?n-=180:n<-90&&(n+=180)),n/180*Math.PI},Qe.prototype.getLabelAlign=function(t){var e,i=this.get("coord");if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>-Math.PI/2?"left":"right";else if(i.isTransposed){var n=i.getCenter(),r=this.getDefaultOffset(t);e=Math.abs(t.x-n.x)<1?"center":t.angle>Math.PI||t.angle<=0?0<r?"left":"right":0<r?"right":"left"}else e="center";return e},Qe.prototype.lineToLabel=function(t){},Qe.prototype._getMiddlePoint=function(t){var e=this.get("coord"),i=t.length,n={x:0,y:0};return L.each(t,function(t){n.x+=t.x,n.y+=t.y}),n.x/=i,n.y/=i,n=e.convert(n)},Qe.prototype._isToMiddle=function(t){return 2<t.x.length},Qe);function Qe(){return null!==We&&We.apply(this,arguments)||this}function $e(){return null!==Xe&&Xe.apply(this,arguments)||this}function Ke(t){var e=Ve.call(this,Object(T.__assign)({labelOptions:null,coord:null,elementType:null,zIndex:6},t))||this;return e.set("defaultLabelCfg",e.get("theme").label),e}function Je(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}var ti,ei=(ti=Ze,Object(T.__extends)(ni,ti),ni.prototype.getDefaultOffset=function(t){return t.offset||0},ni.prototype.adjustItems=function(t){var e=t,i=e[0]?e[0].offset:0;return 0<i&&(e=this._distribute(e,i)),ti.prototype.adjustItems.call(this,e)},ni.prototype.lineToLabel=function(t){var e=this.get("coord"),i=e.getRadius(),n=t.offset,r=t.orignAngle||t.angle,o=e.getCenter(),a=Je(o,r,i),s=Je(o,r,i+n/2),l={x:t.x-4*Math.cos(r),y:t.y-4*Math.sin(r)};L.isObject(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M "+a.x,a.y+" Q"+s.x,s.y+" "+l.x,l.y].join(",")},ni.prototype.getLabelRotate=function(t,e,i){var n;return e<0&&(90<(n=180*t/Math.PI)&&(n-=180),n<-90&&(n+=180)),n/180*Math.PI},ni.prototype.getLabelAlign=function(t){var e,i=this.get("coord").getCenter();return e=t.angle<=Math.PI/2&&t.x>=i.x?"left":"right",this.getDefaultOffset(t)<=0&&(e="right"===e?"left":"right"),e},ni.prototype.getArcPoint=function(t){return t},ni.prototype.getPointAngle=function(t){var e=this.get("coord"),i={x:L.isArray(t.x)?t.x[0]:t.x,y:t.y[0]};this.transLabelPoint(i);var n,r={x:L.isArray(t.x)?t.x[1]:t.x,y:t.y[1]};this.transLabelPoint(r);var o=ne(e,i);if(t.points&&t.points[0].y===t.points[1].y)n=o;else{var a=ne(e,r);a<=o&&(a+=2*Math.PI),n=o+(a-o)/2}return n},ni.prototype.getCirclePoint=function(t,e,i){var n=this.get("coord"),r=n.getCenter(),o=n.getRadius()+e,a=Je(r,t,o);return a.angle=t,a.r=o,a},ni.prototype._distribute=function(t,e){var i=this.get("coord"),n=i.getRadius(),r=this.get("defaultLabelCfg").labelHeight,o=i.getCenter(),a=2*(n+e)+2*r,g={start:i.start,end:i.end},s=this.get("element");if(s){var l=s.get("view");g={start:l.get("panelRange").bl,end:l.get("panelRange").tr}}var u=[[],[]];return t.forEach(function(t){t&&("right"===t.textAlign?u[0].push(t):u[1].push(t))}),u.forEach(function(t,e){var i=a/r;t.length>i&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(i,t.length-i)),t.sort(function(t,e){return t.y-e.y}),function(i,n,r,o){var a,t=!0,e=g.start,s=g.end,l=Math.min(e.y,s.y),u=Math.abs(e.y-s.y),c=0,h=Number.MIN_VALUE,p=i.map(function(t){return t.y>c&&(c=t.y),t.y<h&&(h=t.y),{size:n,targets:[t.y-l]}});for(h-=l,u<c-l&&(u=c-l);t;)for(p.forEach(function(t){var e=(Math.min.apply(h,t.targets)+Math.max.apply(h,t.targets))/2;t.pos=Math.min(Math.max(h,e-t.size/2),u-t.size)}),t=!1,a=p.length;a--;)if(0<a){var f=p[a-1],d=p[a];f.pos+f.size>d.pos&&(f.size+=d.size,f.targets=f.targets.concat(d.targets),f.pos+f.size>u&&(f.pos=u-f.size),p.splice(a,1),t=!0)}a=0,p.forEach(function(t){var e=l+n/2;t.targets.forEach(function(){i[a].y=t.pos+e,e+=n,a++})}),i.forEach(function(t){var e=t.r*t.r,i=Math.pow(Math.abs(t.y-r.y),2);if(e<i)t.x=r.x;else{var n=Math.sqrt(e-i);t.x=o?r.x+n:r.x-n}})}(t,r,o,e)}),u[0].concat(u[1])},ni),ii={};function ni(t){var e=ti.call(this,Object(T.__assign)({},t))||this;return e.set("defaultLabelCfg",e.get("theme").thetaLabels),e}function ri(t){return ii[t.toLowerCase()]}function oi(t,e){if(ri(t))throw new Error("ElementLabels type '"+t+"' existed.");ii[t.toLowerCase()]=e}var ai=(si.prototype._createLabelsContainer=function(){var e=this.element,t=e.get("type"),i=e.get("coord"),n=e.get("labelOptions"),r=this._getElementLabelsConstructor(n.labelType,i.type,t),o=e.get("frontgroundGroup"),a=L.map(e.get("labelOptions").fields,function(t){return e.createScale(t)}),s=o.addGroup(r,{labelOptions:L.mix({scales:a},n),coord:i,element:e,elementType:t,theme:e.get("theme"),visible:e.get("visible")});this.labelsContainer=s},si.prototype.addLabels=function(t,e){return this._createLabelsContainer(),this.labelsContainer.showLabels(t,e),this.labelsContainer.get("labelsGroup").get("children")},si.prototype.changeVisible=function(t){this.labelsContainer&&this.labelsContainer.set("visible",t)},si.prototype.clear=function(){var t=this.labelsContainer;t&&!t.destroyed&&t.remove()},si.prototype._getElementLabelsConstructor=function(t,e,i){var n=t||"base";return"polar"===e&&"base"===n?n="polar":"theta"===e&&"base"===n?n="pie":"interval"!==i&&"polygon"!==i||"base"!==n||(n="interval"),ri(n)},si);function si(t){this.element=null,this.labelsContainer=null,this.element=t}function li(i,t){if(!i)return 1;if(i.length!==t.length)return 1;var n=!1;return L.each(t,function(t,e){if(!function(t,e){if(!L.isNil(t)&&!L.isNil(e)){var i=t.get("origin"),n=e.get("origin");return L.isEqual(i,n)}}(t,i[e]))return!(n=!0)}),n}function ui(t,n){var r={};return L.each(t,function(t,e){var i=n[e];L.isArray(i)&&(i=i.concat()),r[e]=i}),r}oi("base",qe),oi("interval",Ue),oi("pie",ei),oi("polar",Ze);var ci=(hi.prototype.bind=function(){var t=this.element.get("view");t.on("active:change",L.wrapBehavior(this,"_onActive")),t.on("selected:change",L.wrapBehavior(this,"_onSelected")),t.on("inactive:change",L.wrapBehavior(this,"_onInactive"))},hi.prototype.unbind=function(){var t=this.element.get("view");t.off("active:change",L.getWrapBehavior(this,"_onActive")),t.off("selected:change",L.getWrapBehavior(this,"_onSelected")),t.off("inactive:change",L.getWrapBehavior(this,"_onInactive"))},hi.prototype._onActive=function(t){var e=this,i=this.element;if(!1!==i.get("activeOptions")){var n=i.get("shapeContainer"),r=t.exp,o=t.draw,a=this._filterShapes(r),s=this._activeShapes;li(s,a)&&(s&&this._clearActiveShapes(),this._clearInactiveShapes(),a.forEach(function(t){t.get("animating")&&t.stopAnimate(),e._setShapeActive(t)}),this._activeShapes=a,n.sort(),o&&this._draw())}},hi.prototype._clearActiveShapes=function(){var t=this._activeShapes;L.each(t,function(t){var e=t.get("_beforeActiveAttrs");t.attr(e),t.setZIndex(0),t.set("_beforeActiveAttrs",null)}),this.element.get("shapeContainer").get("children").sort(function(t,e){return t._INDEX-e._INDEX}),this._activeShapes=null},hi.prototype._setShapeActive=function(t){var e=this._getShapeStyleByState(t,"active"),i=ui(e,t.attr());t.setSilent("_beforeActiveAttrs",i),t.attr(e),t.setZIndex(1)},hi.prototype._onSelected=function(t){var e=this;if(!1!==this.element.get("selectedOptions")){var i=t.exp,n=t.draw,r=this._filterShapes(i),o=this._selectedShapes;li(o,r)&&(o&&this._clearSelectedShapes(),this._clearInactiveShapes(),r.forEach(function(t){t.get("animating")&&t.stopAnimate(),e._setShapeSelected(t)}),this._selectedShapes=r,n&&this._draw())}},hi.prototype._clearSelectedShapes=function(){var t=this._selectedShapes;L.each(t,function(t){if(t.set("selected",!1),!t.get("inactive")){var e=t.get("_originAttrs");t.attr(e),t.set("_originAttrs",null)}}),this._selectedShapes=null},hi.prototype._setShapeSelected=function(t){t.set("selected",!0);var e=this._getShapeStyleByState(t,"selected");this._applyShapeStyle(t,e)},hi.prototype._onInactive=function(t){var e=this;if(!1!==this.element.get("inactiveOptions")){var i=t.exp,n=t.draw,r=this._filterShapes(i),o=this._inactiveShapes;li(o,r)&&(o&&this._clearInactiveShapes(),r.forEach(function(t){t.get("animating")&&t.stopAnimate(),e._setShapeInactive(t)}),this._inactiveShapes=r,n&&this._draw())}},hi.prototype._clearInactiveShapes=function(){var t=this._inactiveShapes;L.each(t,function(t){if(t.set("inactive",!1),!t.get("selected")){var e=t.get("_originAttrs");t.attr(e),t.set("_originAttrs",null)}}),this._inactiveShapes=null},hi.prototype._setShapeInactive=function(t){t.set("inactive",!0);var e=this._getShapeStyleByState(t,"inactive");this._applyShapeStyle(t,e)},hi.prototype._applyShapeStyle=function(t,e){var i=t.get("_originAttrs");i&&t.attr(i),i=ui(e,t.attr()),t.setSilent("_originAttrs",i),t.attr(e)},hi.prototype._filterShapes=function(n){var t=this.element.get("shapeContainer").get("children");return L.filter(t,function(t){if(t.get("origin")&&t.get("visible")){var e=t.get("origin"),i=L.isArray(e)?e[0]._origin:e._origin;return n(i)}})},hi.prototype._getShapeStyleByState=function(t,e){var i=this.element,n=t.get("origin"),r=n.shape||i.getDefaultValue("shape");L.isArray(r)&&(r=r[0]);var o=i.get("shapeFactory"),a=L.mix({},t.attr(),{origin:n});if("active"===e){var s=i.get("activeOptions"),l=o.getActiveStyle(r,a)||{};return L.mix(l,s)}if("selected"===e){var u=i.get("selectedOptions"),c=o.getSelectedStyle(r,a)||{};return L.mix(c,u)}if("inactive"!==e)return a;var h=i.get("inactiveOptions"),p=o.getInactiveStyle(r,a)||{};return L.mix(p,h)},hi.prototype._draw=function(){var t=this.element.get("canvas");if(t){var e=t.get("_drawTimer");e&&(clearTimeout(e),t.set("_drawTimer",null)),e=setTimeout(function(){t.draw()},16),t.set("_drawTimer",e)}},hi);function hi(t){this.element=null,this._activeShapes=null,this._selectedShapes=null,this._inactiveShapes=null,this.element=t}function pi(t){return L.isArray(t)?t:t.split("*")}var fi,di=["color","shape","size"],gi=(fi=P,Object(T.__extends)(Mi,fi),Mi.prototype.position=function(t){return L.isString(t)?this._setAttrOptions("position",{fields:pi(t)}):this._setAttrOptions("position",t),this},Mi.prototype.color=function(t,e){return this._createAttrOption("color",t,e),this},Mi.prototype.shape=function(t,e){return this._createAttrOption("shape",t,e),this},Mi.prototype.size=function(t,e){return this._createAttrOption("size",t,e),this},Mi.prototype.opacity=function(t,e){return this._createAttrOption("opacity",t,e),this},Mi.prototype.adjust=function(t){var i=t;return(L.isString(t)||L.isPlainObject(t))&&(i=[t]),L.each(i,function(t,e){L.isObject(t)||(i[e]={type:t})}),this.set("adjustOptions",i),this},Mi.prototype.style=function(t,e){if(L.isString(t)){var i=pi(t);this.set("styleOptions",{fields:i,callback:e})}else{i=t.fields;var n=t.callback,r=t.cfg;i||n||r?this.set("styleOptions",t):this.set("styleOptions",{cfg:t})}return this},Mi.prototype.tooltip=function(t,e){if(L.isString(t)){var i=pi(t);this.set("tooltipOptions",{fields:i,callback:e})}else this.set("tooltipOptions",t);return this},Mi.prototype.label=function(t,e){var i={};if(L.isString(t)){var n=pi(t);i.fields=n,i.callback=e,this.set("labelOptions",i)}else this.set("labelOptions",t);return this},Mi.prototype.animate=function(t){return this.set("animateOptions",t),this},Mi.prototype.active=function(t){return this.set("activeOptions",t),this},Mi.prototype.selected=function(t){return this.set("selectedOptions",t),this},Mi.prototype.inactive=function(t){return this.set("inactiveOptions",t),this},Mi.prototype.init=function(){var e=this,t=this.get("coord");this.get("shapeContainer").setMatrix(t.matrix);var i=this.get("data");this._initAttrs(i);var n=this.get("tooltipOptions");n&&n.fields&&n.fields.forEach(function(t){e.createScale(t,i)});var r=this._processData(i);r=this._adjustData(r),this.set("dataArray",r)},Mi.prototype.bindStates=function(){if(this.get("view")){var t=new ci(this);t.bind(),this.set("stateController",t)}},Mi.prototype.unbindStates=function(){if(this.get("view")){var t=this.get("stateController");t&&t.unbind()}},Mi.prototype.paint=function(){var t=this.get("coord"),e=this.get("theme"),i=this.get("dataArray"),n=[],r=this._getShapeFactory();r.setCoord(t),r.setTheme(e.shape);var o=this.get("shapeContainer");this._beforeMapping(i);for(var a=0,s=i.length;a<s;a+=1){var l=i[a];l=this._mapping(l),n.push(l),this.draw(l,o,r,a)}if(this.get("labelOptions")){var u=this.get("labelController").addLabels(L.union.apply(L,n),o.get("children"));this.set("labels",u)}this.get("sortable")?this.set("dataArray",n):this._sort(n)},Mi.prototype.clear=function(){this.clearInner(),this.set("scales",{}),this.set("labels",null)},Mi.prototype.destroy=function(){this.clear();var t=this.get("shapeContainer");t&&t.remove();var e=this.get("container");e&&e.remove(),this.unbindStates(),fi.prototype.destroy.call(this)},Mi.prototype.getDefaultValue=function(t){var e,i=this.getAttr(t);return i&&L.isEmpty(i.scales)&&(e=i.values[0]),e},Mi.prototype.changeVisible=function(t,e){this.set("visible",t);var i=this.get("shapeContainer");i&&i.set("visible",t);var n=this.get("labelController");n&&n.changeVisible(t),!e&&i&&this.get("canvas").draw()},Mi.prototype.getAttr=function(t){return this.get("attrs")[t]},Mi.prototype.getAttrsForLegend=function(){var t=L.values(this.get("attrs"));return L.filter(t,function(t){return L.contains(di,t.type)})},Mi.prototype.getXScale=function(){return this.getAttr("position").scales[0]},Mi.prototype.getYScale=function(){return this.getAttr("position").scales[1]},Mi.prototype.getShapes=function(){return this.get("shapeContainer").get("children")},Mi.prototype.isInCircle=function(){var t=this.get("coord");return!(!t||!t.isPolar)},Mi.prototype.appendShapeInfo=function(t,e){t&&(t.setSilent("index",e),t.setSilent("coord",this.get("coord")),t.setSilent("scales",this.get("scales")),this.get("animate")&&!L.isNil(this.get("animateOptions"))&&t.setSilent("animateOptions",this.get("animateOptions")))},Mi.prototype.hasAdjust=function(e){var t=this.get("adjustOptions"),i=!1;return L.each(t,function(t){if(t.type===e)return!(i=!0)}),i},Mi.prototype.getAttrValues=function(t,i){var e=t.scales,n=L.map(e,function(t){var e=t.field;return"identity"===t.type?t.values[0]:(t.isCategory,i[e])});return t.mapping.apply(t,n)},Mi.prototype.getSize=function(t){var e=this.get("sizeController");if(e)return e.getSize(t)},Mi.prototype.getNormalizedSize=function(t){var e=this.get("sizeController");if(e)return e.getNormalizedSize(t)},Mi.prototype.getGroupScales=function(){var t=this.get("groupScales");if(!t){var e=L.values(this.get("attrs")),i=L.filter(e,function(t){return L.contains(di,t.type)}),n=L.map(i,function(t){return L.filter(t.scales,function(t){return t.isCategory})});t=L.uniq(L.flatten(n)),this.set("groupScales",t)}return t},Mi.prototype.getLegendFields=function(){var n=[],r=this.get("attrOptions");return di.forEach(function(t){var e=r[t],i=L.get(e,"fields",[]);n=n.concat(i)}),L.uniq(n)},Mi.prototype.isShareTooltip=function(){var t=this.get("shareTooltip");return this.getYScale()||(t=!1),t},Mi.prototype.findPoint=function(t,e){return this.get("tooltipController").findPoint(t,e)},Mi.prototype.getTooltipItems=function(t,e){return this.get("tooltipController").getTooltipItems(t,e)},Mi.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,i=t.max;return 0<=e?e:i<=0?i:0},Mi.prototype.getShapeId=function(i){var n=this.get("id"),t=this.get("keyFields");if(t&&0<t.length)L.each(t,function(t){n=n+"-"+i[t]});else{var e,r=this.get("type"),o=this.getXScale(),a=this.getYScale(),s=o.field||"x",l=a.field||"y",u=i[l];e=o.isIdentity?o.values[0]:i[s],n="interval"===r||"schema"===r?n+"-"+e:"line"===r||"area"===r||"path"===r?n+"-"+r:n+"-"+e+"-"+u;var c=this.getGroupScales();L.isEmpty(c)||L.each(c,function(t){var e=t.field;"identity"!==t.type&&(n=n+"-"+i[e])})}return n},Mi.prototype.getOriginDataByPoint=function(t){var e,i=this.getXScale(),n=this.getYScale(),r=this.get("coord").invert(t),o=i.invert(r.x),a=n.invert(r.y),s=i.field,l=n.field;return(e={})[s]=o,e[l]=a,e},Mi.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),i=this.getYScale();return{x:this._normalizeValues(t[e.field],e),y:i?this._normalizeValues(t[i.field],i):t.y?t.y:.1,y0:i?i.scale(this.getYMinValue()):void 0}},Mi.prototype.draw=function(t,e,i,n){for(var r=0,o=t.length;r<o;r+=1){var a=t[r];this.drawPoint(a,e,i,n+r)}},Mi.prototype.drawPoint=function(t,e,i,n){var r=t.shape,o=this.getDrawCfg(t),a=i.drawShape(r,o,e);this.appendShapeInfo(a,n)},Mi.prototype.getDrawCfg=function(t){var e={origin:t,x:t.x,y:t.y,color:t.color,size:t.size,shape:t.shape,isInCircle:this.isInCircle(),opacity:t.opacity},i=this.get("styleOptions");return i&&(e.style=this._getStyleCfg(i,t._origin)),this.get("generatePoints")&&(e.points=t.points,e.nextPoints=t.nextPoints),e.id=this.getShapeId(t._origin),e},Mi.prototype.clearInner=function(){var t=this.get("shapeContainer");t&&t.clear();var e=this.get("labelController");e&&e.clear(),this.set("attrs",{}),this.set("groupScales",null);var i=this.get("sizeController");i&&i.clear(),this.get("tooltipController").clear()},Mi.prototype._createAttrOption=function(t,e,i){if(L.isObject(e))this._setAttrOptions(t,e);else{var n={};L.isNumber(e)?n.values=[e]:n.fields=pi(e),i&&(L.isFunction(i)?n.callback=i:n.values=i),this._setAttrOptions(t,n)}},Mi.prototype._initContainer=function(){var t=this.get("container"),e=this.get("view").get("id"),i=this.get("visible"),n=t.addGroup({viewId:e,visible:i});this.set("shapeContainer",n)},Mi.prototype._initController=function(){var t=new Ye(this);this.set("tooltipController",t);var e=new ai(this);this.set("labelController",e)},Mi.prototype._setAttrOptions=function(t,e){this.get("attrOptions")[t]=e},Mi.prototype.createScale=function(t,e){var i=this.get("view"),n=this.get("scales"),r=n[t];return r||(r=i._initScale(t,e),n[t]=r),r},Mi.prototype._initAttrs=function(h){var p=this,f=this.get("attrs"),t=this.get("attrOptions"),d=this.get("coord"),g=this.get("theme"),v=this.get("type");L.each(t,function(t,e){var i=Object(T.__assign)({},t),n=i.callback,r=i.values,o=i.fields,a=void 0===o?[]:o;"position"===e&&1===a.length&&"theta"===d.type&&a.unshift("1");var s=L.map(a,function(t){return p.createScale(t,h)});if("theta"===d.type&&"position"===e&&1<s.length){var l=s[1];l.change({nice:!1,min:0,max:Math.max.apply(null,l.values)})}if(i.scales=s,-1!==L.indexOf(["color","size","shape","opacity"],e)&&1===s.length&&s[0].isIdentity)i.values=s[0].values;else if(!n&&!r)if("size"===e)i.values=g.sizes;else if("shape"===e)i.values=g.shapes[v]||[];else if("opacity"===e)i.values=g.opacities;else if("color"===e&&s.length){var u=s[0].values.length;i.values=u<=10?g.colors:g.colors_20}var c=Bt(e);f[e]=new c(i)})},Mi.prototype._updateStackRange=function(t,e,i){for(var n=this.get("view").get("options").scales,r=L.flatten(i),o=e.min,a=e.max,s=0,l=r.length;s<l;s+=1){var u=r[s],c=Math.min.apply(null,u[t]),h=Math.max.apply(null,u[t]);c<o&&(o=c),a<h&&(a=h)}var p={};o<e.min&&!L.get(n,[t,"min"])&&(p.min=o),a>e.max&&!L.get(n,[t,"max"])&&(p.max=a),L.isEmpty(p)||e.change(p)},Mi.prototype._groupData=function(t){var e=this.getGroupScales().map(function(t){return t.field});return L.group(t,e)},Mi.prototype._saveOrigin=function(t){return L.map(t,function(t){var e;return Object(T.__assign)(Object(T.__assign)({},t),((e={})._origin=t,e))})},Mi.prototype._numeric=function(t){for(var e=this.getAttr("position").scales,i=0,n=t.length;i<n;i+=1)for(var r=t[i],o=0;o<Math.min(2,e.length);o+=1){var a=e[o];if(a.isCategory){var s=a.field;r[s]=a.translate(r[s])}}},Mi.prototype._processData=function(t){var i=this,e=this._groupData(t);return L.map(e,function(t){var e=i._saveOrigin(t);return i._numeric(e),e})},Mi.prototype._adjustData=function(t){var s=this,e=this.get("adjustOptions"),l=t;if(e){this.get("theme");var u=this.getXScale(),c=this.getYScale(),h=u.field,p=c?c.field:null;e.forEach(function(t){var e=Object(T.__assign)({xField:h,yField:p},t),i=t.type;if("dodge"===i){var n=[];if(u.isCategory||u.isIdentity)n.push("x");else{if(c)throw new Error("dodge is not support linear attribute, please use category attribute!");n.push("y")}e.adjustNames=n,e.dodgeRatio=s.get("widthRatio").column}else if("stack"===i){var r=s.get("coord");if(!c){e.height=r.getHeight();var o=s.getDefaultValue("size")||3;e.size=o}!r.isTransposed&&L.isNil(e.reverseOrder)&&(e.reverseOrder=!0)}var a=new(ot(i))(e);l=a.process(l),"stack"===i&&c&&s._updateStackRange(p,c,l)})}return l},Mi.prototype._getShapeFactory=function(){var t=this.get("shapeFactory");return t||(t=ue(this.get("shapeType")),this.set("shapeFactory",t)),t},Mi.prototype._generatePoints=function(t){for(var e=this._getShapeFactory(),i=this.getAttr("shape"),n=0,r=t.length;n<r;n+=1){var o=t[n],a=this.createShapePointsCfg(o),s=i?this.getAttrValues(i,o):null,l=e.getShapePoints(s,a);o.points=l}},Mi.prototype._normalizeValues=function(t,e){var i=[];if(L.isArray(t))for(var n=0,r=t.length;n<r;n+=1){var o=t[n];i.push(e.scale(o))}else i=e.scale(t);return i},Mi.prototype._beforeMapping=function(n){var e=this;if(this.get("sortable")){var i=this.getXScale(),r=i.field;L.each(n,function(t){t.sort(function(t,e){return i.translate(t[r])-i.translate(e[r])})})}this.get("generatePoints")&&(L.each(n,function(t){e._generatePoints(t)}),L.each(n,function(t,e){var i=n[e+1];i&&(t[0].nextPoints=i[0].points)}))},Mi.prototype._mapping=function(t){for(var e=this.get("attrs"),i=[],n=0,r=t.length;n<r;n+=1){var o=t[n],a={_origin:o._origin,points:o.points,nextPoints:o.nextPoints};for(var s in e)if(e.hasOwnProperty(s)){var l=e[s],u=l.names,c=this.getAttrValues(l,o);if(1<u.length)for(var h=0;h<c.length;h+=1){var p=c[h];a[u[h]]=L.isArray(p)&&1===p.length?p[0]:p}else 1===c.length||"color"===u[0]?a[u[0]]=c[0]:a[u[0]]=c}this._convertPoint(a),i.push(a)}return i},Mi.prototype._convertPoint=function(t){var e=t.x,i=t.y;if(!L.isNil(e)&&!L.isNil(i)){var n,r,o,a=this.get("coord");if(L.isArray(i)&&L.isArray(e)){n=[],r=[];for(var s=0,l=0,u=e.length,c=i.length;s<u&&l<c;s+=1,l+=1)o=a.convertPoint({x:e[s],y:i[l]}),n.push(o.x),r.push(o.y)}else if(L.isArray(i))r=[],i.forEach(function(t){o=a.convertPoint({x:e,y:t}),n&&n!==o.x?(L.isArray(n)||(n=[n]),n.push(o.x)):n=o.x,r.push(o.y)});else if(L.isArray(e))n=[],e.forEach(function(t){o=a.convertPoint({x:t,y:i}),r&&r!==o.y?(L.isArray(r)||(r=[r]),r.push(o.y)):r=o.y,n.push(o.x)});else{var h=a.convertPoint({x:e,y:i});n=h.x,r=h.y}t.x=n,t.y=r}},Mi.prototype._getStyleCfg=function(t,e){var i=t.fields,n=void 0===i?[]:i,r=t.callback,o=t.cfg;if(o)return o;var a=n.map(function(t){return e[t]});return r.apply(void 0,a)},Mi.prototype._sort=function(t){var i=this.getXScale(),n=i.field;L.each(t,function(t){t.sort(function(t,e){return i.translate(t._origin[n])-i.translate(e._origin[n])})}),this.set("dataArray",t)},Mi),vi=["start","process","end","reset"],yi=(_i.prototype._getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},_i.prototype._start=function(t){this.preStart(t),this.start(t),this.afterStart(t)},_i.prototype.preStart=function(t){},_i.prototype.start=function(t){},_i.prototype.afterStart=function(t){},_i.prototype._process=function(t){this.preProcess(t),this.process(t),this.afterProcess(t)},_i.prototype.preProcess=function(t){},_i.prototype.process=function(t){},_i.prototype.afterProcess=function(t){},_i.prototype._end=function(t){this.preEnd(t),this.end(t),this.afterEnd(t)},_i.prototype.preEnd=function(t){},_i.prototype.end=function(t){},_i.prototype.afterEnd=function(t){},_i.prototype._reset=function(t){this.preReset(t),this.reset(t),this.afterReset(t)},_i.prototype.preReset=function(t){},_i.prototype.reset=function(t){},_i.prototype.afterReset=function(t){},_i.prototype._bindEvents=function(){var n=this;L.each(vi,function(t){var e=n[t+"Event"],i=L.wrapBehavior(n,"_"+t);n.view.on(e,i),n._eventHandlers.push({type:e,handler:i})})},_i.prototype._unbindEvents=function(){var e=this,t=this._eventHandlers;L.each(t,function(t){e.view.off(t.type,t.handler)})},_i.prototype.destroy=function(){this._unbindEvents(),this._reset()},_i),mi={},xi=function(t){return mi[t]},bi=function(t,e){if(xi(t))throw new Error("Interaction type '"+t+"' existed.");mi[t]=e};function _i(t){var e=this._getDefaultCfg();L.assign(this,e,t),this.canvas=this.view.get("canvas"),this._eventHandlers=[],this._bindEvents()}function Mi(t){var e=fi.call(this,Object(T.__assign)({id:null,type:"base",shapeType:null,coord:null,attrs:{},data:[],scales:{},attrOptions:{},view:null,canvas:null,container:null,shapeContainer:null,generatePoints:!1,sortable:!1,animate:!0,visible:!0,shareTooltip:!0,activeOptions:null,inactiveOptions:null,selectedOptions:null,labelOptions:null,tooltipOptions:null,adjustOptions:null,styleOptions:null,statOptions:null,animateOptions:null,theme:null,widthRatio:w.widthRatio},t))||this,i=e.get("theme")||w.theme;return e.set("theme",i),e.get("container")&&e._initContainer(),e._initController(),e}var wi,Si,Ci=(Si=P,Object(T.__extends)(Li,Si),Li.prototype.axis=function(t,e){var i=this.get("options")||{};return!1===t?(i.axes=!1,L.set(i,"axes",!1)):L.isObject(t)?L.set(i,["axes","fields"],t):L.isString(t)?L.set(i,["axes","fields",t],e):L.set(i,"axes",e),this},Li.prototype.title=function(t){},Li.prototype.tooltip=function(t,e){var i=this.get("options");return i.tooltip||(i.tooltip={}),!1===t?i.tooltip=!1:L.isObject(t)?L.mix(i.tooltip,t):L.mix(i.tooltip,e),this},Li.prototype.legend=function(t,e){var i=this.get("options");return!1===t?L.set(i,"legends",!1):L.isObject(t)?L.set(i,"legends",t):L.isString(t)?L.set(i,["legends","fields",t],e):L.set(i,"legends",e),this},Li.prototype.annotation=function(){return this.get("annotationController")},Li.prototype.changeData=function(t){return this.emit("beforechangedata"),this.set("data",t),this._initData(),this.emit("afterchangedata"),this.repaint(),this},Li.prototype.data=function(t){return this.set("data",t),this._initData(),this},Li.prototype.scale=function(t,e){var i=this.get("options").scales;return L.isObject(t)?L.mix(i,t):i[t]=e,this},Li.prototype.filter=function(t,e){var i=this.get("options");return i.filters||(i.filters={}),i.filters[t]=e,this},Li.prototype.coordinate=function(t,e){var i=this.get("coordController");return L.isObject(t)?i.reset(t):i.reset({type:t,cfg:e}),i},Li.prototype.createView=function(t){void 0===t&&(t={});var e=this.get("views"),i=Object(T.__assign)({theme:this.get("theme"),parent:this,container:this.get("panelGroup"),canvas:this.get("canvas"),animate:this.get("animate")},t);i.options=L.mix({},this._getSharedOptions(),t.options);var n=new Li(i);return n.set("id",L.uniqueId("view_")),e.push(n),this.emit("addview",{view:n}),n},Li.prototype.removeView=function(t){var e=this.get("views");L.pull(e,t),t.destroy()},Li.prototype.facet=function(t){var e=this.get("facet");e&&e.destroy();var i,n=L.get(t,"type"),r=(i=n,De[L.lowerFirst(i)]);if(!r)throw new Error("facet '"+n+"' is not exist!");this.set("facet",new r(this,t))},Li.prototype.animate=function(t){return this.get("options").animate=t,this.set("animate",t),this},Li.prototype.render=function(e){return this._clearInner(),this.emit("beforerender"),this._beforeRender(),this.emit("beforedraw"),this._drawGuides(),this._drawElements(),this._renderFacet(),this.get("views").length&&L.each(this.get("views"),function(t){t.render(e)}),this._addBackShape(),this._canvasDraw(e),this.emit("afterdraw"),this.emit("afterrender"),this.set("rendered",!0),this},Li.prototype.changeVisible=function(e,t){L.each(this.get("elements"),function(t){t.changeVisible(e,!0)}),this.get("container").set("visible",e);var i=this.get("annotationController");i&&i.changeVisible(e);var n=this.get("axisController");n&&n.changeVisible(e),t||this.get("canvas").draw()},Li.prototype.isShapeInView=function(t){var e=this.get("id"),i=t.get("viewId");if(i)return i===e;for(var n=this.get("container"),r=t.get("parent");r;){if(r===n)return t.set("viewId",this.get("id")),!0;r=r.get("parent")}return!1},Li.prototype.isPointInView=function(t){var e=this.get("viewRange");return t.x>e.minX&&t.x<e.maxX&&t.y>e.minY&&t.y<e.maxY},Li.prototype.getXScale=function(){var t=this.get("elements");return t.length?t[0].getXScale():null},Li.prototype.getYScales=function(){var t=this.get("elements"),i=[];return t.forEach(function(t){var e=t.getYScale();e&&-1===L.indexOf(i,e)&&i.push(e)}),i},Li.prototype.getXY=function(t){var e,i,n=this.get("coord"),r=this._getScales("x"),o=this._getScales("y");for(var a in t)r[a]&&(e=r[a].scale(t[a])),o[a]&&(i=o[a].scale(t[a]));return L.isNil(e)||L.isNil(i)?null:n.convert({x:e,y:i})},Li.prototype.showTooltip=function(t){return this.get("tooltipController").showTooltip(t,this),this},Li.prototype.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},Li.prototype.getTooltipItems=function(o){var e=[],t=this.getElements();return L.each(t,function(n){var t=n.get("dataArray"),r=[];L.each(t,function(t){var e=n.findPoint(o,t);if(e){var i=n.getTooltipItems(e);r=r.concat(i)}}),e=e.concat(r)}),e},Li.prototype.init=function(){this._initTheme(),this._initLayers(),this.initRegion(),this._initOptions(),this._initControllers(),this._bindEvents(),this.get("data")&&this._initData()},Li.prototype.destroy=function(){this._clearEvents(),this.off(),this.clear(),this.clearAllInteractions(),this._destroyViewGroups(),Si.prototype.destroy.call(this)},Li.prototype.clear=function(){return this.set("isUpdate",!1),this._clearInner(),this._destroyElements(),this},Li.prototype.repaint=function(){return this.set("isUpdate",!0),this.render(),this},Li.prototype.eachShape=function(o){var a=this,t=this.get("views"),e=this.get("canvas");L.each(t,function(t){t.eachShape(o)});var i=this.get("elements");return L.each(i,function(r){var t=r.getShapes();L.each(t,function(t){var e=t.get("origin");if(L.isArray(e)){var i=e.map(function(t){return t._origin});o(i,t,r,a)}else{var n=e._origin;o(n,t,r,a)}})}),e.draw(),this},Li.prototype.getElements=function(e){void 0===e&&(e=!1);var i=Object(T.__spreadArrays)(this.get("elements"));if(e){var t=this.get("views");L.each(t,function(t){i=i.concat(t.getElements(e))})}return i},Li.prototype.getFilteredValues=function(t){var e=this.get("scales")[t].values,i=this._getFilters();return i&&i[t]?e.filter(i[t]):e.slice(0)},Li.prototype.getFilteredOutValues=function(e){var t=this.get("scales")[e].values,i=this._getFilters();return i&&i[e]?t.filter(function(t){return!i[e](t)}):[]},Li.prototype.setActive=function(t,e){return void 0===e&&(e=!0),this.get("shapeStateController").setState("active",t,e),this},Li.prototype.setSelected=function(t,e){return void 0===e&&(e=!0),this.get("shapeStateController").setState("selected",t,e),this},Li.prototype.setInactive=function(t,e){return void 0===e&&(e=!0),this.get("shapeStateController").setState("inactive",t,e),this},Li.prototype.clearAllInteractions=function(){var i=this.get("interactions");return L.each(i,function(t,e){t.destroy(),delete i[e]}),this},Li.prototype.clearInteraction=function(t){var e=this.get("interactions");return e[t]&&(e[t].destroy(),delete e[t]),this},Li.prototype.interaction=function(t,e){void 0===e&&(e={}),e.view=this;var i=new(xi(t))(e);return this._setInteraction(t,i),this},Li.prototype._renderFacet=function(){var t=this.get("facet");t&&t.render()},Li.prototype._getSharedOptions=function(){var t=this.get("options");return{scales:t.scales,coord:t.coord,axes:t.axes}},Li.prototype._getFilters=function(){return this.get("options").filters},Li.prototype._initTheme=function(){var t=this.get("theme"),e={},i={};L.isObject(t)?i=t:L.isString(t)&&(i=d(t)),L.deepMix(e,w.theme,i),this.set("theme",e)},Li.prototype._bindEvents=function(){this.get("eventController").bindEvents()},Li.prototype._clearEvents=function(){this.get("eventController").clearEvents()},Li.prototype._initLayers=function(){var t=this.get("container"),e=t.addGroup({name:"backgroundGroup",zIndex:0,viewId:this.get("id")}),i=t.addGroup({name:"panelGroup",zIndex:1,viewId:this.get("id")}),n=t.addGroup({name:"frontgroundGroup",zIndex:2});this.set("frontgroundGroup",n),this.set("backgroundGroup",e),this.set("panelGroup",i)},Li.prototype.initRegion=function(){var t=this.get("start"),e=t.x,i=t.y,n=this.get("end"),r=n.x,o=n.y,a=this.get("parent");if(a){var s=a.get("panelRange"),l=s.width,u=s.height,c=s.tl;r-e<=1&&(e*=l,i*=u,r*=l,o*=u),e+=c.x,r+=c.x,i+=c.y,o+=c.y}else r-e<=1&&(e*=l=this.get("width"),i*=u=this.get("height"),r*=l,o*=u);var h=r-e,p=o-i;this.set("viewRange",new S.BBox(e,i,h,p));var f,d,g,v,y,m=(f=this.get("padding"),L.isNumber(f)||L.isString(f)?d=g=v=y=f:L.isArray(f)&&(d=f[0],v=L.isNil(f[1])?f[0]:f[1],y=L.isNil(f[2])?f[0]:f[2],g=L.isNil(f[3])?v:f[3]),[d,v,y,g]),x=m[0],b=m[1],_=m[2],M=m[3],w=new S.BBox(e+M,i+x,h-M-b,p-x-_);this.set("panelRange",w)},Li.prototype._initData=function(){},Li.prototype._initOptions=function(){var e=this,t=L.mix({},this.get("options"));t.scales||(t.scales={}),t.coord||(t.coord={}),L.isUndefined(t.animate)||this.set("animate",!!t.animate),t.elements&&t.elements.length&&L.each(t.elements,function(t){e._createElement(t)});var i=this.get("scaleController");i&&(i.defs=t.scales);var n=this.get("coordController");n&&n.reset(t.coord),this.set("options",t)},Li.prototype._drawGuides=function(){this.get("keepLegend")||this._renderLegend(),this._renderAnnotations(),this._renderAxes(),this._renderTooltip()},Li.prototype._renderAxes=function(){var t=this.get("options");if(!1!==t.axes){var e=this.get("axisController");e.container=this.get("backgroundGroup").addGroup({name:"axisGroup"}),e.coord=this.get("coord"),e.options=L.get(t,"axes",{});var i=this.getXScale(),n=this.getYScales(),r=this.get("id");e.createAxis(i,n,r)}},Li.prototype._renderTooltip=function(){var t=this.get("options");if(L.isNil(t.tooltip)||!1!==t.tooltip){var e=this.get("tooltipController");e.options=t.tooltip||{},e.renderTooltip()}},Li.prototype._initControllers=function(){var t=this.get("options"),e=this.get("theme"),i=this.get("canvas"),n=new Xt(t.scales);this.set("scaleController",n);var r=new Vt(t.coord);this.set("coordController",r);var o=new Le({canvas:this.get("canvas"),view:this});this.set("eventController",o);var a=new _e({view:this});this.set("shapeStateController",a);var s=new he({view:this});this.set("legendController",s);var l=new Ut({theme:this.get("theme"),view:this,frontgroundGroup:this.get("frontgroundGroup").addGroup(),backgroundGroup:this.get("backgroundGroup").addGroup(),options:t.annotations||[]});this.set("annotationController",l);var u=new ge({canvas:i,theme:e});this.set("axisController",u);var c=new be({view:this,theme:e});this.set("tooltipController",c)},Li.prototype._initScale=function(t,e){void 0===e&&(e=[]);var i=this.get("scales"),n=i[t],r=e,o=this._getLegendFields();r.length&&-1===o.indexOf(t)||(r=this.get("data")||[]);var a=this.get("scaleController");return n||(n=a.createScale(t,r),i[t]=n),n},Li.prototype._createElement=function(t){var i,e=t.type;if(Be(e)){var n=Object(T.__assign)(Object(T.__assign)({},t),{container:this.get("panelGroup").addGroup(),frontgroundGroup:this.get("frontgroundGroup").addGroup(),view:this,canvas:this.get("canvas"),theme:this.get("theme")}),r=Be(e);i=new r(n),L.each(t,function(t,e){i[e]&&i[e](t)}),this._addElement(i)}},Li.prototype._addElement=function(t){this.get("elements").push(t),t.bindStates()},Li.prototype._drawElements=function(){this.emit("beforedrawelements"),L.each(this.get("elements"),function(t){t.paint()}),this.emit("afterdrawelements")},Li.prototype._clearElements=function(){L.each(this.get("elements"),function(t){t.clear()})},Li.prototype._destroyElements=function(){for(var t=this.get("elements");0<t.length;)t.shift().destroy()},Li.prototype._clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner"),this.get("options").elements=[],this._clearElements();var t=this.get("facet");t&&t.clear();var e=this.get("annotationController");e&&e.reset();var i=this.get("axisController");i&&i.clear();var n=this.get("tooltipController");if(n&&n.clear(),!this.get("keepLegend")){var r=this.get("legendController");r&&r.clear()}var o=this.get("backgroundGroup"),a=this.get("panelGroup");o.get("backShape")&&o.get("backShape").remove(),a.get("backShape")&&a.get("backShape").remove(),this.emit("afterclearinner")},Li.prototype._beforeRender=function(){L.each(this.get("views"),function(t){t._beforeRender()}),this._initView()},Li.prototype._initView=function(){this._execFilters(),this._initCoord(),this.emit("beforeinitelements"),this._initElements(),this._adjustScales()},Li.prototype._initCoord=function(){var t=this.get("panelRange"),e=this.get("coordController").createCoord(t.bl,t.tr);this.set("coord",e)},Li.prototype._getScales=function(n){var t=this.get("elements");return L.reduce(t,function(t,e){var i="x"===n?e.getXScale():e.getYScale();return i&&!L.has(t,i.field)&&(t[i.field]=i),t},{})},Li.prototype._initElements=function(){var i=this.get("filteredData"),n=this.get("coord"),r=this.get("id"),t=this.get("options"),o=this.get("animate"),a=this.get("widthRatio"),s=t.tooltip&&t.tooltip.shared;L.each(this.get("elements"),function(t,e){t.set("data",i),t.set("coord",n),t.set("id",r+"-element-"+e),t.set("animate",o),t.set("widthRatio",L.deepMix({},a,t.get("widthRatio"))),L.isBoolean(s)&&t.set("shareTooltip",s),t.init()})},Li.prototype._adjustScales=function(){this._adjustCategoryScalesRange();var t=this.get("elements"),a=this.get("scaleController").defs;t.forEach(function(t){if("interval"===t.get("type")){var e=t.getYScale(),i=e.field,n=e.min,r=e.max,o=e.type;a[i]&&a[i].min||"time"===o||(0<n?e.change({min:0}):r<=0&&e.change({max:0}))}})},Li.prototype._adjustCategoryScalesRange=function(){var a=this.get("coord"),t=this.getXScale(),e=this.getYScales(),s=this.get("widthRatio"),i=[];t&&i.push(t),i=i.concat(e);var l=function(){if(a.isPolar){var t=a.startAngle;return a.endAngle-t==2*Math.PI}return!1}(),u=this.get("scaleController").defs;i.forEach(function(t){var e=t.field,i=t.values;if((t.isCategory||t.isIdentity)&&i&&(!u[e]||!u[e].range)){var n=i.length,r=void 0;if(1===n)r=[.5,1];else{var o=0;r=l?a.isTransposed?[(o=1/n*s.multiplePie)/2,1-o/2]:[0,1-1/n]:[o=1/n*1/2,1-o]}t.range=r}})},Li.prototype._execFilters=function(){this.get("data");var t=this.get("data")||[],e=this._getFilters();e&&(t=t.filter(function(i){var n=!0;return L.each(e,function(t,e){if(t&&!(n=t(i[e],i)))return!1}),n})),this.set("filteredData",t)},Li.prototype._addBackShape=function(){var t=this.get("backgroundGroup"),e=this.get("viewRange"),i={x:e.x,y:e.y,width:e.width,height:e.height,fill:"rgba(255,255,255,0)"},n=L.mix(this.get("theme").backgroundStyle,this.get("backgroundStyle")),r=t.addShape("rect",{attrs:L.mix(i,n),zIndex:-1});t.set("backShape",r),t.sort();var o=this.get("panelGroup"),a=this.get("panelRange"),s=o.addShape("rect",{attrs:{x:a.x,y:a.y,width:a.width,height:a.height,fill:"rgba(255,255,255,0)"},zIndex:-1});o.set("backShape",s),o.sort()},Li.prototype._destroyViewGroups=function(){this.get("frontgroundGroup").remove(),this.get("backgroundGroup").remove(),this.get("panelGroup").remove(),this.set("frontgroundGroup",null),this.set("backgroundGroup",null),this.set("panelGroup",null)},Li.prototype._canvasDraw=function(t){var e=this.get("canvas");if(!t){var i=this.get("views");if(this.get("animate")){var n=this.get("isUpdate");L.each(i,function(t){tt(t,n)}),tt(this,n),e.draw()}else e.draw()}},Li.prototype._renderLegend=function(){this.get("legendController").render()},Li.prototype._renderAnnotations=function(){var t=this.get("coord"),e=this.get("annotationController");e.xScales=this._getScales("x"),e.yScales=this._getScales("y"),e.render(t)},Li.prototype._getLegendFields=function(){var i=[];return this.get("elements").forEach(function(t){var e=t.getLegendFields();i=i.concat(e)}),L.uniq(i)},Li.prototype._setInteraction=function(t,e){var i=this.get("interactions");i[t]&&i[t].destroy(),i[t]=e},Li),Oi=Ci,ki=function(t,i){Ci.prototype[t]=function(t){void 0===t&&(t={}),t.view=this,t.theme=this.get("theme"),t.container=this.get("panelGroup").addGroup(),t.frontgroundGroup=this.get("frontgroundGroup").addGroup(),t.canvas=this.get("canvas");var e=new i(t);return this._addElement(e),e}},Pi=(wi=Oi,Object(T.__extends)(Ai,wi),Ai.prototype.init=function(){this.set("id",L.uniqueId("chart")),this._initCanvas(),this._initEvents(),wi.prototype.init.call(this)},Ai.prototype.changeSize=function(t,e,i){return void 0===i&&(i=!0),this.get("canvas").changeSize(t,e),this.set("width",t),this.set("height",e),this.initRegion(),i&&(this.render(),this.emit("afterchangesize")),this},Ai.prototype.render=function(t){return wi.prototype.render.call(this,t),this.get("canvas").draw(),this},Ai.prototype.destroy=function(){window.removeEventListener("resize",L.getWrapBehavior(this,"_initForceFitEvent")),wi.prototype.destroy.call(this)},Ai.prototype._initCanvas=function(){var t=new S.Canvas({containerDOM:this.get("containerDOM"),containerId:this.get("containerId"),width:this.get("width"),height:this.get("height"),renderer:this.get("renderer"),pixelRatio:this.get("pixelRatio")});if(this.set("canvas",t),this.set("container",t),this.get("forceFit")){var e=this._getContainerDOM(),i=h.getWidth(e,this.get("width"));this.set("width",i)}},Ai.prototype._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",L.wrapBehavior(this,"_initForceFitEvent"))},Ai.prototype._initForceFitEvent=function(){var t=setTimeout(L.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",t)},Ai.prototype.forceFit=function(){if(!this.destroyed){var t=this._getContainerDOM(),e=this.get("width"),i=h.getWidth(t,e);if(0!==i&&i!==e){var n=this.get("height");this.changeSize(i,n)}return this}},Ai.prototype._getContainerDOM=function(){var t=this.get("containerDOM");return L.isElement(t)||(t=document.getElementById(this.get("containerId"))),t},Ai);function Ai(t){return wi.call(this,Object(T.__assign)({containerDOM:null,containerId:null,width:w.width,height:w.height,pixelRatio:w.pixelRatio,renderer:w.renderer,forceFit:!1},t))||this}function Li(t){var e=Si.call(this,Object(T.__assign)({animate:w.animate,widthRatio:w.widthRatio,canvas:null,container:null,coord:null,elements:[],guideController:null,id:L.uniqueId("view_"),options:{},padding:w.theme.padding,parent:null,scaleController:null,scales:{},start:{x:0,y:0},end:{x:1,y:1},width:null,height:null,theme:null,title:null,views:[],visible:!0,backgroundStyle:{},interactions:{}},t))||this;return e.init(),e}function Ti(t){var n=[],r=t.x,e=t.y;return e=L.isArray(e)?e:[e],L.each(e,function(t,e){var i={x:L.isArray(r)?r[e]:r,y:t};n.push(i)}),n}function Di(t,e){var i=e.color,n=e.opacity;i&&(t.fill=i),L.isNumber(n)&&(t.opacity=t.fillOpacity=n)}function ji(t,e){var i=e.color,n=e.opacity;i&&(t.stroke=i),L.isNumber(n)&&(t.opacity=t.strokeOpacity=n)}function Ii(t){var e=t.style;return ji(e,t),L.isNumber(t.size)&&(e.lineWidth=t.size),e}function Bi(t){var e=t.style;return Di(e,t),e}function Ei(o,a,s){var l=[],t=[],e=[],i=[],u=o.isInCircle;return L.each(o.points,function(t){e.push(t[1]),i.push(t[0])}),i=i.reverse(),t.push(e,i),L.each(t,function(t,e){var i=[],n=s.parsePoints(t),r=n[0];u&&n.push({x:r.x,y:r.y}),i=a?ie(n,!1,o.constraint):ee(n,!1),0<e&&(i[0][0]="L"),l=l.concat(i)}),l.push(["Z"]),l}var Fi=se("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,i=t.y,n=t.y0;return(i=L.isArray(i)?i:[n,i]).map(function(t){return{x:e,y:t}})},drawShape:function(t,e,i){var n=this.getShape(t),r=n.name,o=this._theme;if(o&&o.area&&o.area[r]){var a=o.area[r].default;e.style=L.mix({},a,e.style)}var s,l,u,c=1===e.points.length&&e.showSinglePoint?(s=e,l=i,u=this._coord.convertPoint(s.points[0][1]),l.addShape("circle",{attrs:L.mix({x:u.x,y:u.y,r:2,fill:s.color},s.style)})):n.draw(e,i);return c&&(c.set("origin",e.origin),c.id=e.splitedIndex?e.id+e.splitedIndex:e.id,c.name=this.name),c},getMarkerStyle:function(t,e){var i,n=this.getShape(t);i=n.getMarkerStyle?n.getMarkerStyle(e):{symbol:function(t,e){return[["M",t-5.5,e-4],["L",t+5.5,e-4],["L",t+5.5,e+4],["L",t-5.5,e+4],["Z"]]},radius:5,fill:e.color};var r=this._theme,o=n.name;return r&&r.area&&r.area[o]&&(i=L.mix({},r.area[o].default,i)),i}});le("area","area",{draw:function(t,e){var i=Bi(t),n=Ei(t,!1,this);return e.addShape("path",{attrs:L.mix(i,{path:n})})}}),le("area","smooth",{draw:function(t,e){var i=Bi(t),n=this.getCoord();t.constraint=[[n.start.x,n.end.y],[n.end.x,n.start.y]];var r=Ei(t,!0,this);return e.addShape("path",{attrs:L.mix(i,{path:r})})}}),le("area","line",{draw:function(t,e){var i=Ii(t),n=Ei(t,!1,this);return e.addShape("path",{attrs:L.mix(i,{path:n})})}}),le("area","smoothLine",{draw:function(t,e){var i=Ii(t),n=Ei(t,!0,this);return e.addShape("path",{attrs:L.mix(i,{path:n})})}});var Ri=Fi;function Ni(t,e,i){if(!t.length)return[];var n,r=[],o=[];return t.forEach(function(t){n=t._origin?t._origin[i]:t[i],e?L.isNil(n)||o.push(t):L.isArray(n)&&L.isNil(n[0])||L.isNil(n)?o.length&&(r.push(o),o=[]):o.push(t)}),o.length&&r.push(o),r}var zi,Yi=(zi=gi,Object(T.__extends)(Hi,zi),Hi.prototype.draw=function(t,r,o,a){var s=this,l=this.getDrawCfg(t[0]),e=Ni(t,this.get("connectNulls"),this.getYScale().field);l.origin=t,L.each(e,function(t,e){l.splitedIndex=e;var i=t.map(function(t){return t.points});l.points=i;var n=o.drawShape(l.shape,l,r);s.appendShapeInfo(n,a+e)})},Hi);function Hi(t){var e=zi.call(this,Object(T.__assign)({type:"area",shapeType:"area",generatePoints:!0,sortable:!0,connectNulls:!1,showSinglePoint:!1},t))||this;return e.set("shapeFactory",Ri),e}var Gi=(Wi.prototype.getSize=function(t){var e=this._getSizeValue(t);if(L.isUndefined(e)){var i=this._getDefaultSize();return this._toCoordinateSize(i)}return e},Wi.prototype.getNormalizedSize=function(t){var e=this._getSizeValue(t);return L.isUndefined(e)?this._getDefaultSize():this._toNormalizedSize(e)},Wi.prototype.clear=function(){this._defaultSize=null},Wi.prototype._getSizeValue=function(t){var e,i=this.element,n=i.getAttr("size");return n&&(e=i.getAttrValues(n,t)[0]),e},Wi.prototype._getDodgeCount=function(t){var e,i=this.element.get("adjustOptions");if(L.each(i,function(t){if("dodge"===t.type)return e=t.dodgeBy,!1}),e){var n=L.flatten(t);return L.valuesOfKey(n,e).length}return t.length},Wi.prototype._getDefaultSize=function(){var t=this.element.get("widthRatio"),e=this._defaultSize;if(e)return e;var i=this.element,n=i.get("coord"),r=i.getXScale(),o=r.values,a=i.get("dataArray"),s=o.length;if(r.isLinear&&1<o.length){o.sort();var l=function(t,e){var i=t.length,n=t;L.isString(n[0])&&(n=t.map(function(t){return e.translate(t)}));for(var r=n[1]-n[0],o=2;o<i;o++){var a=n[o]-n[o-1];a<r&&(r=a)}return r}(o,r);s=(r.max-r.min)/l,o.length>s&&(s=o.length)}var u=r.range,c=1/s,h=1;return h=i.isInCircle()?n.isTransposed&&1<s?t.multiplePie:t.rose:(r.isLinear&&(c*=u[1]-u[0]),t.column),c*=h,i.hasAdjust("dodge")&&(c/=this._getDodgeCount(a)),this._defaultSize=c},Wi.prototype._getCoordinateWidth=function(){var t=this.element,e=t.get("coord");if(t.isInCircle()&&!e.isTransposed)return(e.endAngle-e.startAngle)*e.getRadius();var i=e.convertPoint({x:0,y:0}),n=e.convertPoint({x:1,y:0}),r=0;return i&&n&&(r=Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2))),r},Wi.prototype._toCoordinateSize=function(t){return t*this._getCoordinateWidth()},Wi.prototype._toNormalizedSize=function(t){return t/this._getCoordinateWidth()},Wi);function Wi(t){this.element=null,this.element=t}function Xi(t){var e=t;L.isArray(t)||(e=[t]);var i=e[0],n=e[e.length-1],r=1<e.length?e[1]:i;return{min:i,max:n,min1:r,max1:3<e.length?e[3]:n,median:2<e.length?e[2]:r}}function Vi(t,e,i){var n,r,o,a=[],s=t,l=e;return n=L.isArray(l)?[[s-i/2,(r=Xi(l)).max],[s+i/2,r.max],[s,r.max],[s,r.max1],[s-i/2,r.min1],[s-i/2,r.max1],[s+i/2,r.max1],[s+i/2,r.min1],[s,r.min1],[s,r.min],[s-i/2,r.min],[s+i/2,r.min],[s-i/2,r.median],[s+i/2,r.median]]:(l=l||.5,[[(r=Xi(s)).min,l-i/2],[r.min,l+i/2],[r.min,l],[r.min1,l],[r.min1,l-i/2],[r.min1,l+i/2],[r.max1,l+i/2],[r.max1,l-i/2],[r.max1,l],[r.max,l],[r.max,l-i/2],[r.max,l+i/2],[r.median,l-i/2],[r.median,l+i/2]]),o=a,L.each(n,function(t){o.push({x:t[0],y:t[1]})}),a}var qi=se("box",{defaultShapeType:"box"});le("box","box",{getPoints:function(t){return Vi(t.x,t.y,t.size)},draw:function(t,e){var i,n,r=(ji(n=t.style,t),n),o=[["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]];return o=this.parsePath(o),e.addShape("path",{attrs:L.mix(r,{path:o})})},getMarkerStyle:function(t){return{symbol:function(t,e,i){var n=Vi(t,[e-6,e-3,e,e+3,e+6],i);return[["M",n[0].x+1,n[0].y],["L",n[1].x-1,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x+1,n[10].y],["L",n[11].x-1,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]},radius:6,lineWidth:1,stroke:t.color}}});var Ui,Zi=qi,Qi=(Ui=gi,Object(T.__extends)($i,Ui),$i.prototype.createShapePointsCfg=function(t){var e=Ui.prototype.createShapePointsCfg.call(this,t);return e.size=this.getNormalizedSize(t),e},$i);function $i(t){var e=Ui.call(this,Object(T.__assign)({type:"box",shapeType:"box",generatePoints:!0},t))||this,i=new Gi(e);return e.set("sizeController",i),e.set("shapeFactory",Zi),e}function Ki(t){var e=t.style;return ji(e,t),e}function Ji(t,e){var i=[];i.push({x:t.x,y:.5*t.y+e.y/2}),i.push({y:.5*t.y+e.y/2,x:e.x}),i.push(e);var n=["C"];return L.each(i,function(t){n.push(t.x,t.y)}),n}function tn(t,e){var i=[];i.push({x:e.x,y:e.y}),i.push(t);var n=["Q"];return L.each(i,function(t){n.push(t.x,t.y)}),n}var en=se("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return Ti(t)},getMarkerStyle:function(t,e){var i,n,r=this.getShape(t);i=r.getMarkerStyle?r.getMarkerStyle(e):(ji(n={symbol:"circle",radius:4.5},e),n);var o=this._theme,a=r.name;return o&&o.edge&&o.edge[a]&&(i=L.mix({},o.edge[a].default,i)),i}});le("edge","line",{draw:function(t,e){var i=t.isInCircle,n=this.parsePoints(t.points),r=Ki(t),o=ee(n,i);return e.addShape("path",{attrs:L.mix(r,{path:o})})}}),le("edge","vhv",{draw:function(t,e){var i=t.points,n=Ki(t),r=function(t,e){var i=[];i.push({y:t.y*(1-1/3)+e.y*(1/3),x:t.x}),i.push({y:t.y*(1-1/3)+e.y*(1/3),x:e.x}),i.push(e);var n=[["M",t.x,t.y]];return L.each(i,function(t){n.push(["L",t.x,t.y])}),n}(i[0],i[1]);return r=this.parsePath(r),e.addShape("path",{attrs:L.mix(n,{path:r})})}}),le("edge","smooth",{draw:function(t,e){var i,n,r,o=t.points,a=Ki(t),s=(i=o[0],n=Ji(i,o[1]),(r=[["M",i.x,i.y]]).push(n),r);return s=this.parsePath(s),e.addShape("path",{attrs:L.mix(a,{path:s})})}}),le("edge","arc",{draw:function(t,e){var i,n,r,o,a,s,l,u,c,h,p=t.points,f=2<p.length?"weight":"normal",d=Ki(t);if(t.isInCircle){var g={x:0,y:1};n="normal"==f?(u=p[0],c=tn(p[1],g),(h=[["M",u.x,u.y]]).push(c),h):(d.fill=d.stroke,o=g,a=tn((r=p)[1],o),s=tn(r[3],o),(l=[["M",r[0].x,r[0].y]]).push(s),l.push(["L",r[3].x,r[3].y]),l.push(["L",r[2].x,r[2].y]),l.push(a),l.push(["L",r[1].x,r[1].y]),l.push(["L",r[0].x,r[0].y]),l.push(["Z"]),l),n=this.parsePath(n),i=e.addShape("path",{attrs:L.mix(d,{path:n})})}else if("normal"==f)p=this.parsePoints(p),i=e.addShape("arc",{attrs:L.mix(d,{x:(p[1].x+p[0].x)/2,y:p[0].y,r:Math.abs(p[1].x-p[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{n=[["M",p[0].x,p[0].y],["L",p[1].x,p[1].y]];var v=Ji(p[1],p[3]),y=Ji(p[2],p[0]);n.push(v),n.push(["L",p[3].x,p[3].y]),n.push(["L",p[2].x,p[2].y]),n.push(y),n.push(["Z"]),n=this.parsePath(n),d.fill=d.stroke,i=e.addShape("path",{attrs:L.mix(d,{path:n})})}return i}});var nn,rn,on=en,an=(rn=gi,Object(T.__extends)(pn,rn),pn),sn=(nn=gi,Object(T.__extends)(hn,nn),hn.prototype._prepareRange=function(){var t=this.get("mappedData"),i=this.getAttr("color").scales[0].field,n=1/0,r=-1/0;t.forEach(function(t){var e=t._origin[i];r<e&&(r=e),e<n&&(n=e)}),n===r&&(n=r-1);var e=[n,r];this.set("valueRange",e)},hn.prototype._prepareSize=function(){var t=this.getDefaultValue("size");L.isNumber(t)||(t=this.getDefaultSize());var e=this.get("styleOptions"),i=e&&L.isObject(e.cfg)?e.cfg.blur:null;L.isFinite(i)&&null!==i||(i=t/2),this.set("heatmapSize",{blur:i,radius:t})},hn.prototype.getDefaultSize=function(){var t=this.getAttr("position"),e=this.get("coord");return Math.min(e.width/(4*t.scales[0].ticks.length),e.height/(4*t.scales[1].ticks.length))},hn.prototype._colorize=function(t){for(var e=this.getAttr("color"),i=t.data,n=this.get("paletteCache"),r=3;r<i.length;r+=4){var o=i[r];if(o){var a=void 0;n[o]?a=n[o]:(a=et.default.rgb2arr(e.gradient(o/256)),n[o]=a),i[r-3]=a[0],i[r-2]=a[1],i[r-1]=a[2],i[r]=o}}},hn.prototype._prepareGreyScaleBlurredCircle=function(t,e){var i=this.get("grayScaleBlurredCanvas");i||(i=document.createElement("canvas"),this.set("grayScaleBlurredCanvas",i));var n=t+e,r=i.getContext("2d");i.width=i.height=2*n,r.clearRect(0,0,i.width,i.height),r.shadowOffsetX=r.shadowOffsetY=2*n,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(-n,-n,t,0,2*Math.PI,!0),r.closePath(),r.fill()},hn.prototype._drawGrayScaleBlurredCircle=function(t,e,i,n,r){var o=this.get("grayScaleBlurredCanvas");r.globalAlpha=n,r.drawImage(o,t-i,e-i)},hn.prototype._getShadowCanvasCtx=function(){var t=this.get("shadowCanvas");t||(t=document.createElement("canvas"),this.set("shadowCanvas",t));var e=this.get("view").get("viewRange");return t.width=e.width,t.height=e.height,t.getContext("2d")},hn.prototype._clearShadowCanvasCtx=function(){var t=this._getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},hn.prototype._getImageShape=function(){var t=this.get("imageShape");return t||(t=this.get("container").addShape("Image",{}),this.set("imageShape",t),t)},hn.prototype.clear=function(){this._clearShadowCanvasCtx(),nn.prototype.clear.call(this)},hn.prototype.drawWithRange=function(e){var t=this.get("coord"),i=t.start,n=t.end,r=t.width,o=t.height,a=this.getAttr("color").scales[0].field,s=this.get("heatmapSize");this._clearShadowCanvasCtx();var l=this._getShadowCanvasCtx(),u=this.get("mappedData");e&&(u=u.filter(function(t){return t._origin[a]<=e[1]&&t._origin[a]>=e[0]}));for(var c=this.get("scales")[a],h=0;h<u.length;h++){var p=u[h],f=this.getDrawCfg(p),d=c.scale(p._origin[a]);this._drawGrayScaleBlurredCircle(f.x-i.x,f.y-n.y,s.radius+s.blur,d,l)}var g=l.getImageData(0,0,r,o);this._clearShadowCanvasCtx(),this._colorize(g),l.putImageData(g,0,0);var v=new Image;v.src=l.canvas.toDataURL("image/png"),this._getImageShape().attr({x:i.x,y:n.y,width:r,height:o,img:v})},hn.prototype.draw=function(t){this.set("mappedData",t),this._prepareRange(),this._prepareSize();var e=this.get("heatmapSize");this._prepareGreyScaleBlurredCircle(e.radius,e.blur);var i=this.get("valueRange");this.drawWithRange(i)},hn),ln=Math.sqrt(3),un={line:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},smooth:function(t,e,i){return[["M",t-i,e],["A",i/2,i/2,0,1,1,t,e],["A",i/2,i/2,0,1,0,t+i,e]]},hv:function(t,e,i){return[["M",t-i-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+i+1,e+2.5]]},vh:function(t,e,i){return[["M",t-i-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+i+1,e-2.5]]},hvh:function(t,e,i){return[["M",t-(i+1),e+2.5],["L",t-i/2,e+2.5],["L",t-i/2,e-2.5],["L",t+i/2,e-2.5],["L",t+i/2,e+2.5],["L",t+i+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}},cn={hexagon:function(t,e,i){var n=i/2*ln;return[["M",t,e-i],["L",t+n,e-i/2],["L",t+n,e+i/2],["L",t,e+i],["L",t-n,e+i/2],["L",t-n,e-i/2],["Z"]]},bowtie:function(t,e,i){var n=i-1.5;return[["M",t-i,e-n],["L",t+i,e+n],["L",t+i,e-n],["L",t-i,e+n],["Z"]]},cross:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e+i],["M",t+i,e-i],["L",t-i,e+i]]},tick:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},plus:function(t,e,i){return[["M",t-i,e],["L",t+i,e],["M",t,e-i],["L",t,e+i]]},hyphen:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},line:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]}};function hn(t){return nn.call(this,Object(T.__assign)({type:"heatmap",shapeType:"point",paletteCache:{}},t))||this}function pn(t){var e=rn.call(this,Object(T.__assign)({type:"edge",generatePoints:!0,shapeType:"edge",shareTooltip:!1},t))||this;return e.set("shapeFactory",on),e}function fn(t){var e=t.style;return Di(e,t),e}function dn(t){var e=t.style;return ji(e,t),e}function gn(t,e){void 0===e&&(e=!1);var i,n,r,o,a=t.x,s=t.y,l=t.y0,u=t.size;n=L.isArray(s)?(i=s[0],s[1]):(i=l,s),o=L.isArray(a)?(r=a[0],a[1]):(r=a-u/2,a+u/2);var c=[{x:r,y:i},{x:r,y:n}];return e?c.push({x:o,y:(n+i)/2}):c.push({x:o,y:n},{x:o,y:i}),c}function vn(t){var e=[],i=t[0];e.push(["M",i.x,i.y]);for(var n=1,r=t.length;n<r;n++)e.push(["L",t[n].x,t[n].y]);return e.push(["L",i.x,i.y]),e.push(["z"]),e}function yn(t,e){var i=[],n=t.points,r=t.nextPoints;return L.isNil(r)?e?i.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],["L",n[3].x,n[3].y],["Z"]):i.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],["Z"]):i.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),i}L.each({tick:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},line:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]}},function(t,e){S.Marker.symbolsFactory.register(e,t)});var mn=se("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return gn(t)}});le("interval","rect",{draw:function(t,e){var i=fn(t),n=vn(t.points);return n=this.parsePath(n),e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})},getMarkerStyle:function(t){var e=t.isInCircle,i={symbol:e?"circle":"square",radius:e?4.5:4};return Di(i,t),i}}),le("interval","hollowInterval",{draw:function(t,e){var i=dn(t),n=vn(t.points);return n=this.parsePath(n),e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})},getMarkerStyle:function(t){var e=t.isInCircle,i={symbol:e?"circle":"square",radius:e?4.5:4};return ji(i,t),i}}),le("interval","line",{getPoints:function(t){return i=t.x,e=t.y,n=t.y0,L.isArray(e)?e.map(function(t,e){return{x:L.isArray(i)?i[e]:i,y:t}}):[{x:i,y:e},{x:i,y:n}];var i,e,n},draw:function(t,e){var i=dn(t);i.lineWidth=t.size||1;var n=vn(t.points);return n=this.parsePath(n),e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})},getMarkerStyle:function(t){var e={symbol:"line",radius:5};return ji(e,t),e}}),le("interval","tick",{getPoints:function(t){return n=t.x,r=t.y,o=t.y0,a=t.size,s=n+a/2,[{x:l=n-a/2,y:i=L.isArray(r)?(e=r[0],r[1]):(e=o,r)},{x:s,y:i},{x:n,y:i},{x:n,y:e},{x:l,y:e},{x:s,y:e}];var e,i,n,r,o,a,s,l},draw:function(t,e){var i,n=dn(t),r=[["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]];return r=this.parsePath(r),e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},n),{path:r})})},getMarkerStyle:function(t){var e={symbol:"tick",radius:5};return ji(e,t),e}}),le("interval","funnel",{getPoints:function(t){return t.size=2*t.size,gn(t)},draw:function(t,e){var i=fn(t),n=yn(t,!0);return n=this.parsePath(n),e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})},getMarkerStyle:function(t){var e={symbol:"square",radius:4};return Di(e,t),e}}),le("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,gn(t,!0)},draw:function(t,e){var i=fn(t),n=yn(t,!1);return n=this.parsePath(n),e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})},getMarkerStyle:function(t){var e={symbol:"square",radius:4};return Di(e,t),e}}),le("interval","top-line",{draw:function(t,e){var i=L.mix({},fn(t)),n=t.style,r=t.points,o=vn(r);o=this.parsePath(o),delete i.stroke;var a=e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{zIndex:0,path:o})}),s=[["M",r[1].x,r[1].y],["L",r[2].x,r[2].y]];return e.addShape("path",{zIndex:1,attrs:{stroke:n.stroke||"white",lineWidth:n.lineWidth||1,path:this.parsePath(s)}}),a},getMarkerStyle:function(t){var e=t.isInCircle,i={symbol:e?"circle":"square",radius:e?4.5:4};return Di(i,t),i}});var xn,bn=mn,_n=(xn=gi,Object(T.__extends)(Mn,xn),Mn.prototype.createShapePointsCfg=function(t){var e=xn.prototype.createShapePointsCfg.call(this,t);return e.size=this.getNormalizedSize(t),e},Mn.prototype.isShareTooltip=function(){var t=this.get("shareTooltip"),e=this.get("coord"),i=e.type;return("theta"===i||"polar"===i&&e.isTransposed)&&(t=!1),t},Mn);function Mn(t){var e=xn.call(this,Object(T.__assign)({type:"interval",shapeType:"interval",generatePoints:!0},t))||this,i=new Gi(e);return e.set("sizeController",i),e.set("shapeFactory",bn),e}function wn(t,e,i){var n=function(t){var e=t;L.isArray(t)||(e=[t]);var i=e.sort(function(t,e){return t<e?1:-1}),n=i.length;if(n<4)for(var r=i[n-1],o=0;o<4-n;o++)i.push(r);return i}(e);return[{x:t,y:n[0]},{x:t,y:n[1]},{x:t-i/2,y:n[2]},{x:t-i/2,y:n[1]},{x:t+i/2,y:n[1]},{x:t+i/2,y:n[2]},{x:t,y:n[2]},{x:t,y:n[3]}]}var Sn=se("kline",{defaultShapeType:"kline"});le("kline","kline",{getPoints:function(t){return wn(t.x,t.y,t.size)},draw:function(t,e){var i,n,r,o=(Di(r=(n=t).style,n),ji(r,n),r),a=[["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]];return a=this.parsePath(a),e.addShape("path",{attrs:L.mix(o,{path:a})})},getMarkerStyle:function(t){return{symbol:function(t,e,i){var n=wn(t,[e+7.5,e+3,e-3,e-7.5],i);return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]},lineWidth:1,stroke:t.color,fill:t.color,radius:6}}});var Cn,On=Sn,kn=(Cn=gi,Object(T.__extends)(Ln,Cn),Ln.prototype.createShapePointsCfg=function(t){var e=Cn.prototype.createShapePointsCfg.call(this,t);return e.size=this.getNormalizedSize(t),e},Ln),Pn=[1,1],An=[5.5,1];function Ln(t){var e=Cn.call(this,Object(T.__assign)({type:"kline",shapeType:"kline",generatePoints:!0},t))||this,i=new Gi(e);return e.set("sizeController",i),e.set("shapeFactory",On),e}function Tn(t){var e=t.style;return ji(e,t),t.size&&(e.lineWidth=t.size),e}function Dn(t,e,i,n){var r;if(e){var o=n.constraint;i&&t.length&&t.push({x:t[0].x,y:t[0].y}),r=ie(t,!1,o)}else r=ee(t,!1),i&&r.push(["Z"]);return r}function jn(t,e){var i=t.points,n=t.isInCircle,r=i[0];return(L.isArray(r.y)?function(t,e,i,n){for(var r=n.isStack,o=[],a=[],s=0,l=t.length;s<l;s++){var u=Ti(t[s]);a.push(u[0]),o.push(u[1])}var c=Dn(o,e,i,n),h=Dn(a,e,i,n);return r?c:c.concat(h)}:Dn)(i,e,n,t)}function In(t,e){return(n=t.points,r=e,o=[],L.each(n,function(t,e){var i=n[e+1];o.push(t),i&&(o=o.concat(r(t,i)))}),o).map(function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]});var n,r,o}var Bn=se("line",{defaultShapeType:"line",drawShape:function(t,e,i){var n=this.getShape(t),r=n.name,o=this._theme;if(o&&o.line&&o.line[r]){var a=o.line[r].default;e.style=L.mix({},a,e.style)}var s,l,u=1===e.points.length&&e.showSinglePoint?(s=i,l=e.points[0],s.addShape("circle",{attrs:{x:l.x,y:l.y,r:2,fill:e.color}})):n.draw(e,i);return u&&(u.setSilent("origin",e.origin),u.id=e.splitedIndex?e.id+e.splitedIndex:e.id,u.name=this.name),u},getMarkerStyle:function(t,e){var i,n,r=this.getShape(t);if(r.getMarkerStyle)i=r.getMarkerStyle(e);else{ji(n={lineWidth:2,radius:6},e),i=n;var o=un[t];"dot"===t&&(o=un.line,i.lineDash=i.lineDash||Pn),"dash"===t&&(o=un.line,i.lineDash=i.lineDash||An),i.symbol=o}var a=this._theme,s=r.name;return a&&a.line&&a.line[s]&&(i=L.mix({},a.line[s].default,i)),i}});le("line","line",{draw:function(t,e){var i=Tn(t),n=jn(t,!1);return e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})}}),le("line","dot",{draw:function(t,e){var i=Tn(t),n=jn(t,!1);return e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({lineDash:Pn},i),{path:n})})}}),le("line","dash",{draw:function(t,e){var i=Tn(t),n=jn(t,!1);return e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({lineDash:An},i),{path:n})})}}),le("line","smooth",{draw:function(t,e){var i=Tn(t),n=this.getCoord();t.constraint=[[n.start.x,n.end.y],[n.end.x,n.start.y]];var r=jn(t,!0);return e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:r})})}}),le("line","hv",{draw:function(t,e){var i=Tn(t),n=In(t,function(t,e){return[{x:e.x,y:t.y}]});return e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})}}),le("line","vh",{draw:function(t,e){var i=Tn(t),n=In(t,function(t,e){return[{x:t.x,y:e.y}]});return e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})}}),le("line","hvh",{draw:function(t,e){var i=Tn(t),n=In(t,function(t,e){var i=(e.x+t.x)/2;return[{x:i,y:t.y},{x:i,y:e.y}]});return e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})}}),le("line","vhv",{draw:function(t,e){var i=Tn(t),n=In(t,function(t,e){var i=(t.y+e.y)/2;return[{x:t.x,y:i},{x:e.x,y:i}]});return e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:n})})}});var En,Fn,Rn=Bn,Nn=(Fn=gi,Object(T.__extends)(Hn,Fn),Hn.prototype.getDrawCfg=function(t){var e=Fn.prototype.getDrawCfg.call(this,t),i=this.hasAdjust("stack");return Object(T.__assign)(Object(T.__assign)({},e),{isStack:i,showSinglePoint:this.get("showSinglePoint")})},Hn.prototype.draw=function(t,n,r,o){var a=this,e=Ni(t,this.get("connectNulls"),this.getYScale().field),s=this.getDrawCfg(t[0]);s.origin=t,L.each(e,function(t,e){if(!L.isEmpty(t)){s.splitedIndex=e,s.points=t;var i=r.drawShape(s.shape,s,n);a.appendShapeInfo(i,o+e)}})},Hn),zn=(En=Nn,Object(T.__extends)(Yn,En),Yn);function Yn(t){return En.call(this,Object(T.__assign)({type:"line",sortable:!0},t))||this}function Hn(t){var e=Fn.call(this,Object(T.__assign)({type:"path",shapeType:"line",connectNulls:!1,showSinglePoint:!1},t))||this;return e.set("shapeFactory",Rn),e}function Gn(t){var e=t.style;return Di(e,t),L.isNumber(t.size)&&(e.radius=t.size),e}function Wn(t){var e=t.style;return ji(e,t),L.isNumber(t.size)&&(e.radius=t.size),e}L.each(cn,function(t,e){S.Marker.symbolsFactory.register(e,t)});var Xn=se("point",{defaultShapeType:"hollowCircle",getDefaultPoints:function(t){return Ti(t)}});le("point","rect",{draw:function(t,e){var i,n,r,o,a=Gn(t),s=(i=t.points[0].x,n=t.points[0].y,r=t.size[0],o=t.size[1],[["M",i-.5*r,n-.5*o],["L",i+.5*r,n-.5*o],["L",i+.5*r,n+.5*o],["L",i-.5*r,n+.5*o],["z"]]);return s=this.parsePath(s),e.addShape("path",{attrs:L.mix(a,{path:s})})},getMarkerStyle:function(t){var e={symbol:"rect",radius:4.5};return Di(e,t),e}}),L.each(["circle","square","bowtie","diamond","hexagon","triangle","triangleDown"],function(n){le("point",n,{draw:function(t,e){var i=Gn(t);return e.addShape("Marker",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{symbol:n,x:t.x,y:t.y})})},getMarkerStyle:function(t){var e={symbol:n,radius:4.5};return Di(e,t),e}}),le("point","hollow"+L.upperFirst(n),{draw:function(t,e){var i=Wn(t);return e.addShape("Marker",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{symbol:n,x:t.x,y:t.y})})},getMarkerStyle:function(t){var e={symbol:n,radius:4.5};return ji(e,t),e}})}),L.each(["cross","tick","plus","hyphen","line"],function(n){le("point",n,{draw:function(t,e){var i=Wn(t);return e.addShape("Marker",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{symbol:n,x:t.x,y:t.y})})},getMarkerStyle:function(t){var e={symbol:n,radius:4.5};return ji(e,t),e}})}),le("point","image",{draw:function(t,e){return t.points=this.parsePoints(t.points),e.addShape("image",{attrs:{x:t.points[0].x-t.size/2,y:t.points[0].y-t.size,width:t.size,height:t.size,img:t.shape[1]}})},getMarkerStyle:function(t){var e={symbol:"circle",radius:4.5};return Di(e,t),e}});var Vn=L.memoize(function(t){var e=D.b(t),i=L.flatten(e).filter(function(t){return L.isNumber(t)});return{range:Math.max.apply(null,i)-Math.min.apply(null,i),segments:e}});le("point","path",{draw:function(t,e){var i=L.mix({},Wn(t),Gn(t)),n=t.shape[1],r=t.size||10,o=Vn(n),a=r/o.range,s=[];i.rotate&&(s.push(["r",i.rotate/180*Math.PI]),delete i.rotate);var l=e.addShape("path",{attrs:Object(T.__assign)(Object(T.__assign)({},i),{path:o.segments})});return s.push(["s",a,a],["t",t.x,t.y]),l.transform(s),l},getMarkerStyle:function(t){var e={symbol:"circle",radius:4.5};return Di(e,t),e}});var qn,Un=Xn,Zn=(qn=gi,Object(T.__extends)(Qn,qn),Qn.prototype.drawPoint=function(t,n,r,o){var a=this,s=t.shape,l=this.getDrawCfg(t);if(L.isArray(t.y)){var u=this.hasAdjust("stack");L.each(t.y,function(t,e){if(l.y=t,l.yIndex=e,!u||0!==e){var i=r.drawShape(s,l,n);a.appendShapeInfo(i,o+e)}})}else if(!L.isNil(t.y)){var e=r.drawShape(s,l,n);this.appendShapeInfo(e,o)}},Qn);function Qn(t){var e=qn.call(this,Object(T.__assign)({type:"point",shapeType:"point",generatePoints:!0,shareTooltip:!1},t))||this;return e.set("shapeFactory",Un),e}function $n(t){for(var e=t[0],i=1,n=[["M",e.x,e.y]];i<t.length;){var r=t[i];r.x===t[i-1].x&&r.y===t[i-1].y||(n.push(["L",r.x,r.y]),r.x===e.x&&r.y===e.y&&i<t.length-1&&(e=t[i+1],n.push(["Z"]),n.push(["M",e.x,e.y]),i++)),i++}return L.isEqual(n[n.length-1],e)||n.push(["L",e.x,e.y]),n.push(["Z"]),n}function Kn(t){var e={symbol:"square",radius:4};return Di(e,t),e}var Jn=se("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(n){var r=[];return L.each(n.x,function(t,e){var i=n.y[e];r.push({x:t,y:i})}),r}});le("polygon","polygon",{draw:function(t,e){if(!L.isEmpty(t.points)){var i=(Di(r=t.style,t),r),n=$n(t.points);return n=this.parsePath(n),e.addShape("path",{attrs:L.mix(i,{path:n})})}var r},getMarkerStyle:function(t){return Kn(t)}}),le("polygon","hollow",{draw:function(t,e){if(!L.isEmpty(t.points)){var i=(ji(r=t.style,t),r),n=$n(t.points);return n=this.parsePath(n),e.addShape("path",{attrs:L.mix(i,{path:n})})}var r},getMarkerStyle:function(t){return Kn(t)}});var tr,er=Jn,ir=(tr=gi,Object(T.__extends)(nr,tr),nr.prototype.createShapePointsCfg=function(t){var e,i=tr.prototype.createShapePointsCfg.call(this,t),n=i.x,r=i.y;if(!L.isArray(n)||!L.isArray(r)){var o=this.getXScale(),a=this.getYScale(),s=.5/o.values.length,l=.5/a.values.length;o.isCategory&&a.isCategory?(n=[n-s,n-s,n+s,n+s],r=[r-l,r+l,r+l,r-l]):L.isArray(n)?(n=[(e=n)[0],e[0],e[1],e[1]],r=[r-l/2,r+l/2,r+l/2,r-l/2]):L.isArray(r)&&(r=[(e=r)[0],e[1],e[1],e[0]],n=[n-s/2,n-s/2,n+s/2,n+s/2]),i.x=n,i.y=r}return i},nr);function nr(t){var e=tr.call(this,Object(T.__assign)({type:"polygon",shapeType:"polygon",generatePoints:!0,shareTooltip:!1},t))||this;return e.set("shapeFactory",er),e}var rr=se("text",{defaultShapeType:"text",getDefaultPoints:function(t){return Ti(t)}});le("text","text",{draw:function(t,e){var i,n,r=(Di(n=(i=t).style,i),L.isNumber(i.size)&&(n.fontSize=i.size),n);return e.addShape("text",{attrs:Object(T.__assign)(Object(T.__assign)({},r),{x:t.x,y:t.y,text:t.text})})},getMarkerStyle:function(t){var e={symbol:"circle",radius:4.5};return Di(e,t),e}});var or,ar,sr=rr,lr=(ar=Zn,Object(T.__extends)(pr,ar),pr.prototype.content=function(t,e){if(L.isObject(t))this.set("contentOptions",t);else{var i=pi(t);this.set("contentOptions",{fields:i,callback:e})}return this},pr.prototype._getContent=function(t,e){var i=t.fields||[],n=t.callback;if(n){var r=i.map(function(t){return e[t]});return n.apply(void 0,r)}return e[i[0]]},pr.prototype.getDrawCfg=function(t){var e=ar.prototype.getDrawCfg.call(this,t),i=this.get("contentOptions");return i&&(e.text=this._getContent(i,t._origin)),e},pr),ur=(or=Te,Object(T.__extends)(hr,or),hr.prototype.generateFacets=function(s){var l=this,t=this.cfg.fields,u=t[0],c=t[1],h=[],p=0,f=0,d=[],g=[];return u&&(d=this.getFieldValues(s,u),p=d.length),c&&(g=this.getFieldValues(s,c),f=g.length),d.forEach(function(o,a){g.forEach(function(t,e){var i=[{field:u,value:o,values:d},{field:c,value:t,values:g}],n=L.filter(s,function(n){return L.every(i,function(t){var e=t.field,i=t.value;return n[e]===i})}),r={type:l.cfg.type,columnValue:o,rowValue:t,columnField:u,rowField:c,columnIndex:a,rowIndex:e,columnValuesLength:p,rowValuesLength:f,data:n,region:l.getRegion(f,p,a,e)};h.push(r)})}),h},hr.prototype.renderAxis=function(){},hr.prototype.renderTitle=function(){},hr),cr=i(64);function hr(t,e){return or.call(this,t,Object(T.__assign)({showTitle:!0,autoSetAxis:!0,padding:16},e))||this}function pr(t){var e=ar.call(this,Object(T.__assign)({type:"text",shapeType:"text"},t))||this;return e.set("shapeFactory",sr),e}Ee("Line",zn),Ee("Path",Nn),Ee("Point",Zn),Ee("Interval",_n),Ee("Edge",an),Ee("Polygon",ir),Ee("Area",Yi),Ee("Box",Qi),Ee("Kline",kn),Ee("Text",lr),Ee("Heatmap",sn),je("rect",ur)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(22)),a=r.__importStar(i(0)),s=r.__importDefault(i(137)),l=r.__importDefault(i(140)),u=i(7),c=r.__importDefault(i(29)),h=r.__importDefault(i(8)),p=i(10),f=(n=o.default,r.__extends(d,n),d.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},d.prototype.repaint=function(){this.canvasController.canvas.draw()},d.prototype.updateConfig=function(e,t){if(void 0===t&&(t=!1),t)this.eachLayer(function(t){t instanceof h.default&&t.updateConfig(e)});else{var i=this.layers[0];i instanceof c.default&&i.updateConfig(e)}e.width&&(this.width=e.width),e.height&&(this.height=e.height),e.theme&&(this.theme=e.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},d.prototype.changeData=function(e,t){if(void 0===t&&(t=!1),t)this.eachLayer(function(t){t instanceof h.default&&t.changeData(e)});else{var i=this.layers[0];i instanceof h.default&&i.changeData(e)}},d.prototype.getPlotTheme=function(){return this.layers[0].getPlotTheme()},d.prototype.getData=function(){return this.layers[0].getData()},d.prototype.bindStateManager=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.bindStateManager(e,i)})},d.prototype.setActive=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setActive(e,i)})},d.prototype.setSelected=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setSelected(e,i)})},d.prototype.setDisable=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setDisable(e,i)})},d.prototype.setNormal=function(e){this.eachLayer(function(t){t instanceof h.default&&t.setNormal(e)})},d.prototype.getLayer=function(t){return void 0===t&&(t=0),this.layers[t]},d.prototype.getCanvas=function(){return this.canvasController.canvas},d.prototype.getLayers=function(){return this.layers},d.prototype.render=function(){this.eachLayer(function(t){return t.render()})},d.prototype.eachLayer=function(t){a.each(this.layers,t)},d.prototype.addLayer=function(e){a.findIndex(this.layers,function(t){return t===e})<0&&this.layers.push(e)},d.prototype.createLayers=function(t){if(!t.layers&&t.type){var e=new(u.getPlotType(t.type))(a.deepMix({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}));this.addLayer(e)}},d.prototype.parseEvents=function(t){var r=this,o=a.keys(p.CANVAS_EVENT_MAP);t.events&&a.each(t.events,function(t,e){if(a.contains(o,e)&&a.isFunction(t)){var i=p.CANVAS_EVENT_MAP[e]||e,n=t;r.on(i,n)}})},d);function d(t,e){var i=n.call(this)||this;return i.containerDOM="string"==typeof t?document.getElementById(t):t,i.forceFit=a.isNil(e.forceFit)?a.isNil(e.width)&&a.isNil(e.height):e.forceFit,i.renderer=e.renderer||"canvas",i.pixelRatio=e.pixelRatio||null,i.width=e.width,i.height=e.height,i.theme=e.theme,i.canvasController=new s.default({containerDOM:i.containerDOM,plot:i}),i.width=i.canvasController.width,i.height=i.canvasController.height,i.canvas=i.canvasController.canvas,i.layers=[],i.destroyed=!1,i.createLayers(e),i.eventController=new l.default({plot:i,canvas:i.canvasController.canvas}),i.eventController.bindEvents(),i.parseEvents(e),i}e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};e.registerPlotType=function(t,e){n[t.toLowerCase()]=e},e.getPlotType=function(t){return n[t.toLowerCase()]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(2),a=r.__importStar(i(5)),s=r.__importStar(i(0)),l=r.__importDefault(i(120)),u=i(9),c=r.__importDefault(i(126)),h=i(10),p=r.__importDefault(i(129)),f=r.__importDefault(i(35)),d=r.__importDefault(i(68)),g=r.__importDefault(i(29)),v=i(44),y=i(136),m=(n=g.default,r.__extends(x,n),x.getDefaultOptions=function(t){return{renderer:"canvas",title:{visible:!1,text:""},description:{visible:!1,text:""},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,crosshairs:{type:"y"}},xAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0},title:{visible:!1,offset:12}},label:{visible:!1}}},x.prototype.getOptions=function(t){var e=n.prototype.getOptions.call(this,t),i=this.constructor.getDefaultOptions(t);return s.deepMix({},e,i,t)},x.prototype.beforeInit=function(){n.prototype.beforeInit.call(this)},x.prototype.init=function(){var t=this;n.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={scales:{},legends:{},tooltip:{showTitle:!0,triggerOn:"mousemove",inPanel:!0,useHtml:!0},axes:{fields:{}},coord:{type:"cartesian"},elements:[],annotations:[],interactions:{},theme:this.theme,panelRange:{},animate:!0},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange(),this.paddingController.clearOuterComponents(),this.view=new a.View({width:this.width,height:this.height,canvas:this.canvas,container:this.container,padding:this.paddingController.getPadding(),data:this.processData(this.options.data),theme:this.theme,options:this.config,start:{x:this.viewRange.minX,y:this.viewRange.minY},end:{x:this.viewRange.maxX,y:this.viewRange.maxY}}),this.applyInteractions(),this.view.on("afterrender",function(){t.afterRender()})},x.prototype.afterInit=function(){n.prototype.afterInit.call(this),this.view&&!this.view.destroyed&&"auto"!==this.options.padding&&this.parseEvents()},x.prototype.afterRender=function(){if(this.view&&!this.view.destroyed){var t=this.options,e=t.padding?t.padding:this.config.theme.padding;t.defaultState&&"auto"!==e&&this.stateController.defaultStates(t.defaultState),"canvas"===this.options.renderer&&this.addGeomCliper(),"auto"===e&&this.paddingController.processAutoPadding()}},x.prototype.render=function(){n.prototype.render.call(this);var t=this.options.data;s.isEmpty(t)||this.view.render()},x.prototype.destroy=function(){this.doDestroy(),n.prototype.destroy.call(this)},x.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&"auto"===this.initialOptions.padding&&(t.padding="auto"),this.options=s.deepMix({},this.options,t),this.processOptions(this.options)},x.prototype.changeData=function(t){this.options.data=this.processData(t),this.view.changeData(this.options.data)},x.prototype.getPlot=function(){return this.view},x.prototype.getTheme=function(){return this.theme},x.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},x.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},x.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},x.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},x.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},x.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},x.prototype.setNormal=function(t){this.stateController.setState({type:"normal",condition:t,style:{}})},x.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},x.prototype.processData=function(t){return t},x.prototype.scale=function(){var t=s.mapValues(this.config.scales,function(t){var e=t.type;return e?{type:e}:{}}),e=s.deepMix({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},x.prototype.axis=function(){var t=u.getComponent("axis",{plot:this,dim:"x"}),e=u.getComponent("axis",{plot:this,dim:"y"}),i={fields:{}};i.fields[this.options.xField]=t,i.fields[this.options.yField]=e,this.setConfig("axes",i)},x.prototype.tooltip=function(){!1!==this.options.tooltip.visible?(this.setConfig("tooltip",s.deepMix({},s.get(this.options,"tooltip"))),s.deepMix(this.config.theme.tooltip,this.options.tooltip.style)):this.setConfig("tooltip",!1)},x.prototype.legend=function(){if(!1!==this.options.legend.visible){var t=s.get(this.options,"legend.flipPage"),e=s.get(this.options,"legend.clickable");this.setConfig("legends",{position:s.get(this.options,"legend.position"),formatter:s.get(this.options,"legend.formatter"),offsetX:s.get(this.options,"legend.offsetX"),offsetY:s.get(this.options,"legend.offsetY"),clickable:!!s.isUndefined(e)||e,flipPage:t,marker:s.get(this.options,"legend.marker")})}else this.setConfig("legends",!1)},x.prototype.annotation=function(){var i=this,n=[];"cartesian"===this.config.coord.type&&this.options.guideLine&&s.each(this.options.guideLine,function(t){var e=u.getComponent("guideLine",{plot:i,cfg:t});n.push(e)}),this.setConfig("annotations",n)},x.prototype.animation=function(){!1!==this.options.animation&&"auto"!==this.options.padding||(this.config.animate=!1)},x.prototype.applyInteractions=function(){var n=this,t=this.options.interactions,e=void 0===t?[]:t;this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[],e.forEach(function(t){var e=c.default.getInteraction(t.type,n.type);if(e){var i=new e({view:n.view},n,e.getInteractionRange(n.layerBBox,t.cfg),t.cfg);n.interactions.push(i)}})},x.prototype.setConfig=function(t,e){"element"!==t?!1!==e?s.assign(this.config[t],e):this.config[t]=!1:this.config.elements.push(e)},x.prototype.parseEvents=function(t){var r=this,e=this.options;if(e.events){n.prototype.parseEvents.call(this,e.events);var o=t?t.EVENT_MAP:h.EVENT_MAP;s.each(e.events,function(t,e){if(s.isFunction(t)){var i=o[e]||e,n=t;h.onEvent(r,i,n)}})}},x.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),v.isTextUsable(t.title)){var i=this.width,n=this.config.theme,r=new l.default({leftMargin:e.minX+n.title.padding[3],topMargin:e.minY+n.title.padding[0],text:t.title.text,style:s.mix(n.title,t.title.style),wrapperWidth:i-n.title.padding[3]-n.title.padding[1],container:this.container.addGroup(),theme:n,index:v.isTextUsable(t.description)?0:1,plot:this,name:"title"});this.title=r,this.paddingController.registerPadding(r,"outer")}},x.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),v.isTextUsable(t.description)){var i=this.width,n=this.config.theme,r=0;if(this.title){var o=this.title.getBBox();r+=o.minY+o.height,r+=n.description.padding[0]}else r+=e.minY+n.title.padding[0];var a=new l.default({leftMargin:e.minX+n.description.padding[3],topMargin:r,text:t.description.text,style:s.mix(n.description,t.description.style),wrapperWidth:i-n.description.padding[3]-n.description.padding[1],container:this.container.addGroup(),theme:n,index:1,plot:this,name:"description"});this.description=a,this.paddingController.registerPadding(a,"outer")}},x.prototype.doDestroy=function(){this.doDestroyInteractions(),this.view.destroyed||this.view.destroy()},x.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},x.prototype.getViewRange=function(){var r=this,t=this.options.interactions,e=void 0===t?[]:t,o=this.layerBBox;return e.forEach(function(t){var e=c.default.getInteraction(t.type,r.type),i=e&&e.getInteractionRange(o,t.cfg),n="";i&&(i.bottom===o.bottom&&i.top>o.top?n="bottom":i.right===o.right&&i.left>o.left?n="right":i.left===o.left&&i.right>o.right?n="left":i.top===o.top&&i.bottom>o.bottom&&(n="top"),r.paddingController.registerPadding({getBBox:function(){return i},position:n},"outer"))}),this.paddingController.processOuterPadding()},x.prototype.addGeomCliper=function(){var t=this.view.get("panelRange"),n=new o.Rect({attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}}),e=this.view.get("elements");s.each(e,function(t){var e=t.get("shapeContainer"),i=e.attr("clip");i&&i.remove(),e.attr("clip",n)});var i=new o.BBox(t.x,t.y,t.width,t.height);s.each(this.getDataLabShapes(),function(t){var e=t.getBBox();y.getOverlapArea(i,e)<=0&&t.set("visible",!1)})},x.prototype.getDataLabShapes=function(){var n=[];return this.view.get("elements").map(function(t){var e=t.get("labelController"),i=e.labelsContainer&&e.labelsContainer.get("labelsRenderer");i&&n.push.apply(n,i.getLabels()||[])}),n},x);function x(t){var e=n.call(this,t)||this;return e.interactions=[],e.options=e.getOptions(t),e.initialOptions=s.deepMix({},e.options),e.paddingController=new p.default({plot:e}),e.stateController=new f.default({plot:e}),e.themeController=new d.default,e}e.default=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(121)),o=n.__importDefault(i(122)),a=n.__importDefault(i(65)),s=n.__importDefault(i(123)),l=n.__importDefault(i(124)),u=n.__importDefault(i(125)),c={axis:r.default,label:a.default,guideLine:o.default},h={tooltip:u.default,label:l.default,axis:s.default};e.getComponent=function(t,e){return new c[t](e).config},e.getComponentStateMethod=function(t,e){return h[t][e]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENT_MAP={onViewClick:"click",onViewDblClick:"dblclick",onViewMousemove:"mousemove",onViewMousedown:"mousedown",onViewMouseup:"mouseup",onViewMouseenter:"mouseenter",onViewMouseleave:"mouseleave",onViewContextmenu:"contextmenu",onAxisClick:"axis-label:click",onAxisDblClick:"axis-label:dblclick",onAxisMousemove:"axis-label:mousemove",onAxisMousedown:"axis-label:mousedown",onAxisMouseup:"axis-label:mouseup",onAxisMouseenter:"axis-label:mouseenter",onAxisMouseleave:"axis-label:mouseleave",onAxisContextmenu:"axis-label:contextmenu",onLabelClick:"label:click",onLabelDblClick:"label:dblclick",onLabelMousemove:"label:mousemove",onLabelMouseup:"label:mouseup",onLabelMousedown:"label:mousedown",onLabelMouseenter:"label:mouseenter",onLabelMouseleave:"label:mouseleave",onLabelContextmenu:"label:contextmenu",onLegendClick:"legend-item:click",onLegendDblClick:"legend-item:dblclick",onLegendMouseMove:"legend-item:mousemove",onLegendMouseDown:"legend-item:mousedown",onLegendMouseUp:"legend-item:mouseup",onLegendMouseLeave:"legend-item:mouseleave",onLegendMouseEnter:"legend-item:mouseenter",onLegendContextmenu:"legend-item:contextmenu"},e.CANVAS_EVENT_MAP={onPlotClick:"click",onPlotDblClick:"dblclick",onPlotMousemove:"mousemove",onPlotMousedown:"mousedown",onPlotMouseup:"mouseup",onPlotMouseenter:"mouseenter",onPlotMouseleave:"mouseleave",onPlotContextmenu:"contextmenu",onTitleClick:"title:click",onTitleDblClick:"title:dblclick",onTitleMousemove:"title:mousemove",onTitleMousedown:"title:mousedown",onTitleMouseup:"title:mouseup",onTitleMouseenter:"title:mouseenter",onTitleMouseleave:"title:mouseleave",onTitleContextmenu:"title:contextmenu",onDescriptionClick:"description:click",onDescriptionDblClick:"description:dblclick",onDescriptionMousemove:"description:mousemove",onDescriptionMousedown:"description:mousedown",onDescriptionMouseup:"description:mouseup",onDescriptionMouseenter:"description:mouseenter",onDescriptionMouseleave:"description:mouseleave",onDescriptionContextmenu:"description:contextmenu",onBreadcrumbClick:"breadcrumb:click",onBreadcrumbDblClick:"breadcrumb:dblclick",onBreadcrumbMousemove:"breadcrumb:mousemove",onBreadcrumbMousedown:"breadcrumb:mousedown",onBreadcrumbMouseup:"breadcrumb:mouseup",onBreadcrumbMouseenter:"breadcrumb:mouseenter",onBreadcrumbMouseleave:"breadcrumb:mouseleave",onBreadcrumbContextmenu:"breadcrumb:contextmenu"},e.LAYER_EVENT_MAP={onLayerClick:"click",onLayerDblClick:"dblclick",onLayerMousemove:"mousemove",onLayerMousedown:"mousedown",onLayerMouseup:"mouseup",onLayerMouseenter:"mouseenter",onLayerMouseleave:"mouseleave",onLayerContextmenu:"contextmenu"},e.onEvent=function(t,e,i){t.view.on(e,i)}},function(t,e,i){"use strict";i.r(e),i.d(e,"Category",function(){return h}),i.d(e,"Identity",function(){return ht}),i.d(e,"Linear",function(){return E}),i.d(e,"Log",function(){return Q}),i.d(e,"Pow",function(){return $}),i.d(e,"Time",function(){return K}),i.d(e,"TimeCat",function(){return I}),i.d(e,"Quantile",function(){return tt}),i.d(e,"Quantize",function(){return J}),i.d(e,"Scale",function(){return u}),i.d(e,"getScale",function(){return lt}),i.d(e,"registerScale",function(){return ut}),i.d(e,"getTickMethod",function(){return o});var n={};i.r(n),i.d(n,"default",function(){return k});var ot=i(0),r={};function o(t){return r[t]}function a(t,e){r[t]=e}function s(){}var l,u=(y.prototype.translate=function(t){return t},y.prototype.change=function(t){Object(ot.assign)(this.__cfg__,t),this.init()},y.prototype.clone=function(){return this.constructor(this.__cfg__)},y.prototype.getTicks=function(){var i=this;return Object(ot.map)(this.ticks,function(t,e){return Object(ot.isObject)(t)?t:{text:i.getText(t,e),tickValue:t,value:i.scale(t)}})},y.prototype.getText=function(t,e){var i=this.formatter,n=i?i(t,e):t;return Object(ot.isNil)(n)||!Object(ot.isFunction)(n.toString)?"":n.toString()},y.prototype.getConfig=function(t){return this.__cfg__[t]},y.prototype.init=function(){Object(ot.assign)(this,this.__cfg__),this.setDomain(),Object(ot.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},y.prototype.initCfg=function(){},y.prototype.setDomain=function(){},y.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(ot.isString)(t)){var i=o(t);if(!i)throw new Error("There is no method to to calculate ticks!");e=i(this)}else Object(ot.isFunction)(t)&&(e=t(this));return e},y.prototype.rangeMin=function(){return Object(ot.head)(this.range)},y.prototype.rangeMax=function(){return Object(ot.last)(this.range)},y.prototype.calcPercent=function(t,e,i){return Object(ot.isNumber)(t)?(t-e)/(i-e):NaN},y.prototype.calcValue=function(t,e,i){return e+t*(i-e)},y),c=i(1),h=(l=u,Object(c.__extends)(v,l),v.prototype.translate=function(t){var e=Object(ot.indexOf)(this.values,t);return-1===e?Object(ot.isNumber)(t)?t:NaN:e},v.prototype.scale=function(t){var e=this.translate(t),i=this.calcPercent(e,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},v.prototype.invert=function(t){var e=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),n=Math.round(e*i)+this.min;return n<this.min||n>this.max?NaN:this.values[n]},v.prototype.getText=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=t;return Object(ot.isNumber)(t)&&!this.values.includes(t)&&(n=this.values[n]),l.prototype.getText.apply(this,Object(c.__spreadArrays)([n],e))},v.prototype.initCfg=function(){this.tickMethod="cat"},v.prototype.setDomain=function(){if(Object(ot.isNil)(this.getConfig("min"))&&(this.min=0),Object(ot.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=1<t?t-1:t}},v),p={},f=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,d="[^\\s]+",g=/\[([^]*?)\]/gm;function v(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}function y(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}function m(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i.push(t[n].substr(0,e));return i}function x(r){return function(t,e,i){var n=i[r].indexOf(e.charAt(0).toUpperCase()+e.substr(1).toLowerCase());~n&&(t.month=n)}}function b(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var _=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],M=["January","February","March","April","May","June","July","August","September","October","November","December"],w=m(M,3),S=m(_,3);p.i18n={dayNamesShort:S,dayNames:_,monthNamesShort:w,monthNames:M,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10)*t%10]}};var C={D:function(t){return t.getDate()},DD:function(t){return b(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return b(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return b(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return b(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return b(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return b(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return b(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return b(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return b(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return b(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return b(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(0<e?"-":"+")+b(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},O={D:["\\d\\d?",function(t,e){t.day=e}],Do:["\\d\\d?"+d,function(t,e){t.day=parseInt(e,10)}],M:["\\d\\d?",function(t,e){t.month=e-1}],YY:["\\d\\d?",function(t,e){var i=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(68<e?i-1:i)+e}],h:["\\d\\d?",function(t,e){t.hour=e}],m:["\\d\\d?",function(t,e){t.minute=e}],s:["\\d\\d?",function(t,e){t.second=e}],YYYY:["\\d{4}",function(t,e){t.year=e}],S:["\\d",function(t,e){t.millisecond=100*e}],SS:["\\d{2}",function(t,e){t.millisecond=10*e}],SSS:["\\d{3}",function(t,e){t.millisecond=e}],d:["\\d\\d?",s],ddd:[d,s],MMM:[d,x("monthNamesShort")],MMMM:[d,x("monthNames")],a:[d,function(t,e,i){var n=e.toLowerCase();n===i.amPm[0]?t.isPm=!1:n===i.amPm[1]&&(t.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(t,e){var i,n=(e+"").match(/([+-]|\d\d)/gi);n&&(i=60*n[1]+parseInt(n[2],10),t.timezoneOffset="+"===n[0]?i:-i)}]};O.dd=O.d,O.dddd=O.ddd,O.DD=O.D,O.mm=O.m,O.hh=O.H=O.HH=O.h,O.MM=O.M,O.ss=O.s,O.A=O.a,p.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},p.format=function(e,t,i){var n=i||p.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=p.masks[t]||t||p.masks.default;var r=[];return(t=(t=t.replace(g,function(t,e){return r.push(e),"@@@"})).replace(f,function(t){return t in C?C[t](e,n):t.slice(1,t.length-1)})).replace(/@@@/g,function(){return r.shift()})},p.parse=function(t,e,i){var n=i||p.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=p.masks[e]||e,1e3<t.length)return null;var r={},o=[],a=[],s=(e=e.replace(g,function(t,e){return a.push(e),"@@@"})).replace(/[|\\{()[^$+*?.-]/g,"\\$&").replace(f,function(t){if(O[t]){var e=O[t];return o.push(e[1]),"("+e[0]+")"}return t});s=s.replace(/@@@/g,function(){return a.shift()});var l=t.match(new RegExp(s,"i"));if(!l)return null;for(var u=1;u<l.length;u++)o[u-1](r,l[u],n);var c=new Date;return!0===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12==+r.hour&&(r.hour=0),null!=r.timezoneOffset?(r.minute=(r.minute||0)-r.timezoneOffset,new Date(Date.UTC(r.year||c.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):new Date(r.year||c.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0)};var k=p;function P(t,e){return(n.format||k.format)(t,e)}function A(t){return Object(ot.isString)(t)&&(t=0<t.indexOf("T")?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(ot.isDate)(t)&&(t=t.getTime()),t}var z=864e5,Y=31*z,L=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",36e5],["HH",216e5],["HH",432e5],["YYYY-MM-DD",z],["YYYY-MM-DD",4*z],["YYYY-WW",7*z],["YYYY-MM",Y],["YYYY-MM",4*Y],["YYYY-MM",6*Y],["YYYY",32832e6]];var T,D,j,I=(j=h,Object(c.__extends)(N,j),N.prototype.translate=function(t){t=A(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(ot.isNumber)(t)&&t<this.values.length?t:NaN),e},N.prototype.getText=function(t,e){var i=this.translate(t);if(-1<i){var n=this.values[i],r=this.formatter;return r?r(n,e):P(n,this.mask)}return t},N.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},N.prototype.setDomain=function(){var i=this.values;Object(ot.each)(i,function(t,e){i[e]=A(t)}),i.sort(function(t,e){return t-e}),j.prototype.setDomain.call(this)},N),B=(D=u,Object(c.__extends)(R,D),R.prototype.scale=function(t){if(Object(ot.isNil)(t))return NaN;var e=this.rangeMin(),i=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(i-e)},R.prototype.init=function(){D.prototype.init.call(this);var t=this.ticks,e=Object(ot.head)(t),i=Object(ot.last)(t);e<this.min&&(this.min=e),i>this.max&&(this.max=i),Object(ot.isNil)(this.minLimit)||(this.min=e),Object(ot.isNil)(this.maxLimit)||(this.max=i)},R.prototype.setDomain=function(){var t=Object(ot.getRange)(this.values),e=t.min,i=t.max;Object(ot.isNil)(this.min)&&(this.min=e),Object(ot.isNil)(this.max)&&(this.max=i),this.min>this.max&&(this.min=e,this.max=i)},R.prototype.calculateTicks=function(){var e=this,t=D.prototype.calculateTicks.call(this);return this.nice||(t=Object(ot.filter)(t,function(t){return t>=e.min&&t<=e.max})),t},R.prototype.getScalePercent=function(t){var e=this.max,i=this.min;return(t-i)/(e-i)},R.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},R),E=(T=B,Object(c.__extends)(F,T),F.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},F.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},F);function F(){var t=null!==T&&T.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}function R(){var t=null!==D&&D.apply(this,arguments)||this;return t.isContinuous=!0,t}function N(){return null!==j&&j.apply(this,arguments)||this}function H(t,e){var i=Math.E;return 0<=e?Math.pow(i,Math.log(e)/t):-1*Math.pow(i,Math.log(-e)/t)}function G(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function W(t,e,i){Object(ot.isNil)(i)&&(i=Math.max.apply(null,t));var n=i;return Object(ot.each)(t,function(t){0<t&&t<n&&(n=t)}),n===i&&(n=i/e),1<n&&(n=1),n}var X,V,q,U,Z,Q=(Z=B,Object(c.__extends)(st,Z),st.prototype.invert=function(t){var e,i=this.base,n=G(i,this.max),r=this.rangeMin(),o=this.rangeMax()-r,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(n-(e=G(i,a/i)))*o;if(t<s)return t/s*a}else e=G(i,this.min);var l=(t-r)/o*(n-e)+e;return Math.pow(i,l)},st.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},st.prototype.setDomain=function(){Z.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=W(this.values,this.base,this.max))},st.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;if(t<=0)return 0;var n=this.base,r=this.positiveMin;return r&&(i=r/n),t<r?t/r/(G(n,e)-G(n,i)):(G(n,t)-G(n,i))/(G(n,e)-G(n,i))},st),$=(U=B,Object(c.__extends)(at,U),at.prototype.invert=function(t){var e=this.getInvertPercent(t),i=this.exponent,n=H(i,this.max),r=H(i,this.min),o=e*(n-r)+r,a=0<=o?1:-1;return Math.pow(o,i)*a},at.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},at.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;var n=this.exponent;return(H(n,t)-H(n,i))/(H(n,e)-H(n,i))},at),K=(q=E,Object(c.__extends)(rt,q),rt.prototype.getText=function(t,e){var i=this.translate(t),n=this.formatter;return n?n(i,e):P(i,this.mask)},rt.prototype.scale=function(t){var e=t;return(Object(ot.isString)(e)||Object(ot.isDate)(e))&&(e=this.translate(e)),q.prototype.scale.call(this,e)},rt.prototype.translate=function(t){return A(t)},rt.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},rt.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),i=this.getConfig("max");if(Object(ot.isNil)(e)&&Object(ot.isNumber)(e)||(this.min=this.translate(this.min)),Object(ot.isNil)(i)&&Object(ot.isNumber)(i)||(this.max=this.translate(this.max)),t&&t.length){var n=[],r=1/0,o=r,a=0;Object(ot.each)(t,function(t){var e=A(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");e<r?(o=r,r=e):e<o&&(o=e),a<e&&(a=e),n.push(e)}),1<t.length&&(this.minTickInterval=o-r),Object(ot.isNil)(e)&&(this.min=r),Object(ot.isNil)(i)&&(this.max=a)}},rt),J=(V=B,Object(c.__extends)(nt,V),nt.prototype.invert=function(t){var e=this.ticks,i=e.length,n=this.getInvertPercent(t),r=Math.floor(n*(i-1));if(i-1<=r)return Object(ot.last)(e);if(r<0)return Object(ot.head)(e);var o=e[r],a=r/(i-1);return o+(n-a)/((r+1)/(i-1)-a)*(e[r+1]-o)},nt.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},nt.prototype.calculateTicks=function(){var t=V.prototype.calculateTicks.call(this);return this.nice||(Object(ot.last)(t)!==this.max&&t.push(this.max),Object(ot.head)(t)!==this.min&&t.unshift(this.min)),t},nt.prototype.getScalePercent=function(i){var t=this.ticks;if(i<Object(ot.head)(t))return 0;if(i>Object(ot.last)(t))return 1;var n=0;return Object(ot.each)(t,function(t,e){if(!(t<=i))return!1;n=e}),n/(t.length-1)},nt),tt=(X=J,Object(c.__extends)(it,X),it.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},it),et={};function it(){var t=null!==X&&X.apply(this,arguments)||this;return t.type="quantile",t}function nt(){var t=null!==V&&V.apply(this,arguments)||this;return t.type="quantize",t}function rt(){var t=null!==q&&q.apply(this,arguments)||this;return t.type="time",t}function at(){var t=null!==U&&U.apply(this,arguments)||this;return t.type="pow",t}function st(){var t=null!==Z&&Z.apply(this,arguments)||this;return t.type="log",t}function lt(t){return et[t]}function ut(t,e){if(lt(t))throw new Error("type '"+t+"' existed.");et[t]=e}var ct,ht=(ct=u,Object(c.__extends)(dt,ct),dt.prototype.calculateTicks=function(){return this.values},dt.prototype.scale=function(t){return this.values[0]!==t&&Object(ot.isNumber)(t)?t:this.range[0]},dt.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},dt),pt=[1,5,2,2.5,4,3],ft=100*Number.EPSILON;function dt(){var t=null!==ct&&ct.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}function gt(t,e,i){var n=e-t;if(n<i){var r=(i-n)/2;return 1-Math.pow(r,2)/Math.pow(.1*n,2)}return 1}function vt(t,e,i,n,r,o){if(void 0===i&&(i=5),void 0===n&&(n=!0),void 0===r&&(r=pt),void 0===o&&(o=[.25,.2,.5,.05]),t===e||1===i)return{min:t,max:e,ticks:[t]};for(var a={score:-2,lmin:0,lmax:0,lstep:0},s=1;s<1/0;){for(var l=0,u=r;l<u.length;l++){var c=u[l],h=($=c,K=r,J=s,tt=Object(ot.size)(K),1-Object(ot.indexOf)(K,$)/(tt-1)-J+1);if(Number.isNaN(h))throw new Error("NaN");if(o[0]*h+o[1]+o[2]+o[3]<a.score){s=1/0;break}for(var p=2;p<1/0;){var f=(Q=i)<=(Z=p)?2-(Z-1)/(Q-1):1;if(o[0]*h+o[1]+o[2]*f+o[3]<a.score)break;for(var d=(e-t)/(p+1)/s/c,g=Math.ceil(Math.log10(d));g<1/0;){var v=s*c*Math.pow(10,g),y=gt(t,e,v*(p-1));if(o[0]*h+o[1]*y+o[2]*f+o[3]<a.score)break;var m=Math.floor(e/v)*s-(p-1)*s,x=Math.ceil(t/v)*s;if(x<m)g+=1;else{for(var b=m;b<=x;b+=1){var _=b*(v/s),M=_+v*(p-1),w=v,S=(N=c,z=r,Y=s,H=_,G=M,W=w,q=void 0,X=Object(ot.size)(z),V=Object(ot.indexOf)(z,N),q=0,((U=(H%W+W)%W)<ft||W-U<ft)&&H<=0&&0<=G&&(q=1),1-V/(X-1)-Y+q),C=(E=_,F=M,R=(B=e)-(I=t),1-.5*(Math.pow(B-F,2)+Math.pow(I-E,2))/Math.pow(.1*R,2)),O=(P=t,A=e,0,D=(p-1)/((T=M)-(L=_)),j=(i-1)/(Math.max(T,A)-Math.min(P,L)),2-Math.max(D/j,j/D)),k=o[0]*S+o[1]*C+o[2]*O+ +o[3];k>a.score&&(!n||_<=t&&e<=M)&&(a.lmin=_,a.lmax=M,a.lstep=w,a.score=k)}g+=1}}p+=1}}s+=1}for(var P,A,L,T,D,j,I,B,E,F,R,N,z,Y,H,G,W,X,V,q,U,Z,Q,$,K,J,tt,et=Number.isInteger(a.lstep)?0:Math.ceil(Math.abs(Math.log10(a.lstep))),it=[],nt=a.lmin;nt<=a.lmax;nt+=a.lstep)it.push(nt);var rt=et?Object(ot.map)(it,function(t){return Number.parseFloat(t.toFixed(et))}):it;return{min:Math.min(t,Object(ot.head)(rt)),max:Math.max(e,Object(ot.last)(rt)),ticks:rt}}function yt(t){var e=t.values,i=t.tickInterval,n=t.tickCount,r=e;if(Object(ot.isNumber)(i))return Object(ot.filter)(r,function(t,e){return e%i==0});var o=t.min,a=t.max;if(Object(ot.isNil)(o)&&(o=0),Object(ot.isNil)(a)&&(a=e.length-1),Object(ot.isNumber)(n)&&n<a-o){var s=vt(o,a,n,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(ot.filter)(s,function(t){return o<=t&&t<=a}).map(function(t){return e[t]})}return e.slice(o,a+1)}var mt=Math.sqrt(50),xt=Math.sqrt(10),bt=Math.sqrt(2),_t=(Mt.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},Mt.prototype.nice=function(t){var e,i;void 0===t&&(t=5);var n,r=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],l=this._domain[a];return l<s&&(s=(e=[l,s])[0],l=e[1],o=(i=[a,o])[0],a=i[1]),0<(n=wt(s,l,t))?n=wt(s=Math.floor(s/n)*n,l=Math.ceil(l/n)*n,t):n<0&&(n=wt(s=Math.ceil(s*n)/n,l=Math.floor(l*n)/n,t)),0<n?(r[o]=Math.floor(s/n)*n,r[a]=Math.ceil(l/n)*n,this.domain(r)):n<0&&(r[o]=Math.ceil(s*n)/n,r[a]=Math.floor(l*n)/n,this.domain(r)),this},Mt.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,i){var n,r,o,a,s=-1;if(i=+i,(t=+t)==(e=+e)&&0<i)return[t];if((n=e<t)&&(r=t,t=e,e=r),0===(a=wt(t,e,i))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return n&&o.reverse(),o}(this._domain[0],this._domain[this._domain.length-1],t||5)},Mt);function Mt(){this._domain=[0,1]}function wt(t,e,i){var n=(e-t)/Math.max(0,i),r=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,r);return 0<=r?(mt<=o?10:xt<=o?5:bt<=o?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(mt<=o?10:xt<=o?5:bt<=o?2:1)}function St(t,e,i){return("ceil"===i?Math.ceil(t/e):"floor"===i?Math.floor(t/e):Math.round(t/e))*e}function Ct(t,e,i){var n=St(t,i,"floor"),r=St(e,i,"ceil");n=Object(ot.fixedBase)(n,i),r=Object(ot.fixedBase)(r,i);for(var o=[],a=n;a<=r;a+=i){var s=Object(ot.fixedBase)(a,i);o.push(s)}return{min:n,max:r,ticks:o}}function Ot(t,e,i){var n,r=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,l=t.tickCount,u=void 0===l?5:l,c=Object(ot.isNil)(r)?Object(ot.isNil)(e)?a:e:r,h=Object(ot.isNil)(o)?Object(ot.isNil)(i)?s:i:o;if(h<c&&(h=(n=[c,h])[0],c=n[1]),u<=2)return[c,h];for(var p=(h-c)/(u-1),f=[],d=0;d<u;d++)f.push(c+p*d);return f}function kt(t,e,i){void 0===i&&(i=5);var n={max:0,min:0,ticks:[]},r=(e-t)/i,o=Math.pow(10,Math.floor(Math.log10(r))),a=o<1?Math.ceil(Math.abs(Math.log10(o))):0,s=o;2*o-r<1.5*(r-s)&&5*o-r<2.75*(r-(s=2*o))&&10*o-r<1.5*(r-(s=5*o))&&(s=10*o);var l=Math.ceil(e/s),u=Math.floor(t/s);n.max=Math.max(l*s,e),n.min=Math.min(u*s,t);for(var c=Number.parseFloat((u*s).toFixed(a));c<e;)n.ticks.push(c),c+=s,a&&(c=Number.parseFloat(c.toFixed(a)));return n.ticks.push(c),n}function Pt(t){return new Date(t).getFullYear()}function At(t){return new Date(t).getMonth()}a("cat",yt),a("time-cat",function(t){var e=yt(t),i=Object(ot.last)(t.values);return i!==Object(ot.last)(e)&&e.push(i),e}),a("wilkinson-extended",function(t){var e=t.min,i=t.max,n=t.tickCount,r=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,l=vt(e,i,n,r).ticks;return Object(ot.isNil)(a)&&Object(ot.isNil)(s)?o?Ct(e,i,o).ticks:l:Ot(t,Object(ot.head)(l),Object(ot.last)(l))}),a("r-pretty",function(t){var e=t.min,i=t.max,n=t.tickCount,r=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=kt(e,i,n).ticks;return Object(ot.isNil)(o)&&Object(ot.isNil)(a)?r?Ct(e,i,r).ticks:s:Ot(t,Object(ot.head)(s),Object(ot.last)(s))}),a("time",function(t){var s,e,i,n=t.min,r=t.max,o=t.minTickInterval,a=t.tickInterval,l=t.tickCount;if(a)l=Math.ceil((r-n)/a);else{var u=(r-n)/(s=function(t){return t[1]},e=function(t,e,i,n){for(var r=Object(ot.isNil)(i)?0:i,o=Object(ot.isNil)(n)?t.length:n;r<o;){var a=r+o>>>1;s(t[a])>e?o=a:r=1+a}return r}(L,(r-n)/l)-1,i=L[e],e<0?i=L[0]:L.length<=e&&(i=Object(ot.last)(L)),a=i[1])/l;1<u&&(a*=Math.ceil(u)),o&&a<o&&(a=o)}for(var c=[],h=n;h<r+a;h+=a)c.push(h);return c}),a("time-pretty",function(t){var e=t.min,i=t.max,n=t.minTickInterval,r=t.tickInterval,o=t.tickCount,a=[];r||(r=(i-e)/o,n&&r<n&&(r=n));var s,l,u,c,h,p,f,d,g,v,y,m=Pt(e);if(31536e6<r)for(var x=Pt(i),b=Math.ceil(r/31536e6),_=m;_<=x+b;_+=b)a.push(new Date(_,0,1).getTime());else if(Y<r){var M=Math.ceil(r/Y),w=At(e),S=(d=i,g=Pt(f=e),v=Pt(d),y=At(f),12*(v-g)+(At(d)-y)%12);for(_=0;_<=S+M;_+=M)a.push(new Date(m,_+w,1).getTime())}else if(z<r){var C=(L=new Date(e)).getFullYear(),O=L.getMonth(),k=L.getDate(),P=Math.ceil(r/z),A=(h=e,p=i,Math.ceil((p-h)/z));for(_=0;_<A+P;_+=P)a.push(new Date(C,O,k+_).getTime())}else if(36e5<r){C=(L=new Date(e)).getFullYear(),O=L.getMonth(),P=L.getDate();var L,T=L.getHours(),D=Math.ceil(r/36e5),j=(u=e,c=i,Math.ceil((c-u)/36e5));for(_=0;_<=j+D;_+=D)a.push(new Date(C,O,P,T+_).getTime())}else if(6e4<r){var I=(s=e,l=i,Math.ceil((l-s)/6e4)),B=Math.ceil(r/6e4);for(_=0;_<=I+B;_+=B)a.push(e+6e4*_)}else{var E=r;E<1e3&&(E=1e3);var F=1e3*Math.floor(e/1e3),R=Math.ceil((i-e)/1e3),N=Math.ceil(E/1e3);for(_=0;_<R+N;_+=N)a.push(F+1e3*_)}return a}),a("log",function(t){var e,i=t.base,n=t.tickCount,r=t.min,o=t.max,a=t.values,s=G(i,o);if(0<r)e=Math.floor(G(i,r));else{var l=W(a,i,o);e=Math.floor(G(i,l))}for(var u=s-e,c=Math.ceil(u/n),h=[],p=e;p<s+c;p+=c)h.push(Math.pow(i,p));return r<=0&&h.unshift(0),h}),a("pow",function(t){var i=t.exponent,e=t.tickCount,n=Math.ceil(H(i,t.max));return kt(Math.floor(H(i,t.min)),n,e).ticks.map(function(t){var e=0<=t?1:-1;return Math.pow(t,i)*e})}),a("quantile",function(t){var e,i,n,r=t.tickCount,o=t.values;if(!o||!o.length)return[];for(var a=o.slice().sort(function(t,e){return t-e}),s=[],l=0;l<r;l++){var u=l/(r-1);s.push((i=u,n=(e=a).length*i,1===i?e[e.length-1]:0===i?e[0]:n%1!=0?e[Math.ceil(n)-1]:e.length%2==0?(e[n-1]+e[n])/2:e[n]))}return s}),a("d3-linear",function(t){var e,i,n,r,o,a=t.min,s=t.max,l=t.tickInterval,u=t.minLimit,c=t.maxLimit,h=(e=t.min,i=t.max,n=t.nice,r=t.tickCount,(o=new _t).domain([e,i]),n&&o.nice(r),o.ticks(r));return Object(ot.isNil)(u)&&Object(ot.isNil)(c)?l?Ct(a,s,l).ticks:h:Ot(t,Object(ot.head)(h),Object(ot.last)(h))}),ut("cat",h),ut("category",h),ut("identity",ht),ut("linear",E),ut("log",Q),ut("pow",$),ut("time",K),ut("timeCat",I),ut("quantize",J),ut("quantile",tt)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(142)),o=n.__importDefault(i(144)),a=n.__importDefault(i(146)),s=n.__importDefault(i(148)),l={area:r.default,line:a.default,point:s.default,interval:o.default};e.getGeom=function(t,e,i){return new l[t][e](i).config}},function(t,e,i){"use strict";i.r(e),i.d(e,"Axis",function(){return r}),i.d(e,"Guide",function(){return c}),i.d(e,"Interface",function(){return l}),i.d(e,"Label",function(){return C}),i.d(e,"Tooltip",function(){return n}),i.d(e,"Legend",function(){return o}),i.d(e,"Annotation",function(){return a});var n={};i.r(n),i.d(n,"Base",function(){return O}),i.d(n,"Html",function(){return Q}),i.d(n,"Canvas",function(){return J});var r={};i.r(r),i.d(r,"Base",function(){return et}),i.d(r,"Circle",function(){return it}),i.d(r,"Helix",function(){return rt}),i.d(r,"Line",function(){return at});var o={};i.r(o),i.d(o,"Legend",function(){return st}),i.d(o,"Size",function(){return gt}),i.d(o,"Color",function(){return yt}),i.d(o,"CanvasCategory",function(){return Mt}),i.d(o,"HtmlCategory",function(){return ee});var a={};i.r(a),i.d(a,"Annotation",function(){return ie}),i.d(a,"Line",function(){return ne}),i.d(a,"Text",function(){return re}),i.d(a,"Arc",function(){return oe}),i.d(a,"Region",function(){return ae}),i.d(a,"Image",function(){return se}),i.d(a,"Html",function(){return le}),i.d(a,"DataMarker",function(){return ue}),i.d(a,"DataRegion",function(){return ce});var s,l=i(60),f=i(1),u=i(22),c=(s=i.n(u).a,Object(f.__extends)(d,s),d.prototype.get=function(t){return this.cfg[t]},d.prototype.set=function(t,e){return this.cfg[t]=e,this},d.prototype.destroy=function(){this.off(),this.destroyed=!0},d),_=i(3),M=i(0),h=(p.prototype.hasGap=function(t){for(var e=!0,i=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),o=Math.round(t.minY),a=Math.round(t.maxY),s=n;s<=r;s+=1)if(i[s]){if(s===n||s===r){for(var l=o;l<=a;l++)if(i[s][l]){e=!1;break}}else if(i[s][o]||i[s][a]){e=!1;break}}else i[s]={};return e},p.prototype.fillGap=function(t){for(var e=this.bitmap,i=Math.round(t.minX),n=Math.round(t.maxX),r=Math.round(t.minY),o=Math.round(t.maxY),a=i;a<=n;a+=1)e[a]||(e[a]={});for(a=i;a<=n;a+=this.xGap){for(var s=r;s<=o;s+=this.yGap)e[a][s]=!0;e[a][o]=!0}if(1!==this.yGap)for(a=r;a<=o;a+=1)e[i][a]=!0,e[n][a]=!0;if(1!==this.xGap)for(a=i;a<=n;a+=1)e[a][r]=!0,e[a][o]=!0},p.prototype.destroy=function(){this.bitmap={}},p);function p(t){this.bitmap={},this.xGap=1,this.yGap=8,t&&M.mix(this,t)}function d(t){var e=s.call(this)||this;return e.cfg=Object(f.__assign)({id:null,canvas:null,container:null,group:null,capture:!0,offsetX:0,offsetY:0,visible:!0,zIndex:1},t),e.destroyed=!1,e}function g(t,e,i,n){var r=t.getBBox(),o=r.width,a=r.height,s={x:e,y:i,textAlign:"center"};switch(n){case 0:s.y-=a+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=a+1,--s.x,s.textAlign="right";break;case 2:s.y+=a+1,--s.x,s.textAlign="right";break;case 3:s.y+=a+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*a+2;break;case 6:s.y+=2*a+2;break;case 7:s.x+=o+1,s.textAlign="left";break;case 8:s.x-=o+1,s.textAlign="right"}return t.attr(s),t.getBBox()}function v(t,e,i){void 0===i&&(i=100);var n,r,o,a=t.attr("x"),s=t.attr("y"),l=t.getBBox(),u=Math.sqrt(l.width*l.width+l.height*l.height),c=1,h=0,p=0;if(e.hasGap(l))return e.fillGap(l),1;for(var f=!1,d=0,g={};Math.min(Math.abs(h),Math.abs(p))<u&&d<i;)if(r=c+=-1,h=~~(n=[(o=.1*r)*Math.cos(o),o*Math.sin(o)])[0],p=~~n[1],(h||p)&&!g[h+"-"+p]&&(t.attr({x:a+h,y:s+p}),h+p<0&&t.attr("textAlign","right"),d++,e.hasGap(t.getBBox()))){e.fillGap(t.getBBox()),f=!0,g[h+"-"+p]=!0;break}return f}var y,m,x,b,w={scatter:function(t){for(var e,i,n,r,o,a=new h,s=[],l=0;l<t.length;l++){n=(i=t[l]).attr("x"),r=i.attr("y"),o=!1;for(var u=0;u<=8;u++)if(e=g(i,n,r,u),a.hasGap(e)){a.fillGap(e),o=!0;break}o||s.push(i)}for(l=0;l<s.length;l++)s[l].remove()},map:function(t,e){var i;void 0===e&&(e=100);for(var n=new h,r=[],o=0;o<t.length;o++)v(i=t[o],n,e)||r.push(i);for(o=0;o<r.length;o++)r[o].remove()},treemap:function(t,e){for(var i,n,r=[],o=0;o<t.length;o++)i=t[o].getBBox(),n=e[o].getBBox(),(i.width>n.width||i.height>n.height)&&r.push(t[o]);for(o=0;o<r.length;o++)r[o].remove()}},S=(b=c,Object(f.__extends)(D,b),D.prototype.render=function(){this.clear(),this._init(),this.emit("beforerender"),this.draw(),this.emit("afterrender")},D.prototype.draw=function(t){void 0===t&&(t=!0),this._dryDraw(),t&&this.get("canvas").draw()},D.prototype.clear=function(){var t=this.get("group"),e=this.get("container");t&&!t.destroyed&&t.clear(),e&&(e.innerHTML="")},D.prototype.destroy=function(){b.prototype.destroy.call(this);var t=this.get("group"),e=this.get("container");t&&!t.destroyed&&t.destroy(),e&&(e.innerHTML="")},D.prototype.changeLabel=function(t,e){if(t)if(t.tagName){var i=this._createDom(e);t.innerHTML=i.innerHTML,this._setCustomPosition(e,t)}else t.id=e.id,t.attr("text",e.text),t.attr("x")===e.x&&t.attr("y")===e.y||(t.resetMatrix(),e.textStyle.rotate&&(t.rotateAtStart(e.textStyle.rotate),delete e.textStyle.rotate),t.attr(e))},D.prototype.show=function(){var t=this.get("group"),e=this.get("container");t&&t.show(),e&&(e.style.opacity=1)},D.prototype.hide=function(){var t=this.get("group"),e=this.get("container");t&&t.hide(),e&&(e.style.opacity=0)},D.prototype.drawLines=function(){var e=this,i=this.get("lineGroup");!i||i.destroyed?(i=this.get("group").addGroup(),this.set("lineGroup",i)):i.clear(),M.each(this.get("items"),function(t){e._lineToLabel(t,i)})},D.prototype._lineToLabel=function(t,e){if(t.labelLine){var i=M.isBoolean(t.labelLine)?{}:t.labelLine,n=void 0===t.capture?this.get("capture"):t.capture,r=i.path;if(r&&M.isFunction(i.path)&&(r=i.path(t)),!r){var o=t.start;r=[["M",o.x,o.y],["L",t.x,t.y]]}var a=t.color;a=a||(t.textStyle&&t.textStyle.fill?t.textStyle.fill:"#000");var s=e.addShape("path",{capture:n,attrs:M.mix({path:r,stroke:a,fill:null},i)});s.name=this.get("name"),s.id=t.id&&t.id.replace("glabel","glabelline"),s.set("coord",this.get("coord"))}},D.prototype._adjustLabels=function(){var t=this.get("type"),e=this.getLabels(),i=this.get("shapes"),n=w[t];n&&n(e,i)},D.prototype.getLabels=function(){var t=this.get("container");if(t)return M.toArray(t.childNodes);var e=this.get("group").get("children");return M.filter(e,function(t){return t.isShape})},D.prototype._createText=function(t){var e,i=t,n=this.get("container"),r=void 0===i.capture?this.get("capture"):i.capture;if(!i.useHtml&&!i.htmlTemplate){var o=this.get("name"),a=i.origin,s=this.get("group");delete i.origin;var l=i.rotate;return i.textStyle&&(i.textStyle.rotate&&(l=i.textStyle.rotate,delete i.textStyle.rotate),i=M.mix({x:i.x,y:i.y,textAlign:i.textAlign,text:i.text},i.textStyle)),e=s.addShape("text",{capture:r,attrs:i}),l&&(Math.abs(l)>2*Math.PI&&(l=l/180*Math.PI),e.transform([["t",-i.x,-i.y],["r",l],["t",i.x,i.y]])),e.setSilent("origin",a||i),e.name=o,this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),e}n=n||this._initHtmlContainer();var u=this._createDom(i);n.appendChild(u),this._setCustomPosition(i,u)},D.prototype._initHtmlContainer=function(){var t=this.get("container");if(!t){var e=this.get("containerTpl"),i=this.get("canvas").get("el").parentNode;t=_.createDom(e),i.style.position="relative",i.appendChild(t),this.set("container",t)}return t},D.prototype._createDom=function(t){var e=this.get("itemTpl"),i=M.substitute(e,{text:t.text});return _.createDom(i)},D.prototype._setCustomPosition=function(t,e){var i=t.textAlign||"left",n=t.y,r=t.x,o=_.getOuterWidth(e);n-=_.getOuterHeight(e)/2,"center"===i?r-=o/2:"right"===i&&(r-=o),e.style.top=parseInt(n,10)+"px",e.style.left=parseInt(r,10)+"px"},D.prototype._init=function(){if(!this.get("group")){var t=this.get("canvas").addGroup({id:"label-group"});this.set("group",t)}},D.prototype._dryDraw=function(){var r=this,t=this.get("items"),o=this.getLabels(),a=o.length;M.each(t,function(t,e){if(e<a){var i=o[e];r.changeLabel(i,t)}else{var n=r._createText(t);n&&(n.id=t.id,n.set("coord",t.coord))}});for(var e=a-1;e>=t.length;--e)o[e].remove();this._adjustLabels(),this.drawLines()},D),C=S,O=(x=c,Object(f.__extends)(T,x),T.prototype.isContentChange=function(t,e){var i=this.get("titleContent"),r=this.get("items"),o=!(t===i&&r.length===e.length);return o||M.each(e,function(e,t){var i=r[t],n=Object.keys(e);if(o=n.some(function(t){return!M.isObject(e[t])&&e[t]!==i[t]}))return!1}),o},T.prototype.setContent=function(t,e){return this.set("items",e),this.set("titleContent",t),this.render(),this},T.prototype.setPosition=function(t,e,i){this.set("x",t),this.set("y",e)},T.prototype.setMarkers=function(t,e){var i=this.get("markerGroup"),n=this.get("frontgroundGroup");i?i.clear():(i=n.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",i)),M.each(t,function(t){i.addShape("marker",{color:t.color,attrs:M.mix({fill:t.color,symbol:"circle",shadowColor:t.color},e,{x:t.x,y:t.y})})}),this.set("markerItems",t)},T.prototype.clearMarkers=function(){var t=this.get("markerGroup");t&&t.clear()},T.prototype.render=function(){},T.prototype.clear=function(){},T.prototype.show=function(){this.set("visible",!0)},T.prototype.hide=function(){this.set("visible",!1)},T),k=(m=c,Object(f.__extends)(L,m),L.prototype._init_=function(){var t=this.get("plot").addGroup();this.set("container",t)},L.prototype._addLineShape=function(t,e){var i=this.get("container").addShape("line",{attrs:t,capture:!1});return this.set("crossLineShape"+e,i),i},L.prototype._renderHorizontalLine=function(t,e){var i=M.mix(this.get("lineStyle"),this.get("style")),n=M.mix({x1:e?e.bl.x:t.get("width"),y1:0,x2:e?e.br.x:0,y2:0},i);this._addLineShape(n,"X")},L.prototype._renderVerticalLine=function(t,e){var i=M.mix(this.get("lineStyle"),this.get("style")),n=M.mix({x1:0,y1:e?e.bl.y:t.get("height"),x2:0,y2:e?e.tl.y:0},i);this._addLineShape(n,"Y")},L.prototype._renderBackground=function(t,e){var i=M.mix(this.get("rectStyle"),this.get("style")),n=this.get("container"),r=M.mix({x:e?e.tl.x:0,y:e?e.tl.y:t.get("height"),width:e?e.br.x-e.bl.x:t.get("width"),height:e?Math.abs(e.tl.y-e.bl.y):t.get("height")},i),o=n.addShape("rect",{attrs:r,capture:!1});return this.set("crosshairsRectShape",o),o},L.prototype._updateRectShape=function(t){var e,i=this.get("crosshairsRectShape"),n=this.get("isTransposed"),r=t[0],o=t[t.length-1],a=n?"y":"x",s=n?"height":"width",l=r[a];if(1<t.length&&r[a]>o[a]&&(l=o[a]),this.get("width"))i.attr(a,l-this.get("crosshairs").width/2),i.attr(s,this.get("width"));else if(M.isArray(r.point[a])&&!r.size){var u=r.point[a][1]-r.point[a][0];i.attr(a,r.point[a][0]),i.attr(s,u)}else e=3*r.size/4,i.attr(a,l-e),1===t.length?i.attr(s,3*r.size/2):i.attr(s,Math.abs(o[a]-r[a])+2*e)},L.prototype.render=function(){var t=this.get("canvas"),e=this.get("panelRange"),i=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(t,e);break;case"y":this._renderVerticalLine(t,e);break;case"cross":this._renderHorizontalLine(t,e),this._renderVerticalLine(t,e);break;case"rect":this._renderBackground(t,e);break;default:i?this._renderHorizontalLine(t,e):this._renderVerticalLine(t,e)}},L.prototype.show=function(){this.get("container").show()},L.prototype.hide=function(){this.get("container").hide()},L.prototype.clear=function(){var t=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),t.clear()},L.prototype.destroy=function(){var t=this.get("container");m.prototype.destroy.call(this),t.remove()},L.prototype.setPosition=function(t,e,i){var n=this.get("crossLineShapeX"),r=this.get("crossLineShapeY"),o=this.get("crosshairsRectShape");r&&!r.get("destroyed")&&r.move(t,0),n&&!n.get("destroyed")&&n.move(0,e),o&&!o.get("destroyed")&&this._updateRectShape(i)},L),P='"-apple-system", "BlinkMacSystemFont", "Segoe UI", Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", SimSun, "sans-serif"',A=((y={})["g2-tooltip"]={position:"absolute",display:"none",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:P,lineHeight:"20px",padding:"10px 10px 6px 10px"},y["g2-tooltip-title"]={marginBottom:"4px"},y["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},y["g2-tooltip-list-item"]={marginBottom:"4px"},y["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},y["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},y);function L(t){var e=m.call(this,Object(f.__assign)({type:null,plot:null,panelRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1},t))||this;return e._init_(),e.render(),e}function T(t){return x.call(this,Object(f.__assign)({x:0,y:0,items:null,titleContent:null,showTitle:!0,panelRange:null,inPanel:!0,crosshairs:null},t))||this}function D(t){return b.call(this,Object(f.__assign)({name:"label",type:"default",containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',items:null,lineGroup:null,shapes:null,useHtml:!1},t))||this}function j(t,e,i,n,r,o){var a=t,s=e,l=0,u=0,c=20;if(o){var h=o.getBBox();l=h.width,u=h.height,a=h.x,s=h.y,c=5}switch(i){case"inside":a=a+l/2-n/2,s=s+u/2-r/2;break;case"top":a=a+l/2-n/2,s=s-r-c;break;case"left":a=a-n-c,s=s+u/2-r/2;break;case"right":a=a+l+c,s=s+u/2-r/2;break;case"bottom":default:a=a+l/2-n/2,s=s+u+c}return[a,s]}function I(t,e,i,n,r,o){var a=t,s=e;return r<a+i+20?a=(a-=i+20)<0?0:a:a+20<0?a=20:a+=20,o<s+n+20?s=(s-=n+20)<0?0:s:s+20<0?s=20:s+=20,[a,s]}function B(t,e,i,n,r,o){var a=t,s=e;return a+i>r.tr.x&&(a-=i+40),a<r.tl.x&&(a=r.tl.x),o||(s+n>r.bl.y&&(s-=n+40),s<r.tl.y&&(s=r.tl.y)),[a,s]}function E(t,e){return t.getElementsByClassName(e)[0]}var F,R,N,z,Y,H,G,W,X,V,q,U,Z,Q=(Z=O,Object(f.__extends)(Ht,Z),Ht.prototype._init_=function(){var t,e=this.get("containerTpl"),i=this.get("canvas").get("el").parentNode;if(this.get("htmlContent"))t=this._getHtmlContent();else if(/^\#/.test(e)){var n=e.replace("#","");t=document.getElementById(n)}else t=_.createDom(e);this.set("container",t),_.modifyCSS(t,this.style["g2-tooltip"]),i.appendChild(t),i.style.position="relative"},Ht.prototype.render=function(){if(this.clear(),this.get("htmlContent")){var t=this.get("canvas").get("el").parentNode,e=this._getHtmlContent();t.appendChild(e),_.modifyCSS(e,this.style["g2-tooltip"]),this.set("container",e)}else this._renderTpl()},Ht.prototype._renderTpl=function(){var i=this,t=this.get("showTitle"),e=this.get("titleContent"),n=this.get("container"),r=E(n,"g2-tooltip-title"),o=E(n,"g2-tooltip-list"),a=this.get("items");r&&t&&(_.modifyCSS(r,this.style["g2-tooltip-title"]),r.innerHTML=e),o&&(_.modifyCSS(o,this.style["g2-tooltip-list"]),M.each(a,function(t,e){o.appendChild(i._addItem(t,e))}))},Ht.prototype.clear=function(){var t=this.get("container");if(t&&this.get("htmlContent"))t.remove();else{var e=E(t,"g2-tooltip-title"),i=E(t,"g2-tooltip-list");e&&(e.innerHTML=""),i&&(i.innerHTML="")}},Ht.prototype.show=function(){var t=this.get("container");t.style.visibility="visible",t.style.display="block";var e=this.get("crosshairGroup");e&&e.show();var i=this.get("markerGroup");i&&i.show(),Z.prototype.show.call(this),this.get("canvas").draw()},Ht.prototype.hide=function(){var t=this.get("container");t.style.visibility="hidden",t.style.display="none";var e=this.get("crosshairGroup");e&&e.hide();var i=this.get("markerGroup");i&&i.hide(),Z.prototype.hide.call(this),this.get("canvas").draw()},Ht.prototype.destroy=function(){var t=this.get("container"),e=this.get("containerTpl");t&&!/^\#/.test(e)&&t.parentNode.removeChild(t);var i=this.get("crosshairGroup");i&&i.destroy();var n=this.get("markerGroup");n&&n.remove(),Z.prototype.destroy.call(this)},Ht.prototype._addItem=function(t,e){var i=this.get("itemTpl"),n=M.substitute(i,M.mix({index:e},t)),r=_.createDom(n);_.modifyCSS(r,this.style["g2-tooltip-list-item"]);var o=E(r,"g2-tooltip-marker");o&&_.modifyCSS(o,this.style["g2-tooltip-marker"]);var a=E(r,"g2-tooltip-value");return a&&_.modifyCSS(a,this.style["g2-tooltip-value"]),r},Ht.prototype._getHtmlContent=function(){var t=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return M.isElement(t)?t:_.createDom(t)},Ht.prototype.setPosition=function(t,e,i){var n,r=t,o=e,a=this.get("container"),s=this.get("canvas").get("el"),l=_.getWidth(s),u=_.getHeight(s),c=a.clientWidth,h=a.clientHeight,p=r,f=o,d=this.get("prePosition")||{x:0,y:0};if(c||(a.style.display="block",c=a.clientWidth,h=a.clientHeight,a.style.display="none"),this.get("enterable")?(n=[r,o-=a.clientHeight/2],d&&0<r-d.x?r-=a.clientWidth+1:r+=1):(r=this.get("position")?(n=j(r,o,this.get("position"),c,h,i))[0]:(n=I(r,o,c,h,l,u))[0],o=n[1]),this.get("inPanel")){var g=this.get("panelRange"),v=this.get("panelGroup").attr("clip");r=(n=B(r,o,c,h,v?v.getBBox():g,this.get("enterable")))[0],o=n[1]}var y=this.get("markerItems");M.isEmpty(y)||(p=y[0].x,f=y[0].y),this.set("prePosition",n),this.get("follow")&&(a.style.left=r+"px",a.style.top=o+"px");var m=this.get("crosshairGroup");if(m){var x=this.get("items");m.setPosition(p,f,x)}Z.prototype.setPosition.call(this,r,o)},Ht),$=i(2),K=i(4),J=(U=O,Object(f.__extends)(Yt,U),Yt.prototype._init_=function(){var t=this.get("padding"),e=this.get("frontgroundGroup"),i=e.addGroup({capture:!1});this.set("markerGroup",i);var n=e.addGroup();n.hide(),this.set("container",n);var r=n.addShape("rect",{attrs:M.mix({},this.get("backgroundStyle"))});this.set("board",r);var o=this.get("titleStyle");if(this.get("showTitle")){var a=n.addShape("text",{attrs:M.mix({x:t.left,y:t.top},o)});this.set("titleShape",a),a.name="tooltip-title"}var s=n.addGroup();s.move(t.left,t.top+o.lineHeight+o.padding),this.set("itemsGroup",s)},Yt.prototype.render=function(){var n=this;this.clear();var t=this.get("container"),e=this.get("board"),i=this.get("showTitle"),r=this.get("titleContent"),o=this.get("titleShape"),a=this.get("itemsGroup"),s=this.get("items"),l=this.get("padding");o&&i&&o.attr("text",r);var u=this.get("itemGap"),c=0;M.each(s,function(t){var e=n._addItem(t);e.move(0,c),a.add(e);var i=e.getBBox().height;c+=i+u});var h=t.getBBox(),p=h.width+l.right,f=h.height+l.bottom;e.attr("width",p),e.attr("height",f),this._alignToRight(p)},Yt.prototype.clear=function(){var t=this.get("titleShape"),e=this.get("itemsGroup"),i=this.get("board");t&&(t.text=""),e.clear(),i.attr("width",0),i.attr("height",0)},Yt.prototype.show=function(){this.get("container").show();var t=this.get("crosshairGroup");t&&t.show();var e=this.get("markerGroup");e&&e.show(),U.prototype.show.call(this),this.get("canvas").draw()},Yt.prototype.hide=function(){this.get("container").hide();var t=this.get("crosshairGroup");t&&t.hide();var e=this.get("markerGroup");e&&e.hide(),U.prototype.hide.call(this),this.get("canvas").draw()},Yt.prototype.destroy=function(){var t=this.get("container"),e=this.get("crosshairGroup");e&&e.destroy();var i=this.get("markerGroup");i&&i.remove(),U.prototype.destroy.call(this),t.remove()},Yt.prototype.setPosition=function(t,e,i){var n,r=t,o=e,a=this.get("container"),s=this.get("canvas").get("el"),l=_.getWidth(s),u=_.getHeight(s),c=a.getBBox(),h=c.width,p=c.height,f=r,d=o;if(r=this.get("position")?(n=j(r,o,this.get("position"),h,p,i))[0]:(n=I(r,o,h,p,l,u))[0],o=n[1],this.get("inPanel")){var g=this.get("panelRange"),v=this.get("panelGroup").attr("clip");r=(n=B(r,o,h,p,v?v.getBBox():g,this.get("enterable")))[0],o=n[1]}var y=this.get("markerItems");M.isEmpty(y)||(f=y[0].x,d=y[0].y);var m=Object(K.transform)([1,0,0,0,1,0,0,0,1],[["t",r,o]]);a.stopAnimate(),a.animate({matrix:m},this.get("animationDuration"));var x=this.get("crosshairGroup");if(x){var b=this.get("items");x.setPosition(f,d,b)}U.prototype.setPosition.call(this,r,o)},Yt.prototype._addItem=function(t){var e=new $.Group,i=this.get("markerStyle").radius;if(t.marker){var n=M.mix({},t.marker,{x:t.marker.radius/2,y:0});e.addShape("marker",{attrs:n}),i=t.marker.radius}var r=this.get("nameStyle");e.addShape("text",{attrs:M.mix({x:i+r.padding,y:0,text:t.name},r)});var o=this.get("valueStyle");return e.addShape("text",{attrs:M.mix({x:e.getBBox().width+o.padding,y:0,text:t.value},o)}),e},Yt.prototype._alignToRight=function(r){var o=this,t=this.get("itemsGroup").get("children");M.each(t,function(t){var e=t.get("children")[2];if(e){var i=e.getBBox().width,n=r-i-2*o.get("padding").right;e.attr("x",n)}})},Yt),tt={title:{textStyle:{fontSize:12,fill:"#595959",textBaseline:"middle",fontFamily:P,textAlign:"center"},offset:20},label:{textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:P},offset:10,offsetX:0,offsetY:0},grid:{lineWidth:1,stroke:"#C0D0E0"}},et=(q=c,Object(f.__extends)(zt,q),zt.prototype.render=function(){this.get("grid")&&this._renderGrid(),this.get("line")&&this._renderLine(),this.get("tickLine")&&this._renderTicks(),this.get("label")&&this._renderLabels(),this.get("title")&&(this.set("title",M.deepMix({},tt.title,this.get("title"))),this.renderTitle())},zt.prototype.destroy=function(){if(!this.destroyed){q.prototype.destroy.call(this);var t=this.get("gridGroup");t&&t.remove();var e=this.get("labelRenderer");e&&e.destroy(),this.get("group").destroy(),this.destroyed=!0}},zt.prototype.clear=function(){var t=this.get("group");if(!t.get("destroyed")&&t.get("children").length){var e=this.get("gridGroup");e&&e.clear();var i=this.get("labelRenderer");i&&i.clear(),this.get("group").clear()}},zt.prototype.parseTick=function(t,e,i){return{text:t,value:e/(i-1)}},zt.prototype.addLabel=function(t,e,i,n){var r=this.get("theme")||{},o=this.get("label"),a=o;if(M.isFunction(a)){var s=o(t.text,i,n);a=s?M.deepMix({},r.label,s):null}if(a){(a=M.deepMix({text:t.text},tt.label,a)).formatter&&(a.text=a.formatter(t.text,i,n));var l=this.getSideVector(a.offset,e,i),u={x:e.x+l[0]+a.offsetX,y:e.y+l[1]+a.offsetY};if(a.x=u.x,a.y=u.y,a.point=u,M.isNil(e.rotate)||(a.rotate=e.rotate),M.isNil(a.rotate))a.textAlign=this.getTextAnchor(l);else{a.textAlign=a.rotate%180==0?"center":0<a.rotate?a.rotate%360<180?"left":"right":-180<a.rotate%360?"right":"left";var c=-6*Math.abs(Math.sin(a.rotate*Math.PI/180));a.y+=c,a.point.y+=c}a.useHtml&&(a.text=a.htmlTemplate),this.get("labelItems").push(a)}},zt.prototype.getTextAnchor=function(t){return 1<=Math.abs(t[1]/t[0])?"center":0<t[0]?"start":"end"},zt.prototype.getMaxLabelWidthOrHeight=function(t,i){var e=t.getLabels(),n=0;return M.each(e,function(t){var e=t.getBBox()[i];n<e&&(n=e)}),n},zt.prototype.autoRotateLabels=function(){},zt.prototype.autoHideLabels=function(){},zt.prototype.renderTitle=function(){},zt.prototype._renderLine=function(){var t=this.getLinePath(),e=Object(f.__assign)({path:t},this.get("line")),i=this.get("group").addShape("path",{attrs:e,zIndex:1});i.name="axis-line",this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo")),this.set("lineShape",i)},zt.prototype._renderTicks=function(){var t=this.get("tickLine"),e=this.get("tickItems"),i=this.get("subTickItems");if(e&&e.length&&this._addTickLine(e,t),i&&i.length){var n=this.get("subTickLine")||t;this._addTickLine(i,n)}},zt.prototype._renderGrid=function(){var i=this,s=this.get("coord"),l=this.get("appendInfo"),t=this.get("group"),e=this.get("gridPoints"),u=this.get("grid"),c=this.get("gridType"),h=this.get("theme")||{},p=this.get("ticks"),f=e.length,d=t.addGroup({class:"axis-grid",zIndex:0});this.set("gridGroup",d);var n,g=u;M.each(e,function(t,e){if(M.isFunction(u)){var i=p[e],n=i&&u(i.text,e,f);g=n?M.mix({},h.grid,n):null}if(g){var r=t.points,a=[];"arc"===c?M.each(r,function(t,e){var i=t.radius,n=t.x,r=t.y,o=t.flag;0===e?a.push(["M",n,r]):a.push(["A",i,i,0,0,o,n,r])}):M.each(r,function(t,e){var i=t.x,n=t.y;0===e?a.push(["M",i,n]):a.push(["L",i,n])});var o=d.addShape("path",{attrs:M.mix({path:a},tt.grid,g)});o.name="axis-grid",o.id=t.id,o.set("coord",s),l&&o.setSilent("appendInfo",o)}}),this.get("gridAlternateColor")&&M.each(e,function(t,e){n&&i._drawAlternativeBg(t,n,e),n=t})},zt.prototype._renderLabels=function(){var t=this.get("group"),e=new S({name:"axis-label"});e.set("coord",this.get("coord")),e.set("group",t.addGroup({class:"axis-labels"})),e.set("canvas",this.get("canvas")),e.set("items",this.get("labelItems")),e.draw(!1),this.set("labelRenderer",e),this.get("autoRotateLabel")&&this.autoRotateLabels(),this.get("autoHideLabel")&&this.autoHideLabels()},zt.prototype._processTicks=function(){var s=this,n=this.get("label"),l=this.get("subTickCount"),u=this.get("tickLine"),c=this._parseTicks(this.get("ticks")),r=c.length;if(M.each(c,function(t,e){var i=s.getTickPoint(t.value,e);u&&s._addTickItem(e,i,u.length),n&&s.addLabel(t,i,e,r)}),l){var h=this.get("subTickLine");M.each(c,function(t,e){if(0<e){var i=t.value-c[e-1].value;i/=s.get("subTickCount")+1;for(var n=1;n<=l;n++){var r,o={text:"",value:e?c[e-1].value+n*i:n*i},a=s.getTickPoint(o.value);r=h&&h.length?h.length:Math.floor(.6*u.length),s._addTickItem(n-1,a,r,"sub")}}})}},zt.prototype._parseTicks=function(t){void 0===t&&(t=[]);for(var e=t.length,i=0;i<e;i++){var n=t[i];M.isObject(n)||(t[i]=this.parseTick(n,i,e))}return this.set("ticks",t),t},zt.prototype._addTickItem=function(t,e,i,n){void 0===n&&(n="");var r=this.get("tickItems")||[],o=this.get("subTickItems")||[],a=this.getTickEnd(e,i,t),s={x1:e.x,y1:e.y,x2:a.x,y2:a.y};"sub"===n?o.push(s):r.push(s),this.set("tickItems",r),this.set("subTickItems",o)},zt.prototype._addTickLine=function(t,e){var i=M.mix({},e),n=[];M.each(t,function(t){n.push(["M",t.x1,t.y1]),n.push(["L",t.x2,t.y2])}),delete i.length,i.path=n;var r=this.get("group").addShape("path",{attrs:i,zIndex:1});r.name="axis-ticks",r.id=this.get("id")+"-ticks",r.set("coord",this.get("coord")),this.get("appendInfo")&&r.setSilent("appendInfo",this.get("appendInfo"))},zt.prototype._drawAlternativeBg=function(t,e,i){var n,r,o,a=this.get("gridAlternateColor");M.isString(a)?r=a:M.isArray(a)&&(r=a[0],o=a[1]),i%2==0?o&&(n=this._getBackItem(e.points,t.points,o)):r&&(n=this._getBackItem(e.points,t.points,r));var s=this.get("gridGroup").addShape("Path",{attrs:n});s.name="axis-grid-rect",s.id=t.id&&t.id.replace("grid","grid-rect"),s.set("coord",this.get("coord")),this.get("appendInfo")&&s.setSilent("appendInfo",this.get("appendInfo"))},zt.prototype._getBackItem=function(t,e,i){var a=[];if("arc"===this.get("gridType")){M.each(t,function(t,e){var i=t.x,n=t.y,r=t.radius,o=t.flag;0===e?a.push(["M",i,n]):a.push(["A",r,r,0,0,o,i,n])});for(var n=e.length-1;0<=n;n--){var r=e[n],o=r.x,s=r.y,l=r.radius,u=r.flag;n===e.length-1?a.push(["M",o,s]):a.push(["A",l,l,0,0,1===u?0:1,o,s])}}else{M.each(t,function(t,e){var i=t.x,n=t.y;0===e?a.push(["M",i,n]):a.push(["L",i,n])});for(var c=e.length-1;0<=c;c--)a.push(["L",e[c].x,e[c].y]);a.push(["Z"])}return{fill:i,path:a}},zt),it=(V=et,Object(f.__extends)(Nt,V),Nt.prototype.parseTick=function(t,e,i){return{text:t,value:e/i}},Nt.prototype.getTickPoint=function(t){var e=this.get("startAngle"),i=e+(this.get("endAngle")-e)*t;return this._getCirclePoint(i)},Nt.prototype.getSideVector=function(t,e){var i=this.get("center"),n=[e.x-i.x,e.y-i.y];if(!M.isNil(t)){var r=K.vec2.length(n);K.vec2.scale(n,n,t/r)}return n},Nt.prototype.getSidePoint=function(t,e){var i=this.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},Nt.prototype.getTickEnd=function(t,e){var i=this.get("tickLine"),n=M.isNil(e)?i.length:e;return this.getSidePoint(t,n)},Nt.prototype.getTextAnchor=function(t){var e;return M.isNumberEqual(t[0],0)?e="center":0<t[0]?e="left":t[0]<0&&(e="right"),e},Nt.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,i=t.y,n=this.get("radius"),r=n,o=this.get("startAngle"),a=this.get("endAngle"),s=this.get("inner"),l=[];if(Math.abs(a-o)===2*Math.PI)l=[["M",e,i],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];else{var u=this._getCirclePoint(o),c=this._getCirclePoint(a),h=Math.abs(a-o)>Math.PI?1:0,p=a<o?0:1;if(s){var f=this.getSideVector(s*n,u),d=this.getSideVector(s*n,c),g={x:f[0]+e,y:f[1]+i},v={x:d[0]+e,y:d[1]+i};l=[["M",g.x,g.y],["L",u.x,u.y],["A",n,r,0,h,p,c.x,c.y],["L",v.x,v.y],["A",n*s,r*s,0,h,Math.abs(p-1),g.x,g.y]]}else l=[["M",e,i],["L",u.x,u.y],["A",n,r,0,h,p,c.x,c.y],["L",e,i]]}return l},Nt.prototype.addLabel=function(t,e,i,n){var r=M.get(this.get("label"),"offset",5),o=this.getSidePoint(e,r);V.prototype.addLabel.call(this,t,o,i,n)},Nt.prototype.autoRotateLabels=function(){var r=this.get("ticks"),t=this.get("labelRenderer");if(t&&12<r.length){var e=this.get("radius"),o=this.get("startAngle"),a=this.get("endAngle")-o,i=a/(r.length-1),s=Math.sin(i/2)*e*2,l=this.getMaxLabelWidthOrHeight(t,"width");M.each(t.getLabels(),function(t,e){var i=r[e].value*a+o,n=i%(2*Math.PI);l<s?(n<=0&&(i+=Math.PI),n>Math.PI&&(i-=Math.PI),i-=Math.PI/2,t.attr("textAlign","center")):n>Math.PI/2?i-=Math.PI:n<Math.PI/2*-1&&(i+=Math.PI),t.rotateAtStart(i)})}},Nt.prototype._getCirclePoint=function(t,e){void 0===e&&(e=0);var i=this.get("center"),n=e||this.get("radius");return{x:i.x+Math.cos(t)*n,y:i.y+Math.sin(t)*n}},Nt),nt=i(18),rt=(X=et,Object(f.__extends)(Rt,X),Rt.prototype.getLinePath=function(){var t=this.get("crp"),e=this.get("axisStart"),i=nt.a(t);return i.unshift(["M",e.x,e.y]),i},Rt.prototype.getTickPoint=function(t){var e=this.get("startAngle"),i=e+(this.get("endAngle")-e)*t;return this._getHelixPoint(i)},Rt.prototype.getSideVector=function(t,e){var i=this.get("center"),n=[e.x-i.x,e.y-i.y];if(!M.isNil(t)){var r=K.vec2.length(n);K.vec2.scale(n,n,t/r)}return n},Rt.prototype.getSidePoint=function(t,e){var i=this.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},Rt.prototype.getTickEnd=function(t,e){var i=this.get("tickLine"),n=e||i.length;return this.getSidePoint(t,n)},Rt.prototype._getHelixPoint=function(t){var e=this.get("center"),i=this.get("a")*t+this.get("inner");return{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i}},Rt),ot=[0,-45,-90],at=(W=et,Object(f.__extends)(Ft,W),Ft.prototype.getSideVector=function(t){var e=this.get("isVertical"),i=this.get("factor");if(!M.isNumber(t))return[0,0];var n=this.get("start"),r=this.get("end"),o=this.getAxisVector(),a=K.vec2.normalize([],o),s=!1;(e&&n.y<r.y||!e&&n.x>r.x)&&(s=!0);var l=K.vec2.vertical([],a,s);return K.vec2.scale([],l,t*i)},Ft.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},Ft.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end");return[["M",t.x,t.y],["L",e.x,e.y]]},Ft.prototype.getTickEnd=function(t,e){var i=this.getSideVector(e);return{x:t.x+i[0],y:t.y+i[1]}},Ft.prototype.getTickPoint=function(t){var e=this.get("start"),i=this.get("end"),n=i.x-e.x,r=i.y-e.y;return{x:e.x+n*t,y:e.y+r*t}},Ft.prototype.renderTitle=function(){var t=this.get("title"),e=this.get("label"),i=M.get(e,"rotate"),n=this.get("autoRotateTitle"),r=this.getTickPoint(.5),o=t.offset?t.offset:20,a=this.get("labelRenderer");if(a){var s="bottom"===(d=this.get("position"))||"top"===d?"height":"width",l=this.getMaxLabelWidthOrHeight(a,s);this.get("autoRotateLabel")&&(p=this.getAutoRotateAngle())&&(l=this.getOffsetByRotateAngle(p)),i&&(l=this.getOffsetByRotateAngle(i*Math.PI/180)),o+=l+M.get(this.get("label"),"offset",5)}var u=t.textStyle,c=M.mix({},u);if(t.text){var h=this.getAxisVector();if(n&&M.isNil(t.rotate)){var p=0;if(!M.isNumberEqual(h[1],0)){var f=[h[0],h[1]];p=K.vec2.angleTo(f,[1,0],!0)}c.rotate=p*(180/Math.PI)}else M.isNil(t.rotate)||(c.rotate=t.rotate/180*Math.PI);var d,g,v=this.getSideVector(o);g="start"===(d=t.position)?{x:this.get("start").x+v[0],y:this.get("start").y+v[1]}:"end"===d?{x:this.get("end").x+v[0],y:this.get("end").y+v[1]}:{x:r.x+v[0],y:r.y+v[1]},c.x=g.x,c.y=g.y,c.text=t.text;var y=this.get("group").addShape("Text",{zIndex:2,attrs:c});y.name="axis-title",this.get("appendInfo")&&y.setSilent("appendInfo",this.get("appendInfo"))}},Ft.prototype.autoRotateLabels=function(){var t=this.get("labelRenderer");if(t){var e=t.getLabels(),i=(this.getAxisVector(),this.getAutoRotateAngle());if(i){this.set("autoRotateAngle",i);var n=-6*Math.abs(Math.sin(i)),r=i%Math.PI==0?"center":0<i?i%(2*Math.PI)<Math.PI?"left":"right":i%(2*Math.PI)>-Math.PI?"right":"left";M.each(e,function(t){t.attr("textAlign",r),t.rotateAtStart(i),t.attr("y",t.attr("y")+n)})}}},Ft.prototype.autoHideLabels=function(){var t,e,i=this.get("labelRenderer");if(i){var n=this.get("tickItems"),r=i.getLabels(),o=this.getAxisVector();if(r.length<2)return;if(M.isNumberEqual(o[0],0)){var a=this.getMaxLabelWidthOrHeight(i,"height")+8,s=Math.abs(this._getAvgLabelHeightSpace(i));s<a&&(t=a,e=s)}else if(M.isNumberEqual(o[1],0)&&1<r.length){var l=this.getMaxLabelWidthOrHeight(i,"width")+8,u=Math.abs(this._getAvgLabelLength(i));u<l&&(t=l,e=u)}if(t&&e){var c=Math.ceil(t/e);if(M.each(r,function(t,e){e%c!=0&&(t.set("visible",!1),t.attr("text",""))}),n){var h=M.filter(n,function(t,e){return r[e].get("visible")});0<M.size(h)&&(this.set("tickItems",h),M.remove(this.get("group").get("children"),function(t){return"axis-ticks"===t.name}),this._renderTicks())}}}},Ft.prototype.getAutoRotateAngleByAvgWidth=function(t){var e,i=this.get("autoRotateLabel"),n=this.get("labelRenderer"),r=this.get("title");if(n){var o=n.getLabels(),a=this.get("label").offset,s=r&&r.offset?r.offset:20;if(s<0)return;var l=this.getAxisVector(),u=void 0,c=void 0;if(M.isNumberEqual(l[0],0)&&r&&r.text)(u=this.getMaxLabelWidthOrHeight(n,"width"))>s-a-12&&(e=-1*Math.acos((s-a-12)/u));else if(M.isNumberEqual(l[1],0)&&1<o.length&&(u=this.getMaxLabelWidthOrHeight(n,"width"),c=this.getMaxLabelWidthOrHeight(n,"height"),t<u))for(var h=0,p=M.isArray(i)?i:ot;h<p.length&&(e=p[h]*Math.PI/180,!(t*Math.abs(Math.sin(e))>c+4));h++);}return e},Ft.prototype.getOffsetByRotateAngle=function(t){var e=this.get("labelRenderer"),i=this.get("position"),n="bottom"===i||"top"===i?"height":"width",r=this.getMaxLabelWidthOrHeight(e,n);return t?Math.max(r,this.getMaxLabelWidthOrHeight(e,"width")*Math.abs(Math.sin(t))):r},Ft.prototype._getAvgLabelLength=function(t){var e=t.getLabels();return e[1].attr("x")-e[0].attr("x")},Ft.prototype._getAvgLabelHeightSpace=function(t){var e=t.getLabels();return e[1].attr("y")-e[0].attr("y")},Ft.prototype.getAutoRotateAngle=function(){var t=this.get("labelRenderer"),e=t.getLabels();if(e&&!(e.length<2)){var i=Math.abs(this._getAvgLabelLength(t));return this.getAutoRotateAngleByAvgWidth(i)}},Ft),st=(G=c,Object(f.__extends)(Et,G),Et.prototype.render=function(){this.renderTitle(),this.renderItems()},Et.prototype.getWidth=function(){return this.get("container").getBBox().width},Et.prototype.getHeight=function(){return this.get("container").getBBox().height},Et.prototype.getBBox=function(){return this.get("container").getBBox()},Et.prototype.moveTo=function(t,e){this.get("container").move(t,e),this.set("x",t),this.set("y",e)},Et.prototype.draw=function(){this.get("canvas").draw()},Et.prototype.formatterValue=function(t){return(this.get("formatter")||M.identity).call(this,t)},Et),lt={fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},ut={fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:P},ct={fill:"#D9D9D9"},ht={fill:"rgb(64, 141, 251)"},pt={fill:"#333",textBaseline:"top",textAlign:"start",fontFamily:P},ft=(H=$.Group,Object(f.__extends)(Bt,H),Bt.prototype.setBackground=function(t){this.backgroundGroup&&this.backgroundGroup.destroy();var e=t.group,i=(t.background,t.frontend);this.backgroundGroup=e,this.backgroundGroup.set("zIndex",0),this.operational&&this.rangeSliderShape&&i&&i.attr("clip",this.rangeSliderShape),this.add(this.backgroundGroup),this.sort()},Bt.prototype.isHorizontal=function(){return"horizontal"===this.layout},Bt.prototype.initialSlider=function(){if(this.operational){this.rangeSliderShape=this.createRangeSliderShape(),this.rangeSliderShape.set("zIndex",1),this.minSliderGroup=this.createMinSliderGroup(),this.minSliderGroup.set("zIndex",2),this.maxSliderGroup=this.createMaxSliderGroup(),this.maxSliderGroup.set("zIndex",2);var t=this.range,e=t[0],i=t[1];this.renderUIWithRange(e,i)}this.bindEvent()},Bt.prototype.getSliderCursor=function(){return this.isHorizontal()?"ew-resize":"ns-resize"},Bt.prototype.createMinSliderGroup=function(){var t=this.addGroup();return this.minSliderShape=this.createSliderButton(t,!0),this.minTextShape=this.createSliderText(t,!0),t},Bt.prototype.createMaxSliderGroup=function(){var t=this.addGroup();return this.maxSliderShape=this.createSliderButton(t,!1),this.maxTextShape=this.createSliderText(t,!1),t},Bt.prototype.createRangeSliderShape=function(){return this.addShape("rect",{attrs:{fill:"#fff",fillOpacity:0,cursor:"move"}})},Bt.prototype.getRectButtonAttribute=function(t){var e=this.sliderSize,i=e[0],n=e[1];return this.isHorizontal()?{x:t?-i:0,y:this.height/2-n/2,width:i,height:n}:{x:this.width/2-n/2,y:t?0:-i,width:n,height:i}},Bt.prototype.getCircleButtonAttribute=function(t){return this.isHorizontal()?{x:0,y:this.height/2,r:16}:{x:this.width/2,y:0,r:16}},Bt.prototype.createSliderButton=function(t,e){var i="rect"===this.sliderType?this.getRectButtonAttribute(e):"circle"===this.sliderType?this.getCircleButtonAttribute(e):{},n=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},i),lt),{cursor:this.getSliderCursor()});return t.addShape(this.sliderType,{attrs:n})},Bt.prototype.getRectTextAttribute=function(t){var e=this.sliderSize,i=e[0],n=e[1];return this.isHorizontal()?{x:t?-i/2:i/2,y:this.height/2+n/2+4,textAlign:"center",textBaseline:"top"}:{x:this.width/2+n/2+4,y:t?i/2:-i/2,textAlign:"left",textBaseline:"middle"}},Bt.prototype.getCircleTextAttribute=function(t){return this.isHorizontal()?{x:0,y:this.height/2+16+4,textAlign:"center",textBaseline:"top"}:{x:this.width/2+16+4,y:0,textAlign:"left",textBaseline:"middle"}},Bt.prototype.createSliderText=function(t,e){var i="rect"===this.sliderType?this.getRectTextAttribute(e):"circle"===this.sliderType?this.getCircleTextAttribute(e):{},n=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},this.textStyle),i),{text:""});return t.addShape("text",{attrs:n})},Bt.prototype.bindEvent=function(){this.operational&&this.on("mousedown",this.onMouseDown)},Bt.prototype.onMouseDown=function(t){this.currentTarget=t.target;var e=t.event;e.stopPropagation(),e.preventDefault();var i=e.clientX,n=e.clientY;this.pos=this.isHorizontal()?i:n,this.bindCanvasEvents()},Bt.prototype.bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM"),e=_.addEventListener(t,"mousemove",this.onMouseMove),i=_.addEventListener(t,"mouseup",this.onMouseUp),n=_.addEventListener(t,"mouseleave",this.onMouseUp);this.clearAllEvents=function(){e.remove(),i.remove(),n.remove()}},Bt.prototype.isDragMin=function(){return this.currentTarget===this.minSliderShape},Bt.prototype.isDragMax=function(){return this.currentTarget===this.maxSliderShape},Bt.prototype.isDragAll=function(){return this.currentTarget===this.rangeSliderShape},Bt.prototype.updateSliderStatus=function(t,e){var i=this,n=this.isHorizontal()?this.width:this.height,r=this.isHorizontal()?1:-1,o=this.range,a=o[0],s=o[1],l=this.pos,u=this.isHorizontal()?t:e,c=(u-l)/n*r,h=[a,s];this.isDragAll()?h=0<=c&&1<s+c?[a+(1-s),1]:c<0&&a+c<0?[0,s-a]:[a+c,s+c]:(this.isDragMin()&&(h[0]=this.getNewRange(a,c)),this.isDragMax()&&(h[1]=this.getNewRange(s,c)),h[1]<h[0]&&(h=Array(2).fill(this.isDragMin()?h[0]:h[1]))),this.pos=u,this.range=h,this.emit("sliderchange",{range:h,value:h.map(function(t){return i.getValue(t)})}),this.renderUIWithRange(h[0],h[1]),this.get("canvas").draw()},Bt.prototype.renderUIWithRange=function(t,e){var i=this.width,n=this.height;this.minSliderGroup.resetMatrix(),this.maxSliderGroup.resetMatrix(),this.isHorizontal()?(this.rangeSliderShape.attr({x:i*t,y:0,width:(e-t)*i,height:n}),this.minSliderGroup.translate(t*i,0),this.maxSliderGroup.translate(e*i,0)):(this.rangeSliderShape.attr({x:0,y:n*(1-e),width:i,height:(e-t)*n}),this.minSliderGroup.translate(0,(1-t)*n),this.maxSliderGroup.translate(0,(1-e)*n)),this.minTextShape.attr("text",this.formatter(this.getValue(t))),this.maxTextShape.attr("text",this.formatter(this.getValue(e))),"circle"===this.sliderType&&(this.minSliderShape.attr({r:(16+16*t)/2}),this.maxSliderShape.attr({r:(16+16*e)/2}))},Bt.prototype.getNewRange=function(t,e){var i=e+t;return 1<i?1:i<0?0:i},Bt.prototype.getValue=function(t){var e=this.min+(this.max-this.min)*t;return Number(e.toFixed(1<e?0:2))},Bt),dt=(Y=st,Object(f.__extends)(It,Y),It.prototype.init=function(){var t=this.get("container");this.set("canvas",t.get("canvas"));var e=t.addGroup();this.set("legendGroup",e);var i=e.addGroup();this.set("itemsGroup",i),e.translate(this.get("offsetX"),this.get("offsetY"))},It.prototype.renderTitle=function(){if(this.isShowTitle()){var t=this.get("title"),e=this.get("legendGroup"),i=this.get("titleStyle"),n=e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,text:t},i)});n.name="legend-title",this.set("titleShape",n)}},It.prototype.renderItems=function(){this.renderSlider()},It.prototype.bindEvents=function(){this.isOperational()},It.prototype.clear=function(){var t=this.get("container");t&&!t.destroyed&&t.clear()},It.prototype.destroy=function(){Y.prototype.destroy.call(this);var t=this.get("container");t&&!t.destroyed&&(t.get("parent")&&t.remove(!0),t.destroy())},It.prototype.isHorizontal=function(){return"horizontal"===this.get("layout")},It.prototype.isOperational=function(){return this.get("operational")},It.prototype.isShowTitle=function(){return!!this.get("title")},It.prototype.getSliderConfig=function(){return{layout:this.get("layout"),sliderType:this.get("handleIcon"),sliderSize:this.get("handleSize"),sliderStyle:this.get("handleStyle"),operational:this.isOperational(),width:this.get("width"),height:this.get("height"),min:M.head(this.get("items")).value,max:M.last(this.get("items")).value,range:this.get("range")||[0,1],textStyle:Object(f.__assign)({},this.get("textStyle")),formatter:this.formatterValue}},It.prototype.renderSlider=function(){var n=this,t=this.get("itemsGroup"),e=new ft(this.getSliderConfig());if(e.setBackground(this.createBackgroundGroup()),this.isShowTitle()){var i=this.get("titleDistance"),r=this.get("titleShape").getBBox().height;e.translate(0,i+r)}e.on("sliderchange",function(t){var e=t.value,i=(t.range,new $.Event("itemfilter",t,!0,!0));i.range=e,n.emit("itemfilter",i)}),t.add(e),this.set("slider",e)},It),gt=(z=dt,Object(f.__extends)(jt,z),jt.prototype.getBackgroundShapeAttr=function(){var t=this.get("width"),e=this.get("height"),i=t/2,n=e/2;return{points:"rect"===this.get("handleIcon")?this.isHorizontal()?[[0,e],[0,e-4],[t,0],[t,e]]:[[0,0],[t,0],[t,e],[t-4,e]]:this.isHorizontal()?[[0,2+n],[0,n-2],[t,n-2],[t,2+n]]:[[2+i,0],[i-2,0],[i-2,e],[2+i,e]]}},jt.prototype.createBackgroundGroup=function(){var t=this.getBackgroundShapeAttr(),e=this.get("backgroundStyle"),i=this.get("fillStyle"),n=new $.Polygon({attrs:Object(f.__assign)(Object(f.__assign)({},t),e)}),r=new $.Polygon({attrs:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},t),e),i)}),o=new $.Group;return this.isOperational()&&o.add(n),o.add(r),{group:o,background:n,frontend:r}},jt),vt=i(16),yt=(N=dt,Object(f.__extends)(Dt,N),Dt.prototype.calculatePercent=function(t){var e=M.head(t).value,i=M.last(t).value-e;return M.map(t,function(t){return Object(f.__assign)(Object(f.__assign)({},t),{percentage:(Number(t.value)-e)/i})})},Dt.prototype.isSegment=function(){return!!this.get("isSegment")},Dt.prototype.getOperationalGroup=function(){var e,t=this.get("width"),i=this.get("height"),n=this.calculatePercent(this.get("items")),r=this.get("backgroundStyle"),o="";this.isHorizontal()?(o+="l (0) ",M.each(n,function(t){e=vt.default.toRGB(t.color),o+=t.percentage+":"+e+" "})):(o+="l (90) ",M.each(n,function(t){e=vt.default.toRGB(t.color),o+=1-t.percentage+":"+e+" "}));var a=new $.Rect({attrs:Object(f.__assign)({x:0,y:0,width:t,height:i,strokeOpacity:0},r)}),s=new $.Rect({attrs:{x:0,y:0,width:t,height:i,fill:o,strokeOpacity:0}}),l=new $.Group;return this.isOperational()&&l.add(a),l.add(s),{group:l,background:a,frontend:s}},Dt.prototype.getUnOperationalGroup=function(){var n,r=this,o=this.get("width"),a=this.get("height"),s=this.calculatePercent(this.get("items")),l=this.get("textStyle"),u=new $.Group,c="",h=[],p=s.length;this.isHorizontal()?(c+="l (0) ",M.each(s,function(t,e){if(0!==e&&e!==p-1&&(h.push(["M",t.percentage*o,0]),h.push(["L",t.percentage*o,a])),n=vt.default.toRGB(s[e].color),r.isSegment()&&0<e){var i=vt.default.toRGB(s[e-1].color);c+=t.percentage+":"+i+" "}c+=t.percentage+":"+n+" ",u.addShape("text",{attrs:Object(f.__assign)(Object(f.__assign)({x:t.percentage*o,y:a+4,text:""+r.formatterValue(t.value)},l),{textBaseline:"top",textAlign:"center"})})})):(c+="l (90) ",M.each(s,function(t,e){if(0!==e&&e!==p-1&&(h.push(["M",0,a-t.percentage*a]),h.push(["L",o,a-t.percentage*a])),n=vt.default.toRGB(s[e].color),c+=1-t.percentage+":"+n+" ",r.isSegment()&&0<e){var i=vt.default.toRGB(s[e-1].color);c+=1-t.percentage+":"+i+" "}u.addShape("text",{attrs:Object(f.__assign)(Object(f.__assign)({x:o+4,y:(1-t.percentage)*a,text:""+r.formatterValue(t.value)},l),{textAlign:"start",textBaseline:"middle"})})}));var t=u.addShape("rect",{attrs:{x:0,y:0,width:o,height:a,fill:c,strokeOpacity:0}});return u.addShape("path",{attrs:{path:h,lineWidth:1,stroke:"#fff"}}),{group:u,background:t,frontend:void 0}},Dt.prototype.createBackgroundGroup=function(){return this.isOperational()?this.getOperationalGroup():this.getUnOperationalGroup()},Dt),mt={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},xt=(Tt.prototype._init=function(){var t=this.width/2,e=this.height/2,i=[{x:0,y:-e},{x:-t,y:e},{x:t,y:e}];this.shape=new $.Path({attrs:M.deepMix({path:[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["Z"]]},this.attrs)});var n=[];n.push(["r",mt[this.direction]]),n.push(["t",this.x,this.y]),this.shape.transform(n)},Tt),bt={layout:"horizontal",titleDistance:15,itemDistance:5,itemMarginBottom:8,wordSpacing:8,backgroundPadding:0,unSelectedColor:"#ccc",offsetX:0,offsetY:0},_t=(R=st,Object(f.__extends)(Lt,R),Lt),Mt=(F=_t,Object(f.__extends)(At,F),At.prototype.init=function(){this.isFlipped=!1;var t=this.get("container");this.set("canvas",t.get("canvas"));var e=t.addGroup();this.set("itemsGroup",e),this.get("flipPage")&&this.set("autoWrap",!0)},At.prototype.renderTitle=function(){var t=this.get("title");if(t){var e=this.get("container"),i=this.get("titleStyle"),n=e.addShape("text",{attrs:Object(f.__assign)({x:0,y:0,text:t},i)});n.name="legend-title",this.set("titleShape",n)}},At.prototype.renderItems=function(){var e=this,t=this.get("items");this.get("reversed")&&t.reverse(),Object(M.each)(t,function(t){e._addItem(t)});var i=this._getMaxItemSize(),n=i.maxItemWidth,r=i.maxItemHeight;this.set("maxItemWidth",n),this.set("maxItemHeight",r);var o=this.isNeedFlip();this.get("autoWrap")&&this._adjustItems(),o&&this.flipPage(),this._adjustPositionOffset(),this._renderBack()},At.prototype.isNeedFlip=function(){var t=this.get("maxWidth"),e=this.get("maxHeight"),i=this.get("itemsGroup").getBBox(),n=this.get("layout");if(this.get("flipPage")){if("vertical"===n&&e<i.height)return!0;if("horizontal"===n&&t<i.width)return!0}return!1},At.prototype.flipPage=function(){var i=this;this.isFlipped=!0;var n=this.get("maxItemWidth"),r=this.get("maxItemHeight"),t=this.get("maxWidth"),e=this.get("maxHeight"),o=this.get("itemsGroup"),a=o.getBBox(),s=this.get("layout"),l=this._getPaginationCfg(),u=0,c="up-down",h=a.tl.x,p=a.tl.y,f=0,d=new $.Rect({attrs:{x:h,y:p,width:t-l.size,height:e}});if("horizontal"===s){var g=Math.max(t,a.width);if(d.attr("width",g),d.attr("height",r),this.set("maxWidth",g),this.set("maxHeight",r),u=Math.ceil(a.height/(r+this.get("itemMarginBottom"))),h=h+g-l.size,p=Math.ceil(p+r/2),f=r,p-this._getHorizontalPaginationHeight()/2<0){var v=(this.get("offsetY")||0)+this._getHorizontalPaginationHeight()/2-p;this.set("offsetY",v)}}if("vertical"===s){d.attr("width",n);var y=Math.max(e,a.height);d.attr("height",y),this.set("maxWidth",n),this.set("maxHeight",y),u=Math.ceil(a.width/(n+this.get("itemDistance"))),p=p+y+10,c="left-right",f=n}o.attr("clip",d),this.set("clip",d);var m=this.flipPageUI(h,p,f,u,c);this.flipUI=m;var x=1,b=m.arrows[0],_=m.arrows[1];b.on("click",function(){if(1<x){--x,m.text.attr("text",x+" / "+u);var t=Object(M.clone)(o.attr("matrix"));if("vertical"===s){var e=i.get("itemDistance")+n;t[6]+=e}else e=r+i.get("itemMarginBottom"),t[7]+=e;o.stopAnimate(),o.animate({matrix:t},100),i.get("canvas").draw()}}),_.on("click",function(){if(x<u){x+=1,m.text.attr("text",x+" / "+u);var t=Object(M.clone)(o.attr("matrix"));if("vertical"===s){var e=i.get("itemDistance")+n;t[6]-=e}else e=r+i.get("itemMarginBottom"),t[7]-=e;o.stopAnimate(),o.animate({matrix:t},100)}})},At.prototype.flipPageUI=function(t,e,i,n,r){var o,a=this._getPaginationCfg(),s=this.get("container").addGroup(),l=[];if("left-right"===r){var u=new xt(Object(M.mix)({},a.arrow,{x:t+a.arrow.width/2,y:e,direction:"left"}));s.add(u.shape),l.push(u.shape);var c=new xt(Object(M.mix)({},a.arrow,{x:t+i-a.arrow.width/2,y:e,direction:"right"}));s.add(c.shape),l.push(c.shape),o=s.addShape("text",{attrs:Object(M.mix)({},a.text,{x:t+i/2,y:e,text:"1 / "+n})})}else{var h=this._getHorizontalPaginationHeight(),p=new xt(Object(M.mix)({},a.arrow,{x:t,y:e-h/2+a.arrow.height/2,direction:"up"}));s.add(p.shape),l.push(p.shape);var f=new xt(Object(M.mix)({},a.arrow,{x:t,y:e+h/2-a.arrow.height/2,direction:"down"}));s.add(f.shape),l.push(f.shape),o=s.addShape("text",{attrs:Object(M.mix)({},a.text,{x:t,y:e,text:"1 / "+n})})}return{arrows:l,text:o,container:s}},At.prototype._getPaginationCfg=function(){return{arrow:{x:0,y:0,width:10,height:8,attrs:{fill:"#ccc",cursor:"pointer"},direction:"right"},text:{fontSize:12,fill:"#ccc",textAlign:"center",textBaseline:"middle"},size:40}},At.prototype._getHorizontalPaginationHeight=function(){var t=this._getPaginationCfg();return t.text.fontSize+2*t.arrow.height+4},At.prototype.bindEvents=function(){var t=this.get("itemsGroup");this.get("hoverable")&&(t.on("mousemove",Object(M.wrapBehavior)(this,"_onMousemove")),t.on("mouseleave",Object(M.wrapBehavior)(this,"_onMouseleave"))),this.get("clickable")&&t.on("click",Object(M.wrapBehavior)(this,"_onClick"))},At.prototype.clear=function(){var t=this.get("container");t&&!t.destroyed&&t.clear()},At.prototype.destroy=function(){F.prototype.destroy.call(this);var t=this.get("container");t&&!t.destroyed&&(t.get("parent")&&t.remove(),t.destroy())},At.prototype.getCheckedCount=function(){var t=this.get("itemsGroup").get("children");return Object(M.filter)(t,function(t){return t.get("checked")}).length},At.prototype.getWidth=function(){return this.getBBox().width},At.prototype.getHeight=function(){return this.getBBox().height},At.prototype.getBBox=function(){if(this.isFlipped){var t=this.get("clip"),e=this.flipUI.container;return this._mergeBBox([t.getBBox(),e.getBBox()])}return this.get("container").getBBox()},At.prototype._adjustPositionOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.get("container").move(t,e)},At.prototype._addItem=function(t){var e=this.get("itemsGroup"),i=this._getNextX(),n=this._getNextY(),r=this.get("unSelectedColor"),o=e.addGroup({x:i,y:n,value:t.value,checked:t.checked}),a=this.get("textStyle"),s=this.get("wordSpacing"),l=0;if(t.marker){var u=Object.assign({},t.marker,{x:t.marker.radius+i,y:n});t.checked||(u.fill&&(u.fill=r),u.stroke&&(u.stroke=r));var c=o.addShape("marker",{type:"marker",attrs:u});c.attr("cursor","pointer"),c.name="legend-marker",l+=c.getBBox().width+s}var h=Object.assign({},a,{x:l+i,y:n-(t.marker?t.marker.radius/2:0)+a.fontSize/4,text:this.formatterValue(t.value)});t.checked||Object.assign(h,{fill:r});var p=o.addShape("text",{attrs:h});p.attr("cursor","pointer"),p.name="legend-text";var f=o.getBBox(),d=this.get("itemWidth"),g=o.addShape("rect",{attrs:{x:i,y:n-f.height/2,fill:"#fff",fillOpacity:0,width:d||f.width,height:f.height}});return g.attr("cursor","pointer"),g.set("origin",t),g.name="legend-item",o.name="legendGroup",o},At.prototype._getNextX=function(){var t=this.get("layout"),e=this.get("itemDistance"),i=this.get("itemsGroup"),n=this.get("itemWidth"),r=i.get("children"),o=0;return"horizontal"===t&&Object(M.each)(r,function(t){o+=(n||t.getBBox().width)+e}),o},At.prototype._getNextY=function(){var e=this.get("itemMarginBottom"),t=this.get("titleDistance"),i=this.get("layout"),n=this.get("itemsGroup"),r=this.get("titleShape"),o=n.get("children"),a=t;return r&&(a+=r.getBBox().height),"vertical"===i&&Object(M.each)(o,function(t){a+=t.getBBox().height+e}),a},At.prototype._adjustHorizontal=function(){var e,i,n,t=this.flipPage?this._getPaginationCfg().size:0,r=this.get("itemsGroup"),o=r.get("children"),a=this.get("maxWidth")-t,s=this.get("itemDistance"),l=this.get("itemMarginBottom"),u=this.get("titleDistance"),c=0,h=0,p=this.get("itemWidth");r.getBBox().width>a&&Object(M.each)(o,function(t){n=t.getBBox(),e=p||n.width,i=n.height+l,a-h<e&&(c++,h=0),t.move(h,c*i+u),h+=e+s})},At.prototype._adjustVertical=function(){var i,n,r=this._getMaxItemSize().maxItemWidth,t=this.get("itemsGroup"),e=this.get("titleShape"),o=t.get("children"),a=this.get("maxLength"),s=this.get("itemDistance"),l=this.get("itemMarginBottom"),u=this.get("titleDistance"),c=e?e.getBBox().height+u:0,h=this.get("itemWidth")?this.get("itemWidth"):0,p=c+t.getBBox().height;r=Math.max(r,h)+s;var f=0;a<p&&Object(M.each)(o,function(t,e){(n=t.getBBox()).width,i=n.height,a-p<i?(p=c,0<e&&(f+=r),t.move(f,c)):t.move(f,p),p+=i+l})},At.prototype._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},At.prototype._renderBack=function(){var t=this.get("container"),e=this.get("backgroundPadding"),i=this.get("backgroundStyle");Object(M.isNumber)(e)&&(e=[e,e,e,e]),i&&t.renderBack(e,i)},At.prototype._onMousemove=function(t){var e=this._getLegendItem(t.target);if(e&&e.get("checked")){var i=new $.Event("itemmouseover",t,!0,!0);i.item=this._findItem(e),i.checked=e.get("checked"),this.emit("itemmouseover",i),this.get("canvas").draw()}},At.prototype._onMouseleave=function(t){var e=this._getLegendItem(t.target);if(e&&e.get("checked")){var i=new $.Event("itemmouseleave",t,!0,!0);i.item=this._findItem(e),i.checked=e.get("checked"),this.emit("itemmouseleave",i),this.get("canvas").draw()}},At.prototype._onClick=function(t){var e=this,i=this._getLegendItem(t.target);if(i&&!i.get("destroyed")){var n=i.get("checked");if(!this.get("allowAllCanceled")&&n&&1===this.getCheckedCount())return;var r=this.get("selectedMode"),o=this._findItem(i),a=new $.Event("itemclick",t,!0,!0);a.item=o,a.currentTarget=i,a.checked="single"===r||!n;var s,l,u,c=this.get("unSelectedColor"),h=this.get("textStyle").fill;if("single"===r){var p=this.get("itemsGroup").get("children");Object(M.each)(p,function(t){s=e._findShapeByName(t,"legend-marker"),l=e._findShapeByName(t,"legend-text"),u=e._findShapeByName(t,"legend-item"),t!==i?(s.attr("fill")&&s.attr("fill",c),s.attr("stroke")&&s.attr("stroke",c),l.attr("fill",c),s.set("checked",!1),s.set("rawAttrs",Object(f.__assign)({},s.get("attrs"))),l.set("checked",!1),u.set("checked",!1),t.set("checked",!1)):(s.attr("fill")&&s.attr("fill",o.marker.fill),s.attr("stroke")&&s.attr("stroke",o.marker.stroke),l.attr("fill",h),s.set("rawAttrs",Object(f.__assign)({},s.get("attrs"))),s.set("checked",!0),l.set("checked",!0),u.set("checked",!0),t.set("checked",!0))})}else s=this._findShapeByName(i,"legend-marker"),l=this._findShapeByName(i,"legend-text"),u=this._findShapeByName(i,"legend-item"),s.attr("fill")&&s.attr("fill",n?c:o.marker.fill),s.attr("stroke")&&s.attr("stroke",n?c:o.marker.stroke),l.attr("fill",n?c:h),i.set("checked",!n),s.set("checked",!n),l.set("checked",!n),u.set("checked",!n);this.emit("itemclick",a),this.get("canvas").draw()}},At.prototype._getLegendItem=function(t){var e=t.get("parent");return e&&"legendGroup"===e.name?e:null},At.prototype._findItem=function(t){var e=this.get("items"),i=null,n=t instanceof $.Group?t.get("value"):t;return Object(M.each)(e,function(t){if(t.value===n)return i=t,!1}),i},At.prototype._findShapeByName=function(t,e){return t.findBy(function(t){return t.name===e})},At.prototype._getMaxItemSize=function(){var i=-1/0,n=-1/0,t=this.get("itemsGroup").get("children");return Object(M.each)(t,function(t){var e=t.getBBox();i<e.width&&(i=e.width),n<e.height&&(n=e.height)}),{maxItemWidth:i,maxItemHeight:n}},At.prototype._mergeBBox=function(t){var i=1/0,n=-1/0,r=1/0,o=-1/0;return Object(M.each)(t,function(t){var e=t;i=Math.min(e.minX,i),n=Math.max(e.maxX,n),r=Math.min(e.minY,r),o=Math.max(e.maxY,o)}),new $.BBox(i,r,n-i,o-r)},At),wt={position:"absolute",overflow:"auto",top:0,left:0},St={marginBottom:"4px"},Ct={listStyleType:"none",margin:0,padding:0},Ot={cursor:"pointer",marginBottom:"5px",marginRight:"16px",userSelect:"none"},kt={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},Pt={activeColor:"#000",inactiveColor:"#ccc",arrowSize:8,animation:!0};function At(t){return F.call(this,Object(f.__assign)({type:"category-legend"},t))||this}function Lt(t){return R.call(this,Object(f.__assign)(Object(f.__assign)({hoverable:!0,clickable:!0,selectedMode:"multiple",allowAllCanceled:!1,reversed:!1,autoWrap:!0},bt),t))||this}function Tt(t){this.width=10,this.height=10,this.direction="right",M.assign(this,t),this._init()}function Dt(t){return N.call(this,Object(f.__assign)({type:"color-legend"},t))||this}function jt(t){return z.call(this,Object(f.__assign)({type:"size-legend"},t))||this}function It(t){var e=t.backgroundStyle,i=t.fillStyle,n=t.textStyle,r=t.titleStyle,o=Object(f.__rest)(t,["backgroundStyle","fillStyle","textStyle","titleStyle"]),a=t.layout,s=void 0===a?"horizontal":a,l={width:"horizontal"===s?156:16,height:"horizontal"===s?16:156};return Y.call(this,Object(f.__assign)(Object(f.__assign)({titleDistance:16,layout:"horizontal",operational:!0,handleIcon:"rect",backgroundStyle:Object(f.__assign)(Object(f.__assign)({},ct),e),fillStyle:Object(f.__assign)(Object(f.__assign)({},ht),i),textStyle:Object(f.__assign)(Object(f.__assign)({},ut),n),titleStyle:Object(f.__assign)(Object(f.__assign)({},pt),r),width:156,height:16},l),o))||this}function Bt(t){var n=H.call(this)||this;n.onMouseMove=function(t){var e=t.clientX,i=t.clientY;n.updateSliderStatus(e,i)},n.onMouseUp=function(){n.clearAllEvents&&n.clearAllEvents(),n.currentTarget=void 0};var e=t.layout,i=t.sliderType,r=t.sliderSize,o=t.operational,a=t.width,s=t.height,l=t.textStyle,u=t.min,c=t.max,h=t.range,p=t.formatter;n.layout=e,n.sliderType=i;var f=r||[],d=f[0],g=void 0===d?8:d,v=f[1],y=void 0===v?16:v;return n.sliderSize=[g,y],n.operational=o,n.width=a,n.height=s,n.min=u,n.max=c,n.range=h,n.textStyle=l,n.formatter=p,n.initialSlider(),n}function Et(t){var e=G.call(this,Object(f.__assign)({type:"base",title:null,items:null,formatter:null,offsetX:0,offsetY:0},t))||this;return e.init(),e.render(),e.bindEvents(),e}function Ft(t){return void 0===t&&(t={}),W.call(this,Object(f.__assign)({type:"line",x:null,y:null,isVertical:!1,start:null,end:null},t))||this}function Rt(t){return void 0===t&&(t={}),X.call(this,Object(f.__assign)({type:"helix",startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,inner:0,a:0,center:null,axisStart:null,crp:[]},t))||this}function Nt(t){return void 0===t&&(t={}),V.call(this,Object(f.__assign)({type:"circle",startAngle:-Math.PI/2,endAngle:3*Math.PI/2},t))||this}function zt(t){var e=q.call(this,Object(f.__assign)({type:"base",id:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},subTickCount:0,subTickLine:null,grid:null,label:null,title:null,autoRotateLabel:!0,autoHideLabel:!1,autoRotateTitle:!0,gridType:"line",ticks:[],labelItems:[],gridPoints:[]},t))||this;return e._processTicks(),e}function Yt(t){var e=U.call(this,Object(f.__assign)({backgroundStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:P,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:P,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:P,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200},t))||this;if(e.get("crosshairs")){var i=e.get("frontgroundGroup"),n=new k(M.mix({plot:i,panelRange:e.get("panelRange"),canvas:e.get("canvas")},e.get("crosshairs")));n.hide(),e.set("crosshairGroup",n)}return e._init_(),e.get("items")&&e.render(),e}function Ht(t){var e,i,n=Z.call(this,Object(f.__assign)({containerTpl:'<div class="g2-tooltip">\n        <div class="g2-tooltip-title"></div>\n        <ul class="g2-tooltip-list"></ul>\n        </div>',itemTpl:'<li data-index={index}>\n        <span style="background-color:{color};" class="g2-tooltip-marker"></span>\n        {name}<span class="g2-tooltip-value">{value}</span></li>',htmlContent:null,follow:!0,enterable:!1},t))||this,r=A;n.style=(e=r,i=t,Object.keys(e).forEach(function(t){i[t]&&(e[t]=M.mix(e[t],i[t]))}),e),n._init_(),n.get("items")&&n.render();var o=n.get("crosshairs");if(o){var a="rect"===o.type?n.get("backgroundGroup"):n.get("frontgroundGroup"),s=new k(M.mix({plot:a,panelRange:n.get("panelRange"),canvas:n.get("canvas")},n.get("crosshairs")));s.hide(),n.set("crosshairGroup",s)}return n}function Gt(t,e){var i=t.className;return M.isNil(i)||-1<(i=i.split(" ")).indexOf(e)?t:t.parentNode?t.parentNode.className===e?t.parentNode:Gt(t.parentNode,e):null}function Wt(t,e){return t.getElementsByClassName(e)[0]}var Xt,Vt,qt,Ut,Zt,Qt,$t,Kt,Jt,te,ee=(te=_t,Object(f.__extends)(be,te),be.prototype.init=function(){var t=this.get("fontFamily"),e=this.get("layout"),i=this.get("maxWidth"),n=this.get("maxHeight"),r=this.get("prefixClassName"),o=this.get("containerTpl");o=o||'<div class="'+r+'">\n        <div class="'+r+'-title"></div>\n        <ul class="'+r+'-list"></ul>\n      </div>';var a=_.createDom(o),s=M.deepMix({},wt,this.get("backgroundStyle"));_.modifyCSS(a,Object(f.__assign)({fontFamily:t,maxHeight:n+"px",width:"100%",height:"auto"},s)),"horizontal"===e&&_.modifyCSS(a,{maxWidth:i+"px"});var l=this.get("container");if(l)if(/^\#/.test(l)){var u=l.replace("#","");(l=document.getElementById(u)).appendChild(a)}else l.appendChild(a);else this.get("canvas").get("el").parentNode.appendChild(a);this.set("_legendContainer",a)},be.prototype.renderTitle=function(){var t=this.get("title");if(t){var e=this.get("prefixClassName"),i=this.get("_legendContainer"),n=Wt(i,e+"-title");n||(n=_.createDom('<div class="'+e+'-title"></div>'),i.appendChild(n)),n.innerHTML=t;var r=M.deepMix({},St,this.get("titleStyle"));_.modifyCSS(n,r),this.set("_titleContainer",n)}},be.prototype.renderItems=function(){var u=this,t=this.get("items");if(t&&t.length){var e=this.get("_legendContainer"),i=this.get("layout"),c=this.get("prefixClassName");this.get("reversed")&&t.reverse();var h=Wt(e,c+"-list");h=h||_.createDom('<ul class="'+c+'-list"></ul>');var n=M.deepMix({},Ct,this.get("listStyle"));"horizontal"===i&&(n.width="max-content"),_.modifyCSS(h,n);var r=_.createDom("<div></div>");e.appendChild(r),r.appendChild(h),this.set("_clipContainer",r),this.set("_itemGroupContainer",h);var p=this.get("itemTpl");p=p||'<li class="'+c+'-item">\n      <span class="'+c+'-item-marker"></span>\n      <span class="'+c+'-item-text"></span>\n      </li>';var f=this.get("unSelectedColor"),d=M.deepMix({},Ot,this.get("itemStyle")),g=M.deepMix({},kt,this.get("markerStyle"));"horizontal"===i?d.display="inline-block":"vertical"===i&&(d.display="block");var v={};M.each(t,function(t,e){var i,n=t.checked,r=u.formatterValue(t.value),o=t.marker.fill||t.marker.stroke,a=n?o:f;if(M.isFunction(p)){var s=p(r,a,n,e);i=_.createDom(s)}else Wt(i=_.createDom(p),c+"-item-text").innerHTML=r;d.color=a,g.backgroundColor=a,_.modifyCSS(i,d),i.setAttribute("data-checked",n),i.setAttribute("data-value",t.value),i.setAttribute("data-color",o);var l=Wt(i,c+"-item-marker");l&&_.modifyCSS(l,g),h.appendChild(i),v[t.value]=t}),this.set("_itemMap",v),"horizontal"===i?this._renderHorizontalPagination():this._renderPagination()}},be.prototype.bindEvents=function(){var e=this,t=this.get("_itemGroupContainer");t&&(this.get("clickable")&&(t.onclick=function(t){return e._onClick(t)}),this.get("hoverable")&&(t.onmousemove=function(t){return e._onMousemove(t)},t.onmouseout=function(t){return e._onMouseout(t)}))},be.prototype.getWidth=function(){var t=this.get("_legendContainer");return _.getOuterWidth(t)},be.prototype.getHeight=function(){var t=this.get("_legendContainer");return _.getOuterHeight(t)},be.prototype.getBBox=function(){return new $.BBox(this.get("x")||0,this.get("y")||0,this.getWidth(),this.getHeight())},be.prototype.moveTo=function(t,e){var i=this.get("_legendContainer");_.modifyCSS(i,{left:t+"px",top:e+"px"}),this.set("x",t),this.set("y",e)},be.prototype.destroy=function(){te.prototype.destroy.call(this);var t=this.get("_legendContainer");t&&t.parentNode&&t.parentNode.removeChild(t)},be.prototype.draw=function(){return null},be.prototype._updateStatus=function(t,e,i,n){e&&(e.style.background=i),t.style.color=i,t.setAttribute("data-checked",n)},be.prototype._onClick=function(t){var i=this,e=(this.get("items"),this.get("_itemGroupContainer")),n=this.get("prefixClassName"),r=n+"-item",o=n+"-item-marker",a=t.target,s=a.className.split(" ");if(!(-1<M.indexOf(s,n+"-list"))){var l=Gt(a,r),u=Wt(l,o),c=this.get("_itemMap"),h=c[l.getAttribute("data-value")],p=l.getAttribute("data-color"),f=this.get("selectedMode"),d=this.get("unSelectedColor"),g=e.childNodes;if("single"===f)h.checked=!0,M.each(g,function(t){if(t!==l){var e=Wt(t,o);i._updateStatus(t,e,d,"false"),c[t.getAttribute("data-value")].checked=!1}else i._updateStatus(l,u,p,"true")});else{var v="true"===l.getAttribute("data-checked"),y=0;if(M.each(g,function(t){"true"===t.getAttribute("data-checked")&&y++}),!this.get("allowAllCanceled")&&v&&1===y)return;h.checked=!h.checked,v?this._updateStatus(l,u,d,"false"):this._updateStatus(l,u,p,"true")}this.emit("itemclick",{item:h,currentTarget:l,checked:"single"===f||h.checked})}},be.prototype._onMousemove=function(t){var e=this.get("_lastActiveItem"),i=(this.get("items"),this.get("_itemMap")),n=this.get("prefixClassName"),r=n+"-list",o=n+"-item",a=t.target,s=a.className.split(" ");if(!(-1<M.indexOf(s,r))){var l=Gt(a,o),u=i[l.getAttribute("data-value")];if(u){var c=this.get("highlight");u.checked&&e!==u&&(l.className+=" active",c&&this.get("_itemGroupContainer").childNodes.forEach(function(t){t!==l&&"true"===t.getAttribute("data-checked")&&(t.className+=" inactive")}),this.set("_lastActiveItem",u)),this.emit("itemmouseover",{item:u,currentTarget:l,checked:u.checked})}}},be.prototype._onMouseout=function(t){this.get("_itemGroupContainer").childNodes.forEach(function(t){var e=t.className.split(" ");M.remove(e,function(t){return"active"===t||"inactive"===t}),t.className=e.join(" ")}),this.set("_lastActiveItem",null),this.emit("itemmouseleave",t)},be.prototype._renderPagination=function(){var t=this.get("pagination"),e=this.get("_legendContainer"),i=this.get("_itemGroupContainer");if(t&&e.scrollHeight>e.offsetHeight){_.modifyCSS(e,{overflow:"hidden",height:this.get("maxHeight")+"px"});var n=_.createDom('\n      <div style="position: absolute;bottom: 0;left: 0;user-select: none;margin-top: 5px;">\n        <div class="pre-page"\n          style="display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;">\n        </div>\n        <span class="current-page-number">1</span> /  <span class="total-page-number">0</span>\n        <div class="next-page"\n          style="display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;">\n        </div>\n      </div>\n    ');e.appendChild(n);var r=this.getHeight()-(this.get("_titleContainer")?_.getOuterHeight(this.get("_titleContainer")):0)-_.getOuterHeight(n),o=i.offsetHeight,a=this.get("_clipContainer");_.modifyCSS(a,{maxHeight:r+"px",overflow:"hidden"});var s=Math.ceil(o/r),l=_.getOuterHeight(i.childNodes[0]),u=Math.floor(r/l)*l,c=Wt(n,"current-page-number"),h=Wt(n,"total-page-number"),p=Wt(n,"pre-page"),f=Wt(n,"next-page");h.innerHTML=s;var d=M.deepMix({},Pt,t),g={cursor:"pointer",border:d.activeColor+" solid",borderWidth:"2px 2px 0 0",width:d.arrowSize+"px",height:d.arrowSize+"px"},v={cursor:"default",border:d.inactiveColor+" solid",borderWidth:"2px 2px 0 0",width:d.arrowSize+"px",height:d.arrowSize+"px"};_.modifyCSS(p,v),_.modifyCSS(f,g),d.animation&&_.modifyCSS(i,{transition:"transform .3s ease-in"});var y=1,m=0;p.onclick=function(){1!==y&&(--y,m+=u,c.innerHTML=y,_.modifyCSS(p,g),_.modifyCSS(f,g),_.modifyCSS(i,{transform:"translateY("+m+"px)"}),1===y&&_.modifyCSS(p,v))},f.onclick=function(){y!==s&&(y+=1,m-=u,c.innerHTML=y,_.modifyCSS(f,g),_.modifyCSS(p,g),_.modifyCSS(i,{transform:"translateY("+m+"px)"}),y===s&&_.modifyCSS(f,v))}}},be.prototype._renderHorizontalPagination=function(){var t=this.get("pagination"),e=this.get("_legendContainer"),i=this.get("_itemGroupContainer");if(t&&e.scrollWidth>e.offsetWidth){_.modifyCSS(e,{overflow:"hidden",width:this.get("maxWidth")+"px"});var n=_.createDom('\n      <div style="position: absolute;bottom: 4px;right: 12px;user-select: none;margin-top: 5px;background: #fff;">\n        <div class="pre-page"\n          style="display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;">\n        </div>\n        <span class="current-page-number">1</span> /  <span class="total-page-number">0</span>\n        <div class="next-page"\n          style="display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;">\n        </div>\n      </div>\n    ');e.appendChild(n);var r=this.getWidth()-_.getOuterWidth(n)-40,o=i.offsetWidth,a=this.get("_clipContainer");_.modifyCSS(a,{maxWidth:r+"px",overflow:"hidden"});var s=Math.ceil(o/r),l=(_.getOuterWidth(i.childNodes[0]),r),u=Wt(n,"current-page-number"),c=Wt(n,"total-page-number"),h=Wt(n,"pre-page"),p=Wt(n,"next-page");c.innerHTML=s;var f=M.deepMix({},Pt,t),d={cursor:"pointer",border:f.activeColor+" solid",borderWidth:"2px 2px 0 0",width:f.arrowSize+"px",height:f.arrowSize+"px"},g={cursor:"default",border:f.inactiveColor+" solid",borderWidth:"2px 2px 0 0",width:f.arrowSize+"px",height:f.arrowSize+"px"};_.modifyCSS(h,g),_.modifyCSS(p,d),f.animation&&_.modifyCSS(i,{transition:"transform .3s ease-in"});var v=1,y=0;h.onclick=function(){1!==v&&(--v,y+=l,u.innerHTML=v,_.modifyCSS(h,d),_.modifyCSS(p,d),_.modifyCSS(i,{transform:"translateX("+y+"px)"}),1===v&&_.modifyCSS(h,g))},p.onclick=function(){v!==s&&(v+=1,y-=l,u.innerHTML=v,_.modifyCSS(p,d),_.modifyCSS(h,d),_.modifyCSS(i,{transform:"translateX("+y+"px)"}),v===s&&_.modifyCSS(p,g))}}},be),ie=(Jt=c,Object(f.__extends)(xe,Jt),xe.prototype.clear=function(){var t=this.get("el");t&&t.remove()},xe.prototype.changeVisible=function(t){this.set("visible",t);var e=this.get("el");e instanceof $.Element?e.set("visible",t):e instanceof HTMLElement&&(e.style.display=t?"":"none")},xe.prototype.change=function(t){this.cfg=M.deepMix({},this.cfg,t)},xe.prototype.get=function(t){return this.cfg[t]},xe.prototype.set=function(t,e){return this.cfg[t]=e,this},xe.prototype.parsePoint=function(t,e){var i=this.get("xScales"),n=this.get("yScales"),r=M.isFunction(e)?e.call(null,i,n):e,o=0,a=0;if(M.isArray(r)&&M.includes(r[0],"%"))return this.parsePercentPoint(t,r);if(M.isArray(r))o=this.getNormalizedValue(r[0],M.head(M.values(i))),a=this.getNormalizedValue(r[1],M.head(M.values(n)));else if(!M.isNil(r))for(var s=0,l=M.keys(r);s<l.length;s++){var u=l[s],c=r[u];i[u]&&(o=this.getNormalizedValue(c,i[u])),n[u]&&(a=this.getNormalizedValue(c,n[u]))}return t.convert({x:o,y:a})},xe.prototype.getNormalizedValue=function(t,e){var i,n;switch(t){case"start":i=0;break;case"end":i=1;break;case"median":n=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,i=e.scale(n);break;case"min":case"max":n=e.isCategory?"min"===t?0:e.values.length-1:e[t],i=e.scale(n);break;default:i=e.scale(t)}return i},xe.prototype.parsePercentPoint=function(t,e){var i=parseFloat(e[0])/100,n=parseFloat(e[1])/100,r=t.start,o=t.end,a=Math.min(r.x,o.x),s=Math.min(r.y,o.y);return{x:t.getWidth()*i+a,y:t.getHeight()*n+s}},xe),ne=(Kt=ie,Object(f.__extends)(me,Kt),me.prototype.render=function(t,e){var i=this,n=this.parsePoint(t,this.get("start")),r=this.parsePoint(t,this.get("end")),o=e.addGroup();this.drawLines(n,r,o);var a=this.get("text");a.display&&a.content&&this.drawText(n,r,o),o.get("children").forEach(function(t){t.name="annotation-line",i.get("appendInfo")&&t.setSilent("appendInfo",i.get("appendInfo"))}),this.set("el",o)},me.prototype.drawLines=function(t,e,i){var n=[["M",t.x,t.y],["L",e.x,e.y]];i.addShape("Path",{attrs:M.assign({path:n},this.get("line").style)})},me.prototype.drawText=function(t,e,i){var n=this.get("text"),r=n.position,o=n.style||{},a=1;"start"===r?a=0:"center"===r?a=.5:!M.isNil(r)&&M.includes(r,"%")?a=parseInt(r,10)/100:M.isNumber(r)&&0<=r&&r<1&&(a=r);var s={x:t.x+(e.x-t.x)*a,y:t.y+(e.y-t.y)*a,text:n.content};if(n.offsetX&&(s.x+=n.offsetX),n.offsetY&&(s.y+=n.offsetY),M.assign(s,o),n.autoRotate&&M.isNil(o.rotate)){var l=K.vec2.angleTo([e.x-t.x,e.y-t.y],[1,0],1);s.rotate=l}else M.isNil(o.rotate)||(s.rotate=o.rotate*Math.PI/180);i.addShape("Text",{attrs:s})},me),re=($t=ie,Object(f.__extends)(ye,$t),ye.prototype.render=function(t,e){var i=this.parsePoint(t,this.get("position")),n=M.clone(this.get("style")),r=this.get("offsetX"),o=this.get("offsetY");r&&(i.x+=r),o&&(i.y+=o),n.rotate&&(n.rotate=n.rotate*Math.PI/180);var a=e.addShape("Text",{zIndex:this.get("zIndex"),attrs:M.assign({text:this.get("content")},n,i)});a.name="annotation-text",this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo")),this.set("el",a)},ye),oe=(Qt=ie,Object(f.__extends)(ve,Qt),ve.prototype.render=function(t,e){var i=this.get("start"),n=this.get("end"),r=this.parsePoint(t,this.get("start")),o=this.parsePoint(t,this.get("end")),a=t.getCenter(),s=Math.sqrt((r.x-a.x)*(r.x-a.x)+(r.y-a.y)*(r.y-a.y)),l=[["M",r.x,r.y]];if(M.isNumberEqual(r.x,o.x)&&M.isNumberEqual(r.y,o.y))M.isEqual(i,n)?console.warn("start point is the same as end point!"):l=[["M",r.x,r.y],["A",s,s,0,1,1,2*a.x-r.x,2*a.y-r.y],["A",s,s,0,1,1,r.x,r.y]];else{var u=K.vec2.angleTo([a.x-r.x,a.y-r.y],[a.x-o.x,a.y-o.y],0)>Math.PI?1:0;l=[["M",r.x,r.y],["A",s,s,0,u,1,o.x,o.y]]}var c=e.addShape("path",{zIndex:this.get("zIndex"),attrs:M.assign({path:l},this.get("style"))});c.name="annotation-arc",this.get("appendInfo")&&c.setSilent("appendInfo",this.get("appendInfo")),this.set("el",c)},ve),ae=(Zt=ie,Object(f.__extends)(ge,Zt),ge.prototype.render=function(t,e){var i=this.get("style"),n=this.getPath(t),r=e.addShape("path",{zIndex:this.get("zIndex"),attrs:M.assign({path:n},i)});r.name="annotation-region",this.get("appendInfo")&&r.setSilent("appendInfo",this.get("appendInfo")),this.set("el",r)},ge.prototype.getPath=function(t){var e=this.parsePoint(t,this.get("start")),i=this.parsePoint(t,this.get("end"));return[["M",e.x,e.y],["L",i.x,e.y],["L",i.x,i.y],["L",e.x,i.y],["z"]]},ge),se=(Ut=ie,Object(f.__extends)(de,Ut),de.prototype.render=function(t,e){var i=this.parsePoint(t,this.get("start")),n={x:i.x,y:i.y,img:this.get("src")};if(this.get("end")){var r=this.parsePoint(t,this.get("end"));n.width=r.x-i.x,n.height=r.y-i.y}else n.width=this.get("width")||32,n.height=this.get("height")||32;this.get("offsetX")&&(n.x+=this.get("offsetX")),this.get("offsetY")&&(n.y+=this.get("offsetY"));var o=e.addShape("Image",{zIndex:1,attrs:n});o.name="annotation-image",this.get("appendInfo")&&o.setSilent("appendInfo",this.get("appendInfo")),this.set("el",o)},de),le=(qt=ie,Object(f.__extends)(fe,qt),fe.prototype.render=function(t,e){var i=this.parsePoint(t,this.get("position")),n=e.get("canvas").get("el").parentNode,r=_.createDom('<div class="guide-annotation"></div>');n.appendChild(r);var o=this.get("html");M.isFunction(o)&&(o=o(this.get("xScales"),this.get("yScales")));var a=M.isElement(o)?o:_.createDom(o);r.appendChild(a),_.modifyCSS(r,{position:"absolute"}),this.setDomPosition(r,a,i),this.set("el",r)},fe.prototype.clear=function(){var t=this.get("el");t&&t.parentNode&&t.parentNode.removeChild(t)},fe.prototype.setDomPosition=function(t,e,i){var n=this.get("alignX"),r=this.get("alignY"),o=_.getOuterWidth(e),a=_.getOuterHeight(e),s={x:i.x,y:i.y};"middle"===n?s.x-=Math.round(o/2):"right"===n&&(s.x-=Math.round(o)),"middle"===r?s.y-=Math.round(a/2):"bottom"===r&&(s.y-=Math.round(a));var l=this.get("offsetX");l&&(s.x+=l);var u=this.get("offsetY");u&&(s.y+=u),_.modifyCSS(t,{top:Math.round(s.y)+"px",left:Math.round(s.x)+"px",zIndex:this.get("zIndex")})},fe),ue=(Vt=ie,Object(f.__extends)(pe,Vt),pe.prototype.render=function(t,e){var i,n,r=this,o=this.parsePoint(t,this.get("position")),a=e.addGroup(),s=this.getElementPosition(o),l=this.get("line"),u=this.get("point"),c=this.get("text");if(l.display){var h=s.line;i=this.drawLine(h,a)}if(c.display&&c.content){var p=s.text;n=this.drawText(p,a)}if(u.display){var f=s.point;this.drawPoint(f,a)}if(this.get("autoAdjust")){var d=a.getBBox(),g=d.minX,v=d.minY,y=d.maxX,m=d.maxY,x=t.start,b=t.end;if(n){g<=x.x&&n.attr("textAlign","start"),y>=b.x&&n.attr("textAlign","end");var _=this.get("direction");if("upward"===_&&v<=b.y||"upward"!==_&&m>=x.y){var M=void 0,w=void 0;w="upward"===_&&v<=b.y?(M="top",1):(M="bottom",-1),n.attr("textBaseline",M);var S=0;if(l.display){S=l.lineLength;var C=[["M",o.x,o.y],["L",o.x,o.y+S*w]];i.attr("path",C)}var O=o.y+(S+2)*w;n.attr("y",O)}}}a.get("children").forEach(function(t){t.name="annotation-data-marker",r.get("appendInfo")&&t.setSilent("appendInfo",r.get("appendInfo"))}),this.set("el",a)},pe.prototype.getElementPosition=function(t){var e=t.x,i=t.y,n=this.get("line").display?this.get("line").lineLength:0,r=this.get("direction");this.get("text").style.textBaseline="upward"===r?"bottom":"top";var o="upward"===r?-1:1;return{point:{x:e,y:i},line:[{x:e,y:i},{x:e,y:n*o+i}],text:{x:e,y:(n+2)*o+i}}},pe.prototype.drawLine=function(t,e){var i=this.get("line").style,n=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y]];return e.addShape("path",{attrs:M.assign({path:n},i)})},pe.prototype.drawText=function(t,e){var i=this.get("text");return e.addShape("text",{attrs:M.assign({text:i.content},i.style,t)})},pe.prototype.drawPoint=function(t,e){var i=this.get("point").style;return e.addShape("circle",{attrs:M.assign({},i,t)})},pe),ce=(Xt=ie,Object(f.__extends)(he,Xt),he.prototype.render=function(t,e,i){var n=this,r=this.get("region"),o=this.get("text"),a=r.lineLength,s=this.getRegionData(t,i);if(s.length){var l=this.getBBox(s),u=[];u.push(["M",s[0].x,l.minY-a]);for(var c=0,h=s.length;c<h;c++){var p=["L",s[c].x,s[c].y];u.push(p)}u.push(["L",s[s.length-1].x,l.minY-a]);var f=e.addGroup();f.addShape("path",{attrs:M.mix({path:u},r.style)}),o.display&&o.content&&f.addShape("Text",{attrs:M.mix({x:(l.minX+l.maxX)/2,y:l.minY-a,text:o.content},o.style)}),f.get("children").forEach(function(t){t.name="annotation-data-region",n.get("appendInfo")&&t.setSilent("appendInfo",n.get("appendInfo"))}),this.set("el",f)}},he.prototype.getRegionData=function(t,e){for(var i,n=this.get("start"),r=this.get("end"),o=M.head(M.values(this.get("xScales"))).field,a=M.head(M.values(this.get("yScales"))).field,s=M.isArray(n)?n[0]:n[o],l=M.isArray(r)?r[0]:r[o],u=[],c=0,h=e.length;c<h;c++){var p=e[c];if(p[o]===s&&(i=c),i<=c&&u.push(this.parsePoint(t,[p[o],p[a]])),p[o]===l)break}return u},he.prototype.getBBox=function(t){for(var e=[],i=[],n=0;n<t.length;n++)e.push(t[n].x),i.push(t[n].y);var r=M.getRange(e),o=M.getRange(i);return $.BBox.fromRange(r.min,o.min,r.max,o.max)},he);function he(t){return Xt.call(this,M.deepMix({type:"dataRegion",start:null,end:null,region:{lineLength:0,style:{lineWidth:0,fill:"#000000",opacity:.04}},text:{display:!0,content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},t))||this}function pe(t){return Vt.call(this,M.deepMix({type:"dataMarker",zIndex:1,position:null,point:{display:!0,style:{r:3,fill:"#ffffff",stroke:"#1890FF",lineWidth:2}},line:{display:!0,lineLength:20,style:{stroke:"#A3B1BF",lineWidth:1}},text:{display:!0,style:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},direction:"upward",autoAdjust:!0},t))||this}function fe(t){return qt.call(this,Object(f.__assign)({type:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null},t))||this}function de(t){return Ut.call(this,Object(f.__assign)({type:"image",start:null,end:null,src:""},t))||this}function ge(t){return Zt.call(this,Object(f.__assign)({type:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}},t))||this}function ve(t){return Qt.call(this,Object(f.__assign)({type:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}},t))||this}function ye(t){return $t.call(this,Object(f.__assign)({type:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"}},t))||this}function me(t){return Kt.call(this,M.deepMix({type:"line",xScales:null,yScales:null,line:{style:{stroke:"#000"}},text:{display:!0,position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:P}}},t))||this}function xe(t){return Jt.call(this,Object(f.__assign)({xScales:null,yScales:null,el:null},t))||this}function be(t){return te.call(this,Object(f.__assign)({type:"html-legend",prefixClassName:"g2-legend",pagination:!0,highlight:!1},t))||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new b.ARRAY_TYPE(9);return b.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new b.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,i,n,r,o,a,s,l){var u=new b.ARRAY_TYPE(9);return u[0]=t,u[1]=e,u[2]=i,u[3]=n,u[4]=r,u[5]=o,u[6]=a,u[7]=s,u[8]=l,u},e.set=function(t,e,i,n,r,o,a,s,l,u){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,p=-c*o+s*l,f=u*o-a*l,d=i*h+n*p+r*f;return d?(d=1/d,t[0]=h*d,t[1]=(-c*n+r*u)*d,t[2]=(s*n-r*a)*d,t[3]=p*d,t[4]=(c*i-r*l)*d,t[5]=(-s*i+r*o)*d,t[6]=f*d,t[7]=(-u*i+n*l)*d,t[8]=(a*i-n*o)*d,t):null},e.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=r*u-n*c,t[2]=n*s-r*a,t[3]=s*l-o*c,t[4]=i*c-r*l,t[5]=r*o-i*s,t[6]=o*u-a*l,t[7]=n*l-i*u,t[8]=i*a-n*o,t},e.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*o-a*l)+i*(-u*r+a*s)+n*(l*r-o*s)},e.multiply=n,e.translate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=i[0],f=i[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=p*n+f*a+u,t[7]=p*r+f*s+c,t[8]=p*o+f*l+h,t},e.rotate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=Math.sin(i),f=Math.cos(i);return t[0]=f*n+p*a,t[1]=f*r+p*s,t[2]=f*o+p*l,t[3]=f*a-p*n,t[4]=f*s-p*r,t[5]=f*l-p*o,t[6]=u,t[7]=c,t[8]=h,t},e.scale=function(t,e,i){var n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i+i,s=n+n,l=r+r,u=i*a,c=n*a,h=n*s,p=r*a,f=r*s,d=r*l,g=o*a,v=o*s,y=o*l;return t[0]=1-h-d,t[3]=c-y,t[6]=p+v,t[1]=c+y,t[4]=1-u-d,t[7]=f-g,t[2]=p-v,t[5]=f+g,t[8]=1-u-h,t},e.normalFromMat4=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],g=e[13],v=e[14],y=e[15],m=i*s-n*a,x=i*l-r*a,b=i*u-o*a,_=n*l-r*s,M=n*u-o*s,w=r*u-o*l,S=c*g-h*d,C=c*v-p*d,O=c*y-f*d,k=h*v-p*g,P=h*y-f*g,A=p*y-f*v,L=m*A-x*P+b*k+_*O-M*C+w*S;return L?(L=1/L,t[0]=(s*A-l*P+u*k)*L,t[1]=(l*O-a*A-u*C)*L,t[2]=(a*P-s*O+u*S)*L,t[3]=(r*P-n*A-o*k)*L,t[4]=(i*A-r*O+o*C)*L,t[5]=(n*O-i*P-o*S)*L,t[6]=(g*w-v*M+y*_)*L,t[7]=(v*b-d*w-y*x)*L,t[8]=(d*M-g*b+y*m)*L,t):null},e.projection=function(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t},e.subtract=r,e.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t},e.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=e[0],p=e[1],f=e[2],d=e[3],g=e[4],v=e[5],y=e[6],m=e[7],x=e[8];return Math.abs(i-h)<=b.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-p)<=b.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(r-f)<=b.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-d)<=b.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-g)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=b.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-y)<=b.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(u-m)<=b.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-x)<=b.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))};var b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(40));function n(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=i[0],f=i[1],d=i[2],g=i[3],v=i[4],y=i[5],m=i[6],x=i[7],b=i[8];return t[0]=p*n+f*a+d*u,t[1]=p*r+f*s+d*c,t[2]=p*o+f*l+d*h,t[3]=g*n+v*a+y*u,t[4]=g*r+v*s+y*c,t[5]=g*o+v*l+y*h,t[6]=m*n+x*a+b*u,t[7]=m*r+x*s+b*c,t[8]=m*o+x*l+b*h,t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}e.mul=n,e.sub=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(4)),c=n.__importStar(i(0));function a(t){var e=0;return c.each(t,function(t){e+=t*t}),Math.sqrt(e)}function s(t,e){return t.x*e.y+t.y*e.x}function w(t,e,i){void 0===i&&(i=1);var n=[t.x,t.y,i];return r.vec3.transformMat3(n,n,e),{x:n[0],y:n[1]}}function f(t,e,i){return e<=t&&t<=i}function o(t,e){for(var i=!1,n=0,r=e.length-1;n<e.length;r=n++){var o=e[n].x,a=e[n].y,s=e[r].x,l=e[r].y;a>t.y!=l>t.y&&t.x<=(s-o)*(t.y-a)/(l-a)+o&&(i=!i)}return i}function l(t){return t*t}function h(t,e){return Math.sqrt(l(t.x-e.x)+l(t.y-e.y))}function d(t,e,i){var n=h(e,i);if(0===n)return h(t,e);var r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;r=Math.max(0,Math.min(1,r));var o=h(t,{x:e.x+r*(i.x-e.x),y:e.y+r*(i.y-e.y)});return Math.sqrt(o)}function u(i,t){var n=1/0;c.each(t,function(t){var e=Math.sqrt(h(t,i));e<n&&(n=e)});for(var e=0,r=t.length-1;e<t.length;r=e++){var o=t[e].x,a=t[e].y,s=t[r].x,l=t[r].y,u=d(i,{x:o,y:a},{x:s,y:l});u<n&&(n=u)}return n}function p(t,e){for(var i=0,n=t;i<n.length;i++)if(o(n[i],e))return!0;return!1}e.dotProduct2D=s,e.angleTo=function(t,e){var i=a(t),n=a(e),r=s(t,e);return Math.acos(r/i/n)},e.crossProduct2D=function(t,e){var i=a(t),n=a(e),r=s(t,e),o=Math.acos(r/i/n);return i*n*Math.sin(o)},e.crossProduct3D=function(t,e){var i=t.x,n=t.y,r=t.z,o=e.x,a=e.y,s=e.z;return{x:n*s-r*a,y:r*o-i*s,z:i*a-n*o}},e.sub2D=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e.applyMatrix=w,e.isBetween=f,e.getLineIntersect=function(t,e,i,n){var r=i.x-t.x,o=i.y-t.y,a=e.x-t.x,s=e.y-t.y,l=n.x-i.x,u=n.y-i.y,c=a*u-s*l,h=null;if(.001*(a*a+s*s)*(l*l+u*u)<c*c){var p=(r*u-o*l)/c;f(p,0,1)&&f((r*s-o*a)/c,0,1)&&(h={x:t.x+p*a,y:t.y+p*s})}return h},e.isPointInPolygon=o,e.dist2=h,e.distBetweenPoints=function(t,e){return Math.sqrt(l(t.x-e.x)+l(t.y-e.y))},e.distBetweenPointLine=d,e.isPolygonIntersection=p,e.minDistBetweenConvexPolygon=function(i,n){if(p(i,n))return 0;var r=1/0,o=1/0;return c.each(i,function(t){var e=u(t,n);e<r&&(r=e)}),c.each(n,function(t){var e=u(t,i);e<o&&(o=e)}),Math.min(r,o)},e.bboxOnRotate=function(t){var e=t.getBBox(),i=e.minX,n=e.minY,r=e.tr.x-e.tl.x,o=e.bl.y-e.tl.y,a=t.attr("matrix"),s=[a[0],a[1],0,a[3],a[4],0,0,0,1],l=w({x:0,y:0},s);l.x+=i,l.y+=n;var u=w({x:r,y:0},s);u.x+=i,u.y+=n;var c=w({x:0,y:o},s);c.x+=i,c.y+=n;var h=w({x:r,y:o},s);h.x+=i,h.y+=n;var p=[l,u,c,h];p.sort(function(t,e){return t.y-e.y});var f=p[0].y,d=p[p.length-1].y,g=[p[0],p[1]],v=[p[2],p[3]],y=g[0].x<g[1].x?g[0]:g[1],m=g[0].x<g[1].x?g[1]:g[0],x=v[0].x<v[1].x?v[0]:v[1],b=v[0].x<v[1].x?v[1]:v[0];p.sort(function(t,e){return t.x-e.x});var _=p[0].x,M=p[p.length-1].x;return{width:M-_,height:d-f,left:_,right:M,top:f,bottom:d,topLeft:y,topRight:m,bottomLeft:x,bottomRight:b,centerX:_+(M-_)/2,centerY:f+(d-f)/2}},e.lineSimplification=function(t){return t.length<5?t:function t(e,i){for(var n,r=-1/0,o=0,a=e.length-1,s=1;s<a;s++){var l=e[s],u={start:e[0],end:e[a]},c=d(l,u.start,u.end);r<c&&(r=c,o=s)}if(i<r){var h=t(e.slice(0,o+1),i),p=t(e.slice(o,e.length),i);n=h.concat(p)}else n=[e[0],e[e.length-1]];return n}(t,2)},e.getMedian=function(t){var e=c.clone(t);e.sort(function(t,e){return t-e});var i=Math.floor(e.length/2);return e.length%2?e[i]:(e[i-1]+e[i])/2},e.getMean=function(t){var e=0;return c.each(t,function(t){e+=t}),e/t.length},e.sturges=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,i){"use strict";i.r(e);function c(t,e,i,n){return t[n]+(e[n]-t[n])*i}var a=i(0),n=/rgba?\(([\s.,0-9]+)\)/,s=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,l=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t){return"#"+o(t[0])+o(t[1])+o(t[2])}function r(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}function o(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e}function p(t){if("#"===t[0]&&7===t.length)return t;var e;f||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),f=e),f.style.color=t;var i=document.defaultView.getComputedStyle(f,"").getPropertyValue("color");return h(n.exec(i)[1].split(/\s*,\s*/).map(function(t){return Number(t)}))}var f;e.default={rgb2arr:r,gradient:function(t){var e=Object(a.isString)(t)?t.split("-"):t,u=Object(a.map)(e,function(t){return r(-1===t.indexOf("#")?p(t):t)});return function(t){return e=u,i=t,n=isNaN(Number(i))||i<0?0:1<i?1:Number(i),r=e.length-1,o=Math.floor(r*n),a=r*n-o,s=e[o],l=o===r?s:e[o+1],h([c(s,l,a,0),c(s,l,a,1),c(s,l,a,2)]);var e,i,n,r,o,a,s,l}},toRGB:Object(a.memoize)(p),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var n,e=void 0;if("l"===t[0]){var i=+(r=s.exec(t))[1]+90;e=r[2],n="linear-gradient("+i+"deg, "}else if("r"===t[0]){var r;n="radial-gradient(",e=(r=l.exec(t))[4]}var o=e.match(u);return Object(a.each)(o,function(t,e){var i=t.split(":");n+=i[1]+" "+100*i[0]+"%",e!==o.length-1&&(n+=", ")}),n+=")"}return t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=i(57);e.extractScale=function(t,e){if(!e)return t;var i,n,r,o;Object.prototype.hasOwnProperty.call(e,"tickCount")&&(t.tickCount=e.tickCount),Object.prototype.hasOwnProperty.call(e,"type")&&"dateTime"!==e.type&&(t.type=e.type),Object.prototype.hasOwnProperty.call(e,"tickInterval")&&("time"===e.type?t.tickInterval=(i=e.tickInterval,r=a.timeIntervals[(n=i.split(" "))[1]],o=parseInt(n[0],10),[r.format,o*r.value]):t.tickInterval=e.tickInterval),"time"===e.type&&e.mask&&(t.mask=e.mask),Object.prototype.hasOwnProperty.call(e,"min")&&(t.min=e.min),Object.prototype.hasOwnProperty.call(e,"max")&&(t.max=e.max),Object.prototype.hasOwnProperty.call(e,"minLimit")&&(t.minLimit=e.minLimit),Object.prototype.hasOwnProperty.call(e,"maxLimit")&&(t.maxLimit=e.maxLimit),Object.prototype.hasOwnProperty.call(e,"nice")&&(t.nice=e.nice),Object.prototype.hasOwnProperty.call(e,"formatter")&&(t.formatter=e.formatter),e.tickMethod&&(t.tickMethod=e.tickMethod)},e.trySetScaleMinToZero=function(t,e){var i=o.filter(e,function(t){return o.isNumber(t)}),n=Math.min.apply(Math,i),r=Math.max.apply(Math,i);0<n?o.isNil(t.min)&&(t.min=0):r<=0&&o.isNil(t.max)&&(t.max=0)}},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return M}),i.d(e,"c",function(){return u}),i(39);var n=i(28),r=i.n(n);function o(t,e){for(var i=[],n=0,r=t.length;n<r-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4===n?o[3]={x:+t[0],y:+t[1]}:r-2===n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}i(56),i(104),i(0);var a="\t\n\v\f\r   ᠎             　\u2028\u2029",s=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig");function M(t){if(!t)return null;if(r()(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(l,function(t,e){e&&n.push(+e)}),"m"===r&&2<n.length&&(a.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===n.length&&a.push([e,n[0]]),"r"===r)a.push([e].concat(n));else for(;n.length>=o[r]&&(a.push([e].concat(n.splice(0,o[r]))),o[r]););return""}),a}var w=/[a-z]/;function S(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function x(t){var e=M(t);if(!e||!e.length)return[["M",0,0]];for(var i=!1,n=0;n<e.length;n++){var r=e[n][0];if(w.test(r)||0<=["V","H","T","S"].indexOf(r)){i=!0;break}}if(!i)return e;var o=[],a=0,s=0,l=0,u=0,c=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(l=a=+h[1],u=s=+h[2],c++,o[0]=["M",a,s]),n=c;for(var p=e.length;n<p;n++){var f=e[n],d=o[n-1],g=[],v=(r=f[0]).toUpperCase();if(r!==v)switch(g[0]=v,v){case"A":g[1]=f[1],g[2]=f[2],g[3]=f[3],g[4]=f[4],g[5]=f[5],g[6]=+f[6]+a,g[7]=+f[7]+s;break;case"V":g[1]=+f[1]+s;break;case"H":g[1]=+f[1]+a;break;case"M":l=+f[1]+a,u=+f[2]+s;break;default:for(var y=1,m=f.length;y<m;y++)g[y]=+f[y]+(y%2?a:s)}else g=e[n];switch(v){case"Z":a=+l,s=+u;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var x=S([d[1],d[2]],[d[3],d[4]]);g=["Q",x[0],x[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var b=d.length,_=S([d[b-4],d[b-3]],[d[b-2],d[b-1]]);g=["C",_[0],_[1],g[1],g[2],a,s];break;case"M":l=g[g.length-2],u=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}var b=function t(e,i,n,r,o,a,s,l,u,c){n===r&&(n+=1);function h(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}}var p,f,d,g,v,y=120*Math.PI/180,m=Math.PI/180*(+o||0),x=[];if(c)f=c[0],d=c[1],g=c[2],v=c[3];else{e=(p=h(e,i,-m)).x,i=p.y,l=(p=h(l,u,-m)).x,u=p.y,e===l&&i===u&&(l+=1,u+=1);var b=(e-l)/2,_=(i-u)/2,M=b*b/(n*n)+_*_/(r*r);1<M&&(n*=M=Math.sqrt(M),r*=M);var w=n*n,S=r*r,C=(a===s?-1:1)*Math.sqrt(Math.abs((w*S-w*_*_-S*b*b)/(w*_*_+S*b*b)));g=C*n*_/r+(e+l)/2,v=C*-r*b/n+(i+u)/2,f=Math.asin(Number(((i-v)/r).toFixed(9))),d=Math.asin(Number(((u-v)/r).toFixed(9))),f=e<g?Math.PI-f:f,d=l<g?Math.PI-d:d,f<0&&(f=2*Math.PI+f),d<0&&(d=2*Math.PI+d),s&&d<f&&(f-=2*Math.PI),!s&&f<d&&(d-=2*Math.PI)}var O=d-f;if(Math.abs(O)>y){var k=d,P=l,A=u;d=f+y*(s&&f<d?1:-1),x=t(l=g+n*Math.cos(d),u=v+r*Math.sin(d),n,r,o,0,s,P,A,[d,k,g,v])}O=d-f;var L=Math.cos(f),T=Math.sin(f),D=Math.cos(d),j=Math.sin(d),I=Math.tan(O/4),B=4/3*n*I,E=4/3*r*I,F=[e,i],R=[e+B*T,i-E*L],N=[l+B*j,u-E*D],z=[l,u];if(R[0]=2*F[0]-R[0],R[1]=2*F[1]-R[1],c)return[R,N,z].concat(x);for(var Y=[],H=0,G=(x=[R,N,z].concat(x).join().split(",")).length;H<G;H++)Y[H]=H%2?h(x[H-1],x[H],m).y:h(x[H],x[H+1],m).x;return Y},_=function(t,e,i,n){return[t,e,i,n,i,n]},C=function(t,e,i,n,r,o){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*o+2/3*n,r,o]};function u(t,e){function i(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(b.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":r="C"===i||"S"===i?(n=2*e.x-e.bx,2*e.y-e.by):(n=e.x,e.y),t=["C",n,r].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(C(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(C(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(_(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(_(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(_(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(_(e.x,e.y,e.X,e.Y))}return t}function n(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)c[e]="A",s&&(h[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),o=Math.max(a.length,s&&s.length||0)}}function r(t,e,i,n,r){t&&e&&"M"===t[r][0]&&"M"!==e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],o=Math.max(a.length,s&&s.length||0))}var o,a=x(t),s=e&&x(e),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],h=[],p="",f="";o=Math.max(a.length,s&&s.length||0);for(var d=0;d<o;d++){a[d]&&(p=a[d][0]),"C"!==p&&(c[d]=p,d&&(f=c[d-1])),a[d]=i(a[d],l,f),"A"!==c[d]&&"C"===p&&(c[d]="C"),n(a,d),s&&(s[d]&&(p=s[d][0]),"C"!==p&&(h[d]=p,d&&(f=h[d-1])),s[d]=i(s[d],u,f),"A"!==h[d]&&"C"===p&&(h[d]="C"),n(s,d)),r(a,s,l,u,d),r(s,a,u,l,d);var g=a[d],v=s&&s[d],y=g.length,m=s&&v.length;l.x=g[y-2],l.y=g[y-1],l.bx=parseFloat(g[y-4])||l.x,l.by=parseFloat(g[y-3])||l.y,u.bx=s&&(parseFloat(v[m-4])||u.x),u.by=s&&(parseFloat(v[m-3])||u.y),u.x=s&&v[m-2],u.y=s&&v[m-1]}return s?[a,s]:a}i(105),i(106)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=n,e.clone=function(t){var e=new a.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var i=new a.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,i){return t[0]=e,t[1]=i,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},e.subtract=r,e.multiply=o,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},e.distance=u,e.squaredDistance=c,e.length=h,e.squaredLength=p,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var i=e[0],n=e[1],r=i*i+n*n;return 0<r&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,i,n){var r=e[0],o=e[1];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t},e.random=function(t,e){e=e||1;var i=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},e.transformMat2=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t},e.transformMat2d=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t},e.transformMat3=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t},e.transformMat4=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t},e.rotate=function(t,e,i,n){var r=e[0]-i[0],o=e[1]-i[1],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*a+i[0],t[1]=r*a+o*s+i[1],t},e.angle=function(t,e){var i=t[0],n=t[1],r=e[0],o=e[1],a=i*i+n*n;0<a&&(a=1/Math.sqrt(a));var s=r*r+o*o;0<s&&(s=1/Math.sqrt(s));var l=(i*r+n*o)*a*s;return 1<l?0:l<-1?Math.PI:Math.acos(l)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var i=t[0],n=t[1],r=e[0],o=e[1];return Math.abs(i-r)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-o)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))};var l,a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(40));function n(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function o(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function s(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function u(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}function c(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function h(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function p(t){var e=t[0],i=t[1];return e*e+i*i}e.len=h,e.sub=r,e.mul=o,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=p,e.forEach=(l=n(),function(t,e,i,n,r,o){var a,s=void 0;for(e=e||2,i=i||0,a=n?Math.min(n*e+i,t.length):t.length,s=i;s<a;s+=e)l[0]=t[s],l[1]=t[s+1],r(l,l,o),t[s]=l[0],t[s+1]=l[1];return t})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(23);e.getGlobalTheme=n.getGlobalTheme,e.registerGlobalTheme=n.registerGlobalTheme;var r=i(131);e.getTheme=r.getTheme,e.registerTheme=r.registerTheme;var o=i(132);e.convertToG2Theme=o.convertToG2Theme},function(t,e,i){"use strict";function n(t){var e;return 1===(e=(e=Math.round(t)).toString(16)).length&&(e="0"+t),e}Object.defineProperty(e,"__esModule",{value:!0}),e.rgb2arr=function(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e},e.toHex=n,e.arr2rgb=function(t){return"#"+(n(t[0])+n(t[1])+n(t[2]))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.on=function(t,e,i){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!i}),this},r.prototype.once=function(t,e){return this.on(t,e,!0),this},r.prototype.emit=function(o){for(var a=this,s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];function e(t){for(var e=t.length,i=0;i<e;i++){var n=t[i],r=n.callback;n.once&&(t.splice(i,1),0===t.length&&delete a._events[o],e--,i--),r.apply(a,s)}}var i=this._events[o]||[],n=this._events["*"]||[];e(i),e(n)},r.prototype.off=function(t,e){if(t)if(e){for(var i=this._events[t]||[],n=i.length,r=0;r<n;r++)i[r].callback===e&&(i.splice(r,1),n--,r--);0===i.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},r.prototype.getEvents=function(){return this._events},r);function r(){this._events={}}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(69),o=i(130),a={default:r.DEFAULT_GLOBAL_THEME,dark:o.DEFAULT_DARK_THEME};function s(t){return void 0===t&&(t="default"),a[t.toLowerCase()]||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",t),r.DEFAULT_GLOBAL_THEME)}e.registerGlobalTheme=function(t,e){var i=s();a[t.toLowerCase()]=n.deepMix({},i,e)},e.getGlobalTheme=s},function(t,e,i){"use strict";i.r(e),i.d(e,"getCoordinate",function(){return d}),i.d(e,"registerCoordinate",function(){return g}),i.d(e,"Coordinate",function(){return r});var u,c,n,s=i(1),h=i(4),p=i(0),r=(x.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},x.prototype.update=function(t){p.assign(this,t),this.initial()},x.prototype.convertDim=function(t,e){var i,n=this[e],r=n.start,o=n.end;return this.isReflect(e)&&(r=(i=[o,r])[0],o=i[1]),r+t*(o-r)},x.prototype.invertDim=function(t,e){var i,n=this[e],r=n.start,o=n.end;return this.isReflect(e)&&(r=(i=[o,r])[0],o=i[1]),(t-r)/(o-r)},x.prototype.applyMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,r=[t,e,i];return h.vec3.transformMat3(r,r,n),r},x.prototype.invertMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,r=h.mat3.invert([],n),o=[t,e,i];return h.vec3.transformMat3(o,o,r),o},x.prototype.convert=function(t){var e=this.convertPoint(t),i=e.x,n=e.y,r=this.applyMatrix(i,n,1);return{x:r[0],y:r[1]}},x.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},x.prototype.rotate=function(t){var e=this.matrix,i=this.center;return h.mat3.translate(e,e,[-i.x,-i.y]),h.mat3.rotate(e,e,t),h.mat3.translate(e,e,[i.x,i.y]),this},x.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},x.prototype.scale=function(t,e){var i=this.matrix,n=this.center;return h.mat3.translate(i,i,[-n.x,-n.y]),h.mat3.scale(i,i,[t,e]),h.mat3.translate(i,i,[n.x,n.y]),this},x.prototype.translate=function(t,e){var i=this.matrix;return h.mat3.translate(i,i,[t,e]),this},x.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},x.prototype.getCenter=function(){return this.center},x.prototype.getWidth=function(){return this.width},x.prototype.getHeight=function(){return this.height},x.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},x.prototype.resetMatrix=function(t){this.matrix=t||Object(s.__spreadArrays)(this.originalMatrix)},x),o=(n=r,Object(s.__extends)(m,n),m.prototype.initial=function(){n.prototype.initial.call(this);var t=this.start,e=this.end;this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},m.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:this.convertDim(i,"x"),y:this.convertDim(n,"y")}},m.prototype.invertPoint=function(t){var e,i=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y");return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:i,y:n}},m),a=(c=r,Object(s.__extends)(y,c),y.prototype.initial=function(){c.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,e=Math.min(this.width,this.height)/2;this.radius&&0<=this.radius&&this.radius<=1&&(e*=this.radius),this.d=Math.floor(e*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*e,end:this.innerRadius*e+.99*this.d}},y.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;this.isTransposed&&(i=(e=[n,i])[0],n=e[1]);var r=this.convertDim(i,"x"),o=this.a*r,a=this.convertDim(n,"y");return{x:this.center.x+Math.cos(r)*(o+a),y:this.center.y+Math.sin(r)*(o+a)}},y.prototype.invertPoint=function(t){var e,i=this.d+this.y.start,n=h.vec2.subtract([],[t.x,t.y],[this.center.x,this.center.y]),r=h.vec2.angleTo(n,[1,0],!0),o=r*this.a;h.vec2.length(n)<o&&(o=h.vec2.length(n)),r=2*Math.floor((h.vec2.length(n)-o)/i)*Math.PI+r;var a=this.a*r,s=h.vec2.length(n)-a;s=Object(p.isNumberEqual)(s,0)?0:s;var l=this.invertDim(r,"x"),u=this.invertDim(s,"y");return l=Object(p.isNumberEqual)(l,0)?0:l,u=Object(p.isNumberEqual)(u,0)?0:u,this.isTransposed&&(l=(e=[u,l])[0],u=e[1]),{x:l,y:u}},y),l=(u=r,Object(s.__extends)(v,u),v.prototype.initial=function(){for(u.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var t,e=this.getOneBox(),i=e.maxX-e.minX,n=e.maxY-e.minY,r=Math.abs(e.minX)/i,o=Math.abs(e.minY)/n;this.height/n>this.width/i?(t=this.width/i,this.circleCenter={x:this.center.x-(.5-r)*this.width,y:this.center.y-(.5-o)*t*n}):(t=this.height/n,this.circleCenter={x:this.center.x-(.5-r)*t*i,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?0<this.radius&&this.radius<=1?this.polarRadius=t*this.radius:(this.radius<=0||this.radius>t)&&(this.polarRadius=t):this.polarRadius=t,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},v.prototype.getRadius=function(){return this.polarRadius},v.prototype.convertPoint=function(t){var e,i=this.getCenter(),n=t.x,r=t.y;return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),n=this.convertDim(n,"x"),r=this.convertDim(r,"y"),{x:i.x+Math.cos(n)*r,y:i.y+Math.sin(n)*r}},v.prototype.invertPoint=function(t){var e=this.getCenter(),i=[t.x-e.x,t.y-e.y],n=[1,0,0,0,1,0,0,0,1];h.mat3.rotate(n,n,this.startAngle);var r=[1,0,0];h.vec3.transformMat3(r,r,n),r=[r[0],r[1]];var o=h.vec2.angleTo(r,i,this.endAngle<this.startAngle);Object(p.isNumberEqual)(o,2*Math.PI)&&(o=0);var a=h.vec2.length(i),s=o/(this.endAngle-this.startAngle);s=0<this.endAngle-this.startAngle?s:-s;var l=this.invertDim(a,"y"),u={x:0,y:0};return u.x=this.isTransposed?l:s,u.y=this.isTransposed?s:l,u},v.prototype.getCenter=function(){return this.circleCenter},v.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(e)],n=[0,Math.sin(t),Math.sin(e)],r=Math.min(t,e);r<Math.max(t,e);r+=Math.PI/18)i.push(Math.cos(r)),n.push(Math.sin(r));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,n),maxY:Math.max.apply(Math,n)}},v),f={},d=function(t){return f[t.toLowerCase()]},g=function(t,e){f[t.toLowerCase()]=e};function v(t){var e=u.call(this,t)||this;e.isPolar=!0,e.type="polar";var i=t.startAngle,n=void 0===i?-Math.PI/2:i,r=t.endAngle,o=void 0===r?3*Math.PI/2:r,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=n,e.endAngle=o,e.innerRadius=s,e.radius=l,e.initial(),e}function y(t){var e=c.call(this,t)||this;e.isHelix=!0,e.type="helix";var i=t.startAngle,n=void 0===i?1.25*Math.PI:i,r=t.endAngle,o=void 0===r?7.25*Math.PI:r,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=n,e.endAngle=o,e.innerRadius=s,e.radius=l,e.initial(),e}function m(t){var e=n.call(this,t)||this;return e.isRect=!0,e.type="cartesian",e.initial(),e}function x(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,i=t.end,n=t.matrix,r=void 0===n?[1,0,0,0,1,0,0,0,1]:n,o=t.isTransposed,a=void 0!==o&&o;this.start=e,this.end=i,this.matrix=r,this.originalMatrix=Object(s.__spreadArrays)(r),this.isTransposed=a}g("rect",o),g("cartesian",o),g("polar",l),g("helix",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(41);e.Legend=n.default;var r=i(112);e.Size=r.Size,e.Color=r.Color;var o=i(116);e.CanvasCategory=o.CanvasCategory,e.HtmlCategory=o.HtmlCategory},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),r=(o=i(5).Interaction,n.__extends(a,o),a.registerInteraction=function(t,e){a.GLOBAL_INTERACTION_MAP[t]=e},a.registerPlotInteraction=function(t,e,i){a.PLOT_INTERACTION_MAP[t]||(a.PLOT_INTERACTION_MAP[t]={}),a.PLOT_INTERACTION_MAP[t][e]=i},a.getInteraction=function(t,e){return e&&a.PLOT_INTERACTION_MAP[e]&&a[e][t]?a.PLOT_INTERACTION_MAP[e][t]:a.GLOBAL_INTERACTION_MAP[t]},a.getInteractionRange=function(t,e){},a.prototype.destroy=function(){this.clear(),o.prototype.destroy.call(this)},a.prototype.getViewLayer=function(){return this.viewLayer},a.prototype.getRange=function(){return this.interactionRange},a.prototype.getInteractionConfig=function(){return this.interactionConfig},a.prototype.render=function(){},a.prototype.clear=function(){},a.GLOBAL_INTERACTION_MAP={},a.PLOT_INTERACTION_MAP={},a);function a(t,e,i,n){var r=o.call(this,t)||this;return r.viewLayer=e,r.interactionRange=i,r.interactionConfig=n,r.render(),r}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.attr("text","")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(59);e.default=function(t){return Array.isArray?Array.isArray(t):n.default(t,"Array")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(22)),a=r.__importStar(i(2)),s=r.__importStar(i(0)),l=i(10),u=(n=o.default,r.__extends(c,n),c.prototype.processOptions=function(t){this.id=t.id,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},c.prototype.updateConfig=function(t){this.options=s.deepMix({},this.options,t),this.processOptions(this.options)},c.prototype.beforeInit=function(){},c.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},c.prototype.afterInit=function(){},c.prototype.render=function(){this.rendered||(this.parent?this.parent.container.add(this.container):this.canvas.add(this.container)),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.container.transform([["t",this.x,this.y]]),this.eachLayer(function(t){t.render()}),this.canvas.draw()},c.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},c.prototype.destroy=function(){var e=this;this.eachLayer(function(t){t.destroy()}),s.each(this.eventHandlers,function(t){e.off(t.eventName,t.handler)}),this.container.remove(!0),this.destroyed=!0},c.prototype.show=function(){this.container.set("visible",!0),this.visibility=!0},c.prototype.hide=function(){this.container.set("visible",!1),this.visibility=!1},c.prototype.addLayer=function(e){s.findIndex(this.layers,function(t){return t===e})<0&&(e.parent!==this&&(e.parent=this,e.init()),this.layers.push(e))},c.prototype.removeLayer=function(e){var t=s.findIndex(this.layers,function(t){return t===e});0<=t&&this.layers.splice(t,1)},c.prototype.updateBBox=function(t,e){void 0===e&&(e=!1);var i={x:this.x,y:this.y,width:this.width,height:this.height},n=s.deepMix({},i,t);this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(t){t.updateBBoxByParent(),t.render()}),this.canvas.draw()},c.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},c.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,i=this.parent;i;)t+=i.x,e+=i.y,i=i.parent;return{x:t,y:e}},c.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new a.BBox(t.x,t.y,this.width,this.height)},c.prototype.getOptions=function(t){var e=0,i=0;t.parent&&(e=t.parent.width,i=t.parent.height);var n={x:0,y:0,width:e,height:i};return s.deepMix({},n,t)},c.prototype.eachLayer=function(t){s.each(this.layers,t)},c.prototype.parseEvents=function(t){var r=this,o=s.keys(l.LAYER_EVENT_MAP);s.each(t,function(t,e){if(s.contains(o,e)&&s.isFunction(t)){var i=l.LAYER_EVENT_MAP[e]||e,n=t;r.on(i,n),r.eventHandlers.push({name:i,handler:n})}})},c.prototype.getLayerBBox=function(){return new a.BBox(this.x,this.y,this.width,this.height)},c.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,i=this.parent.x,n=this.parent.y;return{start:{x:(this.x-i)/t,y:(this.y-n)/e},end:{x:(this.x+this.width-i)/t,y:(this.y+this.height-n)/e}}}return{start:{x:0,y:0},end:{x:1,y:1}}},c);function c(t){var e=n.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e.container=new a.Group,e}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(135),o={default:r.DEFAULT_RESPONSIVE_THEME};e.registerResponsiveTheme=function(t,e){o[t.toLowerCase()]=n.deepMix({},r.DEFAULT_RESPONSIVE_THEME,e)},e.getResponsiveTheme=function(t){return o[t.toLowerCase()]||r.DEFAULT_RESPONSIVE_THEME}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=(o.prototype.init=function(){var t;this.config={type:this.type,position:{fields:this.positionFields},widthRatio:n.deepMix({},{column:.6,rose:.9999999,multiplePie:1/1.3},(null===(t=this.plot.options)||void 0===t?void 0:t.widthRatio)||{},this.widthRatio||{})}},o);function o(t){n.assign(this,t),this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7),a=n.__importDefault(i(8)),s=i(9),l=i(12),u=n.__importDefault(i(84)),c=i(17),h=n.__importDefault(i(187));i(190),i(50);var p=n.__importStar(i(37));i(191);var f,d={column:"interval"},g={interval:"column"},v=(f=a.default,n.__extends(y,f),y.getDefaultOptions=function(){return r.deepMix({},f.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,crosshairs:{type:"rect"}},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},conversionTag:{visible:!1}})},y.prototype.getOptions=function(t){var e=f.prototype.getOptions.call(this,t),i=this.constructor.getDefaultOptions();return r.deepMix({},e,i,t)},y.prototype.beforeInit=function(){f.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},y.prototype.afterRender=function(){var t=this.options;this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new u.default(n.__assign({view:this.view,field:t.yField,transpose:!0,animation:!1!==t.animation},t.conversionTag))),f.prototype.afterRender.call(this)},y.prototype.geometryParser=function(t,e){return"g2"===t?d[e]:g[e]},y.prototype.processData=function(t){var i=this.options.xField,n=[];return r.each(t,function(t){var e=r.clone(t);e[i]=e[i].toString(),n.push(e)}),n},y.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},r.has(t,"xAxis")&&c.extractScale(e[t.xField],t.xAxis),e[t.yField]={},r.has(t,"yAxis")&&c.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),f.prototype.scale.call(this)},y.prototype.coord=function(){},y.prototype.adjustColumn=function(t){},y.prototype.addGeometry=function(){var t=this.options,e=l.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&(e.widthRatio.column=.4),t.label&&(e.label=this.extractLabel()),this.adjustColumn(e),this.column=e,this.setConfig("element",e)},y.prototype.animation=function(){f.prototype.animation.call(this),!1===this.options.animation&&(this.column.animate=!1)},y.prototype.parseEvents=function(t){f.prototype.parseEvents.call(this,p)},y.prototype.extractLabel=function(){var t=this.options,e=this.getLabelOptionsByPosition(t.label.position),i=r.deepMix({},e,this.options.label);return!1!==i.visible&&s.getComponent("label",n.__assign({plot:this,labelType:"columnLabel",fields:[this.options.yField]},i))},y.prototype.applyResponsive=function(t){var e=this,i=h.default[t];r.each(i,function(t){t.method(e)})},y.prototype.getLabelOptionsByPosition=function(t){return"middle"===t?{offset:0,style:{textBaseline:"middle"}}:"top"===t||"bottom"===t?{offset:4,style:{textBaseline:"bottom"}}:{offset:0}},y);function y(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="column",t}e.default=v,o.registerPlotType("column",v)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEndPoint=function(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}},e.getCenter=function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},e.getOverlapArea=function(t,e,i){return void 0===i&&(i=0),Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i))*Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i))},e.getOverlapInfo=function(t,e,i){void 0===i&&(i=0);var n=Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i)),r=Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i));return n&&t.x<e.x&&(n=-n),r&&t.y<e.y&&(r=-r),t.x===e.x&&t.width===e.width&&(n=e.width),t.y===e.y&&t.height===e.height&&(r=e.height),{xOverlap:n,yOverlap:r}},e.inPanel=function(t,e){return t.x<e.x&&t.x+t.width>e.x+e.width&&t.y<e.y&&t.y+t.height>e.y+e.height},e.near=function(t,e,i){return void 0===i&&(i=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importStar(i(0)),r=n.__importDefault(i(8)),a=i(9);i(73);var s,l=(s=r.default,n.__extends(u,s),u.getDefaultOptions=function(){return o.deepMix({},s.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},u.prototype.coord=function(){},u.prototype.addGeometry=function(){},u.prototype.annotation=function(){var i=this,t=this.options,n=[],r={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};o.each(t.guideLine,function(t){var e=a.getComponent("guideLine",{plot:i,cfg:o.deepMix({},r,t)});n.push(e)}),this.setConfig("annotations",n)},u);function u(){return null!==s&&s.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),c=n.__importStar(i(0)),r=i(9),o=i(10),a=n.__importDefault(i(66));function h(t,e){if(c.isFunction(e))return e(t);var i=e.name,n=e.exp;return c.isFunction(n)?n(t[i]):t[i]===n}e.compare=h;var s=(l.prototype.createStateManager=function(t){this.stateManager=new a.default(t)},l.prototype.bindStateManager=function(t,e){this.stateManager=t,e.setState&&this._updateStateProcess(e.setState),e.onStateChange&&this._stateChangeProcess(e.onStateChange)},l.prototype.defaultStates=function(t){var r=this;c.each(t,function(t,e){var i=t.condition,n=(t.style,t.related);r.setState({type:e,condition:i,related:n})})},l.prototype.setState=function(a){var s=this,l=a.type,u=a.condition,t=a.related;this.shapes||(this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs()),c.each(this.shapes,function(t,e){var i=t.get("origin");if(h(c.isArray(i)?i[0]._origin:i._origin,u)){var n,r=a.style?a.style:s._getDefaultStateStyle(l,t),o=s.originAttrs[e];n=c.isFunction(r)?r(o):c.mix({},o,r),t.attr(n),s.setZIndex(l,t)}}),t&&this._parserRelated(l,t,u),this.plot.canvas.draw()},l.prototype._updateStateProcess=function(t){var n=this;c.each(t,function(t){var e,i=t.state;e=c.isFunction(i)?function(t){var e=i(t);n.stateManager.setState(e.name,e.exp)}:function(){n.stateManager.setState(i.name,i.exp)},t.event?o.onEvent(n.plot,n._eventParser(t.event),e):e()})},l.prototype._stateChangeProcess=function(t){var i=this;c.each(t,function(e){i.stateManager.on(e.name+":change",function(t){e.callback(t,i.plot)})})},l.prototype._getShapes=function(){var i=this,n=[],t=this.plot.view.get("elements");return c.each(t,function(t){var e=t.get("shapeContainer");i.shapeContainers.push(e),t.destroyed||n.push.apply(n,t.getShapes())}),n},l.prototype._getOriginAttrs=function(){var e=[];return c.each(this.shapes,function(t){e.push(c.clone(t.attr()))}),e},l.prototype._eventParser=function(t){var e=t.split(":");return this.plot.geometryParser("g2",e[0])+":"+e[1]},l.prototype._getDefaultStateStyle=function(t,e){var i=this.plot.theme,n=this.plot.geometryParser("plot",e.name)+"Style";if(i[n]){var r=i[n][t];return c.isFunction(r)&&(r=r(e.attr())),r}return{}},l.prototype._parserRelated=function(e,t,i){var n=this;c.each(t,function(t){n.plot[t]&&r.getComponentStateMethod(t,e)(n.plot,i)})},l.prototype.setZIndex=function(t,e){if("active"===t||"selected"===t){var i=e.get("parent").get("children");i[i.length-1].setZIndex(0),e.setZIndex(1)}},l.prototype.resetZIndex=function(){c.each(this.shapeContainers,function(t){t.get("children").sort(function(t,e){return t._INDEX-e._INDEX})})},l);function l(t){this.shapeContainers=[],c.assign(this,t)}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),l=r.__importStar(i(0)),u=r.__importDefault(i(74)),c=r.__importDefault(i(48)),o=r.__importDefault(i(82)),a={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},s=(n=o.default,r.__extends(h,n),h.prototype.init=function(){this.axisInstance=this.getAxisInstance(),n.prototype.init.call(this)},h.prototype.shouldApply=function(){return!!this.responsiveTheme.axis&&!!(this.responsiveTheme.axis[this.dim]&&this.type&&this.axisInstance&&this.axisInstance.get("labelRenderer"))},h.prototype.apply=function(){for(var e=this.axisInstance,t=e.get("labelRenderer").get("group").get("children"),i=[],n=0;n<t.length-1;n++)i.push(t[n]);var r=new u.default({shapes:i}),o=this.responsiveTheme.axis.x[this.type],a=o.constraints,s=o.rules;new c.default({nodes:r,constraints:a,region:this.plot.view.get("viewRange"),rules:s,plot:this.plot,onEnd:function(t){e.get("tickLine")&&function(t,e){var i=null;e.get("group").get("children").forEach(function(t){if("axis-ticks"===t.name)return i=t,!1});var n=e.get("ticks"),r=e.get("tickItems"),o=[];l.each(n,function(t){var e=t;o.push(e.text)});var a=[];l.each(t.nodes,function(t){if(0<t.width&&0<t.height){var e=t.shape.get("origin").text,i=o.indexOf(e),n=r[i];a.push(["M",n.x1,n.y1],["L",n.x2,n.y2])}}),0===a.length&&(a=[["M",0,0]]),i.attr("path",a)}(t,e)}})},h.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",i=this.dim+"Field";if(t[e]&&t[e].type&&"dateTime"===t[e].type)return"dateTime";var n=this.plot.view.get("scales")[t[i]].type;return a[n]},h.prototype.getAxisInstance=function(){var t="x"===this.dim?0:1;return this.plot.view.get("axisController").axes[t]},h);function h(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7),a=n.__importDefault(i(8)),s=i(9),l=n.__importDefault(i(84)),u=i(12),c=i(17),h=n.__importDefault(i(207));i(53);var p=n.__importStar(i(209));i(210);var f,d={bar:"interval"},g={interval:"bar"},v=(f=a.default,n.__extends(y,f),y.getDefaultOptions=function(){return r.deepMix({},f.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1}},yAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0},title:{visible:!1,offset:12}},tooltip:{visible:!0,shared:!0,crosshairs:{type:"rect"}},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!0,position:"top-left"},conversionTag:{visible:!1}})},y.prototype.beforeInit=function(){f.prototype.beforeInit.call(this);var t=this.options;t.responsive&&"auto"!==t.padding&&this.applyResponsive("preRender")},y.prototype.afterRender=function(){var t=this.options;t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new l.default(n.__assign({view:this.view,field:t.xField,animation:!1!==t.animation},t.conversionTag))),f.prototype.afterRender.call(this)},y.prototype.geometryParser=function(t,e){return"g2"===t?d[e]:g[e]},y.prototype.processData=function(t){var e=t?t.slice().reverse():t,i=this.options.yField,n=[];return r.each(e,function(t){var e=r.clone(t);e[i]=e[i].toString(),n.push(e)}),n},y.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},r.has(t,"yAxis")&&c.extractScale(e[t.yField],t.yAxis),e[t.xField]={},r.has(t,"xAxis")&&c.extractScale(e[t.xField],t.xAxis),this.setConfig("scales",e),f.prototype.scale.call(this)},y.prototype.coord=function(){this.setConfig("coord",{actions:[["transpose"]]})},y.prototype.adjustBar=function(t){},y.prototype.addGeometry=function(){var t=this.options,e=u.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&(e.widthRatio.column=1/3),t.label&&(e.label=this.extractLabel()),this.adjustBar(e),this.bar=e,this.setConfig("element",e)},y.prototype.animation=function(){f.prototype.animation.call(this),!1===this.options.animation&&(this.bar.animate=!1)},y.prototype.extractLabel=function(){var t=this.options,e=this.getLabelOptionsByPosition(t.label.position),i=r.deepMix({},e,this.options.label);return(!i||!1!==i.visible)&&s.getComponent("label",n.__assign({plot:this,labelType:"barLabel",fields:[t.xField]},i))},y.prototype.parseEvents=function(t){f.prototype.parseEvents.call(this,p)},y.prototype.applyResponsive=function(t){var e=this,i=h.default[t];r.each(i,function(t){t.method(e)})},y.prototype.getLabelOptionsByPosition=function(t){return"middle"===t?{offset:0}:"left"===t?{offset:7,style:{stroke:null,lineWidth:0}}:"right"===t?{offset:4}:void 0},y);function y(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="bar",t}e.default=v,o.registerPlotType("bar",v)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(28),a=i(109);e.default=function(t,e){if(t)if(o.default(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(a.default(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*r},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var r=Math.PI/180},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=i(42).default,r.__extends(s,n),s.prototype.render=function(){this.renderTitle(),this.renderItems()},s.prototype.getWidth=function(){return this.get("container").getBBox().width},s.prototype.getHeight=function(){return this.get("container").getBBox().height},s.prototype.getBBox=function(){return this.get("container").getBBox()},s.prototype.moveTo=function(t,e){this.get("container").move(t,e),this.set("x",t),this.set("y",e)},s.prototype.draw=function(){this.get("canvas").draw()},s.prototype.formatterValue=function(t){return(this.get("formatter")||o.identity).call(this,t)},s);function s(t){var e=n.call(this,r.__assign({type:"base",title:null,items:null,formatter:null,offsetX:0,offsetY:0},t))||this;return e.init(),e.render(),e.bindEvents(),e}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=i(22).default,r.__extends(a,n),a.prototype.get=function(t){return this.cfg[t]},a.prototype.set=function(t,e){return this.cfg[t]=e,this},a.prototype.destroy=function(){this.off(),this.destroyed=!0},a);function a(t){var e=n.call(this)||this;return e.cfg=r.__assign({id:null,canvas:null,container:null,group:null,capture:!0,offsetX:0,offsetY:0,visible:!0,zIndex:1},t),e.destroyed=!1,e}e.Guide=o,e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(62);e.SLIDER_WIDTH=8,e.SLIDER_HEIGHT=2*e.SLIDER_WIDTH,e.SLIDER_CIRCLE_MAX_SIZE=2*e.SLIDER_HEIGHT,e.TEXT_OFFSET=4,e.SliderBtnStyle={fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},e.SliderTextStyle={fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:n.FONT_FAMILY},e.SliderMiddleBackgroundStyle={fill:"#D9D9D9"},e.SliderMiddleFrontendStyle={fill:"rgb(64, 141, 251)"},e.DefaultTitleStyle={fill:"#333",textBaseline:"top",textAlign:"start",fontFamily:n.FONT_FAMILY}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.isTextUsable=function(t){return!!t&&!(!0!==t.visible||"string"!=typeof t.text||!t.text.trim())},e.breakText=function(t,e){var i=n.__spreadArrays(t);return e.forEach(function(t,e){i.splice(t+e,0,"\n")}),i.join("")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);e.combineFormatter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,i,n){return e.reduce(function(t,e){return e(t,i,n)},t)}},e.getNoopFormatter=function(){return function(t,e,i){return t}},e.getPrecisionFormatter=function(r){return function(t,e,i){var n=Number(t);return isNaN(n)||o.isNil(r)?t:n.toFixed(r)}},e.getSuffixFormatter=function(n){return function(t,e,i){return o.isNil(n)?t:t+" "+n}}},function(t,f,e){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var i=e(1),n=i.__importStar(e(4)),s=i.__importStar(e(0)),M=n.vec2;function y(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function a(t,e){for(var i=[t[0]],n=1,r=t.length;n<r;n+=2){var o=e.convertPoint({x:t[n],y:t[n+1]});i.push(o.x,o.y)}return i}function l(t,e,i){for(var n=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);var s,l,u,c=f.smoothBezier(r,.4,n,i),h=r.length,p=[];for(o=0;o<h-1;o++)s=c[2*o],l=c[2*o+1],u=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return n&&(s=c[h],l=c[h+1],u=r[0],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]])),p}function u(t,e){return function(t,e){var i=[];if(t.length){for(var n=0,r=t.length;n<r;n+=1){var o=t[n],a=0===n?"M":"L";i.push([a,o.x,o.y])}e&&i.push(["Z"])}return i}(t,e)}f.smoothBezier=function(t,e,i,n){var r,o,a,s,l=[],u=!!n;if(u){a=[1/0,1/0],s=[-1/0,-1/0];for(var c=0,h=t.length;c<h;c++){var p=t[c];a=M.min([],a,p),s=M.max([],s,p)}a=M.min([],a,n[0]),s=M.max([],s,n[1])}c=0;for(var f=t.length;c<f;c++){if(p=t[c],i)r=t[c?c-1:f-1],o=t[(c+1)%f];else{if(0===c||c===f-1){l.push(p);continue}r=t[c-1],o=t[c+1]}var d=[];d=M.sub(d,o,r),d=M.scale(d,d,e);var g=M.distance(p,r),v=M.distance(p,o),y=g+v;0!==y&&(g/=y,v/=y);var m=M.scale([],d,-g),x=M.scale([],d,v),b=M.add([],p,m),_=M.add([],p,x);u&&(b=M.max([],b,a),b=M.min([],b,s),_=M.max([],_,a),_=M.min([],_,s)),l.push(b),l.push(_)}return i&&l.push(l.shift()),l},f.catmullRom2bezier=l,f.getLinePath=u,f.getSplinePath=function(t,e,i){var n=[],r=t[0],o=null;if(t.length<=2)return u(t,e);s.each(t,function(t){o&&o.x===t.x&&o.y===t.y||(n.push(t.x),n.push(t.y),o=t)});var a=l(n,e,i||[[0,0],[1,1]]);return a.unshift(["M",r.x,r.y]),a},f.getPointRadius=function(t,e){return y(t,e)},f.getPointAngle=function(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)},f.convertNormalPath=function(e,t){var i=[];return s.each(t,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":i.push(a(t,e));break;case"z":default:i.push(t)}}),i},f.convertPolarPath=function(i,n){var g,v,r,o=[];return s.each(n,function(t,e){switch(t[0].toLowerCase()){case"m":case"c":case"q":o.push(a(t,i));break;case"l":g=n[e-1],v=t,(i.isTransposed?g[g.length-2]===v[1]:g[g.length-1]===v[2])?o=o.concat(function(t){var e=t.isTransposed,i=t.startAngle,n=t.endAngle,r={x:g[1],y:g[2]},o={x:v[1],y:v[2]},a=[],s=e?"y":"x",l=Math.abs(o[s]-r[s])*(n-i),u=r[s]<=o[s]?1:0,c=l>Math.PI?1:0,h=t.convertPoint(o),p=y(t,h);if(.5<=p)if(l==2*Math.PI){var f={x:(o.x+r.x)/2,y:(o.y+r.y)/2},d=t.convertPoint(f);a.push(["A",p,p,0,c,u,d.x,d.y]),a.push(["A",p,p,0,c,u,h.x,h.y])}else a.push(["A",p,p,0,c,u,h.x,h.y]);return a}(i)):o.push(a(t,i));break;case"z":default:o.push(t)}}),r=o,s.each(r,function(t,e){if("a"===t[0].toLowerCase()){var i=r[e-1],n=r[e+1];n&&"a"===n[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M")}}),o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=(n=r.__importDefault(i(31)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),t.lineStyle&&this.parseStyle()},s.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};o.isFunction(t)?e.callback=t:e.values=[t],this.config.size=e},s.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),o.has(t,"color")){var i=t.color;o.isString(i)?e.values=[i]:o.isFunction(i)?e.callback=i:e.values=i}this.config.color=e},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle,i={fields:null,callback:null,cfg:null};o.isFunction(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(75),a=i(76),o=(s.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},s.prototype._iteration=function(){var t;"shape"===(this.nodes.type,(t=this.nodes).type)&&t.measureNodes(),this.rules&&this._applyRules(),"shape"===t.type&&t.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},s.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},s.prototype._run=function(){for(var t=this._constraintsTest();!(t||this.iterationIndex>this.iterationTime-1);)this._iteration(),t=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},s.prototype._constraintsTest=function(){var t=r.constraintsLib[this.currentConstraint.name],e=this.currentConstraint.option;return"compare"===t.usage?this._constraintCompare(t,e):this._constraintAssignment(t,e)},s.prototype._constraintCompare=function(t,e){var i=t.type,n=t.expression,r=this.nodes.nodes;return"chain"===i?this._chainConstraintCompare(n,r,e):"padding"===i?this._paddingConstraintCompare(n,this.region,r,e):"group"===i?this._groupConstraintCompare(n,r,e):void 0},s.prototype._chainConstraintCompare=function(t,e,i){for(var n=0;n<e.length-1;n++)if(!1===t(e[n],e[n+1],i))return!1;return!0},s.prototype._paddingConstraintCompare=function(t,e,i,n){if(e)for(var r=0,o=i;r<o.length;r++)if(!1===t(o[r],e,n))return!1;return!0},s.prototype._groupConstraintCompare=function(t,e,i){for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<e.length;o++)if(o!==n&&!1===t(r,e[o],i))return!1;return!0},s.prototype._constraintAssignment=function(t,e){var i=t.type,n=t.expression,r=this.nodes.nodes;return"chain"===i?this._chainConstraintAssign(n,r,e):"padding"===i?this._paddingConstraintAssign(n,this.region,r,e):void 0},s.prototype._chainConstraintAssign=function(t,e,i){return!0},s.prototype._paddingConstraintAssign=function(t,e,i,n){if(e)for(var r=0,o=i;r<o.length;r++){var a=o[r],s=t(a,e,n);a.value=s}return!0},s.prototype._applyRules=function(){for(var t=this.rules[this.currentConstraint.name][this.iterationIndex],e=a.rulesLib[t.name],i=t.option?t.option:{},n=this.nodes.nodes,r=0;r<n.length;r++){var o=n[r];this._applyRule(o.shape,e,i,r)}},s.prototype._applyRule=function(t,e,i,n){e(t,i,n,{nodes:this.nodes,region:this.region,plot:this.plot})},s);function s(t){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,n.assign(this,t),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7),a=n.__importDefault(i(8)),s=i(9),l=i(12),u=i(17),c=n.__importDefault(i(182)),h=n.__importStar(i(184));i(185);var p,f={area:"area",line:"line",point:"point"},d=(p=a.default,n.__extends(g,p),g.getDefaultOptions=function(){return r.deepMix({},p.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25,fillOpacity:1},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4}})},g.prototype.beforeInit=function(){p.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},g.prototype.afterRender=function(){this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),p.prototype.afterRender.call(this)},g.prototype.geometryParser=function(t,e){return f[e]},g.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},r.has(t,"xAxis")&&u.extractScale(e[t.xField],t.xAxis),e[t.yField]={},r.has(t,"yAxis")&&u.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),p.prototype.scale.call(this)},g.prototype.coord=function(){},g.prototype.addGeometry=function(){var t=this.options,e=l.getGeom("area","main",{plot:this});this.area=e,t.label&&this.label(),this.adjustArea(e),this.setConfig("element",e),this.addLine(),this.addPoint()},g.prototype.adjustArea=function(t){},g.prototype.adjustLine=function(t){},g.prototype.adjustPoint=function(t){},g.prototype.addLine=function(){var t=this.options,e=r.deepMix({},t.line);if(e.visible){var i=l.getGeom("line","guide",{type:"line",plot:this,line:e});this.adjustLine(i),this.setConfig("element",i),this.line=i}},g.prototype.addPoint=function(){var t=this.options;if(r.deepMix({},t.point).visible){var e=l.getGeom("point","guide",{plot:this});this.adjustPoint(e),this.setConfig("element",e),this.point=e}},g.prototype.animation=function(){p.prototype.animation.call(this),!1===this.options.animation&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},g.prototype.label=function(){var t=this.options;if(!1===t.label.visible)return this.line&&(this.line.label=!1),void(this.area.label=!1);this.area.label=s.getComponent("label",{fields:[t.yField],plot:this})},g.prototype.parseEvents=function(t){p.prototype.parseEvents.call(this,h)},g.prototype.applyResponsive=function(t){var e=this,i=c.default[t];r.each(i,function(t){t.method(e)})},g);function g(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="area",t}e.default=d,o.registerPlotType("area",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),o=i(5),p=n.__importStar(i(0)),h=i(21),a=(r=o.ElementLabels,n.__extends(s,r),s.prototype.setLabelPosition=function(t,e,i,n){var r=n;p.isFunction(r)&&(r=r(e));var o=this.get("coord"),a=o.convertPoint(e.points[0]),s=o.convertPoint(e.points[2]),l=(a.y,s.y,(a.x-s.x)/2),u=(a.y-s.y)/2;switch(r){case"right":t.x-=l,t.y+=u,t.textAlign=t.textAlign||"left";break;case"left":t.x+=l,t.y+=u,t.textAlign=t.textAlign||"right";break;case"bottom":t.y+=2*u,t.textAlign=t.textAlign||"center";break;case"middle":t.y+=u,t.textAlign=t.textAlign||"center";break;case"top":t.textAlign=t.textAlign||"center"}},s.prototype.adjustOffset=function(o,t){var e=this.get("labelsRenderer"),i=e.get("items"),a=e.get("group").get("children"),s=this.get("coord");p.each(i,function(t,e){var i=a[e],n=s.convertPoint(o[e].points[0]),r=s.convertPoint(o[e].points[2]);n.y<r.y&&(t.y+=2*t.offset,i.attr("textBaseline","top"),i.attr("y",i.attr("y")+2*t.offset))})},s.prototype.showLabels=function(t,u){var c=this;r.prototype.showLabels.call(this,t,u),this.adjustOffset(t,u);var e=this.get("labelsRenderer"),i=e.get("group").get("children"),h=e.get("items"),n=this.get("element").get("view");p.each(i,function(t,e){var i=t,n=h[e],r=i.get("origin"),o=c.get("element").getShapeId(r),a=c._getShape(o,u),s=c.get("labelOptions"),l=s.adjustColor;s.adjustPosition&&c.adjustPosition(i,a,n),l&&c.adjustColor(i,a)}),n.get("canvas").draw()},s.prototype._getShape=function(e,t){var i;return p.each(t,function(t){t.id===e&&(i=t)}),i},s.prototype.adjustPosition=function(t,e,i){var n=t.getBBox(),r=e.getBBox();if(r.height<=n.height&&"top"!==i.position){var o=r.minY-20;t.attr("y",o)}},s.prototype.adjustColor=function(t,e){var i=t.getBBox(),n=e.getBBox();if(i.minY>=n.minY&&i.maxY<=n.maxY){var r=e.attr("fill"),o=e.attr("opacity")?e.attr("opacity"):1,a=h.rgb2arr(r),s=Math.round(.299*a[0]+.587*a[1]+.114*a[2])/o,l=this._mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s);t.attr("fill",l),"black"!==l?(t.attr("stroke",null),t.attr("lineWidth",0)):(t.attr("stroke","white"),t.attr("lineWidth",2))}else if(i.maxY<n.minY){var u=this.get("theme"),c=p.get(u,"label.textStyle.fill","black");t.attr("fill",c)}},s.prototype._mappingColor=function(t,e){var i;return p.each(t,function(t){e>=t.from&&e<t.to&&(i=t.color)}),i},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.ColumnLabels=a,o.registerElementLabels("columnLabel",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),o=i(5),p=n.__importStar(i(0)),h=i(21),a=(r=o.ElementLabels,n.__extends(s,r),s.prototype.setLabelPosition=function(t,e,i,n){var r=n;p.isFunction(r)&&(r=r(e));var o=e.size,a=(e.points[0],this.get("coord"),o),s=o;switch(r){case"right":t.x+=2*a,t.textAlign=t.textAlign||"left";break;case"left":t.x-=2*a,t.textAlign=t.textAlign||"right";break;case"bottom":t.y+=2*s,t.textAlign=t.textAlign||"center",t.textBaseline="top";break;case"middle":t.textBaseline="middle",t.textAlign=t.textAlign||"center";break;case"top":t.y-=2*s,t.textAlign=t.textAlign||"center",t.textBaseline="bottom"}},s.prototype.showLabels=function(t,u){var c=this;r.prototype.showLabels.call(this,t,u);var e=this.get("labelsRenderer"),i=e.get("group").get("children"),h=e.get("items"),n=this.get("element").get("view");p.each(i,function(t,e){var i=t,n=h[e],r=i.get("origin"),o=c.get("element").getShapeId(r),a=c._getShape(o,u),s=c.get("labelOptions"),l=s.adjustColor;s.adjustPosition&&c.adjustPosition(i,a,n),l&&c.adjustColor(i,a)}),n.get("canvas").draw()},s.prototype._getShape=function(e,t){var i;return p.each(t,function(t){t.id===e&&(i=t)}),i},s.prototype.adjustPosition=function(t,e,i){e.get("origin")._origin;var n=t.getBBox(),r=e.getBBox();(r.height<=n.height||r.width<=n.width&&"middle"===i.position)&&t.attr("text","")},s.prototype.adjustColor=function(t,e){var i=t.getBBox(),n=e.getBBox();if(i.minY>=n.minY&&i.maxY<=n.maxY){var r=e.attr("fill"),o=e.attr("opacity")?e.attr("opacity"):1,a=h.rgb2arr(r),s=Math.round(.299*a[0]+.587*a[1]+.114*a[2])/o,l=this._mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s);t.attr("fill",l)}else if(i.maxY<n.minY){var u=this.get("theme"),c=p.get(u,"label.textStyle.fill","black");t.attr("fill",c)}},s.prototype._mappingColor=function(t,e){var i;return p.each(t,function(t){e>=t.from&&e<t.to&&(i=t.color)}),i},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.ScatterLabels=a,o.registerElementLabels("scatterLabel",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),s=i(0);e.transformDataPercentage=function(t,n,a){var e=s.groupBy(t,n);e=s.mapValues(e,function(t){return s.map(t,function(e){return s.map(a,function(t){return e[t]})})}),e=s.mapValues(e,s.flatten),e=s.mapValues(e,function(t){return s.map(t,function(t){var e=Number.parseFloat(t);return!s.isNumber(e)||isNaN(e)?0:e})});var r=s.mapValues(e,function(t){return s.reduce(t,function(t,e){return t+e},0)}),i=s.map(t,function(e){var i=o.__assign(o.__assign({},e),{_origin:e,total:r[e[n]]});return s.each(a,function(t){i[t]=e[t]/r[e[n]]}),i});return s.each(s.groupBy(i,n),function(r){var o=0;s.each(r,function(i,n){s.each(a,function(t,e){(1<=o+i[t]||n===r.length-1&&e===a.length-1)&&(i[t]=1-o),o+=i[t]})})}),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),r=i(5),p=n.__importStar(i(0)),h=i(21),a=(o=r.ElementLabels,n.__extends(s,o),s.prototype.setLabelPosition=function(t,e,i,n){var r=n;p.isFunction(r)&&(r=r(e));var o=this.get("coord"),a=o.convertPoint(e.points[0]),s=o.convertPoint(e.points[2]),l=a.x>s.x,u=(a.x-s.x)/2*-1,c=(a.y-s.y)/2*-1;switch(r){case"bottom":t.x-=u,t.y+=c,t.textAlign=t.textAlign||"center";break;case"top":t.x-=u,t.y-=c,t.textAlign=t.textAlign||"center";break;case"left":t.x-=2*u,t.textAlign=t.textAlign||(l?"right":"left");break;case"middle":t.x-=u,t.textAlign=t.textAlign||"center";break;case"right":t.textAlign=t.textAlign||(l?"right":"left")}},s.prototype.adjustOffset=function(o,t){var e=this.get("labelsRenderer"),i=e.get("items"),a=e.get("group").get("children"),s=this.get("coord");p.each(i,function(t,e){var i=a[e],n=s.convertPoint(o[e].points[0]),r=s.convertPoint(o[e].points[2]);n.x>r.x&&t.offset&&(t.x-=2*t.offset,i.attr("x",i.attr("x")-2*t.offset))})},s.prototype.showLabels=function(t,s){var l=this;o.prototype.showLabels.call(this,t,s),this.adjustOffset(t,s);var e=this.get("labelsRenderer"),i=e.get("group").get("children"),u=e.get("items"),n=this.get("element").get("view"),r=this.get("labelOptions"),c=r.adjustColor,h=r.adjustPosition;p.each(i,function(t,e){var i=t,n=u[e],r=i.get("origin"),o=l.get("element").getShapeId(r),a=l._getShape(o,s);h&&l.adjustPosition(i,a,n),c&&l.adjustColor(i,a)}),n.get("canvas").draw()},s.prototype._getShape=function(e,t){var i;return p.each(t,function(t){t.id===e&&(i=t)}),i},s.prototype.adjustPosition=function(t,e,i){var n=t.getBBox(),r=e.getBBox();if(r.width<=n.width&&"right"!==i.position){var o=r.maxX+20;t.attr("x",o)}},s.prototype.adjustColor=function(t,e){var i=t.getBBox(),n=e.getBBox();if(i.minX>=n.minX&&i.maxX<=n.maxX){var r=e.attr("fill"),o=e.attr("opacity")?e.attr("opacity"):1,a=h.rgb2arr(r),s=Math.round(.299*a[0]+.587*a[1]+.114*a[2])/o,l=this._mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s);t.attr("fill",l),"black"!==l?(t.attr("stroke",null),t.attr("lineWidth",0)):(t.attr("stroke","white"),t.attr("lineWidth",2))}else if(i.maxY<n.minY){var u=this.get("theme"),c=p.get(u,"label.textStyle.fill","black");t.attr("fill",c)}},s.prototype._mappingColor=function(t,e){var i;return p.each(t,function(t){e>=t.from&&e<t.to&&(i=t.color)}),i},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.BarLabels=a,r.registerElementLabels("barLabel",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v,y=i(1),n=i(5),m=i(33),c=i(227),r=(v=n.getElementLabels("pie"),y.__extends(o,v),o.prototype.showLabels=function(t,e){var r=this;v.prototype.showLabels.call(this,t,e);var i=this.get("element").get("view"),o=this.get("coord"),n=i.get("panelRange"),a=this.get("labelsRenderer"),s=a.get("group").get("children"),l=i.get("filteredData"),u=this.getLabelOptions().fields,c=u[0],h=u[1],p=i.get("scales")[c];s.forEach(function(t,e){var i=l[e],n=p.scale(i[c]);t.attr("data",{value:i[c],name:i[h],percent:n})});var f=a.get("items")||[];this.anchors=[];var d=o.getRadius()+this.getOffsetOfLabel();this.anchorRadius=d,s.forEach(function(t,e){var i=f[e],n=m.getEndPoint(o.getCenter(),i.angle,d);r.anchors.push(y.__assign(y.__assign(y.__assign({},i),n),{id:t.id}))});var g=a.get("lineGroup").get("children")||[];this.adjustPosition(s,f,o,n),this.adjustTexts(s,f,o,n),this.adjustOverlap(s,n),this.adjustLines(s,f,g,o,n),i.get("canvas").draw()},o.prototype.adjustTexts=function(t,i,n,r){var o=this;t.forEach(function(e){var t=i.find(function(t){return t.id===e.id});o.adjustLabelText(e,t,n,r)})},o.prototype.adjustItems=function(t){return t},o.prototype.adjustLabelText=function(t,e,i,n){var r=t.getBBox(),o="right"===e.textAlign?r.maxX-n.minX:n.maxX-r.minX;if(o<r.width){var a={fontFamily:t.attr("fontFamily"),fontSize:t.attr("fontSize"),fontVariant:t.attr("fontVariant"),fontWeight:t.attr("fontWeight"),fontStyle:t.attr("fontStyle")},s=t.attr("text"),l=["[\\d,.]*","[\\d.]*%",t.attr("data").name],u=s.split("\n").map(function(t){return c.getEllipsisText(t,o-2,a,l)});t.attr("text",u.join("\n"))}},o.prototype.adjustOverlap=function(t,e){var i=this,n=t.slice();if(!this.getLabelOptions().allowOverlap){n.sort(function(t,e){return t.attr("data").value>e.attr("data").value?-1:1});for(var r=1;r<n.length;r++)for(var o=n[r],a=0,s=r-1;0<=s;s--){var l=n[s],u=l.getBBox(),c=o.getBBox();if(l.get("visible")&&(a=m.getOverlapArea(u,c),!m.near(a,0))){o.set("visible",!1);break}}n.forEach(function(t){return i.checkInPanel(t,e)})}},o.prototype.checkInPanel=function(t,e){var i=t.getBBox();e.y<=i.y&&e.y+e.height>=i.y+i.height||t.set("visible",!1)},o.prototype.getLabelOptions=function(){return this.get("labelOptions")},o);function o(){return null!==v&&v.apply(this,arguments)||this}e.default=r},function(t,h,e){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var s=e(1),p=s.__importStar(e(0)),i=e(7);e(275);var n=s.__importDefault(e(8)),r=e(17),o=e(9),a=s.__importStar(e(276));e(277);var l=s.__importDefault(e(278)),u={waterfall:"interval"},c={interval:"waterfall"};h.VALUE_FIELD="$$value$$",h.IS_TOTAL="$$total$$";var f,d=(f=n.default,s.__extends(g,f),g.getDefaultOptions=function(){return p.deepMix({},f.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"总计值"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,crosshairs:{type:"rect"}}})},g.prototype.getOptions=function(t){var e=f.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},g.prototype.afterInit=function(){f.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new l.default({view:this.view,fields:[t.xField,t.yField,h.VALUE_FIELD],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},g.prototype.afterRender=function(){f.prototype.afterRender.call(this);var a=this.options;this.view.on("tooltip:change",function(t){for(var e=t.items,i=0;i<e.length;i++){var n=e[i],r=p.get(n.point,"_origin",{});if(n.name=r[a.xField],n.value=r[a.yField],!n.value&&r[h.IS_TOTAL]){var o=r[h.VALUE_FIELD];n.value=o[0]-o[1]}t.items[i]=n}})},g.prototype.geometryParser=function(t,e){return"g2"===t?u[e]:c[e]},g.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,h.VALUE_FIELD]},shape:{values:["waterfall"]}};t.label&&(e.label=this.extractLabel()),e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.setConfig("element",e)},g.prototype.processData=function(t){var e,o=[],i=this.options.xField,a=this.options.yField;if(p.map(t,function(t,e){var i,n=t[a];if(0<e){var r=o[e-1][h.VALUE_FIELD];n=p.isArray(r)?[r[1],t[a]+r[1]]:[r,t[a]+r]}o.push(s.__assign(s.__assign({},t),((i={})[h.VALUE_FIELD]=n,i.$$index$$=e,i)))}),this.options.showTotal&&this.options.showTotal.visible){var n=p.map(t,function(t){return t[a]}),r=p.reduce(n,function(t,e){return t+e},0);o.push(((e={})[i]=this.options.showTotal.label,e[a]=null,e[h.VALUE_FIELD]=[r,0],e.$$index$$=o.length,e[h.IS_TOTAL]=!0,e))}return o},g.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},p.has(t,"xAxis")&&r.extractScale(e[t.xField],t.xAxis),e[h.VALUE_FIELD]={},p.has(t,"yAxis")&&r.extractScale(e[h.VALUE_FIELD],t.yAxis),this.setConfig("scales",e),f.prototype.scale.call(this)},g.prototype.axis=function(){var t=o.getComponent("axis",{plot:this,dim:"x"}),e=o.getComponent("axis",{plot:this,dim:"y"}),i={fields:{}};i.fields[this.options.xField]=t,i.fields[h.VALUE_FIELD]=e,this.setConfig("axes",i)},g.prototype.coord=function(){},g.prototype.parseEvents=function(t){f.prototype.parseEvents.call(this,a)},g.prototype.extractLabel=function(){var t=this.options,e=p.deepMix({},t.label);return!1!==e.visible&&o.getComponent("label",s.__assign({plot:this,labelType:"waterfall",fields:[t.yField]},e))},g.prototype._parseStyle=function(){var i=this.options.waterfallStyle,n=this.options.leaderLine,t={};return p.isFunction(i)?t.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign({},i.apply(void 0,t),{leaderLine:n})}:t.cfg=s.__assign(s.__assign({},i),{leaderLine:n}),t},g.prototype._parseColor=function(){var r=this,t=this.options,e=this.options,i={fields:[e.xField,e.yField,h.VALUE_FIELD,"$$index$$"]};if(p.isFunction(t.color))i.callback=t.color;else{var o="#f4664a",a="#30bf78",s="rgba(0, 0, 0, 0.25)";if(p.isString(t.color))o=a=s=t.color;else if(p.isObject(t.color)){var n=t.color,l=n.rising,u=n.falling,c=n.total;o=l,a=u,s=c}i.callback=function(t,e,i,n){return n===r.options.data.length?s||(0<=i[0]?o:a):0<=(p.isArray(i)?i[1]-i[0]:i)?o:a}}return i},g.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},g.prototype.adjustMeta=function(t){var e=t.meta;if(e){var i=e?e[t.yField]:{};i.alias=i.alias||t.yField,t.meta[h.VALUE_FIELD]=i}},g);function g(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="watarfall",t}h.default=d,i.registerPlotType("waterfall",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(59);e.default=function(t){return n.default(t,"String")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.timeIntervals={second:{value:1e3,format:"HH:mm:ss"},miniute:{value:6e4,format:"HH:mm"},hour:{value:36e5,format:"HH"},day:{value:864e5,format:"YYYY-MM-DD"},week:{value:6048e5,format:"YYYY-MM-DD"},month:{value:2592e6,format:"YYYY-MM"},year:{value:31536e6,format:"YYYY"}}},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={}.toString;e.default=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u,c=i(1),n=i(0),o=i(2),r=i(41),a=i(114),h=i(43),s=(u=r.default,c.__extends(l,u),l.prototype.init=function(){var t=this.get("container");this.set("canvas",t.get("canvas"));var e=t.addGroup();this.set("legendGroup",e);var i=e.addGroup();this.set("itemsGroup",i),e.translate(this.get("offsetX"),this.get("offsetY"))},l.prototype.renderTitle=function(){if(this.isShowTitle()){var t=this.get("title"),e=this.get("legendGroup"),i=this.get("titleStyle"),n=e.addShape("text",{attrs:c.__assign({x:0,y:0,text:t},i)});n.name="legend-title",this.set("titleShape",n)}},l.prototype.renderItems=function(){this.renderSlider()},l.prototype.bindEvents=function(){this.isOperational()},l.prototype.clear=function(){var t=this.get("container");t&&!t.destroyed&&t.clear()},l.prototype.destroy=function(){u.prototype.destroy.call(this);var t=this.get("container");t&&!t.destroyed&&(t.get("parent")&&t.remove(!0),t.destroy())},l.prototype.isHorizontal=function(){return"horizontal"===this.get("layout")},l.prototype.isOperational=function(){return this.get("operational")},l.prototype.isShowTitle=function(){return!!this.get("title")},l.prototype.getSliderConfig=function(){return{layout:this.get("layout"),sliderType:this.get("handleIcon"),sliderSize:this.get("handleSize"),sliderStyle:this.get("handleStyle"),operational:this.isOperational(),width:this.get("width"),height:this.get("height"),min:n.head(this.get("items")).value,max:n.last(this.get("items")).value,range:this.get("range")||[0,1],textStyle:c.__assign({},this.get("textStyle")),formatter:this.formatterValue}},l.prototype.renderSlider=function(){var n=this,t=this.get("itemsGroup"),e=new a.default(this.getSliderConfig());if(e.setBackground(this.createBackgroundGroup()),this.isShowTitle()){var i=this.get("titleDistance"),r=this.get("titleShape").getBBox().height;e.translate(0,i+r)}e.on("sliderchange",function(t){var e=t.value,i=(t.range,new o.Event("itemfilter",t,!0,!0));i.range=e,n.emit("itemfilter",i)}),t.add(e),this.set("slider",e)},l);function l(t){var e=t.backgroundStyle,i=t.fillStyle,n=t.textStyle,r=t.titleStyle,o=c.__rest(t,["backgroundStyle","fillStyle","textStyle","titleStyle"]),a=t.layout,s=void 0===a?"horizontal":a,l={width:"horizontal"===s?156:16,height:"horizontal"===s?16:156};return u.call(this,c.__assign(c.__assign({titleDistance:16,layout:"horizontal",operational:!0,handleIcon:"rect",backgroundStyle:c.__assign(c.__assign({},h.SliderMiddleBackgroundStyle),e),fillStyle:c.__assign(c.__assign({},h.SliderMiddleFrontendStyle),i),textStyle:c.__assign(c.__assign({},h.SliderTextStyle),n),titleStyle:c.__assign(c.__assign({},h.DefaultTitleStyle),r),width:156,height:16},l),o))||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FONT_FAMILY='"-apple-system", "BlinkMacSystemFont", "Segoe UI", Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", SimSun, "sans-serif"'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(41),a={layout:"horizontal",titleDistance:15,itemDistance:5,itemMarginBottom:8,wordSpacing:8,backgroundPadding:0,unSelectedColor:"#ccc",offsetX:0,offsetY:0},s=(n=o.default,r.__extends(l,n),l);function l(t){return n.call(this,r.__assign(r.__assign({hoverable:!0,clickable:!0,selectedMode:"multiple",allowAllCanceled:!1,reversed:!1,autoWrap:!0},a),t))||this}e.default=s},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),s=a.__importStar(i(0)),r=i(45),n=(o.prototype.getConfig=function(){return this.config},o.prototype.init=function(t){var n=this;s.assign(this.config,t),this.config.callback=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return n.parseCallBack.apply(n,a.__spreadArrays([t],e))}},o.prototype.parseCallBack=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.originConfig,r=this.plot.getPlotTheme(),o=a.__assign({},n);return this.parseOffset(n,o),n.position&&(s.isFunction(n.position)?o.position=n.position(t):o.position=n.position),this.parseFormatter.apply(this,a.__spreadArrays([o,t],e)),n.style&&(s.isFunction(n.style)?o.textStyle=n.style(t):o.textStyle=n.style),o.textStyle=s.deepMix({},s.get(r,"label.style"),o.textStyle),n.autoRotate&&(o.autoRotate=n.autoRotate),o},o.prototype.parseOffset=function(e,i){var n=0;s.each(["offset","offsetX","offsetY"],function(t){s.has(e,t)&&(i[t]=e[t],n++)}),0===n&&"middle"===s.get(e,"position")&&(i.offset=0)},o.prototype.parseFormatter=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.originConfig;t.formatter=r.combineFormatter(r.getNoopFormatter(),r.getPrecisionFormatter(n.precision),r.getSuffixFormatter(n.suffix)),n.formatter&&(t.formatter=r.combineFormatter(t.formatter,n.formatter))},o);function o(t){this.config={};var e=t.plot,i=a.__rest(t,["plot"]);this.plot=e,this.originConfig=i,this.init(t)}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(22)),a=r.__importStar(i(0)),s=(n=o.default,r.__extends(l,n),l.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},l.prototype.getState=function(t){return this._states[t]},l.prototype.getAllStates=function(){return this._states},l.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},l.prototype._onUpdate=function(){var n=this,r=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){a.each(r,function(t,e){var i=r[e];n._states[e]&&n._states[e]===t||(n._states[e]=t,n._triggerEvent(e,i))}),n._stateStack={}},16)},l.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},l);function l(t){var e=n.call(this)||this;return e._states={},e._stateStack={},e}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(0);e.getDataByScaleRange=function(t,e,i,n,r){var o=n[0],a=n[1];void 0===r&&(r=!1);var s=u.groupBy(i,t),l=r?e.slice(e.length-a,e.length-o):e.slice(o,a);return u.flatten(u.map(l,function(t){return s[t]||[]}))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(5)),o=n.__importStar(i(0)),a=i(20),s=i(133),l=i(30),u=r.Global.theme,c=(h.getGlobalTheme=function(t){return o.isString(t)?a.getGlobalTheme(t):o.deepMix({},a.getGlobalTheme(),t)},h.prototype.getPlotTheme=function(t,e){var i=t.theme;return o.isString(i)?o.deepMix({},a.getGlobalTheme(i),a.getTheme(e)):o.deepMix({},a.getGlobalTheme(),a.getTheme(e),i)},h.prototype.getTheme=function(t,e){var i=a.convertToG2Theme(this.getPlotTheme(t,e));return o.deepMix({},u,i)},h.prototype.getResponsiveTheme=function(t){return l.getResponsiveTheme(t)||l.getResponsiveTheme("default")},h.prototype._processVisible=function(t){return s.processAxisVisible(t.axis.left),s.processAxisVisible(t.axis.right),s.processAxisVisible(t.axis.top),s.processAxisVisible(t.axis.bottom),t},h);function h(){}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COLOR_PLATE_10=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],e.COLOR_PLATE_20=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"];var n=i(0);e.DESCRIPTION_BOTTOM_MARGIN=function(t){return t&&"top"===t.split("-")[0]?12:24},e.TOP_BLEEDING=function(t){var e=t.title&&t.title.visible,i=t.description&&t.description.visible;return e||i?12:24},e.BOTTOM_BLEEDING=function(t){return n.some(t.interactions||[],function(t){return("slider"===t.type||"scrollbar"===t.type)&&"vertical"!==(t.cfg&&t.cfg.type)})?8:24},e.DEFAULT_GLOBAL_THEME={width:400,height:400,bleeding:[e.TOP_BLEEDING,24,e.BOTTOM_BLEEDING,24],padding:"auto",defaultColor:"#5B8FF9",colors:e.COLOR_PLATE_10,colors_20:e.COLOR_PLATE_20,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,e.DESCRIPTION_BOTTOM_MARGIN,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!0,style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}},title:{visible:!1,offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!1,grid:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16},title:{visible:!1,offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,autoRotateLabel:!0,autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom-center",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(141);e.Line=n.default,e.LineConfig=n.LineConfig;var r=i(180);e.Density=r.default,e.DensityConfig=r.DensityConfig;var o=i(186);e.Column=o.default,e.ColumnConfig=o.ColumnConfig;var a=i(192);e.Bubble=a.default,e.BubbleConfig=a.BubbleConfig;var s=i(196);e.Scatter=s.default,e.ScatterConfig=s.ScatterConfig;var l=i(197);e.GroupColumn=l.default,e.GroupColumnConfig=l.GroupColumnConfig;var u=i(199);e.StackColumn=u.default,e.StackColumnConfig=u.StackColumnConfig;var c=i(202);e.PercentageStackColumn=c.default,e.PercentageStackColumnConfig=c.PercentageStackColumnConfig;var h=i(204);e.Histogram=h.default,e.HistogramConfig=h.HistogramConfig;var p=i(206);e.Bar=p.default,e.BarConfig=p.BarConfig;var f=i(211);e.StackBar=f.default,e.StackBarConfig=f.StackBarConfig;var d=i(213);e.PercentageStackBar=d.default,e.PercentageStackBarConfig=d.PercentageStackBarConfig;var g=i(215);e.GroupBar=g.default,e.GroupBarConfig=g.GroupBarConfig;var v=i(217);e.RangeBar=v.default,e.RangeBarConfig=v.RangeBarConfig;var y=i(221);e.RangeColumn=y.default,e.RangeColumnConfig=y.RangeColumnConfig;var m=i(225);e.Pie=m.default,e.PieConfig=m.PieConfig;var x=i(231);e.Ring=x.default,e.RingConfig=x.RingConfig;var b=i(239);e.Radar=b.default,e.RadarConfig=b.RadarConfig;var _=i(242);e.Liquid=_.default,e.LiquidConfig=_.LiquidConfig;var M=i(246);e.Gauge=M.default,e.GaugeConfig=M.GaugeConfig;var w=i(250);e.Area=w.default,e.AreaConfig=w.AreaConfig;var S=i(251);e.StackArea=S.default,e.StackAreaConfig=S.StackAreaConfig;var C=i(254);e.PercentageStackArea=C.default,e.PercentageStackAreaConfig=C.PercentageStackAreaConfig;var O=i(256);e.Funnel=O.default,e.FunnelConfig=O.FunnelConfig;var k=i(265);e.Heatmap=k.default,e.HeatmapConfig=k.HeatmapConfig;var P=i(270);e.Matrix=P.default,e.MatrixConfig=P.MatrixConfig;var A=i(274);e.Waterfall=A.default,e.WaterfallConfig=A.WaterfallConfig;var L=i(279);e.Treemap=L.default,e.TreemapConfig=L.TreemapConfig;var T=i(289);e.StepLine=T.default,e.StepLineConfig=T.StepLineConfig;var D=i(291);e.WordCloud=D.default,e.WordCloudConfig=D.WordCloudConfig;var j=i(299);e.Rose=j.default,e.RoseConfig=j.RoseConfig;var I=i(303);e.Bullet=I.default,e.BulletConfig=I.BulletConfig;var B=i(308);e.Sunburst=B.default,e.SunburstConfig=B.SunburstConfig},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7),a=n.__importDefault(i(8)),s=i(9),l=i(12),u=i(17);i(151);var c=n.__importDefault(i(152));i(171),i(172),i(174);var h=n.__importStar(i(175)),p=i(176);i(179);var f,d={line:"line",point:"point"},g=(f=a.default,n.__extends(v,f),v.getDefaultOptions=function(){return r.deepMix({},f.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4}})},v.prototype.getOptions=function(t){var e=f.prototype.getOptions.call(this,t),i=this.constructor.getDefaultOptions();return r.deepMix({},e,i,t)},v.prototype.afterRender=function(){var t=this.options;t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),f.prototype.afterRender.call(this)},v.prototype.geometryParser=function(t,e){return d[e]},v.prototype.scale=function(){var e=this.options,t={};t[e.xField]={},r.has(e,"xAxis")&&u.extractScale(t[e.xField],e.xAxis),t[e.yField]={},r.has(e,"yAxis")&&u.extractScale(t[e.yField],e.yAxis),this.setConfig("scales",t),u.trySetScaleMinToZero(t[e.yField],r.map(e.data,function(t){return t[e.yField]})),f.prototype.scale.call(this)},v.prototype.coord=function(){},v.prototype.addGeometry=function(){this.addLine(),this.addPoint()},v.prototype.addLine=function(){var t=this.options;this.line=l.getGeom("line","main",{plot:this}),t.label&&this.label(),this.setConfig("element",this.line)},v.prototype.addPoint=function(){var t=this.options;t.point&&(t.point=r.deepMix({visible:!1},t.point)),t.point&&t.point.visible&&(this.point=l.getGeom("point","guide",{plot:this}),this.point.active=!1,this.setConfig("element",this.point))},v.prototype.label=function(){var t=this.options,e=t.label;!1===e.visible||this.singleLineLabelCheck()?this.line.label=!1:("line"===e.type&&(e.offset=0),this.line.label=s.getComponent("label",n.__assign({plot:this,top:!0,labelType:e.type,fields:"line"===e.type?[t.seriesField]:[t.yField]},e)))},v.prototype.animation=function(){f.prototype.animation.call(this);var t=this.options;!1===t.animation?(this.line.animate=!1,this.point&&(this.point.animate=!1)):r.has(t,"animation")&&"clipingWithData"===t.animation.type&&"auto"!==t.padding&&(this.line.animate={appear:{animation:"clipingWithData",easing:"easeLinear",duration:1e4,yField:t.yField,seriesField:t.seriesField,plot:this}},t.point&&t.point.visible&&(this.point.animate=!1))},v.prototype.applyInteractions=function(){f.prototype.applyInteractions.call(this);var t=this.view.get("interactions"),e=new p.LineActive({view:this.view});t.lineActive=e;var i=new p.LineSelect({view:this.view});t.lineSelect=i},v.prototype.parseEvents=function(t){f.prototype.parseEvents.call(this,h)},v.prototype.applyResponsive=function(t){var e=this,i=c.default[t];r.each(i,function(t){t.method(e)})},v.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&"line"===this.options.label.type},v);function v(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="line",t}e.default=g,o.registerPlotType("line",g)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=(n=r.__importDefault(i(31)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField();if(i&&(e.fields=i),o.has(t,"color")){var n=t.color;o.isString(n)?e.values=[n]:o.isFunction(n)?e.callback=n:e.values=n}this.config.color=e},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,i={};o.isFunction(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},s.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=["stackField","seriesField"];e<i.length;e++){var n=i[e];if(o.get(t,n))return[t[n]]}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(5)),l=n.__importStar(i(0)),u=i(15),o=i(46),a=n.__importDefault(i(47)),c=r.Global.theme;r.registerShape("line","miniLine",{draw:function(t,e){for(var i=u.lineSimplification(t.points),n=[],r=0;r<i.length;r++){var o=i[r],a=0===r?"M":"L";n.push([a,o.x,o.y])}var s=l.deepMix({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:l.mix({path:n,stroke:t.color||c.defaultColor,lineWidth:t.size||2},s)})}}),r.registerShape("line","miniLineSmooth",{draw:function(t,e){var i=u.lineSimplification(t.points),n=o.getSplinePath(i,!1,[[0,0],[1,1]]);return e.addShape("path",{attrs:l.mix({path:n,stroke:t.color||c.defaultColor,lineWidth:t.size||2},t.style)})}});var s,h=(s=a.default,n.__extends(p,s),p.prototype.init=function(){s.prototype.init.call(this),this.parseShape()},p.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},p);function p(){return null!==s&&s.apply(this,arguments)||this}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=n.__importStar(i(0)),r=n.__importStar(i(15)),o=(s.prototype.measure=function(t){return a.deepMix({},r.bboxOnRotate(t),{shape:t})},s.prototype.measureNodes=function(){var n=this,r=[],o=[];a.each(this.shapes,function(t,e){var i=a.deepMix({},n.nodes[e],n.measure(t));0!==i.width&&0!==i.height&&(r.push(i),o.push(t))}),this.nodes=r,this.shapes=o},s.prototype.updateShapes=function(){},s.prototype._parserNodes=function(){var i=this;a.each(this.shapes,function(t){var e=i.measure(t);i.nodes.push(e)})},s);function s(t){this.type="shape",this.shapes=t.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=a.deepMix([],this.nodes)}e.default=o},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1),r=n.__importDefault(e(154)),o=n.__importDefault(e(155)),a=n.__importDefault(e(156)),s=n.__importDefault(e(157)),l=n.__importDefault(e(158)),u=n.__importDefault(e(159)),c=n.__importDefault(e(160));i.constraintsLib={elementDist:a.default,elementDistVertical:s.default,elementCollision:o.default,elementWidth:l.default,columnWidth:r.default,ringThickness:c.default,minRingThickness:u.default},i.registerResponsiveConstraint=function(t,e){i.constraintsLib[t]=e}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1),r=n.__importDefault(e(77)),o=n.__importDefault(e(78)),a=n.__importDefault(e(79)),s=n.__importDefault(e(162)),l=n.__importDefault(e(163)),u=n.__importDefault(e(80)),c=n.__importDefault(e(164)),h=n.__importDefault(e(165)),p=n.__importDefault(e(166)),f=n.__importDefault(e(167)),d=n.__importDefault(e(81)),g=n.__importDefault(e(27)),v=n.__importDefault(e(168)),y=n.__importDefault(e(169));i.rulesLib={textWrapper:y.default,textRotation:v.default,textAbbreviate:d.default,textHide:g.default,digitsAbbreviate:a.default,datetimeStringAbbrevaite:o.default,robustAbbrevaite:f.default,nodesResampling:u.default,nodesResamplingByAbbrevate:c.default,nodesResamplingByChange:h.default,nodesResamplingByState:p.default,nodeJitter:s.default,nodeJitterUpward:l.default,clearOverlapping:r.default},i.registerResponsiveRule=function(t,e){i.rulesLib[t]=e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),c=n.__importStar(i(0)),h=n.__importDefault(i(27));function p(t,e){return!(t.bottom<e.top||e.bottom<t.top||t.right<e.left||e.right<t.left)}e.default=function(t,e,i,n){var r=n.nodes.nodes,o=r[i],a=[];if(!o.shape.get("blank"))for(var s=0;s<r.length;s++){var l=r[s],u=l.shape;s===i||u.get("blank")||p(o,l)&&a.push(l)}0<a.length&&(a.push(o),a.sort(function(t,e){return e.top-t.top}),c.each(a,function(t,e){if(0<e){var i=t.shape;h.default(i),i.set("blank",!0)}}))},e.isNodeOverlap=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importStar(i(0)),x=n.__importDefault(i(161));function b(t,e){var i,n=Math.abs(t-e),r={minute:[6e4,36e5],hour:[36e5,864e5],day:[864e5,26784e5],month:[26784e5,31536e6],year:[31536e6,1/0]};return o.each(r,function(t,e){n>=t[0]&&n<t[1]&&(i=e)}),i}function _(t,e){return"year"===e?t.getFullYear():"month"===e?t.getMonth()+1:"day"===e?t.getDay()+1:"hour"===e?t.getHours()+1:"minute"===e?t.getMinutes()+1:void 0}e.default=function(t,e,i,n){var r,o=n.nodes.nodes;r=i===o.length-1?o[i-1].shape.get("origin").text:o[i+1].shape.get("origin").text;var a,s,l,u=new Date(r),c=t.get("origin").text,h=new Date(c),p=o[0].shape.get("origin").text,f=new Date(p),d=o[o.length-1].shape.get("origin").text,g=b(f,new Date(d)),v=b(h,u);if(g!==v){if(0!==i){var y=o[i-1].shape.get("origin").text;if(a=g,s=h,l=new Date(y),_(s,a)===_(l,a))return m=function(t,e){for(var i=["year","month","day","hour","minute"],n=["YYYY","MM","DD","HH","MM"],r=i.indexOf(t)+1,o=i.indexOf(e),a="",s=r;s<=o;s++)a+=n[s],s<o&&(a+="-");return a}(g,v),void t.attr("text",x.default.format(h,m))}}else if(0!==i&&i!==o.length-1){var m=["YYYY","MM","DD","HH","MM"][["year","month","day","hour","minute"].indexOf(g)];t.attr("text",x.default.format(h,m))}},e.isTime=function(t){return/^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]$/.test(t)||/^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/.test(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(1).__importStar(i(0)),g=i(15),v={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function y(t,e){var i,n;if("auto"===t.unit){var r=Math.floor(Math.log(e)/Math.log(1e3));n=["k","m","b","t"][r-1],i=(e/Math.pow(1e3,r)).toFixed(t.decimal)}else if(t.unit){var o=v[t.unit];n=t.unit,i=(e/o.number).toFixed(t.decimal)}return{num:i,unitname:n}}e.default=function(t,e,i,n){if(d.has(n,"node")&&d.has(n.node,"node")){var r=n.nodes.nodes,o=parseFloat(t.get("origin").text);if(0!==o)if(e.formatter)t.attr("text",e.formatter(o));else if(e.unit){var a=y(e,o),s=a.num,l=a.unitname;t.attr("text",s+l)}else{var u=(p=r,f=[],d.each(p,function(t){var e=parseFloat(t.shape.get("origin").text);f.push(e)}),f),c=(h=g.getMedian(u),l=["k","m","b","t"][Math.floor(Math.log(h)/Math.log(1e3))-1],v[l].number);s=y({unit:l,decimal:function(t,e){var i=Math.floor(Math.log10(e));if(!(e<=t)){var n=Math.floor(Math.log10(t));return Math.abs(n-i)}var r=t%e;if(0<r){var o=Math.floor(Math.log10(r));return Math.abs(o-i)}return 0}(function(t){if(2<=t.length){var e=parseFloat(t[0].shape.get("origin").text),i=parseFloat(t[1].shape.get("origin").text);return Math.abs(e-i)}return 0}(r),c)},o).num,t.attr("text",s+l)}}var h,p,f}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=n.__importStar(i(0)),s=n.__importDefault(i(27));function l(t,e,i){var n=[];a.each(t,function(t){"start"===t?n.push(0===e):"end"===t?n.push(e===i.length-1):a.isNumber(t)&&n.push(e===t)});for(var r=0,o=n;r<o.length;r++)if(!0===o[r])return!0;return!1}e.default=function(t,e,i,n){var r=n.nodes.nodes,o=r.length%2!=0;if(!l(e.keep,i,r)){var a=i%2==0;(!o&&a||o&&!a)&&s.default(t)}},e.isKeep=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i,n=e.abbreviateBy?e.abbreviateBy:"end",r=t.attr("text");"end"===n&&(i=r[0]+"..."),"start"===n&&(i="..."+r[r.length-1]),"middle"===n&&(i=r[0]+"..."+r[r.length-1]),t.resetMatrix(),t.attr({text:i,textAlign:"center",textBaseline:"top"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=(o.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},o);function o(t){n.assign(this,t),this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(74)),a=r.__importDefault(i(48)),s=(n=r.__importDefault(i(82)).default,r.__extends(l,n),l.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},l.prototype.apply=function(){var t=this.plot.view.get("elements")[0].get("labels"),e=new o.default({shapes:t}),i=this.responsiveTheme.label[this.type],n=i.constraints,r=i.rules;new a.default({nodes:e,constraints:n,rules:r,plot:this.plot,region:this.plot.view.get("viewRange")})},l.prototype.getType=function(){return null},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=i(1),r=i(5),o=g.__importStar(i(0));function s(t){var e=[],i=t.get("coord"),n=t.get("origin").points;return o.each(n,function(t){e.push(i.convertPoint(t))}),e}var n=(a.getDefaultOptions=function(t){var e=t.transpose;return{visible:!0,size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}},animation:o.deepMix({},r.Animate.defaultCfg)}},a.prototype._init=function(){var t=this,e=this.view.get("backgroundGroup");this.container=e.addGroup(),this.draw(),this.view.on("beforerender",function(){t.clear()})},a.prototype.draw=function(){var i,n,r,o,a=this,t=this.transpose,s=this.view.get("scales")[this.field].values,e=this.view.get("elements")[0].getShapes();t?e.forEach(function(t,e){n=s[e],0<e++&&a._drawTag(r,o,t,n),o=n,r=t}):e.forEach(function(t,e){o=s[e],0<e++&&a._drawTag(t,o,i,n),n=o,i=t})},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destory=function(){this.container&&this.container.remove()},a.prototype._drawTag=function(t,e,i,n){var r=this.transpose,o=s(t)[r?3:0],a=s(i)[r?0:3];this._drawTagArrow(o,a),this._drawTagValue(o,e,a,n)},a.prototype._drawTagArrow=function(t,e){var i,n=this.spacing,r=this.size,o=this.offset,a=this.animation,s=this.transpose,l=this.arrow.headSize,u=e.y-t.y,c=e.x-t.x;i=s?(c-l)/2<n?(n=Math.max(1,(c-l)/2),[[t.x+n,t.y-o],[t.x+n,t.y-o-r],[e.x-n,e.y-o-r/2]]):[[t.x+n,t.y-o],[t.x+n,t.y-o-r],[e.x-n-l,e.y-o-r],[e.x-n,e.y-o-r/2],[e.x-n-l,e.y-o]]:(u-l)/2<n?(n=Math.max(1,(u-l)/2),[[t.x+o,t.y+n],[t.x+o+r,t.y+n],[e.x+o+r/2,e.y-n]]):[[t.x+o,t.y+n],[t.x+o+r,t.y+n],[e.x+o+r,e.y-n-l],[e.x+o+r/2,e.y-n],[e.x+o,e.y-n-l]];var h=this.container.addShape("polygon",{name:"arrow",attrs:g.__assign(g.__assign({},this.arrow.style),{points:i})});!1!==a&&this._fadeInTagShape(h)},a.prototype._drawTagValue=function(t,e,i,n){var r=this.size,o=this.offset,a=this.animation,s=this.transpose,l=this.value.formatter(e,n),u=this.container.addShape("text",{name:"value",attrs:g.__assign(g.__assign({},this.value.style),{text:l,x:s?(t.x+i.x)/2:t.x+o+r/2,y:s?t.y-o-r/2:(t.y+i.y)/2,textAlign:"center",textBaseline:"middle"})});if(s){var c=i.x-t.x,h=u.getBBox().width;if(c<h){var p=h/l.length,f=Math.max(1,Math.ceil(c/p)-1),d=l.slice(0,f)+"...";u.attr("text",d)}}!1!==a&&this._fadeInTagShape(u)},a.prototype._fadeInTagShape=function(t){var e=this.animation,i=t.attr("opacity");t.attr("opacity",0);var n=o.get(e,"appear",r.Animate.defaultCfg.appear).duration;t.animate({opacity:i},n)},a);function a(t){o.deepMix(this,this.constructor.getDefaultOptions(t),t),this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onPointClick:"point:click",onPointDblclick:"point:dblclick",onPointMousemove:"point:mousemove",onPointMouseenter:"point:mouseenter",onPointMouseleave:"point:mouseleave",onPointMousedown:"point:mousedown",onPointMouseup:"point:mouseup",onPointContextmenu:"point:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7),a=n.__importDefault(i(8)),s=i(12),l=i(17),u=n.__importDefault(i(194)),c=n.__importDefault(i(195)),h=i(9),p=n.__importStar(i(85));i(51);var f,d={scatter:"point"},g={point:"point"},v=(f=a.default,n.__extends(y,f),y.getDefaultOptions=function(){return r.deepMix({},f.getDefaultOptions.call(this),{pointSize:4,pointStyle:{strokeOpacity:1,fillOpacity:.4,opacity:.65},xAxis:{grid:{visible:!0},line:{visible:!0}},yAxis:{grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,crosshairs:{type:"rect"}},label:{visible:!1,position:"top"},shape:"circle"})},y.prototype.afterRender=function(){f.prototype.afterRender.call(this),this.options.quadrant&&this.options.quadrant.visible&&!this.quadrant&&(this.quadrant&&this.quadrant.destroy(),this.quadrant=new u.default(n.__assign({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new c.default(n.__assign({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},y.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),f.prototype.destroy.call(this)},y.prototype.geometryParser=function(t,e){return"g2"===t?d[e]:g[e]},y.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},r.has(t,"xAxis")&&l.extractScale(e[t.xField],t.xAxis),e[t.yField]={},r.has(t,"yAxis")&&l.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),f.prototype.scale.call(this)},y.prototype.coord=function(){},y.prototype.annotation=function(){},y.prototype.addGeometry=function(){var t=s.getGeom("point","circle",{plot:this});this.points=t,this.options.label&&this.options.label.visible&&(this.points.label=this.extractLabel()),this.options.tooltip&&this.options.tooltip.visible&&(this.points.tooltip=this.extractTooltip(),this.setConfig("tooltip",n.__assign({showTitle:!1},this.options.tooltip))),this.setConfig("element",t)},y.prototype.animation=function(){f.prototype.animation.call(this),!1===this.options.animation&&(this.points.animate=!1)},y.prototype.parseEvents=function(t){f.prototype.parseEvents.call(this,t||p)},y.prototype.extractLabel=function(){var t=this.options,e=t.label;return(!e||!1!==e.visible)&&h.getComponent("label",n.__assign({plot:this,labelType:"scatterLabel",fields:[t.yField],position:"right",offset:0},e))},y.prototype.extractTooltip=function(){var t=this.options;return{fields:[t.xField,t.yField]}},y);function y(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="scatter",t}e.default=v,o.registerPlotType("scatter",v)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7),a=n.__importDefault(i(200)),s=i(9),l=n.__importDefault(i(32));i(201);var u,c=(u=l.default,n.__extends(h,u),h.getDefaultOptions=function(){return r.deepMix({},u.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},h.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),u.prototype.init.call(this)},h.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new a.default(n.__assign({view:this.view,field:t.stackField,animation:!1!==t.animation},t.connectedArea))),u.prototype.afterRender.call(this)},h.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},h.prototype.extractLabel=function(){var t=this.options,e=this.getLabelOptionsByPosition(t.label.position),i=r.deepMix({},e,this.options.label);return(!i||!1!==i.visible)&&s.getComponent("label",n.__assign({plot:this,labelType:"stackColumnLabel",fields:[t.yField]},i))},h);function h(){var t=null!==u&&u.apply(this,arguments)||this;return t.type="stackColum",t}e.default=c,o.registerPlotType("stackColumn",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7),a=i(9),s=n.__importDefault(i(38));i(212);var l,u=(l=s.default,n.__extends(c,l),c.getDefaultOptions=function(){return r.deepMix({},l.getDefaultOptions.call(this),{xAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0},title:{visible:!1,offset:12}}})},c.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},c.prototype.extractLabel=function(){var t=this.options,e=t.label;return!1!==e.visible&&a.getComponent("label",n.__assign({plot:this,labelType:"stackBarLabel",fields:[t.xField]},e))},c);function c(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="stackBar",t}e.default=u,o.registerPlotType("stackBar",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),a=l.__importStar(i(0)),n=i(7),r=l.__importDefault(i(8)),o=i(9),s=i(12),u=l.__importDefault(i(226));i(90),i(91),i(228);var c=l.__importStar(i(229));i(230);var h,p={pie:"interval"},f={pie:"column"},d=(h=r.default,l.__extends(g,h),g.getDefaultOptions=function(){return a.deepMix({},h.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,allowOverlap:!1,line:{smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,crosshairs:null},pieStyle:{stroke:"white",lineWidth:1}})},g.prototype.getOptions=function(t){var e=this.constructor.getDefaultOptions();return a.deepMix({},h.prototype.getOptions.call(this,t),e,t)},g.prototype.afterInit=function(){h.prototype.afterInit.call(this);var t=this.options;if(t.label&&t.label.visible){var e=t.label;if("spider"===e.type){var i=new u.default({view:this.view,fields:t.colorField?[t.angleField,t.colorField]:[t.angleField],style:e.style?e.style:{},formatter:!!t.label.formatter&&t.label.formatter,offsetX:t.label.offsetX,offsetY:t.label.offsetY});this.spiderLabel=i}}},g.prototype.geometryParser=function(t,e){return"g2"===t?p[e]:f[e]},g.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},e[t.colorField]={type:"cat"},this.setConfig("scales",e)},g.prototype.processData=function(t){var i=this.options.angleField;return t.map(function(t){var e;return l.__assign(l.__assign({},t),((e={})[i]="string"==typeof t[i]?Number.parseFloat(t[i]):t[i],e))})},g.prototype.axis=function(){},g.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coord",e)},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{plot:this,positionFields:[t.angleField]});e.adjust=[{type:"stack"}],this.pie=e,t.label&&this.label(),t.tooltip&&t.tooltip.visible&&this.tooltip(),this.setConfig("element",e)},g.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.pie.animate=!1)},g.prototype.annotation=function(){},g.prototype.parseEvents=function(t){h.prototype.parseEvents.call(this,c)},g.prototype.tooltip=function(){var r=this;h.prototype.tooltip.call(this);var t=this.options;if(t.tooltip.htmlContent){var o=t.tooltip.htmlContent;this.setConfig("tooltip",l.__assign(l.__assign({},this.options.tooltip),{htmlContent:function(t,e){if(e&&e.length){var i=r.options.angleField,n=r.getFilteredSum();return o(t,e.map(function(t){var e=a.get(t,"point._origin."+i)/n;return l.__assign(l.__assign({},t),{percent:e})}))}return"<div></div>"}}))}},g.prototype.getFilteredSum=function(){var i=this.options.angleField;return(this.view.get("filteredData")||[]).reduce(function(t,e){return t+e[i]},0)},g.prototype.label=function(){var a=this,t=this.options,e=l.__assign({},t.label);if(e=this.adjustLabelDefaultOptions(this.options),this.showLabel()){if("inner"===e.type?e.labelLine=!1:e.labelLine=!e||!e.line||e.line,e.formatter){var s=e.formatter;e.formatter=function(t,e,i){var n=a.options.angleField,r=a.getFilteredSum(),o=e._origin[n]/r;return s(t,l.__assign(l.__assign({},e),{percent:o}),i)}}var i=e.type;-1!==["spider"].indexOf(i)&&(i=null),this.pie.label=o.getComponent("label",l.__assign({plot:this,labelType:i,fields:t.colorField?[t.angleField,t.colorField]:[t.angleField]},e))}else this.pie.label=!1},g.prototype.showLabel=function(){var t=this.options;return t.label&&!0===t.label.visible&&"spider"!==t.label.type},g.prototype.adjustLabelDefaultOptions=function(t){var e=l.__assign({},t.label);return e&&"inner"===e.type&&(e=a.deepMix({},{offset:-1/3*100+"%",style:{textAlign:"center"}},e)),e&&"outer"===e.type&&(e=a.deepMix({},{offset:20},e)),e},g);function g(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="pie",t}e.default=d,n.registerPlotType("pie",d)},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1),r=e(5),_=n.__importStar(e(0)),M=e(33),o=n.__importDefault(e(54)),a=e(91);i.DEFAULT_OFFSET=16,i.CROOK_DISTANCE=4;var s,l=(s=o.default,n.__extends(u,s),u.prototype.adjustPosition=function(t,e,i,n){var r=this;this._adjustLabelPosition(t,i,n);var o=_.filter(t,function(e){return"right"===_.find(r.anchors,function(t){return t.id===e.id}).textAlign});[_.filter(t,function(e){return"left"===_.find(r.anchors,function(t){return t.id===e.id}).textAlign}),o].forEach(function(t,e){r._antiCollision(t,i,n,!e)})},u.prototype.adjustLines=function(t,e,o,a,s){var l=this,u=this.getLabelOptions();_.each(t,function(t,e){var i=o[e],n=l._getLinePath(t,a,s);if(i.attr("path",n),u.line)for(var r in u.line)i.attr(r,u.line[r]);i.set("visible",t.get("visible"))})},u.prototype.getOffsetOfLabel=function(){var t=this.getLabelOptions().offset;return _.isString(t)&&(t=a.percent2Number(t)),void 0===t?i.DEFAULT_OFFSET:t<2*i.CROOK_DISTANCE?t/2:t-i.CROOK_DISTANCE},u.prototype._antiCollision=function(a,d,s,g){var v=this,i=this.getLabelHeight(),l=this.anchorRadius,y=d.getCenter(),t=Math.min(s.height,Math.max(2*l+2*i,a.length*i)),e=Math.floor(t/i);this.get("labelOptions").allowOverlap||a.slice(e).forEach(function(t){t.set("visible",!1)}),a.splice(e,a.length-e),a.sort(function(t,e){return t.getBBox().y-e.getBBox().y});for(var n,r=!0,o=y.y+t/2,u=y.y-t/2,c=a.map(function(t){var e=t.getBBox();return e.maxY>o&&(o=Math.min(s.maxY,e.maxY)),e.minY<u&&(u=Math.max(s.minY,e.minY)),{text:t.attr("text"),size:i,pos:e.y,targets:[]}}),h=0;h<c.length;)h===c.length-1?c[h].targets[0]=o:c[h].targets[0]=c[h+1].pos-c[h+1].size/2,h++;for(;r;)for(c.forEach(function(t){var e=_.last(t.targets);t.pos=Math.max(u,Math.min(t.pos,e-t.size))}),r=!1,n=c.length;n--;)if(0<n){var p=c[n-1],f=c[n];if(p.pos+p.size>f.pos){p.size+=f.size,p.targets=p.targets.concat(f.targets);var m=_.last(p.targets);p.pos+p.size>m&&(p.pos=m-p.size),c.splice(n,1),r=!0}else p.targets.splice(-1,1,f.pos)}n=0,c.forEach(function(t){var e=i/2;t.targets.forEach(function(){a[n].attr("y",t.pos+e),e+=i,n++})});var x=[],b=[];a.forEach(function(e){var t=v.anchors.find(function(t){return t.id===e.id});0<=t.angle&&t.angle<=Math.PI?b.push(e):x.push(e)}),[x,b].forEach(function(t,e){if(t.length){var i=e?_.last(t).getBBox().maxY-y.y:y.y-_.head(t).getBBox().minY;i=Math.max(l,i);var n=v.getOffsetOfLabel(),h=v.getCrookDistance(),r=Math.max.apply(0,_.map(a,function(t){return t.getBBox().width}))+n+h,o=Math.max(l,Math.min((i+l)/2,y.x-(s.minX+r))),p=o*o,f=i*i;t.forEach(function(e){var t=e.getBBox(),i=(t.minX,t.width,t.minY+t.height/2),n=Math.pow(i-y.y,2),r=v.anchors.find(function(t){return t.id===e.id}),o=M.getEndPoint(y,r.angle,d.getRadius()),a=(g?1:-1)*h*2;if(f<n)console.warn("异常(一般不会出现)",e.attr("text")),e.attr("x",o.x+a);else{var s=y.x+(g?1:-1)*Math.sqrt((1-n/f)*p);if(y.x===o.x&&i===o.y||y.y===o.y&&s===o.x)s=o.x;else{var l=(y.y-o.y)/(y.x-o.x),u=(i-o.y)/(s-o.x),c=Math.atan((l-u)/(1+l*u));0<Math.cos(c)&&(g?s<o.x:s>o.x)&&(s=o.x)}e.attr("x",s+a)}})}})},u.prototype._adjustLabelPosition=function(t,e,i){var n=this,r=this.getCrookDistance();t.forEach(function(e){var t=n.anchors.find(function(t){return t.id===e.id}),i="left"===t.textAlign;e.attr("x",t.x+(i?2*r:2*-r)),e.attr("y",t.y),e.attr("textBaseline","middle")})},u.prototype._getLinePath=function(e,t,i){var n=this.getLabelOptions(),r=!!n.line&&n.line.smooth,o=this.anchors.find(function(t){return t.id===e.id}),a=o.angle,s=t.getCenter(),l=this.getCrookDistance(),u=M.getEndPoint(s,a,t.getRadius()),c=M.getEndPoint(s,a,t.getRadius()+4),h=u.x-o.x<=0,p={x:e.attr("x")+(h?-l:l),y:e.attr("y")},f=["C",p.x+(h?-4:4),p.y,2*c.x-u.x,2*c.y-u.y,c.x,c.y],d=["L",c.x,c.y],g=r?f:d;return["M",p.x,p.y].concat(g).concat("L",u.x,u.y).join(",")},u.prototype.getCrookDistance=function(){var t=this.get("labelOptions").offset;return t<2*i.CROOK_DISTANCE?t/2:i.CROOK_DISTANCE},u.prototype.getLabelHeight=function(){var t=this.get("labelOptions");if(t.labelHeight)return t.labelHeight;var e=this.get("labelsRenderer").get("group").get("children");return _.head(e)?_.head(e).getBBox().height:14},u.prototype.getDefaultOffset=function(t){var e=s.prototype.getDefaultOffset.call(this,t);return void 0===e?i.DEFAULT_OFFSET:e<=i.CROOK_DISTANCE?1:e-i.CROOK_DISTANCE},u);function u(){return null!==s&&s.apply(this,arguments)||this}r.registerElementLabels("outer",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(5),v=i(0),y=i(33),o=n.__importDefault(i(54)),m=i(15);function a(t){return Number(t.endsWith("%")?t.slice(0,-1):t)/100}e.percent2Number=a;var s,l=(s=o.default,n.__extends(u,s),u.prototype.adjustPosition=function(s,l,u){var c=this,h=u.getCenter(),p=u.getRadius()+this.getOffsetOfLabel();s.forEach(function(e,t){var i=l.find(function(t){return t.id===e.id}),n=y.getEndPoint(h,i.angle,p),r=n.x,o=n.y;if(e.attr("x",r),e.attr("y",o),e.attr("textBaseline","middle"),0<t){var a=s[t-1];c.resolveCollision(e,a,i,u)}})},u.prototype.adjustLines=function(t,e,i,n){i.forEach(function(t){return t.set("visible",!1)})},u.prototype.adjustLabelText=function(){},u.prototype.getOffsetOfLabel=function(){var t=this.get("labelOptions").offset,e=this.get("coord").getRadius();return v.isString(t)&&(t=e*a(t)),0<t?0:t},u.prototype.resolveCollision=function(t,e,i,n){var r=i.angle,o=t.getBBox(),a=e.getBBox(),s={x:(o.minX+o.maxX)/2,y:(o.minY+o.maxY)/2},l=v.clone(s),u=v.clone(s);if(e.id!==t.id){var c=y.getOverlapInfo(o,a),h=c.xOverlap,p=c.yOverlap;if(h&&(l.x=s.x+h,l.y=s.y+Math.tan(r)*h),p){var f=p,d=n.getCenter();f=s.y<d.y?f<0?f:a.minY-o.maxY:0<f?f:a.maxY-o.minY,u.y=s.y+f,u.x=s.x+f/Math.tan(r)}var g=m.distBetweenPoints(s,l)<m.distBetweenPoints(s,u)?l:u;t.attr("x",g.x),t.attr("y",g.y)}},u);function u(){return null!==s&&s.apply(this,arguments)||this}r.registerElementLabels("inner",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7),a=i(9),s=n.__importDefault(i(49));i(252),i(253);var l,u=(l=s.default,n.__extends(c,l),c.getDefaultOptions=function(){return r.deepMix({},l.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},c.prototype.label=function(){var t=this.options,e=t.label;if(e&&!1===e.visible)this.area.label=!1;else{var i=this.getLabelType(e);"areaLine"!==i&&"area"!==i||(e.offset=0),"area"===i&&(e.style=r.deepMix({},e.style,{lineWidth:0,stroke:"rgba(0,0,0,0)"})),this.area.label=a.getComponent("label",n.__assign({fields:[this.getLabelField(i,t)],labelType:i,plot:this},e))}},c.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},c.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},c.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},c.prototype.getLabelField=function(t,e){return{point:e.yField,areaLine:e.stackField,area:e.stackField}[t]},c.prototype.getLabelType=function(t){return"line"===t.type?"areaLine":t.type},c);function c(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="stackArea",t}e.default=u,o.registerPlotType("stackArea",u)},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});var r=i(62);e.default=((n={})["g2-tooltip"]={position:"absolute",display:"none",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:r.FONT_FAMILY,lineHeight:"20px",padding:"10px 10px 6px 10px"},n["g2-tooltip-title"]={marginBottom:"4px"},n["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},n["g2-tooltip-list-item"]={marginBottom:"4px"},n["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},n["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);e.splitPoints=function(t){var n=[],r=t.x,e=t.y;return e=o.isArray(e)?e:[e],o.each(e,function(t,e){var i={x:o.isArray(r)?r[e]:r,y:t};n.push(i)}),n},e.setFillStyle=function(t,e){var i=e.color,n=e.opacity;i&&(t.fill=i),o.isNumber(n)&&(t.opacity=t.fillOpacity=n)},e.setStrokeStyle=function(t,e){var i=e.color,n=e.opacity;i&&(t.stroke=i),o.isNumber(n)&&(t.opacity=t.strokeOpacity=n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),u=i(0),n=i(2),r=(o.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container=t.addGroup()},o.prototype.render=function(){var t=this.view.get("scales"),e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,r=i.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(n,r,o):this.renderVertical(n,r,o),this.legendLayout(),this.addInteraction()},o.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getBBox=function(){var t=this.container.getBBox();return new n.BBox(this.x,this.y,t.width,t.height)},o.prototype.renderVertical=function(t,e,i){var r=this,o=(e-t)/(i.length-1),n=1/(i.length-1),a=this.height/(i.length-1),s="l(90)";u.each(i,function(t,e){s+=n*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s}}),u.each(i,function(t,e){var i=a*e;r.container.addShape("path",{attrs:l.__assign({path:[["M",0,i],["L",r.width,i]]},r.options.ticklineStyle)});var n=Math.round(o*e);r.container.addShape("text",{attrs:l.__assign({text:n,textAlign:"left",textBaseline:"middle",x:r.width+4,y:i},r.options.text.style)})}),this.anchor=this.container.addShape("path",{attrs:l.__assign({path:[["M",-10,-7],["L",0,0],["L",-10,7],["Z"]]},this.options.anchorStyle)}),this.anchor.set("visible",!1)},o.prototype.renderHorizontal=function(t,e,i){var r=this,o=(e-t)/(i.length-1),n=1/(i.length-1),a=this.width/(i.length-1),s="l(0)";u.each(i,function(t,e){s+=n*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s}}),u.each(i,function(t,e){var i=a*e;r.container.addShape("path",{attrs:l.__assign({path:[["M",i,0],["L",i,r.height]]},r.options.ticklineStyle)});var n=Math.round(o*e);r.container.addShape("text",{attrs:l.__assign({text:n,textAlign:"center",textBaseline:"top",x:i,y:r.height+4},r.options.text.style)})}),this.anchor=this.container.addShape("path",{attrs:l.__assign({path:[["M",0,0],["L",-7,-10],["L",7,-10],["Z"]]},this.options.anchorStyle)}),this.anchor.set("visible",!1)},o.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},o.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?this.view.get("panelRange").width:10},o.prototype.getDefaultHeight=function(){return"vertical"===this.layout?this.view.get("panelRange").height:10},o.prototype.legendLayout=function(){var i=this,t=this.view.get("panelRange"),n=this.options.plot.getPlotTheme().bleeding;u.isArray(n)&&u.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.options.plot.options))});var e=this.container.getBBox(),r=0,o=0,a=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;"left"===a[0]?r=n[3]:"right"===a[0]?r=s-n[1]-e.width:"center"===a[1]?r=this.width===t.width?t.x:(s-e.width)/2:"left"===a[1]?r=n[3]:"right"===a[1]&&(r=this.options.plot.width-n[1]-e.width),"bottom"===a[0]?o=l-n[2]-e.height:"top"===a[0]?o=this.getTopPosition(n):"center"===a[1]?o=this.height===t.height?t.y:(l-e.height)/2:"top"===a[1]?o=n[0]:"bottom"===a[1]&&(o=l-n[2]-e.height),this.x=r,this.y=o,this.container.translate(r,o)},o.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},o.prototype.addInteraction=function(){var i=this,t=("rect"===this.options.plot.options.shapeType?"polygon":"point")+":"+this.options.triggerOn,e="label:"+this.options.triggerOn,n=this.options.plot.options.colorField,r=this.colorScale,o=r.min,a=r.max;this.view.on(t,function(t){var e=(t.data._origin[n]-o)/(a-o);i.moveAnchor(e)}),this.view.on(e,function(t){var e=(t.data[n]-o)/(a-o);i.moveAnchor(e)}),this.options.plot.canvas.on("mouseleave",function(t){i.anchor.set("visible",!1)})},o.prototype.moveAnchor=function(t){if(this.anchor.set("visible",!0),"vertical"===this.layout){var e=this.height*t;(i=[1,0,0,0,1,0,0,0,1])[7]=e,this.anchor.stopAnimate(),this.anchor.animate({matrix:i},400,"easeLinear")}else{var i;e=this.width*t,(i=[1,0,0,0,1,0,0,0,1])[6]=e,this.anchor.stopAnimate(),this.anchor.animate({matrix:i},400,"easeLinear")}},o.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},o);function o(t){this.destroyed=!1,this.dataSlides={};var e=this.getDefaultOptions();this.options=u.deepMix({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(0);e.dice=function(t,e,i,n,r){var o=n-e,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=o/s,u=e;c.each(a,function(t){t.y0=i,t.y1=r,t.x0=u,u+=t.value*l,t.x1=t.x0+t.value*l})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,m=i(1),n=m.__importDefault(i(285)),x=i(2),o=(r=n.default,m.__extends(a,r),a.prototype.destroy=function(){this.offEvents(),r.prototype.destroy.call(this)},a.prototype.init=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=m.__assign({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=m.__assign({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=m.__assign({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=m.__assign({textBaseline:"top",fill:"#000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=m.__assign({textBaseline:"top",fill:"#000",opacity:.45},t.textStyle||{})},a.prototype.renderInner=function(t){this.offEvents(),this.renderItems(t,0,0),this.group.move(this.x,this.y)},a.prototype.renderItems=function(u,c,h){var p,f=this,t=this.itemPadding,d=t[0],g=t[1],v=t[2],y=t[3],e=u.addShape("rect",{class:"breadcrumb-background",attrs:m.__assign({x:c,y:h,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(t,e){var i=u.addGroup({id:"item-group-"+t.key,data:t,class:"item-group",attrs:{cursor:"pointer"}}),n=i.addShape("rect",{id:"item-background-"+t.key,class:"item-background",attrs:m.__assign(m.__assign({x:c,y:h,width:y+g,height:d+v},f.itemBackgroundStyle),{cursor:"pointer"})});n.name="breadcrumb";var r=i.addShape("text",{id:"item-text-"+t.key,class:"item-text",attrs:m.__assign(m.__assign({x:c+y,y:h+d,text:t.text},f.textStyle),{cursor:"pointer"})});r.name="breadcrumb";var o=r.getBBox();p=f.itemHeight||o.height;var a=f.itemWidth||o.width;f.maxItemWidth&&(a=Math.min(a,f.maxItemWidth));var s={x:c,y:h,width:a+y+g,height:p+d+v};if(n.attr("width",s.width),n.attr("height",s.height),i.attr("clip",new x.Rect({attrs:s})),c+=s.width,e!==f.items.length-1){var l=u.addShape("text",{attrs:m.__assign({x:c,y:h+d,text:f.separator},f.separatorStyle),class:"separator"});c+=l.getBBox().width}}),e.attr({width:c,height:p+d+v})},a.prototype.bindEvents=function(t){function o(t,i,n){return function(){var e=i.get("data"),t=r.find(function(t){return t.key===e});a.emit(n,{item:t})}}var a=this,r=this.items,e=t.get("children").filter(function(t){return"item-group"===t.get("class")});e.forEach(function(t){var e=o(0,t,"onItemClick"),i=o(0,t,"onItemDblclick"),n=a.onItemGroupToggleActive(t,!0),r=a.onItemGroupToggleActive(t,!1);t.on("click",e),t.on("dblclick",i),t.on("mouseenter",n),t.on("mouseleave",r),a.listeners.push({target:t,event:"click",callback:e}),a.listeners.push({target:t,event:"dblclick",callback:i}),a.listeners.push({target:t,event:"mouseenter",callback:n}),a.listeners.push({target:t,event:"mouseleave",callback:r})})},a.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,i=t.event,n=t.callback;e.off(i,n)}),this.listeners=[]},a);function a(){var n=null!==r&&r.apply(this,arguments)||this;return n.listeners=[],n.onItemGroupToggleActive=function(e,i){return function(){var t=e.get("children").find(function(t){return"item-background"===t.get("class")});t&&t.attr(i?n.itemActiveBackgroundStyle:n.itemBackgroundStyle),n.getCanvas().draw()}},n}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=r.__importStar(i(0)),o=i(7),s=i(12),l=r.__importDefault(i(34)),u=r.__importDefault(i(317)),c=r.__importStar(i(318)),h={progress:"interval"},p={interval:"progress"},f=["#55A6F3","#E8EDF3"],d=(n=l.default,r.__extends(g,n),g.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||f};t=a.mix(t,e)},g.prototype.init=function(){this.processProps(),n.prototype.init.call(this)},g.prototype.beforeInit=function(){var t=this.options.percent;if(!a.isNumber(t))throw new Error("Percent value is required, and the type of percent must be Number.")},g.prototype.update=function(t){var e=this.options;if(a.hasKey(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var i=void 0;i=a.isArray(t.color)?(this.options.color=t.color,[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,{fill:t.color}),this.styleUpdateAnimation(i)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},g.prototype.destroy=function(){this.markers&&0<this.markers.length&&(a.each(this.markers,function(t){t.destroy()}),this.markers=[]),n.prototype.destroy.call(this)},g.prototype.afterRender=function(){var n=this;this.options.marker&&!this.markers&&(this.markers=[],a.each(this.options.marker,function(t){var e=a.mix({canvas:n.canvas,view:n.view,progressSize:n.options.barSize},t),i=new u.default(e);n.markers.push(i)}));var t=this.view.get("elements")[0].get("container"),e=t.getBBox(),i=t.addShape("rect",{attrs:{width:e.width,height:e.height,x:e.minX,y:e.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),i.on("mouseenter",function(t){n.isEntered=!0,n.view.emit("progress:mouseenter",t)}),i.on("mouseleave",function(t){n.isEntered=!1,n.view.emit("progress:mouseleave",t)}),this.canvas.get("canvasDOM").addEventListener("mouseleave",function(t){n.isEntered&&(n.view.emit("progress:mouseleave",t),n.isEntered=!1)})},g.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},g.prototype.coord=function(){this.setConfig("coord",{actions:[["transpose"]]})},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],a.has(t,"animation")&&(e.animate=t.animation),this.setConfig("element",e)},g.prototype.parseEvents=function(t){n.prototype.parseEvents.call(this,c)},g.prototype.parseColorProps=function(t){var e;if(t.color){if(e=a.isFunction(t.color)?t.color(t.percent):t.color,a.isString(e)){var i=a.clone(f);return i[0]=e,i}return e}return t.color},g.prototype.processData=function(){var t=this.options;return[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}]},g.prototype.updateMarkers=function(i){var n=i.length,r=this.getUpdateAnimationOptions();if(a.each(this.markers,function(t,e){n-1<e?t.destroy():t.update(i[e],r.duration,r.easing)}),this.markers.length<n)for(var t=this.markers.length;t<n;t++){var e=a.deepMix({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},i[t]),o=new u.default(e);this.markers.push(o)}},g.prototype.getSize=function(){return 50<=this.height?10:4},g.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),i=e.duration,n=e.easing,r=[],o=this.view.get("elements");a.each(o,function(t){if("interval"===t.get("shapeType")){var e=t.getShapes();r.push.apply(r,e)}}),a.isArray(t)?a.each(t,function(t,e){r[e].animate(t,i,n)}):r[0].animate(t,i,n)},g.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",i=this.options.animation;return i&&i.update&&(i.update.duration&&(t=i.update.duration),i.update.easing&&(e=i.update.easing)),{duration:t,easing:e}},g.prototype.updateColorConfigByStyle=function(t){var i=this;a.isArray(t)?a.each(t,function(t,e){t.fill&&(i.options.color[e]=t.fill)}):t.fill&&(this.options.color[0]=t.fill)},g);function g(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}e.default=d,o.registerPlotType("progress",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),o=i(23),r=["line","area","column","bar","bubble","scatter"];function a(t,e){return!(!n.contains(r,t)||"line"===t&&n.has(e,"seriesField")||"column"===t&&n.has(e,"colorField"))}e.getColorConfig=function(t,e,i){if(e.color)return{single:!1,color:e.color};var n=a(t,e),r=o.getGlobalTheme().colors;return n&&!e.color?{single:!0,color:r[i]}:void 0},e.isSingleGraph=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(2),a=n.__importStar(i(0)),h=i(23);e.getOverlappingPadding=function(t,e){var i=h.getGlobalTheme().bleeding;a.isArray(i)&&a.each(i,function(t,e){"function"==typeof i[e]&&(i[e]=i[e]({}))});var s=t.layerBBox.minX,l=t.layerBBox.maxX,u=a.clone(t.layerBBox.minY),c=t.layerBBox.maxY;a.each(e,function(t){var e=t.position,i=t.getBBox(),n=i.minX,r=i.maxX,o=i.minY,a=i.maxY;u<a&&a<c&&"top"===e&&(u=a),u<o&&o<c&&"bottom"===e&&(c=o),s<r&&r<l&&"left"===e&&(s=r),s<n&&r<l&&"right"===e&&(l=n)});var n=new o.BBox(s,u,l-s,c-u),r=n.minY-t.layerBBox.minY;return 0===r&&(r=i[0]),[r,t.layerBBox.maxX-n.maxX,t.layerBBox.maxY-n.maxY,n.minX-t.layerBBox.minX]}},function(t,e,i){"use strict";i.r(e),i.d(e,"ScrollBar",function(){return r}),i.d(e,"Icon",function(){return a}),i.d(e,"Arrow",function(){return l}),i.d(e,"Slider",function(){return E}),i.d(e,"Trend",function(){return O}),i.d(e,"TimeLine",function(){return R});var p,f,d,k=i(1),n=i(3),o=i(2),P=i(0),g={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},r=(d=o.Group,Object(k.__extends)(h,d),h.prototype.current=function(){var t=this.thumbLen/this.trackLen;return this.thumbOffset/this.trackLen/(1-t)},h.prototype.updateTrackLen=function(t){if(this.trackLen!==t){var e=t*(this.thumbLen/this.trackLen),i=t*(this.thumbOffset/this.trackLen);this.trackLen=t,this.isHorizontal?this.trackShape.attr("x2",t):this.trackShape.attr("y2",t),this.updateThumbLen(e),this.updateThumbOffset(i),this._renderNewScrollBar()}},h.prototype.updateThumbLen=function(t){this.thumbLen!==t&&(this.thumbLen=t,this.isHorizontal?this.thumbShape.attr("x2",this.thumbOffset+t):this.thumbShape.attr("y2",this.thumbOffset+t),this._renderNewScrollBar())},h.prototype.updateThumbOffset=function(t){var e=this._validateRange(t);this.thumbOffset!==e&&(this.thumbOffset=e,this.isHorizontal?this.thumbShape.attr({x1:e,x2:e+this.thumbLen}):this.thumbShape.attr({y1:e,y2:e+this.thumbLen}),this._renderNewScrollBar())},h.prototype.updateScrollBarPos=function(t){t.x===this.position.x&&t.y===this.position.y||(this.position=t,this.scrollBarGroup.move(t.x,t.y),this._renderNewScrollBar())},h.prototype._renderNewScrollBar=function(){this.emit("scrollchange",{thumbOffset:this.thumbOffset,ratio:P.clamp(this.thumbOffset/(this.trackLen-this.thumbLen),0,1)}),this.get("canvas").draw()},h.prototype.updateTheme=function(t){this.theme=P.deepMix({},g,t),this.thumbShape.attr("stroke",this.theme.default.thumbColor),this.thumbShape.attr("lineWidth",this.theme.default.size),this.thumbShape.attr("lineCap",this.theme.default.lineCap),this.get("canvas").draw()},h.prototype._initScrollBar=function(){this.scrollBarGroup=this._createScrollBarGroup(),this.scrollBarGroup.move(this.position.x,this.position.y),this._bindEvents()},h.prototype._createScrollBarGroup=function(){var t=this.addGroup({className:this.isHorizontal?"horizontalBar":"verticalBar"});return this.trackShape=this._createTrackShape(t),this.thumbShape=this._createThumbShape(t),t},h.prototype._createTrackShape=function(t){var e=this.theme.default,i=e.lineCap,n=e.trackColor,r=e.size;return this.isHorizontal?t.addShape("line",{attrs:{x1:0,y1:r/2,x2:this.trackLen,y2:r/2,lineWidth:r,stroke:n,lineCap:i}}):t.addShape("line",{attrs:{x1:r/2,y1:0,x2:r/2,y2:this.trackLen,lineWidth:r,stroke:n,lineCap:i}})},h.prototype._createThumbShape=function(t){var e=this.theme.default,i=e.size,n=e.lineCap,r=e.thumbColor;return this.isHorizontal?t.addShape("line",{attrs:{x1:this.thumbOffset,y1:i/2,x2:this.thumbOffset+this.thumbLen,y2:i/2,lineWidth:i,stroke:r,lineCap:n,cursor:"default"}}):t.addShape("line",{attrs:{x1:i/2,y1:this.thumbOffset,x2:i/2,y2:this.thumbOffset+this.thumbLen,lineWidth:i,stroke:r,lineCap:n,cursor:"default"}})},h.prototype._bindEvents=function(){this.on("mousedown",this._onStartEvent(!1)),this.on("mouseup",this._onMouseUp),this.on("touchstart",this._onStartEvent(!0)),this.on("touchend",this._onMouseUp),this.trackShape.on("click",this._onTrackClick),this.thumbShape.on("mouseover",this._onTrackMouseOver),this.thumbShape.on("mouseout",this._onTrackMouseOut)},h.prototype._bindLaterEvent=function(){var t=this.get("canvas").get("containerDOM"),e=[];e=this._isMobile?[n.addEventListener(t,"touchmove",this._onMouseMove),n.addEventListener(t,"touchend",this._onMouseUp),n.addEventListener(t,"touchcancel",this._onMouseUp)]:[n.addEventListener(t,"mousemove",this._onMouseMove),n.addEventListener(t,"mouseup",this._onMouseUp),n.addEventListener(t,"mouseleave",this._onMouseUp)],this._clearEvents=function(){e.forEach(function(t){t.remove()})}},h.prototype._validateRange=function(t){var e=t;return t+this.thumbLen>this.trackLen?e=this.trackLen-this.thumbLen:t+this.thumbLen<this.thumbLen&&(e=0),e},h),a=(f=o.Group,Object(k.__extends)(c,f),c.prototype._initIcon=function(){var t=this.position,e=t.x,i=t.y,n=String.fromCharCode(parseInt(this.icon,16)),r=this.addShape("text",{attrs:Object(k.__assign)({x:e,y:i,text:n},this.iconStyle)});if(this.text){var o=r.getBBox();this.addShape("text",{attrs:Object(k.__assign)({x:e+o.width+this.spacing,y:i+o.height/2,text:this.text},this.textStyle)})}var a=this.getBBox();this.bg=this.addShape("rect",{attrs:{x:a.x,y:a.y,width:a.width,height:a.height,radius:2,fill:"#fff"},zIndex:-1}),this.sort()},c.prototype._bindEvent=function(){var t=this;this.on("mouseover",function(){t.bg.attr("fill","#F5F5F5"),t.get("canvas").draw()}),this.on("mouseout",function(){t.bg.attr("fill","#fff"),t.get("canvas").draw()})},c),s={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},l=(p=o.Group,Object(k.__extends)(u,p),u.prototype._init=function(){var e=this,t=this.width/2,i=this.height/2,n=[{x:0,y:-i},{x:-t,y:i},{x:t,y:i}],r=new o.Path({attrs:Object(k.__assign)({path:[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],["Z"]]},this.shapeAttrs)});this.add(r),this.rotate(s[this.direction]),this.move(this.position.x,this.position.y),r.on("click",function(t){t.stopPropagation(),e.emit("click",t)})},u),x={opacity:0},b={stroke:"#C5C5C5",strokeOpacity:.85},_={fill:"#CACED4",opacity:.85},y=i(18),m=i(11);function u(t){var e=p.call(this)||this,i=t.position,n=void 0===i?{x:0,y:0}:i,r=t.width,o=void 0===r?10:r,a=t.height,s=void 0===a?10:a,l=t.direction,u=void 0===l?"right":l,c=t.shapeAttrs,h=void 0===c?{}:c;return e.position=n,e.width=o,e.height=s,e.direction=u,e.shapeAttrs=h,e._init(),e}function c(t){var e=f.call(this,t)||this,i=t.position,n=void 0===i?{x:0,y:0}:i,r=t.icon,o=t.text,a=void 0===o?"":o,s=t.spacing,l=void 0===s?8:s,u=t.iconStyle,c=t.textStyle,h=t.interactive,p=void 0!==h&&h;return e.position=n,e.icon=r,e.text=a,e.spacing=l,e.iconStyle=Object(k.__assign)({fontFamily:"iconfont",fontSize:16,textAlign:"left",textBaseline:"top",fill:"#1890ff"},u),e.textStyle=Object(k.__assign)({fontSize:12,textAlign:"left",textBaseline:"middle",fill:"#000"},c),e.interactive=p,e._initIcon(),e.interactive&&e._bindEvent(),e}function h(t){var a=d.call(this)||this;a._isMobile=!1,a._onStartEvent=function(r){return function(t){a._isMobile=r,t.event.preventDefault();var e=a._isMobile?P.get(t.event,"touches.0",t):t,i=e.clientX,n=e.clientY;a._startPos=a.isHorizontal?i:n,a._bindLaterEvent()}},a._onTrackClick=function(t){var e=a.get("canvas").get("containerDOM").getBoundingClientRect(),i=t.clientX,n=t.clientY,r=a.isHorizontal?i-e.left-a.position.x-a.thumbLen/2:n-e.top-a.position.y-a.thumbLen/2,o=a._validateRange(r);a.updateThumbOffset(o)},a._onMouseMove=function(t){t.preventDefault();var e=a._isMobile?P.get(t,"touches.0",t):t,i=e.clientX,n=e.clientY,r=a.isHorizontal?i:n,o=r-a._startPos;a._startPos=r,a.updateThumbOffset(a.thumbOffset+o)},a._onMouseUp=function(t){t.preventDefault(),a._clearEvents()},a._onTrackMouseOver=function(t){var e=a.theme.hover.thumbColor;a.thumbShape.attr("stroke",e),a.get("canvas").draw()},a._onTrackMouseOut=function(t){var e=a.theme.default.thumbColor;a.thumbShape.attr("stroke",e),a.get("canvas").draw()};var e=t.isHorizontal,i=void 0!==e&&e,n=t.trackLen,r=t.thumbLen,o=t.position,s=t.minThumbLen,l=void 0===s?20:s,u=t.thumbOffset,c=void 0===u?0:u,h=t.theme;return a.isHorizontal=i,a.thumbOffset=c,a.trackLen=n,a.thumbLen=r,a.position=o,a.minThumbLen=l,a.theme=P.deepMix({},g,h),a._initScrollBar(),a}function M(t){return e=t,P.map(e,function(t,e){return[0===e?"M":"L",t[0],t[1]]});var e}var v,w,A,S,C,O=(C=o.Group,Object(k.__extends)(G,C),G.prototype._initial=function(){var t=this,e=t.x,i=t.y,n=t.width,r=t.height,o=t.data,a=t.smooth,s=t.isArea,l=t.backgroundStyle,u=t.lineStyle,c=t.areaStyle;this.backgroundShape=this.addShape("rect",{attrs:Object(k.__assign)({x:0,y:0,width:n,height:r},l)});var h=function(t,i,n,e){void 0===e&&(e=!0);var r=new m.Linear({values:t}),o=new m.Category({values:P.map(t,function(t,e){return e})}),a=P.map(t,function(t,e){return[o.scale(e)*i,n-r.scale(t)*n]});return(e?function(t){if(t.length<=2)return M(t);var e=[];P.each(t,function(t){P.isEqual(t,e.slice(e.length-2))||e.push(t[0],t[1])});var i=y.a(e,!1),n=P.head(t),r=n[0],o=n[1];return i.unshift(["M",r,o]),i}:M)(a)}(o,n,r,a);this.lineShape=this.addShape("path",{attrs:Object(k.__assign)({path:h},u)});var p,f,d,g,v=(p=h,f=n,d=r,(g=Object(k.__spreadArrays)(p)).push(["L",f,0]),g.push(["L",0,d]),g.push(["Z"]),g);s&&(this.areaShape=this.addShape("path",{attrs:Object(k.__assign)({path:v},c)})),this.move(e,i)},G),L={fill:"#416180 ",opacity:.05},T={fill:"#5B8FF9",opacity:.15,cursor:"move"},D={width:10,height:24},j={textBaseline:"middle",fill:"#000",opacity:.45},I={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},B=(S=o.Group,Object(k.__extends)(H,S),H.prototype.setX=function(t){this.setXY(t,void 0)},H.prototype.setY=function(t){this.setXY(void 0,t)},H.prototype.setXY=function(t,e){P.isNumber(t)&&(this.x=t),P.isNumber(e)&&(this.y=e),this._updateXY()},H.prototype._initial=function(){var t=this.width,e=this.height,i=this.style,n=i.fill,r=i.stroke,o=i.radius,a=i.opacity,s=i.cursor;this.background=this.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:n,stroke:r,radius:o,opacity:a,cursor:s}});var l=1/3*t,u=2/3*t,c=.25*e,h=.75*e;this.addShape("line",{attrs:{x1:l,y1:c,x2:l,y2:h,stroke:r,cursor:s}}),this.addShape("line",{attrs:{x1:u,y1:c,x2:u,y2:h,stroke:r,cursor:s}}),this._updateXY(),this._bindEvents()},H.prototype._bindEvents=function(){var e=this;this.on("mouseenter",function(){var t=e.style.highLightFill;e.background.attr("fill",t),e._getCanvas().draw()}),this.on("mouseleave",function(){var t=e.style.fill;e.background.attr("fill",t),e._getCanvas().draw()})},H.prototype._updateXY=function(){this.move(this.x,this.y)},H.prototype._getCanvas=function(){for(var t=this;t.get("parent");)t=t.get("parent");return t},H),E=(A=o.Group,Object(k.__extends)(Y,A),Y.prototype.update=function(t){var e=t.x,i=t.y,n=t.width,r=t.height,o=t.minText,a=t.maxText,s=t.start,l=t.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(l,0)),P.assign(this,{x:e,y:i,width:n,height:r,minText:o,maxText:a}),this._updateUI()},Y.prototype._initial=function(){var t=this.width,e=this.height;P.size(P.get(this.trendCfg,"data"))&&(this.trendShape=new O(Object(k.__assign)({x:0,y:0,width:t,height:e},this.trendCfg)),this.add(this.trendShape)),this.backgroundShape=this.addShape("rect",{attrs:Object(k.__assign)({x:0,y:0,width:t,height:e},this.backgroundStyle)}),this.minTextShape=this.addShape("text",{attrs:Object(k.__assign)({y:e/2,textAlign:"right",text:this.minText,silent:!1},this.textStyle)}),this.maxTextShape=this.addShape("text",{attrs:Object(k.__assign)({y:e/2,textAlign:"left",text:this.maxText,silent:!1},this.textStyle)}),this.foregroundShape=this.addShape("rect",{attrs:Object(k.__assign)({y:0,height:e},this.foregroundStyle)}),P.get(this.handlerStyle,"width",10);var i=P.get(this.handlerStyle,"height",24);this.minHandlerShape=new B(Object(k.__assign)({x:0,y:(e-i)/2,width:t,height:i,cursor:"ew-resize"},this.handlerStyle)),this.add(this.minHandlerShape),this.maxHandlerShape=new B(Object(k.__assign)({x:0,y:(e-i)/2,width:t,height:i,cursor:"ew-resize"},this.handlerStyle)),this.add(this.maxHandlerShape),this._updateUI(),this.move(this.x,this.y),this._bindEvents()},Y.prototype._bindEvents=function(){this.minHandlerShape.on("mousedown",this.onMouseDown(this.minHandlerShape)),this.minHandlerShape.on("touchstart",this.onMouseDown(this.minHandlerShape)),this.maxHandlerShape.on("mousedown",this.onMouseDown(this.maxHandlerShape)),this.maxHandlerShape.on("touchstart",this.onMouseDown(this.maxHandlerShape)),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape))},Y.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:var e=0-this.start,i=1-this.start;return Math.min(i,Math.max(e,t));case this.maxHandlerShape:return e=0-this.end,i=1-this.end,Math.min(i,Math.max(e,t));case this.foregroundShape:return e=0-this.start,i=1-this.end,Math.min(i,Math.max(e,t));default:return 0}},Y.prototype.updateStartEnd=function(t){switch(this.currentHandler){case this.minHandlerShape:this.start+=t;break;case this.maxHandlerShape:this.end+=t;break;case this.foregroundShape:this.start+=t,this.end+=t}},Y.prototype._updateUI=function(){var i=this,t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=P.get(this.handlerStyle,"width",10);this.minTextShape.attr("text",this.minText),this.maxTextShape.attr("text",this.maxText);var r=this._dodgeText([t,e]),o=r[0],a=r[1];this.minHandlerShape.setX(t-n/2),P.each(o,function(t,e){return i.minTextShape.attr(e,t)}),this.maxHandlerShape.setX(e-n/2),P.each(a,function(t,e){return i.maxTextShape.attr(e,t)})},Y.prototype._dodgeText=function(t){var e,i,n=P.get(this.handlerStyle,"width",10),r=this.minTextShape,o=this.maxTextShape,a=t[0],s=t[1],l=!1;s<a&&(a=(e=[s,a])[0],s=e[1],r=(i=[o,r])[0],o=i[1],l=!0);var u=r.getBBox(),c=o.getBBox(),h=u.width>a-2?{x:a+n/2+2,textAlign:"left"}:{x:a-n/2-2,textAlign:"right"},p=c.width>this.width-s-2?{x:s-n/2-2,textAlign:"right"}:{x:s+n/2+2,textAlign:"left"};return l?[p,h]:[h,p]},Y),F=(w=o.Group,Object(k.__extends)(z,w),z.prototype.update=function(t){this.config=P.deepMix({},this.config,t),this.updateElement(),this.renderMarker()},z.prototype.init=function(){this.initElement(),this.renderMarker()},z.prototype.initElement=function(){this.circle=this.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=this.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=new o.Group;var t=.25*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-e/2,width:t,height:e,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-e/2,width:t,height:e,fill:"#ffffff"}}),this.add(this.pauseGroupMarker)},z.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=.25*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},z.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},z.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},z),R=(v=o.Group,Object(k.__extends)(N,v),N.prototype.update=function(t){this.config=P.deepMix({},this.config,t);var e=this.config.ticks;this.currentTick=e.includes(this.currentTick)?this.currentTick:e[0],this.renderPlayButton(),this.renderTimeLine(),this.renderTimeSelect(this.currentTick)},N.prototype.destroy=function(){v.prototype.destroy.call(this),this.timeLineButton.off(),this.timeSelect.off()},N.prototype.init=function(){var t=this.config,e=t.ticks,i=t.defaultCurrentTick;e&&e.length&&(this.currentTick=this.config.ticks.includes(i)?i:e[0],this.renderPlayButton(),this.renderTimeLine(),this.renderTimeSelect(this.currentTick),this.initEvent())},N.prototype.renderPlayButton=function(){var t=this.config,e=t.height,i=t.x,n=t.y,r=e/2*.8;this.timeLineButton?this.timeLineButton.update({x:i+r,y:n+r+e*(1-.8)/2,r:r}):(this.timeLineButton=new F({x:i+r,y:n+r+e*(1-.8)/2,r:r,isPlay:this.isPlay}),this.add(this.timeLineButton))},N.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,i=t.y,n=t.width,r=t.height,o=r/2;return 0<n?"M"+e+", "+i+"A"+o+","+o+" 90 0,0 "+e+","+(i+r)+"L"+(e+n)+", "+(i+r)+"A"+o+","+o+" 90 0,0 "+(e+n)+","+i+"L"+e+", "+i:[]},N.prototype.renderTimeLine=function(){var r=this,t=this.config,e=t.width,i=t.height,n=t.ticks,o=t.x,a=t.y;this.timeLine||(this.timeLine={}),this.timeLine.height=.15*i,this.timeLine.x=o+i+20,this.timeLine.y=a+(i/2-this.timeLine.height/2),this.timeLine.width=e-this.timeLine.x-20,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=this.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var s=this.timeLine.width/(n.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(t){t.destroy()});var l=-1/0;this.timeLine.textList=n.map(function(t,e){r.tickPosList.push(r.timeLine.x+e*s);var i=r.addShape("text",{attrs:{x:r.timeLine.x+e*s,y:r.timeLine.y+r.timeLine.height+5,text:t,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),n=i.getBBox();return n.minX>l?(i.show(),l=n.minX+n.width+10):i.hide(),i})},N.prototype.renderTimeSelect=function(e){var t=this.config,i=t.ticks,n=t.height,r=this.timeLine.width/(i.length-1),o=P.findIndex(i,function(t){return t===e}),a=this.timeLine.x+o*r,s=this.config.y+n/2,l=.15*n;this.timeSelect?(this.timeSelect.attr("x",a),this.timeSelect.attr("y",s),this.timeSelect.attr("r",l)):this.timeSelect=this.addShape("circle",{attrs:{x:a,y:s,r:l,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",a),this.timeSelectText.attr("y",s-.15*n-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=this.addShape("text",{attrs:{x:a,y:s-.15*n-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},N.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},N.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var i=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[i]&&(this.currentTick=this.config.ticks[i],this.timeSelectText.attr("text",this.currentTick),this.emit("timelinechange",this.currentTick)),this.get("canvas").draw()},N.prototype.syncCurrnentTick=function(){var e=this,t=this.config.ticks,i=this.timeLine.width/(t.length-1),n=P.findIndex(t,function(t){return t===e.currentTick}),r=this.timeLine.x+n*i;this.timeSelect.attr("x",r),this.timeSelectText.attr("x",r),this.get("canvas").draw()},N.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.config,e=t.speed,i=t.ticks,n=r.timeLine.width/i.length/(1e3*e/60);r.setTimeSelectX(n),r.isPlay&&(r.playHandler=r.startPlay())})},N.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit("timelinestart",null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit("timelineend",null))),this.get("canvas").draw()},N.prototype.initEvent=function(){var t=this;this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.on("mousedown",this.onTimeSelectMouseDown)},N);function N(t){var n=v.call(this)||this;return n.onTimeSelectMouseMove=function(t){t.stopPropagation(),t.preventDefault();var e=P.get(t,"touches.0.pageX",t.pageX),i=e-n.prevX;n.setTimeSelectX(i),n.prevX=e},n.onTimeSelectMouseUp=function(t){n.syncCurrnentTick(),n.emit("timelineend",null);var e=n.get("canvas").get("containerDOM");e&&(e.removeEventListener("mousemove",n.onTimeSelectMouseMove),e.removeEventListener("mouseup",n.onTimeSelectMouseUp),e.removeEventListener("mouseleave",n.onTimeSelectMouseUp),e.removeEventListener("touchmove",n.onTimeSelectMouseMove),e.removeEventListener("touchend",n.onTimeSelectMouseUp),e.removeEventListener("touchcancel",n.onTimeSelectMouseUp))},n.onTimeSelectMouseDown=function(t){var e=t.event;e.stopPropagation(),e.preventDefault(),!1===n.isPlay?n.emit("timelinestart",null):(n.isPlay=!1,n.changePlayStatus(!1)),n.prevX=P.get(t,"touches.0.pageX",e.pageX);var i=n.get("canvas").get("containerDOM");i.addEventListener("mousemove",n.onTimeSelectMouseMove),i.addEventListener("mouseup",n.onTimeSelectMouseUp),i.addEventListener("mouseleave",n.onTimeSelectMouseUp),i.addEventListener("touchmove",n.onTimeSelectMouseMove),i.addEventListener("touchend",n.onTimeSelectMouseUp),i.addEventListener("touchcancel",n.onTimeSelectMouseUp)},n.config=P.deepMix({},{speed:1,loop:!1},t),n.init(),n}function z(t){var e=w.call(this)||this;return e.config=P.deepMix({},t),e.init(),e}function Y(t){var o=A.call(this)||this;o.prevX=0,o.prevY=0,o.onMouseDown=function(n){return function(t){o.currentHandler=n;var e=t.event;e.stopPropagation(),e.preventDefault(),o.prevX=P.get(e,"touches.0.pageX",e.pageX),o.prevY=P.get(e,"touches.0.pageY",e.pageY);var i=o.get("canvas").get("containerDOM");i.addEventListener("mousemove",o.onMouseMove),i.addEventListener("mouseup",o.onMouseUp),i.addEventListener("mouseleave",o.onMouseUp),i.addEventListener("touchmove",o.onMouseMove),i.addEventListener("touchend",o.onMouseUp),i.addEventListener("touchcancel",o.onMouseUp)}},o.onMouseMove=function(t){t.stopPropagation(),t.preventDefault();var e=P.get(t,"touches.0.pageX",t.pageX),i=P.get(t,"touches.0.pageY",t.pageY),n=e-o.prevX,r=o.adjustOffsetRange(n/o.width);o.updateStartEnd(r),o._updateUI(),o.prevX=e,o.prevY=i,o.get("canvas").draw(),o.emit("sliderchange",[o.start,o.end].sort())},o.onMouseUp=function(){o.currentHandler&&(o.currentHandler=void 0);var t=o.get("canvas").get("containerDOM");t&&(t.removeEventListener("mousemove",o.onMouseMove),t.removeEventListener("mouseup",o.onMouseUp),t.removeEventListener("mouseleave",o.onMouseUp),t.removeEventListener("touchmove",o.onMouseMove),t.removeEventListener("touchend",o.onMouseUp),t.removeEventListener("touchcancel",o.onMouseUp))};var e=t.x,i=void 0===e?0:e,n=t.y,r=void 0===n?0:n,a=t.width,s=void 0===a?100:a,l=t.height,u=void 0===l?16:l,c=t.trendCfg,h=t.backgroundStyle,p=void 0===h?{}:h,f=t.foregroundStyle,d=void 0===f?{}:f,g=t.handlerStyle,v=void 0===g?{}:g,y=t.textStyle,m=void 0===y?{}:y,x=t.start,b=void 0===x?0:x,_=t.end,M=void 0===_?1:_,w=t.minText,S=void 0===w?"":w,C=t.maxText,O=void 0===C?"":C;return o.x=i,o.y=r,o.width=s,o.height=u,o.trendCfg=c,o.backgroundStyle=Object(k.__assign)(Object(k.__assign)({},L),p),o.foregroundStyle=Object(k.__assign)(Object(k.__assign)({},T),d),o.handlerStyle=Object(k.__assign)(Object(k.__assign)({},D),v),o.textStyle=Object(k.__assign)(Object(k.__assign)({},j),m),o.start=b,o.end=M,o.minText=S,o.maxText=O,o._initial(),o}function H(t){var e=S.call(this)||this,i=t.x,n=void 0===i?0:i,r=t.y,o=void 0===r?0:r,a=t.width,s=void 0===a?10:a,l=t.height,u=void 0===l?24:l,c=t.style,h=void 0===c?{}:c;return e.x=n,e.y=o,e.width=s,e.height=u,e.style=Object(k.__assign)(Object(k.__assign)({},I),h),e._initial(),e}function G(t){var e=C.call(this)||this,i=t.x,n=void 0===i?0:i,r=t.y,o=void 0===r?0:r,a=t.width,s=void 0===a?200:a,l=t.height,u=void 0===l?16:l,c=t.smooth,h=void 0===c||c,p=t.isArea,f=void 0!==p&&p,d=t.data,g=void 0===d?[]:d,v=t.backgroundStyle,y=t.lineStyle,m=t.areaStyle;return e.x=n,e.y=o,e.width=s,e.height=u,e.data=g,e.smooth=h,e.isArea=f,e.backgroundStyle=P.assign({},x,v),e.lineStyle=P.assign({},b,y),e.areaStyle=P.assign({},_,m),e._initial(),e}},function(t){t.exports=JSON.parse('{"a":"3.6.0-beta.21"}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=function(t){var e=new u.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=r,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},e.subtract=a,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},e.distance=h,e.squaredDistance=p,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=g,e.cross=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],l=i[2];return t[0]=r*l-o*s,t[1]=o*a-n*l,t[2]=n*s-r*a,t},e.lerp=function(t,e,i,n){var r=e[0],o=e[1],a=e[2];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t[2]=a+n*(i[2]-a),t},e.hermite=function(t,e,i,n,r,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+i[0]*l+n[0]*u+r[0]*c,t[1]=e[1]*s+i[1]*l+n[1]*u+r[1]*c,t[2]=e[2]*s+i[2]*l+n[2]*u+r[2]*c,t},e.bezier=function(t,e,i,n,r,o){var a=1-o,s=a*a,l=o*o,u=s*a,c=3*o*s,h=3*l*a,p=l*o;return t[0]=e[0]*u+i[0]*c+n[0]*h+r[0]*p,t[1]=e[1]*u+i[1]*c+n[1]*h+r[1]*p,t[2]=e[2]*u+i[2]*c+n[2]*h+r[2]*p,t},e.random=function(t,e){e=e||1;var i=2*u.RANDOM()*Math.PI,n=2*u.RANDOM()-1,r=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*r,t[1]=Math.sin(i)*r,t[2]=n*e,t},e.transformMat4=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[3]*n+i[7]*r+i[11]*o+i[15];return a=a||1,t[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/a,t[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/a,t[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/a,t},e.transformMat3=function(t,e,i){var n=e[0],r=e[1],o=e[2];return t[0]=n*i[0]+r*i[3]+o*i[6],t[1]=n*i[1]+r*i[4]+o*i[7],t[2]=n*i[2]+r*i[5]+o*i[8],t},e.transformQuat=function(t,e,i){var n=i[0],r=i[1],o=i[2],a=i[3],s=e[0],l=e[1],u=e[2],c=r*u-o*l,h=o*s-n*u,p=n*l-r*s,f=r*p-o*h,d=o*c-n*p,g=n*h-r*c,v=2*a;return c*=v,h*=v,p*=v,f*=2,d*=2,g*=2,t[0]=s+c+f,t[1]=l+h+d,t[2]=u+p+g,t},e.rotateX=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0],o[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),o[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},e.rotateY=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),o[1]=r[1],o[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},e.rotateZ=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),o[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),o[2]=r[2],t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},e.angle=function(t,e){var i=o(t[0],t[1],t[2]),n=o(e[0],e[1],e[2]);d(i,i),d(n,n);var r=g(i,n);return 1<r?0:r<-1?Math.PI:Math.acos(r)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var i=t[0],n=t[1],r=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(i-o)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-a)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=u.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))};var l,u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(40));function n(){var t=new u.ARRAY_TYPE(3);return u.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function r(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function o(t,e,i){var n=new u.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=i,n}function a(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function s(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function c(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function h(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}function p(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r}function f(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function d(t,e){var i=e[0],n=e[1],r=e[2],o=i*i+n*n+r*r;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=a,e.mul=s,e.div=c,e.dist=h,e.sqrDist=p,e.len=r,e.sqrLen=f,e.forEach=(l=n(),function(t,e,i,n,r,o){var a,s=void 0;for(e=e||3,i=i||0,a=n?Math.min(n*e+i,t.length):t.length,s=i;s<a;s+=e)l[0]=t[s],l[1]=t[s+1],l[2]=t[s+2],r(l,l,o),t[s]=l[0],t[s+1]=l[1],t[s+2]=l[2];return t})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(110),l=i(111),u=i(56);e.default=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(u.default(e)||u.default(i))return!1;if(l.default(e)||l.default(i)){if(e.length!==i.length)return!1;for(var n=!0,r=0;r<e.length&&(n=t(e[r],i[r]));r++);return n}if(s.default(e)||s.default(i)){var o=Object.keys(e),a=Object.keys(i);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=t(e[o[r]],i[o[r]]));r++);return n}return!1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(t%e+e)%e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Math.PI/180;e.default=function(t){return n*t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);n.__exportStar(i(57),e);var r=i(29);e.Layer=r.default,e.LayerConfig=r.LayerConfig;var o=i(8);e.ViewLayer=o.default,e.ViewConfig=o.ViewConfig;var a=i(6);e.Base=a.default,e.PlotConfig=a.PlotConfig,n.__exportStar(i(70),e);var s=i(34);e.TinyLayerConfig=s.TinyLayerConfig;var l=i(316);e.Progress=l.default,e.ProgressConfig=l.ProgressConfig;var u=i(319);e.RingProgress=u.default,e.RingProgressConfig=u.RingProgressConfig;var c=i(323);e.TinyColumn=c.default,e.TinyColumnConfig=c.TinyColumnConfig;var h=i(326);e.TinyArea=h.default,e.TinyAreaConfig=h.TinyAreaConfig;var p=i(329);e.TinyLine=p.default,e.TinyLineConfig=p.TinyLineConfig;var f=i(332);e.OverlappedComboPlot=f.default,e.OverlappedComboPlotConfig=f.OverlappedComboPlotConfig;var d=i(20);e.registerTheme=d.registerTheme,e.registerGlobalTheme=d.registerGlobalTheme;var g=i(75);e.registerResponsiveConstraint=g.registerResponsiveConstraint,e.IConstraint=g.IConstraint;var v=i(76);e.registerResponsiveRule=v.registerResponsiveRule;var y=i(30);e.registerResponsiveTheme=y.registerResponsiveTheme,e.getResponsiveTheme=y.getResponsiveTheme;var m=i(66);e.StateManager=m.default},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"object"===n(t)&&null!==t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(113);e.Size=n.default;var r=i(115);e.Color=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=i(1),s=i(2),r=i(61),o=(n=r.default,a.__extends(l,n),l.prototype.getBackgroundShapeAttr=function(){var t=this.get("width"),e=this.get("height"),i=t/2,n=e/2;return{points:"rect"===this.get("handleIcon")?this.isHorizontal()?[[0,e],[0,e-4],[t,0],[t,e]]:[[0,0],[t,0],[t,e],[t-4,e]]:this.isHorizontal()?[[0,2+n],[0,n-2],[t,n-2],[t,2+n]]:[[2+i,0],[i-2,0],[i-2,e],[2+i,e]]}},l.prototype.createBackgroundGroup=function(){var t=this.getBackgroundShapeAttr(),e=this.get("backgroundStyle"),i=this.get("fillStyle"),n=new s.Polygon({attrs:a.__assign(a.__assign({},t),e)}),r=new s.Polygon({attrs:a.__assign(a.__assign(a.__assign({},t),e),i)}),o=new s.Group;return this.isOperational()&&o.add(n),o.add(r),{group:o,background:n,frontend:r}},l);function l(t){return n.call(this,a.__assign({type:"size-legend"},t))||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m,r=i(1),n=i(2),o=i(3),x=i(43),a=(m=n.Group,r.__extends(s,m),s.prototype.setBackground=function(t){this.backgroundGroup&&this.backgroundGroup.destroy();var e=t.group,i=(t.background,t.frontend);this.backgroundGroup=e,this.backgroundGroup.set("zIndex",0),this.operational&&this.rangeSliderShape&&i&&i.attr("clip",this.rangeSliderShape),this.add(this.backgroundGroup),this.sort()},s.prototype.isHorizontal=function(){return"horizontal"===this.layout},s.prototype.initialSlider=function(){if(this.operational){this.rangeSliderShape=this.createRangeSliderShape(),this.rangeSliderShape.set("zIndex",1),this.minSliderGroup=this.createMinSliderGroup(),this.minSliderGroup.set("zIndex",2),this.maxSliderGroup=this.createMaxSliderGroup(),this.maxSliderGroup.set("zIndex",2);var t=this.range,e=t[0],i=t[1];this.renderUIWithRange(e,i)}this.bindEvent()},s.prototype.getSliderCursor=function(){return this.isHorizontal()?"ew-resize":"ns-resize"},s.prototype.createMinSliderGroup=function(){var t=this.addGroup();return this.minSliderShape=this.createSliderButton(t,!0),this.minTextShape=this.createSliderText(t,!0),t},s.prototype.createMaxSliderGroup=function(){var t=this.addGroup();return this.maxSliderShape=this.createSliderButton(t,!1),this.maxTextShape=this.createSliderText(t,!1),t},s.prototype.createRangeSliderShape=function(){return this.addShape("rect",{attrs:{fill:"#fff",fillOpacity:0,cursor:"move"}})},s.prototype.getRectButtonAttribute=function(t){var e=this.sliderSize,i=e[0],n=e[1];return this.isHorizontal()?{x:t?-i:0,y:this.height/2-n/2,width:i,height:n}:{x:this.width/2-n/2,y:t?0:-i,width:n,height:i}},s.prototype.getCircleButtonAttribute=function(t){return this.isHorizontal()?{x:0,y:this.height/2,r:x.SLIDER_CIRCLE_MAX_SIZE/2}:{x:this.width/2,y:0,r:x.SLIDER_CIRCLE_MAX_SIZE/2}},s.prototype.createSliderButton=function(t,e){var i="rect"===this.sliderType?this.getRectButtonAttribute(e):"circle"===this.sliderType?this.getCircleButtonAttribute(e):{},n=r.__assign(r.__assign(r.__assign({},i),x.SliderBtnStyle),{cursor:this.getSliderCursor()});return t.addShape(this.sliderType,{attrs:n})},s.prototype.getRectTextAttribute=function(t){var e=this.sliderSize,i=e[0],n=e[1];return this.isHorizontal()?{x:t?-i/2:i/2,y:this.height/2+n/2+4,textAlign:"center",textBaseline:"top"}:{x:this.width/2+n/2+4,y:t?i/2:-i/2,textAlign:"left",textBaseline:"middle"}},s.prototype.getCircleTextAttribute=function(t){return this.isHorizontal()?{x:0,y:this.height/2+x.SLIDER_CIRCLE_MAX_SIZE/2+4,textAlign:"center",textBaseline:"top"}:{x:this.width/2+x.SLIDER_CIRCLE_MAX_SIZE/2+4,y:0,textAlign:"left",textBaseline:"middle"}},s.prototype.createSliderText=function(t,e){var i="rect"===this.sliderType?this.getRectTextAttribute(e):"circle"===this.sliderType?this.getCircleTextAttribute(e):{},n=r.__assign(r.__assign(r.__assign({},this.textStyle),i),{text:""});return t.addShape("text",{attrs:n})},s.prototype.bindEvent=function(){this.operational&&this.on("mousedown",this.onMouseDown)},s.prototype.onMouseDown=function(t){this.currentTarget=t.target;var e=t.event;e.stopPropagation(),e.preventDefault();var i=e.clientX,n=e.clientY;this.pos=this.isHorizontal()?i:n,this.bindCanvasEvents()},s.prototype.bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM"),e=o.addEventListener(t,"mousemove",this.onMouseMove),i=o.addEventListener(t,"mouseup",this.onMouseUp),n=o.addEventListener(t,"mouseleave",this.onMouseUp);this.clearAllEvents=function(){e.remove(),i.remove(),n.remove()}},s.prototype.isDragMin=function(){return this.currentTarget===this.minSliderShape},s.prototype.isDragMax=function(){return this.currentTarget===this.maxSliderShape},s.prototype.isDragAll=function(){return this.currentTarget===this.rangeSliderShape},s.prototype.updateSliderStatus=function(t,e){var i=this,n=this.isHorizontal()?this.width:this.height,r=this.isHorizontal()?1:-1,o=this.range,a=o[0],s=o[1],l=this.pos,u=this.isHorizontal()?t:e,c=(u-l)/n*r,h=[a,s];this.isDragAll()?h=0<=c&&1<s+c?[a+(1-s),1]:c<0&&a+c<0?[0,s-a]:[a+c,s+c]:(this.isDragMin()&&(h[0]=this.getNewRange(a,c)),this.isDragMax()&&(h[1]=this.getNewRange(s,c)),h[1]<h[0]&&(h=Array(2).fill(this.isDragMin()?h[0]:h[1]))),this.pos=u,this.range=h,this.emit("sliderchange",{range:h,value:h.map(function(t){return i.getValue(t)})}),this.renderUIWithRange(h[0],h[1]),this.get("canvas").draw()},s.prototype.renderUIWithRange=function(t,e){var i=this.width,n=this.height;this.minSliderGroup.resetMatrix(),this.maxSliderGroup.resetMatrix(),this.isHorizontal()?(this.rangeSliderShape.attr({x:i*t,y:0,width:(e-t)*i,height:n}),this.minSliderGroup.translate(t*i,0),this.maxSliderGroup.translate(e*i,0)):(this.rangeSliderShape.attr({x:0,y:n*(1-e),width:i,height:(e-t)*n}),this.minSliderGroup.translate(0,(1-t)*n),this.maxSliderGroup.translate(0,(1-e)*n)),this.minTextShape.attr("text",this.formatter(this.getValue(t))),this.maxTextShape.attr("text",this.formatter(this.getValue(e))),"circle"===this.sliderType&&(this.minSliderShape.attr({r:(x.SLIDER_HEIGHT+t*(x.SLIDER_CIRCLE_MAX_SIZE-x.SLIDER_HEIGHT))/2}),this.maxSliderShape.attr({r:(x.SLIDER_HEIGHT+e*(x.SLIDER_CIRCLE_MAX_SIZE-x.SLIDER_HEIGHT))/2}))},s.prototype.getNewRange=function(t,e){var i=e+t;return 1<i?1:i<0?0:i},s.prototype.getValue=function(t){var e=this.min+(this.max-this.min)*t;return Number(e.toFixed(1<e?0:2))},s);function s(t){var n=m.call(this)||this;n.onMouseMove=function(t){var e=t.clientX,i=t.clientY;n.updateSliderStatus(e,i)},n.onMouseUp=function(){n.clearAllEvents&&n.clearAllEvents(),n.currentTarget=void 0};var e=t.layout,i=t.sliderType,r=t.sliderSize,o=t.operational,a=t.width,s=t.height,l=t.textStyle,u=t.min,c=t.max,h=t.range,p=t.formatter;n.layout=e,n.sliderType=i;var f=r||[],d=f[0],g=void 0===d?x.SLIDER_WIDTH:d,v=f[1],y=void 0===v?x.SLIDER_HEIGHT:v;return n.sliderSize=[g,y],n.operational=o,n.width=a,n.height=s,n.min=u,n.max=c,n.range=h,n.textStyle=l,n.formatter=p,n.initialSlider(),n}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,f=i(1),d=i(0),g=i(2),v=i(16),r=i(61),y=i(43),o=(n=r.default,f.__extends(a,n),a.prototype.calculatePercent=function(t){var e=d.head(t).value,i=d.last(t).value-e;return d.map(t,function(t){return f.__assign(f.__assign({},t),{percentage:(Number(t.value)-e)/i})})},a.prototype.isSegment=function(){return!!this.get("isSegment")},a.prototype.getOperationalGroup=function(){var e,t=this.get("width"),i=this.get("height"),n=this.calculatePercent(this.get("items")),r=this.get("backgroundStyle"),o="";this.isHorizontal()?(o+="l (0) ",d.each(n,function(t){e=v.default.toRGB(t.color),o+=t.percentage+":"+e+" "})):(o+="l (90) ",d.each(n,function(t){e=v.default.toRGB(t.color),o+=1-t.percentage+":"+e+" "}));var a=new g.Rect({attrs:f.__assign({x:0,y:0,width:t,height:i,strokeOpacity:0},r)}),s=new g.Rect({attrs:{x:0,y:0,width:t,height:i,fill:o,strokeOpacity:0}}),l=new g.Group;return this.isOperational()&&l.add(a),l.add(s),{group:l,background:a,frontend:s}},a.prototype.getUnOperationalGroup=function(){var n,r=this,o=this.get("width"),a=this.get("height"),s=this.calculatePercent(this.get("items")),l=this.get("textStyle"),u=new g.Group,c="",h=[],p=s.length;this.isHorizontal()?(c+="l (0) ",d.each(s,function(t,e){if(0!==e&&e!==p-1&&(h.push(["M",t.percentage*o,0]),h.push(["L",t.percentage*o,a])),n=v.default.toRGB(s[e].color),r.isSegment()&&0<e){var i=v.default.toRGB(s[e-1].color);c+=t.percentage+":"+i+" "}c+=t.percentage+":"+n+" ",u.addShape("text",{attrs:f.__assign(f.__assign({x:t.percentage*o,y:a+y.TEXT_OFFSET,text:""+r.formatterValue(t.value)},l),{textBaseline:"top",textAlign:"center"})})})):(c+="l (90) ",d.each(s,function(t,e){if(0!==e&&e!==p-1&&(h.push(["M",0,a-t.percentage*a]),h.push(["L",o,a-t.percentage*a])),n=v.default.toRGB(s[e].color),c+=1-t.percentage+":"+n+" ",r.isSegment()&&0<e){var i=v.default.toRGB(s[e-1].color);c+=1-t.percentage+":"+i+" "}u.addShape("text",{attrs:f.__assign(f.__assign({x:o+y.TEXT_OFFSET,y:(1-t.percentage)*a,text:""+r.formatterValue(t.value)},l),{textAlign:"start",textBaseline:"middle"})})}));var t=u.addShape("rect",{attrs:{x:0,y:0,width:o,height:a,fill:c,strokeOpacity:0}});return u.addShape("path",{attrs:{path:h,lineWidth:1,stroke:"#fff"}}),{group:u,background:t,frontend:void 0}},a.prototype.createBackgroundGroup=function(){return this.isOperational()?this.getOperationalGroup():this.getUnOperationalGroup()},a);function a(t){return n.call(this,f.__assign({type:"color-legend"},t))||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(117);e.CanvasCategory=n.default;var r=i(119);e.HtmlCategory=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,f=i(1),M=i(2),w=i(0),d=i(118),r=(n=i(63).default,f.__extends(o,n),o.prototype.init=function(){this.isFlipped=!1;var t=this.get("container");this.set("canvas",t.get("canvas"));var e=t.addGroup();this.set("itemsGroup",e),this.get("flipPage")&&this.set("autoWrap",!0)},o.prototype.renderTitle=function(){var t=this.get("title");if(t){var e=this.get("container"),i=this.get("titleStyle"),n=e.addShape("text",{attrs:f.__assign({x:0,y:0,text:t},i)});n.name="legend-title",this.set("titleShape",n)}},o.prototype.renderItems=function(){var e=this,t=this.get("items");this.get("reversed")&&t.reverse(),w.each(t,function(t){e._addItem(t)});var i=this._getMaxItemSize(),n=i.maxItemWidth,r=i.maxItemHeight;this.set("maxItemWidth",n),this.set("maxItemHeight",r);var o=this.isNeedFlip();this.get("autoWrap")&&this._adjustItems(),o&&this.flipPage(),this._adjustPositionOffset(),this._renderBack()},o.prototype.isNeedFlip=function(){var t=this.get("maxWidth"),e=this.get("maxHeight"),i=this.get("itemsGroup").getBBox(),n=this.get("layout");if(this.get("flipPage")){if("vertical"===n&&e<i.height)return!0;if("horizontal"===n&&t<i.width)return!0}return!1},o.prototype.flipPage=function(){var i=this;this.isFlipped=!0;var n=this.get("maxItemWidth"),r=this.get("maxItemHeight"),t=this.get("maxWidth"),e=this.get("maxHeight"),o=this.get("itemsGroup"),a=o.getBBox(),s=this.get("layout"),l=this._getPaginationCfg(),u=0,c="up-down",h=a.tl.x,p=a.tl.y,f=0,d=new M.Rect({attrs:{x:h,y:p,width:t-l.size,height:e}});if("horizontal"===s){var g=Math.max(t,a.width);if(d.attr("width",g),d.attr("height",r),this.set("maxWidth",g),this.set("maxHeight",r),u=Math.ceil(a.height/(r+this.get("itemMarginBottom"))),h=h+g-l.size,p=Math.ceil(p+r/2),f=r,p-this._getHorizontalPaginationHeight()/2<0){var v=(this.get("offsetY")||0)+this._getHorizontalPaginationHeight()/2-p;this.set("offsetY",v)}}if("vertical"===s){d.attr("width",n);var y=Math.max(e,a.height);d.attr("height",y),this.set("maxWidth",n),this.set("maxHeight",y),u=Math.ceil(a.width/(n+this.get("itemDistance"))),p=p+y+10,c="left-right",f=n}o.attr("clip",d),this.set("clip",d);var m=this.flipPageUI(h,p,f,u,c);this.flipUI=m;var x=1,b=m.arrows[0],_=m.arrows[1];b.on("click",function(){if(1<x){--x,m.text.attr("text",x+" / "+u);var t=w.clone(o.attr("matrix"));if("vertical"===s){var e=i.get("itemDistance")+n;t[6]+=e}else e=r+i.get("itemMarginBottom"),t[7]+=e;o.stopAnimate(),o.animate({matrix:t},100),i.get("canvas").draw()}}),_.on("click",function(){if(x<u){x+=1,m.text.attr("text",x+" / "+u);var t=w.clone(o.attr("matrix"));if("vertical"===s){var e=i.get("itemDistance")+n;t[6]-=e}else e=r+i.get("itemMarginBottom"),t[7]-=e;o.stopAnimate(),o.animate({matrix:t},100)}})},o.prototype.flipPageUI=function(t,e,i,n,r){var o,a=this._getPaginationCfg(),s=this.get("container").addGroup(),l=[];if("left-right"===r){var u=new d.default(w.mix({},a.arrow,{x:t+a.arrow.width/2,y:e,direction:"left"}));s.add(u.shape),l.push(u.shape);var c=new d.default(w.mix({},a.arrow,{x:t+i-a.arrow.width/2,y:e,direction:"right"}));s.add(c.shape),l.push(c.shape),o=s.addShape("text",{attrs:w.mix({},a.text,{x:t+i/2,y:e,text:"1 / "+n})})}else{var h=this._getHorizontalPaginationHeight(),p=new d.default(w.mix({},a.arrow,{x:t,y:e-h/2+a.arrow.height/2,direction:"up"}));s.add(p.shape),l.push(p.shape);var f=new d.default(w.mix({},a.arrow,{x:t,y:e+h/2-a.arrow.height/2,direction:"down"}));s.add(f.shape),l.push(f.shape),o=s.addShape("text",{attrs:w.mix({},a.text,{x:t,y:e,text:"1 / "+n})})}return{arrows:l,text:o,container:s}},o.prototype._getPaginationCfg=function(){return{arrow:{x:0,y:0,width:10,height:8,attrs:{fill:"#ccc",cursor:"pointer"},direction:"right"},text:{fontSize:12,fill:"#ccc",textAlign:"center",textBaseline:"middle"},size:40}},o.prototype._getHorizontalPaginationHeight=function(){var t=this._getPaginationCfg();return t.text.fontSize+2*t.arrow.height+4},o.prototype.bindEvents=function(){var t=this.get("itemsGroup");this.get("hoverable")&&(t.on("mousemove",w.wrapBehavior(this,"_onMousemove")),t.on("mouseleave",w.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&t.on("click",w.wrapBehavior(this,"_onClick"))},o.prototype.clear=function(){var t=this.get("container");t&&!t.destroyed&&t.clear()},o.prototype.destroy=function(){n.prototype.destroy.call(this);var t=this.get("container");t&&!t.destroyed&&(t.get("parent")&&t.remove(),t.destroy())},o.prototype.getCheckedCount=function(){var t=this.get("itemsGroup").get("children");return w.filter(t,function(t){return t.get("checked")}).length},o.prototype.getWidth=function(){return this.getBBox().width},o.prototype.getHeight=function(){return this.getBBox().height},o.prototype.getBBox=function(){if(this.isFlipped){var t=this.get("clip"),e=this.flipUI.container;return this._mergeBBox([t.getBBox(),e.getBBox()])}return this.get("container").getBBox()},o.prototype._adjustPositionOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.get("container").move(t,e)},o.prototype._addItem=function(t){var e=this.get("itemsGroup"),i=this._getNextX(),n=this._getNextY(),r=this.get("unSelectedColor"),o=e.addGroup({x:i,y:n,value:t.value,checked:t.checked}),a=this.get("textStyle"),s=this.get("wordSpacing"),l=0;if(t.marker){var u=Object.assign({},t.marker,{x:t.marker.radius+i,y:n});t.checked||(u.fill&&(u.fill=r),u.stroke&&(u.stroke=r));var c=o.addShape("marker",{type:"marker",attrs:u});c.attr("cursor","pointer"),c.name="legend-marker",l+=c.getBBox().width+s}var h=Object.assign({},a,{x:l+i,y:n-(t.marker?t.marker.radius/2:0)+a.fontSize/4,text:this.formatterValue(t.value)});t.checked||Object.assign(h,{fill:r});var p=o.addShape("text",{attrs:h});p.attr("cursor","pointer"),p.name="legend-text";var f=o.getBBox(),d=this.get("itemWidth"),g=o.addShape("rect",{attrs:{x:i,y:n-f.height/2,fill:"#fff",fillOpacity:0,width:d||f.width,height:f.height}});return g.attr("cursor","pointer"),g.set("origin",t),g.name="legend-item",o.name="legendGroup",o},o.prototype._getNextX=function(){var t=this.get("layout"),e=this.get("itemDistance"),i=this.get("itemsGroup"),n=this.get("itemWidth"),r=i.get("children"),o=0;return"horizontal"===t&&w.each(r,function(t){o+=(n||t.getBBox().width)+e}),o},o.prototype._getNextY=function(){var e=this.get("itemMarginBottom"),t=this.get("titleDistance"),i=this.get("layout"),n=this.get("itemsGroup"),r=this.get("titleShape"),o=n.get("children"),a=t;return r&&(a+=r.getBBox().height),"vertical"===i&&w.each(o,function(t){a+=t.getBBox().height+e}),a},o.prototype._adjustHorizontal=function(){var e,i,n,t=this.flipPage?this._getPaginationCfg().size:0,r=this.get("itemsGroup"),o=r.get("children"),a=this.get("maxWidth")-t,s=this.get("itemDistance"),l=this.get("itemMarginBottom"),u=this.get("titleDistance"),c=0,h=0,p=this.get("itemWidth");r.getBBox().width>a&&w.each(o,function(t){n=t.getBBox(),e=p||n.width,i=n.height+l,a-h<e&&(c++,h=0),t.move(h,c*i+u),h+=e+s})},o.prototype._adjustVertical=function(){var i,n,r=this._getMaxItemSize().maxItemWidth,t=this.get("itemsGroup"),e=this.get("titleShape"),o=t.get("children"),a=this.get("maxLength"),s=this.get("itemDistance"),l=this.get("itemMarginBottom"),u=this.get("titleDistance"),c=e?e.getBBox().height+u:0,h=this.get("itemWidth")?this.get("itemWidth"):0,p=c+t.getBBox().height;r=Math.max(r,h)+s;var f=0;a<p&&w.each(o,function(t,e){(n=t.getBBox()).width,i=n.height,a-p<i?(p=c,0<e&&(f+=r),t.move(f,c)):t.move(f,p),p+=i+l})},o.prototype._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},o.prototype._renderBack=function(){var t=this.get("container"),e=this.get("backgroundPadding"),i=this.get("backgroundStyle");w.isNumber(e)&&(e=[e,e,e,e]),i&&t.renderBack(e,i)},o.prototype._onMousemove=function(t){var e=this._getLegendItem(t.target);if(e&&e.get("checked")){var i=new M.Event("itemmouseover",t,!0,!0);i.item=this._findItem(e),i.checked=e.get("checked"),this.emit("itemmouseover",i),this.get("canvas").draw()}},o.prototype._onMouseleave=function(t){var e=this._getLegendItem(t.target);if(e&&e.get("checked")){var i=new M.Event("itemmouseleave",t,!0,!0);i.item=this._findItem(e),i.checked=e.get("checked"),this.emit("itemmouseleave",i),this.get("canvas").draw()}},o.prototype._onClick=function(t){var e=this,i=this._getLegendItem(t.target);if(i&&!i.get("destroyed")){var n=i.get("checked");if(!this.get("allowAllCanceled")&&n&&1===this.getCheckedCount())return;var r=this.get("selectedMode"),o=this._findItem(i),a=new M.Event("itemclick",t,!0,!0);a.item=o,a.currentTarget=i,a.checked="single"===r||!n;var s,l,u,c=this.get("unSelectedColor"),h=this.get("textStyle").fill;if("single"===r){var p=this.get("itemsGroup").get("children");w.each(p,function(t){s=e._findShapeByName(t,"legend-marker"),l=e._findShapeByName(t,"legend-text"),u=e._findShapeByName(t,"legend-item"),t!==i?(s.attr("fill")&&s.attr("fill",c),s.attr("stroke")&&s.attr("stroke",c),l.attr("fill",c),s.set("checked",!1),s.set("rawAttrs",f.__assign({},s.get("attrs"))),l.set("checked",!1),u.set("checked",!1),t.set("checked",!1)):(s.attr("fill")&&s.attr("fill",o.marker.fill),s.attr("stroke")&&s.attr("stroke",o.marker.stroke),l.attr("fill",h),s.set("rawAttrs",f.__assign({},s.get("attrs"))),s.set("checked",!0),l.set("checked",!0),u.set("checked",!0),t.set("checked",!0))})}else s=this._findShapeByName(i,"legend-marker"),l=this._findShapeByName(i,"legend-text"),u=this._findShapeByName(i,"legend-item"),s.attr("fill")&&s.attr("fill",n?c:o.marker.fill),s.attr("stroke")&&s.attr("stroke",n?c:o.marker.stroke),l.attr("fill",n?c:h),i.set("checked",!n),s.set("checked",!n),l.set("checked",!n),u.set("checked",!n);this.emit("itemclick",a),this.get("canvas").draw()}},o.prototype._getLegendItem=function(t){var e=t.get("parent");return e&&"legendGroup"===e.name?e:null},o.prototype._findItem=function(t){var e=this.get("items"),i=null,n=t instanceof M.Group?t.get("value"):t;return w.each(e,function(t){if(t.value===n)return i=t,!1}),i},o.prototype._findShapeByName=function(t,e){return t.findBy(function(t){return t.name===e})},o.prototype._getMaxItemSize=function(){var i=-1/0,n=-1/0,t=this.get("itemsGroup").get("children");return w.each(t,function(t){var e=t.getBBox();i<e.width&&(i=e.width),n<e.height&&(n=e.height)}),{maxItemWidth:i,maxItemHeight:n}},o.prototype._mergeBBox=function(t){var i=1/0,n=-1/0,r=1/0,o=-1/0;return w.each(t,function(t){var e=t;i=Math.min(e.minX,i),n=Math.max(e.maxX,n),r=Math.min(e.minY,r),o=Math.max(e.maxY,o)}),new M.BBox(i,r,n-i,o-r)},o);function o(t){return n.call(this,f.__assign({type:"category-legend"},t))||this}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),o=i(0),a={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},n=(s.prototype._init=function(){var t=this.width/2,e=this.height/2,i=[{x:0,y:-e},{x:-t,y:e},{x:t,y:e}];this.shape=new r.Path({attrs:o.deepMix({path:[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["Z"]]},this.attrs)});var n=[];n.push(["r",a[this.direction]]),n.push(["t",this.x,this.y]),this.shape.transform(n)},s);function s(t){this.width=10,this.height=10,this.direction="right",o.assign(this,t),this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(1),x=i(3),n=i(2),b=i(0),r=i(63),h={position:"absolute",overflow:"auto",top:0,left:0},o={marginBottom:"4px"},a={listStyleType:"none",margin:0,padding:0},s={cursor:"pointer",marginBottom:"5px",marginRight:"16px",userSelect:"none"},l={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},_={activeColor:"#000",inactiveColor:"#ccc",arrowSize:8,animation:!0};function m(t,e){var i=t.className;return b.isNil(i)||-1<(i=i.split(" ")).indexOf(e)?t:t.parentNode?t.parentNode.className===e?t.parentNode:m(t.parentNode,e):null}function M(t,e){return t.getElementsByClassName(e)[0]}var u,p=(u=r.default,c.__extends(f,u),f.prototype.init=function(){var t=this.get("fontFamily"),e=this.get("layout"),i=this.get("maxWidth"),n=this.get("maxHeight"),r=this.get("prefixClassName"),o=this.get("containerTpl");o=o||'<div class="'+r+'">\n        <div class="'+r+'-title"></div>\n        <ul class="'+r+'-list"></ul>\n      </div>';var a=x.createDom(o),s=b.deepMix({},h,this.get("backgroundStyle"));x.modifyCSS(a,c.__assign({fontFamily:t,maxHeight:n+"px",width:"100%",height:"auto"},s)),"horizontal"===e&&x.modifyCSS(a,{maxWidth:i+"px"});var l=this.get("container");if(l)if(/^\#/.test(l)){var u=l.replace("#","");(l=document.getElementById(u)).appendChild(a)}else l.appendChild(a);else this.get("canvas").get("el").parentNode.appendChild(a);this.set("_legendContainer",a)},f.prototype.renderTitle=function(){var t=this.get("title");if(t){var e=this.get("prefixClassName"),i=this.get("_legendContainer"),n=M(i,e+"-title");n||(n=x.createDom('<div class="'+e+'-title"></div>'),i.appendChild(n)),n.innerHTML=t;var r=b.deepMix({},o,this.get("titleStyle"));x.modifyCSS(n,r),this.set("_titleContainer",n)}},f.prototype.renderItems=function(){var u=this,t=this.get("items");if(t&&t.length){var e=this.get("_legendContainer"),i=this.get("layout"),c=this.get("prefixClassName");this.get("reversed")&&t.reverse();var h=M(e,c+"-list");h=h||x.createDom('<ul class="'+c+'-list"></ul>');var n=b.deepMix({},a,this.get("listStyle"));"horizontal"===i&&(n.width="max-content"),x.modifyCSS(h,n);var r=x.createDom("<div></div>");e.appendChild(r),r.appendChild(h),this.set("_clipContainer",r),this.set("_itemGroupContainer",h);var p=this.get("itemTpl");p=p||'<li class="'+c+'-item">\n      <span class="'+c+'-item-marker"></span>\n      <span class="'+c+'-item-text"></span>\n      </li>';var f=this.get("unSelectedColor"),d=b.deepMix({},s,this.get("itemStyle")),g=b.deepMix({},l,this.get("markerStyle"));"horizontal"===i?d.display="inline-block":"vertical"===i&&(d.display="block");var v={};b.each(t,function(t,e){var i,n=t.checked,r=u.formatterValue(t.value),o=t.marker.fill||t.marker.stroke,a=n?o:f;if(b.isFunction(p)){var s=p(r,a,n,e);i=x.createDom(s)}else M(i=x.createDom(p),c+"-item-text").innerHTML=r;d.color=a,g.backgroundColor=a,x.modifyCSS(i,d),i.setAttribute("data-checked",n),i.setAttribute("data-value",t.value),i.setAttribute("data-color",o);var l=M(i,c+"-item-marker");l&&x.modifyCSS(l,g),h.appendChild(i),v[t.value]=t}),this.set("_itemMap",v),"horizontal"===i?this._renderHorizontalPagination():this._renderPagination()}},f.prototype.bindEvents=function(){var e=this,t=this.get("_itemGroupContainer");t&&(this.get("clickable")&&(t.onclick=function(t){return e._onClick(t)}),this.get("hoverable")&&(t.onmousemove=function(t){return e._onMousemove(t)},t.onmouseout=function(t){return e._onMouseout(t)}))},f.prototype.getWidth=function(){var t=this.get("_legendContainer");return x.getOuterWidth(t)},f.prototype.getHeight=function(){var t=this.get("_legendContainer");return x.getOuterHeight(t)},f.prototype.getBBox=function(){return new n.BBox(this.get("x")||0,this.get("y")||0,this.getWidth(),this.getHeight())},f.prototype.moveTo=function(t,e){var i=this.get("_legendContainer");x.modifyCSS(i,{left:t+"px",top:e+"px"}),this.set("x",t),this.set("y",e)},f.prototype.destroy=function(){u.prototype.destroy.call(this);var t=this.get("_legendContainer");t&&t.parentNode&&t.parentNode.removeChild(t)},f.prototype.draw=function(){return null},f.prototype._updateStatus=function(t,e,i,n){e&&(e.style.background=i),t.style.color=i,t.setAttribute("data-checked",n)},f.prototype._onClick=function(t){var i=this,e=(this.get("items"),this.get("_itemGroupContainer")),n=this.get("prefixClassName"),r=n+"-item",o=n+"-item-marker",a=t.target,s=a.className.split(" ");if(!(-1<b.indexOf(s,n+"-list"))){var l=m(a,r),u=M(l,o),c=this.get("_itemMap"),h=c[l.getAttribute("data-value")],p=l.getAttribute("data-color"),f=this.get("selectedMode"),d=this.get("unSelectedColor"),g=e.childNodes;if("single"===f)h.checked=!0,b.each(g,function(t){if(t!==l){var e=M(t,o);i._updateStatus(t,e,d,"false"),c[t.getAttribute("data-value")].checked=!1}else i._updateStatus(l,u,p,"true")});else{var v="true"===l.getAttribute("data-checked"),y=0;if(b.each(g,function(t){"true"===t.getAttribute("data-checked")&&y++}),!this.get("allowAllCanceled")&&v&&1===y)return;h.checked=!h.checked,v?this._updateStatus(l,u,d,"false"):this._updateStatus(l,u,p,"true")}this.emit("itemclick",{item:h,currentTarget:l,checked:"single"===f||h.checked})}},f.prototype._onMousemove=function(t){var e=this.get("_lastActiveItem"),i=(this.get("items"),this.get("_itemMap")),n=this.get("prefixClassName"),r=n+"-list",o=n+"-item",a=t.target,s=a.className.split(" ");if(!(-1<b.indexOf(s,r))){var l=m(a,o),u=i[l.getAttribute("data-value")];if(u){var c=this.get("highlight");u.checked&&e!==u&&(l.className+=" active",c&&this.get("_itemGroupContainer").childNodes.forEach(function(t){t!==l&&"true"===t.getAttribute("data-checked")&&(t.className+=" inactive")}),this.set("_lastActiveItem",u)),this.emit("itemmouseover",{item:u,currentTarget:l,checked:u.checked})}}},f.prototype._onMouseout=function(t){this.get("_itemGroupContainer").childNodes.forEach(function(t){var e=t.className.split(" ");b.remove(e,function(t){return"active"===t||"inactive"===t}),t.className=e.join(" ")}),this.set("_lastActiveItem",null),this.emit("itemmouseleave",t)},f.prototype._renderPagination=function(){var t=this.get("pagination"),e=this.get("_legendContainer"),i=this.get("_itemGroupContainer");if(t&&e.scrollHeight>e.offsetHeight){x.modifyCSS(e,{overflow:"hidden",height:this.get("maxHeight")+"px"});var n=x.createDom('\n      <div style="position: absolute;bottom: 0;left: 0;user-select: none;margin-top: 5px;">\n        <div class="pre-page"\n          style="display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;">\n        </div>\n        <span class="current-page-number">1</span> /  <span class="total-page-number">0</span>\n        <div class="next-page"\n          style="display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;">\n        </div>\n      </div>\n    ');e.appendChild(n);var r=this.getHeight()-(this.get("_titleContainer")?x.getOuterHeight(this.get("_titleContainer")):0)-x.getOuterHeight(n),o=i.offsetHeight,a=this.get("_clipContainer");x.modifyCSS(a,{maxHeight:r+"px",overflow:"hidden"});var s=Math.ceil(o/r),l=x.getOuterHeight(i.childNodes[0]),u=Math.floor(r/l)*l,c=M(n,"current-page-number"),h=M(n,"total-page-number"),p=M(n,"pre-page"),f=M(n,"next-page");h.innerHTML=s;var d=b.deepMix({},_,t),g={cursor:"pointer",border:d.activeColor+" solid",borderWidth:"2px 2px 0 0",width:d.arrowSize+"px",height:d.arrowSize+"px"},v={cursor:"default",border:d.inactiveColor+" solid",borderWidth:"2px 2px 0 0",width:d.arrowSize+"px",height:d.arrowSize+"px"};x.modifyCSS(p,v),x.modifyCSS(f,g),d.animation&&x.modifyCSS(i,{transition:"transform .3s ease-in"});var y=1,m=0;p.onclick=function(){1!==y&&(--y,m+=u,c.innerHTML=y,x.modifyCSS(p,g),x.modifyCSS(f,g),x.modifyCSS(i,{transform:"translateY("+m+"px)"}),1===y&&x.modifyCSS(p,v))},f.onclick=function(){y!==s&&(y+=1,m-=u,c.innerHTML=y,x.modifyCSS(f,g),x.modifyCSS(p,g),x.modifyCSS(i,{transform:"translateY("+m+"px)"}),y===s&&x.modifyCSS(f,v))}}},f.prototype._renderHorizontalPagination=function(){var t=this.get("pagination"),e=this.get("_legendContainer"),i=this.get("_itemGroupContainer");if(t&&e.scrollWidth>e.offsetWidth){x.modifyCSS(e,{overflow:"hidden",width:this.get("maxWidth")+"px"});var n=x.createDom('\n      <div style="position: absolute;bottom: 4px;right: 12px;user-select: none;margin-top: 5px;background: #fff;">\n        <div class="pre-page"\n          style="display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;">\n        </div>\n        <span class="current-page-number">1</span> /  <span class="total-page-number">0</span>\n        <div class="next-page"\n          style="display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;">\n        </div>\n      </div>\n    ');e.appendChild(n);var r=this.getWidth()-x.getOuterWidth(n)-40,o=i.offsetWidth,a=this.get("_clipContainer");x.modifyCSS(a,{maxWidth:r+"px",overflow:"hidden"});var s=Math.ceil(o/r),l=(x.getOuterWidth(i.childNodes[0]),r),u=M(n,"current-page-number"),c=M(n,"total-page-number"),h=M(n,"pre-page"),p=M(n,"next-page");c.innerHTML=s;var f=b.deepMix({},_,t),d={cursor:"pointer",border:f.activeColor+" solid",borderWidth:"2px 2px 0 0",width:f.arrowSize+"px",height:f.arrowSize+"px"},g={cursor:"default",border:f.inactiveColor+" solid",borderWidth:"2px 2px 0 0",width:f.arrowSize+"px",height:f.arrowSize+"px"};x.modifyCSS(h,g),x.modifyCSS(p,d),f.animation&&x.modifyCSS(i,{transition:"transform .3s ease-in"});var v=1,y=0;h.onclick=function(){1!==v&&(--v,y+=l,u.innerHTML=v,x.modifyCSS(h,d),x.modifyCSS(p,d),x.modifyCSS(i,{transform:"translateX("+y+"px)"}),1===v&&x.modifyCSS(h,g))},p.onclick=function(){v!==s&&(v+=1,y-=l,u.innerHTML=v,x.modifyCSS(p,d),x.modifyCSS(h,d),x.modifyCSS(i,{transform:"translateX("+y+"px)"}),v===s&&x.modifyCSS(p,g))}}},f);function f(t){return u.call(this,c.__assign({type:"html-legend",prefixClassName:"g2-legend",pagination:!0,highlight:!1},t))||this}e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(2),o=n.__importStar(i(0)),l=i(44),a=(s.prototype.getBBox=function(){var i=this;if(this.shape){var t=this.shape.getBBox();if(0===this.index)return t;var n=this.plot.theme.description.padding;return o.isArray(n)&&o.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.plot.options.legend.position))}),new r.BBox(t.maxX,t.minY,t.width,t.height+n[2])}return null},s.prototype.clear=function(){this.shape&&this.shape.attr("text","")},s.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},s.prototype._init=function(){var t=this._textWrapper();this.shape=this.container.addShape("text",{attrs:o.mix({x:this.leftMargin,y:this.topMargin,text:t},this.style)}),this.shape.name=this.name},s.prototype._textWrapper=function(){var a=this.wrapperWidth,t=this.style,e=this.text,s=new r.Text({attrs:n.__assign({text:"",x:0,y:0},t)}),i=e.split("\n").map(function(t){for(var e="",i=t.split(""),n=[],r=0;r<i.length;r++){var o=i[r];if(s.attr("text",e+=o),s.getBBox().width-1>a){if(0===r)break;n.push(r),e=""}}return l.breakText(i,n)});return s.remove(),i.join("\n")},s);function s(t){this.position="top",this.destroyed=!1,o.assign(this,t),this._init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=o.__importStar(i(0)),n=i(45);function r(t,e,i){t[i]&&(e[i]=t[i])}var s=(l.prototype.init=function(){this.config=!1;var t=this.plot.getPlotTheme();this.themeConfig=t&&t.axis&&t.axis[this.dim],this._needDraw()&&this._styleParser()},l.prototype._styleParser=function(){this.config=o.__assign({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,r(this.localProps,this.config,"autoHideLabel"),r(this.localProps,this.config,"autoRotateLabel"),r(this.localProps,this.config,"autoRotateTitle")},l.prototype._needDraw=function(){var t=this.plot.options,e=t[this.dim+"Axis"]?t[this.dim+"Axis"]:{},i=a.deepMix({},this.themeConfig,e);return!!(this.localProps=i).visible},l.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line=this.localProps.line.style),this.applyThemeConfig("line")},l.prototype._gridParser=function(){var r=this,o=this.localProps.grid.style;a.isFunction(o)?this.config.grid=function(t,e,i){var n=o(t,e,i);return a.deepMix({},a.get(r.themeConfig,"grid.style"),n)}:o&&(this.config.grid=o,this.applyThemeConfig("grid"))},l.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine=this.localProps.tickLine.style),this.applyThemeConfig("tickLine")},l.prototype._labelParser=function(){var t=this.localProps.label,e=t.style,i=o.__rest(t,["style"]),n=o.__assign({},i);e&&(n.textStyle=this.localProps.label.style),n.textStyle=a.deepMix({},a.get(this.themeConfig,"label.style"),n.textStyle);var r=this.parseFormatter(n);n.formatter=r,this.config.label=n},l.prototype._titleParser=function(){var t=o.__assign({},this.localProps.title),e=this.localProps.title,i=e.visible,n=e.style,r=e.text;i?(this.config.showTitle=!0,n&&(t.textStyle=n),t.textStyle=a.deepMix({},a.get(this.config,"title.style"),t.textStyle),r&&(t.text=r)):this.config.showTitle=!1,this.config.title=t},l.prototype._isVisible=function(t){return!(!this.localProps[t]||!this.localProps[t].visible)},l.prototype.applyThemeConfig=function(t){this.config[t]=a.deepMix({},a.get(this.themeConfig,t+".style"),this.config[t])},l.prototype.parseFormatter=function(t){var e=n.combineFormatter(n.getNoopFormatter(),n.getPrecisionFormatter(t.precision),n.getSuffixFormatter(t.suffix));return t.formatter&&(e=n.combineFormatter(e,t.formatter)),e},l);function l(t){this.config=!1,this.plot=t.plot,this.dim=t.dim,this.init()}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),u=i(11),c=n.__importStar(i(0)),r=i(15),o=(a.prototype._init=function(){var t=this.plot.options,e=this.getDefaultStyle(),i={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(i.line=c.deepMix({},e.line,{style:this.cfg.lineStyle}),i.text=c.deepMix({},e.text,this.cfg.text),this.cfg.type){var n=this._getState(this.cfg.type),r=this._getState("min"),o=this._getState("max"),a=100*(1-new(u.getScale("linear"))(c.mix({},{min:"column"===this.plot.type?0:r,max:o,nice:!0,values:this.values},this.plot.config.scales[t.yField])).scale(n))+"%",s=["0%",a],l=["100%",a];this.config=c.mix({start:s,end:l},i)}else this.config=i},a.prototype._getState=function(t){return this.values=this._extractValues(),"median"===t?r.getMedian(this.values):"mean"===t?r.getMean(this.values):"max"===t?Math.max.apply(Math,this.values):"min"===t?Math.min.apply(Math,this.values):void 0},a.prototype._extractValues=function(){var t=this.plot.options,e=t.yField,i=[];return c.each(t.data,function(t){i.push(t[e])}),i},a.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},a.prototype.getDefaultTextAlign=function(){var t=this.cfg.text;if(t){if(!t.position||"start"===t.position)return"left";if("center"===t.position)return"center";if("end"===t.position)return"right"}},a);function a(t){c.assign(this,t),this._init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,l,u=i(1).__importStar(i(0));function n(t,n){s||o(t),u.each(s,function(t,e){var i=a(t,n);if(c(i.labelData,i.con)){l[e];t.shape.attr({opacity:1,fontWeight:600,fill:"red"})}})}function o(a){s=[],l=[];var t=a.view.get("axisController").axes;u.each(t,function(t){var e=[],i=function(t,e){var i=t.options,n="y",r=e.get("position");"bottom"!==r&&"top"!==r||(n="x");var o=i[n+"Field"];return t.view.get("scales")[o]}(a,t),n=t.get("labelRenderer").get("group").get("children");if(u.each(n,function(t){"text"===t.type&&(e.push({shape:t}),l.push(t.attr()))}),i){var r=i.ticks,o=i.field;u.each(e,function(t,e){t.value=r[e],t.scaleField=o,t.type=i.type})}s.push.apply(s,e)})}function a(t,e){var i,n=((i={})[t.scaleField]=t.value,i),r=u.clone(e);return"time"===t.type&&u.isObject(e)&&!u.isFunction(r.exp)&&(r.exp=new Date(r.exp).getTime()),{labelData:n,con:r}}function c(t,e){if(u.isFunction(e))return e(t);var i=e.name,n=e.exp;return t[i]&&(u.isFunction(n)?n(t[i]):t[i]===n)}e.default={active:n,selected:n,disable:function(t,r){s||o(t),u.each(s,function(t,e){var i=a(t,r);if(c(i.labelData,i.con)){var n={opacity:.2*(l[e].opacity||1)};t.shape.attr(n)}})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a,s=i(1).__importStar(i(0)),l=i(35);function r(t,o){n||u(t),s.each(n,function(t,e){var i=t.get("origin");if(l.compare(i,o)){var n=a[e],r=s.mix({},n,{opacity:1});t.attr(r)}})}function u(t){n=[],a=[];var e=t.view.get("elements");s.each(e,function(t){var e=t.get("labels");e&&s.each(e,function(t){n.push(t),a.push(t.attr())})})}e.default={active:r,selected:r,disable:function(t,r){n||u(t),s.each(n,function(t,e){var i=t.get("origin");if(l.compare(i,r)){var n={opacity:.2*(a[e].opacity||1)};t.attr(n)}})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1).__importStar(i(0)),u=i(35),c=["xField","yField","angleField"];function n(i,n){var t,e,r,o,a=i.options;if(t=n,e=a,r=[],l.each(c,function(t){l.has(e,t)&&r.push(t)}),o=r,!l.isFunction(t)&&o.indexOf(t.name)){var s=a.data;l.each(s,function(t){if(u.compare(t,n)){var e=i.view.getXY(t);i.view.on("tooltip:create",function(t){h(n,t,!1)}),i.view.showTooltip(e)}})}}function h(i,n,t){var r=!t,e=l.clone(n.items);n.items.splice(0),l.each(e,function(t){var e=t.point._origin;u.compare(e,i)===r&&n.items.push(t)})}e.default={active:n,selected:n,disable:function(t,e){t.view.on("tooltip:change",function(t){h(e,t,!0)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(26)),o=n.__importDefault(i(127)),a=n.__importDefault(i(128));r.default.registerInteraction("slider",a.default),r.default.registerInteraction("scrollbar",o.default),n.__exportStar(i(26),e),e.default=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function c(t){void 0===t&&(t={});var e=u.__assign({type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0]},t);return t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),e}var n,u=i(1),l=i(2),h=i(101),p=i(0),r=u.__importDefault(i(26)),f=i(67),o=(n=r.default,u.__extends(a,n),a.getInteractionRange=function(t,e){var i=c(e),n=i.padding,r=n[0],o=n[1],a=n[2],s=n[3];return"horizontal"===i.type?new l.BBox(t.minX,t.maxY-i.height-r-a,t.width,i.height+r+a):new l.BBox(t.maxX-i.width-s-o,t.minY,i.width+s+o,t.height)},a.prototype.render=function(){var e=this,t=this.view;this.ratio=0,this.thumbOffset=0,t.on("afterrender",function(){var t=e.view.get("padding");p.isEqual([0,0,0,0],t)||(e.trackLen?e.renderScrollbar():(e.measureScrollBar(),e.changeViewData(e.getScrollRange())))})},a.prototype.clear=function(){this.scrollBar&&(this.scrollBar.destroy(),this.scrollBar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},a.prototype.renderScrollbar=function(){var t=c(this.getInteractionConfig()),e=this.getRange(),i="vertical"!==t.type,n=this.view.get("panelRange"),r=t.padding,o=r[0],a=r[3],s=i?{x:n.minX+a,y:e.tl.y+o}:{x:e.tl.x+a,y:n.minY+o};this.scrollBar?(this.scrollBar.updateTrackLen(this.trackLen),this.scrollBar.updateThumbLen(this.thumbLen),this.scrollBar.updateScrollBarPos(s),this.scrollBar.updateThumbOffset(this.thumbOffset)):(this.container=this.canvas.addGroup(),this.scrollBar=new h.ScrollBar({isHorizontal:i,trackLen:this.trackLen,thumbLen:this.thumbLen,position:s,thumbOffset:this.ratio*this.trackLen}),this.container.add(this.scrollBar),this.scrollBar.set("zIndex",999),this.scrollBar.on("scrollchange",this.onChangeFn))},a.prototype.measureScrollBar=function(){var t=c(this.getInteractionConfig()),e=t.padding,i=e[0],n=e[1],r=e[2],o=e[3],a="vertical"!==t.type,s=this.view.get("panelRange"),l=this.view.getXScale(),u=this.view.getYScales();this.cnt=l.values.length,this.xScaleCfg={field:l.field,values:l.values||[]},this.yScalesCfg=p.map(u,function(t){return{field:t.field,type:t.type,min:t.min,max:t.max,ticks:t.ticks,formatter:t.formatter}}),this.step=Math.floor((a?s.width:s.height)/t.categorySize),this.trackLen=a?s.width-o-n:s.height-i-r,this.thumbLen=Math.max(this.trackLen*p.clamp(this.step/l.values.length,0,1),8)},a.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*p.clamp(this.ratio,0,1));return[t,Math.min(t+this.step,this.cnt)]},a.prototype.changeViewData=function(t){var i=this,e=t[0],n=t[1],r=c(this.getInteractionConfig()),o=this.getViewLayer(),a=o.options.meta,s=o.getData(),l=f.getDataByScaleRange(this.xScaleCfg.field,this.xScaleCfg.values,s,[e,n],"vertical"===r.type);this.yScalesCfg.forEach(function(t){var e=p.get(a,t.field)||{};i.view.scale(t.field,u.__assign(u.__assign({formatter:t.formatter},e),{type:t.type,min:t.min,max:t.max}))}),this.view.set("data",l),this.view.repaint()},a.prototype.onChange=function(t){var e=t.ratio,i=t.thumbOffset;this.ratio=e,this.thumbOffset=i;var n=this.view.get("animation");this.view.animate(!1),this.changeViewData(this.getScrollRange()),this.view.animate(n)},a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.onChangeFn=p.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function g(t){void 0===t&&(t={});var e=r.__assign({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundColor:void 0,foregroundColor:void 0},t);t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),t.height||(e.height=16),t.width||(e.width=16);var i=c.clamp(Math.min(e.start,e.end),0,1),n=c.clamp(Math.max(e.start,e.end),0,1);return e.start=i,e.end=n,e}var n,r=i(1),l=i(2),o=i(101),c=i(0),a=r.__importDefault(i(26)),s=i(67),u=(n=a.default,r.__extends(h,n),h.getInteractionRange=function(t,e){var i=g(e),n=i.padding||[0,0,0,0],r=n[0],o=n[1],a=n[2],s=n[3];return"horizontal"===i.type?new l.BBox(t.minX,t.maxY-i.height-r-a,t.width,i.height+r+a):new l.BBox(t.maxX-i.width-s-o,t.minY,i.width+s+o,t.height)},h.prototype.render=function(){var e=this,t=g(this.getInteractionConfig());this.curStart=t.start,this.curEnd=t.end,this.xScaleCfg=void 0,this.view.on("afterrender",function(){if(e.xScaleCfg)e.renderSlider();else{var t=e.view.getXScale();e.xScaleCfg={field:t.field,values:t.values||[]},e.view.set("data",e.getSliderData(e.curStart,e.curEnd)),e.view.repaint()}})},h.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},h.prototype.renderSlider=function(){this.slider?this.slider.update(this.getSliderConfig()):(this.container=this.canvas.addGroup(),this.slider=new o.Slider(this.getSliderConfig()),this.slider.on("sliderchange",this.onChangeFn),this.container.add(this.slider))},h.prototype.getSliderConfig=function(){var t=this.view.get("panelRange"),e=this.getRange(),i=g(this.getInteractionConfig())||{},n=i.padding,r=void 0===n?[0,0,0,0]:n,o=i.foregroundColor,a=i.backgroundColor,s=r[0],l=r[1],u=r[2],c=r[3],h=this.getSliderMinMaxText(this.curStart,this.curEnd),p=h.minText,f=h.maxText,d={x:t.minX+c,y:e.tl.y+s,width:t.width-c-l,height:e.height-s-u,start:this.curStart,end:this.curEnd,minText:p,maxText:f,trendCfg:{data:this.getSliderTrendData(),isArea:!1,smooth:!1},foregroundStyle:{},backgroundStyle:{}};return o&&(d.foregroundStyle.fill=o),a&&(d.backgroundStyle.fill=a),d},h.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,i=t.yField;return c.map(e,function(t){return t[i]})},h.prototype.getSliderData=function(t,e){var i=this.getViewLayer().getData(),n=c.size(this.xScaleCfg.values),r=Math.round(t*n),o=Math.max(r+1,Math.round(e*n));return s.getDataByScaleRange(this.xScaleCfg.field,this.xScaleCfg.values,i,[r,o])},h.prototype.getSliderMinMaxText=function(t,e){var i=this.getViewLayer().options,n=i.data,r=void 0===n?[]:n,o=i.xField,a=c.size(r),s=Math.round(t*a),l=Math.max(s+1,Math.round(e*a)),u=r.slice(s,l);return{minText:c.head(u)[o],maxText:c.last(u)[o]}},h.prototype.onChange=function(t){var e=this.view,i=c.clamp(Math.min(t[0],t[1]),0,1),n=c.clamp(Math.max(t[0],t[1]),0,1),r=this.getSliderData(i,n),o=this.getSliderMinMaxText(i,n),a=o.minText,s=o.maxText;this.curStart=i,this.curEnd=n,this.slider.update({start:i,end:n,minText:a,maxText:s});var l=e.get("animation");e.animate(!1),e.changeData(r),e.animate(l)},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.onChangeFn=c.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),g=i(2),v=n.__importStar(i(0)),r=(o.prototype.registerPadding=function(e,t,i){void 0===t&&(t="outer"),void 0===i&&(i=!1),"inner"===t?i&&this.innerPaddingComponents.find(function(t){return t==e})||this.innerPaddingComponents.push(e):i&&this.outerPaddingComponents.find(function(t){return t==e})||this.outerPaddingComponents.push(e)},o.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=v.filter(this.outerPaddingComponents,function(t){return t.afterRender})},o.prototype.clearOuterComponents=function(){v.each(this.outerPaddingComponents,function(t){t.afterRender&&t.destroy()}),this.outerPaddingComponents=[]},o.prototype.getPadding=function(){var t=this.plot.options,e=t.padding?t.padding:this.plot.config.theme.padding;return"auto"===e?[0,0,0,0]:e},o.prototype.processAutoPadding=function(){var t=this._getInnerAutoPadding();this.plot.updateConfig({padding:t}),this.plot.render()},o.prototype.processOuterPadding=function(){var s=this.plot.layerBBox.minX,l=this.plot.layerBBox.maxX,u=this.plot.layerBBox.minY,c=this.plot.layerBBox.maxY;return v.each(this.outerPaddingComponents,function(t){var e=t.position,i=t.getBBox(),n=i.minX,r=i.maxX,o=i.minY,a=i.maxY;u<=a&&a<=c&&"top"===e&&(u=a),u<=o&&o<=c&&"bottom"===e&&(c=o),s<r&&r<=l&&"left"===e&&(s=r),s<=n&&r<=l&&"right"===e&&(l=n)}),new g.BBox(s,u,l-s,c-u)},o.prototype._getInnerAutoPadding=function(){var i=this.plot.options,t=this.plot.view,e=t.get("viewRange"),n=e.maxX,r=e.maxY,o=this.plot.config.theme.bleeding;v.isArray(o)&&v.each(o,function(t,e){"function"==typeof o[e]&&(o[e]=o[e](i))}),this.plot.config.theme.legend.margin=o,this.bleeding=v.clone(o);var a=[t.get("panelRange")];this._getAxis(t,a);var s=this._mergeBBox(a);this._getLegend(t,a,s),s=this._mergeBBox(a);var l=this.innerPaddingComponents;v.each(l,function(t){var e=t.getBBox();a.push(e)});var u=(s=this._mergeBBox(a)).minY;u===e.minY&&(u=0);var c=[0-u+this.bleeding[0],s.maxX-n+this.bleeding[1],s.maxY-r+this.bleeding[2],0-s.minX+this.bleeding[3]];(v.get(i,"title.visible")||v.get(i,"description.visible"))&&(c[0]=Math.max(this.bleeding[0],c[0])),this.adjustAxisPadding(t,c);var h=this._getPanel(t,s);return c[0]+=h[0],c[1]+=h[1],c[2]+=h[2],c[3]+=h[3],c},o.prototype._getAxis=function(t,i){var e=t.get("axisController").axes;0<e.length&&v.each(e,function(t){var e=t.get("group").getBBox();i.push(e)})},o.prototype._getLegend=function(c,h,p){var f=this,d=c.get("viewRange"),t=c.get("legendController").legends;0<t.length&&v.each(t,function(t){var e=t;f._adjustLegend(e,c,p);var i=e.getBBox(),n=i.width,r=i.height,o=0,a=0,s=e.get("position").split("-");"right"===s[0]&&(o=d.maxX,a=i.minY),"left"===s[0]&&(o=p.minX-n,a=i.minY),"top"===s[0]&&(o=i.minX,a=-r),"bottom"===s[0]&&(o=i.minX,a=d.maxY+r);var l=new g.BBox(o,a,n,r);h.push(l);var u=f._getLegendInnerPadding(e);f._mergeBleeding(u)})},o.prototype._getPanel=function(t,e){var i=[],n=t.get("elements");v.each(n,function(t){if(t.get("labelController")){var e=t.get("labelController").labelsContainer;e&&i.push(e)}});var r=1/0,o=-1/0,a=1/0,s=-1/0;v.each(i,function(t){t.get("children").forEach(function(t){if("group"!==t.type||0!==t.get("children").length){var e=t.getBBox();e.minX<r&&(r=e.minX),e.maxX>o&&(o=e.maxX),e.minY<a&&(a=e.minY),e.maxY>s&&(s=e.maxY)}})});var l=t.get("panelRange"),u=Math.max(o-parseFloat(l.maxX),0);0<u&&(u*=l.width/(l.width+u));var c=Math.max(parseFloat(l.minX)-r,0);0<c&&(c*=l.width/(l.width+c));var h=Math.max(parseFloat(l.minY)-a,0);0<h&&(h*=l.height/(l.height+h));var p=Math.max(s-parseFloat(l.maxY),0);return 0<p&&(p*=l.height/(l.height+p)),[h,u,p,c]},o.prototype._mergeBBox=function(t){var i=1/0,n=-1/0,r=1/0,o=-1/0;return v.each(t,function(t){var e=t;i=Math.min(e.minX,i),n=Math.max(e.maxX,n),r=Math.min(e.minY,r),o=Math.max(e.maxY,o)}),{minX:i,maxX:n,minY:r,maxY:o}},o.prototype._adjustLegend=function(t,e,i){var n=t.get("position").split("-"),r=t.get("container"),o=r.getBBox(),a=e.get("viewRange"),s=a.width,l=(a.height,a.maxX,a.minX,a.maxY),u=a.minY;"right"===n[0]&&r.move(s,u),"left"===n[0]&&r.move(i.minX-o.width,u),"top"===n[0]&&r.move(0,i.minY-o.height),"bottom"===n[0]&&r.move(0,Math.max(l,i.maxY))},o.prototype._getLegendInnerPadding=function(t){var e=this.plot.theme.legend.innerPadding,i=t.get("position").split("-");return"top"===i[0]?[e[0],0,0,0]:"bottom"===i[0]?[0,0,e[2],0]:"left"===i[0]?[0,0,0,e[3]]:"right"===i[0]?[0,e[1],0,0]:void 0},o.prototype._mergeBleeding=function(t){var e=this.bleeding;if(t.length===e.length)for(var i=0;i<t.length;i++)e[i]+=t[i]},o.prototype.adjustAxisPadding=function(t,e){var i=t.get("axisController").axes[0];if(i&&i.get("autoRotateLabel")&&i.getOffsetByRotateAngle){var n=i.get("labelRenderer").getLabels(),r=i.getOffsetByRotateAngle(i.get("autoRotateAngle")),o=Math.abs(i.get("end").x-i.get("start").x),a=o;1<n.length&&(a=Math.abs(n[1].attr("x")-n[0].attr("x")));var s=a*(o-e[1]-e[3])/o,l=i.getOffsetByRotateAngle(i.getAutoRotateAngleByAvgWidth(s));r<l&&(e[2]+=l-r)}},o);function o(t){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=t.plot}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(69);e.DEFAULT_DARK_THEME={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[n.TOP_BLEEDING,24,n.BOTTOM_BLEEDING,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,n.DESCRIPTION_BOTTOM_MARGIN,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!0,style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:[0,0]}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,offset:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!1,grid:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:[0,0]}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16},title:{visible:!1,offset:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,autoRotateLabel:!0,autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12}},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom-center",innerPadding:[16,16,16,16]},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},tooltip:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};e.registerTheme=function(t,e){n[t.toLowerCase()]=e},e.getTheme=function(t){return n[t.toLowerCase()]||{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0));e.convertToG2Theme=function(t){var e=n.clone(t);return e.legend||(e.legend={}),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(134));e.extractAxis=function(t,e){return e&&n.AxisStyleParser(t,e),t},e.processAxisVisible=function(t){t.line&&!1===t.line.visible&&(t.line=null),t.grid&&!1===t.grid.visible&&(t.grid=null),t.tickLine&&!1===t.tickLine.visible&&(t.tickLine=null),t.title&&!1===t.title.visible&&(t.title=null),t.label&&!1===t.label.visible&&(t.label=null)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1).__importStar(i(0));e.AxisStyleParser=function(t,e){if(e.line&&(!1===e.line.visible?t.line=null:e.line.style&&(t.line=r.clone(e.line.style))),e.title&&(!1===e.title.visible?t.showTitle=!1:(!0===e.title.visible&&(t.showTitle=!0),t.autoRotate&&(t.autoRotateTitle=t.autoRotate),t.title=r.clone(e.title),t.title.style&&(t.title.textStyle=t.title.style,delete t.title.style))),e.tickLine&&(!1===e.tickLine.visible?t.tickLine=null:e.tickLine.style&&(t.tickLine=r.clone(e.tickLine.style))),Object.prototype.hasOwnProperty.call(e,"autoHideLabel")&&(t.autoHideLabel=e.autoHideLabel),Object.prototype.hasOwnProperty.call(e,"autoRotateLabel")&&(t.autoRotateLabel=e.autoRotateLabel),e.label)if(!1===e.label.visible)t.label=null;else{var i=r.clone(e.label);if(i.style&&(i.textStyle=i.style,delete i.style),e.label.formatter){var n=e.label.formatter;t.label=function(t){return i.text=n(t),i}}else t.label=i}e.grid&&(!1===e.grid.visible?t.grid=null:(t.grid=r.clone(e.grid),e.grid.style&&(t.grid=r.clone(e.grid.style))))},e.TooltipStyleParser=function(){},e.LabelStyleParser=function(t,e){t.label.textStyle=e},e.AnnotationStyleParser=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_RESPONSIVE_THEME={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOverlapArea=function(t,e,i){return void 0===i&&(i=0),Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i))*Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(3),s=i(2),o=n.__importStar(i(0)),a=n.__importDefault(i(138)),l=i(23),u=n.__importDefault(i(68)),c=(h.prototype.getCanvasSize=function(){var t=l.getGlobalTheme(),e=this.plot.width?this.plot.width:t.width,i=this.plot.height?this.plot.height:t.height;return this.plot.forceFit&&(e=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:e,i=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:i),{width:e,height:i}},h.prototype.getCanvasDOM=function(){return this.canvas.get("canvasDOM")},h.prototype.updateCanvasSize=function(){var t=this.getCanvasSize(),e=t.width,i=t.height;this.width=e,this.height=i,this.canvas.changeSize(e,i)},h.prototype.updateCanvasTheme=function(){var t=this.plot.theme,e=u.default.getGlobalTheme(t),i=o.get(e,"backgroundStyle.fill");i&&this.updateCanvasStyle({backgroundColor:i})},h.prototype.updateCanvasStyle=function(t){r.modifyCSS(this.getCanvasDOM(),t)},h.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},h.prototype.bindForceFit=function(){this.plot.forceFit&&(this.resizeObserver=new a.default(this.onResize),this.resizeObserver.observe(this.containerDOM))},h.prototype.init=function(){this.initGCanvas(),this.bindForceFit()},h.prototype.initGCanvas=function(){var t=this.plot,e=t.renderer,i=void 0===e?"canvas":e,n=t.pixelRatio,r=this.getCanvasSize(),o=r.width,a=r.height;this.canvas=new s.Canvas({containerDOM:this.containerDOM,width:o,height:a,renderer:i,pixelRatio:n}),this.width=o,this.height=a,this.updateCanvasTheme()},h);function h(t){var n=this;this.onResize=o.debounce(function(){if(!n.plot.destroyed){var t=n.getCanvasSize(),e=t.width,i=t.height;n.width!==e&&(n.width=e,n.height=i,n.plot.updateConfig({width:e,height:i}),n.plot.render())}},300);var e=t.containerDOM,i=t.plot;this.containerDOM=e,this.plot=i,this.init()}e.default=c},function(t,C,e){"use strict";e.r(C),function(t){function u(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t}var n=function(){if("undefined"!=typeof Map)return Map;function n(t,i){var n=-1;return t.some(function(t,e){return t[0]===i&&(n=e,!0)}),n}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=n(this.__entries__,t),i=this.__entries__[e];return i&&i[1]},t.prototype.set=function(t,e){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,i=n(e,t);~i&&e.splice(i,1)},t.prototype.has=function(t){return!!~n(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];t.call(e,r[1],r[0])}},t;function t(){this.__entries__=[]}}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,e=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),l="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(e):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},r=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof MutationObserver,a=(s.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},s.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},s.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},s.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;r.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s),h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||e},p=v(0,0,0,0);function s(){function t(){o&&(o=!1,n()),a&&i()}function e(){l(t)}function i(){var t=Date.now();if(o){if(t-s<2)return;a=!0}else a=!(o=!0),setTimeout(e,r);s=t}var n,r,o,a,s;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(n=this.refresh.bind(this),a=o=!(r=20),s=0,i)}function f(t){return parseFloat(t)||0}function d(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(t,e){return t+f(i["border-"+e+"-width"])},0)}var c="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox};function g(t){return i?c(t)?v(0,0,(e=t.getBBox()).width,e.height):function(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return p;var n=h(t).getComputedStyle(t),r=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var r=n[i],o=t["padding-"+r];e[r]=f(o)}return e}(n),o=r.left+r.right,a=r.top+r.bottom,s=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(s+o)!==e&&(s-=d(n,"left","right")+o),Math.round(l+a)!==i&&(l-=d(n,"top","bottom")+a)),t!==h(t).document.documentElement){var u=Math.round(s+o)-e,c=Math.round(l+a)-i;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return v(r.left,r.top,s,l)}(t):p;var e}function v(t,e,i,n){return{x:t,y:e,width:i,height:n}}function y(t,e){var i,n,r,o,a,s,l=(i=e.x,n=e.y,r=e.width,o=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(a.prototype),u(s,{x:i,y:n,width:r,height:o,top:n,right:i+r,bottom:o+n,left:i}),s);u(this,{target:t,contentRect:l})}function m(t){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=a.getInstance(),i=new b(t,e,this);_.set(this,i)}var x=(w.prototype.isActive=function(){var t=g(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},w.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},w),b=(M.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new x(t)),this.controller_.addObserver(this),this.controller_.refresh())}},M.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},M.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},M.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},M.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new y(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},M.prototype.clearActive=function(){this.activeObservations_.splice(0)},M.prototype.hasActive=function(){return 0<this.activeObservations_.length},M),_=new("undefined"!=typeof WeakMap?WeakMap:n);function M(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}function w(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=t}["observe","unobserve","disconnect"].forEach(function(e){m.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}});var S=void 0!==e.ResizeObserver?e.ResizeObserver:m;C.default=S}.call(this,e(139))},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1).__importStar(i(0)),n=(r.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"mousemove",s.wrapBehavior(this,"onMove")),this.addEvent(this.canvas,"mouseup",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"click",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"dblclick",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"wheel",s.wrapBehavior(this,"onEvents"))},r.prototype.clearEvents=function(){var t=this.eventHandlers;s.each(t,function(t){t.target.off(t.type,t.handler)})},r.prototype.addEvent=function(t,e,i){t.on(e,i),this.eventHandlers.push({target:t,type:e,handler:i})},r.prototype.onEvents=function(t){var e=this.getEventObj(t),i=t.target;i.isShape&&!this.isShapeInView(i)&&i.name&&this.plot.emit(i.name+":"+t.type,t),this.plot.emit(""+t.type,e);var n=this.plot.getLayers();0<n.length&&this.onLayerEvent(n,e,t.type)},r.prototype.onMove=function(t){var e,i=t.target,n=this.getEventObj(t);i.isShape&&!this.isShapeInView(i)&&i.name&&(this.plot.emit(i.name+":"+t.type,n),!this.lastShape||(e=this.lastShape,i&&e&&i===e)||(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",n),this.plot.emit(i.name+":mouseenter",n)),this.lastShape=i),this.plot.emit("mousemove",n);var r=this.plot.getLayers();0<r.length&&this.onLayerEvent(r,n,"mousemove")},r.prototype.isShapeInView=function(t){for(var e=["frontgroundGroup","backgroundGroup","panelGroup"],i=t.get("parent");i;){var n=i.get("name");if(n&&s.contains(e,n))return!0;i=i.get("parent")}return!1},r.prototype.getEventObj=function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,event:t.event}},r.prototype.onLayerEvent=function(t,r,o){var a=this;s.each(t,function(t){var e,i=t.getGlobalBBox();if((e={x:r.x,y:r.y}).x>=i.minX&&e.x<=i.maxX&&e.y>=i.minY&&e.y<=i.maxY){t.emit(""+o,r);var n=t.layers;0<n.length&&a.onLayerEvent(n,r,o)}})},r);function r(t){this.plot=t.plot,this.canvas=t.canvas,this.pixelRatio=this.canvas.get("pixelRatio"),this.eventHandlers=[]}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(71)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="line",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(72)),o=n.__importDefault(i(143));e.default={main:r.default,mini:o.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(5)),s=n.__importStar(i(0)),l=i(15),u=i(46),o=n.__importDefault(i(72)),a=r.Global.theme;function c(t,e,i){var n=[],r=[];s.each(t.points,function(t){n.push(t[1]),r.push(t[0])}),r=e.parsePoints(r.reverse()),n=l.lineSimplification(e.parsePoints(n));var o=i?u.getSplinePath(n,!1,[[0,0],[1,1]]):h(n),a=h(r);return a[0][0]="L",o.concat(a)}function h(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],r=0===i?"M":"L";e.push([r,n.x,n.y])}return e}function p(t){return"l(90) 0:"+t+" 1:#ffffff"}r.registerShape("area","miniArea",{draw:function(t,e){var i=c(t,this,!1),n=s.deepMix({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:{path:i,fill:p(t.color||a.defaultColor),opacity:t.opacity||.4},style:n})}}),r.registerShape("area","miniAreaSmooth",{draw:function(t,e){var i=c(t,this,!0);return e.addShape("path",{attrs:{path:i,fill:p(t.color||a.defaultColor),opacity:t.opacity||.5}})}});var f,d=(f=o.default,n.__extends(g,f),g.prototype.init=function(){f.prototype.init.call(this),this.parseShape()},g.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},g);function g(){return null!==f&&f.apply(this,arguments)||this}e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(145));e.default={main:n.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(31)),s=["colorField","stackField","groupField"],l=(n=a.default,r.__extends(u,n),u.prototype.init=function(){this.type="interval",n.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var i=this._getStyleProps(t);i&&this.parseStyle(i)},u.prototype.parseColor=function(){var e=this.plot.options,t=this._getColorMappingField(e),i={};t&&(i.fields=t),e.color&&(o.isString(e.color)?i.values=[e.color]:o.isFunction(e.color)?i.callback=e.color:o.isArray(e.color)?i.values=e.color:o.isObject(e.color)&&(i.fields=t,i.callback=function(t){return e.color[t]})),this.config.color=i},u.prototype.parseSize=function(t){var e=this.plot.options,i={};o.isFunction(e[t])?(i.fields=[this.config.position.fields],i.callback=e[t]):i.values=[e[t]],this.config.size=i},u.prototype.parseStyle=function(t){var e=this.plot.options[t],i={};o.isFunction(e)?(i.fields=[this.config.position.fields],i.callback=e):i.cfg=e,this.config.style=i},u.prototype._getSizeProps=function(t){for(var e=0,i=["columnSize","barSize"];e<i.length;e++){var n=i[e];if(o.get(t,n))return n}},u.prototype._getStyleProps=function(t){for(var e=0,i=["columnStyle","barStyle","pieStyle","ringStyle"];e<i.length;e++){var n=i[e];if(o.get(t,n))return n}},u.prototype._getColorMappingField=function(t){for(var e=0,i=s;e<i.length;e++){var n=i[e];if(o.get(t,n))return[t[n]]}},u.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,i=s;e<i.length;e++)if(t[i[e]])return!0;return!1},u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(147)),o=n.__importDefault(i(47)),a=n.__importDefault(i(73));e.default={main:o.default,guide:r.default,mini:a.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=(n=r.__importDefault(i(47)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;t.xField&&t.yField&&(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},s.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField();i&&(e.fields=i),t.line.color?e.values=[t.line.color]:(i=i||this.config.position.fields,o.isString(t.color)?e.values=[t.color]:o.isFunction(t.color)?(e.fields=i,e.callback=t.color):o.isArray(t.color)&&(e.fields=i,e.values=t.color)),this.config.color=e},s.prototype.parseStyle=function(){var t=this.plot.options.line.style,e={};o.isFunction(t)?(e.fields=this.config.position.fields,e.callback=t):e.cfg=t,this.config.style=e},s.prototype._needParseAttribute=function(t){var e=this.plot.options;return!e.line||e.line[t]},s.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=["stackField","seriesField"];e<i.length;e++){var n=i[e];if(o.get(t,n))return[t[n]]}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(149)),o=n.__importDefault(i(150));e.default={guide:o.default,circle:r.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=r.__importStar(i(0)),o=(n=r.__importDefault(i(31)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=t.colorField;i&&(e.fields=a.isArray(i)?i:[i]),t.color&&this._parseColor(t,e),this.config.color=e},s.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=t.pointSize),this.config.size=e},s.prototype.parseShape=function(t){var e={values:[t]};this.config.shape=e},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,i={fields:null,callback:null,cfg:null},n=t.xField,r=t.yField,o=t.colorField;a.isFunction(e)?(i.fields=o?a.isArray(o)?[n,r,o].concat(o):[n,r,o]:[n,r],i.callback=e):i.cfg=e,this.config.style=i},s.prototype._parseColor=function(t,e){a.isString(t.color)?e.values=[t.color]:a.isFunction(t.color)?e.callback=t.color:a.isArray(t.color)&&(e.values=t.color)},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=r.__importStar(i(0)),o=r.__importDefault(i(31)),s=["seriesField","stackField"],l=(n=o.default,r.__extends(u,n),u.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},u.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField(t);i?this._parseColorByField(t,e,i):t.point&&t.point.color?e.values=[t.point.color]:t.color&&this._parseColor(t,e),this.config.color=e},u.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},u.prototype.parseShape=function(t){var e={values:[t]};this.config.shape=e},u.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,i={fields:null,callback:null,cfg:null},n=this._getColorMappingField(t);a.isFunction(e)&&n?(i.fields=[n],i.callback=e):i.cfg=e,this.config.style=i},u.prototype._parseColorByField=function(t,e,i){if(e.fields=[i],t.point.color){for(var n=function(i,t){var n=[];return a.each(t,function(t){var e=t[i];n.push(e)}),a.uniq(n)}(i,t.data).length,r=[],o=0;o<n;o++)r.push(t.point.color);e.values=r}else t.color&&this._parseColor(t,e)},u.prototype._parseColor=function(t,e){a.isString(t.color)?e.values=[t.color]:a.isFunction(t.color)?e.callback=t.color:a.isArray(t.color)&&(e.values=t.color)},u.prototype._needParseAttribute=function(t){var e=this.plot.options;return e.point&&a.has(e.point,t)},u.prototype._getColorMappingField=function(t){for(var e=0,i=s;e<i.length;e++){var n=i[e];if(a.get(t,n))return[t[n]]}},u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),M=n.__importStar(i(2)),r=i(5),w=n.__importStar(i(0));function o(t,e){var i,n,r,o,a=t.get("index"),s=t.get("coord"),l=t.get("scales")[e.yField],u=w.clone(t.get("origin")),c=(i=s.start,n=s.end,s.width,r=s.height,(o=new M.Shapes.Rect({attrs:{x:i.x,y:n.y,width:0,height:r}})).set("isClip",!0),o);t.attr("clip",c),t.setSilent("animating",!0);var h,p,f,d,g=(h=e.plot.view,p=u[0]._origin[e.seriesField],d=h.get("elements"),w.each(d,function(t){if("line"===t.get("type")&&t.get("labelController")){var e=t.get("labelController").labelsContainer;if(e){var i=e.get("labelsRenderer").getLabels();w.each(i,function(t){t.attr("text")===p&&(f=t)})}}}),f);g&&!g.get("destroyed")&&g.set("visible",!1);var v,y=t.get("parent");e.seriesField&&(v=y.addShape("text",{attrs:{x:s.start.x+12,y:0,text:u[0]._origin[e.seriesField],fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var m=v?16:0,x=y.addShape("text",{attrs:{x:s.start.x+12,y:m,text:"test"+a,fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),c.remove(),x.animate({opacity:0},300,function(){x.remove(),g&&!g.get("destroyed")&&(g.set("visible",!0),e.plot.canvas.draw())}),v&&x.animate({opacity:0},300,function(){x.remove()}))};var b=e.delay;w.isFunction(b)&&(b=e.delay(a));var _=e.easing;w.isFunction(_)&&(_=e.easing(a)),c.animate({width:s.getWidth()},e.duration,_,e.callback,b),x.animate({onFrame:function(t){var e,i,n,r=S(t,u,s);if(r){x.attr("x",r[0]+12),x.attr("y",r[1]+m);var o=(e=l,i=r[1],n=(i-s.start.y)/(s.end.y-s.start.y),e.invert(n).toFixed(2));l.formatter&&(o=l.formatter(o)),x.attr("text",o)}}},e.duration,_,e.callback,b),v&&v.animate({onFrame:function(t){var e=S(t,u,s);e&&(v.attr("x",e[0]+12),v.attr("y",e[1]))}},e.duration,_,e.callback,b)}function S(t,e,i){for(var n=i.start.x+i.getWidth()*t,r=0;r<e.length-1;r++){var o=e[r],a=e[r+1];if(n>=o.x&&n<=a.x){var s=(a.y-o.y)/(a.x-o.x);return[n,o.y+s*(n-o.x)]}}}o.animationName="clipingWithData",r.Animate.registerAnimation("appear","clipingWithData",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(153)),o=n.__importDefault(i(170)),a=[{name:"responsiveAxis",method:r.default},{name:"responsivePointLabel",method:o.default}];e.default={preRender:[],afterRender:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(36));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e,i){return void 0===i&&(i={ratio:.6}),e.width*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1).__importStar(i(15));e.default={type:"group",usage:"compare",expression:function(t,e){var i=[t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],n=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],r=o.minDistBetweenConvexPolygon(i,n);return 2<=Math.round(r)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1).__importStar(i(15));e.default={type:"chain",usage:"compare",expression:function(t,e,i){void 0===i&&(i={value:4});var n=[t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],r=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],o=a.minDistBetweenConvexPolygon(n,r);return Math.round(o)>=i.value}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"chain",usage:"compare",expression:function(t,e,i){void 0===i&&(i={value:5});var n=Math.abs(t.bottom-e.top);return Math.round(n)>=i.value}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"compare",expression:function(t,e,i){return void 0===i&&(i={ratio:.15}),t.width<e.width*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e){var i=e.coord.radius/2;return Math.min(i,t.value)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e,i){return void 0===i&&(i={ratio:.8}),e.radius*i.ratio}}},function(t,e,i){"use strict";i.r(e),i.d(e,"assign",function(){return _}),i.d(e,"format",function(){return m}),i.d(e,"parse",function(){return O}),i.d(e,"defaultI18n",function(){return h}),i.d(e,"setGlobalDateI18n",function(){return p}),i.d(e,"setGlobalDateMasks",function(){return y});var x=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,n="[^\\s]+",b=/\[([^]*?)\]/gm;function r(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i.push(t[n].substr(0,e));return i}function o(n){return function(t,e){var i=e[n].map(function(t){return t.toLowerCase()}).indexOf(t.toLowerCase());return-1<i?i:null}}function _(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0,r=e;n<r.length;n++){var o=r[n];for(var a in o)t[a]=o[a]}return t}function a(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t}function s(t){return t-1}var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],c=r(u,3),h={dayNamesShort:r(l,3),dayNames:l,monthNamesShort:c,monthNames:u,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10?1:0)*t%10]}},M=_({},h),p=function(t){return M=_(M,t)},w=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},f={D:function(t){return String(t.getDate())},DD:function(t){return a(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return a(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return a(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return a(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return a(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return a(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return a(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return a(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return a(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return a(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return a(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(0<e?"-":"+")+a(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},d=[null,"[1-9]\\d?"],g=[null,n],v=["isPm",n,function(t,e){var i=t.toLowerCase();return i===e.amPm[0]?0:i===e.amPm[1]?1:null}],S={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+n,function(t){return parseInt(t,10)}],M:["month","[1-9]\\d?",s],MM:["month","\\d\\d",s],YY:["year","\\d\\d",function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(68<+t?e-1:e)+t)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*t}],SS:["millisecond","\\d\\d",function(t){return 10*t}],SSS:["millisecond","\\d{3}"],d:d,dd:d,ddd:g,dddd:g,MMM:["month",n,o("monthNamesShort")],MMMM:["month",n,o("monthNames")],a:v,A:v,ZZ:["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var i=60*e[1]+parseInt(e[2],10);return"+"===e[0]?i:-i}return 0}]},C={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},y=function(t){return _(C,t)},m=function(e,t,i){if(void 0===t&&(t=C.default),void 0===i&&(i={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var n=[];t=(t=C[t]||t).replace(b,function(t,e){return n.push(e),"@@@"});var r=_(_({},M),i);return(t=t.replace(x,function(t){return f[t](e,r)})).replace(/@@@/g,function(){return n.shift()})};function O(t,e,i){if(void 0===i&&(i={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=C[e]||e,1e3<t.length)return null;var n={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],r=[],a=e.replace(b,function(t,e){return r.push(w(e)),"@@@"}),s={},l={};a=w(a).replace(x,function(t){var e=S[t],i=e[0],n=e[1],r=e[3];if(s[i])throw new Error("Invalid format. "+i+" specified twice in format");return s[i]=!0,r&&(l[r]=!0),o.push(e),"("+n+")"}),Object.keys(l).forEach(function(t){if(!s[t])throw new Error("Invalid format. "+t+" is required in specified format")}),a=a.replace(/@@@/g,function(){return r.shift()});var u=t.match(new RegExp(a,"i"));if(!u)return null;for(var c=_(_({},M),i),h=1;h<u.length;h++){var p=o[h-1],f=p[0],d=p[2],g=d?d(u[h],c):+u[h];if(null==g)return null;n[f]=g}1===n.isPm&&null!=n.hour&&12!=+n.hour?n.hour=+n.hour+12:0===n.isPm&&12==+n.hour&&(n.hour=0);for(var v=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond),y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],m=(h=0,y.length);h<m;h++)if(s[y[h][0]]&&n[y[h][0]]!==v[y[h][1]]())return null;return null==n.timezoneOffset?v:new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond))}var k={format:m,parse:O,defaultI18n:h,setGlobalDateI18n:p,setGlobalDateMasks:y};e.default=k},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=i(15);e.default=function(t,e,i,n){var r,o,a,s,l,u,c,h,p=n.nodes.nodes;if(i!==p.length-1){var f=(r=p[i],o=p[i+1],s={x:o.centerX-r.centerX,y:o.centerY-r.centerY},l=Math.sqrt(s.x*s.x+s.y*s.y),u={x:10,y:0},c=Math.sqrt(u.x*u.x+u.y*u.y),(h=g.dotProduct2D(s,u)/(l*c)*180/Math.PI)<0&&(h=360-h),45<(h=90<h&&h<=180?180-h:180<h&&h<270?h-180:360-h)?a="x":h<45&&(a="y"),{dir:a,distX:Math.abs(r.centerX-o.centerX),distY:Math.abs(r.centerY-o.centerY)}).dir,d=t.get("startPoint");"x"===f&&t.attr("y",d.y+20)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(1).__importStar(i(0)),x=i(77);e.default=function(t,e,i,n){var r,o,a,s=n.nodes.nodes;if(0!==i){var l=s[i],u=s[i-1];if(x.isNodeOverlap(l,u)){var c=n.plot.plot.get("elements")[0],h=u.top-l.height/2;if(h-10>n.region.top){var p=l.shape.get("origin"),f=(r=c.getShapeId(p),o=c.getShapes(),m.each(o,function(t){t.id===r&&(a=t)}),a.get("box")),d=f.left+f.width/2,g=f.top,v=c.get("labelController").labelsContainer.addShape("path",{attrs:{path:[["M",d,g],["L",l.shape.attr("x"),h]],stroke:"#ccc",lineWidth:1}}),y={x:t.attr("x"),y:t.attr("y")};l.shape.attr("y",h-10),s[i]=n.nodes.measure(l.shape),s[i].line=v,s[i].origin_position=y}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(80),a=n.__importDefault(i(27));e.default=function(t,e,i,n){var r=n.nodes.nodes;o.isKeep(e.keep,i,r)||t.attr("text")!==t.get("origin").text&&a.default(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=n.__importStar(i(0)),f=n.__importDefault(i(27));e.default=function(t,e,n,i){var r,o,a=i.nodes.nodes,s=(r=a,(o=p.deepMix([],r)).sort(function(t,e){return e.width-t.width}),Math.round(o[0].width));if(!(n<=1)){var l=a[n],u=function(t){for(var e=n-1;0<e;e--){var i=t[e];if(!i.shape.get("blank"))return i}}(a),c=u.centerX-l.centerX,h=u.centerY-l.centerY;Math.sqrt(c*c+h*h)<s&&(f.default(t),t.set("blank",!0))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),h=n.__importStar(i(0)),p=n.__importDefault(i(27));function f(t,e,i){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o.shape.get("origin")[e]===i)return o}}e.default=function(t,e,i,n){var r=n.nodes.nodes,o=r[i];o.line&&o.line.remove();var a=function(t,e,i){var n=[];h.each(t,function(t){n.push(t[e])}),n.sort(function(t,e){return t-e});var r=n[0],o=f(i,e,r),a=n[n.length-1],s=f(i,e,a),l=function(t){var e=h.clone(t);e.sort(function(t,e){return t-e});var i=Math.floor(e.length/2);return e.length,e[i]}(n);return{min:o,max:s,median:f(i,e,l)}}(n.plot.initialProps.data,n.plot[n.plot.type].label.fields[0],r),s=!1;if(h.each(a,function(t){t.shape.get("origin")===o.shape.get("origin")&&(s=!0)}),s){if(o.origin_position){var l=o.origin_position,u=l.x,c=l.y;t.attr("x",u),t.attr("y",c)}}else p.default(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=n.__importStar(i(78)),s=n.__importDefault(i(79)),l=n.__importDefault(i(81));e.default=function(t,e,i,n){var r=n.nodes.nodes,o=t.attr("text");/^\d+$/.test(o)?s.default(t,e,i,r):a.isTime(o)?a.default(t,e,i,r):l.default(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.resetMatrix(),t.attr({rotate:360-e.degree,textAlign:"right",textBaseline:"middle"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var i=t.attr("text"),n=Math.ceil(i.length/e.lineNumber),r="",o=1;o<e.lineNumber;o++){var a=n*o;r=i.slice(0,a)+"\n"+i.slice(a)}var s=t.attr("fontSize");t.attr({text:r,lineHeight:s,textAlign:"center",textBaseline:"top"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=r.__importDefault(i(83)).default,r.__extends(a,n),a.prototype.getType=function(){var t=this.plot.options;return t.label&&t.label.type?t.label.type:"point"},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=function(t){var e=t.getResponsiveTheme();new o({plot:t,responsiveTheme:e})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(30).registerResponsiveTheme("line",{label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=i(1),r=i(5),l=n.__importDefault(i(173)),u=n.__importDefault(i(39)),o=(s=r.ElementLabels,n.__extends(a,s),a.prototype.showLabels=function(t,r){var o=this,a=[];u.default(r,function(t){var e=t.get("origin"),i=l.default(e[e.length-1]),n=t.getBBox();i.x=n.maxX+10,a.push(i)}),s.prototype.showLabels.call(this,a,r);var e=this.get("labelsRenderer"),i=(this.get("labelOptions").fields[0],e.get("group").get("children")),n=this.get("element").get("view");u.default(i,function(t){t.attr("textAlign","left"),t.attr("textBaseline","middle");var e=t.get("origin"),i=o.get("element").getShapeId(e),n=o._adjustColor(i,r);t.attr("fill",n)}),n.get("canvas").draw()},a.prototype._adjustColor=function(e,t){var i;return u.default(t,function(t){t.id===e&&(i=t.attr("stroke"))}),i},a);function a(){return null!==s&&s.apply(this,arguments)||this}r.registerElementLabels("line",o)},function(t,e,i){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(28);e.default=function t(e){if("object"!==a(e)||null===e)return e;var i;if(s.default(e)){i=[];for(var n=0,r=e.length;n<r;n++)"object"===a(e[n])&&null!=e[n]?i[n]=t(e[n]):i[n]=e[n]}else for(var o in i={},e)"object"===a(e[o])&&null!=e[o]?i[o]=t(e[o]):i[o]=e[o];return i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),o=i(5),a=(r=o.ElementLabels,n.__extends(s,r),s.prototype.showLabels=function(t,e){r.prototype.showLabels.call(this,t,e);var i=this.get("labelsRenderer"),n=(i.get("group").get("children"),this.get("element").get("view"));i.get("items").map(function(t){return{x:t.start.x-4,y:t.start.y-4,width:8,height:8}}),n.get("canvas").draw()},s);function s(){return null!==r&&r.apply(this,arguments)||this}o.registerElementLabels("point",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onLineClick:"line:click",onLineDoubleclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineContextmenu:"line:contextmenu",onPointClick:"point:click",onPointDblclick:"point:dblclick",onPointMousemove:"point:mousemove",onPointMouseenter:"point:mouseenter",onPointMouseleave:"point:mouseleave",onPointMousedown:"point:mousedown",onPointMouseup:"point:mouseup",onPointContextmenu:"point:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(177));e.LineActive=r.default;var o=n.__importDefault(i(178));e.LineSelect=o.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=i(5).Interaction,r.__extends(a,n),a.prototype.process=function(t){if("line"===t.target.name){var e=t.data[0]._origin;this.view.setActive(function(t){return t===e})}else this.view.setActive(function(){return!1})},a);function a(t){return n.call(this,r.__assign({processEvent:"mousemove"},t))||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=i(5).Interaction,r.__extends(a,n),a.prototype.end=function(t){if("line"===t.target.name){var e=t.data[0]._origin;this.view.setInactive(function(t){return t!==e})}else this.view.setInactive(function(){return!1})},a);function a(t){return n.call(this,r.__assign({endEvent:"click"},t))||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(20).registerTheme("line",{lineStyle:{normal:{},active:function(t){return{lineWidth:(t.lineWidth||1)+1}},disable:function(t){return{opacity:.2*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:{},disable:{},selected:{}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(181)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="density",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),v=i(11),y=r.__importStar(i(0)),o=i(7),m=i(15),a=r.__importDefault(i(49)),x={epanechnikov:function(t){return Math.abs(t)<=1?.75*(1-t*t):0},gaussian:function(t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Math.pow(t,2))},uniform:function(t){return Math.abs(t)<=1?.5:0},triangle:function(t){return Math.abs(t)<=1?1-Math.abs(t):0},quartic:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*e*e:0},triweight:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*Math.pow(e,3):0},cosinus:function(t){var e=Math.PI/4*Math.cos(.5*Math.PI*t);return Math.abs(t)<=1?e:0}},s=(n=a.default,r.__extends(l,n),l.prototype.init=function(){var t=this.options.xAxis?y.clone(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=y.deepMix({},t,{type:"linear"}),this.options.smooth=!0,n.prototype.init.call(this)},l.prototype.processData=function(t){var i=this,e=this.options,n=e.binField,r=e.binWidth,o=e.binNumber,a=e.kernel,s=x[a||"epanechnikov"],l=y.clone(t);y.sortBy(l,n);var u=y.valuesOfKey(l,n),c=y.getRange(u),h=c.max-c.min,p=o,f=r;!o&&r&&(p=Math.floor(h/r)),!r&&o&&(f=h/o),o||r||(p=m.sturges(u),f=h/o);var d=new(v.getScale("linear"))({min:c.min,max:c.max,tickCount:p,nice:!1}).getTicks(),g=[];return y.each(d,function(t){var e=i.kernelDensityEstimator(f,s,t,u);g.push({value:t.text,density:e})}),g},l.prototype.kernelDensityEstimator=function(i,n,r,t){var o=0;return y.each(t,function(t){var e=(r.tickValue-t)/i;o+=n(e)}),0===t.length?0:o/t.length},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="density",t}e.default=s,o.registerPlotType("density",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveAxis",method:i(1).__importDefault(i(183)).default}];e.default={preRender:[],afterRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(36));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineContextmenu:"line:contextmenu",onPointClick:"point:click",onPointDblclick:"point:dblclick",onPointMousemove:"point:mousemove",onPointMouseenter:"point:mouseenter",onPointMouseleave:"point:mouseleave",onPointMousedown:"point:mousedown",onPointMouseup:"point:mouseup",onPointContextmenu:"point:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(20).registerTheme("area",{areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(32)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="column",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(188)),o=n.__importDefault(i(189)),a=[{name:"responsiveAxis",method:r.default},{name:"responsiveLabel",method:o.default}];e.default={preRender:[],afterRender:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(36));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=r.__importDefault(i(83)).default,r.__extends(a,n),a.prototype.getType=function(){return!this.plot.column.label||this.plot.column.label.position&&"top"!==this.plot.column.label.position?"inner":"top"},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=function(t){var e=t.getResponsiveTheme();new o({plot:t,responsiveTheme:e})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(30).registerResponsiveTheme("column",{label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(20).registerTheme("column",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){var e=t.opacity||1;return{opacity:.5*e,fillOpacity:.5*e}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(193)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="bubble",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7);i(51);var a,s=n.__importStar(i(85)),l=(a=n.__importDefault(i(86)).default,n.__extends(u,a),u.getDefaultOptions=function(){return r.deepMix({},a.getDefaultOptions.call(this),{pointSize:[8,58],pointStyle:{strokeOpacity:1,fillOpacity:1,opacity:.5},label:{position:"middle"}})},u.prototype.legend=function(){var t;a.prototype.legend.call(this),this.setConfig("legends",{fields:((t={})[this.options.sizeField]=!1,t)})},u.prototype.parseEvents=function(){a.prototype.parseEvents.call(this,s)},u);function u(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="bubble",t}e.default=l,o.registerPlotType("bubble",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(1),g=i(0),v=i(2),n=(r.prototype.init=function(){var o,a=this,t=this.options,e=t.xBaseline,i=t.yBaseline,n=this.view.get("coord"),r=this.view.get("scales"),s=r[this.options.plotOptions.xField],l=r[this.options.plotOptions.yField];if(e>s.min&&e<s.max){var u=(e-s.min)/(s.max-s.min);o=[new v.BBox(n.start.x,n.end.y,n.width*u,n.height),new v.BBox(n.start.x+n.width*u,n.end.y,n.width*(1-u),n.height)];var c={start:{x:n.start.x+n.width*u,y:n.end.y},end:{x:n.start.x+n.width*u,y:n.start.y}};this.lineData.push(c)}else o=new v.BBox(n.start.x,n.start.y,n.width,n.height);if(i>l.min&&i<l.max){var h=(i-l.min)/(l.max-l.min),p={start:{x:n.start.x,y:n.end.y+n.height*h},end:{x:n.end.x,y:n.end.y+n.height*h}};this.lineData.push(p),g.each(o,function(t,e){var i=["left","right"],n={name:1<o.length?"top-"+i[e]:"top",bbox:new v.BBox(t.minX,t.minY,t.width,t.height*h)};a.regionData.push(n);var r={name:1<o.length?"bottom-"+i[e]:"bottom",bbox:new v.BBox(t.minX,t.minY+t.height*h,t.width,t.height*(1-h))};a.regionData.push(r)})}else if(2===o.length){var f={name:"left",bbox:o[0]};this.regionData.push(f);var d={name:"right",bbox:o[1]};this.regionData.push(d)}this.container=this.view.get("backgroundGroup").addGroup()},r.prototype.render=function(){var a=this;if(0<this.regionData.length){var s=this.getDefaultStyle(),l=this.getRegionStyle(this.regionData);g.each(this.regionData,function(t,e){var i=a.container.addGroup(),n=i.addShape("rect",{attrs:u.__assign({x:t.bbox.minX,y:t.bbox.minY,width:t.bbox.width,height:t.bbox.height},l[e]),name:"quadrant"});if(a.options.label&&a.options.label.text){var r=g.deepMix({},s.label,a.options.label),o=a.getLabelConfig(t,r,e);i.addShape("text",{attrs:u.__assign({},o)})}n.setSilent("data",t),a.quadrantGroups.push(i)});var e=g.deepMix({},s.line,this.options.lineStyle);g.each(this.lineData,function(t){a.container.addShape("path",{attrs:u.__assign({path:[["M",t.start.x,t.start.y],["L",t.end.x,t.end.y]]},e)})}),this.view.get("canvas").draw()}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},region_2:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0}],region_4:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},r.prototype.getRegionStyle=function(t){var i,e=t.length,n=this.getDefaultStyle();if(i=2===e?n.region_2:n.region_4,this.options.regionStyle){var r=this.options.regionStyle;g.isArray(r)?i=i.map(function(t,e){return r.length>=e?r[e]:t}):g.isFunction(r)&&g.each(t,function(t,e){i[e]=r(t)})}return i},r.prototype.getLabelConfig=function(t,e,i){var n=0,r=0,o={},a=e.text;g.isFunction(a)?a=a(t):g.isArray(a)&&(a=a[i]);var s=e.position.split("-"),l=t.name.split("-");return"left"===l[1]?("inner"===s[0]&&(n=t.bbox.maxX-e.offset,o.textAlign="right"),"outter"===s[0]&&(n=t.bbox.minX+e.offset,o.textAlign="left")):"right"===l[1]&&("inner"===s[0]&&(n=t.bbox.minX+e.offset,o.textAlign="left"),"outter"===s[0]&&(n=t.bbox.maxX-e.offset,o.textAlign="right")),"top"===l[0]?("inner"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom"),"outter"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top")):"bottom"===l[0]&&("inner"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top"),"outter"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom")),(o=g.deepMix({},e.style,o)).lineHeight=o.fontSize,u.__assign({x:n,y:r,text:a},o)},r);function r(t){this.xBaseline=0,this.yBaseline=0,this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=t,this.view=this.options.view,this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(1),v=i(0),d=i(11),n=i(338),g=i(46),o={exp:n.regressionExp,linear:n.regressionLinear,loess:n.regressionLoess,log:n.regressionLog,poly:n.regressionPoly,pow:n.regressionPow,quad:n.regressionQuad},r=(a.prototype.init=function(){var t=this.options.plotOptions,e=t.xField,i=t.yField,n=t.data,r=o[this.options.type]().x(function(t){return t[e]}).y(function(t){return t[i]});this.data=this.processData(r(n)),this.container=this.view.get("backgroundGroup").addGroup()},a.prototype.render=function(){var t=this.view.get("scales"),e=t[this.options.plotOptions.xField],i=t[this.options.plotOptions.yField],n=this.view.get("coord"),r=this.data.trendlineData,o=d.getScale("linear"),a=this.adjustScale(e,r,"x"),s=new o({min:a.min,max:a.max,nice:e.nice}),l=this.adjustScale(i,r,"y"),u=new o({min:l.min,max:l.max,nice:i.nice});if(this.options.showConfidence){var c=this.getConfidencePath(s,u,n);this.container.addShape("path",{attrs:f.__assign({path:c},this.options.confidenceStyle)})}var h=this.getTrendlinePoints(s,u,n),p=g.getSplinePath(h,!1,[[0,0],[1,1]]);this.shape=this.container.addShape("path",{attrs:f.__assign({path:p},this.options.style)})},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.destroy()},a.prototype.processData=function(r){var o=[],a=[];return v.each(r,function(t){o.push({x:t[0],y:t[1]});var e,i,n=(e=r.rSquared,i=t[1],1.96*Math.sqrt(e*(1-e)/i));a.push({x:t[0],y0:t[1]-n,y1:t[1]+n})}),{trendlineData:o,confidenceData:a}},a.prototype.getTrendlinePoints=function(o,a,s){var l=[];return v.each(this.data.trendlineData,function(t){var e=o.scale(t.x),i=a.scale(t.y),n=s.start.x+s.width*e,r=s.start.y-s.height*i;l.push({x:n,y:r})}),l},a.prototype.getConfidencePath=function(s,l,u){var c=[],h=[],t=[];v.each(this.data.confidenceData,function(t){var e=s.scale(t.x),i=l.scale(t.y0),n=l.scale(t.y1),r=u.start.x+u.width*e,o=u.start.y-u.height*i,a=u.start.y-u.height*n;c.push({x:r,y:o}),h.push({x:r,y:a})});for(var e=0;e<c.length;e++){var i=0===e?"M":"L",n=c[e];isNaN(n.x)||isNaN(n.y)||t.push([i,n.x,n.y])}for(var r=h.length-1;0<r;r--)n=h[r],isNaN(n.x)||isNaN(n.y)||t.push(["L",n.x,n.y]);return t},a.prototype.adjustScale=function(t,e,i){var n=t.min,r=t.max,o=this.options.plotOptions,a=o.data,s=o.xField,l=o.yField,u="x"===i?s:l,c=v.minBy(a,u)[u],h=v.maxBy(a,u)[u],p=(n-c)/(h-c),f=(r-h)/(h-c),d=v.minBy(e,i)[i],g=v.maxBy(e,i)[i];return{min:d+p*(g-d),max:g+f*(g-d)}},a);function a(t){this.options=v.deepMix({},{type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}},t),this.view=this.options.view,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(86)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="scatter",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(198)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(7),s=(n=r.__importDefault(i(32)).default,r.__extends(l,n),l.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},l.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},l.prototype.addGeometry=function(){n.prototype.addGeometry.call(this)},l.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupColumn",t}e.default=s,a.registerPlotType("groupColumn",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(87)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(2),h=n.__importStar(i(0)),s=i(35);function p(t){var e=[],i=t.get("coord"),n=t.get("origin").points;return h.each(n,function(t){e.push(i.convertPoint(t))}),e}var r=(o.prototype.draw=function(){var i=this,t=this._getGroupedShapes();h.each(t,function(t,e){0<t.length&&i._drawConnection(t,e)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},o.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},o.prototype.destory=function(){this.container&&this.container.remove()},o.prototype.setState=function(t,e){"active"===t&&this._onActive(e),"disabled"===t&&this._onDisabled(e),"selected"===t&&this._onSelected(e)},o.prototype._init=function(){var t=this,e=this.view.get("backgroundGroup");this.container=e.addGroup();var i=this.view.get("panelRange"),n=new a.Rect({attrs:{width:i.width,height:i.height,x:i.minX,y:i.minY}});this.container.attr("clip",n),this.draw(),this.view.on("beforerender",function(){t.clear()})},o.prototype._getGroupedShapes=function(){var i=this,t=this.view.get("scales")[this.field].values,e=this.view.get("elements")[0].getShapes(),n={};return h.each(t,function(t){n[t]=[]}),h.each(e,function(t){var e=t.get("origin")._origin[i.field];n[e].push(t)}),n},o.prototype._drawConnection=function(t,e){var i=t[0].attr("fill");this._areaStyle[e]=this._getShapeStyle(i,"area"),this._lineStyle[e]=this._getShapeStyle(i,"line");for(var n=0;n<t.length-1;n++){var r=p(t[n]),o=p(t[n+1]),a=h.mix({},this._areaStyle[e]),s=h.mix({},this._lineStyle[e]);this.triggerOn&&(a.opacity=0,s.opacity=0);var l=this.container.addShape("path",{attrs:h.mix({},a,{path:[["M",r[2].x,r[2].y],["L",o[1].x,o[1].y],["L",o[0].x,o[0].y],["L",r[3].x,r[3].y]]}),name:"connectedArea"}),u=this.container.addShape("path",{attrs:h.mix({},s,{path:[["M",r[2].x,r[2].y],["L",o[1].x,o[1].y]]}),name:"connectedArea"}),c=t[n].get("origin")._origin;l.set("data",c),u.set("data",c),this.areas.push(l),this.lines.push(u)}},o.prototype._getShapeStyle=function(t,e){var i=e+"Style";if(this[i])return this[i];var n={areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}[i],r={fill:t};return"line"===e&&(r={stroke:t}),h.mix(n,r)},o.prototype._addInteraction=function(){var i=this,t=this.triggerOn;this.view.on("interval:"+t,function(t){var e=t.target.get("origin")._origin[i.field];i.setState("active",{name:i.field,exp:e}),i.setState("disabled",{name:i.field,exp:function(t){return t!==e}}),i.view.get("canvas").draw()}),this.view.on("mousemove",function(t){"interval"!==t.target.name&&i.setState("disabled",{name:i.field,exp:function(){return!0}})})},o.prototype._initialAnimation=function(){var t=this.view.get("coord"),e=t.start,i=t.end,n=t.width,r=t.height,o=new a.Shapes.Rect({attrs:{x:e.x,y:i.y,width:0,height:r}});this.container.attr("clip",o),this.container.setSilent("animating",!0),o.animate({width:n},600,"easeQuadOut",function(){},400)},o.prototype._onActive=function(r){var o=this;h.each(this.areas,function(t){var e=t.get("data"),i=e[o.field];if(s.compare(e,r)){var n=o._areaStyle[i].opacity||1;t.stopAnimate(),t.animate({opacity:n},400,"easeQuadOut")}}),h.each(this.lines,function(t){var e=t.get("data"),i=e[o.field];if(s.compare(e,r)){var n=o._lineStyle[i].opacity||1;t.stopAnimate(),t.animate({opacity:n},400,"easeQuadOut")}})},o.prototype._onDisabled=function(i){h.each(this.areas,function(t){var e=t.get("data");s.compare(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),h.each(this.lines,function(t){var e=t.get("data");s.compare(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},o.prototype._onSelected=function(t){this._onActive(t)},o);function o(t){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},h.assign(this,t),this._init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(5),a=(n=i(50).ColumnLabels,r.__extends(s,n),s.prototype.adjustPosition=function(t,e){var i=t.getBBox();e.getBBox().height<=i.height&&(t.attr("opacity",0),t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.set("capture",!1))},s);function s(){return null!==n&&n.apply(this,arguments)||this}o.registerElementLabels("stackColumnLabel",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(203)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentageStackColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=i(7),s=r.__importDefault(i(87)),l=i(52),u=(n=s.default,r.__extends(c,n),c.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},c.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return l.transformDataPercentage(t||[],i,[n])},c.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=t,n.prototype.scale.call(this)},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="percentageStackColumn",t}e.default=u,a.registerPlotType("percentageStackColumn",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(205)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="histogram",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),d=r.__importStar(i(0)),o=i(7),g=i(15),a=(n=r.__importDefault(i(32)).default,r.__extends(s,n),s.prototype.init=function(){this.options.xField="range",this.options.yField="count",n.prototype.init.call(this)},s.prototype.processData=function(t){var r=this,e=this.options,o=e.binField,i=e.binWidth,n=e.binNumber,a=d.clone(t);d.sortBy(a,o);var s=d.valuesOfKey(a,o),l=d.getRange(s),u=l.max-l.min,c=i;if(!i&&n&&(c=u/n),!i&&!n){var h=g.sturges(s);c=u/h}var p={};d.each(a,function(t){var e=t[o],i=r.getBin(e,c),n=i[0]+"-"+i[1];d.hasKey(p,n)||(p[n]={name:n,range:i,count:0,data:[]}),p[n].data.push(t),p[n].count+=1});var f=[];return d.each(p,function(t){f.push(t)}),f},s.prototype.scale=function(){n.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},s.prototype.getBin=function(t,e){var i=Math.floor(t/e);return[e*i,e*(i+1)]},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="histogram",t}e.default=a,o.registerPlotType("histogram",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(38)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="bar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveAxis",method:i(1).__importDefault(i(208)).default}];e.default={preRender:[],afterRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(36));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onBarClick:"interval:click",onBarDblclick:"interval:dblclick",onBarMousemove:"interval:mousemove",onBarMouseenter:"interval:mouseenter",onBarMouseleave:"interval:mouseleave",onBarMousedown:"interval:mousedown",onBarMouseup:"interval:mouseup",onBarContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(20).registerTheme("bar",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(88)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(5),a=(n=i(53).BarLabels,r.__extends(s,n),s.prototype.adjustPosition=function(t,e){var i=t.getBBox();e.getBBox().width<=i.width&&(t.attr("opacity",0),t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.set("capture",!1))},s);function s(){return null!==n&&n.apply(this,arguments)||this}o.registerElementLabels("stackBarLabel",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(214)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentageStackBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),r=n.__importStar(i(0)),a=i(7),s=n.__importDefault(i(88)),l=i(52),u=(o=s.default,n.__extends(c,o),c.getDefaultOptions=function(){return r.deepMix({},o.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){return t.replace(/%/gi,"")}}}})},c.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField,r=o.prototype.processData.call(this,t);return l.transformDataPercentage(r,n,[i])},c.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=t,o.prototype.scale.call(this)},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="percentageStackBar",t}e.default=u,a.registerPlotType("percentageStackBar",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(216)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),l=r.__importStar(i(0)),o=i(7),a=(n=r.__importDefault(i(38)).default,r.__extends(s,n),s.getDefaultOptions=function(){return l.deepMix({},n.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",offset:8,adjustColor:!0},legend:{visible:!0,position:"right-top"}})},s.prototype.afterRender=function(){n.prototype.afterRender.call(this);var s=l.valuesOfKey(this.options.data,this.options.groupField);this.view.on("tooltip:change",function(t){for(var e=t.items,i=l.clone(e),n=0;n<s.length;n++)for(var r=s[n],o=0;o<i.length;o++){var a=i[o];a.name===r&&(t.items[n]=a)}})},s.prototype.scale=function(){var t={};t[this.options.groupField]={values:l.valuesOfKey(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=l.deepMix({},this.options.meta,t):this.options.meta=t,n.prototype.scale.call(this)},s.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupBar",t}e.default=a,o.registerPlotType("groupBar",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(218)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="rangeBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=i(7),s=r.__importDefault(i(38)),l=r.__importDefault(i(219)),u=i(220),c=(n=s.default,r.__extends(h,n),h.getDefaultOptions=function(){return o.deepMix(n.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!1,offset:12}}},{})},h.prototype.afterRender=function(){this.options.label&&this.options.label.visible&&new l.default(r.__assign({view:this.view,plot:this},this.options.label)).render();var i=[],t=this.view.get("elements");o.each(t,function(t){var e=t.getShapes();o.each(e,function(t){i.push(t)})}),u.setShapeCache(i),n.prototype.afterRender.call(this)},h.prototype.extractLabel=function(){},h.prototype.animation=function(){n.prototype.animation.call(this),this.bar.animate={appear:{animation:"clipInFromCenter",duration:600},update:{animation:"updateFromCenter",duration:600}}},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rangeBar",t}e.default=c,a.registerPlotType("rangeBar",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(0),s=i(21),n=(r.prototype.init=function(){var t=this,e=this.view.get("elements")[0].get("container");this.container=e.addGroup(),this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var h=this,t=this.view.get("elements")[0],e=t.getShapes();p.each(e,function(s){var t=h.getPosition(s),l=h.getValue(s),u=h.getTextAlign(),c=[];p.each(t,function(t,e){var i=0===e?h.options.leftStyle:h.options.rightStyle,n=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==n&&(i.stroke=null);var r=h.options.formatter,o=r?r(l[e]):l[e],a=h.container.addShape("text",{attrs:p.deepMix({},i,{x:t.x,y:t.y,text:o,fill:n,textAlign:u[e],textBaseline:"middle"})});c.push(a),h.doAnimation(a)}),s.set("labelShapes",c),h.adjustPosition(c[0],c[1],s)}),t.get("labelController").labelsContainer=this.container,this.plot.canvas.draw()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destory=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){},r.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:8,offsetY:0,style:p.clone(t),adjustColor:!0,adjustPosition:!0}},r.prototype.getPosition=function(t){var e,i,n=t.get("origin"),r=n.x[0],o=n.x[1],a=this.options,s=a.offsetX,l=(a.offsetY,n.y[0]);return i="outer"===this.options.position?(e=r-s,o+s):(e=r+s,o-s),[{x:e,y:l},{x:i,y:l}]},r.prototype.getValue=function(t){var e=this.plot.options.xField;return t.get("origin")._origin[e]},r.prototype.getTextAlign=function(){return"outer"===this.options.position?["right","left"]:["left","right"]},r.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,r=s.rgb2arr(i);return o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n,p.each([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],function(t){o>=t.from&&o<t.to&&(a=t.color)}),a}var o,a;return 0===e?this.options.leftStyle.fill:this.options.rightStyle.fill},r.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},r.prototype.adjustPosition=function(t,e,i){var n=i.get("origin"),r=n.x[0],o=n.x[1],a=Math.abs(o-r),s=this.view.get("panelRange"),l=[t.getBBox(),e.getBBox()],u=t.attr("x"),c=e.attr("x");if(this.options.adjustPosition&&"inner"===this.options.position){var h=l[0].width+l[1].width;(2<l[0].maxX-l[1].minX||a<h)&&(u=r-this.options.offsetX,t.attr("fill",this.options.leftStyle.fill),t.attr("textAlign","right"),l[0]=t.getBBox(),c=o+this.options.offsetX,e.attr("fill",this.options.rightStyle.fill),e.attr("textAlign","left"),l[1]=e.getBBox())}l[0].minX<s.minX&&(u=s.minX+8,t.attr("textAlign","left")),t.attr("x",u),e.attr("x",c),this.plot.canvas.draw()},r);function r(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i(1),o=n.__importStar(i(2)),r=i(5),s=n.__importStar(i(0));function l(t,e){var i=t.getBBox(),n=i.minX+i.width/2,r=new o.Rect({attrs:{x:n,y:i.minY,width:0,height:i.height}});t.attr("clip",r),r.animate({width:i.width,x:i.minX},e.duration,e.easing,function(){t.attr("clip",null)},e.delay)}function u(t,e){var i,n,r=(n=t.id,s.each(a,function(t){t.id===n&&(i=t)}),i.attr("path")),o=s.clone(t.attr("path"));t.attr("path",r),t.animate({path:o},e.duration,e.easing,e.callback,100)}l.animationName="clipInFromCenter",e.setShapeCache=function(t){a=t},u.animationName="updateFromCenter",r.Animate.registerAnimation("appear","clipInFromCenter",l),r.Animate.registerAnimation("update","updateFromCenter",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(222)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="rangeColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=i(7),s=r.__importDefault(i(32)),l=r.__importDefault(i(223)),u=i(224),c=(n=s.default,r.__extends(h,n),h.getDefaultOptions=function(){return o.deepMix(n.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},h.prototype.afterRender=function(){this.options.label&&this.options.label.visible&&new l.default(r.__assign({view:this.view,plot:this},this.options.label)).render();var i=[],t=this.view.get("elements");o.each(t,function(t){var e=t.getShapes();o.each(e,function(t){i.push(t)})}),u.setShapeCache(i),n.prototype.afterRender.call(this)},h.prototype.extractLabel=function(){},h.prototype.animation=function(){n.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rangeColumn",t}e.default=c,a.registerPlotType("rangeColumn",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(0),s=i(21),n=(r.prototype.init=function(){var t=this,e=this.view.get("elements")[0].get("container");this.container=e.addGroup(),this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var h=this,t=this.view.get("elements")[0],e=t.getShapes();p.each(e,function(s){var t=h.getPosition(s),l=h.getValue(s),u=h.getTextBaseline(),c=[];p.each(t,function(t,e){var i=1===e?h.options.topStyle:h.options.bottomStyle,n=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==n&&(i.stroke=null);var r=h.options.formatter,o=r?r(l[e]):l[e],a=h.container.addShape("text",{attrs:p.deepMix({},i,{x:t.x,y:t.y,text:o,fill:n,textAlign:"center",textBaseline:u[e]})});c.push(a),h.doAnimation(a)}),s.set("labelShapes",c),h.adjustPosition(c[0],c[1],s)}),t.get("labelController").labelsContainer=this.container,this.plot.canvas.draw()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destory=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){},r.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:0,offsetY:8,style:p.clone(t),adjustColor:!0,adjustPosition:!0}},r.prototype.getPosition=function(t){var e,i=t.get("origin"),n=i.y[1],r=i.y[0],o=this.options,a=(o.offsetX,o.offsetY),s=i.x;return[{x:s,y:"outer"===this.options.position?(e=n-a,r+a):(e=n+a,r-a)},{x:s,y:e}]},r.prototype.getValue=function(t){var e=this.plot.options.yField;return t.get("origin")._origin[e]},r.prototype.getTextBaseline=function(){return"outer"===this.options.position?["top","bottom"]:["bottom","top"]},r.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,r=s.rgb2arr(i);return o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n,p.each([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],function(t){o>=t.from&&o<t.to&&(a=t.color)}),a}var o,a;return 1===e?this.options.topStyle.fill:this.options.bottomStyle.fill},r.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},r.prototype.adjustPosition=function(t,e,i){var n=i.get("origin"),r=n.y[1],o=n.y[0],a=Math.abs(o-r),s=this.view.get("panelRange"),l=[t.getBBox(),e.getBBox()],u=t.attr("y"),c=e.attr("y");if(this.options.adjustPosition&&"inner"===this.options.position){var h=l[0].height+l[1].height;(2<l[1].maxY-l[0].minY||a<h)&&(c=r-this.options.offsetY,e.attr("fill",this.options.topStyle.fill),e.attr("textBaseline","bottom"),u=o+this.options.offsetY,t.attr("fill",this.options.bottomStyle.fill),t.attr("textBaseline","top"),l[0]=t.getBBox(),l[1]=e.getBBox())}l[0].maxY>s.maxY-8&&(u=s.maxY-4,t.attr("textBaseline","bottom")),t.attr("y",u),e.attr("y",c),this.plot.canvas.draw()},r);function r(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i(1),o=n.__importStar(i(2)),r=i(5),s=n.__importStar(i(0));function l(t,e){var i=t.getBBox(),n=i.minY+i.height/2,r=new o.Rect({attrs:{x:i.minX,y:n,width:i.width,height:0}});t.attr("clip",r),r.animate({height:i.height,y:i.minY},e.duration,e.easing,function(){t.attr("clip",null)},e.delay)}function u(t,e){var i,n,r=(n=t.id,s.each(a,function(t){t.id===n&&(i=t)}),i.attr("path")),o=s.clone(t.attr("path"));t.attr("path",r),t.animate({path:o},e.duration,e.easing,e.callback,100)}l.animationName="clipInFromCenterVertical",e.setShapeCache=function(t){a=t},u.animationName="updateFromCenterVertical",r.Animate.registerAnimation("appear","clipInFromCenterVertical",l),r.Animate.registerAnimation("update","updateFromCenterVertical",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(89)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="pie",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),O=i(2),k=n.__importStar(i(0));function P(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}var r=(o.prototype.draw=function(){var e=this;if(this.view&&!this.view.destroyed){var m=k.clone(this.view.get("filteredData"));this.halves=[[],[]],this.container=this.view.get("frontgroundGroup").addGroup();var x=this.view.get("elements")[0].getShapes(),t=this.view.get("coord"),b=this.fields[0],_=this.view.get("scales")[b],M=t.center,i=t.startAngle,w=t.getRadius(),n=this.view.get("panelRange"),r=n.width,o=n.height;this.width=r,this.height=o;for(var S=i,a=function(t){var e=m[t],i=_.scale(e[b]),n=S+2*Math.PI*i,r=S+(n-S)/2;S=n;var o=P(M,r,w+0),a=P(M,r,w+15),s="#CCC";if(2===C.fields.length){var l=C.fields[1],u=C.view.get("scales")[l].scale(e[l]),c=Math.floor(u*(x.length-1));s=x[c].attr("fill")}var h={_anchor:o,_inflection:a,_data:e,x:a.x,y:a.y,r:w+15,fill:s,textGroup:null,_side:null},p=[];if(k.each(C.fields,function(t){p.push(e[t])}),C.formatter){var f=C.formatter(e[b],{_origin:e,color:s},t);k.isString(f)&&(f=[f]),p=f}var d=new O.Group,g={x:0,y:0,fontSize:C.config.text.fontSize,lineHeight:C.config.text.fontSize,fontWeight:C.config.text.fontWeight,fill:C.config.text.fill},v=e[b];C.formatter&&(v=p[0]);var y=k.clone(g);2===p.length&&(y.fontWeight=700),d.addShape("text",{attrs:k.mix({textBaseline:2===p.length?"top":"middle",text:v},y),data:e,offsetY:2===p.length?2:0,name:"label"}).name="label",2===p.length&&(d.addShape("text",{attrs:k.mix({textBaseline:"bottom",text:p[1]},g),data:e,offsetY:-2,name:"label"}).name="label"),h.textGroup=d,o.x<M.x?(h._side="left",C.halves[0].push(h)):(h._side="right",C.halves[1].push(h))},C=this,s=0;s<m.length;s++)a(s);var l=Math.floor(o/this.config.lineHeight);k.each(this.halves,function(t){t.length>l&&t.splice(l,t.length-l),t.sort(function(t,e){return t.y-e.y}),e._antiCollision(t)}),this.view.get("canvas").draw()}},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},o.prototype._antiCollision=function(i){var n,r=this,t=this.view.get("coord"),e=t.getHeight(),o=t.center,a=t.getRadius(),s=o.y-a-15-this.config.lineHeight,l=!0,u=e,c=0,h=Number.MIN_VALUE,p=0,f=i.map(function(t){var e=t.y;c<e&&(c=e),e<h&&(h=e);var i=t.textGroup.getBBox().width;return p<=i&&(p=i),{size:r.config.lineHeight,targets:[e-s]}});for(u<c-s&&(u=c-s);l;)for(f.forEach(function(t){var e=(Math.min.apply(h,t.targets)+Math.max.apply(h,t.targets))/2;t.pos=Math.min(Math.max(h,e-t.size/2),u-t.size)}),l=!1,n=f.length;n--;)if(0<n){var d=f[n-1],g=f[n];d.pos+d.size>g.pos&&(d.size+=g.size,d.targets=d.targets.concat(g.targets),d.pos+d.size>u&&(d.pos=u-d.size),f.splice(n,1),l=!0)}n=0,f.forEach(function(t){var e=s;t.targets.forEach(function(){i[n].y=t.pos+e+r.config.lineHeight/2,e+=r.config.lineHeight,n++})});var v=[];i.forEach(function(t){var e=r._drawLabel(t);r.container.add(e),r._drawLabelLine(t,p),v.push(e)})},o.prototype._drawLabel=function(t){var e=this.view.get("coord"),i=e.getCenter(),n=e.getRadius(),r=(this.width,t.y),o=t.textGroup,a=o.get("children"),s="left"===t._side?1:-1,l={textAlign:"left"===t._side?"right":"left",x:"left"===t._side?i.x-n-this.config.sidePadding:i.x+n+this.config.sidePadding};return this.offsetX&&(l.x+=this.offsetX*s),a.forEach(function(t){var e=t.get("offsetY"),i=r+e;t.attr(l),t.attr("y",i)}),o},o.prototype._drawLabelLine=function(t,e){var i=[t._anchor.x,t._anchor.y],n=[t._inflection.x,t._inflection.y],r=(t.fill,t.y),o=t.textGroup;if(o){var a=["left"===t._side?o.getBBox().maxX+4:o.getBBox().minX-4,r],s=[i,n,a];if(n[1]!==r)if(n[1]<r){var l=a[0]+e+15,u=a[0]-e-15,c=["left"===t._side?l:u,n[1]],h=["left"===t._side?a[0]+e:a[0]-e,a[1]];s=[i,n,c,h,a],("right"===t._side&&c[0]<n[0]||"left"===t._side&&n[0]<c[0])&&(s=[i,h,a])}else s=[i,[n[0],r],a];for(var p=[],f=0;f<s.length;f++){var d=s[f],g="L";0===f&&(g="M"),p.push([g,d[0],d[1]])}this.container.addShape("path",{attrs:{path:p,lineWidth:this.config.lineWidth,stroke:this.config.lineStroke}})}},o.prototype._adjustConfig=function(t){t.text.fontSize&&(t.lineHeight=3*t.text.fontSize)},o);function o(t){this.view=t.view,this.fields=t.fields,this.formatter=t.formatter,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.config=k.assign({text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},lineWidth:.5,lineStroke:"rgba(0, 0, 0, 0.45)",sidePadding:20,lineHeight:32},k.pick(t.style,["lineStroke","lineWidth"])),t.style&&(this.config.text=k.mix(this.config.text,t.style)),this._adjustConfig(this.config),this._init()}e.default=r},function(t,c,e){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var i=e(1),h=i.__importStar(e(0)),s=document.createElement("canvas").getContext("2d");c.measureTextWidth=h.memoize(function(t,e){void 0===e&&(e={});var i=e.fontSize,n=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return s.font=[o,a,r,i+"px",n].join(" "),s.measureText(h.isString(t)?t:"").width},function(t,e){return e?i.__spreadArrays([t],h.values(e)).join(""):t}),c.getEllipsisText=function(t,e,i,n){var r,o=c.measureTextWidth("...",i);r=h.isString(t)?t:h.toString(t);var a,s,l=e,u=[];if(c.measureTextWidth(t,i)<=e)return t;for(;a=r.substr(0,16),!((s=c.measureTextWidth(a,i))+o>l&&l<s);)if(u.push(a),l-=s,!(r=r.substr(16)))return u.join("");for(;a=r.substr(0,1),!((s=c.measureTextWidth(a,i))+o>l);)if(u.push(a),l-=s,!(r=r.substr(1)))return u.join("");return u.join("")+"..."}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(5),l=r.__importStar(i(0)),v=i(33),a=r.__importDefault(i(54)),s=i(90),u=(n=a.default,r.__extends(c,n),c.prototype.adjustPosition=function(t,e,i,n){this._adjustLabelPosition(t,e,i,n)},c.prototype.adjustLines=function(t,e,r,o,a){var s=this;l.each(t,function(t,e){var i=r[e],n=s._getLinePath(t,o,a);i.attr("path",n),i.set("visible",t.get("visible"))})},c.prototype.getOffsetOfLabel=function(){var t=this.get("labelOptions").offset;return void 0===t?s.DEFAULT_OFFSET:t<=s.CROOK_DISTANCE?1:t-s.CROOK_DISTANCE},c.prototype._adjustLabelPosition=function(t,a,e,i){var s=this,l=e.getCenter(),u=e.getRadius(),c=this.getCrookDistance();t.forEach(function(t,e){var i=a[e],n=s.getOffsetOfLabel(),r=v.getEndPoint(l,i.angle,u+n),o="left"===i.textAlign;t.attr("x",r.x+(o?2*c:2*-c)),t.attr("y",r.y)})},c.prototype._getLinePath=function(e,t,i){var n=this.getLabelOptions(),r=!!n.line&&n.line.smooth,o=this.anchors.find(function(t){return t.id===e.id}),a=o.angle,s=t.getCenter(),l=t.getRadius(),u=v.getEndPoint(s,a,l),c=this.getOffsetOfLabel(),h="left"===o.textAlign,p=v.getEndPoint(s,a,l+c),f=this.getCrookDistance()*(h?1:-1),d={x:e.attr("x")-f,y:e.attr("y")},g="";return g=["M "+u.x,u.y+" Q"+p.x,p.y+" "+d.x,d.y].join(","),!1===r&&(g=["M "+u.x,u.y+" L"+p.x,p.y+" H"+d.x].join(",")),g},c.prototype.getDefaultOffset=function(t){var e=n.prototype.getDefaultOffset.call(this,t);return void 0===e?s.DEFAULT_OFFSET:e<=s.CROOK_DISTANCE?1:e-s.CROOK_DISTANCE},c.prototype.getCrookDistance=function(){var t=this.get("labelOptions").offset;return t<2*s.CROOK_DISTANCE?t/2:s.CROOK_DISTANCE},c);function c(){return null!==n&&n.apply(this,arguments)||this}o.registerElementLabels("outer-center",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onPieClick:"interval:click",onPieDblclick:"interval:dblclick",onPieMousemove:"interval:mousemove",onPieMouseenter:"interval:mouseenter",onPieMouseleave:"interval:mouseleave",onPieMousedown:"interval:mousedown",onPieMouseup:"interval:mouseup",onPieContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(20).registerTheme("pie",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(232)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="ring",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importStar(i(0)),r=i(7),a=n.__importDefault(i(89)),s=n.__importDefault(i(233));i(236);var l,u=n.__importStar(i(237)),c=n.__importStar(i(238)),h={ring:"interval"},p={interval:"ring"},f=(l=a.default,n.__extends(d,l),d.getDefaultOptions=function(){return o.deepMix({},l.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,statistic:{visible:!0,triggerOn:"mouseenter",triggerOff:"mouseleave"}})},d.prototype.getOptions=function(t){var e=l.prototype.getOptions.call(this,t),i=this.constructor.getDefaultOptions();return o.deepMix({},e,i,t)},d.prototype.beforeInit=function(){l.prototype.beforeInit.call(this),d.centralId++,this.statisticClass="statisticClassId"+d.centralId;var t=this.options;t.responsive&&"auto"!==t.padding&&this.applyResponsive("preRender")},d.prototype.afterInit=function(){var r=this;if(l.prototype.afterInit.call(this),this.statistic&&this.statistic.visible&&this.statistic.triggerOn){var t=this.statistic.triggerOn;this.view.on("interval:"+t,o.debounce(function(t){var e=r.parseStatisticData(t.data._origin),i=r.getStatisticHtmlString(e);document.getElementsByClassName(r.statisticClass)[0].innerHTML=i},150));var e=this.statistic.triggerOff?this.statistic.triggerOff:"mouseleave";this.view.on("interval:"+e,o.debounce(function(t){var e=r.getTotalValue(),i=r.parseStatisticData(e),n=r.getStatisticHtmlString(i);document.getElementsByClassName(r.statisticClass)[0].innerHTML=n},150))}},d.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},d.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coord",e)},d.prototype.annotation=function(){var t=[],e=this.options;if(e.statistic&&e.statistic.visible){var i=this.drawStatistic(e.statistic);t.push(i),this.statistic=i}this.setConfig("annotations",t)},d.prototype.parseEvents=function(t){l.prototype.parseEvents.call(this,c)},d.prototype.drawStatistic=function(t){var e,i,n=o.deepMix({},{type:"html",top:!0,position:["50%","50%"],triggerOn:"mouseenter"},t);if(t.content)e=t.content;else{var r=this.getTotalValue();e=this.parseStatisticData(r)}return i=t.htmlContent?t.htmlContent(e):this.getStatisticTemplate(e),n.html=i,n.triggerOn&&this.setConfig("tooltip",!1),n},d.prototype.getTotalValue=function(){var t,e=this.options,i=0;return o.each(e.data,function(t){"number"==typeof t[e.angleField]&&(i+=t[e.angleField])}),(t={})[e.angleField]=i,t[e.colorField]="总计",t},d.prototype.parseStatisticData=function(t){var e=this.options,i=e.angleField;return e.colorField?{name:t[e.colorField],value:t[i]}:t[i]},d.prototype.getStatisticTemplate=function(t){var e,i=this.getStatisticSize();return o.isString(t)?e=u.getSingleDataTemplate(t,this.statisticClass,i):o.isObject(t)&&2===o.keys(t).length&&(e=u.getTwoDataTemplate(t.name,t.value,this.statisticClass,i)),e},d.prototype.getStatisticHtmlString=function(t){var e,i=this.statistic.triggerOn;return o.isString(i)&&(e=this.getStatisticTemplate(t)),o.isFunction(i)&&(e=i(t),e='<div class="ring-guide-html '+this.statisticClass+'">'+e+"</div>"),e},d.prototype.applyResponsive=function(t){var e=this,i=s.default[t];o.each(i,function(t){t.method(e)})},d.prototype.getStatisticSize=function(){return this.width*this.options.radius},d.prototype.adjustLabelDefaultOptions=function(t){var e=n.__assign({},t.label);if(e&&"inner"===e.type){var i=e.style||{};i.textAlign||(i.textAlign="center"),e.style=i,e.offset||(e.offset=(t.innerRadius-1)/2*100+"%")}return e},d.centralId=0,d);function d(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="ring",t}e.default=f,r.registerPlotType("ring",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveRing",method:i(1).__importDefault(i(234)).default}];e.default={preRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),c=i(24),h=n.__importDefault(i(235)),p=n.__importDefault(i(48));e.default=function(t){var e=t.options,i=t.getResponsiveTheme(),n=e.padding,r=e.radius?e.radius:1,o=t.width,a=t.height,s={radius:r,coord:new(c.getCoordinate("polar"))({radius:r,start:{x:n[3],y:n[0]},end:{x:o-n[1],y:a-n[2]}})},l=new h.default({nodes:[{name:"innerRadius",value:0}]}),u=i.ring.constraints;new p.default({nodes:l,constraints:u,region:s,plot:t,onEnd:function(){e.innerRadius=l.nodes[0].value}})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=(o.prototype.normalize=function(){},o);function o(t){this.type="variable",n.assign(this,t)}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(30).registerResponsiveTheme("ring",{ring:{constraints:[{name:"ringThickness"},{name:"minRingThickness"}]}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="color:#8c8c8c;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",o="font-size:32px;font-weight:bold;color:#4D4D4D";e.getSingleDataTemplate=function(t,e,i){return'<div class="ring-guide-html '+e+'" style='+r+"width:"+i+'px;><span class="ring-guide-value" style='+o+">"+t+"</span></div>"},e.getTwoDataTemplate=function(t,e,i,n){return'<div class="ring-guide-html '+i+'" style='+r+"width:"+n+'px;><span class="ring-guide-name" style=font-weight:300;>'+t+'</span><br/><span class="ring-guide-value" style='+o+">"+e+"</span></div>"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onRingClick:"interval:click",onRingDblclick:"interval:dblclick",onRingMousemove:"interval:mousemove",onRingMouseenter:"interval:mouseenter",onRingMouseleave:"interval:mouseleave",onRingMousedown:"interval:mousedown",onRingMouseup:"interval:mouseup",onRingContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(240)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="radar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=i(7),s=r.__importDefault(i(8)),l=i(9),u=i(12),c=i(17),h=r.__importStar(i(241)),p={area:"area",line:"line",point:"point"},f=(n=s.default,r.__extends(d,n),d.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,style:{lineDash:[0,0]}},label:{visible:!0,offset:8},title:{visible:!1}},radiusAxis:{min:0,visible:!0,autoHideLabel:!1,autoRotateLabel:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,style:{lineDash:[0,0]}},label:{visible:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,crosshairs:null}})},d.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,n.prototype.init.call(this)},d.prototype.getOptions=function(t){var e=n.prototype.getOptions.call(this,t),i=this.constructor.getDefaultOptions();return o.deepMix({},e,i,t)},d.prototype.geometryParser=function(t,e){return p[e]},d.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},o.has(t,"angleAxis")&&c.extractScale(e[t.angleField],t.angleAxis),e[t.radiusField]={},o.has(t,"radiusAxis")&&c.extractScale(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),n.prototype.scale.call(this)},d.prototype.coord=function(){var t={type:"polar",cfg:{radius:this.options.radius}};this.setConfig("coord",t)},d.prototype.axis=function(){var t=this.options,e=l.getComponent("axis",{plot:this,dim:"angle"}),i=l.getComponent("axis",{plot:this,dim:"radius"}),n={fields:{}};n.fields[t.angleField]=e,n.fields[t.radiusField]=i,this.setConfig("axes",n)},d.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=u.getGeom("area","main",{plot:this});this.setConfig("element",e),this.area=e}if(t.line&&t.line.visible){var i=u.getGeom("line","guide",{plot:this});this.setConfig("element",i),this.line=i}if(t.point&&t.point.visible){var n=u.getGeom("point","guide",{plot:this});this.setConfig("element",n),this.point=n}},d.prototype.label=function(){},d.prototype.annotation=function(){},d.prototype.animation=function(){n.prototype.animation.call(this),!1===this.options.animation&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},d.prototype.parseEvents=function(t){n.prototype.parseEvents.call(this,h)},d);function d(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="radar",t}e.default=f,a.registerPlotType("radar",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineContextmenu:"line:contextmenu",onPointClick:"point:click",onPointDblclick:"point:dblclick",onPointMousemove:"point:mousemove",onPointMouseenter:"point:mouseenter",onPointMouseleave:"point:mouseleave",onPointMousedown:"point:mousedown",onPointMouseup:"point:mouseup",onPointContextmenu:"point:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(243)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="liquid",n.prototype.createLayers.call(this,e)},u.prototype.changeValue=function(e,t){if(void 0===t&&(t=!1),t)this.eachLayer(function(t){t instanceof s.default&&t.changeValue(e)});else{var i=this.layers[0];i instanceof s.default&&i.changeValue(e)}},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=n.__importStar(i(0)),c=i(2),r=i(7),o=n.__importDefault(i(8)),a=i(12),l=i(17);i(244),i(245);var h,u=i(21),p={column:"interval"},f={interval:"liquid"},d=(h=o.default,n.__extends(g,h),g.getDefaultOptions=function(){return s.deepMix({},h.getDefaultOptions.call(this),{animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2}})},g.prototype.beforeInit=function(){var t=this.options,e=t.min,i=t.max,n=t.value;if(!s.isNumber(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!s.isNumber(i))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!s.isNumber(n))throw new Error("The value of Liquid is required, and the type of value must be Number.")},g.prototype.init=function(){this.options.data=[{}],h.prototype.init.call(this)},g.prototype.coord=function(){},g.prototype.scale=function(){var t=this.options,e=t.min,i=t.max,n={value:{}};l.extractScale(n.value,{min:Math.min(e,i),max:Math.max(e,i)}),this.setConfig("scales",n),h.prototype.scale.call(this)},g.prototype.axis=function(){this.setConfig("axes",!1)},g.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var i=e.liquidStyle;s.isFunction(i)&&(i=i()),i&&(t.style=i)},g.prototype.addGeometry=function(){var t=a.getGeom("interval","main",{positionFields:["_","value"],plot:this});this.adjustLiquid(t),this.liquid=t,this.setConfig("element",t)},g.prototype.animation=function(){var t=this.options;if(!1===t.animation)this.liquid.animate=!1;else{var e=s.get(t,"animation.factor"),i=s.get(t,"animation.easing"),n=s.get(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:i,duration:n}}}},g.prototype.geometryParser=function(t,e){return"g2"===t?p[e]:f[e]},g.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},g.prototype.extractStatistic=function(){var t,e,i,n,r=this.options,o=r.statistic||{};(t=s.isFunction(o.formatter)?o.formatter(r.value):""+r.value)&&(e=.8*(r.width<r.height?.8*r.width:r.height)/t.length,i=Math.max(1,Math.ceil(.025*e))),!1===o.visible&&(n=0);var a=s.deepMix({style:{fontSize:e,shadowBlur:i}},o,{top:!0,content:t,type:"text",position:["_","median"],style:{opacity:n,fill:"transparent",shadowColor:"transparent",textAlign:"center"}});return delete a.visible,delete a.formatter,delete a.adjustColor,a},g.prototype.afterRender=function(){this.fadeInAnnotation();var t=this.options,e=t.padding?t.padding:this.config.theme.padding;t.defaultState&&"auto"!==e&&this.stateController.defaultStates(t.defaultState),"auto"===e&&this.paddingController.processAutoPadding()},g.prototype.processData=function(t){return[{_:"_",value:this.options.value}]},g.prototype.changeValue=function(t){this.options.value=t,this.changeData([])},g.prototype.fadeInAnnotation=function(){var t=this,e=this.options.animation||{},i=this.view.annotation().annotations[0].get("el"),n=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?i.animate(n,e.duration*Math.min(1,1.5*e.factor),null,function(){t.shouldFadeInAnnotation=!1}):s.forIn(n,function(t,e){return i.attr(e,t)})},g.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#303030",shadowColor:"white"};if(!1===s.get(t,"statistic.adjustColor"))return{fill:s.get(t,"statistic.style.fill",e.fill),shadowColor:s.get(t,"statistic.style.shadowColor",e.shadowColor)};var i=t.min,n=t.max,r=t.value;if(.55<((i=Math.min(i,n))==(n=Math.max(i,n))?1:(r-i)/(n-i))){var o=this.view.get("elements")[0].get("container").find(function(t){return"waves"==t.get("name")}).getChildByIndex(0).attr("fill"),a=u.rgb2arr(o);return Math.round(.299*a[0]+.587*a[1]+.114*a[2])/.8<156?{fill:"#f6f6f6",shadowColor:"black"}:e}return e},g.prototype.updateConfig=function(t){h.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},g.prototype.getViewRange=function(){var t=h.prototype.getViewRange.call(this),e=this.options.liquidStyle,i=e.lineWidth?e.lineWidth:2,n=t.minX,r=t.minY,o=t.width,a=t.height,s=Math.min(o,a)-2*i,l=n+o/2-s/2,u=r+a/2-s/2;return new c.BBox(l,u,s,s)},g);function g(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}e.default=d,r.registerPlotType("liquid",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function y(t,e,i){return(1-i)*t+i*e}function m(t){var e,i,n=b.Global.theme.shape.hollowInterval,r=_.mix({},n,t.style);return e=r,(i=t).color&&!e.stroke&&(e.stroke=i.color),_.isNumber(i.opacity)&&(e.opacity=e.strokeOpacity=i.opacity),r}var n=i(1),x=i(2),b=i(5),_=n.__importStar(i(0));function M(t,e,i,n,r,o,a){for(var s=2*Math.ceil(2*t/i*4),l=[],u=n;u<2*-Math.PI;)u+=2*Math.PI;for(;0<u;)u-=2*Math.PI;var c,h,p,f,d=o-t+(u=u/Math.PI/2*i)-2*t;l.push(["M",d,e]);for(var g=0,v=0;v<s;++v){var y=(c=v*i/4,p=i,f=r,0===(h=v%4)?[[c+.5*p/Math.PI/2,f/2],[c+.5*p/Math.PI,f],[c+p/4,f]]:1===h?[[c+.5*p/Math.PI/2*(Math.PI-2),f],[c+.5*p/Math.PI/2*(Math.PI-1),f/2],[c+p/4,0]]:2===h?[[c+.5*p/Math.PI/2,-f/2],[c+.5*p/Math.PI,-f],[c+p/4,-f]]:[[c+.5*p/Math.PI/2*(Math.PI-2),-f],[c+.5*p/Math.PI/2*(Math.PI-1),-f/2],[c+p/4,0]]);l.push(["C",y[0][0]+d,-y[0][1]+e,y[1][0]+d,-y[1][1]+e,y[2][0]+d,-y[2][1]+e]),v===s-1&&(g=y[2][0])}return l.push(["L",g+d,a+t]),l.push(["L",d,a+t]),l.push(["L",d,e]),l}b.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var i=0,n=1/0;_.each(t.points,function(t){t.x<n&&(n=t.x),i+=t.x});var r,o,a,s,l,u=i/t.points.length,c=this.parsePoint({x:u,y:.5}),h=this.parsePoint({x:n,y:.5}),p=c.x-h.x,f=Math.min(p,h.y),d=(r=t,s=b.Global.theme.shape.interval,l=_.mix({},s,r.style),o=l,(a=r).color&&!o.fill&&(o.fill=a.color),_.isNumber(a.opacity)&&(o.opacity=o.fillOpacity=a.opacity),r.color&&!l.stroke&&(l.stroke=l.stroke||r.color),l.fill),g=new x.Circle({attrs:{x:c.x,y:c.y,r:f}}),v=e.addGroup({name:"waves",attrs:{x:c.x,y:c.y,clip:g}});return function(t,e,i,n,r,o,a){for(var s=o.getBBox(),l=s.maxX-s.minX,u=s.maxY-s.minY,c=0;c<3;c++){var h=c/2,p=r.addShape("path",{attrs:{path:M(a,s.minY+u*i,l/4,0,l/y(56,64,h),t,e),fill:n,clip:o,opacity:y(.6,.3,h)}});"canvas"===b.Global.renderer&&p.animate({transform:[["t",l/2,0]],repeat:!0},y(5e3,3500,h))}}(c.x,c.y,1-t.points[1].y,d,v,g,4*f),e.addShape("circle",{name:"wrap",attrs:_.mix(m(t),{x:c.x,y:c.y,r:f,fill:"transparent"})})}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(5),d=n.__importStar(i(0));function o(t,e){var i=t.get("parent"),n=i.getBBox(),r=Math.min(Math.max(0,d.get(e,"factor",.5)),1),o=d.get(e,"delay",0),a=d.get(e,"duration",800),s=e.callback,l=(n.minX+n.maxX)/2,u=n.maxY,c=i.find(function(t){return"wrap"==t.get("name")}),h=c.attr("opacity");c.attr("opacity",0),c.animate({opacity:h},a*r,"easeLinear",null,o);var p=i.find(function(t){return"waves"==t.get("name")}),f=d.clone(p.attr("matrix"));p.attr("transform",[["t",-l,-u],["s",1,0],["t",l,u]]),p.animate({matrix:f},a,e.easing,function(){return s&&s(i,c,p)},o)}o.animationName="liquidMoveIn",r.Animate.registerAnimation("appear","liquidMoveIn",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(247)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="gauge",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=n.__importStar(i(0)),r=i(7),o=n.__importDefault(i(8)),a=i(17);i(248),i(249);var f,s=(f=o.default,n.__extends(l,f),l.getDefaultOptions=function(){return p.deepMix({},f.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,range:[0,25,50,75,100],gaugeStyle:{tickLineColor:"rgba(0,0,0,0)",pointerColor:"#bfbfbf",statisticPos:["50%","100%"]}})},l.prototype.init=function(){var t=this.options,e=t.value,i=t.range.map(function(t){return+t}).sort(function(t,e){return t-e}),n=this.options,r=n.min,o=void 0===r?i[0]:r,a=n.max,s=void 0===a?i[i.length-1]:a,l=n.format,u=void 0===l?function(t){return""+t}:l,c=u(e),h=this.getStyleMix();this.options.styleMix=h,this.options.data=[{value:e||0}],this.options.valueText=c,this.options.min=o,this.options.max=s,this.options.format=u,f.prototype.init.call(this)},l.prototype.geometryParser=function(t,e){throw new Error("Method not implemented.")},l.prototype.getStyleMix=function(){var t=this.options.gaugeStyle,e=void 0===t?{}:t,i=this.width,n=this.height,r=Math.max(i,n)/20,o=Object.assign({},this.theme,{stripWidth:r,tickLabelSize:r/2,statisticSize:1.5*r});return Object.assign(o,e)},l.prototype.scale=function(){var t=this.options,e=t.min,i=t.max,n=t.format,r=t.styleMix,o={value:{}};a.extractScale(o.value,{min:e,max:i,minLimit:e,maxLimit:i,nice:!0,formatter:n,tickInterval:r.tickInterval}),this.setConfig("scales",o),f.prototype.scale.call(this)},l.prototype.coord=function(){var t={type:"polar",cfg:{radius:.9,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coord",t)},l.prototype.axis=function(){var t=this.options.styleMix,e="number"==typeof t.tickLabelPos?-t.tickLabelPos:"outer"===t.tickLabelPos?.8:-.8,i={fields:{value:{},1:{}}};i.fields.value={line:null,label:{offset:e*(t.stripWidth/1.8+t.tickLabelSize/1.5),textStyle:{fontSize:t.tickLabelSize,fill:t.tickLabelColor,textAlign:"center",textBaseline:"middle"}},tickLine:{length:e*(t.stripWidth+4),stroke:t.tickLineColor,lineWidth:2,lineDash:[0,t.stripWidth/2,Math.abs(e*(t.stripWidth+4))]},subTickCount:t.subTickCount,subTickLine:{length:e*(t.stripWidth+1),stroke:t.tickLineColor,lineWidth:1,lineDash:[0,t.stripWidth/2,Math.abs(e*(t.stripWidth+1))]},labelAutoRotate:!0},i.fields[1]=!1,this.setConfig("axes",i)},l.prototype.addGeometry=function(){var t={type:"point",position:{fields:["value","1"]},shape:{values:["pointer"]},color:{values:[this.options.styleMix.pointerColor||this.config.theme.defaultColor]},animate:!1};this.setConfig("element",t)},l.prototype.annotation=function(){var t=this.options,e=(t.min,t.max,t.statistic),i=t.range,n=t.styleMix,r=[];if(!1!==e){var o=this.renderStatistic();r.push(o)}var a=this.renderArcs(i,1,n),s=r.concat(a);this.setConfig("annotations",s)},l.prototype.renderArcs=function(r,o,a){var s=this,l=a.colors||this.config.theme.colors,t=r.length-1,u=[],c=[],h=n.__spreadArrays(Array(t).fill(0).map(function(t,e){return e}));return p.each(h,function(t){var e=t===h.length-1?0:s.calGapAngle(),i={type:"arc",start:[r[t],o],end:[r[t+1]-e,o],style:{stroke:l[t%l.length],lineWidth:a.stripWidth}},n=p.deepMix({},i,{style:{stroke:a.stripBackColor}});c.push(n),u.push(i)}),0!==r[0]&&c.push({type:"arc",start:[0,o],end:[r[0]-this.calGapAngle(),o],style:{stroke:a.stripBackColor,lineWidth:a.stripWidth}}),100!==r[r.length-1]&&c.push({type:"arc",start:[r[r.length-1]+this.calGapAngle(),o],end:[100,o],style:{stroke:a.stripBackColor,lineWidth:a.stripWidth}}),c.concat(u)},l.prototype.statisticHtml=function(){var t=this.options,e=t.value,i=t.format,n=this.options.statistic,r=i(e);return"boolean"==typeof n&&!0===n?null!==e?r:"--":"string"==typeof n?n:"function"==typeof n?n(e,r):null},l.prototype.renderStatistic=function(){var t=this.options,e=t.statistic,i=t.styleMix,n=this.statisticHtml();return"function"!=typeof e?{type:"text",content:n,top:!0,position:i.statisticPos,style:{fill:i.statisticColor,fontSize:i.statisticSize,textAlign:"center"}}:"function"==typeof e?{type:"html",zIndex:10,position:i.statisticPos,html:n}:void 0},l.prototype.calGapAngle=function(){var t=Math.abs(this.options.startAngle-this.options.endAngle)/Math.PI*100;return 1/(this.width/2*.9)*t},l);function l(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="gauge",t}e.default=s,r.registerPlotType("gauge",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(5).registerShape("point","pointer",{draw:function(t,e){var i=t.points[0],n=this.parsePoint({x:0,y:0}),r=this.parsePoint({x:i.x,y:.5}),o={x:n.x-r.x,y:n.y-r.y},a=Math.sqrt(o.x*o.x+o.y*o.y);o.x*=1/a,o.y*=1/a;var s=-Math.PI/2,l=Math.cos(s)*o.x-Math.sin(s)*o.y,u=Math.sin(s)*o.x+Math.cos(s)*o.y,c=Math.PI/2,h=Math.cos(c)*o.x-Math.sin(c)*o.y,p=Math.sin(c)*o.x+Math.cos(c)*o.y,f=Math.atan2(o.y,o.x),d=n.x+-8*Math.cos(f),g=n.y+-8*Math.sin(f),v=[["M",r.x+l,r.y+u],["L",d+3*l,g+3*u],["L",d+3*h,g+3*p],["L",r.x+h,r.y+p],["Z"]];return e.addShape("circle",{attrs:{x:n.x,y:n.y,r:10,lineWidth:4,stroke:t.color}}),e.addShape("path",{attrs:{path:v,fill:t.color}})}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(20).registerTheme("gauge",{stripWidth:30,stripBackColor:"#ddd",tickInterval:20,tickLabelPos:"inner",tickLabelSize:16,tickLabelColor:"#aaa",tickLineColor:"#aaa",subTickCount:4,labelPos:["50%","80%"],labelColor:"#666",labelSize:30})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(49)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="area",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(92)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackArea",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(2),o=i(5),g=i(0);function s(e,t,i){var n=t[0],r=t[t.length-1];g.each(t,function(t){if(t.x===e)return t.y[i];t.x<e&&t.x>n.x&&(n=t),t.x>e&&t.x<r.x&&(r=t)});var o=(e-n.x)/(r.x-n.x);return n.y[i]*(1-o)+r.y[i]*o}function v(t,e){var i;for(i=0;i<t.length;i++){var n=t[i];if(n.x===e||n.x>e)break}return i}var a,l=(a=o.ElementLabels,n.__extends(u,a),u.prototype.showLabels=function(t,e){var n=this,i=this.get("labelOptions").plot.options.stackField;if(i){var r=this._groupPoints(t,i),o=[];g.each(r,function(t,e){var i=n._drawLabel(t,e);i&&(o.push(g.mix({},t[0],i)),n.scaleFactor.push(i.scaleFactor))}),a.prototype.showLabels.call(this,o,e),this.get("labelOptions").autoScale&&this._adjuestLabelSize()}else a.prototype.showLabels.call(this,t,e)},u.prototype._groupPoints=function(t,i){var n={};return g.each(t,function(t){var e=t._origin[i];g.has(n,e)||(n[e]=[]),n[e].push(t)}),n},u.prototype._drawLabel=function(t,e){var i,n,r,o,a=(i=t,r=1/0,o=n=-1/0,g.each(i,function(t){r=Math.min(t.x,r),o=Math.max(t.x,o);var e=Math.abs(t.y[0]-t.y[1]);n=Math.max(n,e)}),{xRange:[r,o],maxHeight:n}),s=a.xRange,l=a.maxHeight,u=s[1]-s[0],c=this._getInterpolatedPoints(s[0],u,t),h=this._getLabelBbox(e),p={xRange:s,aspect:h.width/h.height,data:c,justTest:!0},f=this._bisection(12,l,this._testFit,p,.01,100);if(null!==f){p.justTest=!1;var d=this._testFit(p);return d.x=d.x,d.y=d.y0+(d.y1-d.y0)/2,d.scaleFactor=f/h.height*.4,d}},u.prototype._getInterpolatedPoints=function(t,e,i){for(var n=[],r=t;r<e;r+=2){var o=s(r,i,0),a=s(r,i,1);n.push({x:r,y:[o,a]})}return n},u.prototype._bisection=function(t,e,i,n,r,o){for(var a=0;a<o;a++){var s=(t+e)/2,l=n;l.height=s,l.width=s*l.aspect;var u=i(l);if(u&&(e-t)/2<r)return s;u?t=s:e=s}return null},u.prototype._testFit=function(t){for(var e=t.xRange,i=t.width,n=t.height,r=t.data,o=t.justTest,a=0;a<r.length;a++){var s=r[a].x,l=s+i;if(l>e[1])break;for(var u=v(r,l),c=-1/0,h=null,p=1/0,f=a;f<u;f++){var d=r[f].y[1],g=r[f].y[0];if(g<p&&(p=g),c<d&&(c=d,h=g),p-c<n)break}if(n<=p-c)return!!o||{x:s,y0:c,y1:h,width:i,height:n}}return!1},u.prototype._getLabelBbox=function(t){var e=this.get("labelOptions").plot,i=g.clone(e.theme.label.textStyle);return i.fontSize=12,new r.Text({attrs:n.__assign({text:t,x:0,y:0},i)}).getBBox()},u.prototype._adjuestLabelSize=function(){var n=this,t=this.get("labelsRenderer").get("group").get("children"),e=this.get("element").get("view");g.each(t,function(t,e){var i=n.scaleFactor[e];t.attr("fontSize",12),t.transform([["t",-t.attr("x"),-t.attr("y")],["s",i,i],["t",t.attr("x"),t.attr("y")]])}),e.get("canvas").draw()},u);function u(){var t=null!==a&&a.apply(this,arguments)||this;return t.scaleFactor=[],t}o.registerElementLabels("area",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(5),s=i(0),a=(n=o.ElementLabels,r.__extends(l,n),l.prototype.showLabels=function(t,r){var o=this,a=[];s.each(r,function(t){var e=t.get("origin"),i=s.deepMix({},e[e.length-1]),n=t.getBBox();i.x=n.maxX+10,i.y=i.y[1],a.push(i)}),n.prototype.showLabels.call(this,a,r);var e=this.get("labelsRenderer").get("group").get("children"),i=this.get("element").get("view");s.each(e,function(t){t.attr("textAlign","left"),t.attr("textBaseline","middle");var e=t.get("origin"),i=o.get("element").getShapeId(e),n=o._adjustColor(i,r);t.attr("fill",n)}),i.get("canvas").draw()},l.prototype._adjustColor=function(e,t){var i;return s.each(t,function(t){t.id===e&&(i=t.attr("fill"))}),i},l);function l(){return null!==n&&n.apply(this,arguments)||this}o.registerElementLabels("areaLine",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(255)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentageStackArea",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=i(7),s=r.__importDefault(i(92)),l=i(52),u=(n=s.default,r.__extends(c,n),c.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){return t.replace(/%/gi,"")}}}})},c.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return l.transformDataPercentage(t,i,[n])},c.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=o.deepMix({},t,this.options.meta),n.prototype.scale.call(this)},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="percentageStackArea",t}e.default=u,a.registerPlotType("percentageStackArea",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(257)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="funnel",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),A=n.__importStar(i(0)),u=n.__importStar(i(3)),r=i(5),c=n.__importDefault(i(93)),o=i(7),a=n.__importDefault(i(8)),s=i(12);i(258),i(259),i(260),i(261),i(262),i(263);var l=n.__importDefault(i(264));function g(t,e,i){return(1-i)*t+i*e}var h,p={column:"interval"},f={interval:"funnel"},d=(h=a.default,n.__extends(v,h),v.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0,formatter:t&&(t.compareField||t.transpose)?function(t,e,i,n,r){return""+n}:function(t,e,i,n,r){return t+" "+n}},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"转化率",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,crosshairs:{type:"cross",style:{stroke:null}}},animation:A.deepMix({},r.Animate.defaultCfg,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}}};return A.deepMix({},h.getDefaultOptions.call(this),e)},v.prototype.coord=function(){var t=this.options,e={actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coord",e)},v.prototype.axis=function(){this.setConfig("axes",!1)},v.prototype.adjustFunnel=function(t){var e=this.options;t.shape={values:[e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect"]},t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},A.isFunction(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},v.prototype.tooltip=function(){var t=this.options;t.compareField&&A.deepMix(t.tooltip,{htmlContent:function(t,e){var o,a,r,i;o="g2-tooltip",a=u.createDom('<div class="'+o+'"></div>'),u.modifyCSS(a,c.default[o]);var n=a;if(t){o="g2-tooltip-title",a=u.createDom('<div class="'+o+'"></div>'),u.modifyCSS(a,c.default[o]),n.appendChild(a);var s=a;o="g2-tooltip-marker",a=u.createDom('<span class="'+o+'"></span>'),u.modifyCSS(a,c.default[o]),u.modifyCSS(a,{width:"10px",height:"10px"}),s.appendChild(a),i=a,a=u.createDom("<span>"+t+"</span>"),s.appendChild(a)}if(e){o="g2-tooltip-list",a=u.createDom('<ul class="'+o+'"></ul>'),u.modifyCSS(a,c.default[o]),n.appendChild(a);var l=a;e.reduce(function(i,t){r=r||t.color;var n=A.get(t,"point._origin.__compare__.compareValues");return A.get(t,"point._origin.__compare__.yValues").forEach(function(t,e){return i.push([n[e],t])}),i},[]).forEach(function(t,e){var i=t[0],n=t[1];o="g2-tooltip-list-item",a=u.createDom('<li class="'+o+'" data-index='+e+"></li>"),u.modifyCSS(a,c.default[o]),l.appendChild(a);var r=a;a=u.createDom("<span>"+i+"</span>"),r.appendChild(a),o="g2-tooltip-value",a=u.createDom('<span class="'+o+'">'+n+"</span>"),u.modifyCSS(a,c.default[o]),r.appendChild(a)})}return r&&i&&u.modifyCSS(i,{backgroundColor:r}),n}}),h.prototype.tooltip.call(this)},v.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});t.label&&(e.label=this.extractLabel()),this.adjustFunnel(e),this.funnel=e,this.setConfig("element",e)},v.prototype.animation=function(){var e=this,t=this.options;if(!1===t.animation)this.funnel.animate=!1,this.shouldShowLabels=!0;else{var i=A.get(t,"animation.appear.duration"),n=i/(this.getData().length||1);this.animationAppearTimeoutHandler&&(clearTimeout(this.animationAppearTimeoutHandler),delete this.animationAppearTimeoutHandler),this.animationAppearTimeoutHandler=setTimeout(function(){e._teardownAnimationMask(),e.shouldShowLabels=!0,e.fadeInPercentages(n),t.compareField&&e.fadeInCompareTexts(n),delete e.animationAppearTimeoutHandler},i),this.funnel.animate=A.deepMix({},t.animation,{appear:{animation:t.transpose?"funnelScaleInX":"funnelScaleInY",duration:n,reverse:t.dynamicHeight&&!t.transpose,callback:function(t){e.shouldShowLabels=!0,e.showLabels(t)}}})}},v.prototype.geometryParser=function(t,e){return"g2"===t?p[e]:f[e]},v.prototype.afterRender=function(){var t=this.options;if(this.resetPercentages(),t.compareField&&this.resetCompareTexts(),"auto"==t.padding){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var i=this._findCompareTextContainer();i&&this.paddingController.registerPadding(i,"inner",!0)}h.prototype.afterRender.call(this),this.animationAppearTimeoutHandler&&(this._setupAnimationMask(),t.compareField&&this.fadeInCompareTexts()),this.showLabels(),!1===t.animation&&(this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),this.legendsListenerAttached||(this.legendsListenerAttached=!0,this.view.get("legendController").container.on("mousedown",this._onLegendContainerMouseDown))},v.prototype.updateConfig=function(t){t=this.adjustProps(t),h.prototype.updateConfig.call(this,t),this.legendsListenerAttached=!1,this.shouldShowLabels=!1},v.prototype.changeData=function(t){var e=this.options;if(!1!==e.animation&&(this.shouldResetPercentages=!1,this.shouldResetCompareTexts=!1),e.dynamicHeight){var i=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(i)}e.compareField&&(t=this._reduceDataForCompare(t),i=this._findCheckedDataInNewData(t),this._updateDataForCompare(i)),h.prototype.changeData.call(this,t),this.refreshPercentages(),e.compareField&&this.refreshCompareTexts(),this._refreshAnimationMaskForPercentageRefresh()},v.prototype.extractLabel=function(){var t=this.options,e=t.label;return(!e||!1!==e.visible)&&new l.default(A.deepMix({textStyle:{stroke:null}},e,{plot:this,labelType:"funnelLabel",position:"middle",textStyle:{opacity:0},fields:[t.xField,t.yField]})).getConfig()},v.prototype.showLabels=function(i){this.shouldShowLabels&&this.view.get("elements").forEach(function(e){var t=e.get("labelController").labelsContainer;t&&t.get("labelsRenderer").get("group").get("children").forEach(function(t){i&&e.getShapeId(t.get("origin"))!=i.id||t.attr("opacity",1)})})},v.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&(A.set(t,"meta."+t.yField+".nice",!1),A.set(t,"tooltip.shared",!1)),t},v.prototype.resetPercentages=function(){var v=this;if(this.shouldResetPercentages){var y,m=this.options,t=m.percentage||{},x=t.offsetX,b=t.offsetY,_=t.spacing,e=t.line,M=void 0===e?{}:e,i=t.text,w=void 0===i?{}:i,n=t.value,S=void 0===n?{}:n,C=Date.now(),O=this._findPercentageContainer(!0),k=this.view.get("coord"),P=0;this.view.eachShape(function(u,t){if(0<P++){var e=t.getBBox(),i=e.minX,n=e.maxX,r=e.maxY,o=e.minY,a=k.invertMatrix(m.transpose?i:n,m.transpose?m.compareField?o:r:m.dynamicHeight?o:r,1),s=a[0],l=a[1],c=v._findPercentageMembersInContainerByShape(O,t,!0),h=c.line,p=c.text,f=c.value,d=[function(t,e,i,n,r){function o(){n&&(n.attr(A.deepMix({},w.style,{x:m.transpose?t+x:t-x-_-l-_,y:m.transpose?e-b-_:e-b,opacity:0,text:w.content,textAlign:m.transpose?"left":"right",textBaseline:m.transpose?"bottom":"middle"})),n.set("adjustTimestamp",C),s=n.getBBox().width)}function a(){r&&(r.attr(A.deepMix({},S.style,{x:m.transpose?t+x+s+_:t-x-_,y:m.transpose?e-b-_:e-b,opacity:0,text:A.isFunction(S.formatter)?m.compareField?S.formatter(A.get(y,"__compare__.yValues.0"),A.get(u,"__compare__.yValues.0")):S.formatter(y[m.yField],u[m.yField]):"",textAlign:m.transpose?"left":"right",textBaseline:m.transpose?"bottom":"middle"})),r.set("adjustTimestamp",C),l=r.getBBox().width)}i&&(i.attr(A.deepMix({},M.style,{x1:t,y1:e,x2:m.transpose?t+x:t-x,y2:e-b,opacity:0})),i.set("adjustTimestamp",C));var s=0,l=0;m.transpose?(o(),a()):(a(),o())},function(t,e,i,n,r){i&&(i.attr(A.deepMix({},M.style,{x1:t,y1:e,x2:t+x,y2:!m.transpose||m.compareField?e+b:e-b,opacity:0})),i.set("adjustTimestamp",C));var o=0;n&&(n.attr(A.deepMix({},w.style,{x:m.transpose?t+x:t+x+_,y:m.transpose?m.compareField?e+b+_:e-b-_:e+b,opacity:0,text:w.content,textAlign:"left",textBaseline:m.transpose?m.compareField?"top":"bottom":"middle"})),n.set("adjustTimestamp",C),o=n.getBBox().width),r&&(r.attr(A.deepMix({},S.style,{x:m.transpose?t+x+o+_:t+x+_+o+_,y:m.transpose?m.compareField?e+b+_:e-b-_:e+b,opacity:0,text:A.isFunction(S.formatter)?m.compareField?S.formatter(A.get(y,"__compare__.yValues.1"),A.get(u,"__compare__.yValues.1")):S.formatter(y[m.yField],u[m.yField]):"",textAlign:"left",textBaseline:m.transpose?m.compareField?"top":"bottom":"middle"})),r.set("adjustTimestamp",C))}];if(m.compareField){var g=k.invertMatrix(i,r,1);[[g[0],g[1]],[s,l]].forEach(function(t,e){var i=t[0],n=t[1];return d[e](i,n,h&&h[e],p&&p[e],f&&f[e])})}else d[1](s,l,h,p,f)}y=u}),O.get("children").forEach(function(t){t.get("adjustTimestamp")!=C&&(t.attr({opacity:0}),O.set(t.get("id"),null),setTimeout(function(){return t.remove()}))})}},v.prototype.fadeInPercentages=function(l,t){function e(o){var s={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};u.view.eachShape(function(t,e){function i(t){if(t&&"text"==t.get("type")){var e=t.getBBox(),i=e.minX,n=e.maxX,r=e.minY,o=e.maxY;i<a.minX&&(a.minX=i),n>a.maxX&&(a.maxX=n),r<a.minY&&(a.minY=r),o>a.maxY&&(a.maxY=o)}}var n=u._findPercentageMembersInContainerByShape(c,e),a={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};if(A.each(n,function(t){return A.isArray(t)?i(t[o]):i(t)}),a.minX>s.maxX||a.maxX<s.minX||a.minY>s.maxY||a.maxY<s.minY){var r=function(t){if(t){var e={opacity:1};l?t.animate(e,l):t.attr(e)}};A.each(n,function(t){return A.isArray(t)?r(t[o]):r(t)}),A.assign(s,a)}})}var u=this,i=this.options,c=this._findPercentageContainer();i.compareField?[0,1].forEach(e):e(),l&&t&&setTimeout(t,l)},v.prototype.fadeOutPercentages=function(r,t){var o=this,a=this._findPercentageContainer();this.view.eachShape(function(t,e){function i(t){if(t){var e={opacity:0};r?t.animate(e,r):t.attr(e)}}var n=o._findPercentageMembersInContainerByShape(a,e);A.each(n,function(t){return A.isArray(t)?t.forEach(i):i(t)})}),r&&t&&setTimeout(t,r)},v.prototype.refreshPercentages=function(t){var e=this;if(!1!==this.options.animation){var i=this._calcRefreshFadeDurations(),n=i.fadeOutDuration,r=i.fadeInDuration;this.shouldResetPercentages=!1,this.fadeOutPercentages(n,function(){e.shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(r,t)})}},v.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=A.get(t,"animation.update.duration"),i=A.get(t,"animation.enter.duration");return{fadeInDuration:.6*Math.min(i,e),fadeOutDuration:1.2*Math.max(i,e)}},v.prototype._findPercentageContainer=function(t){var e;if(void 0===t&&(t=!1),this.view){var i=this.view.get("elements");if(i.find(function(t){return e=t.get("percentageContainer")}),!e&&t&&i.length){var n=i[0];e=n.get("container").addGroup(),n.set("percentageContainer",e)}}return e},v.prototype._findPercentageMembersInContainerByShape=function(n,r,o){void 0===o&&(o=!1);var t=this.options,e=t.percentage||{},i=e.line,a=e.text,s=void 0===a?{}:a,l=e.value,u=void 0===l?{}:l,c={line:void 0,text:void 0,value:void 0};if(!1===e.visible||!n)return c;if(!1!==(void 0===i?{}:i).visible){var h=function(t){var e="_percentage-line-"+r.id+"-"+t,i=n.get(e);return!i&&o&&(i=n.addShape("line",{id:e}),n.set(e,i)),i},p=t.compareField?[0,1].map(h):h(0);c.line=p}if(!1!==s.visible){h=function(t){var e="_percentage-text-"+r.id+"-"+t,i=n.get(e);return!i&&o&&(i=n.addShape("text",{id:e}),n.set(e,i)),i};var f=t.compareField?[0,1].map(h):h(0);c.text=f}if(!1!==u.visible){h=function(t){var e="_percentage-value-"+r.id+"-"+t,i=n.get(e);return!i&&o&&(i=n.addShape("text",{id:e}),n.set(e,i)),i};var d=t.compareField?[0,1].map(h):h(0);c.value=d}return c},v.prototype._genCustomFieldForDynamicHeight=function(r){var o=this.options,a=r.reduce(function(t,e){return t+e[o.yField]},0),s=1;r.forEach(function(t,e){var i=t[o.yField],n=s-i/a;t.__custom__={datumIndex:e,dataLength:r.length,ratioUpper:s,ratioLower:n,reverse:o.transpose},s=n})},v.prototype.resetCompareTexts=function(){if(this.shouldResetCompareTexts){var i,n,r=this.options,o=this._findCheckedData(this.getData())[0];if(this.view.eachShape(function(t,e){t==o&&(i=e.get("parent").getBBox(),n=A.get(t,"__compare__"))}),i&&n&&!1!==A.get(r,"compareText.visible")){var t=this.view.get("coord"),a=this._findCompareTextContainer(!0),s=n.yValuesMax,l=n.compareValues,e=t.invertMatrix(i.minX,i.minY,1),u=t.invertMatrix(i.maxX,i.maxY,1),c=Math.min(e[0],u[0]),h=Math.max(e[0],u[0]),p=Math.min(e[1],u[1]),f=Math.max(e[1],u[1]),d=a.get("children");[0,1].forEach(function(t){var e=d[t];(e=e||a.addShape("text")).attr(A.deepMix({},A.get(r,"compareText.style"),{text:r.transpose?l[t]:t?"  "+l[t]:l[t]+"  ",x:r.transpose?c+A.get(r,"compareText.offsetX"):g(c,h,s[0]/(s[0]+s[1])),y:r.transpose?g(p,f,s[0]/(s[0]+s[1]))+(t?8:-8):p+A.get(r,"compareText.offsetY"),opacity:0,textAlign:!r.transpose&&t?"left":"right",textBaseline:r.transpose&&t?"top":"bottom"}))})}}},v.prototype.fadeInCompareTexts=function(n,t){var e=this._findCompareTextContainer();if(e){var r=e.get("children");[0,1].forEach(function(t){var e=r[t];if(e){var i={opacity:1};n?e.animate(i,n):e.attr(i)}})}n&&t&&setTimeout(t,n)},v.prototype.fadeOutCompareTexts=function(n,t){var e=this._findCompareTextContainer();if(e){var r=e.get("children");[0,1].forEach(function(t){var e=r[t];if(e){var i={opacity:0};n?e.animate(i,n):e.attr(i)}})}n&&t&&setTimeout(t,n)},v.prototype.refreshCompareTexts=function(t){var e=this;if(!1!==this.options.animation){var i=this._calcRefreshFadeDurations(),n=i.fadeInDuration,r=i.fadeOutDuration;this.shouldResetCompareTexts=!1,this.fadeOutCompareTexts(r,function(){e.shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(n,t)})}},v.prototype._findCompareTextContainer=function(t){var e;if(void 0===t&&(t=!1),this.view){var i=this.view.get("elements");if(i.find(function(t){return e=t.get("compareTextContainer")}),!e&&t&&i.length){var n=i[0];e=n.get("container").addGroup(),n.set("compareTextContainer",e)}}return e},v.prototype._reduceDataForCompare=function(i){var l,u=this.options,c=[-1/0,-1/0];return(i=i.reduce(function(t,e){var i,n=e[u.xField],r=e[u.yField],o=e[u.compareField];l=l||o;var a=t.find(function(t){return t[u.xField]==n});a||((i={})[u.xField]=n,i[u.yField]=0,i.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:u.transpose},a=i,t.push(a));var s=o==l?0:1;return a.__compare__.yValues[s]=r,c[s]<r&&(c[s]=r),a.__compare__.compareValues[s]=o,t},[])).forEach(function(t,e){t[u.yField]=A.get(t,"__compare__.yValues",[]).reduce(function(t,e){return t+e},0),A.set(t,"__compare__.yValuesMax",c),A.set(t,"__compare__.yValuesNext",A.get(i,e+1+".__compare__.yValues"))}),i},v.prototype._updateDataForCompare=function(i){var n=[-1/0,-1/0];i.forEach(function(t){var e=A.get(t,"__compare__.yValues");[0,1].forEach(function(t){e[t]>n[t]&&(n[t]=e[t])})}),i.forEach(function(t,e){A.set(t,"__compare__.yValuesMax",n),A.set(t,"__compare__.yValuesNext",A.get(i,e+1+".__compare__.yValues"))})},v.prototype._findCheckedData=function(t){var e=this.options,i=this.view.get("canvas").findAll(function(t){return"legend-item"==t.name&&t.get("parent").get("checked")}).map(function(t){return t.get("origin").value});return t.filter(function(t){return A.contains(i,t[e.xField])})},v.prototype._findCheckedDataInNewData=function(t){var e=this.options,i=this.view.get("canvas").findAll(function(t){return"legend-item"==t.name&&t.get("parent").get("checked")}).map(function(t){return t.get("origin").value}),n=this.getData().map(function(t){return t[e.xField]}).filter(function(t){return!A.contains(i,t)});return t.filter(function(t){return!A.contains(n,t[e.xField])})},v.prototype._findCheckedDataByMouseDownLegendItem=function(i){var n=this.options,r=i.get("origin"),o=i.get("parent").get("parent").findAll(function(t){return t!=i&&"legend-item"==t.name&&t.get("parent").get("checked")}).map(function(t){return t.get("origin").value}),a=[];return this.getData().forEach(function(t){var e=t[n.xField];(r.value==e&&!i.get("parent").get("checked")||A.contains(o,e))&&a.push(t)}),a},v.prototype._setupAnimationMask=function(){var t=this.view.get("canvas"),e=t.get("animation-mask");e||(e=t.addShape("rect"),t.set("animation-mask",e)),e.attr({x:0,y:0,fill:"transparent",width:t.get("width"),height:t.get("height")})},v.prototype._teardownAnimationMask=function(){var t=this.view.get("canvas"),e=t.get("animation-mask");e&&e.attr({x:-t.get("width")})},v.prototype._refreshAnimationMaskForPercentageRefresh=function(){var t=this;if(!1!==this.options.animation){var e=this._calcRefreshFadeDurations(),i=e.fadeOutDuration,n=e.fadeInDuration;this._setupAnimationMask(),setTimeout(function(){return t._teardownAnimationMask()},i+n)}},v);function v(t){var n=h.call(this,t)||this;return n.type="funnel",n.legendsListenerAttached=!1,n.shouldShowLabels=!1,n.shouldResetPercentages=!0,n.shouldResetCompareTexts=!0,n._onLegendContainerMouseDown=function(t){var e=n.options;if("legend-item"==t.target.name){if(n.refreshPercentages(),e.dynamicHeight){var i=n._findCheckedDataByMouseDownLegendItem(t.target);n._genCustomFieldForDynamicHeight(i)}e.compareField&&(i=n._findCheckedDataByMouseDownLegendItem(t.target),n._updateDataForCompare(i),n.refreshCompareTexts())}},n.adjustProps(n.options),t.dynamicHeight&&n._genCustomFieldForDynamicHeight(n.getData()),t.compareField&&(n.options.data=n._reduceDataForCompare(n.getData())),n}e.default=d,o.registerPlotType("funnel",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(20).registerTheme("funnel",{})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),w=n.__importStar(i(0)),r=i(5),S=i(21);function C(t,e,i){return(1-i)*t+i*e}var o,a=(o=r.ElementLabels,n.__extends(s,o),s.prototype.setLabelPosition=function(t,e,i){var n=this.get("coord"),r=n.isTransposed,o=n.convertPoint(e.points[0]),a=n.convertPoint(e.points[2]),s=(o.x-a.x)/2*(r?-1:1),l=(o.y-a.y)/2*(r?-1:1);r?t.x-=s:t.y+=l,t.textAlign="center",t.textBaseline="middle"},s.prototype.getLabelPoint=function(o,t,e){var i=o.text.length;function n(t,e){var i,n,r=t;return w.isArray(r)&&(r=1===o.text.length?r.length<=2?r[t.length-1]:(i=r,n=0,w.each(i,function(t){n+=t}),n/i.length):r[e]),r}var r={text:o.text[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};r.x=n(t.x,e),r.y=n(t.y,e),this.setLabelPosition(r,t,e);var a=this.getLabelOffset(o,e,i);return o.offsetX&&(a.x+=o.offsetX),o.offsetY&&(a.y+=o.offsetY),this.transLabelPoint(r),r.start={x:r.x,y:r.y},r.x+=a.x,r.y+=a.y,r.color=t.color,r},s.prototype.showLabels=function(t,a){var s=this;o.prototype.showLabels.call(this,t,a);var e=this.get("labelsRenderer").get("group").get("children"),i=this.get("element").get("view");w.each(e,function(t,e){var i=t,n=i.get("origin"),r=s.get("element").getShapeId(n),o=s._getShape(r,a);s.get("labelOptions").adjustColor&&s.adjustColor(i,o)}),i.get("canvas").draw()},s.prototype.adjustColor=function(t,e){var i=e.attr("fill"),n=w.isNumber(e.attr("opacity"))?Math.min(Math.max(0,e.attr("opacity")),1):1,r=S.rgb2arr(i),o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n<156?"#f6f6f6":"#303030";t.attr("fill",o);var a=this.get("coord"),s=e.getBBox(),l=a.invertMatrix(s.x,s.y,1),u=l[0],c=l[1],h=a.invertMatrix(s.width,s.height,0),p=[u+h[0],c+h[1]],f=p[0],d=p[1],g=Math.min(u,f),v=Math.max(u,f),y=Math.min(c,d),m=Math.max(c,d),x=e.get("__compare__");if(x){var b=x.yValues;t.attr({x:x.transpose?(g+v)/2:C(g,v,b[0]/(b[0]+b[1])),y:x.transpose?C(y,m,b[0]/(b[0]+b[1])):(y+m)/2})}var _=t.getBBox(),M=_.minX>=g&&_.maxX<=v&&_.minY>=y&&_.maxY<=m;t.set("visible",M)},s.prototype._getShape=function(e,t){var i;return w.each(t,function(t){t.id===e&&(i=t)}),i},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.FunnelLabel=a,r.registerElementLabels("funnelLabel",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),b=n.__importStar(i(2)),r=i(5),_=n.__importStar(i(0));function o(t,e,i){var n,r,o,a,s=e||{},l=s.duration,u=void 0===l?200:l,c=s.easing,h=s.callback,p=s.reverse,f=t.getBBox(),d=p?f.maxX:f.minX,g=(f.minY+f.maxY)/2,v=t.get("index"),y=(n=i.start,r=i.end,o=i.width,a=i.height,new b.Shapes.Rect({attrs:{x:n.x,y:r.y,width:o,height:a}})),m=_.clone(y.attr("matrix"));y.attr("transform",[["t",-d,-g],["s",0,1],["t",d,g]]);var x=t.attr("fillOpacity");t.attr("fillOpacity",0),t.attr("clip",y),y.animate({matrix:m},u,c,function(){y.remove(),t.attr("clip",null)},v*u),t.animate({fillOpacity:x},u,c,null,v*u),h&&setTimeout(function(){return h(t)},u+v*u)}o.animationName="funnelScaleInX",r.Animate.registerAnimation("appear","funnelScaleInX",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),b=n.__importStar(i(2)),r=i(5),_=n.__importStar(i(0));function o(t,e,i){var n,r,o,a,s=e||{},l=s.duration,u=void 0===l?200:l,c=s.easing,h=s.callback,p=s.reverse,f=t.getBBox(),d=(f.minX+f.maxX)/2,g=p?f.minY:f.maxY,v=t.get("index"),y=(n=i.start,r=i.end,o=i.width,a=i.height,new b.Shapes.Rect({attrs:{x:n.x,y:r.y,width:o,height:a}})),m=_.clone(y.attr("matrix"));y.attr("transform",[["t",-d,-g],["s",1,0],["t",d,g]]);var x=t.attr("fillOpacity");t.attr("fillOpacity",0),t.attr("clip",y),y.animate({matrix:m},u,c,function(){y.remove(),t.attr("clip",null)},v*u),t.animate({fillOpacity:x},u,c,null,v*u),h&&setTimeout(function(){return h(t)},u+v*u)}o.animationName="funnelScaleInY",r.Animate.registerAnimation("appear","funnelScaleInY",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),d=s.__importStar(i(0)),l=i(5),u=i(94);l.registerShape("interval","funnel-basic-rect",{getPoints:function(c){return c.size=1.8*c.size,function(t){void 0===t&&(t=!1);var e,i,n,r,o=c.x,a=c.y,s=c.y0,l=c.size;i=d.isArray(a)?(e=a[0],a[1]):(e=s,a),r=d.isArray(o)?(n=o[0],o[1]):(n=o-l/2,o+l/2);var u=[{x:n,y:e},{x:n,y:i}];return t?u.push({x:r,y:(i+e)/2}):u.push({x:r,y:i},{x:r,y:e}),u}()},draw:function(p,t){var e,i,n,r,o=(i=p,n=l.Global.theme.shape.interval.rect.default,r=d.mix({},n,i.style),u.setFillStyle(r,i),r),f=d.get(p,"origin._origin.__compare__"),a=function(){var t=[],e=p.points,i=p.nextPoints;if(f){var n=f.yValues,r=f.yValuesMax,o=f.yValuesNext,a=(e[0].y+e[1].y)/2,s=n[0]+n[1],l=n.map(function(t){return t/s/.5}),u=.9*(r[0]/(r[0]+r[1])-.5);if(d.isNil(i))t.push(["M",e[0].x,u+(e[0].y-a)*l[0]+a],["L",e[1].x,u+a],["L",e[2].x,u+a],["L",e[3].x,u+(e[3].y-a)*l[0]+a],["Z"]),t.push(["M",e[0].x,.002+u+a],["L",e[1].x,.002+u+(e[1].y-a)*l[1]+a],["L",e[2].x,.002+u+(e[2].y-a)*l[1]+a],["L",e[3].x,.002+u+a],["Z"]);else{var c=o[0]+o[1],h=o.map(function(t){return t/c/.5});t.push(["M",e[0].x,u+(e[0].y-a)*l[0]+a-.001],["L",e[1].x,u+a-.001],["L",i[1].x,u+a-.001],["L",i[0].x,u+(i[3].y-a)*h[0]+a-.001],["Z"]),t.push(["M",e[0].x,u+a+.001],["L",e[1].x,u+(e[1].y-a)*l[1]+a+.001],["L",i[1].x,u+(i[2].y-a)*h[1]+a+.001],["L",i[0].x,u+a+.001],["Z"])}}else d.isNil(i)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",i[1].x,i[1].y],["L",i[0].x,i[0].y],["Z"]);return t}();return a=this.parsePath(a),t.addShape("path",((e={attrs:s.__assign(s.__assign({},o),{path:a})}).__compare__=f,e))},getMarkerStyle:function(t){var e={symbol:"square",radius:4};return u.setFillStyle(e,t),e}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),l=s.__importStar(i(0)),u=i(5),c=i(94);function f(t,e,i){return(1-i)*t+i*e}u.registerShape("interval","funnel-dynamic-rect",{draw:function(t,e){var i,n,r,o=(i=t,n=u.Global.theme.shape.interval.rect.default,r=l.mix({},n,i.style),c.setFillStyle(r,i),r),a=function(t,e){var i=e.reverse,n=e.ratioUpper,r=e.ratioLower,o=[],a=t[0],s=(t[1].x+t[2].x)/2;if(i){var l=r;r=n,n=l}var u=(a.x-s)*f(.6,1.2,r)+s;o.push(["M",u,a.y]);for(var c=1,h=t.length;c<h;c++){var p=t[c].x;switch(c){case 1:case 2:p=(p-s)*f(.6,1.2,n)+s;break;case 3:p=(p-s)*f(.6,1.2,r)+s}o.push(["L",p,t[c].y])}return o.push(["L",u,a.y]),o.push(["z"]),o}(t.points,l.get(t,"origin._origin.__custom__"));return a=this.parsePath(a),e.addShape("path",{attrs:s.__assign(s.__assign({},o),{path:a})})},getMarkerStyle:function(t){var e=t.isInCircle,i={symbol:e?"circle":"square",radius:e?4.5:4};return c.setFillStyle(i,t),i}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),f=r.__importStar(i(0)),o=r.__importDefault(i(65)),a=i(45),s=(n=o.default,r.__extends(l,n),l.prototype.parseFormatter=function(i){for(var u=this,t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var c=this.originConfig,h=a.combineFormatter(a.getNoopFormatter(),a.getPrecisionFormatter(c.precision),a.getSuffixFormatter(c.suffix)),p=this.plot.options;i.formatter=function(n,r,o){function a(t,e){var i=h(t,r,o);return f.isFunction(c.formatter)?c.formatter(n,r,o,t,e):n+" "+i}if(p.compareField){var s=f.get(r,"_origin.__compare__.yValues"),l=f.get(u.plot.getData(),"0.__compare__.yValues");return p.transpose&&f.set(i,"textStyle.lineHeight",f.get(i,"textStyle.fontSize",12)),[0,1].map(function(t){var e=s[t],i=l[t];return a(e,i)}).join(p.transpose?"\n\n":"    ")}var t=f.get(r,"_origin."+p.yField),e=f.get(u.plot.getData(),"0."+p.yField);return a(t,e)}},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(266)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="heatmap",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importStar(i(0)),o=i(7),a=n.__importDefault(i(8)),s=i(9),l=i(12),u=i(17);i(267);var c=n.__importDefault(i(268)),h=n.__importDefault(i(269));i(51);var p,f=(p=a.default,n.__extends(d,p),d.getDefaultOptions=function(){return r.deepMix({},p.getDefaultOptions.call(this),{xAxis:{visible:!0,autoHideLabel:!0,autoRotateLabel:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoHideLabel:!0,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!0,offset:12}},tooltip:{visible:!0,crosshairs:{type:"cross",style:{lineWidth:2}}},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"]})},d.prototype.afterRender=function(){this.options.legend&&this.options.legend.visible&&(this.heatmapLegend=new c.default(n.__assign({view:this.view,plot:this},this.options.legend)),this.heatmapLegend.render(),this.paddingController.registerPadding(this.heatmapLegend,"outer")),this.options.background&&"auto"!==this.options.padding&&(this.background=new h.default(n.__assign({view:this.view,plot:this},this.options.background)),this.background.render()),p.prototype.afterRender.call(this),this.count+=1},d.prototype.destroy=function(){this.heatmapLegend&&(this.heatmapLegend.destroy(),this.heatmapLegend=null),this.background&&(this.background.destroy(),this.background=null),p.prototype.destroy.call(this)},d.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},r.has(t,"xAxis")&&u.extractScale(e[t.xField],t.xAxis),e[t.yField]={},r.has(t,"yAxis")&&u.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),p.prototype.scale.call(this)},d.prototype.coord=function(){},d.prototype.geometryParser=function(t,e){return"heatmap"},d.prototype.addGeometry=function(){var t={type:"linearHeatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.setConfig("element",t),this.addPoint()},d.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=r.deepMix(e,t.point):t.point=e;var i=l.getGeom("point","guide",{plot:this});i.active=!1,i.label=this.extractLabel(),this.setConfig("element",i)},d.prototype.extractLabel=function(){var t=this.options,e=t.label;return(!e||!1!==e.visible)&&s.getComponent("label",n.__assign({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e))},d.prototype.legend=function(){this.setConfig("legends",!1)},d.prototype.animation=function(){},d);function d(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="heatmap",t.count=0,t}e.default=f,o.registerPlotType("heatmap",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(5),a=r.__importStar(i(0)),s=r.__importStar(i(21)),l=(n=o.Element,r.__extends(u,n),u.prototype._prepareRange=function(){var t=this.get("mappedData"),i=this.getAttr("color").scales[0].field,n=1/0,r=-1/0;t.forEach(function(t){var e=t._origin[i];r<e&&(r=e),e<n&&(n=e)}),n===r&&(n=r-1);var e=[n,r];this.set("valueRange",e)},u.prototype._prepareSize=function(){var t;this.get("radius")?t=this.get("radius"):(t=this.getDefaultValue("size"),a.isNumber(t)||(t=this.getDefaultSize()));var e=this.get("styleOptions"),i=e&&a.isObject(e.cfg)?e.cfg.blur:null;a.isFinite(i)&&null!==i||(i=t/2),this.set("heatmapSize",{blur:i,radius:t})},u.prototype.getDefaultSize=function(){var t=this.getAttr("position"),e=this.get("coord");return Math.min(e.width/(4*t.scales[0].ticks.length),e.height/(4*t.scales[1].ticks.length))},u.prototype._colorize=function(t){for(var e=this.getAttr("color"),i=t.data,n=this.get("paletteCache"),r=3;r<i.length;r+=4){var o=i[r];if(o){var a=void 0;n[o]?a=n[o]:(a=s.rgb2arr(e.gradient(o/256)),n[o]=a),i[r-3]=a[0],i[r-2]=a[1],i[r-1]=a[2],i[r]=o}}},u.prototype._prepareGreyScaleBlurredCircle=function(t){var e=this.get("grayScaleBlurredCanvas");e||(e=document.createElement("canvas"),this.set("grayScaleBlurredCanvas",e));var i=this.get("intensity")?this.get("intensity"):2,n=Math.sqrt(-2*Math.log(1/255/16/t/i/.3989422804014327))/3*t,r=n-t,o=n+r,a=e.getContext("2d");e.width=e.height=2*o,a.clearRect(0,0,e.width,e.height),a.shadowOffsetX=a.shadowOffsetY=2*o,a.shadowBlur=r,a.shadowColor="black",a.beginPath(),a.arc(-o,-o,t,0,2*Math.PI,!0),a.closePath(),a.fill()},u.prototype._drawGrayScaleBlurredCircle=function(t,e,i,n,r){var o=this.get("grayScaleBlurredCanvas");r.globalAlpha=n,r.drawImage(o,t-i,e-i)},u.prototype._getShadowCanvasCtx=function(){var t=this.get("shadowCanvas");t||(t=document.createElement("canvas"),this.set("shadowCanvas",t));var e=this.get("view").get("panelRange");t.width=e.width,t.height=e.height;var i=t.getContext("2d");return i.globalCompositeOperation="lighter",i},u.prototype._clearShadowCanvasCtx=function(){var t=this._getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},u.prototype._getImageShape=function(){var t=this.get("imageShape");return t||(t=this.get("container").addShape("Image",{}),this.set("imageShape",t),t)},u.prototype.clear=function(){this._clearShadowCanvasCtx(),n.prototype.clear.call(this)},u.prototype.drawWithRange=function(e){var t=this.get("coord"),i=t.start,n=t.end,r=t.width,o=t.height,a=this.getAttr("color").scales[0].field,s=this.get("heatmapSize");this._clearShadowCanvasCtx();var l=this._getShadowCanvasCtx(),u=this.get("mappedData");e&&(u=u.filter(function(t){return t._origin[a]<=e[1]&&t._origin[a]>=e[0]}));for(var c=this.get("scales")[a],h=0;h<u.length;h++){var p=u[h],f=this.getDrawCfg(p),d=c.scale(p._origin[a]);this._drawGrayScaleBlurredCircle(f.x-i.x,f.y-n.y,s.radius+s.blur,d,l)}var g=l.getImageData(0,0,r,o);this._clearShadowCanvasCtx(),this._colorize(g),l.putImageData(g,0,0);var v=new Image;v.src=l.canvas.toDataURL("image/png"),this._getImageShape().attr({x:i.x,y:n.y,width:r,height:o,img:v})},u.prototype.draw=function(t){this.set("mappedData",t),this._prepareRange(),this._prepareSize();var e=this.get("heatmapSize");this._prepareGreyScaleBlurredCircle(e.radius);var i=this.get("valueRange");this.drawWithRange(i)},u);function u(t){return n.call(this,r.__assign({type:"linearHeatmap",shapeType:"point",paletteCache:{}},t))||this}o.registerElement("linearHeatmap",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(1),p=i(0),n=i(2),r=(o.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container=t.addGroup()},o.prototype.render=function(){var t=this.view.get("scales"),e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,r=i.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(n,r,o):this.renderVertical(n,r,o),this.legendLayout(),this.addInteraction()},o.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getBBox=function(){var t=this.container.getBBox();return new n.BBox(this.x,this.y,t.width,t.height)},o.prototype.renderVertical=function(t,o,e){var a=this,s=this.width,l=this.height/e.length,u=new n.Group,i=p.clone(e).reverse(),c=(o-t)/e.length;p.each(i,function(t,e){var i=l*e,n={to:o-c*e,from:o-c*(e+1)};a.container.addShape("rect",{attrs:{x:0,y:i,width:s,height:l,fill:t,opacity:1,cursor:"pointer"},name:"grid"}).set("info",n);var r=a.getDataSlide(n);a.dataSlides[n.from+"-"+n.to]={mode:"active",data:r},u.addShape("path",{attrs:h.__assign({path:[["M",0,i+l],["L",s,i+l]]},a.options.gridlineStyle)})}),this.container.addShape("text",{attrs:h.__assign({text:o,x:s/2,y:-4,textAlign:"center",textBaseline:"bottom"},this.options.text.style)}),this.container.addShape("text",{attrs:h.__assign({text:t,x:s/2,y:this.height+4,textAlign:"center",textBaseline:"top"},this.options.text.style)}),u.addShape("path",{attrs:h.__assign({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)}),this.container.add(u)},o.prototype.renderHorizontal=function(t,e,i){var r=this,o=this.width/i.length,a=this.height,s=new n.Group,l=(e-t)/i.length;p.each(i,function(t,e){var i=o*e,n={from:l*e,to:l*(e+1)};r.container.addShape("rect",{attrs:{x:i,y:0,width:o,height:a,fill:t,opacity:.8,cursor:"pointer"},name:"grid"}).set("info",n),s.addShape("path",{attrs:h.__assign({path:[["M",i+o,0],["L",i+o,a]]},r.options.gridlineStyle)})}),this.container.addShape("text",{attrs:h.__assign(h.__assign({text:t,x:-4,y:a/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"})}),this.container.addShape("text",{attrs:h.__assign({text:e,x:this.width+4,y:a/2,textAlign:"left",textBaseline:"middle"},this.options.text.style)}),s.addShape("path",{attrs:h.__assign({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)}),this.container.add(s)},o.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},o.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?.5*this.options.plot.options.width:10},o.prototype.getDefaultHeight=function(){return"vertical"===this.layout?.5*this.options.plot.options.height:10},o.prototype.legendLayout=function(){var i=this,n=this.options.plot.getPlotTheme().bleeding;p.isArray(n)&&p.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.options.plot.options))});var t=this.container.getBBox(),e=0,r=0,o=this.options.position.split("-"),a=this.options.plot.width,s=this.options.plot.height;"left"===o[0]?e=n[3]:"right"===o[0]?e=a-n[1]-t.width:"center"===o[1]?e=(a-t.width)/2:"left"===o[1]?e=n[3]:"right"===o[1]&&(e=this.options.plot.width-n[1]-t.width),"bottom"===o[0]?r=s-n[2]-t.height:"top"===o[0]?r=this.getTopPosition(n):"center"===o[1]?r=(s-t.height)/2:"top"===o[1]?r=n[0]:"bottom"===o[1]&&(r=s-n[2]-t.height),this.x=e,this.y=r,this.container.translate(e,r)},o.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},o.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},o.prototype.addInteraction=function(){var a=this,t=this.options.plot.options,s=t.colorField;t.data,this.container.on("click",function(t){var e=t.target;if("grid"===e.get("name")){var i=e.get("info"),n=i.from+"-"+i.to,r=a.dataSlides[n];"active"===r.mode?(r.mode="deactive",e.stopAnimate(),e.animate({opacity:.4},200)):(r.mode="active",e.stopAnimate(),e.animate({opacity:1},200));var o=a.getFilteredData();0<o.length&&(a.view.set("data",o),a.view.scale(s,{min:a.colorScale.min,max:a.colorScale.max,nice:a.colorScale.nice}),a.view.render())}})},o.prototype.getFilteredData=function(){var e=[];return p.each(this.dataSlides,function(t){"active"==t.mode&&e.push.apply(e,t.data)}),e},o.prototype.getDataSlide=function(i){var n=[],t=this.options.plot.options,r=t.colorField,e=t.data;return p.each(e,function(t){var e=t[r];e>=i.from&&e<i.to&&n.push(t)}),n},o.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},o);function o(t){this.destroyed=!1,this.dataSlides={};var e=this.getDefaultOptions();t.plot.options.theme&&"dark"===t.plot.options.theme&&(e=this.getDarkOptions()),this.options=p.deepMix({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=r.__importDefault(i(22)).default,r.__extends(a,n),a.prototype.init=function(){var t=this.view.get("coord");this.width=t.width,this.height=t.height,this.x=t.start.x,this.y=t.end.y;var e=this.options.plot.container;this.container=e.addGroup(),this.container.setZIndex(-100)},a.prototype.render=function(){if("color"===this.options.type)this.renderColorBackground();else if("image"===this.options.type)this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},a.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value}})},a.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src}})},a.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},a.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},a);function a(t){var e=n.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(271)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="matrix",n.prototype.createLayers.call(this,e)},u.prototype.changeShape=function(t){this.layers[0].changeShape(t)},u.prototype.mappingSize=function(t){this.layers[0].mappingSize(t)},u.prototype.disableMappingSize=function(){this.layers[0].disableMappingSize()},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),f=n.__importStar(i(0)),c=i(2),a=i(11),r=i(7),o=n.__importDefault(i(8)),s=i(9),l=n.__importDefault(i(95)),d=i(272);i(273),i(95);var h,u=(h=o.default,n.__extends(p,h),p.getDefaultOptions=function(){return f.deepMix({},h.getDefaultOptions.call(this),{forceSquare:!1,shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,crosshairs:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},autoRotateLabel:!0},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},autoRotateLabel:!0},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}}})},p.prototype.afterInit=function(){if(h.prototype.afterInit.call(this),this.options.forceSquare){var t=this.view.get("panelRange"),e=this.options,i=e.xField,n=e.yField,r=e.data,o=f.valuesOfKey(r,i).length,a=f.valuesOfKey(r,n).length,s=Math.min(t.width,t.height)/Math.max(o,a),l=s*o,u=s*a;this.view.set("panelRange",new c.BBox(t.x,t.y,l,u))}},p.prototype.afterRender=function(){this.options.legend&&this.options.legend.visible&&(this.matrixLegend=new l.default(n.__assign({view:this.view,plot:this},this.options.legend)),this.matrixLegend.render(),this.paddingController.registerPadding(this.matrixLegend,"outer")),h.prototype.afterRender.call(this)},p.prototype.changeShape=function(t){if(this.options.shapeType!==t)if("rect"===(this.options.shapeType=t)){var e=this.view.get("elements")[0].getShapes();this.circleToRect(e)}else"circle"===t&&(e=this.view.get("elements")[0].getShapes(),this.rectToCircle(e))},p.prototype.mappingSize=function(t){if(!this.options.sizeField||this.options.sizeField!==t){var e=f.valuesOfKey(this.options.data,t),i=Math.min.apply(Math,e),n=Math.max.apply(Math,e),r=new(a.getScale("linear"))({min:i,max:n}),o=this.view.get("elements")[0].getShapes();"rect"===this.options.shapeType?this.rectSizeMapping(o,r,t):"circle"===this.options.shapeType&&this.circleSizeMapping(o,r,t)}},p.prototype.disableMappingSize=function(){var t=this.view.get("elements")[0].getShapes();"rect"===this.options.shapeType?this.rectDisableSizeMapping(t):"circle"===this.options.shapeType&&this.circleDisableSizeMapping(t)},p.prototype.geometryParser=function(){return""},p.prototype.coord=function(){},p.prototype.legend=function(){this.setConfig("legends",!1)},p.prototype.addGeometry=function(){if(this.gridSize=this.getGridSize(),"rect"===this.options.shapeType){var t=this.addRect();this.setConfig("element",t)}else{var e=this.addCircle();this.setConfig("element",e)}},p.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:this.extractLabel()};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},p.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:this.extractLabel()};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[.5*Math.min(this.gridSize[0],this.gridSize[1])*.9]},e},p.prototype.extractLabel=function(){var t=this.options.label;return!!t.visible&&!(!this.options.sizeField&&!this.options.colorField)&&s.getComponent("label",n.__assign({plot:this,top:!0,labelType:"matrixLabel",fields:this.options.colorField?[this.options.colorField]:[this.options.sizeField]},t))},p.prototype.getGridSize=function(){if("auto"===this.options.padding)return[0,0];var t=this.getViewRange(),e=this.options,i=e.padding,n=e.xField,r=e.yField,o=e.data,a=t.width-i[1]-i[3],s=t.height-i[0]-i[2];return[a/f.valuesOfKey(o,n).length,s/f.valuesOfKey(o,r).length]},p.prototype.circleToRect=function(t){var l=this,u=this.gridSize;f.each(t,function(t){var e=t.get("origin"),i=e.x,n=e.y,r=e.size,o=2*r/Math.min(u[0],u[1]);l.options.sizeField||(o=1);var a=d.getCircleCurve(i,n,r),s=d.getRectPath(i,n,u[0],u[1],o);t.stopAnimate(),t.attr("path",a),t.animate({path:s},500,"easeLinear")})},p.prototype.rectToCircle=function(t){var p=this;f.each(t,function(t){var e=t.get("coord"),i=t.get("origin").points,n=[];f.each(i,function(t){n.push(e.convertPoint(t))});var r=t.getBBox(),o=r.width,a=r.height,s=r.minX+o/2,l=r.minY+a/2,u=p.options.sizeField?1:.9,c=d.getCircleCurve(s,l,Math.min(o,a)/2*u),h=d.getCirclePath(s,l,Math.min(o,a)/2*u);t.stopAnimate(),t.animate({path:c},500,"easeLinear",function(){t.attr("path",h)})})},p.prototype.rectSizeMapping=function(t,u,c){f.each(t,function(t){var e=t.get("origin")._origin,i=.3+.6*u.scale(e[c]);t.get("origin").size=i;var n=t.getBBox(),r=n.width,o=n.height,a=n.minX+r/2,s=n.minY+o/2,l=d.getRectPath(a,s,r,o,i);t.stopAnimate(),t.animate({path:l},500,"easeLinear")})},p.prototype.circleSizeMapping=function(t,l,u){f.each(t,function(t){var e=t.get("origin")._origin,i=.3+.6*l.scale(e[u]),n=t.get("origin"),r=n.x,o=n.y,a=n.size,s=d.getCirclePath(r,o,a*i);t.get("origin").size=a*i,t.stopAnimate(),t.animate({path:s},500,"easeLinear")})},p.prototype.circleDisableSizeMapping=function(t){var a=this;f.each(t,function(t){var e=t.get("origin"),i=e.x,n=e.y,r=.9*Math.min(a.gridSize[0],a.gridSize[1]);t.get("origin").size=r/2;var o=d.getCirclePath(i,n,r/2);t.stopAnimate(),t.animate({path:o},500,"easeLinear")})},p.prototype.rectDisableSizeMapping=function(t){var s=this;f.each(t,function(t){var e=t.getBBox(),i=e.width,n=e.height,r=e.minX+i/2,o=e.minY+n/2,a=d.getRectPath(r,o,s.gridSize[0],s.gridSize[1],1);t.get("origin").size=1,t.stopAnimate(),t.animate({path:a},500,"easeLinear")})},p);function p(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="matrix",t.gridSize=[],t}e.default=u,r.registerPlotType("matrix",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5);function a(t,e,i,n,r){var o=i*r,a=n*r;return[["M",t-o/2,e+a/2],["Q",t-o/2,e,t-o/2,e-a/2],["Q",t,e-a/2,t+o/2,e-a/2],["Q",t+o/2,e,t+o/2,e+a/2],["Q",t,e+a/2,t-o/2,e+a/2],["Z"]]}function r(t,e,i){return[["M",t,e],["m",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,-2*i,0],["Z"]]}e.getRectPath=a,e.getCirclePath=r,e.getCircleCurve=function(t,e,i){return[["M",t-i,e],["Q",t-i,e-i,t,e-i],["Q",t+i,e-i,t+i,e],["Q",t+i,e+i,t,e+i],["Q",t-i,e+i,t-i,e],["Z"]]},n.registerShape("polygon","rect",{draw:function(t,e){var i=this.parsePoints(t.points),n=i[2].x-i[0].x,r=i[0].y-i[1].y,o=a(i[0].x+n/2,i[1].y+r/2,n,r,t.origin.size);return e.addShape("path",{attrs:{path:o,fill:t.color,opacity:1}})}}),n.registerShape("point","curvePoint",{draw:function(t,e){var i=r(t.x,t.y,t.size);return e.addShape("path",{attrs:{path:i,fill:t.color,opacity:1}})}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),o=i(5),a=n.__importStar(i(0)),u=i(21),s=(r=o.ElementLabels,n.__extends(l,r),l.prototype.showLabels=function(t,u){var c=this;r.prototype.showLabels.call(this,t,u);var e=this.get("labelsRenderer"),i=e.get("group").get("children"),h=e.get("items"),n=this.get("element").get("view");a.each(i,function(t,e){var i=t,n=(h[e],i.get("origin")),r=c.get("element").getShapeId(n),o=c._getShape(r,u),a=c.get("labelOptions"),s=a.adjustColor,l=a.adjustPosition;s&&c.adjustColor(i,o),l&&c.adjustPosition(i,o)}),n.get("canvas").draw()},l.prototype._getShape=function(e,t){var i;return a.each(t,function(t){t.id===e&&(i=t)}),i},l.prototype.adjustColor=function(t,e){var i=t.getBBox(),n=e.getBBox();if(i.minY>=n.minY&&i.maxY<=n.maxY){var r=e.attr("fill"),o=e.attr("opacity")?e.attr("opacity"):1,a=u.rgb2arr(r),s=Math.round(.299*a[0]+.587*a[1]+.114*a[2])/o,l=this.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s);t.attr("fill",l)}},l.prototype.mappingColor=function(t,e){var i;return a.each(t,function(t){e>=t.from&&e<t.to&&(i=t.color)}),i},l.prototype.adjustPosition=function(t,e){var i=t.getBBox(),n=e.getBBox();(i.width>n.width||i.height>n.height)&&(t.attr("opacity",0),t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.set("capture",!1))},l);function l(){return null!==r&&r.apply(this,arguments)||this}e.MatrixLabels=s,o.registerElementLabels("matrixLabel",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(55)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="waterfall",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(1),d=i(5),g=f.__importStar(i(0));d.registerShape("interval","waterfall",{draw:function(t,e){var i,n,r,o,a,s=(i=t,o=d.Global.theme.shape.interval,a=g.mix({},o,i.style),n=a,(r=i).color&&(n.fill=r.color),g.isNumber(r.opacity)&&(n.opacity=n.fillOpacity=r.opacity),i.color&&(a.stroke=a.stroke||i.color),a),l=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(n){var r=0===i?"M":"L";e.push([r,n.x,n.y])}}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["Z"]),e}(t.points);l=this.parsePath(l);var u=e.addShape("path",{attrs:g.mix(s,{path:l})}),c=g.get(t.style,"leaderLine");if(c&&c.visible){var h=c.style||{};if(t.nextPoints){var p=[["M",t.points[2].x,t.points[2].y],["L",t.nextPoints[0].x,t.nextPoints[0].y]];p=this.parsePath(p),e.addShape("path",{attrs:f.__assign({path:p,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},h)}).name="leader-line"}}return u}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(37);e.EVENT_MAP=n.EVENT_MAP,e.onEvent=n.onEvent},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(5),h=r.__importStar(i(0)),a=i(50),p=i(55),s=(n=a.ColumnLabels,r.__extends(l,n),l.prototype.adjustPosition=function(t,e,i){var n=e.getBBox(),r=t.get("origin"),o=i.fields[0],a=r[p.VALUE_FIELD],s=r[o],l=h.isArray(a)?a[1]:a,u=(n.minY+n.maxY)/2,c="bottom";s<0?(u=n.maxY+2,c="top"):u=n.minY-2,t.attr("y",u),t.attr("text",l),t.attr("textBaseline",c)},l);function l(){return null!==n&&n.apply(this,arguments)||this}o.registerElementLabels("waterfall",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(1),n=i(2),d=f.__importStar(i(0)),g=i(55),r=(o.prototype.draw=function(){var u=this;if(this.view&&!this.view.destroyed){var c=d.clone(this.view.get("data"));this.container=this.view.get("frontgroundGroup").addGroup();var h=this.view.get("elements")[0].getShapes().filter(function(t){return"interval"===t.name}),p=new n.Group;d.each(h,function(t,e){if(t.get("origin")){var i=t.get("origin")._origin,n=t.getBBox(),r=i[g.VALUE_FIELD],o=r;d.isArray(r)&&(o=r[1]-r[0]),o=0<o?"+"+o:o,i[g.IS_TOTAL]&&(o=r[0]-r[1]);var a=o;if(u.formatter){var s=h[e].attr("fill");a=u.formatter(""+o,{_origin:c[e],color:s},e)}var l=p.addShape("text",{attrs:f.__assign({text:a,textBaseline:"middle",textAlign:"center",x:(n.minX+n.maxX)/2,y:(n.minY+n.maxY)/2},u.textAttrs)});l.getBBox().height>n.height&&l.set("visible",!1)}}),this.container.add(p),this.view.get("canvas").draw()}},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},o);function o(t){this.textAttrs={},this.view=t.view,this.fields=t.fields,this.formatter=t.formatter,this.textAttrs=d.mix({fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"},t.style),this._init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(280)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="treemap",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),u=a.__importStar(i(0)),n=i(7),r=a.__importDefault(i(8)),o=i(9),c=a.__importDefault(i(281)),s=i(283),l=a.__importStar(i(287));i(288);var h,p=(h=r.default,a.__extends(f,h),f.getDefaultOptions=function(){return u.deepMix({},h.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}}})},f.prototype.beforeInit=function(){var e=this,t=this.options.interactions;t&&u.each(t,function(t){"drilldown"===t.type&&(e.isDrilldown=!0,e.options.maxLevel=1)})},f.prototype.geometryParser=function(t,e){return"polygon"},f.prototype.getTreemapData=function(t,e){var i=this.getViewRange(),n=c.default(t,i.x,i.y,i.width,i.height);this.recursive(n,1);var r=[];return this.getAllNodes(n,r,e),r.sort(function(t,e){return t.depth-e.depth}),this.options.xField="x",this.options.yField="y",r},f.prototype.processData=function(){return this.rootData},f.prototype.beforInit=function(){h.prototype.beforeInit.call(this);var t=this.options.data,e=this.getTreemapData(t);this.rootData=e},f.prototype.coord=function(){},f.prototype.addGeometry=function(){var i=this,t=this.options,e=t.data,n=t.colorField,r=t.color,o=this.getTreemapData(e);this.rootData=o;var a=this.options.maxLevel;this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[n],values:r},style:{fields:["depth"],callback:function(t){var e={lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/a};return 1===t&&(e={lineWidth:1,stroke:"black",opacity:t/a}),u.deepMix({},e,i.options.rectStyle)}},label:this.extractLabel(),tooltip:{fields:["name","value"]}},this.setConfig("element",this.rect)},f.prototype.applyInteractions=function(){var n=this,t=this.options.interactions,r=this.view.get("interactions");u.each(t,function(t){var e=s.INTERACTION_MAP[t.type];if(e){var i=new e(u.deepMix({},{view:n.view,plot:n,startEvent:"polygon:click"},t.cfg));r[t.type]=i}})},f.prototype.animation=function(){h.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},f.prototype.parseEvents=function(t){h.prototype.parseEvents.call(this,l)},f.prototype.extractLabel=function(){var t=this.options.label;return!!t.visible&&o.getComponent("label",a.__assign({labelType:"treemapLabel",plot:this,top:!0,fields:["name"],maxLevel:this.options.maxLevel},t))},f.prototype.recursive=function(t,a){var s=this,l=this.options.colorField;u.each(t,function(o){u.each(o.children,function(t){if(1<(t.depth=a)&&(t.parent=o),u.hasKey(t,l)||(t[l]=o[l]),t.showLabel=!0,!s.isLeaf(t)){var e=Math.abs(t.y1-t.y0),i=s.getLabelHeight(),n=i<e/2?i:4;t.showLabel=4!==n;var r=c.default(t,t.x0+4,t.y0+n,t.x1-4,t.y1-4);s.fillColorField(r,l,t[l]),s.recursive(r,t.depth+1)}})})},f.prototype.getAllNodes=function(t,e,i){var n=this,r=i||this.options.maxLevel,o=this.getViewRange();u.each(t,function(t){u.hasKey(t,"x0")&&t.depth<=r&&e.push(a.__assign(a.__assign({},t),{x:[t.x0,t.x1,t.x1,t.x0],y:[o.height-t.y1,o.height-t.y1,o.height-t.y0,o.height-t.y0]})),u.hasKey(t,"children")&&n.getAllNodes(t.children,e)})},f.prototype.fillColorField=function(t,e,i){u.each(t,function(t){u.hasKey(t,e)||(t[e]=i)})},f.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getTheme().label.textStyle.fontSize,i=0;if(t&&t.visible){var n=t.style;i=n&&n.fontSize?n.fontSize:e}return i+8},f.prototype.isLeaf=function(t){return!t.children||0===t.children.length},f);function f(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="line",t}e.default=p,n.registerPlotType("treemap",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var w=i(96),S=i(282),C=(1+Math.sqrt(5))/2;e.default=function(t,e,i,n,r){var o=t.children,a=t.value;o.sort(function(t,e){return e.value-t.value});for(var s,l,u,c,h,p,f,d,g=[],v=0,y=0;v<o.length;){var m=n-e,x=r-i;for(l=s=o[y++].value,h=(u=s)*s*(c=Math.max(x/m,m/x)/(a*C)),f=Math.max(l/h,h/u);y<o.length;y++){if((d=o[y].value)<u&&(u=d),l<d&&(l=d),h=(s+=d)*s*c,(p=Math.max(l/h,h/u))>f){s-=d;break}f=p}var b={value:s,dice:m<x,children:o.slice(v,y)};if(g.push(b),b.dice){var _=a?x*s/a:x;w.dice(b,e,i,n,i+_),a&&(i+=_)}else{var M=a?m*s/a:m;S.slice(b,e,i,e+M,r),a&&(e+=M)}a-=s,v=y}return g}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(0);e.slice=function(t,e,i,n,r){var o=r-i,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=o/s,u=i;c.each(a,function(t){t.x0=e,t.x1=n,t.y0=u,u+=t.value*l,t.y1=t.y0+t.value*l})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(284));e.INTERACTION_MAP={drilldown:n.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(1),r=s.__importDefault(i(97)),o=s.__importDefault(i(26)),l=i(2),a=i(0),u=i(286),c=(n=o.default,s.__extends(h,n),h.getInteractionRange=function(t,e){var i,n=(void 0===(i=e)&&(i={}),s.__assign({x:0,y:0,startNode:{name:"root"},itemWidth:100,itemHeight:30,padding:[0,0,0,0]},i)),r=n.padding,o=r[0],a=r[1];return new l.BBox(t.minX,t.maxY-n.itemHeight-o-a,t.width,n.itemHeight+o+a)},h.prototype.start=function(t){var e=this,i=t.data._origin;i.children&&(this.parentNode={shape:t.target,data:{name:a.clone(this.currentNode.name),value:a.clone(this.currentNode.value)},depth:a.clone(this.currentDepth)},this.currentDepth++,u.drillingDown(t.target,this.view,function(){e.update(i)}))},h.prototype.update=function(t){a.hasKey(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},h.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.container=this.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),"root"===this.startNode.name?(this.startNodeName=a.hasKey(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.get("viewRange").maxY+10,this.breadcrumb=new r.default({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.render(),this.layout();this.onInteraction()},h.prototype.clear=function(){},h.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y})},h.prototype.getItems=function(){var i=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var t=this.getRootItem();i.push(t)}else{i=[];var e=[];this.findParent(this.currentNode,e),i.push(this.getRootItem()),a.each(e,function(t,e){i.push({key:String(e+2),text:t.name,data:t})}),i.push({key:String(e.length+2),text:this.currentNode.name,data:this.currentNode})}return i},h.prototype.findParent=function(t,e){t.parent&&(a.hasKey(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e))},h.prototype.onInteraction=function(){var r=this;this.container.on("click",function(t){var e=t.target.get("parent");if(e&&"item-group"===e.get("class")){var i=e.get("data");if(i.data)if(i.text===r.startNodeName)r.currentDepth-1==1?u.rollingUp(r.currentNode.name,r.view,function(){r.updateRoot(i)}):r.updateRoot(i),r.currentDepth=1;else{if(r.currentNode===i.data)return;var n=a.clone(r.currentDepth);r.currentDepth=parseInt(i.key),n-1===r.currentDepth?u.rollingUp(r.currentNode.name,r.view,function(){r.update(i.data)}):r.update(i.data)}}})},h.prototype.getRootItem=function(){var t=this.plot.options.data;return{key:"1",text:a.hasKey(t,"name")?t.name:"root",data:this.plot.rootData}},h.prototype.saveOriginMapping=function(){var t=this.plot.options,e={field:t.colorField,values:t.colors};this.originMapping=e},h.prototype.adjustScale=function(t){var e=this.view;if(a.hasKey(this.mapping,String(t))){if((n=a.clone(this.mapping[t])).values&&a.isFunction(n.values)){var i=n.values(this.parentNode,this.currentNode);n.values=i}this.view.get("elements")[0].color(n.field,n.values)}else{var n=a.clone(this.originMapping);this.view.get("elements")[0].color(n.field,n.values)}e.render()},h.prototype.initGeometry=function(){this.geometry=this.view.get("elements")[0];var t=this.view.get("viewRange"),e=this.geometry.get("container"),i=new l.Rect({attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}});e.attr("clip",i)},h.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},h);function h(){return null!==n&&n.apply(this,arguments)||this}e.default=c,o.default.registerInteraction("drilldown",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=r.__importDefault(i(22)).default,r.__extends(a,n),a.prototype.getGroup=function(){return this.group},a.prototype.getBBox=function(){return this.getGroup().getBBox()},a.prototype.render=function(){this.renderInner(this.group),this.getCanvas().draw()},a.prototype.update=function(t){this.config=r.__assign(r.__assign({},this.config),t),this.init(r.__assign(r.__assign({},this.config),{config:t})),this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},a.prototype.destroy=function(){this.group.remove(!0),this.destroyed=!0},a.prototype.getCanvas=function(){return this.container.get("canvas")},a.prototype.init=function(t){},a.prototype.renderInner=function(t){},a);function a(t){var e=n.call(this)||this;return e.container=t.container,e.destroyed=!1,e.group=e.container.addGroup(),e.config=t,e.init(t),e}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var _=i(0),M=i(2),w=[1,0,0,0,1,0,0,0,1],S="easeQuadInOut";function C(t,i){var e=t.getShapes(),n=[];return _.each(e,function(t){var e=i.addShape("path",{attrs:_.deepMix({},t.attrs,{capture:!1})});n.push(e)}),n}function O(t){var e=t.get("viewRange");return{minX:e.minX,minY:e.minY,centerX:(e.maxX-e.minX)/2,centerY:(e.maxY-e.minY)/2,width:e.width,height:e.height}}function k(t){var e=t.attr("path"),i=e[0][1],n=e[0][2],r=e[1][1],o=e[2][2];return{minX:i,minY:o,centerX:(r-i)/2,centerY:(n-o)/2,width:Math.abs(r-i),height:Math.abs(n-o)}}function P(t){t.get("labelController").labelsContainer.set("visible",!1)}function A(t){t.get("labelController").labelsContainer.set("visible",!0)}e.drillingDown=function(t,n,e){var r=k(t),o=O(n),i=o.width/r.width,a=o.height/r.height,s={transform:[["s",i,a],["t",(o.minX-r.minX)*i,(o.minY-r.minY)*a]]},l=n.get("elements")[0];P(l);var u=new M.Rect({attrs:{x:o.minX,y:o.minY,width:o.width,height:o.height}}),c=n.get("container").addGroup();c.set("zIndex",-100),c.attr("clip",u);var h=C(l,c);l.get("container").set("visible",!1),n.get("canvas").draw(),e(),window.setTimeout(function(){_.each(h,function(t,e){0===e?t.animate(s,400,S,function(){c.remove(),n.get("canvas").draw()}):t.animate(s,400)}),P(l=n.get("elements")[0]);var t=l.getShapes();_.each(t,function(t){t.attr("opacity",0),t.animate({opacity:1},400,S)});var e=l.get("container");e.stopAnimate(),e.set("visible",!0),e.attr("matrix",_.clone(w)),e.transform([["s",r.width/o.width,r.height/o.height],["t",r.minX,r.minY]]);var i=_.clone(w);l.get("container").animate({matrix:i},400,S,function(){A(l)}),n.get("canvas").draw()},16)},e.rollingUp=function(t,e,i){var n=e.get("elements")[0];P(n);var r=n.get("container");r.attr("matrix",_.clone(w));var o=e.get("container").addGroup();o.set("zIndex",-100);var a=C(n,o);r.set("visible",!1),e.get("canvas").draw(),i(),P(n=e.get("elements")[0]),r=n.get("container");var s,l,u,c,h,p,f=k((s=n.getShapes(),l=t,_.each(s,function(t){t.get("origin")._origin.name===l&&(u=t)}),u)),d=O(e),g=new M.Rect({attrs:{x:d.minX,y:d.minY,width:d.width,height:d.height}}),v=r.get("parent");v.attr("clip")||v.attr("clip",g),c=o,h=a,p={transform:[["s",f.width/d.width,f.height/d.height],["t",f.minX,f.minY]]},c.animate(p,400,S,function(){c.remove()}),_.each(h,function(t){t.animate({opacity:0},400,S)});var y=d.width/f.width,m=d.height/f.height,x=(d.minX-f.minX)*y,b=(d.minY-f.minY)*m;r.transform([["s",y,m],["t",x,b]]),r.set("visible",!0),r.animate({matrix:w},400,S,function(){A(n)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onRectClick:"polygon:click",onRectDblclick:"polygon:dblclick",onRectMousemove:"polygon:mousemove",onRectMouseenter:"polygon:mouseenter",onRectMouseleave:"polygon:mouseleave",onRectMousedown:"polygon:mousedown",onRectMouseup:"polygon:mouseup",onRectContextmenu:"polygon:contextmenu",test:"breadcrumb:click"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),y=i(2),r=i(5),m=n.__importStar(i(0)),x=i(44);function b(t,e,i){for(var n=new y.Text({attrs:{text:"...",x:0,y:0,fontSize:e}}).getBBox().width,r=new y.Text({attrs:{text:"",x:0,y:0,fontSize:e}}),o="",a=i-n,s=0;s<t.length;s++){var l=t[s];if(r.attr("text",o+=l),r.getBBox().width>=a){var u=o.substr(0,o.length-1);if(0<u.length)return u+"..."}}return o}var o,a=(o=r.ElementLabels,n.__extends(s,o),s.prototype.showLabels=function(t,f){var d=this;o.prototype.showLabels.call(this,t,f);var e=this.get("labelsRenderer").get("group").get("children"),i=this.get("element").get("view"),g=this.get("labelOptions").maxLevel;m.each(e,function(t,e){var i,n=t,r=t.get("origin"),o=n.get("origin"),a=(i=g,!r.children||r.depth>=i),s=d.get("element").getShapeId(o),l=d.getShape(s,f).getBBox();if(!a&&r.showLabel){var u=l.x+l.width/2,c=l.y+4;t.attr("x",u),t.attr("y",c),t.attr("textBaseline","top"),t.attr("fontWeight",600);var h=l.width-8;if(t.getBBox().width>h){var p=b(t.attr("text"),t.attr("fontSize"),h);t.attr("text",p)}}else d.leafText(l,t)}),i.get("canvas").draw()},s.prototype.getShape=function(e,t){var i;return m.each(t,function(t){t.id===e&&(i=t)}),i},s.prototype.leafText=function(t,e){var i=e.getBBox(),n=m.clone(e.attr("text")),r=1===e.get("origin").depth?0:2,o=Math.max(e.attr("fontSize")-r,8),a=t.x+t.width/2,s=t.y+t.height/2;e.attr({x:a,y:s,textAlign:"center",textBaseline:"middle",lineHeight:o,fontSize:o});var l,u,c,h,p,f,d=t.width-8;if(i.width>t.width&&i.height>t.height)e.attr("text","");else if(d<o)e.attr("text","");else if(i.width>t.width){var g=(u=d,c=(l=e).attr("fontSize"),h=l.attr("text"),p=new y.Text({attrs:{text:"",x:0,y:0,fontSize:c}}),f=h.split("\n").map(function(t){for(var e="",i=t.split(""),n=[],r=0;r<i.length;r++){var o=i[r];if(p.attr("text",e+=o),p.getBBox().width-1>u){if(0===r)break;n.push(r),e=""}}return x.breakText(i,n)}),p.remove(),f.join("\n"));if(e.attr({lineHeight:e.attr("fontSize"),text:g}),e.getBBox().height>t.height){var v=b(n,o,d);e.attr("text",v)}}},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.TreemapLabels=a,r.registerElementLabels("treemapLabel",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=i(290),s=(n=r.__importDefault(i(6)).default,r.__extends(l,n),l.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="step-line",n.prototype.createLayers.call(this,e)},l.getDefaultOptions=a.StepLineLayer.getDefaultOptions,l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(71)),a=i(7),s=r.__importStar(i(0)),l=(n=o.default,r.__extends(u,n),u.getDefaultOptions=function(){return s.deepMix({},n.getDefaultOptions.call(this),{step:"hv"})},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="step-line",t}e.StepLineLayer=l,a.registerPlotType("step-line",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(292)),l=i(7),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="wordCloud",n.prototype.createLayers.call(this,e)},c);function c(t,e){return e.renderer="canvas",n.call(this,t,e)||this}e.default=u,l.registerPlotType("wordCloud",s.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),u=r.__importStar(i(0)),o=r.__importDefault(i(29)),a=r.__importDefault(i(293)),s=r.__importDefault(i(298)),l=(n=o.default,r.__extends(c,n),c.prototype.init=function(){n.prototype.init.call(this),this._initToolTips()},c.prototype.render=function(){n.prototype.render.call(this),this._render()},c.prototype._initToolTips=function(){this._toolTips=new a.default(r.__assign(r.__assign({},this.options.tooltip),{showTitle:!1,visible:!0,canvas:this.canvas,follow:!0,inPanel:!1}))},c.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},c.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+(new Date).getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},c.prototype._start=function(){this._handleG2PlotConfig(),s.default(this._targetCanvas,this.options)},c.prototype._handleG2PlotConfig=function(){var t,e,i,n=this.options.wordStyle.fontSize||[10,60],r=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2];this.options.wordStyle.active?(t=!0,e=this.options.wordStyle.active.shadowColor||"#333",i=this.options.wordStyle.active.shadowBlur||10):t=!1,this.options=u.deepMix({},this.options,{minFontSize:n[0],maxFontSize:n[1],minRotation:r[0],maxRotation:r[1],active:t,shadowColor:e,shadowBlur:i})},c.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),i=e.maskImageCanvas,n=e.maskImageContext,r=document.createElement("canvas").getContext("2d");r.fillStyle=this.options.backgroundColor||"#fff",r.fillRect(0,0,1,1);for(var o=r.getImageData(0,0,1,1).data,a=n.getImageData(0,0,i.width,i.height),s=n.createImageData(a),l=0;l<a.data.length;l+=4)128<a.data[l+3]?(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=o[3]):(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=254);n.putImageData(s,0,0),this._targetCanvas.getContext("2d").drawImage(i,0,0),this.options=u.deepMix({},this.options,{clearCanvas:!1}),this._start()},c.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("widthCanvas"),e.height=this.canvas.get("heightCanvas");var i=e.getContext("2d");return i.imageSmoothingEnabled=!0,i.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:i}},c.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);for(var n=i.getImageData(0,0,e.width,e.height),r=0;r<n.data.length;r+=4){var o=n.data[r]+n.data[r+1]+n.data[r+2];n.data[r+3]<128||750<o?(n.data[r]=255,n.data[r+1]=255,n.data[r+2]=255,n.data[r+3]=0):(n.data[r]=0,n.data[r+1]=0,n.data[r+2]=0,n.data[r+3]=255)}return i.putImageData(n,0,0),e},c);function c(t){var r=n.call(this,t)||this;return r._toolTipsAction=function(t,e,i,n){e?(r._toolTips.setContent("",[{color:t.color||"red",name:t.word,value:t.weight}]),r._toolTips.setPosition(i.layerX,i.layerY),r._toolTips.show()):r._toolTips.hide(),r._configHoverAction&&r._configHoverAction(t,e,i,n)},r._configHoverAction=t.onWordCloudHover,r._enableToolTips=u.get(t,"tooltip.visible",!0),r.options=u.deepMix({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:r._enableToolTips?r._toolTipsAction:r._configHoverAction}),r}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=(n=r.__importDefault(i(294)).default,r.__extends(s,n),s.prototype.show=function(){var t=this.get("container");t.style.visibility="visible",t.style.display="block";var e=this.get("crosshairGroup");e&&e.show();var i=this.get("markerGroup");i&&i.show(),this.set("visible",!0)},s.prototype.hide=function(){var t=this.get("container");t.style.visibility="hidden",t.style.display="none";var e=this.get("crosshairGroup");e&&e.hide();var i=this.get("markerGroup");i&&i.hide(),this.set("visible",!1)},s);function s(t){var e=o.deepMix({},{itemTpl:'<div data-index={index}>\n        <span style="background-color:{color};" class="g2-tooltip-marker"></span>\n        {name}<span class="g2-tooltip-value">{value}</span></div>'},t);return n.call(this,e)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function s(t,e){return t.getElementsByClassName(e)[0]}var b,l=i(1),_=i(3),M=i(0),n=i(295),u=i(296),c=i(93),w=i(297),r=(b=n.default,l.__extends(o,b),o.prototype._init_=function(){var t,e=this.get("containerTpl"),i=this.get("canvas").get("el").parentNode;if(this.get("htmlContent"))t=this._getHtmlContent();else if(/^\#/.test(e)){var n=e.replace("#","");t=document.getElementById(n)}else t=_.createDom(e);this.set("container",t),_.modifyCSS(t,this.style["g2-tooltip"]),i.appendChild(t),i.style.position="relative"},o.prototype.render=function(){if(this.clear(),this.get("htmlContent")){var t=this.get("canvas").get("el").parentNode,e=this._getHtmlContent();t.appendChild(e),_.modifyCSS(e,this.style["g2-tooltip"]),this.set("container",e)}else this._renderTpl()},o.prototype._renderTpl=function(){var i=this,t=this.get("showTitle"),e=this.get("titleContent"),n=this.get("container"),r=s(n,"g2-tooltip-title"),o=s(n,"g2-tooltip-list"),a=this.get("items");r&&t&&(_.modifyCSS(r,this.style["g2-tooltip-title"]),r.innerHTML=e),o&&(_.modifyCSS(o,this.style["g2-tooltip-list"]),M.each(a,function(t,e){o.appendChild(i._addItem(t,e))}))},o.prototype.clear=function(){var t=this.get("container");if(t&&this.get("htmlContent"))t.remove();else{var e=s(t,"g2-tooltip-title"),i=s(t,"g2-tooltip-list");e&&(e.innerHTML=""),i&&(i.innerHTML="")}},o.prototype.show=function(){var t=this.get("container");t.style.visibility="visible",t.style.display="block";var e=this.get("crosshairGroup");e&&e.show();var i=this.get("markerGroup");i&&i.show(),b.prototype.show.call(this),this.get("canvas").draw()},o.prototype.hide=function(){var t=this.get("container");t.style.visibility="hidden",t.style.display="none";var e=this.get("crosshairGroup");e&&e.hide();var i=this.get("markerGroup");i&&i.hide(),b.prototype.hide.call(this),this.get("canvas").draw()},o.prototype.destroy=function(){var t=this.get("container"),e=this.get("containerTpl");t&&!/^\#/.test(e)&&t.parentNode.removeChild(t);var i=this.get("crosshairGroup");i&&i.destroy();var n=this.get("markerGroup");n&&n.remove(),b.prototype.destroy.call(this)},o.prototype._addItem=function(t,e){var i=this.get("itemTpl"),n=M.substitute(i,M.mix({index:e},t)),r=_.createDom(n);_.modifyCSS(r,this.style["g2-tooltip-list-item"]);var o=s(r,"g2-tooltip-marker");o&&_.modifyCSS(o,this.style["g2-tooltip-marker"]);var a=s(r,"g2-tooltip-value");return a&&_.modifyCSS(a,this.style["g2-tooltip-value"]),r},o.prototype._getHtmlContent=function(){var t=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return M.isElement(t)?t:_.createDom(t)},o.prototype.setPosition=function(t,e,i){var n,r=t,o=e,a=this.get("container"),s=this.get("canvas").get("el"),l=_.getWidth(s),u=_.getHeight(s),c=a.clientWidth,h=a.clientHeight,p=r,f=o,d=this.get("prePosition")||{x:0,y:0};if(c||(a.style.display="block",c=a.clientWidth,h=a.clientHeight,a.style.display="none"),this.get("enterable")?(n=[r,o-=a.clientHeight/2],d&&0<r-d.x?r-=a.clientWidth+1:r+=1):(r=this.get("position")?(n=w.defaultPosition(r,o,this.get("position"),c,h,i))[0]:(n=w.constraintPositionInBoundary(r,o,c,h,l,u))[0],o=n[1]),this.get("inPanel")){var g=this.get("panelRange"),v=this.get("panelGroup").attr("clip");r=(n=w.constraintPositionInPanel(r,o,c,h,v?v.getBBox():g,this.get("enterable")))[0],o=n[1]}var y=this.get("markerItems");M.isEmpty(y)||(p=y[0].x,f=y[0].y),this.set("prePosition",n),this.get("follow")&&(a.style.left=r+"px",a.style.top=o+"px");var m=this.get("crosshairGroup");if(m){var x=this.get("items");m.setPosition(p,f,x)}b.prototype.setPosition.call(this,r,o)},o);function o(t){var e,i,n=b.call(this,l.__assign({containerTpl:'<div class="g2-tooltip">\n        <div class="g2-tooltip-title"></div>\n        <ul class="g2-tooltip-list"></ul>\n        </div>',itemTpl:'<li data-index={index}>\n        <span style="background-color:{color};" class="g2-tooltip-marker"></span>\n        {name}<span class="g2-tooltip-value">{value}</span></li>',htmlContent:null,follow:!0,enterable:!1},t))||this,r=c.default;n.style=(e=r,i=t,Object.keys(e).forEach(function(t){i[t]&&(e[t]=M.mix(e[t],i[t]))}),e),n._init_(),n.get("items")&&n.render();var o=n.get("crosshairs");if(o){var a="rect"===o.type?n.get("backgroundGroup"):n.get("frontgroundGroup"),s=new u.default(M.mix({plot:a,panelRange:n.get("panelRange"),canvas:n.get("canvas")},n.get("crosshairs")));s.hide(),n.set("crosshairGroup",s)}return n}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=i(0),o=(n=i(42).default,r.__extends(s,n),s.prototype.isContentChange=function(t,e){var i=this.get("titleContent"),r=this.get("items"),o=!(t===i&&r.length===e.length);return o||a.each(e,function(e,t){var i=r[t],n=Object.keys(e);if(o=n.some(function(t){return!a.isObject(e[t])&&e[t]!==i[t]}))return!1}),o},s.prototype.setContent=function(t,e){return this.set("items",e),this.set("titleContent",t),this.render(),this},s.prototype.setPosition=function(t,e,i){this.set("x",t),this.set("y",e)},s.prototype.setMarkers=function(t,e){var i=this.get("markerGroup"),n=this.get("frontgroundGroup");i?i.clear():(i=n.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",i)),a.each(t,function(t){i.addShape("marker",{color:t.color,attrs:a.mix({fill:t.color,symbol:"circle",shadowColor:t.color},e,{x:t.x,y:t.y})})}),this.set("markerItems",t)},s.prototype.clearMarkers=function(){var t=this.get("markerGroup");t&&t.clear()},s.prototype.render=function(){},s.prototype.clear=function(){},s.prototype.show=function(){this.set("visible",!0)},s.prototype.hide=function(){this.set("visible",!1)},s);function s(t){return n.call(this,r.__assign({x:0,y:0,items:null,titleContent:null,showTitle:!0,panelRange:null,inPanel:!0,crosshairs:null},t))||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),c=i(0),o=(n=i(42).default,r.__extends(a,n),a.prototype._init_=function(){var t=this.get("plot").addGroup();this.set("container",t)},a.prototype._addLineShape=function(t,e){var i=this.get("container").addShape("line",{attrs:t,capture:!1});return this.set("crossLineShape"+e,i),i},a.prototype._renderHorizontalLine=function(t,e){var i=c.mix(this.get("lineStyle"),this.get("style")),n=c.mix({x1:e?e.bl.x:t.get("width"),y1:0,x2:e?e.br.x:0,y2:0},i);this._addLineShape(n,"X")},a.prototype._renderVerticalLine=function(t,e){var i=c.mix(this.get("lineStyle"),this.get("style")),n=c.mix({x1:0,y1:e?e.bl.y:t.get("height"),x2:0,y2:e?e.tl.y:0},i);this._addLineShape(n,"Y")},a.prototype._renderBackground=function(t,e){var i=c.mix(this.get("rectStyle"),this.get("style")),n=this.get("container"),r=c.mix({x:e?e.tl.x:0,y:e?e.tl.y:t.get("height"),width:e?e.br.x-e.bl.x:t.get("width"),height:e?Math.abs(e.tl.y-e.bl.y):t.get("height")},i),o=n.addShape("rect",{attrs:r,capture:!1});return this.set("crosshairsRectShape",o),o},a.prototype._updateRectShape=function(t){var e,i=this.get("crosshairsRectShape"),n=this.get("isTransposed"),r=t[0],o=t[t.length-1],a=n?"y":"x",s=n?"height":"width",l=r[a];if(1<t.length&&r[a]>o[a]&&(l=o[a]),this.get("width"))i.attr(a,l-this.get("crosshairs").width/2),i.attr(s,this.get("width"));else if(c.isArray(r.point[a])&&!r.size){var u=r.point[a][1]-r.point[a][0];i.attr(a,r.point[a][0]),i.attr(s,u)}else e=3*r.size/4,i.attr(a,l-e),1===t.length?i.attr(s,3*r.size/2):i.attr(s,Math.abs(o[a]-r[a])+2*e)},a.prototype.render=function(){var t=this.get("canvas"),e=this.get("panelRange"),i=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(t,e);break;case"y":this._renderVerticalLine(t,e);break;case"cross":this._renderHorizontalLine(t,e),this._renderVerticalLine(t,e);break;case"rect":this._renderBackground(t,e);break;default:i?this._renderHorizontalLine(t,e):this._renderVerticalLine(t,e)}},a.prototype.show=function(){this.get("container").show()},a.prototype.hide=function(){this.get("container").hide()},a.prototype.clear=function(){var t=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),t.clear()},a.prototype.destroy=function(){var t=this.get("container");n.prototype.destroy.call(this),t.remove()},a.prototype.setPosition=function(t,e,i){var n=this.get("crossLineShapeX"),r=this.get("crossLineShapeY"),o=this.get("crosshairsRectShape");r&&!r.get("destroyed")&&r.move(t,0),n&&!n.get("destroyed")&&n.move(0,e),o&&!o.get("destroyed")&&this._updateRectShape(i)},a);function a(t){var e=n.call(this,r.__assign({type:null,plot:null,panelRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1},t))||this;return e._init_(),e.render(),e}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultPosition=function(t,e,i,n,r,o){var a=t,s=e,l=0,u=0,c=20;if(o){var h=o.getBBox();l=h.width,u=h.height,a=h.x,s=h.y,c=5}switch(i){case"inside":a=a+l/2-n/2,s=s+u/2-r/2;break;case"top":a=a+l/2-n/2,s=s-r-c;break;case"left":a=a-n-c,s=s+u/2-r/2;break;case"right":a=a+l+c,s=s+u/2-r/2;break;case"bottom":default:a=a+l/2-n/2,s=s+u+c}return[a,s]},e.constraintPositionInBoundary=function(t,e,i,n,r,o){var a=t,s=e;return r<a+i+20?a=(a-=i+20)<0?0:a:a+20<0?a=20:a+=20,o<s+n+20?s=(s-=n+20)<0?0:s:s+20<0?s=20:s+=20,[a,s]},e.constraintPositionInPanel=function(t,e,i,n,r,o){var a=t,s=e;return a+i>r.tr.x&&(a-=i+40),a<r.tl.x&&(a=r.tl.x),o||(s+n>r.bl.y&&(s-=n+40),s<r.tl.y&&(s=r.tl.y)),[a,s]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var i=[void 0],n="zero-timeout-message";return window.addEventListener("message",function(t){if("string"==typeof t.data&&t.data.substr(0,n.length)===n){t.stopImmediatePropagation();var e=parseInt(t.data.substr(n.length),36);i[e]&&(i[e](),i[e]=void 0)}},!0),window.clearImmediate=function(t){i[t]&&(i[t]=void 0)},function(t){var e=i.length;return i.push(t),window.postMessage(n+e.toString(36),"*"),e}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});function m(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t}function n(C,b){if(c){Array.isArray(C)||(C=[C]),C.forEach(function(t,e){if("string"==typeof t){if(C[e]=document.getElementById(t),!C[e])throw"The element id specified is not found."}else if(!t.tagName&&!t.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var k={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:G,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,classes:null,onWordCloudHover:null,onWordCloudClick:null},O=[];if(b)for(var t in b)if("wordStyle"===t)for(var e in b[t])e in k&&(k[e]=b[t][e]);else t in k&&(k[t]=b[t]);if(k.minFontSize<G&&(k.minFontSize=G),k.minFontSize>k.maxFontSize)console.error("minSize cant bigger than maxSize");else{for(var P=0,i=0;i<k.data.length;i++)P<k.data[i].weight&&(P=k.data[i].weight);var _=!1;if("function"!=typeof k.shape)switch(k.shape){case"circle":default:k.shape="circle";break;case"cardioid":k.shape=function(t){return 1-Math.sin(t)},_=!0;break;case"diamond":k.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":k.shape=function(t){var e=(t+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":k.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-backward":k.shape=function(t){var e=(t+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-up":k.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-down":k.shape=function(t){var e=(t+5*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":k.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":k.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return 0<=(t+.955)%(2*Math.PI/5)-2*Math.PI/10?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}k.gridSize=Math.max(Math.floor(k.gridSize),4);var M,w,S,A,L,T,n,D=k.gridSize,y=D-k.maskGapWidth,p=Math.abs(k.maxRotation-k.minRotation),f=Math.min(k.maxRotation,k.minRotation),d=k.rotationSteps;switch(k.color){case"random-dark":n=function(){return u(10,50)};break;case"random-light":n=function(){return u(50,90)};break;default:"function"==typeof k.color&&(n=k.color)}var r=null;"function"==typeof k.classes&&(r=k.classes);var j,I=!1,B=[],o=function(t){var e,i,n=t.currentTarget,r=n.getBoundingClientRect();i=t.touches?(e=t.touches[0].clientX,t.touches[0].clientY):(e=t.clientX,t.clientY);var o=e-r.left,a=i-r.top,s=Math.floor(o*(n.width/r.width||1)/D),l=Math.floor(a*(n.height/r.height||1)/D);return B&&B[s]&&B[s][l]},a=function(t,e,i,n){n(t?t.id:-1)},E=function(t){var e=o(t);if(j!==e){if(!e)return k.onWordCloudHover(void 0,void 0,t,l),void(k.active&&a(void 0,0,0,l));k.onWordCloudHover(e.item,e.dimension,t,l),k.active&&a(e.item,e.dimension,0,l),j=e}},F=function(t){var e=o(t);e&&(k.onWordCloudClick(e.item,e.dimension,t),t.preventDefault())},s=[],g=function(t){if(s[t])return s[t];var e=8*t,i=e,n=[];for(0===t&&n.push([A[0],A[1],0]);i--;){var r=1;"circle"!==k.shape&&(r=k.shape(i/e*2*Math.PI)),n.push([A[0]+t*r*Math.cos(-i/e*2*Math.PI),A[1]+t*r*Math.sin(-i/e*2*Math.PI)*k.ellipticity,i/e*2*Math.PI])}return s[t]=n},R=function(){return 0<k.abortThreshold&&(new Date).getTime()-T>k.abortThreshold},N=function(h,p,f,d,g,v,y,m,x,b,_){var M=f.fontSize,w=k.color,S=k.classes;if(_){var t=H(b);w=t?t.color:k.color}else w=n?n(d,g,M,v,y):k.color,S=r?r(d,g,M,v,y):k.classes;var e=f.bounds;e[3],e[0],e[1],e[3],e[2],e[0],C.forEach(function(t){if(t.getContext){var e=t.getContext("2d"),i=f.mu;e.save();var n=k.fontWeight+" "+(M*i).toString(10)+"px "+k.fontFamily;e.scale(1/i,1/i),e.font=n,e.fillStyle=w;var r=(h+f.gw/2)*D*i,o=(p+f.gh/2)*D*i;e.translate(r,o),0!==m&&e.rotate(-m),e.textBaseline="middle",k.selected===b&&(e.shadowColor=k.shadowColor,e.shadowBlur=k.shadowBlur),e.fillText(d,f.fillTextOffsetX*i,(f.fillTextOffsetY+.5*M)*i),_||O.push({gx:h,gy:p,info:f,word:d,weight:g,distance:v,theta:y,rotateDeg:m,attributes:x,id:b,color:w}),e.restore()}else{var a=document.createElement("span"),s="";s="rotate("+-m/Math.PI*180+"deg) ",1!==f.mu&&(s+="translateX(-"+f.fillTextWidth/4+"px) scale("+1/f.mu+")");var l={position:"absolute",display:"block",font:k.fontWeight+" "+M*f.mu+"px "+k.fontFamily,left:(h+f.gw/2)*D+f.fillTextOffsetX+"px",top:(p+f.gh/2)*D+f.fillTextOffsetY+"px",width:f.fillTextWidth+"px",height:f.fillTextHeight+"px",lineHeight:M+"px",whiteSpace:"nowrap",transform:s,webkitTransform:s,msTransform:s,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var u in w&&(l.color=w),a.textContent=d,l)a.style[u]=l[u];if(x)for(var c in x)a.setAttribute(c,x[c]);S&&(a.className+=S),t.appendChild(a)}})},v=function(t,e,i,n,r,o,a,s){var l=Math.floor(t[0]-e.gw/2),u=Math.floor(t[1]-e.gh/2);return e.gw,e.gh,!!function(t,e,i){for(var n=i.length;n--;){var r=t+i[n][0],o=e+i[n][1];if(w<=r||S<=o||r<0||o<0){if(!k.drawOutOfBound)return}else if(!M[r][o])return}return 1}(l,u,e.occupied)&&(N(l,u,e,i,n,r,t[2],o,a,s,!1),function(t,e,i){var n,r,o,a,s,l,u,c=i.occupied,h=k.drawMask;if(h&&((n=C[0].getContext("2d")).save(),n.fillStyle=k.maskColor),I){var p=i.bounds;r={x:(t+p[3])*D,y:(e+p[0])*D,w:(p[1]-p[3]+1)*D,h:(p[2]-p[0]+1)*D}}for(var f=c.length;f--;){var d=t+c[f][0],g=e+c[f][1];if(!(w<=d||S<=g||d<0||g<0)){var v=H(i.item.id);v&&(i.item.color=v.color),o=d,a=g,s=h,l=r,u=i.item,w<=o||S<=a||o<0||a<0||(M[o][a]=!1,s&&C[0].getContext("2d").fillRect(o*D,a*D,y,y),I&&(B[o][a]={item:u,dimension:l}))}}h&&n.restore()}(l,u,e),{gx:l,gy:u,rot:o,info:e})},z=function(t){var e,i,n,r;Array.isArray(t)?(e=t[0],i=t[1]):(e=t.word,i=t.weight,n=t.attributes,r=t.id);var o=0===k.rotateRatio||Math.random()>k.rotateRatio?0:0===p?f:0<d?f+Math.floor(Math.random()*d)*p/d:f+Math.random()*p,a=function(t,e,i){var n,r=(n=e,Math.min(Math.max(k.minFontSize,k.maxFontSize*n/P),k.maxFontSize));if(r<=0)return!1;var o=1;r<G&&(o=function(){for(var t=2;t*r<G;)t+=2;return t}());var a=document.createElement("canvas"),s=a.getContext("2d",{willReadFrequently:!0});s.font=k.fontWeight+" "+(r*o).toString(10)+"px "+k.fontFamily;var l=s.measureText(t).width/o,u=Math.max(r*o,s.measureText("m").width,s.measureText("Ｗ").width)/o,c=l+2*u,h=3*u,p=Math.ceil(c/D),f=Math.ceil(h/D);c=p*D,h=f*D;var d,g=-l/2,v=.4*-u,y=Math.ceil((c*Math.abs(Math.sin(i))+h*Math.abs(Math.cos(i)))/D),m=Math.ceil((c*Math.abs(Math.cos(i))+h*Math.abs(Math.sin(i)))/D),x=m*D,b=y*D;a.setAttribute("width",x),a.setAttribute("height",b),s.scale(1/o,1/o),s.translate(x*o/2,b*o/2),s.rotate(-i),s.font=k.fontWeight+" "+(r*o).toString(10)+"px "+k.fontFamily,s.fillStyle="#000",s.textBaseline="middle",s.fillText(t,g*o,(v+.5*r)*o);try{d=s.getImageData(0,0,x,b).data}catch(t){return!1}if(R())return!1;for(var _,M,w,S=[],C=m,O=[y/2,m/2,y/2,m/2];C--;)for(_=y;_--;){w=D;t:for(;w--;)for(M=D;M--;)if(d[4*((_*D+w)*x+(C*D+M))+3]){S.push([C,_]),C<O[3]&&(O[3]=C),C>O[1]&&(O[1]=C),_<O[0]&&(O[0]=_),_>O[2]&&(O[2]=_);break t}}return{mu:o,occupied:S,bounds:O,gw:m,gh:y,fillTextOffsetX:g,fillTextOffsetY:v,fillTextWidth:l,fillTextHeight:u,fontSize:r}}(e,i,o);if(a&&(a.item=t),!a)return!1;if(R())return!1;if(!k.drawOutOfBound){var s=a.bounds;if(s[1]-s[3]+1>w||s[2]-s[0]+1>S)return!1}for(var l=L+1;l--;){var u=g(L-l);k.shuffle&&(u=[].concat(u),m(u));for(var c=0;c<u.length;c++){var h=v(u[c],a,e,i,L-l,o,n,r);if(h)return h}}return null},Y=function(i,n,r){if(n)return!C.some(function(t){var e=document.createEvent("CustomEvent");return e.initCustomEvent(i,!0,n,r||{}),!t.dispatchEvent(e)},this);C.forEach(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent(i,!0,n,r||{}),t.dispatchEvent(e)},this)},H=function(t){for(var e=0;e<O.length;e++){var i=O[e];if(O[e].id===t)return i}},l=function(t){if(void 0===t){var e=C[0];if(e.getContext)w=Math.ceil(e.width/D),S=Math.ceil(e.height/D);else{var i=e.getBoundingClientRect();w=Math.ceil(i.width/D),S=Math.ceil(i.height/D)}if(Y("wordcloudstart",!0)){var n,r,o;if(A=k.origin?[k.origin[0]/D,k.origin[1]/D]:[w/2,S/(_?4:2)],L=Math.floor(Math.sqrt(w*w+S*S)),M=[],!e.getContext||k.clearCanvas)for(C.forEach(function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=k.backgroundColor,e.clearRect(0,0,w*(D+1),S*(D+1)),e.fillRect(0,0,w*(D+1),S*(D+1))}else t.textContent="",t.style.backgroundColor=k.backgroundColor,t.style.position="relative"}),n=w;n--;)for(M[n]=[],r=S;r--;)M[n][r]=!0;else{var a=document.createElement("canvas").getContext("2d");a.fillStyle=k.backgroundColor,a.fillRect(0,0,1,1);var s,l,u=a.getImageData(0,0,1,1).data,c=e.getContext("2d").getImageData(0,0,w*D,S*D).data;for(n=w;n--;)for(M[n]=[],r=S;r--;){l=D;t:for(;l--;)for(s=D;s--;)for(o=4;o--;)if(c[4*((r*D+l)*w*D+(n*D+s))+o]!==u[o]){M[n][r]=!1;break t}!1!==M[n][r]&&(M[n][r]=!0)}c=a=u=void 0}if(k.onWordCloudHover||k.onWordCloudClick){for(I=!0,n=w+1;n--;)B[n]=[];k.onWordCloudHover&&e.addEventListener("mousemove",E),k.onWordCloudClick&&(e.addEventListener("click",F),e.addEventListener("touchstart",F),e.addEventListener("touchend",function(t){t.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function t(){e.removeEventListener("wordcloudstart",t),e.removeEventListener("mousemove",E),e.removeEventListener("click",F),j=void 0})}if(k.animatable){var h,p;p=(o=0)!==k.wait?(h=window.setTimeout,window.clearTimeout):(h=window.setImmediate,window.clearImmediate);var f=function(e,i){C.forEach(function(t){t.removeEventListener(e,i)},this)},d=function t(){f("wordcloudstart",t),p(g)};!function(e){C.forEach(function(t){t.addEventListener("wordcloudstart",e)},this)}(d);var g=h(function t(){if(o>=k.data.length)return p(g),Y("wordcloudstop",!1),void f("wordcloudstart",d);T=(new Date).getTime();var e=z(k.data[o]),i=!Y("wordclouddrawn",!0,{item:k.data[o],drawn:e});if(R()||i)return p(g),k.abort(),Y("wordcloudabort",!1),Y("wordcloudstop",!1),void f("wordcloudstart",d);o++,g=h(t,k.wait)},k.wait)}else{b.maskImage&&C.forEach(function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=k.backgroundColor,e.clearRect(0,0,w*(D+1),S*(D+1)),e.fillRect(0,0,w*(D+1),S*(D+1))}});for(var v=0;v<k.data.length;v++)z(k.data[v])}}}else if(k.selected!==t&&C[0].getContext){k.selected=t;var y=C[0].getContext("2d");y.fillStyle=k.backgroundColor,y.clearRect(0,0,C[0].width,C[0].height),y.fillRect(0,0,C[0].width,C[0].height);for(var m=0;m<O.length;m++){var x=O[m];N(x.gx,x.gy,x.info,x.word,x.weight,x.distance,x.theta,x.rotateDeg,x.attributes,x.id,!0)}}};l()}}function u(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}}var c=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!(e.getImageData&&e.fillText&&Array.prototype.some&&Array.prototype.push)}(),G=function(){if(c){for(var t,e,i=document.createElement("canvas").getContext("2d"),n=20;n;){if(i.font=n.toString(10)+"px sans-serif",i.measureText("Ｗ").width===t&&i.measureText("m").width===e)return n+1;t=i.measureText("Ｗ").width,e=i.measureText("m").width,n--}return 0}}();n.isSupported=c,n.minFontSize=G,e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(300)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="rose",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=n.__importStar(i(0)),r=i(7),o=n.__importDefault(i(8)),s=i(9),l=i(12),u=n.__importStar(i(37));i(301);var c,h={rose:"interval"},p={rose:"column"},f=(c=o.default,n.__extends(d,c),d.getDefaultOptions=function(){return a.deepMix({},c.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!1,crosshairs:null},columnStyle:{stroke:"white",lineWidth:1},xAxis:{autoRotateLabel:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,style:{lineWidth:.5}},label:{offset:5}},yAxis:{visible:!1}})},d.prototype.getOptions=function(t){var e=c.prototype.getOptions.call(this,t),i=this.constructor.getDefaultOptions(),n=t.sectorStyle,r=t.categoryField,o=t.radiusField;return a.deepMix({},e,i,{columnStyle:n,xField:r,yField:o},t)},d.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},d.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},d.prototype.axis=function(){c.prototype.axis.call(this);var t=this.options;t.stackField||t.groupField||this.setConfig("axes",!1)},d.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coord",e)},d.prototype.addGeometry=function(){var t=this.options;this.adjustColorFieldMapping(),this.adjustLegendOptions();var e=l.getGeom("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,this.setConfig("element",e)},d.prototype.adjustColorFieldMapping=function(){var t=this.options;(t.stackField||t.groupField)&&(this.options.colorField=null)},d.prototype.adjustRoseAdjust=function(){return this.options.stackField?[{type:"stack"}]:this.options.groupField?[{type:"dodge",marginRatio:0}]:null},d.prototype.animation=function(){c.prototype.animation.call(this),!1===this.options.animation&&(this.rose.animate=!1)},d.prototype.annotation=function(){},d.prototype.parseEvents=function(t){c.prototype.parseEvents.call(this,u)},d.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=a.deepMix({},t.label);this.adjustLabelOptions(e);var i=[t.categoryField,t.radiusField];return(t.stackField||t.groupField)&&i.push(t.stackField||t.groupField),s.getComponent("label",n.__assign({plot:this,labelType:"roseLabel",fields:i},e))},d.prototype.adjustLabelOptions=function(t){var i=this.options.radiusField;if(t){var e=t.offset,n=t.type,r=t.formatter;"inner"===n?t.offset=e<0?e:-10:"outer"===n&&(t.offset=0<=e?e:10),r||(t.formatter=function(t,e){return""+e._origin[i]})}},d.prototype.adjustLegendOptions=function(){var t=this.options,e=t.legend;e&&(t.stackField||t.groupField||(e.clickable=!1))},d);function d(){var t=null!==c&&c.apply(this,arguments)||this;return t.type="rose",t}e.default=f,r.registerPlotType("rose",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=i(1),r=i(5),o=n.__importStar(i(0)),m=i(33),x=i(15),b=i(302),a=(s=r.getElementLabels("polar"),n.__extends(l,s),l.prototype.showLabels=function(t,u){var c=this;s.prototype.showLabels.call(this,t,u);var e=this.get("labelsRenderer").get("group").get("children"),i=this.get("element").get("view"),n=this.get("labelOptions"),r=n.fields,h=n.offset,p=n.adjustColor,f=n.type,o=i.get("coord"),d=o.center,g=o.startAngle,v=r[0],a=r[2],y=i.get("scales")[v];a||e.forEach(function(t){var e=t.get("origin"),i=c.get("element").getShapeId(e),n=c._getShape(i,u),r=y.scale(e[v]),o=g+2*Math.PI*r,a=n.get("origin"),s=x.distBetweenPoints(d,a)+h,l=m.getEndPoint(d,o,s);t.attr("x",l.x),t.attr("y",l.y),t.attr("textBaseline","middle"),c.adjustTextAlign(t,n),p&&"inner"===f&&b.autoAdjustColor(t,n)}),i.get("canvas").draw()},l.prototype._getShape=function(e,t){var i;return o.each(t,function(t){t.id===e&&(i=t)}),i},l.prototype.adjustTextAlign=function(t,e){var i=t.getBBox(),n=i.x+i.width/2,r=(i.y,i.height,e.get("origin")),o=this.get("labelOptions").autoRotate;t.attr("textAlign","center"),o||(n>r.x?t.attr("textAlign","left"):n<r.x&&t.attr("textAlign","right"))},l);function l(){return null!==s&&s.apply(this,arguments)||this}e.RoseLabels=a,r.registerElementLabels("roseLabel",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),c=i(21),h=n.__importStar(i(0));function p(t,e){var i;return h.each(t,function(t){e>=t.from&&e<t.to&&(i=t.color)}),i}e.mappingColor=p,e.autoAdjustColor=function(t,e){var i=t.getBBox(),n=e.getBBox();if(i.minY>=n.minY&&i.maxY<=n.maxY){var r=e.attr("fill"),o=e.attr("opacity")?e.attr("opacity"):1,a=c.rgb2arr(r),s=p([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*a[0]+.587*a[1]+.114*a[2])/o);t.attr("fill",s),"black"!==s?(t.attr("stroke",null),t.attr("lineWidth",0)):(t.attr("stroke","white"),t.attr("lineWidth",2))}else if(i.maxY<n.minY){var l=this.get("theme"),u=h.get(l,"label.textStyle.fill","black");t.attr("fill",u)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(304)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="bullet",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=r.__importStar(i(0)),o=r.__importStar(i(305)),a=r.__importDefault(i(8)),s=i(17),l=i(9),u=i(12),c=i(7),h=r.__importDefault(i(306)),p=r.__importDefault(i(307));i(53);var f={bullet:"interval"},d={interval:"bullet"};e.STACK_FIELD="$$stackField$$",e.X_FIELD="$$xField$$",e.Y_FIELD="$$yField$$";var g,v=(g=a.default,r.__extends(y,g),y.getDefaultOptions=function(){return n.deepMix({},g.getDefaultOptions.call(this),{data:[],stackField:e.STACK_FIELD,xField:e.X_FIELD,yField:e.Y_FIELD,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},y.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},n.has(t,"yAxis")&&s.extractScale(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},n.has(t,"xAxis")&&s.extractScale(e[t.xField],t.xAxis),this.setConfig("scales",e),g.prototype.scale.call(this)},y.prototype.getOptions=function(t){var e=g.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},y.prototype.afterInit=function(){g.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(t){return t.ranges}),i=t.data.map(function(t){return t.targets});this.bulletRect=new h.default(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new p.default(this.view,{targets:i,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},y.prototype.geometryParser=function(t,e){return"g2"===t?f[e]:d[e]},y.prototype.coord=function(){this.setConfig("coord",{actions:[["transpose"]]})},y.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,i=[{value:"实际进度",marker:{symbol:"square",fill:(t.measureColors||this.theme.colors)[0]}},{value:"目标值",marker:{symbol:"line",stroke:e,lineWidth:2}}],n=r.__assign(r.__assign({custom:!0,items:i},t.legend),{clickable:!1});this.setConfig("legends",n)},y.prototype.addGeometry=function(){var t=this.options,e=u.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("element",e)},y.prototype.parseEvents=function(t){g.prototype.parseEvents.call(this,o)},y.prototype.extractLabel=function(){var t=this.options,e=n.deepMix({},t.label);return!1!==e.visible&&l.getComponent("label",r.__assign({plot:this,labelType:"barLabel",fields:[t.yField]},e))},y.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},y.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(t){return e.push(t.measures.reduce(function(t,e){return t+e},0))}),e.push(t.rangeMax),t.yAxis.maxLimit=Math.max.apply([],e)},y.prototype.processData=function(t){var a=this.options,s=[];return t.forEach(function(t,e){for(var i,n=0;n<t.measures.length;n+=1){var r=t.measures[n],o=t.title||""+e;s.push(((i={})[a.xField]=o,i[a.yField]=r,i[a.stackField]=""+n,i))}}),s},y);function y(){var t=null!==g&&g.apply(this,arguments)||this;return t.type="bullet",t}e.default=v,c.registerPlotType("bullet",v)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(37);e.EVENT_MAP=n.EVENT_MAP,e.onEvent=n.onEvent},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(2),d=p.__importStar(i(0)),n=(r.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.get("panelGroup").addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var t=this.view.get("elements")[0].get("shapeContainer").get("children"),e=0;e<this.cfg.ranges.length;e+=1){var i=t[e].getBBox(),n=i.width/t[e].get("origin")._origin[this.cfg.yField];this.drawRect(i,this.cfg.ranges[e]||[0,1],n)}this.view.get("canvas").draw()}},r.prototype.drawRect=function(t,e,i){for(var n,r=this.cfg,o=r.rangeColors,a=t.minX,s=t.minY-t.height*(r.rangeSize-1)/2,l=1;l<e.length;l+=1){var u=(e[l]-e[l-1])*r.rangeMax*i;n=this.container.addShape("rect",{attrs:{width:u,height:t.height*r.rangeSize,x:a,y:s,fill:o[(l-1)%o.length],fillOpacity:.25}}).set("zIndex",-1),a+=u,n.name="bullet-rect"}if(r.axis&&r.axis.visible){var c=r.rangeMax/(r.axis.tickCount-1),h=new f.BBox(t.x,s,a,t.height*r.rangeSize);this.drawBulletTicks(h,c,i)}},r.prototype.drawBulletTicks=function(t,e,i){for(var n=this.cfg,r=n.axis.style,o=n.axis.tickCount,a=n.axis.position,s=d.get(r,"lineHeight",0)-r.fontSize/2,l=0;l<o;l+=1){var u=t.minX+e*l*i,c=""+e*l;if(n.axis.formatter&&(c=n.axis.formatter(c,l)),this.container.addShape("text",{attrs:p.__assign({x:u,y:"before"===a?t.minY-s:t.maxY+s,text:""+c},r)}).name="tick",n.axis.tickLine&&n.axis.tickLine.visible){var h=n.axis.tickLine;0<l&&l!==o-1&&this.container.addShape("path",{attrs:p.__assign({path:[["M",u,t.minY],["L",u,t.maxY]]},h)}).set("zIndex",-1)}}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destory=function(){this.container&&this.container.remove()},r.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},r);function r(t,e){this.view=t,this.cfg=e,this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),n=(r.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.get("frontgroundGroup").addGroup(),this.container.set("name","targetGroups");for(var t=this.view.get("elements")[0].get("shapeContainer").get("children"),e=0;e<this.cfg.targets.length;e+=1){var i=t[e].getBBox(),n=i.width/t[e].get("origin")._origin[this.cfg.yField];this.drawTarget(i,this.cfg.targets[e],n)}this.view.get("canvas").draw()}},r.prototype.drawTarget=function(n,t,r){var o=this,a=this.cfg,s=a.markerColors;t.forEach(function(t,e){var i=a.markerStyle;o.container.addShape("rect",{attrs:l.__assign(l.__assign({width:i.width,height:n.height*a.markerSize-i.width/2,x:n.minX+t*r,y:n.minY-n.height*(a.markerSize-1)/2},i),{fill:s[e%s.length]||i.fill})}).name="bullet-target"})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destory=function(){this.container&&this.container.remove()},r.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},r);function r(t,e){this.view=t,this.cfg=e,this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(309)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="sunburst",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(1),l=o.__importStar(i(0)),n=i(7),a=o.__importDefault(i(8)),s=o.__importDefault(i(310)),u=i(312),c=o.__importDefault(i(314)),h=o.__importStar(i(315)),p=(r=a.default,o.__extends(f,r),f.getDefaultOptions=function(){return l.deepMix({},r.getDefaultOptions.call(this),{radius:.8,innerRadius:0,maxLevel:1/0,padding:[0,0,0,0],tooltip:{showTitle:!1,visible:!0,shared:!1,crosshairs:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},label:{visible:!0},xField:"x",yField:"y",meta:{x:{nice:!1},y:{nice:!1}}})},f.prototype.beforeInit=function(){var e=this;r.prototype.beforeInit.call(this);var t=this.options.data,i=this.getSunburstData(t);this.rootData=i,this.adjustLinearScale(i);var n=this.options.interactions;n&&l.each(n,function(t){"drilldown"===t.type&&(e.isDrilldown=!0)})},f.prototype.geometryParser=function(t,e){return"polygon"},f.prototype.getSunburstData=function(t,e){t.depth=0;var i=s.default(t),n=[];return this.getAllNodes(i.children,n,e),n.push(o.__assign(o.__assign({},i),{x:[i.x0,i.x1,i.x1,i.x0,i.x1],y:[i.y1,i.y1,i.y0,i.y0,i.y0]})),n.sort(function(t,e){return t.depth-e.depth}),this.options.xField="x",this.options.yField="y",n},f.prototype.processData=function(){return this.rootData},f.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coord",e)},f.prototype.addGeometry=function(){var r=this,t=this.options,e=t.data,i=(t.colorField,t.color,this.getSunburstData(e));this.rootData=i,this.rect={type:"polygon",position:{fields:["x","y"]},color:this.getColorConfig(i),tooltip:{fields:["name"]},label:!1,style:{fields:["name","value","depth"],callback:function(t,e,i){var n=r.adjustStyleByDepth(i);return l.isFunction(r.options.sunburstStyle)?r.options.sunburstStyle(t,e,i):l.deepMix({},n,r.options.sunburstStyle)}}},this.setConfig("element",this.rect)},f.prototype.animation=function(){r.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},f.prototype.applyInteractions=function(){var n=this,t=this.options.interactions,r=this.view.get("interactions");l.each(t,function(t){var e=u.INTERACTION_MAP[t.type];if(e){var i=new e(l.deepMix({},{view:n.view,plot:n,startEvent:"polygon:click"},t.cfg));r[t.type]=i}})},f.prototype.parseEvents=function(t){r.prototype.parseEvents.call(this,h)},f.prototype.afterRender=function(){this.options.label&&this.options.label.visible&&new c.default(o.__assign({view:this.view,plot:this},this.options.label)).render(),r.prototype.afterRender.call(this)},f.prototype.getAllNodes=function(t,e,i){var n=this,r=i||this.options.maxLevel;l.each(t,function(t){l.hasKey(t,"x0")&&t.depth<=r&&e.push(o.__assign(o.__assign({},t),{y:[t.x0,t.x1,t.x1,t.x0],x:[t.y1,t.y1,t.y0,t.y0]})),l.hasKey(t,"children")&&n.getAllNodes(t.children,e)})},f.prototype.getColorConfig=function(t){var e=this.options,i=e.colorField,n=e.colors;if(l.isFunction(n))return{fields:[i],callback:n};if(l.isString(t[0][i])){var r,o=[];if(l.each(t,function(t){var e=t[i];l.has(e,o)||o.push(e)}),n)r=n;else{var a=this.getTheme();r=8<=o.length?a.colors_20:a.colors}var s={};return l.each(o,function(t,e){var i=e<=o.length-1?e:e-o.length,n=r[i];s[t]=n}),{fields:[i],callback:function(t){return s[t]}}}return{fields:[i],values:n}},f.prototype.adjustLinearScale=function(t){var e=this.options,i=e.colorField,n=e.meta;if(l.isNumber(t[0][i])){var r=1/0,o=-1/0;l.each(t,function(t){var e=t[i];r=Math.min(e,r),o=Math.max(e,o)});var a=n[i];n[i]=l.deepMix({},a,{min:r,max:o})}},f.prototype.adjustStyleByDepth=function(t){return 0<t?{stroke:"#ffffff",lineWidth:1}:{}},f);function f(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="sunburst",t}e.default=p,n.registerPlotType("sunburst",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(311);var o=i(96),n=i(0);e.default=function(t){return function e(i){i.x0=0,i.x1=1;var t=i.children;t&&n.each(t,function(t){t.parent=i,t.depth=i.depth+1,e(t)})}(t),t.x0=0,t.y0=0,t.x1=1,t.y1=1,function(t,e){for(var i=[t],n=t;n=i.pop();){e(n);var r=n.children;if(r)for(var o=r.length-1;0<=o;--o)i.push(r[o])}}(t,function(t){t.children&&o.dice(t,t.x0,+(t.depth+1),t.x1,+(t.depth+2));var e=t.x0,i=t.y0,n=t.x1,r=t.y1;n<e&&(e=n=(e+n)/2),r<i&&(i=r=(i+r)/2),t.x0=e,t.y0=i,t.x1=n,t.y1=r}),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.round=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(313));e.INTERACTION_MAP={drilldown:n.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(1),r=s.__importDefault(i(97)),o=s.__importDefault(i(26)),l=i(2),a=i(0),u=(n=o.default,s.__extends(c,n),c.getInteractionRange=function(t,e){var i,n=(void 0===(i=e)&&(i={}),s.__assign({x:0,y:0,startNode:{name:"root"},itemWidth:100,itemHeight:30,padding:[0,0,0,0]},i)),r=n.padding,o=r[0],a=r[1];return new l.BBox(t.minX,t.maxY-n.itemHeight-o-a,t.width,n.itemHeight+o+a)},c.prototype.start=function(t){var e=t.data._origin;e.children&&(this.parentNode={shape:t.target,data:{name:a.clone(this.currentNode.name),value:a.clone(this.currentNode.value)},depth:a.clone(this.currentDepth)},this.currentDepth++,this.update(e))},c.prototype.update=function(t){a.hasKey(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getSunburstData(t,this.plot.options.maxLevel);this.view.changeData(e),this.currentNode=t,this.render()},c.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),"root"===this.startNode.name?(this.startNodeName=a.hasKey(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.get("viewRange").maxY+10,this.breadcrumb=new r.default({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.render(),this.layout();this.onInteraction()},c.prototype.clear=function(){},c.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y})},c.prototype.getItems=function(){var i=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var t=this.getRootItem();i.push(t)}else{i=[];var e=[];this.findParent(this.currentNode,e),e.reverse(),a.each(e,function(t,e){i.push({key:String(e+1),text:t.name,data:t})}),i.push({key:String(e.length+2),text:this.currentNode.name,data:this.currentNode})}return i},c.prototype.findParent=function(t,e){t.parent&&(a.hasKey(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e))},c.prototype.onInteraction=function(){var n=this;this.container.on("click",function(t){var e=t.target.get("parent");if(e&&"item-group"===e.get("class")){var i=e.get("data");if(i.data)if(i.text===n.startNodeName)n.currentDepth,n.updateRoot(i),n.currentDepth=1;else{if(n.currentNode===i.data)return;a.clone(n.currentDepth),n.currentDepth=parseInt(i.key),n.currentDepth,n.update(i.data)}}})},c.prototype.getRootItem=function(){var t=this.plot.options.data;return{key:"1",text:a.hasKey(t,"name")?t.name:"root",data:this.plot.rootData}},c.prototype.saveOriginMapping=function(){var t=this.plot.options,e={field:t.colorField,values:t.colors};this.originMapping=e},c.prototype.initGeometry=function(){this.geometry=this.view.get("elements")[0];var t=this.view.get("viewRange"),e=this.geometry.get("container"),i=new l.Rect({attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}});e.attr("clip",i)},c.prototype.updateRoot=function(t){var e=this.plot.getSunburstData(t.data,this.plot.options.maxLevel);this.view.changeData(e),this.currentNode=this.plot.options.data,this.render()},c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u,o.default.registerInteraction("drilldown",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(0),n=(r.prototype.init=function(){var t=this,e=this.view.get("elements")[0].get("container");this.container=e.addGroup(),this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var s=this,t=this.view.get("elements")[0],e=t.getShapes();l.each(e,function(t){var e=s.options.style,i=s.getPosition(t),n=s.getValue(t),r=s.options.formatter,o=r?r(n):n,a=s.getRotate(i.angle);s.container.addShape("text",{attrs:l.deepMix({},e,{x:i.x,y:i.y,text:o,textAlign:"center",textBaseline:"middle",rotate:a})})}),t.get("labelController").labelsContainer=this.container,this.plot.canvas.draw()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destory=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=l.clone(t.label.style);return e.fontSize||(e.fontSize=11),e.lineHeight=e.fontSize,e.stroke=null,{position:"outer",offsetX:0,offsetY:0,style:e,adjustColor:!0,adjustPosition:!0}},r.prototype.getPosition=function(t){var e,i,n,r,o,a=t.get("coord");if(1<=t.get("origin")._origin.depth){var s=t.get("origin").points,l=(s[0].x+s[1].x+s[2].x+s[3].x)/4,u=(s[0].y+s[1].y+s[2].y+s[3].y)/4;e=a.convertPoint({x:l,y:u}),n=a,r={x:e.x,y:e.y},o=n.getCenter(),i=Math.atan2(r.y-o.y,r.x-o.x)}else{var c=t.getBBox();e={x:l=c.minX+c.width/2,y:u=c.minY+c.height/2},i=0}return{x:e.x,y:e.y,angle:i}},r.prototype.getValue=function(t){var e=this.plot.options.colorField,i=t.get("origin")._origin[e];this.plot.options.label&&this.plot.options.label.field&&(i=t.get("origin")._origin[this.plot.options.label.field]);var n=String(i).split(" ");return 1<n.length?n.join("\n"):n[0]},r.prototype.getRotate=function(t){var e=180*t/Math.PI;return e&&(90<e?e-=180:e<-90&&(e+=180)),e/180*Math.PI},r);function r(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=l.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onSunburstClick:"polygon:click",onSunburstDblclick:"polygon:dblclick",onSunburstMousemove:"polygon:mousemove",onSunburstMouseenter:"polygon:mouseenter",onSunburstMouseleave:"polygon:mouseleave",onSunburstMousedown:"polygon:mousedown",onSunburstMouseup:"polygon:mouseup",onSunburstContextmenu:"polygon:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(98)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="progress",n.prototype.createLayers.call(this,e)},u.prototype.update=function(t,e){this.layers[0].update(t,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),s=r.__importStar(i(0)),n=(o.prototype.destroy=function(){this.shape&&this.shape.destroy()},o.prototype.update=function(t,e,i){var n={};if(s.assign(this,t),this.coord=this.view.get("coord"),t.value){var r=[1,0,0,0,1,0,this.coord.convert({x:0,y:this.value}).x,0,1];n.matrix=r}if(t.style){var o=this.shape.attrs,a=s.deepMix({},o,t.style);n=s.deepMix({},a,n)}this.shape.stopAnimate(),this.shape.animate(n,e,i)},o.prototype.init=function(){this.coord=this.view.get("coord"),this.container=this.view.get("container");var t=this.coord.convert({x:0,y:this.value}).x,e=this.coord.center.y-this.progressSize/2-2,i=this.coord.center.y+this.progressSize/2+2,n=s.deepMix({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:r.__assign({path:[["M",0,e],["L",0,i]]},n),name:"progress-marker"}),this.shape.move(t,0),this.canvas.draw()},o);function o(t){s.assign(this,t),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onProgressClick:"interval:click",onProgressDblclick:"interval:dblclick",onProgressMousemove:"interval:mousemove",onProgressMousedown:"interval:mousedown",onProgressMouseup:"interval:mouseup",onProgressMouseenter:"progress:mouseenter",onProgressMouseleave:"progress:mouseleave",onProgressContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(320)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="ringProgress",n.prototype.createLayers.call(this,e)},u.prototype.update=function(t){this.layers[0].update(t)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=i(7),s=i(12),l=r.__importDefault(i(98)),u=i(321),c=r.__importStar(i(322)),h=["#55A6F3","#E8EDF3"],p=(n=l.default,r.__extends(f,n),f.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||h};t=o.mix(t,e)},f.prototype.afterRender=function(){n.prototype.afterRender.call(this);var r=this.view.get("coord"),t=this.view.get("elements");o.each(t,function(t){var e=t.getShapes();o.each(e,function(t){var e=u.getAngle(t,r),i=e.startAngle,n=e.endAngle;u.setShapeInfo(t,i,n)})})},f.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coord",t)},f.prototype.annotation=function(){},f.prototype.addGeometry=function(){var t=this.options;this.ring=s.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("element",this.ring)},f.prototype.animation=function(){this.ring.animate={appear:{duration:1e3},update:{easing:"easeLinear",animation:"groupProgress",duration:1e3}}},f.prototype.parseEvents=function(t){n.prototype.parseEvents.call(this,c)},f.prototype.getThickness=function(t){var e=this.width,i=this.height,n=Math.min(e,i);return t?1-t/n:60<=n?1-20/n:1-10/n},f);function f(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="ringProgrsss",t}e.default=p,a.registerPlotType("ringProgress",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importStar(i(2)),r=i(5),m=n.__importStar(i(0)),x={};function b(t,e,i){x[t.id]||(x[t.id]={}),x[t.id].preStart=e,x[t.id].preEnd=i,x[t.id].prePath=t.attr("path")}function _(t,e,i){var n=t.getCenter(),r=t.getRadius();return new o.Shapes.Fan({attrs:{x:n.x,y:n.y,rs:0,re:r+200,startAngle:e,endAngle:i}})}function M(t,e){var i,n,r=function(t){if(m.isEmpty(t))return null;var e=t[0].x,i=t[0].x,n=t[0].y,r=t[0].y;return m.each(t,function(t){e=e>t.x?t.x:e,i=i<t.x?t.x:i,n=n>t.y?t.y:n,r=r<t.y?t.y:r}),{minX:e,maxX:i,minY:n,maxY:r,centerX:(e+i)/2,centerY:(n+r)/2}}(t.points||t.get("origin").points),o=e.startAngle,a=e.endAngle-o;return n=e.isTransposed?(i=r.maxY*a,r.minY*a):(i=r.maxX*a,r.minX*a),{startAngle:n+=o,endAngle:i+=o}}e.setShapeInfo=b,e.getAngle=M,r.Animate.registerAnimation("update","groupProgress",function(t,e,i){var n,r=t.attr("path"),o={},a=t.get("index"),s=M(t,i),l=s.startAngle,u=s.endAngle;if(x[t.id]){var c=x[t.id]||null,h=c.preStart,p=c.preEnd,f=c.prePath,d=h===l?"start":"end",g=h<l||u<p?"antiClockWise":"clockWise";"antiClockWise"==g&&t.attr("path",f),"start"==d?(n=_(i,l,p),o.endAngle=u):(n=_(i,h,u),o.startAngle=l),t.attr("clip",n),t.setSilent("animating",!0),e.callback=function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),n.remove(),"antiClockWise"==g&&t.attr("path",r))};var v=e.delay;m.isFunction(v)&&(v=e.delay(a));var y=e.easing;m.isFunction(y)&&(y=e.easing(a)),n.animate(o,e.duration,y,e.callback,v)}b(t,l,u)})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onRingProgressClick:"interval:click",onRingProgressDblclick:"interval:dblclick",onRingProgressMousemove:"interval:mousemove",onRingProgressMousedown:"interval:mousedown",onRingProgressMouseup:"interval:mouseup",onRingProgressMouseenter:"interval:mouseenter",onRingProgressMouseleave:"interval:mouseleave",onRingProgressContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(324)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="tinyColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=i(7),s=i(12),l=r.__importDefault(i(34)),u=r.__importStar(i(325)),c={column:"interval"},h={interval:"column"},p=(n=l.default,r.__extends(f,n),f.prototype.init=function(){this.processProps(),n.prototype.init.call(this)},f.prototype.geometryParser=function(t,e){return"g2"===t?c[e]:h[e]},f.prototype.scale=function(){var t={};t[this.options.xField]={type:"cat"},this.setConfig("scales",t)},f.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("element",e)},f.prototype.parseEvents=function(t){n.prototype.parseEvents.call(this,u)},f.prototype.processProps=function(){var t=this.options,e={padding:[0,0,0,0],columnSize:this.getSize()};t=o.mix(t,e)},f.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField);return this.width/e*.6},f.prototype.getColumnNum=function(t,i){var n=[];return o.each(t,function(t){var e=t[i];n.indexOf(e)<0&&n.push(e)}),n.length},f);function f(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyColumn",t}e.default=p,a.registerPlotType("tinyColumn",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(327)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="tinyArea",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(7),a=i(12),s=r.__importDefault(i(34)),l=r.__importStar(i(328)),u={area:"area",line:"line"},c=(n=s.default,r.__extends(h,n),h.prototype.geometryParser=function(t,e){return u[e]},h.prototype.addGeometry=function(){this.area=a.getGeom("area","mini",{plot:this}),this.setConfig("element",this.area),this.line=a.getGeom("line","mini",{plot:this}),this.setConfig("element",this.line)},h.prototype.parseEvents=function(t){n.prototype.parseEvents.call(this,l)},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyArea",t}e.default=c,o.registerPlotType("tinyArea",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importStar(i(0)),a=r.__importDefault(i(6)),s=r.__importDefault(i(330)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="tinyLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(7),a=i(12),s=r.__importDefault(i(34)),l=r.__importStar(i(331)),u={line:"line"},c=(n=s.default,r.__extends(h,n),h.prototype.geometryParser=function(t,e){return u[e]},h.prototype.addGeometry=function(){this.line=a.getGeom("line","mini",{plot:this}),this.setConfig("element",this.line)},h.prototype.parseEvents=function(t){n.prototype.parseEvents.call(this,l)},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyLine",t}e.default=c,o.registerPlotType("tinyLine",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(0)),r=i(10);e.EVENT_MAP=r.EVENT_MAP,e.onEvent=r.onEvent,n.assign(r.EVENT_MAP,{onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(333)),p=n.__importStar(i(0)),l=i(7),o=n.__importDefault(i(29));i(70);var a,f=n.__importStar(i(334)),d=i(100),g=i(23),s=(a=r.default,n.__extends(u,a),u.prototype.getDefaultOptions=function(){return{xAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,autoHideLabel:!1,autoRotateLabel:!1,autoRotateTitle:!0,grid:{visible:!0},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0},title:{visible:!1,offset:12},colorMapping:!0,synchroTick:!0},label:{visible:!1},tooltip:{visible:!0,sort:!0},legend:{visible:!0,position:"top-left"}}},u.prototype.createComboLayers=function(){var s=this;a.prototype.createComboLayers.call(this),this.legendInfo=[],this.axisInfo=[],this.paddingComponents=[],this.globalComponents=[],this.singleGeomCount=0,this.backLayer=new o.default({canvas:this.getCanvas(),width:this.width,height:this.height}),0<this.options.layers.length&&p.each(this.options.layers,function(t){var e,i,n=s.getOverlappedConfig(t),r=l.getPlotType(t.type),o=p.deepMix({},t,{canvas:s.canvas,x:0,y:0,width:s.width,height:s.height},n),a=new r(o);a.hide(),a.render(),(e=s.axisInfo).push.apply(e,f.getAxisData(a,o,s.globalOptions)),(i=s.legendInfo).push.apply(i,f.getLegendData(a,o)),s.addLayer(a)}),this.topLayer=new o.default({canvas:this.getCanvas(),width:this.width,height:this.height})},u.prototype.getOverlappedConfig=function(t){var e=f.getColorConfig(t.type,t,this.singleGeomCount);return e&&e.single&&this.singleGeomCount++,p.deepMix({},{xAxis:{visible:!1},yAxis:{visible:!1},legend:{visible:!1},tooltip:{visible:!1},padding:[0,0,0,0],color:e?e.color:null})},u.prototype.overlappingLegend=function(){var t=f.mergeLegendData(this.legendInfo);return this.legendContainer=this.topLayer.container.addGroup(),f.createLegend(t,this.width,this.height,this.getCanvas(),this.globalOptions.legend.position)},u.prototype.render=function(){var t,e=this;this.doDestroy(),this.createComboLayers();var i=g.getGlobalTheme().bleeding;if(this.globalOptions.legend.visible){var n=this.overlappingLegend();this.globalComponents.push({type:"legend",component:n.component}),this.paddingComponents.push(n)}var r=d.getOverlappingPadding(this.layers[0],this.paddingComponents),o=f.axesLayout(this.globalOptions,this.axisInfo,r,this.layers[0],this.width,this.height,this.getCanvas());(t=this.paddingComponents).push.apply(t,o),p.each(o,function(t){e.globalComponents.push({type:"axis",component:t.component})});var a=d.getOverlappingPadding(this.layers[0],this.paddingComponents);if(this.globalOptions.xAxis.visible||(a[2]+=i[2]),p.each(this.layers,function(t){t.updateConfig({padding:a}),t.show(),t.render(),t.view.get("backgroundGroup").get("backShape").remove(),t.view.get("panelGroup").get("backShape").remove()}),this.globalOptions.yAxis.grid.visible){var s=o[0].component,l=this.layers[0],u=l.view.get("coord"),c=l.view.get("backgroundGroup");f.drawYGrid(s,u,c,this.globalOptions)}if(this.globalOptions.tooltip.visible){var h=f.showTooltip(this.canvas,this.layers,this.globalOptions.tooltip);this.globalComponents.push({type:"tooltip",component:h})}},u.prototype.doDestroy=function(){this.clearComponents(),this.eachLayer(function(t){t.destroy()}),this.layers=[]},u.prototype.clearComponents=function(){p.each(this.globalComponents,function(t){"legend"!==t.type&&"tooltip"!==t.type||t.component.destroy(),"axis"===t.type&&t.component.clear()}),this.paddingComponents=[],this.globalComponents=[]},u);function u(t,e){var i=a.call(this,t,e)||this;return i.options=e,i}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(6)),a=i(0),s=(n=o.default,r.__extends(l,n),l.prototype.getDefaultOptions=function(){return{}},l.prototype.getGlobalOptions=function(t){return{xAxis:t.xAxis,yAxis:t.yAxis,theme:t.theme,legend:t.legend}},l.prototype.createComboLayers=function(){this.globalOptions=a.deepMix({},this.getDefaultOptions(),this.getGlobalOptions(this.options))},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(99);e.getColorConfig=n.getColorConfig;var r=i(335);e.getLegendData=r.getLegendData,e.mergeLegendData=r.mergeLegendData,e.createLegend=r.createLegend;var o=i(336);e.getAxisData=o.getAxisData,e.mergeAxisScale=o.mergeAxisScale,e.createAxis=o.createAxis,e.axesLayout=o.axesLayout,e.drawYGrid=o.drawYGrid;var a=i(337);e.showTooltip=a.showTooltip},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),d=i(13),g=i(2),v=n.__importStar(i(0)),y=i(23);e.getLegendData=function(a,t){var s=[],l=a.view.get("elements")[0],u=l.getAttr("color"),e={isInCircle:l.isInCircle(),color:u.values[0]},i=l.get("shapeFactory").getMarkerStyle(l.get("type"),e);if(0===u.scales.length)s.push({value:t.name,checked:!0,marker:i,isSingle:!0,layer:a});else{var n=u.scales[0].values;v.each(n,function(t,e){var i=u.values[e],n=t,r={isInCircle:l.isInCircle(),color:i},o=l.get("shapeFactory").getMarkerStyle(l.get("type"),r);s.push({field:u.scales[0].field,value:n,checked:!0,marker:o,isSingle:!1,layer:a})})}return s},e.mergeLegendData=function(t){return t},e.createLegend=function(t,e,i,n,r){var o=y.getGlobalTheme().legend,a=r.split("-"),s="horizontal";"left"!==a[0]&&"right"!==a[0]||(s="vertical");var l,u={type:"category-legend",items:t,maxSize:e,container:n.addGroup(),layout:s,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20},titleDistance:10,autoWrap:!0,itemMarginBottom:4,backgroundPadding:0,maxLength:e},c=new d.Legend.CanvasCategory(u);!function(t,e,i,n){console.log(n);var r=y.getGlobalTheme().bleeding;v.isArray(r)&&v.each(r,function(t,e){"function"==typeof r[e]&&(r[e]=r[e]({}))});var o=i.get("itemsGroup").getBBox(),a=0,s=0,l=n.split("-");"left"===l[0]?a=r[3]:"right"===l[0]?a=t-r[1]-o.width:"center"===l[1]?a=(t-o.width)/2:"left"===l[1]?a=r[3]:"right"===l[1]&&(a=t-r[1]-o.width),"bottom"===l[0]?s=e-r[2]-o.height:"top"===l[0]?s=r[0]:"center"===l[1]?s=(e-o.height)/2:"top"===l[1]?s=r[0]:"bottom"===l[1]&&(s=e-r[2]-o.height),i.moveTo(a,s),i.draw()}(e,i,c,r),l=[],c.on("itemclick",function(t){var e=t.item,i=t.checked;if(e.isSingle)i?e.layer.show():e.layer.hide();else{var n=e.layer.view;i?(v.pull(l,e.value),n.filter(e.value,function(t){return!v.contains(l,t)}),n.repaint(),e.layer.visibility||e.layer.show()):(l.push(e.value),n.filter(e.field,function(t){return!v.contains(l,t)}),n.repaint(),0===n.get("filteredData").length?e.layer.hide():e.layer.visibility||e.layer.show())}});var h,p=c.get("itemsGroup").getBBox(),f=o.innerPadding;return"left"===a[0]?h=new g.BBox(c.get("x")+f[3],c.get("y"),p.width,p.height):"right"===a[0]?h=new g.BBox(c.get("x")-f[1],c.get("y"),p.width,p.height):"top"===a[0]?h=new g.BBox(c.get("x"),c.get("y")+f[0],p.width,p.height):"bottom"===a[0]&&(h=new g.BBox(c.get("x"),c.get("y")-f[2],p.width,p.height)),{position:a[0],component:c,getBBox:function(){return h}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(1),_=i(13),v=i(2),u=i(11),M=c.__importStar(i(0)),w=i(20),s=i(99),y=i(100),S=i(9);function m(t,e,i){return"x"===e?p(a=t.filter(function(t){if("x"===t.dim)return t}))?"cat"===a[0].scale.type?function(){for(var t=[],e=0,i=a;e<i.length;e++){var n=i[e];t.push.apply(t,n.scale.values)}return new(u.getScale("cat"))({values:M.uniq(t)})}():h(a,5):[a[0].scale]:(n=t.filter(function(t){if("y"===t.dim)return t}),r=i.synchroTick,o=p(n),s=n[0].scale.tickCount,l=u.getScale("linear"),o?h(n,s):n.map(function(t){var a=t.scale,e=function(t){for(var e=[],i=a.min,n=(a.max-i)/t,r=0;r<t;r++){var o=i+n*r;e.push(o)}return e}(s);if(r){var i=new l({min:a.min,max:a.max,ticks:e,tickCount:s,color:t.color});return i.layer=t.layer,i}return a.layer=t.layer,a.color=t.color,a}));var n,r,o,s,l,a}function h(t,e){for(var i=t[0].scale.min,n=t[0].scale.max,r=0,o=t;r<o.length;r++){var a=o[r];i=Math.min(i,a.scale.min),n=Math.max(n,a.scale.max)}return new(u.getScale("linear"))({min:i,max:n,tickCount:e})}function p(t){for(var e=t[0].originalData,i=t[0].scale.field,n=0,r=t;n<r.length;n++){var o=r[n],a=o.originalData,s=o.scale.field;if(a!==e||s!==i)return!1}return!0}function x(t,e,i,n,r){var o,a=C(r),s="x"!==e;o=t.layer?t.layer.container.addGroup():i.addGroup();var l,u,c,h,p,f,d,g,v=(h=e,p=[],f=t.ticks,d=t.range,g=(d[1]-d[0])/(f.length-1),M.each(f,function(t,e){var i="y"===h?1-(d[0]+g*e):d[0]+g*e;p.push({text:t,value:i})}),p),y=S.getComponent("axis",{dim:e,plot:{options:r,getPlotTheme:function(){return w.getGlobalTheme()}}}),m=a.axis&&a.axis[e]?(u=a.axis[e],c={},M.each(u,function(t,e){M.hasKey(t,"style")&&(c[e]=t.style)}),c):{};t.color&&(l=t.color,m={line:y.line?{stroke:l,lineWidth:1}:null,tickLine:y.tickLine?{stroke:l,lineWidth:1,length:5}:null,label:y.label?{textStyle:{fill:l}}:null});var x=M.deepMix({},y,{type:"line",group:o,canvas:i,start:n.start,end:n.end,isVertical:s,factor:n.factor,ticks:v,label:function(t){return{text:t,textStyle:y.label.textStyle}}},m),b=new _.Axis.Line(x);return b.layer=t.layer,b.render(),b}function C(t){var e=w.getGlobalTheme();return t.theme&&(M.isString(t.theme)?e=w.getGlobalTheme(t.theme):M.isObject(t.theme)&&(e=t.theme)),e}e.getAxisData=function(t,e,i){var n=t.view.get("scales"),r=[],o=s.isSingleGraph(t.type,e);if(e.xField){var a={dim:"x",scale:n[e.xField],originalData:e.data};r.push(a)}return e.yField&&(a={dim:"y",scale:n[e.yField],originalData:e.data,color:o&&i.yAxis.colorMapping?e.color:null,layer:t},r.push(a)),r},e.mergeAxisScale=m,e.createAxis=x,e.axesLayout=function(r,t,o,e,i,a,s){var n=w.getGlobalTheme().bleeding;M.each(o,function(t,e){0===t&&(o[e]=n[e])});var l,u,c=[],h=[],p=0;if(r.xAxis.visible&&(l=m(t,"x"),u=x(l[0],"x",s,{start:{x:0,y:0},end:{x:i,y:0},factor:1},r),p+=u.get("group").getBBox().height),r.yAxis.visible){var f=m(t,"y",r.yAxis);M.each(f,function(t,e){var i=0===e?-1:1,n=x(t,"y",s,{start:{x:0,y:o[0]},end:{x:0,y:a-p-o[2]},factor:i},r);0===e&&n.get("group").translate(o[3],0),h.push(n)}),function(o,a,s,t){var e=o[0],i=e.get("group"),n=i.getBBox();i.translate(n.width,0),a.push({position:"left",component:e,getBBox:function(){var t=i.attr("matrix");return new v.BBox(n.minX+t[6],n.minY,n.width,n.height)}});for(var l=t[1],r=function(t){var e=o[t],i=e.get("group"),n=i.getBBox();i.translate(s-l-n.width,0),l+=n.width+4;var r={position:"right",component:e,getBBox:function(){var t=i.attr("matrix");return new v.BBox(n.minX+t[6],n.minX,n.width,n.height)}};a.push(r)},u=o.length-1;0<u;u--)r(u)}(h,c,i,o)}if(r.xAxis.visible){var d=y.getOverlappingPadding(e,c),g=0===h.length?a-p-o[2]:h[0].get("group").getBBox().maxY;u.destroy(),u=x(l[0],"x",s,{start:{x:d[3],y:g},end:{x:i-d[1],y:g},factor:1},r),c.push({position:"bottom",component:u,getBBox:function(){var t=u.get("group").getBBox();return new v.BBox(t.minX,t.minY+g,t.width,t.height)}})}return c},e.drawYGrid=function(t,i,e,n){var r=C(n),o=n.yAxis.grid,a=r.axis.y.grid.style,s=M.deepMix({},a,o.style),l=e.addGroup(),u=t.get("labelItems");M.each(u,function(t,e){0<e&&l.addShape("path",{attrs:c.__assign({path:[["M",i.start.x,t.point.y],["L",i.end.x,t.point.y]]},s)})})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(0),l=i(13),x=i(5),u=i(23),b=["line","area","path","areaStack"];e.showTooltip=function(t,e,n){var i,r,o,a,s=(i=e[0],r=t,o=u.getGlobalTheme().tooltip,a={panelGroup:i.view.get("panelGroup"),panelRange:i.view.get("panelRange"),capture:!1,canvas:r,frontgroundGroup:i.view.get("frontgroundGroup"),theme:o,backgroundGroup:i.view.get("backgroundGroup")},new l.Tooltip.Html(a));return t.on("mousemove",function(t){var i,v=[],y={x:t.x/2,y:t.y/2};m.each(e,function(t){var e=t.view;if(e&&t.visibility){var g=e.get("coord"),i=e.get("elements");m.each(i,function(i){var t,n,r,e,o,c,h,a,p,f,s=i.get("type"),l=i.get("dataArray");if(m.contains(["area","line","path","interval"],s)){var u=(o=y,c=i,h=s,a=l,p=g,f=[],m.each(a,function(t){var e=c.findPoint(o,t);if(e){var i=c.getTooltipItems(e,null);m.each(i,function(t){var e,i,n,r,o,a=t.point;if(!m.isNil(a)&&!m.isNil(a.x)&&!m.isNil(a.y)){var s=m.isArray(a.x)?a.x[a.x.length-1]:a.x,l=m.isArray(a.y)?a.y[a.y.length-1]:a.y;a=p.applyMatrix(s,l,1),t.x=a[0],t.y=a[1],t.showMarker=!0;var u=(e=c,i=t.color,n=e.get("shapeType")||"point",r=e.getDefaultValue("shape")||"circle",o={color:i},x.getShapeFactory(n).getMarkerStyle(r,o));u.radius=40,t.marker=u,-1!==m.indexOf(b,h)&&f.push(t)}}),f.push.apply(f,i)}}),f);v.push.apply(v,u)}else{var d=(t=i.get("shapeContainer"),n=y.x,r=[],e=t.get("children"),m.each(e,function(t){var e=t.getBBox();e.minX<n&&e.maxX>n&&r.push(t)}),r);m.each(d,function(t){if(t.get("visible")&&t.get("origin")){var e=i.getTooltipItems(t.get("origin"),null);v.push.apply(v,e)}})}})}}),function(t,e,i){var n;e.get("origin")&&(n=m.isArray(e.get("origin"))?function(t,e){for(var i in e){var n=e[i]._origin,r=m.keys(n);for(var o in r){var a=r[o];if(n[a]===t)return{data:n,key:a}}}}(t[0].title,e.get("origin")).data:e.get("origin")._origin,m.each(t,function(t){t.point._origin!==n&&(t.color="#ccc")}));i.sort&&t.sort(function(t,e){return parseFloat(e.value)-parseFloat(t.value)})}(v,t.target,n),0<v.length?(s.setContent("",(i=[],m.each(v,function(t){var e,r,o;-1===(e=i,r=t,o=-1,m.each(e,function(t,e){var i=!0;for(var n in r)if(m.has(r,n)&&!m.isObject(r[n])&&r[n]!==t[n]){i=!1;break}if(i)return o=e,!1}),o)&&i.push(t)}),i)),s.setPosition(y.x,y.y,t.target),s.show()):s.get("visible")&&s.hide()}),s}},function(t,e,i){"use strict";function z(t,n,r,e){t=t.filter(function(t){var e=n(t),i=r(t);return null!=e&&isFinite(e)&&null!=i&&isFinite(i)}),e&&t.sort(function(t,e){return n(t)-n(e)});for(var i,o,a,s=t.length,l=new Float64Array(s),u=new Float64Array(s),c=0,h=0,p=0;p<s;)a=t[p],l[p]=i=+n(a),u[p]=o=+r(a),c+=(i-c)/++p,h+=(o-h)/p;for(var f=0;f<s;++f)l[f]-=c,u[f]-=h;return[l,u,c,h]}function D(t,e,i,n){for(var r=0,o=0,a=t.length;o<a;o++){var s=t[o],l=+e(s),u=+i(s);null!=l&&isFinite(l)&&null!=u&&isFinite(u)&&n(l,u,r++)}}function j(t,e,i,r,o){var a=0,s=0;return D(t,e,i,function(t,e){var i=e-o(t),n=e-r;a+=i*i,s+=n*n}),1-a/s}function f(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function I(t,e,i){for(var n=Math.log(e-t)*Math.LOG10E+1|0,c=+Math.pow(10,-n/2-1),r=[p(t),p(e)],h=0;o(r)&&h<1e4;);return r;function p(t){return[t,i(t)]}function o(t){h++;for(var e,i=t.length,n=!1,r=0;r<i-1;r++){var o=t[r],a=[((e=[o,t[r+1]])[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2],s=p(a[0]),l=f([o,a]),u=f([o,s]);Math.abs(l-u)>c&&(t.splice(r+1,0,s),n=!0)}return n}}function Y(t,e,i,n){var r=n-t*t,o=Math.abs(r)<1e-24?0:(i-t*e)/r;return[e-o*t,o]}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.r(e),i.d(e,"regressionExp",function(){return n}),i.d(e,"regressionLinear",function(){return L}),i.d(e,"regressionLoess",function(){return o}),i.d(e,"regressionLog",function(){return a}),i.d(e,"regressionPoly",function(){return s}),i.d(e,"regressionPow",function(){return l}),i.d(e,"regressionQuad",function(){return T});var n=function(){var v,y=function(t){return t[0]},m=function(t){return t[1]};function e(t){var r=0,o=0,a=0,s=0,l=0,u=0,c=v?+v[0]:1/0,h=v?+v[1]:-1/0;D(t,y,m,function(t,e){var i=Math.log(e),n=t*e;o+=(e-o)/++r,s+=(n-s)/r,u+=(t*n-u)/r,a+=(e*i-a)/r,l+=(n*i-l)/r,v||(t<c&&(c=t),h<t&&(h=t))});var e,i,n=(e=Y(s/o,a/o,l/o,u/o),i=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(e,i)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x(t,e):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=n[0],f=n[1];p=Math.exp(p);function d(t){return p*Math.exp(f*t)}var g=I(c,h,d);return g.a=p,g.b=f,g.predict=d,g.rSquared=j(t,y,m,o,d),g}return e.domain=function(t){return arguments.length?(v=t,e):v},e.x=function(t){return arguments.length?(y=t,e):y},e.y=function(t){return arguments.length?(m=t,e):m},e};function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var L=function(){var g,v=function(t){return t[0]},y=function(t){return t[1]};function e(t){var i=0,n=0,r=0,o=0,a=0,s=g?+g[0]:1/0,l=g?+g[1]:-1/0;D(t,v,y,function(t,e){n+=(t-n)/++i,r+=(e-r)/i,o+=(t*e-o)/i,a+=(t*t-a)/i,g||(t<s&&(s=t),l<t&&(l=t))});function e(t){return f*t+p}var u,c,h=(u=Y(n,r,o,a),c=2,function(t){if(Array.isArray(t))return t}(u)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(u,c)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(t,e):void 0}}(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1],d=[[s,e(s)],[l,e(l)]];return d.a=f,d.b=p,d.predict=e,d.rSquared=j(t,v,y,r,e),d}return e.domain=function(t){return arguments.length?(g=t,e):g},e.x=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(y=t,e):y},e};function H(t){t.sort(function(t,e){return t-e});var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var o=function(){var F=function(t){return t[0]},R=function(t){return t[1]},N=.3;function e(t){for(var e=G(z(t,F,R,!0),4),i=e[0],n=e[1],r=e[2],o=e[3],a=i.length,s=Math.max(2,~~(N*a)),l=new Float64Array(a),u=new Float64Array(a),c=new Float64Array(a).fill(1),h=-1;++h<=2;){for(var p=[0,s-1],f=0;f<a;++f){for(var d=i[f],g=p[0],v=p[1],y=d-i[g]>i[v]-d?g:v,m=0,x=0,b=0,_=0,M=0,w=1/Math.abs(i[y]-d||1),S=g;S<=v;++S){var C=i[S],O=n[S],k=(E=1-(E=Math.abs(d-C)*w)*E*E)*E*E*c[S],P=C*k;m+=k,x+=P,b+=O*k,_+=O*P,M+=C*P}var A=G(Y(x/m,b/m,_/m,M/m),2),L=A[0],T=A[1];l[f]=L+T*d,u[f]=Math.abs(n[f]-l[f]),W(i,f+1,p)}if(2===h)break;var D=H(u);if(Math.abs(D)<1e-12)break;for(var j,I,B=0;B<a;++B)j=u[B]/(6*D),c[B]=1<=j?1e-12:(I=1-j*j)*I}var E;return function(t,e,i,n){for(var r,o=t.length,a=[],s=0,l=0,u=[];s<o;++s)r=t[s]+i,u[0]===r?u[1]+=(e[s]-u[1])/++l:(l=0,u[1]+=n,u=[r,e[s]],a.push(u));return u[1]+=n,a}(i,l,r,o)}return e.bandwidth=function(t){return arguments.length?(N=t,e):N},e.x=function(t){return arguments.length?(F=t,e):F},e.y=function(t){return arguments.length?(R=t,e):R},e};function W(t,e,i){var n=t[e],r=i[0],o=i[1]+1;if(!(o>=t.length))for(;r<e&&t[o]-n<=n-t[r];)i[0]=++r,i[1]=o,++o}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a=function(){var g,v=function(t){return t[0]},y=function(t){return t[1]};function e(t){var n=0,r=0,o=0,a=0,s=0,l=g?+g[0]:1/0,u=g?+g[1]:-1/0;D(t,v,y,function(t,e){var i=Math.log(t);r+=(i-r)/++n,o+=(e-o)/n,a+=(i*e-a)/n,s+=(i*i-s)/n,g||(t<l&&(l=t),u<t&&(u=t))});function e(t){return f*Math.log(t)+p}var i,c,h=(i=Y(r,o,a,s),c=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(i,c)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(t,e):void 0}}(i,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1],d=I(l,u,e);return d.a=f,d.b=p,d.predict=e,d.rSquared=j(t,v,y,o,e),d}return e.domain=function(t){return arguments.length?(g=t,e):g},e.x=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(y=t,e):y},e};function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var T=function(){var A,L=function(t){return t[0]},T=function(t){return t[1]};function e(t){var e,i,n,r,o,a,s=(o=z(t,L,T),a=4,function(t){if(Array.isArray(t))return t}(o)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(o,a)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?B(t,e):void 0}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1],c=s[2],h=s[3],p=l.length,f=0,d=0,g=0,v=0,y=0;for(e=0;e<p;)i=l[e],n=u[e++],f+=((r=i*i)-f)/e,d+=(r*i-d)/e,g+=(r*r-g)/e,v+=(i*n-v)/e,y+=(r*n-y)/e;var m=0,x=0,b=A?+A[0]:1/0,_=A?+A[1]:-1/0;D(t,L,T,function(t,e){m+=(e-m)/++x,A||(t<b&&(b=t),_<t&&(_=t))});function M(t){return C*(t-=c)*t+O*t+k+h}var w=g-f*f,S=f*w-d*d,C=(y*f-v*d)/S,O=(v*w-y*d)/S,k=-C*f,P=I(b,_,M);return P.a=C,P.b=O-2*C*c,P.c=k-O*c+C*c*c+h,P.predict=M,P.rSquared=j(t,L,T,m,M),P}return e.domain=function(t){return arguments.length?(A=t,e):A},e.x=function(t){return arguments.length?(L=t,e):L},e.y=function(t){return arguments.length?(T=t,e):T},e};function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var s=function(){var O,k=function(t){return t[0]},P=function(t){return t[1]},A=3;function e(t){if(1===A){var e=L().x(k).y(P).domain(O)(t);return e.coefficients=[e.b,e.a],delete e.a,delete e.b,e}if(2===A){var i=T().x(k).y(P).domain(O)(t);return i.coefficients=[i.c,i.b,i.a],delete i.a,delete i.b,delete i.c,i}var n,r,o,a,s,l,u,c=(l=z(t,k,P),u=4,function(t){if(Array.isArray(t))return t}(l)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(l,u)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?E(t,e):void 0}}(l,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=c[0],p=c[1],f=c[2],d=c[3],g=h.length,v=[],y=[],m=A+1,x=0,b=0,_=O?+O[0]:1/0,M=O?+O[1]:-1/0;for(D(t,k,P,function(t,e){x+=(e-x)/++b,O||(t<_&&(_=t),M<t&&(M=t))}),n=0;n<m;++n){for(a=o=0;o<g;++o)a+=Math.pow(h[o],n)*p[o];for(v.push(a),s=new Float64Array(m),r=0;r<m;++r){for(a=o=0;o<g;++o)a+=Math.pow(h[o],n+r);s[r]=a}y.push(s)}y.push(v);function w(t){t-=f;var e=d+S[0]+S[1]*t+S[2]*t*t;for(n=3;n<m;++n)e+=S[n]*Math.pow(t,n);return e}var S=function(t){var e,i,n,r,o,a=t.length-1,s=[];for(e=0;e<a;++e){for(i=(r=e)+1;i<a;++i)Math.abs(t[e][i])>Math.abs(t[e][r])&&(r=i);for(n=e;n<1+a;++n)o=t[n][e],t[n][e]=t[n][r],t[n][r]=o;for(i=e+1;i<a;++i)for(n=a;e<=n;n--)t[n][i]-=t[n][e]*t[e][i]/t[e][e]}for(i=a-1;0<=i;--i){for(o=0,n=i+1;n<a;++n)o+=t[n][i]*s[n];s[i]=(t[a][i]-o)/t[i][i]}return s}(y),C=I(_,M,w);return C.coefficients=function(t,e,i,n){var r,o,a,s,l=Array(t);for(r=0;r<t;++r)l[r]=0;for(r=t-1;0<=r;--r)for(a=e[r],s=1,l[r]+=a,o=1;o<=r;++o)s*=(r+1-o)/o,l[r-o]+=a*Math.pow(i,o)*s;return l[0]+=n,l}(m,S,-f,d),C.predict=w,C.rSquared=j(t,k,P,x,w),C}return e.domain=function(t){return arguments.length?(O=t,e):O},e.x=function(t){return arguments.length?(k=t,e):k},e.y=function(t){return arguments.length?(P=t,e):P},e.order=function(t){return arguments.length?(A=t,e):A},e};function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l=function(){var v,y=function(t){return t[0]},m=function(t){return t[1]};function e(t){var r=0,o=0,a=0,s=0,l=0,u=0,c=v?+v[0]:1/0,h=v?+v[1]:-1/0;D(t,y,m,function(t,e){var i=Math.log(t),n=Math.log(e);o+=(i-o)/++r,a+=(n-a)/r,s+=(i*n-s)/r,l+=(i*i-l)/r,u+=(e-u)/r,v||(t<c&&(c=t),h<t&&(h=t))});var e,i,n=(e=Y(o,a,s,l),i=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(e,i)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_(t,e):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=n[0],f=n[1];p=Math.exp(p);function d(t){return p*Math.pow(t,f)}var g=I(c,h,d);return g.a=p,g.b=f,g.predict=d,g.rSquared=j(t,y,m,u,d),g}return e.domain=function(t){return arguments.length?(v=t,e):v},e.x=function(t){return arguments.length?(y=t,e):y},e.y=function(t){return arguments.length?(m=t,e):m},e}}],r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=107);function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n});