!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.G2Plot=e():t.G2Plot=e()}(window,function(){return n={},o.m=i=[function(t,e,i){"use strict";i.r(e),i.d(e,"contains",function(){return n}),i.d(e,"includes",function(){return n}),i.d(e,"difference",function(){return r}),i.d(e,"find",function(){return b}),i.d(e,"findIndex",function(){return _}),i.d(e,"firstValue",function(){return M}),i.d(e,"flatten",function(){return O}),i.d(e,"flattenDeep",function(){return w}),i.d(e,"getRange",function(){return C}),i.d(e,"pull",function(){return P}),i.d(e,"pullAt",function(){return L}),i.d(e,"reduce",function(){return k}),i.d(e,"remove",function(){return E}),i.d(e,"sortBy",function(){return B}),i.d(e,"union",function(){return I}),i.d(e,"uniq",function(){return F}),i.d(e,"valuesOfKey",function(){return R}),i.d(e,"head",function(){return N}),i.d(e,"last",function(){return Y}),i.d(e,"startsWith",function(){return G}),i.d(e,"endsWith",function(){return X}),i.d(e,"filter",function(){return o}),i.d(e,"every",function(){return z}),i.d(e,"some",function(){return V}),i.d(e,"group",function(){return U}),i.d(e,"groupBy",function(){return W}),i.d(e,"groupToMap",function(){return q}),i.d(e,"getWrapBehavior",function(){return Z}),i.d(e,"wrapBehavior",function(){return K}),i.d(e,"number2color",function(){return Q}),i.d(e,"parseRadius",function(){return J}),i.d(e,"clamp",function(){return tt}),i.d(e,"fixedBase",function(){return et}),i.d(e,"isDecimal",function(){return nt}),i.d(e,"isEven",function(){return ot}),i.d(e,"isInteger",function(){return rt}),i.d(e,"isNegative",function(){return at}),i.d(e,"isNumberEqual",function(){return st}),i.d(e,"isOdd",function(){return lt}),i.d(e,"isPositive",function(){return ut}),i.d(e,"maxBy",function(){return ct}),i.d(e,"minBy",function(){return ht}),i.d(e,"mod",function(){return pt}),i.d(e,"toDegree",function(){return dt}),i.d(e,"toInteger",function(){return gt}),i.d(e,"toRadian",function(){return vt}),i.d(e,"forIn",function(){return mt}),i.d(e,"has",function(){return xt}),i.d(e,"hasKey",function(){return bt}),i.d(e,"hasValue",function(){return Mt}),i.d(e,"keys",function(){return g}),i.d(e,"isMatch",function(){return y}),i.d(e,"values",function(){return _t}),i.d(e,"lowerCase",function(){return wt}),i.d(e,"lowerFirst",function(){return Ct}),i.d(e,"substitute",function(){return St}),i.d(e,"upperCase",function(){return jt}),i.d(e,"upperFirst",function(){return At}),i.d(e,"getType",function(){return Tt}),i.d(e,"isArguments",function(){return Lt}),i.d(e,"isArray",function(){return h}),i.d(e,"isArrayLike",function(){return s}),i.d(e,"isBoolean",function(){return kt}),i.d(e,"isDate",function(){return Et}),i.d(e,"isError",function(){return Dt}),i.d(e,"isFunction",function(){return u}),i.d(e,"isFinite",function(){return Bt}),i.d(e,"isNil",function(){return c}),i.d(e,"isNull",function(){return Ft}),i.d(e,"isNumber",function(){return it}),i.d(e,"isObject",function(){return f}),i.d(e,"isObjectLike",function(){return m}),i.d(e,"isPlainObject",function(){return x}),i.d(e,"isPrototype",function(){return Rt}),i.d(e,"isRegExp",function(){return Nt}),i.d(e,"isString",function(){return D}),i.d(e,"isType",function(){return l}),i.d(e,"isUndefined",function(){return Yt}),i.d(e,"isElement",function(){return Gt}),i.d(e,"requestAnimationFrame",function(){return Xt}),i.d(e,"clearAnimationFrame",function(){return zt}),i.d(e,"augment",function(){return Wt}),i.d(e,"clone",function(){return Ut}),i.d(e,"debounce",function(){return Zt}),i.d(e,"memoize",function(){return Kt}),i.d(e,"deepMix",function(){return Jt}),i.d(e,"each",function(){return d}),i.d(e,"extend",function(){return te}),i.d(e,"indexOf",function(){return ee}),i.d(e,"isEmpty",function(){return ne}),i.d(e,"isEqual",function(){return oe}),i.d(e,"isEqualWith",function(){return re}),i.d(e,"map",function(){return ae}),i.d(e,"mapValues",function(){return se}),i.d(e,"mix",function(){return Ht}),i.d(e,"assign",function(){return Ht}),i.d(e,"get",function(){return le}),i.d(e,"set",function(){return ue}),i.d(e,"pick",function(){return he}),i.d(e,"throttle",function(){return pe}),i.d(e,"toArray",function(){return fe}),i.d(e,"toString",function(){return Ot}),i.d(e,"uniqueId",function(){return ge}),i.d(e,"noop",function(){return ye}),i.d(e,"identity",function(){return ve}),i.d(e,"size",function(){return me}),i.d(e,"Cache",function(){return xe});var s=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},n=function(t,e){return!!s(t)&&-1<t.indexOf(e)},o=function(t,e){if(!s(t))return t;for(var i=[],n=0;n<t.length;n++){var o=t[n];e(o,n)&&i.push(o)}return i},r=function(t,e){return void 0===e&&(e=[]),o(t,function(t){return!n(e,t)})},a={}.toString,l=function(t,e){return a.call(t)==="[object "+e+"]"},u=function(t){return l(t,"Function")},c=function(t){return null==t},h=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=function(t){var e=p(t);return null!==t&&"object"===e||"function"===e},d=function(t,e){if(t)if(h(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(f(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break},g=Object.keys?function(t){return Object.keys(t)}:function(i){var n=[];return d(i,function(t,e){u(i)&&"prototype"===e||n.push(e)}),n},y=function(t,e){var i=g(e),n=i.length;if(c(t))return!n;for(var o=0;o<n;o+=1){var r=i[o];if(e[r]!==t[r]||!(r in t))return!1}return!0};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=function(t){return"object"===v(t)&&null!==t},x=function(t){if(!m(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},b=function(t,e){if(!h(t))return null;var i;if(u(e)&&(i=e),x(e)&&(i=function(t){return y(t,e)}),i)for(var n=0;n<t.length;n+=1)if(i(t[n]))return t[n];return null},_=function(t,e,i){void 0===i&&(i=0);for(var n=i;n<t.length;n++)if(e(t[n],n))return n;return-1},M=function(t,e){for(var i=null,n=0;n<t.length;n++){var o=t[n][e];if(!c(o)){i=h(o)?o[0]:o;break}}return i},O=function(t){if(!h(t))return[];for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e},w=function t(e,i){if(void 0===i&&(i=[]),h(e))for(var n=0;n<e.length;n+=1)t(e[n],i);else i.push(e);return i},C=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(h(t[0])){for(var i=[],n=0;n<t.length;n++)i=i.concat(t[n]);e=i}var o=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:o}},S=Array.prototype,j=S.splice,A=S.indexOf,P=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++)for(var o=e[n],r=-1;-1<(r=A.call(t,o));)j.call(t,r,1);return t},T=Array.prototype.splice,L=function(t,e){if(!s(t))return[];for(var i=t?e.length:0,n=i-1;i--;){var o=void 0,r=e[i];i!==n&&r===o||(o=r,T.call(t,r,1))}return t},k=function(t,i,e){if(!h(t)&&!x(t))return t;var n=e;return d(t,function(t,e){n=i(n,t,e)}),n},E=function(t,e){var i=[];if(!s(t))return i;for(var n=-1,o=[],r=t.length;++n<r;){var a=t[n];e(a,n,t)&&(i.push(a),o.push(n))}return L(t,o),i},D=function(t){return l(t,"String")},B=function(t,i){var o,e=u(i)?function(t,e){return i(t)-i(e)}:(o=[],D(i)?o.push(i):h(i)&&(o=i),function(t,e){for(var i=0;i<o.length;i+=1){var n=o[i];if(t[n]>e[n])return 1;if(t[n]<e[n])return-1}return 0});return t.sort(e),t},F=function(t){var e=[];return d(t,function(t){n(e,t)||e.push(t)}),e},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F([].concat.apply([],t))},R=function(t,e){for(var i=[],n={},o=0;o<t.length;o++){var r=t[o][e];if(!c(r)){h(r)||(r=[r]);for(var a=0;a<r.length;a++){var s=r[a];n[s]||(i.push(s),n[s]=!0)}}}return i};function N(t){if(s(t))return t[0]}function Y(t){if(s(t))return t[t.length-1]}var G=function(t,e){return!(!h(t)&&!D(t))&&t[0]===e},X=function(t,e){return!(!h(t)&&!D(t))&&t[t.length-1]===e},z=function(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i))return!1;return!0},V=function(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i))return!0;return!1},H=Object.prototype.hasOwnProperty,W=function(t,e){if(!e||!h(t))return{};for(var i={},n=u(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var r=t[o],a=n(r);H.call(i,a)?i[a].push(r):i[a]=[r]}return i},q=function(t,e){return e?(u(e)||(o=h(e)?e:e.replace(/\s+/g,"").split("*"),e=function(t){for(var e="_",i=0,n=o.length;i<n;i++)e+=t[o[i]]&&t[o[i]].toString();return e}),W(t,e)):{0:t};var o},U=function(t,e){if(!e)return[t];var i=q(t,e),n=[];for(var o in i)n.push(i[o]);return n},Z=function(t,e){return t["_wrap_"+e]},K=function(e,i){if(e["_wrap_"+i])return e["_wrap_"+i];function t(t){e[i](t)}return e["_wrap_"+i]=t},$={},Q=function(t){var e=$[t];if(!e){for(var i=t.toString(16),n=i.length;n<6;n++)i="0"+i;e="#"+i,$[t]=e}return e},J=function(t){var e=0,i=0,n=0,o=0;return h(t)?1===t.length?e=i=n=o=t[0]:2===t.length?(e=n=t[0],i=o=t[1]):3===t.length?(e=t[0],i=o=t[1],n=t[2]):(e=t[0],i=t[1],n=t[2],o=t[3]):e=i=n=o=t,{r1:e,r2:i,r3:n,r4:o}},tt=function(t,e,i){return t<e?e:i<t?i:t},et=function(t,e){var i=e.toString(),n=i.indexOf(".");if(-1===n)return Math.round(t);var o=i.substr(n+1).length;return 20<o&&(o=20),parseFloat(t.toFixed(o))},it=function(t){return l(t,"Number")},nt=function(t){return it(t)&&t%1!=0},ot=function(t){return it(t)&&t%2==0},rt=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},at=function(t){return it(t)&&t<0};function st(t,e,i){return void 0===i&&(i=1e-5),Math.abs(t-e)<i}var lt=function(t){return it(t)&&t%2!=0},ut=function(t){return it(t)&&0<t},ct=function(t,e){if(h(t)){var i,n=t[0],o=u(e)?e(t[0]):t[0][e];return d(t,function(t){(i=u(e)?e(t):t[e])>o&&(n=t,o=i)}),n}},ht=function(t,e){if(h(t)){var i,n=t[0],o=u(e)?e(t[0]):t[0][e];return d(t,function(t){(i=u(e)?e(t):t[e])<o&&(n=t,o=i)}),n}},pt=function(t,e){return(t%e+e)%e},ft=180/Math.PI,dt=function(t){return ft*t},gt=parseInt,yt=Math.PI/180,vt=function(t){return yt*t},mt=d,xt=function(t,e){return t.hasOwnProperty(e)},bt=xt,_t=Object.values?function(t){return Object.values(t)}:function(i){var n=[];return d(i,function(t,e){u(i)&&"prototype"===e||n.push(t)}),n},Mt=function(t,e){return n(_t(t),e)},Ot=function(t){return c(t)?"":t.toString()},wt=function(t){return Ot(t).toLowerCase()},Ct=function(t){var e=Ot(t);return e.charAt(0).toLowerCase()+e.substring(1)},St=function(t,i){return t&&i?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===i[e]?"":i[e]}):t},jt=function(t){return Ot(t).toUpperCase()},At=function(t){var e=Ot(t);return e.charAt(0).toUpperCase()+e.substring(1)},Pt={}.toString,Tt=function(t){return Pt.call(t).replace(/^\[object /,"").replace(/]$/,"")},Lt=function(t){return l(t,"Arguments")},kt=function(t){return l(t,"Boolean")},Et=function(t){return l(t,"Date")},Dt=function(t){return l(t,"Error")},Bt=function(t){return it(t)&&isFinite(t)},Ft=function(t){return null===t},It=Object.prototype,Rt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)},Nt=function(t){return l(t,"RegExp")},Yt=function(t){return void 0===t},Gt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Xt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function zt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Vt(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}function Ht(t,e,i,n){return e&&Vt(t,e),i&&Vt(t,i),n&&Vt(t,n),t}var Wt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t[0],n=1;n<t.length;n++){var o=t[n];u(o)&&(o=o.prototype),Ht(i.prototype,o)}};function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ut=function t(e){if("object"!==qt(e)||null===e)return e;var i;if(h(e)){i=[];for(var n=0,o=e.length;n<o;n++)"object"===qt(e[n])&&null!=e[n]?i[n]=t(e[n]):i[n]=e[n]}else for(var r in i={},e)"object"===qt(e[r])&&null!=e[r]?i[r]=t(e[r]):i[r]=e[r];return i},Zt=function(n,o,r){var a;return function(){var t=this,e=arguments,i=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||n.apply(t,e)},o),i&&n.apply(t,e)}},Kt=function(r,a){if(!u(r))throw new TypeError("Expected a function");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=a?a.apply(this,t):t[0],n=s.cache;if(n.has(i))return n.get(i);var o=r.apply(this,t);return n.set(i,o),o}return s.cache=new Map,s};function $t(t,e,i,n){for(var o in i=i||0,n=n||5,e){var r;e.hasOwnProperty(o)&&(null!==(r=e[o])&&x(r)?(x(t[o])||(t[o]={}),i<n?$t(t[o],r,i+1,n):t[o]=e[o]):h(r)?(t[o]=[],t[o]=t[o].concat(r)):void 0!==r&&(t[o]=r))}}function Qt(t){return t}var Jt=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n+=1)$t(t,e[n]);return t},te=function(t,e,i,n){u(e)||(i=e,e=t,t=function(){});var o=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function i(){}i.prototype=t;var n=new i;return n.constructor=e,n},r=o(e.prototype,t);return t.prototype=Ht(r,t.prototype),t.superclass=o(e.prototype,e),Ht(r,i),Ht(t,n),t},ee=function(t,e){if(!s(t))return-1;var i=Array.prototype.indexOf;if(i)return i.call(t,e);for(var n=-1,o=0;o<t.length;o++)if(t[o]===e){n=o;break}return n},ie=Object.prototype.hasOwnProperty,ne=function(t){if(c(t))return!0;if(s(t))return!t.length;var e=Tt(t);if("Map"===e||"Set"===e)return!t.size;if(Rt(t))return!Object.keys(t).length;for(var i in t)if(ie.call(t,i))return!1;return!0},oe=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(D(e)||D(i))return!1;if(s(e)||s(i)){if(e.length!==i.length)return!1;for(var n=!0,o=0;o<e.length&&(n=t(e[o],i[o]));o++);return n}if(m(e)||m(i)){var r=Object.keys(e),a=Object.keys(i);if(r.length!==a.length)return!1;for(n=!0,o=0;o<r.length&&(n=t(e[r[o]],i[r[o]]));o++);return n}return!1},re=function(t,e,i){return u(i)?!!i(t,e):oe(t,e)},ae=function(t,e){if(!s(t))return t;for(var i=[],n=0;n<t.length;n++){var o=t[n];i.push(e(o,n))}return i},se=function(e,i){void 0===i&&(i=Qt);var n={};return f(e)&&!c(e)&&Object.keys(e).forEach(function(t){n[t]=i(e[t],t)}),n},le=function(t,e,i){for(var n=0,o=D(e)?e.split("."):e;t&&n<o.length;)t=t[o[n++]];return void 0===t||n<o.length?i:t},ue=function(t,e,i){var n=t,o=D(e)?e.split("."):e;return o.forEach(function(t,e){e<o.length-1?(f(n[t])||(n[t]=it(o[e+1])?[]:{}),n=n[t]):n[t]=i}),t},ce=Object.prototype.hasOwnProperty,he=function(e,t){if(null===e||!x(e))return{};var i={};return d(t,function(t){ce.call(e,t)&&(i[t]=e[t])}),i},pe=function(i,n,o){var r,a,s,l,u=0;o=o||{};function c(){u=!1===o.leading?0:Date.now(),r=null,l=i.apply(a,s),r||(a=s=null)}function t(){var t=Date.now();u||!1!==o.leading||(u=t);var e=n-(t-u);return a=this,s=arguments,e<=0||n<e?(r&&(clearTimeout(r),r=null),u=t,l=i.apply(a,s),r||(a=s=null)):r||!1===o.trailing||(r=setTimeout(c,e)),l}return t.cancel=function(){clearTimeout(r),u=0,r=a=s=null},t},fe=function(t){return s(t)?Array.prototype.slice.call(t):[]},de={},ge=function(t){return de[t=t||"g"]?de[t]+=1:de[t]=1,t+de[t]},ye=function(){},ve=function(t){return t};function me(t){return c(t)?0:s(t)?t.length:Object.keys(t).length}var xe=(be.prototype.has=function(t){return void 0!==this.map[t]},be.prototype.get=function(t,e){var i=this.map[t];return void 0===i?e:i},be.prototype.set=function(t,e){this.map[t]=e},be.prototype.clear=function(){this.map={}},be.prototype.delete=function(t){delete this.map[t]},be.prototype.size=function(){return Object.keys(this.map).length},be);function be(){this.map={}}},function(t,e,i){"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(e),i.d(e,"__extends",function(){return o}),i.d(e,"__assign",function(){return r}),i.d(e,"__rest",function(){return a}),i.d(e,"__decorate",function(){return s}),i.d(e,"__param",function(){return u}),i.d(e,"__metadata",function(){return c}),i.d(e,"__awaiter",function(){return h}),i.d(e,"__generator",function(){return p}),i.d(e,"__exportStar",function(){return f}),i.d(e,"__values",function(){return d}),i.d(e,"__read",function(){return g}),i.d(e,"__spread",function(){return y}),i.d(e,"__spreadArrays",function(){return v}),i.d(e,"__await",function(){return m}),i.d(e,"__asyncGenerator",function(){return x}),i.d(e,"__asyncDelegator",function(){return b}),i.d(e,"__asyncValues",function(){return _}),i.d(e,"__makeTemplateObject",function(){return M}),i.d(e,"__importStar",function(){return O}),i.d(e,"__importDefault",function(){return w}),i.d(e,"__classPrivateFieldGet",function(){return C}),i.d(e,"__classPrivateFieldSet",function(){return S});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function o(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var r=function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]]);return i}function s(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;0<=s;s--)(o=t[s])&&(a=(r<3?o(a):3<r?o(e,i,a):o(e,i))||a);return 3<r&&a&&Object.defineProperty(e,i,a),a}function u(i,n){return function(t,e){n(t,e,i)}}function c(t,e){if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,a,s,l){return new(s=s||Promise)(function(i,e){function n(t){try{r(l.next(t))}catch(t){e(t)}}function o(t){try{r(l.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?i(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,o)}r((l=l.apply(t,a||[])).next())})}function p(i,n){var o,r,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(a=2&e[0]?r.return:e[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,e[1])).done)return a;switch(r=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==e[0]&&2!==e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(i,s)}catch(t){e=[6,t],r=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function f(t,e){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,o,r=i.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=r.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function x(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r=[],a={};return n("next"),n("throw"),n("return"),a[Symbol.asyncIterator]=function(){return this},a;function n(n){o[n]&&(a[n]=function(i){return new Promise(function(t,e){1<r.push([n,i,t,e])||s(n,i)})})}function s(t,e){try{(i=o[t](e)).value instanceof m?Promise.resolve(i.value.v).then(l,u):c(r[0][2],i)}catch(t){c(r[0][3],t)}var i}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),r.shift(),r.length&&s(r[0][0],r[0][1])}}function b(n){var o,t={};return e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,i){t[e]=n[e]?function(t){return(o=!o)?{value:m(n[e](t)),done:"return"===e}:i?i(t):t}:i}}function _(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=l[Symbol.asyncIterator];return e?e.call(l):(l=d(l),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=l[s]&&function(a){return new Promise(function(t,e){var i,n,o,r;i=t,n=e,o=(a=l[s](a)).done,r=a.value,Promise.resolve(r).then(function(t){i({value:t,done:o})},n)})}}}function M(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function w(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}},function(t,e,i){"use strict";i.r(e),i.d(e,"mat3",function(){return n}),i.d(e,"vec2",function(){return s}),i.d(e,"vec3",function(){return l}),i.d(e,"transform",function(){return u});var a=i(18);a.translate=function(t,e,i){var n=new Array(9);return a.fromTranslation(n,i),a.multiply(t,n,e)},a.rotate=function(t,e,i){var n=new Array(9);return a.fromRotation(n,i),a.multiply(t,n,e)},a.scale=function(t,e,i){var n=new Array(9);return a.fromScaling(n,i),a.multiply(t,n,e)},a.transform=function(t,e){for(var i=[].concat(t),n=0,o=e.length;n<o;n++){var r=e[n];switch(r[0]){case"t":a.translate(i,i,[r[1],r[2]]);break;case"s":a.scale(i,i,[r[1],r[2]]);break;case"r":a.rotate(i,i,r[1])}}return i};var n=a,r=i(25),o=i(0);r.angle=function(t,e){var i=r.dot(t,e)/(r.length(t)*r.length(e));return Math.acos(Object(o.clamp)(i,-1,1))},r.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},r.angleTo=function(t,e,i){var n=r.angle(t,e),o=0<=r.direction(t,e);return i?o?2*Math.PI-n:n:o?n:2*Math.PI-n},r.vertical=function(t,e,i){return i?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};var s=r,l=i(153),u=function(t,e){var i=t?Object(o.clone)(t):[1,0,0,0,1,0,0,0,1];return Object(o.each)(e,function(t){switch(t[0]){case"t":n.translate(i,i,[t[1],t[2]]);break;case"s":n.scale(i,i,[t[1],t[2]]);break;case"r":n.rotate(i,i,t[1]);break;case"m":n.multiply(i,i,t[1]);break;default:return!1}}),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=o.__importDefault(i(28)),a=i(0),s=o.__importDefault(i(219)),l=o.__importDefault(i(222)),u=i(4),c=o.__importDefault(i(44)),h=o.__importDefault(i(12)),p=i(9),f=(n=r.default,o.__extends(d,n),d.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},d.prototype.repaint=function(){this.canvasController.canvas.draw()},d.prototype.updateConfig=function(e,t){var i;void 0===t&&(t=!1),t?this.eachLayer(function(t){t instanceof h.default&&t.updateConfig(e)}):(i=this.layers[0])instanceof c.default&&i.updateConfig(e),e.width&&(this.width=e.width),e.height&&(this.height=e.height),e.theme&&(this.theme=e.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},d.prototype.changeData=function(e,t){var i;void 0===t&&(t=!1),t?this.eachLayer(function(t){t instanceof h.default&&t.changeData(e)}):(i=this.layers[0])instanceof h.default&&i.changeData(e)},d.prototype.getPlotTheme=function(){return this.layers[0].getPlotTheme()},d.prototype.getData=function(){return this.layers[0].getData()},d.prototype.bindStateManager=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.bindStateManager(e,i)})},d.prototype.setActive=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setActive(e,i)})},d.prototype.setSelected=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setSelected(e,i)})},d.prototype.setDisable=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setDisable(e,i)})},d.prototype.setDefault=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setDefault(e,i)})},d.prototype.getView=function(){return this.layers[0].view},d.prototype.getLayer=function(t){return void 0===t&&(t=0),this.layers[t]},d.prototype.getCanvas=function(){return this.canvasController.canvas},d.prototype.getLayers=function(){return this.layers},d.prototype.render=function(){this.eachLayer(function(t){return t.render()})},d.prototype.eachLayer=function(t){a.each(this.layers,t)},d.prototype.addLayer=function(e){a.findIndex(this.layers,function(t){return t===e})<0&&this.layers.push(e)},d.prototype.createLayers=function(t){var e;t.layers||t.type&&(e=new(u.getPlotType(t.type))(a.deepMix({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height})),this.addLayer(e))},d.prototype.parseEvents=function(t){var n=this,o=a.keys(p.CANVAS_EVENT_MAP);t.events&&a.each(t.events,function(t,e){var i;a.contains(o,e)&&a.isFunction(t)&&(i=p.CANVAS_EVENT_MAP[e]||e,n.on(i,t))})},d);function d(t,e){var i=n.call(this)||this;return i.containerDOM="string"==typeof t?document.getElementById(t):t,i.forceFit=a.isNil(e.forceFit)?a.isNil(e.width)&&a.isNil(e.height):e.forceFit,i.renderer=e.renderer||"canvas",i.pixelRatio=e.pixelRatio||null,i.width=e.width,i.height=e.height,i.theme=e.theme,i.localRefresh=e.localRefresh,i.canvasController=new s.default({containerDOM:i.containerDOM,plot:i}),i.width=i.canvasController.width,i.height=i.canvasController.height,i.canvas=i.canvasController.canvas,i.layers=[],i.destroyed=!1,i.createLayers(e),i.eventController=new l.default({plot:i,canvas:i.canvasController.canvas}),i.eventController.bindEvents(),i.parseEvents(e),i}e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};e.registerPlotType=function(t,e){n[t.toLowerCase()]=e},e.getPlotType=function(t){return n[t.toLowerCase()]}},function(t,e,i){"use strict";function n(t,e,i){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,i,!1),{remove:function(){t.removeEventListener(e,i,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,i),{remove:function(){t.detachEvent("on"+e,i)}}}}var o,r,a,s;function l(t){o||(o=document.createElement("table"),r=document.createElement("tr"),a=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:o,thead:o,tfoot:o,td:r,th:r,"*":document.createElement("div")});var e=a.test(t)&&RegExp.$1;e&&e in s||(e="*");var i=s[e];t=t.replace(/(^\s*)|(\s*$)/g,""),i.innerHTML=""+t;var n=i.childNodes[0];return i.removeChild(n),n}function u(t,e,i){var n;try{n=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(t){}finally{n=void 0===n?i:n}return n}function c(t,e){var i=u(t,"height",e);return"auto"===i&&(i=t.offsetHeight),parseFloat(i)}function h(t,e){var i=c(t,e),n=parseFloat(u(t,"borderTopWidth"))||0,o=parseFloat(u(t,"paddingTop"))||0,r=parseFloat(u(t,"paddingBottom"))||0;return i+n+(parseFloat(u(t,"borderBottomWidth"))||0)+o+r+(parseFloat(u(t,"marginTop"))||0)+(parseFloat(u(t,"marginBottom"))||0)}function p(t,e){var i=u(t,"width",e);return"auto"===i&&(i=t.offsetWidth),parseFloat(i)}function f(t,e){var i=p(t,e),n=parseFloat(u(t,"borderLeftWidth"))||0,o=parseFloat(u(t,"paddingLeft"))||0,r=parseFloat(u(t,"paddingRight"))||0,a=parseFloat(u(t,"borderRightWidth"))||0,s=parseFloat(u(t,"marginRight"))||0;return i+n+a+o+r+(parseFloat(u(t,"marginLeft"))||0)+s}function d(){return window.devicePixelRatio?window.devicePixelRatio:2}function g(t,e){if(t)for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);return t}i.r(e),i.d(e,"addEventListener",function(){return n}),i.d(e,"createDom",function(){return l}),i.d(e,"getHeight",function(){return c}),i.d(e,"getOuterHeight",function(){return h}),i.d(e,"getOuterWidth",function(){return f}),i.d(e,"getRatio",function(){return d}),i.d(e,"getStyle",function(){return u}),i.d(e,"getWidth",function(){return p}),i.d(e,"modifyCSS",function(){return g})},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return o}),i.d(e,"c",function(){return r});var n=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array,r=Math.random;Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(8);e.IElement=o.IElement,e.ICanvas=o.ICanvas,e.IGroup=o.IGroup,e.IShape=o.IShape,e.BBox=o.BBox;var r=i(103);e.Canvas=r.Canvas;var a=i(104);e.SVG=a.Canvas;var s=i(32);e.View=s.View,e.registerAnimation=s.registerAnimation,e.registerGeometry=s.registerGeometry,e.Geometry=s.Geometry,e.Interaction=s.Interaction,e.registerInteraction=s.registerInteraction,e.registerShape=s.registerShape,e.getTheme=s.getTheme,e.Util=s.Util,e.getShapeFactory=s.getShapeFactory,e.registerComponentController=s.registerComponentController;var l=i(109);e.VIEW_LIFE_CIRCLE=l.VIEW_LIFE_CIRCLE,e.COMPONENT_TYPE=l.COMPONENT_TYPE,e.FIELD_ORIGIN=l.FIELD_ORIGIN;var u=n.__importDefault(i(189));e.Gestrue=u.default;var c=i(110);e.MarkerSymbols=c.MarkerSymbols;var h=i(191);e.Datum=h.Datum,e.Data=h.Data,e.LooseObject=h.LooseObject,e.Options=h.Options,e.Point=h.Point,e.ShapeInfo=h.ShapeInfo,e.AttributeOption=h.AttributeOption,e.AdjustOption=h.AdjustOption,e.LabelOption=h.LabelOption,e.MappingDatum=h.MappingDatum;var p=i(52);e.DEFAULT_ANIMATE_CFG=p.DEFAULT_ANIMATE_CFG,e.getDefaultAnimateCfg=p.getDefaultAnimateCfg,e.doAnimate=p.doAnimate;var f=i(193);e.Element=f.default;var d=n.__importDefault(i(196));e.HtmlTooltip=d.default;var g=n.__importDefault(i(112));e.HtmlTooltipTheme=g.default;var y=n.__importStar(i(30));e.TooltipCssConst=y;var v=i(13);e.GroupComponent=v.GroupComponent,e.Axis=v.Axis,e.Legend=v.Legend,e.Tooltip=v.Tooltip,e.Slider=v.Slider,e.Scrollbar=v.Scrollbar;var m=i(201);e.GroupComponentCfg=m.GroupComponentCfg,e.TooltipCfg=m.TooltipCfg;var x=i(48);e.Coordinate=x.Coordinate,e.ORIGIN="origin",e._ORIGIN="_origin"},function(t,e,i){"use strict";i.r(e),i.d(e,"version",function(){return ui}),i.d(e,"Event",function(){return y}),i.d(e,"Base",function(){return it}),i.d(e,"AbstractCanvas",function(){return ai}),i.d(e,"AbstractGroup",function(){return si}),i.d(e,"AbstractShape",function(){return li}),i.d(e,"PathUtil",function(){return n});var n={};i.r(n),i.d(n,"catmullRomToBezier",function(){return L}),i.d(n,"fillPath",function(){return f}),i.d(n,"fillPathByDiff",function(){return D}),i.d(n,"formatPath",function(){return B}),i.d(n,"intersection",function(){return h}),i.d(n,"parsePathArray",function(){return a}),i.d(n,"parsePathString",function(){return T}),i.d(n,"pathToAbsolute",function(){return k}),i.d(n,"pathToCurve",function(){return E}),i.d(n,"rectPath",function(){return s});var l={};i.r(l),i.d(l,"easeLinear",function(){return Dt}),i.d(l,"easeQuad",function(){return It}),i.d(l,"easeQuadIn",function(){return Bt}),i.d(l,"easeQuadOut",function(){return Ft}),i.d(l,"easeQuadInOut",function(){return It}),i.d(l,"easeCubic",function(){return Yt}),i.d(l,"easeCubicIn",function(){return Rt}),i.d(l,"easeCubicOut",function(){return Nt}),i.d(l,"easeCubicInOut",function(){return Yt}),i.d(l,"easePoly",function(){return zt}),i.d(l,"easePolyIn",function(){return Gt}),i.d(l,"easePolyOut",function(){return Xt}),i.d(l,"easePolyInOut",function(){return zt}),i.d(l,"easeSin",function(){return Ut}),i.d(l,"easeSinIn",function(){return Wt}),i.d(l,"easeSinOut",function(){return qt}),i.d(l,"easeSinInOut",function(){return Ut}),i.d(l,"easeExp",function(){return $t}),i.d(l,"easeExpIn",function(){return Zt}),i.d(l,"easeExpOut",function(){return Kt}),i.d(l,"easeExpInOut",function(){return $t}),i.d(l,"easeCircle",function(){return te}),i.d(l,"easeCircleIn",function(){return Qt}),i.d(l,"easeCircleOut",function(){return Jt}),i.d(l,"easeCircleInOut",function(){return te}),i.d(l,"easeBounce",function(){return ne}),i.d(l,"easeBounceIn",function(){return ie}),i.d(l,"easeBounceOut",function(){return ne}),i.d(l,"easeBounceInOut",function(){return oe}),i.d(l,"easeBack",function(){return le}),i.d(l,"easeBackIn",function(){return ae}),i.d(l,"easeBackOut",function(){return se}),i.d(l,"easeBackInOut",function(){return le}),i.d(l,"easeElastic",function(){return he}),i.d(l,"easeElasticIn",function(){return ce}),i.d(l,"easeElasticOut",function(){return he}),i.d(l,"easeElasticInOut",function(){return pe});function m(t,e,i,n,o){var r,a,s;return null===o&&null===n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!==o?(r=Math.PI/180,a=t+i*Math.cos(-n*r),s=t+i*Math.cos(-o*r),[["M",a,e+i*Math.sin(-n*r)],["A",i,i,0,+(180<o-n),0,s,e+i*Math.sin(-o*r)]]):[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]}function x(t,e,i,n){return[t,e,i,n,i,n]}function b(t,e,i,n,o,r){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*o+2/3*i,1/3*r+2/3*n,o,r]}function z(t,e,i,n,o,r,a,s,l,u){function c(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}}i===n&&(i+=1);var h,p,f,d,g,y,v,m,x,b,_,M=120*Math.PI/180,O=Math.PI/180*(+o||0),w=[];u?(b=u[0],_=u[1],m=u[2],x=u[3]):(t=(h=c(t,e,-O)).x,e=h.y,s=(h=c(s,l,-O)).x,l=h.y,t===s&&e===l&&(s+=1,l+=1),1<(d=(p=(t-s)/2)*p/(i*i)+(f=(e-l)/2)*f/(n*n))&&(i*=d=Math.sqrt(d),n*=d),g=i*i,y=n*n,m=(v=(r===a?-1:1)*Math.sqrt(Math.abs((g*y-g*f*f-y*p*p)/(g*f*f+y*p*p))))*i*f/n+(t+s)/2,x=v*-n*p/i+(e+l)/2,b=Math.asin(((e-x)/n).toFixed(9)),_=Math.asin(((l-x)/n).toFixed(9)),b=t<m?Math.PI-b:b,_=s<m?Math.PI-_:_,b<0&&(b=2*Math.PI+b),_<0&&(_=2*Math.PI+_),a&&_<b&&(b-=2*Math.PI),!a&&b<_&&(_-=2*Math.PI));var C,S,j,A=_-b;Math.abs(A)>M&&(C=_,S=s,j=l,_=b+M*(a&&b<_?1:-1),w=z(s=m+i*Math.cos(_),l=x+n*Math.sin(_),i,n,o,0,a,S,j,[_,C,m,x])),A=_-b;var P=Math.cos(b),T=Math.sin(b),L=Math.cos(_),k=Math.sin(_),E=Math.tan(A/4),D=4/3*i*E,B=4/3*n*E,F=[t,e],I=[t+D*T,e-B*P],R=[s+D*k,l-B*L],N=[s,l];if(I[0]=2*F[0]-I[0],I[1]=2*F[1]-I[1],u)return[I,R,N].concat(w);for(var Y=[],G=0,X=(w=[I,R,N].concat(w).join().split(",")).length;G<X;G++)Y[G]=G%2?c(w[G-1],w[G],O).y:c(w[G],w[G+1],O).x;return Y}function _(t,e,i,n,o){return t*(t*(-3*e+9*i-9*n+3*o)+6*e-12*i+6*n)-3*e+3*i}function O(t,e,i,n,o,r,a,s,l){null===l&&(l=1);for(var u=(l=1<l?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var d=u*c[f]+u,g=_(d,t,i,o,a),y=_(d,e,n,r,s),v=g*g+y*y;p+=h[f]*Math.sqrt(v)}return u*p}function w(t,e,i,n,o,r,a,s){if(!(Math.max(t,i)<Math.min(o,a)||Math.min(t,i)>Math.max(o,a)||Math.max(e,n)<Math.min(r,s)||Math.min(e,n)>Math.max(r,s))){var l=(t-i)*(r-s)-(e-n)*(o-a);if(l){var u=((t*n-e*i)*(o-a)-(t-i)*(o*s-r*a))/l,c=((t*n-e*i)*(r-s)-(e-n)*(o*s-r*a))/l,h=+u.toFixed(2),p=+c.toFixed(2);if(!(h<+Math.min(t,i).toFixed(2)||h>+Math.max(t,i).toFixed(2)||h<+Math.min(o,a).toFixed(2)||h>+Math.max(o,a).toFixed(2)||p<+Math.min(e,n).toFixed(2)||p>+Math.max(e,n).toFixed(2)||p<+Math.min(r,s).toFixed(2)||p>+Math.max(r,s).toFixed(2)))return{x:u,y:c}}}}function C(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function S(t,e,i,n){return null===t&&(t=e=i=n=0),null===e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:Math.min(i,n)/2,r2:Math.max(i,n)/2,r0:Math.sqrt(i*i+n*n)/2,path:s(t,e,i,n),vb:[t,e,i,n].join(" ")}}function j(t,e,i,n,o,r,a,s){Object(M.isArray)(t)||(t=[t,e,i,n,o,r,a,s]);var l=function(t,e,i,n,o,r,a,s){for(var l,u,c,h,p=[],f=[[],[]],d=0;d<2;++d)if(c=0===d?(u=6*t-12*i+6*o,l=-3*t+9*i-9*o+3*a,3*i-3*t):(u=6*e-12*n+6*r,l=-3*e+9*n-9*r+3*s,3*n-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;0<(h=-c/u)&&h<1&&p.push(h)}else{var g,y,v=u*u-4*c*l,m=Math.sqrt(v);v<0||(0<(g=(-u+m)/(2*l))&&g<1&&p.push(g),0<(y=(-u-m)/(2*l))&&y<1&&p.push(y))}for(var x,b=p.length,_=b;b--;)x=1-(h=p[b]),f[0][b]=x*x*x*t+3*x*x*h*i+3*x*h*h*o+h*h*h*a,f[1][b]=x*x*x*e+3*x*x*h*n+3*x*h*h*r+h*h*h*s;return f[0][_]=t,f[1][_]=e,f[0][_+1]=a,f[1][_+1]=s,f[0].length=f[1].length=_+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return S(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function A(t,e,i,n,o,r,a,s,l){var u=1-l,c=Math.pow(u,3),h=Math.pow(u,2),p=l*l,f=p*l,d=t+2*l*(i-t)+p*(o-2*i+t),g=e+2*l*(n-e)+p*(r-2*n+e),y=i+2*l*(o-i)+p*(a-2*o+i),v=n+2*l*(r-n)+p*(s-2*r+n);return{x:c*t+3*h*l*i+3*u*l*l*o+f*a,y:c*e+3*h*l*n+3*u*l*l*r+f*s,m:{x:d,y:g},n:{x:y,y:v},start:{x:u*t+l*i,y:u*e+l*n},end:{x:u*o+l*a,y:u*r+l*s},alpha:90-180*Math.atan2(d-y,g-v)/Math.PI}}function P(t,e,i){if(n=j(t),o=j(e),n=S(n),o=S(o),!(C(o,n.x,n.y)||C(o,n.x2,n.y)||C(o,n.x,n.y2)||C(o,n.x2,n.y2)||C(n,o.x,o.y)||C(n,o.x2,o.y)||C(n,o.x,o.y2)||C(n,o.x2,o.y2)||(n.x<o.x2&&n.x>o.x||o.x<n.x2&&o.x>n.x)&&(n.y<o.y2&&n.y>o.y||o.y<n.y2&&o.y>n.y)))return i?0:[];for(var n,o,r=~~(O.apply(0,t)/8),a=~~(O.apply(0,e)/8),s=[],l=[],u={},c=i?0:[],h=0;h<1+r;h++){var p=A.apply(0,t.concat(h/r));s.push({x:p.x,y:p.y,t:h/r})}for(h=0;h<1+a;h++)p=A.apply(0,e.concat(h/a)),l.push({x:p.x,y:p.y,t:h/a});for(h=0;h<r;h++)for(var f=0;f<a;f++){var d=s[h],g=s[h+1],y=l[f],v=l[f+1],m=Math.abs(g.x-d.x)<.001?"y":"x",x=Math.abs(v.x-y.x)<.001?"y":"x",b=w(d.x,d.y,g.x,g.y,y.x,y.y,v.x,v.y);if(b){if(u[b.x.toFixed(4)]===b.y.toFixed(4))continue;u[b.x.toFixed(4)]=b.y.toFixed(4);var _=d.t+Math.abs((b[m]-d[m])/(g[m]-d[m]))*(g.t-d.t),M=y.t+Math.abs((b[x]-y[x])/(v[x]-y[x]))*(v.t-y.t);0<=_&&_<=1&&0<=M&&M<=1&&(i?c+=1:c.push({x:b.x,y:b.y,t1:_,t2:M}))}}return c}var M=i(0),o="\t\n\v\f\r   ᠎             　\u2028\u2029",u=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),c=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),T=function(r){if(!r)return null;if(Object(M.isArray)(r))return r;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return String(r).replace(u,function(t,e,i){var n=[],o=e.toLowerCase();if(i.replace(c,function(t,e){e&&n.push(+e)}),"m"===o&&2<n.length&&(s.push([e].concat(n.splice(0,2))),o="l",e="m"===e?"l":"L"),"o"===o&&1===n.length&&s.push([e,n[0]]),"r"===o)s.push([e].concat(n));else for(;n.length>=a[o]&&(s.push([e].concat(n.splice(0,a[o]))),a[o]););return r}),s},L=function(t,e){for(var i=[],n=0,o=t.length;n<o-2*!e;n+=2){var r=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?o-4===n?r[3]={x:+t[0],y:+t[1]}:o-2===n&&(r[2]={x:+t[0],y:+t[1]},r[3]={x:+t[2],y:+t[3]}):r[0]={x:+t[o-2],y:+t[o-1]}:o-4===n?r[3]=r[2]:n||(r[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i},k=function(t){if(!(t=T(t))||!t.length)return[["M",0,0]];var e,i,n=[],o=0,r=0,a=0,s=0,l=0;"M"===t[0][0]&&(a=o=+t[0][1],s=r=+t[0][2],l++,n[0]=["M",o,r]);for(var u=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),c=void 0,h=void 0,p=l,f=t.length;p<f;p++){if(n.push(c=[]),(e=(h=t[p])[0])!==e.toUpperCase())switch(c[0]=e.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+o,c[7]=+h[7]+r;break;case"V":c[1]=+h[1]+r;break;case"H":c[1]=+h[1]+o;break;case"R":for(var d=2,g=(i=[o,r].concat(h.slice(1))).length;d<g;d++)i[d]=+i[d]+o,i[++d]=+i[d]+r;n.pop(),n=n.concat(L(i,u));break;case"O":n.pop(),(i=m(o,r,h[1],h[2])).push(i[0]),n=n.concat(i);break;case"U":n.pop(),n=n.concat(m(o,r,h[1],h[2],h[3])),c=["U"].concat(n[n.length-1].slice(-2));break;case"M":a=+h[1]+o,s=+h[2]+r;break;default:for(d=1,g=h.length;d<g;d++)c[d]=+h[d]+(d%2?o:r)}else if("R"===e)i=[o,r].concat(h.slice(1)),n.pop(),n=n.concat(L(i,u)),c=["R"].concat(h.slice(-2));else if("O"===e)n.pop(),(i=m(o,r,h[1],h[2])).push(i[0]),n=n.concat(i);else if("U"===e)n.pop(),n=n.concat(m(o,r,h[1],h[2],h[3])),c=["U"].concat(n[n.length-1].slice(-2));else for(var y=0,v=h.length;y<v;y++)c[y]=h[y];if("O"!==(e=e.toUpperCase()))switch(c[0]){case"Z":o=+a,r=+s;break;case"H":o=c[1];break;case"V":r=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:o=c[c.length-2],r=c[c.length-1]}}return n},E=function(t,e){for(var r=k(t),a=e&&k(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],l="",u="",c=function(t,e,i){var n,o;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(z.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":o="C"===i||"S"===i?(n=2*e.x-e.bx,2*e.y-e.by):(n=e.x,e.y),t=["C",n,o].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(b(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(b(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(x(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(x(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(x(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(x(e.x,e.y,e.X,e.Y))}return t},h=function(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)o[e]="A",a&&(s[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),f=Math.max(r.length,a&&a.length||0)}},p=function(t,e,i,n,o){t&&e&&"M"===t[o][0]&&"M"!==e[o][0]&&(e.splice(o,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[o][1],i.y=t[o][2],f=Math.max(r.length,a&&a.length||0))},f=Math.max(r.length,a&&a.length||0),d=0;d<f;d++){r[d]&&(l=r[d][0]),"C"!==l&&(o[d]=l,d&&(u=o[d-1])),r[d]=c(r[d],i,u),"A"!==o[d]&&"C"===l&&(o[d]="C"),h(r,d),a&&(a[d]&&(l=a[d][0]),"C"!==l&&(s[d]=l,d&&(u=s[d-1])),a[d]=c(a[d],n,u),"A"!==s[d]&&"C"===l&&(s[d]="C"),h(a,d)),p(r,a,i,n,d),p(a,r,n,i,d);var g=r[d],y=a&&a[d],v=g.length,m=a&&y.length;i.x=g[v-2],i.y=g[v-1],i.bx=parseFloat(g[v-4])||i.x,i.by=parseFloat(g[v-3])||i.y,n.bx=a&&(parseFloat(y[m-4])||n.x),n.by=a&&(parseFloat(y[m-3])||n.y),n.x=a&&y[m-2],n.y=a&&y[m-1]}return a?[r,a]:r},r=/,?([a-z]),?/gi,a=function(t){return t.join(",").replace(r,"$1")},s=function(t,e,i,n,o){if(o)return[["M",+t+ +o,e],["l",i-2*o,0],["a",o,o,0,0,1,o,o],["l",0,n-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-i,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-n],["a",o,o,0,0,1,o,-o],["z"]];var r=[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]];return r.parsePathArray=a,r},h=function(t,e){return function(t,e,i){var n,o,r,a,s,l,u,c,h,p;t=E(t),e=E(e);for(var f=[],d=0,g=t.length;d<g;d++){var y=t[d];if("M"===y[0])n=s=y[1],o=l=y[2];else{o="C"===y[0]?(n=(h=[n,o].concat(y.slice(1)))[6],h[7]):(h=[n,o,n,o,s,l,s,l],n=s,l);for(var v=0,m=e.length;v<m;v++){var x=e[v];if("M"===x[0])r=u=x[1],a=c=x[2];else{a="C"===x[0]?(r=(p=[r,a].concat(x.slice(1)))[6],p[7]):(p=[r,a,r,a,u,c,u,c],r=u,c);for(var b=P(h,p,i),_=0,M=b.length;_<M;_++)b[_].segment1=d,b[_].segment2=v,b[_].bez1=h,b[_].bez2=p;f=f.concat(b)}}}}return f}(t,e)};function p(p,t,e){if(1===e)return[[].concat(p)];var i=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])i=i.concat(function(t,e){var i=[[p[1],p[2]]];e=e||2;var n=[];"A"===t[0]?(i.push(t[6]),i.push(t[7])):"C"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]]),i.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]])):i.push([t[1],t[2]]);for(var o,r,a,s,l=i,u=1/e,c=0;c<e-1;c++){var h=(r=u/(1-u*c),s=a=void 0,a=[],s=[],(o=l).length&&function t(e,i){if(1===e.length)a.push(e[0]),s.push(e[0]);else{for(var n=[],o=0;o<e.length-1;o++)0===o&&a.push(e[0]),o===e.length-2&&s.push(e[o+1]),n[o]=[(1-i)*e[o][0]+i*e[o+1][0],(1-i)*e[o][1]+i*e[o+1][1]];t(n,i)}}(o,r),{left:a,right:s.reverse()});n.push(h.left),l=h.right}return n.push(l),n.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])})}(t,e));else{var n=[].concat(p);"M"===n[0]&&(n[0]="L");for(var o=0;o<=e-1;o++)i.push(n)}return i}function v(t,i){if(t.length===i.length){var n=!0;return Object(M.each)(t,function(t,e){if(t!==i[e])return n=!1}),n}}var f=function(n,t){if(1===n.length)return n;var o=n.length-1,e=t.length-1,i=o/e,r=[];if(1===n.length&&"M"===n[0][0]){for(var a=0;a<e-o;a++)n.push(n[0]);return n}for(a=0;a<e;a++){var s=Math.floor(i*a);r[s]=(r[s]||0)+1}var l=r.reduce(function(t,e,i){return i===o?t.concat(n[o]):t.concat(p(n[i],n[i+1],e))},[]);return l.unshift(n[0]),"Z"!==t[e]&&"z"!==t[e]||l.push("Z"),l};var D=function(t,e){var i=function(t,e){var i,n,o=t.length,r=e.length,a=0;if(0===o||0===r)return null;for(var s=[],l=0;l<=o;l++)s[l]=[],s[l][0]={min:l};for(var u,c,h,p,f=0;f<=r;f++)s[0][f]={min:f};for(l=1;l<=o;l++)for(i=t[l-1],f=1;f<=r;f++){n=e[f-1],a=v(i,n)?0:1;var d=s[l-1][f].min+1,g=s[l][f-1].min+1,y=s[l-1][f-1].min+a;s[l][f]=(p=h=void 0,h=null,(c=g)<(p=y)&&(p=c,h="add"),(u=d)<p&&(p=u,h="del"),{type:h,min:p})}return s}(t,e),n=t.length,o=e.length,r=[],a=1,s=1;if(i[n][o].min!==n){for(var l=1;l<=n;l++){for(var u=i[l][l].min,s=l,c=a;c<=o;c++)i[l][c].min<u&&(u=i[l][c].min,s=c);a=s,i[l][a].type&&r.push({index:l-1,type:i[l][a].type})}for(l=r.length-1;0<=l;l--)a=r[l].index,"add"===r[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=o-(n=t.length);if(n<o)for(l=0;l<h;l++)"z"===t[n-1][0]||"Z"===t[n-1][0]?t.splice(n-2,0,t[n-2]):t.push(t[n-1]),n+=1;return t};function d(t,e,i){for(var n,o=[].concat(t),r=1/(i+1),a=g(e)[0],s=1;s<=i;s++)r*=s,0===(n=Math.floor(t.length*r))?o.unshift([a[0]*r+t[n][0]*(1-r),a[1]*r+t[n][1]*(1-r)]):o.splice(n,0,[a[0]*r+t[n][0]*(1-r),a[1]*r+t[n][1]*(1-r)]);return o}function g(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var B=function(t,e){if(t.length<=1)return t;for(var i,n=0;n<e.length;n++)if(t[n][0]!==e[n][0])switch(i=g(t[n]),e[n][0]){case"M":t[n]=["M"].concat(i[0]);break;case"L":t[n]=["L"].concat(i[0]);break;case"A":t[n]=[].concat(e[n]),t[n][6]=i[0][0],t[n][7]=i[0][1];break;case"Q":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=d(i,t[n-1],1)}t[n]=["Q"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[n]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(0<n)){t[n]=e[n];break}i=d(i,t[n-1],2)}t[n]=["C"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=d(i,t[n-1],1)}t[n]=["S"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;default:t[n]=e[n]}return t},y=($.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},$.prototype.stopPropagation=function(){this.propagationStopped=!0},$.prototype.toString=function(){return"[Event (type="+this.type+")]"},$.prototype.save=function(){},$.prototype.restore=function(){},$),F=i(1),I=i(28),R=(i(34),i(37)),N=i.n(R),Y=i(27),G=i.n(Y),X=i(49),V=i.n(X),H=(i(19),i(72)),W=i.n(H),q=i(29),U=i.n(q),Z=i(73),K=i.n(Z);function $(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}function Q(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}var J="undefined"!=typeof window&&void 0!==window.document;function tt(t){return t.cfg.visible&&t.cfg.capture}var et,it=(et=I.default,Object(F.__extends)(ot,et),ot.prototype.getDefaultCfg=function(){return{}},ot.prototype.get=function(t){return this.cfg[t]},ot.prototype.set=function(t,e){this.cfg[t]=e},ot.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},ot),nt=i(2);function ot(t){var e=et.call(this)||this;e.destroyed=!1;var i=e.getDefaultCfg();return e.cfg=W()(i,t),e}function rt(t,e){var i=[],n=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=e[0],f=e[1],d=e[2],g=e[3],y=e[4],v=e[5],m=e[6],x=e[7],b=e[8];return i[0]=p*n+f*a+d*u,i[1]=p*o+f*s+d*c,i[2]=p*r+f*l+d*h,i[3]=g*n+y*a+v*u,i[4]=g*o+y*s+v*c,i[5]=g*r+y*l+v*h,i[6]=m*n+x*a+b*u,i[7]=m*o+x*s+b*c,i[8]=m*r+x*l+b*h,i}function at(t,e){var i=[],n=e[0],o=e[1];return i[0]=t[0]*n+t[3]*o+t[6],i[1]=t[1]*n+t[4]*o+t[7],i}var st=["zIndex","capture","visible","type"],lt=["repeat"];var ut,ct=(ut=it,Object(F.__extends)(pt,ut),pt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},pt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},pt.prototype.onCanvasChange=function(t){},pt.prototype.initAttrs=function(t){},pt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},pt.prototype.isGroup=function(){return!1},pt.prototype.getParent=function(){return this.get("parent")},pt.prototype.getCanvas=function(){return this.get("canvas")},pt.prototype.attr=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e[0],o=e[1];if(!n)return this.attrs;if(Object(M.isObject)(n)){for(var r in n)this.setAttr(r,n[r]);return this.afterAttrsChange(n),this}return 2===e.length?(this.setAttr(n,o),this.afterAttrsChange(((t={})[n]=o,t)),this):this.attrs[n]},pt.prototype.isClipped=function(t,e){var i=this.getClip();return i&&!i.isHit(t,e)},pt.prototype.setAttr=function(t,e){var i=this.attrs[t];i!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,i))},pt.prototype.onAttrChange=function(t,e,i){"matrix"===t&&this.set("totalMatrix",null)},pt.prototype.afterAttrsChange=function(t){this.onCanvasChange("attr")},pt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},pt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},pt.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},pt.prototype.toFront=function(){var t,e,i=this.getParent();i&&(t=i.getChildren(),this.get("el"),e=t.indexOf(this),t.splice(e,1),t.push(this),this.onCanvasChange("zIndex"))},pt.prototype.toBack=function(){var t,e,i=this.getParent();i&&(t=i.getChildren(),this.get("el"),e=t.indexOf(this),t.splice(e,1),t.unshift(this),this.onCanvasChange("zIndex"))},pt.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Q(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},pt.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},pt.prototype.getMatrix=function(){return this.attr("matrix")},pt.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},pt.prototype.getTotalMatrix=function(){var t,e,i=this.get("totalMatrix");return i||(t=this.attr("matrix"),i=(e=this.get("parentMatrix"))&&t?rt(e,t):t||e,this.set("totalMatrix",i)),i},pt.prototype.applyMatrix=function(t){var e=this.attr("matrix"),i=t&&e?rt(t,e):e||t;this.set("totalMatrix",i),this.set("parentMatrix",t)},pt.prototype.getDefaultMatrix=function(){return null},pt.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?at(e,t):t},pt.prototype.invertFromMatrix=function(t){var e,i,n,o,r,a,s,l,u,c,h,p,f,d,g=this.attr("matrix");if(g){var y=(e=[],i=g[0],n=g[1],o=g[2],r=g[3],a=g[4],s=g[5],l=g[6],u=g[7],(d=i*(h=(c=g[8])*a-s*u)+n*(p=-c*r+s*l)+o*(f=u*r-a*l))?(d=1/d,e[0]=h*d,e[1]=(-c*n+o*u)*d,e[2]=(s*n-o*a)*d,e[3]=p*d,e[4]=(c*i-o*l)*d,e[5]=(-s*i+o*r)*d,e[6]=f*d,e[7]=(-u*i+n*l)*d,e[8]=(a*i-n*r)*d,e):null);if(y)return at(y,t)}return t},pt.prototype.setClip=function(t){var e,i=this.getCanvas(),n=null;return!t||(e=this.getShapeBase()[Object(M.upperFirst)(t.type)])&&(n=new e({type:t.type,isClipShape:!0,attrs:t.attrs,canvas:i})),this.set("clipShape",n),this.onCanvasChange("clip"),n},pt.prototype.getClip=function(){return this.cfg.clipShape||null},pt.prototype.clone=function(){var e=this,i=this.attrs,n={};Object(M.each)(i,function(t,e){Object(M.isArray)(i[e])?n[e]=function(t){for(var e=[],i=0;i<t.length;i++)Object(M.isArray)(t[i])?e.push([].concat(t[i])):e.push(t[i]);return e}(i[e]):n[e]=i[e]});var o=new this.constructor({attrs:n});return Object(M.each)(st,function(t){o.set(t,e.get(t))}),o},pt.prototype.destroy=function(){this.destroyed||(this.attrs={},ut.prototype.destroy.call(this))},pt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},pt.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var n=this.get("animations")||[];i.timer||i.initTimer();var o,r,a,s,l,u=t[0],c=t[1],h=t[2],p=void 0===h?"easeLinear":h,f=t[3],d=void 0===f?M.noop:f,g=t[4],y=void 0===g?0:g;Object(M.isFunction)(u)?(o=u,u={}):Object(M.isObject)(u)&&u.onFrame&&(o=u.onFrame,r=u.repeat),Object(M.isObject)(c)?(c=(l=c).duration,p=l.easing||"easeLinear",y=l.delay||0,r=l.repeat||r||!1,d=l.callback||M.noop,a=l.pauseCallback||M.noop,s=l.resumeCallback||M.noop):(Object(M.isNumber)(d)&&(y=d,d=null),p=Object(M.isFunction)(p)?(d=p,"easeLinear"):p||"easeLinear");var v,m,x,b=(v=u,m={},x=this.attr(),Object(M.each)(v,function(t,e){-1!==lt.indexOf(e)||Object(M.isEqual)(x[e],t)||(m[e]=t)}),m),_={fromAttrs:function(t,e){var i={},n=e.attrs;for(var o in t)i[o]=n[o];return i}(b,this),toAttrs:b,duration:c,easing:p,repeat:r,callback:d,pauseCallback:a,resumeCallback:s,delay:y,startTime:i.getTime(),id:Object(M.uniqueId)(),onFrame:o,pathFormatted:!1};0<n.length?n=function(t,e){if(e.onFrame)return t;var n=e.startTime,o=e.delay,r=e.duration,a=Object.prototype.hasOwnProperty;return Object(M.each)(t,function(i){n+o<i.startTime+i.delay+i.duration&&r>i.delay&&Object(M.each)(e.toAttrs,function(t,e){a.call(i.toAttrs,e)&&(delete i.toAttrs[e],delete i.fromAttrs[e])})}),t}(n,_):i.addAnimator(this),n.push(_),this.set("animations",n),this.set("_pause",{isPaused:!1})},pt.prototype.stopAnimate=function(e){var i=this;void 0===e&&(e=!0);var t=this.get("animations");Object(M.each)(t,function(t){e&&(t.onFrame?i.attr(t.onFrame(1)):i.attr(t.toAttrs)),t.callback&&t.callback()}),this.set("animating",!1),this.set("animations",[])},pt.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),i=t.getTime();return Object(M.each)(e,function(t){t._paused=!0,t._pauseTime=i,t.pauseCallback&&t.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},pt.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),i=this.get("_pause").pauseTime;return Object(M.each)(t,function(t){t.startTime=t.startTime+(e-i),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},pt.prototype.emitDelegation=function(t,n){var o,r=this,a=n.propagationPath;this.getEvents(),"mouseenter"===t?o=n.fromShape:"mouseleave"===t&&(o=n.toShape);for(var e=function(t){var e=a[t],i=e.get("name");if(i){if((e.isGroup()||e.isCanvas&&e.isCanvas())&&o&&function(t,e){if(t.isCanvas())return 1;for(var i=e.getParent(),n=!1;i;){if(i===t){n=!0;break}i=i.getParent()}return n}(e,o))return"break";Object(M.isArray)(i)?Object(M.each)(i,function(t){r.emitDelegateEvent(e,t,n)}):s.emitDelegateEvent(e,i,n)}},s=this,i=0;i<a.length&&"break"!==e(i);i++);},pt.prototype.emitDelegateEvent=function(t,e,i){var n=this.getEvents(),o=e+":"+i.type;(n[o]||n["*"])&&(i.name=o,i.currentTarget=t,i.delegateTarget=this,i.delegateObject=t.get("delegateObject"),this.emit(o,i))},pt.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.getMatrix(),n=Object(nt.transform)(i,[["t",t,e]]);return this.setMatrix(n),this},pt.prototype.move=function(t,e){var i=this.attr("x")||0,n=this.attr("y")||0;return this.translate(t-i,e-n),this},pt.prototype.moveTo=function(t,e){return this.move(t,e)},pt.prototype.scale=function(t,e){var i=this.getMatrix(),n=Object(nt.transform)(i,[["s",t,e||t]]);return this.setMatrix(n),this},pt.prototype.rotate=function(t){var e=this.getMatrix(),i=Object(nt.transform)(e,[["r",t]]);return this.setMatrix(i),this},pt.prototype.rotateAtStart=function(t){var e=this.attr(),i=e.x,n=e.y,o=this.getMatrix(),r=Object(nt.transform)(o,[["t",-i,-n],["r",t],["t",i,n]]);return this.setMatrix(r),this},pt.prototype.rotateAtPoint=function(t,e,i){var n=this.getMatrix(),o=Object(nt.transform)(n,[["t",-t,-e],["r",i],["t",t,e]]);return this.setMatrix(o),this},pt),ht={};function pt(t){var e=ut.call(this,t)||this;e.attrs={};var i=e.getDefaultAttrs();return Object(M.mix)(i,t.attrs),e.attrs=i,e.initAttrs(i),e.initAnimate(),e}var ft,dt=(ft=ct,Object(F.__extends)(gt,ft),gt.prototype.isCanvas=function(){return!1},gt.prototype.getBBox=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,o=[],r=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),n=0<a.length?(U()(a,function(t){var e=t.getBBox();o.push(e.minX,e.maxX),r.push(e.minY,e.maxY)}),t=Math.min.apply(null,o),e=Math.max.apply(null,o),i=Math.min.apply(null,r),Math.max.apply(null,r)):i=e=t=0;return{x:t,y:i,minX:t,minY:i,maxX:e,maxY:n,width:e-t,height:n-i}},gt.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,o=[],r=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),n=0<a.length?(U()(a,function(t){var e=t.getCanvasBBox();o.push(e.minX,e.maxX),r.push(e.minY,e.maxY)}),t=Math.min.apply(null,o),e=Math.max.apply(null,o),i=Math.min.apply(null,r),Math.max.apply(null,r)):i=e=t=0;return{x:t,y:i,minX:t,minY:i,maxX:e,maxY:n,width:e-t,height:n-i}},gt.prototype.getDefaultCfg=function(){var t=ft.prototype.getDefaultCfg.call(this);return t.children=[],t},gt.prototype.onAttrChange=function(t,e,i){var n;ft.prototype.onAttrChange.call(this,t,e,i),"matrix"===t&&(n=this.getTotalMatrix(),this._applyChildrenMarix(n))},gt.prototype.applyMatrix=function(t){var e=this.getTotalMatrix();ft.prototype.applyMatrix.call(this,t);var i=this.getTotalMatrix();i!==e&&this._applyChildrenMarix(i)},gt.prototype._applyChildrenMarix=function(e){var t=this.getChildren();U()(t,function(t){t.applyMatrix(e)})},gt.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],n=t[1];V()(i)?n=i:n.type=i;var o=ht[n.type];o||(o=K()(n.type),ht[n.type]=o);var r=new(this.getShapeBase()[o])(n);return this.add(r),r},gt.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i,n,o=t[0],r=t[1];return n=N()(o)?new o(r||{parent:this}):(i=o||{},new(this.getGroupBase())(i)),this.add(n),n},gt.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},gt.prototype.getShape=function(t,e,i){if(!tt(this))return null;var n,o,r=this.getChildren();return this.isCanvas()?n=this._findShape(r,t,e,i):(o=[t,e,1],o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(n=this._findShape(r,o[0],o[1],i))),n},gt.prototype._findShape=function(t,e,i,n){for(var o=null,r=t.length-1;0<=r;r--){var a=t[r];if(tt(a)&&(a.isGroup()?o=a.getShape(e,i,n):a.isHit(e,i)&&(o=a)),o)break}return o},gt.prototype.add=function(t){var e,i,n,o=this.getCanvas(),r=this.getChildren(),a=this.get("timeline"),s=t.getParent();s&&(i=s,n=t,!1?n.destroy():(n.set("parent",null),n.set("canvas",null)),Q(i.getChildren(),n)),t.set("parent",this),o&&function e(t,i){var n;t.set("canvas",i),t.isGroup()&&(n=t.get("children")).length&&n.forEach(function(t){e(t,i)})}(t,o),a&&function e(t,i){var n;t.set("timeline",i),t.isGroup()&&(n=t.get("children")).length&&n.forEach(function(t){e(t,i)})}(t,a),r.push(t),(e=t).isGroup()&&!e.isEntityGroup()&&!e.get("children").length||e.onCanvasChange("add"),this._applyElementMatrix(t)},gt.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},gt.prototype.getChildren=function(){return this.get("children")},gt.prototype.sort=function(){var n,t=this.getChildren();U()(t,function(t,e){return t._INDEX=e,t}),t.sort((n=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(t,e){var i=n(t,e);return 0===i?t._INDEX-e._INDEX:i})),this.onCanvasChange("sort")},gt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;0<=e;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},gt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),ft.prototype.destroy.call(this))},gt.prototype.getFirst=function(){return this.getChildByIndex(0)},gt.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},gt.prototype.getChildByIndex=function(t){return this.getChildren()[t]},gt.prototype.getCount=function(){return this.getChildren().length},gt.prototype.contain=function(t){return-1<this.getChildren().indexOf(t)},gt.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},gt.prototype.findAll=function(e){var i=[],t=this.getChildren();return U()(t,function(t){e(t)&&i.push(t),t.isGroup()&&(i=i.concat(t.findAll(e)))}),i},gt.prototype.find=function(e){var i=null,t=this.getChildren();return U()(t,function(t){if(e(t)?i=t:t.isGroup()&&(i=t.find(e)),i)return!1}),i},gt.prototype.findById=function(e){return this.find(function(t){return t.get("id")===e})},gt.prototype.findByClassName=function(e){return this.find(function(t){return t.get("className")===e})},gt.prototype.findAllByName=function(e){return this.findAll(function(t){return t.get("name")===e})},gt);function gt(){return null!==ft&&ft.apply(this,arguments)||this}function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var vt,mt,xt=0,bt=0,_t=0,Mt=0,Ot=0,wt=0,Ct="object"===("undefined"==typeof performance?"undefined":yt(performance))&&performance.now?performance:Date,St="object"===("undefined"==typeof window?"undefined":yt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jt(){return Ot||(St(At),Ot=Ct.now()+wt)}function At(){Ot=0}function Pt(){this._call=this._time=this._next=null}function Tt(t,e,i){var n=new Pt;return n.restart(t,e,i),n}function Lt(){Ot=(Mt=Ct.now())+wt,xt=bt=0;try{!function(){jt(),++xt;for(var t,e=vt;e;)0<=(t=Ot-e._time)&&e._call.call(null,t),e=e._next;--xt}()}finally{xt=0,function(){for(var t,e,i=vt,n=1/0;i;)i=i._call?(n>i._time&&(n=i._time),(t=i)._next):(e=i._next,i._next=null,t?t._next=e:vt=e);mt=t,Et(n)}(),Ot=0}}function kt(){var t=Ct.now(),e=t-Mt;1e3<e&&(wt-=e,Mt=t)}function Et(t){xt||(bt=bt&&clearTimeout(bt),24<t-Ot?(t<1/0&&(bt=setTimeout(Lt,t-Ct.now()-wt)),_t=_t&&clearInterval(_t)):(_t||(Mt=Ct.now(),_t=setInterval(kt,1e3)),xt=1,St(Lt)))}function Dt(t){return+t}function Bt(t){return t*t}function Ft(t){return t*(2-t)}function It(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Rt(t){return t*t*t}function Nt(t){return--t*t*t+1}function Yt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Pt.prototype=Tt.prototype={constructor:Pt,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?jt():+i)+(null==e?0:+e),this._next||mt===this||(mt?mt._next=this:vt=this,mt=this),this._call=t,this._time=i,Et()},stop:function(){this._call&&(this._call=null,this._time=1/0,Et())}};var Gt=function t(e){function i(t){return Math.pow(t,e)}return e=+e,i.exponent=t,i}(3),Xt=function t(e){function i(t){return 1-Math.pow(1-t,e)}return e=+e,i.exponent=t,i}(3),zt=function t(e){function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,i.exponent=t,i}(3),Vt=Math.PI,Ht=Vt/2;function Wt(t){return 1-Math.cos(t*Ht)}function qt(t){return Math.sin(t*Ht)}function Ut(t){return(1-Math.cos(Vt*t))/2}function Zt(t){return Math.pow(2,10*t-10)}function Kt(t){return 1-Math.pow(2,-10*t)}function $t(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Qt(t){return 1-Math.sqrt(1-t*t)}function Jt(t){return Math.sqrt(1- --t*t)}function te(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ee=7.5625;function ie(t){return 1-ne(1-t)}function ne(t){return(t=+t)<4/11?ee*t*t:t<8/11?ee*(t-=6/11)*t+.75:t<10/11?ee*(t-=9/11)*t+.9375:ee*(t-=21/22)*t+63/64}function oe(t){return((t*=2)<=1?1-ne(1-t):ne(t-1)+1)/2}function re(t,e,i){t.prototype=e.prototype=i,i.constructor=t}var ae=function t(e){function i(t){return t*t*((e+1)*t-e)}return e=+e,i.overshoot=t,i}(1.70158),se=function t(e){function i(t){return--t*t*((e+1)*t+e)+1}return e=+e,i.overshoot=t,i}(1.70158),le=function t(e){function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,i.overshoot=t,i}(1.70158),ue=2*Math.PI,ce=function e(i,n){var o=Math.asin(1/(i=Math.max(1,i)))*(n/=ue);function t(t){return i*Math.pow(2,10*--t)*Math.sin((o-t)/n)}return t.amplitude=function(t){return e(t,n*ue)},t.period=function(t){return e(i,t)},t}(1,.3),he=function e(i,n){var o=Math.asin(1/(i=Math.max(1,i)))*(n/=ue);function t(t){return 1-i*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/n)}return t.amplitude=function(t){return e(t,n*ue)},t.period=function(t){return e(i,t)},t}(1,.3),pe=function e(i,n){var o=Math.asin(1/(i=Math.max(1,i)))*(n/=ue);function t(t){return((t=2*t-1)<0?i*Math.pow(2,10*t)*Math.sin((o-t)/n):2-i*Math.pow(2,-10*t)*Math.sin((o+t)/n))/2}return t.amplitude=function(t){return e(t,n*ue)},t.period=function(t){return e(i,t)},t}(1,.3);function fe(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function de(){}var ge="\\s*([+-]?\\d+)\\s*",ye="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ve="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",me=/^#([0-9a-f]{3,8})$/,xe=new RegExp("^rgb\\("+[ge,ge,ge]+"\\)$"),be=new RegExp("^rgb\\("+[ve,ve,ve]+"\\)$"),_e=new RegExp("^rgba\\("+[ge,ge,ge,ye]+"\\)$"),Me=new RegExp("^rgba\\("+[ve,ve,ve,ye]+"\\)$"),Oe=new RegExp("^hsl\\("+[ye,ve,ve]+"\\)$"),we=new RegExp("^hsla\\("+[ye,ve,ve,ye]+"\\)$"),Ce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Se(){return this.rgb().formatHex()}function je(){return this.rgb().formatRgb()}function Ae(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=me.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?Pe(e):3===i?new ke(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?Te(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?Te(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=xe.exec(t))?new ke(e[1],e[2],e[3],1):(e=be.exec(t))?new ke(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=_e.exec(t))?Te(e[1],e[2],e[3],e[4]):(e=Me.exec(t))?Te(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Oe.exec(t))?Fe(e[1],e[2]/100,e[3]/100,1):(e=we.exec(t))?Fe(e[1],e[2]/100,e[3]/100,e[4]):Ce.hasOwnProperty(t)?Pe(Ce[t]):"transparent"===t?new ke(NaN,NaN,NaN,0):null}function Pe(t){return new ke(t>>16&255,t>>8&255,255&t,1)}function Te(t,e,i,n){return n<=0&&(t=e=i=NaN),new ke(t,e,i,n)}function Le(t,e,i,n){return 1===arguments.length?((o=t)instanceof de||(o=Ae(o)),o?new ke((o=o.rgb()).r,o.g,o.b,o.opacity):new ke):new ke(t,e,i,null==n?1:n);var o}function ke(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function Ee(){return"#"+Be(this.r)+Be(this.g)+Be(this.b)}function De(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Be(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Fe(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||1<=i?t=e=NaN:e<=0&&(t=NaN),new Re(t,e,i,n)}function Ie(t){if(t instanceof Re)return new Re(t.h,t.s,t.l,t.opacity);if(t instanceof de||(t=Ae(t)),!t)return new Re;if(t instanceof Re)return t;var e=(t=t.rgb()).r/255,i=t.g/255,n=t.b/255,o=Math.min(e,i,n),r=Math.max(e,i,n),a=NaN,s=r-o,l=(r+o)/2;return s?(a=e===r?(i-n)/s+6*(i<n):i===r?(n-e)/s+2:(e-i)/s+4,s/=l<.5?r+o:2-r-o,a*=60):s=0<l&&l<1?0:a,new Re(a,s,l,t.opacity)}function Re(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function Ne(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}re(de,Ae,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Se,formatHex:Se,formatHsl:function(){return Ie(this).formatHsl()},formatRgb:je,toString:je}),re(ke,Le,fe(de,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ee,formatHex:Ee,formatRgb:De,toString:De})),re(Re,function(t,e,i,n){return 1===arguments.length?Ie(t):new Re(t,e,i,null==n?1:n)},fe(de,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Re(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Re(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,o=2*i-n;return new ke(Ne(240<=t?t-240:120+t,o,n),Ne(t,o,n),Ne(t<120?240+t:t-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ye=function(t){return function(){return t}};function Ge(r){return 1==(r=+r)?Xe:function(t,e){return e-t?(i=t,n=e,o=r,i=Math.pow(i,o),n=Math.pow(n,o)-i,o=1/o,function(t){return Math.pow(i+t*n,o)}):Ye(isNaN(t)?e:t);var i,n,o}}function Xe(t,e){var i,n,o=e-t;return o?(i=t,n=o,function(t){return i+t*n}):Ye(isNaN(t)?e:t)}var ze=function t(e){var a=Ge(e);function i(e,t){var i=a((e=Le(e)).r,(t=Le(t)).r),n=a(e.g,t.g),o=a(e.b,t.b),r=Xe(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=n(t),e.b=o(t),e.opacity=r(t),e+""}}return i.gamma=t,i}(1);var Ve=function(e,i){i=i||[];var n,o=e?Math.min(i.length,e.length):0,r=i.slice();return function(t){for(n=0;n<o;++n)r[n]=e[n]*(1-t)+i[n]*t;return r}};function He(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function We(t,e){for(var i=e?e.length:0,n=t?Math.min(i,t.length):0,o=new Array(n),r=new Array(i),a=0;a<n;++a)o[a]=Je(t[a],e[a]);for(;a<i;++a)r[a]=e[a];return function(t){for(a=0;a<n;++a)r[a]=o[a](t);return r}}function qe(e,i){return e=+e,i=+i,function(t){return e*(1-t)+i*t}}function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,n){var e,i,o,r,a,s=Ke.lastIndex=$e.lastIndex=0,l=-1,u=[],c=[];for(t+="",n+="";(e=Ke.exec(t))&&(i=$e.exec(n));)(o=i.index)>s&&(o=n.slice(s,o),u[l]?u[l]+=o:u[++l]=o),(e=e[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:qe(e,i)})),s=$e.lastIndex;return s<n.length&&(o=n.slice(s),u[l]?u[l]+=o:u[++l]=o),u.length<2?c[0]?(a=c[0].x,function(t){return a(t)+""}):(r=n,function(){return r}):(n=c.length,function(t){for(var e,i=0;i<n;++i)u[(e=c[i]).i]=e.x(t);return u.join("")})}var Ke=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$e=new RegExp(Ke.source,"g");function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Je=function(t,e){var i,n=Qe(e);return null==e||"boolean"===n?Ye(e):("number"===n?qe:"string"===n?(i=Ae(e))?(e=i,ze):Ze:e instanceof Ae?ze:e instanceof Date?function(e,i){var n=new Date;return e=+e,i=+i,function(t){return n.setTime(e*(1-t)+i*t),n}}:He(e)?Ve:Array.isArray(e)?We:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var i,n={},o={};for(i in null!==t&&"object"===Ue(t)||(t={}),null!==e&&"object"===Ue(e)||(e={}),e)i in t?n[i]=Je(t[i],e[i]):o[i]=e[i];return function(t){for(i in n)o[i]=n[i](t);return o}}:qe)(t,e)},ti=[1,0,0,0,1,0,0,0,1];function ei(t,e,i){var n,o=e.startTime;if(!(i<o+e.delay||e._paused)){var r,a=e.duration,s=e.easing;if(i=i-o-e.delay,e.repeat)n=i%a/a,n=l[s](n);else{if(!((n=i/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),1;n=l[s](n)}e.onFrame?(r=e.onFrame(n),t.attr(r)):function(t,e,i){var n,o,r,a,s,l={},u=e.fromAttrs,c=e.toAttrs;if(!t.destroyed){for(var h in c)if(!Object(M.isEqual)(u[h],c[h]))if("path"===h){var p=c[h],f=u[h];p.length>f.length?(p=T(c[h]),f=T(u[h]),f=D(f,p),f=B(f,p),e.fromAttrs.path=f,e.toAttrs.path=p):e.pathFormatted||(p=T(c[h]),f=T(u[h]),f=B(f,p),e.fromAttrs.path=f,e.toAttrs.path=p,e.pathFormatted=!0),l[h]=[];for(var d=0;d<p.length;d++){for(var g=p[d],y=f[d],v=[],m=0;m<g.length;m++)Object(M.isNumber)(g[m])&&y&&Object(M.isNumber)(y[m])?(n=Je(y[m],g[m]),v.push(n(i))):v.push(g[m]);l[h].push(v)}}else{"matrix"===h?(r=u[h]||ti,s=(He(a=c[h]||ti)?Ve:We)(r,a)(i),l[h]=s):["fill","stroke","fillStyle","strokeStyle"].includes(h)&&(o=c[h],/^[r,R,L,l]{1}[\s]*\(/.test(o))?l[h]=c[h]:Object(M.isFunction)(c[h])||(n=Je(u[h],c[h]),l[h]=n(i))}t.attr(l)}}(t,e,n)}}var ii,ni,oi,ri=(fi.prototype.initTimer=function(){var n,o,r,a=this;this.timer=Tt(function(t){if(a.current=t,0<a.animators.length){for(var e=a.animators.length-1;0<=e;e--)if((n=a.animators[e]).destroyed)a.removeAnimator(e);else{if(!n.isAnimatePaused())for(var i=(o=n.get("animations")).length-1;0<=i;i--)r=o[i],ei(n,r,t)&&(o.splice(i,1),r.callback&&r.callback());0===o.length&&a.removeAnimator(e)}a.canvas.get("autoDraw")||a.canvas.draw()}})},fi.prototype.addAnimator=function(t){this.animators.push(t)},fi.prototype.removeAnimator=function(t){this.animators.splice(t,1)},fi.prototype.isAnimating=function(){return!!this.animators.length},fi.prototype.stop=function(){this.timer&&this.timer.stop()},fi.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},fi.prototype.getTime=function(){return this.current},fi),ai=(oi=dt,Object(F.__extends)(pi,oi),pi.prototype.getDefaultCfg=function(){var t=oi.prototype.getDefaultCfg.call(this);return t.cursor="default",t},pi.prototype.initContainer=function(){var t=this.get("container");G()(t)&&(t=document.getElementById(t),this.set("container",t))},pi.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},pi.prototype.initEvents=function(){},pi.prototype.initTimeline=function(){var t=new ri(this);this.set("timeline",t)},pi.prototype.setDOMSize=function(t,e){var i=this.get("el");J&&(i.style.width=t+"px",i.style.height=e+"px")},pi.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},pi.prototype.getRenderer=function(){return this.get("renderer")},pi.prototype.getCursor=function(){return this.get("cursor")},pi.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");J&&e&&(e.style.cursor=t)},pi.prototype.getPointByClient=function(t,e){var i=this.get("el").getBoundingClientRect();return{x:t-i.left,y:e-i.top}},pi.prototype.getClientByPoint=function(t,e){var i=this.get("el").getBoundingClientRect();return{x:t+i.left,y:e+i.top}},pi.prototype.draw=function(){},pi.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},pi.prototype.clearEvents=function(){},pi.prototype.isCanvas=function(){return!0},pi.prototype.getParent=function(){return null},pi.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),oi.prototype.destroy.call(this))},pi),si=(ni=dt,Object(F.__extends)(hi,ni),hi.prototype.isGroup=function(){return!0},hi.prototype.isEntityGroup=function(){return!1},hi.prototype.clone=function(){for(var t=ni.prototype.clone.call(this),e=this.getChildren(),i=0;i<e.length;i++){var n=e[i];t.add(n.clone())}return t},hi),li=(ii=ct,Object(F.__extends)(ci,ii),ci.prototype._isInBBox=function(t,e){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=e&&i.maxY>=e},ci.prototype.afterAttrsChange=function(t){ii.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},ci.prototype.getBBox=function(){var t=this.get("bbox");return t||(t=this.calculateBBox(),this.set("bbox",t)),t},ci.prototype.getCanvasBBox=function(){var t=this.get("canvasBox");return t||(t=this.calculateCanvasBBox(),this.set("canvasBox",t)),t},ci.prototype.applyMatrix=function(t){ii.prototype.applyMatrix.call(this,t),this.set("canvasBox",null)},ci.prototype.calculateCanvasBBox=function(){var t,e,i,n,o=this.getBBox(),r=this.getTotalMatrix(),a=o.minX,s=o.minY,l=o.maxX,u=o.maxY;r&&(t=at(r,[o.minX,o.minY]),e=at(r,[o.maxX,o.minY]),i=at(r,[o.minX,o.maxY]),n=at(r,[o.maxX,o.maxY]),a=Math.min(t[0],e[0],i[0],n[0]),l=Math.max(t[0],e[0],i[0],n[0]),s=Math.min(t[1],e[1],i[1],n[1]),u=Math.max(t[1],e[1],i[1],n[1]));var c,h,p,f,d,g,y,v,m,x,b=this.attrs;return b.shadowColor&&(y=a-(h=void 0===(c=b.shadowBlur)?0:c)+(f=void 0===(p=b.shadowOffsetX)?0:p),v=l+h+f,m=s-h+(g=void 0===(d=b.shadowOffsetY)?0:d),x=u+h+g,a=Math.min(a,y),l=Math.max(l,v),s=Math.min(s,m),u=Math.max(u,x)),{x:a,y:s,minX:a,minY:s,maxX:l,maxY:u,width:l-a,height:u-s}},ci.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},ci.prototype.isClipShape=function(){return this.get("isClipShape")},ci.prototype.isInShape=function(t,e){return!1},ci.prototype.isOnlyHitBox=function(){return!1},ci.prototype.isHit=function(t,e){var i=this.get("startArrowShape"),n=this.get("endArrowShape"),o=[t,e,1],r=(o=this.invertFromMatrix(o))[0],a=o[1],s=this._isInBBox(r,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(r,a)){if(this.isInShape(r,a))return!0;if(i&&i.isHit(r,a))return!0;if(n&&n.isHit(r,a))return!0}return!1},ci),ui=i(160).version;function ci(t){return ii.call(this,t)||this}function hi(){return null!==ni&&ni.apply(this,arguments)||this}function pi(t){var e=oi.call(this,t)||this;return e.initContainer(),e.initDom(),e.initEvents(),e.initTimeline(),e}function fi(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),s=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],n=[],o=a.deepMix(u({title:"title",description:"description",breadcrumb:"breadcrumb"}),c("Plot",s));e.CANVAS_EVENT_MAP=o;var r=c("Layer",s);e.LAYER_EVENT_MAP=r;var l=a.deepMix({},u({axis:"axis-label",label:"label",legend:"legend-item"}),c("View",s),h());function u(t){var r={};return a.each(t,function(t,e){var n="on"+a.upperFirst(e),o=t+":";a.each(s,function(t){var e=a.upperFirst(t),i=o+t;r[n+e]=i})}),r}function c(i,t){var n={};return a.each(t,function(t){var e=a.upperFirst(t);n["on"+i+e]=t}),n}function h(){var i={};return a.each(n,function(t){var e=a.upperFirst(t);i["on"+e]=t}),i}e.EVENT_MAP=l,e.onEvent=function(i,t,n){i.view.on(t,function(t){var e={x:null==t?void 0:t.x,y:null==t?void 0:t.y,clientX:null==t?void 0:t.clientX,clientY:null==t?void 0:t.clientY,target:null==t?void 0:t.target,data:null!=t&&t.data?t.data.data:null,plot:i,canvas:i.canvas,gEvent:null==t?void 0:t.gEvent};n(e)})},e.getEventMap=u,e.getRegionEventMap=c,e.getMobileEventMap=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.fromBBoxObject=function(t){return new o(t.x,t.y,t.width,t.height)},o.fromRange=function(t,e,i,n){return new o(t,e,i-t,n-e)},o.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},Object.defineProperty(o.prototype,"minX",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"minY",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!0,configurable:!0}),o);function o(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.height=n,this.width=i,this.x=t,this.y=e}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(117);e.getGlobalTheme=n.getGlobalTheme,e.registerGlobalTheme=n.registerGlobalTheme;var o=i(216);e.getTheme=o.getTheme,e.registerTheme=o.registerTheme;var r=i(217);e.convertToG2Theme=r.convertToG2Theme},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),s=i(0),n=i(7),l=r.__importDefault(i(113)),a=i(16),o=i(21),u=r.__importDefault(i(208)),c=i(9),h=r.__importDefault(i(214)),p=r.__importDefault(i(54)),f=r.__importDefault(i(80)),d=r.__importDefault(i(44)),g=i(38);n.registerComponentController("gesture",n.Gestrue);var y,v=(y=d.default,r.__extends(m,y),m.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!1}},m.prototype.getOptions=function(t){var e=this.options||{},i=y.prototype.getOptions.call(this,t),n=this.constructor.getDefaultOptions(t),o=s.reduce(s.flatten(s.map([i,n,e,t],function(t){return s.get(t,"interactions",[])})),function(t,e){var i=s.findIndex(t,function(t){return t.type===e.type});return 0<=i&&t.splice(i,1),r.__spreadArrays(t,[e])},[]);return s.deepMix({},i,n,e,t,{interactions:o})},m.prototype.beforeInit=function(){y.prototype.beforeInit.call(this)},m.prototype.init=function(){var t=this;y.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new n.View({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,region:e}),this.applyInteractions(),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},m.prototype.afterInit=function(){y.prototype.afterInit.call(this),this.view&&!this.view.destroyed&&"auto"!==this.options.padding&&this.parseEvents()},m.prototype.afterRender=function(){var t,e;this.view&&!this.view.destroyed&&(e=(t=this.options).padding?t.padding:this.config.theme.padding,t.defaultState&&"auto"!==e&&this.stateController.defaultStates(t.defaultState),"auto"===e&&this.paddingController.processAutoPadding(),t.tooltip&&t.tooltip.customContent&&"auto"!==t.padding&&this.customTooltip())},m.prototype.render=function(){y.prototype.render.call(this);var t=this.options.data;s.isEmpty(t)||this.view.render()},m.prototype.destroy=function(){this.doDestroy(),y.prototype.destroy.call(this)},m.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&"auto"===this.initialOptions.padding&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},m.prototype.changeData=function(t){this.options.data=this.processData(t),this.view.changeData(this.options.data)},m.prototype.getPlot=function(){return this.view},m.prototype.getLabels=function(){return this.labels},m.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},m.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},m.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},m.prototype.getInteractions=function(){return this.interactions},m.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},m.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},m.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},m.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},m.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},m.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},m.prototype.processData=function(t){return t},m.prototype.scale=function(){var t=s.mapValues(this.config.scales,function(t){var e=t.type;return e?{type:e}:{}}),e=s.deepMix({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},m.prototype.axis=function(){var t=o.getComponent("axis",{plot:this,dim:"x"}),e=o.getComponent("axis",{plot:this,dim:"y"}),i={};i[this.options.xField]=t,i[this.options.yField]=e,this.setConfig("axes",i)},m.prototype.tooltip=function(){var t;!1!==this.options.tooltip.visible?((t=s.get(this.options,"tooltip")).customContent&&t.customContent.container&&(t.container=t.customContent.container),this.setConfig("tooltip",s.deepMix({},t)),s.deepMix(this.config.theme.tooltip,this.options.tooltip.domStyles)):this.setConfig("tooltip",!1)},m.prototype.customTooltip=function(){var e,t=this,i=this.options.tooltip.customContent;i.container&&(e=s.isString(i.container)?document.getElementById(i.container):i.container),this.view.on("tooltip:show",function(){i.container||(e=t.canvas.cfg.container.getElementsByClassName("g2-tooltip")[0])}),this.view.hideTooltip(),this.view.on("tooltip:change",function(t){e&&i.callback(e,t)})},m.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&1<e.length&&"center"===e[1]?e[0]:t},m.prototype.legend=function(){var t,e,i;!1!==this.options.legend.visible?(e=s.deepMix({},this.theme.legend,this.options.legend),i={position:this.getLegendPosition(s.get(e,"position")),offsetX:s.get(e,"offsetX"),offsetY:s.get(e,"offsetY"),flipPage:s.get(e,"flipPage"),marker:s.get(e,"marker"),title:null!==(t=e.title)&&void 0!==t&&t.visible?s.get(e,"title"):null,itemName:s.get(e,"text")},this.setConfig("legends",i)):this.setConfig("legends",!1)},m.prototype.annotation=function(){var i=this,n=[];"cartesian"===this.config.coordinate.type&&this.options.guideLine&&s.each(this.options.guideLine,function(t){var e=o.getComponent("guideLine",{plot:i,cfg:t});n.push(e)}),this.setConfig("annotations",n)},m.prototype.interaction=function(){var i=this,t=this.options.interactions,e=void 0===t?[]:t;s.each(e,function(t){var e=t.type;"slider"!==e&&"scrollbar"!==e||(i.options.xAxis=s.deepMix({},i.options.xAxis,{label:{autoHide:!0,autoRotate:!1}})),i.setConfig("interaction",t)})},m.prototype.animation=function(){!1===this.options.animation&&this.setConfig("animate",!1)},m.prototype.applyInteractions=function(){var n=this,t=this.options.interactions,e=void 0===t?[]:t;this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[],e.forEach(function(t){var e,i=u.default.getInteraction(t.type,n.type);i&&(e=new i({view:n.view},n,i.getInteractionRange(n.layerBBox,t.cfg),t.cfg),n.interactions.push(e))})},m.prototype.setConfig=function(t,e){"geometry"!==t?"interaction"!==t?!1!==e?s.assign(this.config[t],e):this.config[t]=!1:this.config.interactions.push(e):this.config.geometries.push(e)},m.prototype.parseEvents=function(t){var n,o=this,e=this.options;e.events&&(y.prototype.parseEvents.call(this,e.events),n=t?t.EVENT_MAP:c.EVENT_MAP,s.each(e.events,function(t,e){var i;s.isFunction(t)&&(i=n[e]||e,c.onEvent(o,i,t))}))},m.prototype.drawTitle=function(){var t,e,i,n=this.options,o=this.layerBBox;this.title&&(this.title.destroy(),this.title=null),g.isTextUsable(n.title)&&(t=this.width,e=this.config.theme,i=new l.default({leftMargin:o.minX+e.title.padding[3],rightMargin:o.maxX-e.title.padding[1],topMargin:o.minY+e.title.padding[0],text:n.title.text,style:s.mix(e.title,n.title.style),wrapperWidth:t-e.title.padding[3]-e.title.padding[1],container:this.container.addGroup(),theme:e,index:g.isTextUsable(n.description)?0:1,plot:this,alignTo:n.title.alignTo,name:"title"}),this.title=i,this.paddingController.registerPadding(i,"outer"))},m.prototype.drawDescription=function(){var t,e,i,n,o,r=this.options,a=this.layerBBox;this.description&&(this.description.destroy(),this.description=null),g.isTextUsable(r.description)&&(t=this.width,e=this.config.theme,i=0,this.title?(i+=(n=this.title.getBBox()).minY+n.height,i+=e.description.padding[0]):i+=a.minY+e.title.padding[0],o=new l.default({leftMargin:a.minX+e.description.padding[3],topMargin:i,rightMargin:a.maxX-e.title.padding[1],text:r.description.text,style:s.mix(e.description,r.description.style),wrapperWidth:t-e.description.padding[3]-e.description.padding[1],container:this.container.addGroup(),theme:e,index:1,plot:this,alignTo:r.description.alignTo,name:"description"}),this.description=o,this.paddingController.registerPadding(o,"outer"))},m.prototype.doRenderLabel=function(t,e){s.each(this.labels,function(t){t.destroy()}),this.labels=[];var i,n={layer:this,container:t.labelsContainer,geometry:t,label:e},o=a.getLabelComponent(e.type);o&&((i=new o(n)).render(),this.labels.push(i))},m.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},m.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},m.prototype.doDestroyLabels=function(){s.each(this.labels,function(t){t.destroy()}),this.labels=[]},m.prototype.getViewRange=function(){var o=this,t=this.options.interactions,e=void 0===t?[]:t,r=this.layerBBox;return e.forEach(function(t){var e=u.default.getInteraction(t.type,o.type),i=e&&e.getInteractionRange(r,t.cfg),n="";i&&(i.maxY===r.maxY&&i.minY>r.minY?n="bottom":i.maxX===r.maxX&&i.minX>r.minX?n="right":i.minX===r.minX&&i.maxX>r.maxX?n="left":i.minY===r.minY&&i.maxY>r.maxY&&(n="top"),o.paddingController.registerPadding({getBBox:function(){return i},position:n},"outer"))}),this.paddingController.processOuterPadding()},m.prototype.viewRangeToRegion=function(t){var e=t.width,i=t.height,n={x:0,y:0},o={x:1,y:1};return n.x=t.minX/e,n.y=t.minY/i,o.x=t.maxX/(t.minX+e),o.y=t.maxY/(t.minY+i),{start:n,end:o}},m);function m(t){var e=y.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=s.deepMix({},e.options),e.paddingController=new h.default({plot:e}),e.stateController=new p.default({plot:e}),e.themeController=new f.default,e}e.default=v},function(t,e,i){"use strict";i.r(e),i.d(e,"Component",function(){return z}),i.d(e,"GroupComponent",function(){return W}),i.d(e,"HtmlComponent",function(){return Kt}),i.d(e,"Axis",function(){return s}),i.d(e,"Annotation",function(){return n}),i.d(e,"Grid",function(){return u}),i.d(e,"Legend",function(){return c}),i.d(e,"Tooltip",function(){return f}),i.d(e,"Crosshair",function(){return l}),i.d(e,"Slider",function(){return ei}),i.d(e,"Scrollbar",function(){return ni});var n={};i.r(n),i.d(n,"Line",function(){return U}),i.d(n,"Text",function(){return Z}),i.d(n,"Arc",function(){return K}),i.d(n,"Region",function(){return $}),i.d(n,"Image",function(){return Q}),i.d(n,"DataMarker",function(){return J}),i.d(n,"DataRegion",function(){return tt}),i.d(n,"RegionFilter",function(){return et});var o={};i.r(o),i.d(o,"getDefault",function(){return mt}),i.d(o,"ellipsisHead",function(){return xt}),i.d(o,"ellipsisTail",function(){return bt}),i.d(o,"ellipsisMiddle",function(){return _t});var r={};i.r(r),i.d(r,"getDefault",function(){return St}),i.d(r,"reserveFirst",function(){return jt}),i.d(r,"reserveLast",function(){return At}),i.d(r,"reserveBoth",function(){return Pt}),i.d(r,"equidistance",function(){return Tt});var a={};i.r(a),i.d(a,"getDefault",function(){return kt}),i.d(a,"fixedAngle",function(){return Et}),i.d(a,"unfixedAngle",function(){return Dt});var h={};i.r(h),i.d(h,"autoHide",function(){return r}),i.d(h,"autoRotate",function(){return a}),i.d(h,"autoEllipsis",function(){return o});var s={};i.r(s),i.d(s,"Line",function(){return Vt}),i.d(s,"Circle",function(){return Ht}),i.d(s,"Base",function(){return dt});var l={};i.r(l),i.d(l,"Line",function(){return qt}),i.d(l,"Circle",function(){return Ut}),i.d(l,"Base",function(){return Wt}),i.d(l,"Html",function(){return Qt});var u={};i.r(u),i.d(u,"Base",function(){return Jt}),i.d(u,"Circle",function(){return de}),i.d(u,"Line",function(){return ge});var c={};i.r(c),i.d(c,"Category",function(){return ve}),i.d(c,"Continuous",function(){return me}),i.d(c,"Base",function(){return ye});var p={};i.r(p),i.d(p,"CONTAINER_CLASS",function(){return be}),i.d(p,"TITLE_CLASS",function(){return _e}),i.d(p,"LIST_CLASS",function(){return Me}),i.d(p,"LIST_ITEM_CLASS",function(){return Oe}),i.d(p,"MARKER_CLASS",function(){return we}),i.d(p,"VALUE_CLASS",function(){return Ce}),i.d(p,"NAME_CLASS",function(){return Se}),i.d(p,"CROSSHAIR_X",function(){return je}),i.d(p,"CROSSHAIR_Y",function(){return Ae});var f={};i.r(f),i.d(f,"Html",function(){return Fe});var b=i(1),_=i(0),d=i(64),g=i.n(d),y=i(2),v=[1,0,0,0,1,0,0,0,1];function m(t,e){return e?Object(y.transform)(v,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function x(t,e){return t.x||t.y?Object(y.transform)(e||v,[["t",t.x,t.y]]):null}function M(t,e){var i=[];return y.vec2.transformMat3(i,e,t),i}function O(t){var e=0,i=0,n=0,o=0;return Object(_.isNumber)(t)?e=i=n=o=t:Object(_.isArray)(t)&&(e=t[0],n=Object(_.isNil)(t[1])?t[0]:t[1],o=Object(_.isNil)(t[2])?t[0]:t[2],i=Object(_.isNil)(t[3])?n:t[3]),[e,n,o,i]}function w(t){for(var e=t.childNodes,i=e.length-1;0<=i;i--)t.removeChild(e[i])}function C(t){var e=t.start,i=t.end,n=Math.min(e.x,i.x),o=Math.min(e.y,i.y),r=Math.max(e.x,i.x),a=Math.max(e.y,i.y);return{x:n,y:o,minX:n,minY:o,maxX:r,maxY:a,width:r-n,height:a-o}}function S(t,e,i,n){return{x:t,y:e,width:i,height:n,minX:t,minY:e,maxX:t+i,maxY:e+n}}function j(t,e,i){return(1-i)*t+e*i}function A(t,e,i){return{x:t.x+Math.cos(i)*e,y:t.y+Math.sin(i)*e}}function P(t){return t+"px"}function T(t,e,i,n){var o,r,a=n/(o=e.x-t.x,r=e.y-t.y,Math.sqrt(o*o+r*r)),s=0;return"start"===i?s=0-a:"end"===i&&(s=1+a),{x:j(t.x,e.x,s),y:j(t.y,e.y,s)}}var L,k,E,D,B,F,I,R,N,Y,G=i(8),X={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},z=(Y=G.Base,Object(b.__extends)(ht,Y),ht.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},ht.prototype.clear=function(){},ht.prototype.update=function(t){var n=this,o=this.get("defaultCfg");Object(_.each)(t,function(t,e){var i=t;n.get(e)!==t&&(Object(_.isObject)(t)&&o[e]&&(i=Object(_.deepMix)({},o[e],t)),n.set(e,i))}),this.updateInner(t),this.afterUpdate(t)},ht.prototype.updateInner=function(t){},ht.prototype.afterUpdate=function(t){Object(_.hasKey)(t,"visible")&&(t.visible?this.show():this.hide()),Object(_.hasKey)(t,"capture")&&this.setCapture(t.capture)},ht.prototype.getLayoutBBox=function(){return this.getBBox()},ht.prototype.getLocationType=function(){return this.get("locationType")},ht.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},ht.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},ht.prototype.setLocation=function(t){var e=Object(b.__assign)({},t);this.update(e)},ht.prototype.getLocation=function(){var e=this,i={},t=this.get("locationType"),n=X[t];return Object(_.each)(n,function(t){i[t]=e.get(t)}),i},ht.prototype.isList=function(){return!1},ht.prototype.isSlider=function(){return!1},ht.prototype.init=function(){},ht.prototype.initCfg=function(){var o=this,t=this.get("defaultCfg");Object(_.each)(t,function(t,e){var i,n=o.get(e);Object(_.isObject)(n)&&(i=Object(_.deepMix)({},t,n),o.set(e,i))})},ht),V=["visible","tip","delegateObject"],H=["container","group","shapesMap","isRegister","isUpdating","destroyed"],W=(N=z,Object(b.__extends)(ct,N),ct.prototype.getDefaultCfg=function(){var t=N.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},ct.prototype.remove=function(){this.clear(),this.get("group").remove()},ct.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},ct.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},ct.prototype.getElementById=function(t){return this.get("shapesMap")[t]},ct.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},ct.prototype.getElementsByName=function(e){var i=[];return Object(_.each)(this.get("shapesMap"),function(t){t.get("name")===e&&i.push(t)}),i},ct.prototype.getContainer=function(){return this.get("container")},ct.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},ct.prototype.render=function(){var t=(t=this.get("offScreenGroup"))||this.offScreenRender(),e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},ct.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},ct.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},ct.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},ct.prototype.destroy=function(){this.removeEvent(),this.remove(),N.prototype.destroy.call(this)},ct.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},ct.prototype.getLayoutBBox=function(){var t,e,i,n,o,r,a,s,l,u,c=this.get("group"),h=this.getInnerLayoutBBox(),p=c.getTotalMatrix();return p&&(i=M(t=p,[(e=h).minX,e.minY]),n=M(t,[e.maxX,e.minY]),o=M(t,[e.minX,e.maxY]),r=M(t,[e.maxX,e.maxY]),a=Math.min(i[0],n[0],o[0],r[0]),s=Math.max(i[0],n[0],o[0],r[0]),l=Math.min(i[1],n[1],o[1],r[1]),u=Math.max(i[1],n[1],o[1],r[1]),h={x:a,y:l,minX:a,minY:l,maxX:s,maxY:u,width:s-a,height:u-l}),h},ct.prototype.on=function(t,e,i){return this.get("group").on(t,e,i),this},ct.prototype.off=function(t,e){var i=this.get("group");return i&&i.off(t,e),this},ct.prototype.emit=function(t,e){this.get("group").emit(t,e)},ct.prototype.init=function(){N.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},ct.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},ct.prototype.delegateEmit=function(t,o){var e=this.get("group");(o.target=e).emit(t,o),function(t,e){var i=new g.a(e,o);i.target=t,i.propagationPath.push(t),t.emitDelegation(e,i);for(var n=t.getParent();n;)n.emitDelegation(e,i),i.propagationPath.push(n),n=n.getParent()}(e,t)},ct.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},ct.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},ct.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},ct.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",function c(t){var e,i,n,o,h,p,f,d,r,a=t.getClip(),s=a&&a.getBBox(),l=t.isGroup()?(f=h=1/0,d=p=-1/0,0<(r=t.getChildren()).length?Object(_.each)(r,function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=c(t),i=t.applyToMatrix([e.minX,e.minY,1]),n=t.applyToMatrix([e.minX,e.maxY,1]),o=t.applyToMatrix([e.maxX,e.minY,1]),r=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(i[0],n[0],o[0],r[0]),s=Math.max(i[0],n[0],o[0],r[0]),l=Math.min(i[1],n[1],o[1],r[1]),u=Math.max(i[1],n[1],o[1],r[1]);a<h&&(h=a),p<s&&(p=s),l<f&&(f=l),d<u&&(d=u)}}):d=f=p=h=0,S(h,f,p-h,d-f)):t.getBBox();return s?(e=l,i=s,S(n=Math.max(e.minX,i.minX),o=Math.max(e.minY,i.minY),Math.min(e.maxX,i.maxX)-n,Math.min(e.maxY,i.maxY)-o)):l}(t)),t},ct.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var i=t.addGroup(e);return this.get("isRegister")&&this.registerElement(i),i},ct.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var i=t.addShape(e);return this.get("isRegister")&&this.registerElement(i),i},ct.prototype.addComponent=function(t,e){var i=e.id,n=e.component,o=Object(b.__rest)(e,["id","component"]),r=new n(Object(b.__assign)(Object(b.__assign)({},o),{id:i,container:t,updateAutoRender:this.get("updateAutoRender")}));return r.init(),r.render(),this.get("isRegister")&&this.registerElement(r.get("group")),r},ct.prototype.initEvent=function(){},ct.prototype.removeEvent=function(){this.get("group").off()},ct.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},ct.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},ct.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},ct.prototype.moveElementTo=function(t,e){var i=x(e);t.attr("matrix",i)},ct.prototype.addAnimation=function(t,e,i){var n=e.attr("opacity");Object(_.isNil)(n)&&(n=1),e.attr("opacity",0),e.animate({opacity:n},i)},ct.prototype.removeAnimation=function(t,e,i){e.animate({opacity:0},i)},ct.prototype.updateAnimation=function(t,e,i,n){e.animate(i,n)},ct.prototype.updateElements=function(t,g){var y,v=this,m=this.get("animate"),x=this.get("animateOption"),e=t.getChildren().slice(0);Object(_.each)(e,function(e){var t,i,n,o,r,a,s,l,u,c,h,p=e.get("id"),f=v.getElementById(p),d=e.get("name");f?e.get("isComponent")?(t=e.get("component"),i=f.get("component"),n=Object(_.pick)(t.cfg,Object(_.difference)(Object(_.keys)(t.cfg),H)),i.update(n),f.set("update_status","update")):(o=v.getReplaceAttrs(f,e),m&&x.update?v.updateAnimation(d,f,o,x.update):f.attr(o),e.isGroup()&&v.updateElements(e,f),Object(_.each)(V,function(t){f.set(t,e.get(t))}),u=e,((l=f).getClip()||u.getClip())&&((c=u.getClip())?(h={type:c.get("type"),attrs:c.attr()},l.setClip(h)):l.setClip(null)),(y=f).set("update_status","update")):(g.add(e),(r=g.getChildren()).splice(r.length-1,1),y?(a=r.indexOf(y),r.splice(a+1,0,e)):r.unshift(e),v.registerElement(e),e.set("update_status","add"),e.get("isComponent")?(t=e.get("component")).set("container",g):e.isGroup()&&v.registerNewGroup(e),y=e,m&&(s=v.get("isInit")?x.appear:x.enter)&&v.addAnimation(d,e,s))})},ct.prototype.clearUpdateStatus=function(t){var e=t.getChildren();Object(_.each)(e,function(t){t.set("update_status",null)})},ct.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},ct.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},ct.prototype.appendDelegateObject=function(t,e){var i=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),Object(_.mix)(e.delegateObject,i)},ct.prototype.getReplaceAttrs=function(t,e){var i=t.attr(),n=e.attr();return Object(_.each)(i,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n},ct.prototype.registerNewGroup=function(t){var e=this,i=t.getChildren();Object(_.each)(i,function(t){e.registerElement(t),t.set("update_status","add"),t.isGroup()&&e.registerNewGroup(t)})},ct.prototype.deleteElements=function(){var r=this,a=this.get("shapesMap"),i=[];Object(_.each)(a,function(t,e){!t.get("update_status")||t.destroyed?i.push([e,t]):t.set("update_status",null)});var s=this.get("animate"),l=this.get("animateOption");Object(_.each)(i,function(t){var e,i,n=t[0],o=t[1];o.destroyed||(e=o.get("name"),s&&l.leave?(i=Object(_.mix)({callback:function(){r.removeElement(o)}},l.leave),r.removeAnimation(e,o,i)):r.removeElement(o)),delete a[n]})},ct.prototype.removeElement=function(t){var e;!t.get("isGroup")||(e=t.get("component"))&&e.destroy(),t.remove()},ct),q={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},U=(R=W,Object(b.__extends)(ut,R),ut.prototype.getDefaultCfg=function(){var t=R.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:q.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:q.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:q.lineColor,lineWidth:1}}}})},ut.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},ut.prototype.renderLine=function(t){var e=this.get("start"),i=this.get("end"),n=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(b.__assign)({x1:e.x,y1:e.y,x2:i.x,y2:i.y},n)})},ut.prototype.getLabelPoint=function(t,e,i){var n;return(1<(n="start"===i?0:"center"===i?.5:Object(_.isString)(i)&&-1!==i.indexOf("%")?parseInt(i,10)/100:Object(_.isNumber)(i)?i:1)||n<0)&&(n=1),{x:j(t.x,e.x,n),y:j(t.y,e.y,n)}},ut.prototype.renderLabel=function(t){var e,i,n=this.get("text"),o=this.get("start"),r=this.get("end"),a=n.position,s=n.content,l=n.style,u=n.offsetX,c=n.offsetY,h=n.autoRotate,p=this.getLabelPoint(o,r,a),f=Object(b.__assign)({x:p.x+u,y:p.y+c,text:s},l);h&&(e=[r.x-o.x,r.y-o.y],i=m(p,Math.atan2(e[1],e[0])),f.matrix=i),this.addShape(t,{type:"text",id:this.getElementId("line-text"),name:"annotation-line-text",attrs:f})},ut),Z=(I=W,Object(b.__extends)(lt,I),lt.prototype.getDefaultCfg=function(){var t=I.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},defaultCfg:{style:{fill:q.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:q.fontFamily}}})},lt.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},lt.prototype.renderInner=function(t){this.renderText(t)},lt.prototype.renderText=function(t){var e=this.getLocation(),i=e.x,n=e.y,o=this.get("content"),r=this.get("style"),a=this.addShape(t,{type:"text",id:this.getElementId("text"),name:"annotation-text",attrs:Object(b.__assign)({x:i,y:n,text:o},r)});this.applyRotate(a,i,n)},lt.prototype.applyRotate=function(t,e,i){var n=this.get("rotate"),o=null;n&&(o=m({x:e,y:i},n)),t.attr("matrix",o)},lt.prototype.resetLocation=function(){var t,e,i,n=this.getElementByLocalId("text");n&&(e=(t=this.getLocation()).x,i=t.y,n.attr({x:e,y:i}),this.applyRotate(n,e,i))},lt),K=(F=W,Object(b.__extends)(st,F),st.prototype.getDefaultCfg=function(){var t=F.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},st.prototype.renderInner=function(t){this.renderArc(t)},st.prototype.getArcPath=function(){var t,e=this.getLocation(),i=e.center,n=e.radius,o=e.startAngle,r=e.endAngle,a=A(i,n,o),s=A(i,n,r),l=r-o>Math.PI?1:0,u=[["M",a.x,a.y]];return r-o==2*Math.PI&&(t=A(i,n,o+Math.PI),u.push(["A",n,n,0,l,1,t.x,t.y])),u.push(["A",n,n,0,l,1,s.x,s.y]),u},st.prototype.renderArc=function(t){var e=this.getArcPath(),i=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(b.__assign)({path:e},i)})},st),$=(B=W,Object(b.__extends)(at,B),at.prototype.getDefaultCfg=function(){var t=B.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:q.regionColor,opacity:.4}}})},at.prototype.renderInner=function(t){this.renderRegion(t)},at.prototype.renderRegion=function(t){var e=this.get("start"),i=this.get("end"),n=this.get("style"),o=C({start:e,end:i});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(b.__assign)({x:o.x,y:o.y,width:o.width,height:o.height},n)})},at),Q=(D=W,Object(b.__extends)(rt,D),rt.prototype.getDefaultCfg=function(){var t=D.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},rt.prototype.renderInner=function(t){this.renderImage(t)},rt.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),i=this.get("style"),n=C({start:t,end:e}),o=this.get("src");return Object(b.__assign)({x:n.x,y:n.y,img:o,width:n.width,height:n.height},i)},rt.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},rt),J=(E=W,Object(b.__extends)(ot,E),ot.prototype.getDefaultCfg=function(){var t=E.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:q.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:q.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:q.fontFamily}}}})},ot.prototype.renderInner=function(t){Object(_.get)(this.get("line"),"display")&&this.renderLine(t),Object(_.get)(this.get("text"),"display")&&this.renderText(t),Object(_.get)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},ot.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},ot.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},ot.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},ot.prototype.renderText=function(t){var e=this.getShapeAttrs().text;this.addShape(t,{type:"text",id:this.getElementId("text"),name:"annotation-text",attrs:e})},ot.prototype.autoAdjust=function(t){var e,i,n=this.get("direction"),o=this.get("x"),r=this.get("y"),a=Object(_.get)(this.get("line"),"length",0),s=this.get("coordinateBBox"),l=t.getBBox(),u=l.minX,c=l.maxX,h=l.minY,p=l.maxY,f=t.findById(this.getElementId("text")),d=t.findById(this.getElementId("line"));s&&(f&&(o+u<=s.minX&&f.attr("textAlign","start"),o+c>=s.maxX&&f.attr("textAlign","end")),"upward"===n&&r+h<=s.minY||"upward"!==n&&r+p>=s.maxY)&&(i=e=void 0,i="upward"===n&&r+h<=s.minY?(e="top",1):(e="bottom",-1),f.attr("textBaseline",e),d&&d.attr("path",[["M",0,0],["L",0,a*i]]),f.attr("y",(a+2)*i))},ot.prototype.getShapeAttrs=function(){var t=Object(_.get)(this.get("line"),"display"),e=Object(_.get)(this.get("point"),"style",{}),i=Object(_.get)(this.get("line"),"style",{}),n=Object(_.get)(this.get("text"),"style",{}),o=this.get("direction"),r=t?Object(_.get)(this.get("line"),"length",0):0,a="upward"===o?-1:1;return{point:Object(b.__assign)({x:0,y:0},e),line:Object(b.__assign)({path:[["M",0,0],["L",0,r*a]]},i),text:Object(b.__assign)({x:0,y:(r+2)*a,text:Object(_.get)(this.get("text"),"content",""),textBaseline:"upward"===o?"bottom":"top"},n)}},ot),tt=(k=W,Object(b.__extends)(nt,k),nt.prototype.getDefaultCfg=function(){var t=k.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:q.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:q.textColor,fontFamily:q.fontFamily}}}})},nt.prototype.renderInner=function(t){var e,i,n,o,r,a,s,l,u,c=Object(_.get)(this.get("region"),"style",{}),h=Object(_.get)(this.get("text"),"style",{}),p=this.get("lineLength")||0,f=this.get("points");f.length&&(o=(n=f).map(function(t){return t.x}),r=n.map(function(t){return t.y}),a=Math.min.apply(Math,o),s=Math.min.apply(Math,r),l=Math.max.apply(Math,o),u=Math.max.apply(Math,r),e={x:a,y:s,minX:a,minY:s,maxX:l,maxY:u,width:l-a,height:u-s},(i=[]).push(["M",f[0].x,e.minY-p]),f.forEach(function(t){i.push(["L",t.x,t.y])}),i.push(["L",f[f.length-1].x,f[f.length-1].y-p]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(b.__assign)({path:i},c)}),this.addShape(t,{type:"text",id:this.getElementId("text"),name:"annotation-text",attrs:Object(b.__assign)({x:(e.minX+e.maxX)/2,y:e.minY-p,text:Object(_.get)(this.get("text"),"content","")},h)}))},nt),et=(L=W,Object(b.__extends)(it,L),it.prototype.getDefaultCfg=function(){var t=L.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},it.prototype.renderInner=function(t){var o=this,e=this.get("start"),i=this.get("end"),r=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});Object(_.each)(this.get("shapes"),function(t,e){var i=t.get("type"),n=Object(_.clone)(t.attr());o.adjustShapeAttrs(n),o.addShape(r,{id:o.getElementId("shape-"+i+"-"+e),capture:!1,type:i,attrs:n})});var n=C({start:e,end:i});r.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}})},it.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},it);function it(){return null!==L&&L.apply(this,arguments)||this}function nt(){return null!==k&&k.apply(this,arguments)||this}function ot(){return null!==E&&E.apply(this,arguments)||this}function rt(){return null!==D&&D.apply(this,arguments)||this}function at(){return null!==B&&B.apply(this,arguments)||this}function st(){return null!==F&&F.apply(this,arguments)||this}function lt(){return null!==I&&I.apply(this,arguments)||this}function ut(){return null!==R&&R.apply(this,arguments)||this}function ct(){return null!==N&&N.apply(this,arguments)||this}function ht(t){var e=Y.call(this,t)||this;return e.initCfg(),e}function pt(i,t,e){var n=t+"Style",o=null;return Object(_.each)(e,function(t,e){i[e]&&t[n]&&(o=o||{},Object(_.mix)(o,t[n]))}),o}var ft,dt=(ft=W,Object(b.__extends)(gt,ft),gt.prototype.getDefaultCfg=function(){var t=ft.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:q.lineColor}},tickLine:{style:{lineWidth:1,stroke:q.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:q.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:q.textColor,textBaseline:"middle",fontFamily:q.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:q.textColor,textBaseline:"middle",fontFamily:q.fontFamily,textAlign:"center"},offset:48},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:q.uncheckedColor}}}}})},gt.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},gt.prototype.isList=function(){return!0},gt.prototype.getItems=function(){return this.get("ticks")},gt.prototype.setItems=function(t){this.update({ticks:t})},gt.prototype.updateItem=function(t,e){Object(_.mix)(t,e),this.clear(),this.render()},gt.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},gt.prototype.setItemState=function(t,e,i){t[e]=i,this.updateTickStates(t)},gt.prototype.hasState=function(t,e){return!!t[e]},gt.prototype.getItemStates=function(i){var t=this.get("tickStates"),n=[];return Object(_.each)(t,function(t,e){i[e]&&n.push(e)}),n},gt.prototype.clearItemsState=function(e){var i=this,t=this.getItemsByState(e);Object(_.each)(t,function(t){i.setItemState(t,e,!1)})},gt.prototype.getItemsByState=function(e){var i=this,t=this.getItems();return Object(_.filter)(t,function(t){return i.hasState(t,e)})},gt.prototype.getSidePoint=function(t,e){var i=this.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},gt.prototype.getTextAnchor=function(t){var e;return Object(_.isNumberEqual)(t[0],0)?e="center":0<t[0]?e="start":t[0]<0&&(e="end"),e},gt.prototype.processOverlap=function(t){},gt.prototype.drawLine=function(t){var e=this.getLinePath(),i=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(_.mix)({path:e},i.style)})},gt.prototype.getTickLineItems=function(t){var n=this,o=[],e=this.get("tickLine"),r=e.alignTick,a=e.length,s=1;return 2<=t.length&&(s=t[1].value-t[0].value),Object(_.each)(t,function(t){var e=t.point;r||(e=n.getTickPoint(t.value-s/2));var i=n.getSidePoint(e,a);o.push({startPoint:e,tickValue:t.value,endPoint:i,tickId:t.id,id:"tickline-"+t.id})}),o},gt.prototype.getSubTickLineItems=function(t){var e=[],i=this.get("subTickLine"),n=i.count,o=t.length;if(2<=o)for(var r=0;r<o-1;r++)for(var a=t[r],s=t[r+1],l=0;l<n;l++){var u=(l+1)/(n+1),c=(1-u)*a.tickValue+u*s.tickValue,h=this.getTickPoint(c),p=this.getSidePoint(h,i.length);e.push({startPoint:h,endPoint:p,tickValue:c,id:"sub-"+a.id+"-"+l})}return e},gt.prototype.getTickLineAttrs=function(t){var e=this.get("tickLine").style,i=t.startPoint,n=t.endPoint;return Object(_.mix)({x1:i.x,y1:i.y,x2:n.x,y2:n.y},e)},gt.prototype.drawTick=function(t,e){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-tickline",attrs:this.getTickLineAttrs(t)})},gt.prototype.drawTickLines=function(i){var t,n=this,e=this.get("ticks"),o=this.get("subTickLine"),r=this.getTickLineItems(e),a=this.addGroup(i,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),s=this.get("tickLine");Object(_.each)(r,function(t){var e;s.displayWithLabel?(e=n.getElementId("label-"+t.tickId),i.findById(e)&&n.drawTick(t,a)):n.drawTick(t,a)}),o&&(t=this.getSubTickLineItems(r),Object(_.each)(t,function(t){n.drawTick(t,a)}))},gt.prototype.processTicks=function(){var e=this,t=this.get("ticks");Object(_.each)(t,function(t){t.point=e.getTickPoint(t.value),Object(_.isNil)(t.id)&&(t.id=t.name)})},gt.prototype.drawTicks=function(e){var i=this;this.processTicks(),this.get("label")&&this.drawLabels(e),this.get("tickLine")&&this.drawTickLines(e);var t=this.get("ticks");Object(_.each)(t,function(t){i.applyTickStates(t,e)})},gt.prototype.getLabelAttrs=function(t,e){var i=this.get("label"),n=i.offset,o=i.style,r=i.rotate,a=i.formatter,s=this.getSidePoint(t.point,n),l=this.getSideVector(n,s),u=a?a(t.name,t,e):t.name,c=Object(_.mix)({x:s.x,y:s.y,text:u,textAlign:this.getTextAnchor(l)},o);return r&&(c.matrix=m(s,r)),c},gt.prototype.drawLabels=function(t){var i=this,e=this.get("ticks"),n=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});Object(_.each)(e,function(t,e){i.addShape(n,{type:"text",name:"axis-label",id:i.getElementId("label-"+t.id),attrs:i.getLabelAttrs(t,e),delegateObject:{tick:t,item:t,index:e}})}),this.processOverlap(n)},gt.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,i=t.position,n=t.offset,o=t.autoRotate,r=.5;"start"===i?r=0:"end"===i&&(r=1);var a,s,l=this.getTickPoint(r),u=this.getSidePoint(l,n),c=Object(_.mix)({x:u.x,y:u.y,text:t.text},e),h=t.rotate,p=h;return Object(_.isNil)(h)&&o&&(a=this.getAxisVector(l),p=y.vec2.angleTo(a,[1,0],!0)),p&&(s=m(u,p),c.matrix=s),c},gt.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},gt.prototype.applyTickStates=function(t,e){var i,n,o,r,a,s,l;this.getItemStates(t).length&&(i=this.get("tickStates"),n=this.getElementId("label-"+t.id),!(o=e.findById(n))||(r=pt(t,"label",i))&&o.attr(r),a=this.getElementId("tickline-"+t.id),!(s=e.findById(a))||(l=pt(t,"tickLine",i))&&s.attr(l))},gt.prototype.updateTickStates=function(t){var e,i,n=this.getItemStates(t),o=this.get("tickStates"),r=this.get("label"),a=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+t.id);n.length?(!a||(e=pt(t,"label",o))&&a.attr(e),!l||(i=pt(t,"tickLine",o))&&l.attr(i)):(a&&a.attr(r.style),l&&l.attr(s.style))},gt);function gt(){return null!==ft&&ft.apply(this,arguments)||this}function yt(t,e){return 0<t.charCodeAt(e)&&t.charCodeAt(e)<128?1:2}function vt(d,t,g,y){var e=t.getChildren(),v=!1;return Object(_.each)(e,function(t){var e,i,n,o,r,a,s,l,u,c,h,p,f=(e=d,n=g,o=y,u=(i=t).attr("text"),r=e,a=i.getCanvasBBox(),c=r?a.width:a.height,h=function(t){for(var e=0,i=0;i<t.length;i++)e+=yt(t,i);return e}(u),p=!1,n<c&&(l=0<=(s=Math.floor(n/c*h)-2)?function(t,e,i){var n=t.length,o="";if("tail"===i){for(var r=0,a=0;r<e;){var s=yt(t,a);if(!(r+s<=e))break;o+=t[a],r+=yt(t,a),a++}o+="…"}else if("head"===i){for(r=0,a=n-1;r<e&&r+(s=yt(t,a))<=e;)o+=t[a],r+=yt(t,a),a--;o="…"+o}else{for(var l="",u="",c=r=0,h=n-1;r<e;){var p=yt(t,c),f=!1;p+r<=e&&(l+=t[c],c++,r+=p,f=!0);var d=yt(t,h);if(d+r<=e&&(u=t[h]+u,r+=d,h--,f=!0),!f)break}o=l+"…"+u}return o}(u,s,o):"…")&&(i.attr("text",l),p=!0),p?i.set("tip",u):i.set("tip",null),p);v=v||f}),v}function mt(){return bt}function xt(t,e,i){return vt(t,e,i,"head")}function bt(t,e,i){return vt(t,e,i,"tail")}function _t(t,e,i){return vt(t,e,i,"middle")}function Mt(t){var i=0;return Object(_.each)(t,function(t){var e=t.getBBox().width;i<e&&(i=e)}),i}function Ot(t){var e=t.attr("matrix");return e&&1!==e[0]}function wt(t,e,i,n,o){void 0===o&&(o=!1);var r,a;return t?Math.abs(i.y-n.y)<i.height:e?(r=o?n.height:i.height,Math.abs(i.x-n.x)<r):(a=o?n.width:i.width,Math.abs(i.x-n.x)<a)}function Ct(t,e,i){var n=e.getChildren().slice();if(!n.length)return!1;var o=!1;i&&n.reverse();for(var r=n.length,a=n[0],s=Ot(a),l=a.getBBox(),u=1;u<r;u++){var c=n[u],h=c.getBBox();wt(t,s,l,h,i)?(c.hide(),o=!0):l=h}return o}function St(){return Tt}function jt(t,e){return Ct(t,e,!1)}function At(t,e){return Ct(t,e,!0)}function Pt(t,e){var i=e.getChildren().slice();if(i.length<=2)return!1;for(var n=!1,o=i.length,r=i[0],a=i[o-1],s=Ot(r),l=r.getBBox(),u=r,c=1;c<o-1;c++){var h=i[c],p=h.getBBox();wt(t,s,l,p)?(h.hide(),n=!0):(l=p,u=h)}return wt(t,s,l,a.getBBox())&&(u.hide(),n=!0),n}function Tt(t,e){var i=e.getChildren().slice();if(i.length<2)return!1;var n,o=!1,r=i[0],a=r.getBBox(),s=i[1],l=Ot(r),u=i.length,c=0;if(1<(c=t?(n=Math.abs(s.attr("y")-r.attr("y")),a.height/n):l?(n=Math.abs(s.attr("x")-r.attr("x")),a.width/n):Mt(i)/(n=Math.abs(s.attr("x")-r.attr("x"))))){c=Math.ceil(c);for(var h=0;h<u;h++)h%c!=0&&(i[h].hide(),o=!0)}return o}function Lt(t,e,i,n){var o=e.getChildren();if(!o.length)return!1;if(!t&&o.length<2)return!1;var r,a,s=Mt(o),l=!1;return(l=t?!!i&&i<s:s>Math.abs(o[1].attr("x")-o[0].attr("x")))&&(r=o,a=n(i,s),Object(_.each)(r,function(t){var e=m({x:t.attr("x"),y:t.attr("y")},a);t.attr("matrix",e)})),l}function kt(){return Et}function Et(t,e,i){return Lt(t,e,i,function(){return t?q.verticalAxisRotate:q.horizontalAxisRotate})}function Dt(n,t,e){return Lt(n,t,e,function(t,e){if(!t)return n?q.verticalAxisRotate:q.horizontalAxisRotate;if(n)return-Math.acos(t/e);var i=0;return(e<t||(i=Math.asin(t/e))>Math.PI/4)&&(i=Math.PI/4),i})}var Bt,Ft,It,Rt,Nt,Yt,Gt,Xt,zt,Vt=(zt=dt,Object(b.__extends)(se,zt),se.prototype.getDefaultCfg=function(){var t=zt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},se.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",e.x,e.y]),i},se.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),e=this.get("end"),i=zt.prototype.getInnerLayoutBBox.call(this),n=Math.min(t.x,e.x,i.x),o=Math.min(t.y,e.y,i.y),r=Math.max(t.x,e.x,i.maxX),a=Math.max(t.y,e.y,i.maxY);return{x:n,y:o,minX:n,minY:o,maxX:r,maxY:a,width:r-n,height:a-o}},se.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return Object(_.isNumberEqual)(t.x,e.x)},se.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return Object(_.isNumberEqual)(t.y,e.y)},se.prototype.getTickPoint=function(t){var e=this.get("start"),i=this.get("end"),n=i.x-e.x,o=i.y-e.y;return{x:e.x+n*t,y:e.y+o*t}},se.prototype.getSideVector=function(t){var e=this.getAxisVector(),i=y.vec2.normalize([],e),n=this.get("verticalFactor"),o=[i[1],-1*i[0]];return y.vec2.scale([],o,t*n)},se.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},se.prototype.processOverlap=function(e){var i,t,n,o,r,a,s,l,u,c,h=this,p=this.isVertical(),f=this.isHorizontal();(p||f)&&(i=this.get("label"),t=this.get("title"),n=this.get("verticalLimitLength"),o=i.offset,r=n,s=a=0,t&&(a=t.style.fontSize,s=t.spacing),r=r&&r-o-s-a,l=this.get("overlapOrder"),Object(_.each)(l,function(t){i[t]&&h.autoProcessOverlap(t,i[t],e,r)}),t&&(u=e.getBBox(),c=p?u.width:u.height,t.offset=o+c+s+a/2))},se.prototype.autoProcessOverlap=function(t,e,i,n){var o,r,a,s=this,l=this.isVertical(),u=!1,c=h[t];!0===e?u=c.getDefault()(l,i,n):Object(_.isFunction)(e)?u=e(l,i,n):c[e]&&(u=c[e](l,i,n)),"autoRotate"===t?u&&(o=i.getChildren(),r=this.get("verticalFactor"),Object(_.each)(o,function(t){var e;"center"===t.attr("textAlign")&&(e=0<r?"end":"start",t.attr("textAlign",e))})):"autoHide"===t&&(a=i.getChildren().slice(0),Object(_.each)(a,function(t){t.get("visible")||(s.get("isRegister")&&s.unregisterElement(t),t.remove())}))},se),Ht=(Xt=dt,Object(b.__extends)(ae,Xt),ae.prototype.getDefaultCfg=function(){var t=Xt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},ae.prototype.getLinePath=function(){var t,e,i,n,o=this.get("center"),r=o.x,a=o.y,s=this.get("radius"),l=s,u=this.get("startAngle"),c=this.get("endAngle");return Math.abs(c-u)===2*Math.PI?[["M",r,a-l],["A",s,l,0,1,1,r,a+l],["A",s,l,0,1,1,r,a-l],["Z"]]:(t=this.getCirclePoint(u),e=this.getCirclePoint(c),i=Math.abs(c-u)>Math.PI?1:0,n=c<u?0:1,[["M",r,a],["L",t.x,t.y],["A",s,l,0,i,n,e.x,e.y],["L",r,a]])},ae.prototype.getTickPoint=function(t){var e=this.get("startAngle"),i=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(i)},ae.prototype.getSideVector=function(t,e){var i=this.get("center"),n=[e.x-i.x,e.y-i.y],o=this.get("verticalFactor"),r=y.vec2.length(n);return y.vec2.scale(n,n,o*t/r),n},ae.prototype.getAxisVector=function(t){var e=this.get("center"),i=[t.x-e.x,t.y-e.y];return[i[1],-1*i[0]]},ae.prototype.getCirclePoint=function(t,e){var i=this.get("center");return e=e||this.get("radius"),{x:i.x+Math.cos(t)*e,y:i.y+Math.sin(t)*e}},ae),Wt=(Gt=W,Object(b.__extends)(re,Gt),re.prototype.getDefaultCfg=function(){var t=Gt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:q.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:q.textColor,textAlign:"center",textBaseline:"middle",fontFamily:q.fontFamily}},textBackground:{padding:5,style:{stroke:q.lineColor}}}})},re.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},re.prototype.renderText=function(t){var e,i,n=this.get("text"),o=n.style,r=n.autoRotate,a=n.content;Object(_.isNil)(a)||(e=this.getTextPoint(),i=null,r&&(i=m(e,this.getRotateAngle())),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({},e),{text:a,matrix:i}),o)}))},re.prototype.renderLine=function(t){var e=this.getLinePath(),i=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(b.__assign)({path:e},i)})},re.prototype.renderBackground=function(t){var e,i,n,o=this.getElementId("text"),r=t.findById(o),a=this.get("textBackground");a&&r&&(e=r.getBBox(),i=O(a.padding),n=a.style,this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(b.__assign)({x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],matrix:r.attr("matrix")},n)}).toBack())},re),qt=(Yt=Wt,Object(b.__extends)(oe,Yt),oe.prototype.getDefaultCfg=function(){var t=Yt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},oe.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get("text").position,o=Math.atan2(i.y-e.y,i.x-e.x);return"start"===n?o-Math.PI/2:o+Math.PI/2},oe.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get("text");return T(e,i,n.position,n.offset)},oe.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,i=t.end;return[["M",e.x,e.y],["L",i.x,i.y]]},oe),Ut=(Nt=Wt,Object(b.__extends)(ne,Nt),ne.prototype.getDefaultCfg=function(){var t=Nt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},ne.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,i=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:i-Math.PI/2},ne.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,i=t.offset,n=this.getLocation(),o=n.center,r=n.radius,a=n.startAngle,s=n.endAngle,l="start"===e?a:s,u=this.getRotateAngle()-Math.PI,c=A(o,r,l),h=Math.cos(u)*i,p=Math.sin(u)*i;return{x:c.x+h,y:c.y+p}},ne.prototype.getLinePath=function(){var t,e,i,n,o,r,a=this.getLocation(),s=a.center,l=a.radius,u=a.startAngle,c=a.endAngle;return c-u==2*Math.PI?[["M",t=s.x,(e=s.y)-l],["A",l,l,0,1,1,t,e+l],["A",l,l,0,1,1,t,e-l],["Z"]]:(i=A(s,l,u),n=A(s,l,c),o=Math.abs(c-u)>Math.PI?1:0,r=c<u?0:1,[["M",i.x,i.y],["A",l,l,0,o,r,n.x,n.y]])},ne),Zt=i(5),Kt=(Rt=z,Object(b.__extends)(ie,Rt),ie.prototype.getDefaultCfg=function(){var t=Rt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},ie.prototype.getContainer=function(){return this.get("container")},ie.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},ie.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},ie.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},ie.prototype.getBBox=function(){var t=this.getContainer();return S(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},ie.prototype.clear=function(){w(this.get("container"))},ie.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Rt.prototype.destroy.call(this)},ie.prototype.init=function(){Rt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},ie.prototype.initCapture=function(){this.setCapture(this.get("capture"))},ie.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},ie.prototype.initDom=function(){},ie.prototype.initContainer=function(){var t,e=this.get("container");Object(_.isNil)(e)?(e=this.createDom(),t=this.get("parent"),Object(_.isString)(t)&&(t=document.getElementById(t),this.set("parent",t)),t.appendChild(e),this.set("container",e)):Object(_.isString)(e)&&(e=document.getElementById(e),this.set("container",e)),this.get("parent")||this.set("parent",e.parentNode)},ie.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles"),t=t?Object(_.deepMix)({},e,t):e;this.set("domStyles",t)},ie.prototype.applyStyles=function(){var t,e,i,n=this.get("domStyles");n&&(t=this.getContainer(),this.applyChildrenStyles(t,n),(e=this.get("containerClassName"))&&t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))&&(i=n[e],Object(Zt.modifyCSS)(t,i)))},ie.prototype.applyChildrenStyles=function(n,t){Object(_.each)(t,function(e,t){var i=n.getElementsByClassName(t);Object(_.each)(i,function(t){Object(Zt.modifyCSS)(t,e)})})},ie.prototype.applyStyle=function(t,e){var i=this.get("domStyles");Object(Zt.modifyCSS)(e,i[t])},ie.prototype.createDom=function(){var t=this.get("containerTpl");return Object(Zt.createDom)(t)},ie.prototype.initEvent=function(){},ie.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},ie.prototype.removeEvent=function(){},ie.prototype.updateInner=function(t){Object(_.hasKey)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},ie.prototype.resetPosition=function(){},ie),$t=((Bt={})["g2-crosshair"]={position:"relative"},Bt["g2-crosshair-line"]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Bt["g2-crosshair-text"]={position:"absolute",color:q.textColor,fontFamily:q.fontFamily},Bt),Qt=(It=Kt,Object(b.__extends)(ee,It),ee.prototype.getDefaultCfg=function(){var t=It.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="g2-crosshair"></div>',crosshairTpl:'<div class="g2-crosshair-line"></div>',textTpl:'<span class="g2-crosshair-text">{content}</span>',domStyles:null,containerClassName:"g2-crosshair",defaultStyles:$t,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},ee.prototype.render=function(){this.resetText(),this.resetPosition()},ee.prototype.initCrossHair=function(){var t=this.getContainer(),e=this.get("crosshairTpl"),i=Object(Zt.createDom)(e);t.appendChild(i),this.applyStyle("g2-crosshair-line",i),this.set("crosshairEl",i)},ee.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get("text");return T(e,i,n.position,n.offset)},ee.prototype.resetText=function(){var t,e,i,n=this.get("text"),o=this.get("textEl");n?(t=n.content,o||(e=this.getContainer(),i=Object(_.substitute)(this.get("textTpl"),n),o=Object(Zt.createDom)(i),e.appendChild(o),this.applyStyle("g2-crosshair-text",o),this.set("textEl",o)),o.innerHTML=t):o&&o.remove()},ee.prototype.isVertical=function(t,e){return t.x===e.x},ee.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),i=this.get("end"),n=Math.min(e.x,i.x),o=Math.min(e.y,i.y);this.isVertical(e,i)?Object(Zt.modifyCSS)(t,{width:"1px",height:P(Math.abs(i.y-e.y))}):Object(Zt.modifyCSS)(t,{height:"1px",width:P(Math.abs(i.x-e.x))}),Object(Zt.modifyCSS)(t,{top:P(o),left:P(n)}),this.alignText()},ee.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,i=t.clientWidth,n=this.getTextPoint();switch(e){case"center":n.x=n.x-i/2;break;case"right":n.x=n.x-i}Object(Zt.modifyCSS)(t,{top:P(n.y),left:P(n.x)})}},ee.prototype.updateInner=function(t){Object(_.hasKey)(t,"text")&&this.resetText(),It.prototype.updateInner.call(this,t)},ee),Jt=(Ft=W,Object(b.__extends)(te,Ft),te.prototype.getDefaultCfg=function(){var t=Ft.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:q.lineColor}}}})},te.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},te.prototype.renderInner=function(t){this.drawGrid(t)},te.prototype.getAlternatePath=function(t,e){var i=this.getGridPath(t),n=e.slice(0).reverse(),o=this.getGridPath(n,!0);return this.get("closed")?i=i.concat(o):(o[0][0]="L",(i=i.concat(o)).push(["Z"])),i},te.prototype.getPathStyle=function(){return this.get("line").style},te.prototype.drawGrid=function(u){var c=this,h=this.get("line"),t=this.get("items"),p=this.get("alternateColor"),f=null;Object(_.each)(t,function(t,e){var i,n,o,r,a,s,l=t.id||e;h&&(i=c.getPathStyle(),n=c.getElementId("line-"+l),o=c.getGridPath(t.points),c.addShape(u,{type:"path",name:"grid-line",id:n,attrs:Object(_.mix)({path:o},i)})),p&&0<e&&(r=c.getElementId("region-"+l),a=e%2==0,Object(_.isString)(p)?a&&c.drawAlternateRegion(r,u,f.points,t.points,p):(s=a?p[1]:p[0],c.drawAlternateRegion(r,u,f.points,t.points,s))),f=t})},te.prototype.drawAlternateRegion=function(t,e,i,n,o){var r=this.getAlternatePath(i,n);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:r,fill:o}})},te);function te(){return null!==Ft&&Ft.apply(this,arguments)||this}function ee(){return null!==It&&It.apply(this,arguments)||this}function ie(){return null!==Rt&&Rt.apply(this,arguments)||this}function ne(){return null!==Nt&&Nt.apply(this,arguments)||this}function oe(){return null!==Yt&&Yt.apply(this,arguments)||this}function re(){return null!==Gt&&Gt.apply(this,arguments)||this}function ae(){return null!==Xt&&Xt.apply(this,arguments)||this}function se(){return null!==zt&&zt.apply(this,arguments)||this}var le,ue,ce,he,pe,fe,de=(fe=Jt,Object(b.__extends)(De,fe),De.prototype.getDefaultCfg=function(){var t=fe.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"circle",center:null,closed:!0})},De.prototype.getGridPath=function(t,e){var i,n,o,r,a,s,l,u,c=this.getLineType(),h=this.get("closed"),p=[];return t.length&&("circle"===c?(a=this.get("center"),s=t[0],i=a.x,n=a.y,o=s.x-i,r=s.y-n,l=Math.sqrt(o*o+r*r),u=e?0:1,h?(p.push(["M",a.x,a.y-l]),p.push(["A",l,l,0,0,u,a.x,a.y+l]),p.push(["A",l,l,0,0,u,a.x,a.y-l]),p.push(["Z"])):Object(_.each)(t,function(t,e){0===e?p.push(["M",t.x,t.y]):p.push(["A",l,l,0,0,u,t.x,t.y])})):(Object(_.each)(t,function(t,e){0===e?p.push(["M",t.x,t.y]):p.push(["L",t.x,t.y])}),h&&p.push(["Z"]))),p},De),ge=(pe=Jt,Object(b.__extends)(Ee,pe),Ee.prototype.getDefaultCfg=function(){var t=pe.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"line"})},Ee.prototype.getGridPath=function(t){var i=[];return Object(_.each)(t,function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),i},Ee),ye=(he=W,Object(b.__extends)(ke,he),ke.prototype.getDefaultCfg=function(){var t=he.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},ke.prototype.getLayoutBBox=function(){var t=he.prototype.getLayoutBBox.call(this),e=this.get("x"),i=this.get("y"),n=this.get("offsetX"),o=this.get("offsetY"),r=this.get("maxWidth"),a=this.get("maxHeight"),s=e+n,l=i+o,u=t.maxX-s,c=t.maxY-l;return r&&(u=Math.min(u,r)),a&&(c=Math.min(c,a)),S(s,l,u,c)},ke.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},ke.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),i=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+i,y:e+n})},ke.prototype.applyOffset=function(){this.resetLocation()},ke.prototype.getDrawPoint=function(){return this.get("currentPoint")},ke.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},ke.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},ke.prototype.drawBackground=function(t){var e=this.get("background"),i=t.getBBox(),n=O(e.padding),o=Object(b.__assign)({x:0,y:0,width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o}).toBack()},ke.prototype.drawTitle=function(t){var e=this.get("currentPoint"),i=this.get("title"),n=i.spacing,o=i.style,r=i.text,a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(b.__assign)({text:r,x:e.x,y:e.y},o)}).getBBox();this.set("currentPoint",{x:e.x,y:a.maxY+n})},ke.prototype.resetDraw=function(){var t,e=this.get("background"),i={x:0,y:0};e&&(t=O(e.padding),i.x=t[3],i.y=t[0]),this.set("currentPoint",i)},ke),ve=(ce=ye,Object(b.__extends)(Le,ce),Le.prototype.getDefaultCfg=function(){var t=ce.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"legend",type:"category",itemSpacing:24,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:q.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:q.uncheckedColor},markerStyle:{fill:q.uncheckedColor,stroke:q.uncheckedColor}},inactive:{nameStyle:{fill:q.uncheckedColor},markerStyle:{opacity:.2}}}}})},Le.prototype.isList=function(){return!0},Le.prototype.getItems=function(){return this.get("items")},Le.prototype.setItems=function(t){this.update({items:t})},Le.prototype.updateItem=function(t,e){Object(_.mix)(t,e),this.clear(),this.render()},Le.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},Le.prototype.setItemState=function(t,e,i){t[e]=i;var n,o,r,a=this.getElementByLocalId("item-"+t.id);a&&(n=this.getItems().indexOf(t),o=this.createOffScreenGroup(),r=this.drawItem(t,n,this.getItemHeight(),o),this.updateElements(r,a),this.clearUpdateStatus(a))},Le.prototype.hasState=function(t,e){return!!t[e]},Le.prototype.getItemStates=function(i){var t=this.get("itemStates"),n=[];return Object(_.each)(t,function(t,e){i[e]&&n.push(e)}),n},Le.prototype.clearItemsState=function(e){var i=this,t=this.getItemsByState(e);Object(_.each)(t,function(t){i.setItemState(t,e,!1)})},Le.prototype.getItemsByState=function(e){var i=this,t=this.getItems();return Object(_.filter)(t,function(t){return i.hasState(t,e)})},Le.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},Le.prototype.processItems=function(){var t=this.get("items");Object(_.each)(t,function(t){t.id||(t.id=t.name)})},Le.prototype.drawItems=function(t){var r=this,e=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(e,{id:this.getElementId("item-group"),name:"legend-item-group"}),s=this.getItemHeight(),l=this.get("itemWidth"),u=this.get("itemSpacing"),c=this.get("currentPoint"),h=c.x,p=c.y,f=this.get("layout"),i=this.get("items"),d=!1,g=0,y=this.get("maxWidth"),v=this.get("maxHeight");Object(_.each)(i,function(t,e){var i=r.drawItem(t,e,s,a),n=i.getBBox(),o=l||n.width;g<o&&(g=o),"horizontal"===f?(y&&y<c.x+o-h&&(d=!0,c.x=h,c.y+=s),r.moveElementTo(i,c),c.x+=o+u):(v&&v<c.y+s-p&&(d=!0,c.x+=g+u,c.y=p,g=0),r.moveElementTo(i,c),c.y+=s)}),d&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=h,this.startY=p,this.adjustNavigation(t,a))},Le.prototype.getItemHeight=function(){var t,e=this.get("itemHeight");return e||(t=this.get("itemName"))&&(e=t.style.fontSize+8),e},Le.prototype.drawMarker=function(t,e,i,n){var o=Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({x:0,y:n/2},e.style),{symbol:Object(_.get)(i.marker,"symbol","circle")}),Object(_.get)(i.marker,"style",{})),r=this.addShape(t,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:o}),a=r.getBBox();r.attr("x",a.width/2);var s=r.attr(),l=s.stroke,u=s.fill;return l&&r.set("isStroke",!0),u&&r.set("isFill",!0),r},Le.prototype.drawItemText=function(t,e,i,n,o,r,a){var s=i.formatter,l=Object(b.__assign)({x:r,y:o/2,text:s?s(n[e],n,a):n[e]},i.style);return this.addShape(t,{type:"text",id:this.getElementId("item-"+n.id+"-"+e),name:"legend-item-"+e,attrs:l})},Le.prototype.drawItem=function(t,e,i,n){var o,r,a,s="item-"+t.id,l=this.addGroup(n,{name:"legend-item",id:this.getElementId(s),delegateObject:{item:t,index:e}}),u=this.get("marker"),c=this.get("itemName"),h=this.get("itemValue"),p=this.get("itemBackground"),f=0;return u&&(f=this.drawMarker(l,u,t,i).getBBox().maxX+u.spacing),c&&(f=this.drawItemText(l,"name",c,t,i,f,e).getBBox().maxX+c.spacing),h&&(o=this.drawItemText(l,"value",h,t,i,f,e),(r=this.get("itemWidth"))&&h.alignRight&&o.attr({textAlign:"right",x:r})),p&&(a=l.getBBox(),this.addShape(l,{type:"rect",name:"legend-item-background",id:this.getElementId(s+"-background"),attrs:Object(b.__assign)({x:0,y:0,width:a.width,height:i},p.style)}).toBack()),this.applyItemStates(t,l),l},Le.prototype.adjustNavigation=function(t,e){var i,n=this,o=this.startX,r=this.startY,a=this.get("layout"),s=e.findAll(function(t){return"legend-item"===t.get("name")}),l=this.get("maxWidth"),u=this.get("maxHeight"),c=this.get("itemWidth"),h=this.get("itemSpacing"),p=this.getItemHeight(),f=this.drawNavigation(t,a,"00/00",12),d=f.getBBox(),g={x:o,y:r},y=1,v=0,m=0,x=0;"horizontal"===a?(this.pageHeight=p,Object(_.each)(s,function(t){var e=t.getBBox(),i=c||e.width;(v&&v<g.x+i+h||l<g.x+i+h+d.width)&&(1===y&&(v=g.x+h,n.pageWidth=v,n.moveElementTo(f,{x:l-h-d.width-d.minX,y:g.y+p/2-d.height/2-d.minY})),y+=1,g.x=o,g.y+=p),n.moveElementTo(t,g),g.x+=i+h})):(Object(_.each)(s,function(t){var e=t.getBBox();e.width>m&&(m=e.width)}),x=m,m+=h,l&&(m=Math.min(l,m),x=Math.min(l,x)),this.pageWidth=m,this.pageHeight=u-Math.max(d.height,p),i=Math.floor(this.pageHeight/p),Object(_.each)(s,function(t,e){0!==e&&e%i==0&&(y+=1,g.x+=m,g.y=r),n.moveElementTo(t,g),g.y+=p}),this.totalPagesCnt=y,this.moveElementTo(f,{x:o+x/2-d.width/2-d.minX,y:u-d.height-d.minY})),this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=y,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(f),e.attr("matrix",this.getCurrentNavigationMatrix())},Le.prototype.drawNavigation=function(t,e,i,n){var o={x:0,y:0},r=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),a=this.drawArrow(r,o,"navigation-arrow-left","horizontal"===e?"up":"left",n);a.on("click",this.onNavigationBack);var s=a.getBBox();o.x+=s.width+2;var l=this.addShape(r,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:o.x,y:o.y+n/2,text:i,fontSize:12,fill:"#ccc",textBaseline:"middle"}}).getBBox();return o.x+=l.width+2,this.drawArrow(r,o,"navigation-arrow-right","horizontal"===e?"down":"right",n).on("click",this.onNavigationAfter),r},Le.prototype.updateNavigation=function(t){var e=this.currentPageIndex+"/"+this.totalPagesCnt,i=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),n=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),o=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),r=i.getBBox();i.attr("text",e);var a=i.getBBox();i.attr("x",i.attr("x")-(a.width-r.width)/2),n.attr("opacity",1===this.currentPageIndex?.45:1),n.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),o.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),o.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},Le.prototype.drawArrow=function(t,e,i,n,o){var r=e.x,a=e.y,s={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},l=this.addShape(t,{type:"path",id:this.getElementId(i),name:i,attrs:{path:[["M",r+o/2,a],["L",r,a+o],["L",r+o,a+o],["Z"]],fill:"#000",cursor:"pointer"}});return l.attr("matrix",m({x:r+o/2,y:a+o/2},s[n])),l},Le.prototype.getCurrentNavigationMatrix=function(){var t=this.currentPageIndex,e=this.pageWidth,i=this.pageHeight;return x("horizontal"===this.get("layout")?{x:0,y:i*(1-t)}:{x:e*(1-t),y:0})},Le.prototype.applyItemStates=function(n,t){var e,o;0<this.getItemStates(n).length&&(e=t.getChildren(),o=this.get("itemStates"),Object(_.each)(e,function(t){var e=t.get("name").split("-")[2],i=pt(n,e,o);i&&(t.attr(i),"marker"!==e||t.get("isStroke")&&t.get("isFill")||(t.get("isStroke")&&t.attr("fill",null),t.get("isFill")&&t.attr("stroke",null)))}))},Le),me=(ue=ye,Object(b.__extends)(Te,ue),Te.prototype.getDefaultCfg=function(){var t=ue.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:q.textColor,textBaseline:"middle",fontFamily:q.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},Te.prototype.isSlider=function(){return!0},Te.prototype.getValue=function(){return this.getCurrentValue()},Te.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},Te.prototype.setRange=function(t,e){this.update({min:t,max:e})},Te.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:e,value:t})},Te.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},Te.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},Te.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},Te.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(t){var e=n.getValueByCanvasPoint(t.x,t.y),i=n.getCurrentValue()[1];i<e&&(i=e),n.setValue([e,i])}),t.on("legend-handler-max:drag",function(t){var e=n.getValueByCanvasPoint(t.x,t.y),i=n.getCurrentValue()[0];e<i&&(i=e),n.setValue([i,e])})},Te.prototype.bindRailEvent=function(t){},Te.prototype.bindTrackEvent=function(t){var s=this,l=null;t.on("legend-track:dragstart",function(t){l={x:t.x,y:t.y}}),t.on("legend-track:drag",function(t){var e,i,n,o,r,a;l&&(e=s.getValueByCanvasPoint(l.x,l.y),i=s.getValueByCanvasPoint(t.x,t.y),o=(n=s.getCurrentValue())[1]-n[0],r=s.getRange(),(a=i-e)<0?n[0]+a>r.min?s.setValue([n[0]+a,n[1]+a]):s.setValue([r.min,r.min+o]):0<a&&(0<a&&n[1]+a<r.max?s.setValue([n[0]+a,n[1]+a]):s.setValue([r.max-o,r.max])),l={x:t.x,y:t.y})}),t.on("legend-track:dragend",function(t){l=null})},Te.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},Te.prototype.drawLabel=function(t,e){var i=this.get("label"),n=i.style,o=i.align,r=this.get(t),a=this.getLabelAlignAttrs(t,o),s="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(s),name:"legend-label-"+t,attrs:Object(b.__assign)(Object(b.__assign)({x:0,y:0,text:r},n),a)})},Te.prototype.getLabelAlignAttrs=function(t,e){var i="center",n="middle";return this.isVertical()?(i="start",n="rail"===e||"min"===t?"top":"bottom"):"rail"!==e?(n="top",i="min"===t?"start":"end"):(i="start",n="middle"),{textAlign:i,textBaseline:n}},Te.prototype.getRailPath=function(t,e,i,n){var o=this.get("rail"),r=o.size,a=o.defaultLength,s=o.type,l=this.isVertical(),u=(u=i)||(l?r:a),c=(c=n)||(l?a:r),h=[];return"color"===s?(h.push(["M",t,e]),h.push(["L",t+u,e])):h.push(["M",t+u,e]),h.push(["L",t+u,e+c]),h.push(["L",t,e+c]),h.push(["Z"]),h},Te.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(b.__assign)({path:this.getRailPath(0,0)},e)})},Te.prototype.getTrackColor=function(t){var e,i=t.length;if(!i)return null;if(1===i)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var n=0;n<i;n++)e+=" "+n/(i-1)+":"+t[n];return e},Te.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return Object(_.clone)(e)},Te.prototype.getClipTrackAttrs=function(t){var e,i,n,o=this.getCurrentValue(),r=o[0],a=o[1],s=this.getRailBBox(t),l=this.getPointByValue(r,t),u=this.getPointByValue(a,t),c=this.isVertical()?(e=s.minX,i=l.y,n=s.width,u.y-l.y):(e=l.x,i=s.minY,n=u.x-l.x,s.height);return{x:e,y:i,width:n,height:c}},Te.prototype.getTrackAttrs=function(t){var e=this.get("track"),i=this.get("colors"),n=this.getTrackPath(t);return Object(_.mix)({path:n,fill:this.getTrackColor(i)},e.style)},Te.prototype.resetTrackClip=function(t){var e=t||this.get("group"),i=this.getElementId("track"),n=e.findById(i),o=n.getClip(),r=this.getClipTrackAttrs(t);o?o.attr(r):n.setClip({type:"rect",attrs:r})},Te.prototype.resetTrack=function(t){var e=this.getElementId("track"),i=t.findById(e),n=this.getTrackAttrs(t);i?i.attr(n):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:n})},Te.prototype.getPointByValue=function(t,e){var i=this.getRange(),n=i.min,o=(t-n)/(i.max-n),r=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=r.minX+r.width/2,a.y=j(r.minY,r.maxY,o)):(a.x=j(r.minX,r.maxX,o),a.y=r.minY+r.height/2),a},Te.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},Te.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},Te.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},Te.prototype.isVertical=function(){return"vertical"===this.get("layout")},Te.prototype.getValueByCanvasPoint=function(t,e){var i=this.getRange(),n=i.min,o=i.max,r=this.getRailCanvasBBox(),a=this.isVertical(),s=this.get("step"),l=j(n,o,a?(e-r.minY)/r.height:(t-r.minX)/r.width);return s&&(l=n+Math.round((l-n)/s)*s),o<l&&(l=o),l<n&&(l=n),l},Te.prototype.getCurrentValue=function(){return this.get("value")||[this.get("min"),this.get("max")]},Te.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),i=e[0],n=e[1];this.resetHandler(t,"min",i),this.resetHandler(t,"max",n)},Te.prototype.getHandlerPath=function(t,e){var i,n,o=this.isVertical(),r=[],a=t.size,s=e.x,l=e.y,u=1.4*a,c=a/2,h=a/6;return o?(i=s+.4*u,r.push(["M",s,l]),r.push(["L",i,l+c]),r.push(["L",s+u,l+c]),r.push(["L",s+u,l-c]),r.push(["L",i,l-c]),r.push(["Z"]),r.push(["M",i,l+h]),r.push(["L",s+u-2,l+h]),r.push(["M",i,l-h]),r.push(["L",s+u-2,l-h])):(n=l+.4*u,r.push(["M",s,l]),r.push(["L",s-c,n]),r.push(["L",s-c,l+u]),r.push(["L",s+c,l+u]),r.push(["L",s+c,n]),r.push(["Z"]),r.push(["M",s-h,n]),r.push(["L",s-h,l+u-2]),r.push(["M",s+h,n]),r.push(["L",s+h,l+u-2])),r},Te.prototype.resetHandler=function(t,e,i){var n=this.getPointByValue(i,t),o=this.get("handler"),r=this.getHandlerPath(o,n),a=this.getElementId("handler-"+e),s=t.findById(a),l=this.isVertical();s?s.attr("path",r):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:a,attrs:Object(b.__assign)(Object(b.__assign)({path:r},o.style),{cursor:l?"ns-resize":"ew-resize"})})},Te.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),i=t.findById(this.getElementId("label-min")),n=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,n,e,o):this.fixedHorizontal(i,n,e,o)},Te.prototype.fitRailLength=function(t,e,i,n){var o,r=this.isVertical()?"height":"width",a=this.get("label"),s=a.align,l=a.spacing,u=this.get("max"+Object(_.upperFirst)(r));!u||0<(o=("rail"===s?i[r]+t[r]+e[r]+2*l:i[r])-u)&&this.changeRailLength(n,r,i[r]-o)},Te.prototype.changeRailLength=function(t,e,i){var n=t.getBBox(),o="height"===e?this.getRailPath(n.x,n.y,n.width,i):this.getRailPath(n.x,n.y,i,n.height);t.attr("path",o)},Te.prototype.changeRailPosition=function(t,e,i){var n=t.getBBox(),o=this.getRailPath(e,i,n.width,n.height);t.attr("path",o)},Te.prototype.fixedHorizontal=function(t,e,i,n){var o=this.get("label"),r=o.align,a=o.spacing,s=i.getBBox(),l=t.getBBox(),u=e.getBBox(),c=s.height;this.fitRailLength(l,u,s,i),s=i.getBBox(),"rail"===r?(t.attr({x:n.x,y:n.y+c/2}),this.changeRailPosition(i,n.x+l.width+a,n.y),e.attr({x:n.x+l.width+s.width+2*a,y:n.y+c/2})):"top"===r?(t.attr({x:n.x,y:n.y}),e.attr({x:n.x+s.width,y:n.y}),this.changeRailPosition(i,n.x,n.y+l.height+a)):(this.changeRailPosition(i,n.x,n.y),t.attr({x:n.x,y:n.y+s.height+a}),e.attr({x:n.x+s.width,y:n.y+s.height+a}))},Te.prototype.fixedVertail=function(t,e,i,n){var o,r=this.get("label"),a=r.align,s=r.spacing,l=i.getBBox(),u=t.getBBox(),c=e.getBBox();this.fitRailLength(u,c,l,i),l=i.getBBox(),"rail"===a?(t.attr({x:n.x,y:n.y}),this.changeRailPosition(i,n.x,n.y+u.height+s),e.attr({x:n.x,y:n.y+u.height+l.height+2*s})):"right"===a?(t.attr({x:n.x+l.width+s,y:n.y}),this.changeRailPosition(i,n.x,n.y),e.attr({x:n.x+l.width+s,y:n.y+l.height})):(o=Math.max(u.width,c.width),t.attr({x:n.x,y:n.y}),this.changeRailPosition(i,n.x+o+s,n.y),e.attr({x:n.x,y:n.y+l.height}))},Te),xe=i(35),be="g2-tooltip",_e="g2-tooltip-title",Me="g2-tooltip-list",Oe="g2-tooltip-list-item",we="g2-tooltip-marker",Ce="g2-tooltip-value",Se="g2-tooltip-name",je="g2-tooltip-crosshair-x",Ae="g2-tooltip-crosshair-y",Pe=((le={})[""+be]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:q.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},le[""+_e]={marginBottom:"4px"},le[""+Me]={margin:0,listStyleType:"none",padding:0},le[""+Oe]={listStyleType:"none",marginBottom:"4px"},le[""+we]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},le[""+Ce]={display:"inline-block",float:"right",marginLeft:"30px"},le[""+je]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},le[""+Ae]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},le);function Te(){return null!==ue&&ue.apply(this,arguments)||this}function Le(){var i=null!==ce&&ce.apply(this,arguments)||this;return i.currentPageIndex=1,i.totalPagesCnt=1,i.pageWidth=0,i.pageHeight=0,i.startX=0,i.startY=0,i.onNavigationBack=function(){var t,e=i.getElementByLocalId("item-group");1<i.currentPageIndex&&(--i.currentPageIndex,i.updateNavigation(),t=i.getCurrentNavigationMatrix(),i.get("animate")?e.animate({matrix:t},100):e.attr({matrix:t}))},i.onNavigationAfter=function(){var t,e=i.getElementByLocalId("item-group");i.currentPageIndex<i.totalPagesCnt&&(i.currentPageIndex+=1,i.updateNavigation(),t=i.getCurrentNavigationMatrix(),i.get("animate")?e.animate({matrix:t},100):e.attr({matrix:t}))},i}function ke(){return null!==he&&he.apply(this,arguments)||this}function Ee(){return null!==pe&&pe.apply(this,arguments)||this}function De(){return null!==fe&&fe.apply(this,arguments)||this}var Be,Fe=(Be=Kt,Object(b.__extends)(Xe,Be),Xe.prototype.getDefaultCfg=function(){var t=Be.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],containerTpl:'<div class="'+be+'"><div class="'+_e+'"></div><ul class="'+Me+'"></ul></div>',itemTpl:'<li class="'+Oe+'" data-index={index}>\n          <span class="'+we+'" style="background:{color}"></span>\n          <span class="'+Se+'">{name}</span>:\n          <span class="'+Ce+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+je+'"></div>',yCrosshairTpl:'<div class="'+Ae+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:be,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Pe})},Xe.prototype.render=function(){this.resetTitle(),this.renderItems(),this.resetPosition()},Xe.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},Xe.prototype.updateInner=function(t){var e=t,i=["title","showTitle"],n=!1;Object(_.each)(i,function(t){if(Object(_.hasKey)(e,t))return!(n=!0)}),n&&this.resetTitle(),Object(_.hasKey)(t,"items")&&this.renderItems(),Be.prototype.updateInner.call(this,t)},Xe.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),Object(Zt.modifyCSS)(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},Xe.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),Object(Zt.modifyCSS)(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},Xe.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},Xe.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},Xe.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",i=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");i&&Object(Zt.modifyCSS)(i,{display:e}),n&&Object(Zt.modifyCSS)(n,{display:e})},Xe.prototype.initDom=function(){this.cacheDoms()},Xe.prototype.removeDom=function(){Be.prototype.removeDom.call(this),this.clearCrosshairs()},Xe.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(_e)[0],i=t.getElementsByClassName(Me)[0];this.set("titleDom",e),this.set("listDom",i)},Xe.prototype.resetPosition=function(){var t,e=this.get("x"),i=this.get("y"),n=this.get("offset"),o=this.getOffset(),r=o.offsetX,a=o.offsetY,s=this.get("position"),l=this.get("region"),u=this.getContainer(),c=this.getBBox(),h=c.width,p=c.height;l&&(t=C(l));var f,d,g,y,v,m,x,b,_,M,O,w=(m=s,x=t,O=function(t,e,i,n,o){var r=t,a=e;switch(m){case"left":r=t-n-i,a=e-o/2;break;case"right":r=t+i,a=e-o/2;break;case"top":r=t-n/2,a=e-o-i;break;case"bottom":r=t-n/2,a=e+i;break;default:r=t+i,a=e-o-i}return{x:r,y:a}}(f=e,d=i,g=n,y=h,v=p),x&&(_=O.x,M=O.y,b={left:_<x.x,right:_+y>x.x+x.width,top:M<x.y,bottom:M+v>x.y+x.height},"auto"===m?(b.right&&(O.x=f-y-g),b.top&&(O.y=d+g)):"top"===m||"bottom"===m?(b.left&&(O.x=x.x),b.right&&(O.x=x.x+x.width-y),"top"===m&&b.top&&(O.y=d+g),"bottom"===m&&b.bottom&&(O.y=d-v-g)):(b.top&&(O.y=x.y),b.bottom&&(O.y=x.y+x.height-v),"left"===m&&b.left&&(O.x=f+g),"right"===m&&b.right&&(O.x=f-y-g))),O);Object(Zt.modifyCSS)(u,{left:P(w.x+r),top:P(w.y+a)}),this.resetCrosshairs()},Xe.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},Xe.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},Xe.prototype.resetCrosshairs=function(){var t,e,i,n=this.get("crosshairsRegion"),o=this.get("crosshairs");n&&o?(t=C(n),e=this.get("xCrosshairDom"),i=this.get("yCrosshairDom"),"x"===o?(this.resetCrosshair("x",t),i&&(i.remove(),this.set("yCrosshairDom",null))):"y"===o?(this.resetCrosshair("y",t),e&&(e.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",t),this.resetCrosshair("y",t)),this.setCrossHairsVisible(this.get("visible"))):this.clearCrosshairs()},Xe.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),n=this.get(t);"x"===t?Object(Zt.modifyCSS)(i,{left:P(n),top:P(e.y),height:P(e.height)}):Object(Zt.modifyCSS)(i,{top:P(n),left:P(e.x),width:P(e.width)})},Xe.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",i=t+"CrosshairTpl",n="CROSSHAIR_"+t.toUpperCase(),o=p[n],r=this.get(e),a=this.get("parent");return r||(r=Object(Zt.createDom)(this.get(i)),this.applyStyle(o,r),a.appendChild(r),this.set(e,r)),r},Xe.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),r=this.get("itemTpl"),a=this.get("listDom");a&&(Object(_.each)(t,function(t){var e=xe.default.toCSSGradient(t.color),i=Object(b.__assign)(Object(b.__assign)({},t),{color:e}),n=Object(_.substitute)(r,i),o=Object(Zt.createDom)(n);a.appendChild(o)}),this.applyChildrenStyles(a,this.get("domStyles")))},Xe.prototype.clearItemDoms=function(){this.get("listDom")&&w(this.get("listDom"))},Xe.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},Xe),Ie={opacity:0},Re={stroke:"#C5C5C5",strokeOpacity:.85},Ne={fill:"#CACED4",opacity:.85},Ye=i(70),Ge=i(17);function Xe(){return null!==Be&&Be.apply(this,arguments)||this}function ze(t){return e=t,Object(_.map)(e,function(t,e){return[0===e?"M":"L",t[0],t[1]]});var e}var Ve,He,We,qe,Ue=(qe=W,Object(b.__extends)(si,qe),si.prototype.getDefaultCfg=function(){var t=qe.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Ie,lineStyle:Re,areaStyle:Ne})},si.prototype.renderInner=function(t){var e=this.cfg,i=e.width,n=e.height,o=e.data,r=e.smooth,a=e.isArea,s=e.backgroundStyle,l=e.lineStyle,u=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(b.__assign)({x:0,y:0,width:i,height:n},s)});var c,h,p,f,d,g=function(t,i,n,e){void 0===e&&(e=!0);var o=new Ge.Linear({values:t}),r=new Ge.Category({values:Object(_.map)(t,function(t,e){return e})}),a=Object(_.map)(t,function(t,e){return[r.scale(e)*i,n-o.scale(t)*n]});return(e?function(t){if(t.length<=2)return ze(t);var e=[];Object(_.each)(t,function(t){Object(_.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])});var i=Object(Ye.a)(e,!1),n=Object(_.head)(t),o=n[0],r=n[1];return i.unshift(["M",o,r]),i}:ze)(a)}(o,i,n,r);this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Object(b.__assign)({path:g},l)}),a&&(h=g,p=i,f=n,(d=Object(b.__spreadArrays)(h)).push(["L",p,0]),d.push(["L",0,f]),d.push(["Z"]),c=d,this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Object(b.__assign)({path:c},u)}))},si.prototype.applyOffset=function(){var t=this.cfg,e=t.x,i=t.y;this.moveElementTo(this.get("group"),{x:e,y:i})},si),Ze={fill:"#416180 ",opacity:.05},Ke={fill:"#5B8FF9",opacity:.15,cursor:"move"},$e={width:10,height:24},Qe={textBaseline:"middle",fill:"#000",opacity:.45},Je={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},ti=(We=W,Object(b.__extends)(ai,We),ai.prototype.getDefaultCfg=function(){var t=We.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:Je})},ai.prototype.renderInner=function(t){var e=this.cfg,i=e.width,n=e.height,o=e.style,r=o.fill,a=o.stroke,s=o.radius,l=o.opacity,u=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:n,fill:r,stroke:a,radius:s,opacity:l,cursor:u}});var c=1/3*i,h=2/3*i,p=.25*n,f=.75*n;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:c,y1:p,x2:c,y2:f,stroke:a,cursor:u}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:h,y1:p,x2:h,y2:f,stroke:a,cursor:u}})},ai.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ai.prototype.initEvent=function(){this.bindEvents()},ai.prototype.bindEvents=function(){var e=this;this.get("group").on("mouseenter",function(){var t=e.get("style").highLightFill;e.getElementByLocalId("background").attr("fill",t),e.draw()}),this.get("group").on("mouseleave",function(){var t=e.get("style").fill;e.getElementByLocalId("background").attr("fill",t),e.draw()})},ai.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},ai),ei=(He=W,Object(b.__extends)(ri,He),ri.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e)},ri.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},ri.prototype.setValue=function(t){var e;Object(_.isArray)(t)&&2===t.length&&(e=[this.get("start"),this.get("end")],this.update({start:t[0],end:t[1]}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:e,value:t}))},ri.prototype.getValue=function(){return[this.get("start"),this.get("end")]},ri.prototype.getDefaultCfg=function(){var t=He.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Ze,foregroundStyle:Ke,handlerStyle:$e,textStyle:Qe}})},ri.prototype.update=function(t){var e=t.start,i=t.end,n=Object(b.__assign)({},t);Object(_.isNil)(e)||(n.start=Object(_.clamp)(e,0,1)),Object(_.isNil)(i)||(n.end=Object(_.clamp)(i,0,1)),He.prototype.update.call(this,n),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},ri.prototype.init=function(){this.set("start",Object(_.clamp)(this.get("start"),0,1)),this.set("end",Object(_.clamp)(this.get("end"),0,1)),He.prototype.init.call(this)},ri.prototype.renderInner=function(t){var e=this.cfg,i=(e.start,e.end,e.width),n=e.height,o=e.trendCfg,r=void 0===o?{}:o,a=e.minText,s=e.maxText,l=e.backgroundStyle,u=void 0===l?{}:l,c=e.foregroundStyle,h=void 0===c?{}:c,p=e.textStyle,f=void 0===p?{}:p,d=e.handlerStyle,g=void 0===d?{}:d;Object(_.size)(Object(_.get)(r,"data"))&&this.addComponent(t,Object(b.__assign)({component:Ue,id:this.getElementId("trend"),x:0,y:0,width:i,height:n},r)),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(b.__assign)({x:0,y:0,width:i,height:n},u)});var y=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Object(b.__assign)({y:n/2,textAlign:"right",text:a,silent:!1},f)}),v=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Object(b.__assign)({y:n/2,textAlign:"left",text:s,silent:!1},f)}),m=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(b.__assign)({y:0,height:n},h)}),x=Object(_.get)(g,"height",24);this.minHandler=this.addComponent(t,Object(b.__assign)({component:ti,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(n-x)/2,width:i,height:x,cursor:"ew-resize"},g)),this.maxHandler=this.addComponent(t,Object(b.__assign)({component:ti,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(n-x)/2,width:i,height:x,cursor:"ew-resize"},g)),this.updateUI(m,y,v)},ri.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ri.prototype.initEvent=function(){this.bindEvents()},ri.prototype.updateUI=function(t,i,n){var e=this.cfg,o=e.start,r=e.end,a=e.width,s=e.minText,l=e.maxText,u=e.handlerStyle,c=o*a,h=r*a;t.attr("x",c),t.attr("width",h-c);var p=Object(_.get)(u,"width",10);i.attr("text",s),n.attr("text",l);var f=this._dodgeText([c,h],i,n),d=f[0],g=f[1];this.minHandler&&(this.minHandler.update({x:c-p/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(_.each)(d,function(t,e){return i.attr(e,t)}),this.maxHandler&&(this.maxHandler.update({x:h-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(_.each)(g,function(t,e){return n.attr(e,t)})},ri.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},ri.prototype.adjustOffsetRange=function(t){var e=this.cfg,i=e.start,n=e.end;switch(this.currentTarget){case"minHandler":var o=0-i,r=1-i;return Math.min(r,Math.max(o,t));case"maxHandler":return o=0-n,r=1-n,Math.min(r,Math.max(o,t));case"foreground":return o=0-i,r=1-n,Math.min(r,Math.max(o,t));default:return 0}},ri.prototype.updateStartEnd=function(t){var e=this.cfg,i=e.start,n=e.end;switch(this.currentTarget){case"minHandler":i+=t;break;case"maxHandler":n+=t;break;case"foreground":i+=t,n+=t}this.set("start",i),this.set("end",n)},ri.prototype._dodgeText=function(t,e,i){var n,o,r=this.cfg,a=r.handlerStyle,s=r.width,l=Object(_.get)(a,"width",10),u=t[0],c=t[1],h=!1;c<u&&(u=(n=[c,u])[0],c=n[1],e=(o=[i,e])[0],i=o[1],h=!0);var p=e.getBBox(),f=i.getBBox(),d=p.width>u-2?{x:u+l/2+2,textAlign:"left"}:{x:u-l/2-2,textAlign:"right"},g=f.width>s-c-2?{x:c-l/2-2,textAlign:"right"}:{x:c+l/2+2,textAlign:"left"};return h?[g,d]:[d,g]},ri.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},ri.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},ri),ii={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},ni=(Ve=W,Object(b.__extends)(oi,Ve),oi.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e)},oi.prototype.getRange=function(){return{min:this.get("minLimit"),max:this.get("maxLimit")}},oi.prototype.setValue=function(t){var e=this.getValue();this.update({thumbOffset:this.get("trackLen")-this.get("thumbLen")*Object(_.clamp)(t,0,1)}),this.delegateEmit("valuechange",{originalValue:e,value:this.getValue()})},oi.prototype.getValue=function(){return Object(_.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},oi.prototype.getDefaultCfg=function(){var t=Ve.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:ii})},oi.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},oi.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},oi.prototype.initEvent=function(){this.bindEvents()},oi.prototype.renderTrackShape=function(t){var e=this.cfg,i=e.trackLen,n=e.theme,o=(void 0===n?{default:{}}:n).default,r=o.lineCap,a=o.trackColor,s=o.size,l=this.get("isHorizontal")?{x1:0+s/2,y1:s/2,x2:i-s/2,y2:s/2,lineWidth:s,stroke:a,lineCap:r}:{x1:s/2,y1:0+s/2,x2:s/2,y2:i-s/2,lineWidth:s,stroke:a,lineCap:r};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:l})},oi.prototype.renderThumbShape=function(t){var e=this.cfg,i=e.thumbOffset,n=e.thumbLen,o=e.theme,r=(void 0===o?{default:{}}:o).default,a=r.size,s=r.lineCap,l=r.thumbColor,u=this.get("isHorizontal")?{x1:i+a/2,y1:a/2,x2:i+n-a/2,y2:a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"}:{x1:a/2,y1:i+a/2,x2:a/2,y2:i+n-a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:u})},oi.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},oi.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},oi.prototype.validateRange=function(t){var e=this.cfg,i=e.thumbLen,n=e.trackLen,o=t;return n<t+i?o=n-i:t+i<i&&(o=0),o},oi.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},oi.prototype.updateThumbOffset=function(t){var e,i=this.cfg,n=i.thumbOffset,o=i.isHorizontal,r=i.thumbLen,a=i.size,s=this.validateRange(t);s!==n&&(e=this.getElementByLocalId("thumb"),o?e.attr({x1:s+a/2,x2:s+r-a/2}):e.attr({y1:s+a/2,y2:s+r-a/2}),this.emitOffsetChange(s))},oi.prototype.emitOffsetChange=function(t){var e=this.cfg,i=e.thumbOffset,n=e.trackLen,o=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Object(_.clamp)(t/(n-o),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:t})},oi);function oi(){var h=null!==Ve&&Ve.apply(this,arguments)||this;return h.clearEvents=_.noop,h.onStartEvent=function(n){return function(t){h.isMobile=n,t.originalEvent.preventDefault();var e=n?Object(_.get)(t.originalEvent,"touches.0.clientX"):t.clientX,i=n?Object(_.get)(t.originalEvent,"touches.0.clientY"):t.clientY;h.startPos=h.cfg.isHorizontal?e:i,h.bindLaterEvent()}},h.bindLaterEvent=function(){var t=h.getContainerDOM(),e=[],e=h.isMobile?[Object(Zt.addEventListener)(t,"touchmove",h.onMouseMove),Object(Zt.addEventListener)(t,"touchend",h.onMouseUp),Object(Zt.addEventListener)(t,"touchcancel",h.onMouseUp)]:[Object(Zt.addEventListener)(t,"mousemove",h.onMouseMove),Object(Zt.addEventListener)(t,"mouseup",h.onMouseUp),Object(Zt.addEventListener)(t,"mouseleave",h.onMouseUp)];h.clearEvents=function(){e.forEach(function(t){t.remove()})}},h.onMouseMove=function(t){var e=h.cfg,i=e.isHorizontal,n=e.thumbOffset;t.preventDefault();var o=h.isMobile?Object(_.get)(t,"touches.0.clientX"):t.clientX,r=h.isMobile?Object(_.get)(t,"touches.0.clientY"):t.clientY,a=i?o:r,s=a-h.startPos;h.startPos=a,h.updateThumbOffset(n+s)},h.onMouseUp=function(t){t.preventDefault(),h.clearEvents()},h.onTrackClick=function(t){var e=h.cfg,i=e.isHorizontal,n=e.x,o=e.y,r=e.thumbLen,a=h.getContainerDOM().getBoundingClientRect(),s=t.clientX,l=t.clientY,u=i?s-a.left-n-r/2:l-a.top-o-r/2,c=h.validateRange(u);h.updateThumbOffset(c)},h.onThumbMouseOver=function(){var t=h.cfg.theme.hover.thumbColor;h.getElementByLocalId("thumb").attr("stroke",t),h.draw()},h.onThumbMouseOut=function(){var t=h.cfg.theme.default.thumbColor;h.getElementByLocalId("thumb").attr("stroke",t),h.draw()},h}function ri(){var s=null!==He&&He.apply(this,arguments)||this;return s.onMouseDown=function(n){return function(t){s.currentTarget=n;var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),s.prevX=Object(_.get)(e,"touches.0.pageX",e.pageX),s.prevY=Object(_.get)(e,"touches.0.pageY",e.pageY);var i=s.getContainerDOM();i.addEventListener("mousemove",s.onMouseMove),i.addEventListener("mouseup",s.onMouseUp),i.addEventListener("mouseleave",s.onMouseUp),i.addEventListener("touchmove",s.onMouseMove),i.addEventListener("touchend",s.onMouseUp),i.addEventListener("touchcancel",s.onMouseUp)}},s.onMouseMove=function(t){var e=s.cfg.width,i=[s.get("start"),s.get("end")];t.stopPropagation(),t.preventDefault();var n=Object(_.get)(t,"touches.0.pageX",t.pageX),o=Object(_.get)(t,"touches.0.pageY",t.pageY),r=n-s.prevX,a=s.adjustOffsetRange(r/e);s.updateStartEnd(a),s.updateUI(s.getElementByLocalId("foreground"),s.getElementByLocalId("minText"),s.getElementByLocalId("maxText")),s.prevX=n,s.prevY=o,s.draw(),s.emit("sliderchange",[s.get("start"),s.get("end")].sort()),s.delegateEmit("valuechanged",{originValue:i,value:[s.get("start"),s.get("end")]})},s.onMouseUp=function(){s.currentTarget&&(s.currentTarget=void 0);var t=s.getContainerDOM();t&&(t.removeEventListener("mousemove",s.onMouseMove),t.removeEventListener("mouseup",s.onMouseUp),t.removeEventListener("mouseleave",s.onMouseUp),t.removeEventListener("touchmove",s.onMouseMove),t.removeEventListener("touchend",s.onMouseUp),t.removeEventListener("touchcancel",s.onMouseUp))},s}function ai(){return null!==We&&We.apply(this,arguments)||this}function si(){return null!==qe&&qe.apply(this,arguments)||this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(225)),r=n.__importDefault(i(227)),a=n.__importDefault(i(229)),s=n.__importDefault(i(231)),l={area:o.default,line:a.default,point:s.default,interval:r.default};e.getGeom=function(t,e,i){return new l[t][e](i).config}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(26),u=i(169);e.default={box:function(t,e,i,n){return s.getBBoxByArray([t,i],[e,n])},length:function(t,e,i,n){return s.distance(t,e,i,n)},pointAt:function(t,e,i,n,o){return{x:(1-o)*t+o*i,y:(1-o)*e+o*n}},pointDistance:function(t,e,i,n,o,r){var a=(i-t)*(o-t)+(n-e)*(r-e);return a<0?s.distance(t,e,o,r):(i-t)*(i-t)+(n-e)*(n-e)<a?s.distance(i,n,o,r):this.pointToLine(t,e,i,n,o,r)},pointToLine:function(t,e,i,n,o,r){var a=[i-t,n-e];if(u.exactEquals(a,[0,0]))return Math.sqrt((o-t)*(o-t)+(r-e)*(r-e));var s=[-a[1],a[0]];u.normalize(s,s);var l=[o-t,r-e];return Math.abs(u.dot(l,s))},tangentAngle:function(t,e,i,n){return Math.atan2(n-e,i-t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,p=i(1),f=i(0),o=p.__importDefault(i(53)),d=i(7),r=p.__importDefault(i(10)),a=(n=o.default,p.__extends(s,n),s.prototype.getGeometry=function(){return this.geometry},s.prototype.getLabels=function(){return this.labels},s.prototype.show=function(){this.container.show()},s.prototype.hide=function(){this.container.hide()},s.prototype.init=function(t){var e=this;this.layer=t.layer;var i=this.layer.view;function n(){e.clear(),e.render()}this.view=i,this.geometry=t.geometry,this.coord=i.getCoordinate(),this.options=f.deepMix(this.getDefaultOptions(),t.label),i.on(d.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),this.addDisposable(function(){i.off(d.VIEW_LIFE_CIRCLE.AFTER_PAINT,n)})},s.prototype.renderInner=function(a){var s=this;this.labels=[],this.labelsCfgMap={},f.each(this.geometry.elements,function(i,t){var e=[].concat(s.drawLabelItem(a,i,t));f.each(e,function(t,e){s.adjustLabel(t,i,e),t.destroyed||(s.labels.push(t),s.labelsCfgMap[t.get("id")]=f.clone(t.attrs))})}),this.layoutLabels(this.geometry,this.labels);var l=this.lastLabelsCfgMap,t=this.labelsCfgMap,u=!!this.geometry.animateOption&&d.getDefaultAnimateCfg("label",this.coord);f.each(t,function(t,e){var i,n,o,r=a.findById(e);r&&(l[e]?(i=l[e],(n=f.get(u,"update"))&&(r.attr(i),d.doAnimate(r,n,{toAttrs:p.__assign({},t),coordinate:s.coord}))):(o=f.get(u,"appear"))&&d.doAnimate(r,o,{toAttrs:p.__assign({},r.attr()),coordinate:s.coord})),delete l[e]}),f.each(l,function(t,e){var i,n=f.get(u,"leave");n&&(i=a.addShape("text",{attrs:t,id:e,name:"label"}),d.doAnimate(i,n,{toAttrs:null,coordinate:s.coord}))}),this.lastLabelsCfgMap=this.labelsCfgMap},s.prototype.drawLabelText=function(t,e,i){return void 0===i&&(i={}),t.addShape("text",p.__assign({attrs:e},i))},s.prototype.drawLabelItem=function(a,s,t){var l=this,u=s.getModel(),e=[].concat(this.getLabelItemAttrs(s,t)),c=this.getDefaultOffset(),h=this.getLabelOffset();return f.map(e,function(t,e){var i,n={x:t.x+h.x,y:t.y+h.y},o=f.isArray(u.mappingData)?u.mappingData[e]:u.mappingData,r=l.getLabelId(o);return l.drawLabelText(a,p.__assign(p.__assign({},t),n),((i={id:r,name:"label",offset:c,element:s})[d.ORIGIN]=o,i))})},s.prototype.getDefaultOffset=function(){return Number(this.options.offset)},s.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,i=t.offsetY;return{x:f.isNumber(e)?e:0,y:f.isNumber(i)?i:0}},s.prototype.getLabelOffsetByDimAndFactor=function(t,e){var i=this.options,n=i.offsetX,o=i.offsetY,r=this.getDefaultOffset(),a={x:0,y:0};return a[t]=r*e,f.isNumber(n)&&(a.x+=n),f.isNumber(o)&&(a.y+=o),a},s.prototype.getDefaultOptions=function(){return{}},s.prototype.layoutLabels=function(t,e){},s.prototype.getLabelId=function(t){var e=t._origin,i=this.geometry.type,n=this.geometry.getXScale(),o=this.geometry.getYScale(),r=this.geometry.getElementId(t);return"line"===i||"area"===i?r+=" "+e[n.field]:"path"===i&&(r+=" "+e[n.field]+"-"+e[o.field]),r},s.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,i=t.end;return new r.default(Math.min(e.x,i.x),Math.min(e.y,i.y),t.getWidth(),t.getHeight())},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}e.default=a;var l={};e.registerLabelComponent=function(t,e){l[t]=e},e.getLabelComponent=function(t){return l[t]}},function(t,e,i){"use strict";i.r(e),i.d(e,"Category",function(){return u}),i.d(e,"Identity",function(){return Z}),i.d(e,"Linear",function(){return _}),i.d(e,"Log",function(){return E}),i.d(e,"Pow",function(){return F}),i.d(e,"Time",function(){return I}),i.d(e,"TimeCat",function(){return x}),i.d(e,"Quantile",function(){return N}),i.d(e,"Quantize",function(){return R}),i.d(e,"Scale",function(){return s}),i.d(e,"getScale",function(){return W}),i.d(e,"registerScale",function(){return q}),i.d(e,"getTickMethod",function(){return o});var rt=i(0),n={};function o(t){return n[t]}function r(t,e){n[t]=e}var a,s=(p.prototype.translate=function(t){return t},p.prototype.change=function(t){Object(rt.assign)(this.__cfg__,t),this.init()},p.prototype.clone=function(){return this.constructor(this.__cfg__)},p.prototype.getTicks=function(){var i=this;return Object(rt.map)(this.ticks,function(t,e){return Object(rt.isObject)(t)?t:{text:i.getText(t,e),tickValue:t,value:i.scale(t)}})},p.prototype.getText=function(t,e){var i=this.formatter,n=i?i(t,e):t;return Object(rt.isNil)(n)||!Object(rt.isFunction)(n.toString)?"":n.toString()},p.prototype.getConfig=function(t){return this.__cfg__[t]},p.prototype.init=function(){Object(rt.assign)(this,this.__cfg__),this.setDomain(),Object(rt.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},p.prototype.initCfg=function(){},p.prototype.setDomain=function(){},p.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(rt.isString)(t)){var i=o(t);if(!i)throw new Error("There is no method to to calculate ticks!");e=i(this)}else Object(rt.isFunction)(t)&&(e=t(this));return e},p.prototype.rangeMin=function(){return Object(rt.head)(this.range)},p.prototype.rangeMax=function(){return Object(rt.last)(this.range)},p.prototype.calcPercent=function(t,e,i){return Object(rt.isNumber)(t)?(t-e)/(i-e):NaN},p.prototype.calcValue=function(t,e,i){return e+t*(i-e)},p),l=i(1),u=(a=s,Object(l.__extends)(h,a),h.prototype.translate=function(t){var e=Object(rt.indexOf)(this.values,t);return-1===e?Object(rt.isNumber)(t)?t:NaN:e},h.prototype.scale=function(t){var e=this.translate(t),i=this.calcPercent(e,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},h.prototype.invert=function(t){var e=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),n=Math.round(e*i)+this.min;return n<this.min||n>this.max?NaN:this.values[n]},h.prototype.getText=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=t;return Object(rt.isNumber)(t)&&!this.values.includes(t)&&(n=this.values[n]),a.prototype.getText.apply(this,Object(l.__spreadArrays)([n],e))},h.prototype.initCfg=function(){this.tickMethod="cat"},h.prototype.setDomain=function(){var t;Object(rt.isNil)(this.getConfig("min"))&&(this.min=0),Object(rt.isNil)(this.getConfig("max"))&&(t=this.values.length,this.max=1<t?t-1:t)},h),c=i(33);function h(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}function p(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}function f(t,e){return(c.format||c.default.format)(t,e)}function d(t){return Object(rt.isString)(t)&&(t=0<t.indexOf("T")?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(rt.isDate)(t)&&(t=t.getTime()),t}var D=864e5,B=31*D,g=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",36e5],["HH",216e5],["HH",432e5],["YYYY-MM-DD",D],["YYYY-MM-DD",4*D],["YYYY-WW",7*D],["YYYY-MM",B],["YYYY-MM",4*B],["YYYY-MM",6*B],["YYYY",32832e6]];var y,v,m,x=(m=u,Object(l.__extends)(w,m),w.prototype.translate=function(t){t=d(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(rt.isNumber)(t)&&t<this.values.length?t:NaN),e},w.prototype.getText=function(t,e){var i=this.translate(t);if(-1<i){var n=this.values[i],o=this.formatter;return o?o(n,e):f(n,this.mask)}return t},w.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},w.prototype.setDomain=function(){var i=this.values;Object(rt.each)(i,function(t,e){i[e]=d(t)}),i.sort(function(t,e){return t-e}),m.prototype.setDomain.call(this)},w),b=(v=s,Object(l.__extends)(O,v),O.prototype.scale=function(t){if(Object(rt.isNil)(t))return NaN;var e=this.rangeMin(),i=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(i-e)},O.prototype.init=function(){v.prototype.init.call(this);var t=this.ticks,e=Object(rt.head)(t),i=Object(rt.last)(t);e<this.min&&(this.min=e),i>this.max&&(this.max=i),Object(rt.isNil)(this.minLimit)||(this.min=e),Object(rt.isNil)(this.maxLimit)||(this.max=i)},O.prototype.setDomain=function(){var t=Object(rt.getRange)(this.values),e=t.min,i=t.max;Object(rt.isNil)(this.min)&&(this.min=e),Object(rt.isNil)(this.max)&&(this.max=i),this.min>this.max&&(this.min=e,this.max=i)},O.prototype.calculateTicks=function(){var e=this,t=v.prototype.calculateTicks.call(this);return this.nice||(t=Object(rt.filter)(t,function(t){return t>=e.min&&t<=e.max})),t},O.prototype.getScalePercent=function(t){var e=this.max,i=this.min;return(t-i)/(e-i)},O.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},O),_=(y=b,Object(l.__extends)(M,y),M.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},M.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},M);function M(){var t=null!==y&&y.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}function O(){var t=null!==v&&v.apply(this,arguments)||this;return t.isContinuous=!0,t}function w(){return null!==m&&m.apply(this,arguments)||this}function C(t,e){var i=Math.E;return 0<=e?Math.pow(i,Math.log(e)/t):-1*Math.pow(i,Math.log(-e)/t)}function S(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function j(t,e,i){Object(rt.isNil)(i)&&(i=Math.max.apply(null,t));var n=i;return Object(rt.each)(t,function(t){0<t&&t<n&&(n=t)}),n===i&&(n=i/e),1<n&&(n=1),n}var A,P,T,L,k,E=(k=b,Object(l.__extends)(H,k),H.prototype.invert=function(t){var e,i=this.base,n=S(i,this.max),o=this.rangeMin(),r=this.rangeMax()-o,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(n-(e=S(i,a/i)))*r;if(t<s)return t/s*a}else e=S(i,this.min);var l=(t-o)/r*(n-e)+e;return Math.pow(i,l)},H.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},H.prototype.setDomain=function(){k.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=j(this.values,this.base,this.max))},H.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;if(t<=0)return 0;var n=this.base,o=this.positiveMin;return o&&(i=o/n),t<o?t/o/(S(n,e)-S(n,i)):(S(n,t)-S(n,i))/(S(n,e)-S(n,i))},H),F=(L=b,Object(l.__extends)(V,L),V.prototype.invert=function(t){var e=this.getInvertPercent(t),i=this.exponent,n=C(i,this.max),o=C(i,this.min),r=e*(n-o)+o,a=0<=r?1:-1;return Math.pow(r,i)*a},V.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},V.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;var n=this.exponent;return(C(n,t)-C(n,i))/(C(n,e)-C(n,i))},V),I=(T=_,Object(l.__extends)(z,T),z.prototype.getText=function(t,e){var i=this.translate(t),n=this.formatter;return n?n(i,e):f(i,this.mask)},z.prototype.scale=function(t){var e=t;return(Object(rt.isString)(e)||Object(rt.isDate)(e))&&(e=this.translate(e)),T.prototype.scale.call(this,e)},z.prototype.translate=d,z.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},z.prototype.setDomain=function(){var i,n,o,r,t=this.values,e=this.getConfig("min"),a=this.getConfig("max");Object(rt.isNil)(e)&&Object(rt.isNumber)(e)||(this.min=this.translate(this.min)),Object(rt.isNil)(a)&&Object(rt.isNumber)(a)||(this.max=this.translate(this.max)),t&&t.length&&(i=[],o=n=1/0,r=0,Object(rt.each)(t,function(t){var e=d(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");e<n?(o=n,n=e):e<o&&(o=e),r<e&&(r=e),i.push(e)}),1<t.length&&(this.minTickInterval=o-n),Object(rt.isNil)(e)&&(this.min=n),Object(rt.isNil)(a)&&(this.max=r))},z),R=(P=b,Object(l.__extends)(X,P),X.prototype.invert=function(t){var e=this.ticks,i=e.length,n=this.getInvertPercent(t),o=Math.floor(n*(i-1));if(i-1<=o)return Object(rt.last)(e);if(o<0)return Object(rt.head)(e);var r=e[o],a=o/(i-1);return r+(n-a)/((o+1)/(i-1)-a)*(e[o+1]-r)},X.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},X.prototype.calculateTicks=function(){var t=P.prototype.calculateTicks.call(this);return this.nice||(Object(rt.last)(t)!==this.max&&t.push(this.max),Object(rt.head)(t)!==this.min&&t.unshift(this.min)),t},X.prototype.getScalePercent=function(i){var t=this.ticks;if(i<Object(rt.head)(t))return 0;if(i>Object(rt.last)(t))return 1;var n=0;return Object(rt.each)(t,function(t,e){if(!(t<=i))return!1;n=e}),n/(t.length-1)},X),N=(A=R,Object(l.__extends)(G,A),G.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},G),Y={};function G(){var t=null!==A&&A.apply(this,arguments)||this;return t.type="quantile",t}function X(){var t=null!==P&&P.apply(this,arguments)||this;return t.type="quantize",t}function z(){var t=null!==T&&T.apply(this,arguments)||this;return t.type="time",t}function V(){var t=null!==L&&L.apply(this,arguments)||this;return t.type="pow",t}function H(){var t=null!==k&&k.apply(this,arguments)||this;return t.type="log",t}function W(t){return Y[t]}function q(t,e){if(W(t))throw new Error("type '"+t+"' existed.");Y[t]=e}var U,Z=(U=s,Object(l.__extends)(K,U),K.prototype.calculateTicks=function(){return this.values},K.prototype.scale=function(t){return this.values[0]!==t&&Object(rt.isNumber)(t)?t:this.range[0]},K.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},K),at=[1,5,2,2.5,4,3],st=100*Number.EPSILON;function K(){var t=null!==U&&U.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}function lt(t,e,i){var n=e-t;if(n<i){var o=(i-n)/2;return 1-Math.pow(o,2)/Math.pow(.1*n,2)}return 1}function $(t,e,i,n,o,r){if(void 0===i&&(i=5),void 0===n&&(n=!0),void 0===o&&(o=at),void 0===r&&(r=[.25,.2,.5,.05]),t===e||1===i)return{min:t,max:e,ticks:[t]};for(var a,s,l,u,c,h,p,f,d,g,y,v,m,x,b,_,M,O,w,C,S,j,A,P,T,L,k,E={score:-2,lmin:0,lmax:0,lstep:0},D=1;D<1/0;){for(var B=0,F=o;B<F.length;B++){var I=F[B],R=(P=I,T=o,L=D,k=Object(rt.size)(T),1-Object(rt.indexOf)(T,P)/(k-1)-L+1);if(Number.isNaN(R))throw new Error("NaN");if(r[0]*R+r[1]+r[2]+r[3]<E.score){D=1/0;break}for(var N=2;N<1/0;){var Y=(A=i)<=(j=N)?2-(j-1)/(A-1):1;if(r[0]*R+r[1]+r[2]*Y+r[3]<E.score)break;for(var G=(e-t)/(N+1)/D/I,X=Math.ceil(Math.log10(G));X<1/0;){var z=D*I*Math.pow(10,X),V=lt(t,e,z*(N-1));if(r[0]*R+r[1]*V+r[2]*Y+r[3]<E.score)break;var H=Math.floor(e/z)*D-(N-1)*D,W=Math.ceil(t/z)*D;if(W<H)X+=1;else{for(var q=H;q<=W;q+=1){var U=q*(z/D),Z=U+z*(N-1),K=z,$=(v=I,m=o,x=D,b=U,_=Z,M=K,C=void 0,O=Object(rt.size)(m),w=Object(rt.indexOf)(m,v),C=0,((S=(b%M+M)%M)<st||M-S<st)&&b<=0&&0<=_&&(C=1),1-w/(O-1)-x+C),Q=(d=U,g=Z,y=(f=e)-(p=t),1-.5*(Math.pow(f-g,2)+Math.pow(p-d,2))/Math.pow(.1*y,2)),J=(a=t,s=e,0,c=(N-1)/((u=Z)-(l=U)),h=(i-1)/(Math.max(u,s)-Math.min(a,l)),2-Math.max(c/h,h/c)),tt=r[0]*$+r[1]*Q+r[2]*J+ +r[3];tt>E.score&&(!n||U<=t&&e<=Z)&&(E.lmin=U,E.lmax=Z,E.lstep=K,E.score=tt)}X+=1}}N+=1}}D+=1}for(var et=Number.isInteger(E.lstep)?0:Math.ceil(Math.abs(Math.log10(E.lstep))),it=[],nt=E.lmin;nt<=E.lmax;nt+=E.lstep)it.push(nt);var ot=et?Object(rt.map)(it,function(t){return Number.parseFloat(t.toFixed(et))}):it;return{min:Math.min(t,Object(rt.head)(ot)),max:Math.max(e,Object(rt.last)(ot)),ticks:ot}}function Q(t){var e=t.values,i=t.tickInterval,n=t.tickCount,o=e;if(Object(rt.isNumber)(i))return Object(rt.filter)(o,function(t,e){return e%i==0});var r=t.min,a=t.max;if(Object(rt.isNil)(r)&&(r=0),Object(rt.isNil)(a)&&(a=e.length-1),Object(rt.isNumber)(n)&&n<a-r){var s=$(r,a,n,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(rt.filter)(s,function(t){return r<=t&&t<=a}).map(function(t){return e[t]})}return e.slice(r,a+1)}var J=Math.sqrt(50),tt=Math.sqrt(10),et=Math.sqrt(2),it=(nt.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},nt.prototype.nice=function(t){var e,i;void 0===t&&(t=5);var n,o=this._domain.slice(),r=0,a=this._domain.length-1,s=this._domain[r],l=this._domain[a];return l<s&&(s=(e=[l,s])[0],l=e[1],r=(i=[a,r])[0],a=i[1]),0<(n=ot(s,l,t))?n=ot(s=Math.floor(s/n)*n,l=Math.ceil(l/n)*n,t):n<0&&(n=ot(s=Math.ceil(s*n)/n,l=Math.floor(l*n)/n,t)),0<n?(o[r]=Math.floor(s/n)*n,o[a]=Math.ceil(l/n)*n,this.domain(o)):n<0&&(o[r]=Math.ceil(s*n)/n,o[a]=Math.floor(l*n)/n,this.domain(o)),this},nt.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,i){var n,o,r,a,s=-1;if(i=+i,(t=+t)==(e=+e)&&0<i)return[t];if((n=e<t)&&(o=t,t=e,e=o),0===(a=ot(t,e,i))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),r=new Array(o=Math.ceil(e-t+1));++s<o;)r[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),r=new Array(o=Math.ceil(t-e+1));++s<o;)r[s]=(t-s)/a;return n&&r.reverse(),r}(this._domain[0],this._domain[this._domain.length-1],t||5)},nt);function nt(){this._domain=[0,1]}function ot(t,e,i){var n=(e-t)/Math.max(0,i),o=Math.floor(Math.log(n)/Math.LN10),r=n/Math.pow(10,o);return 0<=o?(J<=r?10:tt<=r?5:et<=r?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(J<=r?10:tt<=r?5:et<=r?2:1)}function ut(t,e,i){return("ceil"===i?Math.ceil(t/e):"floor"===i?Math.floor(t/e):Math.round(t/e))*e}function ct(t,e,i){for(var n=ut(t,i,"floor"),o=ut(e,i,"ceil"),n=Object(rt.fixedBase)(n,i),o=Object(rt.fixedBase)(o,i),r=[],a=n;a<=o;a+=i){var s=Object(rt.fixedBase)(a,i);r.push(s)}return{min:n,max:o,ticks:r}}function ht(t,e,i){var n,o=t.minLimit,r=t.maxLimit,a=t.min,s=t.max,l=t.tickCount,u=void 0===l?5:l,c=Object(rt.isNil)(o)?Object(rt.isNil)(e)?a:e:o,h=Object(rt.isNil)(r)?Object(rt.isNil)(i)?s:i:r;if(h<c&&(h=(n=[c,h])[0],c=n[1]),u<=2)return[c,h];for(var p=(h-c)/(u-1),f=[],d=0;d<u;d++)f.push(c+p*d);return f}function pt(t,e,i){void 0===i&&(i=5);var n={max:0,min:0,ticks:[]},o=(e-t)/i,r=Math.pow(10,Math.floor(Math.log10(o))),a=r<1?Math.ceil(Math.abs(Math.log10(r))):0,s=r;2*r-o<1.5*(o-s)&&5*r-o<2.75*(o-(s=2*r))&&10*r-o<1.5*(o-(s=5*r))&&(s=10*r);var l=Math.ceil(e/s),u=Math.floor(t/s);n.max=Math.max(l*s,e),n.min=Math.min(u*s,t);for(var c=Number.parseFloat((u*s).toFixed(a));c<e;)n.ticks.push(c),c+=s,a&&(c=Number.parseFloat(c.toFixed(a)));return n.ticks.push(c),n}function ft(t){return new Date(t).getFullYear()}function dt(t){return new Date(t).getMonth()}r("cat",Q),r("time-cat",function(t){var e=Q(t),i=Object(rt.last)(t.values);return i!==Object(rt.last)(e)&&e.push(i),e}),r("wilkinson-extended",function(t){var e=t.min,i=t.max,n=t.tickCount,o=t.nice,r=t.tickInterval,a=t.minLimit,s=t.maxLimit,l=$(e,i,n,o).ticks;return Object(rt.isNil)(a)&&Object(rt.isNil)(s)?r?ct(e,i,r).ticks:l:ht(t,Object(rt.head)(l),Object(rt.last)(l))}),r("r-pretty",function(t){var e=t.min,i=t.max,n=t.tickCount,o=t.tickInterval,r=t.minLimit,a=t.maxLimit,s=pt(e,i,n).ticks;return Object(rt.isNil)(r)&&Object(rt.isNil)(a)?o?ct(e,i,o).ticks:s:ht(t,Object(rt.head)(s),Object(rt.last)(s))}),r("time",function(t){var e,s,i,n,o=t.min,r=t.max,a=t.minTickInterval,l=t.tickInterval,u=t.tickCount;l?u=Math.ceil((r-o)/l):(1<(e=(r-o)/(s=function(t){return t[1]},i=function(t,e,i,n){for(var o=Object(rt.isNil)(i)?0:i,r=Object(rt.isNil)(n)?t.length:n;o<r;){var a=o+r>>>1;s(t[a])>e?r=a:o=1+a}return o}(g,(r-o)/u)-1,n=g[i],i<0?n=g[0]:g.length<=i&&(n=Object(rt.last)(g)),l=n[1])/u)&&(l*=Math.ceil(e)),a&&l<a&&(l=a));for(var c=[],h=o;h<r+l;h+=l)c.push(h);return c}),r("time-pretty",function(t){var e=t.min,i=t.max,n=t.minTickInterval,o=t.tickInterval,r=t.tickCount,a=[];o||(o=(i-e)/r,n&&o<n&&(o=n));var s,l,u,c,h,p=ft(e);if(31536e6<o)for(var f=ft(i),d=Math.ceil(o/31536e6),g=p;g<=f+d;g+=d)a.push(new Date(g,0,1).getTime());else if(B<o)for(var y=Math.ceil(o/B),v=dt(e),m=(l=i,u=ft(s=e),c=ft(l),h=dt(s),12*(c-u)+(dt(l)-h)%12),g=0;g<=m+y;g+=y)a.push(new Date(p,g+v,1).getTime());else if(D<o){var x=(w=new Date(e)).getFullYear(),b=w.getMonth(),_=w.getDate(),M=Math.ceil(o/D),O=Math.ceil((i-e)/D);for(g=0;g<O+M;g+=M)a.push(new Date(x,b,_+g).getTime())}else if(36e5<o){x=(w=new Date(e)).getFullYear(),b=w.getMonth(),M=w.getDate();var w,C=w.getHours(),S=Math.ceil(o/36e5),j=Math.ceil((i-e)/36e5);for(g=0;g<=j+S;g+=S)a.push(new Date(x,b,M,C+g).getTime())}else if(6e4<o){var A=Math.ceil((i-e)/6e4),P=Math.ceil(o/6e4);for(g=0;g<=A+P;g+=P)a.push(e+6e4*g)}else{var T=o;T<1e3&&(T=1e3);var L=1e3*Math.floor(e/1e3),k=Math.ceil((i-e)/1e3),E=Math.ceil(T/1e3);for(g=0;g<k+E;g+=E)a.push(L+1e3*g)}return a}),r("log",function(t){for(var e,i,n=t.base,o=t.tickCount,r=t.min,a=t.max,s=t.values,l=S(n,a),u=l-(i=0<r?Math.floor(S(n,r)):(e=j(s,n,a),Math.floor(S(n,e)))),c=Math.ceil(u/o),h=[],p=i;p<l+c;p+=c)h.push(Math.pow(n,p));return r<=0&&h.unshift(0),h}),r("pow",function(t){var i=t.exponent,e=t.tickCount,n=Math.ceil(C(i,t.max));return pt(Math.floor(C(i,t.min)),n,e).ticks.map(function(t){var e=0<=t?1:-1;return Math.pow(t,i)*e})}),r("quantile",function(t){var e=t.tickCount,i=t.values;if(!i||!i.length)return[];for(var n,o,r,a=i.slice().sort(function(t,e){return t-e}),s=[],l=0;l<e;l++){var u=l/(e-1);s.push((o=u,r=(n=a).length*o,1===o?n[n.length-1]:0===o?n[0]:r%1!=0?n[Math.ceil(r)-1]:n.length%2==0?(n[r-1]+n[r])/2:n[r]))}return s}),r("d3-linear",function(t){var e,i,n,o,r,a=t.min,s=t.max,l=t.tickInterval,u=t.minLimit,c=t.maxLimit,h=(e=t.min,i=t.max,n=t.nice,o=t.tickCount,(r=new it).domain([e,i]),n&&r.nice(o),r.ticks(o));return Object(rt.isNil)(u)&&Object(rt.isNil)(c)?l?ct(a,s,l).ticks:h:ht(t,Object(rt.head)(h),Object(rt.last)(h))}),q("cat",u),q("category",u),q("identity",Z),q("linear",_),q("log",E),q("pow",F),q("time",I),q("timeCat",x),q("quantize",R),q("quantile",N)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new b.ARRAY_TYPE(9);return b.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new b.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,i,n,o,r,a,s,l){var u=new b.ARRAY_TYPE(9);return u[0]=t,u[1]=e,u[2]=i,u[3]=n,u[4]=o,u[5]=r,u[6]=a,u[7]=s,u[8]=l,u},e.set=function(t,e,i,n,o,r,a,s,l,u){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){var i,n,o;return t===e?(i=e[1],n=e[2],o=e[5],t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=o):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]),t},e.invert=function(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,p=-c*r+s*l,f=u*r-a*l,d=i*h+n*p+o*f;return d?(d=1/d,t[0]=h*d,t[1]=(-c*n+o*u)*d,t[2]=(s*n-o*a)*d,t[3]=p*d,t[4]=(c*i-o*l)*d,t[5]=(-s*i+o*r)*d,t[6]=f*d,t[7]=(-u*i+n*l)*d,t[8]=(a*i-n*r)*d,t):null},e.adjoint=function(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=o*u-n*c,t[2]=n*s-o*a,t[3]=s*l-r*c,t[4]=i*c-o*l,t[5]=o*r-i*s,t[6]=r*u-a*l,t[7]=n*l-i*u,t[8]=i*a-n*r,t},e.determinant=function(t){var e=t[0],i=t[1],n=t[2],o=t[3],r=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*r-a*l)+i*(-u*o+a*s)+n*(l*o-r*s)},e.multiply=n,e.translate=function(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=i[0],f=i[1];return t[0]=n,t[1]=o,t[2]=r,t[3]=a,t[4]=s,t[5]=l,t[6]=p*n+f*a+u,t[7]=p*o+f*s+c,t[8]=p*r+f*l+h,t},e.rotate=function(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=Math.sin(i),f=Math.cos(i);return t[0]=f*n+p*a,t[1]=f*o+p*s,t[2]=f*r+p*l,t[3]=f*a-p*n,t[4]=f*s-p*o,t[5]=f*l-p*r,t[6]=u,t[7]=c,t[8]=h,t},e.scale=function(t,e,i){var n=i[0],o=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=i+i,s=n+n,l=o+o,u=i*a,c=n*a,h=n*s,p=o*a,f=o*s,d=o*l,g=r*a,y=r*s,v=r*l;return t[0]=1-h-d,t[3]=c-v,t[6]=p+y,t[1]=c+v,t[4]=1-u-d,t[7]=f-g,t[2]=p-y,t[5]=f+g,t[8]=1-u-h,t},e.normalFromMat4=function(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],g=e[13],y=e[14],v=e[15],m=i*s-n*a,x=i*l-o*a,b=i*u-r*a,_=n*l-o*s,M=n*u-r*s,O=o*u-r*l,w=c*g-h*d,C=c*y-p*d,S=c*v-f*d,j=h*y-p*g,A=h*v-f*g,P=p*v-f*y,T=m*P-x*A+b*j+_*S-M*C+O*w;return T?(T=1/T,t[0]=(s*P-l*A+u*j)*T,t[1]=(l*S-a*P-u*C)*T,t[2]=(a*A-s*S+u*w)*T,t[3]=(o*A-n*P-r*j)*T,t[4]=(i*P-o*S+r*C)*T,t[5]=(n*S-i*A-r*w)*T,t[6]=(g*O-y*M+v*_)*T,t[7]=(y*b-d*O-v*x)*T,t[8]=(d*M-g*b+v*m)*T,t):null},e.projection=function(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t},e.subtract=o,e.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t},e.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var i=t[0],n=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=e[0],p=e[1],f=e[2],d=e[3],g=e[4],y=e[5],v=e[6],m=e[7],x=e[8];return Math.abs(i-h)<=b.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-p)<=b.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(o-f)<=b.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(r-d)<=b.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(a-g)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-y)<=b.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-v)<=b.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-m)<=b.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-x)<=b.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))};var b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(74));function n(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=i[0],f=i[1],d=i[2],g=i[3],y=i[4],v=i[5],m=i[6],x=i[7],b=i[8];return t[0]=p*n+f*a+d*u,t[1]=p*o+f*s+d*c,t[2]=p*r+f*l+d*h,t[3]=g*n+y*a+v*u,t[4]=g*o+y*s+v*c,t[5]=g*r+y*l+v*h,t[6]=m*n+x*a+b*u,t[7]=m*o+x*s+b*c,t[8]=m*r+x*l+b*h,t}function o(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}e.mul=n,e.sub=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(71);e.default=function(t){return Array.isArray?Array.isArray(t):n.default(t,"Array")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1).__importStar(i(2)),c=i(0);function a(t){var e=0;return c.each(t,function(t){e+=t*t}),Math.sqrt(e)}function s(t,e){return t.x*e.y+t.y*e.x}function O(t,e,i){void 0===i&&(i=1);var n=[t.x,t.y,i];return o.vec3.transformMat3(n,n,e),{x:n[0],y:n[1]}}function f(t,e,i){return e<=t&&t<=i}function r(t,e){for(var i=!1,n=0,o=e.length-1;n<e.length;o=n++){var r=e[n].x,a=e[n].y,s=e[o].x,l=e[o].y;a>t.y!=l>t.y&&t.x<=(s-r)*(t.y-a)/(l-a)+r&&(i=!i)}return i}function n(t){return t*t}function h(t,e){return Math.sqrt(n(t.x-e.x)+n(t.y-e.y))}function p(t,e,i){var n=h(e,i);if(0===n)return h(t,e);var o=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n,o=Math.max(0,Math.min(1,o)),r=h(t,{x:e.x+o*(i.x-e.x),y:e.y+o*(i.y-e.y)});return Math.sqrt(r)}function l(i,t){var n=1/0;c.each(t,function(t){var e=Math.sqrt(h(t,i));e<n&&(n=e)});for(var e=0,o=t.length-1;e<t.length;o=e++){var r=t[e].x,a=t[e].y,s=t[o].x,l=t[o].y,u=p(i,{x:r,y:a},{x:s,y:l});u<n&&(n=u)}return n}function u(t,e){for(var i=0,n=t;i<n.length;i++)if(r(n[i],e))return!0;return!1}e.dotProduct2D=s,e.angleTo=function(t,e){var i=a(t),n=a(e),o=s(t,e);return Math.acos(o/i/n)},e.crossProduct2D=function(t,e){var i=a(t),n=a(e),o=s(t,e),r=Math.acos(o/i/n);return i*n*Math.sin(r)},e.crossProduct3D=function(t,e){var i=t.x,n=t.y,o=t.z,r=e.x,a=e.y,s=e.z;return{x:n*s-o*a,y:o*r-i*s,z:i*a-n*r}},e.sub2D=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e.applyMatrix=O,e.isBetween=f,e.getLineIntersect=function(t,e,i,n){var o,r=i.x-t.x,a=i.y-t.y,s=e.x-t.x,l=e.y-t.y,u=n.x-i.x,c=n.y-i.y,h=s*c-l*u,p=null;return.001*(s*s+l*l)*(u*u+c*c)<h*h&&(f(o=(r*c-a*u)/h,0,1)&&f((r*l-a*s)/h,0,1)&&(p={x:t.x+o*s,y:t.y+o*l})),p},e.isPointInPolygon=r,e.dist2=h,e.distBetweenPoints=function(t,e){return Math.sqrt(n(t.x-e.x)+n(t.y-e.y))},e.distBetweenPointLine=p,e.isPolygonIntersection=u,e.minDistBetweenConvexPolygon=function(i,n){if(u(i,n))return 0;var o=1/0,r=1/0;return c.each(i,function(t){var e=l(t,n);e<o&&(o=e)}),c.each(n,function(t){var e=l(t,i);e<r&&(r=e)}),Math.min(o,r)},e.bboxOnRotate=function(t){var e,i=t.getBBox(),n=i.minX,o=i.minY,r=i.maxX-i.minX,a=i.maxY-i.minY,s=t.attr("matrix"),l=O({x:0,y:0},e=s?[s[0],s[1],0,s[3],s[4],0,0,0,1]:[1,0,0,0,1,0,0,0,1]);l.x+=n,l.y+=o;var u=O({x:r,y:0},e);u.x+=n,u.y+=o;var c=O({x:0,y:a},e);c.x+=n,c.y+=o;var h=O({x:r,y:a},e);h.x+=n,h.y+=o;var p=[l,u,c,h];p.sort(function(t,e){return t.y-e.y});var f=p[0].y,d=p[p.length-1].y,g=[p[0],p[1]],y=[p[2],p[3]],v=g[0].x<g[1].x?g[0]:g[1],m=g[0].x<g[1].x?g[1]:g[0],x=y[0].x<y[1].x?y[0]:y[1],b=y[0].x<y[1].x?y[1]:y[0];p.sort(function(t,e){return t.x-e.x});var _=p[0].x,M=p[p.length-1].x;return{width:M-_,height:d-f,left:_,right:M,top:f,bottom:d,topLeft:v,topRight:m,bottomLeft:x,bottomRight:b,centerX:_+(M-_)/2,centerY:f+(d-f)/2}},e.lineSimplification=function(t){return t.length<5?t:function t(e,i){for(var n,o,r=-1/0,a=0,s=e.length-1,l=1;l<s;l++){var u=e[l],c={start:e[0],end:e[s]},h=p(u,c.start,c.end);r<h&&(r=h,a=l)}return i<r?(n=t(e.slice(0,a+1),i),o=t(e.slice(a,e.length),i),n.concat(o)):[e[0],e[e.length-1]]}(t,2)},e.getMedian=function(t){var e=c.clone(t);e.sort(function(t,e){return t-e});var i=Math.floor(e.length/2);return e.length%2?e[i]:(e[i-1]+e[i])/2},e.getMean=function(t){var e=0;return c.each(t,function(t){e+=t}),e/t.length},e.sturges=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},e.getStrokePoints=function(t,e,i,n,o){void 0===o&&(o=2);for(var r=[],a=t;a<=t+i;a+=o)r.push([a,e]);for(var s=e;s<=e+n;s+=o)r.push([t+i,s]);for(a=t+i;t<=a;a-=o)r.push([a,e+n]);for(s=e+n;e<=s;s-=o)r.push([t,s]);return r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(202)),r=n.__importDefault(i(203)),a=n.__importDefault(i(204)),s=n.__importDefault(i(205)),l=n.__importDefault(i(206)),u=n.__importDefault(i(207)),c={axis:o.default,label:a.default,guideLine:r.default},h={tooltip:u.default,label:l.default,axis:s.default};e.getComponent=function(t,e){return new c[t](e).config},e.getComponentStateMethod=function(t,e){return h[t][e]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),a=i(106);e.extractScale=function(t,e){if(!e)return t;var i,n,o,r;Object.prototype.hasOwnProperty.call(e,"tickCount")&&(t.tickCount=e.tickCount),Object.prototype.hasOwnProperty.call(e,"type")&&"dateTime"!==e.type&&(t.type=e.type),Object.prototype.hasOwnProperty.call(e,"tickInterval")&&("time"===e.type?t.tickInterval=(i=e.tickInterval,o=a.timeIntervals[(n=i.split(" "))[1]],r=parseInt(n[0],10),[o.format,r*o.value]):t.tickInterval=e.tickInterval),"time"===e.type&&e.mask&&(t.mask=e.mask),Object.prototype.hasOwnProperty.call(e,"min")&&(t.min=e.min),Object.prototype.hasOwnProperty.call(e,"max")&&(t.max=e.max),Object.prototype.hasOwnProperty.call(e,"minLimit")&&(t.minLimit=e.minLimit),Object.prototype.hasOwnProperty.call(e,"maxLimit")&&(t.maxLimit=e.maxLimit),Object.prototype.hasOwnProperty.call(e,"nice")&&(t.nice=e.nice),Object.prototype.hasOwnProperty.call(e,"formatter")&&(t.formatter=e.formatter),Object.prototype.hasOwnProperty.call(e,"exponent")&&(t.exponent=e.exponent),Object.prototype.hasOwnProperty.call(e,"base")&&(t.base=e.base),e.tickMethod&&(t.tickMethod=e.tickMethod)},e.trySetScaleMinToZero=function(t,e){var i=r.filter(e,function(t){return r.isNumber(t)}),n=Math.min.apply(Math,i),o=Math.max.apply(Math,i);0<n?r.isNil(t.min)&&(t.min=0):o<0&&r.isNil(t.max)&&(t.max=0)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(7);function r(t,e){return n.filter(t.geometries,function(t){return t.type===e})}function a(t,e,i){return void 0===i&&(i=0),Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i))*Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i))}e.getAllGeometryByType=r,e.getGeometryByType=function(t,e){return n.head(r(t,e))},e.getGeometryShapes=function(t){return n.map(t.elements,function(t){return t.shape})},e.checkOriginEqual=function(e,t,i){return n.some(t,function(t){return i(t.get(o.ORIGIN),e.get(o.ORIGIN))})},e.moveInPanel=function(t,e){var i=t.getBBox(),n=0,o=0;i.minX<e.minX?n=i.minX-e.minX:i.maxX>e.maxX&&(n=i.maxX-e.maxX),n&&t.attr("x",t.attr("x")-n),i.minY<e.minY?o=i.minY-e.minY:i.maxY>e.maxY&&(o=i.maxY-e.maxY),o&&t.attr("y",t.attr("y")-o)},e.getOverlapArea=a,e.checkShapeOverlap=function(t,e){var i=t.getBBox();return n.some(e,function(t){var e=t.getBBox();return 0<a(i,e,2)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);function o(t){var e=0===t.indexOf("#")?t.substr(1):t,i=[];return i.push(parseInt(e.substr(0,2),16)),i.push(parseInt(e.substr(2,2),16)),i.push(parseInt(e.substr(4,2),16)),i}function r(t){var e;return 1===(e=(e=Math.round(t)).toString(16)).length&&(e="0"+t),e}e.rgb2arr=o,e.toHex=r,e.arr2rgb=function(t){return"#"+(r(t[0])+r(t[1])+r(t[2]))},e.mappingColor=function(t,e){var i;return n.each(t,function(t){e>=t.from&&e<t.to&&(i=t.color)}),i},e.isContrastColorWhite=function(t){var e=o(t);return(299*e[0]+587*e[1]+114*e[2])/1e3<128}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=n,e.clone=function(t){var e=new a.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var i=new a.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,i){return t[0]=e,t[1]=i,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},e.subtract=o,e.multiply=r,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},e.distance=u,e.squaredDistance=c,e.length=h,e.squaredLength=p,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var i=e[0],n=e[1],o=i*i+n*n;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,i,n){var o=e[0],r=e[1];return t[0]=o+n*(i[0]-o),t[1]=r+n*(i[1]-r),t},e.random=function(t,e){e=e||1;var i=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},e.transformMat2=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o,t[1]=i[1]*n+i[3]*o,t},e.transformMat2d=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t},e.transformMat3=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[3]*o+i[6],t[1]=i[1]*n+i[4]*o+i[7],t},e.transformMat4=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t},e.rotate=function(t,e,i,n){var o=e[0]-i[0],r=e[1]-i[1],a=Math.sin(n),s=Math.cos(n);return t[0]=o*s-r*a+i[0],t[1]=o*a+r*s+i[1],t},e.angle=function(t,e){var i=t[0],n=t[1],o=e[0],r=e[1],a=i*i+n*n;0<a&&(a=1/Math.sqrt(a));var s=o*o+r*r;0<s&&(s=1/Math.sqrt(s));var l=(i*o+n*r)*a*s;return 1<l?0:l<-1?Math.PI:Math.acos(l)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var i=t[0],n=t[1],o=e[0],r=e[1];return Math.abs(i-o)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-r)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(r))};var l,a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(74));function n(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function r(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function s(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function u(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}function c(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function h(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function p(t){var e=t[0],i=t[1];return e*e+i*i}e.len=h,e.sub=o,e.mul=r,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=p,e.forEach=(l=n(),function(t,e,i,n,o,r){var a,s=void 0;for(e=e||2,i=i||0,a=n?Math.min(n*e+i,t.length):t.length,s=i;s<a;s+=e)l[0]=t[s],l[1]=t[s+1],o(l,l,r),t[s]=l[0],t[s+1]=l[1];return t})},function(t,e,i){"use strict";function o(t){return Math.min.apply(null,t)}function r(t){return Math.max.apply(null,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.distance=function(t,e,i,n){var o=t-i,r=e-n;return Math.sqrt(o*o+r*r)},e.isNumberEqual=function(t,e){return Math.abs(t-e)<.001},e.getBBoxByArray=function(t,e){var i=o(t),n=o(e);return{x:i,y:n,width:r(t)-i,height:r(e)-n}},e.getBBoxRange=function(t,e,i,n){return{minX:o([t,i]),maxX:r([t,i]),minY:o([e,n]),maxY:r([e,n])}},e.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(71);e.default=function(t){return n.default(t,"String")}},function(t,e,i){"use strict";i.r(e);var n=(o.prototype.on=function(t,e,i){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!i}),this},o.prototype.once=function(t,e){return this.on(t,e,!0),this},o.prototype.emit=function(r){for(var a=this,s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];function e(t){for(var e,i,n=t.length,o=0;o<n;o++)t[o]&&(i=(e=t[o]).callback,e.once&&(t.splice(o,1),0===t.length&&delete a._events[r],n--,o--),i.apply(a,s))}var i=this._events[r]||[],n=this._events["*"]||[];e(i),e(n)},o.prototype.off=function(t,e){if(t)if(e){for(var i=this._events[t]||[],n=i.length,o=0;o<n;o++)i[o].callback===e&&(i.splice(o,1),n--,o--);0===i.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},o.prototype.getEvents=function(){return this._events},o);function o(){this._events={}}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(19),a=i(49);e.default=function(t,e){if(t)if(r.default(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(a.default(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTAINER_CLASS="g2-tooltip",e.TITLE_CLASS="g2-tooltip-title",e.LIST_CLASS="g2-tooltip-list",e.LIST_ITEM_CLASS="g2-tooltip-list-item",e.MARKER_CLASS="g2-tooltip-marker",e.VALUE_CLASS="g2-tooltip-value",e.NAME_CLASS="g2-tooltip-name",e.CROSSHAIR_X="g2-tooltip-crosshair-x",e.CROSSHAIR_Y="g2-tooltip-crosshair-y"},function(t,e,i){"use strict";t.exports=function(){}},function(t,e,i){"use strict";i.r(e),i.d(e,"VERSION",function(){return vn}),i.d(e,"Chart",function(){return gi}),i.d(e,"View",function(){return di}),i.d(e,"Event",function(){return Qe}),i.d(e,"ComponentController",function(){return yi}),i.d(e,"Geometry",function(){return cn}),i.d(e,"GeometryLabel",function(){return yn}),i.d(e,"Interaction",function(){return ve}),i.d(e,"Facet",function(){return ft}),i.d(e,"InteractionAction",function(){return vt}),i.d(e,"registerComponentController",function(){return Ke}),i.d(e,"registerGeometry",function(){return ui}),i.d(e,"registerShape",function(){return on}),i.d(e,"registerShapeFactory",function(){return nn}),i.d(e,"getShapeFactory",function(){return rn}),i.d(e,"registerGeometryLabel",function(){return Zi}),i.d(e,"registerGeometryLabelLayout",function(){return $i}),i.d(e,"getGeometryLabel",function(){return Ui}),i.d(e,"getGeometryLabelLayout",function(){return Ki}),i.d(e,"getInteraction",function(){return Pe}),i.d(e,"registerInteraction",function(){return Te}),i.d(e,"registerAction",function(){return wt}),i.d(e,"getActionClass",function(){return Ot}),i.d(e,"getFacet",function(){return gt}),i.d(e,"registerFacet",function(){return yt}),i.d(e,"getTheme",function(){return Ge}),i.d(e,"registerTheme",function(){return Xe}),i.d(e,"registerEngine",function(){return p}),i.d(e,"getEngine",function(){return w}),i.d(e,"registerAnimation",function(){return Fi}),i.d(e,"getAnimation",function(){return Bi}),i.d(e,"LAYER",function(){return d}),i.d(e,"DIRECTION",function(){return y}),i.d(e,"Util",function(){return pl});var d,y,h,n,o,r,S=i(1),R=i(0);(r=d=d||{}).FORE="fore",r.MID="mid",r.BG="bg",(o=y=y||{}).TOP="top",o.TOP_LEFT="top-left",o.TOP_RIGHT="top-right",o.RIGHT="right",o.RIGHT_TOP="right-top",o.RIGHT_BOTTOM="right-bottom",o.LEFT="left",o.LEFT_TOP="left-top",o.LEFT_BOTTOM="left-bottom",o.BOTTOM="bottom",o.BOTTOM_LEFT="bottom-left",o.BOTTOM_RIGHT="bottom-right",o.NONE="none",(n=h=h||{}).AXIS="axis",n.GRID="grid",n.LEGEND="legend",n.TOOLTIP="tooltip",n.ANNOTATION="annotation",n.OTHER="other";var l,a,s,u;(u=l=l||{}).BEFORE_RENDER="beforerender",u.AFTER_RENDER="afterrender",u.BEFORE_PAINT="beforepaint",u.AFTER_PAINT="afterpaint",u.BEFORE_CHANGE_DATA="beforechangedata",u.AFTER_CHANGE_DATA="afterchangedata",u.BEFORE_CLEAR="beforeclear",u.AFTER_CLEAR="afterclear",u.BEFORE_DESTROY="beforedestroy",(s=a=a||{}).MOUSE_ENTER="plot:mouseenter",s.MOUSE_DOWN="plot:mousedown",s.MOUSE_MOVE="plot:mousemove",s.MOUSE_UP="plot:mouseup",s.MOUSE_LEAVE="plot:mouseleave",s.TOUCH_START="plot:touchstart",s.TOUCH_MOVE="plot:touchmove",s.TOUCH_END="plot:touchend",s.TOUCH_CANCEL="plot:touchcancel",s.CLICK="plot:click",s.DBLCLICK="plot:dblclick",s.CONTEXTMENU="plot:contextmenu",s.LEAVE="plot:leave",s.ENTER="plot:enter";var g=["color","shape","size"],c={};function w(t){var e=c[t];if(!e)throw new Error("G engine '"+t+"' is not exist, please register it at first.");return e}function p(t,e){c[t]=e}var C=i(5);function f(t){return"number"==typeof t&&!isNaN(t)}function j(t,e,i,n){var o,r,a,s=i,l=n;return e&&(r=t,a=getComputedStyle(r),s=(o={width:(r.clientWidth||parseInt(a.width))-parseInt(a.paddingLeft)-parseInt(a.paddingRight),height:(r.clientHeight||parseInt(a.height))-parseInt(a.paddingTop)-parseInt(a.paddingBottom)}).width?o.width:s,l=o.height?o.height:l),{width:Math.max(f(s)?s:1,1),height:Math.max(f(l)?l:1,1)}}function v(t){return Y[t.toLowerCase()]}function m(t,e){if(v(t))throw new Error("Attribute type '"+t+"' existed.");Y[t.toLowerCase()]=e}var x,b,_,M,O,A,P=(A=i(28).default,Object(S.__extends)(q,A),q.prototype.show=function(){this.visible||(this.visible=!0,this.changeVisible(!0))},q.prototype.hide=function(){this.visible&&(this.visible=!1,this.changeVisible(!1))},q.prototype.destroy=function(){this.off(),this.destroyed=!0},q.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},q),T=(i(8),i(51),i(78),function(t,e){return Object(R.isString)(e)?e:t.invert(t.scale(e))}),L=(W.prototype.mapping=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map(function(t,e){return i._toOriginParam(t,i.scales[e])});return this.callback.apply(this,n)},W.prototype.getLinearValue=function(t){var e=this.values.length-1,i=Math.floor(e*t),n=e*t-i,o=this.values[i];return o+((i===e?o:this.values[i+1])-o)*n},W.prototype.getNames=function(){for(var t=this.scales,e=this.names,i=Math.min(t.length,e.length),n=[],o=0;o<i;o+=1)n.push(e[o]);return n},W.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},W.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},W.prototype.defaultCallback=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){var i=n.scales[e];return"identity"===i.type?i.values[0]:n._getAttributeValue(i,t)})},W.prototype._parseCfg=function(t){var n=this,e=t.type,i=void 0===e?"base":e,o=t.names,r=void 0===o?[]:o,a=t.scales,s=void 0===a?[]:a,l=t.values,u=void 0===l?[]:l,c=t.callback;this.type=i,this.scales=s,this.values=u,this.names=r,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(c){var i=c.apply(void 0,t);if(!Object(R.isNil)(i))return[i]}return n.defaultCallback.apply(n,t)}},W.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var i=t.translate(e);return this.values[i%this.values.length]}var n=t.scale(e);return this.getLinearValue(n)},W.prototype._toOriginParam=function(t,e){return e.isLinear?t:Object(R.isArray)(t)?t.map(function(t){return T(e,t)}):T(e,t)},W),k=i(35),E=(O=L,Object(S.__extends)(H,O),H.prototype.getLinearValue=function(t){return this.gradient(t)},H),D=(M=L,Object(S.__extends)(V,M),V),B=(_=L,Object(S.__extends)(z,_),z.prototype.mapping=function(t,e){var i=this.scales,n=i[0],o=i[1];return Object(R.isNil)(t)||Object(R.isNil)(e)?[]:[Object(R.isArray)(t)?t.map(function(t){return n.scale(t)}):n.scale(t),Object(R.isArray)(e)?e.map(function(t){return o.scale(t)}):o.scale(e)]},z),F=(b=L,Object(S.__extends)(X,b),X.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},X),I=(x=L,Object(S.__extends)(G,x),G),N=i(17),Y={};function G(t){var e=x.call(this,t)||this;return e.type="size",e.names=["size"],e}function X(t){var e=b.call(this,t)||this;return e.type="shape",e.names=["shape"],e}function z(t){var e=_.call(this,t)||this;return e.names=["x","y"],e.type="position",e}function V(t){var e=M.call(this,t)||this;return e.type="opacity",e.names=["opacity"],e}function H(t){var e=O.call(this,t)||this;return e.type="color",e.names=["color"],Object(R.isString)(e.values)&&(e.linear=!0),e.gradient=k.default.gradient(e.values),e}function W(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}function q(t){var e=A.call(this)||this;e.destroyed=!1;var i=t.visible,n=void 0===i||i;return e.visible=n,e}m("Color",E),m("Opacity",D),m("Position",B),m("Shape",F),m("Size",I);var U=i(48),Z=i(13),K=Z.Axis.Line,$=Z.Axis.Circle,Q=Z.Grid.Line,J=Z.Grid.Circle,tt=Z.Legend.Category,et=Z.Legend.Continuous,it=Z.Tooltip.Html,nt=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function ot(t){return t.alias||t.field}function rt(t,i){var e,n,o={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?o=function(){var t,e;switch(i){case y.TOP:t={x:0,y:1},e={x:1,y:1};break;case y.RIGHT:t={x:1,y:0},e={x:1,y:1};break;case y.BOTTOM:t={x:0,y:0},e={x:1,y:0};break;case y.LEFT:t={x:0,y:0},e={x:0,y:1};break;default:t=e={x:0,y:0}}return{start:t,end:e}}():t.isPolar&&(n=t.isTransposed?(e={x:0,y:0},{x:1,y:0}):(e={x:0,y:0},{x:0,y:1}),o={start:e,end:n});var r=o.start,a=o.end;return{start:t.convert(r),end:t.convert(a)}}function at(t,e){var i,n,o=t.start,r=t.end;return i=t.start,n=t.end,i.x===n.x?0<(o.y-r.y)*(e.x-o.x)?1:-1:0<(r.x-o.x)*(o.y-e.y)?-1:1}function st(t,e){return Object(R.get)(t,["components","axis",e],{})}function lt(t){var e=t.startAngle,i=t.endAngle;return{center:t.circleCenter,radius:t.polarRadius,startAngle:e,endAngle:i}}function ut(t,e){return Object(R.isBoolean)(t)?!1!==t&&{}:Object(R.get)(t,[e])}function ct(t,e){return Object(R.get)(t,"position",e)}function ht(t,e){return Object(R.get)(e,["title","text"],ot(t))}var pt,ft=(Mt.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},Mt.prototype.render=function(){this.renderViews()},Mt.prototype.update=function(){},Mt.prototype.clear=function(){this.clearFacetViews()},Mt.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},Mt.prototype.facetToView=function(t){var e=t.region,i=t.data,n=t.padding,o=void 0===n?this.cfg.padding:n,r=this.view.createView({region:e,padding:o});r.data(i||[]),t.view=r,this.beforeEachView(r,t);var a=this.cfg.eachView;return a&&a(r,t),this.afterEachView(r,t),r},Mt.prototype.createContainer=function(){return this.view.getLayer(d.FORE).addGroup()},Mt.prototype.renderViews=function(){this.createFacetViews()},Mt.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},Mt.prototype.clearFacetViews=function(){var e=this;Object(R.each)(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},Mt.prototype.getFieldValues=function(t,i){var n=[],o={};return Object(R.each)(t,function(t){var e=t[i];Object(R.isNil)(e)||o[e]||(n.push(e),o[e]=!0)}),n},Mt.prototype.getRegion=function(t,e,i,n){var o=1/(0===e?1:e),r=1/(0===t?1:t);return{start:{x:o*i,y:r*n},end:{x:o*(i+1),y:r*(n+1)}}},Mt.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},Mt.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},Mt.prototype.processAxis=function(t,e){var i,n,o,r,a,s,l=t.getOptions(),u=l.coordinate,c=t.geometries;"rect"===Object(R.get)(u,"type","rect")&&c.length&&(Object(R.isNil)(l.axes)&&(l.axes={}),i=l.axes,o=(n=c[0].getXYFields())[0],r=n[1],a=ut(i,o),s=ut(i,r),!1!==a&&(l.axes[o]=this.getXAxisOption(o,i,a,e)),!1!==s&&(l.axes[r]=this.getYAxisOption(r,i,s,e)))},Mt.prototype.getFacetDataFilter=function(t){return function(n){return Object(R.every)(t,function(t){var e=t.field,i=t.value;return!(!Object(R.isNil)(i)&&e)||n[e]===i})}},Mt),dt={},gt=function(t){return dt[Object(R.lowerCase)(t)]},yt=function(t,e){dt[Object(R.lowerCase)(t)]=e},vt=(_t.prototype.applyCfg=function(t){Object(R.assign)(this,t)},_t.prototype.init=function(){this.applyCfg(this.cfg)},_t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},_t),mt=(pt=vt,Object(S.__extends)(bt,pt),bt.prototype.execute=function(){this.callback&&this.callback(this.context)},bt.prototype.destroy=function(){pt.prototype.destroy.call(this),this.callback=null},bt),xt={};function bt(){return null!==pt&&pt.apply(this,arguments)||this}function _t(t,e){this.context=t,this.cfg=e,t.addAction(this)}function Mt(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Object(R.deepMix)({},this.getDefaultCfg(),e)}function Ot(t){var e=xt[t];return Object(R.get)(e,"ActionClass")}function wt(t,e,i){xt[t]={ActionClass:e,cfg:i}}var Ct=i(2);function St(t,e,i,n){return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}function jt(t,e,i,n,o,r){void 0===r&&(r=0);var a=St(t,e,i,n),s=St(t,e,i,o),l=St(t,e,r,n),u=St(t,e,r,o);if(o-n==2*Math.PI){var c=St(t,e,i,n+Math.PI),h=St(t,e,r,n+Math.PI),p=[["M",a.x,a.y],["A",i,i,0,1,1,c.x,c.y],["A",i,i,0,1,1,s.x,s.y],["M",l.x,l.y]];return r&&(p.push(["A",r,r,0,1,0,h.x,h.y]),p.push(["A",r,r,0,1,0,u.x,u.y])),p.push(["M",a.x,a.y]),p.push(["Z"]),p}var f=o-n<=Math.PI?0:1,d=[["M",a.x,a.y],["A",i,i,0,f,1,s.x,s.y],["L",u.x,u.y]];return r&&d.push(["A",r,r,0,f,0,l.x,l.y]),d.push(["L",a.x,a.y]),d.push(["Z"]),d}function At(t,e,i,n,o){var r=St(t,e,i,n),a=St(t,e,i,o);if(Object(R.isNumberEqual)(o-n,2*Math.PI)){var s=St(t,e,i,n+Math.PI);return[["M",r.x,r.y],["A",i,i,0,1,1,s.x,s.y],["A",i,i,0,1,1,r.x,r.y],["A",i,i,0,1,0,s.x,s.y],["A",i,i,0,1,0,r.x,r.y],["Z"]]}var l=o-n<=Math.PI?0:1;return[["M",r.x,r.y],["A",i,i,0,l,1,a.x,a.y]]}function Pt(t,e){var i,n=function(t){if(Object(R.isEmpty)(t))return null;var e=t[0].x,i=t[0].x,n=t[0].y,o=t[0].y;return Object(R.each)(t,function(t){e=e>t.x?t.x:e,i=i<t.x?t.x:i,n=n>t.y?t.y:n,o=o<t.y?t.y:o}),{minX:e,maxX:i,minY:n,maxY:o,centerX:(e+i)/2,centerY:(n+o)/2}}(t.points),o=e.startAngle,r=e.endAngle-o,a=e.isTransposed?(i=n.maxY*r,n.minY*r):(i=n.maxX*r,n.minX*r);return{startAngle:a+=o,endAngle:i+=o}}function Tt(t,e){var i=t.attr(),n=e.attr();return Object(R.each)(i,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n}function Lt(t,e,i){var n=Math.min(e,i),o=Math.max(e,i);return n<=t&&t<=o}function kt(e,t){return t.forEach(function(t){delete e[t]}),e}function Et(t,e,i){void 0===e&&(e=[]),void 0===i&&(i={});for(var n=0,o=t;n<o.length;n++){var r=o[n];i[r]||(e.push(r),i[r]=!0)}return e}function Dt(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),i=t.convert({x:1,y:0});return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function Bt(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function Ft(t,e){var i,n,o,r=!1;return t&&(r="theta"===t.type?(i=t.start,n=t.end,Lt(e.x,i.x,n.x)&&Lt(e.y,i.y,n.y)):Lt((o=t.invert(e)).x,0,1)&&Lt(o.y,0,1)),r}function It(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)}function Rt(t,i){void 0===i&&(i=0);var e,n=t.start,o=t.end,r=t.getWidth(),a=t.getHeight();if(t.isPolar){var s=t.startAngle,l=t.endAngle,u=t.getCenter(),c=t.getRadius();return{type:"path",startState:{path:jt(u.x,u.y,c+i,s,s)},endState:function(t){var e=(l-s)*t+s;return{path:jt(u.x,u.y,c+i,s,e)}},attrs:{path:jt(u.x,u.y,c+i,s,l)}}}return e=t.isTransposed?{height:a+2*i}:{width:r+2*i},{type:"rect",startState:{x:n.x-i,y:o.y-i,width:t.isTransposed?r+2*i:0,height:t.isTransposed?0:a+2*i},endState:e,attrs:{x:n.x-i,y:o.y-i,width:r+2*i,height:a+2*i}}}function Nt(t,e){for(var i=[t[0]],n=1,o=t.length;n<o;n+=2){var r=e.convert({x:t[n],y:t[n+1]});i.push(r.x,r.y)}return i}function Yt(t,e,i){for(var n=!!e,o=[],r=0,a=t.length;r<a;r+=2)o.push([t[r],t[r+1]]);for(var s,l,u,c=function(t,e,i){var n,o,r=[],a=!!i;if(a){c=[1/0,1/0],h=[-1/0,-1/0];for(var s=0,l=t.length;s<l;s++)var u=t[s],c=Ct.vec2.min([],c,u),h=Ct.vec2.max([],h,u);c=Ct.vec2.min([],c,i[0]),h=Ct.vec2.max([],h,i[1])}s=0;for(var p=t.length;s<p;s++){if(u=t[s],e)n=t[s?s-1:p-1],o=t[(s+1)%p];else{if(0===s||s===p-1){r.push(u);continue}n=t[s-1],o=t[s+1]}var f=[],f=Ct.vec2.sub(f,o,n);f=Ct.vec2.scale(f,f,.4);var d=Ct.vec2.distance(u,n),g=Ct.vec2.distance(u,o),y=d+g;0!==y&&(d/=y,g/=y);var v=Ct.vec2.scale([],f,-d),m=Ct.vec2.scale([],f,g),x=Ct.vec2.add([],u,v),b=Ct.vec2.add([],u,m);a&&(x=Ct.vec2.max([],x,c),x=Ct.vec2.min([],x,h),b=Ct.vec2.max([],b,c),b=Ct.vec2.min([],b,h)),r.push(x),r.push(b)}return e&&r.push(r.shift()),r}(o,n,i),h=o.length,p=[],r=0;r<h-1;r++)s=c[2*r],l=c[2*r+1],u=o[r+1],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return n&&(s=c[h],l=c[h+1],u=o[0],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]])),p}function Gt(t,e){return function(t,e){var i=[];if(t.length){i.push(["M",t[0].x,t[0].y]);for(var n=1,o=t.length;n<o;n+=1){var r=t[n];i.push(["L",r.x,r.y])}e&&i.push(["Z"])}return i}(t,e)}function Xt(t,e,i){var n=[],o=t[0],r=null;if(t.length<=2)return Gt(t,e);for(var a=0,s=t.length;a<s;a++){var l=t[a];r&&r.x===l.x&&r.y===l.y||(n.push(l.x),n.push(l.y),r=l)}var u=Yt(n,e,i||[[0,0],[1,1]]);return u.unshift(["M",o.x,o.y]),u}function zt(v,m){var x,b,o,_=[];return Object(R.each)(m,function(t,e){switch(t[0].toLowerCase()){case"m":case"c":case"q":_.push(Nt(t,v));break;case"l":x=m[e-1],b=t,(v.isTransposed?x[x.length-2]===b[1]:x[x.length-1]===b[2])?_=_.concat((r=(i=v).isTransposed,a=i.startAngle,s=i.endAngle,l={x:x[1],y:x[2]},u={x:b[1],y:b[2]},c=[],h=r?"y":"x",p=Math.abs(u[h]-l[h])*(s-a),f=l[h]<=u[h]?1:0,d=p>Math.PI?1:0,g=i.convert(u),.5<=(y=Bt(i,g))&&(p==2*Math.PI&&(n={x:(u.x+l.x)/2,y:(u.y+l.y)/2},o=i.convert(n),c.push(["A",y,y,0,d,f,o.x,o.y])),c.push(["A",y,y,0,d,f,g.x,g.y])),c)):_.push(Nt(t,v));break;case"z":default:_.push(t)}var i,n,o,r,a,s,l,u,c,h,p,f,d,g,y}),o=_,Object(R.each)(o,function(t,e){var i,n;"a"===t[0].toLowerCase()&&(i=o[e-1],(n=o[e+1])&&"a"===n[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M"))}),_}function Vt(t){void 0===t&&(t=0);var e=Object(R.isArray)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Object(S.__spreadArrays)(e,e);break;case 3:e=Object(S.__spreadArrays)(e,[e[1]]);break;default:e=e.slice(0,4)}return e}var Ht=(Wt.fromRange=function(t,e,i,n){return new Wt(t,e,i-t,n-e)},Object.defineProperty(Wt.prototype,"minX",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"minY",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!0,configurable:!0}),Object.defineProperty(Wt.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Wt.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},Wt.prototype.clone=function(){return new Wt(this.x,this.y,this.width,this.height)},Wt.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return Object(R.each)(t,function(t){i.x=Math.min(t.x,i.x),i.y=Math.min(t.y,i.y),i.width=Math.max(t.maxX,i.maxX)-i.x,i.height=Math.max(t.maxY,i.maxY)-i.y}),i},Wt.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return Object(R.each)(t,function(t){i.x=Math.max(t.x,i.x),i.y=Math.max(t.y,i.y),i.width=Math.min(t.maxX,i.maxX)-i.x,i.height=Math.min(t.maxY,i.maxY)-i.y}),i},Wt.prototype.cut=function(t,e){var i=t.width,n=t.height;switch(e){case y.TOP:case y.TOP_LEFT:case y.TOP_RIGHT:return Wt.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case y.RIGHT:case y.RIGHT_TOP:case y.RIGHT_BOTTOM:return Wt.fromRange(this.minX,this.minY,this.maxX-i,this.maxY);case y.BOTTOM:case y.BOTTOM_LEFT:case y.BOTTOM_RIGHT:return Wt.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case y.LEFT:case y.LEFT_TOP:case y.LEFT_BOTTOM:return Wt.fromRange(this.minX+i,this.minY,this.maxX,this.maxY);default:return this}},Wt.prototype.shrink=function(t){var e=Vt(t),i=e[0],n=e[1],o=e[2],r=e[3];return new Wt(this.x+r,this.y+i,this.width-r-n,this.height-i-o)},Wt.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},Wt.prototype.size=function(){return this.width*this.height},Wt);function Wt(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.height=n,this.width=i}var qt=i(156),Ut=i.n(qt);function Zt(t,e){var i=t.event.target.getCanvasBBox();return i.width>=e||i.height>=e?i:null}function Kt(t){var e,i=t.event.target;return i&&(e=i.get("element")),e}function $t(t){var e,i=t.event.target;return i&&(e=i.get("delegateObject")),e}function Qt(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function Jt(t){return t&&t.component&&t.component.isList()}function te(t){return t&&t.component&&t.component.isSlider()}function ee(t){var e=t.event.target;return e&&"mask"===e.get("name")}function ie(t,e){var i,n,o,r,a,s;if("path"===t.event.target.get("type")){var l=(r=e,a=t.event.target,(s=a.getCanvasBBox()).width>=r||s.height>=r?a.attr("path"):null);if(!l)return;return i=l,n=oe(t.view),o=le(i),n.filter(function(t){var e,i,n=t.shape;return i="path"===n.get("type")?le(n.attr("path")):[[(e=n.getCanvasBBox()).minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]],Ut()(o,i)})}var u=Zt(t,e);return u?se(t.view,u):null}function ne(t,e,i){var n=Zt(t,i);if(!n)return null;var o=t.view,r=fe(o,e,{x:n.x,y:n.y}),a=fe(o,e,{x:n.maxX,y:n.maxY});return se(e,{minX:r.x,minY:r.y,maxX:a.x,maxY:a.y})}function oe(t){var e=t.geometries,i=[];return Object(R.each)(e,function(t){var e=t.elements;i=i.concat(e)}),t.views&&t.views.length&&Object(R.each)(t.views,function(t){i=i.concat(oe(t))}),i}function re(t,i){var e=t.geometries,n=[];return Object(R.each)(e,function(t){var e=t.getElementsBy(function(t){return t.hasState(i)});n=n.concat(e)}),n}function ae(t,e){var i=t.getModel().data;return Object(R.isArray)(i)?i[0][e]:i[e]}function se(t,i){var e=oe(t),n=[];return Object(R.each)(e,function(t){var e=t.shape.getCanvasBBox();e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY||n.push(t)}),n}function le(t){var n=[];return Object(R.each)(t,function(t){if("A"!==t[0])for(var e=1;e<t.length;e+=2)n.push([t[e],t[e+1]]);else{var i=t.length;n.push([t[i-2],t[i-1]])}}),n}function ue(t){return t.getComponents().map(function(t){return t.component})}function ce(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}function he(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function pe(e){var t=e.parent,i=null;return t&&(i=t.views.filter(function(t){return t!==e})),i}function fe(t,e,i){var n,o=(n=i,t.getCoordinate().invert(n));return e.getCoordinate().convert(o)}function de(t,e,i,n){var o=!1;return Object(R.each)(t,function(t){if(t[i]===e[i]&&t[n]===e[n])return!(o=!0)}),o}function ge(t,e){var i=t.getScaleByField(e);return!i&&t.views&&Object(R.each)(t.views,function(t){if(i=ge(t,e))return!1}),i}var ye=(xe.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},xe.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},xe.prototype.addAction=function(t){this.actions.push(t)},xe.prototype.removeAction=function(t){var e=this.actions,i=this.actions.indexOf(t);0<=i&&e.splice(i,1)},xe.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},xe.prototype.getCurrentShape=function(){return Object(R.get)(this.event,["gEvent","shape"])},xe.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},xe.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},xe.prototype.isInComponent=function(i){var t=ue(this.view),n=this.getCurrentPoint();return!!n&&!!t.find(function(t){var e=t.getBBox();return(!i||t.get("name")===i)&&he(e,n)})},xe.prototype.destroy=function(){this.view=null,this.event=null,Object(R.each)(this.actions.slice(),function(t){t.destroy()}),this.actions=null,this.cacheMap=null},xe),ve=(me.prototype.init=function(){this.initEvents()},me.prototype.initEvents=function(){},me.prototype.clearEvents=function(){},me.prototype.destroy=function(){this.clearEvents()},me);function me(t,e){this.view=t,this.cfg=e}function xe(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}function be(t,e){var i,n,o,r=t.split(":"),a=r[0],s=e.getAction(a)||(n=xt[i=a],o=null,n&&((o=new n.ActionClass(e,n.cfg)).name=i,o.init()),o);if(!s)throw new Error("There is no action named "+a);return{action:s,methodName:r[1]}}function _e(t){var e=t.action,i=t.methodName;if(!e[i])throw new Error("Action("+e.name+") doesn't have a method called "+i);e[i]()}var Me,Oe="start",we="showEnable",Ce="processing",Se=(Me=ve,Object(S.__extends)(Ae,Me),Ae.prototype.init=function(){this.initContext(),Me.prototype.init.call(this)},Ae.prototype.destroy=function(){Me.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},Ae.prototype.initEvents=function(){var n=this;Object(R.each)(this.steps,function(t,i){Object(R.each)(t,function(t){var e=n.getActionCallback(i,t);e&&n.bindEvent(t.trigger,e)})})},Ae.prototype.clearEvents=function(){var n=this;Object(R.each)(this.steps,function(t,i){Object(R.each)(t,function(t){var e=n.getActionCallback(i,t);e&&n.offEvent(t.trigger,e)})})},Ae.prototype.initContext=function(){var t=this.view,o=new ye(t);this.context=o;var e=this.steps;Object(R.each)(e,function(t){Object(R.each)(t,function(e){var t,i,n;Object(R.isFunction)(e.action)?e.actionObject={action:(i=e.action,(n=new mt(o)).callback=i,n.name="callback",n),methodName:"execute"}:Object(R.isString)(e.action)?e.actionObject=be(e.action,o):Object(R.isArray)(e.action)&&(t=e.action,e.actionObject=[],Object(R.each)(t,function(t){e.actionObject.push(be(t,o))}))})})},Ae.prototype.isAllowStep=function(t){var e=this.currentStepName,i=this.steps;if(e===t)return!0;if(t===we)return!0;if(t===Ce)return e===Oe;if(t===Oe)return e!==Ce;if("end"===t)return e===Ce||e===Oe;if("rollback"===t){if(i.end)return"end"===e;if(e===Oe)return!0}return!1},Ae.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var i=this.getKey(t,e);return(!e.once||!this.emitCaches[i])&&(!e.isEnable||e.isEnable(this.context))}return!1},Ae.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},Ae.prototype.afterExecute=function(t,e){t!==we&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,e);this.emitCaches[i]=!0},Ae.prototype.getKey=function(t,e){return t+e.trigger+e.action},Ae.prototype.getActionCallback=function(t,i){var n=this,o=this.context,e=this.callbackCaches,r=i.actionObject;if(i.action&&r){var a,s=this.getKey(t,i);return e[s]||(a=function(e){o.event=e,n.isAllowExcute(t,i)?(Object(R.isArray)(r)?Object(R.each)(r,function(t){o.event=e,_e(t)}):(o.event=e,_e(r)),n.afterExecute(t,i),i.callback&&(o.event=e,i.callback(o))):o.event=null},i.debounce?e[s]=Object(R.debounce)(a,i.debounce.wait,i.debounce.immediate):i.throttle?e[s]=Object(R.throttle)(a,i.throttle.wait,{leading:i.throttle.leading,trailing:i.throttle.trailing}):e[s]=a),e[s]}return null},Ae.prototype.bindEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.addEventListener(i[1],e):"document"===i[0]?document.addEventListener(i[1],e):this.view.on(t,e)},Ae.prototype.offEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.removeEventListener(i[1],e):"document"===i[0]?document.removeEventListener(i[1],e):this.view.off(t,e)},Ae),je={};function Ae(t,e){var i=Me.call(this,t,e)||this;return i.callbackCaches={},i.emitCaches={},i.steps=e,i}function Pe(t){return je[Object(R.lowerCase)(t)]}function Te(t,e){je[Object(R.lowerCase)(t)]=e}var Le=i(30);function ke(t){var e,a={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},i={title:{autoRotate:!0,position:"center",style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily},offset:32},label:{autoRotate:!0,autoHide:!0,offset:16,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},o={title:null,marker:{symbol:"circle",style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1};return{defaultColor:t.brandColor,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var i=Pt(t.getModel(),e),n=(i.startAngle+i.endAngle)/2,o=7.5*Math.cos(n),r=7.5*Math.sin(n);return{matrix:Object(Ct.transform)(null,[["t",o,r]])}}return a.interval.selected}}},"hollow-rect":{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},line:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},tick:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},funnel:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}},pyramid:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},line:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},dot:{default:{style:Object(S.__assign)(Object(S.__assign)({},a.line.default),{lineDash:[1,1]})},active:{style:Object(S.__assign)(Object(S.__assign)({},a.line.active),{lineDash:[1,1]})},inactive:{style:Object(S.__assign)(Object(S.__assign)({},a.line.inactive),{lineDash:[1,1]})},selected:{style:Object(S.__assign)(Object(S.__assign)({},a.line.selected),{lineDash:[1,1]})}},dash:{default:{style:Object(S.__assign)(Object(S.__assign)({},a.line.default),{lineDash:[5.5,1]})},active:{style:Object(S.__assign)(Object(S.__assign)({},a.line.active),{lineDash:[5.5,1]})},inactive:{style:Object(S.__assign)(Object(S.__assign)({},a.line.inactive),{lineDash:[5.5,1]})},selected:{style:Object(S.__assign)(Object(S.__assign)({},a.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hvh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}},polygon:{polygon:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},point:{circle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},square:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},bowtie:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},diamond:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},hexagon:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},triangle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"triangle-down":{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"hollow-circle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-square":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-bowtie":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-diamond":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-hexagon":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle-down":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},cross:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},tick:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},plus:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},hyphen:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},line:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}}},area:{area:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},smooth:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},line:{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}},"smooth-line":{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}}},schema:{candle:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},box:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}}},edge:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},arc:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}}},components:{axis:{top:Object(R.deepMix)({},i,{position:"top",grid:null,title:null}),bottom:Object(R.deepMix)({},i,{position:"bottom",grid:null,title:null}),left:Object(R.deepMix)({},i,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n}),right:Object(R.deepMix)({},i,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n}),circle:Object(R.deepMix)({},i,{title:null,label:{offset:8},grid:Object(R.deepMix)({},n,{line:{type:"line"}})}),radius:Object(R.deepMix)({},i,{title:null,label:{offset:8},grid:Object(R.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:Object(R.deepMix)({},o,{layout:"vertical"}),left:Object(R.deepMix)({},o,{layout:"vertical"}),top:Object(R.deepMix)({},o,{layout:"horizontal"}),bottom:Object(R.deepMix)({},o,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:((e={})[""+Le.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:t.tooltipContainerBorderRadius+"px",color:t.tooltipTextFillColor,fontSize:t.tooltipTextFontSize+"px",fontFamily:t.fontFamily,lineHeight:t.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},e[""+Le.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},e[""+Le.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},e[""+Le.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e[""+Le.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e[""+Le.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var Ee="#000",De="#595959",Be="#8C8C8C",Fe="#BFBFBF",Ie="#D9D9D9",Re="#FFFFFF",Ne=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Ye={default:ke({brandColor:Ne[0],paletteQualitative10:Ne,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:Fe,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:De,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Fe,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Ie,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Be,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Ie,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Be,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ne[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:De,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Ie,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Be,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Fe,annotationArcBorderColor:Ie,annotationArcBorder:.5,annotationLineBorderColor:Fe,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:De,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#F2F2F2",annotationTextBorder:1.5,annotationRegionFillColor:Ee,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Fe,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:De,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:De,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Re,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Fe,pointFillColor:Ne[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Re,pointBorderOpacity:1,pointActiveBorderColor:Ee,pointSelectedBorder:2,pointSelectedBorderColor:Ee,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ne[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Re,hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ee,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ee,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ne[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ne[0],areaFillOpacity:.25,areaActiveFillColor:Ne[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ne[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ne[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ee,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ee,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ne[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ee,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ee,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ne[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Re,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ee,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ee,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3})};function Ge(t){return Object(R.get)(Ye,Object(R.lowerCase)(t),Ye.default)}function Xe(t,e){Ye[Object(R.lowerCase)(t)]=e}function ze(t,e,i){var n=i.translate(t),o=i.translate(e);return Object(R.isNumberEqual)(n,o)}function Ve(t,e,i){var n=i.coordinate,o=i.getYScale(),r=o.field,a=n.invert(e),s=o.invert(a.y);return Object(R.find)(t,function(t){var e=t._origin;return e[r][0]<=s&&e[r][1]>=s})||t[t.length-1]}var He=Object(R.memoize)(function(t){if(t.isCategory)return 1;for(var e=t.values,i=e.length,n=t.translate(e[0]),o=n,r=0;r<i;r++){var a=e[r],s=t.translate(a);s<n&&(n=s),o<s&&(o=s)}return(o-n)/(i-1)});function We(t){for(var e,i,n,o=0,r=(i=t,n=Object(R.values)(i.attributes),Object(R.filter)(n,function(t){return Object(R.contains)(g,t.type)}));o<r.length;o++){var a=r[o],s=a.getScale(a.type);if(s&&s.isLinear){e=s;break}}var l=t.getXScale(),u=t.getYScale();return e||u||l}function qe(t,e,i){if(0===e.length)return null;var n=i.type,o=i.getXScale(),r=i.getYScale(),a=o.field,s=r.field,l=null;if("heatmap"===n||"point"===n){for(var u=i.coordinate.invert(t),c=o.invert(u.x),h=r.invert(u.y),p=1/0,f=0;f<e.length;f++){var d=e[f],g=d._origin,y=Math.pow(g[a]-c,2)+Math.pow(g[s]-h,2);y<p&&(p=y,l=d)}return l}var v,m,x,b,_,M,O,w=e[0],C=e[e.length-1],S=(v=t,m=i.coordinate,x=i.getXScale(),b=x.range,_=b[b.length-1],M=b[0],O=m.invert(v).x,m.isPolar&&(1+_)/2<O&&(O=M),x.translate(x.invert(O))),j=w._origin[a],A=w._origin[s],P=C._origin[a],T=r.isLinear&&Object(R.isArray)(A);if(Object(R.isArray)(j)){for(f=0;f<e.length;f++)if(g=(L=e[f])._origin,o.translate(g[a][0])<=S&&o.translate(g[a][1])>=S){if(!T){l=L;break}Object(R.isArray)(l)||(l=[]),l.push(L)}Object(R.isArray)(l)&&(l=Ve(l,t,i))}else{var L,k=void 0;if(o.isLinear||"timeCat"===o.type){if((S>o.translate(P)||S<o.translate(j))&&(S>o.max||S<o.min))return null;for(var E=0,D=e.length-1,B=void 0;E<=D;){var F=e[B=Math.floor((E+D)/2)]._origin[a];if(ze(F,S,o))return e[B];o.translate(F)<=o.translate(S)?(E=B+1,C=e[B],k=e[B+1]):(0===D&&(C=e[0]),D=B-1)}}else{for(f=0;f<e.length;f++){if(ze((g=(L=e[f])._origin)[a],S,o)){if(!T){l=L;break}Object(R.isArray)(l)||(l=[]),l.push(L)}else o.translate(g[a])<=S&&(C=L,k=e[f+1])}Object(R.isArray)(l)&&(l=Ve(l,t,i))}C&&k&&Math.abs(o.translate(C._origin[a])-S)>Math.abs(o.translate(k._origin[a])-S)&&(C=k)}var I=He(i.getXScale());return!l&&Math.abs(o.translate(C._origin[a])-S)<=I/2&&(l=C),l}function Ue(n,t,o){void 0===o&&(o="");var e,i,r,a=n._origin,s=function(t,e){var i=o;o||(i=e.getAttribute("position").getFields()[0]);var n=e.scales;return n[i]?n[i].getText(t[i]):Object(R.hasKey)(t,i)?t[i]:i}(a,t),l=t.tooltipOption,u=t.theme.defaultColor,c=[];function h(t,e){var i;Object(R.isNil)(e)||""===e||(i={title:s,data:a,mappingData:n,name:t||s,value:e,color:n.color||u,marker:!0},c.push(i))}if(Object(R.isObject)(l)){var p=l.fields,f=l.callback;if(f){var d=p.map(function(t){return n._origin[t]}),g=f.apply(void 0,d),y=Object(S.__assign)({data:n._origin,mappingData:n,title:s,color:n.color||u,marker:!0},g);c.push(y)}else for(var v=t.scales,m=0,x=p;m<x.length;m++){var b,_=x[m];Object(R.isNil)(a[_])||h(ot(b=v[_]),e=b.getText(a[_]))}}else{var M=We(t);Object(R.isNil)(a[M.field])||(r=a[(i=M).field],e=Object(R.isArray)(r)?r.map(function(t){return i.getText(t)}).join("-"):i.getText(r),h(function(t,e){var i,n=e.getGroupScales();if(n.length&&(i=n[0]),i){var o=i.field;return i.getText(t[o])}return ot(We(e))}(a,t),e))}return c}var Ze={};function Ke(t,e){Ze[t]=e}var $e=(ii.prototype.update=function(t){return this.option=this.wrapperOption(t),this},ii.prototype.hasAction=function(e){var t=this.option.actions;return Object(R.some)(t,function(t){return t[0]===e})},ii.prototype.create=function(t,e){var i=this.option,n=i.type,o=i.cfg,r="theta"===n,a=Object(S.__assign)({start:t,end:e},o),s=Object(U.getCoordinate)(r?"polar":n);return this.coordinate=new s(a),this.coordinate.type=n,r&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},ii.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},ii.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},ii.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},ii.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},ii.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},ii.prototype.getOption=function(){return this.option},ii.prototype.getCoordinate=function(){return this.coordinate},ii.prototype.wrapperOption=function(t){return Object(S.__assign)({type:"rect",actions:[],cfg:{}},t)},ii.prototype.execActions=function(o){var r=this,t=this.option.actions;Object(R.each)(t,function(t){var e,i=t[0],n=t.slice(1);(Object(R.isNil)(o)||o.includes(i))&&(e=r.coordinate)[i].apply(e,n)})},ii),Qe=(Object.defineProperty(ei.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!0,configurable:!0}),Object.defineProperty(ei.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!0,configurable:!0}),ei.prototype.toString=function(){return"[Event (type="+this.type+")]"},ei.prototype.clone=function(){return new ei(this.view,this.gEvent,this.data)},ei),Je=(ti.prototype.shrink=function(t){var e=t[0],i=t[1],n=t[2],o=t[3];return this.top+=e,this.right+=i,this.bottom+=n,this.left+=o,this},ti.prototype.inc=function(t,e){var i=t.width,n=t.height;switch(e){case y.TOP:case y.TOP_LEFT:case y.TOP_RIGHT:this.top+=n;break;case y.RIGHT:case y.RIGHT_TOP:case y.RIGHT_BOTTOM:this.right+=i;break;case y.BOTTOM:case y.BOTTOM_LEFT:case y.BOTTOM_RIGHT:this.bottom+=n;break;case y.LEFT:case y.LEFT_TOP:case y.LEFT_BOTTOM:this.left+=i}return this},ti.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},ti);function ti(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.top=t,this.right=e,this.bottom=i,this.left=n}function ei(t,e,i){this.view=t,this.gEvent=e,this.data=i,this.type=e.type}function ii(t){this.option=this.wrapperOption(t)}function ni(t){var e=t.getController("axis"),i=t.getController("legend"),n=t.getController("annotation"),o=t.getController("slider"),r=function(t){var e,i=t.padding;if(e=i,Object(R.isNumber)(e)||Object(R.isArray)(e))return Vt(i);var s=t.viewBBox,l=new Je;return Object(R.each)(t.getComponents(),function(t){var e,i,n,o,r=t.component,a=t.type;a!==h.GRID&&a!==h.TOOLTIP&&(e=r.getLayoutBBox(),i=new Ht(e.x,e.y,e.width,e.height),a===h.AXIS?(n=i.exceed(s),l.shrink(n)):(o=t.direction,l.inc(i,o)))}),l.getPadding()}(t),a=t.viewBBox.shrink(r);t.coordinateBBox.isEqual(a)?n&&n.layout():(t.coordinateBBox=a,t.adjustCoordinate(),[e,o,i,n].forEach(function(t){t&&t.layout()}))}var oi,ri=(li.prototype.createScale=function(t,e,i,n){var o,r,a=i,s=this.getScaleMeta(n);0===e.length&&s&&(r={type:(o=s.scale).type},o.isCategory&&(r.values=o.values),a=Object(R.deepMix)(r,s.scaleDef,i));var l=function(t,e,i){var n=e||[];if(Object(R.isNumber)(t)||Object(R.isNil)(Object(R.firstValue)(n,t))&&Object(R.isEmpty)(i))return new(Object(N.getScale)("identity"))({field:t.toString(),values:[t]});var o,r,a=Object(R.valuesOfKey)(n,t),s=Object(R.get)(i,"type",(o=a[0],r="linear",nt.test(o)?r="time":Object(R.isString)(o)&&(r="cat"),r));return new(Object(N.getScale)(s))(Object(S.__assign)({field:t,values:a},i))}(t,e,a);return this.cacheScale(l,i,n),l},li.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var i=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,o=[];Object(R.each)(t,function(t){var e=r.getScale(t);n=Object(R.isNumber)(e.max)?Math.max(n,e.max):n,i=Object(R.isNumber)(e.min)?Math.min(i,e.min):i,Object(R.each)(e.values,function(t){o.includes(t)||o.push(t)})}),Object(R.each)(t,function(t){var e=r.getScale(t);e.isContinuous?e.change({min:i,max:n,values:o}):e.isCategory&&e.change({values:o})})})},li.prototype.cacheScale=function(t,e,i){var n=this.getScaleMeta(i);n&&n.scale.type===t.type?(function(t,e){if("identity"!==t.type&&"identity"!==e.type){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);t.change(i)}}(n.scale,t),n.scaleDef=e):(n={key:i,scale:t,scaleDef:e},this.scales.set(i,n));var o,r=this.getSyncKey(n);n.syncKey=r,this.removeFromSyncScales(i),r&&((o=this.syncScales.get(r))||(o=[],this.syncScales.set(r,o)),o.push(i))},li.prototype.getScale=function(t){var e,i,n=this.getScaleMeta(t);return n||(e=Object(R.last)(t.split("-")),(i=this.syncScales.get(e))&&i.length&&(n=this.getScaleMeta(i[0]))),n&&n.scale},li.prototype.deleteScale=function(t){var e,i,n,o=this.getScaleMeta(t);o&&(e=o.syncKey,(i=this.syncScales.get(e))&&i.length&&-1!==(n=i.indexOf(t))&&i.splice(n,1)),this.scales.delete(t)},li.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},li.prototype.removeFromSyncScales=function(n){var o=this;this.syncScales.forEach(function(t,e){var i=t.indexOf(n);if(-1!==i)return t.splice(i,1),0===t.length&&o.syncScales.delete(e),!1})},li.prototype.getSyncKey=function(t){var e=t.scale,i=t.scaleDef,n=e.field,o=Object(R.get)(i,["sync"]);return!0===o?n:!1===o?void 0:o},li.prototype.getScaleMeta=function(t){return this.scales.get(t)},li),ai=(oi=P,Object(S.__extends)(si,oi),si.prototype.setLayout=function(t){this.layoutFunc=t},si.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new $e(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},si.prototype.render=function(t){void 0===t&&(t=!1),this.emit(l.BEFORE_RENDER),this.paint(t),this.emit(l.AFTER_RENDER),!1===this.visible&&this.changeVisible(!1)},si.prototype.clear=function(){var i=this;this.emit(l.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1;for(var t=this.geometries,e=0;e<t.length;e++)t[e].clear();this.geometries=[];for(var n=this.controllers,e=0;e<n.length;e++)n[e].clear();this.createdScaleKeys.forEach(function(t,e){i.getRootView().scalePool.deleteScale(e)}),this.createdScaleKeys.clear();var o=this.views;for(e=0;e<o.length;e++)o[e].clear();this.emit(l.AFTER_CLEAR)},si.prototype.destroy=function(){this.emit(l.BEFORE_DESTROY);var t=this.interactions;Object(R.each)(t,function(t){t&&t.destroy()}),this.clear();for(var e=this.controllers,i=0,n=e.length;i<n;i++)e[i].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),oi.prototype.destroy.call(this)},si.prototype.changeVisible=function(t){oi.prototype.changeVisible.call(this,t);for(var e=this.geometries,i=0,n=e.length;i<n;i++)e[i].changeVisible(t);for(var o=this.controllers,i=0,n=o.length;i<n;i++)o[i].changeVisible(t);return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},si.prototype.data=function(t){return Object(R.set)(this.options,"data",t),this.isDataChanged=!0,this},si.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},si.prototype.filter=function(t,e){return Object(R.isFunction)(e)?Object(R.set)(this.options,["filters",t],e):!e&&Object(R.get)(this.options,["filters",t])&&delete this.options.filters[t],this},si.prototype.axis=function(t,e){return Object(R.isBoolean)(t)?Object(R.set)(this.options,["axes"],t):Object(R.set)(this.options,["axes",t],e),this},si.prototype.legend=function(t,e){return!Object(R.isBoolean)(t)&&Object(R.isString)(t)?Object(R.set)(this.options,["legends",t],e):Object(R.set)(this.options,["legends"],t),this},si.prototype.scale=function(t,e){var i=this;return Object(R.isString)(t)?Object(R.set)(this.options,["scales",t],e):Object(R.isObject)(t)&&Object(R.each)(t,function(t,e){Object(R.set)(i.options,["scales",e],t)}),this},si.prototype.tooltip=function(t){return Object(R.set)(this.options,"tooltip",t),this},si.prototype.annotation=function(){return this.getController("annotation")},si.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},si.prototype.coordinate=function(t,e){return Object(R.isString)(t)?Object(R.set)(this.options,"coordinate",{type:t,cfg:e}):Object(R.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},si.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},si.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var i=gt(t);if(!i)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new i(this,Object(S.__assign)(Object(S.__assign)({},e),{type:t})),this},si.prototype.animate=function(t){return Object(R.set)(this.options,"animate",t),this},si.prototype.updateOptions=function(t){return this.clear(),Object(R.mix)(this.options,t),this.initOptions(),this},si.prototype.option=function(t,e){if(si.prototype[t])throw new Error("Can't use built in variable name \""+t+'", please change another one.');return Object(R.set)(this.options,t,e),this},si.prototype.theme=function(t){return this.themeObject=Object(R.isObject)(t)?Object(R.deepMix)({},this.themeObject,t):Ge(t),this},si.prototype.interaction=function(o,t){var e=this.interactions[o];e&&e.destroy();var i=function(t,e){var i=Pe(o);if(!i)return null;if(Object(R.isPlainObject)(i)){var n=Object(R.mix)(Object(R.clone)(i),e);return new Se(t,n)}return new i(t,e)}(this,t);return i&&(i.init(),this.interactions[o]=i),this},si.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},si.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(l.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,i=0,n=e.length;i<n;i++)e[i].changeData(t);this.emit(l.AFTER_CHANGE_DATA)},si.prototype.createView=function(t){var e={data:this.options.data,scales:Object(R.clone)(this.options.scales),axes:Object(R.clone)(this.options.axes),coordinate:Object(R.clone)(this.coordinateController.getOption()),tooltip:Object(R.clone)(this.options.tooltip),legends:Object(R.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},i=new si(Object(S.__assign)(Object(S.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:1}),middleGroup:this.middleGroup.addGroup({zIndex:2}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:3}),theme:this.themeObject,padding:this.padding},t),{options:Object(S.__assign)(Object(S.__assign)({},e),Object(R.get)(t,"options",{}))}));return this.views.push(i),i},si.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},si.prototype.removeView=function(e){var t=Object(R.remove)(this.views,function(t){return t===e})[0];return t&&t.destroy(),t},si.prototype.getCoordinate=function(){return this.coordinateInstance},si.prototype.getTheme=function(){return this.themeObject},si.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},si.prototype.getYScales=function(){var n={};return this.geometries.map(function(t){var e=t.getYScale(),i=e.field;if(!n[i])return n[i]=!0,e})},si.prototype.getScalesByDim=function(t){for(var e=this.geometries,i={},n=0,o=e.length;n<o;n++){var r=e[n],a="x"===t?r.getXScale():r.getYScale();a&&!i[a.field]&&(i[a.field]=a)}return i},si.prototype.getScaleByField=function(t,e){var i=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},si.prototype.getOptions=function(){return this.options},si.prototype.getData=function(){return this.filteredData},si.prototype.getLayer=function(t){return t===d.BG?this.backgroundGroup:t===d.MID?this.middleGroup:(d.FORE,this.foregroundGroup)},si.prototype.isPointInPlot=function(t){return Ft(this.getCoordinate(),t)},si.prototype.getLegendAttributes=function(){return Object(R.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},si.prototype.getGroupScales=function(){var t=this.geometries.map(function(t){return t.getGroupScales()});return Et(Object(R.flatten)(t))},si.prototype.getCanvas=function(){return this.getRootView().canvas},si.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},si.prototype.getXY=function(t){var i,n,e=this.getCoordinate(),o=this.getScalesByDim("x"),r=this.getScalesByDim("y");if(Object(R.each)(t,function(t,e){o[e]&&(i=o[e].scale(t)),r[e]&&(n=r[e].scale(t))}),!Object(R.isNil)(i)&&!Object(R.isNil)(n))return e.convert({x:i,y:n})},si.prototype.getController=function(e){return Object(R.find)(this.controllers,function(t){return t.name===e})},si.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},si.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},si.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},si.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},si.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},si.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},si.prototype.getSnapRecords=function(t){for(var e=this.geometries,i=[],n=0,o=e.length;n<o;n++){var r=e[n],a=r.dataArray;r.sort(a);for(var s=void 0,l=0,u=a.length;l<u;l++)(s=qe(t,a[l],r))&&i.push(s)}for(var c=this.views,n=0,o=c.length;n<o;n++)var h=c[n].getSnapRecords(t),i=i.concat(h);return i},si.prototype.getComponents=function(){for(var t=[],e=this.controllers,i=0,n=e.length;i<n;i++)var o=e[i],t=t.concat(o.getComponents());return t},si.prototype.filterData=function(t){var n=this.options.filters;return 0===Object(R.size)(n)?t:Object(R.filter)(t,function(e,i){return Object.keys(n).every(function(t){return(0,n[t])(e[t],e,i)})})},si.prototype.filterFieldData=function(i,t){var e=this.options.filters,n=Object(R.get)(e,i);return Object(R.isUndefined)(n)?t:t.filter(function(t,e){return n(t[i],t,e)})},si.prototype.adjustCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.adjust(t,e)},si.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(l.BEFORE_PAINT),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(l.AFTER_PAINT),this.isDataChanged=!1},si.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();for(var e=this.views,i=0,n=e.length;i<n;i++)e[i].renderLayoutRecursive(t)},si.prototype.renderPaintRecursive=function(t){var e,i,n,o;this.limitInPlot&&(e=this.middleGroup,n=(i=Rt(this.coordinateInstance)).type,o=i.attrs,e.setClip({type:n,attrs:o})),this.paintGeometries(t),this.renderComponents(t);for(var r=this.views,a=0,s=r.length;a<s;a++)r[a].renderPaintRecursive(t)},si.prototype.createScale=function(t,e,i,n){var o=Object(R.get)(this.options.scales,[t]),r=Object(S.__assign)(Object(S.__assign)({},o),i);return this.parent?this.parent.createScale(t,e,r,n):this.scalePool.createScale(t,e,r,n)},si.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,i=0,n=e.length;i<n;i++)e[i].renderDataRecursive(t)},si.prototype.calculateViewBBox=function(){var t,e,i,n,o;o=this.parent?(e=(t=this.parent.coordinateBBox).x,i=t.y,n=t.width,t.height):(i=e=0,n=this.canvas.get("width"),this.canvas.get("height"));var r=this.region,a=r.start,s=r.end;this.viewBBox=new Ht(e+n*a.x,i+o*a.y,n*(s.x-a.x),o*(s.y-a.y)),this.coordinateBBox=this.viewBBox},si.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},si.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,i=t.length;e<i;e++){var n=t[e],o=Ze[n];o&&this.controllers.push(new o(this))}},si.prototype.createViewEvent=function(t){var e=t.shape,i=t.name,n=e?e.get("origin"):null,o=new Qe(this,t,n);return o.type=i,o},si.prototype.doPlotEvent=function(t){var e,i,n=t.type,o={x:t.x,y:t.y};["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(n)&&((e=this.isPointInPlot(o))&&(i="plot:"+n,t.type=i,this.emit(i,t),"mouseleave"!==n&&"touchend"!==n||(this.isPreMouseInPlot=!1)),"mousemove"===n||"touchmove"===n?(this.isPreMouseInPlot&&!e?("mousemove"===n&&(t.type=a.MOUSE_LEAVE,this.emit(a.MOUSE_LEAVE,t)),t.type=a.LEAVE,this.emit(a.LEAVE,t)):!this.isPreMouseInPlot&&e&&("mousemove"===n&&(t.type=a.MOUSE_ENTER,this.emit(a.MOUSE_ENTER,t)),t.type=a.ENTER,this.emit(a.ENTER,t)),this.isPreMouseInPlot=e):"mouseleave"!==n&&"touchend"!==n||this.isPreMouseInPlot&&("mouseleave"===n&&(t.type=a.MOUSE_LEAVE,this.emit(a.MOUSE_LEAVE,t)),t.type=a.LEAVE,this.emit(a.LEAVE,t),this.isPreMouseInPlot=!1))},si.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},si.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),i=Object(R.get)(this.options,"scales",{}),n=this.geometries,o=0,r=n.length;o<r;o++){var a=n[o];a.scales=this.getGeometryScales();var s={coordinate:e,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged};t?a.update(s):a.init(s)}this.adjustScales()},si.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),i=this.getOptions(),n=i.data,o=i.scales,r=void 0===o?{}:o,a=this.filteredData,s=0,l=t.length;s<l;s++){var u=t[s],c=r[u],h=this.getScaleKey(u);this.createScale(u,e.includes(u)?n:a,c,h),this.createdScaleKeys.set(h,!0)}},si.prototype.syncScale=function(){this.getRootView().scalePool.sync()},si.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},i=0;i<t.length;i++){var n=t[i];e[n]=this.getScaleByField(n)}return e},si.prototype.getScaleFields=function(){for(var t=[],e={},i=this.geometries,n=0;n<i.length;n++)Et(i[n].getScaleFields(),t,e);return t},si.prototype.getGroupedFields=function(){for(var t=[],e={},i=this.geometries,n=0;n<i.length;n++)Et(i[n].getGroupFields(),t,e);return t},si.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},si.prototype.adjustCategoryScaleRange=function(){var l=this,t=Object(S.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(t){return!!t}),u=this.getCoordinate(),c=this.options.scales;Object(R.each)(t,function(t){var e,i,n,o=t.field,r=t.values,a=t.isCategory,s=t.isIdentity;(a||s)&&r&&!Object(R.get)(c,[o,"range"])&&(n=void 0,n=1===(e=r.length)?[.5,1]:(i=0,function(){if(u.isPolar){var t=u.startAngle;return u.endAngle-t==2*Math.PI}}()?u.isTransposed?[(i=1/e*Object(R.get)(l.theme,"widthRatio.multiplePie",1/1.3))/2,1-i/2]:[0,1-1/e]:[i=1/e/2,1-i]),t.range=n)})},si.prototype.initComponents=function(t){for(var e=this.controllers,i=0;i<e.length;i++){var n=e[i];t?n.update():(n.clear(),n.render())}},si.prototype.doLayout=function(){this.layoutFunc(this)},si.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},si.prototype.paintGeometries=function(t){for(var e=this.options.animate,i=this.getCoordinate(),n={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,r=0;r<o.length;r++){var a=o[r];a.coordinate=i,a.canvasRegion=n,e||a.animate(!1),a.paint(t)}},si.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++)this.getComponents()[e].component.render()},si.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},si.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,i=void 0===e?[]:e,n=t.interactions,o=void 0===n?[]:n,r=t.views,a=void 0===r?[]:r,s=t.annotations,l=void 0===s?[]:s,u=0;u<i.length;u++){var c=i[u];this.createGeometry(c)}for(var h=0;h<o.length;h++){var p=o[h],f=p.type,d=p.cfg;this.interaction(f,d)}for(var g=0;g<a.length;g++){var y=a[g];this.createView(y)}for(var v=this.getController("annotation"),m=0;m<l.length;m++){var x=l[m];v.annotation(x)}},si.prototype.createGeometry=function(t){var i,e=t.type,n=t.cfg,o=void 0===n?{}:n;this[e]&&(i=this[e](o),Object(R.each)(t,function(t,e){Object(R.isFunction)(i[e])&&i[e](t)}))},si.prototype.getScaleKey=function(t){return this.id+"-"+t},si);function si(t){var n=oi.call(this,{visible:t.visible})||this;n.id=Object(R.uniqueId)("view"),n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Object.keys(Ze),n.scalePool=new ri,n.layoutFunc=ni,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e,i=t.name;i.includes(":")||(e=n.createViewEvent(t),n.doPlotEvent(e),n.emit(i,e))},n.onDelegateEvents=function(t){var e,i=t.name;i.includes(":")&&(e=n.createViewEvent(t),n.emit(i,e))};var e=t.parent,i=t.canvas,o=t.backgroundGroup,r=t.middleGroup,a=t.foregroundGroup,s=t.region,l=void 0===s?{start:{x:0,y:0},end:{x:1,y:1}}:s,u=t.padding,c=t.theme,h=t.options,p=t.limitInPlot;return n.parent=e,n.canvas=i,n.backgroundGroup=o,n.middleGroup=r,n.foregroundGroup=a,n.region=l,n.padding=u,n.options=Object(S.__assign)(Object(S.__assign)({},n.options),h),n.limitInPlot=p,n.themeObject=Object(R.isObject)(c)?Object(R.deepMix)({},Ge("default"),c):Ge(c),n.init(),n}function li(){this.scales=new Map,this.syncScales=new Map}function ui(t,n){ai.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var e=Object(S.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new n(e);return this.geometries.push(i),i}}function ci(t){return mi[t.toLowerCase()]}function hi(t,e){if(ci(t))throw new Error("Adjust type '"+t+"' existed.");mi[t.toLowerCase()]=e}var pi,fi,di=ai,gi=(fi=di,Object(S.__extends)(Oi,fi),Oi.prototype.initDefaultInteractions=function(t){var e=this;Object(R.each)(t,function(t){e.interaction(t)})},Oi.prototype.changeSize=function(t,e){return this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this},Oi.prototype.destroy=function(){var t,e;fi.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),(e=(t=this.wrapperElement).parentNode)&&e.removeChild(t),this.wrapperElement=null},Oi.prototype.changeVisible=function(t){return this.wrapperElement.style.display=t?"":"none",this},Oi.prototype.forceFit=function(){var t=j(this.ele,!0,this.width,this.height),e=t.width,i=t.height;this.changeSize(e,i)},Oi.prototype.updateCanvasStyle=function(){Object(C.modifyCSS)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},Oi.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},Oi.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},Oi),yi=(Mi.prototype.clear=function(){Object(R.each)(this.components,function(t){t.component.destroy()}),this.components=[]},Mi.prototype.destroy=function(){this.clear()},Mi.prototype.getComponents=function(){return this.components},Mi.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},Mi),vi=(_i.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},_i.prototype.getAdjustRange=function(t,e,i){var n,o,r=this.yField,a=i.indexOf(e),s=i.length;return!r&&this.isAdjust("y")?(n=0,o=1):1<s?(n=i[0===a?0:a-1],o=i[a===s-1?s-1:a+1],0!==a?n+=(e-n)/2:n-=(o-e)/2,a!==s-1?o-=(o-e)/2:o+=(e-i[s-2])/2):(n=0===e?0:e-.5,o=0===e?1:e+.5),{pre:n,next:o}},_i.prototype.adjustData=function(t,e){var o=this,r=this.getDimValues(e);R.each(t,function(i,n){R.each(r,function(t,e){o.adjustDim(e,t,i,n)})})},_i.prototype.groupData=function(t,e){return R.each(t,function(t){void 0===t[e]&&(t[e]=0)}),R.groupBy(t,e)},_i.prototype.adjustDim=function(t,e,i,n){},_i.prototype.getDimValues=function(e){var t=this.xField,i=this.yField,n={},o=[];return t&&this.isAdjust("x")&&o.push(t),i&&this.isAdjust("y")&&o.push(i),o.forEach(function(t){n[t]=R.valuesOfKey(e,t).sort(function(t,e){return t-e})}),!i&&this.isAdjust("y")&&(n.y=[0,1]),n},_i),mi={},xi=(pi=vi,Object(S.__extends)(bi,pi),bi.prototype.process=function(t){var e=R.clone(t),i=R.flatten(e),n=this.dodgeBy,o=n?R.group(i,n):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=i,this.adjustData(o,i),this.adjustDataArray=[],this.mergeData=[],e},bi.prototype.adjustDim=function(r,i,t,a){var s=this,l=this.getDistribution(r),e=this.groupData(t,r);return R.each(e,function(t,e){var o=1===i.length?{pre:i[0]-1,next:i[0]+1}:s.getAdjustRange(r,parseFloat(e),i);R.each(t,function(t){var e=t[r],i=l[e],n=i.indexOf(a);t[r]=s.getDodgeOffset(o,n,i.length)})}),[]},bi.prototype.getDodgeOffset=function(t,e,i){var n=this.dodgeRatio,o=this.marginRatio,r=t.pre,a=t.next,s=a-r,l=s*n/i,u=o*l;return(r+a)/2+(.5*(s-i*l-(i-1)*u)+((e+1)*l+e*u)-.5*l-.5*s)},bi.prototype.getDistribution=function(n){var t=this.adjustDataArray,e=this.cacheMap,o=e[n];return o||(o={},R.each(t,function(t,e){var i=R.valuesOfKey(t,n);i.length||i.push(0),R.each(i,function(t){o[t]||(o[t]=[]),o[t].push(e)})}),e[n]=o),o},bi);function bi(t){var e=pi.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var i=t.marginRatio,n=void 0===i?.5:i,o=t.dodgeRatio,r=void 0===o?.5:o,a=t.dodgeBy;return e.marginRatio=n,e.dodgeRatio=r,e.dodgeBy=a,e}function _i(t){var e=t.xField,i=t.yField,n=t.adjustNames,o=void 0===n?["x","y"]:n;this.adjustNames=o,this.xField=e,this.yField=i}function Mi(t){this.visible=!0,this.components=[],this.view=t}function Oi(t){var e=this,i=t.container,n=t.width,o=t.height,r=t.autoFit,a=void 0!==r&&r,s=t.padding,l=t.renderer,u=void 0===l?"canvas":l,c=t.pixelRatio,h=t.localRefresh,p=void 0===h||h,f=t.visible,d=void 0===f||f,g=t.defaultInteractions,y=void 0===g?["tooltip","legend-filter","legend-active","continuous-filter"]:g,v=t.options,m=t.limitInPlot,x=t.theme,b=Object(R.isString)(i)?document.getElementById(i):i,_=Object(C.createDom)('<div style="position:relative;"></div>');b.appendChild(_);var M=j(b,a,n,o),O=new(w(u).Canvas)(Object(S.__assign)({container:_,pixelRatio:c,localRefresh:p},M));return(e=fi.call(this,{parent:null,canvas:O,backgroundGroup:O.addGroup({zIndex:1}),middleGroup:O.addGroup({zIndex:2}),foregroundGroup:O.addGroup({zIndex:3}),padding:s,visible:d,options:v,limitInPlot:m,theme:x})||this).onResize=Object(R.debounce)(function(){e.forceFit()},300),e.ele=b,e.canvas=O,e.width=M.width,e.height=M.height,e.autoFit=a,e.localRefresh=p,e.renderer=u,e.wrapperElement=_,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(y),e}var wi,Ci,Si,ji=(Si=vi,Object(S.__extends)(Ei,Si),Ei.prototype.process=function(t){var e=R.clone(t),i=R.flatten(e);return this.adjustData(e,i),e},Ei.prototype.adjustDim=function(i,n,t){var o=this,e=this.groupData(t,i);return R.each(e,function(t,e){return o.adjustGroup(t,i,parseFloat(e),n)})},Ei.prototype.getAdjustOffset=function(t){var e,i=t.pre,n=t.next,o=.05*(n-i);return(n-o-(e=i+o))*Math.random()+e},Ei.prototype.adjustGroup=function(t,e,i,n){var o=this,r=this.getAdjustRange(e,i,n);return R.each(t,function(t){t[e]=o.getAdjustOffset(r)}),t},Ei),Ai=R.Cache,Pi=(Ci=vi,Object(S.__extends)(ki,Ci),ki.prototype.process=function(t){var e=this.yField,i=this.reverseOrder,n=e?this.processStack(t):this.processOneDimStack(t);return i?this.reverse(n):n},ki.prototype.reverse=function(t){return t.slice(0).reverse()},ki.prototype.processStack=function(t){var l=this.xField,u=this.yField,e=this.reverseOrder?this.reverse(t):t,c=new Ai,h=new Ai;return e.map(function(t){return t.map(function(t){var e,i=R.get(t,l,0),n=R.get(t,u),o=i.toString(),n=R.isArray(n)?n[1]:n;if(R.isNil(n))return t;var r=0<=n?c:h;r.has(o)||r.set(o,0);var a=r.get(o),s=n+a;return r.set(o,s),Object(S.__assign)(Object(S.__assign)({},t),((e={})[u]=[a,s],e))})})},ki.prototype.processOneDimStack=function(t){var a=this,s=this.xField,l=this.height,e=this.reverseOrder?this.reverse(t):t,u=new Ai;return e.map(function(t){return t.map(function(t){var e,i=a.size,n=t[s],o=2*i/l;u.has(n)||u.set(n,o/2);var r=u.get(n);return u.set(n,r+o),Object(S.__assign)(Object(S.__assign)({},t),((e={}).y=r,e))})})},ki),Ti=(wi=vi,Object(S.__extends)(Li,wi),Li.prototype.process=function(t){var e=R.flatten(t),s=this.xField,l=this.yField,u=this.getXValuesMaxMap(e),c=Math.max.apply(Math,Object.keys(u).map(function(t){return u[t]}));return R.map(t,function(t){return R.map(t,function(t){var e,i,n=t[l],o=t[s];if(R.isArray(n)){var r=(c-u[o])/2;return Object(S.__assign)(Object(S.__assign)({},t),((e={})[l]=R.map(n,function(t){return r+t}),e))}var a=(c-n)/2;return Object(S.__assign)(Object(S.__assign)({},t),((i={})[l]=[a,n+a],i))})})},Li.prototype.getXValuesMaxMap=function(t){var e=this,i=this.xField,n=this.yField,o=R.groupBy(t,function(t){return t[i]});return R.mapValues(o,function(t){return e.getDimMaxValue(t,n)})},Li.prototype.getDimMaxValue=function(t,e){var i=R.map(t,function(t){return R.get(t,e,[])}),n=R.flatten(i);return Math.max.apply(Math,n)},Li);function Li(){return null!==wi&&wi.apply(this,arguments)||this}function ki(t){var e=Ci.call(this,t)||this,i=t.adjustNames,n=void 0===i?["y"]:i,o=t.height,r=void 0===o?NaN:o,a=t.size,s=void 0===a?10:a,l=t.reverseOrder,u=void 0!==l&&l;return e.adjustNames=n,e.height=r,e.size=s,e.reverseOrder=u,e}function Ei(){return null!==Si&&Si.apply(this,arguments)||this}hi("Dodge",xi),hi("Jitter",ji),hi("Stack",Pi),hi("Symmetric",Ti);var Di={};function Bi(t){return Di[t.toLowerCase()]}function Fi(t,e){Di[t.toLowerCase()]=e}var Ii={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Ri={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Ni={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Yi(t,e,i){var n=Ri[t];return n&&(Object(R.isFunction)(n)&&(n=n(e)),n=Object(R.deepMix)({},Ii,n),i)?n[i]:n}function Gi(t,e,i){var n,o,r,a=Object(R.get)(t.get("origin"),"data","_origin"),s=e.animation,l=(n=e,o=a,{delay:Object(R.isFunction)(n.delay)?n.delay(o):n.delay,easing:Object(R.isFunction)(n.easing)?n.easing(o):n.easing,duration:Object(R.isFunction)(n.duration)?n.duration(o):n.duration,callback:n.callback});s?(r=Bi(s))&&r(t,l,i):t.animate(i.toAttrs,l)}var Xi,zi=i(102),Vi=(Xi=P,Object(S.__extends)(qi,Xi),qi.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},qi.prototype.update=function(t){var e,i,n=this.shapeFactory,o=this.shape;o&&(this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(o,t),e=this.getOffscreenGroup(),(i=n.drawShape(this.shapeType,t,e)).cfg.data=this.data,i.cfg.origin=t,this.syncShapeStyle(o,i,"",this.getAnimateCfg("update")))},qi.prototype.destroy=function(){var t,e=this.shapeFactory,i=this.shape;i&&((t=this.getAnimateCfg("leave"))?Gi(i,t,{coordinate:e.coordinate,toAttrs:Object(S.__assign)({},i.attr())}):i.remove(!0)),this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,Xi.prototype.destroy.call(this)},qi.prototype.changeVisible=function(t){Xi.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(t){t.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(t){t.hide()}))},qi.prototype.setState=function(t,e){var i=this,n=this.states,o=this.shapeFactory,r=this.model,a=this.shape,s=this.shapeType,l=n.indexOf(t);if(e){if(-1<l)return;n.push(t),"active"!==t&&"selected"!==t||a.toFront()}else{if(-1===l)return;n.splice(l,1),"active"!==t&&"selected"!==t||a.toBack()}var u=o.drawShape(s,r,this.getOffscreenGroup());n.length?n.forEach(function(t){i.syncShapeStyle(a,u,t,null)}):this.syncShapeStyle(a,u,"reset",null),u.remove(!0);var c={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",c),Object(zi.propagationDelegate)(this.shape,"statechange",c)},qi.prototype.clearStates=function(){var e=this,t=this.states;Object(R.each)(t,function(t){e.setState(t,!1)}),this.states=[]},qi.prototype.hasState=function(t){return this.states.includes(t)},qi.prototype.getStates=function(){return this.states},qi.prototype.getData=function(){return this.data},qi.prototype.getModel=function(){return this.model},qi.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(i=t.getCanvasBBox()),e&&e.forEach(function(t){var e=t.getCanvasBBox();i.x=Math.min(e.x,i.x),i.y=Math.min(e.y,i.y),i.minX=Math.min(e.minX,i.minX),i.minY=Math.min(e.minY,i.minY),i.maxX=Math.max(e.maxX,i.maxX),i.maxY=Math.max(e.maxY,i.maxY)}),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},qi.prototype.getStatesStyle=function(){var t,e,i,n,o,r;return this.statesStyle||(t=this.shapeType,e=this.geometry,i=this.shapeFactory,n=e.stateOption,o=i.defaultShapeType,r=i.theme[t]||i.theme[o],this.statesStyle=Object(R.deepMix)({},r,n)),this.statesStyle},qi.prototype.getStateStyle=function(t,e){var i=this.getStatesStyle(),n=Object(R.get)(i,[t,"style"],{}),o=n[e]||n;return Object(R.isFunction)(o)?o(this):o},qi.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},qi.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var i,n,o,r=this.shapeFactory,a=this.container,s=this.shapeType;this.shape=r.drawShape(s,t,a),this.shape&&(this.setShapeInfo(this.shape,t),(i=this.shape.cfg.name)?Object(R.isString)(i)&&(this.shape.cfg.name=["element",i]):this.shape.cfg.name=["element",this.shapeFactory.geometryType],n=e?"enter":"appear",(o=this.getAnimateCfg(n))&&Gi(this.shape,o,{coordinate:r.coordinate,toAttrs:Object(S.__assign)({},this.shape.attr())}))},qi.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},qi.prototype.setShapeInfo=function(t,e){var i=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(t){i.setShapeInfo(t,e)})},qi.prototype.syncShapeStyle=function(t,e,i,n,o){if(void 0===i&&(i=""),void 0===o&&(o=0),t.isGroup())for(var r=t.get("children"),a=e.get("children"),s=0;s<r.length;s++)this.syncShapeStyle(r[s],a[s],i,n,o+s);else{var l,u;i&&"reset"!==i&&(l=t.get("name"),Object(R.isArray)(l)&&(l=l[1]),u=this.getStateStyle(i,l||o),e.attr(u));var c=Tt(t,e);this.animate?n?Gi(t,n,{coordinate:this.shapeFactory.coordinate,toAttrs:c,shapeModel:this.model}):i?(t.stopAnimate(),t.animate(c,{duration:300})):t.attr(c):t.attr(c)}},qi.prototype.getShapeType=function(t){var e=Object(R.get)(t,"shape");return Object(R.isArray)(e)?e[0]:e},qi),Hi={},Wi={};function qi(t){var e=Xi.call(this,t)||this;e.states=[];var i=t.shapeFactory,n=t.container,o=t.offscreenGroup,r=t.visible,a=void 0===r||r;return e.shapeFactory=i,e.container=n,e.offscreenGroup=o,e.visible=a,e}function Ui(t){return Hi[t.toLowerCase()]}function Zi(t,e){Hi[t.toLowerCase()]=e}function Ki(t){return Wi[t.toLowerCase()]}function $i(t,e){Wi[t.toLowerCase()]=e}var Qi=i(70),Ji={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var i=this.getShape(t);return i.getPoints?i.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getMarker:function(t,e){var i,n=this.getShape(t);n.getMarker||(i=this.defaultShapeType,n=this.getShape(i));var o=this.theme,r=Object(R.get)(o,[t,"default"],{}),a=n.getMarker(e);return Object(R.deepMix)({},r,a)},drawShape:function(t,e,i){return this.getShape(t).draw(e,i)}},tn={coordinate:null,parsePath:function(t){var e,i,n,o=this.coordinate,r=Object(Qi.b)(t);return o.isPolar?zt(o,r):(e=o,i=r,n=[],Object(R.each)(i,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":n.push(Nt(t,e));break;case"z":default:n.push(t)}}),n)},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map(function(t){return e.convert(t)})},draw:function(t,e){}},en={};function nn(t,e){var i=Object(R.upperFirst)(t),n=Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},Ji),e),{geometryType:t});return en[i]=n}function on(t,e,i){var n=Object(R.upperFirst)(t),o=en[n],r=Object(S.__assign)(Object(S.__assign)({},tn),i);return o[e]=r}function rn(t){var e=Object(R.upperFirst)(t);return en[e]}function an(e,i){return Object(R.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!Object(R.isEqual)(e[t],i[t])})}function sn(t){return Object(R.isArray)(t)?t:t.split("*")}function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var un,cn=(un=P,Object(S.__extends)(hn,un),hn.prototype.position=function(t){var e=t;Object(R.isPlainObject)(t)||(e={fields:sn(t)});var i=Object(R.get)(e,"fields");return 1===i.length&&(i.unshift("1"),Object(R.set)(e,"fields",i)),Object(R.set)(this.attributeOption,"position",e),this},hn.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},hn.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},hn.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},hn.prototype.adjust=function(t){var i=t;return(Object(R.isString)(t)||Object(R.isPlainObject)(t))&&(i=[t]),Object(R.each)(i,function(t,e){Object(R.isObject)(t)||(i[e]={type:t})}),this.adjustOption=i,this},hn.prototype.style=function(t,e){var i,n,o;return Object(R.isString)(t)?(i=sn(t),this.styleOption={fields:i,callback:e}):(i=t.fields,n=t.callback,o=t.cfg,this.styleOption=i||n||o?t:{cfg:t}),this},hn.prototype.tooltip=function(t,e){var i;return Object(R.isString)(t)?(i=sn(t),this.tooltipOption={fields:i,callback:e}):this.tooltipOption=t,this},hn.prototype.animate=function(t){return this.animateOption=t,this},hn.prototype.label=function(t,e,i){var n,o;return Object(R.isString)(t)?(n={},o=sn(t),n.fields=o,Object(R.isFunction)(e)?n.callback=e:Object(R.isPlainObject)(e)&&(n.cfg=e),i&&(n.cfg=i),this.labelOption=n):this.labelOption=t,this},hn.prototype.state=function(t){return this.stateOption=t,this},hn.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},hn.prototype.update=function(t){void 0===t&&(t={});var e=t.data,i=t.isDataChanged,n=this.attributeOption,o=this.lastAttributeOption;Object(R.isEqual)(n,o)?!e||!i&&Object(R.isEqual)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.processData(e)):this.init(t),this.adjustScale()},hn.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=Object(R.deepMix)({},Yi(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={},this.getOffscreenGroup().clear();for(var i,n,o,r,a,s,l,u,c,h,p,f,d,g=this.beforeMappingData,y=this.beforeMapping(g),v=[],m=0,x=y.length;m<x;m++){var b=y[m],_=this.mapping(b);v.push(_),this.createElements(_,m,t)}this.canDoGroupAnimation(t)&&(i=this.container,n=this.type,o=this.coordinate,r=Object(R.get)(this.animateOption,"appear"),a=this.getYScale(),s=o.convert({x:0,y:a.scale(this.getYMinValue())}),l=i,u=r,c=o,h=s,Ni[n]&&(p=Ni[n](c),(f=Bi(Object(R.get)(p,"animation","")))&&(d=Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},Ii.appear),p),u),l.stopAnimate(),f(l,d,{coordinate:c,minYPoint:h,toAttrs:null})))),this.labelOption&&this.renderLabels(Object(R.flatten)(v),t),this.dataArray=v,Object(R.each)(this.lastElementsMap,function(t){t.animate=e.animateOption,t.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(S.__assign)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},hn.prototype.clear=function(){var t=this.container,e=this.geometryLabel,i=this.offscreenGroup;t&&t.clear(),e&&e.clear(),i&&i.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1},hn.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,un.prototype.destroy.call(this)},hn.prototype.getGroupScales=function(){return this.groupScales},hn.prototype.getAttribute=function(t){return this.attributes[t]},hn.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},hn.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},hn.prototype.getGroupAttributes=function(){var e=[];return Object(R.each)(this.attributes,function(t){g.includes(t.type)&&e.push(t)}),e},hn.prototype.getDefaultValue=function(t){var e,i=this.getAttribute(t);return i&&Object(R.isEmpty)(i.scales)&&(e=i.values[0]),e},hn.prototype.getAttributeValues=function(t,e){for(var i=[],n=t.scales,o=0,r=n.length;o<r;o++){var a=n[o],s=a.field;a.isIdentity?i.push(a.values):i.push(e[s])}return t.mapping.apply(t,i)},hn.prototype.getAdjust=function(t){return this.adjusts[t]},hn.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},hn.prototype.getElementsBy=function(e){return this.elements.filter(function(t){return e(t)})},hn.prototype.getElementId=function(t){var e=(t=Object(R.isArray)(t)?t[0]:t)._origin;if(this.idFields.length){for(var i=e[this.idFields[0]],n=1;n<this.idFields.length;n++)i+="-"+e[this.idFields[n]];return i}for(var o=this.type,r=this.getXScale(),a=this.getYScale(),s=r.field||"x",l=e[a.field||"y"],u="identity"===r.type?r.values[0]:e[s],c="interval"===o||"schema"===o?u:"line"===o||"area"===o||"path"===o?o:u+"-"+l,h=this.groupScales,p=(n=0,h.length);n<p;n++)c=c+"-"+e[h[n].field];var f,d=this.getAdjust("dodge");return!d||(f=d.dodgeBy)&&(c=c+"-"+e[f]),this.getAdjust("jitter")&&(c=c+"-"+t.x+"-"+t.y),c},hn.prototype.getScaleFields=function(){var t,e=[],i={},n=this.attributeOption,o=this.labelOption,r=this.tooltipOption;for(var a in n)n.hasOwnProperty(a)&&((t=n[a]).fields?Et(t.fields,e,i):t.values&&Et(t.values,e,i));return o&&o.fields&&Et(o.fields,e,i),Object(R.isObject)(r)&&r.fields&&Et(r.fields,e,i),e},hn.prototype.changeVisible=function(t){un.prototype.changeVisible.call(this,t);for(var e=this.elements,i=0,n=e.length;i<n;i++)e[i].changeVisible(t);t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},hn.prototype.getGroupFields=function(){for(var t=[],e={},i=0,n=g.length;i<n;i++){var o=g[i],r=this.attributeOption[o];r&&r.fields&&Et(r.fields,t,e)}return t},hn.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},hn.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},hn.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},hn.prototype.sort=function(t){if(!this.hasSorted)for(var i=this.getXScale(),n=i.field,e=0;e<t.length;e++)t[e].sort(function(t,e){return i.translate(t._origin[n])-i.translate(e._origin[n])});this.hasSorted=!0},hn.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},hn.prototype.getShapeFactory=function(){var t=this.shapeType;if(rn(t))return this.shapeFactory||(this.shapeFactory=Object(R.clone)(rn(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},hn.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),i=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:i?this.normalizeValues(t[i.field],i):t.y?t.y:.1,y0:i?i.scale(this.getYMinValue()):void 0}},hn.prototype.createElement=function(t,e){void 0===e&&(e=!1);var i=this.container,n=this.getDrawCfg(t),o=this.getShapeFactory(),r=new Vi({shapeFactory:o,container:i,offscreenGroup:this.getOffscreenGroup()});return r.animate=this.animateOption,r.geometry=this,r.draw(n,e),r},hn.prototype.getDrawCfg=function(t){var e=t._origin,i={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},n=t.shape;!n&&this.getShapeFactory()&&(n=this.getShapeFactory().defaultShapeType),i.shape=n;var o=this.theme.geometries[this.shapeType];i.defaultStyle=Object(R.get)(o,[n,"default"],{}).style;var r=this.styleOption;return r&&(i.style=this.getStyleCfg(r,e)),this.generatePoints&&(i.points=t.points,i.nextPoints=t.nextPoints),i},hn.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);for(var n=this.lastElementsMap,o=this.elementsMap,r=this.elements,a=0,s=t.length;a<s;a++){var l=t[a],u=this.getElementId(l);o[u]&&(u=u+"-"+e+"-"+a);var c,h=n[u];h?(an(c=this.getDrawCfg(l),h.getModel())&&(h.animate=this.animateOption,h.update(c)),delete n[u]):h=this.createElement(l,i),r.push(h),o[u]=h}return r},hn.prototype.getLabelType=function(){var t=this.labelOption,e=this.coordinate,i=this.type,n=e.type;return Object(R.get)(t,["cfg","type"])||("polar"===n?"polar":"theta"===n?"pie":"interval"===i||"polygon"===i?"interval":"base")},hn.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,i=t.max;return 0<=e?e:i<=0?i:0},hn.prototype.createAttrOption=function(t,e,i){var n;Object(R.isNil)(e)||Object(R.isObject)(e)?Object(R.isObject)(e)&&Object(R.isEqual)(Object.keys(e),["values"])?Object(R.set)(this.attributeOption,t,{fields:e.values}):Object(R.set)(this.attributeOption,t,e):(n={},Object(R.isNumber)(e)?n.values=[e]:n.fields=sn(e),i&&(Object(R.isFunction)(i)?n.callback=i:n.values=i),Object(R.set)(this.attributeOption,t,n))},hn.prototype.initAttributes=function(){var l=this,u=this.attributes,c=this.attributeOption,h=this.theme,p=this.shapeType;function t(i){if(c.hasOwnProperty(i)){var t=c[i];if(!t)return{value:void 0};var e=Object(S.__assign)({},t),n=e.callback,o=e.values,r=e.fields,a=(void 0===r?[]:r).map(function(t){var e=l.scales[t];return e.isCategory&&!f[t]&&g.includes(i)&&(l.groupScales.push(e),f[t]=!0),e});e.scales=a,"position"!==i&&1===a.length&&"identity"===a[0].type?e.values=a[0].values:n||o||("size"===i?e.values=h.sizes:"shape"===i?e.values=h.shapes[p]||[]:"color"===i&&(a.length?e.values=a[0].values.length<=10?h.colors10:h.colors20:e.values=h.colors10));var s=v(i);u[i]=new s(e)}}this.groupScales=[];var f={};for(var e in c){var i=t(e);if("object"===ln(i))return i.value}},hn.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales.filter(function(t){return t.isCategory}),i=this.groupData(t),n=[],o=0,r=i.length;o<r;o++){for(var a=i[o],s=[],l=0,u=a.length;l<u;l++){var c=a[l],h={};for(var p in c)h[p]=c[p];h._origin=c;for(var f=0,d=e;f<d.length;f++){var g=d[f],y=g.field;h[y]=g.translate(h[y])}s.push(h)}n.push(s)}var v=this.adjustData(n);return this.beforeMappingData=v},hn.prototype.adjustData=function(t){var e=this.adjustOption,i=t;if(e)for(var n=this.getXScale(),o=this.getYScale(),r=n.field,a=o?o.field:null,s=0,l=e.length;s<l;s++){var u,c,h=e[s],p=Object(S.__assign)({xField:r,yField:a},h),f=h.type;if("dodge"===f){var d=[];if(n.isCategory||"identity"===n.type)d.push("x");else{if(o)throw new Error("dodge is not support linear attribute, please use category attribute!");d.push("y")}p.adjustNames=d,p.dodgeRatio=this.theme.columnWidthRatio}else"stack"===f&&(u=this.coordinate,o||(p.height=u.getHeight(),c=this.getDefaultValue("size")||3,p.size=c),!u.isTransposed&&Object(R.isNil)(p.reverseOrder)&&(p.reverseOrder=!0));var g=new(ci(f))(p),i=g.process(i);this.adjusts[f]=g}return i},hn.prototype.groupData=function(t){for(var e=this.getGroupScales(),i=this.scaleDefs,n={},o=[],r=0;r<e.length;r++){var a=e[r].field;o.push(a),Object(R.get)(i,[a,"values"])&&(n[a]=i[a].values)}return function(t,e,i){if(void 0===i&&(i={}),!e)return[t];var n,o=Object(R.groupToMap)(t,e),r=[];if(1===e.length&&i[e[0]])for(var a=0,s=i[e[0]];a<s.length;a++){var l=o["_"+s[a]];l&&r.push(l)}else for(var u in o)o.hasOwnProperty(u)&&(n=o[u],r.push(n));return r}(t,o,n)},hn.prototype.updateStackRange=function(t,e){for(var i=Object(R.flatten)(e),n=t.field,o=t.min,r=t.max,a=0;a<i.length;a++){var s=i[a],l=Math.min.apply(null,s[n]),u=Math.max.apply(null,s[n]);l<o&&(o=l),r<u&&(r=u)}var c=this.scaleDefs,h={};o<t.min&&!Object(R.get)(c,[n,"min"])&&(h.min=o),r>t.max&&!Object(R.get)(c,[n,"max"])&&(h.max=r),t.change(h)},hn.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var i=0,n=e.length;i<n;i++){var o=e[i];this.generateShapePoints(o);var r=e[i+1];r&&(this.generateShapePoints(r),o[0].nextPoints=r[0].points)}return e},hn.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),i=this.getAttribute("shape"),n=0;n<t.length;n++){var o=t[n],r=this.createShapePointsCfg(o),a=i?this.getAttributeValues(i,o):null,s=e.getShapePoints(a,r);o.points=s}},hn.prototype.normalizeValues=function(t,e){var i=[];if(Object(R.isArray)(t))for(var n=0;n<t.length;n++){var o=t[n];i.push(e.scale(o))}else i=e.scale(t);return i},hn.prototype.mapping=function(t){for(var e=this.attributes,i=[],n=0;n<t.length;n++){var o=t[n],r={_origin:o._origin,points:o.points,nextPoints:o.nextPoints};for(var a in e)if(e.hasOwnProperty(a)){var s=e[a],l=s.names,u=this.getAttributeValues(s,o);if(1<l.length)for(var c=0;c<u.length;c+=1){var h=u[c];r[l[c]]=Object(R.isArray)(h)&&1===h.length?h[0]:h}else r[l[0]]=1===u.length?u[0]:u}this.convertPoint(r),i.push(r)}return i},hn.prototype.convertPoint=function(t){var e=t.x,i=t.y,n=this.coordinate;if(Object(R.isArray)(e)&&Object(R.isArray)(i)){f=[],d=[];for(var o=0,r=0,a=e.length,s=i.length;o<a&&r<s;o+=1,r+=1)c=n.convert({x:e[o],y:i[r]}),f.push(c.x),d.push(c.y)}else if(Object(R.isArray)(i)){d=[];for(var l=0;l<i.length;l++){var u=i[l],c=n.convert({x:e,y:u});f&&f!==c.x?(Object(R.isArray)(f)||(f=[f]),f.push(c.x)):f=c.x,d.push(c.y)}}else if(Object(R.isArray)(e))for(f=[],l=0;l<e.length;l++){var h=e[l];c=n.convert({x:h,y:i}),d&&d!==c.y?(Object(R.isArray)(d)||(d=[d]),d.push(c.y)):d=c.y,f.push(c.x)}else var p=n.convert({x:e,y:i}),f=p.x,d=p.y;t.x=f,t.y=d},hn.prototype.getStyleCfg=function(t,e){var i=t.fields,n=void 0===i?[]:i,o=t.callback,r=t.cfg;if(r)return r;var a=n.map(function(t){return e[t]});return o.apply(void 0,a)},hn.prototype.setCfg=function(t){var i=this,e=t.coordinate,n=t.data,o=t.theme,r=t.scaleDefs;e&&(this.coordinate=e),n&&(this.data=n),r&&(this.scaleDefs=r,this.idFields=[],Object(R.each)(r,function(t,e){t&&t.key&&i.idFields.push(e)})),o&&(this.theme=this.userTheme?Object(R.deepMix)({},o,this.userTheme):o)},hn.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var i=this.geometryLabel;i||(i=new(Ui(this.getLabelType()))(this),this.geometryLabel=i),i.render(t,e);var c=i.labelsRenderer.shapesMap;Object(R.each)(this.elementsMap,function(t,e){var i,n,o,r=(i=e,n=c,o=[],Object(R.each)(n,function(t,e){e.split(" ")[0]===i&&o.push(t)}),o);if(r.length){t.labelShape=r;for(var a=0;a<r.length;a++)for(var s=r[a].getChildren(),l=0;l<s.length;l++){var u=s[l];u.cfg.name=["element","label"],u.cfg.element=t}}})},hn.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===Object(R.get)(this.animateOption,"appear")||Object(R.get)(this.animateOption,"appear")&&void 0===Object(R.get)(this.animateOption,["appear","animation"]))},hn);function hn(t){var e=un.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1;var i=t.container,n=t.labelsContainer,o=t.coordinate,r=t.data,a=t.sortable,s=void 0!==a&&a,l=t.visible,u=void 0===l||l,c=t.theme,h=t.scales,p=void 0===h?{}:h,f=t.scaleDefs,d=void 0===f?{}:f;return e.container=i,e.labelsContainer=n,e.coordinate=o,e.data=r,e.sortable=s,e.visible=u,e.userTheme=c,e.scales=p,e.scaleDefs=d,e}function pn(t,e,i){var n=Object(Ct.transform)(t.getMatrix(),[["t",e,i]]);t.setMatrix(n)}function fn(t,e){var i=t.attr(),n=i.x,o=i.y,r=Object(Ct.transform)(t.getMatrix(),[["t",-n,-o],["r",e],["t",n,o]]);t.setMatrix(r)}var dn=(gn.prototype.render=function(t,e,c){var h=this;void 0===c&&(c=!1),this.shapesMap={};for(var p=this.container,i=this.createOffscreenGroup(),n=0,o=t;n<o.length;n++){var r=o[n];r&&this.renderLabel(r,i)}this.doLayout(t,e),this.renderLabelLine(t),this.adjustLabel(t);var f=this.lastShapesMap,d=this.shapesMap;Object(R.each)(d,function(t,e){var o,r,a,i,s,l,u,n;t.destroyed?delete d[e]:(f[e]?(o=t.get("data"),r=t.get("origin"),a=t.get("coordinate"),i=f[e],s=t.get("animateCfg"),i.set("data",o),i.set("origin",r),i.set("animateCfg",s),i.set("coordinate",a),l=Object(R.get)(s,"update"),u=i.getChildren(),t.getChildren().map(function(t,e){var i=u[e];i.set("data",o),i.set("origin",r),i.set("animateCfg",s),i.set("coordinate",a);var n=Tt(i,t);l?Gi(i,l,{toAttrs:n,coordinate:a}):i.attr(n)}),h.shapesMap[e]=i):(p.add(t),(n=Object(R.get)(t.get("animateCfg"),c?"enter":"appear"))&&Gi(t,n,{toAttrs:Object(S.__assign)({},t.attr()),coordinate:t.get("coordinate")})),delete f[e])}),Object(R.each)(f,function(t){var e=Object(R.get)(t.get("animateCfg"),"leave");e?Gi(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)}),this.lastShapesMap=d,i.destroy()},gn.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},gn.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},gn.prototype.renderLabel=function(t,e){var i,n,o,r,a,s,l=t.id,u=t.data,c=t.mappingData,h=t.coordinate,p=t.animate,f=t.content,d={id:l,data:u,origin:c,coordinate:h},g=e.addGroup(Object(S.__assign)({name:"label",animateCfg:!1!==this.animate&&null!==p&&!1!==p&&Object(R.deepMix)({},this.animate,p)},d));f.isGroup&&f.isGroup()||f.isShape&&f.isShape()?(o=(n=f.getCanvasBBox()).width,r=n.height,a=Object(R.get)(t,"textAlign","left"),s=t.x,"center"===a?s-=o/2:"right"!==a&&"end"!==a||(s-=o),pn(f,s,t.y-r/2),i=f,g.add(f)):i=g.addShape("text",Object(S.__assign)({attrs:Object(S.__assign)({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:Object(R.get)(t,"textBaseline","middle"),text:t.content},t.style)},d)),t.rotate&&fn(i,t.rotate),this.shapesMap[l]=g},gn.prototype.doLayout=function(o,r){var t,a=this;this.layout&&(t=Object(R.isArray)(this.layout)?this.layout:[this.layout],Object(R.each)(t,function(t){var i,n,e=Ki(Object(R.get)(t,"type",""));e&&(i=[],n=[],Object(R.each)(a.shapesMap,function(t,e){i.push(t),n.push(r[e])}),e(o,i,n,a.region,t.cfg))}))},gn.prototype.renderLabelLine=function(t){var a=this;Object(R.each)(t,function(t){var e,i,n,o,r;t&&t.labelLine&&(e=Object(R.get)(t,"labelLine",{}),i=t.id,(o=e.path)||(o=[["M",(n=t.start).x,n.y],["L",t.x,t.y]]),(r=a.shapesMap[i]).destroyed||r.addShape("path",{capture:!1,attrs:Object(S.__assign)({path:o,stroke:t.color?t.color:Object(R.get)(t,["style","fill"],"#000"),fill:null},e.style),id:i,origin:t.mappingData,data:t.data,coordinate:t.coordinate}))})},gn.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},gn.prototype.adjustLabel=function(t){var o=this;Object(R.each)(t,function(t){var e,i,n;t&&(e=t.id,(i=o.shapesMap[e]).destroyed||(n=i.find(function(t){return"text"===t.get("type")}))&&(t.offsetX&&n.attr("x",n.attr("x")+t.offsetX),t.offsetY&&n.attr("y",n.attr("y")+t.offsetY)))})},gn);function gn(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,i=t.container;this.layout=e,this.container=i}var yn=(An.prototype.getLabelItems=function(t){var a=this,s=[],i=this.getLabelCfgs(t);return Object(R.each)(t,function(n,t){var e,o,r=i[t];!r||Object(R.isNil)(n.x)||Object(R.isNil)(n.y)?s.push(null):(e=Object(R.isArray)(r.content)?r.content:[r.content],o=(r.content=e).length,Object(R.each)(e,function(t,e){var i;Object(R.isNil)(t)||""===t?s.push(null):((i=Object(S.__assign)(Object(S.__assign)({},r),a.getLabelPoint(r,n,e))).textAlign||(i.textAlign=a.getLabelAlign(i,e,o)),i.offset<=0&&(i.labelLine=null),s.push(i))}))}),s},An.prototype.render=function(t,e){void 0===e&&(e=!1);var i=this.getLabelItems(t),n=this.getLabelsRenderer(),o=this.getGeometryShapes();n.render(i,o,e)},An.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},An.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},An.prototype.getCoordinate=function(){return this.geometry.coordinate},An.prototype.getDefaultLabelCfg=function(){return Object(R.get)(this.geometry.theme,"labels",{})},An.prototype.setLabelPosition=function(t,e,i,n){},An.prototype.getDefaultOffset=function(t){var e=this.getCoordinate(),i=this.getOffsetVector(t);return e.isTransposed?i[0]:i[1]},An.prototype.getLabelOffset=function(t,e,i){var n=this.getDefaultOffset(t.offset),o=this.getCoordinate().isTransposed,r=o?1:-1,a={x:0,y:0};return a[o?"x":"y"]=0<e||1===i?n*r:n*r*-1,a},An.prototype.getLabelPoint=function(r,t,e){var i=this.getCoordinate(),n=r.content.length;function o(t,e){var i,n,o=t;return Object(R.isArray)(o)&&(o=1===r.content.length?o.length<=2?o[t.length-1]:(i=o,n=0,Object(R.each)(i,function(t){n+=t}),n/i.length):o[e]),o}var a,s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};t&&"polygon"===this.geometry.type?(a=function(t,e){if(Object(R.isNumber)(t)&&Object(R.isNumber)(e))return[t,e];for(var i,n,o=-1,r=0,a=0,s=t.length-1,l=0;++o<t.length;)i=s,s=o,l+=n=t[i]*e[s]-t[s]*e[i],r+=(t[i]+t[s])*n,a+=(e[i]+e[s])*n;return[r/(l*=3),a/l]}(t.x,t.y),s.x=a[0],s.y=a[1]):(s.x=o(t.x,e),s.y=o(t.y,e));var l,u,c,h,p=Object(R.isArray)(t.shape)?t.shape[0]:t.shape;"funnel"!==p&&"pyramid"!==p||(l=Object(R.get)(t,"nextPoints"),u=Object(R.get)(t,"points"),l?(c=i.convert(u[1]),h=i.convert(l[1]),s.x=(c.x+h.x)/2,s.y=(c.y+h.y)/2):"pyramid"===p&&(c=i.convert(u[1]),h=i.convert(u[2]),s.x=(c.x+h.x)/2,s.y=(c.y+h.y)/2)),r.position&&this.setLabelPosition(s,t,e,r.position);var f=this.getLabelOffset(r,e,n);return s.start={x:s.x,y:s.y},s.x+=f.x,s.y+=f.y,s.color=t.color,s},An.prototype.getLabelAlign=function(t,e,i){var n,o="center";return this.getCoordinate().isTransposed&&(o=(n=this.getDefaultOffset(t.offset))<0?"right":0===n?"center":"left",1<i&&0===e&&("right"===o?o="left":"left"===o&&(o="right"))),o},An.prototype.getLabelId=function(t){var e=this.geometry,i=e.type,n=e.getXScale(),o=e.getYScale(),r=t._origin,a=e.getElementId(t);return"line"===i||"area"===i?a+=" "+r[n.field]:"path"===i&&(a+=" "+r[n.field]+"-"+r[o.field]),a},An.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,i=t.labelOption,n=t.canvasRegion,o=t.animateOption,r=this.geometry.coordinate,a=this.labelsRenderer;return a||(a=new dn({container:e,layout:Object(R.get)(i,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=a),a.region=n,a.animate=!!o&&Yi("label",r),a},An.prototype.getLabelCfgs=function(t){var l=this,e=this.geometry,u=this.getDefaultLabelCfg(),c=e.type,h=e.theme,i=e.labelOption,n=e.scales,p=e.coordinate,f=i.fields,d=i.callback,g=i.cfg,y=f.map(function(t){return n[t]}),v=[];return Object(R.each)(t,function(t,e){var i=t._origin,n=l.getLabelText(i,y);if(d){var o=f.map(function(t){return i[t]}),r=d.apply(void 0,o);if(Object(R.isNil)(r))return void v.push(null)}var a=Object(S.__assign)(Object(S.__assign)({id:l.getLabelId(t),data:i,mappingData:t,coordinate:p},g),r),s=a.content;Object(R.isFunction)(s)?a.content=s(i,t,e):Object(R.isUndefined)(s)&&(a.content=n[0]),Object(R.isFunction)(a.position)&&(a.position=a.position(i,t,e)),a="polygon"===c||a.offset<0&&!["line","point","path"].includes(c)?Object(R.deepMix)({},u,h.innerLabels,a):Object(R.deepMix)({},u,h.labels,a),v.push(a)}),v},An.prototype.getLabelText=function(i,t){var n=[];return Object(R.each)(t,function(e){var t=i[e.field],t=Object(R.isArray)(t)?t.map(function(t){return e.getText(t)}):e.getText(t);Object(R.isNil)(t)||""===t?n.push(null):n.push(t)}),n},An.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate();return e.isTransposed?e.applyMatrix(t,0):e.applyMatrix(0,t)},An.prototype.getGeometryShapes=function(){var i=this.geometry,n={};return Object(R.each)(i.elementsMap,function(t,e){n[e]=t.shape}),Object(R.each)(i.getOffscreenGroup().getChildren(),function(t){var e=i.getElementId(t.get("origin").mappingData);n[e]=t}),n},An),vn="4.0.7",mn="#000",xn="#FFFFFF",bn="#A6A6A6",_n="#737373",Mn="#404040",On="#262626",wn=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Cn={brandColor:wn[0],paletteQualitative10:wn,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:Mn,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:bn,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Mn,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:On,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:_n,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:On,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:_n,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:wn[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:bn,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:On,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:_n,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:On,annotationArcBorder:.5,annotationLineBorderColor:Mn,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:bn,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#0D0D0D",annotationTextBorder:1.5,annotationRegionFillColor:xn,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Mn,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:bn,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:bn,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:mn,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Mn,pointFillColor:wn[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:mn,pointBorderOpacity:1,pointActiveBorderColor:xn,pointSelectedBorder:2,pointSelectedBorderColor:xn,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:wn[0],hollowPointBorderOpacity:.95,hollowPointFillColor:mn,hollowPointActiveBorder:1,hollowPointActiveBorderColor:xn,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:xn,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:wn[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:wn[0],areaFillOpacity:.25,areaActiveFillColor:wn[0],areaActiveFillOpacity:.5,areaSelectedFillColor:wn[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:wn[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:xn,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:xn,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:wn[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:xn,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:xn,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:wn[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:mn,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:xn,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:xn,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Sn=i(103),jn=i(104);function An(t){this.geometry=t}function Pn(t){return!t&&(null==t||isNaN(t))}function Tn(t){if(Object(R.isArray)(t))return Pn(t[1].y);var e=t.y;return Object(R.isArray)(e)?Pn(e[0]):Pn(e)}function Ln(t,e){if(!t.length)return[];if(e){for(var i=[],n=0,o=t.length;n<o;n++)Tn(r=t[n])||i.push(r);return[i]}for(var r,a=[],s=[],n=0,o=t.length;n<o;n++){Tn(r=t[n])?s.length&&(a.push(s),s=[]):s.push(r)}return s.length&&a.push(s),a}function kn(t,e,i,n){void 0===n&&(n="");var o=t.style,r=void 0===o?{}:o,a=t.defaultStyle,s=t.color,l=t.size,u=Object(S.__assign)(Object(S.__assign)({},a),r);return s&&(e&&(r.stroke||(u.stroke=s)),i&&(r.fill||(u.fill=s))),n&&Object(R.isNil)(r[n])&&!Object(R.isNil)(l)&&(u[n]=l),u}function En(t){var i=t.x;return(Object(R.isArray)(t.y)?t.y:[t.y]).map(function(t,e){return{x:Object(R.isArray)(i)?i[e]:i,y:t}})}var Dn={line:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},dot:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},dash:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},smooth:function(t,e,i){return[["M",t-i,e],["A",i/2,i/2,0,1,1,t,e],["A",i/2,i/2,0,1,0,t+i,e]]},hv:function(t,e,i){return[["M",t-i-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+i+1,e+2.5]]},vh:function(t,e,i){return[["M",t-i-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+i+1,e-2.5]]},hvh:function(t,e,i){return[["M",t-(i+1),e+2.5],["L",t-i/2,e+2.5],["L",t-i/2,e-2.5],["L",t+i/2,e-2.5],["L",t+i/2,e+2.5],["L",t+i+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function Bn(t,e){var i=t.color;return{symbol:Dn[e],style:{lineWidth:2,r:6,stroke:i}}}function Fn(t,e,i,n){var o;return i?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),o=Xt(t,!1,n)):(o=Gt(t,!1),e&&o.push(["Z"])),o}nn("line",{defaultShapeType:"line"}),Object(R.each)(["line","dot","dash","smooth"],function(l){on("line",l,{draw:function(t,e){var i,n,o,r,a="smooth"===l;a&&(n=(i=this.coordinate).start,o=i.end,r=[[n.x,o.y],[o.x,n.y]]);var s=function(t,e,i){for(var n,o,r,a,s,l,u=t.isStack,c=t.connectNulls,h=t.isInCircle,p=Ln(t.points,c),f=[],d=0,g=p.length;d<g;d++)var y=p[d],f=f.concat((o=h,r=u,a=e,s=i,l=(n=y)[0],Object(R.isArray)(l.y)?function(t,e,i,n,o){var r=[],a=[];Object(R.each)(t,function(t){var e=En(t);r.push(e[1]),a.push(e[0])});var s=Fn(r,e,n,o),l=Fn(a,e,n,o);return i?s:s.concat(l)}(n,o,r,a,s):Fn(n,o,a,s)));var v=kn(t,!0,!1,"lineWidth");return v.path=f,v}(t,a,r);return e.addShape({type:"path",attrs:s,name:"line"})},getMarker:function(t){return Bn(t,l)}})});var In,Rn=(In=cn,Object(S.__extends)(Nn,In),Nn.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);var n,o=this.lastElementsMap,r=this.elementsMap,a=this.elements,s=this.container,l=this.getElementId(t),u=this.getShapeInfo(t),c=o[l];return c?(an(c.getModel(),u)&&(c.animate=this.animateOption,c.update(u)),delete o[l]):(n=this.getShapeFactory(),(c=new Vi({shapeFactory:n,container:s,offscreenGroup:this.getOffscreenGroup()})).geometry=this,c.animate=this.animateOption,c.draw(u,i)),a.push(c),r[l]=c,a},Nn.prototype.getPointsAndData=function(t){for(var e=[],i=[],n=0,o=t.length;n<o;n++){var r=t[n];e.push({x:r.x,y:r.y}),i.push(r._origin)}return{points:e,data:i}},Nn.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),i=this.getPointsAndData(t),n=i.points,o=i.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=n,e.connectNulls=this.connectNulls,e},Nn);function Nn(t){var e=In.call(this,t)||this;e.type="path",e.shapeType="line";var i=t.connectNulls,n=void 0!==i&&i;return e.connectNulls=n,e}function Yn(t,r,a,s,l){for(var e=[],i=[],n=0,o=t.length;n<o;n++){var u=t[n];e.push(u[1]),i.push(u[0])}i=i.reverse();var c=[];return Object(R.each)([e,i],function(t,e){var i=[],n=s.parsePoints(t),o=n[0];r&&n.push({x:o.x,y:o.y}),i=a?Xt(n,!1,l):Gt(n,!1),0<e&&(i[0][0]="L"),c=c.concat(i)}),c.push(["Z"]),c}function Gn(t,e,i,n,o){for(var r=kn(t,e,!e,"lineWidth"),a=t.connectNulls,s=t.isInCircle,l=Ln(t.points,a),u=[],c=0,h=l.length;c<h;c++)var p=l[c],u=u.concat(Yn(p,s,i,n,o));return r.path=u,r}function Xn(t){var e=t.start,i=t.end;return[[e.x,i.y],[i.x,e.y]]}nn("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,i=t.y0;return(Object(R.isArray)(t.y)?t.y:[i,t.y]).map(function(t){return{x:e,y:t}})}}),on("area","area",{draw:function(t,e){var i=Gn(t,!1,!1,this);return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:t.color}}}});var zn,Vn=(zn=Rn,Object(S.__extends)(Hn,zn),Hn.prototype.getPointsAndData=function(t){for(var e=[],i=[],n=0,o=t.length;n<o;n++){var r=t[n];e.push(r.points),i.push(r._origin)}return{points:e,data:i}},Hn.prototype.getYMinValue=function(){return this.startOnZero?zn.prototype.getYMinValue.call(this):this.getYScale().min},Hn);function Hn(t){var e=zn.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var i=t.startOnZero,n=void 0===i||i,o=t.sortable,r=void 0===o||o;return e.startOnZero=n,e.sortable=r,e}nn("edge",{defaultShapeType:"line",getDefaultPoints:En}),on("edge","line",{draw:function(t,e){var i=kn(t,!0,!1,"lineWidth"),n=Gt(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var Wn,qn,Un=(qn=cn,Object(S.__extends)($n,qn),$n),Zn=(Wn=cn,Object(S.__extends)(Kn,Wn),Kn.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);var n=this.prepareRange(t),o=this.prepareSize(),r=Object(R.get)(this.styleOption,["style","shadowBlur"]);return Object(R.isNumber)(r)||(r=o/2),this.prepareGreyScaleBlurredCircle(o,r),this.drawWithRange(t,n,o,r),null},Kn.prototype.clear=function(){Wn.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},Kn.prototype.prepareRange=function(t){var i=this.getAttribute("color").getFields()[0],n=1/0,o=-1/0;return t.forEach(function(t){var e=t._origin[i];o<e&&(o=e),e<n&&(n=e)}),n===o&&(n=o-1),[n,o]},Kn.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Object(R.isNumber)(t)||(t=this.getDefaultSize()),t},Kn.prototype.prepareGreyScaleBlurredCircle=function(t,e){var i=this.getGrayScaleBlurredCanvas(),n=t+e,o=i.getContext("2d");i.width=i.height=2*n,o.clearRect(0,0,i.width,i.height),o.shadowOffsetX=o.shadowOffsetY=2*n,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-n,-n,t,0,2*Math.PI,!0),o.closePath(),o.fill()},Kn.prototype.drawWithRange=function(t,e,i,n){var o=this.coordinate,r=o.start,a=o.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(t){return t._origin[u]<=e[1]&&t._origin[u]>=e[0]}));for(var h=this.scales[u],p=0,f=t;p<f.length;p++){var d=f[p],g=this.getDrawCfg(d),y=g.x,v=g.y,m=h.scale(d._origin[u]);this.drawGrayScaleBlurredCircle(y-r.x,v-a.y,i+n,m,c)}var x=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(x),c.putImageData(x,0,0);var b=this.getImageShape();b.attr("x",r.x),b.attr("y",a.y),b.attr("width",s),b.attr("height",l),b.attr("img",c.canvas),b.set("origin",this.getShapeInfo(t))},Kn.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},Kn.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},Kn.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},Kn.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},Kn.prototype.drawGrayScaleBlurredCircle=function(t,e,i,n,o){var r=this.getGrayScaleBlurredCanvas();o.globalAlpha=n,o.drawImage(r,t-i,e-i)},Kn.prototype.colorize=function(t){for(var e=this.getAttribute("color"),i=t.data,n=this.paletteCache,o=3;o<i.length;o+=4){var r,a=i[o];Object(R.isNumber)(a)&&(r=n[a]?n[a]:k.default.rgb2arr(e.gradient(a/256)),i[o-3]=r[0],i[o-2]=r[1],i[o-1]=r[2],i[o]=a)}},Kn.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t)},Kn.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(S.__assign)(Object(S.__assign)({},e),{mappingData:t,data:this.getData(t)})},Kn.prototype.getData=function(t){return t.map(function(t){return t._origin})},Kn);function Kn(){var t=null!==Wn&&Wn.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}function $n(){var t=null!==qn&&qn.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}function Qn(t,e){void 0===e&&(e=!1);var i,n,o=t.x,r=t.y,a=t.y0,s=t.size,l=Object(R.isArray)(r)?(i=r[0],r[1]):(i=a,r),u=Object(R.isArray)(o)?(n=o[0],o[1]):(n=o-s/2,o+s/2),c=[{x:n,y:i},{x:n,y:l}];return e?c.push({x:u,y:(l+i)/2}):c.push({x:u,y:l},{x:u,y:i}),c}function Jn(t){var e=[],i=t[0];e.push(["M",i.x,i.y]);for(var n=1,o=t.length;n<o;n++)e.push(["L",t[n].x,t[n].y]);return e.push(["L",i.x,i.y]),e.push(["z"]),e}function to(t,e,i){var n=[];return Object(R.isNil)(e)?i?n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[2].x,t[2].y],["Z"]):n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),n}function eo(t){var e,i=t.theme,n=t.coordinate,o=t.getXScale(),r=o.values,a=t.beforeMappingData,s=r.length;o.isLinear&&1<r.length&&(r.sort(),e=function(t,e){var i=t.length,n=t;Object(R.isString)(n[0])&&(n=t.map(function(t){return e.translate(t)}));for(var o=n[1]-n[0],r=2;r<i;r++){var a=n[r]-n[r-1];a<o&&(o=a)}return o}(r,o),s=(o.max-o.min)/e,r.length>s&&(s=r.length));var l=o.range,u=1/s,c=1,c=n.isPolar?n.isTransposed&&1<s?i.multiplePieWidthRatio:i.roseWidthRatio:(o.isLinear&&(u*=l[1]-l[0]),i.columnWidthRatio);u*=c,t.getAdjust("dodge")&&(u/=function(t,e){if(e){var i=Object(R.flatten)(t);return Object(R.valuesOfKey)(i,e).length}return t.length}(a,t.getAdjust("dodge").dodgeBy));var h,p,f=i.maxColumnWidth,d=i.minColumnWidth,g=Dt(t.coordinate);return!f||(h=f/g)<u&&(u=h),!d||u<(p=d/g)&&(u=p),u}nn("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return Qn(t)}}),on("interval","rect",{draw:function(t,e){var i=kn(t,!1,!0),n=this.parsePath(Jn(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var io,no,oo=(no=cn,Object(S.__extends)(uo,no),uo.prototype.createShapePointsCfg=function(t){var e,i=no.prototype.createShapePointsCfg.call(this,t),n=this.getAttribute("size");return n?(e=this.getAttributeValues(n,t)[0],e/=Dt(this.coordinate)):(this.defaultSize||(this.defaultSize=eo(this)),e=this.defaultSize),i.size=e,i},uo.prototype.adjustScale=function(){no.prototype.adjustScale.call(this);var t,e,i,n,o=this.getYScale();"theta"===this.coordinate.type?o.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,o.values),o.max)}):(t=this.scaleDefs,e=o.field,i=o.min,n=o.max,"time"!==o.type&&(0<i&&!Object(R.get)(t,[e,"min"])&&o.change({min:0}),n<=0&&!Object(R.get)(t,[e,"max"])&&o.change({max:0})))},uo),ro=(io=Rn,Object(S.__extends)(lo,io),lo),ao={hexagon:function(t,e,i){var n=i/2*Math.sqrt(3);return[["M",t,e-i],["L",t+n,e-i/2],["L",t+n,e+i/2],["L",t,e+i],["L",t-n,e+i/2],["L",t-n,e-i/2],["Z"]]},bowtie:function(t,e,i){var n=i-1.5;return[["M",t-i,e-n],["L",t+i,e+n],["L",t+i,e-n],["L",t-i,e+n],["Z"]]},cross:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e+i],["M",t+i,e-i],["L",t-i,e+i]]},tick:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},plus:function(t,e,i){return[["M",t-i,e],["L",t+i,e],["M",t,e-i],["L",t,e+i]]},hyphen:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},line:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]}},so=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function lo(t){var e=io.call(this,t)||this;e.type="line";var i=t.sortable,n=void 0===i||i;return e.sortable=n,e}function uo(){var t=null!==no&&no.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}function co(t,e,i,n,o){var r=kn(e,o,!o,"r"),a=t.parsePoints(e.points),s=a[0];if(e.isStack)s=a[1];else if(1<a.length){for(var l=i.addGroup(),u=0,c=a;u<c.length;u++){var h=c[u];l.addShape({type:"marker",attrs:Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},r),{symbol:ao[n]||n}),h)})}return l}return i.addShape({type:"marker",attrs:Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},r),{symbol:ao[n]||n}),s)})}nn("point",{defaultShapeType:"hollow-circle",getDefaultPoints:En}),Object(R.each)(so,function(i){on("point","hollow-"+i,{draw:function(t,e){return co(this,t,e,i,!0)},getMarker:function(t){var e=t.color;return{symbol:ao[i]||i,style:{r:4.5,stroke:e,fill:null}}}})});var ho,po=(ho=cn,Object(S.__extends)(fo,ho),fo.prototype.getDrawCfg=function(t){var e=ho.prototype.getDrawCfg.call(this,t);return Object(S.__assign)(Object(S.__assign)({},e),{isStack:!!this.getAdjust("stack")})},fo);function fo(){var t=null!==ho&&ho.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}nn("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(n){var o=[];return Object(R.each)(n.x,function(t,e){var i=n.y[e];o.push({x:t,y:i})}),o}}),on("polygon","polygon",{draw:function(t,e){if(!Object(R.isEmpty)(t.points)){var i=kn(t,!0,!0),n=this.parsePath(function(t){for(var e=t[0],i=1,n=[["M",e.x,e.y]];i<t.length;){var o=t[i];o.x===t[i-1].x&&o.y===t[i-1].y||(n.push(["L",o.x,o.y]),o.x===e.x&&o.y===e.y&&i<t.length-1&&(e=t[i+1],n.push(["Z"]),n.push(["M",e.x,e.y]),i++)),i++}return Object(R.isEqual)(Object(R.last)(n),e)||n.push(["L",e.x,e.y]),n.push(["Z"]),n}(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var go,yo,vo=(yo=cn,Object(S.__extends)(bo,yo),bo.prototype.createShapePointsCfg=function(t){var e,i,n,o,r,a=yo.prototype.createShapePointsCfg.call(this,t),s=a.x,l=a.y;return Object(R.isArray)(s)&&Object(R.isArray)(l)||(i=this.getXScale(),n=this.getYScale(),o=.5/i.values.length,r=.5/n.values.length,i.isCategory&&n.isCategory?(s=[s-o,s-o,s+o,s+o],l=[l-r,l+r,l+r,l-r]):Object(R.isArray)(s)?(s=[(e=s)[0],e[0],e[1],e[1]],l=[l-r/2,l+r/2,l+r/2,l-r/2]):Object(R.isArray)(l)&&(l=[(e=l)[0],e[1],e[1],e[0]],s=[s-o/2,s-o/2,s+o/2,s+o/2]),a.x=s,a.y=l),a},bo),mo=(nn("schema",{defaultShapeType:""}),go=cn,Object(S.__extends)(xo,go),xo.prototype.createShapePointsCfg=function(t){var e,i=go.prototype.createShapePointsCfg.call(this,t),n=this.getAttribute("size");return n?(e=this.getAttributeValues(n,t)[0],e/=Dt(this.coordinate)):(this.defaultSize||(this.defaultSize=eo(this)),e=this.defaultSize),i.size=e,i},xo);function xo(){var t=null!==go&&go.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}function bo(){var t=null!==yo&&yo.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}function _o(t,e){var i=[];i.push({x:t.x,y:t.y/2+e.y/2}),i.push({x:e.x,y:t.y/2+e.y/2}),i.push(e);var n=["C"];return Object(R.each)(i,function(t){n.push(t.x,t.y)}),n}function Mo(t,e){var i=[];i.push({x:e.x,y:e.y}),i.push(t);var n=["Q"];return Object(R.each)(i,function(t){n.push(t.x,t.y)}),n}function Oo(t,o){var e=Ln(t.points,t.connectNulls),r=[];return Object(R.each)(e,function(t){var i,u,n,e=(i=t,u=o,n=[],Object(R.each)(i,function(s,t){var e,l=i[t+1];n.push(s),l&&(e=function(){var t=s.x,e=s.y,i=l.x,n=l.y;switch(u){case"hv":r=[{x:i,y:e}];break;case"vh":r=[{x:t,y:n}];break;case"hvh":var o=(i+t)/2,r=[{x:o,y:e},{x:o,y:n}];break;case"vhv":var a=(e+n)/2;r=[{x:t,y:a},{x:i,y:a}]}return r}(),n=n.concat(e))}),n);r=r.concat(e.map(function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}),Object(S.__assign)(Object(S.__assign)({},kn(t,!0,!1,"lineWidth")),{path:r})}function wo(t){var e=Object(R.isArray)(t)?t:[t],i=e[0],n=e[e.length-1],o=1<e.length?e[1]:i;return{min:i,max:n,min1:o,max1:3<e.length?e[3]:n,median:2<e.length?e[2]:o}}function Co(t,e,i){var n,o,r,a,s,l,u,c,h,p,f,d=i/2;return(Object(R.isArray)(e)?(o=(n=wo(e)).min,r=n.max,a=n.median,s=n.min1,[[l=t-d,r],[u=t+d,r],[t,r],[t,c=n.max1],[l,s],[l,c],[u,c],[u,s],[t,s],[t,o],[l,o],[u,o],[l,a],[u,a]]):(e=Object(R.isNil)(e)?.5:e,o=(h=wo(t)).min,r=h.max,a=h.median,[[o,p=e-d],[o,f=e+d],[o,e],[s=h.min1,e],[s,p],[s,f],[c=h.max1,f],[c,p],[c,e],[r,e],[r,p],[r,f],[a,p],[a,f]])).map(function(t){return{x:t[0],y:t[1]}})}function So(t,e,i){var n,o,r=(n=e,function(t,e){if(Object(R.isString)(t))return t.padEnd(4,e);if(Object(R.isArray)(t)){var i=t.length;if(i<4)for(var n=4-i,o=0;o<n;o++)t.push(e)}return t}(o=(Object(R.isArray)(n)?n:[n]).sort(function(t,e){return e-t}),o[o.length-1]));return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-i/2,y:r[2]},{x:t-i/2,y:r[1]},{x:t+i/2,y:r[1]},{x:t+i/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}on("area","line",{draw:function(t,e){var i=Gn(t,!0,!1,this);return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),on("area","smooth",{draw:function(t,e){var i=Gn(t,!1,!0,this,Xn(this.coordinate));return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:t.color}}}}),on("area","smooth-line",{draw:function(t,e){var i=Gn(t,!0,!0,this,Xn(this.coordinate));return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),on("edge","arc",{draw:function(t,e){var i,n,o,r,a,s,l,u,c,h=kn(t,!0,!1,"lineWidth"),p=t.points,f=2<p.length?"weight":"normal";if(t.isInCircle){var d={x:0,y:1},g="normal"==f?(s=p[0],l=p[1],u=Mo(l,d),(c=[["M",s.x,s.y]]).push(u),c):(h.fill=h.stroke,n=d,o=Mo((i=p)[1],n),r=Mo(i[3],n),(a=[["M",i[0].x,i[0].y]]).push(r),a.push(["L",i[3].x,i[3].y]),a.push(["L",i[2].x,i[2].y]),a.push(o),a.push(["L",i[1].x,i[1].y]),a.push(["L",i[0].x,i[0].y]),a.push(["Z"]),a);return g=this.parsePath(g),e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},h),{path:g})})}if("normal"==f)return g=At(((p=this.parsePoints(p))[1].x+p[0].x)/2,p[0].y,Math.abs(p[1].x-p[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},h),{path:g})});var y=_o(p[1],p[3]),v=_o(p[2],p[0]);return g=[["M",p[0].x,p[0].y],["L",p[1].x,p[1].y],y,["L",p[3].x,p[3].y],["L",p[2].x,p[2].y],v,["Z"]],g=this.parsePath(g),h.fill=h.stroke,e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},h),{path:g})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),on("edge","smooth",{draw:function(t,e){var i,n,o,r=kn(t,!0,!1,"lineWidth"),a=t.points,s=this.parsePath((i=a[0],n=_o(i,a[1]),(o=[["M",i.x,i.y]]).push(n),o));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},r),{path:s})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),on("edge","vhv",{draw:function(t,e){var i=kn(t,!0,!1,"lineWidth"),n=t.points,o=this.parsePath(function(t,e){var i=[];i.push({x:t.x,y:t.y*(1-1/3)+e.y*(1/3)}),i.push({x:e.x,y:t.y*(1-1/3)+e.y*(1/3)}),i.push(e);var n=[["M",t.x,t.y]];return Object(R.each)(i,function(t){n.push(["L",t.x,t.y])}),n}(n[0],n[1]));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:o})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),on("interval","funnel",{getPoints:function(t){return t.size=2*t.size,Qn(t)},draw:function(t,e){var i=kn(t,!1,!0),n=this.parsePath(to(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),on("interval","hollow-rect",{draw:function(t,e){var i=kn(t,!0,!1),n=this.parsePath(Jn(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),on("interval","line",{getPoints:function(t){return i=t.x,e=t.y,n=t.y0,Object(R.isArray)(e)?e.map(function(t,e){return{x:Object(R.isArray)(i)?i[e]:i,y:t}}):[{x:i,y:n},{x:i,y:e}];var i,e,n},draw:function(t,e){var i=kn(t,!0,!1,"lineWidth"),n=this.parsePath(Jn(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]},style:{r:5,stroke:t.color}}}}),on("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,Qn(t,!0)},draw:function(t,e){var i=kn(t,!1,!0),n=this.parsePath(to(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),on("interval","tick",{getPoints:function(t){return i=t.x,n=t.y,o=t.y0,r=t.size,a=Object(R.isArray)(n)?(e=n[0],n[1]):(e=o,n),[{x:i,y:e},{x:i,y:a},{x:l=i-r/2,y:e},{x:s=i+r/2,y:e},{x:l,y:a},{x:s,y:a}];var e,i,n,o,r,a,s,l},draw:function(t,e){var i,n=kn(t,!0,!1),o=this.parsePath([["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},n),{path:o}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},style:{r:5,stroke:t.color}}}}),Object(R.each)(["hv","vh","hvh","vhv"],function(n){on("line",n,{draw:function(t,e){var i=Oo(t,n);return e.addShape({type:"path",attrs:i,name:"line"})},getMarker:function(t){return Bn(t,n)}})}),Object(R.each)(["cross","tick","plus","hyphen","line"],function(i){on("point",i,{draw:function(t,e){return co(this,t,e,i,!0)},getMarker:function(t){var e=t.color;return{symbol:ao[i],style:{r:4.5,stroke:e,fill:null}}}})}),on("point","image",{draw:function(t,e){var i=kn(t,!1,!1,"r").r,n=this.parsePoints(t.points),o=n[0];if(t.isStack)o=n[1];else if(1<n.length){for(var r=e.addGroup(),a=0,s=n;a<s.length;a++){var l=s[a];r.addShape("image",{attrs:{x:l.x-i/2,y:l.y-i,width:i,height:i,img:t.shape[1]}})}return r}return e.addShape("image",{attrs:{x:o.x-i/2,y:o.y-i,width:i,height:i,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Object(R.each)(so,function(i){on("point",i,{draw:function(t,e){return co(this,t,e,i,!1)},getMarker:function(t){var e=t.color;return{symbol:ao[i]||i,style:{r:4.5,fill:e}}}})}),on("schema","box",{getPoints:function(t){return Co(t.x,t.y,t.size)},draw:function(t,e){var i,n=kn(t,!0,!1),o=this.parsePath([["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},n),{path:o,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,i){var n=Co(t,[e-6,e-3,e,e+3,e+6],i);return[["M",n[0].x+1,n[0].y],["L",n[1].x-1,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x+1,n[10].y],["L",n[11].x-1,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),on("schema","candle",{getPoints:function(t){return So(t.x,t.y,t.size)},draw:function(t,e){var i,n=kn(t,!0,!0),o=this.parsePath([["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},n),{path:o,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,i){var n=So(t,[e+7.5,e+3,e-3,e-7.5],i);return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});var jo,Ao,Po,To=(Po=yn,Object(S.__extends)(Fo,Po),Fo.prototype.setLabelPosition=function(t,e,i,n){var o=this.getCoordinate(),r=o.isTransposed,a=e.points,s=o.convert(a[0]),l=o.convert(a[2]),u=r?-1:1,c=(s.x-l.x)/2*u,h=(s.y-l.y)/2*u;switch(n){case"right":r||(t.x-=c,t.y+=h),t.textAlign=Object(R.get)(t,"textAlign","left");break;case"left":r?t.x-=2*c:(t.x+=c,t.y+=h),t.textAlign=Object(R.get)(t,"textAlign","right");break;case"bottom":r?(t.x-=c,t.y-=h):t.y+=2*h,t.textAlign=Object(R.get)(t,"textAlign","center"),t.textBaseline=Object(R.get)(t,"textBaseline","top");break;case"middle":r?t.x-=c:t.y+=h,t.textAlign=Object(R.get)(t,"textAlign","center");break;case"top":r&&(t.x-=c,t.y+=h),t.textAlign=Object(R.get)(t,"textAlign","center"),t.textBaseline=Object(R.get)(t,"textBaseline","bottom")}},Fo),Lo=Math.PI/2,ko=(Ao=yn,Object(S.__extends)(Bo,Ao),Bo.prototype.getLabelAlign=function(t){var e,i,n=this.getCoordinate();return t.labelEmit?t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right":n.isTransposed?(e=n.getCenter(),i=this.getDefaultOffset(t.offset),Math.abs(t.x-e.x)<1?"center":t.angle>Math.PI||t.angle<=0?0<i?"left":"right":0<i?"right":"left"):"center"},Bo.prototype.getLabelPoint=function(t,e,i){var n=1,o=t.content[i],r=this.isToMiddle(e)?this.getMiddlePoint(e.points):(1===t.content.length&&0===i?i=1:0===i&&(n=-1),this.getArcPoint(e,i)),a=this.getDefaultOffset(t.offset)*n,s=this.getPointAngle(r),l=t.labelEmit,u=this.getCirclePoint(s,a,r,l);return 0===u.r?u.content="":(u.content=o,u.angle=s,u.color=e.color),u.rotate=t.autoRotate?this.getLabelRotate(s,a,l):t.rotate,u.start={x:r.x,y:r.y},u},Bo.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),Object(R.isArray)(t.x)||Object(R.isArray)(t.y)?{x:Object(R.isArray)(t.x)?t.x[e]:t.x,y:Object(R.isArray)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},Bo.prototype.getPointAngle=function(t){return It(this.getCoordinate(),t)},Bo.prototype.getCirclePoint=function(t,e,i,n){var o=this.getCoordinate(),r=o.getCenter(),a=Bt(o,i);if(0===a)return Object(S.__assign)(Object(S.__assign)({},r),{r:a});var s=t;return o.isTransposed&&e<a&&!n?s=t+2*Math.asin(e/(2*a)):a+=e,{x:r.x+a*Math.cos(s),y:r.y+a*Math.sin(s),r:a}},Bo.prototype.getLabelRotate=function(t,e,i){var n=t+Lo;return i&&(n-=Lo),n&&(Lo<n?n-=Math.PI:n<-Lo&&(n+=Math.PI)),n},Bo.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),i=t.length,n={x:0,y:0};return Object(R.each)(t,function(t){n.x+=t.x,n.y+=t.y}),n.x/=i,n.y/=i,n=e.convert(n)},Bo.prototype.isToMiddle=function(t){return 2<t.x.length},Bo),Eo=(jo=ko,Object(S.__extends)(Do,jo),Do.prototype.getDefaultLabelCfg=function(){return Object(R.get)(this.geometry.theme,"pieLabels",{})},Do.prototype.getDefaultOffset=function(t){return t||0},Do.prototype.getLabelRotate=function(t,e,i){var n;return e<0&&((n=t)>Math.PI/2&&(n-=Math.PI),n<-Math.PI/2&&(n+=Math.PI)),n},Do.prototype.getLabelAlign=function(t){var e=this.getCoordinate().getCenter(),i=t.angle<=Math.PI/2&&t.x>=e.x?"left":"right";return this.getDefaultOffset(t.offset)<=0&&(i="right"===i?"left":"right"),i},Do.prototype.getArcPoint=function(t){return t},Do.prototype.getPointAngle=function(t){var e,i=this.getCoordinate(),n={x:Object(R.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},o={x:Object(R.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},r=It(i,n),a=t.points&&t.points[0].y===t.points[1].y?r:((e=It(i,o))<=r&&(e+=2*Math.PI),r+(e-r)/2);return a},Do.prototype.getCirclePoint=function(t,e,i){var n=this.getCoordinate(),o=n.getCenter(),r=n.getRadius()+e;return Object(S.__assign)(Object(S.__assign)({},St(o.x,o.y,r,t)),{angle:t,r:r})},Do);function Do(t){var e=jo.call(this,t)||this;return e.defaultLayout="distribute",e}function Bo(){return null!==Ao&&Ao.apply(this,arguments)||this}function Fo(){return null!==Po&&Po.apply(this,arguments)||this}var Io=(Ro.prototype.hasGap=function(t){for(var e=!0,i=this.bitmap,n=Math.round(t.minX),o=Math.round(t.maxX),r=Math.round(t.minY),a=Math.round(t.maxY),s=n;s<=o;s+=1)if(i[s]){if(s===n||s===o){for(var l=r;l<=a;l++)if(i[s][l]){e=!1;break}}else if(i[s][r]||i[s][a]){e=!1;break}}else i[s]={};return e},Ro.prototype.fillGap=function(t){for(var e=this.bitmap,i=Math.round(t.minX),n=Math.round(t.maxX),o=Math.round(t.minY),r=Math.round(t.maxY),a=i;a<=n;a+=1)e[a]||(e[a]={});for(a=i;a<=n;a+=this.xGap){for(var s=o;s<=r;s+=this.yGap)e[a][s]=!0;e[a][r]=!0}if(1!==this.yGap)for(a=o;a<=r;a+=1)e[i][a]=!0,e[n][a]=!0;if(1!==this.xGap)for(a=i;a<=n;a+=1)e[a][o]=!0,e[a][r]=!0},Ro.prototype.destroy=function(){this.bitmap={}},Ro);function Ro(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,i=void 0===e?1:e,n=t.yGap,o=void 0===n?8:n;this.xGap=i,this.yGap=o}function No(t,e,i,n){var o=t.getCanvasBBox(),r=o.width,a=o.height,s={x:e,y:i,textAlign:"center"};switch(n){case 0:s.y-=a+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=a+1,--s.x,s.textAlign="right";break;case 2:s.y+=a+1,--s.x,s.textAlign="right";break;case 3:s.y+=a+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*a+2;break;case 6:s.y+=2*a+2;break;case 7:s.x+=r+1,s.textAlign="left";break;case 8:s.x-=r+1,s.textAlign="right"}return t.attr(s),t.getCanvasBBox()}function Yo(t,e,i,n,o){var r,a,s=i.start,l=i.end,u=i.getWidth(),c=i.getHeight();"y"===o?(r=s.x+u/2,a=n.y<s.y?n.y:s.y):"x"===o?(r=n.x>s.x?n.x:s.x,a=s.y+c/2):"xy"===o&&(a=i.isPolar?(r=i.getCenter().x,i.getCenter().y):(r=(s.x+l.x)/2,(s.y+l.y)/2));var h,p,f,d,g,y,v=(f=o,g=(p=[r,a])[0],y=p[1],(h=t).applyToMatrix([g,y,1]),"x"===f?(h.setMatrix(Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",.01,1],["t",g,y]])),d=Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",100,1],["t",g,y]])):"y"===f?(h.setMatrix(Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",1,.01],["t",g,y]])),d=Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",1,100],["t",g,y]])):"xy"===f&&(h.setMatrix(Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",.01,.01],["t",g,y]])),d=Object(Ct.transform)(h.getMatrix(),[["t",-g,-y],["s",100,100],["t",g,y]])),d);t.animate({matrix:v},e)}var Go=i(157),Xo=i.n(Go);function zo(t,e){var i,n=Xo()(t,e),o=n.startAngle,r=n.endAngle;return!Object(R.isNumberEqual)(o,.5*-Math.PI)&&o<.5*-Math.PI&&(o+=2*Math.PI),!Object(R.isNumberEqual)(r,.5*-Math.PI)&&r<.5*-Math.PI&&(r+=2*Math.PI),0===e[5]&&(o=(i=[r,o])[0],r=i[1]),Object(R.isNumberEqual)(o,1.5*Math.PI)&&(o=-.5*Math.PI),Object(R.isNumberEqual)(r,-.5*Math.PI)&&(r=1.5*Math.PI),{startAngle:o,endAngle:r}}function Vo(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function Ho(t){var e,i,n=t.filter(function(t){return"A"===t[0]||"a"===t[0]}),o=n[0],r=1<n.length?n[1]:n[0],a=t.indexOf(o),s=t.indexOf(r),l=Vo(t[a-1]),u=Vo(t[s-1]),c=zo(l,o),h=c.startAngle,p=c.endAngle,f=zo(u,r),d=f.startAngle,g=f.endAngle,y=Object(R.isNumberEqual)(h,d)&&Object(R.isNumberEqual)(p,g)?(i=h,p):(i=Math.min(h,d),Math.max(p,g)),v=o[1],m=n[n.length-1][1];return v<m?(v=(e=[m,v])[0],m=e[1]):v===m&&(m=0),{startAngle:i,endAngle:y,radius:v,innerRadius:m}}function Wo(t,e,i){var n,o,r,a;t.isGroup()?Object(R.each)(t.getChildren(),function(t){Wo(t,e,i)}):(o=((n=t.getBBox()).minX+n.maxX)/2,r=(n.minY+n.maxY)/2,t.applyToMatrix([o,r,1]),"zoomIn"===i?(a=Object(Ct.transform)(t.getMatrix(),[["t",-o,-r],["s",.01,.01],["t",o,r]]),t.setMatrix(a),t.animate({matrix:Object(Ct.transform)(t.getMatrix(),[["t",-o,-r],["s",100,100],["t",o,r]])},e)):t.animate({matrix:Object(Ct.transform)(t.getMatrix(),[["t",-o,-r],["s",.01,.01],["t",o,r]])},Object(S.__assign)(Object(S.__assign)({},e),{callback:function(){t.remove(!0)}})))}function qo(t){return[y.TOP,y.BOTTOM].includes(t)?{offsetX:0,offsetY:t===y.TOP?-8:8,style:{textAlign:"center",textBaseline:t===y.TOP?"bottom":"top"}}:[y.LEFT,y.RIGHT].includes(t)?{offsetX:t===y.LEFT?-8:8,offsetY:0,style:{textAlign:t===y.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Uo(t,e,i){return{x:t.x+e*Math.cos(i),y:t.y+e*Math.sin(i)}}var Zo,Ko,$o,Qo,Jo,tr,er,ir=(er=ft,Object(S.__extends)(gr,er),gr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},er.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:er.prototype.getDefaultTitleCfg.call(this)})},gr.prototype.render=function(){er.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},gr.prototype.getRegion=function(t,e){var i=2*Math.PI/t,n=-1*Math.PI/2+i*e,o=.5/(1+1/Math.sin(i/2)),r=Uo({x:.5,y:.5},.5-o,n),a=5*Math.PI/4,s=Math.PI/4;return{start:Uo(r,o,a),end:Uo(r,o,s)}},gr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},gr.prototype.beforeEachView=function(t,e){},gr.prototype.generateFacets=function(r){var a=this,t=this.cfg,e=t.fields,s=t.type,l=e[0];if(!l)throw new Error("No `fields` specified!");var u=this.getFieldValues(r,l),c=u.length,h=[];return u.forEach(function(t,e){var i=[{field:l,value:t,values:u}],n=Object(R.filter)(r,a.getFacetDataFilter(i)),o={type:s,data:n,region:a.getRegion(c,e),columnValue:t,columnField:l,columnIndex:e,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(o)}),h},gr.prototype.getXAxisOption=function(t,e,i,n){return i},gr.prototype.getYAxisOption=function(t,e,i,n){return i},gr.prototype.renderTitle=function(){var o=this;Object(R.each)(this.facets,function(t){var e=t.columnValue,i=t.view,n=Object(R.deepMix)({position:["50%","0%"],content:e},qo(y.TOP),o.cfg.title);i.annotation().text(n)})},gr),nr=(tr=ft,Object(S.__extends)(dr,tr),dr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},tr.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:tr.prototype.getDefaultTitleCfg.call(this)})},dr.prototype.render=function(){tr.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},dr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},dr.prototype.beforeEachView=function(t,e){},dr.prototype.generateFacets=function(l){var u=this,t=this.cfg.fields,c=this.cfg.cols,h=t[0];if(!h)throw new Error("No `fields` specified!");var p=this.getFieldValues(l,h),f=p.length,c=c||f,d=this.getPageCount(f,c),g=[];return p.forEach(function(t,e){var i=u.getRowCol(e,c),n=i.row,o=i.col,r=[{field:h,value:t,values:p}],a=Object(R.filter)(l,u.getFacetDataFilter(r)),s={type:u.cfg.type,data:a,region:u.getRegion(d,c,o,n),columnValue:t,rowValue:t,columnField:h,rowField:null,columnIndex:o,rowIndex:n,columnValuesLength:c,rowValuesLength:d,total:f};g.push(s)}),g},dr.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1&&n.columnValuesLength*n.rowIndex+n.columnIndex+1+n.columnValuesLength<=n.total?Object(S.__assign)(Object(S.__assign)({},i),{label:null,title:null}):i},dr.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},dr.prototype.renderTitle=function(){var o=this;Object(R.each)(this.facets,function(t){var e=t.columnValue,i=t.view,n=Object(R.deepMix)({position:["50%","0%"],content:e},qo(y.TOP),o.cfg.title);i.annotation().text(n)})},dr.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},dr.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},dr),or=(Jo=ft,Object(S.__extends)(fr,Jo),fr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},Jo.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(S.__assign)({},Jo.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(S.__assign)({},Jo.prototype.getDefaultTitleCfg.call(this))})},fr.prototype.render=function(){Jo.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},fr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},fr.prototype.beforeEachView=function(t,e){},fr.prototype.generateFacets=function(t){for(var e=this.cfg,i=e.fields,n=e.type,o=i.length,r=o,a=[],s=0;s<r;s++)for(var l=i[s],u=0;u<o;u++){var c=i[u],h={type:n,data:t,region:this.getRegion(o,r,s,u),columnValue:l,rowValue:c,columnField:l,rowField:c,columnIndex:s,rowIndex:u,columnValuesLength:r,rowValuesLength:o};a.push(h)}return a},fr.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1?Object(S.__assign)(Object(S.__assign)({},i),{label:null,title:null}):i},fr.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},fr.prototype.renderTitle=function(){var u=this;Object(R.each)(this.facets,function(t,e){var i,n=t.columnIndex,o=t.rowIndex,r=t.columnValuesLength,a=(t.rowValuesLength,t.columnValue),s=t.rowValue,l=t.view;0===o&&(i=Object(R.deepMix)({position:["50%","0%"],content:a},qo(y.TOP),u.cfg.columnTitle),l.annotation().text(i)),n===r-1&&(i=Object(R.deepMix)({position:["100%","50%"],content:s},qo(y.RIGHT),u.cfg.rowTitle),l.annotation().text(i))})},fr),rr=(Qo=ft,Object(S.__extends)(pr,Qo),pr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},Qo.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:Qo.prototype.getDefaultTitleCfg.call(this),transpose:!1})},pr.prototype.render=function(){Qo.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},pr.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},pr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},pr.prototype.generateFacets=function(s){var l,u,c=this,t=this.cfg.fields[0],h=[],p=1,f=1,d=[""],g=[""];return this.cfg.transpose?(l=t,d=this.getFieldValues(s,l).slice(0,2),p=d.length):(u=t,g=this.getFieldValues(s,u).slice(0,2),f=g.length),d.forEach(function(r,a){g.forEach(function(t,e){var i=[{field:l,value:r,values:d},{field:u,value:t,values:g}],n=Object(R.filter)(s,c.getFacetDataFilter(i)),o={type:c.cfg.type,data:n,region:c.getRegion(f,p,a,e),columnValue:r,rowValue:t,columnField:l,rowField:u,columnIndex:a,rowIndex:e,columnValuesLength:p,rowValuesLength:f};h.push(o)})}),h},pr.prototype.getXAxisOption=function(t,e,i,n){return 1===n.columnIndex||1===n.rowIndex?Object(S.__assign)(Object(S.__assign)({},i),{label:null,title:null}):i},pr.prototype.getYAxisOption=function(t,e,i,n){return i},pr.prototype.renderTitle=function(){var a=this;Object(R.each)(this.facets,function(t,e){var i=t.columnValue,n=t.rowValue,o=t.view,r=a.cfg.transpose?Object(R.deepMix)({position:["50%","0%"],content:i},qo(y.TOP),a.cfg.title):Object(R.deepMix)({position:["100%","50%"],content:n},qo(y.RIGHT),a.cfg.title);o.annotation().text(r)})},pr),ar=($o=ft,Object(S.__extends)(hr,$o),hr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},hr.prototype.beforeEachView=function(t,e){},hr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},$o.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(S.__assign)({},$o.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(S.__assign)({},$o.prototype.getDefaultTitleCfg.call(this))})},hr.prototype.render=function(){$o.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},hr.prototype.generateFacets=function(s){var l=this,t=this.cfg.fields,u=t[0],c=t[1],h=[],p=1,f=1,d=[""],g=[""];return u&&(d=this.getFieldValues(s,u),p=d.length),c&&(g=this.getFieldValues(s,c),f=g.length),d.forEach(function(r,a){g.forEach(function(t,e){var i=[{field:u,value:r,values:d},{field:c,value:t,values:g}],n=Object(R.filter)(s,l.getFacetDataFilter(i)),o={type:l.cfg.type,data:n,region:l.getRegion(f,p,a,e),columnValue:r,rowValue:t,columnField:u,rowField:c,columnIndex:a,rowIndex:e,columnValuesLength:p,rowValuesLength:f};h.push(o)})}),h},hr.prototype.renderTitle=function(){var u=this;Object(R.each)(this.facets,function(t,e){var i,n=t.columnIndex,o=t.rowIndex,r=t.columnValuesLength,a=(t.rowValuesLength,t.columnValue),s=t.rowValue,l=t.view;0===o&&(i=Object(R.deepMix)({position:["50%","0%"],content:a},qo(y.TOP),u.cfg.columnTitle),l.annotation().text(i)),n===r-1&&(i=Object(R.deepMix)({position:["100%","50%"],content:s},qo(y.RIGHT),u.cfg.rowTitle),l.annotation().text(i))})},hr.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):n.columnIndex!==Math.floor((n.columnValuesLength-1)/2)?Object(S.__assign)(Object(S.__assign)({},i),{title:null}):i},hr.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):n.rowIndex!==Math.floor((n.rowValuesLength-1)/2)?Object(S.__assign)(Object(S.__assign)({},i),{title:null}):i},hr),sr=(Ko=ft,Object(S.__extends)(cr,Ko),cr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},cr.prototype.beforeEachView=function(t,e){},cr.prototype.init=function(){Ko.prototype.init.call(this),this.view.on(l.AFTER_RENDER,this.afterChartRender)},cr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},Ko.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:Ko.prototype.getDefaultTitleCfg.call(this)})},cr.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],i={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(i),i.children=this.getChildFacets(t,1,e),this.setRegion(e),e},cr.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)})},cr.prototype.getRegion=function(t,e,i,n){var o=1/e,r=1/t,a={x:o*i,y:r*n};return{start:a,end:{x:a.x+o,y:a.y+2*r/3}}},cr.prototype.forceColIndex=function(t){var e=this,i=[],n=0;t.forEach(function(t){e.isLeaf(t)&&(i.push(t),t.columnIndex=n,n++)}),i.forEach(function(t){t.columnValuesLength=i.length});for(var o=this.cfg.fields.length-1;0<=o;o--)for(var r=0,a=this.getFacetsByLevel(t,o);r<a.length;r++){var s=a[r];this.isLeaf(s)||(s.originColIndex=s.columnIndex,s.columnIndex=this.getRegionIndex(s.children),s.columnValuesLength=i.length)}},cr.prototype.getFacetsByLevel=function(t,e){var i=[];return t.forEach(function(t){t.rowIndex===e&&i.push(t)}),i},cr.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},cr.prototype.isLeaf=function(t){return!t.children||!t.children.length},cr.prototype.getRows=function(){return this.cfg.fields.length+1},cr.prototype.getChildFacets=function(r,a,s){var l=this,t=this.cfg.fields;if(!(t.length<a)){var u=[],c=t[a-1],h=this.getFieldValues(r,c);return h.forEach(function(t,e){var i,n=[{field:c,value:t,values:h}],o=r.filter(l.getFacetDataFilter(n));o.length&&(i={type:l.cfg.type,data:o,region:null,columnValue:t,rowValue:"",columnField:c,rowField:"",columnIndex:e,rowValuesLength:l.getRows(),columnValuesLength:1,rowIndex:a,children:l.getChildFacets(o,a+1,s)},u.push(i),s.push(i))}),u}},cr.prototype.render=function(){Ko.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},cr.prototype.renderTitle=function(){var o=this;Object(R.each)(this.facets,function(t){var e=t.columnValue,i=t.view,n=Object(R.deepMix)({position:["50%","0%"],content:e},qo(y.TOP),o.cfg.title);i.annotation().text(n)})},cr.prototype.drawLines=function(t){var i=this;t.forEach(function(t){var e;i.isLeaf(t)||(e=t.children,i.addFacetLines(t,e))})},cr.prototype.addFacetLines=function(t,e){var r=this,i=t.view.coordinateBBox,a={x:i.x+i.width/2,y:i.y+i.height};e.forEach(function(t){var e=t.view.coordinateBBox,i={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},n={x:a.x,y:a.y+(i.y-a.y)/2},o={x:i.x,y:n.y};r.drawLine([a,n,o,i])})},cr.prototype.getPath=function(t){var i=[];return this.cfg.line.smooth?(i.push(["M",t[0].x,t[0].y]),i.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),i},cr.prototype.drawLine=function(t){var e=this.getPath(t),i=this.cfg.line.style;this.container.addShape("path",{attrs:Object(R.assign)({path:e},i)})},cr.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},cr.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.originColIndex&&0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},cr),lr=(Zo=yi,Object(S.__extends)(ur,Zo),Object.defineProperty(ur.prototype,"name",{get:function(){return"annotation"},enumerable:!0,configurable:!0}),ur.prototype.init=function(){},ur.prototype.layout=function(){function e(t){var e=t.component,i=t.extra,n=i.type,o=r.getAnnotationTheme(n);e.update(r.getAnnotationCfg(n,i,o))}function i(t){var e=r.createAnnotation(t);e&&(e.component.init(),"regionFilter"===t.type&&e.component.render(),r.cache.set(t,e))}var r=this,t=this.getComponents();t.length?Object(R.each)(t,function(t){"regionFilter"===t.component.get("type")?r.view.once(l.AFTER_RENDER,function(){e(t)}):e(t)}):Object(R.each)(this.option,function(t){"regionFilter"===t.type?r.view.once(l.AFTER_RENDER,function(){i(t)}):i(t)})},ur.prototype.render=function(){},ur.prototype.update=function(){function e(t){var e,i=t.type,n=a.getAnnotationTheme(i),o=a.getAnnotationCfg(i,t,n),r=a.cache.get(t);r?(kt(o,["container"]),r.component.update(o),s.set(t,!0)):(e=a.createAnnotation(t))&&(e.component.init(),"regionFilter"===t.type&&e.component.render(),a.cache.set(t,e),s.set(t,!0))}var a=this,s=new WeakMap;this.view.once(l.AFTER_RENDER,function(){Object(R.each)(a.option,function(t){"regionFilter"===t.type&&e(t)});var i=new Map;a.cache.forEach(function(t,e){s.has(e)?i.set(e,t):t.component.destroy()}),a.cache=i}),Object(R.each)(this.option,function(t){"regionFilter"!==t.type&&e(t)})},ur.prototype.clear=function(t){void 0===t&&(t=!1),Zo.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},ur.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},ur.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},ur.prototype.createAnnotation=function(t){var e=t.type,i=Z.Annotation[Object(R.upperFirst)(e)];if(i){var n=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,n);return{component:new i(o),layer:this.isTop(o)?d.FORE:d.BG,direction:y.NONE,type:h.ANNOTATION,extra:t}}},ur.prototype.annotation=function(t){this.option.push(t)},ur.prototype.arc=function(t){return this.annotation(Object(S.__assign)({type:"arc"},t)),this},ur.prototype.image=function(t){return this.annotation(Object(S.__assign)({type:"image"},t)),this},ur.prototype.line=function(t){return this.annotation(Object(S.__assign)({type:"line"},t)),this},ur.prototype.region=function(t){return this.annotation(Object(S.__assign)({type:"region"},t)),this},ur.prototype.text=function(t){return this.annotation(Object(S.__assign)({type:"text"},t)),this},ur.prototype.dataMarker=function(t){return this.annotation(Object(S.__assign)({type:"dataMarker"},t)),this},ur.prototype.dataRegion=function(t){this.annotation(Object(S.__assign)({type:"dataRegion"},t))},ur.prototype.regionFilter=function(t){this.annotation(Object(S.__assign)({type:"regionFilter"},t))},ur.prototype.parsePosition=function(t){var e=this.view.getXScale(),i=this.view.getScalesByDim("y"),n=Object(R.isFunction)(t)?t.call(null,e,i):t,o=0,r=0;if(Object(R.isArray)(n)){var a=n[0],s=n[1];if(Object(R.isString)(a)&&-1!==a.indexOf("%")&&!isNaN(a.slice(0,-1)))return this.parsePercentPosition(n);o=this.getNormalizedValue(a,e),r=this.getNormalizedValue(s,Object.values(i)[0])}else if(!Object(R.isNil)(n))for(var l=0,u=Object(R.keys)(n);l<u.length;l++){var c=u[l],h=n[c];c===e.field&&(o=this.getNormalizedValue(h,e)),i[c]&&(r=this.getNormalizedValue(h,i[c]))}return this.view.getCoordinate().convert({x:o,y:r})},ur.prototype.getRegionPoints=function(t,e){var n,o=this,i=this.view.getXScale(),r=this.view.getScalesByDim("y"),a=Object.values(r)[0],s=i.field,l=this.view.getData(),u=Object(R.isArray)(t)?t[0]:t[s],c=Object(R.isArray)(e)?e[0]:e[s],h=[];return Object(R.each)(l,function(t,e){var i;if(t[s]===u&&(n=e),n<=e&&(i=o.parsePosition([t[s],t[a.field]]))&&h.push(i),t[s]===c)return!1}),h},ur.prototype.getNormalizedValue=function(t,e){var i,n;switch(t){case"start":i=0;break;case"end":i=1;break;case"median":n=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,i=e.scale(n);break;case"min":case"max":n=e.isCategory?"min"===t?0:e.values.length-1:e[t],i=e.scale(n);break;default:i=e.scale(t)}return i},ur.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,i=parseFloat(t[1])/100,n=this.view.getCoordinate(),o=n.start,r=n.end,a=Math.min(o.x,r.x),s=Math.min(o.y,r.y);return{x:n.getWidth()*e+a,y:n.getHeight()*i+s}},ur.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,i=t.end,n=t.getWidth(),o=t.getHeight(),r={x:Math.min(e.x,i.x),y:Math.min(e.y,i.y)};return{x:r.x,y:r.y,minX:r.x,minY:r.y,maxX:r.x+n,maxY:r.y+o,width:n,height:o}},ur.prototype.getAnnotationCfg=function(t,e,i){var n,o,r,a,s,l,u,c,h,p,f,d,g,y,v,m,x,b,_,M,O=this.view.getCoordinate(),w={};if(Object(R.isNil)(e))return null;"arc"===t?(s=e.start,l=e.end,n=this.parsePosition(s),o=this.parsePosition(l),r=It(O,n),(a=It(O,o))<r&&(a=2*Math.PI+a),w={center:O.getCenter(),radius:Bt(O,n),startAngle:r,endAngle:a}):"image"===t?(s=e.start,l=e.end,w={start:this.parsePosition(s),end:this.parsePosition(l),src:e.src}):"line"===t?(s=e.start,l=e.end,w={start:this.parsePosition(s),end:this.parsePosition(l),text:Object(R.get)(e,"text",null)}):"region"===t?(s=e.start,l=e.end,w={start:this.parsePosition(s),end:this.parsePosition(l)}):"text"===t?(u=e.position,c=e.rotate,w=Object(S.__assign)(Object(S.__assign)({},this.parsePosition(u)),{content:e.content,rotate:c})):"dataMarker"===t?(u=e.position,h=e.point,p=e.line,f=e.text,d=e.autoAdjust,g=e.direction,w=Object(S.__assign)(Object(S.__assign)({},this.parsePosition(u)),{coordinateBBox:this.getCoordinateBBox(),point:h,line:p,text:f,autoAdjust:d,direction:g})):"dataRegion"===t?(s=e.start,l=e.end,y=e.region,f=e.text,v=e.lineLength,w={points:this.getRegionPoints(s,l),region:y,text:f,lineLength:v}):"regionFilter"===t&&(s=e.start,l=e.end,m=e.apply,x=e.color,b=this.view.geometries,_=[],M=function t(e){e&&(e.isGroup()?e.getChildren().forEach(t):_.push(e))},Object(R.each)(b,function(t){m?Object(R.contains)(m,t.type)&&Object(R.each)(t.elements,function(t){M(t.shape)}):Object(R.each)(t.elements,function(t){M(t.shape)})}),w={color:x,shapes:_,start:this.parsePosition(s),end:this.parsePosition(l)});var C=Object(R.deepMix)({},i,Object(S.__assign)(Object(S.__assign)({},w),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return C.container=this.getComponentContainer(C),C.animate=this.view.getOptions().animate&&C.animate&&Object(R.get)(e,"animate",C.animate),C.animateOption=Object(R.deepMix)({},Ii,C.animateOption,e.animateOption),C},ur.prototype.isTop=function(t){return Object(R.get)(t,"top",!0)},ur.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},ur.prototype.getAnnotationTheme=function(t){return Object(R.get)(this.view.getTheme(),["components","annotation",t],{})},ur);function ur(t){var e=Zo.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(d.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(d.BG).addGroup(),e.option=[],e}function cr(){var t=null!==Ko&&Ko.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}function hr(){return null!==$o&&$o.apply(this,arguments)||this}function pr(){return null!==Qo&&Qo.apply(this,arguments)||this}function fr(){return null!==Jo&&Jo.apply(this,arguments)||this}function dr(){return null!==tr&&tr.apply(this,arguments)||this}function gr(){return null!==er&&er.apply(this,arguments)||this}function yr(t,e){return Object(R.get)(t,["components","axis",e,"grid"],{})}function vr(r,t,a,s){var l=[],e=t.getTicks();return r.isPolar&&e.push({value:1,text:"",tickValue:""}),e.reduce(function(t,e,i){var n,o=e.value;return s?l.push({points:[r.convert("y"===a?{x:0,y:o}:{x:o,y:0}),r.convert("y"===a?{x:1,y:o}:{x:o,y:1})]}):i&&(n=(t.value+o)/2,l.push({points:[r.convert("y"===a?{x:0,y:n}:{x:n,y:0}),r.convert("y"===a?{x:1,y:n}:{x:n,y:1})]})),e},e[0]),l}function mr(r,t,e,a,s){var l=t.values.length,u=[],i=e.getTicks();return i.reduce(function(t,e){var i=t?t.value:e.value,n=e.value,o=(i+n)/2;return"x"===s?u.push({points:[r.convert({x:a?n:o,y:0}),r.convert({x:a?n:o,y:1})]}):u.push({points:Object(R.map)(Array(l+1),function(t,e){return r.convert({x:e/l,y:a?n:o})})}),e},i[0]),u}function xr(t,e){var i=Object(R.get)(e,"grid");if(null!==i){var n=Object(R.get)(t,"grid");return void 0!==i||null!==n}}var br,_r=["container"],Mr=Object(S.__assign)(Object(S.__assign)({},Ii),{appear:null}),Or=(br=yi,Object(S.__extends)(wr,br),Object.defineProperty(wr.prototype,"name",{get:function(){return"axis"},enumerable:!0,configurable:!0}),wr.prototype.init=function(){},wr.prototype.render=function(){this.option=this.view.getOptions().axes,this.createXAxes(),this.createYAxes()},wr.prototype.layout=function(){var u=this,c=this.view.getCoordinate();Object(R.each)(this.getComponents(),function(t){var e,i=t.component,n=t.direction,o=t.type,r=t.extra,a=r.dim,s=r.scale,l=r.alignTick;o===h.AXIS?c.isPolar?"x"===a?e=c.isTransposed?rt(c,n):lt(c):"y"===a&&(e=c.isTransposed?lt(c):rt(c,n)):e=rt(c,n):o===h.GRID&&(e=c.isPolar?{items:c.isTransposed?"x"===a?mr(c,u.view.getYScales()[0],s,l,a):vr(c,s,a,l):"x"===a?vr(c,s,a,l):mr(c,u.view.getXScale(),s,l,a),center:u.view.getCoordinate().getCenter()}:{items:vr(c,s,a,l)}),i.update(e)})},wr.prototype.update=function(){this.option=this.view.getOptions().axes;var i=new Map;this.updateXAxes(i),this.updateYAxes(i);var n=new Map;this.cache.forEach(function(t,e){i.has(e)?n.set(e,t):t.component.destroy()}),this.cache=n},wr.prototype.clear=function(){br.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},wr.prototype.destroy=function(){br.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},wr.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},wr.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var i=e.field,n=ut(this.option,e.field);if(!1!==n){var o,r,a,s=this.view.getCoordinate(),l=this.getId("axis",i),u=this.getId("grid",i),c=ct(n,y.BOTTOM),h=d.BG;if(s.isRect)(o=this.cache.get(l))?(kt(a=this.getLineAxisCfg(e,n,c),_r),o.component.update(a)):(o=this.createLineAxis(e,n,h,c,"x"),this.cache.set(l,o)),t.set(l,o),(r=this.cache.get(u))?(kt(a=this.getLineGridCfg(e,n,c,"x"),_r),r.component.update(a),t.set(u,r)):(r=this.createLineGrid(e,n,h,c,"x"))&&(this.cache.set(u,r),t.set(u,r));else if(s.isPolar){if(o=this.cache.get(l))kt(a=s.isTransposed?this.getLineAxisCfg(e,n,"radius"):this.getCircleAxisCfg(e,n,c),_r),o.component.update(a),t.set(l,o);else{if(s.isTransposed){if(Object(R.isUndefined)(n))return;o=this.createLineAxis(e,n,h,"radius","x")}else o=this.createCircleAxis(e,n,h,c,"x");this.cache.set(l,o),t.set(l,o)}if(r=this.cache.get(u))kt(a=s.isTransposed?this.getCircleGridCfg(e,n,"radius","x"):this.getLineGridCfg(e,n,"circle","x"),_r),r.component.update(a),t.set(u,r);else{if(s.isTransposed){if(Object(R.isUndefined)(n))return;r=this.createCircleGrid(e,n,h,"radius","x")}else r=this.createLineGrid(e,n,h,"circle","x");r&&(this.cache.set(u,r),t.set(u,r))}}}}},wr.prototype.updateYAxes=function(p){var f=this,t=this.view.getYScales();Object(R.each)(t,function(t,e){if(t&&!t.isIdentity){var i=t.field,n=ut(f.option,i);if(!1!==n){var o,r,a,s=d.BG,l=f.getId("axis",i),u=f.getId("grid",i),c=f.view.getCoordinate();if(c.isRect){var h=ct(n,0===e?y.LEFT:y.RIGHT);(o=f.cache.get(l))?(kt(a=f.getLineAxisCfg(t,n,h),_r),o.component.update(a)):(o=f.createLineAxis(t,n,s,h,"y"),f.cache.set(l,o)),p.set(l,o),(r=f.cache.get(u))?(kt(a=f.getLineGridCfg(t,n,h,"y"),_r),r.component.update(a),p.set(u,r)):(r=f.createLineGrid(t,n,s,h,"y"))&&(f.cache.set(u,r),p.set(u,r))}else if(c.isPolar){if(o=f.cache.get(l))kt(a=c.isTransposed?f.getCircleAxisCfg(t,n,"circle"):f.getLineAxisCfg(t,n,"radius"),_r),o.component.update(a),p.set(l,o);else{if(c.isTransposed){if(Object(R.isUndefined)(n))return;o=f.createCircleAxis(t,n,s,"circle","y")}else o=f.createLineAxis(t,n,s,"radius","y");f.cache.set(l,o),p.set(l,o)}if(r=f.cache.get(u))kt(a=c.isTransposed?f.getLineGridCfg(t,n,"circle","y"):f.getCircleGridCfg(t,n,"radius","y"),_r),r.component.update(a),p.set(u,r);else{if(c.isTransposed){if(Object(R.isUndefined)(n))return;r=f.createLineGrid(t,n,s,"circle","y")}else r=f.createCircleGrid(t,n,s,"radius","y");r&&(f.cache.set(u,r),p.set(u,r))}}}}})},wr.prototype.createXAxes=function(){var t=this.view.getXScale();if(t&&!t.isIdentity){var e=ut(this.option,t.field);if(!1!==e){var i=ct(e,y.BOTTOM),n=d.BG,o=this.view.getCoordinate(),r=this.getId("axis",t.field),a=this.getId("grid",t.field);if(o.isRect){var s=this.createLineAxis(t,e,n,i,"x");this.cache.set(r,s),(l=this.createLineGrid(t,e,n,i,"x"))&&this.cache.set(a,l)}else if(o.isPolar){var l=s=void 0;if(o.isTransposed){if(Object(R.isUndefined)(e))return;s=this.createLineAxis(t,e,n,"radius","x"),l=this.createCircleGrid(t,e,n,"radius","x")}else s=this.createCircleAxis(t,e,n,i,"x"),l=this.createLineGrid(t,e,n,"circle","x");this.cache.set(r,s),l&&this.cache.set(a,l)}}}},wr.prototype.createYAxes=function(){var h=this,t=this.view.getYScales();Object(R.each)(t,function(t,e){if(t&&!t.isIdentity){var i=t.field,n=ut(h.option,i);if(!1!==n){var o=d.BG,r=h.getId("axis",i),a=h.getId("grid",i),s=h.view.getCoordinate();if(s.isRect){var l=ct(n,0===e?y.LEFT:y.RIGHT),u=h.createLineAxis(t,n,o,l,"y");h.cache.set(r,u),(c=h.createLineGrid(t,n,o,l,"y"))&&h.cache.set(a,c)}else if(s.isPolar){var c=u=void 0;if(s.isTransposed){if(Object(R.isUndefined)(n))return;u=h.createCircleAxis(t,n,o,"circle","y"),c=h.createLineGrid(t,n,o,"circle","y")}else u=h.createLineAxis(t,n,o,"radius","y"),c=h.createCircleGrid(t,n,o,"radius","y");h.cache.set(h.getId("axis",t.field),u),c&&h.cache.set(a,c)}}}})},wr.prototype.createLineAxis=function(t,e,i,n,o){var r={component:new K(this.getLineAxisCfg(t,e,n)),layer:i,direction:"radius"===n?y.NONE:n,type:h.AXIS,extra:{dim:o,scale:t}};return r.component.set("field",t.field),r.component.init(),r},wr.prototype.createLineGrid=function(t,e,i,n,o){var r=this.getLineGridCfg(t,e,n,o);if(r){var a={component:new Q(r),layer:i,direction:y.NONE,type:h.GRID,extra:{dim:o,scale:t,alignTick:Object(R.get)(r,"alignTick",!0)}};return a.component.init(),a}},wr.prototype.createCircleAxis=function(t,e,i,n,o){var r={component:new $(this.getCircleAxisCfg(t,e,n)),layer:i,direction:n,type:h.AXIS,extra:{dim:o,scale:t}};return r.component.set("field",t.field),r.component.init(),r},wr.prototype.createCircleGrid=function(t,e,i,n,o){var r=this.getCircleGridCfg(t,e,n,o);if(r){var a={component:new J(r),layer:i,direction:y.NONE,type:h.GRID,extra:{dim:o,scale:t,alignTick:Object(R.get)(r,"alignTick",!0)}};return a.component.init(),a}},wr.prototype.getLineAxisCfg=function(t,e,i){var n=this.axisContainer,o=this.view.getCoordinate(),r=rt(o,i),a=ht(t,e),s=st(this.view.getTheme(),i),l=Object(R.get)(e,["title"])?Object(R.deepMix)({title:{style:{text:a}}},e):e,u=Object(R.deepMix)(Object(S.__assign)(Object(S.__assign)({container:n},r),{ticks:t.getTicks().map(function(t){return{id:""+t.tickValue,name:t.text,value:t.value}}),verticalFactor:o.isPolar?-1*at(r,o.getCenter()):at(r,o.getCenter())}),s,l),c=this.getAnimateCfg(u),h=c.animate,p=c.animateOption;return u.animateOption=p,u.animate=h,u},wr.prototype.getLineGridCfg=function(t,e,i,n){if(xr(st(this.view.getTheme(),i),e)){var o=yr(this.view.getTheme(),i),r=Object(R.deepMix)({container:this.gridContainer},o,Object(R.get)(e,"grid"),this.getAnimateCfg(e));return r.items=vr(this.view.getCoordinate(),t,n,Object(R.get)(r,"alignTick",!0)),r}},wr.prototype.getCircleAxisCfg=function(t,e,i){var n=this.axisContainer,o=this.view.getCoordinate(),r=t.getTicks().map(function(t){return{id:""+t.tickValue,name:t.text,value:t.value}});t.isCategory||Math.abs(o.endAngle-o.startAngle)!==2*Math.PI||r.pop();var a=ht(t,e),s=st(this.view.getTheme(),"circle"),l=Object(R.get)(e,["title"])?Object(R.deepMix)({title:{style:{text:a}}},e):e,u=Object(R.deepMix)(Object(S.__assign)(Object(S.__assign)({container:n},lt(this.view.getCoordinate())),{ticks:r,verticalFactor:1}),s,l),c=this.getAnimateCfg(u),h=c.animate,p=c.animateOption;return u.animate=h,u.animateOption=p,u},wr.prototype.getCircleGridCfg=function(t,e,i,n){if(xr(st(this.view.getTheme(),i),e)){var o=yr(this.view.getTheme(),"radius"),r=Object(R.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,Object(R.get)(e,"grid"),this.getAnimateCfg(e)),a=Object(R.get)(r,"alignTick",!0),s="x"===n?this.view.getYScales()[0]:this.view.getXScale();return r.items=mr(this.view.getCoordinate(),s,t,a,n),r}},wr.prototype.getId=function(t,e){return t+"-"+e+"-"+this.view.getCoordinate().type},wr.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&Object(R.get)(t,"animate"),animateOption:t&&t.animateOption?Object(R.deepMix)({},Mr,t.animateOption):Mr}},wr);function wr(t){var e=br.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(d.BG).addGroup(),e.axisContainer=e.view.getLayer(d.BG).addGroup(),e}function Cr(t,e,i){return i===y.TOP?[t.minX+t.width/2-e.width/2,t.minY]:i===y.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:i===y.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:i===y.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:i===y.TOP_LEFT||i===y.LEFT_TOP?[t.tl.x,t.tl.y]:i===y.TOP_RIGHT||i===y.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:i===y.BOTTOM_LEFT||i===y.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:i===y.BOTTOM_RIGHT||i===y.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function Sr(t,e,i){return t&&(t.callback&&1<t.callback.length?(n=Array(t.callback.length-1).fill(""),t.mapping.apply(t,Object(S.__spreadArrays)([e],n)).join("")):t.mapping(e).join(""))||i;var n}function jr(t){var e=t.symbol;Object(R.isString)(e)&&ao[e]&&(t.symbol=ao[e])}function Ar(t){return t.startsWith(y.LEFT)||t.startsWith(y.RIGHT)?"vertical":"horizontal"}function Pr(t,e){return Object(R.isBoolean)(t)?!1!==t&&{}:Object(R.get)(t,[e],t)}function Tr(t){return Object(R.get)(t,"position",y.BOTTOM)}var Lr,kr,Er=(kr=yi,Object(S.__extends)(Fr,kr),Object.defineProperty(Fr.prototype,"name",{get:function(){return"legend"},enumerable:!0,configurable:!0}),Fr.prototype.init=function(){},Fr.prototype.render=function(){var t,e,i,o=this;this.option=this.view.getOptions().legends,Object(R.get)(this.option,"custom")?(t=this.createCustomLegend(void 0,void 0,void 0,this.option))&&(t.init(),e=d.FORE,i=Tr(this.option),this.components.push({id:"global-custom",component:t,layer:e,direction:i,type:h.LEGEND,extra:void 0})):this.loopLegends(function(t,e,i){var n=o.createFieldLegend(t,e,i);n&&(n.component.init(),o.components.push(n))})},Fr.prototype.layout=function(){var v=this;this.layoutBBox=this.view.viewBBox,Object(R.each)(this.components,function(t){var e=t.component,i=t.direction,n=Ar(i),o=v.getCategoryLegendSizeCfg(n),r=e.get("maxWidth"),a=e.get("maxHeight");e.update({maxWidth:Math.min(o.maxWidth,r||0),maxHeight:Math.min(o.maxHeight,a||0)});var s=e.getLayoutBBox(),l=new Ht(s.x,s.y,s.width,s.height),u=Cr(v.view.coordinateBBox,l,i),c=u[0],h=u[1],p=Cr(v.layoutBBox,l,i),f=p[0],d=p[1],g=0,y=0,y=i.startsWith("top")||i.startsWith("bottom")?(g=c,d):(g=f,h);e.update({x:g,y:y}),v.layoutBBox=v.layoutBBox.cut(l,i)})},Fr.prototype.update=function(){var l=this;this.option=this.view.getOptions().legends;var t,e,i,n,o,r,u={};Object(R.get)(this.option,"custom")?(t="global-custom",(e=this.getComponentById(t))?(kt(i=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0),["container"]),e.component.update(i),u[t]=!0):(n=this.createCustomLegend(void 0,void 0,void 0,this.option))&&(n.init(),o=d.FORE,r=Tr(this.option),this.components.push({id:t,component:n,layer:o,direction:r,type:h.LEGEND,extra:void 0}),u[t]=!0)):this.loopLegends(function(t,e,i){var n,o,r,a=l.getId(i.field),s=l.getComponentById(a);s?(n=void 0,!1!==(o=Pr(l.option,i.field))&&(Object(R.get)(o,"custom")?n=l.getCategoryCfg(t,e,i,o,!0):i.isLinear?n=l.getContinuousCfg(t,e,i,o):i.isCategory&&(n=l.getCategoryCfg(t,e,i,o))),n&&(kt(n,["container"]),s.direction=Tr(o),s.component.update(n),u[a]=!0)):(r=l.createFieldLegend(t,e,i))&&(r.component.init(),l.components.push(r),u[a]=!0)});var a=[];Object(R.each)(this.getComponents(),function(t){u[t.id]?a.push(t):t.component.destroy()}),this.components=a},Fr.prototype.clear=function(){kr.prototype.clear.call(this),this.container.clear()},Fr.prototype.destroy=function(){kr.prototype.destroy.call(this),this.container.remove(!0)},Fr.prototype.getGeometries=function(t){var e=this,i=t.geometries;return Object(R.each)(t.views,function(t){i=i.concat(e.getGeometries(t))}),i},Fr.prototype.loopLegends=function(n){var t,o;this.view.getRootView()===this.view&&(t=this.getGeometries(this.view),o={},Object(R.each)(t,function(i){var t=i.getGroupAttributes();Object(R.each)(t,function(t){var e=t.getScale(t.type);e&&"identity"!==e.type&&!o[e.field]&&(n(i,t,e),o[e.field]=!0)})}))},Fr.prototype.createFieldLegend=function(t,e,i){var n,o=Pr(this.option,i.field),r=d.FORE,a=Tr(o);if(!1!==o&&(Object(R.get)(o,"custom")?n=this.createCustomLegend(t,e,i,o):i.isLinear?n=this.createContinuousLegend(t,e,i,o):i.isCategory&&(n=this.createCategoryLegend(t,e,i,o))),n)return n.set("field",i.field),{id:this.getId(i.field),component:n,layer:r,direction:a,type:h.LEGEND,extra:{scale:i}}},Fr.prototype.createCustomLegend=function(t,e,i,n){var o=this.getCategoryCfg(t,e,i,n,!0);return new tt(o)},Fr.prototype.createContinuousLegend=function(t,e,i,n){var o=this.getContinuousCfg(t,e,i,n);return new et(o)},Fr.prototype.createCategoryLegend=function(t,e,i,n){var o=this.getCategoryCfg(t,e,i,n);return new tt(o)},Fr.prototype.getContinuousCfg=function(t,o,r,e){var i=r.getTicks(),n=Object(R.find)(i,function(t){return 0===t.value}),a=Object(R.find)(i,function(t){return 1===t.value}),s=i.map(function(t){var e=t.value,i=t.tickValue,n=o.mapping(r.invert(e)).join("");return{value:i,attrValue:n,color:n,scaleValue:e}});n||s.push({value:r.min,attrValue:o.mapping(0).join(""),color:o.mapping(0).join(""),scaleValue:0}),a||s.push({value:r.max,attrValue:o.mapping(1).join(""),color:o.mapping(1).join(""),scaleValue:1}),s.sort(function(t,e){return t.value-e.value});var l={min:Object(R.head)(s).value,max:Object(R.last)(s).value,colors:[],rail:{type:o.type},track:{}};"size"===o.type&&(l.track={style:{fill:"size"===o.type?this.view.getTheme().defaultColor:void 0}}),"color"===o.type&&(l.colors=s.map(function(t){return t.attrValue}));var u=this.container,c=Ar(Tr(e)),h=(h=Object(R.get)(e,"title"))&&Object(R.deepMix)({text:ot(r)},h);return l.container=u,l.layout=c,l.title=h,l.animateOption=Ii,this.mergeLegendCfg(l,e,"continuous")},Fr.prototype.getCategoryCfg=function(t,e,i,n,o){var r,a,s=this.container,l=Object(R.get)(n,"position",y.BOTTOM),u=Object(R.get)(this.view.getTheme(),["components","legend",l,"marker"]),c=Object(R.get)(n,"marker"),h=Ar(l),p=o?(r=u,a=c,n.items.map(function(t){var e=Object(R.deepMix)({},r,a,t.marker);return jr(e),t.marker=e,t})):function(c,h,p,f){var d=e.getScale(e.type);if(d.isCategory){var g=d.field,y=h.getAttribute("color"),v=h.getAttribute("shape"),m=c.getTheme().defaultColor,x=h.coordinate.isPolar;return d.getTicks().map(function(t){var e,i=t.text,n=t.value,o=i,r=d.invert(n),a=0===c.filterFieldData(g,[((e={})[g]=r,e)]).length,s=Sr(y,r,m),l=Sr(v,r,"point"),u=h.getShapeMarker(l,{color:s,isInPolar:x});return jr(u=Object(R.deepMix)({},p,u,f)),{id:r,name:o,value:r,marker:u,unchecked:a}})}return[]}(this.view,t,u,c),f=(f=Object(R.get)(n,"title"))&&Object(R.deepMix)({text:i?ot(i):""},f),d=this.getCategoryLegendSizeCfg(h);d.container=s,d.layout=h,d.items=p,d.title=f,d.animateOption=Ii;var g=this.mergeLegendCfg(d,n,l);return g.reversed&&g.items.reverse(),g},Fr.prototype.mergeLegendCfg=function(t,e,i){var n=Object(R.get)(this.view.getTheme(),["components","legend",i],{});return Object(R.deepMix)({},n,t,e)},Fr.prototype.getId=function(t){return this.name+"-"+t},Fr.prototype.getComponentById=function(e){return Object(R.find)(this.components,function(t){return t.id===e})},Fr.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,i=e.width,n=e.height,o=this.view.coordinateBBox,r=o.width,a=o.height;return"vertical"===t?{maxWidth:.25*i,maxHeight:a}:{maxWidth:r,maxHeight:.25*n}},Fr),Dr=(Lr=yi,Object(S.__extends)(Br,Lr),Object.defineProperty(Br.prototype,"name",{get:function(){return"slider"},enumerable:!0,configurable:!0}),Br.prototype.init=function(){},Br.prototype.render=function(){var t,e;this.option=this.view.getOptions().slider,this.option?(this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged)),t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1,this.updateMinMaxText(t,e)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},Br.prototype.layout=function(){var t,e,i,n,o,r,a;this.slider&&(t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),i=new Ht(e.x,e.y,Math.min(e.width,t),e.height),(n=Cr(this.view.viewBBox,i,y.BOTTOM))[0],o=n[1],a=(r=Cr(this.view.coordinateBBox,i,y.BOTTOM))[0],r[1],this.slider.component.update({x:a,y:o,width:t}))},Br.prototype.update=function(){this.render()},Br.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new Z.Slider(Object(S.__assign)({container:this.container},t));return e.init(),{component:e,layer:d.FORE,direction:y.BOTTOM,type:h.OTHER}},Br.prototype.updateSlider=function(){var t=this.getSliderCfg();return kt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},Br.prototype.getSliderCfg=function(){if(Object(R.isObject)(this.option)){var t=Object(S.__assign)({data:this.getData()},Object(R.get)(this.option,"trendCfg",{})),e=this.view.coordinateBBox.width,i=Object(R.deepMix)({},{x:0,y:0,width:e},this.option);return Object(S.__assign)(Object(S.__assign)({},i),{trendCfg:t})}return{}},Br.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0];return t.map(function(t){return t[e.field]||0})},Br.prototype.updateMinMaxText=function(t,e){var i,n,o,r,a,s,l=this.view.getOptions().data,u=Object(R.size)(l),c=this.view.getXScale();c&&u&&(i=c.field,n=l.map(function(t){return t[i]||""}),o=Math.floor(t*(u-1)),r=Math.floor(e*(u-1)),a=Object(R.get)(n,[o]),s=Object(R.get)(n,[r]),this.slider.component.update({minText:a,maxText:s,start:t,end:e}),this.view.filter(c.field,function(t,e,i){return Lt(i,o,r)}))},Br.prototype.getComponents=function(){return this.slider?[this.slider]:[]},Br);function Br(t){var n=Lr.call(this,t)||this;return n.onValueChanged=function(t){var e=t[0],i=t[1];n.updateMinMaxText(e,i),n.view.render(!0)},n.container=n.view.getLayer(d.FORE).addGroup(),n}function Fr(t){var e=kr.call(this,t)||this;return e.container=e.view.getLayer(d.FORE).addGroup(),e}var Ir,Rr,Nr=(Rr=yi,Object(S.__extends)(Xr,Rr),Object.defineProperty(Xr.prototype,"name",{get:function(){return"tooltip"},enumerable:!0,configurable:!0}),Xr.prototype.init=function(){},Xr.prototype.render=function(){var t=this.view.getOptions().tooltip;this.isVisible=!1!==t},Xr.prototype.showTooltip=function(t){var e,i,n,o,r,a,s,l,u,c,h,p,f;this.point=t,this.isVisible&&(e=this.view,(i=this.getTooltipItems(t)).length?(n=this.getTitle(i),o={x:i[0].x,y:i[0].y},e.emit("tooltip:show",Object(S.__assign)({items:i,title:n},t)),a=(r=this.getTooltipCfg()).follow,s=r.showMarkers,l=r.showCrosshairs,u=r.showContent,c=r.marker,h=this.items,p=this.title,Object(R.isEqual)(p,n)&&Object(R.isEqual)(h,i)?(this.tooltip&&a&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",Object(S.__assign)({items:i,title:n},t)),u&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(R.mix)({},r,{items:i,title:n},a?t:{})),this.tooltip.show()),s&&this.renderTooltipMarkers(i,c)),this.items=i,this.title=n,l&&(f=Object(R.get)(r,["crosshairs","follow"],!1),this.renderCrosshairs(f?t:o,r))):this.hideTooltip())},Xr.prototype.hideTooltip=function(){var t,e,i,n;this.getTooltipCfg().follow&&((t=this.tooltipMarkersGroup)&&t.hide(),e=this.xCrosshair,i=this.yCrosshair,e&&e.hide(),i&&i.hide(),(n=this.tooltip)&&n.hide(),this.view.emit("tooltip:hide",{})),this.point=null},Xr.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},Xr.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},Xr.prototype.isTooltipLocked=function(){return this.isLocked},Xr.prototype.clear=function(){var t=this.tooltip,e=this.xCrosshair,i=this.yCrosshair,n=this.tooltipMarkersGroup;t&&(t.hide(),t.clear()),e&&e.clear(),i&&i.clear(),n&&n.clear()},Xr.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},Xr.prototype.changeVisible=function(t){var e,i,n,o;this.visible!==t&&(e=this.tooltip,i=this.tooltipMarkersGroup,n=this.xCrosshair,o=this.yCrosshair,t?(e&&e.show(),i&&i.show(),n&&n.show(),o&&o.show()):(e&&e.hide(),i&&i.hide(),n&&n.hide(),o&&o.hide()),this.visible=t)},Xr.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var i=0,n=e=Object(R.flatten)(e);i<n.length;i++)for(var o=0,r=n[i];o<r.length;o++){var a=r[o],s=a.mappingData,l=s.x,u=s.y;a.x=Object(R.isArray)(l)?l[l.length-1]:l,a.y=Object(R.isArray)(u)?u[u.length-1]:u}if(!1===this.getTooltipCfg().shared&&1<e.length){for(var c=e[0],h=Math.abs(t.y-c[0].y),p=0,f=e;p<f.length;p++){var d=f[p],g=Math.abs(t.y-d[0].y);g<=h&&(c=d,h=g)}e=[c]}return function(i){for(var n=[],t=function(t){var e=i[t];Object(R.find)(n,function(t){return t.color===e.color&&t.name===e.name&&t.value===e.value&&t.title===e.title})||n.push(e)},e=0;e<i.length;e++)t(e);return n}(Object(R.flatten)(e))}return[]},Xr.prototype.layout=function(){},Xr.prototype.update=function(){this.point&&this.showTooltip(this.point)},Xr.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,i=t.getTheme(),n=Object(R.get)(i,["components","tooltip"],{}),o=Object(R.isUndefined)(Object(R.get)(e,"enterable"))?n.enterable:Object(R.get)(e,"enterable");return Object(R.deepMix)({},n,e,{capture:!(!o&&!this.isLocked)})},Xr.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e},Xr.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),n=new it(Object(S.__assign)(Object(S.__assign)({parent:t.get("el").parentNode,region:e},i),{visible:!1,crosshairs:null}));n.init(),this.tooltip=n},Xr.prototype.renderTooltipMarkers=function(t,e){for(var i=this.getTooltipMarkersGroup(),n=0,o=t;n<o.length;n++){var r=o[n],a=r.x,s=r.y,l=Object(S.__assign)(Object(S.__assign)({fill:r.color,symbol:"circle",shadowColor:r.color},e),{x:a,y:s});i.addShape("marker",{attrs:l})}},Xr.prototype.renderCrosshairs=function(t,e){var i=Object(R.get)(e,["crosshairs","type"],"x");"x"===i?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===i?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===i&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},Xr.prototype.renderXCrosshairs=function(t,e){var i,n,o,r,a,s,l,u=this.getViewWithGeometry(this.view).getCoordinate();Ft(u,t)&&(u.isRect?r=u.isTransposed?(a={x:u.start.x,y:t.y},{x:u.end.x,y:t.y}):(a={x:t.x,y:u.end.y},{x:t.x,y:u.start.y}):(i=It(u,t),n=u.getCenter(),o=u.getRadius(),r=St(n.x,n.y,o,i),a=n),delete(s=Object(R.deepMix)({start:a,end:r,container:this.getTooltipCrosshairsGroup()},Object(R.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e))).type,(l=this.xCrosshair)?l.update(s):(l=new Z.Crosshair.Line(s)).init(),l.render(),l.show(),this.xCrosshair=l)},Xr.prototype.renderYCrosshairs=function(t,e){var i,n,o,r,a,s=this.getViewWithGeometry(this.view).getCoordinate();Ft(s,t)&&(r=s.isRect?(n=i=void 0,n=s.isTransposed?(i={x:t.x,y:s.end.y},{x:t.x,y:s.start.y}):(i={x:s.start.x,y:t.y},{x:s.end.x,y:t.y}),o={start:i,end:n},"Line"):(o={center:s.getCenter(),radius:Bt(s,t),startAngle:s.startAngle,endAngle:s.endAngle},"Circle"),delete(o=Object(R.deepMix)({container:this.getTooltipCrosshairsGroup()},o,Object(R.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type,!(a=this.yCrosshair)||s.isRect&&"circle"===a.get("type")||!s.isRect&&"line"===a.get("type")?(a=new Z.Crosshair[r](o)).init():a.update(o),a.render(),a.show(),this.yCrosshair=a)},Xr.prototype.getCrosshairsText=function(t,e,i){var n=Object(R.get)(i,["crosshairs","text"]),o=Object(R.get)(i,["crosshairs","follow"]),r=this.items;if(n){var a,s=this.getViewWithGeometry(this.view),l=r[0],u=s.getXScale(),c=s.getYScales()[0],h=void 0,p=void 0;p=o?(a=this.view.getCoordinate().invert(e),h=u.invert(a.x),c.invert(a.y)):(h=l.data[u.field],l.data[c.field]);var f="x"===t?h:p;return Object(R.isFunction)(n)?n=n(t,f,r,e):n.content=f,{text:n}}},Xr.prototype.getGuideGroup=function(){var t;return this.guideGroup||(t=this.view.foregroundGroup,this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},Xr.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},Xr.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},Xr.prototype.getTooltipItemsByHitShape=function(t,e,i){var n,o=[],r=t.container.getShape(e.x,e.y);return r&&r.get("visible")&&r.get("origin")&&(n=Ue(r.get("origin").mappingData,t,i)).length&&o.push(n),o},Xr.prototype.getTooltipItemsByFindData=function(t,e,i){var n=[],o=t.dataArray;t.sort(o);for(var r=0,a=o;r<a.length;r++){var s,l,u,c=qe(e,a[r],t);c&&(s=t.getElementId(c),l=t.elementsMap[s],"heatmap"!==t.type&&!l.visible||(u=Ue(c,t,i)).length&&n.push(u))}return n},Xr.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var i=[],n=t.geometries,o=this.getTooltipCfg(),r=o.shared,a=o.title,s=0,l=n;s<l.length;s++){var u,c,h=l[s];h.visible&&!1!==h.tooltipOption&&(u=h.type,(c=["point","edge","polygon"].includes(u)||!["area","line","path","heatmap"].includes(u)&&!1===r?this.getTooltipItemsByHitShape(h,e,a):this.getTooltipItemsByFindData(h,e,a)).length&&i.push(c))}for(var p=0,f=t.views;p<f.length;p++)var d=f[p],i=i.concat(this.findItemsFromView(d,e));return i},Xr.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:Object(R.find)(t.views,function(t){return e.getViewWithGeometry(t)})},Xr),Yr=(Ir=vt,Object(S.__extends)(Gr,Ir),Gr.prototype.show=function(){var i,n,o,t,r,a,s,l,e,u,c,h,p,f,d,g,y,v,m,x,b,_,M,O=this.context.view,w=this.context.event,C=O.getTooltipItems({x:w.x,y:w.y});!Object(R.isEqual)(C,this.items)&&(this.items=C).length&&(i=O.getXScale().field,n=C[0].data[i],o=[],t=O.geometries,Object(R.each)(t,function(t){var e;"interval"!==t.type&&"schema"!==t.type||(e=t.getElementsBy(function(t){return t.getData()[i]===n}),o=o.concat(e))}),o.length&&(r=O.getCoordinate(),a=o[0].shape.getCanvasBBox(),s=o[0].shape.getCanvasBBox(),l=a,Object(R.each)(o,function(t){var e=t.shape.getCanvasBBox();r.isTransposed?(e.minY<a.minY&&(a=e),e.maxY>s.maxY&&(s=e)):(e.minX<a.minX&&(a=e),e.maxX>s.maxX&&(s=e)),l.x=Math.min(e.minX,l.minX),l.y=Math.min(e.minY,l.minY),l.width=Math.max(e.maxX,l.maxX)-l.x,l.height=Math.max(e.maxY,l.maxY)-l.y}),e=O.backgroundGroup,u=O.coordinateBBox,g=void 0,g=r.isRect?(c=O.getXScale().isLinear?0:.25,d=f=p=h=void 0,d=r.isTransposed?(h=u.minX,p=Math.min(s.minY,a.minY)-c*s.height,f=u.width,l.height+2*c*s.height):(h=Math.min(a.minX,s.minX)-c*a.width,p=Math.min(u.minY,a.minY),f=l.width+2*c*a.width,u.height),[["M",h,p],["L",h+f,p],["L",h+f,p+d],["L",h,p+d],["Z"]]):(y=Object(R.head)(o),v=Object(R.last)(o),m=Pt(y.getModel(),r).startAngle,x=Pt(v.getModel(),r).endAngle,b=r.getCenter(),_=r.getRadius(),M=r.innerRadius*_,jt(b.x,b.y,_,m,x,M)),this.regionPath?(this.regionPath.attr("path",g),this.regionPath.show()):this.regionPath=e.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:g,fill:"#CCD6EC",opacity:.3}})))},Gr.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},Gr.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),Ir.prototype.destroy.call(this)},Gr);function Gr(){return null!==Ir&&Ir.apply(this,arguments)||this}function Xr(){var t=null!==Rr&&Rr.apply(this,arguments)||this;return t.isLocked=!1,t.isVisible=!0,t}function zr(t,e){return t&&(t.className&&(Object(R.isNil)(t.className.baseVal)?t.className:t.className.baseVal).includes(e))}var Vr,Hr,Wr,qr=(Wr=vt,Object(S.__extends)(Qr,Wr),Qr.prototype.show=function(){var t,e,i,n,o=this.context,r=o.event,a=o.view;a.isTooltipLocked()||(t=this.timeStamp,16<(e=+new Date)-t&&(i=this.location,n={x:r.x,y:r.y},i&&Object(R.isEqual)(i,n)||this.showTooltip(a,n),this.timeStamp=e,this.location=n))},Qr.prototype.hide=function(){var t,i,e=this.context.view;e.isTooltipLocked()||(t=this.context.event,(i=Object(R.get)(t,["gEvent","originalEvent","toElement"]))&&(zr(i,"g2-tooltip")||function(){for(var t=i.parentNode,e=!1;t&&t!==document.body;){if(zr(t,"g2-tooltip")){e=!0;break}t=t.parentNode}return e}())||(this.hideTooltip(e),this.location=null))},Qr.prototype.showTooltip=function(t,e){t.showTooltip(e)},Qr.prototype.hideTooltip=function(t){t.hideTooltip()},Qr),Ur=(Hr=qr,Object(S.__extends)($r,Hr),$r.prototype.showTooltip=function(i,n){var t=pe(i);Object(R.each)(t,function(t){var e=fe(i,t,n);t.showTooltip(e)})},$r.prototype.hideTooltip=function(t){var e=pe(t);Object(R.each)(e,function(t){t.hideTooltip()})},$r),Zr=(Vr=vt,Object(S.__extends)(Kr,Vr),Kr.prototype.hasState=function(t){return t.hasState(this.stateName)},Kr.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},Kr.prototype.setState=function(){this.setStateEnable(!0)},Kr.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},Kr.prototype.clearViewState=function(t){var e=this,i=re(t,this.stateName);Object(R.each)(i,function(t){e.setElementState(t,!1)})},Kr);function Kr(){var t=null!==Vr&&Vr.apply(this,arguments)||this;return t.stateName="",t}function $r(){return null!==Hr&&Hr.apply(this,arguments)||this}function Qr(){var t=null!==Wr&&Wr.apply(this,arguments)||this;return t.timeStamp=0,t}function Jr(t){return t.get("delegateObject").item}var ta,ea,ia,na,oa,ra,aa,sa=(aa=Zr,Object(S.__extends)(ba,aa),ba.prototype.isItemIgnore=function(e,i){return!!this.ignoreListItemStates.filter(function(t){return i.hasState(e,t)}).length},ba.prototype.setStateByComponent=function(t,e,i){var n=this.context.view,o=t.get("field"),r=oe(n);this.setElementsStateByItem(r,o,e,i)},ba.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},ba.prototype.isMathItem=function(t,e,i){var n=ge(this.context.view,e),o=ae(t,e);return!Object(R.isNil)(o)&&i.name===n.getText(o)},ba.prototype.setElementsStateByItem=function(t,e,i,n){var o=this;Object(R.each)(t,function(t){o.isMathItem(t,e,i)&&t.setState(o.stateName,n)})},ba.prototype.setStateEnable=function(t){var e=Kt(this.context);if(e)Qt(this.context)&&this.setStateByElement(e,t);else{var i=$t(this.context);if(Jt(i)){var n=i.item,o=i.component;if(n&&o&&!this.isItemIgnore(n,o)){var r=this.context.event.gEvent;if(r&&r.fromShape&&r.toShape&&Jr(r.fromShape)===Jr(r.toShape))return;this.setStateByComponent(o,n,t)}}}},ba.prototype.toggle=function(){var t,e=Kt(this.context);e&&(t=e.hasState(this.stateName),this.setElementState(e,!t))},ba.prototype.reset=function(){this.setStateEnable(!1)},ba),la=(ra=sa,Object(S.__extends)(xa,ra),xa.prototype.active=function(){this.setState()},xa),ua=(oa=vt,Object(S.__extends)(ma,oa),ma.prototype.getColorScale=function(t,e){var i=e.geometry.getAttribute("color");return i?t.getScaleByField(i.getFields()[0]):null},ma.prototype.getLinkPath=function(t,e){var i=t.shape.getCanvasBBox(),n=e.shape.getCanvasBBox();return[["M",i.maxX,i.minY],["L",n.minX,n.minY],["L",n.minX,n.maxY],["L",i.maxX,i.maxY],["Z"]]},ma.prototype.addLinkShape=function(t,e,i){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,i)}})},ma.prototype.linkByElement=function(t){var e,n,o,r,i,a,s=this,l=this.context.view,u=this.getColorScale(l,t);u&&(e=ae(t,u.field),this.cache[e]||(i=u.field,a=e,n=oe(l).filter(function(t){return ae(t,i)===a}),o=this.linkGroup.addGroup(),this.cache[e]=o,r=n.length,Object(R.each)(n,function(t,e){var i;e<r-1&&(i=n[e+1],s.addLinkShape(o,t,i))})))},ma.prototype.removeLink=function(t){var e,i=this.getColorScale(this.context.view,t);i&&(e=ae(t,i.field),this.cache[e]&&(this.cache[e].remove(),this.cache[e]=null))},ma.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Kt(t);e&&this.linkByElement(e)},ma.prototype.unlink=function(){var t=Kt(this.context);t&&this.removeLink(t)},ma.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},ma.prototype.destroy=function(){oa.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},ma),ca=(na=Zr,Object(S.__extends)(va,na),va.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},va.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},va.prototype.getIntersectElements=function(){var t=null;if(ee(this.context))t=ie(this.context,10);else{var e=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!i)return;var n={minX:Math.min(e.x,i.x),minY:Math.min(e.y,i.y),maxX:Math.max(e.x,i.x),maxY:Math.max(e.y,i.y)},t=se(this.context.view,n)}return t},va.prototype.setStateEnable=function(t){var e,i;this.effectSiblings&&!this.effectByRecord?this.setSiblingsState(t):(e=oe(this.context.view),(i=this.getIntersectElements())&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,t):this.setElementsState(i,t,e):this.clear())},va.prototype.setSiblingsStateByRecord=function(t,n){var o=this,e=this.context.view,i=pe(e),r=t.map(function(t){return t.getModel().data}),a=e.getXScale().field,s=e.getYScales()[0].field;Object(R.each)(i,function(t){var e=oe(t),i=e.filter(function(t){var e=t.getModel().data;return de(r,e,a,s)});o.setElementsState(i,n,e)})},va.prototype.setSiblingsState=function(n){var o=this,t=pe(this.context.view);ee(this.context)&&Object(R.each)(t,function(t){var e=oe(t),i=ne(o.context,t,10);i&&i.length?o.setElementsState(i,n,e):o.clearViewState(t)})},va.prototype.setElementsState=function(e,i,t){var n=this;Object(R.each)(t,function(t){e.includes(t)?n.setElementState(t,i):n.setElementState(t,!1)})},va.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},va.prototype.clear=function(){var t,e=this,i=this.context.view;this.effectSiblings?(t=pe(i),Object(R.each)(t,function(t){e.clearViewState(t)})):this.clearViewState(i)},va),ha=(ia=ca,Object(S.__extends)(ya,ia),ya.prototype.active=function(){this.setState()},ya),pa=(ea=Zr,Object(S.__extends)(ga,ea),ga.prototype.setStateEnable=function(t){var e=Kt(this.context);if(e){if(!Qt(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},ga.prototype.toggle=function(){var t,e=Kt(this.context);e&&((t=this.hasState(e))||this.clear(),this.setElementState(e,!t))},ga.prototype.reset=function(){this.setStateEnable(!1)},ga),fa=(ta=pa,Object(S.__extends)(da,ta),da.prototype.active=function(){this.setState()},da);function da(){var t=null!==ta&&ta.apply(this,arguments)||this;return t.stateName="active",t}function ga(){return null!==ea&&ea.apply(this,arguments)||this}function ya(){var t=null!==ia&&ia.apply(this,arguments)||this;return t.stateName="active",t}function va(){var t=null!==na&&na.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}function ma(){var t=null!==oa&&oa.apply(this,arguments)||this;return t.cache={},t}function xa(){var t=null!==ra&&ra.apply(this,arguments)||this;return t.stateName="active",t}function ba(){var t=null!==aa&&aa.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}function _a(t){var e=oe(t);Object(R.each)(e,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}function Ma(t,e,i){Object(R.each)(t,function(t){e(t)?(t.hasState("inactive")&&t.setState("inactive",!1),t.setState("active",i)):(t.hasState("active")&&t.setState("active",!1),t.setState("inactive",i))})}var Oa,wa,Ca,Sa,ja,Aa,Pa,Ta,La,ka,Ea=(ka=sa,Object(S.__extends)(Qa,ka),Qa.prototype.setElementsStateByItem=function(t,e,i,n){var o=this;this.setHighlightBy(t,function(t){return o.isMathItem(t,e,i)},n)},Qa.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState("inactive")&&t.setState("inactive",!1),t.setState("active",!0)):t.hasState("active")||t.setState("inactive",!0)},Qa.prototype.setHighlightBy=function(t,e,i){var n,o,r=this;i?Object(R.each)(t,function(t){r.setElementHighlight(t,e)}):(n=re(this.context.view,"active"),o=!0,Object(R.each)(n,function(t){if(!e(t))return o=!1}),o?this.clear():Object(R.each)(t,function(t){e(t)&&(t.hasState("active")&&t.setState("active",!1),t.setState("inactive",!0))}))},Qa.prototype.setElementState=function(e,t){var i=oe(this.context.view);this.setHighlightBy(i,function(t){return e===t},t)},Qa.prototype.highlight=function(){this.setState()},Qa.prototype.clear=function(){_a(this.context.view)},Qa),Da=(La=Ea,Object(S.__extends)($a,La),$a.prototype.setStateByElement=function(t,e){var i,n,o,r,a=this.context.view,s=t.geometry.getAttribute("color");s&&(i=a.getScaleByField(s.getFields()[0]),n=ae(t,i.field),o=oe(a),r=o.filter(function(t){return ae(t,i.field)===n}),this.setHighlightBy(o,function(t){return r.includes(t)},e))},$a),Ba=(Ta=Ea,Object(S.__extends)(Ka,Ta),Ka.prototype.setStateByElement=function(t,e){var i=this.context.view,n=i.getXScale(),o=ae(t,n.field),r=oe(i),a=r.filter(function(t){return ae(t,n.field)===o});this.setHighlightBy(r,function(t){return a.includes(t)},e)},Ka),Fa=(Pa=ca,Object(S.__extends)(Za,Pa),Za.prototype.clearViewState=function(t){_a(t)},Za.prototype.highlight=function(){this.setState()},Za.prototype.setElementsState=function(e,t,i){Ma(i,function(t){return 0<=e.indexOf(t)},t)},Za),Ia=(Aa=pa,Object(S.__extends)(Ua,Aa),Ua.prototype.highlight=function(){this.setState()},Ua.prototype.setElementState=function(e,t){Ma(oe(this.context.view),function(t){return e===t},t)},Ua.prototype.clear=function(){_a(this.context.view)},Ua),Ra=(ja=ca,Object(S.__extends)(qa,ja),qa.prototype.selected=function(){this.setState()},qa),Na=(Sa=sa,Object(S.__extends)(Wa,Sa),Wa.prototype.selected=function(){this.setState()},Wa),Ya=(Ca=pa,Object(S.__extends)(Ha,Ca),Ha.prototype.selected=function(){this.setState()},Ha),Ga=(wa=vt,Object(S.__extends)(Va,wa),Va.prototype.getTriggerListInfo=function(){var t=$t(this.context),e=null;return Jt(t)&&(e={item:t.item,list:t.component}),e},Va.prototype.getAllowComponents=function(){var e=this,t=ue(this.context.view),i=[];return Object(R.each)(t,function(t){t.isList()&&e.allowSetStateByElement(t)&&i.push(t)}),i},Va.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},Va.prototype.clearAllComponentsState=function(){var e=this,t=this.getAllowComponents();Object(R.each)(t,function(t){t.clearItemsState(e.stateName)})},Va.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var i=t.get("name");if(-1===this.cfg.componentNames.indexOf(i))return!1}var n=ge(this.context.view,e);return n&&n.isCategory},Va.prototype.allowSetStateByItem=function(e,i){var t=this.ignoreItemStates;return!t.length||0===t.filter(function(t){return i.hasState(e,t)}).length},Va.prototype.setStateByElement=function(t,e,i){var n=t.get("field"),o=ge(this.context.view,n),r=ae(e,n),a=o.getText(r);this.setItemsState(t,a,i)},Va.prototype.setStateEnable=function(e){var t,i,n,o,r=this,a=Kt(this.context);a?(t=this.getAllowComponents(),Object(R.each)(t,function(t){r.setStateByElement(t,a,e)})):Jt(i=$t(this.context))&&(n=i.item,o=i.component,this.allowSetStateByElement(o)&&this.allowSetStateByItem(n,o)&&this.setItemState(o,n,e))},Va.prototype.setItemsState=function(e,i,n){var o=this,t=e.getItems();Object(R.each)(t,function(t){t.name===i&&o.setItemState(e,t,n)})},Va.prototype.setItemState=function(t,e,i){t.setItemState(e,this.stateName,i)},Va.prototype.setState=function(){this.setStateEnable(!0)},Va.prototype.reset=function(){this.setStateEnable(!1)},Va.prototype.toggle=function(){var t,e,i,n=this.getTriggerListInfo();n&&n.item&&(t=n.list,e=n.item,i=this.hasState(t,e),this.setItemState(t,e,!i))},Va.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},Va),Xa=(Oa=Ga,Object(S.__extends)(za,Oa),za.prototype.active=function(){this.setState()},za);function za(){var t=null!==Oa&&Oa.apply(this,arguments)||this;return t.stateName="active",t}function Va(){var t=null!==wa&&wa.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}function Ha(){var t=null!==Ca&&Ca.apply(this,arguments)||this;return t.stateName="selected",t}function Wa(){var t=null!==Sa&&Sa.apply(this,arguments)||this;return t.stateName="selected",t}function qa(){var t=null!==ja&&ja.apply(this,arguments)||this;return t.stateName="selected",t}function Ua(){var t=null!==Aa&&Aa.apply(this,arguments)||this;return t.stateName="active",t}function Za(){var t=null!==Pa&&Pa.apply(this,arguments)||this;return t.stateName="active",t}function Ka(){return null!==Ta&&Ta.apply(this,arguments)||this}function $a(){return null!==La&&La.apply(this,arguments)||this}function Qa(){var t=null!==ka&&ka.apply(this,arguments)||this;return t.stateName="active",t}var Ja,ts,es,is,ns,os,rs=(os=Ga,Object(S.__extends)(ys,os),ys.prototype.setItemsState=function(t,e,i){this.setHighlightBy(t,function(t){return t.name===e},i)},ys.prototype.setItemState=function(t,e,i){t.getItems(),this.setHighlightBy(t,function(t){return t===e},i)},ys.prototype.setHighlightBy=function(e,i,t){var n,o,r=e.getItems();t?Object(R.each)(r,function(t){i(t)?(e.hasState(t,"inactive")&&e.setItemState(t,"inactive",!1),e.setItemState(t,"active",!0)):e.hasState(t,"active")||e.setItemState(t,"inactive",!0)}):(n=e.getItemsByState("active"),o=!0,Object(R.each)(n,function(t){if(!i(t))return o=!1}),o?this.clear():Object(R.each)(r,function(t){i(t)&&(e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.setItemState(t,"inactive",!0))}))},ys.prototype.highlight=function(){this.setState()},ys.prototype.clear=function(){var e,t,i,n=this.getTriggerListInfo();n?(t=(e=n.list).getItems(),Object(R.each)(t,function(t){e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.hasState(t,"inactive")&&e.setItemState(t,"inactive",!1)})):(i=this.getAllowComponents(),Object(R.each)(i,function(t){t.clearItemsState("active"),t.clearItemsState("inactive")}))},ys),as=(ns=Ga,Object(S.__extends)(gs,ns),gs.prototype.selected=function(){this.setState()},gs),ss=(is=Ga,Object(S.__extends)(ds,is),ds.prototype.unchecked=function(){this.setState()},ds),ls=(es=vt,Object(S.__extends)(fs,es),fs.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},fs.prototype.emitEvent=function(t){var e="mask:"+t,i=this.context.view,n=this.context.event;i.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:n.x,y:n.y})},fs.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(S.__assign)({fill:"#C5D4EB",opacity:.3},e)})},fs.prototype.getMaskPath=function(){return[]},fs.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},fs.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},fs.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},fs.prototype.move=function(){var t,e,i,n,o;this.moving&&this.maskShape&&(t=this.getCurrentPoint(),e=this.preMovePoint,i=t.x-e.x,n=t.y-e.y,o=this.points,Object(R.each)(o,function(t){t.x+=i,t.y+=n}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)},fs.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},fs.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},fs.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},fs.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},fs.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},fs.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,es.prototype.destroy.call(this)},fs),us=(ts=ls,Object(S.__extends)(ps,ts),ps.prototype.getMaskAttrs=function(){var t,e=this.points,i=Object(R.last)(this.points),n=0,o=0,r=0;return e.length&&(n=ce(t=e[0],i)/2,o=(i.x+t.x)/2,r=(i.y+t.y)/2),{x:o,y:r,r:n}},ps),cs=(Ja=ls,Object(S.__extends)(hs,Ja),hs.prototype.getRegion=function(){var t=this.points;return{start:Object(R.head)(t),end:Object(R.last)(t)}},hs.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,i=t.end;return{x:Math.min(e.x,i.x),y:Math.min(e.y,i.y),width:Math.abs(i.x-e.x),height:Math.abs(i.y-e.y)}},hs);function hs(){var t=null!==Ja&&Ja.apply(this,arguments)||this;return t.shapeType="rect",t}function ps(){var t=null!==ts&&ts.apply(this,arguments)||this;return t.shapeType="circle",t}function fs(){var t=null!==es&&es.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}function ds(){var t=null!==is&&is.apply(this,arguments)||this;return t.stateName="unchecked",t}function gs(){var t=null!==ns&&ns.apply(this,arguments)||this;return t.stateName="selected",t}function ys(){var t=null!==os&&os.apply(this,arguments)||this;return t.stateName="active",t.ignoreItemStates=["unchecked"],t}function vs(t){t.x=Object(R.clamp)(t.x,0,1),t.y=Object(R.clamp)(t.y,0,1)}var ms,xs,bs,_s,Ms,Os=(Ms=cs,Object(S.__extends)(ks,Ms),ks.prototype.getRegion=function(){var t=null,e=null,i=this.points,n=this.dim,o=this.context.view.getCoordinate(),r=o.invert(Object(R.head)(i)),a=o.invert(Object(R.last)(i));return this.inPlot&&(vs(r),vs(a)),e="x"===n?(t=o.convert({x:r.x,y:0}),o.convert({x:a.x,y:1})):(t=o.convert({x:0,y:r.y}),o.convert({x:1,y:a.y})),{start:t,end:e}},ks),ws=(_s=ls,Object(S.__extends)(Ls,_s),Ls.prototype.getMaskPath=function(){var t=this.points,i=[];return t.length&&(Object(R.each)(t,function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),i.push(["L",t[0].x,t[0].y])),i},Ls.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},Ls.prototype.addPoint=function(){this.resize()},Ls),Cs=(bs=ws,Object(S.__extends)(Ts,bs),Ts.prototype.getMaskPath=function(){return function(t){if(t.length<=2)return Gt(t,!1);var e=t[0],i=[];Object(R.each)(t,function(t){i.push(t.x),i.push(t.y)});var n=Yt(i,!0,null);return n.unshift(["M",e.x,e.y]),n}(this.points)},Ts),Ss=(xs=vt,Object(S.__extends)(Ps,xs),Ps.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},Ps.prototype.default=function(){this.setCursor("default")},Ps.prototype.pointer=function(){this.setCursor("pointer")},Ps.prototype.move=function(){this.setCursor("move")},Ps.prototype.crosshair=function(){this.setCursor("crosshair")},Ps.prototype.wait=function(){this.setCursor("wait")},Ps.prototype.help=function(){this.setCursor("help")},Ps.prototype.text=function(){this.setCursor("text")},Ps.prototype.eResize=function(){this.setCursor("e-resize")},Ps.prototype.wResize=function(){this.setCursor("w-resize")},Ps.prototype.nResize=function(){this.setCursor("n-resize")},Ps.prototype.sResize=function(){this.setCursor("s-resize")},Ps.prototype.neResize=function(){this.setCursor("ne-resize")},Ps.prototype.nwResize=function(){this.setCursor("nw-resize")},Ps.prototype.seResize=function(){this.setCursor("se-resize")},Ps.prototype.swResize=function(){this.setCursor("sw-resize")},Ps.prototype.nsResize=function(){this.setCursor("ns-resize")},Ps.prototype.ewResize=function(){this.setCursor("ew-resize")},Ps),js=(ms=vt,Object(S.__extends)(As,ms),As.prototype.filterView=function(t,e,i){var n=this;t.getScaleByField(e)&&t.filter(e,i),t.views&&t.views.length&&Object(R.each)(t.views,function(t){n.filterView(t,e,i)})},As.prototype.filter=function(){var t,e,i,n,o,r,a,s,l,u=$t(this.context);u&&(t=this.context.view,i=(e=u.component).get("field"),Jt(u)?i&&(n=e.getItemsByState("unchecked"),o=ge(t,i),(r=n.map(function(t){return t.name})).length?this.filterView(t,i,function(t){var e=o.getText(t);return!r.includes(e)}):this.filterView(t,i,null),t.render(!0)):te(u)&&(a=e.getValue(),s=a[0],l=a[1],this.filterView(t,i,function(t){return s<=t&&t<=l}),t.render(!0)))},As);function As(){return null!==ms&&ms.apply(this,arguments)||this}function Ps(){return null!==xs&&xs.apply(this,arguments)||this}function Ts(){return null!==bs&&bs.apply(this,arguments)||this}function Ls(){return null!==_s&&_s.apply(this,arguments)||this}function ks(){var t=null!==Ms&&Ms.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}function Es(t,e,i,n){var o=Math.min(i[e],n[e]),r=Math.max(i[e],n[e]),a=t.range,s=a[0],l=a[1];if(o<s&&(o=s),l<r&&(r=l),o===l&&r===l)return null;var u=t.invert(o),c=t.invert(r);if(t.isCategory){var h=t.values.indexOf(u),p=t.values.indexOf(c),f=t.values.slice(h,p+1);return function(t){return f.includes(t)}}return function(t){return u<=t&&t<=c}}var Ds,Bs,Fs,Is,Rs,Ns,Ys,Gs,Xs,zs,Vs=(zs=vt,Object(S.__extends)(ul,zs),ul.prototype.hasDim=function(t){return this.dims.includes(t)},ul.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},ul.prototype.filter=function(){var t,e,i,n,o,r,a;if(ee(this.context))var s=this.context.event.target.getCanvasBBox(),l={x:s.x,y:s.y},u={x:s.maxX,y:s.maxY};else{if(!this.isStarted)return;l=this.startPoint,u=this.context.getCurrentPoint()}Math.abs(l.x-u.x)<5||Math.abs(l.x-u.y)<5||(i=(e=(t=this.context.view).getCoordinate()).invert(u),n=e.invert(l),this.hasDim("x")&&(a=Es(o=t.getXScale(),"x",i,n),this.filterView(t,o.field,a)),this.hasDim("y")&&(a=Es(r=t.getYScales()[0],"y",i,n),this.filterView(t,r.field,a)),this.reRender(t))},ul.prototype.end=function(){this.isStarted=!1},ul.prototype.reset=function(){var t,e,i=this.context.view;this.isStarted=!1,this.hasDim("x")&&(t=i.getXScale(),this.filterView(i,t.field,null)),this.hasDim("y")&&(e=i.getYScales()[0],this.filterView(i,e.field,null)),this.reRender(i)},ul.prototype.filterView=function(t,e,i){t.filter(e,i)},ul.prototype.reRender=function(t){t.render(!0)},ul),Hs=(Xs=Vs,Object(S.__extends)(ll,Xs),ll.prototype.filterView=function(t,e,i){var n=pe(t);Object(R.each)(n,function(t){t.filter(e,i)})},ll.prototype.reRender=function(t){var e=pe(t);Object(R.each)(e,function(t){t.render(!0)})},ll),Ws=(Gs=vt,Object(S.__extends)(sl,Gs),sl.prototype.filter=function(){var e,t,n,i,o,r,a,s,l,u=$t(this.context),c=this.context.view,h=oe(c);ee(this.context)?(e=ie(this.context,10))&&Object(R.each)(h,function(t){e.includes(t)?t.show():t.hide()}):u&&(t=u.component,n=t.get("field"),Jt(u)?n&&(i=t.getItemsByState("unchecked"),o=ge(c,n),r=i.map(function(t){return t.name}),Object(R.each)(h,function(t){var e=ae(t,n),i=o.getText(e);0<=r.indexOf(i)?t.hide():t.show()})):te(u)&&(a=t.getValue(),s=a[0],l=a[1],Object(R.each)(h,function(t){var e=ae(t,n);s<=e&&e<=l?t.show():t.hide()})))},sl.prototype.clear=function(){var t=oe(this.context.view);Object(R.each)(t,function(t){t.show()})},sl.prototype.reset=function(){this.clear()},sl),qs=(Ys=vt,Object(S.__extends)(al,Ys),al.prototype.filter=function(){ee(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},al.prototype.filterByRecord=function(){var i,n,o,t,e=this.context.view,r=ie(this.context,10);r&&(i=e.getXScale().field,n=e.getYScales()[0].field,o=r.map(function(t){return t.getModel().data}),t=pe(e),Object(R.each)(t,function(t){var e=oe(t);Object(R.each)(e,function(t){var e=t.getModel().data;de(o,e,i,n)?t.show():t.hide()})}))},al.prototype.filterByBBox=function(){var n=this,t=pe(this.context.view);Object(R.each)(t,function(t){var e=ne(n.context,t,10),i=oe(t);e&&Object(R.each)(i,function(t){e.includes(t)?t.show():t.hide()})})},al.prototype.reset=function(){var t=pe(this.context.view);Object(R.each)(t,function(t){var e=oe(t);Object(R.each)(e,function(t){t.show()})})},al),Us=(Ns=vt,Object(S.__extends)(rl,Ns),rl.prototype.getButtonCfg=function(){return Object(R.deepMix)(this.buttonCfg,this.cfg)},rl.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),i=e.addShape({type:"text",name:"button-text",attrs:Object(S.__assign)({text:t.text},t.textStyle)}).getBBox(),n=Vt(t.padding),o=e.addShape({type:"rect",name:"button-rect",attrs:Object(S.__assign)({x:i.x-n[3],y:i.y-n[0],width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},t.style)});o.toBack(),e.on("mouseenter",function(){o.attr(t.activeStyle)}),e.on("mouseleave",function(){o.attr(t.style)}),this.buttonGroup=e},rl.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,i=e.getBBox(),n=Object(Ct.transform)(null,[["t",t.x-i.width-10,t.y+i.height+5]]);e.setMatrix(n)},rl.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},rl.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},rl.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),Ns.prototype.destroy.call(this)},rl),Zs=(Rs=vt,Object(S.__extends)(ol,Rs),ol.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},ol.prototype.drag=function(){var t,e,i;this.startPoint&&(t=this.context.getCurrentPoint(),e=this.context.view,i=this.context.event,this.dragStart?e.emit("drag",{target:i.target,x:i.x,y:i.y}):4<ce(t,this.startPoint)&&(e.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0))},ol.prototype.end=function(){var t,e;this.dragStart&&(t=this.context.view,e=this.context.event,t.emit("dragend",{target:e.target,x:e.x,y:e.y})),this.starting=!1,this.dragStart=!1},ol),Ks=(Is=vt,Object(S.__extends)(nl,Is),nl.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},nl.prototype.move=function(){var t,e,i,n;this.starting&&(5<ce(t=this.startPoint,e=this.context.getCurrentPoint())&&!this.isMoving&&(this.isMoving=!0),this.isMoving&&(i=this.context.view,n=Object(Ct.transform)(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]),i.backgroundGroup.setMatrix(n),i.foregroundGroup.setMatrix(n),i.middleGroup.setMatrix(n)))},nl.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},nl.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},nl),$s=(Fs=vt,Object(S.__extends)(il,Fs),il.prototype.hasDim=function(t){return this.dims.includes(t)},il.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},il.prototype.resetDim=function(t){var e,i=this.context.view;this.hasDim(t)&&this.cacheScaleDefs[t]&&(e=this.getScale(t),i.scale(e.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null)},il.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},il),Qs=(Bs=$s,Object(S.__extends)(el,Bs),el.prototype.start=function(){var r=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var t=this.dims;Object(R.each)(t,function(t){var e=r.getScale(t),i=e.min,n=e.max,o=e.values;r.startCache[t]={min:i,max:n,values:o}})},el.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},el.prototype.translate=function(){var t,e,i,n,o,r,a,s,l,u=this;this.starting&&(t=this.startPoint,e=this.context.view.getCoordinate(),i=this.context.getCurrentPoint(),n=e.invert(t),o=e.invert(i),r=o.x-n.x,a=o.y-n.y,s=this.context.view,l=this.dims,Object(R.each)(l,function(t){u.translateDim(t,{x:-1*r,y:-1*a})}),s.render(!0))},el.prototype.translateDim=function(t,e){var i;!this.hasDim(t)||(i=this.getScale(t)).isLinear&&this.translateLinear(t,i,e)},el.prototype.translateLinear=function(t,e,i){var n=this.context.view,o=this.startCache[t],r=o.min,a=o.max,s=a-r,l=i[t]*s;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:r,max:a}),n.scale(e.field,{nice:!1,min:r+l,max:a+l})},el.prototype.reset=function(){Bs.prototype.reset.call(this),this.startPoint=null,this.starting=!1},el),Js=(Ds=$s,Object(S.__extends)(tl,Ds),tl.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},tl.prototype.zoom=function(e){var i=this,t=this.dims;Object(R.each)(t,function(t){i.zoomDim(t,e)}),this.context.view.render(!0)},tl.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},tl.prototype.zoomDim=function(t,e){var i;!this.hasDim(t)||(i=this.getScale(t)).isLinear&&this.zoomLinear(t,i,e)},tl.prototype.zoomLinear=function(t,e,i){var n=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],r=o.max-o.min,a=e.min,s=e.max,l=i*r,u=a-l,c=s+l,h=(c-u)/r;u<c&&h<100&&.01<h&&n.scale(e.field,{nice:!1,min:a-l,max:s+l})},tl);function tl(){var t=null!==Ds&&Ds.apply(this,arguments)||this;return t.zoomRatio=.05,t}function el(){var t=null!==Bs&&Bs.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}function il(){var t=null!==Fs&&Fs.apply(this,arguments)||this;return t.dims=["x","y"],t.cfgFields=["dims"],t.cacheScaleDefs={},t}function nl(){var t=null!==Is&&Is.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}function ol(){var t=null!==Rs&&Rs.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}function rl(){var t=null!==Ns&&Ns.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}function al(){var t=null!==Ys&&Ys.apply(this,arguments)||this;return t.byRecord=!1,t}function sl(){return null!==Gs&&Gs.apply(this,arguments)||this}function ll(){return null!==Xs&&Xs.apply(this,arguments)||this}function ul(){var t=null!==zs&&zs.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}function cl(t){return t.isInPlot()}function hl(t){return t.gEvent.preventDefault(),0<t.gEvent.originalEvent.deltaY}Xe("dark",ke(Cn)),p("canvas",Sn),p("svg",jn),ui("Polygon",vo),ui("Interval",oo),ui("Schema",mo),ui("Path",Rn),ui("Point",po),ui("Line",ro),ui("Area",Vn),ui("Edge",Un),ui("Heatmap",Zn),Zi("base",yn),Zi("interval",To),Zi("pie",Eo),Zi("polar",ko),$i("overlap",function(t,e,i,n){var l=new Io;Object(R.each)(e,function(t){for(var e=t.find(function(t){return"text"===t.get("type")}),i=e.attr(),n=i.x,o=i.y,r=!1,a=0;a<=8;a++){var s=No(e,n,o,a);if(l.hasGap(s)){l.fillGap(s),r=!0;break}}r||t.remove(!0)}),l.destroy()}),$i("distribute",function(t,n,e,i){var o,x,r,a=t[0]?t[0].offset:0,s=n[0].get("coordinate"),l=s.getRadius(),u=s.getCenter();0<a&&(o=2*(l+a)+28,x={start:s.start,end:s.end},r=[[],[]],t.forEach(function(t){t&&("right"===t.textAlign?r[0].push(t):r[1].push(t))}),r.forEach(function(t,e){var i=o/14;t.length>i&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(i,t.length-i)),t.sort(function(t,e){return t.y-e.y}),function(t,i,r,a){var n,e,o,s=!0,l=x.start,u=x.end,c=Math.min(l.y,u.y),h=Math.abs(l.y-u.y),p=0,f=Number.MIN_VALUE,d=i.map(function(t){return t.y>p&&(p=t.y),t.y<f&&(f=t.y),{size:14,targets:[t.y-c]}});for(f-=c,h<p-c&&(h=p-c);s;)for(d.forEach(function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),h-t.size)}),s=!1,n=d.length;n--;){0<n&&(e=d[n-1],o=d[n],e.pos+e.size>o.pos&&(e.size+=o.size,e.targets=e.targets.concat(o.targets),e.pos+e.size>h&&(e.pos=h-e.size),d.splice(n,1),s=!0))}n=0,d.forEach(function(t){var e=c+7;t.targets.forEach(function(){i[n].y=t.pos+e,e+=14,n++})});for(var g={},y=0,v=t;y<v.length;y++){var m=v[y];g[m.get("id")]=m}i.forEach(function(t){var e,i=t.r*t.r,n=Math.pow(Math.abs(t.y-r.y),2);i<n?t.x=r.x:(e=Math.sqrt(i-n),t.x=a?r.x+e:r.x-e);var o=g[t.id];o.attr("x",t.x),o.attr("y",t.y)})}(n,t,u,e)})),Object(R.each)(t,function(t){var e,i,n,o,r,a,s;t&&t.labelLine&&(e=t.offset,i=t.angle,n=St(u.x,u.y,l,i),o=St(u.x,u.y,l+e/2,i),r=t.x+Object(R.get)(t,"offsetX",0),a=t.y+Object(R.get)(t,"offsetY",0),s={x:r-4*Math.cos(i),y:a-4*Math.sin(i)},Object(R.isObject)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M "+n.x,n.y+" Q"+o.x,o.y+" "+s.x,s.y].join(","))})}),$i("fixed-overlap",function(t,e,i,n){var o=new Io;Object(R.each)(e,function(t){!function(t,e,i){void 0===i&&(i=100);var n,o=t.attr(),r=o.x,a=o.y,s=t.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u=1,c=0,h=0;if(e.hasGap(s))return e.fillGap(s),1;for(var p,f=!1,d=0,g={};Math.min(Math.abs(c),Math.abs(h))<l&&d<i;)if(h=~~(n=[(p=.1*(u+=-1))*Math.cos(p),p*Math.sin(p)])[1],((c=~~n[0])||h)&&!g[c+"-"+h]&&(t.attr({x:r+c,y:a+h}),c+h<0&&t.attr("textAlign","right"),d++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),f=!0,g[c+"-"+h]=!0;break}return f}(t.find(function(t){return"text"===t.get("type")}),o)&&t.remove(!0)}),o.destroy()}),$i("limit-in-shape",function(t,e,o,i){Object(R.each)(e,function(t,e){var i=t.getCanvasBBox(),n=o[e].getBBox();(i.minX<n.minX||i.minY<n.minY||i.maxX>n.maxX||i.maxY>n.maxY)&&t.remove(!0)})}),$i("limit-in-canvas",function(t,e,i,y){Object(R.each)(e,function(t){var e=y.minX,i=y.minY,n=y.maxX,o=y.maxY,r=t.getCanvasBBox(),a=r.minX,s=r.minY,l=r.maxX,u=r.maxY,c=r.x,h=r.y,p=r.width,f=r.height,d=c,g=h;(a<e||l<e)&&(d=e),(s<i||u<i)&&(g=i),n<a?d=n-p:n<l&&(d-=l-n),o<s?g=o-f:o<u&&(g-=u-o),d===c&&g===h||pn(t,d-c,g-h)})}),Fi("fade-in",function(t,e,i){var n={fillOpacity:Object(R.isNil)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Object(R.isNil)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Object(R.isNil)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(n,e)}),Fi("fade-out",function(t,e,i){var n=e.easing,o=e.duration,r=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},o,n,function(){t.remove(!0)},r)}),Fi("grow-in-x",function(t,e,i){Yo(t,e,i.coordinate,i.minYPoint,"x")}),Fi("grow-in-xy",function(t,e,i){Yo(t,e,i.coordinate,i.minYPoint,"xy")}),Fi("grow-in-y",function(t,e,i){Yo(t,e,i.coordinate,i.minYPoint,"y")}),Fi("scale-in-x",function(t,e,i){var n=t.getBBox(),o=t.get("origin").mappingData.points,r=0<o[0].y-o[1].y?n.maxX:n.minX,a=(n.minY+n.maxY)/2;t.applyToMatrix([r,a,1]);var s=Object(Ct.transform)(t.getMatrix(),[["t",-r,-a],["s",.01,1],["t",r,a]]);t.setMatrix(s),t.animate({matrix:Object(Ct.transform)(t.getMatrix(),[["t",-r,-a],["s",100,1],["t",r,a]])},e)}),Fi("scale-in-y",function(t,e,i){var n=t.getBBox(),o=t.get("origin").mappingData,r=(n.minX+n.maxX)/2,a=o.points,s=a[0].y-a[1].y<=0?n.maxY:n.minY;t.applyToMatrix([r,s,1]);var l=Object(Ct.transform)(t.getMatrix(),[["t",-r,-s],["s",1,.01],["t",r,s]]);t.setMatrix(l),t.animate({matrix:Object(Ct.transform)(t.getMatrix(),[["t",-r,-s],["s",1,100],["t",r,s]])},e)}),Fi("wave-in",function(t,e,i){var n=Rt(i.coordinate,20),o=n.type,r=n.startState,a=n.endState,s=t.setClip({type:o,attrs:r});s.animate(a,Object(S.__assign)(Object(S.__assign)({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),s.remove(!0)}}))}),Fi("zoom-in",function(t,e,i){Wo(t,e,"zoomIn")}),Fi("zoom-out",function(t,e,i){Wo(t,e,"zoomOut")}),Fi("position-update",function(t,e,i){var n=i.toAttrs,o=n.x,r=n.y;delete n.x,delete n.y,t.attr(n),t.animate({x:o,y:r},e)}),Fi("sector-path-update",function(t,e,i){var n=i.toAttrs,o=i.coordinate,r=n.path,a=r.map(function(t){return t[0]}),s=Ho(r),l=s.startAngle,u=s.endAngle,c=s.radius,h=s.innerRadius,p=Ho(t.attr("path")),f=p.startAngle,d=p.endAngle,g=o.getCenter(),y=l-f,v=u-d;t.animate(function(t){var e=f+t*y,i=d+t*v;return Object(S.__assign)(Object(S.__assign)({},n),{path:Object(R.isEqual)(a,["M","A","A","Z"])?At(g.x,g.y,c,e,i):jt(g.x,g.y,c,e,i,h)})},Object(S.__assign)(Object(S.__assign)({},e),{callback:function(){t.attr("path",r)}}))}),Fi("path-in",function(t,e,i){var n=t.getTotalLength();t.attr("lineDash",[n]),t.animate(function(t){return{lineDashOffset:(1-t)*n}},e)}),yt("rect",ar),yt("mirror",rr),yt("list",nr),yt("matrix",or),yt("circle",ir),yt("tree",sr),Ke("axis",Or),Ke("legend",Er),Ke("tooltip",Nr),Ke("annotation",lr),Ke("slider",Dr),wt("tooltip",qr),wt("sibling-tooltip",Ur),wt("element-active",la),wt("element-single-active",fa),wt("element-range-active",ha),wt("element-highlight",Ea),wt("element-highlight-by-x",Ba),wt("element-highlight-by-color",Da),wt("element-single-highlight",Ia),wt("element-range-highlight",Fa),wt("element-sibling-highlight",Fa,{effectSiblings:!0,effectByRecord:!0}),wt("element-selected",Na),wt("element-single-selected",Ya),wt("element-range-selected",Ra),wt("element-link-by-color",ua),wt("active-region",Yr),wt("list-active",Xa),wt("list-selected",as),wt("list-highlight",rs),wt("list-unchecked",ss),wt("legend-item-highlight",rs,{componentNames:["legend"]}),wt("axis-label-highlight",rs,{componentNames:["axis"]}),wt("rect-mask",cs),wt("x-rect-mask",Os,{dim:"x"}),wt("y-rect-mask",Os,{dim:"y"}),wt("circle-mask",us),wt("path-mask",ws),wt("smooth-path-mask",Cs),wt("cursor",Ss),wt("data-filter",js),wt("brush",Vs),wt("brush-x",Vs,{dims:["x"]}),wt("brush-y",Vs,{dims:["y"]}),wt("sibling-filter",Hs),wt("sibling-x-filter",Hs),wt("sibling-y-filter",Hs),wt("element-filter",Ws),wt("element-sibling-filter",qs),wt("element-sibling-filter-record",qs,{byRecord:!0}),wt("view-drag",Zs),wt("view-move",Ks),wt("scale-translate",Qs),wt("scale-zoom",Js),wt("reset-button",Us,{name:"reset-button",text:"reset"}),Te("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Te("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Te("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Te("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Te("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Te("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Te("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Te("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Te("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Te("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Te("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Te("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:cl,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:cl,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:cl,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Te("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Te("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:cl,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:cl,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:cl,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Te("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:cl,action:"path-mask:start"},{trigger:"mousedown",isEnable:cl,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Te("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Te("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Te("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Te("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Te("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Te("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Te("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return hl(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!hl(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Te("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var pl={translate:pn,rotate:fn,zoom:function(t,e){var i=t.getBBox(),n=(i.minX+i.maxX)/2,o=(i.minY+i.maxY)/2;t.applyToMatrix([n,o,1]);var r=Object(Ct.transform)(t.getMatrix(),[["t",-n,-o],["s",e,e],["t",n,o]]);t.setMatrix(r)},transform:Ct.transform,getAngle:Pt,polarToCartesian:St}},function(t,e,i){"use strict";i.r(e);function n(){}var h={},p=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,o="[^\\s]+",f=/\[([^]*?)\]/gm;function r(t,e){for(var i=[],n=0,o=t.length;n<o;n++)i.push(t[n].substr(0,e));return i}function a(o){return function(t,e,i){var n=i[o].indexOf(e.charAt(0).toUpperCase()+e.substr(1).toLowerCase());~n&&(t.month=n)}}function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],c=r(u,3),d=r(l,3);h.i18n={dayNamesShort:d,dayNames:l,monthNamesShort:c,monthNames:u,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10)*t%10]}};var g={D:function(t){return t.getDate()},DD:function(t){return s(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return s(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return s(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return s(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return s(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return s(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return s(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return s(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return s(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return s(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return s(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(0<e?"-":"+")+s(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},y={D:["\\d\\d?",function(t,e){t.day=e}],Do:["\\d\\d?"+o,function(t,e){t.day=parseInt(e,10)}],M:["\\d\\d?",function(t,e){t.month=e-1}],YY:["\\d\\d?",function(t,e){var i=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(68<e?i-1:i)+e}],h:["\\d\\d?",function(t,e){t.hour=e}],m:["\\d\\d?",function(t,e){t.minute=e}],s:["\\d\\d?",function(t,e){t.second=e}],YYYY:["\\d{4}",function(t,e){t.year=e}],S:["\\d",function(t,e){t.millisecond=100*e}],SS:["\\d{2}",function(t,e){t.millisecond=10*e}],SSS:["\\d{3}",function(t,e){t.millisecond=e}],d:["\\d\\d?",n],ddd:[o,n],MMM:[o,a("monthNamesShort")],MMMM:[o,a("monthNames")],a:[o,function(t,e,i){var n=e.toLowerCase();n===i.amPm[0]?t.isPm=!1:n===i.amPm[1]&&(t.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(t,e){var i,n=(e+"").match(/([+-]|\d\d)/gi);n&&(i=60*n[1]+parseInt(n[2],10),t.timezoneOffset="+"===n[0]?i:-i)}]};y.dd=y.d,y.dddd=y.ddd,y.DD=y.D,y.mm=y.m,y.hh=y.H=y.HH=y.h,y.MM=y.M,y.ss=y.s,y.A=y.a,h.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},h.format=function(e,t,i){var n=i||h.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=h.masks[t]||t||h.masks.default;var o=[];return(t=(t=t.replace(f,function(t,e){return o.push(e),"@@@"})).replace(p,function(t){return t in g?g[t](e,n):t.slice(1,t.length-1)})).replace(/@@@/g,function(){return o.shift()})},h.parse=function(t,e,i){var n=i||h.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=h.masks[e]||e,1e3<t.length)return null;var o={},r=[],a=[],s=(s=(e=e.replace(f,function(t,e){return a.push(e),"@@@"})).replace(/[|\\{()[^$+*?.-]/g,"\\$&").replace(p,function(t){if(y[t]){var e=y[t];return r.push(e[1]),"("+e[0]+")"}return t})).replace(/@@@/g,function(){return a.shift()}),l=t.match(new RegExp(s,"i"));if(!l)return null;for(var u=1;u<l.length;u++)r[u-1](o,l[u],n);var c=new Date;return!0===o.isPm&&null!=o.hour&&12!=+o.hour?o.hour=+o.hour+12:!1===o.isPm&&12==+o.hour&&(o.hour=0),null!=o.timezoneOffset?(o.minute=(o.minute||0)-o.timezoneOffset,new Date(Date.UTC(o.year||c.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0))):new Date(o.year||c.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0)},e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null==t}},function(t,e,i){"use strict";i.r(e);function c(t,e,i,n){return t[n]+(e[n]-t[n])*i}var a=i(0),n=/rgba?\(([\s.,0-9]+)\)/,s=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,l=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t){return"#"+r(t[0])+r(t[1])+r(t[2])}function o(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}function r(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e}function p(t){if("#"===t[0]&&7===t.length)return t;var e;f||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),f=e),f.style.color=t;var i=document.defaultView.getComputedStyle(f,"").getPropertyValue("color");return h(n.exec(i)[1].split(/\s*,\s*/).map(function(t){return Number(t)}))}var f;e.default={rgb2arr:o,gradient:function(t){var e=Object(a.isString)(t)?t.split("-"):t,u=Object(a.map)(e,function(t){return o(-1===t.indexOf("#")?p(t):t)});return function(t){return e=u,i=t,n=isNaN(Number(i))||i<0?0:1<i?1:Number(i),o=e.length-1,r=Math.floor(o*n),a=o*n-r,s=e[r],l=r===o?s:e[r+1],h([c(s,l,a,0),c(s,l,a,1),c(s,l,a,2)]);var e,i,n,o,r,a,s,l}},toRGB:Object(a.memoize)(p),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n,i,o=void 0;"l"===t[0]?(e=+(i=s.exec(t))[1]+90,o=i[2],n="linear-gradient("+e+"deg, "):"r"===t[0]&&(n="radial-gradient(",o=(i=l.exec(t))[4]);var r=o.match(u);return Object(a.each)(r,function(t,e){var i=t.split(":");n+=i[1]+" "+100*i[0]+"%",e!==r.length-1&&(n+=", ")}),n+=")"}return t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(26),y=i(15),d=i(107);function v(t,e,i,n,o){var r=1-o;return r*r*r*t+3*e*o*r*r+3*i*o*o*r+n*o*o*o}function h(t,e,i,n,o){var r=1-o;return 3*(r*r*(e-t)+2*r*o*(i-e)+o*o*(n-i))}function g(t,e,i,n){var o,r,a,s,l=-3*t+9*e-9*i+3*n,u=6*t-12*e+6*i,c=3*e-3*t,h=[];return f.isNumberEqual(l,0)?f.isNumberEqual(u,0)||0<=(o=-c/u)&&o<=1&&h.push(o):(s=u*u-4*l*c,f.isNumberEqual(s,0)?h.push(-u/(2*l)):0<s&&(r=(-u-(a=Math.sqrt(s)))/(2*l),0<=(o=(-u+a)/(2*l))&&o<=1&&h.push(o),0<=r&&r<=1&&h.push(r))),h}function m(t,e,i,n,o,r,a,s,l){var u=v(t,i,o,a,l),c=v(e,n,r,s,l),h=y.default.pointAt(t,e,i,n,l),p=y.default.pointAt(i,n,o,r,l),f=y.default.pointAt(o,r,a,s,l),d=y.default.pointAt(h.x,h.y,p.x,p.y,l),g=y.default.pointAt(p.x,p.y,f.x,f.y,l);return[[t,e,h.x,h.y,d.x,d.y,u,c],[u,c,g.x,g.y,f.x,f.y,a,s]]}e.default={extrema:g,box:function(t,e,i,n,o,r,a,s){for(var l=[t,a],u=[e,s],c=g(t,i,o,a),h=g(e,n,r,s),p=0;p<c.length;p++)l.push(v(t,i,o,a,c[p]));for(p=0;p<h.length;p++)u.push(v(e,n,r,s,h[p]));return f.getBBoxByArray(l,u)},length:function(t,e,i,n,o,r,a,s){return function t(e,i,n,o,r,a,s,l,u){if(0===u)return d.snapLength([e,n,r,s],[i,o,a,l]);var c=m(e,i,n,o,r,a,s,l,.5),h=c[0],p=c[1];return h.push(u-1),p.push(u-1),t.apply(null,h)+t.apply(null,p)}(t,e,i,n,o,r,a,s,3)},nearestPoint:function(t,e,i,n,o,r,a,s,l,u){return d.nearestPoint([t,i,o,a],[e,n,r,s],l,u,v)},pointDistance:function(t,e,i,n,o,r,a,s,l,u){var c=this.nearestPoint(t,e,i,n,o,r,a,s,l,u);return f.distance(c.x,c.y,l,u)},interpolationAt:v,pointAt:function(t,e,i,n,o,r,a,s,l){return{x:v(t,i,o,a,l),y:v(e,n,r,s,l)}},divide:m,tangentAngle:function(t,e,i,n,o,r,a,s,l){var u=h(t,i,o,a,l),c=h(e,n,r,s,l);return f.piMod(Math.atan2(c,u))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(71);e.default=function(t){return n.default(t,"Function")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(7);e.isTextUsable=function(t){return!!t&&!(!0!==t.visible||"string"!=typeof t.text||!t.text.trim())},e.breakText=function(t,e){var i=n.__spreadArrays(t);return e.forEach(function(t,e){i.splice(t+e,0,"\n")}),i.join("")},e.getAxisComponents=function(t){return t.getComponents().filter(function(t){return t.type===o.COMPONENT_TYPE.AXIS}).map(function(t){return t.component})},e.getLegendComponents=function(t){return t.getComponents().filter(function(t){return t.type===o.COMPONENT_TYPE.LEGEND}).map(function(t){return t.component})},e.getAxisShapes=function(t){return t.backgroundGroup.findAll(function(t){if(t.get("name"))return"axis"===t.get("name").split("-")[0]})},e.getLegendShapes=function(t){return t.foregroundGroup.findAll(function(t){if(t.get("name"))return"legend-item-group"===t.get("name")})},e.sortedLastIndex=function(t,e){for(var i=t.length;0<i&&!(e>=t[i-1]);)--i;return i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),o=i(0),a=(r=n.__importDefault(i(79)).default,n.__extends(s,r),s.registerInteraction=function(t,e){s.GLOBAL_INTERACTION_MAP[t]=e},s.registerPlotInteraction=function(t,e,i){s.PLOT_INTERACTION_MAP[t]||(s.PLOT_INTERACTION_MAP[t]={}),s.PLOT_INTERACTION_MAP[t][e]=i},s.getInteraction=function(t,e){return e&&s.PLOT_INTERACTION_MAP[e]&&s[e][t]?s.PLOT_INTERACTION_MAP[e][t]:s.GLOBAL_INTERACTION_MAP[t]},s.getInteractionRange=function(t,e){},s.prototype.destroy=function(){o.each(this.disposables,function(t){t()}),this.disposables=[],this.clear(),r.prototype.destroy.call(this)},s.prototype.getViewLayer=function(){return this.viewLayer},s.prototype.getRange=function(){return this.interactionRange},s.prototype.getInteractionConfig=function(){return this.interactionConfig},s.prototype.addDisposable=function(t){this.disposables.push(t)},s.prototype.render=function(){},s.GLOBAL_INTERACTION_MAP={},s.PLOT_INTERACTION_MAP={},s);function s(t,e,i,n){var o=r.call(this,t)||this;return o.viewLayer=e,o.interactionRange=i,o.interactionConfig=n,o.disposables=[],o.render(),o}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.attr("text","")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),n=i(4),a=r.__importDefault(i(12)),s=i(14),l=r.__importDefault(i(134)),u=i(22),c=r.__importDefault(i(301));i(304),i(46),i(142);var h=r.__importStar(i(143));i(90);var p,f=i(23),d={column:"interval"},g={interval:"column"},y=(p=a.default,r.__extends(v,p),v.getDefaultOptions=function(){return o.deepMix({},p.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},v.prototype.beforeInit=function(){p.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},v.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new l.default(r.__assign({view:this.view,field:t.yField,transpose:!0,animation:!1!==t.animation},t.conversionTag))),p.prototype.afterRender.call(this)},v.prototype.geometryParser=function(t,e){return"g2"===t?d[e]:g[e]},v.prototype.processData=function(t){var i=this.options.xField,n=[];return o.each(t,function(t){var e=o.clone(t);e[i]=e[i].toString(),n.push(e)}),n},v.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},o.has(t,"xAxis")&&u.extractScale(e[t.xField],t.xAxis),e[t.yField]={},o.has(t,"yAxis")&&u.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),p.prototype.scale.call(this)},v.prototype.coord=function(){},v.prototype.adjustColumn=function(t){},v.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",o.deepMix({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},v.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},v.prototype.animation=function(){p.prototype.animation.call(this),!1===this.options.animation&&(this.column.animate=!1)},v.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,h)},v.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,o=e[i.yField];null!=n&&n.visible&&(t=f.getGeometryByType(this.view,"interval"),this.doRenderLabel(t,r.__assign({type:"column",formatter:o.formatter&&function(t){return o.formatter(t)}},this.options.label)))},v.prototype.applyResponsive=function(t){var e=this,i=c.default[t];o.each(i,function(t){t.method(e)})},v);function v(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="column",t}e.default=y,n.registerPlotType("column",y)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Math.PI/180;e.default=function(t){return n*t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(t%e+e)%e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=o.__importDefault(i(28)),a=i(0),s=i(9),l=o.__importDefault(i(10)),u=(n=r.default,o.__extends(c,n),c.prototype.processOptions=function(t){this.id=t.id,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},c.prototype.updateConfig=function(t){this.options=a.deepMix({},this.options,t),this.processOptions(this.options)},c.prototype.beforeInit=function(){return null},c.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},c.prototype.afterInit=function(){return null},c.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},c.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},c.prototype.destroy=function(){var e=this;this.eachLayer(function(t){t.destroy()}),a.each(this.eventHandlers,function(t){e.off(t.eventName,t.handler)}),this.container.remove(!0),this.destroyed=!0},c.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},c.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},c.prototype.addLayer=function(e){a.findIndex(this.layers,function(t){return t===e})<0&&(e.parent!==this&&(e.parent=this,e.init()),this.layers.push(e))},c.prototype.removeLayer=function(e){var t=a.findIndex(this.layers,function(t){return t===e});0<=t&&this.layers.splice(t,1)},c.prototype.updateBBox=function(t,e){void 0===e&&(e=!1);var i={x:this.x,y:this.y,width:this.width,height:this.height},n=a.deepMix({},i,t);this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(t){t.updateBBoxByParent(),t.render()}),this.canvas.draw()},c.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},c.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,i=this.parent;i;)t+=i.x,e+=i.y,i=i.parent;return{x:t,y:e}},c.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new l.default(t.x,t.y,this.width,this.height)},c.prototype.getOptions=function(t){var e=0,i=0;t.parent&&(e=t.parent.width,i=t.parent.height);var n={x:0,y:0,width:e,height:i};return a.deepMix({},n,t)},c.prototype.eachLayer=function(t){a.each(this.layers,t)},c.prototype.parseEvents=function(t){var o=this,r=a.keys(s.LAYER_EVENT_MAP);a.each(t,function(t,e){var i,n;a.contains(r,e)&&a.isFunction(t)&&(i=s.LAYER_EVENT_MAP[e]||e,n=t,o.on(i,n),o.eventHandlers.push({name:i,handler:n}))})},c.prototype.getLayerBBox=function(){return new l.default(this.x,this.y,this.width,this.height)},c.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,i=this.parent.x,n=this.parent.y;return{start:{x:(this.x-i)/t,y:(this.y-n)/e},end:{x:(this.x+this.width-i)/t,y:(this.y+this.height-n)/e}}}return{start:{x:0,y:0},end:{x:1,y:1}}},c);function c(t){var e=n.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=(r.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},r);function r(t){n.assign(this,t),this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,u=i(1),c=i(0),h=i(7),o=u.__importStar(i(16)),a=i(24),p=u.__importDefault(i(10)),r=(n=o.default,u.__extends(s,n),s.prototype.getLabelItemAttrs=function(t,e){var i,n,o=this.options,r=o.style,a=o.formatter,s=[].concat(t.getModel().mappingData),l=this.getValue(t);return c.deepMix({},r,u.__assign(u.__assign({},this.getPosition(t)),{text:a?a(l,((i={})[h._ORIGIN]=null===(n=s[0])||void 0===n?void 0:n._origin,i.mappingDatum=s[0],i.mappingDatumIndex=0,i.element=t,i.elementIndex=e,i),e):l,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},s.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return u.__assign({offsetX:0,offsetY:0,adjustPosition:!0},e)},s.prototype.adjustLabel=function(t,e){var i,n,o,r;this.options.adjustPosition&&(i=this.getDefaultOffset(),n=t.getBBox(),(o=this.getElementShapeBBox(e)).height<=n.height&&(r=o.minY+this.options.offsetY-i,t.attr("y",r),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)))},s.prototype.getValue=function(t){return c.get(t.getData(),this.layer.options.yField)},s.prototype.getPosition=function(t){var e=this.getDefaultOffset(),i=this.getValue(t),n=this.getElementShapeBBox(t),o=n.minX,r=n.minY,a=n.maxY,s=n.height,l=n.width,u=this.options,c=u.offsetX,h=u.offsetY,p=u.position,f=0<i?-1:1,d="top"===p?(0<i?r:a)+e*f+h:"bottom"===p?(0<i?a:r)+e*f+h:r+s/2+h;return{x:o+l/2+c,y:d}},s.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"top"!==this.options.position){var i=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,o=a.rgb2arr(i),r=Math.round(.299*o[0]+.587*o[1]+.114*o[2])/n;return a.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],r)}return this.options.style.fill},s.prototype.getTextStroke=function(t){var e=this.getTextFill(t),i=this.options,n=i.position,o=i.adjustColor;return"top"!==n&&o&&"black"!==e?null:void 0},s.prototype.getElementShapeBBox=function(t){var e=this,i=t.shape,n=[];c.each(i.get("origin").points,function(t){n.push(e.coord.convertPoint(t))});var o=n.map(function(t){return t.x}),r=Math.min.apply(Math,o),a=Math.max.apply(Math,o),s=n.map(function(t){return t.y}),l=Math.min.apply(Math,s),u=Math.max.apply(Math,s);return new p.default(r,l,a-r,u-l)},s.prototype.getTextAlign=function(){return"center"},s.prototype.getTextBaseLine=function(){return"middle"},s.prototype.getLabelOffset=function(){return{x:0,y:0}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=r,o.registerLabelComponent("column",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=n.__importDefault(i(12)),a=i(21);i(120);var s,l=(s=o.default,n.__extends(u,s),u.getDefaultOptions=function(){return r.deepMix({},s.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},u.prototype.coord=function(){},u.prototype.addGeometry=function(){},u.prototype.annotation=function(){var i=this,t=this.options,n=[],o={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};r.each(t.guideLine,function(t){var e=a.getComponent("guideLine",{plot:i,cfg:r.deepMix({},o,t)});n.push(e)}),this.setConfig("annotations",n)},u);function u(){return null!==s&&s.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";i.r(e),i.d(e,"getCoordinate",function(){return d}),i.d(e,"registerCoordinate",function(){return g}),i.d(e,"Coordinate",function(){return o});var u,c,n,s=i(1),h=i(2),p=i(0),o=(x.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},x.prototype.update=function(t){p.assign(this,t),this.initial()},x.prototype.convertDim=function(t,e){var i,n=this[e],o=n.start,r=n.end;return this.isReflect(e)&&(o=(i=[r,o])[0],r=i[1]),o+t*(r-o)},x.prototype.invertDim=function(t,e){var i,n=this[e],o=n.start,r=n.end;return this.isReflect(e)&&(o=(i=[r,o])[0],r=i[1]),(t-o)/(r-o)},x.prototype.applyMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,o=[t,e,i];return h.vec3.transformMat3(o,o,n),o},x.prototype.invertMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,o=h.mat3.invert([],n),r=[t,e,i];return o&&h.vec3.transformMat3(r,r,o),r},x.prototype.convert=function(t){var e=this.convertPoint(t),i=e.x,n=e.y,o=this.applyMatrix(i,n,1);return{x:o[0],y:o[1]}},x.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},x.prototype.rotate=function(t){var e=this.matrix,i=this.center;return h.mat3.translate(e,e,[-i.x,-i.y]),h.mat3.rotate(e,e,t),h.mat3.translate(e,e,[i.x,i.y]),this},x.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},x.prototype.scale=function(t,e){var i=this.matrix,n=this.center;return h.mat3.translate(i,i,[-n.x,-n.y]),h.mat3.scale(i,i,[t,e]),h.mat3.translate(i,i,[n.x,n.y]),this},x.prototype.translate=function(t,e){var i=this.matrix;return h.mat3.translate(i,i,[t,e]),this},x.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},x.prototype.getCenter=function(){return this.center},x.prototype.getWidth=function(){return this.width},x.prototype.getHeight=function(){return this.height},x.prototype.getRadius=function(){return this.radius},x.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},x.prototype.resetMatrix=function(t){this.matrix=t||Object(s.__spreadArrays)(this.originalMatrix)},x),r=(n=o,Object(s.__extends)(m,n),m.prototype.initial=function(){n.prototype.initial.call(this);var t=this.start,e=this.end;this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},m.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:this.convertDim(i,"x"),y:this.convertDim(n,"y")}},m.prototype.invertPoint=function(t){var e,i=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y");return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:i,y:n}},m),a=(c=o,Object(s.__extends)(v,c),v.prototype.initial=function(){c.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,e=Math.min(this.width,this.height)/2;this.radius&&0<=this.radius&&this.radius<=1&&(e*=this.radius),this.d=Math.floor(e*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*e,end:this.innerRadius*e+.99*this.d}},v.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;this.isTransposed&&(i=(e=[n,i])[0],n=e[1]);var o=this.convertDim(i,"x"),r=this.a*o,a=this.convertDim(n,"y");return{x:this.center.x+Math.cos(o)*(r+a),y:this.center.y+Math.sin(o)*(r+a)}},v.prototype.invertPoint=function(t){var e,i=this.d+this.y.start,n=h.vec2.subtract([],[t.x,t.y],[this.center.x,this.center.y]),o=h.vec2.angleTo(n,[1,0],!0),r=o*this.a;h.vec2.length(n)<r&&(r=h.vec2.length(n)),o=2*Math.floor((h.vec2.length(n)-r)/i)*Math.PI+o;var a=this.a*o,s=h.vec2.length(n)-a,s=Object(p.isNumberEqual)(s,0)?0:s,l=this.invertDim(o,"x"),u=this.invertDim(s,"y"),l=Object(p.isNumberEqual)(l,0)?0:l,u=Object(p.isNumberEqual)(u,0)?0:u;return this.isTransposed&&(l=(e=[u,l])[0],u=e[1]),{x:l,y:u}},v),l=(u=o,Object(s.__extends)(y,u),y.prototype.initial=function(){for(u.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var t,e=this.getOneBox(),i=e.maxX-e.minX,n=e.maxY-e.minY,o=Math.abs(e.minX)/i,r=Math.abs(e.minY)/n;this.height/n>this.width/i?(t=this.width/i,this.circleCenter={x:this.center.x-(.5-o)*this.width,y:this.center.y-(.5-r)*t*n}):(t=this.height/n,this.circleCenter={x:this.center.x-(.5-o)*t*i,y:this.center.y-(.5-r)*this.height}),this.polarRadius=this.radius,this.radius?0<this.radius&&this.radius<=1?this.polarRadius=t*this.radius:(this.radius<=0||this.radius>t)&&(this.polarRadius=t):this.polarRadius=t,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},y.prototype.getRadius=function(){return this.polarRadius},y.prototype.convertPoint=function(t){var e,i=this.getCenter(),n=t.x,o=t.y;return this.isTransposed&&(n=(e=[o,n])[0],o=e[1]),n=this.convertDim(n,"x"),o=this.convertDim(o,"y"),{x:i.x+Math.cos(n)*o,y:i.y+Math.sin(n)*o}},y.prototype.invertPoint=function(t){var e=this.getCenter(),i=[t.x-e.x,t.y-e.y],n=[1,0,0,0,1,0,0,0,1];h.mat3.rotate(n,n,this.startAngle);var o=[1,0,0];h.vec3.transformMat3(o,o,n),o=[o[0],o[1]];var r=h.vec2.angleTo(o,i,this.endAngle<this.startAngle);Object(p.isNumberEqual)(r,2*Math.PI)&&(r=0);var a=h.vec2.length(i),s=r/(this.endAngle-this.startAngle),s=0<this.endAngle-this.startAngle?s:-s,l=this.invertDim(a,"y"),u={x:0,y:0};return u.x=this.isTransposed?l:s,u.y=this.isTransposed?s:l,u},y.prototype.getCenter=function(){return this.circleCenter},y.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(e)],n=[0,Math.sin(t),Math.sin(e)],o=Math.min(t,e);o<Math.max(t,e);o+=Math.PI/18)i.push(Math.cos(o)),n.push(Math.sin(o));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,n),maxY:Math.max.apply(Math,n)}},y),f={},d=function(t){return f[t.toLowerCase()]},g=function(t,e){f[t.toLowerCase()]=e};function y(t){var e=u.call(this,t)||this;e.isPolar=!0,e.type="polar";var i=t.startAngle,n=void 0===i?-Math.PI/2:i,o=t.endAngle,r=void 0===o?3*Math.PI/2:o,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=n,e.endAngle=r,e.innerRadius=s,e.radius=l,e.initial(),e}function v(t){var e=c.call(this,t)||this;e.isHelix=!0,e.type="helix";var i=t.startAngle,n=void 0===i?1.25*Math.PI:i,o=t.endAngle,r=void 0===o?7.25*Math.PI:o,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=n,e.endAngle=r,e.innerRadius=s,e.radius=l,e.initial(),e}function m(t){var e=n.call(this,t)||this;return e.isRect=!0,e.type="cartesian",e.initial(),e}function x(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,i=t.end,n=t.matrix,o=void 0===n?[1,0,0,0,1,0,0,0,1]:n,r=t.isTransposed,a=void 0!==r&&r;this.start=e,this.end=i,this.matrix=o,this.originalMatrix=Object(s.__spreadArrays)(o),this.isTransposed=a}g("rect",r),g("cartesian",r),g("polar",l),g("helix",a)},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){return void 0===i&&(i=1e-5),Math.abs(t-e)<i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(180);e.Adjust=n.default;function o(t){return r[t.toLowerCase()]}var r={};e.getAdjust=o,e.registerAdjust=function(t,e){if(o(t))throw new Error("Adjust type '"+t+"' existed.");r[t.toLowerCase()]=e}},function(t,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var u=e(1),c=e(0),h=e(109),p=e(192);l.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var o={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},f={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};l.getDefaultAnimateCfg=function(t,e,i){var n=o[t];return n&&(c.isFunction(n)&&(n=n(e)),n=c.deepMix({},l.DEFAULT_ANIMATE_CFG,n),i)?n[i]:n},l.doAnimate=function(t,e,i){var n,o,r,a=c.get(t.get("origin"),"data",h.FIELD_ORIGIN),s=e.animation,l=(n=e,o=a,{delay:c.isFunction(n.delay)?n.delay(o):n.delay,easing:c.isFunction(n.easing)?n.easing(o):n.easing,duration:c.isFunction(n.duration)?n.duration(o):n.duration,callback:n.callback});s?(r=p.getAnimation(s))&&r(t,l,i):t.animate(i.toAttrs,l)},l.doGroupAppearAnimate=function(t,e,i,n,o){var r,a,s;f[i]&&(r=f[i](n),(a=p.getAnimation(c.get(r,"animation","")))&&(s=u.__assign(u.__assign(u.__assign({},l.DEFAULT_ANIMATE_CFG.appear),r),e),t.stopAnimate(),a(t,s,{coordinate:n,minYPoint:o,toAttrs:null})))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=o.__importDefault(i(28)),a=i(0),s=(n=r.default,o.__extends(l,n),l.prototype.getGroup=function(){return this.group},l.prototype.getBBox=function(){return this.getGroup().getBBox()},l.prototype.clear=function(){this.group.clear()},l.prototype.render=function(){this.renderInner(this.group),this.getCanvas().draw()},l.prototype.update=function(t){this.config=o.__assign(o.__assign({},this.config),t),this.init(o.__assign(o.__assign({},this.config),{config:t})),this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},l.prototype.destroy=function(){a.each(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},l.prototype.getCanvas=function(){return this.container.get("canvas")},l.prototype.addDisposable=function(t){this.disposables.push(t)},l);function l(t){var e=n.call(this)||this;return e.container=t.container,e.destroyed=!1,e.group=e.container.addGroup(),e.config=t,e.disposables=[],e.init(t),e}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),c=i(0),o=i(21),r=i(9),a=n.__importDefault(i(115));function h(t,e){if(c.isFunction(e))return e(t);var i=e.name,n=e.exp;return c.isFunction(n)?n(t[i]):t[i]===n}e.compare=h;var s=(l.prototype.createStateManager=function(){this.stateManager=new a.default},l.prototype.bindStateManager=function(t,e){this.stateManager=t,e.setState&&this._updateStateProcess(e.setState),e.onStateChange&&this._stateChangeProcess(e.onStateChange)},l.prototype.defaultStates=function(t){var o=this;c.each(t,function(t,e){var i=t.condition,n=t.related;o.setState({type:e,condition:i,related:n})})},l.prototype.setState=function(a){var s=this,l=a.type,u=a.condition,t=a.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),c.each(this.shapes,function(t,e){var i,n,o,r=t.get("origin").data;h(c.isArray(r)?r[0]:r,u)&&(i=a.style?a.style:s._getDefaultStateStyle(l,t),n=s.originAttrs[e],o=c.isFunction(i)?i(n):c.mix({},n,i),t.attr(o),s.setZIndex(l,t))}),t&&this._parserRelated(l,t,u),this.plot.canvas.draw()},l.prototype._updateStateProcess=function(t){var n=this;c.each(t,function(t){var i=t.state,e=c.isFunction(i)?function(t){var e=i(t);n.stateManager.setState(e.name,e.exp)}:function(){n.stateManager.setState(i.name,i.exp)};t.event?r.onEvent(n.plot,n._eventParser(t.event),e):e()})},l.prototype._stateChangeProcess=function(t){var i=this;c.each(t,function(e){i.stateManager.on(e.name+":change",function(t){e.callback(t,i.plot)})})},l.prototype._getShapes=function(){var i=this,n=[],t=this.plot.view.geometries;return c.each(t,function(t){var e=t.container;i.shapeContainers.push(e),t.destroyed||n.push.apply(n,t.getShapes())}),n},l.prototype._getOriginAttrs=function(){var e=[];return c.each(this.shapes,function(t){e.push(c.clone(t.attr()))}),e},l.prototype._eventParser=function(t){var e=t.split(":");return this.plot.geometryParser("g2",e[0])+":"+e[1]},l.prototype._getDefaultStateStyle=function(t,e){var i=this.plot.theme,n=this.plot.geometryParser("plot",e.name)+"Style";if(i[n]){var o=i[n][t];return c.isFunction(o)&&(o=o(e.attr())),o}return{}},l.prototype._parserRelated=function(e,t,i){var n=this;c.each(t,function(t){n.plot[t]&&o.getComponentStateMethod(t,e)(n.plot,i)})},l.prototype.setZIndex=function(t,e){var i;"active"!==t&&"selected"!==t||((i=e.get("parent").get("children"))[i.length-1].setZIndex(0),e.setZIndex(1))},l.prototype.resetZIndex=function(){c.each(this.shapeContainers,function(t){t.get("children").sort(function(t,e){return t._INDEX-e._INDEX})})},l);function l(t){this.shapeContainers=[],c.assign(this,t)}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(218),r={default:o.DEFAULT_RESPONSIVE_THEME};e.registerResponsiveTheme=function(t,e){r[t.toLowerCase()]=n.deepMix({},o.DEFAULT_RESPONSIVE_THEME,e)},e.getResponsiveTheme=function(t){return r[t.toLowerCase()]||o.DEFAULT_RESPONSIVE_THEME}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=i(0),o=i(4),a=r.__importDefault(i(12)),s=i(14),l=i(22),u=i(234),c=r.__importDefault(i(235));i(83),i(132);var h=r.__importDefault(i(133)),p=r.__importStar(i(253)),f=r.__importDefault(i(254));i(255),i(256);var d,g=i(257),y=i(23),v={line:"line",point:"point"},m=(d=a.default,r.__extends(x,d),x.getDefaultOptions=function(){return n.deepMix({},d.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},x.prototype.afterRender=function(){var i=this,t=this.options;this.renderLabel(),t.markerPoints&&(n.each(this.markerPoints,function(t){return t.destroy()}),this.markerPoints=[],t.markerPoints.forEach(function(t){var e;t.visible&&(e=new f.default(r.__assign(r.__assign({},t),{view:i.view})),i.markerPoints.push(e))})),t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),d.prototype.afterRender.call(this)},x.prototype.geometryParser=function(t,e){return v[e]},x.prototype.scale=function(){var e=this.options,t={};t[e.xField]={},n.has(e,"xAxis")&&l.extractScale(t[e.xField],e.xAxis),t[e.yField]={},n.has(e,"yAxis")&&l.extractScale(t[e.yField],e.yAxis),this.setConfig("scales",t),l.trySetScaleMinToZero(t[e.yField],n.map(e.data,function(t){return t[e.yField]})),d.prototype.scale.call(this)},x.prototype.coord=function(){},x.prototype.tooltip=function(){n.some(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),d.prototype.tooltip.call(this)},x.prototype.addGeometry=function(){this.addLine(),this.addPoint()},x.prototype.addLine=function(){var t=this.options;this.line=s.getGeom("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},x.prototype.addPoint=function(){var t=this.options;t.point&&(t.point=n.deepMix({visible:!1},t.point)),t.point&&t.point.visible&&(this.point=s.getGeom("point","guide",{plot:this}),this.setConfig("geometry",this.point))},x.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,o=e[i.yField];n.visible&&(t=y.getGeometryByType(this.view,"line"),"line"===n.type?new h.default(r.__assign({view:this.view,plot:this},this.options.label)).render():this.doRenderLabel(t,r.__assign({type:"point",formatter:o.formatter&&function(t){return o.formatter(t)}},this.options.label)))},x.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},x.prototype.animation=function(){d.prototype.animation.call(this);var t=this.options;t.animation?(u.getPlotOption({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},x.prototype.applyInteractions=function(){d.prototype.applyInteractions.call(this),this.interactions.push(new g.LineActive({view:this.view})),this.interactions.push(new g.LineSelect({view:this.view}))},x.prototype.parseEvents=function(){d.prototype.parseEvents.call(this,p)},x.prototype.applyResponsive=function(t){var e=this,i=c.default[t];n.each(i,function(t){t.method(e)})},x.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&"line"===this.options.label.type},x);function x(){var t=null!==d&&d.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}e.default=m,o.registerPlotType("line",m)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),l=o.__importDefault(i(121)),u=o.__importDefault(i(122)),a=o.__importDefault(i(130)),s={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},c=(n=a.default,o.__extends(h,n),h.prototype.init=function(){this.axisInstance=this.getAxisInstance(),n.prototype.init.call(this)},h.prototype.shouldApply=function(){var t=this.plot.options;return!!this.responsiveTheme.axis&&!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible)},h.prototype.apply=function(){for(var e=this,t=this.plot.view.backgroundGroup.findAll(function(t){if("axis-label"===t.get("name")&&t.get("delegateObject").axis.get("field")===e.plot.options[e.dim+"Field"])return t}),i=[],n=0;n<t.length;n++)i.push(t[n]);var o=new l.default({shapes:i}),r=this.responsiveTheme.axis.x[this.type],a=r.constraints,s=r.rules;new u.default({nodes:o,constraints:a,region:this.plot.getViewRange(),rules:s,plot:this.plot,onEnd:function(t){e.updateTicks(t.origion_nodes)}})},h.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",i=this.dim+"Field";if(t[e]&&t[e].type&&"dateTime"===t[e].type)return"dateTime";var n=this.plot.view.getScaleByField([t[i]]).type;return s[n]},h.prototype.getAxisInstance=function(){var t="x"===this.dim?0:1;return this.plot.view.getController("axis").getComponents()[t].component},h.prototype.updateTicks=function(t){var i,e=this,n=this.plot.view.backgroundGroup.findAll(function(t){if("axis-tickline-group"===t.get("name")&&t.get("delegateObject").axis.get("field")===e.plot.options[e.dim+"Field"])return t})[0];n&&(i=n.get("children"),r.each(t,function(t,e){""===t.shape.attr("text")&&i[e].attr("opacity",0)})),this.plot.canvas.draw()},h);function h(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importStar(i(2)),r=i(0),o=i(7);e.groupTransform=function(t,e){var i=n.transform([1,0,0,0,1,0,0,0,1],e);t.setMatrix(i)},e.transform=function(t,e){var i=e?r.clone(e):[1,0,0,0,1,0,0,0,1];return n.transform(i,t)},e.move=function(t,e,i,n){var o=n?r.clone(n):[1,0,0,0,1,0,0,0,1];o[6]=e,o[7]=i,t.setMatrix(o)},e.translate=function(t,e,i){o.Util.translate(t,e,i)},e.rotate=function(t,e){o.Util.rotate(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),n=i(4),a=r.__importDefault(i(12)),s=i(21),l=r.__importDefault(i(134)),u=i(14),c=i(22),h=r.__importDefault(i(274));i(84),i(85),i(135);var p,f=r.__importStar(i(276)),d=i(23),g={bar:"interval"},y={interval:"bar"},v=(p=a.default,r.__extends(m,p),m.getDefaultOptions=function(){return o.deepMix({},p.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,offset:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},m.prototype.beforeInit=function(){p.prototype.beforeInit.call(this);var t=this.options;t.responsive&&"auto"!==t.padding&&this.applyResponsive("preRender")},m.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new l.default(r.__assign({view:this.view,field:t.xField,animation:!1!==t.animation},t.conversionTag))),p.prototype.afterRender.call(this)},m.prototype.geometryParser=function(t,e){return"g2"===t?g[e]:y[e]},m.prototype.processData=function(t){var e=t?t.slice().reverse():t,i=this.options.yField,n=[];return o.each(e,function(t){var e=o.clone(t);e[i]=e[i].toString(),n.push(e)}),n},m.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},o.has(t,"yAxis")&&c.extractScale(e[t.yField],t.yAxis),e[t.xField]={},o.has(t,"xAxis")&&c.extractScale(e[t.xField],t.xAxis),this.setConfig("scales",e),p.prototype.scale.call(this)},m.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},m.prototype.axis=function(){var t=s.getComponent("axis",{plot:this,dim:"x"}),e=s.getComponent("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var i={};i[this.options.xField]=t,i[this.options.yField]=e,this.setConfig("axes",i)},m.prototype.adjustBar=function(t){return null},m.prototype.addGeometry=function(){var t=this.options,e=u.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",o.deepMix({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},m.prototype.animation=function(){p.prototype.animation.call(this),!1===this.options.animation&&(this.bar.animate=!1)},m.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,f)},m.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,o=e[i.xField];null!=n&&n.visible&&(t=d.getGeometryByType(this.view,"interval"),this.doRenderLabel(t,r.__assign({type:"bar",formatter:o.formatter&&function(t){return o.formatter(t)}},this.options.label)))},m.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},m.prototype.applyResponsive=function(t){var e=this,i=h.default[t];o.each(i,function(t){t.method(e)})},m.prototype.getLabelOptionsByPosition=function(t){return"middle"===t?{offset:0}:"left"===t?{offset:7,style:{stroke:null,lineWidth:0}}:"right"===t?{offset:4}:void 0},m);function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="bar",t}e.default=v,n.registerPlotType("bar",v)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=i(0),o=i(4),a=r.__importDefault(i(308)),s=r.__importDefault(i(41));i(309),i(144),i(310);var l,u=i(23),c=(l=s.default,r.__extends(h,l),h.getDefaultOptions=function(){return n.deepMix({},l.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},h.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),l.prototype.init.call(this)},h.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new a.default(r.__assign({view:this.view,field:t.stackField,animation:!1!==t.animation},t.connectedArea))),l.prototype.afterRender.call(this)},h.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},h.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,o=e[i.yField];n&&n.visible&&(t=u.getGeometryByType(this.view,"interval"),this.doRenderLabel(t,r.__assign({type:"stacked-column",formatter:o.formatter&&function(t){return o.formatter(t)}},this.options.label)))},h.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},h);function h(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="stackedColumn",t}e.default=c,o.registerPlotType("stackedColumn",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(1),r=i(2),d=i(0),g=i(92),a=i(319);function n(t){return Number(t.endsWith("%")?t.slice(0,-1):t)/100}e.CROOK_DISTANCE=4,e.percent2Number=n;var o=(s.prototype.adjustOverlap=function(t,o){for(var e=1;e<t.length;e++)for(var i=t[e],n=0,r=e-1;0<=r;r--){var a=t[r],s=a.getBBox(),l=i.getBBox();if(a.get("parent").get("visible")&&(n=g.getOverlapArea(s,l),!g.near(n,0))){i.get("parent").set("visible",!1);break}}t.forEach(function(t){return i=o,n=(e=t).getBBox(),void(i.y<=n.y&&i.y+i.height>=n.y+n.height||e.get("parent").set("visible",!1));var e,i,n})},s.prototype.adjustItem=function(t){},s.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},s.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},s.prototype.clear=function(){this.container&&this.container.clear()},s.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},s.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},s.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},s.prototype.getFilteredSum=function(){var i=this.plot.options.angleField;return(this.plot.view.filteredData||[]).reduce(function(t,e){return t+e[i]},0)},s.prototype.drawTexts=function(){var l=this,t=this.options,u=t.style,c=t.formatter,i=t.autoRotate,h=t.offsetX,p=t.offsetY,e=t.adjustPosition,n=t.allowOverlap,o=this.getItems(),f=[];o.map(function(t,e){var i=d.deepMix({},t,u),n=l.getFilteredSum(),o=l.plot.options.angleField,r=t.origin[o]/n,a=c?c(t.name,{_origin:t.origin,percent:r},e):t.name,s=l.container.addGroup({name:"itemGroup",index:e}).addShape("text",{attrs:d.deepMix({},i,{x:t.x+h,y:t.y+p,text:a})});s.set("id","text-"+t.name+"-"+e),f.push(s)}),f.forEach(function(t){var e=l.coordinateBBox;l.adjustText(t,e)}),e&&this.layout(f,o,this.coordinateBBox),n||this.adjustOverlap(f,this.coordinateBBox),f.forEach(function(t,e){i&&l.rotateLabel(t,g.getLabelRotate(o[e].angle))})},s.prototype.adjustText=function(e,t){var i,n,o=e.getBBox(),r=o.width;o.maxX>t.maxX?r=t.maxX-o.minX:o.minX<t.minX&&(r=o.maxX-t.minX),"left"===e.attr("textAlign")?e.attr("x",Math.max(+o.x,0)):"right"===e.attr("textAlign")&&e.attr("x",Math.max(+o.maxX,0)),r!==o.width&&(i={},["fontSize","fontFamily","fontWeight"].forEach(function(t){i[t]=e.attr(t)}),n=e.attr("text").split("\n").map(function(t){return a.getEllipsisText(t,r,i)}),e.attr("text",n.join("\n")))},s.prototype.drawLines=function(){var t,l,u=this;this.options.line.visible&&(t=this.container.get("children"),l=this.getCoordinate().center,t.forEach(function(t,e){var i=t.get("children")[0],n=u.arcPoints[e],o=n.x<l.x,r=4<u.options.offset?4:0,a=u.getLinePath(i,n,r),s=u.options.line;t.addShape("path",{attrs:c.__assign({path:a,stroke:n.color},s)}),i.attr("x",i.attr("x")+(o?-r:r))}))},s.prototype.getLinePath=function(t,e,i){var n=!!this.options.line&&this.options.line.smooth,o=e.angle,r=this.getCoordinate(),a=r.center,s=r.radius,l=g.getEndPoint(a,o,s+i);i<4&&(l=e);var u=e.x<a.x,c=t.getBBox(),h={x:u?c.maxX:c.minX,y:c.y+c.height/2},p=["C",h.x+(u?1:-1)*(i<4?i/2:4),h.y,2*l.x-e.x,2*l.y-e.y,l.x,l.y],f=["L",l.x,l.y],d=n?p:f;return["M",h.x,h.y].concat(d).concat("L",e.x,e.y).join(",")},s.prototype.getGeometry=function(){return this.plot.view.geometries[0]},s.prototype.getCoordinate=function(){var t=this.getGeometry().coordinate;return{center:t.getCenter(),radius:t.getRadius(),startAngle:t.startAngle}},s.prototype.adjustOption=function(t){var e=t.offset,i=this.getCoordinate().radius;d.isString(e)&&(e=i*n(e)),t.offset=e},s.prototype.rotateLabel=function(t,e){var i=t.attr("x"),n=t.attr("y"),o=r.transform(t.getMatrix(),[["t",-i,-n],["r",e],["t",i,n]]);t.setMatrix(o)},s.prototype.getItems=function(){var n=this,o=this.options.offset,t=this.getCoordinate(),r=t.center,a=t.radius;return this.arcPoints.map(function(t){var e=g.getEndPoint(r,t.angle,a+o),i=c.__assign(c.__assign({},t),e);return n.adjustItem(i),i})},s.prototype.initArcPoints=function(){var u=this,c=this.plot.options.angleField,t=this.getGeometry().elements,e=this.getCoordinate(),h=e.center,p=e.radius,f=this.getCoordinate().startAngle,d=this.getGeometry().scales[c],i=t.map(function(t){var e=t.shape.get("origin"),i=e.color,n=e.data[0]||e.data,o=f+2*Math.PI*d.scale(n[c]),r=(f+o)/2,a=g.getEndPoint(h,r,p);f=o;var s=""+n[c],l=a.x>h.x?"left":"right";return{x:a.x,y:a.y,color:i,name:s,origin:n,angle:g.getAngleByPoint(u.getGeometry().coordinate,a),textAlign:l}});this.arcPoints=i},s);function s(t,e){this.destroyed=!1,this.plot=t,this.coordinateBBox=this.plot.view.coordinateBBox;var i=d.deepMix(this.getDefaultOptions(),e,{});this.adjustOption(i),this.options=i,this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DAY_FIELD="$$day$$",e.WEEK_FIELD="$$week$$",e.DATE_FIELD="$$date$$",e.IS_MONTH_CENTER_FIELD="$$is_month_center$$",e.FORMATTER="YYYY-MM-DD",e.MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.WEEKS=["S","M","T","W","T","F","S"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromArray=function(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)},e.isBrowser="undefined"!=typeof window&&void 0!==window.document;var n=i(34);e.isNil=n.default;var o=i(37);e.isFunction=o.default;var r=i(27);e.isString=r.default;var a=i(49);e.isObject=a.default;var s=i(19);e.isArray=s.default;var l=i(72);e.mix=l.default;var u=i(29);e.each=u.default;var c=i(73);e.upperFirst=c.default,e.isParent=function(t,e){if(t.isCanvas())return!0;for(var i=e.getParent(),n=!1;i;){if(i===t){n=!0;break}i=i.getParent()}return n},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},o.prototype.stopPropagation=function(){this.propagationStopped=!0},o.prototype.toString=function(){return"[Event (type="+this.type+")]"},o.prototype.save=function(){},o.prototype.restore=function(){},o);function o(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(162);e.getBBoxMethod=n.getMethod;var o=i(163),r=i(164),a=i(165),s=i(166),l=i(167),u=i(168),c=i(173),h=i(174);n.register("rect",o.default),n.register("image",o.default),n.register("circle",r.default),n.register("marker",r.default),n.register("polyline",a.default),n.register("polygon",s.default),n.register("text",l.default),n.register("path",u.default),n.register("line",c.default),n.register("ellipse",h.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(63),a=i(99);function o(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,i){var n=1;return r.isString(t)&&(n=t.split("\n").length),1<n?e*n+o(e,i)*(n-1):e},e.getLineSpaceing=o,e.getTextWidth=function(t,e){var i,n=a.getOffScreenContext(),o=0;return r.isNil(t)||""===t||(n.save(),n.font=e,r.isString(t)&&t.includes("\n")?(i=t.split("\n"),r.each(i,function(t){var e=n.measureText(t).width;o<e&&(o=e)})):o=n.measureText(t).width,n.restore()),o},e.assembleFont=function(t){var e=t.fontSize,i=t.fontFamily,n=t.fontWeight;return[t.fontStyle,t.fontVariant,n,e+"px",i].join(" ").trim()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var M=i(175),O=/[a-z]/;function w(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){var e=M.default(t);if(!e||!e.length)return[["M",0,0]];for(var i=!1,n=0;n<e.length;n++){var o=e[n][0];if(O.test(o)||0<=["V","H","T","S"].indexOf(o)){i=!0;break}}if(!i)return e;var r=[],a=0,s=0,l=0,u=0,c=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(l=a=+h[1],u=s=+h[2],c++,r[0]=["M",a,s]),n=c;for(var p=e.length;n<p;n++){var f=e[n],d=r[n-1],g=[],y=(o=f[0]).toUpperCase();if(o!==y)switch(g[0]=y,y){case"A":g[1]=f[1],g[2]=f[2],g[3]=f[3],g[4]=f[4],g[5]=f[5],g[6]=+f[6]+a,g[7]=+f[7]+s;break;case"V":g[1]=+f[1]+s;break;case"H":g[1]=+f[1]+a;break;case"M":l=+f[1]+a,u=+f[2]+s;break;default:for(var v=1,m=f.length;v<m;v++)g[v]=+f[v]+(v%2?a:s)}else g=e[n];switch(y){case"Z":a=+l,s=+u;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var x=w([d[1],d[2]],[d[3],d[4]]),g=["Q",x[0],x[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var b=d.length,_=w([d[b-4],d[b-3]],[d[b-2],d[b-1]]);g=["C",_[0],_[1],g[1],g[2],a,s];break;case"M":l=g[g.length-2],u=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}r.push(g)}return r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(176),r=i(26);e.default={box:function(t){for(var e=[],i=[],n=0;n<t.length;n++){var o=t[n];e.push(o[0]),i.push(o[1])}return r.getBBoxByArray(e,i)},length:function(t){return n.lengthOfSegment(t)},pointAt:function(t,e){return n.pointAtSegments(t,e)},pointDistance:function(t,e,i){return n.distanceAtSegment(t,e,i)},tangentAngle:function(t,e){return n.angleAtSegments(t,e)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(64),r=i(63),n=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function l(t,e,i){i.name=e,i.target=t,i.currentTarget=t,(i.delegateTarget=t).emit(e,i)}function u(t,e,i){if(i.bubbles){var n=void 0,o=!1;if("mouseenter"===e?(n=i.fromShape,o=!0):"mouseleave"===e&&(o=!0,n=i.toShape),t.isCanvas()&&o)return;if(n&&r.isParent(t,n))return i.bubbles=!1;i.name=e,i.currentTarget=t,(i.delegateTarget=t).emit(e,i)}}var o=(a.prototype.init=function(){this._bindEvents()},a.prototype._bindEvents=function(){var e=this,i=this.canvas.get("el");r.each(n,function(t){i.addEventListener(t,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._clearEvents=function(){var e=this,i=this.canvas.get("el");r.each(n,function(t){i.removeEventListener(t,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._getEventObj=function(t,e,i,n,o,r){var a=new s.default(t,e);return a.fromShape=o,a.toShape=r,a.x=i.x,a.y=i.y,a.clientX=i.clientX,a.clientY=i.clientY,a.propagationPath.push(n),a},a.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},a.prototype._getPointInfo=function(t){var e,i=this.canvas,n=((e=t).touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{clientX:e.clientX,clientY:e.clientY}),o=i.getPointByClient(n.clientX,n.clientY);return{x:o.x,y:o.y,clientX:n.clientX,clientY:n.clientY}},a.prototype._triggerEvent=function(t,e){var i,n,o=this._getPointInfo(e),r=this._getShape(o,e),a=this["_on"+t],s=!1;a?a.call(this,o,r,e):(i=this.currentShape,"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,o,null,null,r),r&&this._emitEvent(t,e,o,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,o,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(s=!0,i&&this._emitEvent(t,e,o,i,i,null),this._emitEvent(t,e,o,null,i,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,o,null)):this._emitEvent(t,e,o,r,null,null)),s||(this.currentShape=r),r&&!r.get("destroyed")&&((n=this.canvas).get("el").style.cursor=r.attr("cursor")||n.get("cursor"))},a.prototype._onmousedown=function(t,e,i){0===i.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=i.timeStamp),this._emitEvent("mousedown",i,t,e,null,null)},a.prototype._emitMouseoverEvents=function(t,e,i,n){var o=this.canvas.get("el");i!==n&&(i&&(this._emitEvent("mouseout",t,e,i,i,n),this._emitEvent("mouseleave",t,e,i,i,n),n&&!n.get("destroyed")||(o.style.cursor=this.canvas.get("cursor"))),n&&(this._emitEvent("mouseover",t,e,n,i,n),this._emitEvent("mouseenter",t,e,n,i,n)))},a.prototype._emitDragoverEvents=function(t,e,i,n,o){n?(n!==i&&(i&&this._emitEvent("dragleave",t,e,i,i,n),this._emitEvent("dragenter",t,e,n,i,n)),o||this._emitEvent("dragover",t,e,n)):i&&this._emitEvent("dragleave",t,e,i,i,n),o&&this._emitEvent("dragover",t,e,n)},a.prototype._afterDrag=function(t,e,i){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(e,i);n!==t&&this._emitMouseoverEvents(i,e,t,n),this.currentShape=n},a.prototype._onmouseup=function(t,e,i){var n;0===i.button&&(n=this.draggingShape,this.dragging?(n&&this._emitEvent("drop",i,t,e),this._emitEvent("dragend",i,t,n),this._afterDrag(n,t,i)):(this._emitEvent("mouseup",i,t,e),e===this.mousedownShape&&this._emitEvent("click",i,t,e),this.mousedownShape=null,this.mousedownPoint=null))},a.prototype._ondragover=function(t,e,i){i.preventDefault();var n=this.currentShape;this._emitDragoverEvents(i,t,n,e,!0)},a.prototype._onmousemove=function(t,e,i){var n,o,r,a,s,l=this.canvas,u=this.currentShape,c=this.draggingShape;this.dragging?(c&&this._emitDragoverEvents(i,t,u,e,!1),this._emitEvent("drag",i,t,c)):(n=this.mousedownPoint)?(o=this.mousedownShape,r=i.timeStamp-this.mousedownTimeStamp,a=n.clientX-t.clientX,s=n.clientY-t.clientY,120<r||40<a*a+s*s?o&&o.get("draggable")?((c=this.mousedownShape).set("capture",!1),this.draggingShape=c,this.dragging=!0,this._emitEvent("dragstart",i,t,c),this.mousedownShape=null,this.mousedownPoint=null):!o&&l.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",i,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(i,t,u,e),this._emitEvent("mousemove",i,t,e)):(this._emitMouseoverEvents(i,t,u,e),this._emitEvent("mousemove",i,t,e))):(this._emitMouseoverEvents(i,t,u,e),this._emitEvent("mousemove",i,t,e))},a.prototype._emitEvent=function(t,e,i,n,o,r){var a=this._getEventObj(t,e,i,n,o,r);if(n){l(a.shape=n,t,a);for(var s=n.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||u(s,t,a),a.propagationPath.push(s),s=s.getParent()}else l(this.canvas,t,a)},a.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},a);function a(t){var i=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var e=t.type;i._triggerEvent(e,t)},this._onDocumentMove=function(t){var e;i.canvas.get("el")!==t.target&&(i.dragging||i.currentShape)&&(e=i._getPointInfo(t),i.dragging&&i._emitEvent("drag",t,e,i.draggingShape))},this._onDocumentMouseUp=function(t){var e;i.canvas.get("el")!==t.target&&i.dragging&&(e=i._getPointInfo(t),i.draggingShape&&i._emitEvent("drop",t,e,null),i._emitEvent("dragend",t,e,i.draggingShape),i._afterDrag(i.draggingShape,e,t))},this.canvas=t.canvas}e.default=o},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return u}),i(29);var n=i(19),o=i.n(n);function r(t,e){for(var i=[],n=0,o=t.length;n<o-2*!e;n+=2){var r=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?o-4===n?r[3]={x:+t[0],y:+t[1]}:o-2===n&&(r[2]={x:+t[0],y:+t[1]},r[3]={x:+t[2],y:+t[3]}):r[0]={x:+t[o-2],y:+t[o-1]}:o-4===n?r[3]=r[2]:n||(r[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i}i(27),i(155),i(0);var a="\t\n\v\f\r   ᠎             　\u2028\u2029",s=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig");function u(t){if(!t)return null;if(o()(t))return t;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,i){var n=[],o=e.toLowerCase();if(i.replace(l,function(t,e){e&&n.push(+e)}),"m"===o&&2<n.length&&(a.push([e].concat(n.splice(0,2))),o="l",e="m"===e?"l":"L"),"o"===o&&1===n.length&&a.push([e,n[0]]),"r"===o)a.push([e].concat(n));else for(;n.length>=r[o]&&(a.push([e].concat(n.splice(0,r[o]))),r[o]););return""}),a}i(43),i(42)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={}.toString;e.default=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,i){"use strict";function o(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,n){return e&&o(t,e),i&&o(t,i),n&&o(t,n),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(161);e.default=function(t){var e=n.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*o},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var o=Math.PI/180},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,i){"use strict";function o(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeBBox=o,e.mergeArrowBBox=function(t,e){var i=t.get("startArrowShape"),n=t.get("endArrowShape");return i&&(e=o(e,i.getCanvasBBox())),n&&(e=o(e,n.getCanvasBBox())),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(182);e.Attribute=o.default;function r(t){return a[t.toLowerCase()]}var a={};e.getAttribute=r,e.registerAttribute=function(t,e){if(r(t))throw new Error("Attribute type '"+t+"' existed.");a[t.toLowerCase()]=e},n.__exportStar(i(183),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=["start","process","end","reset"],n=(a.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},a.prototype._start=function(t){this.preStart(t),this.start(t),this.afterStart(t)},a.prototype.preStart=function(t){},a.prototype.afterStart=function(t){},a.prototype._process=function(t){this.preProcess(t),this.process(t),this.afterProcess(t)},a.prototype.preProcess=function(t){},a.prototype.process=function(t){},a.prototype.afterProcess=function(t){},a.prototype._end=function(t){this.preEnd(t),this.end(t),this.afterEnd(t)},a.prototype.preEnd=function(t){},a.prototype.end=function(t){},a.prototype.afterEnd=function(t){},a.prototype._reset=function(t){this.preReset(t),this.reset(t),this.afterReset(t)},a.prototype.preReset=function(t){},a.prototype.reset=function(t){},a.prototype.afterReset=function(t){},a.prototype._bindEvents=function(){var n=this;o.each(r,function(t){var e=n[t+"Event"],i=o.wrapBehavior(n,"_"+t);n.view.on(e,i),n._eventHandlers.push({type:e,handler:i})})},a.prototype._unbindEvents=function(){var e=this,t=this._eventHandlers;o.each(t,function(t){e.view.off(t.type,t.handler)})},a.prototype.destroy=function(){this._unbindEvents(),this._reset()},a);function a(t){var e=this.getDefaultCfg();o.assign(this,e,t),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(0),r=i(11),a=i(55),s=n.getTheme(),l=(u.getGlobalTheme=function(t){return o.isString(t)?r.getGlobalTheme(t):o.deepMix({},r.getGlobalTheme(),t)},u.prototype.getPlotTheme=function(t,e){var i=t.theme;return o.isString(i)?o.deepMix({},r.getGlobalTheme(i),r.getTheme(e)):o.deepMix({},r.getGlobalTheme(),r.getTheme(e),i)},u.prototype.getTheme=function(t,e){var i=r.convertToG2Theme(this.getPlotTheme(t,e));return o.deepMix({},s,i)},u.prototype.getResponsiveTheme=function(t){return a.getResponsiveTheme(t)||a.getResponsiveTheme("default")},u);function u(){}e.default=l},function(t,f,e){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var i=e(1).__importStar(e(2)),s=e(0),M=i.vec2;function O(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function w(t,e){for(var i=[t[0]],n=1,o=t.length;n<o;n+=2){var r=e.convertPoint({x:t[n],y:t[n+1]});i.push(r.x,r.y)}return i}function l(t,e,i){for(var n=!!e,o=[],r=0,a=t.length;r<a;r+=2)o.push([t[r],t[r+1]]);for(var s,l,u,c=f.smoothBezier(o,.4,n,i),h=o.length,p=[],r=0;r<h-1;r++)s=c[2*r],l=c[2*r+1],u=o[r+1],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return n&&(s=c[h],l=c[h+1],u=o[0],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]])),p}function u(t,e){return function(t,e){var i=[];if(t.length){for(var n=0,o=t.length;n<o;n+=1){var r=t[n],a=0===n?"M":"L";i.push([a,r.x,r.y])}e&&i.push(["Z"])}return i}(t,e)}f.smoothBezier=function(t,e,i,n){var o,r,a=[],s=!!n;if(s){h=[1/0,1/0],p=[-1/0,-1/0];for(var l=0,u=t.length;l<u;l++)var c=t[l],h=M.min([],h,c),p=M.max([],p,c);h=M.min([],h,n[0]),p=M.max([],p,n[1])}l=0;for(var f=t.length;l<f;l++){if(c=t[l],i)o=t[l?l-1:f-1],r=t[(l+1)%f];else{if(0===l||l===f-1){a.push(c);continue}o=t[l-1],r=t[l+1]}var d=[],d=M.sub(d,r,o);d=M.scale(d,d,e);var g=M.distance(c,o),y=M.distance(c,r),v=g+y;0!==v&&(g/=v,y/=v);var m=M.scale([],d,-g),x=M.scale([],d,y),b=M.add([],c,m),_=M.add([],c,x);s&&(b=M.max([],b,h),b=M.min([],b,p),_=M.max([],_,h),_=M.min([],_,p)),a.push(b),a.push(_)}return i&&a.push(a.shift()),a},f.catmullRom2bezier=l,f.getLinePath=u,f.getSplinePath=function(t,e,i){var n=[],o=t[0],r=null;if(t.length<=2)return u(t,e);s.each(t,function(t){r&&r.x===t.x&&r.y===t.y||(n.push(t.x),n.push(t.y),r=t)});var a=l(n,e,i||[[0,0],[1,1]]);return a.unshift(["M",o.x,o.y]),a},f.getPointRadius=O,f.getPointAngle=function(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)},f.convertNormalPath=function(e,t){var i=[];return s.each(t,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":i.push(w(t,e));break;case"z":default:i.push(t)}}),i},f.convertPolarPath=function(v,m){var x,b,o,_=[];return s.each(m,function(t,e){switch(t[0].toLowerCase()){case"m":case"c":case"q":_.push(w(t,v));break;case"l":x=m[e-1],b=t,(v.isTransposed?x[x.length-2]===b[1]:x[x.length-1]===b[2])?_=_.concat((r=(i=v).isTransposed,a=i.startAngle,s=i.endAngle,l={x:x[1],y:x[2]},u={x:b[1],y:b[2]},c=[],h=r?"y":"x",p=Math.abs(u[h]-l[h])*(s-a),f=l[h]<=u[h]?1:0,d=p>Math.PI?1:0,g=i.convertPoint(u),.5<=(y=O(i,g))&&(p==2*Math.PI&&(n={x:(u.x+l.x)/2,y:(u.y+l.y)/2},o=i.convertPoint(n),c.push(["A",y,y,0,d,f,o.x,o.y])),c.push(["A",y,y,0,d,f,g.x,g.y])),c)):_.push(w(t,v));break;case"z":default:_.push(t)}var i,n,o,r,a,s,l,u,c,h,p,f,d,g,y}),o=_,s.each(o,function(t,e){var i,n;"a"===t[0].toLowerCase()&&(i=o[e-1],(n=o[e+1])&&"a"===n[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M"))}),_}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=(n=o.__importDefault(i(45)).default,o.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),t.lineStyle&&this.parseStyle()},s.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};r.isFunction(t)?e.callback=t:e.values=[t],this.config.size=e},s.prototype.parseColor=function(){var t,e=this.plot.options,i={};e.seriesField&&(i.fields=[e.seriesField]),r.has(e,"color")&&(t=e.color,r.isString(t)?i.values=[t]:r.isFunction(t)?i.callback=t:r.isArray(t)&&(e.seriesField?i.values=t:0<t.length&&(i.values=[t[0]]))),this.config.color=i},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle,i={fields:null,callback:null,cfg:null};r.isFunction(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,u=i(1),c=i(0),h=i(7),o=u.__importStar(i(16)),r=(n=o.default,u.__extends(a,n),a.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return u.__assign({offsetX:0,offsetY:0},e)},a.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},a.prototype.getLabelItemAttrs=function(o,r){var a=this,t=this.options,s=t.style,l=t.formatter,e=c.get(o,"model.mappingData",[]);return c.map(e,function(t,e){var i,n=a.getValue(t);return u.__assign(u.__assign(u.__assign({},a.getPosition(t)),{text:l?l(n,((i={})[h._ORIGIN]=t._origin,i.mappingDatum=t,i.mappingDatumIndex=e,i.element=o,i.elementIndex=r,i),r):n,textAlign:"center",textBaseline:"middle"}),s)})},a.prototype.getValue=function(t){return c.get(t._origin,this.layer.options.yField)},a.prototype.getPosition=function(t){return{x:c.isArray(t.x)?c.last(t.x):t.x,y:c.isArray(t.y)?c.last(t.y):t.y}},a.prototype.adjustLabel=function(){},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=r,o.registerLabelComponent("point",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11);e.DEFAULT_BAR_THEME={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}},n.registerTheme("bar",e.DEFAULT_BAR_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,l=i(1),c=i(0),u=i(7),o=l.__importStar(i(16)),a=i(24),h=l.__importDefault(i(10)),r=(n=o.default,l.__extends(s,n),s.prototype.getLabelItemAttrs=function(t,e){var i,n=this.options,o=n.style,r=n.formatter,a=[].concat(t.getModel().mappingData),s=this.getValue(t);return c.deepMix({},o,l.__assign(l.__assign({},this.getPosition(t)),{text:r?r(s,((i={})[u._ORIGIN]=a[0]._origin,i.mappingDatum=a[0],i.mappingDatumIndex=0,i.element=t,i.elementIndex=e,i),e):s,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},s.prototype.adjustLabel=function(t,e){var i,n,o,r,a=this.options,s=a.adjustPosition,l=a.style;s&&(i=this.getDefaultOffset(),n=t.getBBox(),(o=this.getElementShapeBBox(e)).width<=n.width&&(r=o.maxX+this.options.offsetX+i,t.attr("x",r),t.attr("fill",l.fill)))},s.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return l.__assign({offsetX:0,offsetY:0,adjustPosition:!0},e)},s.prototype.getValue=function(t){return c.get(t.getData(),this.layer.options.xField)},s.prototype.getPosition=function(t){var e=this.getDefaultOffset(),i=this.getValue(t),n=this.getElementShapeBBox(t),o=n.minX,r=n.maxX,a=n.minY,s=n.height,l=n.width,u=this.options,c=u.offsetX,h=u.offsetY,p=u.position,f=i<0?-1:1,d="left"===p?(0<i?o:r)+e*f+c:"right"===p?(0<i?r:o)+e*f+c:o+l/2+c;return{x:d,y:a+s/2+h}},s.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"right"!==this.options.position){var i=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,o=a.rgb2arr(i),r=Math.round(.299*o[0]+.587*o[1]+.114*o[2])/n;return a.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],r)}return this.options.style.fill},s.prototype.getTextStroke=function(t){var e=this.getTextFill(t),i=this.options,n=i.position,o=i.adjustColor;return"right"!==n&&o&&"black"!==e?null:void 0},s.prototype.getTextAlign=function(t){var e=this.getValue(t),i=this.options.position;return e<0?{right:"right",left:"right",middle:"center"}[i]:{right:"left",left:"left",middle:"center"}[i]},s.prototype.getTextBaseline=function(){return"middle"},s.prototype.getElementShapeBBox=function(t){var e=this,i=t.shape,n=[];c.each(i.get("origin").points,function(t){n.push(e.coord.convertPoint(t))});var o=n.map(function(t){return t.x}),r=Math.min.apply(Math,o),a=Math.max.apply(Math,o),s=n.map(function(t){return t.y}),l=Math.min.apply(Math,s),u=Math.max.apply(Math,s);return new h.default(r,l,a-r,u-l)},s.prototype.getLabelOffset=function(){return{x:0,y:0}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=r,o.registerLabelComponent("bar",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=i(0),o=i(4),a=r.__importDefault(i(59));i(278),i(279),i(280);var s,l=i(23),u=(s=a.default,r.__extends(c,s),c.getDefaultOptions=function(){return n.deepMix({},s.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,offset:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},c.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},c.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,o=e[i.xField];null!=n&&n.visible&&(t=l.getGeometryByType(this.view,"interval"),this.doRenderLabel(t,r.__assign({type:"stacked-bar",formatter:o.formatter&&function(t){return o.formatter(t)}},this.options.label)))},c.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},c);function c(){var t=null!==s&&s.apply(this,arguments)||this;return t.type="stackedBar",t}e.default=u,o.registerPlotType("stackedBar",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),s=i(0);e.transformDataPercentage=function(t,n,a){var e=s.groupBy(t,n),e=s.mapValues(e,function(t){return s.map(t,function(e){return s.map(a,function(t){return e[t]})})});e=s.mapValues(e,s.flatten),e=s.mapValues(e,function(t){return s.map(t,function(t){var e=Number.parseFloat(t);return!s.isNumber(e)||isNaN(e)?0:e})});var o=s.mapValues(e,function(t){return s.reduce(t,function(t,e){return t+e},0)}),i=s.map(t,function(e){var i=r.__assign(r.__assign({},e),{_origin:e,total:o[e[n]]});return s.each(a,function(t){i[t]=e[t]/o[e[n]]}),i});return s.each(s.groupBy(i,n),function(o){var r=0;s.each(o,function(i,n){s.each(a,function(t,e){(1<=r+i[t]||n===o.length-1&&e===a.length-1)&&(i[t]=1-r),r+=i[t]})})}),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=i(0),o=i(4),a=r.__importDefault(i(12)),s=i(14);i(138),i(139);var l=i(22),u=r.__importDefault(i(289)),c=r.__importStar(i(291));i(140);var h,p=i(23),f={area:"area",line:"line",point:"point"},d=(h=a.default,r.__extends(g,h),g.getDefaultOptions=function(){return n.deepMix({},h.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},g.prototype.beforeInit=function(){h.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},g.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),h.prototype.afterRender.call(this)},g.prototype.geometryParser=function(t,e){return f[e]},g.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},n.has(t,"xAxis")&&l.extractScale(e[t.xField],t.xAxis),e[t.yField]={},n.has(t,"yAxis")&&l.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),h.prototype.scale.call(this)},g.prototype.coord=function(){return null},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},g.prototype.adjustArea=function(t){},g.prototype.adjustLine=function(t){},g.prototype.adjustPoint=function(t){},g.prototype.addLine=function(){var t,e=this.options,i=n.deepMix({},e.line);i.visible&&(t=s.getGeom("line","guide",{type:"line",plot:this,line:i}),this.adjustLine(t),this.setConfig("geometry",t),this.line=t)},g.prototype.addPoint=function(){var t,e=this.options;n.deepMix({},e.point).visible&&(t=s.getGeom("point","guide",{plot:this}),this.adjustPoint(t),this.setConfig("geometry",t),this.point=t)},g.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,o=e[i.yField];n.visible&&(t=p.getGeometryByType(this.view,"area"),this.doRenderLabel(t,r.__assign({type:"area-point",formatter:o.formatter&&function(t){return o.formatter(t)}},this.options.label)))},g.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},g.prototype.label=function(){},g.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},g.prototype.parseEvents=function(){h.prototype.parseEvents.call(this,c)},g.prototype.applyResponsive=function(t){var e=this,i=u.default[t];n.each(i,function(t){t.method(e)})},g);function g(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="area",t}e.default=d,o.registerPlotType("area",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(0),n=i(4),a=o.__importDefault(i(88)),s=i(293);i(296),i(297),i(298);var l,u=(l=a.default,o.__extends(c,l),c.getDefaultOptions=function(){return r.deepMix({},l.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},c.prototype.beforeInit=function(){var t=r.get(this.options,["label","visible"]),e=r.get(this.options,["label","type"]),i=this.options;t&&("line"===e&&(i.lineLabel=this.options.label),"area"===e&&(i.areaLabel=this.options.label)),l.prototype.beforeInit.call(this)},c.prototype.label=function(){var t=this.options.label;if(t&&!1===t.visible)return this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),void(this.area.label=!1)},c.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},c.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},c.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},c.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,l.prototype.afterRender.call(this)},c.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},c.prototype.renderPlotComponents=function(){var n=this;r.each(["areaLabel","lineLabel"],function(t){var e=o.__assign({view:n.view,plot:n},n.options[t]),i=s.getPlotComponents(n,t,e);i&&(i.render(),n.plotComponents.push(i))})},c);function c(){var t=null!==l&&l.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t}e.default=u,n.registerPlotType("stackedArea",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11);e.DEFAULT_COLUMN_THEME={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){var e=t.opacity||1;return{opacity:.5*e,fillOpacity:.5*e}},selected:{lineWidth:1,stroke:"black"}}},n.registerTheme("column",e.DEFAULT_COLUMN_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=i(4),a=n.__importDefault(i(41));i(306);var s,l=(s=a.default,n.__extends(u,s),u.getDefaultOptions=function(){return o.deepMix({},s.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},u.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},u.prototype.addGeometry=function(){s.prototype.addGeometry.call(this)},u.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},u.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},u);function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.type="groupedColumn",t}e.default=l,r.registerPlotType("groupedColumn",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEndPoint=function(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}},e.getCenter=function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},e.getOverlapArea=function(t,e,i){return void 0===i&&(i=0),Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i))*Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i))},e.getOverlapInfo=function(t,e,i){void 0===i&&(i=0);var n=Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i)),o=Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i));return n&&t.x<e.x&&(n=-n),o&&t.y<e.y&&(o=-o),t.x===e.x&&t.width===e.width&&(n=e.width),t.y===e.y&&t.height===e.height&&(o=e.height),{xOverlap:n,yOverlap:o}},e.inPanel=function(t,e){return t.x<e.x&&t.x+t.width>e.x+e.width&&t.y<e.y&&t.y+t.height>e.y+e.height},e.near=function(t,e,i){return void 0===i&&(i=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<i},e.getAngleByPoint=function(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)},e.getLabelRotate=function(t){var e=Math.PI/2,i=t;return(e<i||i<-e)&&(i+=Math.PI),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),a=i(0),o=i(4),s=n.__importDefault(i(12)),l=i(21),u=i(14),c=n.__importStar(i(343)),h={rose:"interval"},p={rose:"column"},f=(r=s.default,n.__extends(d,r),d.getDefaultOptions=function(){return a.deepMix({},r.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},d.prototype.getOptions=function(t){var e=r.prototype.getOptions.call(this,t),i=t.sectorStyle,n=t.categoryField,o=t.radiusField;return a.deepMix({},e,{columnStyle:i,xField:n,yField:o})},d.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},d.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},d.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},d.prototype.addGeometry=function(){var t=this.options,e=u.getGeom("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},d.prototype.adjustRoseAdjust=function(){},d.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},d.prototype.animation=function(){r.prototype.animation.call(this),!1===this.options.animation&&(this.rose.animate=!1)},d.prototype.annotation=function(){},d.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,c)},d.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=a.deepMix({},t.label);this.adjustLabelOptions(e);var i=[t.categoryField,t.radiusField];return l.getComponent("label",n.__assign({plot:this,labelType:"polar",fields:i},e))},d.prototype.adjustLabelOptions=function(t){var e,i,n,o=this.options.radiusField;t&&(e=t.offset,i=t.type,n=t.content,"inner"===i?t.offset=e<0?e:-10:"outer"===i&&(t.offset=0<=e?e:10),n||(t.content=function(t,e){return""+e._origin[o]}))},d);function d(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="rose",t}e.default=f,o.registerPlotType("rose",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(1),h=i(0);e.getStyle=function(t,e,i,n){void 0===n&&(n="");var o=t.style,r=void 0===o?{}:o,a=t.defaultStyle,s=t.color,l=t.size,u=c.__assign(c.__assign({},a),r);return s&&(e&&(r.stroke||(u.stroke=s)),i&&(r.fill||(u.fill=s))),n&&h.isNil(r[n])&&!h.isNil(l)&&(u[n]=l),u}},function(t,h,e){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var s=e(1),p=e(0),i=e(4);e(374);var n=s.__importDefault(e(12)),o=e(22),r=e(21),a=s.__importStar(e(375));e(376);var l=s.__importDefault(e(377)),u=e(23),c={waterfall:"interval"},f={interval:"waterfall"};h.VALUE_FIELD="$$value$$",h.IS_TOTAL="$$total$$";var d,g=(d=n.default,s.__extends(y,d),y.getDefaultOptions=function(){return p.deepMix({},d.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"总计值"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},y.prototype.getOptions=function(t){var e=d.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},y.prototype.afterInit=function(){d.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new l.default({view:this.view,fields:[t.xField,t.yField,h.VALUE_FIELD],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},y.prototype.afterRender=function(){d.prototype.afterRender.call(this);var a=this.options;this.view.on("tooltip:change",function(t){for(var e=t.items,i=0;i<e.length;i++){var n,o=e[i],r=p.get(o,"data",{});o.name=r[a.xField],o.value=r[a.yField],!o.value&&r[h.IS_TOTAL]&&(n=r[h.VALUE_FIELD],o.value=n[0]-n[1]),t.items[i]=o}}),this.renderLabel()},y.prototype.renderLabel=function(){var t=u.getGeometryByType(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,s.__assign({type:"waterfall"},this.options.label))},y.prototype.geometryParser=function(t,e){return"g2"===t?c[e]:f[e]},y.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},y.prototype.addGeometry=function(){var t={type:"interval",position:{fields:[this.options.xField,h.VALUE_FIELD]},shape:{values:["waterfall"]}};t.style=this._parseStyle(),t.color=this._parseColor(),this.waterfall=t,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",t)},y.prototype.processData=function(t){var e,i,n,r=[],o=this.options.xField,a=this.options.yField;return p.map(t,function(t,e){var i,n,o=t[a];0<e&&(n=r[e-1][h.VALUE_FIELD],o=p.isArray(n)?[n[1],t[a]+n[1]]:[n,t[a]+n]),r.push(s.__assign(s.__assign({},t),((i={})[h.VALUE_FIELD]=o,i.$$index$$=e,i)))}),this.options.showTotal&&this.options.showTotal.visible&&(i=p.map(t,function(t){return t[a]}),n=p.reduce(i,function(t,e){return t+e},0),r.push(((e={})[o]=this.options.showTotal.label,e[a]=null,e[h.VALUE_FIELD]=[n,0],e.$$index$$=r.length,e[h.IS_TOTAL]=!0,e))),r},y.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},p.has(t,"xAxis")&&o.extractScale(e[t.xField],t.xAxis),e[h.VALUE_FIELD]={},p.has(t,"yAxis")&&o.extractScale(e[h.VALUE_FIELD],t.yAxis),this.setConfig("scales",e)},y.prototype.axis=function(){var t=r.getComponent("axis",{plot:this,dim:"x"}),e=r.getComponent("axis",{plot:this,dim:"y"}),i={fields:{}};i.fields[this.options.xField]=t,i.fields[h.VALUE_FIELD]=e,this.setConfig("axes",i)},y.prototype.coord=function(){},y.prototype.parseEvents=function(){d.prototype.parseEvents.call(this,a)},y.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,h.VALUE_FIELD]))},y.prototype._parseStyle=function(){var i=this.options.waterfallStyle,n=this.options.leaderLine,t={};return p.isFunction(i)?t.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign({},i.apply(void 0,t),{leaderLine:n})}:t.cfg=s.__assign(s.__assign({},i),{leaderLine:n}),t},y.prototype._parseColor=function(){var t,e,i,n,o,r,a,s=this,l=this.options,u=this.options,c={fields:[u.xField,u.yField,h.VALUE_FIELD,"$$index$$"]};return p.isFunction(l.color)?c.callback=l.color:(o="#f4664a",r="#30bf78",a="rgba(0, 0, 0, 0.25)",p.isString(l.color)?o=r=a=l.color:p.isObject(l.color)&&(e=(t=l.color).rising,i=t.falling,n=t.total,o=e,r=i,a=n),c.callback=function(t,e,i,n){return n===s.options.data.length?a||(0<=i[0]?o:r):0<=(p.isArray(i)?i[1]-i[0]:i)?o:r}),c},y.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},y.prototype.adjustMeta=function(t){var e,i=t.meta;i&&((e=i?i[t.yField]:{}).alias=e.alias||t.yField,t.meta[h.VALUE_FIELD]=e)},y);function y(){var t=null!==d&&d.apply(this,arguments)||this;return t.type="watarfall",t}h.default=g,i.registerPlotType("waterfall",g)},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1),o=e(0),r=n.__importDefault(e(33)),a=e(62);function s(t,e){return t.setMilliseconds(t.getMilliseconds()+e),t}i.DAY_MS=864e5,i.getDateRange=function(t){var e=n.__spreadArrays(t).sort(function(t,e){return t.getTime()-e.getTime()});return[r.default.format(o.head(e),a.FORMATTER),r.default.format(o.last(e),a.FORMATTER)]},i.getYearRange=function(t){var e=t||new Date;return[r.default.format(new Date(e.getFullYear(),0,1),a.FORMATTER),r.default.format(new Date(e.getFullYear(),11,30),a.FORMATTER)]},i.isLastWeekOfMonth=function(t){return t.getMonth()!==s(new Date(t),7*i.DAY_MS).getMonth()},i.isLastDayOfMonth=function(t){return t.getMonth()!==s(new Date(t),i.DAY_MS).getMonth()},i.getWeek=function(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-e.getTime())/i.DAY_MS+e.getDay()+1)/7)},i.getDay=function(t){return t.getDay()},i.advanceBy=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h,n=i(1),o=i(0),r=i(4),a=n.__importDefault(i(12)),s=i(22),l=i(150),u=n.__importStar(i(399)),c=(h=a.default,n.__extends(p,h),p.getDefaultOptions=function(){return o.deepMix({},h.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},p.prototype.init=function(){var t=this.options,e=t.value,i=(t.range||[]).map(function(t){return+t}).sort(function(t,e){return t-e}),n=this.options,o=n.min,r=void 0===o?i[0]:o,a=n.max,s=void 0===a?i[i.length-1]:a,l=n.format,u=void 0===l?function(t){return""+t}:l,c=u(e);this.options.data=[{value:e||0}],this.options.valueText=c,this.options.min=r,this.options.max=s,this.options.format=u,this.initG2Shape(),h.prototype.init.call(this)},p.prototype.initG2Shape=function(){this.gaugeShape=new l.GaugeShape(o.uniqueId()),this.gaugeShape.setOption(this.type,o.deepMix({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},p.prototype.geometryParser=function(){return"gauge"},p.prototype.scale=function(){var t=this.options,e=t.min,i=t.max,n=t.format,o={value:{}};s.extractScale(o.value,{min:e,max:i,minLimit:e,maxLimit:i,nice:!0,formatter:n,tickInterval:20}),this.setConfig("scales",o),h.prototype.scale.call(this)},p.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},p.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},i=t.offset<0?t.offset-this.options.rangeSize-t.tickLine.length:t.offset+t.tickLine.length;t.label.visible?e.value.label={offset:i,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e[1]=!1,this.setConfig("axes",e)},p.prototype.addGeometry=function(){var t={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[this.options.pivot.pointer.style.fill||this.theme.defaultColor]}};this.setConfig("geometry",t)},p.prototype.annotation=function(){var t,e=this.options.statistic,i=[];e&&e.visible&&(t=this.renderStatistic(),i.push(t)),this.setConfig("annotations",i)},p.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic;return{type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:1.2*t,textAlign:"center",textBaseline:"middle"}}},p.prototype.parseEvents=function(){h.prototype.parseEvents.call(this,u)},p);function p(t){var e=h.call(this,t)||this;return e.type="gauge",e}e.default=c,r.registerPlotType("gauge",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c,h=i(1),p=i(13),n=i(4),o=h.__importDefault(i(152)),f=h.__importDefault(i(56)),d=h.__importDefault(i(41)),g=i(0),r={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},a={color:"#5B8FF9"},s={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},l=(c=o.default,h.__extends(u,c),u.getDefaultOptions=function(){return g.deepMix({},c.getDefaultOptions.call(this),{yAxis:{leftConfig:s,rightConfig:s},lineConfig:r,columnConfig:a,legend:{visible:!0}})},u.prototype.init=function(){var t,e,i,n,o,r,a,s,l,u;c.prototype.init.call(this),this.checkData()&&(e=(t=this.options).data,i=t.meta,n=t.xField,o=t.yField,r=t.legend,a=t.lineConfig,s=t.columnConfig,l=t.events,this.colors=[s.color,a.color],this.drawColumn(),(u={})[o[1]]={ticks:this.getTicks()},this.createLayer(f.default,e[1],h.__assign({xField:n,yField:o[1],meta:g.deepMix({},i,u),xAxis:{visible:!1},yAxis:g.deepMix({},this.yAxis(1),{position:"right",grid:{visible:!1},nice:!0}),tooltip:{visible:!1},events:l},a)).render(),r.visible&&this.customLegend(),this.adjustLayout())},u.prototype.drawColumn=function(){var i=this,t=this.options,e=t.data,n=t.xField,o=t.yField,r=t.xAxis,a=t.tooltip,s=t.columnConfig,l=t.meta,u=t.events;this.createLayer(d.default,e[0],h.__assign({xField:n,yField:o[0],meta:l,xAxis:r,yAxis:g.deepMix({},this.yAxis(0),{grid:{visible:!0},nice:!0}),tooltip:g.deepMix({},a,{showMarkers:!1,customContent:{callback:function(t,e){i.tooltip(t,e)}}}),events:u},s)).render()},u.prototype.tooltip=function(t,i){var e,n,o,r,a;this.getUnCheckedValue().length!==this.colors.length?(t.style.display="block",n=(e=this.options).yField,o=e.legend,r=g.clone(i.items[0]),(a=this.getDataByXField(i.title,1)[0])&&i.items.push(h.__assign(h.__assign({},r),{mappingData:g.deepMix({},r.mappingData,{_origin:a}),data:a,name:n[1],value:a[n[1]],color:this.colors[1]})),o.visible&&g.each(this.legends,function(t,e){t.get("items")[0].unchecked&&i.items.splice(e,1)})):t.style.display="none"},u.prototype.customLegend=function(){var r=this,t=this.options,a=t.yField,e=t.legend,s=this.colors,l=this.container.addGroup(),u=e,c=["square","circle"];g.each(this.geomLayers,function(t,e){var i=g.deepMix({},{symbol:c[e],style:{r:4,fill:s[e]}},u.marker),n=[{name:a[e],unchecked:!1,marker:i}],o=new p.Legend.Category({id:r.type,container:l,x:0,y:0,items:n,updateAutoRender:!0,itemBackground:null,itemName:u.text});o.init(),o.render(),r.legends.push(o)}),g.each(this.geomLayers,function(t,e){r.legendFilter(e)})},u);function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}e.default=l,n.registerPlotType("columnLine",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=null;e.getOffScreenContext=function(){var t;return n||((t=document.createElement("canvas")).width=1,t.height=1,n=t.getContext("2d")),n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(15),p=i(26),l=i(107);function f(t,e,i,n){var o=1-n;return o*o*t+2*n*o*e+n*n*i}function c(t,e,i){var n=t+i-2*e;if(p.isNumberEqual(n,0))return[.5];var o=(t-e)/n;return o<=1&&0<=o?[o]:[]}function d(t,e,i,n){return 2*(1-n)*(e-t)+2*n*(i-e)}function g(t,e,i,n,o,r,a){var s=f(t,i,o,a),l=f(e,n,r,a),u=h.default.pointAt(t,e,i,n,a),c=h.default.pointAt(i,n,o,r,a);return[[t,e,u.x,u.y,s,l],[s,l,c.x,c.y,o,r]]}e.default={box:function(t,e,i,n,o,r){var a=c(t,i,o)[0],s=c(e,n,r)[0],l=[t,o],u=[e,r];return void 0!==a&&l.push(f(t,i,o,a)),void 0!==s&&u.push(f(e,n,r,s)),p.getBBoxByArray(l,u)},length:function(t,e,i,n,o,r){return function t(e,i,n,o,r,a,s){if(0===s)return(p.distance(e,i,n,o)+p.distance(n,o,r,a)+p.distance(e,i,r,a))/2;var l=g(e,i,n,o,r,a,.5),u=l[0],c=l[1];return u.push(s-1),c.push(s-1),t.apply(null,u)+t.apply(null,c)}(t,e,i,n,o,r,3)},nearestPoint:function(t,e,i,n,o,r,a,s){return l.nearestPoint([t,i,o],[e,n,r],a,s,f)},pointDistance:function(t,e,i,n,o,r,a,s){var l=this.nearestPoint(t,e,i,n,o,r,a,s);return p.distance(l.x,l.y,a,s)},interpolationAt:f,pointAt:function(t,e,i,n,o,r,a){return{x:f(t,i,o,a),y:f(e,n,r,a)}},divide:g,tangentAngle:function(t,e,i,n,o,r,a){var s=d(t,i,o,a),l=d(e,n,r,a),u=Math.atan2(l,s);return p.piMod(u)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var R=i(108),N=i(108),Y=i(172);function G(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}e.default=function(t){for(var e=[],i=null,n=null,o=null,r=0,a=(t=Y.default(t)).length,s=0;s<a;s++){var l,u=t[s],n=t[s+1],c=u[0],h={command:c,prePoint:i,params:u,startTangent:null,endTangent:null};switch(c){case"M":o=[u[1],u[2]],r=s;break;case"A":var p=R.default(i,u);h.arcParams=p}"Z"===c?(i=o,n=t[r+1]):i=[u[(l=u.length)-2],u[l-1]],n&&"Z"===n[0]&&(n=t[r],e[r]&&(e[r].prePoint=i)),h.currentPoint=i,e[r]&&N.isSamePoint(i,e[r].currentPoint)&&(e[r].prePoint=h.prePoint);var f=n?[n[n.length-2],n[n.length-1]]:null;h.nextPoint=f;var d,g,y,v,m,x,b,_,M,O,w,C,S,j,A,P,T,L,k,E,D,B,F,I=h.prePoint;["L","H","V"].includes(c)?(h.startTangent=[I[0]-i[0],I[1]-i[1]],h.endTangent=[i[0]-I[0],i[1]-I[1]]):"Q"===c?(d=[u[1],u[2]],h.startTangent=[I[0]-d[0],I[1]-d[1]],h.endTangent=[i[0]-d[0],i[1]-d[1]]):"T"===c?(d=G((g=e[s-1]).currentPoint,I),"Q"===g.command?(h.command="Q",h.startTangent=[I[0]-d[0],I[1]-d[1]],h.endTangent=[i[0]-d[0],i[1]-d[1]]):(h.command="TL",h.startTangent=[I[0]-i[0],I[1]-i[1]],h.endTangent=[i[0]-I[0],i[1]-I[1]])):"C"===c?(y=[u[1],u[2]],v=[u[3],u[4]],h.startTangent=[I[0]-y[0],I[1]-y[1]],h.endTangent=[i[0]-v[0],i[1]-v[1]]):"S"===c?(y=G((g=e[s-1]).currentPoint,I),v=[u[1],u[2]],"C"===g.command?(h.command="C",h.startTangent=[I[0]-y[0],I[1]-y[1]]):(h.command="SQ",h.startTangent=[I[0]-v[0],I[1]-v[1]]),h.endTangent=[i[0]-v[0],i[1]-v[1]]):"A"===c&&(m=.001,_=void 0===(b=(x=h.arcParams||{}).rx)?0:b,O=void 0===(M=x.ry)?0:M,j=void 0===(S=x.arcFlag)?0:S,T=void 0===(P=x.startAngle)?0:P,k=void 0===(L=x.endAngle)?0:L,0===(void 0===(A=x.sweepFlag)?0:A)&&(m*=-1),E=(C=void 0===(w=x.xRotation)?0:w)*Math.cos(T-m)+_,D=j*Math.sin(T-m)+O,h.startTangent=[E-o[0],D-o[1]],B=C*Math.cos(T+k+m)+_,F=j*Math.sin(T+k-m)+O,h.endTangent=[I.x-B,I.y-F]),e.push(h)}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(64);e.propagationDelegate=function(t,e,i){var n=new r.default(e,i);n.target=t,n.propagationPath.push(t),t.emitDelegation(e,n);for(var o=t.getParent();o;)o.emitDelegation(e,n),n.propagationPath.push(o),o=o.getParent()}},function(t,e,i){"use strict";i.r(e),i.d(e,"version",function(){return xe}),i.d(e,"Event",function(){return o.Event}),i.d(e,"Canvas",function(){return me}),i.d(e,"Group",function(){return ot}),i.d(e,"Shape",function(){return n});var n={};i.r(n),i.d(n,"Base",function(){return rt}),i.d(n,"Circle",function(){return at}),i.d(n,"Ellipse",function(){return ft}),i.d(n,"Image",function(){return vt}),i.d(n,"Line",function(){return wt}),i.d(n,"Marker",function(){return At}),i.d(n,"Path",function(){return qt}),i.d(n,"Polygon",function(){return Qt}),i.d(n,"Polyline",function(){return ee}),i.d(n,"Rect",function(){return ae}),i.d(n,"Text",function(){return le});var x=i(1),o=i(8),r=i(34),h=i.n(r),a=i(27),y=i.n(a),s=i(37),l=i.n(s),u=i(19),v=i.n(u),c=i(29),p=i.n(c),f=i(42),w=i.n(f),d=i(43),C=i.n(d),g=(i(50),i(75)),m=i.n(g),b=i(76),_=i.n(b);function M(t,e,i,n){var o=t-i,r=e-n;return Math.sqrt(o*o+r*r)}function ct(t,e,i,n,o,r){return t<=o&&o<=t+i&&e<=r&&r<=e+n}function O(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function S(t,e){return t[0]===e[0]&&t[1]===e[1]}var j=i(0),A=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,P=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,L=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function k(t,i){var e=t.match(L);p()(e,function(t){var e=t.split(":");i.addColorStop(e[0],e[1])})}function E(t,e,f){if(y()(f)){if("("===f[1]||"("===f[2]){if("l"===f[0])return i=t,n=e,r=A.exec(f),a=parseFloat(r[1])%360*(Math.PI/180),s=r[2],l=n.getBBox(),u=0<=a&&a<.5*Math.PI?(o={x:l.minX,y:l.minY},{x:l.maxX,y:l.maxY}):.5*Math.PI<=a&&a<Math.PI?(o={x:l.maxX,y:l.minY},{x:l.minX,y:l.maxY}):Math.PI<=a&&a<1.5*Math.PI?(o={x:l.maxX,y:l.maxY},{x:l.minX,y:l.minY}):(o={x:l.minX,y:l.maxY},{x:l.maxX,y:l.minY}),c=Math.tan(a),h=c*c,p=(u.x-o.x+c*(u.y-o.y))/(1+h)+o.x,d=c*(u.x-o.x+c*(u.y-o.y))/(1+h)+o.y,g=i.createLinearGradient(o.x,o.y,p,d),k(s,g),g;if("r"===f[0])return function(t,e){var i=P.exec(f),n=parseFloat(i[1]),o=parseFloat(i[2]),r=parseFloat(i[3]),a=i[4];if(0===r){var s=a.match(L);return s[s.length-1].split(":")[1]}var l=e.getBBox(),u=l.maxX-l.minX,c=l.maxY-l.minY,h=Math.sqrt(u*u+c*c)/2,p=t.createRadialGradient(l.minX+u*n,l.minY+c*o,0,l.minX+u/2,l.minY+c/2,r*h);return k(a,p),p}(t,e);if("p"===f[0])return function(t,e,i){if(e.get("patternSource")&&e.get("patternSource")===i)return e.get("pattern");var n,o,r=T.exec(i),a=r[1],s=r[2];function l(){n=t.createPattern(o,a),e.set("pattern",n),e.set("patternSource",i)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return o=new Image,s.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=s,o.complete?l():(o.onload=l,o.src=o.src),n}(t,e,f)}return f}var i,n,o,r,a,s,l,u,c,h,p,d,g}function D(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function B(t,e){return D(t)*D(e)?(t[0]*e[0]+t[1]*e[1])/(D(t)*D(e)):1}function F(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(B(t,e))}function I(t,e){var i=e[1],n=e[2],o=C()(w()(e[3]),2*Math.PI),r=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],h=Math.cos(o)*(s-u)/2+Math.sin(o)*(l-c)/2,p=-1*Math.sin(o)*(s-u)/2+Math.cos(o)*(l-c)/2,f=h*h/(i*i)+p*p/(n*n);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f));var d=i*i*(p*p)+n*n*(h*h),g=d?Math.sqrt((i*i*(n*n)-d)/d):1;r===a&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*i*p/n:0,v=i?g*-n*h/i:0,m=(s+u)/2+Math.cos(o)*y-Math.sin(o)*v,x=(l+c)/2+Math.sin(o)*y+Math.cos(o)*v,b=[(h-y)/i,(p-v)/n],_=[(-1*h-y)/i,(-1*p-v)/n],M=F([1,0],b),O=F(b,_);return B(b,_)<=-1&&(O=Math.PI),1<=B(b,_)&&(O=0),0===a&&0<O&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:x,rx:S(t,[u,c])?0:i,ry:S(t,[u,c])?0:n,startAngle:M,endAngle:M+O,xRotation:o,arcFlag:r,sweepFlag:a}}function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var N=Math.sin,Y=Math.cos,G=Math.atan2,X=Math.PI;function z(t,e,i,n,o,r,a){var s=e.stroke,l=e.lineWidth,u=G(n-r,i-o),c=new qt({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Y(X/6)+","+10*N(X/6)+" L0,0 L"+10*Y(X/6)+",-"+10*N(X/6),stroke:s,lineWidth:l}});c.translate(o,r),c.rotateAtPoint(o,r,u),t.set(a?"startArrowShape":"endArrowShape",c)}function V(t,e,i,n,o,r,a){var s=e.startArrow,l=e.endArrow,u=e.stroke,c=e.lineWidth,h=a?s:l,p=h.d,f=h.fill,d=h.stroke,g=h.lineWidth,y=Object(x.__rest)(h,["d","fill","stroke","lineWidth"]),v=G(n-r,i-o);p&&(o-=Y(v)*p,r-=N(v)*p);var m=new qt({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(x.__assign)(Object(x.__assign)({},y),{stroke:d||u,lineWidth:g||c,fill:f})});m.translate(o,r),m.rotateAtPoint(o,r,v),t.set(a?"startArrowShape":"endArrowShape",m)}function H(t,e,i,n,o){var r=G(n-e,i-t);return{dx:Y(r)*o,dy:N(r)*o}}function W(t,e,i,n,o,r){"object"===R(e.startArrow)?V(t,e,i,n,o,r,!0):e.startArrow?z(t,e,i,n,o,r,!0):t.set("startArrowShape",null)}function q(t,e,i,n,o,r){"object"===R(e.endArrow)?V(t,e,i,n,o,r,!1):e.endArrow?z(t,e,i,n,o,r,!1):t.set("startArrowShape",null)}var U={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Z(t,e){var i=e.attr();for(var n in i){var o=i[n],r=U[n]?U[n]:n;"matrix"===r&&o?t.transform(o[0],o[1],o[3],o[4],o[6],o[7]):"lineDash"===r&&t.setLineDash?Object(j.isArray)(o)&&t.setLineDash(o):("strokeStyle"===r||"fillStyle"===r?o=E(t,e,o):"globalAlpha"===r&&(o*=t.globalAlpha),t[r]=o)}}function K(t,e,i){for(var n=0;n<e.length;n++){var o=e[n];o.get("visible")?o.draw(t,i):o.skipDraw()}}function $(t,e,i,n){var o=i.path,r=i.startArrow,a=i.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var c=0;c<o.length;c++){var h,p=o[c],f=p[0];0===c&&r&&r.d?u=H((h=t.getStartTangent())[0][0],h[0][1],h[1][0],h[1][1],r.d):c===o.length-2&&"Z"===o[c+1][0]&&a&&a.d?"Z"===o[c+1][0]&&(u=H((h=t.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)):c===o.length-1&&a&&a.d&&"Z"!==o[0]&&(u=H((h=t.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d));var d,g=u.dx,y=u.dy;switch(f){case"M":e.moveTo(p[1]-g,p[2]-y),l=[p[1],p[2]];break;case"L":e.lineTo(p[1]-g,p[2]-y);break;case"Q":e.quadraticCurveTo(p[1],p[2],p[3]-g,p[4]-y);break;case"C":e.bezierCurveTo(p[1],p[2],p[3],p[4],p[5]-g,p[6]-y);break;case"A":var v=void 0;n?(v=n[c])||(v=I(s,p),n[c]=v):v=I(s,p);var m,x,b,_=v.cx,M=v.cy,O=v.rx,w=v.ry,C=v.startAngle,S=v.endAngle,j=v.xRotation,A=v.sweepFlag;e.ellipse?e.ellipse(_,M,O,w,j,C,S,1-A):(m=w<O?O:w,x=w<O?1:O/w,b=w<O?w/O:1,e.translate(_,M),e.rotate(j),e.scale(x,b),e.arc(0,0,m,C,S,1-A),e.scale(1/x,1/b),e.rotate(-j),e.translate(-_,-M));break;case"Z":e.closePath()}s="Z"===f?l:[p[(d=p.length)-2],p[d-1]]}}function Q(t,e){var i=t.get("canvas");i&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(i.refreshElement(t,e,i),i.get("autoDraw")&&i.draw(),t.set("hasChanged",!0)))}function J(t){if(!t.length)return null;var c=[],h=[],p=[],f=[];return Object(j.each)(t,function(t){var e,i,n,o,r,a,s,l,u=((e=t).destroyed?i=e._cacheCanvasBBox:(a=(r=e.get("cacheCanvasBBox"))&&!(!r.width||!r.height),l=(s=e.getCanvasBBox())&&!(!s.width||!s.height),a&&l?(o=s,i=(n=r)&&o?{minX:Math.min(n.minX,o.minX),minY:Math.min(n.minY,o.minY),maxX:Math.max(n.maxX,o.maxX),maxY:Math.max(n.maxY,o.maxY)}:n||o):a?i=r:l&&(i=s)),i);u&&(c.push(u.minX),h.push(u.minY),p.push(u.maxX),f.push(u.maxY))}),{minX:Math.min.apply(null,c),minY:Math.min.apply(null,h),maxX:Math.max.apply(null,p),maxY:Math.max.apply(null,f)}}var tt,et,it,nt=i(65),ot=(it=o.AbstractGroup,Object(x.__extends)(ut,it),ut.prototype.onCanvasChange=function(t){Q(this,t)},ut.prototype.getShapeBase=function(){return n},ut.prototype.getGroupBase=function(){return ut},ut.prototype._applyClip=function(t,e){e&&(t.save(),Z(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},ut.prototype.draw=function(t,e){var i=this.getChildren();i.length&&(t.save(),Z(t,this),this._applyClip(t,this.getClip()),K(t,i,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},ut.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},ut),rt=(et=o.AbstractShape,Object(x.__extends)(lt,et),lt.prototype.getDefaultAttrs=function(){var t=et.prototype.getDefaultAttrs.call(this);return Object(x.__assign)(Object(x.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},lt.prototype.getShapeBase=function(){return n},lt.prototype.getGroupBase=function(){return ot},lt.prototype.onCanvasChange=function(t){Q(this,t)},lt.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),i=Object(nt.getBBoxMethod)(t)(this),n=e/2,o=i.x-n,r=i.y-n,a=i.x+i.width+n,s=i.y+i.height+n;return{x:o,minX:o,y:r,minY:r,width:i.width+e,height:i.height+e,maxX:a,maxY:s}},lt.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},lt.prototype.isStroke=function(){return!!this.attrs.stroke},lt.prototype._applyClip=function(t,e){e&&(t.save(),Z(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},lt.prototype.draw=function(t,e){var i=this.getClip();e&&!O(e,i?J([this,i]):this.getCanvasBBox())||(t.save(),Z(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw())},lt.prototype._afterDraw=function(){var t,e=this.getCanvasBBox(),i=this.getCanvas();this.set("cacheCanvasBBox",e),i&&(t=i.getViewRange(),this.set("isInView",O(e,t))),this.set("hasChanged",!1)},lt.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},lt.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},lt.prototype.fill=function(t){t.fill()},lt.prototype.stroke=function(t){t.stroke()},lt.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,n=e.opacity,o=e.strokeOpacity,r=e.fillOpacity;this.isFill()&&(h()(r)||1===r?this.fill(t):(t.globalAlpha=r,this.fill(t),t.globalAlpha=n)),this.isStroke()&&0<i&&(h()(o)||1===o||(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},lt.prototype.createPath=function(t){},lt.prototype.afterDrawPath=function(t){},lt.prototype.isInShape=function(t,e){var i=this.isStroke(),n=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,i,n,o)},lt.prototype.isInStrokeOrPath=function(t,e,i,n,o){return!1},lt.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},lt),at=(tt=rt,Object(x.__extends)(st,tt),st.prototype.getDefaultAttrs=function(){var t=tt.prototype.getDefaultAttrs.call(this);return Object(x.__assign)(Object(x.__assign)({},t),{x:0,y:0,r:0})},st.prototype.isInStrokeOrPath=function(t,e,i,n,o){var r=this.attr(),a=r.x,s=r.y,l=r.r,u=o/2,c=M(a,s,t,e);return n&&i?c<=l+u:n?c<=l:!!i&&l-u<=c&&c<=l+u},st.prototype.createPath=function(t){var e=this.attr(),i=e.x,n=e.y,o=e.r;t.beginPath(),t.arc(i,n,o,0,2*Math.PI,!1),t.closePath()},st);function st(){return null!==tt&&tt.apply(this,arguments)||this}function lt(){return null!==et&&et.apply(this,arguments)||this}function ut(){return null!==it&&it.apply(this,arguments)||this}function ht(t,e,i,n){return t/(i*i)+e/(n*n)}var pt,ft=(pt=rt,Object(x.__extends)(dt,pt),dt.prototype.getDefaultAttrs=function(){var t=pt.prototype.getDefaultAttrs.call(this);return Object(x.__assign)(Object(x.__assign)({},t),{x:0,y:0,rx:0,ry:0})},dt.prototype.isInStrokeOrPath=function(t,e,i,n,o){var r=this.attr(),a=o/2,s=r.x,l=r.y,u=r.rx,c=r.ry,h=(t-s)*(t-s),p=(e-l)*(e-l);return n&&i?ht(h,p,u+a,c+a)<=1:n?ht(h,p,u,c)<=1:!!i&&1<=ht(h,p,u-a,c-a)&&ht(h,p,u+a,c+a)<=1},dt.prototype.createPath=function(t){var e,i,n,o=this.attr(),r=o.x,a=o.y,s=o.rx,l=o.ry;t.beginPath(),t.ellipse?t.ellipse(r,a,s,l,0,0,2*Math.PI,!1):(e=l<s?s:l,i=l<s?1:s/l,n=l<s?l/s:1,t.save(),t.translate(r,a),t.scale(i,n),t.arc(0,0,e,0,2*Math.PI),t.restore(),t.closePath())},dt);function dt(){return null!==pt&&pt.apply(this,arguments)||this}function gt(t){return t instanceof HTMLElement&&y()(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var yt,vt=(yt=rt,Object(x.__extends)(bt,yt),bt.prototype.getDefaultAttrs=function(){var t=yt.prototype.getDefaultAttrs.call(this);return Object(x.__assign)(Object(x.__assign)({},t),{x:0,y:0,width:0,height:0})},bt.prototype.initAttrs=function(t){this._setImage(t.img)},bt.prototype.isStroke=function(){return!1},bt.prototype.isOnlyHitBox=function(){return!0},bt.prototype._afterLoading=function(){var t;!0===this.get("toDraw")&&((t=this.get("canvas"))?t.draw():this.createPath(this.get("context")))},bt.prototype._setImage=function(t){var e,i=this,n=this.attrs;y()(t)?((e=new Image).onload=function(){if(i.destroyed)return!1;i.attr("img",e),i.set("loading",!1),i._afterLoading();var t=i.get("callback");t&&t.call(i)},e.src=t,e.crossOrigin="Anonymous",this.set("loading",!0)):t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):gt(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},bt.prototype.onAttrChange=function(t,e,i){yt.prototype.onAttrChange.call(this,t,e,i),"img"===t&&this._setImage(e)},bt.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),i=e.x,n=e.y,o=e.width,r=e.height,a=e.sx,s=e.sy,l=e.swidth,u=e.sheight,c=e.img;(c instanceof Image||gt(c))&&(h()(a)||h()(s)||h()(l)||h()(u)?t.drawImage(c,i,n,o,r):t.drawImage(c,a,s,l,u,i,n,o,r))},bt),mt=i(15),xt=i.n(mt);function bt(){return null!==yt&&yt.apply(this,arguments)||this}function _t(t,e,i,n,o,r,a){var s=Math.min(t,i),l=Math.max(t,i),u=Math.min(e,n),c=Math.max(e,n),h=o/2;return s-h<=r&&r<=l+h&&u-h<=a&&a<=c+h&&xt.a.pointToLine(t,e,i,n,r,a)<=o/2}var Mt,Ot,wt=(Ot=rt,Object(x.__extends)(Bt,Ot),Bt.prototype.getDefaultAttrs=function(){var t=Ot.prototype.getDefaultAttrs.call(this);return Object(x.__assign)(Object(x.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Bt.prototype.initAttrs=function(t){this.setArrow()},Bt.prototype.onAttrChange=function(t,e,i){Ot.prototype.onAttrChange.call(this,t,e,i),this.setArrow()},Bt.prototype.setArrow=function(){var t=this.attr(),e=t.x1,i=t.y1,n=t.x2,o=t.y2,r=t.startArrow,a=t.endArrow;r&&W(this,t,n,o,e,i),a&&q(this,t,e,i,n,o)},Bt.prototype.isInStrokeOrPath=function(t,e,i,n,o){if(!i||!o)return!1;var r=this.attr();return _t(r.x1,r.y1,r.x2,r.y2,o,t,e)},Bt.prototype.createPath=function(t){var e=this.attr(),i=e.x1,n=e.y1,o=e.x2,r=e.y2,a=e.startArrow,s=e.endArrow,l={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(l=H(i,n,o,r,e.startArrow.d)),s&&s.d&&(u=H(i,n,o,r,e.endArrow.d)),t.beginPath(),t.moveTo(i+l.dx,n+l.dy),t.lineTo(o-u.dx,r-u.dy)},Bt.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},Bt.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,i=t.y1,n=t.x2,o=t.y2;return xt.a.length(e,i,n,o)},Bt.prototype.getPoint=function(t){var e=this.attr(),i=e.x1,n=e.y1,o=e.x2,r=e.y2;return xt.a.pointAt(i,n,o,r,t)},Bt),Ct=i(67),St=i.n(Ct),jt={circle:function(t,e,i){return[["M",t-i,e],["A",i,i,0,1,0,t+i,e],["A",i,i,0,1,0,t-i,e]]},square:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e-i],["L",t+i,e+i],["L",t-i,e+i],["Z"]]},diamond:function(t,e,i){return[["M",t-i,e],["L",t,e-i],["L",t+i,e],["L",t,e+i],["Z"]]},triangle:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e+n],["L",t,e-n],["L",t+i,e+n],["Z"]]},"triangle-down":function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e-n],["L",t+i,e-n],["L",t,e+n],["Z"]]}},At=(Mt=rt,Object(x.__extends)(Dt,Mt),Dt.prototype.initAttrs=function(t){this._resetParamsCache()},Dt.prototype._resetParamsCache=function(){this.set("paramsCache",{})},Dt.prototype.onAttrChange=function(t,e,i){Mt.prototype.onAttrChange.call(this,t,e,i),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},Dt.prototype.isOnlyHitBox=function(){return!0},Dt.prototype._getR=function(t){return Object(j.isNil)(t.r)?t.radius:t.r},Dt.prototype._getPath=function(){var t,e=this.attr(),i=e.x,n=e.y,o=e.symbol||"circle",r=this._getR(e),a=l()(o)?(a=(t=o)(i,n,r),St()(a)):(t=Dt.Symbols[o])(i,n,r);return t?a:(console.warn(o+" marker is not supported."),null)},Dt.prototype.createPath=function(t){$(this,t,{path:this._getPath()},this.get("paramsCache"))},Dt.Symbols=jt,Dt),Pt=i(36),Tt=i.n(Pt),Lt=i(101),kt=i.n(Lt),Et=i(99);function Dt(){return null!==Mt&&Mt.apply(this,arguments)||this}function Bt(){return null!==Ot&&Ot.apply(this,arguments)||this}function Ft(t,e,i){var n=Object(Et.getOffScreenContext)();return t.createPath(n),n.isPointInPath(e,i)}function It(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function Rt(t,e,i){var n=!1,o=t.length;if(o<=2)return!1;for(var r,a,s,l=0;l<o;l++){var u=t[l],c=t[(l+1)%o];if(a=c,((s=[e,i])[0]-(r=u)[0])*(a[1]-r[1])==(a[0]-r[0])*(s[1]-r[1])&&Math.min(r[0],a[0])<=s[0]&&s[0]<=Math.max(r[0],a[0])&&Math.min(r[1],a[1])<=s[1]&&s[1]<=Math.max(r[1],a[1]))return!0;0<It(u[1]-i)!=0<It(c[1]-i)&&It(e-(i-u[1])*(u[0]-c[0])/(u[1]-c[1])-u[0])<0&&(n=!n)}return n}var Nt=i(100),Yt=i.n(Nt);function Gt(t,e,i,n,o,r,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(l<n||o<l)return!1;var u={x:t+i*Math.cos(l),y:e+i*Math.sin(l)};return M(u.x,u.y,a,s)<=r/2}var Xt,zt=i(6);Xt=new zt.a(3),zt.a!=Float32Array&&(Xt[0]=0,Xt[1]=0,Xt[2]=0);var Vt=Object(x.__assign)({hasArc:function(t){for(var e=!1,i=t.length,n=0;n<i;n++){var o=t[n][0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,i=[],n=[],o=[],r=0;r<e;r++){var a=t[r],s=a[0];"M"===s?(o.length&&(n.push(o),o=[]),o.push([a[1],a[2]])):"Z"===s?o.length&&(i.push(o),o=[]):o.push([a[1],a[2]])}return 0<o.length&&n.push(o),{polygons:i,polylines:n}},isPointInStroke:function(t,e,i,n){for(var o,r,a,s,l,u,c,h,p,f,d,g,y,v,m,x,b,_,M,O,w,C,S,j,A,P,T,L,k,E,D,B,F,I,R,N,Y,G,X,z=!1,V=e/2,H=0;H<t.length;H++){var W=t[H],q=W.currentPoint,U=W.params,Z=W.prePoint,K=W.box;if(!K||ct(K.x-V,K.y-V,K.width+e,K.height+e,i,n)){switch(W.command){case"L":case"Z":z=_t(Z[0],Z[1],q[0],q[1],e,i,n);break;case"Q":z=Yt.a.pointDistance(Z[0],Z[1],U[1],U[2],U[3],U[4],i,n)<=e/2;break;case"C":z=Tt.a.pointDistance(Z[0],Z[1],U[1],U[2],U[3],U[4],U[5],U[6],i,n)<=e/2;break;case"A":var $=W.arcParams,Q=$.cx,J=$.cy,tt=$.rx,et=$.ry,it=$.startAngle,nt=$.endAngle,ot=$.xRotation,rt=[i,n,1],at=[1,0,0,0,1,0,0,0,1],st=et<tt?tt:et,lt=et<tt?1:tt/et,ut=et<tt?et/tt:1;L=[-Q,-J],0,k=(T=P=at)[0],E=T[1],D=T[2],B=T[3],F=T[4],I=T[5],R=T[6],N=T[7],Y=T[8],G=L[0],X=L[1],P[0]=k,P[1]=E,P[2]=D,P[3]=B,P[4]=F,P[5]=I,P[6]=G*k+X*B+R,P[7]=G*E+X*F+N,P[8]=G*D+X*I+Y,v=-ot,0,m=(y=g=at)[0],x=y[1],b=y[2],_=y[3],M=y[4],O=y[5],w=y[6],C=y[7],S=y[8],j=Math.sin(v),A=Math.cos(v),g[0]=A*m+j*_,g[1]=A*x+j*M,g[2]=A*b+j*O,g[3]=A*_-j*m,g[4]=A*M-j*x,g[5]=A*O-j*b,g[6]=w,g[7]=C,g[8]=S,h=c=at,0,f=(p=[1/lt,1/ut])[0],d=p[1],c[0]=f*h[0],c[1]=f*h[1],c[2]=f*h[2],c[3]=d*h[3],c[4]=d*h[4],c[5]=d*h[5],c[6]=h[6],c[7]=h[7],c[8]=h[8],a=at,0,s=(r=o=rt)[0],l=r[1],u=r[2],o[0]=s*a[0]+l*a[3]+u*a[6],o[1]=s*a[1]+l*a[4]+u*a[7],o[2]=s*a[2]+l*a[5]+u*a[8],z=Gt(0,0,st,it,nt,e,rt[0],rt[1])}if(z)break}}return z}},o.PathUtil);function Ht(t,e,i){for(var n=!1,o=0;o<t.length&&!(n=Rt(t[o],e,i));o++);return n}var Wt,qt=(Wt=rt,Object(x.__extends)(Ut,Wt),Ut.prototype.getDefaultAttrs=function(){var t=Wt.prototype.getDefaultAttrs.call(this);return Object(x.__assign)(Object(x.__assign)({},t),{startArrow:!1,endArrow:!1})},Ut.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},Ut.prototype.onAttrChange=function(t,e,i){Wt.prototype.onAttrChange.call(this,t,e,i),"path"===t&&this._setPathArr(e),this.setArrow()},Ut.prototype._setPathArr=function(t){this.attrs.path=St()(t);var e=Vt.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},Ut.prototype.getSegments=function(){var t=this.get("segements");return t||(t=kt()(this.attr("path")),this.set("segments",t)),t},Ut.prototype.setArrow=function(){var t,e=this.attr(),i=e.startArrow,n=e.endArrow;i&&W(this,e,(t=this.getStartTangent())[0][0],t[0][1],t[1][0],t[1][1]),n&&q(this,e,(t=this.getEndTangent())[0][0],t[0][1],t[1][0],t[1][1])},Ut.prototype.isInStrokeOrPath=function(t,e,i,n,o){var r,a,s=this.getSegments(),l=this.get("hasArc"),u=!1;return i&&(u=Vt.isPointInStroke(s,o,t,e)),!u&&n&&(u=l?Ft(this,t,e):(r=this.attr("path"),Ht((a=Vt.extractPolygons(r)).polygons,t,e)||Ht(a.polylines,t,e))),u},Ut.prototype.createPath=function(t){$(this,t,this.attr(),this.get("paramsCache"))},Ut.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},Ut.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(j.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},Ut.prototype.getPoint=function(i){var n,o,t=this.get("tCache");t||(this._calculateCurve(),this._setTcache(),t=this.get("tCache"));var e=this.get("curve");if(!t||0===t.length)return e?{x:e[0][1],y:e[0][2]}:null;Object(j.each)(t,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),o=e)});var r=e[o];if(Object(j.isNil)(r)||Object(j.isNil)(o))return null;var a=r.length,s=e[o+1];return Tt.a.pointAt(r[a-2],r[a-1],s[1],s[2],s[3],s[4],s[5],s[6],n)},Ut.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Vt.pathToCurve(t))},Ut.prototype._setTcache=function(){var i,n,o,r,a=0,s=0,l=[],u=this.get("curve");u&&(Object(j.each)(u,function(t,e){o=u[e+1],r=t.length,o&&(a+=Tt.a.length(t[r-2],t[r-1],o[1],o[2],o[3],o[4],o[5],o[6])||0)}),this.set("totalLength",a),0!==a?(Object(j.each)(u,function(t,e){o=u[e+1],r=t.length,o&&((i=[])[0]=s/a,n=Tt.a.length(t[r-2],t[r-1],o[1],o[2],o[3],o[4],o[5],o[6]),s+=n||0,i[1]=s/a,l.push(i))}),this.set("tCache",l)):this.set("tCache",[]))},Ut.prototype.getStartTangent=function(){var t,e,i,n,o=this.getSegments();return 1<o.length&&(t=o[0].currentPoint,e=o[1].currentPoint,n=[],(i=o[1].startTangent)?n.push([t[0]-i[0],t[1]-i[1]]):n.push([e[0],e[1]]),n.push([t[0],t[1]])),n},Ut.prototype.getEndTangent=function(){var t,e,i,n,o=this.getSegments(),r=o.length;return 1<r&&(t=o[r-2].currentPoint,e=o[r-1].currentPoint,n=[],(i=o[r-1].endTangent)?n.push([e[0]-i[0],e[1]-i[1]]):n.push([t[0],t[1]]),n.push([e[0],e[1]])),n},Ut);function Ut(){return null!==Wt&&Wt.apply(this,arguments)||this}function Zt(t,e,i,n,o){var r=t.length;if(r<2)return!1;for(var a=0;a<r-1;a++)if(_t(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,i,n))return!0;if(o){var s=t[0],l=t[r-1];if(_t(s[0],s[1],l[0],l[1],e,i,n))return!0}return!1}var Kt,$t,Qt=($t=rt,Object(x.__extends)(ne,$t),ne.prototype.isInStrokeOrPath=function(t,e,i,n,o){var r=this.attr().points,a=!1;return i&&(a=Zt(r,o,t,e,!0)),!a&&n&&(a=Rt(r,t,e)),a},ne.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var i=0;i<e.length;i++){var n=e[i];0===i?t.moveTo(n[0],n[1]):t.lineTo(n[0],n[1])}t.closePath()}},ne),Jt=i(68),te=i.n(Jt),ee=(Kt=rt,Object(x.__extends)(ie,Kt),ie.prototype.getDefaultAttrs=function(){var t=Kt.prototype.getDefaultAttrs.call(this);return Object(x.__assign)(Object(x.__assign)({},t),{startArrow:!1,endArrow:!1})},ie.prototype.initAttrs=function(t){this.setArrow()},ie.prototype.onAttrChange=function(t,e,i){Kt.prototype.onAttrChange.call(this,t,e,i),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},ie.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},ie.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,i=e.points,n=e.startArrow,o=e.endArrow,r=i.length,a=i[0][0],s=i[0][1],l=i[r-1][0],u=i[r-1][1];n&&W(this,t,i[1][0],i[1][1],a,s),o&&q(this,t,i[r-2][0],i[r-2][1],l,u)},ie.prototype.isFill=function(){return!1},ie.prototype.isInStrokeOrPath=function(t,e,i,n,o){return!(!i||!o)&&Zt(this.attr().points,o,t,e,!1)},ie.prototype.isStroke=function(){return!0},ie.prototype.createPath=function(t){var e=this.attr(),i=e.points,n=e.startArrow,o=e.endArrow,r=i.length;if(!(i.length<2)){var a,s=i[0][0],l=i[0][1],u=i[r-1][0],c=i[r-1][1];n&&n.d&&(s+=(a=H(s,l,i[1][0],i[1][1],n.d)).dx,l+=a.dy),o&&o.d&&(u-=(a=H(i[r-2][0],i[r-2][1],u,c,o.d)).dx,c-=a.dy),t.beginPath(),t.moveTo(s,l);for(var h=0;h<r-1;h++){var p=i[h];t.lineTo(p[0],p[1])}t.lineTo(u,c)}},ie.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},ie.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(j.isNil)(e)?(this.set("totalLength",te.a.length(t)),this.get("totalLength")):e},ie.prototype.getPoint=function(i){var n,o,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(j.each)(e,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),o=e)}),xt.a.pointAt(t[o][0],t[o][1],t[o+1][0],t[o+1][1],n)},ie.prototype._setTcache=function(){var i,n,o,r,a,s=this.attr().points;s&&0!==s.length&&((i=this.getTotalLength())<=0||(r=0,a=[],Object(j.each)(s,function(t,e){s[e+1]&&((n=[])[0]=r/i,o=xt.a.length(t[0],t[1],s[e+1][0],s[e+1][1]),r+=o,n[1]=r/i,a.push(n))}),this.set("tCache",a)))},ie.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},ie.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},ie);function ie(){return null!==Kt&&Kt.apply(this,arguments)||this}function ne(){return null!==$t&&$t.apply(this,arguments)||this}var oe,re,ae=(re=rt,Object(x.__extends)(pe,re),pe.prototype.getDefaultAttrs=function(){var t=re.prototype.getDefaultAttrs.call(this);return Object(x.__assign)(Object(x.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},pe.prototype.isInStrokeOrPath=function(t,e,i,n,o){var r,a,s,l,u,c,h,p,f=this.attr(),d=f.x,g=f.y,y=f.width,v=f.height,m=f.radius;if(m){var x=!1;return i&&(l=v,x=_t((r=d)+(u=m),a=g,r+(s=y)-u,a,c=o,h=t,p=e)||_t(r+s,a+u,r+s,a+l-u,c,h,p)||_t(r+s-u,a+l,r+u,a+l,c,h,p)||_t(r,a+l-u,r,a+u,c,h,p)||Gt(r+s-u,a+u,u,1.5*Math.PI,2*Math.PI,c,h,p)||Gt(r+s-u,a+l-u,u,0,.5*Math.PI,c,h,p)||Gt(r+u,a+l-u,u,.5*Math.PI,Math.PI,c,h,p)||Gt(r+u,a+u,u,Math.PI,1.5*Math.PI,c,h,p)),!x&&n&&(x=Ft(this,t,e)),x}var b,_=o/2;return n&&i?ct(d-_,g-_,y+_,v+_,t,e):n?ct(d,g,y,v,t,e):i?ct(d-(b=o/2),g-b,y,o,t,e)||ct(d+y-b,g-b,o,v,t,e)||ct(d+b,g+v-b,y,o,t,e)||ct(d-b,g+b,o,v,t,e):void 0},pe.prototype.createPath=function(t){var e,i,n,o,r,a,s,l,u,c,h=this.attr(),p=h.x,f=h.y,d=h.width,g=h.height,y=h.radius;t.beginPath(),0===y?t.rect(p,f,d,g):(a=y,c=u=l=s=0,v()(a)?1===a.length?s=l=u=c=a[0]:2===a.length?(s=u=a[0],l=c=a[1]):3===a.length?(s=a[0],l=c=a[1],u=a[2]):(s=a[0],l=a[1],u=a[2],c=a[3]):s=l=u=c=a,i=(e=[s,l,u,c])[0],n=e[1],o=e[2],r=e[3],t.moveTo(p+i,f),t.lineTo(p+d-n,f),0!==n&&t.arc(p+d-n,f+n,n,-Math.PI/2,0),t.lineTo(p+d,f+g-o),0!==o&&t.arc(p+d-o,f+g-o,o,0,Math.PI/2),t.lineTo(p+r,f+g),0!==r&&t.arc(p+r,f+g-r,r,Math.PI/2,Math.PI),t.lineTo(p,f+i),0!==i&&t.arc(p+i,f+i,i,Math.PI,1.5*Math.PI),t.closePath())},pe),se=i(66),le=(oe=rt,Object(x.__extends)(he,oe),he.prototype.getDefaultAttrs=function(){var t=oe.prototype.getDefaultAttrs.call(this);return Object(x.__assign)(Object(x.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},he.prototype.isOnlyHitBox=function(){return!0},he.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},he.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(se.assembleFont)(t)},he.prototype._setText=function(t){var e=null;y()(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},he.prototype.onAttrChange=function(t,e,i){oe.prototype.onAttrChange.call(this,t,e,i),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(e)},he.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,i=+t.fontSize;return e?e-i:.14*i},he.prototype._drawTextArr=function(i,t,n){var o,e=this.attrs,r=e.textBaseline,a=e.x,s=e.y,l=+e.fontSize,u=this._getSpaceingY(),c=Object(se.getTextHeight)(e.text,e.fontSize,e.lineHeight);p()(t,function(t,e){o=s+e*(u+l)-c+l,"middle"===r&&(o+=c-l-(c-l)/2),"top"===r&&(o+=c-l),n?i.fillText(t,a,o):i.strokeText(t,a,o)})},he.prototype._drawText=function(t,e){var i,n=this.attr(),o=n.x,r=n.y,a=this.get("textArr");a?this._drawTextArr(t,a,e):(i=n.text,e?t.fillText(i,o,r):t.strokeText(i,o,r))},he.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,n=e.opacity,o=e.strokeOpacity,r=e.fillOpacity;this.isStroke()&&0<i&&(h()(o)||1===o||(t.globalAlpha=n),this.stroke(t)),this.isFill()&&(h()(r)||1===r?this.fill(t):(t.globalAlpha=r,this.fill(t),t.globalAlpha=n)),this.afterDrawPath(t)},he.prototype.fill=function(t){this._drawText(t,!0)},he.prototype.stroke=function(t){this._drawText(t,!1)},he),ue=i(63),ce=i(105);function he(){return null!==oe&&oe.apply(this,arguments)||this}function pe(){return null!==re&&re.apply(this,arguments)||this}function fe(t,e,i){var n=t.getTotalMatrix();if(n){var o=function(t,e){if(e){var i=Object(ce.invert)(e);return Object(ce.multiplyVec2)(i,t)}return t}([e,i,1],n);return[o[0],o[1]]}return[e,i]}function de(t,e,i){if(t.isCanvas&&t.isCanvas())return 1;if(Object(ue.isAllowCapture)(t)||!1!==t.cfg.isInView){if(t.cfg.clipShape){var n=fe(t,e,i),o=n[0],r=n[1];if(t.isClipped(o,r))return}var a=t.cfg.cacheCanvasBBox;return e>=(a=a||t.getCanvasBBox()).minX&&e<=a.maxX&&i>=a.minY&&i<=a.maxY}}var ge,ye=i(69),ve=i.n(ye),me=(ge=o.AbstractCanvas,Object(x.__extends)(be,ge),be.prototype.getDefaultCfg=function(){var t=ge.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},be.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},be.prototype.getShapeBase=function(){return n},be.prototype.getGroupBase=function(){return ot},be.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return 1<=t?Math.floor(t):1},be.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},be.prototype.initEvents=function(){var t=new ve.a({canvas:this});t.init(),this.set("eventController",t)},be.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},be.prototype.setDOMSize=function(t,e){ge.prototype.setDOMSize.call(this,t,e);var i=this.get("context"),n=this.get("el"),o=this.getPixelRatio();n.width=o*t,n.height=o*e,1<o&&i.scale(o,o)},be.prototype.clear=function(){ge.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},be.prototype.getShape=function(t,e){return this.get("quickHit")?function t(e,i,n){if(!de(e,i,n))return null;for(var o=null,r=e.getChildren(),a=r.length-1;0<=a;a--){var s,l,u,c,h=r[a];if(h.isGroup()?o=t(h,i,n):de(h,i,n)&&(u=(l=fe(s=h,i,n))[0],c=l[1],s.isInShape(u,c)&&(o=h)),o)break}return o}(this,t,e):ge.prototype.getShape.call(this,t,e,null)},be.prototype._getRefreshRegion=function(){var t,e,i,n=this.get("refreshElements"),o=this.getViewRange();return n.length&&n[0]===this?t=o:(t=J(n))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),this.get("clipView")&&(i=o,t=(e=t)&&i&&O(e,i)?{minX:Math.max(e.minX,i.minX),minY:Math.max(e.minY,i.minY),maxX:Math.min(e.maxX,i.maxX),maxY:Math.min(e.maxY,i.maxY)}:null)),t},be.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},be.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(_()(t),this.set("drawFrame",null),this.set("refreshElements",[]))},be.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},be.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),i=this.getChildren();t.clearRect(0,0,e.width,e.height),Z(t,this),K(t,i),this.set("refreshElements",[])},be.prototype._drawRegion=function(){var t=this.get("context"),e=this.getChildren(),i=this._getRefreshRegion();i&&(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),Z(t,this),K(t,e,i),t.restore()),this.set("refreshElements",[])},be.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=m()(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},be.prototype.skipDraw=function(){},be.prototype.destroy=function(){this.get("eventController").destroy(),ge.prototype.destroy.call(this)},be),xe=i(177).version;function be(){return null!==ge&&ge.apply(this,arguments)||this}},function(t,e,i){"use strict";i.r(e),i.d(e,"version",function(){return Pt}),i.d(e,"Event",function(){return r.Event}),i.d(e,"Canvas",function(){return At}),i.d(e,"Group",function(){return j}),i.d(e,"Shape",function(){return n});var n={};i.r(n),i.d(n,"Base",function(){return P}),i.d(n,"Circle",function(){return T}),i.d(n,"Dom",function(){return L}),i.d(n,"Ellipse",function(){return k}),i.d(n,"Image",function(){return E}),i.d(n,"Line",function(){return F}),i.d(n,"Marker",function(){return N}),i.d(n,"Path",function(){return Y}),i.d(n,"Polygon",function(){return G}),i.d(n,"Polyline",function(){return V}),i.d(n,"Rect",function(){return ot}),i.d(n,"Text",function(){return ut});var o=i(1),r=i(8),_=i(0),a={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},h={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function M(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function s(t){var e=a[t.type],i=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var n,o=M(e);return t.get("id")&&(o.id=t.get("id")),t.set("el",o),t.set("attrs",{}),i&&((n=i.get("el"))||(n=i.createDom(),i.set("el",n)),n.appendChild(o)),o}function v(t,e){var i=t.get("el"),n=Object(_.toArray)(i.children).sort(e),o=document.createDocumentFragment();n.forEach(function(t){o.appendChild(t)}),i.appendChild(o)}function m(t){var e=t.attr().matrix;if(e){for(var i=t.cfg.el,n=[],o=0;o<9;o+=3)n.push(e[o]+","+e[o+1]);-1===(n=n.join(",")).indexOf("NaN")?i.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)}}function x(t,e){var i,n=t.getClip(),o=t.get("el");n?n&&!o.hasAttribute("clip-path")&&(s(n),n.createPath(e),i=e.addClip(n),o.setAttribute("clip-path","url(#"+i+")")):o.removeAttribute("clip-path")}function l(e,t){t.forEach(function(t){t.draw(e)})}function u(t,e){var i,n,o,r,a,s,l,u,c,h,p,f,d,g,y=t.get("canvas");y&&y.get("autoDraw")&&(i=y.get("context"),o=(n=t.getParent())?n.getChildren():[y],r=t.get("el"),"remove"===e?t.get("isClipShape")?(s=(a=r&&r.parentNode)&&a.parentNode,a&&s&&s.removeChild(a)):r&&r.parentNode&&r.parentNode.removeChild(r):"show"===e?r.setAttribute("visibility","visible"):"hide"===e?r.setAttribute("visibility","hidden"):"zIndex"===e?(u=r,c=o.indexOf(t),p=u.parentNode,f=Array.from(p.childNodes).filter(function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()}),d=f[c],g=f.indexOf(u),d?c<g?p.insertBefore(u,d):g<c&&((h=f[c+1])?p.insertBefore(u,h):p.appendChild(u)):p.appendChild(u)):"sort"===e?(l=t.get("children"))&&l.length&&v(t,function(t,e){return l.indexOf(t)-l.indexOf(e)?1:0}):"clear"===e?r&&(r.innerHTML=""):"matrix"===e?m(t):"clip"===e?x(t,i):"attr"===e||"add"===e&&t.draw(i))}var c,p,f,d,g,y,b,O,w,C,S,j=(S=r.AbstractGroup,Object(o.__extends)(et,S),et.prototype.isEntityGroup=function(){return!0},et.prototype.createDom=function(){var t=M("g");this.set("el",t);var e,i=this.getParent();return i&&((e=i.get("el"))||(e=i.createDom(),i.set("el",e)),e.appendChild(t)),t},et.prototype.afterAttrsChange=function(t){S.prototype.afterAttrsChange.call(this,t);var e,i=this.get("canvas");i&&i.get("autoDraw")&&(e=i.get("context"),this.createPath(e,t))},et.prototype.onCanvasChange=function(t){u(this,t)},et.prototype.getShapeBase=function(){return n},et.prototype.getGroupBase=function(){return et},et.prototype.draw=function(t){var e=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),x(this,t),this.createPath(t),e.length&&l(t,e))},et.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){h[e]&&n.setAttribute(h[e],t)}),m(this)},et),A=i(65),P=(C=r.AbstractShape,Object(o.__extends)(tt,C),tt.prototype.getDefaultAttrs=function(){var t=C.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},tt.prototype.afterAttrsChange=function(t){C.prototype.afterAttrsChange.call(this,t);var e,i=this.get("canvas");i&&i.get("autoDraw")&&(e=i.get("context"),this.draw(e,t))},tt.prototype.getShapeBase=function(){return n},tt.prototype.getGroupBase=function(){return j},tt.prototype.onCanvasChange=function(t){u(this,t)},tt.prototype.calculateBBox=function(){var t,e=this.get("el"),i=null;if(e?i=e.getBBox():(t=Object(A.getBBoxMethod)(this.get("type")))&&(i=t(this)),i){var n=i.x,o=i.y,r=i.width,a=i.height,s=this.getHitLineWidth(),l=s/2,u=n-l,c=o-l;return{x:u,y:c,minX:u,minY:c,maxX:n+r+l,maxY:o+a+l,width:r+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},tt.prototype.isFill=function(){var t=this.attr(),e=t.fill,i=t.fillStyle;return(e||i||this.isClipShape())&&this.canFill},tt.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,i=t.strokeStyle;return(e||i)&&this.canStroke},tt.prototype.draw=function(t,e){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||s(this),x(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},tt.prototype.createPath=function(t,e){},tt.prototype.strokeAndFill=function(t,e){var i=e||this.attr(),n=i.fill,o=i.fillStyle,r=i.stroke,a=i.strokeStyle,s=i.fillOpacity,l=i.strokeOpacity,u=i.lineWidth,c=this.get("el");this.canFill&&(e?"fill"in i?this._setColor(t,"fill",n):"fillStyle"in i&&this._setColor(t,"fill",o):this._setColor(t,"fill",n||o),s&&c.setAttribute(h.fillOpacity,s)),this.canStroke&&0<u&&(e?"stroke"in i?this._setColor(t,"stroke",r):"strokeStyle"in i&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",r||a),l&&c.setAttribute(h.strokeOpacity,l),u&&c.setAttribute(h.lineWidth,u))},tt.prototype._setColor=function(t,e,i){var n,o=this.get("el");i?(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i)?((n=t.find("gradient",i))||(n=t.addGradient(i)),o.setAttribute(h[e],"url(#"+n+")")):/^[p,P]{1}[\s]*\(/.test(i)?((n=t.find("pattern",i))||(n=t.addPattern(i)),o.setAttribute(h[e],"url(#"+n+")")):o.setAttribute(h[e],i)):o.setAttribute(h[e],"none")},tt.prototype.shadow=function(t,e){var i,n,o,r,a,s,l=this.attr(),u=e||l,c=u.shadowOffsetX,h=u.shadowOffsetY,p=u.shadowBlur,f=u.shadowColor;(c||h||p||f)&&(n=t,r=(i=this).cfg.el,a=i.attr(),(s={dx:a.shadowOffsetX,dy:a.shadowOffsetY,blur:a.shadowBlur,color:a.shadowColor}).dx||s.dy||s.blur||s.color?(o=(o=n.find("filter",s))||n.addShadow(s),r.setAttribute("filter","url(#"+o+")")):r.removeAttribute("filter"))},tt.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&m(this)},tt.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},tt.prototype.isPointInPath=function(t,e){var i=this.get("el"),n=this.get("canvas").get("el").getBoundingClientRect(),o=t+n.left,r=e+n.top,a=document.elementFromPoint(o,r);return!(!a||!a.isEqualNode(i))},tt.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,i=t.lineAppendWidth;return this.isStroke()?e+i:0},tt),T=(w=P,Object(o.__extends)(J,w),J.prototype.getDefaultAttrs=function(){var t=w.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,r:0})},J.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){"x"===e||"y"===e?n.setAttribute("c"+e,t):h[e]&&n.setAttribute(h[e],t)})},J),L=(O=P,Object(o.__extends)(Q,O),Q.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){h[e]&&n.setAttribute(h[e],t)}),n.innerHTML=i.html},Q),k=(b=P,Object(o.__extends)($,b),$.prototype.getDefaultAttrs=function(){var t=b.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,rx:0,ry:0})},$.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){"x"===e||"y"===e?n.setAttribute("c"+e,t):h[e]&&n.setAttribute(h[e],t)})},$),E=(y=P,Object(o.__extends)(K,y),K.prototype.getDefaultAttrs=function(){var t=y.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,width:0,height:0})},K.prototype.createPath=function(t,e){var i=this,n=this.attr(),o=this.get("el");Object(_.each)(e||n,function(t,e){"img"===e?i._setImage(n.img):h[e]&&o.setAttribute(h[e],t)})},K.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},K.prototype._setImage=function(t){var e,i=this.attr(),n=this.get("el");Object(_.isString)(t)?n.setAttribute("href",t):t instanceof window.Image?(i.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),i.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src)):t instanceof HTMLElement&&Object(_.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()?n.setAttribute("href",t.toDataURL()):t instanceof ImageData&&((e=document.createElement("canvas")).setAttribute("width",""+t.width),e.setAttribute("height",""+t.height),e.getContext("2d").putImageData(t,0,0),i.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),i.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",e.toDataURL()))},K),D=i(15),B=i.n(D),F=(g=P,Object(o.__extends)(Z,g),Z.prototype.getDefaultAttrs=function(){var t=g.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Z.prototype.createPath=function(n,t){var o=this.attr(),r=this.get("el");Object(_.each)(t||o,function(t,e){var i;"startArrow"===e||"endArrow"===e?t?(i=Object(_.isObject)(t)?n.addArrow(o,h[e]):n.getDefaultArrow(o,h[e]),r.setAttribute(h[e],"url(#"+i+")")):r.removeAttribute(h[e]):h[e]&&r.setAttribute(h[e],t)})},Z.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,i=t.y1,n=t.x2,o=t.y2;return B.a.length(e,i,n,o)},Z.prototype.getPoint=function(t){var e=this.attr(),i=e.x1,n=e.y1,o=e.x2,r=e.y2;return B.a.pointAt(i,n,o,r,t)},Z),I={circle:function(t,e,i){return[["M",t,e],["m",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,2*-i,0]]},square:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e-i],["L",t+i,e+i],["L",t-i,e+i],["Z"]]},diamond:function(t,e,i){return[["M",t-i,e],["L",t,e-i],["L",t+i,e],["L",t,e+i],["Z"]]},triangle:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e+n],["L",t,e-n],["L",t+i,e+n],["z"]]},triangleDown:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e-n],["L",t+i,e-n],["L",t,e+n],["Z"]]}},R={get:function(t){return I[t]},register:function(t,e){I[t]=e},remove:function(t){delete I[t]},getAll:function(){return I}},N=(d=P,Object(o.__extends)(U,d),U.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},U.prototype._assembleMarker=function(){var t=this._getPath();return Object(_.isArray)(t)?t.map(function(t){return t.join(" ")}).join(""):t},U.prototype._getPath=function(){var t,e=this.attr(),i=e.x,n=e.y,o=e.r||e.radius,r=e.symbol||"circle";return(t=Object(_.isFunction)(r)?r:R.get(r))?t(i,n,o):(console.warn(t+" symbol is not exist."),null)},U.symbolsFactory=R,U),Y=(f=P,Object(o.__extends)(q,f),q.prototype.getDefaultAttrs=function(){var t=f.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{startArrow:!1,endArrow:!1})},q.prototype.createPath=function(n,t){var o=this,r=this.attr(),a=this.get("el");Object(_.each)(t||r,function(t,e){var i;"path"===e&&Object(_.isArray)(t)?a.setAttribute("d",o._formatPath(t)):"startArrow"===e||"endArrow"===e?t?(i=Object(_.isObject)(t)?n.addArrow(r,h[e]):n.getDefaultArrow(r,h[e]),a.setAttribute(h[e],"url(#"+i+")")):a.removeAttribute(h[e]):h[e]&&a.setAttribute(h[e],t)})},q.prototype._formatPath=function(t){var e=t.map(function(t){return t.join(" ")}).join("");return~e.indexOf("NaN")?"":e},q.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},q.prototype.getPoint=function(t){var e=this.get("el"),i=this.getTotalLength(),n=e?e.getPointAtLength(t*i):null;return n?{x:n.x,y:n.y}:null},q),G=(p=P,Object(o.__extends)(W,p),W.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){"points"===e&&Object(_.isArray)(t)&&2<=t.length?n.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):h[e]&&n.setAttribute(h[e],t)})},W),X=i(68),z=i.n(X),V=(c=P,Object(o.__extends)(H,c),H.prototype.getDefaultAttrs=function(){var t=c.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{startArrow:!1,endArrow:!1})},H.prototype.onAttrChange=function(t,e,i){c.prototype.onAttrChange.call(this,t,e,i),-1!==["points"].indexOf(t)&&this._resetCache()},H.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},H.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){"points"===e&&Object(_.isArray)(t)&&2<=t.length?n.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):h[e]&&n.setAttribute(h[e],t)})},H.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(_.isNil)(e)?(this.set("totalLength",z.a.length(t)),this.get("totalLength")):e},H.prototype.getPoint=function(i){var n,o,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(_.each)(e,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),o=e)}),B.a.pointAt(t[o][0],t[o][1],t[o+1][0],t[o+1][1],n)},H.prototype._setTcache=function(){var i,n,o,r,a,s=this.attr().points;s&&0!==s.length&&((i=this.getTotalLength())<=0||(r=0,a=[],Object(_.each)(s,function(t,e){s[e+1]&&((n=[])[0]=r/i,o=B.a.length(t[0],t[1],s[e+1][0],s[e+1][1]),r+=o,n[1]=r/i,a.push(n))}),this.set("tCache",a)))},H.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},H.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},H);function H(){var t=null!==c&&c.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}function W(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}function q(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}function U(){var t=null!==d&&d.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}function Z(){var t=null!==g&&g.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}function K(){var t=null!==y&&y.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}function $(){var t=null!==b&&b.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}function Q(){var t=null!==O&&O.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}function J(){var t=null!==w&&w.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}function tt(){var t=null!==C&&C.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}function et(){return null!==S&&S.apply(this,arguments)||this}var it,nt,ot=(nt=P,Object(o.__extends)(yt,nt),yt.prototype.getDefaultAttrs=function(){var t=nt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},yt.prototype.createPath=function(t,e){var i=this,n=this.attr(),o=this.get("el"),r=!1,a=["x","y","width","height","radius"];Object(_.each)(e||n,function(t,e){-1===a.indexOf(e)||r?-1===a.indexOf(e)&&h[e]&&o.setAttribute(h[e],t):(o.setAttribute("d",i._assembleRect(n)),r=!0)})},yt.prototype._assembleRect=function(t){var e=t.x,i=t.y,n=t.width,o=t.height,r=t.radius;if(!r)return"M "+e+","+i+" l "+n+",0 l 0,"+o+" l"+-n+" 0 z";var a,s,l,u,c,h=(a=r,c=u=l=s=0,Object(_.isArray)(a)?1===a.length?s=l=u=c=a[0]:2===a.length?(s=u=a[0],l=c=a[1]):3===a.length?(s=a[0],l=c=a[1],u=a[2]):(s=a[0],l=a[1],u=a[2],c=a[3]):s=l=u=c=a,{r1:s,r2:l,r3:u,r4:c});return Object(_.isArray)(r)?1===r.length?h.r1=h.r2=h.r3=h.r4=r[0]:2===r.length?(h.r1=h.r3=r[0],h.r2=h.r4=r[1]):3===r.length?(h.r1=r[0],h.r2=h.r4=r[1],h.r3=r[2]):(h.r1=r[0],h.r2=r[1],h.r3=r[2],h.r4=r[3]):h.r1=h.r2=h.r3=h.r4=r,[["M "+(e+h.r1)+","+i],["l "+(n-h.r1-h.r2)+",0"],["a "+h.r2+","+h.r2+",0,0,1,"+h.r2+","+h.r2],["l 0,"+(o-h.r2-h.r3)],["a "+h.r3+","+h.r3+",0,0,1,"+-h.r3+","+h.r3],["l "+(h.r3+h.r4-n)+",0"],["a "+h.r4+","+h.r4+",0,0,1,"+-h.r4+","+-h.r4],["l 0,"+(h.r4+h.r1-o)],["a "+h.r1+","+h.r1+",0,0,1,"+h.r1+","+-h.r1],["z"]].join(" ")},yt),rt=i(154),at={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},st={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},lt={left:"left",start:"left",center:"middle",right:"end",end:"end"},ut=(it=P,Object(o.__extends)(gt,it),gt.prototype.getDefaultAttrs=function(){var t=it.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},gt.prototype.createPath=function(t,e){var i=this,n=this.attr(),o=this.get("el");this._setFont(),Object(_.each)(e||n,function(t,e){"text"===e?i._setText(""+t):"matrix"===e&&t?m(i):h[e]&&o.setAttribute(h[e],t)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},gt.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),i=e.textBaseline,n=e.textAlign,o=Object(rt.detect)();o&&"firefox"===o.name?t.setAttribute("dominant-baseline",st[i]||"alphabetic"):t.setAttribute("alignment-baseline",at[i]||"baseline"),t.setAttribute("text-anchor",lt[n]||"left")},gt.prototype._setText=function(t){var e,i,n,o=this.get("el"),r=this.attr(),a=r.x,s=r.textBaseline,l=void 0===s?"bottom":s;t?~t.indexOf("\n")?(e=t.split("\n"),i=e.length-1,n="",Object(_.each)(e,function(t,e){0===e?"alphabetic"===l?n+='<tspan x="'+a+'" dy="'+-i+'em">'+t+"</tspan>":"top"===l?n+='<tspan x="'+a+'" dy="0.9em">'+t+"</tspan>":"middle"===l?n+='<tspan x="'+a+'" dy="'+-(i-1)/2+'em">'+t+"</tspan>":"bottom"===l?n+='<tspan x="'+a+'" dy="-'+(.3+i)+'em">'+t+"</tspan>":"hanging"===l&&(n+='<tspan x="'+a+'" dy="'+(-(i-1)-.3)+'em">'+t+"</tspan>"):n+='<tspan x="'+a+'" dy="1em">'+t+"</tspan>"}),o.innerHTML=n):o.innerHTML=t:o.innerHTML=""},gt),ct=i(69),ht=i.n(ct),pt=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ft=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,dt=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function gt(){var t=null!==it&&it.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}function yt(){var t=null!==nt&&nt.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}function vt(t){var e=t.match(dt);if(!e)return"";var i="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),Object(_.each)(e,function(t){t=t.split(":"),i+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),i}var mt,xt=(Ft.prototype.match=function(t,e){return this.cfg===e},Ft),bt={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},_t={x:"-40%",y:"-40%",width:"200%",height:"200%"},Mt=(Bt.prototype.match=function(t,e){if(this.type!==t)return!1;var i=!0,n=this.cfg;return Object(_.each)(Object.keys(n),function(t){if(n[t]!==e[t])return i=!1}),i},Bt.prototype.update=function(t,e){var i=this.cfg;return i[bt[t]]=e,this._parseShadow(i,this.el),this},Bt.prototype._parseShadow=function(t,e){var i='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=i},Bt),Ot=(Dt.prototype.match=function(){return!1},Dt.prototype._setDefaultPath=function(t,e){var i=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),i.setAttribute("refX",""+10*Math.cos(Math.PI/6)),i.setAttribute("refY","5")},Dt.prototype._setMarker=function(t,e){var i=this.el,n=this.cfg.path,o=this.cfg.d;Object(_.isArray)(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",n),i.appendChild(e),o&&i.setAttribute("refX",""+o/t)},Dt.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},Dt),wt=(Et.prototype.match=function(){return!1},Et.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},Et),Ct=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,St=(kt.prototype.match=function(t,e){return this.cfg===e},kt),jt=(Lt.prototype.find=function(t,e){for(var i=this.children,n=null,o=0;o<i.length;o++)if(i[o].match(t,e)){n=i[o].id;break}return n},Lt.prototype.findById=function(t){for(var e=this.children,i=null,n=0;n<e.length;n++)if(e[n].id===t){i=e[n];break}return i},Lt.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},Lt.prototype.getDefaultArrow=function(t,e){var i=t.stroke||t.strokeStyle;if(this.defaultArrow[i])return this.defaultArrow[i].id;var n=new Ot(t,e);return this.defaultArrow[i]=n,this.el.appendChild(n.el),this.add(n),n.id},Lt.prototype.addGradient=function(t){var e=new xt(t);return this.el.appendChild(e.el),this.add(e),e.id},Lt.prototype.addArrow=function(t,e){var i=new Ot(t,e);return this.el.appendChild(i.el),this.add(i),i.id},Lt.prototype.addShadow=function(t){var e=new Mt(t);return this.el.appendChild(e.el),this.add(e),e.id},Lt.prototype.addPattern=function(t){var e=new St(t);return this.el.appendChild(e.el),this.add(e),e.id},Lt.prototype.addClip=function(t){var e=new wt(t);return this.el.appendChild(e.el),this.add(e),e.id},Lt),At=(mt=r.AbstractCanvas,Object(o.__extends)(Tt,mt),Tt.prototype.getShapeBase=function(){return n},Tt.prototype.getGroupBase=function(){return j},Tt.prototype.getShape=function(t,e,i){var n=i.target||i.srcElement;if(!a[n.tagName]){for(var o=n.parentNode;o&&!a[o.tagName];)o=o.parentNode;n=o}return this.find(function(t){return t.get("el")===n})},Tt.prototype.createDom=function(){var t=M("svg"),e=new jt(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},Tt.prototype.onCanvasChange=function(t){var i,e,n=this.get("context"),o=this.get("el");"sort"===t?(i=this.get("children"))&&i.length&&v(this,function(t,e){return i.indexOf(t)-i.indexOf(e)?1:0}):"clear"===t?o&&(o.innerHTML="",(e=n.el).innerHTML="",o.appendChild(e)):"matrix"===t?m(this):"clip"===t?x(this,n):"changeSize"===t&&(o.setAttribute("width",""+this.get("width")),o.setAttribute("height",""+this.get("height")))},Tt.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();x(this,t),e.length&&l(t,e)},Tt.prototype.initEvents=function(){var t=new ht.a({canvas:this});t.init(),this.set("eventController",t)},Tt.prototype.clearEvents=function(){this.get("eventController").destroy()},Tt),Pt=i(179).version;function Tt(t){return mt.call(this,Object(o.__assign)(Object(o.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}function Lt(t){var e=M("defs"),i=Object(_.uniqueId)("defs_");e.id=i,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}function kt(t){this.cfg={};var e=M("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var i=M("image");e.appendChild(i);var n=Object(_.uniqueId)("pattern_");e.id=n,this.el=e,this.id=n,this.cfg=t;var o=Ct.exec(t)[2];i.setAttribute("href",o);var r=new Image;function a(){e.setAttribute("width",""+r.width),e.setAttribute("height",""+r.height)}return o.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=o,r.complete?a():(r.onload=a,r.src=r.src),this}function Et(t){this.type="clip",this.cfg={};var e=M("clipPath");this.el=e,this.id=Object(_.uniqueId)("clip_"),e.id=this.id;var i=t.cfg.el;return e.appendChild(i),this.cfg=t,this}function Dt(t,e){this.cfg={};var i=M("marker"),n=Object(_.uniqueId)("marker_");i.setAttribute("id",n);var o=M("path");o.setAttribute("stroke",t.stroke||"none"),o.setAttribute("fill",t.fill||"none"),i.appendChild(o),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto-start-reverse"),this.el=i,this.child=o,this.id=n;var r=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===r?this._setDefaultPath(e,o):(this.cfg=r,this._setMarker(t.lineWidth,o)),this}function Bt(t){this.type="filter",this.cfg={};var i=M(this.type="filter");return Object(_.each)(_t,function(t,e){i.setAttribute(e,t)}),this.el=i,this.id=Object(_.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,i),this}function Ft(t){this.cfg={};var e,i,n,o,r,a,s,l,u,c,h,p,f,d,g,y,v,m,x=null,b=Object(_.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?(l=t,u=x=M("linearGradient"),h=pt.exec(l),p=Object(_.mod)(Object(_.toRadian)(parseFloat(h[1])),2*Math.PI),f=h[2],d=0<=p&&p<.5*Math.PI?(c={x:0,y:0},{x:1,y:1}):.5*Math.PI<=p&&p<Math.PI?(c={x:1,y:0},{x:0,y:1}):Math.PI<=p&&p<1.5*Math.PI?(c={x:1,y:1},{x:0,y:0}):(c={x:0,y:1},{x:1,y:0}),g=Math.tan(p),y=g*g,v=(d.x-c.x+g*(d.y-c.y))/(1+y)+c.x,m=g*(d.x-c.x+g*(d.y-c.y))/(1+y)+c.y,u.setAttribute("x1",c.x),u.setAttribute("y1",c.y),u.setAttribute("x2",v),u.setAttribute("y2",m),u.innerHTML=vt(f)):(e=t,i=x=M("radialGradient"),n=ft.exec(e),o=parseFloat(n[1]),r=parseFloat(n[2]),a=parseFloat(n[3]),s=n[4],i.setAttribute("cx",o),i.setAttribute("cy",r),i.setAttribute("r",a),i.innerHTML=vt(s)),x.setAttribute("id",b),this.el=x,this.id=b,this.cfg=t,this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiplyMatrix=function(t,e){var i=[],n=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=e[0],f=e[1],d=e[2],g=e[3],y=e[4],v=e[5],m=e[6],x=e[7],b=e[8];return i[0]=p*n+f*a+d*u,i[1]=p*o+f*s+d*c,i[2]=p*r+f*l+d*h,i[3]=g*n+y*a+v*u,i[4]=g*o+y*s+v*c,i[5]=g*r+y*l+v*h,i[6]=m*n+x*a+b*u,i[7]=m*o+x*s+b*c,i[8]=m*r+x*l+b*h,i},e.multiplyVec2=function(t,e){var i=[],n=e[0],o=e[1];return i[0]=t[0]*n+t[3]*o+t[6],i[1]=t[1]*n+t[4]*o+t[7],i},e.invert=function(t){var e=[],i=t[0],n=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=c*a-s*u,p=-c*r+s*l,f=u*r-a*l,d=i*h+n*p+o*f;return d?(d=1/d,e[0]=h*d,e[1]=(-c*n+o*u)*d,e[2]=(s*n-o*a)*d,e[3]=p*d,e[4]=(c*i-o*l)*d,e[5]=(-s*i+o*r)*d,e[6]=f*d,e[7]=(-u*i+n*l)*d,e[8]=(a*i-n*r)*d,e):null}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(7);e.timeIntervals={second:{value:1e3,format:"HH:mm:ss"},miniute:{value:6e4,format:"HH:mm"},hour:{value:36e5,format:"HH"},day:{value:864e5,format:"YYYY-MM-DD"},week:{value:6048e5,format:"YYYY-MM-DD"},month:{value:2592e6,format:"YYYY-MM"},year:{value:31536e6,format:"YYYY"}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(26);e.nearestPoint=function(t,e,i,n,o){for(var r,a=.005,s=1/0,l=[i,n],u=0;u<=20;u++){var c=.05*u,h=[o.apply(null,t.concat([c])),o.apply(null,e.concat([c]))];(v=m.distance(l[0],l[1],h[0],h[1]))<s&&(r=c,s=v)}if(0===r)return{x:t[0],y:e[0]};if(1===r){var p=t.length;return{x:t[p-1],y:e[p-1]}}for(s=1/0,u=0;u<32&&!(a<1e-4);u++){var f,d,g=r-a,y=r+a,v=(h=[o.apply(null,t.concat([g])),o.apply(null,e.concat([g]))],m.distance(l[0],l[1],h[0],h[1]));0<=g&&v<s?(r=g,s=v):(f=[o.apply(null,t.concat([y])),o.apply(null,e.concat([y]))],d=m.distance(l[0],l[1],f[0],f[1]),y<=1&&d<s?(r=y,s=d):a*=.5)}return{x:o.apply(null,t.concat([r])),y:o.apply(null,e.concat([r]))}},e.snapLength=function(t,e){for(var i=0,n=t.length,o=0;o<n;o++){var r=t[o],a=e[o],s=t[(o+1)%n],l=e[(o+1)%n];i+=m.distance(r,a,s,l)}return i/2}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var w=i(43),C=i(42);function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function S(t,e){return n(t)*n(e)?(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e)):1}function j(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(S(t,e))}function A(t,e){return t[0]===e[0]&&t[1]===e[1]}e.isSamePoint=A,e.default=function(t,e){var i=e[1],n=e[2],o=w.default(C.default(e[3]),2*Math.PI),r=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],h=Math.cos(o)*(s-u)/2+Math.sin(o)*(l-c)/2,p=-1*Math.sin(o)*(s-u)/2+Math.cos(o)*(l-c)/2,f=h*h/(i*i)+p*p/(n*n);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f));var d=i*i*(p*p)+n*n*(h*h),g=d?Math.sqrt((i*i*(n*n)-d)/d):1;r===a&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*i*p/n:0,v=i?g*-n*h/i:0,m=(s+u)/2+Math.cos(o)*y-Math.sin(o)*v,x=(l+c)/2+Math.sin(o)*y+Math.cos(o)*v,b=[(h-y)/i,(p-v)/n],_=[(-1*h-y)/i,(-1*p-v)/n],M=j([1,0],b),O=j(b,_);return S(b,_)<=-1&&(O=Math.PI),1<=S(b,_)&&(O=0),0===a&&0<O&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:x,rx:A(t,[u,c])?0:i,ry:A(t,[u,c])?0:n,startAngle:M,endAngle:M+O,xRotation:o,arcFlag:r,sweepFlag:a}}},function(t,e,i){"use strict";var n,o,r,a,s;Object.defineProperty(e,"__esModule",{value:!0}),(s=e.LAYER||(e.LAYER={})).FORE="fore",s.MID="mid",s.BG="bg",(a=e.DIRECTION||(e.DIRECTION={})).TOP="top",a.TOP_LEFT="top-left",a.TOP_RIGHT="top-right",a.RIGHT="right",a.RIGHT_TOP="right-top",a.RIGHT_BOTTOM="right-bottom",a.LEFT="left",a.LEFT_TOP="left-top",a.LEFT_BOTTOM="left-bottom",a.BOTTOM="bottom",a.BOTTOM_LEFT="bottom-left",a.BOTTOM_RIGHT="bottom-right",a.NONE="none",(r=e.COMPONENT_TYPE||(e.COMPONENT_TYPE={})).AXIS="axis",r.GRID="grid",r.LEGEND="legend",r.TOOLTIP="tooltip",r.ANNOTATION="annotation",r.OTHER="other",e.GROUP_Z_INDEX={FORE:3,MID:2,BG:1},(o=e.VIEW_LIFE_CIRCLE||(e.VIEW_LIFE_CIRCLE={})).BEFORE_RENDER="beforerender",o.AFTER_RENDER="afterrender",o.BEFORE_PAINT="beforepaint",o.AFTER_PAINT="afterpaint",o.BEFORE_CHANGE_DATA="beforechangedata",o.AFTER_CHANGE_DATA="afterchangedata",o.BEFORE_CLEAR="beforeclear",o.AFTER_CLEAR="afterclear",o.BEFORE_DESTROY="beforedestroy",(n=e.PLOT_EVENTS||(e.PLOT_EVENTS={})).MOUSE_ENTER="plot:mouseenter",n.MOUSE_DOWN="plot:mousedown",n.MOUSE_MOVE="plot:mousemove",n.MOUSE_UP="plot:mouseup",n.MOUSE_LEAVE="plot:mouseleave",n.TOUCH_START="plot:touchstart",n.TOUCH_MOVE="plot:touchmove",n.TOUCH_END="plot:touchend",n.TOUCH_CANCEL="plot:touchcancel",n.CLICK="plot:click",n.DBLCLICK="plot:dblclick",n.CONTEXTMENU="plot:contextmenu",n.LEAVE="plot:leave",n.ENTER="plot:enter",e.GROUP_ATTRS=["color","shape","size"],e.FIELD_ORIGIN="_origin",e.MIN_CHART_WIDTH=1,e.MIN_CHART_HEIGHT=1,e.COMPONENT_MAX_VIEW_PERCENTAGE=.25},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerSymbols={hexagon:function(t,e,i){var n=i/2*Math.sqrt(3);return[["M",t,e-i],["L",t+n,e-i/2],["L",t+n,e+i/2],["L",t,e+i],["L",t-n,e+i/2],["L",t-n,e-i/2],["Z"]]},bowtie:function(t,e,i){var n=i-1.5;return[["M",t-i,e-n],["L",t+i,e+n],["L",t+i,e-n],["L",t-i,e+n],["Z"]]},cross:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e+i],["M",t+i,e-i],["L",t-i,e+i]]},tick:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},plus:function(t,e,i){return[["M",t-i,e],["L",t+i,e],["M",t,e-i],["L",t,e+i]]},hyphen:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},line:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0);function a(t,e,i,n){return{x:t,y:e,width:i,height:n,minX:t,minY:e,maxX:t+i,maxY:e+n}}function s(t,e,i){return(1-i)*t+e*i}function l(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}function u(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY);return a(i,n,Math.min(t.maxX,e.maxX)-i,Math.min(t.maxY,e.maxY)-n)}e.formatPadding=function(t){var e=0,i=0,n=0,o=0;return r.isNumber(t)?e=i=n=o=t:r.isArray(t)&&(e=t[0],n=r.isNil(t[1])?t[0]:t[1],o=r.isNil(t[2])?t[0]:t[2],i=r.isNil(t[3])?n:t[3]),[e,n,o,i]},e.clearDom=function(t){for(var e=t.childNodes,i=e.length-1;0<=i;i--)t.removeChild(e[i])},e.hasClass=function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},e.regionToBBox=function(t){var e=t.start,i=t.end,n=Math.min(e.x,i.x),o=Math.min(e.y,i.y),r=Math.max(e.x,i.x),a=Math.max(e.y,i.y);return{x:n,y:o,minX:n,minY:o,maxX:r,maxY:a,width:r-n,height:a-o}},e.pointsToBBox=function(t){var e=t.map(function(t){return t.x}),i=t.map(function(t){return t.y}),n=Math.min.apply(Math,e),o=Math.min.apply(Math,i),r=Math.max.apply(Math,e),a=Math.max.apply(Math,i);return{x:n,y:o,minX:n,minY:o,maxX:r,maxY:a,width:r-n,height:a-o}},e.createBBox=a,e.getValueByPercent=s,e.getCirclePoint=function(t,e,i){return{x:t.x+Math.cos(i)*e,y:t.y+Math.sin(i)*e}},e.distance=l,e.wait=function(e){return new Promise(function(t){setTimeout(t,e)})},e.near=function(t,e){return[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<Math.pow(Number.EPSILON,.5)},e.intersectBBox=u,e.mergeBBox=function(t,e){var i=Math.min(t.minX,e.minX),n=Math.min(t.minY,e.minY);return a(i,n,Math.max(t.maxX,e.maxX)-i,Math.max(t.maxY,e.maxY)-n)},e.getBBoxWithClip=function c(t){var h,p,f,d,e,i=t.getClip(),n=i&&i.getBBox(),o=t.isGroup()?(f=h=1/0,d=p=-1/0,0<(e=t.getChildren()).length?r.each(e,function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=c(t),i=t.applyToMatrix([e.minX,e.minY,1]),n=t.applyToMatrix([e.minX,e.maxY,1]),o=t.applyToMatrix([e.maxX,e.minY,1]),r=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(i[0],n[0],o[0],r[0]),s=Math.max(i[0],n[0],o[0],r[0]),l=Math.min(i[1],n[1],o[1],r[1]),u=Math.max(i[1],n[1],o[1],r[1]);a<h&&(h=a),p<s&&(p=s),l<f&&(f=l),d<u&&(d=u)}}):d=f=p=h=0,a(h,f,p-h,d-f)):t.getBBox();return n?u(o,n):o},e.updateClip=function(t,e){var i,n;(t.getClip()||e.getClip())&&((i=e.getClip())?(n={type:i.get("type"),attrs:i.attr()},t.setClip(n)):t.setClip(null))},e.toPx=function(t){return t+"px"},e.getTextPoint=function(t,e,i,n){var o=n/l(t,e),r=0;return"start"===i?r=0-o:"end"===i&&(r=1+o),{x:s(t.x,e.x,r),y:s(t.y,e.y,r)}}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});var o=i(199),r=i(30);e.default=((n={})[""+r.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:o.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},n[""+r.TITLE_CLASS]={marginBottom:"4px"},n[""+r.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},n[""+r.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},n[""+r.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},n[""+r.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},n[""+r.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},n[""+r.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),l=i(38),r=n.__importDefault(i(10)),a=(s.prototype.getBBox=function(){var i=this;if(this.shape){var t=this.shape.getBBox();if(0===this.index)return r.default.fromBBoxObject(t);var n=this.plot.theme.description.padding;return o.isArray(n)&&o.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.plot.options.legend.position))}),new r.default(t.maxX,t.minY,t.width,t.height)}return null},s.prototype.clear=function(){this.shape&&this.shape.attr("text","")},s.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},s.prototype.init=function(){var t=this.textWrapper(),e=this.getPosition(),i=e.x,n=e.y;this.shape=this.container.addShape("text",{attrs:o.mix({x:i,y:n,text:t},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},s.prototype.getPosition=function(){return"left"===this.alignTo?{x:this.leftMargin,y:this.topMargin}:"middle"===this.alignTo?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},s.prototype.getTextAlign=function(){return"left"===this.alignTo?"left":"middle"===this.alignTo?"center":"right"},s.prototype.textWrapper=function(){var a=this.wrapperWidth,t=this.style,e=this.text,s=this.container.addShape("text",{attrs:n.__assign({text:"",x:0,y:0},t)}),i=e.split("\n").map(function(t){for(var e="",i=t.split(""),n=[],o=0;o<i.length;o++){var r=i[o];if(s.attr("text",e+=r),s.getBBox().width-1>a){if(0===o)break;n.push(o),e=""}}return l.breakText(i,n)});return s.remove(),i.join("\n")},s);function s(t){this.position="top",this.destroyed=!1,o.assign(this,t),this.init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.combineFormatter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,i,n){return e.reduce(function(t,e){return e(t,i,n)},t)}},e.getNoopFormatter=function(){return function(t){return t}},e.getPrecisionFormatter=function(i){return function(t){var e=Number(t);return isNaN(e)||n.isNil(i)?t:e.toFixed(i)}},e.getSuffixFormatter=function(e){return function(t){return n.isNil(e)?t:t+" "+e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=o.__importDefault(i(28)),a=i(0),s=(n=r.default,o.__extends(l,n),l.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},l.prototype.getState=function(t){return this._states[t]},l.prototype.getAllStates=function(){return this._states},l.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},l.prototype._onUpdate=function(){var n=this,o=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){a.each(o,function(t,e){var i=o[e];n._states[e]&&n._states[e]===t||(n._states[e]=t,n._triggerEvent(e,i))}),n._stateStack={}},16)},l.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},l);function l(){var t=n.call(this)||this;return t._states={},t._stateStack={},t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(0);e.getDataByScaleRange=function(t,e,i,n,o){var r=n[0],a=n[1];void 0===o&&(o=!1);var s=u.groupBy(i,t),l=o?e.slice(e.length-a,e.length-r):e.slice(r,a);return u.flatten(u.map(l,function(t){return s[t]||[]}))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(118),r=i(215),a={default:o.DEFAULT_GLOBAL_THEME,dark:r.DEFAULT_DARK_THEME};function s(t){return void 0===t&&(t="default"),a[t.toLowerCase()]||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",t),o.DEFAULT_GLOBAL_THEME)}e.registerGlobalTheme=function(t,e){var i=s();a[t.toLowerCase()]=n.deepMix({},i,e)},e.getGlobalTheme=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COLOR_PLATE_10=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],e.COLOR_PLATE_20=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"];var n=i(0);e.DESCRIPTION_BOTTOM_MARGIN=function(t){return t&&"top"===t.split("-")[0]?12:24},e.TOP_BLEEDING=function(t){var e=t.title&&t.title.visible,i=t.description&&t.description.visible;return e||i?12:24},e.BOTTOM_BLEEDING=function(t){return n.some(t.interactions||[],function(t){return("slider"===t.type||"scrollbar"===t.type)&&"vertical"!==(t.cfg&&t.cfg.type)})?8:24},e.DEFAULT_GLOBAL_THEME={width:400,height:400,bleeding:[e.TOP_BLEEDING,24,e.BOTTOM_BLEEDING,24],padding:"auto",defaultColor:"#5B8FF9",colors:e.COLOR_PLATE_10,colors_20:e.COLOR_PLATE_20,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,e.DESCRIPTION_BOTTOM_MARGIN,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=(n=o.__importDefault(i(45)).default,o.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},s.prototype.parseColor=function(){var t,e=this.plot.options,i={},n=this._getColorMappingField();n&&(i.fields=n),r.has(e,"color")&&(t=e.color,r.isString(t)?i.values=[t]:r.isFunction(t)?i.callback=t:r.isArray(t)&&(n?i.values=t:0<t.length&&(i.values=[t[0]]))),this.config.color=i},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,i={};r.isFunction(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},s.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=["stackField","seriesField"];e<i.length;e++){var n=i[e];if(r.get(t,n))return[t[n]]}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(7),l=i(0),u=i(20),r=i(81),a=n.__importDefault(i(82)),c=i(11);o.registerShape("line","miniLine",{draw:function(t,e){for(var i=u.lineSimplification(t.points),n=[],o=0;o<i.length;o++){var r=i[o],a=0===o?"M":"L";n.push([a,r.x,r.y])}var s=l.deepMix({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:l.mix({path:n,stroke:t.color||c.getGlobalTheme().defaultColor,lineWidth:t.size||2},s)})}}),o.registerShape("line","miniLineSmooth",{draw:function(t,e){var i=u.lineSimplification(t.points),n=r.getSplinePath(i,!1,[[0,0],[1,1]]);return e.addShape("path",{attrs:l.mix({path:n,stroke:t.color||c.getGlobalTheme().defaultColor,lineWidth:t.size||2},t.style)})}});var s,h=(s=a.default,n.__extends(p,s),p.prototype.init=function(){s.prototype.init.call(this),this.parseShape()},p.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},p);function p(){return null!==s&&s.apply(this,arguments)||this}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(0),o=n.__importStar(i(20)),r=(s.prototype.measure=function(t){return a.deepMix({},o.bboxOnRotate(t),{shape:t})},s.prototype.measureNodes=function(){var n=this,o=[],r=[];a.each(this.shapes,function(t,e){var i=a.deepMix({},n.nodes[e],n.measure(t));0!==i.width&&0!==i.height&&(o.push(i),r.push(t))}),this.nodes=o,this.shapes=r},s.prototype._parserNodes=function(){var i=this;a.each(this.shapes,function(t){var e=i.measure(t);i.nodes.push(e)})},s);function s(t){this.type="shape",this.shapes=t.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=a.deepMix([],this.nodes)}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(123),a=i(124),r=(s.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},s.prototype._iteration=function(){var t;"shape"===(this.nodes.type,(t=this.nodes).type)&&t.measureNodes(),this.rules&&this._applyRules(),"shape"===t.type&&t.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},s.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},s.prototype._run=function(){for(var t=this._constraintsTest();!(t||this.iterationIndex>this.iterationTime-1);)this._iteration(),t=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},s.prototype._constraintsTest=function(){var t=o.constraintsLib[this.currentConstraint.name],e=this.currentConstraint.option;return"compare"===t.usage?this._constraintCompare(t,e):this._constraintAssignment(t,e)},s.prototype._constraintCompare=function(t,e){var i=t.type,n=t.expression,o=this.nodes.nodes;return"chain"===i?this._chainConstraintCompare(n,o,e):"padding"===i?this._paddingConstraintCompare(n,this.region,o,e):"group"===i?this._groupConstraintCompare(n,o,e):void 0},s.prototype._chainConstraintCompare=function(t,e,i){for(var n=0;n<e.length-1;n++)if(!1===t(e[n],e[n+1],i))return!1;return!0},s.prototype._paddingConstraintCompare=function(t,e,i,n){if(e)for(var o=0,r=i;o<r.length;o++)if(!1===t(r[o],e,n))return!1;return!0},s.prototype._groupConstraintCompare=function(t,e,i){for(var n=0;n<e.length;n++)for(var o=e[n],r=0;r<e.length;r++)if(r!==n&&!1===t(o,e[r],i))return!1;return!0},s.prototype._constraintAssignment=function(t,e){var i=t.type,n=t.expression,o=this.nodes.nodes;return"chain"===i?this._chainConstraintAssign():"padding"===i?this._paddingConstraintAssign(n,this.region,o,e):void 0},s.prototype._chainConstraintAssign=function(){return!0},s.prototype._paddingConstraintAssign=function(t,e,i,n){if(e)for(var o=0,r=i;o<r.length;o++){var a=r[o],s=t(a,e,n);a.value=s}return!0},s.prototype._applyRules=function(){for(var t=this.rules[this.currentConstraint.name][this.iterationIndex],e=a.rulesLib[t.name],i=t.option?t.option:{},n=this.nodes.nodes,o=0;o<n.length;o++){var r=n[o];this._applyRule(r.shape,e,i,o)}},s.prototype._applyRule=function(t,e,i,n){e(t,i,n,{nodes:this.nodes,region:this.region,plot:this.plot})},s);function s(t){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,n.assign(this,t),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}e.default=r},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1),o=n.__importDefault(e(237)),r=n.__importDefault(e(238)),a=n.__importDefault(e(239)),s=n.__importDefault(e(240)),l=n.__importDefault(e(241)),u=n.__importDefault(e(242)),c=n.__importDefault(e(243));i.constraintsLib={elementDist:a.default,elementDistVertical:s.default,elementCollision:r.default,elementWidth:l.default,columnWidth:o.default,ringThickness:c.default,minRingThickness:u.default},i.registerResponsiveConstraint=function(t,e){i.constraintsLib[t]=e}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1),o=n.__importDefault(e(125)),r=n.__importDefault(e(126)),a=n.__importDefault(e(127)),s=n.__importDefault(e(244)),l=n.__importDefault(e(245)),u=n.__importDefault(e(128)),c=n.__importDefault(e(246)),h=n.__importDefault(e(247)),p=n.__importDefault(e(248)),f=n.__importDefault(e(249)),d=n.__importDefault(e(129)),g=n.__importDefault(e(40)),y=n.__importDefault(e(250)),v=n.__importDefault(e(251));i.rulesLib={textWrapper:v.default,textRotation:y.default,textAbbreviate:d.default,textHide:g.default,digitsAbbreviate:a.default,datetimeStringAbbrevaite:r.default,robustAbbrevaite:f.default,nodesResampling:u.default,nodesResamplingByAbbrevate:c.default,nodesResamplingByChange:h.default,nodesResamplingByState:p.default,nodeJitter:s.default,nodeJitterUpward:l.default,clearOverlapping:o.default},i.registerResponsiveRule=function(t,e){i.rulesLib[t]=e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),c=i(0),h=n.__importDefault(i(40));function p(t,e){return!(t.bottom<e.top||e.bottom<t.top||t.right<e.left||e.right<t.left)}e.default=function(t,e,i,n){var o=n.nodes.nodes,r=o[i],a=[];if(!r.shape.get("blank"))for(var s=0;s<o.length;s++){var l=o[s],u=l.shape;s===i||u.get("blank")||p(r,l)&&a.push(l)}0<a.length&&(a.push(r),a.sort(function(t,e){return e.top-t.top}),c.each(a,function(t,e){var i;0<e&&(i=t.shape,h.default(i),i.set("blank",!0))}))},e.isNodeOverlap=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),x=n.__importDefault(i(33));function b(t,e){var i,n=Math.abs(t-e),o={minute:[6e4,36e5],hour:[36e5,864e5],day:[864e5,26784e5],month:[26784e5,31536e6],year:[31536e6,1/0]};return r.each(o,function(t,e){n>=t[0]&&n<t[1]&&(i=e)}),i}function _(t,e){return"year"===e?t.getFullYear():"month"===e?t.getMonth()+1:"day"===e?t.getDay()+1:"hour"===e?t.getHours()+1:"minute"===e?t.getMinutes()+1:void 0}e.default=function(t,e,i,n){var o,r,a,s,l=n.nodes.nodes,u=i===l.length-1?l[i-1].shape.get("delegateObject").item.name:l[i+1].shape.get("delegateObject").item.name,c=new Date(u),h=t.get("delegateObject").item.name,p=new Date(h),f=l[0].shape.get("delegateObject").item.name,d=new Date(f),g=l[l.length-1].shape.get("delegateObject").item.name,y=b(d,new Date(g)),v=b(p,c);if(y!==v){if(0!==i){var m=l[i-1].shape.get("delegateObject").item.name;if(r=y,a=p,s=new Date(m),_(a,r)===_(s,r))return o=function(t){for(var e=["year","month","day","hour","minute"],i=["YYYY","MM","DD","HH","MM"],n=e.indexOf(y)+1,o=e.indexOf(t),r="",a=n;a<=o;a++)r+=i[a],a<o&&(r+="-");return r}(v),void t.attr("text",x.default.format(p,o))}}else 0!==i&&i!==l.length-1&&(o=["YYYY","MM","DD","HH","MM"][["year","month","day","hour","minute"].indexOf(y)],t.attr("text",x.default.format(p,o)))},e.isTime=function(t){return/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/.test(t)||/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/.test(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(0),d=i(20),g={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function y(t,e){var i,n,o,r;return"auto"===t.unit?(n=["k","m","b","t"][(i=Math.floor(Math.log(e)/Math.log(1e3)))-1],o=(e/Math.pow(1e3,i)).toFixed(t.decimal)):t.unit&&(r=g[t.unit],n=t.unit,o=(e/r.number).toFixed(t.decimal)),{num:o,unitname:n}}e.default=function(t,e,i,n){var o,r,a,s,l,u,c,h,p;f.has(n,"node")&&f.has(n.node,"node")&&(o=n.nodes.nodes,0!==(r=parseFloat(t.get("origin").text))&&(e.formatter?t.attr("text",e.formatter(r)):(e.unit?(c=(a=y(e,r)).num,s=a.unitname):(p=[],f.each(o,function(t){var e=parseFloat(t.shape.get("origin").text);p.push(e)}),l=p,h=d.getMedian(l),s=["k","m","b","t"][Math.floor(Math.log(h)/Math.log(1e3))-1],u=g[s].number,c=y({unit:s,decimal:function(t,e){var i=Math.floor(Math.log10(e));if(!(e<=t)){var n=Math.floor(Math.log10(t));return Math.abs(n-i)}var o=t%e;if(0<o){var r=Math.floor(Math.log10(o));return Math.abs(r-i)}return 0}(function(t){if(2<=t.length){var e=parseFloat(t[0].shape.get("origin").text),i=parseFloat(t[1].shape.get("origin").text);return Math.abs(e-i)}return 0}(o),u)},r).num),t.attr("text",c+s))))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(0),s=n.__importDefault(i(40));function l(t,e,i){var n=[];a.each(t,function(t){"start"===t?n.push(0===e):"end"===t?n.push(e===i.length-1):a.isNumber(t)&&n.push(e===t)});for(var o=0,r=n;o<r.length;o++)if(!0===r[o])return!0;return!1}e.default=function(t,e,i,n){var o,r=n.nodes.nodes,a=r.length%2!=0;l(e.keep,i,r)||(o=i%2==0,(!a&&o||a&&!o)&&s.default(t))},e.isKeep=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i,n=e.abbreviateBy?e.abbreviateBy:"end",o=t.attr("text");"end"===n&&(i=o[0]+"..."),"start"===n&&(i="..."+o[o.length-1]),"middle"===n&&(i=o[0]+"..."+o[o.length-1]),t.resetMatrix(),t.attr({text:i,textAlign:"center",textBaseline:"top"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=(r.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},r);function r(t){n.assign(this,t),this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),a=o.__importDefault(i(121)),s=o.__importDefault(i(122)),r=o.__importDefault(i(130)),l=i(0),u=(n=r.default,o.__extends(c,n),c.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},c.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];l.each(t,function(t){e.push(t.get("children")[0])});var i=new a.default({shapes:e}),n=this.responsiveTheme.label[this.type],o=n.constraints,r=n.rules;new s.default({nodes:i,constraints:o,rules:r,plot:this.plot,region:this.plot.view.coordinateBBox})},c.prototype.getType=function(){return null},c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),p=i(0),r=i(16),a=o.__importDefault(i(83)),f=i(7),d=i(23),g=o.__importDefault(i(10)),s=(n=a.default,o.__extends(l,n),l.prototype.layoutLabels=function(o,t){var e,r=this,a=[],s=g.default.fromBBoxObject(this.getCoordinateBBox()),i=o.getXYFields(),l=i[0],u=i[1],c=p.groupBy(t,function(t){return t.get(f.ORIGIN)[f.FIELD_ORIGIN][l]}),h=null===(e=t[0])||void 0===e?void 0:e.get("offset");p.each(p.keys(c).reverse(),function(t){for(var e=r.sortLabels(o,c[t]);e.length;){var i,n=e.shift();d.checkOriginEqual(n,a,function(t,e){return t._origin[l]===e._origin[l]&&t._origin[u]===e._origin[u]})?n.set("visible",!1):(d.moveInPanel(n,s),i=void 0,d.checkShapeOverlap(n,a)&&(n.attr("y",n.attr("y")+2*h),d.moveInPanel(n,s),i=d.checkShapeOverlap(n,a)),i?n.set("visible",!1):a.push(n))}})},l.prototype.sortLabels=function(t,e){var i=t.getXYFields()[1],n=[];return e.sort(function(t,e){return e.get(f.ORIGIN)[f.FIELD_ORIGIN][i]-t.get(f.ORIGIN)[f.FIELD_ORIGIN][i]}),0<e.length&&n.push(e.shift()),0<e.length&&n.push(e.pop()),n.push.apply(n,e),n},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,r.registerLabelComponent("point-auto",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(0),n=(o.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},o.prototype.render=function(){var l=this,t=this.getGeometry().elements;u.each(t,function(t){var e=l.getShapeInfo(t.shape),i=l.options,n=i.style,o=i.offsetX,r=i.offsetY,a=l.options.formatter,s=a?a(e.name):e.name;l.container.addShape("text",{attrs:u.deepMix({},{x:e.x+o,y:e.y+r,text:s,fill:e.color,textAlign:"left",textBaseline:"middle"},n),name:"label"})})},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getBBox=function(){return this.container.getBBox()},o.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=u.clone(t.label.style);return delete e.fill,{offsetX:8,offsetY:0,style:e}},o.prototype.getGeometry=function(){return u.find(this.view.geometries,function(t){return"line"===t.type})},o.prototype.getShapeInfo=function(t){var e=t.get("origin").points,i=e[e.length-1],n=t.attr("stroke"),o=this.plot.options.seriesField,r=t.get("origin").data[0][o];return{x:i.x,y:i.y,color:n,name:r}},o);function o(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=u.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=i(1),o=i(52),r=i(0);function l(t,e){var i=[],n=t.get("origin").points;return r.each(n,function(t){i.push(e.convertPoint(t))}),i}var n=(a.getDefaultOptions=function(t){var e=t.transpose;return{visible:!0,size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}},animation:r.deepMix({},o.DEFAULT_ANIMATE_CFG)}},a.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",function(){t.clear()})},a.prototype.draw=function(){var i,n,o,r,a=this,t=this.transpose,s=this.view.getScaleByField(this.field).values,e=this.view.geometries[0].getShapes();t?e.forEach(function(t,e){n=s[e],0<e++&&a._drawTag(o,r,t,n),r=n,o=t}):e.forEach(function(t,e){r=s[e],0<e++&&a._drawTag(t,r,i,n),n=r,i=t})},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.remove()},a.prototype._drawTag=function(t,e,i,n){var o=this.transpose,r=this.view.geometries[0].coordinate,a=l(t,r)[o?3:0],s=l(i,r)[o?0:3];this._drawTagArrow(a,s),this._drawTagValue(a,e,s,n)},a.prototype._drawTagArrow=function(t,e){var i=this.spacing,n=this.size,o=this.offset,r=this.animation,a=this.transpose,s=this.arrow.headSize,l=e.y-t.y,u=e.x-t.x,c=a?(u-s)/2<i?(i=Math.max(1,(u-s)/2),[[t.x+i,t.y-o],[t.x+i,t.y-o-n],[e.x-i,e.y-o-n/2]]):[[t.x+i,t.y-o],[t.x+i,t.y-o-n],[e.x-i-s,e.y-o-n],[e.x-i,e.y-o-n/2],[e.x-i-s,e.y-o]]:(l-s)/2<i?(i=Math.max(1,(l-s)/2),[[t.x+o,t.y+i],[t.x+o+n,t.y+i],[e.x+o+n/2,e.y-i]]):[[t.x+o,t.y+i],[t.x+o+n,t.y+i],[e.x+o+n,e.y-i-s],[e.x+o+n/2,e.y-i],[e.x+o,e.y-i-s]],h=this.container.addShape("polygon",{name:"arrow",attrs:g.__assign(g.__assign({},this.arrow.style),{points:c})});!1!==r&&this._fadeInTagShape(h)},a.prototype._drawTagValue=function(t,e,i,n){var o,r,a,s,l,u=this.size,c=this.offset,h=this.animation,p=this.transpose,f=this.value.formatter(e,n),d=this.container.addShape("text",{name:"value",attrs:g.__assign(g.__assign({},this.value.style),{text:f,x:p?(t.x+i.x)/2:t.x+c+u/2,y:p?t.y-c-u/2:(t.y+i.y)/2,textAlign:"center",textBaseline:"middle"})});!p||(o=i.x-t.x)<(r=d.getBBox().width)&&(a=r/f.length,s=Math.max(1,Math.ceil(o/a)-1),l=f.slice(0,s)+"...",d.attr("text",l)),!1!==h&&this._fadeInTagShape(d)},a.prototype._fadeInTagShape=function(t){var e=this.animation,i=t.attr("opacity");t.attr("opacity",0);var n=r.get(e,"appear",o.DEFAULT_ANIMATE_CFG.appear).duration;t.animate({opacity:i},n)},a);function a(t){r.deepMix(this,this.constructor.getDefaultOptions(t),t),this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),h=i(0),r=i(16),p=i(7),a=o.__importDefault(i(85)),f=i(23),d=o.__importDefault(i(10)),g=i(24),s=(n=a.default,o.__extends(l,n),l.prototype.getPosition=function(t){var e=this.getDefaultOffset(),i=this.getValue(t),n=this.getElementShapeBBox(t),o=n.minX,r=n.maxX,a=n.minY,s=n.height,l=this.options;return{x:(0<i?r:o)+e*(i<0?-1:1)+l.offsetX,y:a+s/2+l.offsetY}},l.prototype.getTextAlign=function(t){return 0<this.getValue(t)?"left":"right"},l.prototype.getTextFill=function(t){return this.options.style.fill},l.prototype.getTextStroke=function(t){},l.prototype.adjustLabel=function(t,e){},l.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},l.prototype.shouldInShapeLabels=function(t){var n=this;return h.every(t,function(t){var e=t.getBBox(),i=t.get("element");return n.getElementShapeBBox(i).height>=e.height})},l.prototype.inShapeLabels=function(t,e){var a=this.getCoordinateBBox(),s=t.getXYFields()[0],i=this.options,l=i.darkStyle,u=i.lightStyle,c=h.groupBy(e,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][s]});h.each(e,function(e){var t=c[e.get(p.ORIGIN)[p.FIELD_ORIGIN][s]]||[],i=e.get("element").shape,n=g.isContrastColorWhite(i.attr("fill")),o=d.default.fromBBoxObject(i.getBBox()),r=d.default.fromBBoxObject(e.getBBox());f.getOverlapArea(a,o)<=0&&e.set("visible",!1),r.width>o.width?h.findIndex(t,function(t){return t===e})!==t.length-1&&e.set("visible",!1):(e.attr({x:o.x+o.width/2,textAlign:"center"}),r.width>o.width||r.height>o.height?e.attr({stroke:null==u?void 0:u.stroke}):e.attr({fill:n?null==u?void 0:u.fill:null==l?void 0:l.fill,fillOpacity:n?null==u?void 0:u.fillOpacity:null==l?void 0:l.fillOpacity,stroke:void 0}))})},l.prototype.autoHideLabels=function(t,e){var i,n=this.getCoordinateBBox(),o=this.filterLabels(e),r=t.getXYFields()[0],a=[],s=[],l=h.groupBy(o,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][r]}),u=h.uniq(h.map(o,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][r]}));for(0<h.size(u)&&(i=u.shift(),h.each(l[i],function(t){return s.push(t)})),0<h.size(u)&&(i=u.pop(),h.each(l[i],function(t){return s.push(t)})),h.each(u.reverse(),function(t){h.each(l[t],function(t){return s.push(t)})});0<s.length;){var c=s.shift();c.get("visible")&&(f.moveInPanel(c,n),f.checkShapeOverlap(c,a)?c.set("visible",!1):a.push(c))}},l.prototype.filterLabels=function(t){var i=[],n=Math.max(Math.floor(t.length/500),1);return h.each(t,function(t,e){e%n==0?i.push(t):t.set("visible",!1)}),i},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,r.registerLabelComponent("bar-auto",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),l=i(0),o=i(4),r=n.__importDefault(i(59));i(282);var a,s=(a=r.default,n.__extends(u,a),u.getDefaultOptions=function(){return l.deepMix({},a.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},u.prototype.afterRender=function(){a.prototype.afterRender.call(this);var s=l.valuesOfKey(this.options.data,this.options.groupField);this.view.on("tooltip:change",function(t){for(var e=t.items,i=l.clone(e),n=0;n<s.length;n++)for(var o=s[n],r=0;r<i.length;r++){var a=i[r];a.name===o&&(t.items[n]=a)}})},u.prototype.scale=function(){var t={};t[this.options.groupField]={values:l.valuesOfKey(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=l.deepMix({},this.options.meta,t):this.options.meta=t,a.prototype.scale.call(this)},u.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},u.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},u);function u(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="groupedBar",t}e.default=s,o.registerPlotType("groupedBar",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),o=i(0),a=i(4),s=n.__importDefault(i(86)),l=i(87),u=(r=s.default,n.__extends(c,r),c.getDefaultOptions=function(){return o.deepMix({},r.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){return t.replace(/%/gi,"")}}}})},c.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField,o=r.prototype.processData.call(this,t);return l.transformDataPercentage(o,n,[i])},c.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=t,r.prototype.scale.call(this)},c);function c(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="percentStackedBar",t}e.default=u,a.registerPlotType("percentStackedBar",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(16),a=(n=o.__importDefault(i(83)).default,o.__extends(s,n),s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,r.registerLabelComponent("area-point",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),u=i(0),r=i(16),a=o.__importDefault(i(132)),c=i(23),h=i(20),p=i(24),s=(n=a.default,o.__extends(l,n),l.prototype.layoutLabels=function(t,e){n.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},l.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,i=this.options,a=i.darkStyle,s=i.lightStyle,n=c.getGeometryByType(e,"area"),l=c.getGeometryShapes(n).sort(function(t,e){return e.getBBox().height-t.getBBox().height});u.each(t,function(t){var e,i,n=t.getBBox(),o=h.getStrokePoints(n.x,n.y,n.width,n.height),r=u.map(l,function(e){return{area:e,matches:u.filter(o,function(t){return!!e.isHit(t[0],t[1])}).length}}).sort(function(t,e){return t.matches-e.matches});0<u.last(r).matches&&(e=u.last(r).area.attr("fill"),i=p.isContrastColorWhite(e),t.attr({fill:i?null==s?void 0:s.fill:null==a?void 0:a.fill,fillOpacity:i?s.fillOpacity:a.fillOpacity,stroke:i?null==s?void 0:s.stroke:null==a?void 0:a.stroke}))})},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,r.registerLabelComponent("area-point-auto",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11);e.DEFAULT_AREA_THEME={areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}},n.registerTheme("area",e.DEFAULT_AREA_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(4),s=o.__importDefault(i(89)),l=i(87),u=(n=s.default,o.__extends(c,n),c.getDefaultOptions=function(){return r.deepMix({},n.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){return t.replace(/%/gi,"")}}}})},c.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return l.transformDataPercentage(t,i,[n])},c.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=r.deepMix({},t,this.options.meta),n.prototype.scale.call(this)},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="percentStackedArea",t}e.default=u,a.registerPlotType("percentStackedArea",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),h=i(0),r=i(16),p=i(7),a=o.__importDefault(i(46)),f=i(23),d=o.__importDefault(i(10)),g=i(24),s=(n=a.default,o.__extends(l,n),l.prototype.getPosition=function(t){var e=this.getDefaultOffset(),i=this.getValue(t),n=this.getElementShapeBBox(t),o=n.minX,r=n.minY,a=n.maxY,s=n.width,l=this.options;return{x:o+s/2+l.offsetX,y:(0<i?r:a)+e*(0<i?-1:1)+l.offsetY}},l.prototype.getTextFill=function(t){return this.options.style.fill},l.prototype.getTextStroke=function(t){},l.prototype.adjustLabel=function(t,e){},l.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},l.prototype.shouldInShapeLabels=function(t){var n=this;return h.every(t,function(t){var e=t.getBBox(),i=t.get("element");return n.getElementShapeBBox(i).width>=e.width})},l.prototype.inShapeLabels=function(t,e){var a=this.getCoordinateBBox(),s=t.getXYFields()[0],i=this.options,l=i.darkStyle,u=i.lightStyle,c=h.groupBy(e,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][s]});h.each(e,function(e){var t=c[e.get(p.ORIGIN)[p.FIELD_ORIGIN][s]]||[],i=e.get("element").shape,n=g.isContrastColorWhite(i.attr("fill")),o=d.default.fromBBoxObject(i.getBBox()),r=d.default.fromBBoxObject(e.getBBox());f.getOverlapArea(a,o)<=0&&e.set("visible",!1),r.height>o.height?0!==h.findIndex(t,function(t){return t===e})&&e.set("visible",!1):(e.attr({y:o.y+o.height/2,textBaseline:"middle"}),r.width>o.width||r.height>o.height?e.attr({stroke:null==u?void 0:u.stroke}):e.attr({fill:n?null==u?void 0:u.fill:null==l?void 0:l.fill,fillOpacity:n?null==u?void 0:u.fillOpacity:null==l?void 0:l.fillOpacity,stroke:void 0}))})},l.prototype.autoHideLabels=function(t,e){var i,n=this.getCoordinateBBox(),o=this.filterLabels(e),r=t.getXYFields()[0],a=[],s=[],l=h.groupBy(o,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][r]}),u=h.uniq(h.map(o,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][r]}));for(0<h.size(u)&&(i=u.shift(),h.each(l[i],function(t){return s.push(t)})),0<h.size(u)&&(i=u.pop(),h.each(l[i],function(t){return s.push(t)})),h.each(u.reverse(),function(t){h.each(l[t],function(t){return s.push(t)})});0<s.length;){var c=s.shift();c.get("visible")&&(f.moveInPanel(c,n),f.checkShapeOverlap(c,a)?c.set("visible",!1):a.push(c))}},l.prototype.filterLabels=function(t){var i=[],n=Math.max(Math.floor(t.length/500),1);return h.each(t,function(t,e){e%n==0?i.push(t):t.set("visible",!1)}),i},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,r.registerLabelComponent("column-auto",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({column:"interval"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(16),a=(n=o.__importDefault(i(46)).default,o.__extends(s,n),s.prototype.adjustLabel=function(t,e){var i;this.options.adjustPosition&&(i=t.getBBox(),this.getElementShapeBBox(e).height<i.height&&t.hide())},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,r.registerLabelComponent("stacked-column",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(4),s=o.__importDefault(i(60)),l=i(87),u=(n=s.default,o.__extends(c,n),c.getDefaultOptions=function(){return r.deepMix({},n.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},c.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return l.transformDataPercentage(t||[],i,[n])},c.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=t,n.prototype.scale.call(this)},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="percentStackedColumn",t}e.default=u,a.registerPlotType("percentStackedColumn",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=n.__importStar(i(317)),a=n.__importDefault(i(12)),s=i(14),l=i(318),u=n.__importDefault(i(323)),c=i(4);i(324);var h,p={pie:"interval"},f={pie:"column"},d=(h=a.default,n.__extends(g,h),g.getDefaultOptions=function(){return o.deepMix({},h.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},g.prototype.afterRender=function(){h.prototype.afterRender.call(this);var t,e,i=this.options;i.label&&i.label.visible&&(this.labelComponent&&this.labelComponent.clear(),"spider"===(t=i.label).type?this.labelComponent=new u.default(n.__assign({view:this.view,fields:i.colorField?[i.angleField,i.colorField]:[i.angleField]},this.options.label)):(e=l.getPieLabel(t.type),this.labelComponent=new e(this,i.label)),this.labelComponent.render())},g.prototype.geometryParser=function(t,e){return"g2"===t?p[e]:f[e]},g.prototype.scale=function(){var t=this.options;h.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=o.deepMix({},this.config.scales,e),this.setConfig("scales",e)},g.prototype.processData=function(t){var i=this.options.angleField;return t.map(function(t){var e;return n.__assign(n.__assign({},t),((e={})[i]="string"==typeof t[i]?Number.parseFloat(t[i]):t[i],e))})},g.prototype.axis=function(){},g.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:.8*t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{plot:this,positionFields:[1,t.angleField]});e.adjust=[{type:"stack"}],this.pie=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},g.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields&&(this.pie.tooltip.fields=t.fields),t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},g.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.pie.animate=!1)},g.prototype.annotation=function(){},g.prototype.parseEvents=function(t){t?h.prototype.parseEvents.call(this,t):h.prototype.parseEvents.call(this,r)},g.prototype.label=function(){this.pie.label=!1},g);function g(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="pie",t}e.default=d,c.registerPlotType("pie",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(5),a=i(0),s=i(4),l=o.__importDefault(i(146)),u=o.__importStar(i(369)),c=o.__importDefault(i(370)),h={ring:"interval"},p={interval:"ring"},f=(n=l.default,o.__extends(d,n),d.getDefaultOptions=function(){return a.deepMix({},n.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,statistic:{visible:!0,totalLabel:"总计",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},d.prototype.beforeInit=function(){n.prototype.beforeInit.call(this),d.centralId++,this.statisticClass="statisticClassId"+d.centralId,this.adjustLabelDefaultOptions(),this.options.statistic.visible&&this.options.statistic.triggerOn&&(this.options.tooltip.visible=!1)},d.prototype.afterRender=function(){var t,e=this.canvas.get("container");this.statistic&&e.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible&&(t=this.canvas.get("container"),r.modifyCSS(t,{position:"relative"}),this.statistic=new c.default(o.__assign({container:t,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()),n.prototype.afterRender.call(this)},d.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),n.prototype.destroy.call(this)},d.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},d.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},d.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,u)},d.prototype.adjustLabelDefaultOptions=function(){var t,e=this.options.label;e&&"inner"===e.type&&((t=e.style||{}).textAlign||(t.textAlign="center"),e.style=t,e.offset||(e.offset=(this.options.innerRadius-1)/2*100+"%"))},d.centralId=0,d);function d(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="donut",t}e.default=f,s.registerPlotType("donut",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),l=i(0),n=i(4),o=s.__importDefault(i(12)),r=i(14),a=i(22),u=s.__importDefault(i(379)),c=s.__importDefault(i(380)),h=s.__importStar(i(149)),p=i(21);i(381);var f,d={scatter:"point"},g={point:"point"},y=(f=o.default,s.__extends(v,f),v.getDefaultOptions=function(){return l.deepMix({},f.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},v.prototype.afterRender=function(){f.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new u.default(s.__assign({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new c.default(s.__assign({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},v.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),f.prototype.destroy.call(this)},v.prototype.isValidLinearValue=function(t){return!l.isNil(t)&&!Number.isNaN(Number(t))},v.prototype.processData=function(t){var e=this,i=this.options,n=i.xField,o=i.yField,r=l.get(this.options,["xAxis","type"],"linear"),a=l.get(this.options,["yAxis","type"],"linear");return r&&a?t.filter(function(t){return!("linear"===r&&!e.isValidLinearValue(t[n])||"linear"===a&&!e.isValidLinearValue(t[o]))}).map(function(t){var e;return s.__assign(s.__assign({},t),((e={})[n]=("linear"===r?Number:String)(t[n]),e[o]=("linear"===a?Number:String)(t[o]),e))}):t},v.prototype.geometryParser=function(t,e){return"g2"===t?d[e]:g[e]},v.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},l.has(t,"xAxis")&&a.extractScale(e[t.xField],t.xAxis),e[t.yField]={},l.has(t,"yAxis")&&a.extractScale(e[t.yField],t.yAxis);var i,n=l.find(t.interactions,function(t){return"timeline"===t.type});n&&l.get(n,"cfg.key")&&(e[i=n.cfg.key]?e[i].key=!0:e[i]={key:!0}),this.setConfig("scales",e),f.prototype.scale.call(this)},v.prototype.coord=function(){},v.prototype.annotation=function(){},v.prototype.addGeometry=function(){var t,e,i,n=r.getGeom("point","circle",{plot:this});this.points=n,this.options.tooltip&&this.options.tooltip.visible&&(e=(t=this.options.tooltip).showTitle,i=t.titleField,this.extractTooltip(),this.setConfig("tooltip",s.__assign({showTitle:e,title:e?i:void 0},this.options.tooltip))),this.options.label&&this.label(),this.setConfig("geometry",n)},v.prototype.label=function(){var t,e=this.options;!1!==e.label.visible?(t=p.getComponent("label",s.__assign(s.__assign({fields:e.label.field?[e.label.field]:[e.yField]},e.label),{plot:this})),this.points&&(this.points.label=t)):this.points&&(this.points.label=!1)},v.prototype.animation=function(){f.prototype.animation.call(this),!1===this.options.animation&&(this.points.animate=!1)},v.prototype.parseEvents=function(t){f.prototype.parseEvents.call(this,t||h)},v.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},v);function v(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="scatter",t}e.default=y,n.registerPlotType("scatter",y)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),w=i(0),n=i(32),O=i(11),C=i(38),o=(r.prototype.setOption=function(t,e){this.type=t,this.options=e,this.axis=e.axis,this.pivot=e.pivot},r.prototype.render=function(){var f=this;n.registerShape("point","gauge",{draw:function(t,e){this.gauge={},this.gauge.options=f.options,this.gauge.axis=f.axis,this.gauge.pivot=f.pivot,this.gauge.type=f.type;var i=this.gauge,n=this.gauge.type,o=t.points[0],r=this.parsePoint({x:0,y:0}),a=this.parsePoint({x:o.x||0,y:1});i.center=r,i.group=e;var s=r.x-a.x,l=r.y-a.y;this.gauge.ringRadius=Math.sqrt(s*s+l*l);var u=this.getAngleRange(),c=u.starAngle,h=u.endAngle,p=o.x*(h-c)+c;switch(n){case"meterGauge":this.drawBarGauge(p),this.gauge.axis.visible&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(p),this.gauge.axis.visible&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(p),this.gauge.axis.visible&&this.drawAxis()}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,i=t.max,n=t.range,o=t.color,r=t.rangeStyle,a=o||O.getGlobalTheme().colors,s=this.getAngleRange(),l={min:e,max:i,starAngle:s.starAngle,endAngle:s.endAngle},u=0;u<n.length;u++){var c,h,p=this.valueToAngle(n[u],l),f=this.valueToAngle(n[u+1],l);p<=f&&(c=this.getPath(p,f),h=w.deepMix({fill:a[u]},r),this.drawRing(c,h))}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,i=t.endAngle,n=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,i);this.drawRing(o,n)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,i=this.gauge.ringStyle.color,n=this.getPath(e,t);this.drawRing(n,i)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,i=t.max,n=t.axis,o=this.getAngleRange(),r={min:e,max:i,starAngle:o.starAngle,endAngle:o.endAngle},a=(i-e)/n.tickCount,s=0;s<n.tickCount;s++){var l=e+s*a,u=this.valueToAngle(l+a/2,r);this.drawRect(u,{length:n.tickLine.length,style:n.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,i=e.min,n=e.max,o=this.getAngleRange(),r={min:i,max:n,starAngle:o.starAngle,endAngle:o.endAngle},a=(n-i)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=i+s*a,u=this.valueToAngle(l,r),c=w.clone(t.tickLine.style);s%5!=0&&(c.lineWidth=c.lineWidth/2),this.drawRect(u,{length:s%5==0?t.tickLine.length:t.tickLine.length/2,style:c})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,i=e.min,n=e.max,o=this.getAngleRange(),r={min:i,max:n,starAngle:o.starAngle,endAngle:o.endAngle},a=(n-i)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=i+s*a,u=this.valueToAngle(l,r);this.drawRect(u,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,i=this.gauge.options,n=i.min,o=i.max,r=i.range,a=i.color,s=i.rangeStyle,l=i.rangeBackgroundStyle,u=a||O.getGlobalTheme().colors,c=this.getAngleRange(),h=c.starAngle,p=c.endAngle,f={min:n,max:o,starAngle:h,endAngle:p},d=(p-h)/49,g=d/3,y=0;y<50;y++){var v,m,x,b=h+y*d,_=this.getPath(b-g/2,b+g-g/2),M=l;M=r&&r.length?(v=r.map(function(t){return e.valueToAngle(t,f)}),m=C.sortedLastIndex(v,b),x=Math.min(m,r.length-1),w.deepMix({},{fill:u[x-1]},s)||l):b<=t?w.deepMix({},{fill:a},s):l,this.drawRing(_,M)}},getAngleRange:function(){var t=90-.5*(360-this.gauge.options.angle);return{starAngle:(180-t)*Math.PI/180,endAngle:(360+t)*Math.PI/180}},valueToAngle:function(t,e){var i=e.min,n=e.max,o=e.starAngle,r=e.endAngle;if(t===n)return r;if(t===i)return o;var a=(t-i)/(n-i);n===i&&(a=1);var s=a*(r-o)+o,s=Math.max(s,o);return Math.min(s,r)},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:w.deepMix({},{path:t},e)})},drawRect:function(t,e){var i,n=this.gauge.axis,o=p.__assign(p.__assign({},n),e),r=o.offset,a=o.length,s=this.gauge.center,l=(i=r<0?this.gauge.ringRadius-this.gauge.options.rangeSize+r:this.gauge.ringRadius+r)*Math.cos(t)+s.x,u=i*Math.sin(t)+s.y,c=(i+a)*Math.cos(t)+s.x,h=(i+a)*Math.sin(t)+s.y;this.gauge.group.addShape("line",{attrs:w.deepMix({},{x1:l,y1:u,x2:c,y2:h},e.style)})},getPath:function(t,e){var i=this.gauge.center,n=this.gauge.ringRadius,o=this.gauge.options.rangeSize,r=n*Math.cos(t)+i.x,a=n*Math.sin(t)+i.y,s=(n-o)*Math.cos(t)+i.x,l=(n-o)*Math.sin(t)+i.y,u=n*Math.cos(e)+i.x,c=n*Math.sin(e)+i.y,h=(n-o)*Math.cos(e)+i.x,p=(n-o)*Math.sin(e)+i.y,f=Math.abs(t-e)>Math.PI?1:0;return[["M",r,a],["A",n,n,0,f,1,u,c],["L",h,p],["A",n-o,n-o,0,f,0,s,l],["Z"]]},drawPivot:function(t){var e,i,n,o,r,a,s,l,u,c=this.getAngleRange(),h=c.starAngle,p=c.endAngle,f=this.gauge.options,d=f.radius,g=f.rangeSize,y=this.gauge.pivot,v=y.thickness,m=y.thickness/2.5,x=this.gauge.group,b=t.points[0],_=this.parsePoint({x:0,y:0}),M=b.x*(p-h)+h,O={x:(this.gauge.ringRadius-g)*d*Math.cos(M)+this.gauge.center.x,y:(this.gauge.ringRadius-g)*d*Math.sin(M)+this.gauge.center.y};y.base.visible&&x.addShape("circle",{attrs:w.deepMix({},{x:_.x,y:_.y,r:y.base.size?y.base.size/2:2.2*v},y.base.style)}),y.pointer.visible&&(e={x:_.x-O.x,y:_.y-O.y},i=Math.sqrt(e.x*e.x+e.y*e.y),e.x*=1/i,e.y*=1/i,n=-Math.PI/2,o=Math.cos(n)*e.x-Math.sin(n)*e.y,r=Math.sin(n)*e.x+Math.cos(n)*e.y,a=Math.PI/2,s=Math.cos(a)*e.x-Math.sin(a)*e.y,l=Math.sin(a)*e.x+Math.cos(a)*e.y,u=[["M",O.x+o*m,O.y+r*m],["L",_.x+o*v,_.y+r*v],["L",_.x+s*v,_.y+l*v],["L",O.x+s*m,O.y+l*m],["Z"]],x.addShape("path",{attrs:w.deepMix({},{path:u},y.pointer.style)}),x.addShape("circle",{attrs:{x:O.x,y:O.y,r:m,fill:y.pointer.style.fill}}),x.addShape("circle",{attrs:{x:_.x,y:_.y,r:v,fill:y.pointer.style.fill}})),y.pin.visible&&x.addShape("circle",{attrs:w.deepMix({},{x:_.x,y:_.y,r:m/1.2},y.pin.style)})}})},r);function r(t){this.uid=t}e.GaugeShape=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),a=i(0),r=i(4),s=i(14),l=o.__importDefault(i(47)),u=o.__importDefault(i(415)),c=o.__importStar(i(416)),h={progress:"interval"},p={interval:"progress"},f=["#55A6F3","#E8EDF3"],d=(n=l.default,o.__extends(g,n),g.prototype.processProps=function(){(e=this.options).data=this.processData();var t={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:e.size?e.size:this.getSize(),barStyle:e.progressStyle,color:this.parseColorProps(e)||f},e=a.mix(e,t)},g.prototype.init=function(){this.processProps(),n.prototype.init.call(this)},g.prototype.beforeInit=function(){var t=this.options.percent;if(!a.isNumber(t))throw new Error("Percent value is required, and the type of percent must be Number.")},g.prototype.update=function(t){var e,i=this.options;a.hasKey(t,"percent")&&(i.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color&&(e=void 0,e=a.isArray(t.color)?(this.options.color=t.color,[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,{fill:t.color}),this.styleUpdateAnimation(e)),t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},g.prototype.destroy=function(){this.markers&&0<this.markers.length&&(a.each(this.markers,function(t){t.destroy()}),this.markers=[]),n.prototype.destroy.call(this)},g.prototype.afterRender=function(){var n=this;this.options.marker&&!this.markers&&(this.markers=[],a.each(this.options.marker,function(t){var e=a.mix({canvas:n.canvas,view:n.view,progressSize:n.options.barSize},t),i=new u.default(e);n.markers.push(i)}));var t=this.view.geometries[0].container,e=t.getBBox(),i=t.addShape("rect",{attrs:{width:e.width,height:e.height,x:e.minX,y:e.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),i.on("mouseenter",function(t){n.isEntered=!0,n.view.emit("progress:mouseenter",t)}),i.on("mouseleave",function(t){n.isEntered=!1,n.view.emit("progress:mouseleave",t)}),this.canvas.get("container").addEventListener("mouseleave",function(t){n.isEntered&&(n.view.emit("progress:mouseleave",t),n.isEntered=!1)})},g.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},g.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],a.has(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},g.prototype.parseEvents=function(t){t?n.prototype.parseEvents.call(this,t):n.prototype.parseEvents.call(this,c)},g.prototype.parseColorProps=function(t){var e;if(t.color){if(e=a.isFunction(t.color)?t.color(t.percent):t.color,a.isString(e)){var i=a.clone(f);return i[0]=e,i}return e}return t.color},g.prototype.processData=function(){var t=this.options;return[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}]},g.prototype.updateMarkers=function(i){var n=i.length,o=this.getUpdateAnimationOptions();if(a.each(this.markers,function(t,e){n-1<e?t.destroy():t.update(i[e],o.duration,o.easing)}),this.markers.length<n)for(var t=this.markers.length;t<n;t++){var e=a.deepMix({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},i[t]),r=new u.default(e);this.markers.push(r)}},g.prototype.getSize=function(){return 50<=this.height?10:4},g.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),i=e.duration,n=e.easing,o=[],r=this.view.geometries;a.each(r,function(t){var e;"interval"===t.type&&(e=t.elements,a.each(e,function(t){o.push.apply(o,t.shape)}))}),a.isArray(t)?a.each(t,function(t,e){o[e].animate(t,i,n)}):o[0].animate(t,i,n)},g.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",i=this.options.animation;return i&&i.update&&(i.update.duration&&(t=i.update.duration),i.update.easing&&(e=i.update.easing)),{duration:t,easing:e}},g.prototype.updateColorConfigByStyle=function(t){var i=this;a.isArray(t)?a.each(t,function(t,e){t.fill&&(i.options.color[e]=t.fill)}):t.fill&&(this.options.color[0]=t.fill)},g);function g(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}e.default=d,r.registerPlotType("progress",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(1),h=i(0),l=i(17),s=r.__importDefault(i(113)),n=r.__importDefault(i(10)),a=r.__importDefault(i(44)),u=i(38),c=r.__importDefault(i(80)),p=(o=a.default,r.__extends(f,o),f.getDefaultOptions=function(){return{}},f.prototype.getOptions=function(t){var e=this.options||{},i=o.prototype.getOptions.call(this,t),n=this.constructor.getDefaultOptions(t);return h.deepMix({},i,n,e,t)},f.prototype.checkData=function(){for(var t,e,n=this,i=this.options,o=i.data,r=i.xField,a=i.yField,s=0;s<this.requiredField.length;s++){var l=this.requiredField[s];if(!h.hasKey(this.options,l))return!1}return!(!h.isArray(a)||a.length<2||!h.isArray(o)||0===o.length||0===(null===(t=o[0])||void 0===t?void 0:t.length)&&0===(null===(e=o[1])||void 0===e?void 0:e.length)||(h.each(o,function(t,e){var i;h.isArray(t)&&0!==t.length||(i=n.getMockData(e),o[e]=i)}),!o[0][0][r]||!o[1][0][r]))},f.prototype.init=function(){o.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},f.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},f.prototype.changeData=function(i){i&&i.length<2||!h.isArray(i[0])||h.each(this.geomLayers,function(t,e){t.changeData(i[e])})},f.prototype.changeDataByIndex=function(t,e){h.isArray(t[0])||this.geomLayers[e].changeData(t)},f.prototype.doDestroy=function(){h.each(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],h.each(this.legends,function(t){t.destroy()}),this.legends=[]},f.prototype.createLayer=function(t,e,i){var n=this.getViewRange(),o=new t(r.__assign({canvas:this.canvas,container:this.container,x:n.minX,y:n.minY,width:n.width,height:n.height,data:e},i));return this.geomLayers.push(o),o},f.prototype.yAxis=function(t){var e=this.options.yAxis,i=0===t?e.leftConfig:e.rightConfig,n=this.colors[t],o=h.clone(i),r={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};i.visible&&i.colorMapping&&h.each(o,function(t,e){var i;!h.isString(t)&&h.hasKey(r,e)&&(i=r[e],t.style||(t.style={}),t.style[i]=n)}),i.visible||(o.title.visible=!1,o.tickLine.visible=!1,o.label.visible=!1,o.line.visible=!1,o.visible=!0);var a=this.getYAxisGlobalConfig();return h.deepMix({},a,o)},f.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),i=new(l.getScale("linear"))(h.deepMix({},{min:0,max:e.max,nice:!0,values:e.values},{tickCount:t.tickCount})),n=i.ticks.length,o=(t.max?i.max:this.getScaleData(1).max)/(n-1),r=[],a=0;a<n;a++){var s=a*o;Number.isInteger(s)||(s=parseFloat(s.toFixed(1))),r.push(s)}return r},f.prototype.getScaleData=function(e){var t=this.options,i=t.data,n=t.yField,o=t.yAxis,r=[];return h.each(i[e],function(t){r.push(t[n[e]])}),r.sort(function(t,e){return t-e}),{min:r[0],max:o.max?o.max:r[r.length-1],values:r}},f.prototype.getDataByXField=function(e,t){var i=this.options,n=i.data,o=i.xField;return n[t].filter(function(t){return t[o]===e})},f.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis;return{min:t.min,max:t.max,tickCount:t.tickCount}},f.prototype.adjustLayout=function(){var t,e,i,n,o=this.getViewRange(),r=this.geomLayers[0].options.padding,a=this.geomLayers[1].options.padding,s=0;null!==(t=this.options.legend)&&void 0!==t&&t.visible&&(i=this.legends[0].get("group").getBBox(),n=this.legends[1].get("group").getBBox(),s=i.height+10);var l=[r[0]+s,a[1],a[2],r[3]];this.geomLayers[0].updateConfig({padding:l}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:l}),this.geomLayers[1].render(),null!==(e=this.options.legend)&&void 0!==e&&e.visible&&(this.legends[0].setLocation({x:r[3]-i.width/2,y:o.minY+5}),this.legends[1].setLocation({x:o.maxX-a[1]-n.width/2,y:o.minY+5}))},f.prototype.legendFilter=function(e){var i=this,n=this.legends[e];n.get("group").on("click",function(){var t=n.get("items")[0];t.unchecked?(n.setItemState(t,"unchecked",!1),i.showLayer(e)):(n.setItemState(t,"unchecked",!0),i.hideLayer(e))})},f.prototype.hideLayer=function(t){var e=this.geomLayers[t],i=this.options.yField[t],n=e.view,o=this.getYAxisContainer(n,i);o&&o.set("visible",!1),this.setGeometryVisibility(n,!1),this.canvas.draw()},f.prototype.showLayer=function(t){var e=this.geomLayers[t],i=this.options.yField[t],n=e.view,o=this.getYAxisContainer(n,i);o&&o.set("visible",!0),this.setGeometryVisibility(n,!0),this.canvas.draw()},f.prototype.setGeometryVisibility=function(t,n){h.each(t.geometries,function(t){var e=t.container,i=t.labelsContainer;e&&e.set("visible",n),i&&i.set("visible",n)})},f.prototype.getYAxisContainer=function(t,e){var i,n,o=t.controllers.filter(function(t){return h.hasKey(t,"axisContainer")})[0];return o&&(n=o.axisContainer.get("children"),h.each(n,function(t){t.get("component").get("field")===e&&(i=t)})),i},f.prototype.getUnCheckedValue=function(){var i=[];return h.each(this.legends,function(t){var e=t.getItemsByState("unchecked");h.each(e,function(t){i.push(t.name)})}),i},f.prototype.drawTitle=function(){var t,e,i,n=this.options,o=this.layerBBox;this.title&&(this.title.destroy(),this.title=null),u.isTextUsable(n.title)&&(t=this.width,e=this.theme,i=new s.default({leftMargin:o.minX+e.title.padding[3],rightMargin:o.maxX-e.title.padding[1],topMargin:o.minY+e.title.padding[0],text:n.title.text,style:h.mix(e.title,n.title.style),wrapperWidth:t-e.title.padding[3]-e.title.padding[1],container:this.container.addGroup(),theme:e,index:u.isTextUsable(n.description)?0:1,plot:this,alignTo:n.title.alignTo,name:"title"}),this.title=i)},f.prototype.drawDescription=function(){var t,e,i,n,o,r=this.options,a=this.layerBBox;this.description&&(this.description.destroy(),this.description=null),u.isTextUsable(r.description)&&(t=this.width,e=this.theme,i=0,this.title?(i+=(n=this.title.getBBox()).minY+n.height,i+=e.description.padding[0]):i+=a.minY+e.title.padding[0],o=new s.default({leftMargin:a.minX+e.description.padding[3],topMargin:i,rightMargin:a.maxX-e.title.padding[1],text:r.description.text,style:h.mix(e.description,r.description.style),wrapperWidth:t-e.description.padding[3]-e.description.padding[1],container:this.container.addGroup(),theme:e,index:1,plot:this,alignTo:r.description.alignTo,name:"description"}),this.description=o)},f.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new n.default(this.x,this.y,this.width,this.height));var s=this.layerBBox.minX,l=this.layerBBox.maxX,u=this.layerBBox.minY,c=this.layerBBox.maxY,t=[this.title,this.description];return h.each(t,function(t){var e,i,n,o,r,a;t&&(e=t.position,n=(i=t.getBBox()).minX,o=i.maxX,r=i.minY,a=i.maxY,u<=a&&a<=c&&"top"===e&&(u=a),u<=r&&r<=c&&"bottom"===e&&(c=r),s<o&&o<=l&&"left"===e&&(s=o),s<=n&&o<=l&&"right"===e&&(l=n))}),new n.default(s,u,l-s,c-u)},f.prototype.getMockData=function(t){var e=this.options,i=e.xField,n=e.yField,o={};return o[i]="null",o[n[t]]=0,[o]},f);function f(t){var e=o.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=h.deepMix({},e.options),e.themeController=new c.default,e}e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=function(t){var e=new u.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=r,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},e.subtract=a,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},e.distance=h,e.squaredDistance=p,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=g,e.cross=function(t,e,i){var n=e[0],o=e[1],r=e[2],a=i[0],s=i[1],l=i[2];return t[0]=o*l-r*s,t[1]=r*a-n*l,t[2]=n*s-o*a,t},e.lerp=function(t,e,i,n){var o=e[0],r=e[1],a=e[2];return t[0]=o+n*(i[0]-o),t[1]=r+n*(i[1]-r),t[2]=a+n*(i[2]-a),t},e.hermite=function(t,e,i,n,o,r){var a=r*r,s=a*(2*r-3)+1,l=a*(r-2)+r,u=a*(r-1),c=a*(3-2*r);return t[0]=e[0]*s+i[0]*l+n[0]*u+o[0]*c,t[1]=e[1]*s+i[1]*l+n[1]*u+o[1]*c,t[2]=e[2]*s+i[2]*l+n[2]*u+o[2]*c,t},e.bezier=function(t,e,i,n,o,r){var a=1-r,s=a*a,l=r*r,u=s*a,c=3*r*s,h=3*l*a,p=l*r;return t[0]=e[0]*u+i[0]*c+n[0]*h+o[0]*p,t[1]=e[1]*u+i[1]*c+n[1]*h+o[1]*p,t[2]=e[2]*u+i[2]*c+n[2]*h+o[2]*p,t},e.random=function(t,e){e=e||1;var i=2*u.RANDOM()*Math.PI,n=2*u.RANDOM()-1,o=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*o,t[1]=Math.sin(i)*o,t[2]=n*e,t},e.transformMat4=function(t,e,i){var n=e[0],o=e[1],r=e[2],a=(a=i[3]*n+i[7]*o+i[11]*r+i[15])||1;return t[0]=(i[0]*n+i[4]*o+i[8]*r+i[12])/a,t[1]=(i[1]*n+i[5]*o+i[9]*r+i[13])/a,t[2]=(i[2]*n+i[6]*o+i[10]*r+i[14])/a,t},e.transformMat3=function(t,e,i){var n=e[0],o=e[1],r=e[2];return t[0]=n*i[0]+o*i[3]+r*i[6],t[1]=n*i[1]+o*i[4]+r*i[7],t[2]=n*i[2]+o*i[5]+r*i[8],t},e.transformQuat=function(t,e,i){var n=i[0],o=i[1],r=i[2],a=i[3],s=e[0],l=e[1],u=e[2],c=o*u-r*l,h=r*s-n*u,p=n*l-o*s,f=o*p-r*h,d=r*c-n*p,g=n*h-o*c,y=2*a;return c*=y,h*=y,p*=y,f*=2,d*=2,g*=2,t[0]=s+c+f,t[1]=l+h+d,t[2]=u+p+g,t},e.rotateX=function(t,e,i,n){var o=[],r=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],r[0]=o[0],r[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),r[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},e.rotateY=function(t,e,i,n){var o=[],r=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],r[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),r[1]=o[1],r[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},e.rotateZ=function(t,e,i,n){var o=[],r=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],r[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),r[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),r[2]=o[2],t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},e.angle=function(t,e){var i=r(t[0],t[1],t[2]),n=r(e[0],e[1],e[2]);d(i,i),d(n,n);var o=g(i,n);return 1<o?0:o<-1?Math.PI:Math.acos(o)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var i=t[0],n=t[1],o=t[2],r=e[0],a=e[1],s=e[2];return Math.abs(i-r)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-a)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=u.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))};var l,u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(74));function n(){var t=new u.ARRAY_TYPE(3);return u.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function r(t,e,i){var n=new u.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=i,n}function a(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function s(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function c(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function h(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(i*i+n*n+o*o)}function p(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return i*i+n*n+o*o}function f(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function d(t,e){var i=e[0],n=e[1],o=e[2],r=i*i+n*n+o*o;return 0<r&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r),t}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=a,e.mul=s,e.div=c,e.dist=h,e.sqrDist=p,e.len=o,e.sqrLen=f,e.forEach=(l=n(),function(t,e,i,n,o,r){var a,s=void 0;for(e=e||3,i=i||0,a=n?Math.min(n*e+i,t.length):t.length,s=i;s<a;s+=e)l[0]=t[s],l[1]=t[s+1],l[2]=t[s+2],o(l,l,r),t[s]=l[0],t[s+1]=l[1],t[s+2]=l[2];return t})},function(t,c,e){"use strict";(function(e){var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(c,"__esModule",{value:!0});var a=function(t,e,i){this.name=t,this.version=e,this.os=i};c.BrowserInfo=a;var t=function(t){this.version=t,this.name="node",this.os=e.platform};c.NodeInfo=t;var s=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};c.BotInfo=s;var l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],r=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function i(r){var t=""!==r&&l.reduce(function(t,e){var i=e[0],n=e[1];if(t)return t;var o=n.exec(r);return!!o&&[i,o]},!1);if(!t)return null;var e=t[0],i=t[1];if("searchbot"===e)return new s;var n=i[1]&&i[1].split(/[._]/).slice(0,3);return n?n.length<3&&(n=o(n,function(t){for(var e=[],i=0;i<t;i++)e.push("0");return e}(3-n.length))):n=[],new a(e,n.join("."),u(r))}function u(t){for(var e=0,i=r.length;e<i;e++){var n=r[e],o=n[0];if(n[1].test(t))return o}return null}function n(){return void 0!==e&&e.version?new t(e.version.slice(1)):null}c.detect=function(t){return t?i(t):"undefined"!=typeof navigator?i(navigator.userAgent):n()},c.parseUserAgent=i,c.detectOS=u,c.getNodeVersion=n}).call(this,e(178))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(184),l=i(185),u=i(27);e.default=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(u.default(e)||u.default(i))return!1;if(l.default(e)||l.default(i)){if(e.length!==i.length)return!1;for(var n=!0,o=0;o<e.length&&(n=t(e[o],i[o]));o++);return n}if(s.default(e)||s.default(i)){var r=Object.keys(e),a=Object.keys(i);if(r.length!==a.length)return!1;for(n=!0,o=0;o<r.length&&(n=t(e[r[o]],i[r[o]]));o++);return n}return!1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(186),u=i(187),c=i(0);function h(t){for(var e,i,n=[],o=t.length,r=0;r<o-1;r++){var a=t[r],s=t[r+1];n.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return 1<n.length&&(e=t[0],i=t[o-1],n.push({from:{x:i[0],y:i[1]},to:{x:e[0],y:e[1]}})),n}function p(t){var e=t.map(function(t){return t[0]}),i=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,i),maxY:Math.max.apply(null,i)}}e.default=function(e,i){if(e.length<2||i.length<2)return!1;var t=p(e),n=p(i);if(n.minX>t.maxX||n.maxX<t.minX||n.minY>t.maxY||n.maxY<t.minY)return!1;var o=!1;if(c.each(i,function(t){if(l.default(e,t[0],t[1]))return!(o=!0)}),o)return!0;if(c.each(e,function(t){if(l.default(i,t[0],t[1]))return!(o=!0)}),o)return!0;var r=h(e),a=h(i),s=!1;return c.each(a,function(t){if(e=t,i=!1,c.each(r,function(t){if(u.default(t.from,t.to,e.from,e.to))return!(i=!0)}),i)return!(s=!0);var e,i}),s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var w=i(188);function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function C(t,e){return n(t)*n(e)?(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e)):1}function S(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))}e.default=function(t,e){var i=e[1],n=e[2],o=w.mod(w.toRadian(e[3]),2*Math.PI),r=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],h=Math.cos(o)*(s-u)/2+Math.sin(o)*(l-c)/2,p=-1*Math.sin(o)*(s-u)/2+Math.cos(o)*(l-c)/2,f=h*h/(i*i)+p*p/(n*n);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f));var d=i*i*(p*p)+n*n*(h*h),g=d?Math.sqrt((i*i*(n*n)-d)/d):1;r===a&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*i*p/n:0,v=i?g*-n*h/i:0,m=(s+u)/2+Math.cos(o)*y-Math.sin(o)*v,x=(l+c)/2+Math.sin(o)*y+Math.cos(o)*v,b=[(h-y)/i,(p-v)/n],_=[(-1*h-y)/i,(-1*p-v)/n],M=S([1,0],b),O=S(b,_);return C(b,_)<=-1&&(O=Math.PI),1<=C(b,_)&&(O=0),0===a&&0<O&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:x,rx:w.isSamePoint(t,[u,c])?0:i,ry:w.isSamePoint(t,[u,c])?0:n,startAngle:M,endAngle:M+O,xRotation:o,arcFlag:r,sweepFlag:a}}},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);n.__exportStar(i(106),e);var o=i(44);e.Layer=o.default,e.LayerConfig=o.LayerConfig;var r=i(12);e.ViewLayer=r.default,e.ViewConfig=r.ViewConfig;var a=i(3);e.Base=a.default,e.PlotConfig=a.PlotConfig,n.__exportStar(i(223),e);var s=i(47);e.TinyLayerConfig=s.TinyLayerConfig;var l=i(414);e.Progress=l.default,e.ProgressConfig=l.ProgressConfig;var u=i(417);e.RingProgress=u.default,e.RingProgressConfig=u.RingProgressConfig;var c=i(420);e.TinyColumn=c.default,e.TinyColumnConfig=c.TinyColumnConfig;var h=i(423);e.TinyArea=h.default,e.TinyAreaConfig=h.TinyAreaConfig;var p=i(426);e.TinyLine=p.default,e.TinyLineConfig=p.TinyLineConfig;var f=i(429);e.DualLine=f.default,e.DualLineConfig=f.DualLineConfig;var d=i(431);e.ColumnLine=d.default,e.ColumnLineConfig=d.ColumnLineConfig;var g=i(432);e.GroupedColumnLine=g.default,e.GroupedColumnLineConfig=g.GroupedColumnLineConfig;var y=i(434);e.StackededColumnLine=y.default,e.StackedColumnLineConfig=y.StackedColumnLineConfig;var v=i(11);e.registerTheme=v.registerTheme,e.registerGlobalTheme=v.registerGlobalTheme;var m=i(123);e.registerResponsiveConstraint=m.registerResponsiveConstraint,e.IConstraint=m.IConstraint;var x=i(124);e.registerResponsiveRule=x.registerResponsiveRule;var b=i(55);e.registerResponsiveTheme=b.registerResponsiveTheme,e.getResponsiveTheme=b.getResponsiveTheme;var _=i(115);e.StateManager=_.default},function(t){t.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.4","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^2.0.4","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9"},"__npminstall_done":"Mon May 04 2020 19:29:46 GMT+0800 (GMT+08:00)","gitHead":"c809a87a65d3cf6f1f54db1c6653f474fdfe74bd","_from":"@antv/g-base@0.4.4","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-base/download/@antv/g-base-0.4.4.tgz"}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(34);e.default=function(t){return n.default(t)?"":t.toString()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=new Map;e.register=function(t,e){n.set(t,e)},e.getMethod=function(t){return n.get(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),i=e.x,n=e.y,o=e.r;return{x:i-o,y:n-o,width:2*o,height:2*o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(26),h=i(77);e.default=function(t){for(var e=t.attr().points,i=[],n=[],o=0;o<e.length;o++){var r=e[o];i.push(r[0]),n.push(r[1])}var a=c.getBBoxByArray(i,n),s=a.x,l=a.y,u={minX:s,minY:l,maxX:s+a.width,maxY:l+a.height};return{x:(u=h.mergeArrowBBox(t,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(26);e.default=function(t){for(var e=t.attr().points,i=[],n=[],o=0;o<e.length;o++){var r=e[o];i.push(r[0]),n.push(r[1])}return a.getBBoxByArray(i,n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(66);e.default=function(t){var e,i,n,o,r=t.attr(),a=r.x,s=r.y,l=r.text,u=r.fontSize,c=r.lineHeight,h=(h=r.font)||d.assembleFont(r),p=d.getTextWidth(l,h),f=p?(e=r.textAlign,i=r.textBaseline,o={x:a,y:s-(n=d.getTextHeight(l,u,c))},e&&("end"===e||"right"===e?o.x-=p:"center"===e&&(o.x-=p/2)),i&&("top"===i?o.y+=n:"middle"===i&&(o.y+=n/2)),{x:o.x,y:o.y,width:p,height:n}):{x:a,y:s,width:0,height:0};return f}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var y=i(100),v=i(36),m=i(170),l=i(101),h=i(50),u=i(77);function x(t,e){var i=t.prePoint,n=t.currentPoint,o=t.nextPoint,r=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),a=Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2),s=Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2),l=Math.acos((r+a-s)/(2*Math.sqrt(r)*Math.sqrt(a)));if(!l||0===Math.sin(l)||h.default(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(o[1]-n[1],o[0]-n[0])),c=Math.abs(Math.atan2(o[0]-n[0],o[1]-n[1])),u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;return{xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(c-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}e.default=function(t){var e=t.attr(),i=e.path,n=e.stroke?e.lineWidth:0,o=function(t,e){for(var i=[],n=[],o=[],r=0;r<t.length;r++){var a=(h=t[r]).currentPoint,s=h.params,l=h.prePoint,u=void 0;switch(h.command){case"Q":u=y.default.box(l[0],l[1],s[1],s[2],s[3],s[4]);break;case"C":u=v.default.box(l[0],l[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var c=h.arcParams,u=m.default.box(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:i.push(a[0]),n.push(a[1])}u&&(h.box=u,i.push(u.x,u.x+u.width),n.push(u.y,u.y+u.height)),e&&("L"===h.command||"M"===h.command)&&h.prePoint&&h.nextPoint&&o.push(h)}i=i.filter(function(t){return!Number.isNaN(t)}),n=n.filter(function(t){return!Number.isNaN(t)});var h,p=Math.min.apply(null,i),f=Math.min.apply(null,n),d=Math.max.apply(null,i),g=Math.max.apply(null,n);if(0===o.length)return{x:p,y:f,width:d-p,height:g-f};for(r=0;r<o.length;r++){(a=(h=o[r]).currentPoint)[0]===p?p-=x(h,e).xExtra:a[0]===d&&(d+=x(h,e).xExtra),a[1]===f?f-=x(h,e).yExtra:a[1]===g&&(g+=x(h,e).yExtra)}return{x:p,y:f,width:d-p,height:g-f}}(t.get("segments")||l.default(i),n),r=o.x,a=o.y,s={minX:r,minY:a,maxX:r+o.width,maxY:a+o.height};return{x:(s=u.mergeArrowBBox(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}},function(t,e,i){"use strict";i.r(e),i.d(e,"create",function(){return n}),i.d(e,"clone",function(){return o}),i.d(e,"fromValues",function(){return r}),i.d(e,"copy",function(){return s}),i.d(e,"set",function(){return l}),i.d(e,"add",function(){return u}),i.d(e,"subtract",function(){return c}),i.d(e,"multiply",function(){return h}),i.d(e,"divide",function(){return p}),i.d(e,"ceil",function(){return f}),i.d(e,"floor",function(){return d}),i.d(e,"min",function(){return g}),i.d(e,"max",function(){return y}),i.d(e,"round",function(){return v}),i.d(e,"scale",function(){return m}),i.d(e,"scaleAndAdd",function(){return x}),i.d(e,"distance",function(){return b}),i.d(e,"squaredDistance",function(){return _}),i.d(e,"length",function(){return M}),i.d(e,"squaredLength",function(){return O}),i.d(e,"negate",function(){return w}),i.d(e,"inverse",function(){return C}),i.d(e,"normalize",function(){return S}),i.d(e,"dot",function(){return j}),i.d(e,"cross",function(){return A}),i.d(e,"lerp",function(){return P}),i.d(e,"random",function(){return T}),i.d(e,"transformMat2",function(){return L}),i.d(e,"transformMat2d",function(){return k}),i.d(e,"transformMat3",function(){return E}),i.d(e,"transformMat4",function(){return D}),i.d(e,"rotate",function(){return B}),i.d(e,"angle",function(){return F}),i.d(e,"zero",function(){return I}),i.d(e,"str",function(){return R}),i.d(e,"exactEquals",function(){return N}),i.d(e,"equals",function(){return Y}),i.d(e,"len",function(){return X}),i.d(e,"sub",function(){return z}),i.d(e,"mul",function(){return V}),i.d(e,"div",function(){return H}),i.d(e,"dist",function(){return W}),i.d(e,"sqrDist",function(){return q}),i.d(e,"sqrLen",function(){return U}),i.d(e,"forEach",function(){return Z});var a=i(6);function n(){var t=new a.a(2);return a.a!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new a.a(2);return e[0]=t[0],e[1]=t[1],e}function r(t,e){var i=new a.a(2);return i[0]=t,i[1]=e,i}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function l(t,e,i){return t[0]=e,t[1]=i,t}function u(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function c(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function h(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function p(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function y(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function x(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function b(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.hypot(i,n)}function _(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function M(t){var e=t[0],i=t[1];return Math.hypot(e,i)}function O(t){var e=t[0],i=t[1];return e*e+i*i}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t}function C(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function S(t,e){var i=e[0],n=e[1],o=i*i+n*n;return 0<o&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t}function j(t,e){return t[0]*e[0]+t[1]*e[1]}function A(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t}function P(t,e,i,n){var o=e[0],r=e[1];return t[0]=o+n*(i[0]-o),t[1]=r+n*(i[1]-r),t}function T(t,e){e=e||1;var i=2*a.c()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function L(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o,t[1]=i[1]*n+i[3]*o,t}function k(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t}function E(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[3]*o+i[6],t[1]=i[1]*n+i[4]*o+i[7],t}function D(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t}function B(t,e,i,n){var o=e[0]-i[0],r=e[1]-i[1],a=Math.sin(n),s=Math.cos(n);return t[0]=o*s-r*a+i[0],t[1]=o*a+r*s+i[1],t}function F(t,e){var i=t[0],n=t[1],o=e[0],r=e[1],a=Math.sqrt(i*i+n*n)*Math.sqrt(o*o+r*r),s=a&&(i*o+n*r)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function I(t){return t[0]=0,t[1]=0,t}function R(t){return"vec2("+t[0]+", "+t[1]+")"}function N(t,e){return t[0]===e[0]&&t[1]===e[1]}function Y(t,e){var i=t[0],n=t[1],o=e[0],r=e[1];return Math.abs(i-o)<=a.b*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-r)<=a.b*Math.max(1,Math.abs(n),Math.abs(r))}var G,X=M,z=c,V=h,H=p,W=b,q=_,U=O,Z=(G=n(),function(t,e,i,n,o,r){var a,s;for(e=e||2,i=i||0,s=n?Math.min(n*e+i,t.length):t.length,a=i;a<s;a+=e)G[0]=t[a],G[1]=t[a+1],o(G,G,r),t[a]=G[0],t[a+1]=G[1];return t})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v=i(26),m=i(171);function b(t,e,i,n,o,r){return i*Math.cos(o)*Math.cos(r)-n*Math.sin(o)*Math.sin(r)+t}function _(t,e,i,n,o,r){return i*Math.sin(o)*Math.cos(r)+n*Math.cos(o)*Math.sin(r)+e}function x(t,e,i){return{x:t*Math.cos(i),y:e*Math.sin(i)}}function M(t,e,i){var n=Math.cos(i),o=Math.sin(i);return[t*n-e*o,t*o+e*n]}e.default={box:function(t,e,i,n,o,r,a){for(var s=Math.atan(-n/i*Math.tan(o)),l=1/0,u=-1/0,c=[r,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var p=s+h;r<a?r<p&&p<a&&c.push(p):a<p&&p<r&&c.push(p)}for(h=0;h<c.length;h++){var f=b(t,0,i,n,o,c[h]);f<l&&(l=f),u<f&&(u=f)}for(var d=Math.atan(n/(i*Math.tan(o))),g=1/0,y=-1/0,v=[r,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=d+h;r<a?r<m&&m<a&&v.push(m):a<m&&m<r&&v.push(m)}for(h=0;h<v.length;h++){var x=_(0,e,i,n,o,v[h]);x<g&&(g=x),y<x&&(y=x)}return{x:l,y:g,width:u-l,height:y-g}},length:function(t,e,i,n,o,r,a){},nearestPoint:function(t,e,i,n,o,r,a,s,l){var u,c,h=M(s-t,l-e,-o),p=h[0],f=h[1],d=m.default.nearestPoint(0,0,i,n,p,f),g=(u=d.x,c=d.y,(Math.atan2(c*i,u*n)+2*Math.PI)%(2*Math.PI));g<r?d=x(i,n,r):a<g&&(d=x(i,n,a));var y=M(d.x,d.y,o);return{x:y[0]+t,y:y[1]+e}},pointDistance:function(t,e,i,n,o,r,a,s,l){var u=this.nearestPoint(t,e,i,n,s,l);return v.distance(u.x,u.y,s,l)},pointAt:function(t,e,i,n,o,r,a,s){var l=(a-r)*s+r;return{x:b(t,0,i,n,o,l),y:_(0,e,i,n,o,l)}},tangentAngle:function(t,e,i,n,o,r,a,s){var l,u,c,h,p,f,d=(a-r)*s+r,g=(h=n,p=o,f=d,-1*i*Math.cos(p)*Math.sin(f)-h*Math.sin(p)*Math.cos(f)),y=(l=n,u=o,c=d,-1*i*Math.sin(u)*Math.sin(c)+l*Math.cos(u)*Math.cos(c));return v.piMod(Math.atan2(y,g))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(26);function S(t,e){var i=Math.abs(t);return 0<e?i:-1*i}e.default={box:function(t,e,i,n){return{x:t-i,y:e-n,width:2*i,height:2*n}},length:function(t,e,i,n){return Math.PI*(3*(i+n)-Math.sqrt((3*i+n)*(i+3*n)))},nearestPoint:function(t,e,i,n,o,r){var a=i,s=n;if(0===a||0===s)return{x:t,y:e};for(var l,u,c=o-t,h=r-e,p=Math.abs(c),f=Math.abs(h),d=a*a,g=s*s,y=Math.PI/4,v=0;v<4;v++){l=a*Math.cos(y),u=s*Math.sin(y);var m=(d-g)*Math.pow(Math.cos(y),3)/a,x=(g-d)*Math.pow(Math.sin(y),3)/s,b=l-m,_=u-x,M=p-m,O=f-x,w=Math.hypot(_,b),C=Math.hypot(O,M);y+=w*Math.asin((b*O-_*M)/(w*C))/Math.sqrt(d+g-l*l-u*u),y=Math.min(Math.PI/2,Math.max(0,y))}return{x:t+S(l,c),y:e+S(u,h)}},pointDistance:function(t,e,i,n,o,r){var a=this.nearestPoint(t,e,i,n,o,r);return s.distance(a.x,a.y,o,r)},pointAt:function(t,e,i,n,o){var r=2*Math.PI*o;return{x:t+i*Math.cos(r),y:e+n*Math.sin(r)}},tangentAngle:function(t,e,i,n,o){var r=2*Math.PI*o,a=Math.atan2(n*Math.cos(r),-i*Math.sin(r));return s.piMod(a)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(29),r=i(19),a=i(27),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,l=/[^\s\,]+/gi;e.default=function(t){var n=t||[];return r.default(n)?n:a.default(n)?(n=n.match(s),o.default(n,function(i,t){var e;1<(i=i.match(l))[0].length&&(e=i[0].charAt(0),i.splice(1,0,i[0].substr(1)),i[0]=e),o.default(i,function(t,e){isNaN(t)||(i[e]=+t)}),n[t]=i}),n):void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(77);e.default=function(t){var e=t.attr(),i=e.x1,n=e.y1,o=e.x2,r=e.y2,a={minX:Math.min(i,o),maxX:Math.max(i,o),minY:Math.min(n,r),maxY:Math.max(n,r)};return{x:(a=s.mergeArrowBBox(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),i=e.x,n=e.y,o=e.rx,r=e.ry;return{x:i-o,y:n-r,width:2*o,height:2*r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),o="\t\n\v\f\r   ᠎             　\u2028\u2029",s=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig");e.default=function(t){if(!t)return null;if(n.default(t))return t;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,i){var n=[],o=e.toLowerCase();if(i.replace(l,function(t,e){e&&n.push(+e)}),"m"===o&&2<n.length&&(a.push([e].concat(n.splice(0,2))),o="l",e="m"===e?"l":"L"),"o"===o&&1===n.length&&a.push([e,n[0]]),"r"===o)a.push([e].concat(n));else for(;n.length>=r[o]&&(a.push([e].concat(n.splice(0,r[o]))),r[o]););return""}),a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(15),l=i(26);function d(t){for(var e=0,i=[],n=0;n<t.length-1;n++){var o=t[n],r=t[n+1],a=l.distance(o[0],o[1],r[0],r[1]),s={from:o,to:r,length:a};i.push(s),e+=a}return{segments:i,totalLength:e}}e.lengthOfSegment=function(t){if(t.length<2)return 0;for(var e=0,i=0;i<t.length-1;i++){var n=t[i],o=t[i+1];e+=l.distance(n[0],n[1],o[0],o[1])}return e},e.pointAtSegments=function(t,e){if(1<e||e<0||t.length<2)return null;var i=d(t),n=i.segments,o=i.totalLength;if(0===o)return{x:t[0][0],y:t[0][1]};for(var r=0,a=null,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,h=l.length/o;if(r<=e&&e<=r+h){var p=(e-r)/h,a=f.default.pointAt(u[0],u[1],c[0],c[1],p);break}r+=h}return a},e.angleAtSegments=function(t,e){if(1<e||e<0||t.length<2)return 0;for(var i=d(t),n=i.segments,o=i.totalLength,r=0,a=0,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,h=l.length/o;if(r<=e&&e<=r+h){a=Math.atan2(c[1]-u[1],c[0]-u[0]);break}r+=h}return a},e.distanceAtSegment=function(t,e,i){for(var n=1/0,o=0;o<t.length-1;o++){var r=t[o],a=t[o+1],s=f.default.pointDistance(r[0],r[1],a[0],a[1],e,i);s<n&&(n=s)}return n}},function(t){t.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.9","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.4","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":"Mon May 04 2020 19:29:46 GMT+0800 (GMT+08:00)","gitHead":"d98ccb0270244714f172c73672231f91d64333b5","_from":"@antv/g-canvas@0.4.9","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-canvas/download/@antv/g-canvas-0.4.9.tgz"}')},function(t,e){var i,n,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,u=[],c=!1,h=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var t=s(p);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new d(t,e)),1!==u.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t){t.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.4","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.4","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":"Mon May 04 2020 19:29:46 GMT+0800 (GMT+08:00)","gitHead":"c809a87a65d3cf6f1f54db1c6653f474fdfe74bd","_from":"@antv/g-svg@0.4.4","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-svg/download/@antv/g-svg-0.4.4.tgz"}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),r=i(181),n=(o.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},o.prototype.getAdjustRange=function(t,e,i){var n,o,r=this.yField,a=i.indexOf(e),s=i.length;return!r&&this.isAdjust("y")?(n=0,o=1):1<s?(n=i[0===a?0:a-1],o=i[a===s-1?s-1:a+1],0!==a?n+=(e-n)/2:n-=(o-e)/2,a!==s-1?o-=(o-e)/2:o+=(e-i[s-2])/2):(n=0===e?0:e-.5,o=0===e?1:e+.5),{pre:n,next:o}},o.prototype.adjustData=function(t,e){var o=this,r=this.getDimValues(e);a.each(t,function(i,n){a.each(r,function(t,e){o.adjustDim(e,t,i,n)})})},o.prototype.groupData=function(t,e){return a.each(t,function(t){void 0===t[e]&&(t[e]=r.DEFAULT_Y)}),a.groupBy(t,e)},o.prototype.adjustDim=function(t,e,i,n){},o.prototype.getDimValues=function(e){var t=this.xField,i=this.yField,n={},o=[];return t&&this.isAdjust("x")&&o.push(t),i&&this.isAdjust("y")&&o.push(i),o.forEach(function(t){n[t]=a.valuesOfKey(e,t).sort(function(t,e){return t-e})}),!i&&this.isAdjust("y")&&(n.y=[r.DEFAULT_Y,1]),n},o);function o(t){var e=t.xField,i=t.yField,n=t.adjustNames,o=void 0===n?["x","y"]:n;this.adjustNames=o,this.xField=e,this.yField=i}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_Y=0,e.MARGIN_RATIO=.5,e.DODGE_RATIO=.5,e.GAP=.05},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){return h.isString(e)?e:t.invert(t.scale(e))}var h=i(0),o=(r.prototype.mapping=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map(function(t,e){return i._toOriginParam(t,i.scales[e])});return this.callback.apply(this,n)},r.prototype.getLinearValue=function(t){var e=this.values.length-1,i=Math.floor(e*t),n=e*t-i,o=this.values[i];return o+((i===e?o:this.values[i+1])-o)*n},r.prototype.getNames=function(){for(var t=this.scales,e=this.names,i=Math.min(t.length,e.length),n=[],o=0;o<i;o+=1)n.push(e[o]);return n},r.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},r.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},r.prototype.defaultCallback=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){var i=n.scales[e];return"identity"===i.type?i.values[0]:n._getAttributeValue(i,t)})},r.prototype._parseCfg=function(t){var n=this,e=t.type,i=void 0===e?"base":e,o=t.names,r=void 0===o?[]:o,a=t.scales,s=void 0===a?[]:a,l=t.values,u=void 0===l?[]:l,c=t.callback;this.type=i,this.scales=s,this.values=u,this.names=r,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(c){var i=c.apply(void 0,t);if(!h.isNil(i))return[i]}return n.defaultCallback.apply(n,t)}},r.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var i=t.translate(e);return this.values[i%this.values.length]}var n=t.scale(e);return this.getLinearValue(n)},r.prototype._toOriginParam=function(t,e){return e.isLinear?t:h.isArray(t)?t.map(function(t){return n(e,t)}):n(e,t)},r);function r(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17);e.Scale=n.Scale},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"object"===n(t)&&null!==t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,i){"use strict";function h(t){return Math.abs(t)<1e-6?0:t<0?-1:1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){var n=!1,o=t.length;if(o<=2)return!1;for(var r,a,s,l=0;l<o;l++){var u=t[l],c=t[(l+1)%o];if(a=c,((s=[e,i])[0]-(r=u)[0])*(a[1]-r[1])==(a[0]-r[0])*(s[1]-r[1])&&Math.min(r[0],a[0])<=s[0]&&s[0]<=Math.max(r[0],a[0])&&Math.min(r[1],a[1])<=s[1]&&s[1]<=Math.max(r[1],a[1]))return!0;0<h(u[1]-i)!=0<h(c[1]-i)&&h(e-(i-u[1])*(u[0]-c[0])/(u[1]-c[1])-u[0])<0&&(n=!n)}return n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function f(t,e,i){return e<=t&&t<=i}e.default=function(t,e,i,n){var o,r=i.x-t.x,a=i.y-t.y,s=e.x-t.x,l=e.y-t.y,u=n.x-i.x,c=n.y-i.y,h=s*c-l*u,p=null;return.001*(s*s+l*l)*(u*u+c*c)<h*h&&(f(o=(r*c-a*u)/h,0,1)&&f((r*l-a*s)/h,0,1)&&(p={x:t.x+o*s,y:t.y+o*l})),p}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPixelRatio=function(){return window?window.devicePixelRatio:1},e.distance=function(t,e,i,n){var o=t-i,r=e-n;return Math.sqrt(o*o+r*r)},e.inBox=function(t,e,i,n,o,r){return t<=o&&o<=t+i&&e<=r&&r<=e+n},e.intersectRect=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.mergeRegion=function(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e},e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var n=i(34);e.isNil=n.default;var o=i(27);e.isString=o.default;var r=i(37);e.isFunction=r.default;var a=i(19);e.isArray=a.default;var s=i(29);e.each=s.default;var l=i(42);e.toRadian=l.default;var u=i(43);e.mod=u.default;var c=i(50);e.isNumberEqual=c.default;var h=i(75);e.requestAnimationFrame=h.default;var p=i(76);e.clearAnimationFrame=p.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function p(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.abs(i)>Math.abs(n)?0<i?"right":"left":0<n?"down":"up"}function f(t,e){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)}function d(t,e){if(t){for(var i=[],n=t.length,o=0;o<n;o++){var r=t[o],a=r.clientX,s=r.clientY,l=e.getPointByClient(a,s);i.push(l)}return i}}var n,o=i(1),r=i(190),a=(n=r.Controller,o.__extends(s,n),Object.defineProperty(s.prototype,"name",{get:function(){return"gesture"},enumerable:!0,configurable:!0}),s.prototype.init=function(){},s.prototype.render=function(){},s.prototype.layout=function(){},s.prototype.update=function(){},s.prototype.destroy=function(){this.reset(),this.processEvent=null},s.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},s.prototype.emitEvent=function(t,e){this.view.emit(t,e)},s.prototype.emitStart=function(t,e){this.isProcess(t)||(this.enable(t),this.emitEvent(t+"start",e))},s.prototype.emitEnd=function(e){var i=this,n=this.processEvent;Object.keys(n).forEach(function(t){i.emitEvent(t+"end",e),delete n[t]})},s.prototype.enable=function(t){this.processEvent[t]=!0},s.prototype.isProcess=function(t){return this.processEvent[t]},s.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},s.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},s.prototype.getEventType=function(t){var e=this.eventType,i=this.view,n=this.startTime,o=this.startPoints;if(e)return e;var r=i.getEvents().pan,a=!r||!r.length||250<Date.now()-n&&f(o[0],t[0])<10?"press":"pan";return this.eventType=a},s);function s(t){var h=n.call(this,t)||this;return h.processEvent={},h.touchStart=function(t){var e,i,n=d(t.originalEvent.touches,h.canvas);n&&(t.points=n,h.reset(),h.startTime=Date.now(),1<(h.startPoints=n).length?(h.startDistance=f(n[0],n[1]),h.center=(e=n[0],i=n[1],{x:(e.x+i.x)/2,y:(e.y+i.y)/2})):h.pressTimeout=setTimeout(function(){t.direction="none",h.emitStart("press",t),h.emitEvent("press",t),h.eventType="press"},250))},h.touchMove=function(t){var e,i,n,o,r,a,s,l,u,c=d(t.originalEvent.touches,h.canvas);c&&(h.clearPressTimeout(),t.points=c,(e=h.startPoints)&&(1<c.length?(i=h.startDistance,n=f(c[0],c[1]),t.zoom=n/i,t.center=h.center,h.emitStart("pinch",t),h.emitEvent("pinch",t)):(o=c[0].x-e[0].x,r=c[0].y-e[0].y,a=h.direction||p(e[0],c[0]),h.direction=a,s=h.getEventType(c),t.direction=a,t.deltaX=o,t.deltaY=r,h.emitStart(s,t),h.emitEvent(s,t),l=h.lastMoveTime,0<(u=Date.now())-l&&(h.prevMoveTime=l,h.prevMovePoints=h.lastMovePoints,h.lastMoveTime=u,h.lastMovePoints=c))))},h.touchEnd=function(t){h.emitEnd(t);var e,i,n,o,r=h.lastMoveTime;Date.now()-r<100&&(0<(e=r-(h.prevMoveTime||h.startTime))&&(i=h.prevMovePoints||h.startPoints,n=h.lastMovePoints,.3<(o=f(i[0],n[0])/e)&&(t.velocity=o,t.direction=p(i[0],n[0]),h.emitEvent("swipe",t)))),h.reset();var a=t.touches;a&&0<a.length&&h.touchStart(t)},h.canvas=t.getCanvas(),h.delegateEvent(),h.processEvent={},h}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=(r.prototype.clear=function(){n.each(this.components,function(t){t.component.destroy()}),this.components=[]},r.prototype.destroy=function(){this.clear()},r.prototype.getComponents=function(){return this.components},r.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},r);function r(t){this.visible=!0,this.components=[],this.view=t}e.Controller=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};e.getAnimation=function(t){return n[t.toLowerCase()]},e.registerAnimation=function(t,e){n[t.toLowerCase()]=e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,l=i(1),h=i(0),p=i(52),n=l.__importDefault(i(194)),f=i(195),d=i(102),o=(s=n.default,l.__extends(r,s),r.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},r.prototype.update=function(t){var e,i,n=this.shapeFactory,o=this.shape;o&&(this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(o,t),e=this.getOffscreenGroup(),(i=n.drawShape(this.shapeType,t,e)).cfg.data=this.data,i.cfg.origin=t,this.syncShapeStyle(o,i,"",this.getAnimateCfg("update")))},r.prototype.destroy=function(){var t,e=this.shapeFactory,i=this.shape;i&&((t=this.getAnimateCfg("leave"))?p.doAnimate(i,t,{coordinate:e.coordinate,toAttrs:l.__assign({},i.attr())}):i.remove(!0)),this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,s.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){s.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(t){t.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(t){t.hide()}))},r.prototype.setState=function(t,e){var i=this,n=this.states,o=this.shapeFactory,r=this.model,a=this.shape,s=this.shapeType,l=n.indexOf(t);if(e){if(-1<l)return;n.push(t),"active"!==t&&"selected"!==t||a.toFront()}else{if(-1===l)return;n.splice(l,1),"active"!==t&&"selected"!==t||a.toBack()}var u=o.drawShape(s,r,this.getOffscreenGroup());n.length?n.forEach(function(t){i.syncShapeStyle(a,u,t,null)}):this.syncShapeStyle(a,u,"reset",null),u.remove(!0);var c={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",c),d.propagationDelegate(this.shape,"statechange",c)},r.prototype.clearStates=function(){var e=this,t=this.states;h.each(t,function(t){e.setState(t,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(i=t.getCanvasBBox()),e&&e.forEach(function(t){var e=t.getCanvasBBox();i.x=Math.min(e.x,i.x),i.y=Math.min(e.y,i.y),i.minX=Math.min(e.minX,i.minX),i.minY=Math.min(e.minY,i.minY),i.maxX=Math.max(e.maxX,i.maxX),i.maxY=Math.max(e.maxY,i.maxY)}),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},r.prototype.getStatesStyle=function(){var t,e,i,n,o,r;return this.statesStyle||(t=this.shapeType,e=this.geometry,i=this.shapeFactory,n=e.stateOption,o=i.defaultShapeType,r=i.theme[t]||i.theme[o],this.statesStyle=h.deepMix({},r,n)),this.statesStyle},r.prototype.getStateStyle=function(t,e){var i=this.getStatesStyle(),n=h.get(i,[t,"style"],{}),o=n[e]||n;return h.isFunction(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var i,n,o,r=this.shapeFactory,a=this.container,s=this.shapeType;this.shape=r.drawShape(s,t,a),this.shape&&(this.setShapeInfo(this.shape,t),(i=this.shape.cfg.name)?h.isString(i)&&(this.shape.cfg.name=["element",i]):this.shape.cfg.name=["element",this.shapeFactory.geometryType],n=e?"enter":"appear",(o=this.getAnimateCfg(n))&&p.doAnimate(this.shape,o,{coordinate:r.coordinate,toAttrs:l.__assign({},this.shape.attr())}))},r.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var i=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(t){i.setShapeInfo(t,e)})},r.prototype.syncShapeStyle=function(t,e,i,n,o){if(void 0===i&&(i=""),void 0===o&&(o=0),t.isGroup())for(var r=t.get("children"),a=e.get("children"),s=0;s<r.length;s++)this.syncShapeStyle(r[s],a[s],i,n,o+s);else{var l,u;i&&"reset"!==i&&(l=t.get("name"),h.isArray(l)&&(l=l[1]),u=this.getStateStyle(i,l||o),e.attr(u));var c=f.getReplaceAttrs(t,e);this.animate?n?p.doAnimate(t,n,{coordinate:this.shapeFactory.coordinate,toAttrs:c,shapeModel:this.model}):i?(t.stopAnimate(),t.animate(c,{duration:300})):t.attr(c):t.attr(c)}},r.prototype.getShapeType=function(t){var e=h.get(t,"shape");return h.isArray(e)?e[0]:e},r);function r(t){var e=s.call(this,t)||this;e.states=[];var i=t.shapeFactory,n=t.container,o=t.offscreenGroup,r=t.visible,a=void 0===r||r;return e.shapeFactory=i,e.container=n,e.offscreenGroup=o,e.visible=a,e}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),r=(o=n.__importDefault(i(28)).default,n.__extends(a,o),a.prototype.show=function(){this.visible||(this.visible=!0,this.changeVisible(!0))},a.prototype.hide=function(){this.visible&&(this.visible=!1,this.changeVisible(!1))},a.prototype.destroy=function(){this.off(),this.destroyed=!0},a.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},a);function a(t){var e=o.call(this)||this;e.destroyed=!1;var i=t.visible,n=void 0===i||i;return e.visible=n,e}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(0);function g(t,e,i,n){return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}e.polarToCartesian=g,e.getSectorPath=function(t,e,i,n,o,r){void 0===r&&(r=0);var a=g(t,e,i,n),s=g(t,e,i,o),l=g(t,e,r,n),u=g(t,e,r,o);if(o-n==2*Math.PI){var c=g(t,e,i,n+Math.PI),h=g(t,e,r,n+Math.PI),p=[["M",a.x,a.y],["A",i,i,0,1,1,c.x,c.y],["A",i,i,0,1,1,s.x,s.y],["M",l.x,l.y]];return r&&(p.push(["A",r,r,0,1,0,h.x,h.y]),p.push(["A",r,r,0,1,0,u.x,u.y])),p.push(["M",a.x,a.y]),p.push(["Z"]),p}var f=o-n<=Math.PI?0:1,d=[["M",a.x,a.y],["A",i,i,0,f,1,s.x,s.y],["L",u.x,u.y]];return r&&d.push(["A",r,r,0,f,0,l.x,l.y]),d.push(["L",a.x,a.y]),d.push(["Z"]),d},e.getArcPath=function(t,e,i,n,o){var r=g(t,e,i,n),a=g(t,e,i,o);if(u.isNumberEqual(o-n,2*Math.PI)){var s=g(t,e,i,n+Math.PI);return[["M",r.x,r.y],["A",i,i,0,1,1,s.x,s.y],["A",i,i,0,1,1,r.x,r.y],["A",i,i,0,1,0,s.x,s.y],["A",i,i,0,1,0,r.x,r.y],["Z"]]}var l=o-n<=Math.PI?0:1;return[["M",r.x,r.y],["A",i,i,0,l,1,a.x,a.y]]},e.getAngle=function(t,e){var i,n=function(t){if(u.isEmpty(t))return null;var e=t[0].x,i=t[0].x,n=t[0].y,o=t[0].y;return u.each(t,function(t){e=e>t.x?t.x:e,i=i<t.x?t.x:i,n=n>t.y?t.y:n,o=o<t.y?t.y:o}),{minX:e,maxX:i,minY:n,maxY:o,centerX:(e+i)/2,centerY:(n+o)/2}}(t.points),o=e.startAngle,r=e.endAngle-o,a=e.isTransposed?(i=n.maxY*r,n.minY*r):(i=n.maxX*r,n.minX*r);return{startAngle:a+=o,endAngle:i+=o}},e.getPolygonCentroid=function(t,e){if(u.isNumber(t)&&u.isNumber(e))return[t,e];for(var i,n,o=-1,r=0,a=0,s=t.length-1,l=0;++o<t.length;)i=s,s=o,l+=n=t[i]*e[s]-t[s]*e[i],r+=(t[i]+t[s])*n,a+=(e[i]+e[s])*n;return[r/(l*=3),a/l]},e.getReplaceAttrs=function(t,e){var i=t.attr(),n=e.attr();return u.each(i,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(1),l=i(35),d=i(5),u=i(0),n=i(197),g=i(111),c=i(30),r=i(112),y=i(200),a=(o=n.default,s.__extends(h,o),h.prototype.getDefaultCfg=function(){var t=o.prototype.getDefaultCfg.call(this);return s.__assign(s.__assign({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],containerTpl:'<div class="'+c.CONTAINER_CLASS+'"><div class="'+c.TITLE_CLASS+'"></div><ul class="'+c.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+c.LIST_ITEM_CLASS+'" data-index={index}>\n          <span class="'+c.MARKER_CLASS+'" style="background:{color}"></span>\n          <span class="'+c.NAME_CLASS+'">{name}</span>:\n          <span class="'+c.VALUE_CLASS+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+c.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+c.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:c.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:r.default})},h.prototype.render=function(){this.resetTitle(),this.renderItems(),this.resetPosition()},h.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},h.prototype.updateInner=function(t){var e=t,i=["title","showTitle"],n=!1;u.each(i,function(t){if(u.hasKey(e,t))return!(n=!0)}),n&&this.resetTitle(),u.hasKey(t,"items")&&this.renderItems(),o.prototype.updateInner.call(this,t)},h.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),d.modifyCSS(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},h.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),d.modifyCSS(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},h.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},h.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},h.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",i=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");i&&d.modifyCSS(i,{display:e}),n&&d.modifyCSS(n,{display:e})},h.prototype.initDom=function(){this.cacheDoms()},h.prototype.removeDom=function(){o.prototype.removeDom.call(this),this.clearCrosshairs()},h.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(c.TITLE_CLASS)[0],i=t.getElementsByClassName(c.LIST_CLASS)[0];this.set("titleDom",e),this.set("listDom",i)},h.prototype.resetPosition=function(){var t,e=this.get("x"),i=this.get("y"),n=this.get("offset"),o=this.getOffset(),r=o.offsetX,a=o.offsetY,s=this.get("position"),l=this.get("region"),u=this.getContainer(),c=this.getBBox(),h=c.width,p=c.height;l&&(t=g.regionToBBox(l));var f=y.getAlignPoint(e,i,n,h,p,s,t);d.modifyCSS(u,{left:g.toPx(f.x+r),top:g.toPx(f.y+a)}),this.resetCrosshairs()},h.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},h.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},h.prototype.resetCrosshairs=function(){var t,e,i,n=this.get("crosshairsRegion"),o=this.get("crosshairs");n&&o?(t=g.regionToBBox(n),e=this.get("xCrosshairDom"),i=this.get("yCrosshairDom"),"x"===o?(this.resetCrosshair("x",t),i&&(i.remove(),this.set("yCrosshairDom",null))):"y"===o?(this.resetCrosshair("y",t),e&&(e.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",t),this.resetCrosshair("y",t)),this.setCrossHairsVisible(this.get("visible"))):this.clearCrosshairs()},h.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),n=this.get(t);"x"===t?d.modifyCSS(i,{left:g.toPx(n),top:g.toPx(e.y),height:g.toPx(e.height)}):d.modifyCSS(i,{top:g.toPx(n),left:g.toPx(e.x),width:g.toPx(e.width)})},h.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",i=t+"CrosshairTpl",n="CROSSHAIR_"+t.toUpperCase(),o=c[n],r=this.get(e),a=this.get("parent");return r||(r=d.createDom(this.get(i)),this.applyStyle(o,r),a.appendChild(r),this.set(e,r)),r},h.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),r=this.get("itemTpl"),a=this.get("listDom");a&&(u.each(t,function(t){var e=l.default.toCSSGradient(t.color),i=s.__assign(s.__assign({},t),{color:e}),n=u.substitute(r,i),o=d.createDom(n);a.appendChild(o)}),this.applyChildrenStyles(a,this.get("domStyles")))},h.prototype.clearItemDoms=function(){this.get("listDom")&&g.clearDom(this.get("listDom"))},h.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},h);function h(){return null!==o&&o.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(5),a=i(0),s=i(111),l=(n=i(198).default,o.__extends(u,n),u.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return o.__assign(o.__assign({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},u.prototype.getContainer=function(){return this.get("container")},u.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},u.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},u.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},u.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,i=parseFloat(t.style.top)||0;return s.createBBox(e,i,t.clientWidth,t.clientHeight)},u.prototype.clear=function(){var t=this.get("container");s.clearDom(t)},u.prototype.destroy=function(){this.removeEvent(),this.removeDom(),n.prototype.destroy.call(this)},u.prototype.init=function(){n.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},u.prototype.initCapture=function(){this.setCapture(this.get("capture"))},u.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},u.prototype.initDom=function(){},u.prototype.initContainer=function(){var t,e=this.get("container");a.isNil(e)?(e=this.createDom(),t=this.get("parent"),a.isString(t)&&(t=document.getElementById(t),this.set("parent",t)),t.appendChild(e),this.set("container",e)):a.isString(e)&&(e=document.getElementById(e),this.set("container",e)),this.get("parent")||this.set("parent",e.parentNode)},u.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles"),t=t?a.deepMix({},e,t):e;this.set("domStyles",t)},u.prototype.applyStyles=function(){var t,e,i,n=this.get("domStyles");n&&(t=this.getContainer(),this.applyChildrenStyles(t,n),(e=this.get("containerClassName"))&&s.hasClass(t,e)&&(i=n[e],r.modifyCSS(t,i)))},u.prototype.applyChildrenStyles=function(n,t){a.each(t,function(e,t){var i=n.getElementsByClassName(t);a.each(i,function(t){r.modifyCSS(t,e)})})},u.prototype.applyStyle=function(t,e){var i=this.get("domStyles");r.modifyCSS(e,i[t])},u.prototype.createDom=function(){var t=this.get("containerTpl");return r.createDom(t)},u.prototype.initEvent=function(){},u.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},u.prototype.removeEvent=function(){},u.prototype.updateInner=function(t){a.hasKey(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},u.prototype.resetPosition=function(){},u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(8),a=i(0),s={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},l=(n=r.Base,o.__extends(u,n),u.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},u.prototype.clear=function(){},u.prototype.update=function(t){var n=this,o=this.get("defaultCfg");a.each(t,function(t,e){var i=t;n.get(e)!==t&&(a.isObject(t)&&o[e]&&(i=a.deepMix({},o[e],t)),n.set(e,i))}),this.updateInner(t),this.afterUpdate(t)},u.prototype.updateInner=function(t){},u.prototype.afterUpdate=function(t){a.hasKey(t,"visible")&&(t.visible?this.show():this.hide()),a.hasKey(t,"capture")&&this.setCapture(t.capture)},u.prototype.getLayoutBBox=function(){return this.getBBox()},u.prototype.getLocationType=function(){return this.get("locationType")},u.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},u.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},u.prototype.setLocation=function(t){var e=o.__assign({},t);this.update(e)},u.prototype.getLocation=function(){var e=this,i={},t=this.get("locationType"),n=s[t];return a.each(n,function(t){i[t]=e.get(t)}),i},u.prototype.isList=function(){return!1},u.prototype.isSlider=function(){return!1},u.prototype.init=function(){},u.prototype.initCfg=function(){var o=this,t=this.get("defaultCfg");a.each(t,function(t,e){var i,n=o.get(e);a.isObject(n)&&(i=a.deepMix({},t,n),o.set(e,i))})},u);function u(t){var e=n.call(this,t)||this;return e.initCfg(),e}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},function(t,e,i){"use strict";function u(t,e,i,n,o){return{left:t<o.x,right:t+i>o.x+o.width,top:e<o.y,bottom:e+n>o.y+o.height}}function c(t,e,i,n,o,r){var a=t,s=e;switch(r){case"left":a=t-n-i,s=e-o/2;break;case"right":a=t+i,s=e-o/2;break;case"top":a=t-n/2,s=e-o-i;break;case"bottom":a=t-n/2,s=e+i;break;default:a=t+i,s=e-o-i}return{x:a,y:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.getOutSides=u,e.getPointByPosition=c,e.getAlignPoint=function(t,e,i,n,o,r,a){var s,l=c(t,e,i,n,o,r);return a&&(s=u(l.x,l.y,n,o,a),"auto"===r?(s.right&&(l.x=t-n-i),s.top&&(l.y=e+i)):"top"===r||"bottom"===r?(s.left&&(l.x=a.x),s.right&&(l.x=a.x+a.width-n),"top"===r&&s.top&&(l.y=e+i),"bottom"===r&&s.bottom&&(l.y=e-o-i)):(s.top&&(l.y=a.y),s.bottom&&(l.y=a.y+a.height-o),"left"===r&&s.left&&(l.x=t+i),"right"===r&&s.right&&(l.x=t-n-i))),l}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),u=i(0),n=i(114);function o(t,e,i){t[i]&&(e[i]=t[i])}var a=(s.prototype.init=function(){this.config=!1;var t=this.plot.getPlotTheme();this.themeConfig=t&&t.axis&&t.axis[this.dim],this._needDraw()&&this._styleParser()},s.prototype._styleParser=function(){this.config=r.__assign({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,o(this.localProps,this.config,"autoHideLabel"),o(this.localProps,this.config,"autoRotateLabel"),o(this.localProps,this.config,"autoRotateTitle")},s.prototype._needDraw=function(){var t=this.plot.options,e=t[this.dim+"Axis"]?t[this.dim+"Axis"]:{},i=u.deepMix({},this.themeConfig,e);return!!(this.localProps=i).visible},s.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},s.prototype._gridParser=function(){var t,e,i,n,o,r=this,a=null===(e=null===(t=this.localProps.grid)||void 0===t?void 0:t.line)||void 0===e?void 0:e.style,s=null===(n=null===(i=this.localProps.grid)||void 0===i?void 0:i.line)||void 0===n?void 0:n.type,l=null===(o=this.localProps.grid)||void 0===o?void 0:o.alternateColor;u.isFunction(a)?this.config.grid=function(t,e,i){var n=a(t,e,i);return{line:{type:s,style:u.deepMix({},u.get(r.themeConfig,"grid.line.style"),n)},alternateColor:l}}:a&&(this.config.grid={line:{type:s,style:a},alternateColor:l},this.applyThemeConfig("grid"))},s.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},s.prototype._labelParser=function(){var t=this.localProps.label,e=t.style,i=r.__rest(t,["style"]),n=r.__assign({},i);e&&(n.style=r.__assign({},this.localProps.label.style)),n.style=u.deepMix({},u.get(this.themeConfig,"label.style"),n.style);var o=this.parseFormatter(n);n.formatter=o,this.config.label=n},s.prototype._titleParser=function(){var t=r.__assign({},this.localProps.title),e=this.localProps.title,i=e.visible,n=e.style,o=e.text;i?(this.config.showTitle=!0,n&&(t.style=n),t.style=u.deepMix({},u.get(this.config,"title.style"),t.textStyle),o&&(t.text=o)):this.config.showTitle=!1,this.config.title=t},s.prototype._isVisible=function(t){return!(!this.localProps[t]||!this.localProps[t].visible)},s.prototype.applyThemeConfig=function(t){this.config[t]=u.deepMix({},u.get(this.themeConfig,t+".style"),this.config[t])},s.prototype.parseFormatter=function(t){var e=n.combineFormatter(n.getNoopFormatter(),n.getPrecisionFormatter(t.precision),n.getSuffixFormatter(t.suffix));return t.formatter&&(e=n.combineFormatter(e,t.formatter)),e},s);function s(t){this.config=!1,this.plot=t.plot,this.dim=t.dim,this.init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),v=i(0),o=i(20),r=(a.prototype._init=function(){var t,e,i,n,o,r,a,s,l,u,c,h,p,f=this.plot.options,d=f.yField,g=f.data,y=this.plot.processData(g);v.isNumber(y[d])&&(t=this.getDefaultStyle(),(e={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end}).style=v.deepMix({},t.line.style,this.cfg.lineStyle),e.text=v.deepMix({},t.text,this.cfg.text),this.cfg.type?(i=this._getState(this.cfg.type),o=["0%",n=100*(1-this.getYScale().scale(i))+"%"],r=["100%",n],this.config=v.mix({start:o,end:r},e)):(a=this.cfg,s=a.start,l=a.end,this.config=v.clone(e),u=this.getXScale(),c=this.getYScale(),h=v.clone(s),p=v.clone(l),v.each(s,function(t,e){v.contains(v.toArray(s[e]),"%")&&!v.isNumber(s[e])||(h[e]=0===e?100*u.scale(s[0])+"%":100*(1-c.scale(s[1]))+"%")}),v.each(l,function(t,e){v.contains(v.toArray(l[e]),"%")&&!v.isNumber(l[e])||(p[e]=0===e?100*u.scale(l[0])+"%":100*(1-c.scale(l[1]))+"%")}),this.config.start=h,this.config.end=p))},a.prototype.getYScale=function(){var t=this._getState("min"),e=this._getState("max");return new(n.getScale("linear"))(v.mix({},{min:"column"===this.plot.type?0:t,max:e,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]))},a.prototype.getXScale=function(){var t=this.extractXValue();if(v.isString(t[0]))return new(n.getScale("cat"))(v.mix({},{values:t},this.plot.config.scales[this.plot.options.xField]));var e=Math.min.apply(Math,t),i=Math.max.apply(Math,t);return new(n.getScale("linear"))(v.mix({},{min:e,max:i,nice:!0,values:t},this.plot.config.scales[this.plot.options.xField]))},a.prototype._getState=function(t){return this.values=this._extractValues(),"median"===t?o.getMedian(this.values):"mean"===t?o.getMean(this.values):"max"===t?Math.max.apply(Math,this.values):"min"===t?Math.min.apply(Math,this.values):void 0},a.prototype._extractValues=function(){var t=this.plot.options,e=t.yField,i=[],n=this.plot.processData(t.data);return v.each(n,function(t){v.isArray(t[e])?i.push.apply(i,t[e]):i.push(t[e])}),i},a.prototype.extractXValue=function(){var t=this.plot.options,e=t.xField,i=[],n=this.plot.processData(t.data);return v.each(n,function(t){v.isArray(t[e])?i.push.apply(i,t[e]):i.push(t[e])}),i},a.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},a.prototype.getDefaultTextAlign=function(){var t=this.cfg.text;if(t){if(!t.position||"start"===t.position)return"left";if("center"===t.position)return"center";if("end"===t.position)return"right"}},a);function a(t){v.assign(this,t),this._init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(0),a=i(114),n=(s.prototype.getConfig=function(){return this.config},s.prototype.init=function(t){var e=this;r.assign(this.config,t),this.config.callback=function(t){return e.parseCallBack(t)}},s.prototype.parseCallBack=function(t){var e=this.originConfig,i=this.plot.getPlotTheme(),n=o.__assign({},e);return this.parseOffset(e,n),e.position&&(r.isFunction(e.position)?n.position=e.position(t):n.position=e.position),this.parseFormatter(n),e.style&&(r.isFunction(e.style)?n.textStyle=e.style(t):n.textStyle=e.style),n.textStyle=r.deepMix({},r.get(i,"label.style"),n.textStyle),e.autoRotate&&(n.autoRotate=e.autoRotate),n},s.prototype.parseOffset=function(e,i){var n=0;r.each(["offset","offsetX","offsetY"],function(t){r.has(e,t)&&(i[t]=e[t],n++)}),0===n&&"middle"===r.get(e,"position")&&(i.offset=0)},s.prototype.parseFormatter=function(t){var n=this.originConfig;t.content=function(t,e){var i=t[n.fields[0]];return a.combineFormatter(a.getNoopFormatter(),a.getPrecisionFormatter(n.precision),a.getSuffixFormatter(n.suffix),n.formatter?n.formatter:a.getNoopFormatter())(i,t,e)}},s);function s(t){this.config={};var e=t.plot,i=o.__rest(t,["plot"]);this.plot=e,this.originConfig=i,this.init(t)}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l,u,c=i(0);function n(t,i){l||r(t),c.each(l,function(t){var e=a(t,i);s(e.labelData,e.con)&&t.shape.attr({opacity:1,fontWeight:600,fill:"red"})})}function r(s){l=[],u=[];var t=s.view.getController("axis").getComponents();c.each(t,function(t){var i,n,r=t.component,e=[],o=function(t){var e=t.options,i="y",n=r.get("position");"bottom"!==n&&"top"!==n||(i="x");var o=e[i+"Field"];return t.view.get("scales")[o]}(s),a=r.get("labelRenderer").get("group").get("children");c.each(a,function(t){"text"===t.type&&(e.push({shape:t}),u.push(t.attr()))}),o&&(i=o.ticks,n=o.field,c.each(e,function(t,e){t.value=i[e],t.scaleField=n,t.type=o.type})),l.push.apply(l,e)})}function a(t,e){var i,n=((i={})[t.scaleField]=t.value,i),o=c.clone(e);return"time"===t.type&&c.isObject(e)&&!c.isFunction(o.exp)&&(o.exp=new Date(o.exp).getTime()),{labelData:n,con:o}}function s(t,e){if(c.isFunction(e))return e(t);var i=e.name,n=e.exp;return t[i]&&(c.isFunction(n)?n(t[i]):t[i]===n)}e.default={active:n,selected:n,disable:function(t,o){l||r(t),c.each(l,function(t,e){var i,n=a(t,o);s(n.labelData,n.con)&&(i={opacity:.2*(u[e].opacity||1)},t.shape.attr(i))})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a,s=i(0),l=i(54);function o(t,r){n||u(t),s.each(n,function(t,e){var i,n,o=t.get("origin");l.compare(o,r)&&(i=a[e],n=s.mix({},i,{opacity:1}),t.attr(n))})}function u(t){n=[],a=[];var e=t.view.get("elements");s.each(e,function(t){var e=t.get("labels");e&&s.each(e,function(t){n.push(t),a.push(t.attr())})})}e.default={active:o,selected:o,disable:function(t,o){n||u(t),s.each(n,function(t,e){var i,n=t.get("origin");l.compare(n,o)&&(i={opacity:.2*(a[e].opacity||1)},t.attr(i))})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(0),u=i(54),c=["xField","yField","angleField"];function n(i,n){var t,e,o,r,a,s=i.options;e=n,o=s,r=[],l.each(c,function(t){l.has(o,t)&&r.push(t)}),a=r,!l.isFunction(e)&&a.indexOf(e.name)&&(t=s.data,l.each(t,function(t){var e;u.compare(t,n)&&(e=i.view.getXY(t),i.view.on("tooltip:create",function(t){h(n,t,!1)}),i.view.showTooltip(e))}))}function h(i,n,t){var o=!t,e=l.clone(n.items);n.items.splice(0),l.each(e,function(t){var e=t.point._origin;u.compare(e,i)===o&&n.items.push(t)})}e.default={active:n,selected:n,disable:function(t,e){t.view.on("tooltip:change",function(t){h(e,t,!0)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(39)),r=n.__importDefault(i(209)),a=n.__importDefault(i(210)),s=n.__importDefault(i(211));o.default.registerInteraction("slider",a.default),o.default.registerInteraction("scrollbar",r.default),o.default.registerInteraction("timeline",s.default),n.__exportStar(i(39),e),e.default=o.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function c(t){void 0===t&&(t={});var e=h.__assign({type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0]},t);return t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),e}var n,h=i(1),l=i(7),u=h.__importDefault(i(10)),p=i(0),o=h.__importDefault(i(39)),f=i(116),r=(n=o.default,h.__extends(a,n),a.getInteractionRange=function(t,e){var i=c(e),n=i.padding,o=n[0],r=n[1],a=n[2],s=n[3];return"horizontal"===i.type?new u.default(t.minX,t.maxY-i.height-o-a,t.width,i.height+o+a):new u.default(t.maxX-i.width-s-r,t.minY,i.width+s+r,t.height)},a.prototype.render=function(){var e=this,t=this.view;this.ratio=0,this.thumbOffset=0,t.on("afterrender",function(){var t=e.view.padding;p.isEqual([0,0,0,0],t)||(e.trackLen?e.renderScrollbar():(e.measureScrollBar(),e.changeViewData(e.getScrollRange(),!0)))})},a.prototype.start=function(){},a.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},a.prototype.renderScrollbar=function(){var t=c(this.getInteractionConfig()),e=this.getRange(),i="vertical"!==t.type,n=this.view.coordinateBBox,o=t.padding,r=o[0],a=o[3],s=i?{x:n.minX+a,y:e.minY+r}:{x:e.minX+a,y:n.minY+r};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:s.x,y:s.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new l.Scrollbar({container:this.container,x:s.x,y:s.y,isHorizontal:i,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",999),this.scrollbar.on("scrollchange",this.onChangeFn))},a.prototype.measureScrollBar=function(){var t=c(this.getInteractionConfig()),e=t.padding,i=e[0],n=e[1],o=e[2],r=e[3],a="vertical"!==t.type,s=this.view.coordinateBBox,l=this.view.getXScale(),u=this.view.getYScales();this.cnt=l.values.length,this.xScaleCfg={field:l.field,values:l.values||[]},this.yScalesCfg=p.map(u,function(t){return{field:t.field,type:t.type,min:t.min,max:t.max,ticks:t.ticks,formatter:t.formatter}}),this.step=Math.floor((a?s.width:s.height)/t.categorySize),this.trackLen=a?s.width-r-n:s.height-i-o,this.thumbLen=Math.max(this.trackLen*p.clamp(this.step/l.values.length,0,1),20)},a.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*p.clamp(this.ratio,0,1));return[t,Math.min(t+this.step,this.cnt)]},a.prototype.changeViewData=function(t,e){var i=this,n=t[0],o=t[1],r=c(this.getInteractionConfig()),a=this.getViewLayer(),s=a.options.meta,l=a.getData(),u=f.getDataByScaleRange(this.xScaleCfg.field,this.xScaleCfg.values,l,[n,o],"vertical"===r.type);this.yScalesCfg.forEach(function(t){var e=p.get(s,t.field)||{};i.view.scale(t.field,h.__assign(h.__assign({formatter:t.formatter},e),{type:t.type,min:t.min,max:t.max}))}),e?(this.view.data(u),this.view.render()):this.view.changeData(u)},a.prototype.onChange=function(t){var e=t.ratio,i=t.thumbOffset;this.ratio=e,this.thumbOffset=i;var n=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange()),this.view.animate(n),this.renderScrollbar()},a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.onChangeFn=p.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function m(t){void 0===t&&(t={});var e=x.__assign({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},t);t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),t.height||(e.height=16),t.width||(e.width=16);var i=c.clamp(Math.min(e.start,e.end),0,1),n=c.clamp(Math.max(e.start,e.end),0,1);return e.start=i,e.end=n,e}var n,x=i(1),r=i(7),l=x.__importDefault(i(10)),c=i(0),o=x.__importDefault(i(39)),a=i(116),s=(n=o.default,x.__extends(u,n),u.getInteractionRange=function(t,e){var i=m(e),n=i.padding||[0,0,0,0],o=n[0],r=n[1],a=n[2],s=n[3];return"horizontal"===i.type?new l.default(t.minX,t.maxY-i.height-o-a,t.width,i.height+o+a):new l.default(t.maxX-i.width-s-r,t.minY,i.width+s+r,t.height)},u.prototype.render=function(){var e=this,i=this.getViewLayer(),n=this.view,t=m(this.getInteractionConfig());function o(){var t;c.isEmpty(i.options.data)||(e.xScaleCfg?e.renderSlider():(t=n.getXScale(),e.xScaleCfg={field:t.field,values:t.values||[]},n.data(e.getSliderData(e.curStart,e.curEnd)),n.render()))}this.curStart=t.start,this.curEnd=t.end,this.xScaleCfg=void 0,n.on(r.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(r.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(r.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(r.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},u.prototype.start=function(){},u.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},u.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new r.Slider(x.__assign(x.__assign({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},u.prototype.getSliderConfig=function(){var t=this.view.coordinateBBox,e=this.getRange(),i=m(this.getInteractionConfig())||{},n=i.padding,o=void 0===n?[0,0,0,0]:n,r=i.backgroundStyle,a=i.foregroundStyle,s=i.handlerStyle,l=i.textStyle,u=i.trendCfg,c=void 0===u?{}:u,h=o[0],p=o[1],f=o[2],d=o[3],g=this.getSliderMinMaxText(this.curStart,this.curEnd),y=g.minText,v=g.maxText;return{x:t.minX+d,y:e.minY+h,width:t.width-d-p,height:e.height-h-f,start:this.curStart,end:this.curEnd,minText:y,maxText:v,backgroundStyle:r,foregroundStyle:a,handlerStyle:s,textStyle:l,trendCfg:x.__assign(x.__assign({isArea:!1,smooth:!1},c),{data:this.getSliderTrendData()})}},u.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,i=t.yField;return c.map(e,function(t){return t[i]})},u.prototype.getSliderData=function(t,e){var i=this.getViewLayer().getData(),n=c.size(this.xScaleCfg.values),o=Math.round(t*n),r=Math.max(o+1,Math.round(e*n));return a.getDataByScaleRange(this.xScaleCfg.field,this.xScaleCfg.values,i,[o,r])},u.prototype.getSliderMinMaxText=function(t,e){var i=this.getViewLayer().options,n=i.data,o=void 0===n?[]:n,r=i.xField,a=c.size(o),s=Math.round(t*a),l=Math.max(s+1,Math.round(e*a)),u=o.slice(s,l);return{minText:0<u.length?c.head(u)[r]:"",maxText:0<u.length?c.last(u)[r]:""}},u.prototype.onChange=function(t){var e=this.view,i=c.clamp(Math.min(t[0],t[1]),0,1),n=c.clamp(Math.max(t[0],t[1]),0,1),o=this.getSliderData(i,n),r=this.getSliderMinMaxText(i,n),a=r.minText,s=r.maxText;this.curStart=i,this.curEnd=n,this.slider.update({start:i,end:n,minText:a,maxText:s}),this.slider.render();var l=e.getOptions().animate;e.animate(!1),e.changeData(o),e.animate(l)},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.onChangeFn=c.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(1),g=i(0),n=i(7),o=d.__importDefault(i(39)),r=d.__importDefault(i(10)),y=d.__importDefault(i(212));function v(t){return d.__assign({loop:!1,auto:!0,height:40,padding:[0,20,0,0],speed:2},t)}var a,s=(a=o.default,d.__extends(l,a),l.getInteractionRange=function(t,e){var i=v(e),n=i.padding[0],o=i.padding[2];return new r.default(t.minX,t.maxY-i.height-n-o,t.width,i.height+n+o)},l.prototype.setAnimate=function(e){var t=this.view.geometries;this.view.animate(e),t.forEach(function(t){t.animate(e)})},l.prototype.start=function(){},l.prototype.renderTimeLine=function(){var t=this;this.config=v(this.getInteractionConfig());var e=this.view.viewBBox,i=this.config,n=i.loop,o=i.padding,r=i.speed,a=o[0],s=o[1],l=o[2],u=o[3],c=this.getRange(),h=this.getTicks(),p=e.width-u-s,f={x:e.minX+u,y:c.tl.y+a,width:p,height:c.height-a-l,loop:n,ticks:h,speed:r,defaultCurrentTick:h[0]};this.timeline?g.isEqual(f,this.timeLineConfig)||(this.timeLineConfig=f,this.timeline.update(f)):(this.container=this.canvas.addGroup(),this.timeline=new y.default(d.__assign({container:this.container},f)),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(h[0])),this.timeLineConfig=f)},l.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},l.prototype.getFilterData=function(e){var i=this.config.field;return this.getViewLayer().options.data.filter(function(t){return t[i]===e})},l.prototype.getTicks=function(){var e=this.config.field,t=this.getViewLayer().options.data;return g.uniq(t.map(function(t){return t[e]}))},l.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(n.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(n.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},l.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},l);function l(){var t=null!==a&&a.apply(this,arguments)||this;return t.onChangeFn=g.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),u=i(0),r=n.__importDefault(i(213)),a=n.__importDefault(i(53)),s=(o=a.default,n.__extends(l,o),l.prototype.renderInner=function(){},l.prototype.update=function(t){this.config=u.deepMix({},this.config,t);var e=this.config.ticks;this.currentTick=e.includes(this.currentTick)?this.currentTick:e[0],this.renderPlayButton(),this.renderTimeLine(),this.renderTimeSelect(this.currentTick),this.emit("timelineupdate",this.currentTick)},l.prototype.destroy=function(){o.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},l.prototype.init=function(){var t=this.config,e=t.ticks,i=t.defaultCurrentTick;e&&e.length&&(this.currentTick=this.config.ticks.includes(i)?i:e[0],this.renderPlayButton(),this.renderTimeLine(),this.renderTimeSelect(this.currentTick),this.initEvent())},l.prototype.renderPlayButton=function(){var t=this.config,e=t.height,i=t.x,n=t.y,o=e/2*.8;this.timeLineButton?this.timeLineButton.update({x:i+o,y:n+o+e*(1-.8)/2,r:o}):this.timeLineButton=new r.default({container:this.group,x:i+o,y:n+o+e*(1-.8)/2,r:o,isPlay:this.isPlay})},l.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,i=t.y,n=t.width,o=t.height,r=o/2;return 0<n?"M"+e+", "+i+"A"+r+","+r+" 90 0,0 "+e+","+(i+o)+"L"+(e+n)+", "+(i+o)+"A"+r+","+r+" 90 0,0 "+(e+n)+","+i+"L"+e+", "+i:[]},l.prototype.renderTimeLine=function(){var o=this,t=this.config,e=t.width,i=t.height,n=t.ticks,r=t.x,a=t.y;this.timeLine||(this.timeLine={}),this.timeLine.height=.15*i,this.timeLine.x=r+i+20,this.timeLine.y=a+(i/2-this.timeLine.height/2),this.timeLine.width=e-this.timeLine.x-20,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=this.group.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var s=this.timeLine.width/(n.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(t){t.destroy()});var l=-1/0;this.timeLine.textList=n.map(function(t,e){o.tickPosList.push(o.timeLine.x+e*s);var i=o.group.addShape("text",{attrs:{x:o.timeLine.x+e*s,y:o.timeLine.y+o.timeLine.height+5,text:t,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),n=i.getBBox();return n.minX>l?(i.show(),l=n.minX+n.width+10):i.hide(),i})},l.prototype.renderTimeSelect=function(e){var t=this.config,i=t.ticks,n=t.height,o=this.timeLine.width/(i.length-1),r=u.findIndex(i,function(t){return t===e}),a=this.timeLine.x+r*o,s=this.config.y+n/2,l=.15*n;this.timeSelect?(this.timeSelect.attr("x",a),this.timeSelect.attr("y",s),this.timeSelect.attr("r",l)):this.timeSelect=this.group.addShape("circle",{attrs:{x:a,y:s,r:l,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",a),this.timeSelectText.attr("y",s-.15*n-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=this.group.addShape("text",{attrs:{x:a,y:s-.15*n-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},l.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},l.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var i=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[i]&&(this.currentTick=this.config.ticks[i],this.timeSelectText.attr("text",this.currentTick),this.emit("timelinechange",this.currentTick)),this.getCanvas().draw()},l.prototype.syncCurrnentTick=function(){var e=this,t=this.config.ticks,i=this.timeLine.width/(t.length-1),n=u.findIndex(t,function(t){return t===e.currentTick}),o=this.timeLine.x+n*i;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},l.prototype.startPlay=function(){var o=this;return window.requestAnimationFrame(function(){var t=o.config,e=t.speed,i=t.ticks,n=o.timeLine.width/i.length/(1e3*e/60);o.setTimeSelectX(n),o.isPlay&&(o.playHandler=o.startPlay())})},l.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit("timelinestart",null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit("timelineend",null))),this.getCanvas().draw()},l.prototype.initEvent=function(){var e=this;this.timeLineButton.on("click",function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),this.timeSelect.on("mousedown",function(t){e.onTimeSelectMouseDown(t)})},l);function l(t){var n=o.call(this,u.deepMix({},{speed:1,loop:!1},t))||this;return n.onTimeSelectMouseMove=function(t){t.stopPropagation(),t.preventDefault();var e=u.get(t,"touches.0.pageX",t.pageX),i=e-n.prevX;n.setTimeSelectX(i),n.prevX=e},n.onTimeSelectMouseUp=function(){n.syncCurrnentTick(),n.emit("timelineend",null);var t=n.getCanvas().get("container");t&&(t.removeEventListener("mousemove",n.onTimeSelectMouseMove),t.removeEventListener("mouseup",n.onTimeSelectMouseUp),t.removeEventListener("mouseleave",n.onTimeSelectMouseUp),t.removeEventListener("touchmove",n.onTimeSelectMouseMove),t.removeEventListener("touchend",n.onTimeSelectMouseUp),t.removeEventListener("touchcancel",n.onTimeSelectMouseUp))},n.onTimeSelectMouseDown=function(t){var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),!1===n.isPlay?n.emit("timelinestart",null):(n.isPlay=!1,n.changePlayStatus(!1)),n.prevX=u.get(e,"touches.0.pageX",e.pageX);var i=n.getCanvas().get("container");i.addEventListener("mousemove",n.onTimeSelectMouseMove),i.addEventListener("mouseup",n.onTimeSelectMouseUp),i.addEventListener("mouseleave",n.onTimeSelectMouseUp),i.addEventListener("touchmove",n.onTimeSelectMouseMove),i.addEventListener("touchend",n.onTimeSelectMouseUp),i.addEventListener("touchcancel",n.onTimeSelectMouseUp)},n}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=(n=o.__importDefault(i(53)).default,o.__extends(s,n),s.prototype.renderInner=function(){},s.prototype.update=function(t){this.config=r.deepMix({},this.config,t),this.updateElement(),this.renderMarker()},s.prototype.init=function(){var t=this;this.initElement(),this.renderMarker(),this.group.on("click",function(){t.emit("click")})},s.prototype.destroy=function(){this.group.off(),n.prototype.destroy.call(this)},s.prototype.initElement=function(){this.circle=this.group.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=this.group.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=this.group.addGroup();var t=.25*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-e/2,width:t,height:e,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-e/2,width:t,height:e,fill:"#ffffff"}}),this.group.add(this.pauseGroupMarker)},s.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=.25*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},s.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},s.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},s);function s(t){return n.call(this,r.deepMix({},t))||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),f=i(0),d=n.__importDefault(i(10)),o=i(38),r=(a.prototype.registerPadding=function(e,t,i){void 0===t&&(t="outer"),void 0===i&&(i=!1),"inner"===t?i&&this.innerPaddingComponents.find(function(t){return t==e})||this.innerPaddingComponents.push(e):i&&this.outerPaddingComponents.find(function(t){return t==e})||this.outerPaddingComponents.push(e)},a.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=f.filter(this.outerPaddingComponents,function(t){return t.afterRender})},a.prototype.clearOuterComponents=function(){f.each(this.outerPaddingComponents,function(t){t.afterRender&&t.destroy()}),this.outerPaddingComponents=[]},a.prototype.getPadding=function(){var t=this.plot.options,e=t.padding?t.padding:this.plot.config.theme.padding;return"auto"===e?[0,0,0,1]:e},a.prototype.processAutoPadding=function(){var t=this._getInnerAutoPadding();this.plot.updateConfig({padding:t}),this.plot.render()},a.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new d.default(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var s=this.plot.layerBBox.minX,l=this.plot.layerBBox.maxX,u=this.plot.layerBBox.minY,c=this.plot.layerBBox.maxY;return f.each(this.outerPaddingComponents,function(t){var e=t.position,i=t.getBBox(),n=i.minX,o=i.maxX,r=i.minY,a=i.maxY;u<=a&&a<=c&&"top"===e&&(u=a),u<=r&&r<=c&&"bottom"===e&&(c=r),s<o&&o<=l&&"left"===e&&(s=o),s<=n&&o<=l&&"right"===e&&(l=n)}),new d.default(s,u,l-s,c-u)},a.prototype._getInnerAutoPadding=function(){var i=this.plot.options,t=this.plot.view,e=f.clone(t.coordinateBBox),n=e.maxX,o=e.maxY,r=e.minY,a=e.minX,s=this.plot.config.theme.bleeding;f.isArray(s)&&f.each(s,function(t,e){"function"==typeof s[e]&&(s[e]=s[e](i))}),this.plot.config.theme.legend.margin=s,this.bleeding=f.clone(s);var l=[new d.default(e.minX,e.minY,e.width,e.height)];this._getAxis(t,l[0],l);var u=this._mergeBBox(l);this._getLegend(t,u,l),u=this._mergeBBox(l);var c=this.innerPaddingComponents;f.each(c,function(t){var e=t.getBBox();l.push(e)});var h=[r-(u=this._mergeBBox(l)).minY+this.bleeding[0],u.maxX-n+this.bleeding[1],u.maxY-o+this.bleeding[2],a-u.minX+this.bleeding[3]],p=this._getPanel(t);return h[0]+=p[0],h[1]+=p[1],h[2]+=p[2],h[3]+=p[3],h},a.prototype._getAxis=function(t,s,l){var e=o.getAxisComponents(t),u=t.getCoordinate().isTransposed;f.each(e,function(t){var e,i,n,o,r,a;0!==t.get("group").get("children").length&&(e=t.get("position"),n=(i=t.getLayoutBBox()).minX,o=i.minY,r=i.width,a=i.height,u?"bottom"===e?l.push(new d.default(s.minX-r,o,r,a)):"left"===e?l.push(new d.default(n,s.maxY+a,r,a)):"top"===e&&l.push(new d.default(s.maxX,o,r,a)):"left"===e?l.push(new d.default(s.minX-r,o,r,a)):"bottom"===e?l.push(new d.default(n,s.maxY+a,r,a)):"right"===e&&l.push(new d.default(s.maxX,o,r,a)))})},a.prototype._getLegend=function(t,s,l){var e=o.getLegendComponents(t);f.each(e,function(t){var e=t.get("position").split("-")[0],i=t.getLayoutBBox(),n=i.minX,o=i.minY,r=i.width,a=i.height;"top"===e?l.push(new d.default(n,s.minY-a,r,a)):"bottom"===e?l.push(new d.default(n,s.maxY,r,a)):"left"===e?l.push(new d.default(s.minX-r,o,r,a)):l.push(new d.default(s.maxX,o,r,a))})},a.prototype._getPanel=function(t){var e=[],i=t.geometries;f.each(i,function(t){t.labelsContainer&&e.push(t.labelsContainer)});var n=1/0,o=-1/0,r=1/0,a=-1/0;f.each(e,function(t){t.get("children").forEach(function(t){var e;"group"===t.type&&0===t.get("children").length||((e=t.getBBox()).minX<n&&(n=e.minX),e.maxX>o&&(o=e.maxX),e.minY<r&&(r=e.minY),e.maxY>a&&(a=e.maxY))})});var s=t.coordinateBBox,l=Math.max(o-parseFloat(s.maxX),0);0<l&&(l*=s.width/(s.width+l));var u=Math.max(parseFloat(s.minX)-n,0);0<u&&(u*=s.width/(s.width+u));var c=Math.max(parseFloat(s.minY)-r,0);0<c&&(c*=s.height/(s.height+c));var h=Math.max(a-parseFloat(s.maxY),0);return 0<h&&(h*=s.height/(s.height+h)),[c,l,h,u]},a.prototype._mergeBBox=function(t){var i=1/0,n=-1/0,o=1/0,r=-1/0;return f.each(t,function(t){var e=t;i=Math.min(e.minX,i),n=Math.max(e.maxX,n),o=Math.min(e.minY,o),r=Math.max(e.maxY,r)}),{minX:i,maxX:n,minY:o,maxY:r}},a);function a(t){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=t.plot}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(118);e.DEFAULT_DARK_THEME={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[n.TOP_BLEEDING,24,n.BOTTOM_BLEEDING,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,n.DESCRIPTION_BOTTOM_MARGIN,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,offset:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,offset:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),n={};e.registerTheme=function(t,e){n[t.toLowerCase()]=function(){var n={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},o={};"area"===t&&(n={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var r={};return a.each(e,function(t,e){var i;a.has(n,e)?(i=n[e],a.each(t,function(t,e){a.set(r,i+"."+["normal"===e?"default":e]+".style",t)})):a.set(o,e,t)}),a.isEmpty(r)||a.set(o,"geometries",r),o}()},e.getTheme=function(t){return n[t.toLowerCase()]||{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.convertToG2Theme=function(t){var e=n.clone(t);return e.legend||(e.legend={}),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_RESPONSIVE_THEME={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(5),c=i(7),r=i(0),a=n.__importDefault(i(220)),s=i(117),l=n.__importDefault(i(80)),u=(h.prototype.getCanvasSize=function(){var t=s.getGlobalTheme(),e=this.plot.width?this.plot.width:t.width,i=this.plot.height?this.plot.height:t.height;return this.plot.forceFit&&(e=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:e,i=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:i),{width:e,height:i}},h.prototype.getCanvasDOM=function(){return this.canvas.get("container")},h.prototype.updateCanvasSize=function(){var t=this.getCanvasSize(),e=t.width,i=t.height;this.width=e,this.height=i,this.canvas.changeSize(e,i)},h.prototype.updateCanvasTheme=function(){var t=this.plot.theme,e=l.default.getGlobalTheme(t),i=r.get(e,"backgroundStyle.fill");i&&this.updateCanvasStyle({backgroundColor:i})},h.prototype.updateCanvasStyle=function(t){o.modifyCSS(this.getCanvasDOM(),t),o.modifyCSS(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},h.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},h.prototype.bindForceFit=function(){this.plot.forceFit&&(this.resizeObserver=new a.default(this.onResize),this.resizeObserver.observe(this.containerDOM))},h.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},h.prototype.initGCanvas=function(){var t=this.plot,e=t.renderer,i=void 0===e?"canvas":e,n=t.pixelRatio,o=t.localRefresh,r=void 0!==o&&o,a=this.getCanvasSize(),s=a.width,l=a.height,u="canvas"===i?c.Canvas:c.SVG;this.canvas=new u({localRefresh:r,container:this.containerDOM,width:s,height:l,pixelRatio:n}),this.width=s,this.height=l,this.updateCanvasTheme()},h);function h(t){var n=this;this.onResize=r.debounce(function(){var t,e,i;n.plot.destroyed||(e=(t=n.getCanvasSize()).width,i=t.height,n.width===e&&n.height===i||(n.width=e,n.height=i,n.plot.updateConfig({width:e,height:i}),n.plot.render()))},300);var e=t.containerDOM,i=t.plot;this.containerDOM=e,this.plot=i,this.init()}e.default=u},function(t,C,e){"use strict";e.r(C),function(t){function u(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var o=n[i];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t}var n=function(){if("undefined"!=typeof Map)return Map;function n(t,i){var n=-1;return t.some(function(t,e){return t[0]===i&&(n=e,!0)}),n}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=n(this.__entries__,t),i=this.__entries__[e];return i&&i[1]},t.prototype.set=function(t,e){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,i=n(e,t);~i&&e.splice(i,1)},t.prototype.has=function(t){return!!~n(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var o=n[i];t.call(e,o[1],o[0])}},t;function t(){this.__entries__=[]}}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,e=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),l="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(e):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},o=["top","right","bottom","left","width","height","size","weight"],r="undefined"!=typeof MutationObserver,a=(s.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},s.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},s.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},s.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),r?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;o.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s),h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||e},p=y(0,0,0,0);function s(){function t(){r&&(r=!1,n()),a&&i()}function e(){l(t)}function i(){var t=Date.now();if(r){if(t-s<2)return;a=!0}else a=!(r=!0),setTimeout(e,o);s=t}var n,o,r,a,s;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(n=this.refresh.bind(this),a=r=!(o=20),s=0,i)}function f(t){return parseFloat(t)||0}function d(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(t,e){return t+f(i["border-"+e+"-width"])},0)}var c="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox};function g(t){return i?c(t)?y(0,0,(e=t.getBBox()).width,e.height):function(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return p;var n,o,r=h(t).getComputedStyle(t),a=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var o=n[i],r=t["padding-"+o];e[o]=f(r)}return e}(r),s=a.left+a.right,l=a.top+a.bottom,u=f(r.width),c=f(r.height);return"border-box"===r.boxSizing&&(Math.round(u+s)!==e&&(u-=d(r,"left","right")+s),Math.round(c+l)!==i&&(c-=d(r,"top","bottom")+l)),t!==h(t).document.documentElement&&(n=Math.round(u+s)-e,o=Math.round(c+l)-i,1!==Math.abs(n)&&(u-=n),1!==Math.abs(o)&&(c-=o)),y(a.left,a.top,u,c)}(t):p;var e}function y(t,e,i,n){return{x:t,y:e,width:i,height:n}}function v(t,e){var i,n,o,r,a,s,l=(i=e.x,n=e.y,o=e.width,r=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(a.prototype),u(s,{x:i,y:n,width:o,height:r,top:n,right:i+o,bottom:r+n,left:i}),s);u(this,{target:t,contentRect:l})}function m(t){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=a.getInstance(),i=new b(t,e,this);_.set(this,i)}var x=(O.prototype.isActive=function(){var t=g(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},O.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},O),b=(M.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new x(t)),this.controller_.addObserver(this),this.controller_.refresh())}},M.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},M.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},M.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},M.prototype.broadcastActive=function(){var t,e;this.hasActive()&&(t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new v(t.target,t.broadcastRect())}),this.callback_.call(t,e,t),this.clearActive())},M.prototype.clearActive=function(){this.activeObservations_.splice(0)},M.prototype.hasActive=function(){return 0<this.activeObservations_.length},M),_=new("undefined"!=typeof WeakMap?WeakMap:n);function M(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}function O(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}["observe","unobserve","disconnect"].forEach(function(e){m.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}});var w=void 0!==e.ResizeObserver?e.ResizeObserver:m;C.default=w}.call(this,e(221))},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),n=(o.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"mousemove",s.wrapBehavior(this,"onMove")),this.addEvent(this.canvas,"mouseup",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"click",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"dblclick",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"wheel",s.wrapBehavior(this,"onEvents"))},o.prototype.clearEvents=function(){var t=this.eventHandlers;s.each(t,function(t){t.target.off(t.type,t.handler)})},o.prototype.addEvent=function(t,e,i){t.on(e,i),this.eventHandlers.push({target:t,type:e,handler:i})},o.prototype.onEvents=function(t){var e=this.getEventObj(t),i=t.target;!this.isShapeInView(i)&&i.name&&this.plot.emit(i.name+":"+t.type,t),this.plot.emit(""+t.type,e);var n=this.plot.getLayers();0<n.length&&this.onLayerEvent(n,e,t.type)},o.prototype.onMove=function(t){var e,i=t.target,n=this.getEventObj(t);!this.isShapeInView(i)&&i.name&&(this.plot.emit(i.name+":"+t.type,n),!this.lastShape||(e=this.lastShape,i&&e&&i===e)||(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",n),this.plot.emit(i.name+":mouseenter",n)),this.lastShape=i),this.plot.emit("mousemove",n);var o=this.plot.getLayers();0<o.length&&this.onLayerEvent(o,n,"mousemove")},o.prototype.isShapeInView=function(t){for(var e=["frontgroundGroup","backgroundGroup","panelGroup"],i=t.get("parent");i;){var n=i.get("name");if(n&&s.contains(e,n))return!0;i=i.get("parent")}return!1},o.prototype.getEventObj=function(t){return{clientX:t.clientX,clientY:t.clientY,x:t.x,y:t.y,plot:this.plot,data:t.data?t.data.data:null,canvas:this.canvas,target:t.target,gEvent:t}},o.prototype.onLayerEvent=function(t,o,r){var a=this;s.each(t,function(t){var e,i,n=t.getGlobalBBox();(i={x:o.x,y:o.y}).x>=n.minX&&i.x<=n.maxX&&i.y>=n.minY&&i.y<=n.maxY&&(t.emit(""+r,o),0<(e=t.layers).length&&a.onLayerEvent(e,o,r))})},o);function o(t){this.plot=t.plot,this.canvas=t.canvas,this.eventHandlers=[]}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(224);e.Line=o.default,e.LineConfig=o.LineConfig;var r=i(260);e.Treemap=r.default,e.TreemapConfig=r.TreemapConfig;var a=i(271);e.StepLine=a.default,e.StepLineConfig=a.StepLineConfig;var s=i(273);e.Bar=s.default,e.BarConfig=s.BarConfig;var l=i(277);e.StackedBar=l.default,e.StackedBarConfig=l.StackedBarConfig;var u=i(281);e.GroupedBar=u.default,e.GroupedBarConfig=u.GroupedBarConfig;var c=i(283);e.PercentStackedBar=c.default,e.PercentStackedBarConfig=c.PercentStackedBarConfig;var h=i(284);e.RangeBar=h.default,e.RangeBarConfig=h.RangeBarConfig;var p=i(288);e.Area=p.default,e.AreaConfig=p.AreaConfig;var f=i(292);e.StackedArea=f.default,e.StackedAreaConfig=f.StackedAreaConfig;var d=i(299);e.PercentStackedArea=d.default,e.PercentStackedAreaConfig=d.PercentStackedAreaConfig;var g=i(300);e.Column=g.default,e.ColumnConfig=g.ColumnConfig;var y=i(46);e.ColumnLabel=y.default;var v=i(305);e.GroupedColumn=v.default,e.GroupedColumnConfig=v.GroupedColumnConfig;var m=i(307);e.StackedColumn=m.default,e.StackedColumnConfig=m.StackedColumnConfig;var x=i(144);e.StackedColumnLabel=x.default;var b=i(311);e.RangeColumn=b.default,e.RangeColumnConfig=b.RangeColumnConfig;var _=i(315);e.PercentStackedColumn=_.default,e.PercentStackedColumnConfig=_.PercentStackedColumnConfig;var M=i(316);e.Pie=M.default,e.PieConfig=M.PieConfig;var O=i(325);e.DensityHeatmap=O.default,e.DensityHeatmapConfig=O.DensityHeatmapConfig;var w=i(332);e.Heatmap=w.default,e.HeatmapConfig=w.HeatmapConfig;var C=i(338);e.WordCloud=C.default,e.WordCloudConfig=C.WordCloudConfig;var S=i(342);e.Rose=S.default,e.RoseConfig=S.RoseConfig;var j=i(344);e.Funnel=j.default,e.FunnelConfig=j.FunnelConfig;var A=i(351);e.StackedRose=A.default,e.StackedRoseConfig=A.StackedRoseConfig;var P=i(353);e.GroupedRose=P.default,e.GroupedRoseConfig=P.GroupedRoseConfig;var T=i(355);e.Radar=T.default,e.RadarConfig=T.RadarConfig;var L=i(359);e.Liquid=L.default,e.LiquidConfig=L.LiquidConfig;var k=i(364);e.Histogram=k.default,e.HistogramConfig=k.HistogramConfig;var E=i(366);e.Density=E.default,e.DensityConfig=E.DensityConfig;var D=i(368);e.Donut=D.default,e.DonutConfig=D.DonutConfig;var B=i(373);e.Waterfall=B.default,e.WaterfallConfig=B.WaterfallConfig;var F=i(378);e.Scatter=F.default,e.ScatterConfig=F.ScatterConfig;var I=i(382);e.Bubble=I.default,e.BubbleConfig=I.BubbleConfig;var R=i(387);e.Bullet=R.default,e.BulletConfig=R.BulletConfig;var N=i(393);e.Calendar=N.default,e.CalendarConfig=N.CalendarConfig;var Y=i(398);e.Gauge=Y.default,e.GaugeConfig=Y.GaugeConfig;var G=i(400);e.FanGauge=G.default,e.FanGaugeConfig=G.FanGaugeConfig;var X=i(402);e.MeterGauge=X.default,e.MeterGaugeConfig=X.MeterGaugeConfig,n.__exportStar(i(404),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(56)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="line",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(119)),r=n.__importDefault(i(226));e.default={main:o.default,mini:r.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(7),s=i(0),l=i(20),u=i(81),r=n.__importDefault(i(119)),a=i(11);function c(t,e,i){var n=[],o=[];s.each(t.points,function(t){n.push(t[1]),o.push(t[0])}),o=e.parsePoints(o.reverse()),n=l.lineSimplification(e.parsePoints(n));var r=i?u.getSplinePath(n,!1,[[0,0],[1,1]]):h(n),a=h(o);return a[0][0]="L",r.concat(a)}function h(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],o=0===i?"M":"L";e.push([o,n.x,n.y])}return e}function p(t){return"l(90) 0:"+t+" 1:#ffffff"}o.registerShape("area","miniArea",{draw:function(t,e){var i=t.style?t.style.opacity:null,n=c(t,this,!1),o=s.deepMix({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:{path:n,fill:p(t.color||a.getGlobalTheme().defaultColor),opacity:i||.4},style:o})}}),o.registerShape("area","miniAreaSmooth",{draw:function(t,e){var i=t.style?t.style.opacity:null,n=c(t,this,!0);return e.addShape("path",{attrs:{path:n,fill:p(t.color||a.getGlobalTheme().defaultColor),opacity:i||.5}})}});var f,d=(f=r.default,n.__extends(g,f),g.prototype.init=function(){f.prototype.init.call(this),this.parseShape()},g.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},g);function g(){return null!==f&&f.apply(this,arguments)||this}e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(228));e.default={main:n.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(45)),s=["colorField","stackField","groupField"],l=(n=a.default,o.__extends(u,n),u.prototype.init=function(){this.type="interval",n.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var i=this._getStyleProps(t);i&&this.parseStyle(i)},u.prototype.parseColor=function(){var e=this.plot.options,t=this._getColorMappingField(e),i={};t&&(i.fields=t),e.color&&(r.isString(e.color)?i.values=[e.color]:r.isFunction(e.color)?i.callback=e.color:r.isArray(e.color)?t?i.values=e.color:0<e.color.length&&(i.values=[e.color[0]]):r.isObject(e.color)&&(i.fields=t,i.callback=function(t){return e.color[t]})),this.config.color=i},u.prototype.parseSize=function(t){var e=this.plot.options,i={};r.isFunction(e[t])?(i.fields=[this.config.position.fields],i.callback=e[t]):i.values=[e[t]],this.config.size=i},u.prototype.parseStyle=function(t){var e=this.plot.options,i=this.config.color,n=this.plot.options[t],o={};r.isFunction(n)?(o.fields=(null==i?void 0:i.fields)||[e.xField,e.yField],o.callback=n):o.cfg=n,this.config.style=o},u.prototype._getSizeProps=function(t){for(var e=0,i=["columnSize","barSize"];e<i.length;e++){var n=i[e];if(r.get(t,n))return n}},u.prototype._getStyleProps=function(t){for(var e=0,i=["columnStyle","barStyle","pieStyle","ringStyle"];e<i.length;e++){var n=i[e];if(r.get(t,n))return n}},u.prototype._getColorMappingField=function(t){for(var e=0,i=s;e<i.length;e++){var n=i[e];if(r.get(t,n))return[t[n]]}},u.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,i=s;e<i.length;e++)if(t[i[e]])return!0;return!1},u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(230)),r=n.__importDefault(i(82)),a=n.__importDefault(i(120));e.default={main:r.default,guide:o.default,mini:a.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=(n=o.__importDefault(i(82)).default,o.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;t.xField&&t.yField&&(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},s.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField();i&&(e.fields=i),t.line.color?e.values=[t.line.color]:r.isString(t.color)?e.values=[t.color]:r.isFunction(t.color)?(e.fields=i,e.callback=t.color):r.isArray(t.color)&&(i?e.values=t.color:0<t.color.length&&(e.values=[t.color[0]])),this.config.color=e},s.prototype.parseStyle=function(){var t=this.plot.options.line.style,e={};r.isFunction(t)?(e.fields=this.config.position.fields,e.callback=t):e.cfg=t,this.config.style=e},s.prototype._needParseAttribute=function(t){var e=this.plot.options;return!!e[t]||!!e.line[t]},s.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=["stackField","seriesField"];e<i.length;e++){var n=i[e];if(r.get(t,n))return[t[n]]}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(232)),r=n.__importDefault(i(233));e.default={guide:r.default,circle:o.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),a=i(0),r=(n=o.__importDefault(i(45)).default,o.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=t.colorField;i&&(e.fields=a.isArray(i)?i:[i]),t.color&&this._parseColor(t,e),a.isEmpty(e)||(this.config.color=e)},s.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=a.isArray(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},s.prototype.parseShape=function(t){this.config.shape=t},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,i={fields:null,callback:null,cfg:null},n=t.xField,o=t.yField,r=t.colorField;a.isFunction(e)?(i.fields=r?a.isArray(r)?[n,o,r].concat(r):[n,o,r]:[n,o],i.callback=e):(i.cfg=e,a.isNil(e.opacity)||(i.cfg.fillOpacity=e.opacity)),this.config.style=i},s.prototype._parseColor=function(t,e){a.isString(t.color)?e.values=[t.color]:a.isFunction(t.color)?e.callback=t.color:a.isArray(t.color)&&(e.values=t.color)},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),u=i(0),r=o.__importDefault(i(45)),a=["seriesField","stackField"],s=(n=r.default,o.__extends(l,n),l.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},l.prototype.parseColor=function(){var t,e=this.plot.options,i={},n=this._getColorMappingField(e);n?this._parseColorByField(e,i,n):e.point&&e.point.color?i.values=[e.point.color]:e.color?this._parseColor(e,i):(t=this.plot.getTheme(),i.values=[t.defaultColor]),0<u.keys(i).length&&(this.config.color=i)},l.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},l.prototype.parseShape=function(t){var e={};u.isString(t)?e.values=[t]:u.isObject(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},l.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,i={fields:null,callback:null,cfg:null},n=this._getColorMappingField(t);u.isFunction(e)&&n?(i.fields=[n],i.callback=e):i.cfg=e,this.config.style=i},l.prototype._parseColorByField=function(t,e,i){if(e.fields=[i],t.point.color){for(var n=(a=i,s=t.data,l=[],u.each(s,function(t){var e=t[a];l.push(e)}),u.uniq(l).length),o=[],r=0;r<n;r++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e);var a,s,l},l.prototype._parseColor=function(t,e){var i=this._getColorMappingField(t);u.isString(t.color)?e.values=[t.color]:u.isFunction(t.color)?e.callback=t.color:u.isArray(t.color)&&(i?e.values=t.color:0<t.color.length&&(e.values=[t.color[0]]))},l.prototype._needParseAttribute=function(t){var e=this.plot.options;return e.point&&u.has(e.point,t)},l.prototype._getColorMappingField=function(t){for(var e=0,i=a;e<i.length;e++){var n=i[e];if(u.get(t,n))return[t[n]]}},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var x,n=i(7),b=i(0);function _(t,e,i){for(var n=e.points,o=i.start.x+i.getWidth()*t,r=0;r<n.length-1;r++){var a=n[r],s=n[r+1];if(o>=a.x&&o<=s.x){var l=(s.y-a.y)/(s.x-a.x);return[o,a.y+l*(o-a.x)]}}}e.getPlotOption=function(t){x=t},n.registerAnimation("clipingWithData",function(t,e){var i=b.deepMix({},e,{easing:"easeLinear",duration:1e4}),n=t.get("element").geometry;n.labelsContainer.set("visible",!1);var o,r,a,s=t.get("index"),l=n.coordinate,u=n.scales[x.options.yField],c=b.clone(t.get("origin"));o=l.start,r=l.end,a=l.height,t.setClip({type:"rect",attrs:{x:o.x,y:r.y,width:0,height:a}});var h=t.get("clipShape"),p=t.get("parent"),f=null,d=x.options.seriesField;d&&(f=p.addShape("text",{attrs:{x:l.start.x+12,y:0,text:c.data[0][d],fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var g=f?16:0,y=p.addShape("text",{attrs:{x:l.start.x+12,y:g,text:"test"+s,fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});i.callback=function(){t&&!t.get("destroyed")&&(t.setClip(null),h.remove(),y.animate({opacity:0},300,function(){y.remove(),b.isNil(f)||f.remove();var t=n.labelsContainer;t.get("visible")||t.set("visible",!0)}))};var v=i.delay;b.isFunction(v)&&(v=i.delay(s));var m=i.easing;b.isFunction(m)&&(m=i.easing(s)),h.animate({width:l.getWidth()},i.duration,m,i.callback,v),i.onFrame=function(t){var e,i,n,o=_(t,c,l);o&&(y.attr("x",o[0]+12),y.attr("y",o[1]+g),i=o[1],n=(i-l.start.y)/(l.end.y-l.start.y),e=u.invert(n).toFixed(2),u.formatter&&(e=u.formatter(e)),y.attr("text",e))},y.animate(i.onFrame,{duration:i.duration,easing:m,callback:i.callback,delay:v}),f&&f.animate({onFrame:function(t){var e=_(t,c,l);e&&(f.attr("x",e[0]+12),f.attr("y",e[1]))}},i.duration,m,i.callback,v)})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(236)),r=n.__importDefault(i(252)),a=[{name:"responsiveAxis",method:o.default},{name:"responsivePointLabel",method:r.default}];e.default={preRender:[],afterRender:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(57));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e,i){return void 0===i&&(i={ratio:.6}),e.width*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1).__importStar(i(20));e.default={type:"group",usage:"compare",expression:function(t,e){var i=[t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],n=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],o=r.minDistBetweenConvexPolygon(i,n);return 2<=Math.round(o)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1).__importStar(i(20));e.default={type:"chain",usage:"compare",expression:function(t,e,i){void 0===i&&(i={value:4});var n=[t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],o=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],r=a.minDistBetweenConvexPolygon(n,o);return Math.round(r)>=i.value}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"chain",usage:"compare",expression:function(t,e,i){void 0===i&&(i={value:5});var n=Math.abs(t.bottom-e.top);return Math.round(n)>=i.value}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"compare",expression:function(t,e,i){return void 0===i&&(i={ratio:.15}),t.width<e.width*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e){var i=e.coord.radius/2;return Math.min(i,t.value)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e,i){return void 0===i&&(i={ratio:.8}),e.radius*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(20);e.default=function(t,e,i){var n,o,r,a,s,l,u,c,h,p,f=i.nodes.nodes;e!==f.length-1&&(r=f[e],a=f[e+1],l={x:a.centerX-r.centerX,y:a.centerY-r.centerY},u=Math.sqrt(l.x*l.x+l.y*l.y),c={x:10,y:0},h=Math.sqrt(c.x*c.x+c.y*c.y),(p=d.dotProduct2D(l,c)/(u*h)*180/Math.PI)<0&&(p=360-p),45<(p=90<p&&p<=180?180-p:180<p&&p<270?p-180:360-p)?s="x":p<45&&(s="y"),n={dir:s,distX:Math.abs(r.centerX-a.centerX),distY:Math.abs(r.centerY-a.centerY)}.dir,o=t.get("startPoint"),"x"===n&&t.attr("y",o.y+20))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(0),x=i(125);e.default=function(t,e,i,n){var o,r,a,s,l,u,c,h,p,f,d,g,y,v=n.nodes.nodes;0!==i&&(o=v[i],r=v[i-1],x.isNodeOverlap(o,r)&&(a=n.plot.plot.get("elements")[0],(s=r.top-o.height/2)-10>n.region.top&&(l=o.shape.get("origin"),d=a.getShapeId(l),g=a.getShapes(),m.each(g,function(t){var e=t;e.get("id")===d&&(y=e)}),c=(u=y.get("box")).left+u.width/2,h=u.top,p=a.get("labelController").labelsContainer.addShape("path",{attrs:{path:[["M",c,h],["L",o.shape.attr("x"),s]],stroke:"#ccc",lineWidth:1}}),f={x:t.attr("x"),y:t.attr("y")},o.shape.attr("y",s-10),v[i]=n.nodes.measure(o.shape),v[i].line=p,v[i].origin_position=f)))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(128),a=n.__importDefault(i(40));e.default=function(t,e,i,n){var o=n.nodes.nodes;r.isKeep(e.keep,i,o)||t.attr("text")!==t.get("delegateObject").item.name&&a.default(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),h=i(0),p=n.__importDefault(i(40));e.default=function(t,e,n,i){var o,r,a,s,l,u=i.nodes.nodes,c=((o=h.deepMix([],u)).sort(function(t,e){return e.width-t.width}),Math.round(o[0].width));n<=1||(r=u[n],s=(a=function(t){for(var e=n-1;0<e;e--){var i=t[e];if(!i.shape.get("blank"))return i}}(u)).centerX-r.centerX,l=a.centerY-r.centerY,Math.sqrt(s*s+l*l)<c&&(p.default(t),t.set("blank",!0)))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),h=i(0),p=n.__importDefault(i(40));function f(t,e,i){for(var n=0,o=t;n<o.length;n++){var r=o[n];if(r.shape.get("origin")[e]===i)return r}}e.default=function(t,e,i,n){var o=n.nodes.nodes,r=o[i];r.line&&r.line.remove();var a,s,l,u=function(t,e,i){var n=[];h.each(t,function(t){n.push(t[e])}),n.sort(function(t,e){return t-e});var o=n[0],r=f(i,e,o),a=n[n.length-1],s=f(i,e,a),l=function(){var t=h.clone(n);t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return t.length,t[e]}();return{min:r,max:s,median:f(i,e,l)}}(n.plot.initialProps.data,n.plot[n.plot.type].label.fields[0],o),c=!1;h.each(u,function(t){t.shape.get("origin")===r.shape.get("origin")&&(c=!0)}),c?r.origin_position&&(s=(a=r.origin_position).x,l=a.y,t.attr("x",s),t.attr("y",l)):p.default(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=n.__importStar(i(126)),s=n.__importDefault(i(127)),l=n.__importDefault(i(129));e.default=function(t,e,i,n){var o=n.nodes.nodes,r=t.attr("text");/^\d+$/.test(r)?s.default(t,e,i,o):a.isTime(r)?a.default(t,e,i,o):l.default(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.resetMatrix(),t.attr({rotate:360-e.degree,textAlign:"right",textBaseline:"middle"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var i=t.attr("text"),n=Math.ceil(i.length/e.lineNumber),o="",r=1;r<e.lineNumber;r++)var a=n*r,o=i.slice(0,a)+"\n"+i.slice(a);var s=t.attr("fontSize");t.attr({text:o,lineHeight:s,textAlign:"center",textBaseline:"top"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=(n=o.__importDefault(i(131)).default,o.__extends(a,n),a.prototype.getType=function(){var t=this.plot.options;return t.label&&t.label.type?t.label.type:"point"},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=function(t){var e=t.getResponsiveTheme();new r({plot:t,responsiveTheme:e})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({line:"line",point:"point"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=i(1),y=i(7),v=i(0),l=i(52),n={stroke:"transparent",fill:"#FCC509",lineWidth:0},o={stroke:"#FFF",fill:"#FCC509",lineWidth:1},r={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},a=(s.prototype.render=function(){var t=this.getDataArray();this._renderPoints(t),this.view.canvas.draw(),this._addInteraction()},s.prototype.clear=function(){this.container&&this.container.clear()},s.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},s.prototype.getDataArray=function(){return this.view.geometries[0].dataArray},s.prototype._init=function(){var t=this,e=this.view.foregroundGroup;this.container=e.addGroup(),this.render(),this.view.on("beforerender",function(){t.clear()})},s.prototype._renderPoints=function(f){var d=this;v.each(this.config.data,function(e,t){var i,n,o,r,a,s,l,u,c,h,p=v.find(f[0],function(t){return v.isMatch(t._origin,e)});p&&(i=d.config.style.normal,n=d.container.addGroup({name:d.name}),o=p.x,r=p.y,v.isArray(o)&&(o=o[0]),v.isArray(r)&&(r=r[0]),a=d.config.symbol,l=(s=d.config).offsetX,u=s.offsetY,h=void 0,h=v.isString(a)&&a.startsWith("image://")?(c=a.substr(8),n.addShape("image",{attrs:{x:o-d.size/2+l,y:r-d.size/2+u,img:c,width:d.size,height:d.size}})):(a=v.isString(a)?y.MarkerSymbols[a]:a,n.addShape({type:"marker",name:"marker-point",id:"point-"+t,attrs:g.__assign(g.__assign({x:o+l,y:r+u,r:d.size/2},i),{symbol:a})})),d.points.push(h),d._animatePoint(h),d._renderLabel(n,p,t),n.set("data",e),n.set("origin",p))})},s.prototype._renderLabel=function(t,e,i){var n,o,r,a,s,l,u,c,h,p,f,d=this.config.label;d&&d.visible&&(o=void 0===(n=d.offsetX)?0:n,a=void 0===(r=d.offsetY)?0:r,s=d.formatter,l=d.position,u=d.field,c=e._origin[u],s&&(c=s(c,{_origin:e._origin},i)),h=v.isArray(e.x)?e.x[0]:e.x,p=v.isArray(e.y)?e.y[0]:e.y,f=t.addShape("text",{name:"marker-label",id:"label-"+i,attrs:g.__assign(g.__assign({x:h+o,y:p+a,text:c||""},d.style),{textAlign:"center",textBaseline:"top"===l?"bottom":"top"})}),this.labels.push(f))},s.prototype._addInteraction=function(){var s=this,t=this.config.events;v.each(t,function(r,a){s.container.on(s.name+":"+a,function(t){r(t);var e,i,n,o=t.target.get("parent").get("children")[0];o&&(e=o.get("data"),n={id:i=o.get("id"),data:e},"click"===a?s.selectedPoint&&s.selectedPoint.get("id")===i?(s.selectedPoint=null,s.setState("inactive",n)):(s.selectedPoint=o,s.setState("selected",n)):"mouseenter"===a?s.setState("active",n):"mouseleave"===a&&s.setState("inactive",n)),s.view.canvas.draw()}),s.view.on("click",function(t){var e=t.target.get("parent");(!e||e.get("name")!==s.name&&s.selectedPoint)&&(s.selectedPoint=null,s.setState("inactive"))})})},s.prototype.setState=function(t,e){var i=this;"active"===t?this.selectedPoint&&e.id===this.selectedPoint.get("id")||this._onActive(e):"inactive"===t?this.points.forEach(function(t){return i._onInactive(t)}):"selected"===t&&this._onSelected(e)},s.prototype._onActive=function(t){var e=this,n=this.config.style.active;v.each(this.points,function(i){i.get("id")===t.id?v.each(n,function(t,e){i.attr(e,t)}):e._onInactive(i)})},s.prototype._onInactive=function(i){var t=this.config.style.normal;this.selectedPoint&&i.get("id")===this.selectedPoint.get("id")||v.each(t,function(t,e){i.attr(e,t)})},s.prototype._onSelected=function(t){var e=this,n=this.config.style.selected;v.each(this.points,function(i){i.get("id")===t.id?v.each(n,function(t,e){i.attr(e,t)}):e._onInactive(i)})},s.prototype._animatePoint=function(t){var e,i,n,o,r=this.config,a=r.animation,s=r.size;!1!==a&&(i=void 0===(e=a.endState)?{}:e,o=void 0===(n=a.animateCfg)?l.DEFAULT_ANIMATE_CFG.appear:n,t.animate(g.__assign({r:Number.isNaN(i.size/2)?s/2:i.size/2},i),o))},s);function s(t){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:n,selected:r,active:o},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=t.view,this.size=t.size||6,this.config=v.deepMix({},this.defaultCfg,t),this._init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("line",{lineStyle:{normal:{},active:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+1}},disable:function(t){return{opacity:.2*(t.shape.attr("opacity")||1)}},selected:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+2}}},pointStyle:{normal:{},active:{},disable:{},selected:{}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(55).registerResponsiveTheme("line",{label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(258));e.LineActive=o.default;var r=n.__importDefault(i(259));e.LineSelect=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=(n=o.__importDefault(i(79)).default,o.__extends(s,n),s.prototype.start=function(){},s.prototype.process=function(t){var e,i=r.filter(this.view.geometries,function(t){return"line"==t.type});"line"===t.target.get("name")?(e=r.get(t,"data.data"),r.each(i,function(t){r.each(t.elements,function(t){t.setState("active",t.data===e)})})):r.each(i,function(t){r.each(t.elements,function(t){t.setState("active",!1)})})},s);function s(t){return n.call(this,o.__assign({processEvent:"mousemove"},t))||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=(n=o.__importDefault(i(79)).default,o.__extends(s,n),s.prototype.start=function(){},s.prototype.end=function(t){var e,i=t.target,n=r.filter(this.view.geometries,function(t){return"line"==t.type});"line"===i.get("name")?(e=r.get(t,"data.data"),r.each(n,function(t){r.each(t.elements,function(t){t.setState("inactive",t.data!==e)})})):r.each(n,function(t){r.each(t.elements,function(t){t.setState("inactive",!1)})})},s);function s(t){return n.call(this,o.__assign({endEvent:"click"},t))||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(261)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="treemap",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(1),u=i(0),n=i(4),r=a.__importDefault(i(12)),c=a.__importDefault(i(262)),s=i(265),l=a.__importStar(i(269)),h=a.__importDefault(i(270)),p=(o=r.default,a.__extends(f,o),f.getDefaultOptions=function(){return u.deepMix({},o.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},f.prototype.beforeInit=function(){var e=this;o.prototype.beforeInit.call(this);var t=this.options.interactions;t&&u.each(t,function(t){"drilldown"===t.type&&(e.isDrilldown=!0,e.options.maxLevel=1)});var i=this.options.data,n=this.getTreemapData(i);this.rootData=n},f.prototype.afterRender=function(){o.prototype.afterRender.call(this),this.options.label&&this.options.label.visible&&new h.default(a.__assign({view:this.view,plot:this},this.options.label)).render()},f.prototype.geometryParser=function(){return"polygon"},f.prototype.getTreemapData=function(t,e){var i=this.getViewRange(),n=c.default(t,i.x,i.y,i.width,i.height);this.recursive(n,1);var o=[];return this.getAllNodes(n,o,e),o.sort(function(t,e){return t.depth-e.depth}),this.options.xField="x",this.options.yField="y",o},f.prototype.processData=function(){return this.rootData},f.prototype.coord=function(){},f.prototype.addGeometry=function(){var i=this,t=this.options,e=t.data,n=t.colorField,o=t.color,r=this.getTreemapData(e);this.rootData=r;var a=this.isNested(r);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[n],values:o},style:{fields:["depth"],callback:function(t){var e=i.adjustStyleByDepth(t,a);return u.deepMix({},e,i.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},f.prototype.applyInteractions=function(){var n=this,t=this.options.interactions,o=this.view.interactions;u.each(t,function(t){var e,i=s.INTERACTION_MAP[t.type];i&&(e=new i(u.deepMix({},{view:n.view,plot:n,startEvent:"polygon:click"},t.cfg,i.getInteractionRange(n.layerBBox,t.cfg))),o[t.type]=e)})},f.prototype.animation=function(){o.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},f.prototype.parseEvents=function(){o.prototype.parseEvents.call(this,l)},f.prototype.recursive=function(t,a){var s=this,l=this.options.colorField;u.each(t,function(r){u.each(r.children,function(t){var e,i,n,o;1<(t.depth=a)&&(t.parent=r),u.hasKey(t,l)||(t[l]=r[l]),t.showLabel=!0,s.isLeaf(t)||(e=Math.abs(t.y1-t.y0),n=(i=s.getLabelHeight())<e/2?i:4,t.showLabel=4!==n,o=c.default(t,t.x0+4,t.y0+n,t.x1-4,t.y1-4),s.fillColorField(o,l,t[l]),s.recursive(o,t.depth+1))})})},f.prototype.getAllNodes=function(t,e,i){var n=this,o=i||this.options.maxLevel,r=this.getViewRange();u.each(t,function(t){u.hasKey(t,"x0")&&t.depth<=o&&e.push(a.__assign(a.__assign({},t),{x:[t.x0,t.x1,t.x1,t.x0],y:[r.height-t.y1,r.height-t.y1,r.height-t.y0,r.height-t.y0]})),u.hasKey(t,"children")&&n.getAllNodes(t.children,e)})},f.prototype.fillColorField=function(t,e,i){u.each(t,function(t){u.hasKey(t,e)||(t[e]=i)})},f.prototype.getLabelHeight=function(){var t,e=this.options.label,i=this.getPlotTheme().label.style.fontSize,n=0;return e&&e.visible&&(n=(t=e.style)&&t.fontSize?t.fontSize:i),n+8},f.prototype.isLeaf=function(t){return!t.children||0===t.children.length},f.prototype.isNested=function(t){if(1===this.options.maxLevel)return!1;for(var e=!1,i=0;i<t.length;i++)if(t[i].children){e=!0;break}return e},f.prototype.adjustStyleByDepth=function(t,e){var i=this.options.maxLevel;return e?1===t?{lineWidth:1,stroke:"black",opacity:t/i}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/i}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},f);function f(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="treemap",t}e.default=p,n.registerPlotType("treemap",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var O=i(263),w=i(264),C=(1+Math.sqrt(5))/2;e.default=function(t,e,i,n,o){var r=t.children,a=t.value;r.sort(function(t,e){return e.value-t.value});for(var s,l,u,c,h=[],p=0,f=0;p<r.length;){for(var d=n-e,g=o-i,y=s=r[f++].value,v=s,m=s*s*(l=Math.max(g/d,d/g)/(a*C)),x=Math.max(y/m,m/v);f<r.length;f++){if((c=r[f].value)<v&&(v=c),y<c&&(y=c),m=(s+=c)*s*l,(u=Math.max(y/m,m/v))>x){s-=c;break}x=u}var b,_,M={value:s,dice:d<g,children:r.slice(p,f)};h.push(M),M.dice?(b=a?g*s/a:g,O.dice(M,e,i,n,i+b),a&&(i+=b)):(_=a?d*s/a:d,w.slice(M,e,i,e+_,o),a&&(e+=_)),a-=s,p=f}return h}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(0);e.dice=function(t,e,i,n,o){var r=n-e,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=r/s,u=e;c.each(a,function(t){t.y0=i,t.y1=o,t.x0=u,u+=t.value*l,t.x1=t.x0+t.value*l})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(0);e.slice=function(t,e,i,n,o){var r=o-i,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=r/s,u=i;c.each(a,function(t){t.x0=e,t.x1=n,t.y0=u,u+=t.value*l,t.y1=t.y0+t.value*l})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(266));e.INTERACTION_MAP={drilldown:n.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(1),o=s.__importDefault(i(267)),r=s.__importDefault(i(39)),l=s.__importDefault(i(10)),a=i(0),u=i(268),c=(n=r.default,s.__extends(h,n),h.getInteractionRange=function(t,e){var i,n=(void 0===(i=e)&&(i={}),s.__assign({x:0,y:0,startNode:{name:"root"},itemWidth:100,itemHeight:30,padding:[0,0,0,0]},i)),o=n.padding,r=o[0],a=o[1];if(t)return new l.default(t.minX,t.maxY-n.itemHeight-r-a,t.width,n.itemHeight+r+a)},h.prototype.start=function(t){var e=this,i=t.data.data;i.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:a.clone(this.currentNode.name),value:a.clone(this.currentNode.value)},depth:a.clone(this.currentDepth)},this.currentDepth++,u.drillingDown(t.target,this.view,function(){e.update(i)}))},h.prototype.update=function(t){a.hasKey(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},h.prototype.render=function(){var t;this.breadcrumb?(t=this.getItems(),this.breadcrumb.update({items:t})):(this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),"root"===this.startNode.name?(this.startNodeName=a.hasKey(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+10,this.breadcrumb=new o.default({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.render(),this.plot.canvas.draw()),this.layout(),this.onInteraction()},h.prototype.clear=function(){},h.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y})},h.prototype.getItems=function(){var t,e,i=[];return this.currentNode.name&&this.currentNode.name===this.startNodeName?(t=this.getRootItem(),i.push(t)):(i=[],e=[],this.findParent(this.currentNode,e),i.push(this.getRootItem()),a.each(e,function(t,e){i.push({key:String(e+2),text:t.name,data:t})}),i.push({key:String(e.length+2),text:this.currentNode.name,data:this.currentNode})),i},h.prototype.findParent=function(t,e){t.parent&&(a.hasKey(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e))},h.prototype.onInteraction=function(){var o=this;this.container.on("click",function(t){var e=t.target.get("parent");if(e&&"item-group"===e.get("class")){var i=e.get("data");if(i.data)if(i.text===o.startNodeName)o.currentDepth-1==1?u.rollingUp(o.currentNode.name,o.view,function(){o.updateRoot(i)}):o.updateRoot(i),o.currentDepth=1;else{if(o.currentNode===i.data)return;var n=a.clone(o.currentDepth);o.currentDepth=parseInt(i.key),n-1===o.currentDepth?u.rollingUp(o.currentNode.name,o.view,function(){o.update(i.data)}):o.update(i.data)}}})},h.prototype.getRootItem=function(){var t=this.plot.options.data;return{key:"1",text:a.hasKey(t,"name")?t.name:"root",data:this.plot.rootData}},h.prototype.saveOriginMapping=function(){var t=this.plot.options,e={field:t.colorField,values:t.colors};this.originMapping=e},h.prototype.adjustScale=function(t){var e,i,n=this.view;this.mapping&&a.hasKey(this.mapping,String(t))?(i=a.clone(this.mapping[t])).values&&a.isFunction(i.values)&&(e=i.values(this.parentNode,this.currentNode),i.values=e):i=a.clone(this.originMapping),this.view.geometries[0].color(i.field,i.values),n.render()},h.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox;this.geometry.container.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},h.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},h);function h(){return null!==n&&n.apply(this,arguments)||this}e.default=c,r.default.registerInteraction("drilldown",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,m=i(1),n=m.__importDefault(i(53)),r=i(58),a=(o=n.default,m.__extends(s,o),s.prototype.destroy=function(){this.offEvents(),o.prototype.destroy.call(this)},s.prototype.init=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=m.__assign({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=m.__assign({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=m.__assign({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=m.__assign({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=m.__assign({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},s.prototype.renderInner=function(t){this.offEvents(),this.renderItems(t,0,0),r.move(this.group,this.x,this.y)},s.prototype.renderItems=function(u,c,h){var p,f=this,t=this.itemPadding,d=t[0],g=t[1],y=t[2],v=t[3],e=u.addShape("rect",{class:"breadcrumb-background",attrs:m.__assign({x:c,y:h,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(t,e){var i=u.addGroup({id:"item-group-"+t.key,data:t,class:"item-group",attrs:{cursor:"pointer"}}),n=i.addShape("rect",{id:"item-background-"+t.key,class:"item-background",attrs:m.__assign(m.__assign({x:c,y:h,width:v+g,height:d+y},f.itemBackgroundStyle),{cursor:"pointer"})});n.name="breadcrumb";var o=i.addShape("text",{id:"item-text-"+t.key,class:"item-text",attrs:m.__assign(m.__assign({x:c+v,y:h+d,text:t.text},f.textStyle),{cursor:"pointer"})});o.name="breadcrumb";var r=o.getBBox();p=f.itemHeight||r.height;var a=f.itemWidth||r.width;f.maxItemWidth&&(a=Math.min(a,f.maxItemWidth));var s,l={x:c,y:h,width:a+v+g,height:p+d+y};n.attr("width",l.width),n.attr("height",l.height),i.setClip({type:"rect",attrs:l}),c+=l.width,e!==f.items.length-1&&(s=u.addShape("text",{attrs:m.__assign({x:c,y:h+d,text:f.separator},f.separatorStyle),class:"separator"}),c+=s.getBBox().width)}),e.attr({width:c,height:p+d+y})},s.prototype.bindEvents=function(t){function r(t,i,n){return function(){var e=i.get("data"),t=o.find(function(t){return t.key===e});a.emit(n,{item:t})}}var a=this,o=this.items,e=t.get("children").filter(function(t){return"item-group"===t.get("class")});e.forEach(function(t){var e=r(0,t,"onItemClick"),i=r(0,t,"onItemDblclick"),n=a.onItemGroupToggleActive(t,!0),o=a.onItemGroupToggleActive(t,!1);t.on("click",e),t.on("dblclick",i),t.on("mouseenter",n),t.on("mouseleave",o),a.listeners.push({target:t,event:"click",callback:e}),a.listeners.push({target:t,event:"dblclick",callback:i}),a.listeners.push({target:t,event:"mouseenter",callback:n}),a.listeners.push({target:t,event:"mouseleave",callback:o})})},s.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,i=t.event,n=t.callback;e.off(i,n)}),this.listeners=[]},s);function s(){var n=null!==o&&o.apply(this,arguments)||this;return n.listeners=[],n.onItemGroupToggleActive=function(e,i){return function(){var t=e.get("children").find(function(t){return"item-background"===t.get("class")});t&&t.attr(i?n.itemActiveBackgroundStyle:n.itemBackgroundStyle),n.getCanvas().draw()}},n}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var M=i(0),O=i(58),w=[1,0,0,0,1,0,0,0,1],C="easeQuadInOut";function S(t,i){var e=t.getShapes(),n=[];return M.each(e,function(t){var e=i.addShape("path",{attrs:M.deepMix({},t.attrs,{capture:!1})});n.push(e)}),n}function j(t){var e=t.coordinateBBox;return{minX:e.minX,minY:e.minY,centerX:(e.maxX-e.minX)/2,centerY:(e.maxY-e.minY)/2,width:e.width,height:e.height}}function A(t){var e=t.attr("path"),i=e[0][1],n=e[0][2],o=e[1][1],r=e[2][2];return{minX:i,minY:r,centerX:(o-i)/2,centerY:(n-r)/2,width:Math.abs(o-i),height:Math.abs(n-r)}}function P(t){t.labelsContainer.set("visible",!1)}function T(t){t.labelsContainer.set("visible",!0)}e.drillingDown=function(t,n,e){var o=A(t),r=j(n),i=r.width/o.width,a=r.height/o.height,s=(r.minX-o.minX)*i,l=(r.minY-o.minY)*a,u=O.transform([["s",i,a],["t",s,l]]),c=n.geometries[0];P(c);var h=n.backgroundGroup.addGroup();h.set("zIndex",-100),h.setClip({type:"rect",attrs:{x:r.minX,y:r.minY,width:r.width,height:r.height}});var p=S(c,h);c.container.set("visible",!1),n.canvas.draw(),e(),window.setTimeout(function(){M.each(p,function(t,e){0===e?t.animate({matrix:u},400,C,function(){h.remove(),n.canvas.draw()}):t.animate(O.transform,400)}),P(c=n.geometries[0]);var t=c.getShapes();M.each(t,function(t){t.attr("opacity",0),t.animate({opacity:1},400,C)});var e=c.container;e.stopAnimate(),e.set("visible",!0),e.attr("matrix",M.clone(w)),O.groupTransform(e,[["s",o.width/r.width,o.height/r.height],["t",o.minX,o.minY]]);var i=M.clone(w);c.container.animate({matrix:i},400,C,function(){T(c)}),n.canvas.draw()},16)},e.rollingUp=function(t,e,i){var n=e.geometries[0];P(n);var o=n.container;o.attr("matrix",M.clone(w));var r=e.backgroundGroup.addGroup();r.set("zIndex",-100);var a=S(n,r);o.set("visible",!1),e.canvas.draw(),i(),P(n=e.geometries[0]),o=n.container;var s,l,u,c,h,p,f,d,g=A((s=n.getShapes(),l=t,M.each(s,function(t){t.get("origin").data.name===l&&(u=t)}),u)),y=j(e);o.get("parent").get("clipShape")||o.setClip({type:"rect",attrs:{x:y.minX,y:y.minY,width:y.width,height:y.height}}),c=r,h=a,p=g.width/y.width,f=g.height/y.height,d=O.transform([["s",p,f],["t",g.minX,g.minY]]),c.animate({matrix:d},400,C,function(){c.remove()}),M.each(h,function(t){t.animate({opacity:0},400,C)});var v=y.width/g.width,m=y.height/g.height,x=(y.minX-g.minX)*v,b=(y.minY-g.minY)*m,_=O.transform([["s",v,m],["t",x,b]]);o.setMatrix(_),o.set("visible",!0),o.animate({matrix:w},400,C,function(){T(n)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({rect:"polygon",breadcrumb:"breadcrumb"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(0),x=i(38);function b(t,e,i,n){for(var o=n.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:e}}),r=o.getBBox().width,a=n.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),s="",l=i-r,u=0;u<t.length;u++){var c=t[u];if(a.attr("text",s+=c),a.getBBox().width>=l){var h=s.substr(0,s.length-1);if(0<h.length)return h+"..."}}return a.remove(),o.remove(),s}var n=(o.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},o.prototype.render=function(){var h=this,t=this.getGeometry().elements;m.each(t,function(t){var e,i,n,o,r,a,s,l=t.shape,u=l.get("origin").data,c=(e=h.plot.options.maxLevel,!u.children||u.depth>=e);u.showLabel&&(i=m.clone(h.options.style),n=h.getPosition(l,c),r=(o=h.options.formatter)?o(u.name):u.name,a=h.getTextBaseLine(c),s=h.container.addShape("text",{attrs:m.deepMix({},i,{x:n.x,y:n.y,text:r,fill:"black",textAlign:"center",textBaseline:a,fontWeight:c?300:600}),name:"label"}),h.adjustLabel(s,l,c))})},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getBBox=function(){return this.container.getBBox()},o.prototype.getPosition=function(t,e){var i=t.getBBox(),n=0,o=0,o=e?(n=i.minX+i.width/2,i.minY+i.height/2):(n=i.x+i.width/2,i.y+4);return{x:n,y:o}},o.prototype.getTextBaseLine=function(t){return t?"middle":"top"},o.prototype.adjustLabel=function(t,e,i){i?this.adjustLeafLabel(t,e):this.adjustParentLabel(t,e)},o.prototype.adjustLeafLabel=function(t,e){var i=e.getBBox(),n=t.getBBox(),o=m.clone(t.attr("text")),r=Math.max(t.attr("fontSize")-2,8),a=i.x+i.width/2,s=i.y+i.height/2;t.attr({x:a,y:s,textAlign:"center",textBaseline:"middle",lineHeight:r,fontSize:r});var l,u,c,h,p,f,d,g,y,v=i.width-8;n.width>i.width&&n.height>i.height||v<r?t.attr("text",""):n.width>i.width&&(c=t,h=v,p=this.container,f=c.attr("fontSize"),d=c.attr("text"),g=p.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:f}}),y=d.split("\n").map(function(t){for(var e="",i=t.split(""),n=[],o=0;o<i.length;o++){var r=i[o];if(g.attr("text",e+=r),g.getBBox().width-1>h){if(0===o)break;n.push(o),e=""}}return x.breakText(i,n)}),g.remove(),l=y.join("\n"),t.attr({lineHeight:t.attr("fontSize"),text:l}),t.getBBox().height>i.height&&(u=b(o,r,v,this.container),t.attr("text",u)))},o.prototype.adjustParentLabel=function(t,e){var i,n=e.getBBox().width-8;t.getBBox().width>n&&(i=b(t.attr("text"),t.attr("fontSize"),n,this.container),t.attr("text",i))},o.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:m.clone(t)}},o.prototype.getGeometry=function(){return m.find(this.view.geometries,function(t){return"polygon"===t.type})},o);function o(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=m.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(272),s=(n=o.__importDefault(i(3)).default,o.__extends(l,n),l.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="step-line",n.prototype.createLayers.call(this,e)},l.getDefaultOptions=a.StepLineLayer.getDefaultOptions,l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(56)),s=i(4),l=(n=a.default,o.__extends(u,n),u.getDefaultOptions=function(){return r.deepMix({},n.getDefaultOptions.call(this),{step:"hv"})},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="step-line",t}e.StepLineLayer=l,s.registerPlotType("step-line",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(59)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="bar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveAxis",method:i(1).__importDefault(i(275)).default}];e.default={preRender:[],afterRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(57));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({bar:"interval"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(86)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="stackedBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),o=i(84);n.registerTheme("stackedBar",o.DEFAULT_BAR_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(16),a=(n=o.__importDefault(i(85)).default,o.__extends(s,n),s.prototype.adjustLabel=function(t,e){var i;this.options.adjustPosition&&(i=t.getBBox(),this.getElementShapeBBox(e).maxX<=i.maxX&&t.set("visible",!1))},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,r.registerLabelComponent("stacked-bar",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(16),a=(n=o.__importDefault(i(135)).default,o.__extends(s,n),s.prototype.shouldInShapeLabels=function(t){return!0},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,r.registerLabelComponent("stacked-bar-auto",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(136)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="groupedBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),o=i(84);n.registerTheme("groupedBar",o.DEFAULT_BAR_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(137)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="percentStackedBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(285)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="rangeBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(4),s=o.__importDefault(i(59)),l=o.__importDefault(i(286)),u=i(287),c=(n=s.default,o.__extends(h,n),h.getDefaultOptions=function(){return r.deepMix(n.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,offset:12}}},{})},h.prototype.afterRender=function(){this.renderLabel();var i=[],t=this.view.geometries;r.each(t,function(t){var e=t.elements;r.each(e,function(t){i.push(t.shape)})}),u.setShapeCache(i),n.prototype.afterRender.call(this)},h.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new l.default(o.__assign({view:this.view,plot:this},this.options.label)).render()},h.prototype.animation=function(){n.prototype.animation.call(this),this.bar.animate={appear:{animation:"clipInFromCenter",duration:600},update:{animation:"updateFromCenter",duration:600}}},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rangeBar",t}e.default=c,a.registerPlotType("rangeBar",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=i(0),s=i(24),o=n.__importDefault(i(10)),r=(a.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},a.prototype.render=function(){var h=this,t=this.getGeometry(),e=t.elements,i=t.coordinate;this.coord=i,p.each(e,function(t){var s=t.shape,e=h.getPosition(s),l=h.getValue(s),u=h.getTextAlign(),c=[];p.each(e,function(t,e){var i=0===e?h.options.leftStyle:h.options.rightStyle,n=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==n&&(i.stroke=null);var o=h.options.formatter,r=o?o(l[e]):l[e],a=h.container.addShape("text",{attrs:p.deepMix({},i,{x:t.x,y:t.y,text:r,fill:n,textAlign:u[e],textBaseline:"middle"}),name:"label"});c.push(a),h.doAnimation(a)}),s.set("labelShapes",c),h.adjustPosition(c[0],c[1],s)}),this.plot.canvas.draw()},a.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},a.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},a.prototype.getBBox=function(){return this.container.getBBox()},a.prototype.getShapeBbox=function(t){var e=this,i=[];return p.each(t.get("origin").points,function(t){i.push(e.coord.convertPoint(t))}),new o.default(i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y))},a.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:8,offsetY:0,style:p.clone(t),adjustColor:!0,adjustPosition:!0}},a.prototype.getPosition=function(t){var e,i=this.getShapeBbox(t),n=i.minX,o=i.maxX,r=i.minY,a=i.height,s=this.options,l=s.offsetX,u=r+a/2+s.offsetY,c="outer"===this.options.position?(e=n-l,o+l):(e=n+l,o-l);return[{x:e,y:u},{x:c,y:u}]},a.prototype.getValue=function(t){var e=this.plot.options.xField;return t.get("origin").data[e]},a.prototype.getTextAlign=function(){return"outer"===this.options.position?["right","left"]:["left","right"]},a.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,o=s.rgb2arr(i);return r=Math.round(.299*o[0]+.587*o[1]+.114*o[2])/n,p.each([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],function(t){r>=t.from&&r<t.to&&(a=t.color)}),a}var r,a;return 0===e?this.options.leftStyle.fill:this.options.rightStyle.fill},a.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},a.prototype.adjustPosition=function(t,e,i){var n,o=i.get("origin"),r=o.x[0],a=o.x[1],s=Math.abs(a-r),l=this.view.coordinateBBox,u=[t.getBBox(),e.getBBox()],c=t.attr("x"),h=e.attr("x");this.options.adjustPosition&&"inner"===this.options.position&&(n=u[0].width+u[1].width,(2<u[0].maxX-u[1].minX||s<n)&&(c=r-this.options.offsetX,t.attr("fill",this.options.leftStyle.fill),t.attr("textAlign","right"),u[0]=t.getBBox(),h=a+this.options.offsetX,e.attr("fill",this.options.rightStyle.fill),e.attr("textAlign","left"),u[1]=e.getBBox())),u[0].minX<l.minX&&(c=l.minX+8,t.attr("textAlign","left")),t.attr("x",c),e.attr("x",h),this.plot.canvas.draw()},a.prototype.getGeometry=function(){return p.find(this.view.geometries,function(t){return"interval"===t.type})},a);function a(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i(7),s=i(0);function o(t,e){var i=t.getBBox(),n=i.minX+i.width/2;t.setClip({type:"rect",attrs:{x:n,y:i.minY,width:0,height:i.height}}),t.get("clipShape").animate({width:i.width,x:i.minX},e.duration,e.easing,function(){t.setClip(null)},e.delay)}function r(t,e){var i,n,o=(n=t.id,s.each(a,function(t){t.id===n&&(i=t)}),i.attr("path")),r=s.clone(t.attr("path"));t.attr("path",o),t.animate({path:r},e.duration,e.easing,e.callback,100)}o.animationName="clipInFromCenter",e.setShapeCache=function(t){a=t},r.animationName="updateFromCenter",n.registerAnimation("clipInFromCenter",o),n.registerAnimation("updateFromCenter",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(88)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="area",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveAxis",method:i(1).__importDefault(i(290)).default}];e.default={preRender:[],afterRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(57));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({area:"area",line:"line",point:"point"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(89)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="stackedArea",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(294)),r=n.__importDefault(i(295)),a={lineLabel:{Ctr:o.default},areaLabel:{Ctr:r.default}};e.getPlotComponents=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=a[e],o=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(o,n.padding),o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),s=i(0),r=(n=o.__importDefault(i(133)).default,o.__extends(a,n),a.prototype.getShapeInfo=function(t){var e=t.get("origin").points,i=e[e.length-1],n=t.attr("stroke"),o=this.plot.options.stackField,r=t.get("origin").data[0][o],a=s.reduce(i.y,function(t,e){return t+e},0)/s.size(i.y);return{x:i.x,y:a,color:n,name:r}},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),d=i(0);function s(e,t,i){var n=t[0],o=t[t.length-1];d.each(t,function(t){if(t.x===e)return t.y[i];t.x<e&&t.x>n.x&&(n=t),t.x>e&&t.x<o.x&&(o=t)});var r=(e-n.x)/(o.x-n.x);return n.y[i]*(1-r)+o.y[i]*r}function y(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n.x===e||n.x>e)break}return i}var n=(r.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var c=this,h=this.plot.options.stackField,t=this.getGeometry().dataArray,n=[];d.each(t,function(t,e){var i=c.drawLabel(t,e);i&&(n.push(d.deepMix({},t[0],i)),c.scaleFactor.push(i.scaleFactor))});var p=[];d.each(n,function(t,e){var i=c.options,n=i.style,o=i.offsetX,r=i.offsetY,a=c.getFontSize(e),s=c.options.formatter,l=s?s(t._origin[h]):t._origin[h],u=c.container.addShape("text",{attrs:d.deepMix({},{x:t.x+o,y:t.y+r,text:l,fill:t.color,fontSize:a,textAlign:"center",textBaseline:"top"},n),name:"label"});p.push(u)}),this.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=d.clone(t.label.style);return e.stroke=null,delete e.fill,{offsetX:0,offsetY:0,style:e,autoScale:!0}},r.prototype.drawLabel=function(t,e){var i,n,o,r=(n=1/0,o=i=-1/0,d.each(t,function(t){n=Math.min(t.x,n),o=Math.max(t.x,o);var e=Math.abs(t.y[0]-t.y[1]);i=Math.max(i,e)}),{xRange:[n,o],maxHeight:i}),a=r.xRange,s=r.maxHeight,l=a[1]-a[0],u=this.getInterpolatedPoints(a[0],l,t),c=this.getLabelBbox(e),h={xRange:a,aspect:c.width/c.height,data:u,justTest:!0},p=this.bisection(12,s,this.testFit,h,.01,100);if(null!==p){h.justTest=!1;var f=this.testFit(h);return f.x=f.x,f.y=f.y0+(f.y1-f.y0)/2,f.scaleFactor=p/c.height*.2,f}},r.prototype.getInterpolatedPoints=function(t,e,i){for(var n=[],o=t;o<e;o+=2){var r=s(o,i,0),a=s(o,i,1);n.push({x:o,y:[r,a]})}return n},r.prototype.bisection=function(t,e,i,n,o,r){for(var a=0;a<r;a++){var s=(t+e)/2,l=n;l.height=s,l.width=s*l.aspect;var u=i(l);if(u&&(e-t)/2<o)return s;u?t=s:e=s}return null},r.prototype.testFit=function(t){for(var e=t.xRange,i=t.width,n=t.height,o=t.data,r=t.justTest,a=0;a<o.length;a++){var s=o[a].x,l=s+i;if(l>e[1])break;for(var u=y(o,l),c=-1/0,h=null,p=1/0,f=a;f<u;f++){var d=o[f].y[1],g=o[f].y[0];if(g<p&&(p=g),c<d&&(c=d,h=g),p-c<n)break}if(n<=p-c)return!!r||{x:s,y0:c,y1:h,width:i,height:n}}return!1},r.prototype.getLabelBbox=function(t){var e=d.clone(this.plot.theme.label.textStyle);e.fontSize=12;var i=this.container.addShape("text",{attrs:o.__assign({text:t,x:0,y:0},e)}),n=i.getBBox();return i.remove(),n},r.prototype.getGeometry=function(){return d.find(this.view.geometries,function(t){return"area"===t.type})},r.prototype.getFontSize=function(t){return this.options.autoScale?12*this.scaleFactor[t]:12},r);function r(t){this.destroyed=!1,this.scaleFactor=[],this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=d.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(16),a=(n=o.__importDefault(i(138)).default,o.__extends(s,n),s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,r.registerLabelComponent("stackedArea-point",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(16),a=(n=o.__importDefault(i(139)).default,o.__extends(s,n),s.prototype.sortLabels=function(t,e){var i=[];return 0<e.length&&i.push(e.shift()),0<e.length&&i.push(e.pop()),i.push.apply(i,e),i},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,r.registerLabelComponent("stackedArea-point-auto",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),o=i(140);n.registerTheme("stackedArea",o.DEFAULT_AREA_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(141)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="percentStackedArea",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(41)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="column",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(302)),r=n.__importDefault(i(303)),a=[{name:"responsiveAxis",method:o.default},{name:"responsiveLabel",method:r.default}];e.default={preRender:[],afterRender:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(57));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=(n=o.__importDefault(i(131)).default,o.__extends(a,n),a.prototype.getType=function(){return!this.plot.column.label||this.plot.column.label.position&&"top"!==this.plot.column.label.position?"inner":"top"},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=function(t){var e=t.getResponsiveTheme();new r({plot:t,responsiveTheme:e})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(55).registerResponsiveTheme("column",{label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(91)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="groupedColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),o=i(90);n.registerTheme("groupedColumn",o.DEFAULT_COLUMN_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(60)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="stackedColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(0),a=i(54);function f(t,e){var i=[],n=t.get("origin").points;return p.each(n,function(t){i.push(e.convertPoint(t))}),i}var n=(o.prototype.draw=function(){var i=this,t=this._getGroupedShapes();p.each(t,function(t,e){0<t.length&&i._drawConnection(t,e)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},o.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},o.prototype.destroy=function(){this.container&&this.container.remove()},o.prototype.setState=function(t,e){"active"===t&&this._onActive(e),"disabled"===t&&this._onDisabled(e),"selected"===t&&this._onSelected(e)},o.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",function(){t.clear()})},o.prototype._getGroupedShapes=function(){var i=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0].getShapes(),n={};return p.each(t,function(t){n[t]=[]}),p.each(e,function(t){var e=t.get("origin").data[i.field];n[e].push(t)}),n},o.prototype._drawConnection=function(t,e){var i=t[0].attr("fill");this._areaStyle[e]=this._getShapeStyle(i,"area"),this._lineStyle[e]=this._getShapeStyle(i,"line");for(var n=this.view.geometries[0].coordinate,o=0;o<t.length-1;o++){var r=f(t[o],n),a=f(t[o+1],n),s=p.mix({},this._areaStyle[e]),l=p.mix({},this._lineStyle[e]);this.triggerOn&&(s.opacity=0,l.opacity=0);var u=this.container.addShape("path",{attrs:p.mix({},s,{path:[["M",r[2].x,r[2].y],["L",a[1].x,a[1].y],["L",a[0].x,a[0].y],["L",r[3].x,r[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:p.mix({},l,{path:[["M",r[2].x,r[2].y],["L",a[1].x,a[1].y]]}),name:"connectedArea"}),h=t[o].get("origin").data;u.set("data",h),c.set("data",h),this.areas.push(u),this.lines.push(c)}},o.prototype._getShapeStyle=function(t,e){var i=e+"Style";if(this[i])return this[i];var n={areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}[i],o="line"===e?{stroke:t}:{fill:t};return p.mix(n,o)},o.prototype._addInteraction=function(){var i=this,t=this.triggerOn;this.view.on("interval:"+t,function(t){var e=t.target.get("origin").data[i.field];i.setState("active",{name:i.field,exp:e}),i.setState("disabled",{name:i.field,exp:function(t){return t!==e}}),i.view.canvas.draw()}),this.view.on("mousemove",function(t){"interval"!==t.gEvent.target.get("name")&&i.setState("disabled",{name:i.field,exp:function(){return!0}})})},o.prototype._initialAnimation=function(){var t=this.view.coordinateBBox,e=t.x,i=t.y,n=t.width,o=t.height;this.container.setClip({type:"rect",attrs:{x:e,y:i,width:0,height:o}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},o.prototype._onActive=function(o){var r=this;p.each(this.areas,function(t){var e,i=t.get("data"),n=i[r.field];a.compare(i,o)&&(e=r._areaStyle[n].opacity||1,t.stopAnimate(),t.animate({opacity:e},400,"easeQuadOut"))}),p.each(this.lines,function(t){var e,i=t.get("data"),n=i[r.field];a.compare(i,o)&&(e=r._lineStyle[n].opacity||1,t.stopAnimate(),t.animate({opacity:e},400,"easeQuadOut"))})},o.prototype._onDisabled=function(i){p.each(this.areas,function(t){var e=t.get("data");a.compare(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),p.each(this.lines,function(t){var e=t.get("data");a.compare(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},o.prototype._onSelected=function(t){this._onActive(t)},o.prototype.getGeometry=function(){return p.find(this.view.geometries,function(t){return"interval"===t.type})},o);function o(t){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},p.assign(this,t),this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),o=i(90);n.registerTheme("stackedColumn",o.DEFAULT_COLUMN_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(16),a=(n=o.__importDefault(i(142)).default,o.__extends(s,n),s.prototype.shouldInShapeLabels=function(t){return!0},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,r.registerLabelComponent("stacked-column-auto",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(312)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="rangeColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(4),s=o.__importDefault(i(41)),l=o.__importDefault(i(313)),u=i(314),c=(n=s.default,o.__extends(h,n),h.getDefaultOptions=function(){return r.deepMix(n.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},h.prototype.afterRender=function(){this.renderLabel();var i=[],t=this.view.geometries;r.each(t,function(t){var e=t.elements;r.each(e,function(t){i.push(t.shape)})}),u.setShapeCache(i),n.prototype.afterRender.call(this)},h.prototype.animation=function(){n.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},h.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new l.default(o.__assign({view:this.view,plot:this},this.options.label)).render()},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rangeColumn",t}e.default=c,a.registerPlotType("rangeColumn",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=i(0),s=i(24),o=n.__importDefault(i(10)),r=(a.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},a.prototype.render=function(){var h=this,t=this.getGeometry(),e=t.coordinate,i=t.elements;this.coord=e,p.each(i,function(t){var s=t.shape,e=h.getPosition(s),l=h.getValue(s),u=h.getTextBaseline(),c=[];p.each(e,function(t,e){var i=1===e?h.options.topStyle:h.options.bottomStyle,n=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==n&&(i.stroke=null);var o=h.options.formatter,r=o?o(l[e]):l[e],a=h.container.addShape("text",{attrs:p.deepMix({},i,{x:t.x,y:t.y,text:r,fill:n,textAlign:"center",textBaseline:u[e]}),name:"label"});c.push(a),h.doAnimation(a)}),s.set("labelShapes",c),h.adjustPosition(c[0],c[1],s)}),this.plot.canvas.draw()},a.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},a.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},a.prototype.getBBox=function(){return this.container.getBBox()},a.prototype.getShapeBbox=function(t){var e=this,i=[];return p.each(t.get("origin").points,function(t){i.push(e.coord.convertPoint(t))}),new o.default(i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y))},a.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:0,offsetY:8,style:p.clone(t),adjustColor:!0,adjustPosition:!0}},a.prototype.getPosition=function(t){var e,i=this.getShapeBbox(t),n=i.minX,o=i.minY,r=i.maxY,a=i.width,s=this.options.offsetY,l=n+a/2,u="outer"===this.options.position?(e=o-s,r+s):(e=o+s,r-s);return[{x:l,y:u},{x:l,y:e}]},a.prototype.getValue=function(t){var e=this.plot.options.yField;return t.get("origin").data[e]},a.prototype.getTextBaseline=function(){return"outer"===this.options.position?["top","bottom"]:["bottom","top"]},a.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,o=s.rgb2arr(i);return r=Math.round(.299*o[0]+.587*o[1]+.114*o[2])/n,p.each([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],function(t){r>=t.from&&r<t.to&&(a=t.color)}),a}var r,a;return 1===e?this.options.topStyle.fill:this.options.bottomStyle.fill},a.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},a.prototype.adjustPosition=function(t,e,i){var n,o=i.get("origin"),r=o.y[1],a=o.y[0],s=i.getBBox().height,l=this.view.coordinateBBox,u=[t.getBBox(),e.getBBox()],c=t.attr("y"),h=e.attr("y");this.options.adjustPosition&&"inner"===this.options.position&&(n=u[0].height+u[1].height,(2<u[1].maxY-u[0].minY||s<n)&&(h=r-this.options.offsetY,e.attr("fill",this.options.topStyle.fill),e.attr("textBaseline","bottom"),c=a+this.options.offsetY,t.attr("fill",this.options.bottomStyle.fill),t.attr("textBaseline","top"),u[0]=t.getBBox(),u[1]=e.getBBox())),u[0].maxY>l.maxY-8&&(c=l.maxY-4,t.attr("textBaseline","bottom")),t.attr("y",c),e.attr("y",h),this.plot.canvas.draw()},a.prototype.getGeometry=function(){return p.find(this.view.geometries,function(t){return"interval"===t.type})},a);function a(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i(7),s=i(0);function o(t,e){var i=t.getBBox(),n=i.minY+i.height/2;t.setClip({type:"rect",attrs:{x:i.minX,y:n,width:i.width,height:0}}),t.get("clipShape").animate({height:i.height,y:i.minY},e.duration,e.easing,function(){t.setClip(null)},e.delay)}function r(t,e){var i,n,o=(n=t.id,s.each(a,function(t){t.id===n&&(i=t)}),i.attr("path")),r=s.clone(t.attr("path"));t.attr("path",o),t.animate({path:r},e.duration,e.easing,e.callback,100)}o.animationName="clipInFromCenterVertical",e.setShapeCache=function(t){a=t},r.animationName="updateFromCenterVertical",n.registerAnimation("clipInFromCenterVertical",o),n.registerAnimation("updateFromCenterVertical",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(145)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="percentStackedColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(146)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="pie",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({pie:"interval"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(61);e.PieLabelConfig=o.PieLabelConfig;var r=n.__importDefault(i(320)),a=n.__importDefault(i(321)),s=n.__importDefault(i(322)),l={inner:r.default,outer:a.default,"outer-center":s.default};e.getPieLabel=function(t){if(l[t])return l[t];console.warn("this label "+t+" is not registered")}},function(t,u,e){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var i=e(1),c=e(0),s=document.createElement("canvas").getContext("2d");u.measureTextWidth=c.memoize(function(t,e){void 0===e&&(e={});var i=e.fontSize,n=e.fontFamily,o=e.fontWeight,r=e.fontStyle,a=e.fontVariant;return s.font=[r,a,o,i+"px",n].join(" "),s.measureText(c.isString(t)?t:"").width},function(t,e){return e?i.__spreadArrays([t],c.values(e)).join(""):t}),u.getEllipsisText=function(t,e,i){var n,o,r=u.measureTextWidth("...",i),a=c.isString(t)?t:c.toString(t),s=e,l=[];if(u.measureTextWidth(t,i)<=e)return t;for(;n=a.substr(0,16),!((o=u.measureTextWidth(n,i))+r>s&&s<o);)if(l.push(n),s-=o,!(a=a.substr(16)))return l.join("");for(;n=a.substr(0,1),!((o=u.measureTextWidth(n,i))+r>s);)if(l.push(n),s-=o,!(a=a.substr(1)))return l.join("");return l.join("")+"..."}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),g=i(0),o=n.__importDefault(i(61)),y=i(92),v=i(20);e.percent2Number=function(t){return Number(t.endsWith("%")?t.slice(0,-1):t)/100};var r,a=(r=o.default,n.__extends(s,r),s.prototype.adjustOption=function(t){r.prototype.adjustOption.call(this,t),0<t.offset&&(t.offset=0)},s.prototype.adjustItem=function(t){t.textAlign="middle"},s.prototype.drawLines=function(){},s.prototype.layout=function(t,n){var o=this;t.forEach(function(e,i){0<i&&g.each(t.slice(0,i),function(t){o.resolveCollision(e,t,n[i])})})},s.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:n.__assign(n.__assign({},t),{textAlign:"center",textBaseline:"middle"})}},s.prototype.resolveCollision=function(t,e,i){var n,o,r,a,s,l=this.getCoordinate().center,u=i.angle,c=t.getBBox(),h=e.getBBox(),p={x:(c.minX+c.maxX)/2,y:(c.minY+c.maxY)/2},f=g.clone(p),d=g.clone(p);e.get("id")!==t.get("id")&&(o=(n=y.getOverlapInfo(c,h)).xOverlap,r=n.yOverlap,o&&(f.x=p.x+o,f.y=p.y+Math.tan(u)*o),r&&(a=r,a=p.y<l.y?a<0?a:h.minY-c.maxY:0<a?a:h.maxY-c.minY,d.y=p.y+a,d.x=p.x+a/Math.tan(u)),s=v.distBetweenPoints(p,f)<v.distBetweenPoints(p,d)?f:d,t.attr("x",s.x),t.attr("y",s.y))},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),O=i(0),o=n.__importDefault(i(61)),w=i(92);e.DEFAULT_OFFSET=16;var r,a=(r=o.default,n.__extends(s,r),s.prototype.adjustOption=function(t){r.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},s.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:n.__assign(n.__assign({},t),{textBaseline:"middle"})}},s.prototype.layout=function(t,e,i){var n=this,o=this.getCoordinate().center,r=O.filter(t,function(t){return t.attr("x")<=o.x});[O.filter(t,function(t){return t.attr("x")>o.x}),r].forEach(function(t,e){n._antiCollision(t,!e,i)})},s.prototype._antiCollision=function(r,p,a){var f=this,i=this.getLabelHeight(r),t=this.getCoordinate(),d=t.center,g=t.radius,s=this.options.offset,l=g+s,e=Math.min(a.height,Math.max(2*l+2*i,r.length*i)),n=Math.floor(e/i);this.options.allowOverlap||r.slice(n).forEach(function(t){t.get("parent").set("visible",!1)}),r.splice(n,r.length-n),r.sort(function(t,e){return t.getBBox().y-e.getBBox().y});for(var o,u,c,h,y=!0,v=d.y+e/2,m=d.y-e/2,x=r.map(function(t){var e=t.getBBox();return e.maxY>v&&(v=Math.min(a.maxY,e.maxY)),e.minY<m&&(m=Math.max(a.minY,e.minY)),{text:t.attr("text"),size:i,pos:e.y,targets:[]}}),b=0;b<x.length;)b===x.length-1?x[b].targets[0]=v:x[b].targets[0]=x[b+1].pos-x[b+1].size/2,b++;for(;y;)for(x.forEach(function(t){var e=O.last(t.targets);t.pos=Math.max(m,Math.min(t.pos,e-t.size))}),y=!1,o=x.length;o--;)0<o&&(u=x[o-1],c=x[o],u.pos+u.size>c.pos?(u.size+=c.size,u.targets=u.targets.concat(c.targets),h=O.last(u.targets),u.pos+u.size>h&&(u.pos=h-u.size),x.splice(o,1),y=!0):u.targets.splice(-1,1,c.pos));o=0,x.forEach(function(t){var e=i/2;t.targets.forEach(function(){r[o].attr("y",t.pos+e),e+=i,o++})});var _=[],M=[];r.forEach(function(t,e){var i=f.arcPoints[e];0<=i.angle&&i.angle<=Math.PI?M.push(t):_.push(t)}),[_,M].forEach(function(t,e){var i,u,n,o,c,h;t.length&&(i=e?O.last(t).getBBox().maxY-d.y:d.y-O.head(t).getBBox().minY,i=Math.max(l,i),u=4<s?4:0,n=Math.max.apply(0,O.map(r,function(t){return t.getBBox().width}))+s+u,o=Math.max(l,Math.min((i+l)/2,d.x-(a.minX+n))),c=o*o,h=i*i,t.forEach(function(t,e){var i,n=f.arcPoints[e],o=t.getBBox(),r=(o.minX,o.width,o.minY+o.height/2),a=Math.pow(r-d.y,2),s=w.getEndPoint(d,n.angle,g),l=(p?1:-1)*u*2;h<a?(console.warn("异常(一般不会出现)",t.attr("text")),t.attr("x",s.x+l)):(i=d.x+(p?1:-1)*Math.sqrt((1-a/h)*c),(d.x===s.x&&r===s.y||d.y===s.y&&i===s.x)&&(i=s.x),t.attr("x",i+l))}))})},s.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:O.head(t)?O.head(t).getBBox().height:14},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(61));e.DEFAULT_OFFSET=16;var r,a=(r=o.default,n.__extends(s,r),s.prototype.adjustOption=function(t){r.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},s.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:n.__assign(n.__assign({},t),{textBaseline:"middle"})}},s.prototype.adjustItem=function(t){var e=this.options.offset;"left"===t.textAlign?t.x+=4<e?4:e/2:"right"===t.textAlign&&(t.x-=4<e?4:e/2)},s.prototype.layout=function(t,e,i){},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var S=i(0);function j(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}var n=(o.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){t.clear()})},o.prototype.render=function(){var e=this;if(this.view&&!this.view.destroyed){var m=S.clone(this.view.getData());this.halves=[[],[]];var x=[],t=this.view.geometries[0].elements;S.each(t,function(t){x.push(t.shape)}),this.coord=this.view.geometries[0].coordinate;var b=this.options.fields[0],_=this.view.getScalesByDim("y")[b],M=this.coord.getCenter(),i=this.coord.startAngle,O=this.coord.polarRadius,n=this.view.coordinateBBox,o=n.width,r=n.height;this.width=o,this.height=r;for(var w=i,a=function(t){var e=m[t],i=_.scale(e[b]),n=w+2*Math.PI*i,o=w+(n-w)/2;w=n;var r,a,s,l=j(M,o,O+0),u=j(M,o,O+15),c="#CCC";2===C.options.fields.length&&(r=C.options.fields[1],a=C.view.geometries[0].scales[r].scale(e[r]),s=Math.floor(a*(x.length-1)),c=x[s].attr("fill"));var h,p={_anchor:l,_inflection:u,_data:e,x:u.x,y:u.y,r:O+15,fill:c,textGroup:null,_side:null},f=[];S.each(C.options.fields,function(t){f.push(e[t])}),C.options.formatter&&(h=C.options.formatter(e[b],{_origin:e,color:c},t),S.isString(h)&&(h=[h]),f=h);var d=C.container.addGroup(),g={x:0,y:0,fontSize:C.options.text.fontSize,lineHeight:C.options.text.fontSize,fontWeight:C.options.text.fontWeight,fill:C.options.text.fill},y=e[b];C.options.formatter&&(y=f[0]);var v=S.clone(g);2===f.length&&(v.fontWeight=700),d.addShape("text",{attrs:S.mix({textBaseline:2===f.length?"top":"middle",text:y},v),data:e,offsetY:2===f.length?2:0,name:"label"}).name="label",2===f.length&&(d.addShape("text",{attrs:S.mix({textBaseline:"bottom",text:f[1]},g),data:e,offsetY:-2,name:"label"}).name="label"),p.textGroup=d,l.x<M.x?(p._side="left",C.halves[0].push(p)):(p._side="right",C.halves[1].push(p))},C=this,s=0;s<m.length;s++)a(s);var l=Math.floor(r/this.options.lineHeight);S.each(this.halves,function(t){t.length>l&&t.splice(l,t.length-l),t.sort(function(t,e){return t.y-e.y}),e._antiCollision(t)}),this.view.canvas.draw()}},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},o.prototype._antiCollision=function(i){var n,t,e,o=this,r=this.coord,a=r.getHeight(),s=r.center,l=r.getRadius(),u=s.y-l-15-this.options.lineHeight,c=!0,h=a,p=0,f=Number.MIN_VALUE,d=0,g=i.map(function(t){var e=t.y;p<e&&(p=e),e<f&&(f=e);var i=t.textGroup.getBBox().width;return d<=i&&(d=i),{size:o.options.lineHeight,targets:[e-u]}});for(h<p-u&&(h=p-u);c;)for(g.forEach(function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),h-t.size)}),c=!1,n=g.length;n--;)0<n&&(t=g[n-1],e=g[n],t.pos+t.size>e.pos&&(t.size+=e.size,t.targets=t.targets.concat(e.targets),t.pos+t.size>h&&(t.pos=h-t.size),g.splice(n,1),c=!0));n=0,g.forEach(function(t){var e=u;t.targets.forEach(function(){i[n].y=t.pos+e+o.options.lineHeight/2,e+=o.options.lineHeight,n++})});var y=[];i.forEach(function(t){var e=o._drawLabel(t);o._drawLabelLine(t,d,e),y.push(e)})},o.prototype._drawLabel=function(t){var e=this.coord,i=e.getCenter(),n=e.getRadius(),o=t.y,r=t.textGroup,a=r.get("children"),s="left"===t._side?1:-1,l={textAlign:"left"===t._side?"right":"left",x:"left"===t._side?i.x-n-this.options.sidePadding:i.x+n+this.options.sidePadding};return this.options.offsetX&&(l.x+=this.options.offsetX*s),a.forEach(function(t){var e=t.get("offsetY"),i=o+e;t.attr(l),t.attr("y",i)}),r},o.prototype._drawLabelLine=function(t,e,i){var n=[t._anchor.x,t._anchor.y],o=[t._inflection.x,t._inflection.y],r=t.y,a=t.textGroup;if(a){var s,l,u,c,h=["left"===t._side?a.getBBox().maxX+4:a.getBBox().minX-4,r],p=[n,o,h];o[1]!==r&&(o[1]<r?(s=h[0]+e+15,l=h[0]-e-15,p=[n,o,u=["left"===t._side?s:l,o[1]],c=["left"===t._side?h[0]+e:h[0]-e,h[1]],h],("right"===t._side&&u[0]<o[0]||"left"===t._side&&o[0]<u[0])&&(p=[n,c,h])):p=[n,[o[0],r],h]);for(var f=[],d=0;d<p.length;d++){var g=p[d],y=0===d?"M":"L";f.push([y,g[0],g[1]])}i.addShape("path",{attrs:{path:f,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},o.prototype._adjustOptions=function(t){t.text.fontSize&&(t.lineHeight=3*t.text.fontSize)},o);function o(t){this.destroyed=!1,this.view=t.view,this.options=S.deepMix({},this.getDefaultOptions(),t),this._adjustOptions(this.options),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("pie",{columnStyle:{normal:{},active:function(t){return{fillOpacity:.8*(t.opacity||1)}},disable:function(t){return{fillOpacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(326)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="densityHeatmap",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(0),n=i(4),a=o.__importDefault(i(12)),s=i(21),l=i(14),u=i(22);i(327);var c,h=i(328),p=o.__importStar(i(331)),f=(c=a.default,o.__extends(d,c),d.getDefaultOptions=function(){return r.deepMix({},c.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,offset:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},d.prototype.afterRender=function(){this.renderPlotComponents(),c.prototype.afterRender.call(this)},d.prototype.destroy=function(){r.each(this.plotComponents,function(t){t.destroy()}),c.prototype.destroy.call(this)},d.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},r.has(t,"xAxis")&&u.extractScale(e[t.xField],t.xAxis),e[t.yField]={},r.has(t,"yAxis")&&u.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),c.prototype.scale.call(this)},d.prototype.coord=function(){},d.prototype.geometryParser=function(){return"heatmap"},d.prototype.addGeometry=function(){var t;1<this.options.data.length&&(t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}},this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint())},d.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=r.deepMix(e,t.point):t.point=e;var i=l.getGeom("point","guide",{plot:this});i.active=!1,this.setConfig("geometry",i)},d.prototype.extractLabel=function(){var t=this.options,e=t.label;return(!e||!1!==e.visible)&&s.getComponent("label",o.__assign({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e))},d.prototype.legend=function(){this.setConfig("legends",!1)},d.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},d.prototype.parseEvents=function(){c.prototype.parseEvents.call(this,p)},d.prototype.renderPlotComponents=function(){var n=this;r.each(this.plotComponents,function(t){t.destroy()}),r.each(["legend","background"],function(t){var e=o.__assign({view:n.view,plot:n},n.options[t]),i=h.getPlotComponents(n,t,e);i&&(i.render(),n.plotComponents.push(i))})},d);function d(){var t=null!==c&&c.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}e.default=f,n.registerPlotType("densityHeatmap",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(7),a=i(0),s=o.__importStar(i(24)),l=(n=r.Geometry,o.__extends(u,n),u.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},u.prototype.clear=function(){this.clearShadowCanvasCtx(),n.prototype.clear.call(this)},u.prototype.prepareRange=function(t){var i=this.getAttribute("color").getFields()[0],n=1/0,o=-1/0;return t.forEach(function(t){var e=t._origin[i];o<e&&(o=e),e<n&&(n=e)}),n===o&&(n=o-1),[n,o]},u.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),a.isNumber(t)||(t=this.getDefaultSize()),this.radius=t)},u.prototype.prepareBlur=function(){var t=a.get(this.styleOption,["style","shadowBlur"]);a.isNumber(t)||(t=this.radius/2),this.blur=t},u.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},u.prototype.colorize=function(t){for(var e=this.getAttribute("color"),i=t.data,n=this.paletteCache,o=3;o<i.length;o+=4){var r,a=i[o];a&&(r=void 0,n[a]?r=n[a]:(r=s.rgb2arr(e.gradient(a/256)),n[a]=r),i[o-3]=r[0],i[o-2]=r[1],i[o-1]=r[2],i[o]=a)}},u.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var i=this.intensity?this.intensity:2,n=Math.sqrt(-2*Math.log(1/255/16/t/i/.3989422804014327))/3*t,o=n-t,r=n+o,a=e.getContext("2d");e.width=e.height=2*r,a.clearRect(0,0,e.width,e.height),a.shadowOffsetX=a.shadowOffsetY=2*r,a.shadowBlur=o,a.shadowColor="black",a.beginPath(),a.arc(-r,-r,t,0,2*Math.PI,!0),a.closePath(),a.fill()},u.prototype.drawGrayScaleBlurredCircle=function(t,e,i,n,o){var r=this.grayScaleCanvas;o.globalAlpha=n,o.drawImage(r,t-i,e-i)},u.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},u.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},u.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t},u.prototype.drawWithRange=function(t,e){var i=this.coordinate,n=i.start,o=i.end,r=this.coordinate.getWidth(),a=this.coordinate.getHeight(),s=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var l=this.getShadowCanvasCtx();e&&(t=t.filter(function(t){return t._origin[s]<=e[1]&&t._origin[s]>=e[0]}));for(var u=this.scales[s],c=0;c<t.length;c++){var h=t[c],p=this.getDrawCfg(h),f=u.scale(h._origin[s]);this.drawGrayScaleBlurredCircle(p.x-n.x,p.y-o.y,this.radius+this.blur,f,l)}var d=l.getImageData(0,0,r,a);this.clearShadowCanvasCtx(),this.colorize(d),l.putImageData(d,0,0),(new Image).src=l.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",n.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",r),this.imageShape.attr("height",a),this.imageShape.attr("img",l.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},u.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return o.__assign(o.__assign({},e),{mappingData:t,data:this.getData(t)})},u.prototype.getData=function(t){return t.map(function(t){return t._origin})},u);function u(t){var e=n.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}r.registerGeometry("linearHeatmap",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(329)),r=n.__importDefault(i(330)),a={background:{Ctr:o.default},legend:{Ctr:r.default,padding:"outer"}};e.getPlotComponents=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=a[e],o=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(o,n.padding),o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=(n=o.__importDefault(i(28)).default,o.__extends(s,n),s.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},s.prototype.render=function(){var t;"color"===this.options.type?this.renderColorBackground():"image"===this.options.type?this.renderImageBackground():this.options.callback&&(t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container},this.options.callback(t))},s.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},s.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},s.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},s.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},s.prototype.getCoordinate=function(){var e;return r.each(this.view.geometries,function(t){"heatmap"===t.type&&(e=t.coordinate)}),e},s);function s(t){var e=n.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(1),p=i(0),n=h.__importDefault(i(10)),o=(r.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container=t.addGroup()},r.prototype.render=function(){var t=this.getScales(),e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,o=i.max,r=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(n,o,r):this.renderVertical(n,o,r),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},r.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){var t=this.container.getBBox();return new n.default(this.x,this.y,t.width,t.height)},r.prototype.renderVertical=function(t,r,e){var a=this,s=this.width,l=this.height/e.length,u=this.container.addGroup(),i=p.clone(e).reverse(),c=(r-t)/e.length;p.each(i,function(t,e){var i=l*e,n={to:r-c*e,from:r-c*(e+1)};a.container.addShape("rect",{attrs:{x:0,y:i,width:s,height:l,fill:t,opacity:1,cursor:"pointer"},name:"legend"}).set("info",n);var o=a.getDataSlide(n);a.dataSlides[n.from+"-"+n.to]={mode:"active",data:o},u.addShape("path",{attrs:h.__assign({path:[["M",0,i+l],["L",s,i+l]]},a.options.gridlineStyle)})}),this.container.addShape("text",{attrs:h.__assign({text:r,x:s/2,y:-4,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:h.__assign(h.__assign({text:t,x:s/2,y:this.height+4,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),u.addShape("path",{attrs:h.__assign({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},r.prototype.renderHorizontal=function(t,e,i){var o=this,r=this.width/i.length,a=this.height,s=this.container.addGroup(),l=(e-t)/i.length;p.each(i,function(t,e){var i=r*e,n={from:l*e,to:l*(e+1)};o.container.addShape("rect",{attrs:{x:i,y:0,width:r,height:a,fill:t,opacity:.8,cursor:"pointer"},name:"legend"}).set("info",n),s.addShape("path",{attrs:h.__assign({path:[["M",i+r,0],["L",i+r,a]]},o.options.gridlineStyle)})}),this.container.addShape("text",{attrs:h.__assign(h.__assign({text:t,x:-4,y:a/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:h.__assign({text:e,x:this.width+4,y:a/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:h.__assign({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},r.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},r.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?.5*this.options.plot.options.width:10},r.prototype.getDefaultHeight=function(){return"vertical"===this.layout?.5*this.options.plot.options.height:10},r.prototype.legendLayout=function(){var i=this,n=this.options.plot.getPlotTheme().bleeding;p.isArray(n)&&p.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.options.plot.options))});var t=this.container.getBBox(),e=0,o=0,r=this.options.position.split("-"),a=this.options.plot.width,s=this.options.plot.height;"left"===r[0]?e=n[3]:"right"===r[0]?e=a-n[1]-t.width:"center"===r[1]?e=(a-t.width)/2:"left"===r[1]?e=n[3]:"right"===r[1]&&(e=this.options.plot.width-n[1]-t.width),"bottom"===r[0]?o=s-n[2]-t.height:"top"===r[0]?o=this.getTopPosition(n):"center"===r[1]?o=(s-t.height)/2:"top"===r[1]?o=n[0]:"bottom"===r[1]&&(o=s-n[2]-t.height),this.x=e,this.y=o,this.container.translate(e,o)},r.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},r.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},r.prototype.addInteraction=function(){var a=this,s=this.options.plot.options.colorField;this.container.on("click",function(t){var e,i,n,o,r=t.target;"legend"===r.get("name")&&(i=(e=r.get("info")).from+"-"+e.to,"active"===(n=a.dataSlides[i]).mode?(n.mode="deactive",r.stopAnimate(),r.animate({opacity:.1},200)):(n.mode="active",r.stopAnimate(),r.animate({opacity:1},200)),0<(o=a.getFilteredData()).length&&(a.view.changeData(o),a.view.scale(s,{min:a.colorScale.min,max:a.colorScale.max,nice:a.colorScale.nice}),a.view.render()))})},r.prototype.getFilteredData=function(){var e=[];return p.each(this.dataSlides,function(t){"active"==t.mode&&e.push.apply(e,t.data)}),e},r.prototype.getDataSlide=function(i){var n=[],t=this.options.plot.options,o=t.colorField,e=t.data;return p.each(e,function(t){var e=t[o];e>=i.from&&e<i.to&&n.push(t)}),n},r.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},r.prototype.getScales=function(){var e;return p.each(this.view.geometries,function(t){"heatmap"===t.type&&(e=t.scales)}),e},r);function r(t){this.destroyed=!1,this.dataSlides={};var e=this.getDefaultOptions();t.plot.options.theme&&"dark"===t.plot.options.theme&&(e=this.getDarkOptions()),this.options=p.deepMix({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(333)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="heatmap",n.prototype.createLayers.call(this,e)},u.prototype.changeShape=function(t){this.layers[0].changeShape(t)},u.prototype.mappingSize=function(t){this.layers[0].mappingSize(t)},u.prototype.disableMappingSize=function(){this.layers[0].disableMappingSize()},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),f=i(0),a=i(17),r=i(4),s=o.__importDefault(i(12)),d=i(334),l=i(335),u=(n=s.default,o.__extends(c,n),c.getDefaultOptions=function(){return f.deepMix({},n.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},c.prototype.afterRender=function(){this.renderPlotComponents(),n.prototype.afterRender.call(this)},c.prototype.changeShape=function(t){var e;this.options.shapeType!==t&&("rect"===(this.options.shapeType=t)?(e=this.getShapes(),this.circleToRect(e)):"circle"===t&&(e=this.getShapes(),this.rectToCircle(e)))},c.prototype.mappingSize=function(t){var e,i,n,o,r;this.options.sizeField&&this.options.sizeField===t||(this.options.sizeField=t,e=f.valuesOfKey(this.options.data,t),i=Math.min.apply(Math,e),n=Math.max.apply(Math,e),o=new(a.getScale("linear"))({min:i,max:n}),r=this.getShapes(),"rect"===this.options.shapeType?this.rectSizeMapping(r,o,t):"circle"===this.options.shapeType&&this.circleSizeMapping(r,o,t))},c.prototype.disableMappingSize=function(){var t=this.getShapes();"rect"===this.options.shapeType?this.rectDisableSizeMapping(t):"circle"===this.options.shapeType&&this.circleDisableSizeMapping(t)},c.prototype.destroy=function(){f.each(this.plotComponents,function(t){t.destroy()}),n.prototype.destroy.call(this)},c.prototype.geometryParser=function(){return""},c.prototype.coord=function(){},c.prototype.legend=function(){this.setConfig("legends",!1)},c.prototype.addGeometry=function(){var t,e;this.gridSize=this.getGridSize(),t="rect"===this.options.shapeType?this.addRect():this.addCircle(),this.options.shapeStyle&&(e={},f.isObject(this.options.shapeStyle)?e.cfg=this.options.shapeStyle:f.isFunction(this.options.shapeType)&&(e.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],e.callback=this.options.shapeType),t.style=e),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},c.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},c.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[.5*Math.min(this.gridSize[0],this.gridSize[1])*.9]},e},c.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},c.prototype.getGridSize=function(){if("auto"===this.options.padding)return[0,0];var t=this.getViewRange(),e=this.options,i=e.padding,n=e.xField,o=e.yField,r=e.data,a=t.width-i[1]-i[3],s=t.height-i[0]-i[2];return[a/f.valuesOfKey(r,n).length,s/f.valuesOfKey(r,o).length]},c.prototype.circleToRect=function(t){var l=this,u=this.gridSize;f.each(t,function(t){var e=t.get("origin"),i=e.x,n=e.y,o=e.size,r=2*o/Math.min(u[0],u[1]);l.options.sizeField||(r=1);var a=d.getCircleCurve(i,n,o),s=d.getRectPath(i,n,u[0],u[1],r);t.stopAnimate(),t.attr("path",a),t.animate({path:s},500,"easeLinear")})},c.prototype.rectToCircle=function(t){var p=this;f.each(t,function(t){var e=t.get("coord"),i=t.get("origin").points,n=[];f.each(i,function(t){n.push(e.convertPoint(t))});var o=t.getBBox(),r=o.width,a=o.height,s=o.minX+r/2,l=o.minY+a/2,u=p.options.sizeField?1:.9,c=d.getCircleCurve(s,l,Math.min(r,a)/2*u),h=d.getCirclePath(s,l,Math.min(r,a)/2*u);t.stopAnimate(),t.animate({path:c},500,"easeLinear",function(){t.attr("path",h)})})},c.prototype.rectSizeMapping=function(t,u,c){f.each(t,function(t){var e=t.get("origin").data,i=.3+.6*u.scale(e[c]);t.get("origin").size=i;var n=t.getBBox(),o=n.width,r=n.height,a=n.minX+o/2,s=n.minY+r/2,l=d.getRectPath(a,s,o,r,i);t.stopAnimate(),t.animate({path:l},500,"easeLinear")})},c.prototype.circleSizeMapping=function(t,l,u){f.each(t,function(t){var e=t.get("origin").data,i=.3+.6*l.scale(e[u]),n=t.get("origin"),o=n.x,r=n.y,a=n.size,s=d.getCirclePath(o,r,a*i);t.get("origin").size=a*i,t.stopAnimate(),t.animate({path:s},500,"easeLinear")})},c.prototype.circleDisableSizeMapping=function(t){var a=this;this.options.sizeField=null,f.each(t,function(t){var e=t.get("origin"),i=e.x,n=e.y,o=.9*Math.min(a.gridSize[0],a.gridSize[1]);t.get("origin").size=o/2;var r=d.getCirclePath(i,n,o/2);t.stopAnimate(),t.animate({path:r},500,"easeLinear")})},c.prototype.rectDisableSizeMapping=function(t){var s=this;this.options.sizeField=null,f.each(t,function(t){var e=t.getBBox(),i=e.width,n=e.height,o=e.minX+i/2,r=e.minY+n/2,a=d.getRectPath(o,r,s.gridSize[0],s.gridSize[1],1);t.get("origin").size=1,t.stopAnimate(),t.animate({path:a},500,"easeLinear")})},c.prototype.getShapes=function(){var t=this.view.geometries[0].elements,e=[];return f.each(t,function(t){e.push(t.shape)}),e},c.prototype.renderPlotComponents=function(){var n=this;f.each(this.plotComponents,function(t){t.destroy()}),this.plotComponents=[],f.each(["label","legend"],function(t){var e=o.__assign({view:n.view,plot:n},n.options[t]),i=l.getPlotComponents(n,t,e);i&&(i.render(),n.plotComponents.push(i))})},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}e.default=u,r.registerPlotType("heatmap",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),a=i(0);function s(t,e,i,n,o){var r=i*o,a=n*o;return[["M",t-r/2,e+a/2],["Q",t-r/2,e,t-r/2,e-a/2],["Q",t,e-a/2,t+r/2,e-a/2],["Q",t+r/2,e,t+r/2,e+a/2],["Q",t,e+a/2,t-r/2,e+a/2],["Z"]]}function o(t,e,i){return[["M",t,e],["l",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,-2*i,0],["Z"]]}e.getRectPath=s,e.getCirclePath=o,e.getCircleCurve=function(t,e,i){return[["M",t-i,e],["Q",t-i,e-i,t,e-i],["Q",t+i,e-i,t+i,e],["Q",t+i,e+i,t,e+i],["Q",t-i,e+i,t-i,e],["Z"]]},n.registerShape("polygon","rect",{draw:function(t,e){var i=this.parsePoints(t.points),n=i[2].x-i[0].x,o=i[0].y-i[1].y,r=s(i[0].x+n/2,i[1].y+o/2,n,o,t.size);return e.addShape("path",{attrs:a.deepMix({},{path:r,fill:t.color,opacity:1},t.style)})}}),n.registerShape("point","curvePoint",{draw:function(t,e){var i=o(t.x,t.y,t.size);return e.addShape("path",{attrs:a.deepMix({},{path:i,fill:t.color,opacity:1},t.style)})}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=n.__importDefault(i(336)),r=n.__importDefault(i(337)),a={label:{Ctr:o.default},legend:{Ctr:r.default,padding:"outer"}};e.getPlotComponents=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=a[e],o=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(o,n.padding),o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(0),r=i(24),n=(o.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},o.prototype.render=function(){var h=this,t=this.view.geometries[0].elements;p.each(t,function(t){var e=t.shape,i=h.options,n=i.style,o=i.offsetX,r=i.offsetY,a=h.options.formatter,s=a?a(h.getContent(e)):h.getContent(e),l=h.getPosition(e),u=h.getTextColor(e),c=h.container.addShape("text",{attrs:p.deepMix({},n,{x:l.x+o,y:l.y+r,text:s,fill:u,textAlign:"center",textBaseline:"middle"}),name:"label"});h.options.adjustPosition&&h.adjustLabel(c,e)})},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getBBox=function(){return this.container.getBBox()},o.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:p.clone(t)}},o.prototype.getContent=function(t){return t.get("origin").data[this.plot.options.colorField]},o.prototype.getPosition=function(t){var e=t.getBBox();return{x:e.minX+e.width/2,y:e.minY+e.height/2}},o.prototype.getTextColor=function(t){if(this.options.adjustColor){var e=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,n=r.rgb2arr(e),o=Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i;return r.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],o)}return this.options.style.fill},o.prototype.adjustLabel=function(t,e){var i=t.getBBox(),n=e.getBBox();(i.width>n.width||i.height>n.height)&&t.attr("text","")},o);function o(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),u=i(0),n=l.__importDefault(i(10)),o=(r.prototype.init=function(){var t=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var e=this.options.plot.container;this.container&&this.container.remove(),this.container=e.addGroup(),this.view.on("beforerender",function(){t.clear(),t.options.plot.canvas.draw()})},r.prototype.render=function(){var t=this.view.geometries[0].scales,e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,o=i.max,r=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(n,o,r):this.renderVertical(n,o,r),this.legendLayout(),this.addInteraction()},r.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},r.prototype.getBBox=function(){var t=this.container.getBBox();return new n.default(this.x,this.y,t.width,t.height)},r.prototype.renderVertical=function(t,e,i){var o=this,r=(e-t)/(i.length-1),n=1/(i.length-1),a=this.height/(i.length-1),s="l(90)";u.each(i,function(t,e){s+=n*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),u.each(i,function(t,e){var i=a*e;o.container.addShape("path",{attrs:l.__assign({path:[["M",0,i],["L",o.width,i]]},o.options.ticklineStyle)});var n=Math.round(r*e);o.container.addShape("text",{attrs:l.__assign({text:n,textAlign:"left",textBaseline:"middle",x:o.width+4,y:i},o.options.text.style),name:"legend-label"})}),this.anchor=this.container.addShape("path",{attrs:l.__assign({path:[["M",-10,-7],["L",0,0],["L",-10,7],["Z"]]},this.options.anchorStyle)}),this.anchor.set("visible",!1)},r.prototype.renderHorizontal=function(t,e,i){var o=this,r=(e-t)/(i.length-1),n=1/(i.length-1),a=this.width/(i.length-1),s="l(0)";u.each(i,function(t,e){s+=n*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),u.each(i,function(t,e){var i=a*e;o.container.addShape("path",{attrs:l.__assign({path:[["M",i,0],["L",i,o.height]]},o.options.ticklineStyle),name:"legend-label"});var n=Math.round(r*e);o.container.addShape("text",{attrs:l.__assign({text:n,textAlign:"center",textBaseline:"top",x:i,y:o.height+4},o.options.text.style)})}),this.anchor=this.container.addShape("path",{attrs:l.__assign({path:[["M",0,0],["L",-7,-10],["L",7,-10],["Z"]]},this.options.anchorStyle)}),this.anchor.set("visible",!1)},r.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},r.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?this.view.coordinateBBox.width:10},r.prototype.getDefaultHeight=function(){return"vertical"===this.layout?this.view.coordinateBBox.height:10},r.prototype.legendLayout=function(){var i=this,t=this.view.coordinateBBox,n=this.options.plot.getPlotTheme().bleeding;u.isArray(n)&&u.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.options.plot.options))});var e=this.container.getBBox(),o=0,r=0,a=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;"left"===a[0]?o=n[3]:"right"===a[0]?o=s-n[1]-e.width:"center"===a[1]?o=this.width===t.width?t.x:(s-e.width)/2:"left"===a[1]?o=n[3]:"right"===a[1]&&(o=this.options.plot.width-n[1]-e.width),"bottom"===a[0]?r=l-n[2]-e.height:"top"===a[0]?r=this.getTopPosition(n):"center"===a[1]?r=this.height===t.height?t.y:(l-e.height)/2:"top"===a[1]?r=n[0]:"bottom"===a[1]&&(r=l-n[2]-e.height),this.x=o,this.y=r,this.container.translate(o,r)},r.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},r.prototype.addInteraction=function(){function t(t){var e=(t.data.data[n]-r)/(a-r);i.moveAnchor(e)}var i=this,e=("rect"===this.options.plot.options.shapeType?"polygon":"point")+":"+this.options.triggerOn,n=this.options.plot.options.colorField,o=this.colorScale,r=o.min,a=o.max;function s(){i.anchor.set("visible",!1)}this.view.on(e,t),this.interactiveEvents[e]={target:this.view,handler:t},this.options.plot.canvas.on("mouseleave",s),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:s}},r.prototype.moveAnchor=function(t){var e,i;this.anchor.set("visible",!0),"vertical"===this.layout?(i=this.height*t,(e=[1,0,0,0,1,0,0,0,1])[7]=i):(i=this.width*t,(e=[1,0,0,0,1,0,0,0,1])[6]=i),this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")},r.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},r.prototype.offEvent=function(){u.each(this.interactiveEvents,function(t,e){var i=t.target,n=t.handler;i.off(e,n)})},r);function r(t){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var e=this.getDefaultOptions();this.options=u.deepMix({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(339)),l=i(4),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="wordCloud",e.container=this.containerDOM,n.prototype.createLayers.call(this,e)},c);function c(t,e){return e.renderer="canvas",n.call(this,t,e)||this}e.default=u,l.registerPlotType("wordCloud",s.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),u=i(0),r=o.__importDefault(i(44)),a=o.__importDefault(i(340)),s=o.__importDefault(i(341)),l=(n=r.default,o.__extends(c,n),c.prototype.init=function(){n.prototype.init.call(this),this._initToolTips()},c.prototype.render=function(){n.prototype.render.call(this),this._render()},c.prototype._initToolTips=function(){this._toolTips=new a.default({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},c.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},c.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+(new Date).getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},c.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),s.default(this._targetCanvas,this.options)},c.prototype._handleG2PlotConfig=function(){var t,e,i,n=this.options.wordStyle.fontSize||[10,60],o=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2];this.options.wordStyle.active?(t=!0,e=this.options.wordStyle.active.shadowColor||"#333",i=this.options.wordStyle.active.shadowBlur||10):t=!1,this.options=u.deepMix({},this.options,{minFontSize:n[0],maxFontSize:n[1],minRotation:o[0],maxRotation:o[1],active:t,shadowColor:e,shadowBlur:i})},c.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),i=e.maskImageCanvas,n=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var r=o.getImageData(0,0,1,1).data,a=n.getImageData(0,0,i.width,i.height),s=n.createImageData(a),l=0;l<a.data.length;l+=4)128<a.data[l+3]?(s.data[l]=r[0],s.data[l+1]=r[1],s.data[l+2]=r[2],s.data[l+3]=r[3]):(s.data[l]=r[0],s.data[l+1]=r[1],s.data[l+2]=r[2],s.data[l+3]=254);n.putImageData(s,0,0),this._targetCanvas.getContext("2d").drawImage(i,0,0),this.options=u.deepMix({},this.options,{clearCanvas:!1}),this._start()},c.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var i=e.getContext("2d");return i.imageSmoothingEnabled=!0,i.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:i}},c.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);for(var n=i.getImageData(0,0,e.width,e.height),o=0;o<n.data.length;o+=4){var r=n.data[o]+n.data[o+1]+n.data[o+2];n.data[o+3]<128||750<r?(n.data[o]=255,n.data[o+1]=255,n.data[o+2]=255,n.data[o+3]=0):(n.data[o]=0,n.data[o+1]=0,n.data[o+2]=0,n.data[o+3]=255)}return i.putImageData(n,0,0),e},c);function c(t){var o=n.call(this,t)||this;return o._toolTipsAction=function(t,e,i,n){e?(o._toolTips.update({items:[{color:t.color||"red",name:t.word,value:t.weight}],x:i.offsetX,y:i.offsetY}),o._toolTips.show()):o._toolTips.hide(),o._toolTips.render(),o._configHoverAction&&o._configHoverAction(t,e,i,n)},o._configHoverAction=t.onWordCloudHover,o._enableToolTips=u.get(t,"tooltip.visible",!0),o.options=u.deepMix({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:o._enableToolTips?o._toolTipsAction:o._configHoverAction}),o}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=(n=i(7).HtmlTooltip,o.__extends(s,n),s);function s(t){var e=r.deepMix({},t,{itemTpl:'<div data-index={index}>\n        <span style="background-color:{color};" class="g2-tooltip-marker"></span>\n        {name}<span class="g2-tooltip-value">{value}</span></div>'},t);return n.call(this,e)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var i=[void 0],n="zero-timeout-message";return window.addEventListener("message",function(t){var e;"string"==typeof t.data&&t.data.substr(0,n.length)===n&&(t.stopImmediatePropagation(),e=parseInt(t.data.substr(n.length),36),i[e]&&(i[e](),i[e]=void 0))},!0),window.clearImmediate=function(t){i[t]&&(i[t]=void 0)},function(t){var e=i.length;return i.push(t),window.postMessage(n+e.toString(36),"*"),e}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});function m(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t}function n(C,t){if(h){Array.isArray(C)||(C=[C]),C.forEach(function(t,e){if("string"==typeof t){if(C[e]=document.getElementById(t),!C[e])throw"The element id specified is not found."}else if(!t.tagName&&!t.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var S={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",animatable:!0,minFontSize:X,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,selected:-1,shadowColor:"#333",shadowBlur:10,classes:null,onWordCloudHover:null,onWordCloudClick:null},j=[];if(t)for(var e in t)if("wordStyle"===e)for(var i in t[e])i in S&&(S[i]=t[e][i]);else e in S&&(S[e]=t[e]);if(S.minFontSize<X&&(S.minFontSize=X),S.minFontSize>S.maxFontSize)console.error("minSize cant bigger than maxSize");else{for(var A=0,n=0;n<S.data.length;n++)A<S.data[n].weight&&(A=S.data[n].weight);var b=!1;if("function"!=typeof S.shape)switch(S.shape){case"circle":default:S.shape="circle";break;case"cardioid":S.shape=function(t){return 1-Math.sin(t)},b=!0;break;case"diamond":S.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":S.shape=function(t){var e=(t+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":S.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-backward":S.shape=function(t){var e=(t+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-up":S.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-down":S.shape=function(t){var e=(t+5*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":S.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":S.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return 0<=(t+.955)%(2*Math.PI/5)-2*Math.PI/10?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}S.gridSize=Math.max(Math.floor(S.gridSize),4);var _,M,O,w,P,T,o,L=S.gridSize,v=L-S.maskGapWidth,p=Math.abs(S.maxRotation-S.minRotation),f=Math.min(S.maxRotation,S.minRotation),d=S.rotationSteps;switch(S.color){case"random-dark":o=function(){return c(10,50)};break;case"random-light":o=function(){return c(50,90)};break;default:"function"==typeof S.color&&(o=S.color)}var r=null;"function"==typeof S.classes&&(r=S.classes);var k,E=!1,D=[],a=function(t){var e,i=t.currentTarget,n=i.getBoundingClientRect(),o=t.touches?(e=t.touches[0].clientX,t.touches[0].clientY):(e=t.clientX,t.clientY),r=e-n.left,a=o-n.top,s=Math.floor(r*(i.width/n.width||1)/L),l=Math.floor(a*(i.height/n.height||1)/L);return D&&D[s]&&D[s][l]},s=function(t,e,i,n){n(t?t.id:-1)},B=function(t){var e=a(t);if(k!==e){if(!e)return S.onWordCloudHover(void 0,void 0,t,u),void(S.active&&s(void 0,0,0,u));S.onWordCloudHover(e.item,e.dimension,t,u),S.active&&s(e.item,e.dimension,0,u),k=e}},F=function(t){var e=a(t);e&&(S.onWordCloudClick(e.item,e.dimension,t),t.preventDefault())},l=[],g=function(t){if(l[t])return l[t];var e=8*t,i=e,n=[];for(0===t&&n.push([w[0],w[1],0]);i--;){var o=1;"circle"!==S.shape&&(o=S.shape(i/e*2*Math.PI)),n.push([w[0]+t*o*Math.cos(-i/e*2*Math.PI),w[1]+t*o*Math.sin(-i/e*2*Math.PI)*S.ellipticity,i/e*2*Math.PI])}return l[t]=n},I=function(){return 0<S.abortThreshold&&(new Date).getTime()-T>S.abortThreshold},R=function(h,p,f,d,g,y,v,m,x,b,_){var t,M=f.fontSize,O=S.color,w=S.classes;_?(t=G(b),O=t?t.color:S.color):(O=o?o(d,g,M,y,v):S.color,w=r?r(d,g,M,y,v):S.classes);var e=f.bounds;e[3],e[0],e[1],e[3],e[2],e[0],C.forEach(function(t){if(t.getContext){var e=t.getContext("2d"),i=f.mu;e.save();var n=S.fontWeight+" "+(M*i).toString(10)+"px "+S.fontFamily;e.scale(1/i,1/i),e.font=n,e.fillStyle=O;var o=(h+f.gw/2)*L*i,r=(p+f.gh/2)*L*i;e.translate(o,r),0!==m&&e.rotate(-m),e.textBaseline="middle",S.selected===b&&(e.shadowColor=S.shadowColor,e.shadowBlur=S.shadowBlur),e.fillText(d,f.fillTextOffsetX*i,(f.fillTextOffsetY+.5*M)*i),_||j.push({gx:h,gy:p,info:f,word:d,weight:g,distance:y,theta:v,rotateDeg:m,attributes:x,id:b,color:O}),e.restore()}else{var a=document.createElement("span"),s="",s="rotate("+-m/Math.PI*180+"deg) ";1!==f.mu&&(s+="translateX(-"+f.fillTextWidth/4+"px) scale("+1/f.mu+")");var l={position:"absolute",display:"block",font:S.fontWeight+" "+M*f.mu+"px "+S.fontFamily,left:(h+f.gw/2)*L+f.fillTextOffsetX+"px",top:(p+f.gh/2)*L+f.fillTextOffsetY+"px",width:f.fillTextWidth+"px",height:f.fillTextHeight+"px",lineHeight:M+"px",whiteSpace:"nowrap",transform:s,webkitTransform:s,msTransform:s,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var u in O&&(l.color=O),a.textContent=d,l)a.style[u]=l[u];if(x)for(var c in x)a.setAttribute(c,x[c]);w&&(a.className+=w),t.appendChild(a)}})},y=function(t,e,i,n,o,r,a,s){var l=Math.floor(t[0]-e.gw/2),u=Math.floor(t[1]-e.gh/2);return e.gw,e.gh,!!function(t,e,i){for(var n=i.length;n--;){var o=t+i[n][0],r=e+i[n][1];if(M<=o||O<=r||o<0||r<0){if(!S.drawOutOfBound)return}else if(!_[o][r])return}return 1}(l,u,e.occupied)&&(R(l,u,e,i,n,o,t[2],r,a,s,!1),function(t,e,i){var n,o,r,a=i.occupied,s=S.drawMask;s&&((n=C[0].getContext("2d")).save(),n.fillStyle=S.maskColor),E&&(r={x:(t+(o=i.bounds)[3])*L,y:(e+o[0])*L,w:(o[1]-o[3]+1)*L,h:(o[2]-o[0]+1)*L});for(var l,u,c,h,p,f=a.length;f--;){var d,g=t+a[f][0],y=e+a[f][1];M<=g||O<=y||g<0||y<0||((d=G(i.item.id))&&(i.item.color=d.color),l=g,u=y,c=s,h=r,p=i.item,M<=l||O<=u||l<0||u<0||(_[l][u]=!1,c&&C[0].getContext("2d").fillRect(l*L,u*L,v,v),E&&(D[l][u]={item:p,dimension:h})))}s&&n.restore()}(l,u,e),{gx:l,gy:u,rot:r,info:e})},N=function(t){var e,i,n,o;Array.isArray(t)?(e=t[0],i=t[1]):(e=t.word,i=t.weight,n=t.attributes,o=t.id);var r=0===S.rotateRatio||Math.random()>S.rotateRatio?0:0===p?f:0<d?f+Math.floor(Math.random()*d)*p/d:f+Math.random()*p,a=function(t,e,i){var n=Math.min(Math.max(S.minFontSize,S.maxFontSize*e/A),S.maxFontSize);if(n<=0)return!1;var o=1;n<X&&(o=function(){for(var t=2;t*n<X;)t+=2;return t}());var r=document.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0});a.font=S.fontWeight+" "+(n*o).toString(10)+"px "+S.fontFamily;var s,l=a.measureText(t).width/o,u=Math.max(n*o,a.measureText("m").width,a.measureText("Ｗ").width)/o,c=l+2*u,h=3*u,p=Math.ceil(c/L),f=Math.ceil(h/L),c=p*L,h=f*L,d=-l/2,g=.4*-u,y=Math.ceil((c*Math.abs(Math.sin(i))+h*Math.abs(Math.cos(i)))/L),v=Math.ceil((c*Math.abs(Math.cos(i))+h*Math.abs(Math.sin(i)))/L),m=v*L,x=y*L;r.setAttribute("width",m),r.setAttribute("height",x),a.scale(1/o,1/o),a.translate(m*o/2,x*o/2),a.rotate(-i),a.font=S.fontWeight+" "+(n*o).toString(10)+"px "+S.fontFamily,a.fillStyle="#000",a.textBaseline="middle",a.fillText(t,d*o,(g+.5*n)*o);try{s=a.getImageData(0,0,m,x).data}catch(t){return!1}if(I())return!1;for(var b,_,M,O=[],w=v,C=[y/2,v/2,y/2,v/2];w--;)for(b=y;b--;){M=L;t:for(;M--;)for(_=L;_--;)if(s[4*((b*L+M)*m+(w*L+_))+3]){O.push([w,b]),w<C[3]&&(C[3]=w),w>C[1]&&(C[1]=w),b<C[0]&&(C[0]=b),b>C[2]&&(C[2]=b);break t}}return{mu:o,occupied:O,bounds:C,gw:v,gh:y,fillTextOffsetX:d,fillTextOffsetY:g,fillTextWidth:l,fillTextHeight:u,fontSize:n}}(e,i,r);if(a&&(a.item=t),!a)return!1;if(I())return!1;if(!S.drawOutOfBound){var s=a.bounds;if(s[1]-s[3]+1>M||s[2]-s[0]+1>O)return!1}for(var l=P+1;l--;){var u=g(P-l);S.shuffle&&(u=[].concat(u),m(u));for(var c=0;c<u.length;c++){var h=y(u[c],a,e,i,P-l,r,n,o);if(h)return h}}return null},Y=function(i,n,o){if(n)return!C.some(function(t){var e=document.createEvent("CustomEvent");return e.initCustomEvent(i,!0,n,o||{}),!t.dispatchEvent(e)},this);C.forEach(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent(i,!0,n,o||{}),t.dispatchEvent(e)},this)},G=function(t){for(var e=0;e<j.length;e++){var i=j[e];if(j[e].id===t)return i}},u=function(t){if(void 0===t){var e,i,n=C[0];if(O=n.getContext?(M=Math.ceil(n.width/L),Math.ceil(n.height/L)):(e=n.getBoundingClientRect(),M=Math.ceil(e.width/L),Math.ceil(e.height/L)),Y("wordcloudstart",!0)){if(w=S.origin?[S.origin[0]/L,S.origin[1]/L]:[M/2,O/(b?4:2)],P=Math.floor(Math.sqrt(M*M+O*O)),_=[],!n.getContext||S.clearCanvas)for(C.forEach(function(t){var e;t.getContext?((e=t.getContext("2d")).fillStyle=S.backgroundColor,e.clearRect(0,0,M*(L+1),O*(L+1)),e.fillRect(0,0,M*(L+1),O*(L+1))):(t.textContent="",t.style.backgroundColor=S.backgroundColor,t.style.position="relative")}),u=M;u--;)for(_[u]=[],i=O;i--;)_[u][i]=!0;else{var o=document.createElement("canvas").getContext("2d");o.fillStyle=S.backgroundColor,o.fillRect(0,0,1,1);for(var r,a,s=o.getImageData(0,0,1,1).data,l=n.getContext("2d").getImageData(0,0,M*L,O*L).data,u=M;u--;)for(_[u]=[],i=O;i--;){a=L;t:for(;a--;)for(r=L;r--;)for(h=4;h--;)if(l[4*((i*L+a)*M*L+(u*L+r))+h]!==s[h]){_[u][i]=!1;break t}!1!==_[u][i]&&(_[u][i]=!0)}l=o=s=void 0}if(S.onWordCloudHover||S.onWordCloudClick){for(E=!0,u=M+1;u--;)D[u]=[];S.onWordCloudHover&&n.addEventListener("mousemove",B),S.onWordCloudClick&&(n.addEventListener("click",F),n.addEventListener("touchstart",F),n.addEventListener("touchend",function(t){t.preventDefault()}),n.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),n.addEventListener("wordcloudstart",function t(){n.removeEventListener("wordcloudstart",t),n.removeEventListener("mousemove",B),n.removeEventListener("click",F),k=void 0})}if(S.animatable){var c,h=0,p=0!==S.wait?(c=window.setTimeout,window.clearTimeout):(c=window.setImmediate,window.clearImmediate),f=function(e,i){C.forEach(function(t){t.removeEventListener(e,i)},this)},d=function t(){f("wordcloudstart",t),p(g)};!function(e){C.forEach(function(t){t.addEventListener("wordcloudstart",e)},this)}(d);var g=c(function t(){if(h>=S.data.length)return p(g),Y("wordcloudstop",!1),void f("wordcloudstart",d);T=(new Date).getTime();var e=N(S.data[h]),i=!Y("wordclouddrawn",!0,{item:S.data[h],drawn:e});if(I()||i)return p(g),S.abort(),Y("wordcloudabort",!1),Y("wordcloudstop",!1),void f("wordcloudstart",d);h++,g=c(t,S.wait)},S.wait)}else for(var y=0;y<S.data.length;y++)N(S.data[y])}}else if(S.selected!==t&&C[0].getContext){S.selected=t;var v=C[0].getContext("2d");v.fillStyle=S.backgroundColor,v.clearRect(0,0,C[0].width,C[0].height),v.fillRect(0,0,C[0].width,C[0].height);for(var m=0;m<j.length;m++){var x=j[m];R(x.gx,x.gy,x.info,x.word,x.weight,x.distance,x.theta,x.rotateDeg,x.attributes,x.id,!0)}}};u()}}function c(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}}var h=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!(e.getImageData&&e.fillText&&Array.prototype.some&&Array.prototype.push)}(),X=function(){if(h){for(var t,e,i=document.createElement("canvas").getContext("2d"),n=20;n;){if(i.font=n.toString(10)+"px sans-serif",i.measureText("Ｗ").width===t&&i.measureText("m").width===e)return n+1;t=i.measureText("Ｗ").width,e=i.measureText("m").width,n--}return 0}}();n.isSupported=h,n.minFontSize=X,e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(93)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="rose",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({rose:"interval"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(345)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="funnel",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var j=i(1),A=i(0),u=i(5),P=i(7),n=i(4),o=j.__importDefault(i(12)),r=i(14);i(346),i(347),i(348),i(349),i(350);var a=i(24);function T(t,e,i){return(1-i)*t+i*e}var s,l={column:"interval"},c={interval:"funnel"},h=(s=o.default,j.__extends(p,s),p.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"转化率",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:A.deepMix({},P.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return A.deepMix({},s.getDefaultOptions.call(this),e)},p.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},p.prototype.axis=function(){this.setConfig("axes",!1)},p.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},A.isFunction(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},p.prototype.tooltip=function(){var t=this.options;t.compareField&&A.deepMix(t.tooltip,{htmlContent:function(t,e){var o,i;r=P.TooltipCssConst.CONTAINER_CLASS,a=u.createDom('<div class="'+r+'"></div>'),u.modifyCSS(a,P.HtmlTooltipTheme[r]);var n,r,a,s,l=a;return t&&(r=P.TooltipCssConst.TITLE_CLASS,a=u.createDom('<div class="'+r+'"></div>'),u.modifyCSS(a,P.HtmlTooltipTheme[r]),l.appendChild(a),n=a,r=P.TooltipCssConst.MARKER_CLASS,a=u.createDom('<span class="'+r+'"></span>'),u.modifyCSS(a,P.HtmlTooltipTheme[r]),u.modifyCSS(a,{width:"10px",height:"10px"}),n.appendChild(a),i=a,a=u.createDom("<span>"+t+"</span>"),n.appendChild(a)),e&&(r=P.TooltipCssConst.LIST_CLASS,a=u.createDom('<ul class="'+r+'"></ul>'),u.modifyCSS(a,P.HtmlTooltipTheme[r]),l.appendChild(a),s=a,e.reduce(function(i,t){o=o||t.color;var n=A.get(t,"point._origin.__compare__.compareValues");return A.get(t,"point._origin.__compare__.yValues").forEach(function(t,e){return i.push([n[e],t])}),i},[]).forEach(function(t,e){var i=t[0],n=t[1];r=P.TooltipCssConst.LIST_ITEM_CLASS,a=u.createDom('<li class="'+r+'" data-index='+e+"></li>"),u.modifyCSS(a,P.HtmlTooltipTheme[r]),s.appendChild(a);var o=a;r=P.TooltipCssConst.NAME_CLASS,a=u.createDom('<span class="'+r+'">'+i+"</span>"),u.modifyCSS(a,P.HtmlTooltipTheme[r]),o.appendChild(a),r=P.TooltipCssConst.VALUE_CLASS,a=u.createDom('<span class="'+r+'">'+n+"</span>"),u.modifyCSS(a,P.HtmlTooltipTheme[r]),o.appendChild(a)})),o&&i&&u.modifyCSS(i,{backgroundColor:o}),l}}),s.prototype.tooltip.call(this)},p.prototype.addGeometry=function(){var t=this.options,e=r.getGeom("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e)},p.prototype.animation=function(){var e=this;s.prototype.animation.call(this);var t,i,n,o=this.options;!1===o.animation?this.funnel.animate=!1:(t=this.getData(),i=A.get(o,"animation.appear.duration"),n=i/(t.length||1),this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){e.fadeInPercentages(n),o.compareField&&e.fadeInCompareTexts(n),delete e._animationAppearTimeoutHandler},i),this.funnel.animate=A.deepMix({},o.animation,{appear:{animation:o.transpose?"funnelScaleInX":"funnelScaleInY",duration:n,delay:function(e){return A.findIndex(t,function(t){return A.isEqual(t,e)})*n},callback:function(t){e.fadeInLabels(t,.5*n)}},enter:{animation:"fade-in"}}))},p.prototype.afterRender=function(){var t,e,i=this.options;this.resetLabels(),this.resetPercentages(),i.compareField&&this.resetCompareTexts(),"auto"==i.padding&&((t=this._findPercentageContainer())&&this.paddingController.registerPadding(t,"inner",!0),(e=this._findCompareTextContainer())&&this.paddingController.registerPadding(e,"inner",!0)),s.prototype.afterRender.call(this),!1===i.animation&&(this.fadeInLabels(),this.fadeInPercentages(),i.compareField&&this.fadeInCompareTexts()),this._legendsListenerAttached||(this._legendsListenerAttached=!0,this.view.getController("legend").container.on("mousedown",this._onLegendContainerMouseDown))},p.prototype.updateConfig=function(t){t=this.adjustProps(t),s.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},p.prototype.changeData=function(t){var e,i=this.options;!1!==i.animation&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),i.dynamicHeight&&(e=this._findCheckedDataInNewData(t),this._genCustomFieldForDynamicHeight(e)),i.compareField&&(t=this._reduceDataForCompare(t),e=this._findCheckedDataInNewData(t),this._updateDataForCompare(e)),s.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),i.compareField&&this.fadeInCompareTexts()},p.prototype.geometryParser=function(t,e){return"g2"===t?l[e]:c[e]},p.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&(A.set(t,"meta."+t.yField+".nice",!1),A.set(t,"tooltip.shared",!1)),t},p.prototype.resetPercentages=function(){var v,t,m,x,b,e,_,i,M,n,O,w,C,S=this;this._shouldResetPercentages&&(t=(v=this.options).percentage||{},m=t.offsetX,x=t.offsetY,b=t.spacing,_=void 0===(e=t.line)?{}:e,M=void 0===(i=t.text)?{}:i,O=void 0===(n=t.value)?{}:n,w=Date.now(),C=this._findPercentageContainer(!0),this._eachShape(function(t,e,u,c){var i,n,o,r,a,s,l,h,p,f,d,g,y;0<e&&(n=(i=t.getBBox()).minX,o=i.maxX,r=i.maxY,a=i.minY,s=v.transpose?n:o,l=v.transpose&&v.compareField?r:a,h=S._findPercentageMembersInContainerByIndex(C,e,!0),p=h.line,f=h.text,d=h.value,g=[function(t,e,i,n,o){function r(){n&&(n.attr(A.deepMix({},M.style,{x:v.transpose?t+m:t-m-b-l-b,y:v.transpose?e-x-b:e+x,opacity:0,text:M.content,textAlign:v.transpose?"left":"right",textBaseline:v.transpose?"bottom":"middle"})),n.set("adjustTimestamp",w),s=n.getBBox().width)}function a(){o&&(o.attr(A.deepMix({},O.style,{x:v.transpose?t+m+s+b:t-m-b,y:v.transpose?e-x-b:e+x,opacity:0,text:A.isFunction(O.formatter)?v.compareField?O.formatter(A.get(c,"__compare__.yValues.0"),A.get(u,"__compare__.yValues.0")):O.formatter(c[v.yField],u[v.yField]):"",textAlign:v.transpose?"left":"right",textBaseline:v.transpose?"bottom":"middle"})),o.set("adjustTimestamp",w),l=o.getBBox().width)}i&&(i.attr(A.deepMix({},_.style,{x1:t,y1:e,x2:v.transpose?t+m:t-m,y2:v.transpose?e-x:e+x,opacity:0})),i.set("adjustTimestamp",w));var s=0,l=0;v.transpose?(r(),a()):(a(),r())},function(t,e,i,n,o){i&&(i.attr(A.deepMix({},_.style,{x1:t,y1:e,x2:t+m,y2:!v.transpose||v.compareField?e+x:e-x,opacity:0})),i.set("adjustTimestamp",w));var r=0;n&&(n.attr(A.deepMix({},M.style,{x:v.transpose?t+m:t+m+b,y:v.transpose?v.compareField?e+x+b:e-x-b:e+x,opacity:0,text:M.content,textAlign:"left",textBaseline:v.transpose?v.compareField?"top":"bottom":"middle"})),n.set("adjustTimestamp",w),r=n.getBBox().width),o&&(o.attr(A.deepMix({},O.style,{x:v.transpose?t+m+r+b:t+m+b+r+b,y:v.transpose?v.compareField?e+x+b:e-x-b:e+x,opacity:0,text:A.isFunction(O.formatter)?v.compareField?O.formatter(A.get(c,"__compare__.yValues.1"),A.get(u,"__compare__.yValues.1")):O.formatter(c[v.yField],u[v.yField]):"",textAlign:"left",textBaseline:v.transpose?v.compareField?"top":"bottom":"middle"})),o.set("adjustTimestamp",w))}],v.compareField?[[(y=[n,a])[0],y[1]],[s,l]].forEach(function(t,e){var i=t[0],n=t[1];return g[e](i,n,p&&p[e],f&&f[e],d&&d[e])}):g[1](s,l,p,f,d)),c=u,e++}),C.get("children").forEach(function(t){t.get("adjustTimestamp")!=w&&(t.attr({opacity:0}),C.set(t.get("id"),null),setTimeout(function(){return t.remove()},0))}))},p.prototype.fadeInPercentages=function(l,t){function e(r){var s={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};u._eachShape(function(t,e){function i(t){var e,i,n,o,r;t&&"text"==t.get("type")&&(i=(e=t.getBBox()).minX,n=e.maxX,o=e.minY,r=e.maxY,i<a.minX&&(a.minX=i),n>a.maxX&&(a.maxX=n),o<a.minY&&(a.minY=o),r>a.maxY&&(a.maxY=r))}var n,o=u._findPercentageMembersInContainerByIndex(c,e),a={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};A.each(o,function(t){return A.isArray(t)?i(t[r]):i(t)}),(a.minX>s.maxX||a.maxX<s.minX||a.minY>s.maxY||a.maxY<s.minY)&&(n=function(t){var e;t&&(e={opacity:1},l?t.animate(e,l):t.attr(e))},A.each(o,function(t){return A.isArray(t)?n(t[r]):n(t)}),A.assign(s,a))})}var u=this,i=this.options,c=this._findPercentageContainer();i.compareField?[0,1].forEach(e):e(),l&&t&&setTimeout(t,l)},p.prototype.fadeOutPercentages=function(o,t){var r=this,a=this._findPercentageContainer();this._eachShape(function(t,e){function i(t){var e;t&&(e={opacity:0},o?t.animate(e,o):t.attr(e))}var n=r._findPercentageMembersInContainerByIndex(a,e);A.each(n,function(t){return A.isArray(t)?t.forEach(i):i(t)})}),o&&t&&setTimeout(t,o)},p.prototype.refreshPercentages=function(t){var e,i,n,o=this;!1!==this.options.animation&&(i=(e=this._calcRefreshFadeDurations()).fadeOutDuration,n=e.fadeInDuration,this._shouldResetPercentages=!1,this.fadeOutPercentages(i,function(){o._shouldResetPercentages=!0,o.resetPercentages(),o.fadeInPercentages(n,t)}))},p.prototype._findPercentageContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,i=e.get("percentageContainer");return!i&&t&&(i=e.addGroup(),e.set("percentageContainer",i)),i},p.prototype._findPercentageMembersInContainerByIndex=function(n,o,r){void 0===r&&(r=!1);var t,e,i,a,s=this.options,l=s.percentage||{},u=l.line,c=l.text,h=void 0===c?{}:c,p=l.value,f=void 0===p?{}:p,d={line:void 0,text:void 0,value:void 0};return!1!==l.visible&&n&&(!1!==(void 0===u?{}:u).visible&&(t=function(t){var e="_percentage-line-"+o+"-"+t,i=n.get(e);return!i&&r&&(i=n.addShape({id:e,type:"line",attrs:{}}),n.set(e,i)),i},e=s.compareField?[0,1].map(t):t(0),d.line=e),!1!==h.visible&&(t=function(t){var e="_percentage-text-"+o+"-"+t,i=n.get(e);return!i&&r&&(i=n.addShape({id:e,type:"text",attrs:{}}),n.set(e,i)),i},i=s.compareField?[0,1].map(t):t(0),d.text=i),!1!==f.visible&&(t=function(t){var e="_percentage-value-"+o+"-"+t,i=n.get(e);return!i&&r&&(i=n.addShape({id:e,type:"text",attrs:{}}),n.set(e,i)),i},a=s.compareField?[0,1].map(t):t(0),d.value=a)),d},p.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=A.get(t,"animation.update.duration"),i=A.get(t,"animation.enter.duration");return{fadeInDuration:.6*Math.min(i,e),fadeOutDuration:1.2*Math.max(i,e)}},p.prototype.resetLabels=function(){var m,x,b,_,M,O,w,C,S=this;this._shouldResetLabels&&(x=this.options,b=x.xField,_=x.yField,M=Date.now(),O=this._getGeometry().labelsContainer,w=x.label||{},C=A.deepMix(j.__assign({},this.theme.label),x.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),this._eachShape(function(t,e,i,n){var o,r=t.get("element");0==e&&(m=i);var a=t.getBBox(),s=a.minX,l=a.maxX,u=a.minY,c=a.maxY,h=i[b],p=i[_];w.adjustColor&&(C.fill=S._getAdjustedTextFillByShape(t));var f=i.__compare__,d=((o={})[P._ORIGIN]=i,o.element=r,o.elementIndex=n,o.mappingDatum=[].concat(r.getModel().mappingData)[0],o.mappingDatumIndex=0,o),g=w.formatter?w.formatter(h,d,e,p,m[_]):f?[0,1].map(function(){return""+p}).join(x.transpose?"\n\n":"    "):h+" "+p,y=S._findLabelInContainerByIndex(O,e,!0),v=f?f.yValues[0]/(f.yValues[0]+f.yValues[1]):.5;y.attr(j.__assign(j.__assign({},C),{x:T(s,l,x.transpose?.5:v),y:T(u,c,x.transpose?v:.5),text:g})),y.set("adjustTimestamp",M)}),O.get("children").forEach(function(t){t.get("adjustTimestamp")!=M&&(t.attr({opacity:0}),O.set(t.get("id"),null),setTimeout(function(){return t.remove()}))}))},p.prototype.fadeInLabels=function(a,s,t){var l=this,u=this._getGeometry().labelsContainer;this._eachShape(function(t,e){var i,n,o,r;a&&a!=t||(i=l._findLabelInContainerByIndex(u,e))&&(n=t.getBBox(),(o=i.getBBox()).minX>=n.minX&&o.maxX<=n.maxX&&o.minY>=n.minY&&o.maxY<=n.maxY&&(r={opacity:1},s?i.animate(r,s):i.attr(r)))}),s&&t&&setTimeout(t,s)},p.prototype.fadeOutLabels=function(o,r,t){var a=this,s=this._getGeometry().labelsContainer;this._eachShape(function(t,e){var i,n;o&&o!=t||(i=a._findLabelInContainerByIndex(s,e))&&(n={opacity:0},r?i.animate(n,r):i.attr(n))}),r&&t&&setTimeout(t,r)},p.prototype.refreshLabels=function(t){var e,i,n,o=this;!1!==this.options.animation&&(i=(e=this._calcRefreshFadeDurations()).fadeOutDuration,n=e.fadeInDuration,this._shouldResetLabels=!1,this.fadeOutLabels(null,i,function(){o._shouldResetLabels=!0,o.resetLabels(),o.fadeInLabels(null,n,t)}))},p.prototype._findLabelInContainerByIndex=function(t,e,i){var n,o;if(void 0===i&&(i=!1),!1===(null===(n=this.options.label)||void 0===n?void 0:n.visible))return o;var r="_label-"+e;return!(o=t.get(r))&&i&&(o=t.addShape({id:r,type:"text",attrs:{}}),t.set(r,o)),o},p.prototype.resetCompareTexts=function(){var n,o,e,i,r,a,s,l,u,c,h;this._shouldResetCompareTexts&&(e=this.options,this._eachShape(function(t,e,i){0==e&&(n=t.get("parent").getBBox(),o=A.get(i,"__compare__"))}),n&&o&&!1!==A.get(e,"compareText.visible")&&(i=this._findCompareTextContainer(!0),r=o.yValuesMax,a=o.compareValues,s=n.minX,l=n.maxX,u=n.minY,c=n.maxY,h=i.get("children"),[0,1].forEach(function(t){(h[t]||i.addShape({type:"text"})).attr(A.deepMix({},A.get(e,"compareText.style"),{text:e.transpose?a[t]:t?"  "+a[t]:a[t]+"  ",x:e.transpose?s+A.get(e,"compareText.offsetX"):T(s,l,r[0]/(r[0]+r[1])),y:e.transpose?T(u,c,r[0]/(r[0]+r[1]))+(t?8:-8):u+A.get(e,"compareText.offsetY"),opacity:0,textAlign:!e.transpose&&t?"left":"right",textBaseline:e.transpose&&t?"top":"bottom"}))})))},p.prototype.fadeInCompareTexts=function(n,t){var o,e=this._findCompareTextContainer();e&&(o=e.get("children"),[0,1].forEach(function(t){var e,i=o[t];i&&(e={opacity:1},n?i.animate(e,n):i.attr(e))})),n&&t&&setTimeout(t,n)},p.prototype.fadeOutCompareTexts=function(n,t){var o,e=this._findCompareTextContainer();e&&(o=e.get("children"),[0,1].forEach(function(t){var e,i=o[t];i&&(e={opacity:0},n?i.animate(e,n):i.attr(e))})),n&&t&&setTimeout(t,n)},p.prototype.refreshCompareTexts=function(t){var e,i,n,o=this;!1!==this.options.animation&&(e=this._calcRefreshFadeDurations(),i=e.fadeInDuration,n=e.fadeOutDuration,this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(n,function(){o._shouldResetCompareTexts=!0,o.resetCompareTexts(),o.fadeInCompareTexts(i,t)}))},p.prototype._findCompareTextContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,i=e.get("compareTextContainer");return!i&&t&&(i=e.addGroup(),e.set("compareTextContainer",i)),i},p.prototype._eachShape=function(o){var t,r,a=this._findCheckedData(this.getData()),s=a.length,l=0;null===(t=this._getGeometry())||void 0===t||t.elements.forEach(function(t,e){var i=t.shape,n=a[l];l<s&&o(i,l,n,r,e),r=n,l++})},p.prototype._getGeometry=function(){return this.view.geometries[0]},p.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,n=a.rgb2arr(e),o=Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i;return a.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],o)},p.prototype._genCustomFieldForDynamicHeight=function(o){var r=this.options,a=o.reduce(function(t,e){return t+e[r.yField]},0),s=1;o.forEach(function(t,e){var i=t[r.yField],n=s-i/a;t.__custom__={datumIndex:e,dataLength:o.length,ratioUpper:s,ratioLower:n,reverse:r.transpose},s=n})},p.prototype._findCheckedDataByMouseDownLegendItem=function(t){var i=t.get("parent").get("children").map(function(t){return!t.get("unchecked")});return this.getData().filter(function(t,e){return i[e]})},p.prototype._findCheckedDataInNewData=function(t){var e=this.options,i=this.view.getController("legend").container.findAll(function(t){return"legend-item"==t.get("name")}).filter(function(t){return t.get("unchecked")}).map(function(t){return t.get("id").replace("-legend-item-","")});return t.filter(function(t){return!A.contains(i,t[e.xField])})},p.prototype._findCheckedData=function(t){var e,i=this.options;if(null!==(e=i.legend)&&void 0!==e&&e.visible){var n=this.view.getController("legend").container.findAll(function(t){return"legend-item"==t.get("name")}).filter(function(t){return!t.get("unchecked")}).map(function(t){return t.get("id").replace("-legend-item-","")});return t.filter(function(t){return A.contains(n,t[i.xField])})}return this.processData(i.data)},p.prototype._reduceDataForCompare=function(i){var l,u=this.options,c=[-1/0,-1/0];return(i=i.reduce(function(t,e){var i,n=e[u.xField],o=e[u.yField],r=e[u.compareField];l=l||r;var a=t.find(function(t){return t[u.xField]==n});a||((i={})[u.xField]=n,i[u.yField]=0,i.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:u.transpose},a=i,t.push(a));var s=r==l?0:1;return a.__compare__.yValues[s]=o,c[s]<o&&(c[s]=o),a.__compare__.compareValues[s]=r,t},[])).forEach(function(t,e){t[u.yField]=A.get(t,"__compare__.yValues",[]).reduce(function(t,e){return t+e},0),A.set(t,"__compare__.yValuesMax",c),A.set(t,"__compare__.yValuesNext",A.get(i,e+1+".__compare__.yValues"))}),i},p.prototype._updateDataForCompare=function(i){var n=[-1/0,-1/0];i.forEach(function(t){var e=A.get(t,"__compare__.yValues");[0,1].forEach(function(t){e[t]>n[t]&&(n[t]=e[t])})}),i.forEach(function(t,e){A.set(t,"__compare__.yValuesMax",n),A.set(t,"__compare__.yValuesNext",A.get(i,e+1+".__compare__.yValues"))})},p);function p(t){var o=s.call(this,t)||this;return o.type="funnel",o._shouldResetPercentages=!0,o._shouldResetLabels=!0,o._shouldResetCompareTexts=!0,o._legendsListenerAttached=!1,o._onLegendContainerMouseDown=function(t){var e,i,n=o.options;t.target.get("name").startsWith("legend-item")&&((e=t.target.get("parent")).set("unchecked",!e.get("unchecked")),o.refreshPercentages(),o.refreshLabels(),n.dynamicHeight&&(i=o._findCheckedDataByMouseDownLegendItem(e),o._genCustomFieldForDynamicHeight(i)),n.compareField&&(i=o._findCheckedDataByMouseDownLegendItem(e),o._updateDataForCompare(i),o.refreshCompareTexts()))},o.adjustProps(o.options),t.dynamicHeight&&o._genCustomFieldForDynamicHeight(o.getData()),t.compareField&&(o.options.data=o._reduceDataForCompare(o.getData())),o}e.default=h,n.registerPlotType("funnel",h)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("funnel",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(1),x=i(0),n=i(32),b=i(94);n.registerShape("interval","funnel-basic-rect",{getPoints:function(c){return c.size=1.8*c.size,function(t){void 0===t&&(t=!1);var e,i,n=c.x,o=c.y,r=c.y0,a=c.size,s=x.isArray(o)?(e=o[0],o[1]):(e=r,o),l=x.isArray(n)?(i=n[0],n[1]):(i=n-a/2,n+a/2),u=[{x:i,y:e},{x:i,y:s}];return t?u.push({x:l,y:(s+e)/2}):u.push({x:l,y:s},{x:l,y:e}),u}()},draw:function(t,e){var i,n,o,r,a,s,l,u,c,h,p,f,d,g=b.getStyle(t,!1,!0),y=x.get(t,"data.__compare__"),v=this.parsePath((p=[],f=t.points,d=t.nextPoints,y?(n=y.yValues,o=y.yValuesMax,r=y.yValuesNext,a=(f[0].y+f[1].y)/2,s=n[0]+n[1],l=n.map(function(t){return t/s/.5}),u=.9*(o[0]/(o[0]+o[1])-.5),x.isNil(d)?(p.push(["M",f[0].x,u+(f[0].y-a)*l[0]+a],["L",f[1].x,u+a],["L",f[2].x,u+a],["L",f[3].x,u+(f[3].y-a)*l[0]+a],["Z"]),p.push(["M",f[0].x,.002+u+a],["L",f[1].x,.002+u+(f[1].y-a)*l[1]+a],["L",f[2].x,.002+u+(f[2].y-a)*l[1]+a],["L",f[3].x,.002+u+a],["Z"])):(c=r[0]+r[1],h=r.map(function(t){return t/c/.5}),p.push(["M",f[0].x,u+(f[0].y-a)*l[0]+a-.001],["L",f[1].x,u+a-.001],["L",d[1].x,u+a-.001],["L",d[0].x,u+(d[3].y-a)*h[0]+a-.001],["Z"]),p.push(["M",f[0].x,u+a+.001],["L",f[1].x,u+(f[1].y-a)*l[1]+a+.001],["L",d[1].x,u+(d[2].y-a)*h[1]+a+.001],["L",d[0].x,u+a+.001],["Z"]))):x.isNil(d)?p.push(["M",f[0].x,f[0].y],["L",f[1].x,f[1].y],["L",f[2].x,f[2].y],["L",f[3].x,f[3].y],["Z"]):p.push(["M",f[0].x,f[0].y],["L",f[1].x,f[1].y],["L",d[1].x,d[1].y],["L",d[0].x,d[0].y],["Z"]),p));return e.addShape("path",((i={name:"interval",attrs:m.__assign(m.__assign({},g),{path:v})}).__compare__=y,i))},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(0),n=i(32),a=i(94);function f(t,e,i){return(1-i)*t+i*e}n.registerShape("interval","funnel-dynamic-rect",{draw:function(t,e){var i=a.getStyle(t,!1,!0),p=r.get(t,"data.__custom__"),n=this.parsePath(function(t){var e,i=p.reverse,n=p.ratioUpper,o=p.ratioLower,r=[],a=t[0],s=(t[1].x+t[2].x)/2;i&&(e=o,o=n,n=e);var l=(a.x-s)*f(.6,1.2,o)+s;r.push(["M",l,a.y]);for(var u=1,c=t.length;u<c;u++){var h=t[u].x;switch(u){case 1:case 2:h=(h-s)*f(.6,1.2,n)+s;break;case 3:h=(h-s)*f(.6,1.2,o)+s}r.push(["L",h,t[u].y])}return r.push(["L",l,a.y]),r.push(["z"]),r}(t.points));return e.addShape("path",{attrs:o.__assign(o.__assign({},i),{path:n})})},getMarker:function(t){var e=t.color,i=t.isInPolar;return{symbol:i?"circle":"square",style:{r:i?4.5:4,fill:e}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(2),n=i(32);function o(t,e){var i=e||{},n=i.duration,o=void 0===n?200:n,r=i.delay,a=i.easing,s=i.callback,l=i.reverse,u=t.getBBox(),c=l?u.maxX:u.minX,h=(u.minY+u.maxY)/2,p=t.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}});p.setMatrix(d.transform(p.getMatrix(),[["t",-c,-h],["s",0,1],["t",c,h]]));var f={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:r}),t.animate(f,{duration:o,easing:a,delay:r}),s&&setTimeout(function(){return s(t)},o+r)}o.animationName="funnelScaleInX",n.registerAnimation("funnelScaleInX",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(2),n=i(32);function o(t,e){var i=e||{},n=i.duration,o=void 0===n?200:n,r=i.delay,a=i.easing,s=i.callback,l=i.reverse,u=t.getBBox(),c=(u.minX+u.maxX)/2,h=l?u.maxY:u.minY,p=t.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}});p.setMatrix(d.transform(p.getMatrix(),[["t",-c,-h],["s",1,0],["t",c,h]]));var f={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:r}),t.animate(f,{duration:o,easing:a,delay:r}),s&&setTimeout(function(){return s(t)},o+r)}o.animationName="funnelScaleInY",n.registerAnimation("funnelScaleInY",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(352)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="stackedRose",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(4),s=(n=o.__importDefault(i(93)).default,o.__extends(l,n),l.getDefaultOptions=function(){return r.deepMix({},n.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},l.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},l.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="stackedRose",t}e.default=s,a.registerPlotType("stackedRose",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(354)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="groupedRose",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(4),s=(n=o.__importDefault(i(93)).default,o.__extends(l,n),l.getDefaultOptions=function(){return r.deepMix({},n.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},l.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},l.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupedRose",t}e.default=s,a.registerPlotType("groupedRose",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(356)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="radar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=i(4),a=n.__importDefault(i(12)),s=i(21),l=i(14),u=i(22),c=n.__importStar(i(357));i(358);var h,p={area:"area",line:"line",point:"point"},f=(h=a.default,n.__extends(d,h),d.getDefaultOptions=function(){return o.deepMix({},h.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},d.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,h.prototype.init.call(this)},d.prototype.geometryParser=function(t,e){return p[e]},d.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},o.has(t,"angleAxis")&&u.extractScale(e[t.angleField],t.angleAxis),e[t.radiusField]={},o.has(t,"radiusAxis")&&u.extractScale(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),h.prototype.scale.call(this)},d.prototype.coord=function(){var t={type:"polar",cfg:{radius:this.options.radius}};this.setConfig("coordinate",t)},d.prototype.axis=function(){var t=this.options,e=s.getComponent("axis",{plot:this,dim:"angle"}),i=s.getComponent("axis",{plot:this,dim:"radius"}),n={};n[t.angleField]=e,n[t.radiusField]=i,this.setConfig("axes",n)},d.prototype.addGeometry=function(){var t,e,i,n=this.options;n.area.visible&&(t=l.getGeom("area","main",{plot:this}),this.setConfig("geometry",t),this.area=t),n.line&&n.line.visible&&(e=l.getGeom("line","guide",{plot:this}),this.setConfig("geometry",e),this.line=e),n.point&&n.point.visible&&(i=l.getGeom("point","guide",{plot:this}),this.setConfig("geometry",i),this.point=i),n.label&&this.label(),n.tooltip&&(n.tooltip.fields||n.tooltip.formatter)&&this.geometryTooltip()},d.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},d.prototype.label=function(){var t=this.options;if(!1===t.label.visible)return this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),void(this.area&&(this.area.label=!1));var e=s.getComponent("label",n.__assign({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},d.prototype.annotation=function(){},d.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},d.prototype.parseEvents=function(){h.prototype.parseEvents.call(this,c)},d);function d(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="radar",t}e.default=f,r.registerPlotType("radar",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({area:"area",line:"line",point:"point"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("radar",{areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(360)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="liquid",n.prototype.createLayers.call(this,e)},u.prototype.changeValue=function(e,t){var i;void 0===t&&(t=!1),t?this.eachLayer(function(t){t instanceof s.default&&t.changeValue(e)}):(i=this.layers[0])instanceof s.default&&i.changeValue(e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=i(0),c=n.__importDefault(i(10)),o=i(4),r=n.__importDefault(i(12)),a=i(14),l=i(22),u=i(24),h=n.__importStar(i(361));i(362),i(363);var p,f={column:"interval"},d={interval:"liquid"},g=(p=r.default,n.__extends(y,p),y.getDefaultOptions=function(){return s.deepMix({},p.getDefaultOptions.call(this),{padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}})},y.prototype.beforeInit=function(){var t=this.options,e=t.min,i=t.max,n=t.value;if(!s.isNumber(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!s.isNumber(i))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!s.isNumber(n))throw new Error("The value of Liquid is required, and the type of value must be Number.")},y.prototype.init=function(){this.options.data=[{}],p.prototype.init.call(this)},y.prototype.coord=function(){},y.prototype.scale=function(){var t=this.options,e=t.min,i=t.max,n={value:{}};l.extractScale(n.value,{min:Math.min(e,i),max:Math.max(e,i)}),this.setConfig("scales",n),p.prototype.scale.call(this)},y.prototype.axis=function(){this.setConfig("axes",!1)},y.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var i=e.liquidStyle;s.isFunction(i)&&(i=i()),i&&(t.style=i)},y.prototype.addGeometry=function(){var t=a.getGeom("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t),this.liquid=t,this.setConfig("geometry",t)},y.prototype.animation=function(){var t,e,i,n=this.options;!1===n.animation?this.liquid.animate=!1:(t=s.get(n,"animation.factor"),e=s.get(n,"animation.easing"),i=s.get(n,"animation.duration"),this.liquid.animate={appear:{animation:"liquidMoveIn",factor:t,easing:e,duration:i}})},y.prototype.geometryParser=function(t,e){return"g2"===t?f[e]:d[e]},y.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},y.prototype.extractStatistic=function(){var t,e,i,n=this.options,o=n.statistic||{};if((t=s.isFunction(o.formatter)?o.formatter(n.value):""+n.value)&&(e=Math.min(this.width,this.height)/t.length*.5,i=Math.max(1,Math.ceil(.025*e))),!1!==o.visible){var r=s.deepMix({style:{fontSize:e,shadowBlur:i}},o,{top:!0,content:t,type:"text",position:["50%","50%"],style:{opacity:void 0,fill:"transparent",shadowColor:"transparent",textAlign:"center"}});return delete r.visible,delete r.formatter,delete r.adjustColor,r}},y.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,h)},y.prototype.afterRender=function(){var t;null!==(t=this.options.statistic)&&void 0!==t&&t.visible&&this.fadeInAnnotation();var e=this.options,i=e.padding?e.padding:this.config.theme.padding;e.defaultState&&"auto"!==i&&this.stateController.defaultStates(e.defaultState),"auto"===i&&this.paddingController.processAutoPadding()},y.prototype.processData=function(){return[{_:"_",value:this.options.value}]},y.prototype.changeValue=function(t){this.options.value=t,this.changeData([])},y.prototype.fadeInAnnotation=function(){var t=this,e=this.options,i=this.view.foregroundGroup.findAll(function(t){return"annotation-text"===t.get("name")})[0],n=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?i.animate(o,n.duration*Math.min(1,1.5*n.factor),null,function(){t.shouldFadeInAnnotation=!1}):s.forIn(o,function(t,e){return i.attr(e,t)})},y.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#303030",shadowColor:"white"};if(!1===s.get(t,"statistic.adjustColor"))return{fill:s.get(t,"statistic.style.fill",e.fill),shadowColor:s.get(t,"statistic.style.shadowColor",e.shadowColor)};var i=t.min,n=t.max,o=t.value;if(.55<((i=Math.min(i,n))==(n=Math.max(i,n))?1:(o-i)/(n-i))){var r=this.options.color,a=u.rgb2arr(r);return Math.round(.299*a[0]+.587*a[1]+.114*a[2])/.8<156?{fill:"#f6f6f6",shadowColor:"black"}:e}return e},y.prototype.updateConfig=function(t){p.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},y.prototype.getViewRange=function(){var t=p.prototype.getViewRange.call(this),e=this.options.liquidStyle,i=e.lineWidth?e.lineWidth:2,n=t.minX,o=t.minY,r=t.width,a=t.height,s=Math.min(r,a)-2*i,l=n+r/2-s/2,u=o+a/2-s/2;return new c.default(l,u,s,s)},y);function y(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}e.default=g,o.registerPlotType("liquid",g)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({liquid:"intervl",statistic:"annotation-text"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function g(t,e,i){return(1-i)*t+i*e}function y(t){var e,i,n={fill:"#fff",stroke:x.color,fillOpacity:0,lineWidth:2},o=v.mix({},n,t.style);return e=o,(i=t).color&&!e.stroke&&(e.stroke=i.color),v.isNumber(i.opacity)&&(e.opacity=e.strokeOpacity=i.opacity),o}var n=i(7),v=i(0),o=i(11),m=i(58),x=o.getGlobalTheme();function b(t,e,i,n,o,r,a){for(var s=2*Math.ceil(2*t/i*4),l=[],u=n;u<2*-Math.PI;)u+=2*Math.PI;for(;0<u;)u-=2*Math.PI;var c=r-t+(u=u/Math.PI/2*i)-2*t;l.push(["M",c,e]);for(var h,p,f,d,g=0,y=0;y<s;++y){var v=(h=y*i/4,f=i,d=o,0===(p=y%4)?[[h+.5*f/Math.PI/2,d/2],[h+.5*f/Math.PI,d],[h+f/4,d]]:1===p?[[h+.5*f/Math.PI/2*(Math.PI-2),d],[h+.5*f/Math.PI/2*(Math.PI-1),d/2],[h+f/4,0]]:2===p?[[h+.5*f/Math.PI/2,-d/2],[h+.5*f/Math.PI,-d],[h+f/4,-d]]:[[h+.5*f/Math.PI/2*(Math.PI-2),-d],[h+.5*f/Math.PI/2*(Math.PI-1),-d/2],[h+f/4,0]]);l.push(["C",v[0][0]+c,-v[0][1]+e,v[1][0]+c,-v[1][1]+e,v[2][0]+c,-v[2][1]+e]),y===s-1&&(g=v[2][0])}return l.push(["L",g+c,a+t]),l.push(["L",c,a+t]),l.push(["L",c,e]),l}n.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var i=1/0;v.each(t.points,function(t){t.x<i&&(i=t.x)});var n,o,r,a,s,l=this.parsePoint({x:.5,y:.5}),u=this.parsePoint({x:i,y:.5}),c=l.x-u.x,h=Math.min(c,u.y),p=(n=t,a={lineWidth:0,fill:x.color,fillOpacity:.85},s=v.mix({},a,n.style),o=s,(r=n).color&&!o.fill&&(o.fill=r.color),v.isNumber(r.opacity)&&(o.opacity=o.fillOpacity=r.opacity),n.color&&!s.stroke&&(s.stroke=s.stroke||n.color),s.fill),f=e.addGroup({name:"waves",attrs:{x:l.x,y:l.y}});f.setClip({type:"circle",attrs:{x:l.x,y:l.y,r:h}});var d=f.get("clipShape");return function(t,e,i,n,o,r){for(var a=d.getBBox(),s=a.maxX-a.minX,l=a.maxY-a.minY,u=0;u<3;u++){var c=u/2,h=o.addShape("path",{attrs:{path:b(r,a.minY+l*i,s/4,0,s/g(56,64,c),t,e),fill:n,opacity:g(.6,.3,c)}}),p=m.transform([["t",s/2,0]]);h.animate({matrix:p},{duration:g(5e3,3500,c),repeat:!0})}}(l.x,l.y,1-t.points[1].y,p,f,4*h),e.addShape("circle",{name:"wrap",attrs:v.mix(y(t),{x:l.x,y:l.y,r:h,fill:"transparent"})}),f[0]}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),g=i(0),y=i(58);function o(t,e){var i=t.get("parent"),n=i.getBBox(),o=Math.min(Math.max(0,g.get(e,"factor",.5)),1),r=g.get(e,"delay",0),a=g.get(e,"duration",800),s=e.callback,l=(n.minX+n.maxX)/2,u=n.maxY,c=i.find(function(t){return"wrap"==t.get("name")}),h=c.attr("opacity");c.attr("opacity",0),c.animate({opacity:h},a*o,"easeLinear",null,r);var p=i.find(function(t){return"waves"==t.get("name")}),f=g.clone(p.attr("matrix"))||[1,0,0,0,1,0,0,0,1],d=y.transform(f,[["t",-l,-u],["s",1,0],["t",l,u]]);p.setMatrix(d),p.animate({matrix:f},a,e.easing,function(){return s&&s(i,c,p)},r)}o.animationName="liquidMoveIn",n.registerAnimation("liquidMoveIn",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(365)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="histogram",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),f=i(0),r=i(4),d=i(20),a=(n=o.__importDefault(i(41)).default,o.__extends(s,n),s.prototype.init=function(){this.options.xField="range",this.options.yField="count",n.prototype.init.call(this)},s.prototype.processData=function(t){var o=this,e=this.options,r=e.binField,i=e.binWidth,n=e.binNumber,a=f.clone(t);f.sortBy(a,r);var s=f.valuesOfKey(a,r),l=f.getRange(s),u=l.max-l.min,c=!i&&n?u/n:i;i||n||(c=u/d.sturges(s));var h={};f.each(a,function(t){var e=t[r],i=o.getBin(e,c),n=i[0]+"-"+i[1];f.hasKey(h,n)||(h[n]={name:n,range:i,count:0,data:[]}),h[n].data.push(t),h[n].count+=1});var p=[];return f.each(h,function(t){p.push(t)}),p},s.prototype.scale=function(){n.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},s.prototype.getBin=function(t,e){var i=Math.floor(t/e);return[e*i,e*(i+1)]},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="histogram",t}e.default=a,r.registerPlotType("histogram",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(367)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="density",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),y=i(17),v=i(0),r=i(4),m=i(20),a=o.__importDefault(i(88)),x={epanechnikov:function(t){return Math.abs(t)<=1?.75*(1-t*t):0},gaussian:function(t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Math.pow(t,2))},uniform:function(t){return Math.abs(t)<=1?.5:0},triangle:function(t){return Math.abs(t)<=1?1-Math.abs(t):0},quartic:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*e*e:0},triweight:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*Math.pow(e,3):0},cosinus:function(t){var e=Math.PI/4*Math.cos(.5*Math.PI*t);return Math.abs(t)<=1?e:0}},s=(n=a.default,o.__extends(l,n),l.prototype.init=function(){var t=this.options.xAxis?v.clone(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=v.deepMix({},t,{type:"linear"}),this.options.smooth=!0,n.prototype.init.call(this)},l.prototype.processData=function(t){var i=this,e=this.options,n=e.binField,o=e.binWidth,r=e.binNumber,a=e.kernel,s=x[a||"epanechnikov"],l=v.clone(t);v.sortBy(l,n);var u=v.valuesOfKey(l,n),c=v.getRange(u),h=c.max-c.min,p=r,f=o;!r&&o&&(p=Math.floor(h/o)),!o&&r&&(f=h/r),r||o||(p=m.sturges(u),f=h/r);var d=new(y.getScale("linear"))({min:c.min,max:c.max,tickCount:p,nice:!1}).getTicks(),g=[];return v.each(d,function(t){var e=i.kernelDensityEstimator(f,s,t,u);g.push({value:t.text,density:e})}),g},l.prototype.kernelDensityEstimator=function(i,n,o,t){var r=0;return v.each(t,function(t){var e=(o.tickValue-t)/i;r+=n(e)}),0===t.length?0:r/t.length},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="density",t}e.default=s,r.registerPlotType("density",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(147)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="donut",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({ring:"interval"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=o.__importDefault(i(371)),a=o.__importStar(i(372)),s=i(0),l=(n=r.default,o.__extends(u,n),u.prototype.triggerOn=function(){var n=this,t=this.options.triggerOn;this.view.on("interval:"+t,s.debounce(function(t){var e=n.parseStatisticData(t.data.data),i=n.getStatisticHtmlString(e);n.updateHtml(i)},150));var e=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+e,s.debounce(function(){var t=n.getTotalValue(),e=n.parseStatisticData(t),i=n.getStatisticHtmlString(e);n.updateHtml(i)},150))},u.prototype.adjustOptions=function(){var t,e,i;i=this.options.content?this.options.content:(e=this.getTotalValue(),this.parseStatisticData(e)),t=this.options.htmlContent?this.options.htmlContent(i):this.getStatisticTemplate(i),this.html=t;var n=this.view.coordinateBBox,o=n.minX,r=n.minY,a=n.width,s=n.height;this.x=o+a/2,this.y=r+s/2},u.prototype.getTotalValue=function(){var t,e=0,i=this.plot.options,n=i.angleField,o=i.colorField,r=this.options.totalLabel;return s.each(this.plot.options.data,function(t){"number"==typeof t[n]&&(e+=t[n])}),(t={})[n]=e,t[o]=r,t},u.prototype.parseStatisticData=function(t){var e=this.plot.options,i=e.angleField,n=e.colorField;return n?{name:t[n],value:t[i]}:t[i]},u.prototype.getStatisticTemplate=function(t){var e,i=this.getStatisticSize();return s.isString(t)?e=a.getSingleDataTemplate(t,this.statisticClass,i):s.isObject(t)&&2===s.keys(t).length&&(e=a.getTwoDataTemplate(t.name,t.value,this.statisticClass,i)),e},u.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,i=e.radius,n=e.innerRadius;return Math.min(t.width,t.height)*i*n},u.prototype.getStatisticHtmlString=function(t){var e,i=this.options.triggerOn;return s.isString(i)&&(e=this.getStatisticTemplate(t)),s.isFunction(i)&&(e=i(t),e='<div class="ring-guide-html '+this.statisticClass+'">'+e+"</div>"),e},u);function u(t){var e=n.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),a=i(5),o=(r.prototype.render=function(){var t;n.isElement(this.container)&&(this.wrapperNode=a.createDom('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),a.modifyCSS(this.wrapperNode,{position:"absolute"}),t=a.createDom(this.html),this.wrapperNode.appendChild(t),this.setDomPosition(this.x,this.y))},r.prototype.updateHtml=function(t){this.wrapperNode.innerHTML=t},r.prototype.updatePosition=function(t,e){this.x=t,this.y=e,this.setDomPosition(t,e)},r.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},r.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},r.prototype.setDomPosition=function(t,e){var i=t,n=e,o=a.getOuterWidth(this.wrapperNode),r=a.getOuterHeight(this.wrapperNode);"middle"===this.options.alignX&&(i=t-o/2),"middle"===this.options.alignY&&(n=e-r/2),a.modifyCSS(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(i)+"px"})},r);function r(t){var e=this.getDefaultOptions();this.options=n.deepMix(e,t,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",r="font-size:32px;font-weight:bold;color:#4D4D4D";e.getSingleDataTemplate=function(t,e,i){return'<div class="ring-guide-html '+e+'" style='+o+"width:"+i+'px;><span class="ring-guide-value" style='+r+">"+t+"</span></div>"},e.getTwoDataTemplate=function(t,e,i,n){return'<div class="ring-guide-html '+i+'" style='+o+"width:"+n+'px;><span class="ring-guide-name" style=font-weight:300;>'+t+'</span><br/><span class="ring-guide-value" style='+r+">"+e+"</span></div>"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(95)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="waterfall",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(0);i(7).registerShape("interval","waterfall",{draw:function(t,e){var i,n,o,r,a,s,l=(i=t.style,n=t.defaultStyle,o=t.color,r=p.__assign(p.__assign({},n),i),o&&(r.fill=o),r),u=this.parsePath(function(t){var e=[],i=t[0];e.push(["M",i.x,i.y]);for(var n=1,o=t.length;n<o;n++)e.push(["L",t[n].x,t[n].y]);return e.push(["L",i.x,i.y]),e.push(["z"]),e}(t.points)),c=e.addShape("path",{attrs:p.__assign(p.__assign({},l),{path:u}),name:"interval"}),h=f.get(t.style,"leaderLine");return h&&h.visible&&(a=h.style||{},t.nextPoints&&(s=[["M",t.points[2].x,t.points[2].y],["L",t.nextPoints[0].x,t.nextPoints[0].y]],s=this.parsePath(s),e.addShape("path",{attrs:p.__assign({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},a),name:"leader-line"}))),c}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(143);e.EVENT_MAP=n.EVENT_MAP,e.onEvent=n.onEvent},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),u=i(0),r=o.__importDefault(i(46)),c=i(95),a=i(16),s=(n=r.default,o.__extends(l,n),l.prototype.adjustLabel=function(t,e){var i=e.shape.getBBox(),n=e.getData(),o=n[c.VALUE_FIELD],r=n[this.layer.options.yField],a=u.isArray(o)?o[1]:o,s=(i.minY+i.maxY)/2,l="bottom";r<0?(s=i.maxY+2,l="top"):s=i.minY-2,t.attr("y",s),t.attr("text",a),t.attr("textBaseline",l)},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,a.registerLabelComponent("waterfall",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(0),d=i(95),n=i(7),o=(r.prototype.draw=function(){var u,c,h=this;this.view&&!this.view.destroyed&&(u=f.clone(this.view.getData()),this.container=this.view.foregroundGroup.addGroup(),c=this.view.geometries[0].elements.map(function(t){return t.shape}),f.each(c,function(t,e){var i,n,o,r,a,s,l;t.cfg.origin&&(i=t.cfg.origin.data,n=t.getBBox(),r=o=i[d.VALUE_FIELD],f.isArray(o)&&(r=o[1]-o[0]),r=0<r?"+"+r:r,i[d.IS_TOTAL]&&(r=o[0]-o[1]),s=r,h.formatter&&(a=c[e].attr("fill"),s=h.formatter(""+r,{_origin:u[e],color:a},e)),(l=h.container.addShape("text",{attrs:p.__assign({text:s,textBaseline:"middle",textAlign:"center",x:(n.minX+n.maxX)/2,y:(n.minY+n.maxY)/2},h.textAttrs),name:"dill-label"})).getBBox().height>n.height&&l.set("visible",!1))}),this.view.getCanvas().draw())},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype._init=function(){var t=this;this.view.on(n.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.clear()}),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.draw()})},r);function r(t){this.textAttrs={},this.view=t.view,this.fields=t.fields,this.formatter=t.formatter,this.textAttrs=f.mix({fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"},t.style),this._init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(148)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="scatter",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(1),c=i(0),y=u.__importDefault(i(10)),n=(o.prototype.init=function(){var t,e,i,n,o,r,a,s,l,u,c=this.options,h=c.xBaseline,p=c.yBaseline,f=this.view.getCoordinate(),d=this.view.getScaleByField(this.options.plotOptions.xField),g=this.view.getScaleByField(this.options.plotOptions.yField);h>d.min&&h<d.max?(t=(h-d.min)/(d.max-d.min),e=[new y.default(f.start.x,f.end.y,f.getWidth()*t,f.getHeight()),new y.default(f.start.x+f.getWidth()*t,f.end.y,f.getWidth()*(1-t),f.getHeight())],i={start:{x:f.start.x+f.getWidth()*t,y:f.end.y},end:{x:f.start.x+f.getWidth()*t,y:f.start.y}},this.lineData.push(i)):e=[new y.default(f.start.x,f.end.y,f.getWidth(),f.getHeight())],p>g.min&&p<g.max?(t=(p-g.min)/(g.max-g.min),n={start:{x:f.start.x,y:f.start.y-f.getHeight()*t},end:{x:f.end.x,y:f.start.y-f.getHeight()*t}},this.lineData.push(n),o={name:h<=d.min?"top-right":"top-left",bbox:new y.default(e[0].minX,e[0].minY,e[0].width,e[0].height*(1-t)),index:h<=d.min?2:0},this.regionData.push(o),r={name:h<=d.min?"bottom-right":"bottom-left",bbox:new y.default(e[0].minX,e[0].minY+e[0].height*(1-t),e[0].width,e[0].height*t),index:h<=d.min?3:1},this.regionData.push(r),1<e.length&&(a={name:"top-right",bbox:new y.default(e[1].minX,e[1].minY,e[1].width,e[1].height*(1-t)),index:2},this.regionData.push(a),s={name:"bottom-right",bbox:new y.default(e[1].minX,e[1].minY+e[1].height*(1-t),e[1].width,e[1].height*t),index:3},this.regionData.push(s))):2===e.length?p<=g.min?(l={name:"top-left",bbox:e[0],index:0},this.regionData.push(l),a={name:"top-right",bbox:e[1],index:2},this.regionData.push(a)):(u={name:"bottom-left",bbox:e[0],index:1},this.regionData.push(u),s={name:"bottom-right",bbox:e[1],index:3},this.regionData.push(s)):h<=d.min?p<=g.min?(a={name:"top-right",bbox:e[0],index:2},this.regionData.push(a)):(s={name:"bottom-right",bbox:e[0],index:3},this.regionData.push(s)):p<=g.min?(l={name:"top-left",bbox:e[0],index:0},this.regionData.push(l)):(u={name:"bottom-left",bbox:e[0],index:1},this.regionData.push(u)),this.container=this.view.backgroundGroup.addGroup()},o.prototype.render=function(){var a,s,e,l=this;0<this.regionData.length&&(a=this.getDefaultStyle(),s=this.getRegionStyle(this.regionData),c.each(this.regionData,function(t){var e,i,n=t.index,o=l.container.addGroup(),r=o.addShape("rect",{attrs:u.__assign({x:t.bbox.minX,y:t.bbox.minY,width:t.bbox.width,height:t.bbox.height},s[n]),name:"quadrant"});l.options.label&&l.options.label.text&&(e=c.deepMix({},a.label,l.options.label),i=l.getLabelConfig(t,e),o.addShape("text",{attrs:u.__assign({},i),name:"quadrant-label"})),r.set("data",t),l.quadrantGroups.push(o)}),e=c.deepMix({},a.line,this.options.lineStyle),c.each(this.lineData,function(t){l.container.addShape("path",{attrs:u.__assign({path:[["M",t.start.x,t.start.y],["L",t.end.x,t.end.y]]},e),name:"quadrant-line"})}),this.view.canvas.draw())},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove()},o.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},o.prototype.getRegionStyle=function(t){var i,n=this.getDefaultStyle().regionStyle;return this.options.regionStyle&&(i=this.options.regionStyle,c.isArray(i)?n=n.map(function(t,e){return i.length>e&&i[e]?i[e]:t}):c.isFunction(i)&&c.each(t,function(t,e){n[e]=i(t)})),n},o.prototype.getLabelConfig=function(t,e){var i=t.index,n=0,o=0,r={},a=e.text;c.isFunction(a)?a=a(t):c.isArray(a)&&(a=a[i]);var s=e.position.split("-"),l=t.name.split("-");return"left"===l[1]?("inner"===s[0]&&(n=t.bbox.maxX-e.offset,r.textAlign="right"),"outter"===s[0]&&(n=t.bbox.minX+e.offset,r.textAlign="left")):"right"===l[1]&&("inner"===s[0]&&(n=t.bbox.minX+e.offset,r.textAlign="left"),"outter"===s[0]&&(n=t.bbox.maxX-e.offset,r.textAlign="right")),"top"===l[0]?("inner"===s[1]&&(o=t.bbox.maxY-e.offset,r.textBaseline="bottom"),"outter"===s[1]&&(o=t.bbox.minY+e.offset,r.textBaseline="top")):"bottom"===l[0]&&("inner"===s[1]&&(o=t.bbox.minY+e.offset,r.textBaseline="top"),"outter"===s[1]&&(o=t.bbox.maxY-e.offset,r.textBaseline="bottom")),(r=c.deepMix({},e.style,r)).lineHeight=r.fontSize,u.__assign({x:n,y:o,text:a},r)},o);function o(t){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=t,this.view=this.options.view,this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),y=i(0),f=i(17),n=i(436),d=i(81),r={exp:n.regressionExp,linear:n.regressionLinear,loess:n.regressionLoess,log:n.regressionLog,poly:n.regressionPoly,pow:n.regressionPow,quad:n.regressionQuad},o=(a.prototype.init=function(){var t=this.options.plotOptions,e=t.xField,i=t.yField,n=t.data,o=r[this.options.type]().x(function(t){return t[e]}).y(function(t){return t[i]});this.data=this.processData(o(n)),this.container=this.view.backgroundGroup.addGroup()},a.prototype.render=function(){var t,e=this.view.getScaleByField(this.options.plotOptions.xField),i=this.view.getScaleByField(this.options.plotOptions.yField),n=this.view.getCoordinate(),o=this.data.trendlineData,r=f.getScale("linear"),a=this.adjustScale(e,o,"x"),s=new r({min:a.min,max:a.max}),l=this.adjustScale(i,o,"y"),u=new r({min:l.min,max:l.max});this.options.showConfidence&&(t=this.getConfidencePath(s,u,n),this.container.addShape("path",{attrs:p.__assign({path:t},this.options.confidenceStyle),name:"confidence"}));var c=this.getTrendlinePoints(s,u,n),h=d.getSplinePath(c,!1,[[0,0],[1,1]]);this.shape=this.container.addShape("path",{attrs:p.__assign({path:h},this.options.style),name:"trendline"})},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.destroy()},a.prototype.processData=function(o){var r=[],a=[];return y.each(o,function(t){r.push({x:t[0],y:t[1]});var e,i,n=(e=o.rSquared,i=t[1],1.96*Math.sqrt(e*(1-e)/i));a.push({x:t[0],y0:t[1]-n,y1:t[1]+n})}),{trendlineData:r,confidenceData:a}},a.prototype.getTrendlinePoints=function(r,a,s){var l=[];return y.each(this.data.trendlineData,function(t){var e=r.scale(t.x),i=a.scale(t.y),n=s.start.x+s.width*e,o=s.start.y-s.height*i;l.push({x:n,y:o})}),l},a.prototype.getConfidencePath=function(s,l,u){var c=[],h=[],t=[];y.each(this.data.confidenceData,function(t){var e=s.scale(t.x),i=l.scale(t.y0),n=l.scale(t.y1),o=u.start.x+u.width*e,r=u.start.y-u.height*i,a=u.start.y-u.height*n;c.push({x:o,y:r}),h.push({x:o,y:a})});for(var e=0;e<c.length;e++){var i=0===e?"M":"L",n=c[e];isNaN(n.x)||isNaN(n.y)||t.push([i,n.x,n.y])}for(var o=h.length-1;0<o;o--)n=h[o],isNaN(n.x)||isNaN(n.y)||t.push(["L",n.x,n.y]);return t},a.prototype.adjustScale=function(t,e,i){var n=t.min,o=t.max,r=this.options.plotOptions,a=r.data,s=r.xField,l=r.yField,u="x"===i?s:l,c=y.minBy(a,u)[u],h=y.maxBy(a,u)[u],p=(n-c)/(h-c),f=(o-h)/(h-c),d=y.minBy(e,i)[i],g=y.maxBy(e,i)[i];return{min:d+p*(g-d),max:g+f*(g-d)}},a);function a(t){this.options=y.deepMix({},{type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}},t),this.view=this.options.view,this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("scatter",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000"}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(383)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="bubble",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=i(4),a=n.__importStar(i(149)),s=n.__importDefault(i(148));i(384),i(386);var l,u=(l=s.default,n.__extends(c,l),c.getDefaultOptions=function(){return o.deepMix({},l.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},c.prototype.legend=function(){var t;l.prototype.legend.call(this),this.options.legend&&!1===this.options.legend.visible||this.setConfig("legends",((t={})[this.options.sizeField]=!1,t))},c.prototype.parseEvents=function(){l.prototype.parseEvents.call(this,a)},c);function c(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="bubble",t}e.default=u,r.registerPlotType("bubble",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(32),o=i(385);n.registerShape("point","bubble-point",{draw:function(t,e){var i,n=o.drawPoints(this,t,e,"circle",!1);return t.style.stroke||(i=n.attr("fill"),n.attr("stroke",i)),n},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(110),d=i(94);e.SHAPES=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],e.HOLLOW_SHAPES=["cross","tick","plus","hyphen","line"],e.drawPoints=function(t,e,i,n,o){var r=d.getStyle(e,o,!o,"r"),a=t.parsePoints(e.points),s=a[0];if(e.isStack)s=a[1];else if(1<a.length){for(var l=i.addGroup(),u=0,c=a;u<c.length;u++){var h=c[u];l.addShape({type:"marker",attrs:p.__assign(p.__assign(p.__assign({},r),{symbol:f.MarkerSymbols[n]||n}),h)})}return l}return i.addShape({type:"marker",attrs:p.__assign(p.__assign(p.__assign({},r),{symbol:f.MarkerSymbols[n]||n}),s)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("bubble",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000",fillOpacity:t.fillOpacity||t.opacity||.95}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(388)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="bullet",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=i(0),r=o.__importStar(i(389)),a=o.__importDefault(i(12)),s=i(22),l=i(21),u=i(14),c=i(4),h=o.__importDefault(i(390)),p=o.__importDefault(i(391));i(392);var f={bullet:"interval"},d={interval:"bullet"};e.STACK_FIELD="$$stackField$$",e.X_FIELD="$$xField$$",e.Y_FIELD="$$yField$$";var g,y=(g=a.default,o.__extends(v,g),v.getDefaultOptions=function(){return n.deepMix({},g.getDefaultOptions.call(this),{data:[],stackField:e.STACK_FIELD,xField:e.X_FIELD,yField:e.Y_FIELD,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},v.prototype.afterRender=function(){g.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},v.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},n.has(t,"yAxis")&&s.extractScale(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},n.has(t,"xAxis")&&s.extractScale(e[t.xField],t.xAxis),this.setConfig("scales",e),g.prototype.scale.call(this)},v.prototype.getOptions=function(t){var e=g.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},v.prototype.afterInit=function(){g.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(t){return t.ranges}),i=t.data.map(function(t){return t.targets});this.bulletRect=new h.default(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new p.default(this.view,{targets:i,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},v.prototype.geometryParser=function(t,e){return"g2"===t?f[e]:d[e]},v.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},v.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,i=[{name:"实际进度",value:"实际进度",marker:{symbol:"square",style:{fill:(t.measureColors||this.theme.colors)[0]}}},{name:"目标值",value:"目标值",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],n=o.__assign({custom:!0,position:"bottom",items:i},t.legend);this.setConfig("legends",n)},v.prototype.addGeometry=function(){var t=this.options,e=u.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},v.prototype.parseEvents=function(){g.prototype.parseEvents.call(this,r)},v.prototype.extractLabel=function(){var t=this.options,e=n.deepMix({},t.label);return!1!==e.visible&&l.getComponent("label",o.__assign({plot:this,labelType:"barLabel",fields:[t.yField]},e))},v.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},v.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(t){return e.push(t.measures.reduce(function(t,e){return t+e},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},v.prototype.processData=function(t){var a=this.options,s=[];return t.forEach(function(t,e){for(var i,n=0;n<t.measures.length;n+=1){var o=t.measures[n],r=t.title||""+e;s.push(((i={})[a.xField]=r,i[a.yField]=o,i[a.stackField]=""+n,i))}}),s},v);function v(){var t=null!==g&&g.apply(this,arguments)||this;return t.type="bullet",t}e.default=y,c.registerPlotType("bullet",y)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({bullet:"interval",bulletTarget:"bullet-target"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(0),h=p.__importDefault(i(10)),n=(o.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var t=this.getGeometry(),e=f.map(null==t?void 0:t.elements,function(t){return t.shape}),i=0;i<this.cfg.ranges.length;i+=1){var n=e[i].getBBox(),o=n.width/e[i].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[i]||[0,1],o)}this.view.canvas.draw()}},o.prototype.drawRect=function(t,e,i){for(var n,o,r=this.cfg,a=r.rangeColors,s=t.minX,l=t.minY-t.height*(r.rangeSize-1)/2,u=1;u<e.length;u+=1){var c=(e[u]-e[u-1])*r.rangeMax*i;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:c,height:t.height*r.rangeSize,x:s,y:l,fill:a[(u-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),s+=c}r.axis&&r.axis.visible&&(n=r.rangeMax/(r.axis.tickCount-1),o=new h.default(t.x,l,s,t.height*r.rangeSize),this.drawBulletTicks(o,n,i))},o.prototype.drawBulletTicks=function(t,e,i){for(var n=this.cfg,o=n.axis.style,r=n.axis.tickCount,a=n.axis.position,s=f.get(o,"lineHeight",0)-o.fontSize/2,l=0;l<r;l+=1){var u,c=t.minX+e*l*i,h=""+e*l;n.axis.formatter&&(h=n.axis.formatter(h,l)),this.container.addShape("text",{name:"tick",attrs:p.__assign({x:c,y:"before"===a?t.minY-s:t.maxY+s,text:""+h},o)}),n.axis.tickLine&&n.axis.tickLine.visible&&(u=n.axis.tickLine,0<l&&l!==r-1&&this.container.addShape("path",{attrs:p.__assign({path:[["M",c,t.minY],["L",c,t.maxY]]},u)}).set("zIndex",-1))}},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove()},o.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},o.prototype.getGeometry=function(){return f.find(this.view.geometries,function(t){return"interval"===t.type})},o);function o(t,e){this.view=t,this.cfg=e,this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),o=i(0),n=(r.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var t=o.map(this.getGeometry().elements,function(t){return t.shape}),e=0;e<this.cfg.targets.length;e+=1){var i=t[e].getBBox(),n=i.width/t[e].get("origin").data[this.cfg.yField];this.drawTarget(i,this.cfg.targets[e],n)}this.view.canvas.draw()}},r.prototype.drawTarget=function(n,t,o){var r=this,a=this.cfg,s=a.markerColors;t.forEach(function(t,e){var i=a.markerStyle;r.container.addShape("rect",{name:"bullet-target",attrs:l.__assign(l.__assign({width:i.width,height:n.height*a.markerSize-i.width/2,x:n.minX+t*o,y:n.minY-n.height*(a.markerSize-1)/2},i),{fill:s[e%s.length]||i.fill})})})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},r.prototype.getGeometry=function(){return o.find(this.view.geometries,function(t){return"interval"===t.type})},r);function r(t,e){this.view=t,this.cfg=e,this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("bullet",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1),lineWidth:0}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=n.__importDefault(i(3)),a=n.__importDefault(i(394));i(397);var s,l=(s=r.default,n.__extends(u,s),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="calendar",s.prototype.createLayers.call(this,e)},u.getDefaultOptions=a.default.getDefaultOptions,u);function u(){return null!==s&&s.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p,n=i(1),f=i(0),o=n.__importDefault(i(33)),r=n.__importDefault(i(12)),d=i(62),g=i(395),a=i(4),s=i(96),l=i(21),u=n.__importStar(i(396)),c=(p=r.default,n.__extends(h,p),h.getDefaultOptions=function(){var t;return f.deepMix({},p.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:((t={})[d.DAY_FIELD]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[d.WEEK_FIELD]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},h.prototype.processData=function(t){var e,i=this.options.dateField,n=this.options.dateRange;return f.isNil(n)&&(e=f.map(t,function(t){return o.default.parse(""+t[i],d.FORMATTER)}),n=s.getDateRange(e)),g.generateCalendarData(t,n,i)},h.prototype.addGeometry=function(){var t=this.options,e=t.valueField,i=t.colors,n=t.tooltip,o={type:"polygon",position:{fields:[d.WEEK_FIELD,d.DAY_FIELD]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:i},label:this.extractLabel()};n&&(n.fields||n.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},h.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[d.WEEK_FIELD,d.DAY_FIELD]))},h.prototype.extractLabel=function(){var t=this.options.label;if(t&&!1===t.visible)return!1;var e=this.options.valueField;return l.getComponent("label",n.__assign({plot:this,fields:[e],position:"top",offset:0},t))},h.prototype.coord=function(){this.setConfig("coordinate",{type:"rect",cfg:{},actions:[["reflect","y"]]})},h.prototype.geometryParser=function(){return""},h.prototype.axis=function(){var t=l.getComponent("axis",{plot:this,dim:"x"}),e=l.getComponent("axis",{plot:this,dim:"y"}),i={};i[d.WEEK_FIELD]=t,i[d.DAY_FIELD]=e,this.setConfig("axes",i)},h.prototype.scale=function(){p.prototype.scale.call(this);var i=g.getMonthCenterWeek(this.options.dateRange),t=this.config.scales,e=this.options,n=e.weeks,o=void 0===n?d.WEEKS:n,r=e.months,a=void 0===r?d.MONTHS:r,s=t[d.WEEK_FIELD],l=t[d.DAY_FIELD];s.formatter=function(t){var e=i[t];return void 0!==e?a[e]:""},l.formatter=function(t){return o[t]||""};var u=this.options,c=u.xAxis,h=u.yAxis;s.alias=f.get(c,["title","text"],s.alias),l.alias=f.get(h,["title","text"],l.alias),this.setConfig("scales",t)},h.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,u)},h);function h(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="calendar",t}e.default=c,a.registerPlotType("calendar",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(1),c=u.__importDefault(i(33)),h=i(0),p=i(62),f=i(96);function d(t){var e,i=t[0],n=t[1],o=c.default.parse(i,p.FORMATTER),r=c.default.parse(n,p.FORMATTER);return r<o&&(r=(e=[o,r])[0],o=e[1]),[o,r]}e.generateCalendarData=function(n,t,o){for(var r=[],e=d(t),i=e[0],a=e[1],s=new Date(i),l=function(){var t,e=c.default.format(s,p.FORMATTER),i=h.find(n,function(t){return t[o]===e});r.push(u.__assign(((t={})[p.DAY_FIELD]=f.getDay(s),t[p.WEEK_FIELD]=""+f.getWeek(s),t[o]=e,t[p.DATE_FIELD]=new Date(s),t),i)),f.advanceBy(s,f.DAY_MS)};s<=a;)l();return r},e.getMonthCenterWeek=function(t){var e=d(t),i=e[0],n=e[1],o=new Map;function r(t){var e=t.getMonth(),i=f.getWeek(t);o.has(e)||o.set(e,[]),o.get(e).push(i)}for(var a=new Date(i);a<=n;)r(a),f.advanceBy(a,7*f.DAY_MS);n<a&&r(n);var s={};return o.forEach(function(t,e){var i=Math.ceil((h.head(t)+h.last(t))/2);s[i]=e}),s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({rect:"polygon"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),u=i(0),n=i(32),c=i(62),h=i(96);n.registerShape("polygon","calendar-polygon",{draw:function(t,e){if(!u.isEmpty(t.points)){var i,n=t.points,o=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],["L",n[3].x,n[3].y],["Z"]],o=this.parsePath(o),r=l.__assign(l.__assign({stroke:"#fff",lineWidth:1,fill:t.color},t.style),{path:o}),a=e.addShape("path",{attrs:r}),s=t.data[c.DATE_FIELD];return h.isLastWeekOfMonth(s)&&(i=[["M",n[2].x,n[2].y],["L",n[3].x,n[3].y]],e.addShape("path",{zIndex:1,attrs:{path:this.parsePath(i),lineWidth:1,stroke:"#404040"}}),h.isLastDayOfMonth(s)&&e.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",n[1].x,n[1].y],["L",n[2].x,n[2].y]]),lineWidth:1,stroke:"#404040"}})),e.sort(),a}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(97)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="gauge",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({range:"point",statistic:"annotation-text"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(401)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="fanGauge",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),a=i(0),r=i(4),s=o.__importDefault(i(97)),l=i(150),u=(n=s.default,o.__extends(c,n),c.getDefaultOptions=function(){return a.deepMix({},n.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},c.prototype.initG2Shape=function(){this.gaugeShape=new l.GaugeShape(a.uniqueId()),this.gaugeShape.setOption(this.type,a.deepMix({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},c.prototype.axis=function(){this.setConfig("axes",{value:!1,1:!1})},c.prototype.annotation=function(){var t,e=this.options.statistic,i=[];e&&e.visible&&(t=this.renderStatistic(),i.push(t));var n=this.renderSideText(),o=i.concat(n);this.setConfig("annotations",o)},c.prototype.renderSideText=function(){var t=this.options,e=t.max,i=t.min,n=t.format,o=t.rangeSize,r=t.axis;return[i,e].map(function(t,e){return{type:"text",top:!0,position:["50%","50%"],content:n(t),style:a.deepMix({},r.label.style,{textAlign:"center"}),offsetX:e?o:-o,offsetY:12}})},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="fanGauge",t}e.default=u,r.registerPlotType("fanGauge",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(403)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="meterGauge",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(4),s=(n=o.__importDefault(i(97)).default,o.__extends(l,n),l.getDefaultOptions=function(){return r.deepMix({},n.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="meterGauge",t}e.default=s,a.registerPlotType("meterGauge",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(405);e.Ring=n.default,e.RingConfig=n.RingConfig;var o=i(406);e.GroupColumn=o.default,e.GroupColumnConfig=o.GroupColumnConfig;var r=i(407);e.GroupBar=r.default,e.GroupBarConfig=r.GroupBarConfig;var a=i(408);e.PercentageStackArea=a.default,e.PercentageStackAreaConfig=a.PercentageStackAreaConfig;var s=i(409);e.PercentageStackBar=s.default,e.PercentageStackBarConfig=s.PercentageStackBarConfig;var l=i(410);e.PercentageStackColumn=l.default,e.PercentageStackColumnConfig=l.PercentageStackColumnConfig;var u=i(411);e.StackArea=u.default,e.StackAreaConfig=u.StackAreaConfig;var c=i(412);e.StackBar=c.default,e.StackBarConfig=c.StackBarConfig;var h=i(413);e.StackColumn=h.default,e.StackColumnConfig=h.StackColumnConfig},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(31)),l=o.__importDefault(i(147)),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="donut",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(31)),l=o.__importDefault(i(91)),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="groupedColumn",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(31)),l=o.__importDefault(i(136)),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="groupedBar",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(31)),l=o.__importDefault(i(141)),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="percentStackedArea",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(31)),l=o.__importDefault(i(137)),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="percentStackedBar",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(31)),l=o.__importDefault(i(145)),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="percentStackedColumn",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(31)),l=o.__importDefault(i(89)),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="stackedArea",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(31)),l=o.__importDefault(i(86)),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="stackedBar",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(31)),l=o.__importDefault(i(60)),u=(n=a.default,o.__extends(c,n),c.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="stackedColumn",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(151)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="progress",n.prototype.createLayers.call(this,e)},u.prototype.update=function(t,e){this.layers[0].update(t,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),s=i(0),n=(r.prototype.destroy=function(){this.shape&&this.shape.destroy()},r.prototype.update=function(t,e,i){var n,o,r,a={};s.assign(this,t),this.coord=this.view.geometries[0].coordinate,t.value&&(n=[1,0,0,0,1,0,this.coord.convert({x:0,y:this.value}).x,0,1],a.matrix=n),t.style&&(o=this.shape.attrs,r=s.deepMix({},o,t.style),a=s.deepMix({},r,a)),this.shape.stopAnimate(),this.shape.animate(a,e,i)},r.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var t=this.coord.convert({x:0,y:this.value}).x,e=this.coord.center.y-this.progressSize/2-2,i=this.coord.center.y+this.progressSize/2+2,n=s.deepMix({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:o.__assign({path:[["M",0,e],["L",0,i]]},n),name:"progress-marker"}),this.shape.move(t,0),this.canvas.draw()},r);function r(t){s.assign(this,t),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({progress:"interval"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(418)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="ringProgress",n.prototype.createLayers.call(this,e)},u.prototype.update=function(t){this.layers[0].update(t)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(4),s=i(14),l=o.__importDefault(i(151)),u=o.__importStar(i(419)),c=["#55A6F3","#E8EDF3"],h=(n=l.default,o.__extends(p,n),p.prototype.processProps=function(){(e=this.options).data=this.processData();var t={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:e.progressStyle,color:this.parseColorProps(e)||c},e=r.mix(e,t)},p.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},p.prototype.annotation=function(){},p.prototype.addGeometry=function(){var t=this.options;this.ring=s.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},p.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},p.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,u)},p.prototype.getThickness=function(t){var e=this.width,i=this.height,n=Math.min(e,i);return t?1-t/n:60<=n?1-20/n:1-10/n},p);function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="ringProgrsss",t}e.default=h,a.registerPlotType("ringProgress",h)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent;var r=o.getEventMap({ringProgress:"interval"});n.assign(o.EVENT_MAP,r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(421)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="tinyColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=i(4),s=i(14),l=o.__importDefault(i(47)),u=o.__importStar(i(422)),c={column:"interval"},h={interval:"column"},p=(n=l.default,o.__extends(f,n),f.prototype.init=function(){this.processProps(),n.prototype.init.call(this)},f.prototype.geometryParser=function(t,e){return"g2"===t?c[e]:h[e]},f.prototype.scale=function(){var t={};t[this.options.xField]={type:"cat"},this.setConfig("scales",t)},f.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},f.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,u)},f.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=r.mix(this.options,t)},f.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField);return this.width/e*.6},f.prototype.getColumnNum=function(t,i){var n=[];return r.each(t,function(t){var e=t[i];n.indexOf(e)<0&&n.push(e)}),n.length},f);function f(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyColumn",t}e.default=p,a.registerPlotType("tinyColumn",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent,n.assign(o.EVENT_MAP,{onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(424)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="tinyArea",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(4),a=i(14),s=o.__importDefault(i(47)),l=o.__importStar(i(425)),u={area:"area",line:"line"},c=(n=s.default,o.__extends(h,n),h.prototype.geometryParser=function(t,e){return u[e]},h.prototype.addGeometry=function(){this.area=a.getGeom("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=a.getGeom("line","mini",{plot:this}),this.setConfig("geometry",this.line)},h.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,l)},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyArea",t}e.default=c,r.registerPlotType("tinyArea",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent,n.assign(o.EVENT_MAP,{onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(427)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="tinyLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(4),a=i(14),s=o.__importDefault(i(47)),l=o.__importStar(i(428)),u={line:"line"},c=(n=s.default,o.__extends(h,n),h.prototype.geometryParser=function(t,e){return u[e]},h.prototype.addGeometry=function(){this.line=a.getGeom("line","mini",{plot:this}),this.setConfig("geometry",this.line)},h.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,l)},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyLine",t}e.default=c,r.registerPlotType("tinyLine",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9);e.EVENT_MAP=o.EVENT_MAP,e.onEvent=o.onEvent,n.assign(o.EVENT_MAP,{onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(430)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="dualLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f,d=i(1),c=i(13),n=i(4),o=d.__importDefault(i(152)),g=d.__importDefault(i(56)),y=i(0),r={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},a={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},s=(f=o.default,d.__extends(l,f),l.getDefaultOptions=function(){return y.deepMix({},f.getDefaultOptions.call(this),{yAxis:{leftConfig:a,rightConfig:a},lineConfigs:[y.deepMix({},r,{color:"#5B8FF9"}),y.deepMix({},r,{color:"#e76c5e"})]})},l.prototype.init=function(){var t,e,i,n,o,r,a,s,l,u,c,h,p=this;f.prototype.init.call(this),this.checkData()&&(e=(t=this.options).data,i=t.meta,n=t.xField,o=t.yField,r=t.xAxis,a=t.tooltip,s=t.lineConfigs,l=t.legend,u=t.events,this.colors=[s[0].color,s[1].color],c=this.getYAxisGlobalConfig(),this.createLayer(g.default,e[0],d.__assign({meta:i,xField:n,yField:o[0],xAxis:{visible:!1},yAxis:y.deepMix({},c,this.yAxis(0),{grid:{visible:!1},nice:!0}),tooltip:{visible:!1},events:u},s[0])).render(),(h={})[o[1]]={ticks:this.getTicks()},this.createLayer(g.default,e[1],d.__assign({xField:n,yField:o[1],meta:y.deepMix({},i,h),serieField:o[1],xAxis:r,yAxis:y.deepMix({},c,this.yAxis(1),{position:"right",nice:!1}),tooltip:y.deepMix({},a,{showMarkers:!1,customContent:{callback:function(t,e){p.tooltip(t,e)}}}),events:u},s[1])).render(),l.visible&&this.customLegend(),this.adjustLayout())},l.prototype.tooltip=function(t,i){var e,n,o,r,a;this.getUnCheckedValue().length!==this.colors.length?(t.style.display="block",n=(e=this.options).yField,o=e.legend,r=y.clone(i.items[0]),(a=this.getDataByXField(i.title,0)[0])&&i.items.push(d.__assign(d.__assign({},r),{mappingData:y.deepMix({},r.mappingData,{_origin:a}),data:a,name:n[0],value:a[n[0]],color:this.colors[0]})),o.visible&&y.each(this.legends,function(t,e){t.get("items")[0].unchecked&&i.items.splice(e,1)})):t.style.display="none"},l.prototype.customLegend=function(){var r=this,t=this.options,a=t.yField,e=t.legend,s=this.colors,l=this.container.addGroup(),u=e;y.each(this.geomLayers,function(t,e){var i=y.deepMix({},{symbol:"circle",style:{r:4,fill:s[e]}},u.marker),n=[{name:a[e],unchecked:!1,marker:i}],o=new c.Legend.Category({id:r.type,container:l,x:0,y:0,items:n,updateAutoRender:!0,itemBackground:null,itemName:u.text});o.init(),o.render(),r.legends.push(o)}),y.each(this.geomLayers,function(t,e){r.legendFilter(e)})},l);function l(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="dualLine",t}e.default=s,n.registerPlotType("dualLine",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(98)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="columnLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(433)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="groupedColumnLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,c=i(1),l=i(13),o=i(4),h=i(0),r=c.__importDefault(i(98)),p=c.__importDefault(i(91)),a={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},s={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},u={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},f=(n=r.default,c.__extends(d,n),d.getDefaultOptions=function(){return h.deepMix({},n.getDefaultOptions.call(this),{yAxis:{leftConfig:h.deepMix({},u,{colorMapping:!1}),rightConfig:u},lineConfig:a,columnConfig:s,legend:{visible:!0}})},d.prototype.beforeInit=function(){var t=this.getValueByGroupField(),e=this.options.columnConfig.color;this.options.columnConfig.color=e.slice(0,t.length)},d.prototype.drawColumn=function(){var i=this,t=this.options,e=t.data,n=t.xField,o=t.yField,r=t.groupField,a=t.xAxis,s=t.tooltip,l=t.columnConfig,u=t.events;this.createLayer(p.default,e[0],c.__assign({xField:n,yField:o[0],groupField:r,xAxis:a,yAxis:h.deepMix({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:h.deepMix({},s,{showMarkers:!1,customContent:{callback:function(t,e){i.tooltip(t,e)}}}),events:u},l)).render()},d.prototype.tooltip=function(t,e){var i,n,o,r,a,s=this.getUnCheckedValue();s.length!==this.colors[0].length+1?(t.style.display="block",i=this.options.yField,n=h.clone(e.items[0]),o=this.getDataByXField(e.title,1)[0],!h.contains(s,i[1])&&o&&e.items.push(c.__assign(c.__assign({},n),{mappingData:h.deepMix({},n.mappingData,{_origin:o}),data:o,name:i[1],value:o[i[1]],color:this.colors[1]})),r=[],a=[],h.each(e.items,function(t){var e=t.name;h.contains(r,e)||h.contains(s,e)||(r.push(e),a.push(t))}),e.items=a):t.style.display="none"},d.prototype.customLegend=function(){var o=this,t=this.options,e=t.yField,i=t.legend,r=this.container.addGroup(),a=i,n=this.getValueByGroupField(),s=[[],[]];h.each(n,function(t,e){s[0].push({name:t,unchecked:!1,marker:{symbol:"square",style:{r:5,fill:o.colors[0][e]}}})}),s[1].push({name:e[1],unchecked:!1,marker:{symbol:"circle",style:{r:5,fill:this.colors[1]}}}),h.each(this.geomLayers,function(t,e){var i=s[e],n=new l.Legend.Category({id:o.type,container:r,x:0,y:0,items:i,updateAutoRender:!0,itemBackground:null,itemName:a.text});n.init(),n.render(),o.legends.push(n)}),this.seperateLegendFilter()},d.prototype.seperateLegendFilter=function(){var n=this,o=this.options.groupField,r=[],t=this.legends[0].get("group"),a=!1;t.on("click",function(t){var e=n.geomLayers[0].view,i=t.target.get("delegateObject").item;i.unchecked?(!0===a&&(n.showLayer(0),a=!1),h.pull(r,i.name),e.filter(i.value,function(t){return!h.contains(r,t)}),e.render(),n.legends[0].setItemState(i,"unchecked",!1)):(n.legends[0].setItemState(i,"unchecked",!0),r.push(i.name),r.length===n.legends[0].get("items").length?(n.hideLayer(0),a=!0):(e.filter(o,function(t){return!h.contains(r,t)}),e.render())),n.canvas.draw()}),this.legendFilter(1)},d.prototype.getValueByGroupField=function(){var t=this.options,i=t.groupField,e=t.data[0],n=[];return h.each(e,function(t){var e=t[i];h.contains(n,e)||n.push(e)}),n},d.prototype.getMockData=function(t){var e=this.options,i=e.xField,n=e.yField,o=e.groupField,r={};r[i]="null_1",r[n[t]]=0,r[o]="null_a";var a={};return a[i]="null_1",a[n[t]]=1,a[o]="null_a",[r,a]},d);function d(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","groupField"],t}e.default=f,o.registerPlotType("groupedColumnLine",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=i(0),a=o.__importDefault(i(3)),s=o.__importDefault(i(435)),l=(n=a.default,o.__extends(u,n),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="stackedColumnLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,c=i(1),l=i(13),o=i(4),h=i(0),r=c.__importDefault(i(98)),p=c.__importDefault(i(60)),a={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},s={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},u={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},f=(n=r.default,c.__extends(d,n),d.getDefaultOptions=function(){return h.deepMix({},n.getDefaultOptions.call(this),{yAxis:{leftConfig:h.deepMix({},u,{colorMapping:!1}),rightConfig:u},lineConfig:a,columnConfig:s,legend:{visible:!0}})},d.prototype.beforeInit=function(){var t=this.getValueByGroupField(),e=this.options.columnConfig.color;this.options.columnConfig.color=e.slice(0,t.length)},d.prototype.drawColumn=function(){var i=this,t=this.options,e=t.data,n=t.xField,o=t.yField,r=t.stackField,a=t.xAxis,s=t.tooltip,l=t.columnConfig,u=t.events;this.createLayer(p.default,e[0],c.__assign({xField:n,yField:o[0],stackField:r,xAxis:a,yAxis:h.deepMix({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:h.deepMix({},s,{showMarkers:!1,customContent:{callback:function(t,e){i.tooltip(t,e)}}}),events:u},l)).render()},d.prototype.tooltip=function(t,e){var i,n,o,r,a,s=this.getUnCheckedValue();s.length!==this.colors[0].length+1?(t.style.display="block",i=this.options.yField,n=h.clone(e.items[0]),o=this.getDataByXField(e.title,1)[0],!h.contains(s,i[1])&&o&&e.items.push(c.__assign(c.__assign({},n),{mappingData:h.deepMix({},n.mappingData,{_origin:o}),data:o,name:i[1],value:o[i[1]],color:this.colors[1]})),r=[],a=[],h.each(e.items,function(t){var e=t.name;h.contains(r,e)||h.contains(s,e)||(r.push(e),a.push(t))}),e.items=a):t.style.display="none"},d.prototype.customLegend=function(){var o=this,t=this.options,e=t.yField,i=t.legend,r=this.container.addGroup(),a=i,n=this.getValueByGroupField(),s=[[],[]];h.each(n,function(t,e){s[0].push({name:t,unchecked:!1,marker:{symbol:"square",style:{r:5,fill:o.colors[0][e]}}})}),s[1].push({name:e[1],unchecked:!1,marker:{symbol:"circle",style:{r:5,fill:this.colors[1]}}}),h.each(this.geomLayers,function(t,e){var i=s[e],n=new l.Legend.Category({id:o.type,container:r,x:0,y:0,items:i,updateAutoRender:!0,itemBackground:null,itemName:a.text});n.init(),n.render(),o.legends.push(n)}),this.seperateLegendFilter()},d.prototype.seperateLegendFilter=function(){var n=this,o=this.options.stackField,r=[],t=this.legends[0].get("group"),a=!1;t.on("click",function(t){var e=n.geomLayers[0].view,i=t.target.get("delegateObject").item;i.unchecked?(!0===a&&(n.showLayer(0),a=!1),h.pull(r,i.name),e.filter(i.value,function(t){return!h.contains(r,t)}),e.render(),n.legends[0].setItemState(i,"unchecked",!1)):(n.legends[0].setItemState(i,"unchecked",!0),r.push(i.name),r.length===n.legends[0].get("items").length?(n.hideLayer(0),a=!0):(e.filter(o,function(t){return!h.contains(r,t)}),e.render())),n.canvas.draw()}),this.legendFilter(1)},d.prototype.getValueByGroupField=function(){var t=this.options,i=t.stackField,e=t.data[0],n=[];return h.each(e,function(t){var e=t[i];h.contains(n,e)||n.push(e)}),n},d.prototype.getUnCheckedValue=function(){var i=[];return h.each(this.legends,function(t){var e=t.getItemsByState("unchecked");h.each(e,function(t){i.push(t.name)})}),i},d.prototype.getMockData=function(t){var e=this.options,i=e.xField,n=e.yField,o=e.stackField,r={};r[i]="null_1",r[n[t]]=0,r[o]="null_a";var a={};return a[i]="null_1",a[n[t]]=1,a[o]="null_a",[r,a]},d);function d(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","stackField"],t}e.default=f,o.registerPlotType("stackedColumnLine",f)},function(t,e,i){"use strict";function Y(t,n,o,e){t=t.filter(function(t){var e=n(t),i=o(t);return null!=e&&isFinite(e)&&null!=i&&isFinite(i)}),e&&t.sort(function(t,e){return n(t)-n(e)});for(var i,r,a,s=t.length,l=new Float64Array(s),u=new Float64Array(s),c=0,h=0,p=0;p<s;)a=t[p],l[p]=i=+n(a),u[p]=r=+o(a),c+=(i-c)/++p,h+=(r-h)/p;for(var f=0;f<s;++f)l[f]-=c,u[f]-=h;return[l,u,c,h]}function k(t,e,i,n){for(var o=0,r=0,a=t.length;r<a;r++){var s=t[r],l=+e(s),u=+i(s);null!=l&&isFinite(l)&&null!=u&&isFinite(u)&&n(l,u,o++)}}function E(t,e,i,o,r){var a=0,s=0;return k(t,e,i,function(t,e){var i=e-r(t),n=e-o;a+=i*i,s+=n*n}),1-a/s}function f(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function D(t,e,i){for(var n=Math.log(e-t)*Math.LOG10E+1|0,c=+Math.pow(10,-n/2-1),o=[p(t),p(e)],h=0;r(o)&&h<1e4;);return o;function p(t){return[t,i(t)]}function r(t){h++;for(var e,i=t.length,n=!1,o=0;o<i-1;o++){var r=t[o],a=[((e=[r,t[o+1]])[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2],s=p(a[0]),l=f([r,a]),u=f([r,s]);Math.abs(l-u)>c&&(t.splice(o+1,0,s),n=!0)}return n}}function G(t,e,i,n){var o=n-t*t,r=Math.abs(o)<1e-24?0:(i-t*e)/o;return[e-r*t,r]}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.r(e),i.d(e,"regressionExp",function(){return n}),i.d(e,"regressionLinear",function(){return T}),i.d(e,"regressionLoess",function(){return r}),i.d(e,"regressionLog",function(){return a}),i.d(e,"regressionPoly",function(){return s}),i.d(e,"regressionPow",function(){return l}),i.d(e,"regressionQuad",function(){return L});var n=function(){var y,v=function(t){return t[0]},m=function(t){return t[1]};function e(t){var o=0,r=0,a=0,s=0,l=0,u=0,c=y?+y[0]:1/0,h=y?+y[1]:-1/0;k(t,v,m,function(t,e){var i=Math.log(e),n=t*e;r+=(e-r)/++o,s+=(n-s)/o,u+=(t*n-u)/o,a+=(e*i-a)/o,l+=(n*i-l)/o,y||(t<c&&(c=t),h<t&&(h=t))});function e(t){return f*Math.exp(d*t)}var i,n,p=(i=G(s/r,a/r,l/r,u/r),n=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}(i,n)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x(t,e):void 0}}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],d=p[1],f=Math.exp(f),g=D(c,h,e);return g.a=f,g.b=d,g.predict=e,g.rSquared=E(t,v,m,r,e),g}return e.domain=function(t){return arguments.length?(y=t,e):y},e.x=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(m=t,e):m},e};function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var T=function(){var g,y=function(t){return t[0]},v=function(t){return t[1]};function e(t){var i=0,n=0,o=0,r=0,a=0,s=g?+g[0]:1/0,l=g?+g[1]:-1/0;k(t,y,v,function(t,e){n+=(t-n)/++i,o+=(e-o)/i,r+=(t*e-r)/i,a+=(t*t-a)/i,g||(t<s&&(s=t),l<t&&(l=t))});function e(t){return f*t+p}var u,c,h=(u=G(n,o,r,a),c=2,function(t){if(Array.isArray(t))return t}(u)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}(u,c)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(t,e):void 0}}(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1],d=[[s,e(s)],[l,e(l)]];return d.a=f,d.b=p,d.predict=e,d.rSquared=E(t,y,v,o,e),d}return e.domain=function(t){return arguments.length?(g=t,e):g},e.x=function(t){return arguments.length?(y=t,e):y},e.y=function(t){return arguments.length?(v=t,e):v},e};function X(t){t.sort(function(t,e){return t-e});var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var r=function(){var I=function(t){return t[0]},R=function(t){return t[1]},N=.3;function e(t){for(var e,i=z(Y(t,I,R,!0),4),n=i[0],o=i[1],r=i[2],a=i[3],s=n.length,l=Math.max(2,~~(N*s)),u=new Float64Array(s),c=new Float64Array(s),h=new Float64Array(s).fill(1),p=-1;++p<=2;){for(var f=[0,l-1],d=0;d<s;++d){for(var g=n[d],y=f[0],v=f[1],m=g-n[y]>n[v]-g?y:v,x=0,b=0,_=0,M=0,O=0,w=1/Math.abs(n[m]-g||1),C=y;C<=v;++C){var S=n[C],j=o[C],A=(e=1-(e=Math.abs(g-S)*w)*e*e)*e*e*h[C],P=S*A;x+=A,b+=P,_+=j*A,M+=j*P,O+=S*P}var T=z(G(b/x,_/x,M/x,O/x),2),L=T[0],k=T[1];u[d]=L+k*g,c[d]=Math.abs(o[d]-u[d]),V(n,d+1,f)}if(2===p)break;var E=X(c);if(Math.abs(E)<1e-12)break;for(var D,B,F=0;F<s;++F)D=c[F]/(6*E),h[F]=1<=D?1e-12:(B=1-D*D)*B}return function(t,e,i,n){for(var o,r=t.length,a=[],s=0,l=0,u=[];s<r;++s)o=t[s]+i,u[0]===o?u[1]+=(e[s]-u[1])/++l:(l=0,u[1]+=n,u=[o,e[s]],a.push(u));return u[1]+=n,a}(n,u,r,a)}return e.bandwidth=function(t){return arguments.length?(N=t,e):N},e.x=function(t){return arguments.length?(I=t,e):I},e.y=function(t){return arguments.length?(R=t,e):R},e};function V(t,e,i){var n=t[e],o=i[0],r=i[1]+1;if(!(r>=t.length))for(;o<e&&t[r]-n<=n-t[o];)i[0]=++o,i[1]=r,++r}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a=function(){var g,y=function(t){return t[0]},v=function(t){return t[1]};function e(t){var n=0,o=0,r=0,a=0,s=0,l=g?+g[0]:1/0,u=g?+g[1]:-1/0;k(t,y,v,function(t,e){var i=Math.log(t);o+=(i-o)/++n,r+=(e-r)/n,a+=(i*e-a)/n,s+=(i*i-s)/n,g||(t<l&&(l=t),u<t&&(u=t))});function e(t){return f*Math.log(t)+p}var i,c,h=(i=G(o,r,a,s),c=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}(i,c)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(t,e):void 0}}(i,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1],d=D(l,u,e);return d.a=f,d.b=p,d.predict=e,d.rSquared=E(t,y,v,r,e),d}return e.domain=function(t){return arguments.length?(g=t,e):g},e.x=function(t){return arguments.length?(y=t,e):y},e.y=function(t){return arguments.length?(v=t,e):v},e};function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var L=function(){var P,T=function(t){return t[0]},L=function(t){return t[1]};function e(t){for(var e,i,n,o,r,a=(o=Y(t,T,L),r=4,function(t){if(Array.isArray(t))return t}(o)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}(o,r)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?B(t,e):void 0}}(o,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1],u=a[2],c=a[3],h=s.length,p=0,f=0,d=0,g=0,y=0,v=0;v<h;)e=s[v],i=l[v++],p+=((n=e*e)-p)/v,f+=(n*e-f)/v,d+=(n*n-d)/v,g+=(e*i-g)/v,y+=(n*i-y)/v;var m=0,x=0,b=P?+P[0]:1/0,_=P?+P[1]:-1/0;k(t,T,L,function(t,e){m+=(e-m)/++x,P||(t<b&&(b=t),_<t&&(_=t))});function M(t){return C*(t-=u)*t+S*t+j+c}var O=d-p*p,w=p*O-f*f,C=(y*p-g*f)/w,S=(g*O-y*f)/w,j=-C*p,A=D(b,_,M);return A.a=C,A.b=S-2*C*u,A.c=j-S*u+C*u*u+c,A.predict=M,A.rSquared=E(t,T,L,m,M),A}return e.domain=function(t){return arguments.length?(P=t,e):P},e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(L=t,e):L},e};function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var s=function(){var S,j=function(t){return t[0]},A=function(t){return t[1]},P=3;function e(t){if(1===P){var e=T().x(j).y(A).domain(S)(t);return e.coefficients=[e.b,e.a],delete e.a,delete e.b,e}if(2===P){var i=L().x(j).y(A).domain(S)(t);return i.coefficients=[i.c,i.b,i.a],delete i.a,delete i.b,delete i.c,i}var n,o,r,a,s,l,u,c=(l=Y(t,j,A),u=4,function(t){if(Array.isArray(t))return t}(l)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}(l,u)||function(t,e){if(t){if("string"==typeof t)return F(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?F(t,e):void 0}}(l,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=c[0],p=c[1],f=c[2],d=c[3],g=h.length,y=[],v=[],m=P+1,x=0,b=0,_=S?+S[0]:1/0,M=S?+S[1]:-1/0;for(k(t,j,A,function(t,e){x+=(e-x)/++b,S||(t<_&&(_=t),M<t&&(M=t))}),n=0;n<m;++n){for(a=r=0;r<g;++r)a+=Math.pow(h[r],n)*p[r];for(y.push(a),s=new Float64Array(m),o=0;o<m;++o){for(a=r=0;r<g;++r)a+=Math.pow(h[r],n+o);s[o]=a}v.push(s)}v.push(y);function O(t){t-=f;var e=d+w[0]+w[1]*t+w[2]*t*t;for(n=3;n<m;++n)e+=w[n]*Math.pow(t,n);return e}var w=function(t){for(var e,i,n,o,r=t.length-1,a=[],s=0;s<r;++s){for(e=(n=s)+1;e<r;++e)Math.abs(t[s][e])>Math.abs(t[s][n])&&(n=e);for(i=s;i<1+r;++i)o=t[i][s],t[i][s]=t[i][n],t[i][n]=o;for(e=s+1;e<r;++e)for(i=r;s<=i;i--)t[i][e]-=t[i][s]*t[s][e]/t[s][s]}for(e=r-1;0<=e;--e){for(o=0,i=e+1;i<r;++i)o+=t[i][e]*a[i];a[e]=(t[r][e]-o)/t[e][e]}return a}(v),C=D(_,M,O);return C.coefficients=function(t,e,i,n){for(var o,r,a,s=Array(t),l=0;l<t;++l)s[l]=0;for(l=t-1;0<=l;--l)for(r=e[l],a=1,s[l]+=r,o=1;o<=l;++o)a*=(l+1-o)/o,s[l-o]+=r*Math.pow(i,o)*a;return s[0]+=n,s}(m,w,-f,d),C.predict=O,C.rSquared=E(t,j,A,x,O),C}return e.domain=function(t){return arguments.length?(S=t,e):S},e.x=function(t){return arguments.length?(j=t,e):j},e.y=function(t){return arguments.length?(A=t,e):A},e.order=function(t){return arguments.length?(P=t,e):P},e};function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l=function(){var y,v=function(t){return t[0]},m=function(t){return t[1]};function e(t){var o=0,r=0,a=0,s=0,l=0,u=0,c=y?+y[0]:1/0,h=y?+y[1]:-1/0;k(t,v,m,function(t,e){var i=Math.log(t),n=Math.log(e);r+=(i-r)/++o,a+=(n-a)/o,s+=(i*n-s)/o,l+=(i*i-l)/o,u+=(e-u)/o,y||(t<c&&(c=t),h<t&&(h=t))});function e(t){return f*Math.pow(t,d)}var i,n,p=(i=G(r,a,s,l),n=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}(i,n)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_(t,e):void 0}}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],d=p[1],f=Math.exp(f),g=D(c,h,e);return g.a=f,g.b=d,g.predict=e,g.rSquared=E(t,v,m,u,e),g}return e.domain=function(t){return arguments.length?(y=t,e):y},e.x=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(m=t,e):m},e}}],o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=159);function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var i,n});