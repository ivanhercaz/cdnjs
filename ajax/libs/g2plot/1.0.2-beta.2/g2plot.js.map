{"version":3,"sources":["webpack://G2Plot/webpack/universalModuleDefinition","webpack://G2Plot/webpack/bootstrap","webpack://G2Plot/../src/is-array-like.ts","webpack://G2Plot/../src/contains.ts","webpack://G2Plot/../src/is-type.ts","webpack://G2Plot/../src/is-array.ts","webpack://G2Plot/../src/is-object.ts","webpack://G2Plot/../src/each.ts","webpack://G2Plot/../src/filter.ts","webpack://G2Plot/../src/difference.ts","webpack://G2Plot/../src/is-function.ts","webpack://G2Plot/../src/is-nil.ts","webpack://G2Plot/../src/keys.ts","webpack://G2Plot/../src/is-match.ts","webpack://G2Plot/../src/is-object-like.ts","webpack://G2Plot/../src/is-plain-object.ts","webpack://G2Plot/../src/find.ts","webpack://G2Plot/../src/find-index.ts","webpack://G2Plot/../src/first-value.ts","webpack://G2Plot/../src/flatten.ts","webpack://G2Plot/../src/flatten-deep.ts","webpack://G2Plot/../src/get-range.ts","webpack://G2Plot/../src/pull.ts","webpack://G2Plot/../src/pull-at.ts","webpack://G2Plot/../src/reduce.ts","webpack://G2Plot/../src/remove.ts","webpack://G2Plot/../src/is-string.ts","webpack://G2Plot/../src/sort-by.ts","webpack://G2Plot/../src/uniq.ts","webpack://G2Plot/../src/union.ts","webpack://G2Plot/../src/values-of-key.ts","webpack://G2Plot/../src/head.ts","webpack://G2Plot/../src/last.ts","webpack://G2Plot/../src/starts-with.ts","webpack://G2Plot/../src/ends-with.ts","webpack://G2Plot/../src/every.ts","webpack://G2Plot/../src/some.ts","webpack://G2Plot/../src/group-by.ts","webpack://G2Plot/../src/group-to-map.ts","webpack://G2Plot/../src/group.ts","webpack://G2Plot/../src/get-wrap-behavior.ts","webpack://G2Plot/../src/wrap-behavior.ts","webpack://G2Plot/../src/number2color.ts","webpack://G2Plot/../src/parse-radius.ts","webpack://G2Plot/../src/clamp.ts","webpack://G2Plot/../src/fixed-base.ts","webpack://G2Plot/../src/is-number.ts","webpack://G2Plot/../src/is-decimal.ts","webpack://G2Plot/../src/is-even.ts","webpack://G2Plot/../src/is-integer.ts","webpack://G2Plot/../src/is-negative.ts","webpack://G2Plot/../src/is-number-equal.ts","webpack://G2Plot/../src/is-odd.ts","webpack://G2Plot/../src/is-positive.ts","webpack://G2Plot/../src/max-by.ts","webpack://G2Plot/../src/min-by.ts","webpack://G2Plot/../src/mod.ts","webpack://G2Plot/../src/to-degree.ts","webpack://G2Plot/../src/to-integer.ts","webpack://G2Plot/../src/to-radian.ts","webpack://G2Plot/../src/for-in.ts","webpack://G2Plot/../src/has.ts","webpack://G2Plot/../src/has-key.ts","webpack://G2Plot/../src/values.ts","webpack://G2Plot/../src/has-value.ts","webpack://G2Plot/../src/to-string.ts","webpack://G2Plot/../src/lower-case.ts","webpack://G2Plot/../src/lower-first.ts","webpack://G2Plot/../src/substitute.ts","webpack://G2Plot/../src/upper-case.ts","webpack://G2Plot/../src/upper-first.ts","webpack://G2Plot/../src/get-type.ts","webpack://G2Plot/../src/is-arguments.ts","webpack://G2Plot/../src/is-boolean.ts","webpack://G2Plot/../src/is-date.ts","webpack://G2Plot/../src/is-error.ts","webpack://G2Plot/../src/is-finite.ts","webpack://G2Plot/../src/is-null.ts","webpack://G2Plot/../src/is-prototype.ts","webpack://G2Plot/../src/is-reg-exp.ts","webpack://G2Plot/../src/is-undefined.ts","webpack://G2Plot/../src/is-element.ts","webpack://G2Plot/../src/request-animation-frame.ts","webpack://G2Plot/../src/clear-animation-frame.ts","webpack://G2Plot/../src/mix.ts","webpack://G2Plot/../src/augment.ts","webpack://G2Plot/../src/clone.ts","webpack://G2Plot/../src/debounce.ts","webpack://G2Plot/../src/memoize.ts","webpack://G2Plot/../src/deep-mix.ts","webpack://G2Plot/../src/extend.ts","webpack://G2Plot/../src/index-of.ts","webpack://G2Plot/../src/is-empty.ts","webpack://G2Plot/../src/is-equal.ts","webpack://G2Plot/../src/is-equal-with.ts","webpack://G2Plot/../src/map.ts","webpack://G2Plot/../src/map-values.ts","webpack://G2Plot/../src/get.ts","webpack://G2Plot/../src/set.ts","webpack://G2Plot/../src/pick.ts","webpack://G2Plot/../src/throttle.ts","webpack://G2Plot/../src/to-array.ts","webpack://G2Plot/../src/unique-id.ts","webpack://G2Plot/../src/noop.ts","webpack://G2Plot/../src/identity.ts","webpack://G2Plot/../src/size.ts","webpack://G2Plot/../src/cache.ts","webpack://G2Plot/./node_modules/_tslib@1.11.1@tslib/tslib.es6.js","webpack://G2Plot/../src/mat3.ts","webpack://G2Plot/../src/vec2.ts","webpack://G2Plot/../src/vec3.ts","webpack://G2Plot/../src/transform.ts","webpack://G2Plot/./src/base/plot.ts","webpack://G2Plot/./src/base/global.ts","webpack://G2Plot/../src/line.ts","webpack://G2Plot/../src/add-event-listener.ts","webpack://G2Plot/../src/create-dom.ts","webpack://G2Plot/../src/get-style.ts","webpack://G2Plot/../src/get-height.ts","webpack://G2Plot/../src/get-outer-height.ts","webpack://G2Plot/../src/get-width.ts","webpack://G2Plot/../src/get-outer-width.ts","webpack://G2Plot/../src/get-ratio.ts","webpack://G2Plot/../src/modify-css.ts","webpack://G2Plot/../../src/util/path.ts","webpack://G2Plot/../../src/event/graph-event.ts","webpack://G2Plot/../../src/util/util.ts","webpack://G2Plot/../../src/abstract/base.ts","webpack://G2Plot/../../src/util/matrix.ts","webpack://G2Plot/../../src/abstract/element.ts","webpack://G2Plot/../../src/abstract/container.ts","webpack://G2Plot/../../src/animate/timeline.ts","webpack://G2Plot/../../src/util/color.ts","webpack://G2Plot/../../src/abstract/canvas.ts","webpack://G2Plot/../../src/abstract/group.ts","webpack://G2Plot/../../src/abstract/shape.ts","webpack://G2Plot/../src/index.ts","webpack://G2Plot/./src/util/event.ts","webpack://G2Plot/./node_modules/_@antv_gl-matrix@2.7.1@@antv/gl-matrix/lib/gl-matrix/mat3.js","webpack://G2Plot/./src/dependents.ts","webpack://G2Plot/./src/theme/index.ts","webpack://G2Plot/./src/base/view-layer.ts","webpack://G2Plot/./src/util/bbox.ts","webpack://G2Plot/./src/geoms/factory.ts","webpack://G2Plot/../../src/abstract/component.ts","webpack://G2Plot/../../src/abstract/group-component.ts","webpack://G2Plot/../../src/util/event.ts","webpack://G2Plot/../../src/util/theme.ts","webpack://G2Plot/../../src/annotation/line.ts","webpack://G2Plot/../../src/annotation/text.ts","webpack://G2Plot/../../src/annotation/arc.ts","webpack://G2Plot/../../src/annotation/region.ts","webpack://G2Plot/../../src/annotation/image.ts","webpack://G2Plot/../../src/annotation/data-marker.ts","webpack://G2Plot/../../src/annotation/data-region.ts","webpack://G2Plot/../../src/annotation/region-filter.ts","webpack://G2Plot/../../src/util/state.ts","webpack://G2Plot/../../src/axis/base.ts","webpack://G2Plot/../../../src/axis/overlap/auto-ellipsis.ts","webpack://G2Plot/../../src/util/label.ts","webpack://G2Plot/../../../src/axis/overlap/auto-hide.ts","webpack://G2Plot/../../../src/axis/overlap/auto-rotate.ts","webpack://G2Plot/../../src/axis/line.ts","webpack://G2Plot/../../src/axis/circle.ts","webpack://G2Plot/../../src/crosshair/base.ts","webpack://G2Plot/../../src/crosshair/line.ts","webpack://G2Plot/../../src/crosshair/circle.ts","webpack://G2Plot/../../src/grid/base.ts","webpack://G2Plot/../../src/grid/circle.ts","webpack://G2Plot/../../src/grid/line.ts","webpack://G2Plot/../../src/legend/base.ts","webpack://G2Plot/../../src/legend/category.ts","webpack://G2Plot/../../src/legend/continuous.ts","webpack://G2Plot/../../src/abstract/html-component.ts","webpack://G2Plot/../../src/tooltip/css-const.ts","webpack://G2Plot/../../src/tooltip/html-theme.ts","webpack://G2Plot/../../src/tooltip/html.ts","webpack://G2Plot/../../src/util/align.ts","webpack://G2Plot/../../src/trend/constant.ts","webpack://G2Plot/../src/base.ts","webpack://G2Plot/../src/factory.ts","webpack://G2Plot/../../src/util/extended.ts","webpack://G2Plot/../src/category.ts","webpack://G2Plot/../src/linear.ts","webpack://G2Plot/../src/linear-log.ts","webpack://G2Plot/../src/linear-pow.ts","webpack://G2Plot/../src/time.ts","webpack://G2Plot/../../src/util/bisector.ts","webpack://G2Plot/../../src/util/pretty.ts","webpack://G2Plot/../src/timeCat.ts","webpack://G2Plot/../../src/trend/path.ts","webpack://G2Plot/../../src/trend/trend.ts","webpack://G2Plot/../../src/slider/constant.ts","webpack://G2Plot/../../src/slider/handler.ts","webpack://G2Plot/../../src/slider/slider.ts","webpack://G2Plot/../../src/scrollbar/scrollbar.ts","webpack://G2Plot/./src/components/factory.ts","webpack://G2Plot/../src/cubic.ts","webpack://G2Plot/../../src/tick-method/register.ts","webpack://G2Plot/../../src/category/base.ts","webpack://G2Plot/../../src/util/time.ts","webpack://G2Plot/../../src/category/time.ts","webpack://G2Plot/../../src/continuous/base.ts","webpack://G2Plot/../../src/continuous/linear.ts","webpack://G2Plot/../../src/util/math.ts","webpack://G2Plot/../../src/continuous/log.ts","webpack://G2Plot/../../src/continuous/pow.ts","webpack://G2Plot/../../src/continuous/time.ts","webpack://G2Plot/../../src/continuous/quantize.ts","webpack://G2Plot/../../src/continuous/quantile.ts","webpack://G2Plot/../../src/identity/index.ts","webpack://G2Plot/../../src/tick-method/cat.ts","webpack://G2Plot/../../src/util/d3-linear.ts","webpack://G2Plot/../../src/util/interval.ts","webpack://G2Plot/../../src/util/strict-limit.ts","webpack://G2Plot/../../src/tick-method/quantile.ts","webpack://G2Plot/../../src/tick-method/time-pretty.ts","webpack://G2Plot/../../src/tick-method/index.ts","webpack://G2Plot/../../src/tick-method/time-cat.ts","webpack://G2Plot/../../src/tick-method/linear.ts","webpack://G2Plot/../../src/tick-method/r-prettry.ts","webpack://G2Plot/../../src/tick-method/time.ts","webpack://G2Plot/../../src/tick-method/log.ts","webpack://G2Plot/../../src/tick-method/pow.ts","webpack://G2Plot/../../src/tick-method/d3-linear.ts","webpack://G2Plot/./node_modules/_@antv_gl-matrix@2.7.1@@antv/gl-matrix/lib/gl-matrix/vec2.js","webpack://G2Plot/../src/util.ts","webpack://G2Plot/./src/util/math.ts","webpack://G2Plot/./src/util/scale.ts","webpack://G2Plot/./node_modules/_warning@4.0.3@warning/warning.js","webpack://G2Plot/./src/util/color.ts","webpack://G2Plot/../src/constant.ts","webpack://G2Plot/../../src/engine/index.ts","webpack://G2Plot/../../src/util/dom.ts","webpack://G2Plot/../../src/attributes/base.ts","webpack://G2Plot/../../src/attributes/color.ts","webpack://G2Plot/../../src/attributes/opacity.ts","webpack://G2Plot/../../src/attributes/position.ts","webpack://G2Plot/../../src/attributes/shape.ts","webpack://G2Plot/../../src/attributes/size.ts","webpack://G2Plot/../src/dependents.ts","webpack://G2Plot/../../src/util/scale.ts","webpack://G2Plot/../../src/util/axis.ts","webpack://G2Plot/../../src/facet/facet.ts","webpack://G2Plot/../../src/facet/index.ts","webpack://G2Plot/../../../src/interaction/action/base.ts","webpack://G2Plot/../../../src/interaction/action/callback.ts","webpack://G2Plot/../../../src/interaction/action/register.ts","webpack://G2Plot/../../src/util/graphics.ts","webpack://G2Plot/../../src/util/helper.ts","webpack://G2Plot/../../src/util/coordinate.ts","webpack://G2Plot/../../../../src/geometry/shape/util/path.ts","webpack://G2Plot/../../src/util/padding.ts","webpack://G2Plot/../../src/util/bbox.ts","webpack://G2Plot/../../../src/interaction/action/util.ts","webpack://G2Plot/../../src/interaction/context.ts","webpack://G2Plot/../../src/interaction/interaction.ts","webpack://G2Plot/../../src/interaction/grammar-interaction.ts","webpack://G2Plot/../../src/interaction/index.ts","webpack://G2Plot/../../src/theme/default.ts","webpack://G2Plot/../../../src/theme/style-sheet/light.ts","webpack://G2Plot/../../src/theme/index.ts","webpack://G2Plot/../../src/util/tooltip.ts","webpack://G2Plot/../../../src/chart/controller/index.ts","webpack://G2Plot/../../../src/chart/controller/coordinate.ts","webpack://G2Plot/../../src/chart/event.ts","webpack://G2Plot/../../../src/chart/layout/padding-cal.ts","webpack://G2Plot/../../../src/chart/layout/auto.ts","webpack://G2Plot/../../../src/chart/layout/index.ts","webpack://G2Plot/../../../src/chart/util/scale-pool.ts","webpack://G2Plot/../../src/chart/view.ts","webpack://G2Plot/../../src/chart/chart.ts","webpack://G2Plot/../../../src/chart/controller/base.ts","webpack://G2Plot/../../src/adjusts/adjust.ts","webpack://G2Plot/../../src/adjusts/dodge.ts","webpack://G2Plot/../../src/adjusts/jitter.ts","webpack://G2Plot/../../src/adjusts/stack.ts","webpack://G2Plot/../../src/adjusts/symmetric.ts","webpack://G2Plot/../../../src/animate/animation/index.ts","webpack://G2Plot/../../src/animate/index.ts","webpack://G2Plot/../../../src/geometry/label/index.ts","webpack://G2Plot/../../src/util/transform.ts","webpack://G2Plot/../../src/component/labels.ts","webpack://G2Plot/../../../src/geometry/element/index.ts","webpack://G2Plot/../../../src/geometry/shape/base.ts","webpack://G2Plot/../../../src/geometry/util/is-model-change.ts","webpack://G2Plot/../../../src/geometry/util/parse-fields.ts","webpack://G2Plot/../../src/geometry/base.ts","webpack://G2Plot/../../../src/geometry/util/group-data.ts","webpack://G2Plot/../../../src/geometry/label/base.ts","webpack://G2Plot/../src/core.ts","webpack://G2Plot/../../../src/theme/style-sheet/dark.ts","webpack://G2Plot/../../src/util/parse.ts","webpack://G2Plot/../../src/util/arc-params.ts","webpack://G2Plot/../../src/util/arrow.ts","webpack://G2Plot/../../src/util/draw.ts","webpack://G2Plot/../../src/shape/base.ts","webpack://G2Plot/../../src/shape/circle.ts","webpack://G2Plot/../../src/shape/ellipse.ts","webpack://G2Plot/../../src/shape/image.ts","webpack://G2Plot/../../../src/util/in-stroke/line.ts","webpack://G2Plot/../../src/shape/line.ts","webpack://G2Plot/../../src/shape/marker.ts","webpack://G2Plot/../../../src/util/in-path/point-in-path.ts","webpack://G2Plot/../../../src/util/in-path/polygon.ts","webpack://G2Plot/../../../src/util/in-stroke/arc.ts","webpack://G2Plot/../../src/shape/path.ts","webpack://G2Plot/../../../src/util/in-stroke/polyline.ts","webpack://G2Plot/../../src/shape/polygon.ts","webpack://G2Plot/../../src/shape/polyline.ts","webpack://G2Plot/../../src/shape/rect.ts","webpack://G2Plot/../../../src/util/in-stroke/rect-radius.ts","webpack://G2Plot/../../../src/util/in-stroke/rect.ts","webpack://G2Plot/../../src/shape/text.ts","webpack://G2Plot/../src/canvas.ts","webpack://G2Plot/../../src/util/svg.ts","webpack://G2Plot/../../src/shape/dom.ts","webpack://G2Plot/../../../src/shape/marker/symbols.ts","webpack://G2Plot/../../../src/shape/marker/index.ts","webpack://G2Plot/../../src/util/format.ts","webpack://G2Plot/../../src/defs/gradient.ts","webpack://G2Plot/../../src/defs/shadow.ts","webpack://G2Plot/../../src/defs/arrow.ts","webpack://G2Plot/../../src/defs/clip.ts","webpack://G2Plot/../../src/defs/pattern.ts","webpack://G2Plot/../../src/defs/index.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-path-points.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-style.ts","webpack://G2Plot/../../../../src/geometry/shape/util/split-points.ts","webpack://G2Plot/../../../../src/geometry/shape/line/util.ts","webpack://G2Plot/../../../../src/geometry/shape/line/index.ts","webpack://G2Plot/../../src/geometry/path.ts","webpack://G2Plot/../../../../src/geometry/shape/area/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/index.ts","webpack://G2Plot/../../src/geometry/area.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/index.ts","webpack://G2Plot/../../src/geometry/edge.ts","webpack://G2Plot/../../src/geometry/heatmap.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/util.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/index.ts","webpack://G2Plot/../../../src/geometry/util/shape-size.ts","webpack://G2Plot/../../src/geometry/interval.ts","webpack://G2Plot/../../src/geometry/line.ts","webpack://G2Plot/../../src/util/marker.ts","webpack://G2Plot/../../../../src/geometry/shape/point/util.ts","webpack://G2Plot/../../../../src/geometry/shape/point/index.ts","webpack://G2Plot/../../src/geometry/point.ts","webpack://G2Plot/../../../../src/geometry/shape/polygon/index.ts","webpack://G2Plot/../../src/geometry/polygon.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/index.ts","webpack://G2Plot/../../src/geometry/schema.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/line.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth-line.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/arc.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/vhv.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/funnel.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/line.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/pyramid.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/tick.ts","webpack://G2Plot/../../../../src/geometry/shape/line/step.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/box.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/candle.ts","webpack://G2Plot/../../../../src/geometry/shape/point/hollow.ts","webpack://G2Plot/../../../../src/geometry/shape/point/image.ts","webpack://G2Plot/../../../../src/geometry/shape/point/solid.ts","webpack://G2Plot/../../../src/geometry/label/interval.ts","webpack://G2Plot/../../../src/geometry/label/polar.ts","webpack://G2Plot/../../../src/geometry/label/pie.ts","webpack://G2Plot/../../../../src/geometry/label/layout/overlap.ts","webpack://G2Plot/../../../src/animate/animation/util.ts","webpack://G2Plot/../../../src/animate/animation/sector-path-update.ts","webpack://G2Plot/../../../src/animate/animation/zoom.ts","webpack://G2Plot/../../src/util/facet.ts","webpack://G2Plot/../../src/facet/circle.ts","webpack://G2Plot/../../src/facet/list.ts","webpack://G2Plot/../../src/facet/matrix.ts","webpack://G2Plot/../../src/facet/mirror.ts","webpack://G2Plot/../../src/facet/rect.ts","webpack://G2Plot/../../src/facet/tree.ts","webpack://G2Plot/../../../src/chart/controller/annotation.ts","webpack://G2Plot/../../src/util/grid.ts","webpack://G2Plot/../../../src/chart/controller/axis.ts","webpack://G2Plot/../../src/util/direction.ts","webpack://G2Plot/../../src/util/attr.ts","webpack://G2Plot/../../src/util/legend.ts","webpack://G2Plot/../../../src/chart/controller/legend.ts","webpack://G2Plot/../../../src/chart/controller/slider.ts","webpack://G2Plot/../../../src/chart/controller/tooltip.ts","webpack://G2Plot/../../../src/interaction/action/active-region.ts","webpack://G2Plot/../../../../src/interaction/action/component/tooltip.ts","webpack://G2Plot/../../../../src/interaction/action/component/sibling-tooltp.ts","webpack://G2Plot/../../../../src/interaction/action/element/state-base.ts","webpack://G2Plot/../../../../src/interaction/action/element/state.ts","webpack://G2Plot/../../../../src/interaction/action/element/active.ts","webpack://G2Plot/../../../../src/interaction/action/element/link-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-state.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-active.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-unchecked.ts","webpack://G2Plot/../../../../src/interaction/action/mask/base.ts","webpack://G2Plot/../../../../src/interaction/action/mask/circle.ts","webpack://G2Plot/../../../../src/interaction/action/mask/rect.ts","webpack://G2Plot/../../../../src/interaction/action/mask/dim-rect.ts","webpack://G2Plot/../../../../src/interaction/action/mask/path.ts","webpack://G2Plot/../../../../src/interaction/action/mask/smooth-path.ts","webpack://G2Plot/../../../src/interaction/action/cursor.ts","webpack://G2Plot/../../../../src/interaction/action/data/filter.ts","webpack://G2Plot/../../../../src/interaction/action/data/range-filter.ts","webpack://G2Plot/../../../../src/interaction/action/data/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/view/button.ts","webpack://G2Plot/../../../../src/interaction/action/view/drag.ts","webpack://G2Plot/../../../../src/interaction/action/view/move.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-transform.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-translate.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-zoom.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://G2Plot/../../../src/animate/animation/fade.ts","webpack://G2Plot/../../../src/animate/animation/grow-in.ts","webpack://G2Plot/../../../src/animate/animation/scale-in.ts","webpack://G2Plot/../../../src/animate/animation/wave-in.ts","webpack://G2Plot/../../../src/animate/animation/position-update.ts","webpack://G2Plot/../../../src/animate/animation/path-in.ts","webpack://G2Plot/./node_modules/_fecha@3.0.3@fecha/src/fecha.js","webpack://G2Plot/../src/path-2-absolute.ts","webpack://G2Plot/../src/polyline.ts","webpack://G2Plot/./src/theme/global.ts","webpack://G2Plot/./src/util/responsive/rules/text-hide.ts","webpack://G2Plot/../src/quadratic.ts","webpack://G2Plot/../src/path-2-segments.ts","webpack://G2Plot/./node_modules/_@antv_gl-matrix@2.7.1@@antv/gl-matrix/lib/gl-matrix/vec3.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/numberArray.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/linear.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/quad.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/cubic.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/poly.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/sin.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/exp.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/circle.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/bounce.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/back.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.6@d3-ease/src/elastic.js","webpack://G2Plot/./src/base/layer.ts","webpack://G2Plot/./src/util/common.ts","webpack://G2Plot/./src/interaction/base.ts","webpack://G2Plot/./src/util/responsive/theme.ts","webpack://G2Plot/./src/geoms/base.ts","webpack://G2Plot/./src/util/responsive/apply/axis.ts","webpack://G2Plot/./src/util/g-util.ts","webpack://G2Plot/./src/plots/column/layer.ts","webpack://G2Plot/./src/sparkline/tiny-layer.ts","webpack://G2Plot/../../src/coord/base.ts","webpack://G2Plot/../../src/coord/cartesian.ts","webpack://G2Plot/../../src/coord/helix.ts","webpack://G2Plot/../../src/coord/polar.ts","webpack://G2Plot/external \"moment\"","webpack://G2Plot/./src/base/controller/state.ts","webpack://G2Plot/./src/plots/bar/layer.ts","webpack://G2Plot/./src/plots/pie/component/label/base-label.ts","webpack://G2Plot/./src/plots/pie/component/label/utils/index.ts","webpack://G2Plot/./src/plots/calendar/constant.ts","webpack://G2Plot/../../src/bbox/index.ts","webpack://G2Plot/../../src/util/text.ts","webpack://G2Plot/../../src/event/event-contoller.ts","webpack://G2Plot/./node_modules/_detect-browser@4.8.0@detect-browser/index.js","webpack://G2Plot/../src/catmull-rom-2-bezier.ts","webpack://G2Plot/../src/parse-path-string.ts","webpack://G2Plot/./node_modules/_@antv_gl-matrix@2.7.1@@antv/gl-matrix/lib/gl-matrix/common.js","webpack://G2Plot/../../src/bbox/util.ts","webpack://G2Plot/./src/interaction/core.ts","webpack://G2Plot/./src/util/path.ts","webpack://G2Plot/./src/geoms/line/main.ts","webpack://G2Plot/./src/util/responsive/responsive.ts","webpack://G2Plot/./src/plots/stacked-bar/layer.ts","webpack://G2Plot/./src/util/data.ts","webpack://G2Plot/./src/plots/area/layer.ts","webpack://G2Plot/./src/plots/stacked-area/layer.ts","webpack://G2Plot/./src/plots/column/component/label.ts","webpack://G2Plot/./src/plots/stacked-column/layer.ts","webpack://G2Plot/./src/plots/rose/layer.ts","webpack://G2Plot/./src/plots/waterfall/layer.ts","webpack://G2Plot/./src/util/date.ts","webpack://G2Plot/./src/plots/gauge/layer.ts","webpack://G2Plot/./src/plots/gauge/geometry/shape/options.ts","webpack://G2Plot/./src/interface/config.ts","webpack://G2Plot/../src/bezier.ts","webpack://G2Plot/../src/arc.ts","webpack://G2Plot/../src/get-arc-params.ts","webpack://G2Plot/./src/util/formatter.ts","webpack://G2Plot/./src/util/state-manager.ts","webpack://G2Plot/./src/interaction/helper/data-range.ts","webpack://G2Plot/./src/base/controller/theme.ts","webpack://G2Plot/./src/theme/default.ts","webpack://G2Plot/./src/plots/index.ts","webpack://G2Plot/./src/plots/line/layer.ts","webpack://G2Plot/./src/geoms/area/main.ts","webpack://G2Plot/./src/geoms/line/mini.ts","webpack://G2Plot/./src/util/responsive/node/shape-nodes.ts","webpack://G2Plot/./src/util/responsive/constraints/index.ts","webpack://G2Plot/./src/util/responsive/rules/index.ts","webpack://G2Plot/./src/util/responsive/rules/clear-overlapping.ts","webpack://G2Plot/./src/util/responsive/rules/datetime-string-abbrevaite.ts","webpack://G2Plot/./src/util/responsive/rules/digits-abbreviate.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling.ts","webpack://G2Plot/./src/util/responsive/rules/text-abbreviate.ts","webpack://G2Plot/./src/util/responsive/apply/base.ts","webpack://G2Plot/./src/util/responsive/apply/label.ts","webpack://G2Plot/./src/plots/line/component/label/line-label.ts","webpack://G2Plot/./src/components/conversion-tag.ts","webpack://G2Plot/./src/plots/bar/component/label.ts","webpack://G2Plot/./src/plots/grouped-bar/layer.ts","webpack://G2Plot/./src/plots/percent-stacked-bar/layer.ts","webpack://G2Plot/./src/plots/percent-stacked-area/layer.ts","webpack://G2Plot/./src/plots/column/event.ts","webpack://G2Plot/./src/plots/grouped-column/layer.ts","webpack://G2Plot/./src/plots/percent-stacked-column/layer.ts","webpack://G2Plot/./src/plots/pie/layer.ts","webpack://G2Plot/./src/plots/pie/component/label/index.ts","webpack://G2Plot/./src/plots/donut/layer.ts","webpack://G2Plot/./src/plots/waterfall/component/label/waterfall-label.ts","webpack://G2Plot/./src/plots/scatter/layer.ts","webpack://G2Plot/./src/plots/scatter/event.ts","webpack://G2Plot/./src/sparkline/progress/layer.ts","webpack://G2Plot/./src/combo-plots/util/adjustColorConfig.ts","webpack://G2Plot/./src/combo-plots/util/padding.ts","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/array.js","webpack://G2Plot/../src/is-polygons-intersect.ts","webpack://G2Plot/./node_modules/_d3-color@1.4.0@d3-color/src/define.js","webpack://G2Plot/./node_modules/_d3-color@1.4.0@d3-color/src/color.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/basis.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/constant.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/color.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/rgb.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/basisClosed.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/date.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/number.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/object.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/string.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/value.js","webpack://G2Plot/./src/index.ts","webpack://G2Plot/../../src/bbox/register.ts","webpack://G2Plot/../../src/bbox/rect.ts","webpack://G2Plot/../../src/bbox/circle.ts","webpack://G2Plot/../../src/bbox/polyline.ts","webpack://G2Plot/../../src/bbox/polygon.ts","webpack://G2Plot/../../src/bbox/text.ts","webpack://G2Plot/../../src/util/offscreen.ts","webpack://G2Plot/../../src/bbox/path.ts","webpack://G2Plot/../src/ellipse.ts","webpack://G2Plot/../src/parse-path.ts","webpack://G2Plot/../../src/bbox/line.ts","webpack://G2Plot/../../src/bbox/ellipse.ts","webpack://G2Plot/../src/segments.ts","webpack://G2Plot/./node_modules/_process@0.11.10@process/browser.js","webpack://G2Plot/../src/interface.ts","webpack://G2Plot/../src/point-in-polygon.ts","webpack://G2Plot/../src/get-line-intersect.ts","webpack://G2Plot/../../src/bbox/points.ts","webpack://G2Plot/./src/components/description.ts","webpack://G2Plot/./src/components/axis/parser.ts","webpack://G2Plot/./src/components/guide-line.ts","webpack://G2Plot/./src/components/label/parser.ts","webpack://G2Plot/./src/components/axis/state.ts","webpack://G2Plot/./src/components/label/state.ts","webpack://G2Plot/./src/components/tooltip/state.ts","webpack://G2Plot/./src/interaction/index.ts","webpack://G2Plot/./src/interaction/scrollbar.ts","webpack://G2Plot/./src/interaction/slider.ts","webpack://G2Plot/./src/base/controller/padding.ts","webpack://G2Plot/./src/theme/dark.ts","webpack://G2Plot/./src/theme/theme.ts","webpack://G2Plot/./src/theme/utils.ts","webpack://G2Plot/./src/util/responsive/default.ts","webpack://G2Plot/./src/base/controller/canvas.ts","webpack://G2Plot/./node_modules/_resize-observer-polyfill@1.5.1@resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://G2Plot/(webpack)/buildin/global.js","webpack://G2Plot/./src/base/controller/event.ts","webpack://G2Plot/./src/plots/line/index.ts","webpack://G2Plot/./src/geoms/area/index.ts","webpack://G2Plot/./src/geoms/area/mini.ts","webpack://G2Plot/./src/geoms/interval/index.ts","webpack://G2Plot/./src/geoms/interval/main.ts","webpack://G2Plot/./src/geoms/line/index.ts","webpack://G2Plot/./src/geoms/line/guide.ts","webpack://G2Plot/./src/geoms/point/index.ts","webpack://G2Plot/./src/geoms/point/circle.ts","webpack://G2Plot/./src/geoms/point/guide.ts","webpack://G2Plot/./src/plots/line/animation/clipIn-with-data.ts","webpack://G2Plot/./src/plots/line/apply-responsive/index.ts","webpack://G2Plot/./src/plots/line/apply-responsive/axis.ts","webpack://G2Plot/./src/util/responsive/constraints/column-width.ts","webpack://G2Plot/./src/util/responsive/constraints/element-collision.ts","webpack://G2Plot/./src/util/responsive/constraints/element-dist.ts","webpack://G2Plot/./src/util/responsive/constraints/element-dist-vertical.ts","webpack://G2Plot/./src/util/responsive/constraints/element-width.ts","webpack://G2Plot/./src/util/responsive/constraints/min-ring-thickness.ts","webpack://G2Plot/./src/util/responsive/constraints/ring-thickness.ts","webpack://G2Plot/./src/util/responsive/rules/node-jitter.ts","webpack://G2Plot/./src/util/responsive/rules/node-jitter-upward.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling-by-abbrevate.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling-by-change.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling-by-state.ts","webpack://G2Plot/./src/util/responsive/rules/robust-abbrevaite.ts","webpack://G2Plot/./src/util/responsive/rules/text-rotation.ts","webpack://G2Plot/./src/util/responsive/rules/text-wrapper.ts","webpack://G2Plot/./src/plots/line/apply-responsive/label.ts","webpack://G2Plot/./src/plots/line/event.ts","webpack://G2Plot/./src/plots/line/theme.ts","webpack://G2Plot/./src/plots/line/apply-responsive/theme.ts","webpack://G2Plot/./src/plots/line/interaction/index.ts","webpack://G2Plot/./src/plots/line/interaction/line-active.ts","webpack://G2Plot/./src/plots/line/interaction/line-select.ts","webpack://G2Plot/./src/plots/treemap/index.ts","webpack://G2Plot/./src/plots/treemap/layer.ts","webpack://G2Plot/./src/plots/treemap/layout/squarify.ts","webpack://G2Plot/./src/plots/treemap/layout/dice.ts","webpack://G2Plot/./src/plots/treemap/layout/slice.ts","webpack://G2Plot/./src/plots/treemap/interaction/index.ts","webpack://G2Plot/./src/plots/treemap/interaction/drillDown.ts","webpack://G2Plot/./src/components/breadcrumb.ts","webpack://G2Plot/./src/components/base.ts","webpack://G2Plot/./src/plots/treemap/interaction/animation.ts","webpack://G2Plot/./src/plots/treemap/event.ts","webpack://G2Plot/./src/plots/treemap/components/label.ts","webpack://G2Plot/./src/plots/step-line/index.ts","webpack://G2Plot/./src/plots/step-line/layer.ts","webpack://G2Plot/./src/plots/bar/index.ts","webpack://G2Plot/./src/plots/bar/apply-responsive/index.ts","webpack://G2Plot/./src/plots/bar/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/bar/event.ts","webpack://G2Plot/./src/plots/bar/theme.ts","webpack://G2Plot/./src/plots/stacked-bar/index.ts","webpack://G2Plot/./src/plots/stacked-bar/component/label.ts","webpack://G2Plot/./src/plots/grouped-bar/index.ts","webpack://G2Plot/./src/plots/percent-stacked-bar/index.ts","webpack://G2Plot/./src/plots/range-bar/index.ts","webpack://G2Plot/./src/plots/range-bar/layer.ts","webpack://G2Plot/./src/plots/range-bar/component/label.ts","webpack://G2Plot/./src/plots/range-bar/animation.ts","webpack://G2Plot/./src/plots/area/index.ts","webpack://G2Plot/./src/plots/area/apply-responsive/index.ts","webpack://G2Plot/./src/plots/area/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/area/event.ts","webpack://G2Plot/./src/plots/area/theme.ts","webpack://G2Plot/./src/plots/stacked-area/index.ts","webpack://G2Plot/./src/plots/stacked-area/component/index.ts","webpack://G2Plot/./src/plots/stacked-area/component/label/line-label.ts","webpack://G2Plot/./src/plots/stacked-area/component/label/area-label.ts","webpack://G2Plot/./src/plots/percent-stacked-area/index.ts","webpack://G2Plot/./src/plots/column/index.ts","webpack://G2Plot/./src/plots/column/apply-responsive/index.ts","webpack://G2Plot/./src/plots/column/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/column/apply-responsive/label.ts","webpack://G2Plot/./src/plots/column/apply-responsive/theme.ts","webpack://G2Plot/./src/plots/column/theme.ts","webpack://G2Plot/./src/plots/grouped-column/index.ts","webpack://G2Plot/./src/plots/stacked-column/index.ts","webpack://G2Plot/./src/components/connected-area.ts","webpack://G2Plot/./src/plots/stacked-column/component/label.ts","webpack://G2Plot/./src/plots/range-column/index.ts","webpack://G2Plot/./src/plots/range-column/layer.ts","webpack://G2Plot/./src/plots/range-column/component/label.ts","webpack://G2Plot/./src/plots/range-column/animation.ts","webpack://G2Plot/./src/plots/percent-stacked-column/index.ts","webpack://G2Plot/./src/plots/pie/index.ts","webpack://G2Plot/./src/plots/pie/event.ts","webpack://G2Plot/./src/plots/pie/component/label/utils/text.ts","webpack://G2Plot/./src/plots/pie/component/label/inner-label.ts","webpack://G2Plot/./src/plots/pie/component/label/outer-label.ts","webpack://G2Plot/./src/plots/pie/component/label/outer-center-label.ts","webpack://G2Plot/./src/plots/pie/component/label/spider-label.ts","webpack://G2Plot/./src/plots/pie/theme.ts","webpack://G2Plot/./src/plots/density-heatmap/index.ts","webpack://G2Plot/./src/plots/density-heatmap/layer.ts","webpack://G2Plot/./src/geoms/heatmap/linear.ts","webpack://G2Plot/./src/plots/density-heatmap/components/index.ts","webpack://G2Plot/./src/plots/density-heatmap/components/background.ts","webpack://G2Plot/./src/plots/density-heatmap/components/legend.ts","webpack://G2Plot/./src/plots/density-heatmap/event.ts","webpack://G2Plot/./src/plots/heatmap/index.ts","webpack://G2Plot/./src/plots/heatmap/layer.ts","webpack://G2Plot/./src/plots/heatmap/shape.ts","webpack://G2Plot/./src/plots/heatmap/component/index.ts","webpack://G2Plot/./src/plots/heatmap/component/label.ts","webpack://G2Plot/./src/plots/heatmap/component/legend.ts","webpack://G2Plot/./src/plots/word-cloud/index.ts","webpack://G2Plot/./src/plots/word-cloud/layer.ts","webpack://G2Plot/./src/plots/word-cloud/word-cloud-tooltips.ts","webpack://G2Plot/./src/plots/word-cloud/wordcloud2.ts","webpack://G2Plot/./src/plots/rose/index.ts","webpack://G2Plot/./src/plots/rose/event.ts","webpack://G2Plot/./src/plots/funnel/index.ts","webpack://G2Plot/./src/plots/funnel/layer.ts","webpack://G2Plot/./src/plots/funnel/apply-responsive/index.ts","webpack://G2Plot/./src/plots/funnel/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/funnel/theme.ts","webpack://G2Plot/./src/plots/funnel/geometry/shape/funnel-basic-rect.ts","webpack://G2Plot/./src/plots/funnel/geometry/shape/funnel-dynamic-rect.ts","webpack://G2Plot/./src/plots/funnel/animation/funnel-scale-in-x.ts","webpack://G2Plot/./src/plots/funnel/animation/funnel-scale-in-y.ts","webpack://G2Plot/./src/plots/stacked-rose/index.ts","webpack://G2Plot/./src/plots/stacked-rose/layer.ts","webpack://G2Plot/./src/plots/grouped-rose/index.ts","webpack://G2Plot/./src/plots/grouped-rose/layer.ts","webpack://G2Plot/./src/plots/radar/index.ts","webpack://G2Plot/./src/plots/radar/layer.ts","webpack://G2Plot/./src/plots/radar/event.ts","webpack://G2Plot/./src/plots/radar/theme.ts","webpack://G2Plot/./src/plots/liquid/index.ts","webpack://G2Plot/./src/plots/liquid/layer.ts","webpack://G2Plot/./src/plots/liquid/event.ts","webpack://G2Plot/./src/plots/liquid/geometry/shape/liquid.ts","webpack://G2Plot/./src/plots/liquid/animation/liquid-move-in.ts","webpack://G2Plot/./src/plots/histogram/index.ts","webpack://G2Plot/./src/plots/histogram/layer.ts","webpack://G2Plot/./src/plots/density/index.ts","webpack://G2Plot/./src/plots/density/layer.ts","webpack://G2Plot/./src/plots/donut/index.ts","webpack://G2Plot/./src/plots/donut/apply-responsive/index.ts","webpack://G2Plot/./src/plots/donut/apply-responsive/geometry.ts","webpack://G2Plot/./src/util/responsive/node/variable-node.ts","webpack://G2Plot/./src/plots/donut/apply-responsive/theme.ts","webpack://G2Plot/./src/plots/donut/event.ts","webpack://G2Plot/./src/plots/donut/component/ring-statistic.ts","webpack://G2Plot/./src/plots/donut/component/statistic.ts","webpack://G2Plot/./src/plots/donut/component/statistic-template.ts","webpack://G2Plot/./src/plots/waterfall/index.ts","webpack://G2Plot/./src/plots/waterfall/geometry/shape/waterfall.ts","webpack://G2Plot/./src/plots/waterfall/event.ts","webpack://G2Plot/./src/plots/waterfall/component/label/diff-label.ts","webpack://G2Plot/./src/plots/scatter/index.ts","webpack://G2Plot/./src/plots/scatter/components/quadrant.ts","webpack://G2Plot/./src/plots/scatter/components/trendline.ts","webpack://G2Plot/./src/plots/scatter/theme.ts","webpack://G2Plot/./src/plots/bubble/index.ts","webpack://G2Plot/./src/plots/bubble/layer.ts","webpack://G2Plot/./src/plots/bubble/shape.ts","webpack://G2Plot/./src/plots/bubble/theme.ts","webpack://G2Plot/./src/plots/bullet/index.ts","webpack://G2Plot/./src/plots/bullet/layer.ts","webpack://G2Plot/./src/plots/bullet/event.ts","webpack://G2Plot/./src/plots/bullet/component/bulletRect.ts","webpack://G2Plot/./src/plots/bullet/component/bulletTarget.ts","webpack://G2Plot/./src/plots/bullet/theme.ts","webpack://G2Plot/./src/plots/calendar/index.ts","webpack://G2Plot/./src/plots/calendar/layer.ts","webpack://G2Plot/./src/plots/calendar/util.ts","webpack://G2Plot/./src/plots/calendar/event.ts","webpack://G2Plot/./src/plots/calendar/shape.ts","webpack://G2Plot/./src/plots/gauge/index.ts","webpack://G2Plot/./src/plots/gauge/theme.ts","webpack://G2Plot/./src/plots/gauge/options.ts","webpack://G2Plot/./src/plots/gauge/geometry/shape/gauge-shape.ts","webpack://G2Plot/./src/plots/gauge/event.ts","webpack://G2Plot/./src/plots/fan-gauge/index.ts","webpack://G2Plot/./src/plots/fan-gauge/layer.ts","webpack://G2Plot/./src/plots/meter-gauge/index.ts","webpack://G2Plot/./src/plots/meter-gauge/layer.ts","webpack://G2Plot/./src/plots/compatiblePlots/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/ring/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/group-column/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/group-bar/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/percentage-stack-area/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/percentage-stack-bar/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/percentage-stack-column/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/stack-area/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/stack-bar/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/stack-column/index.ts","webpack://G2Plot/./src/sparkline/progress/index.ts","webpack://G2Plot/./src/sparkline/progress/component/marker.ts","webpack://G2Plot/./src/sparkline/progress/event.ts","webpack://G2Plot/./src/sparkline/ring-progress/index.ts","webpack://G2Plot/./src/sparkline/ring-progress/layer.ts","webpack://G2Plot/./src/sparkline/ring-progress/event.ts","webpack://G2Plot/./src/sparkline/tiny-column/index.ts","webpack://G2Plot/./src/sparkline/tiny-column/layer.ts","webpack://G2Plot/./src/sparkline/tiny-column/event.ts","webpack://G2Plot/./src/sparkline/tiny-area/index.ts","webpack://G2Plot/./src/sparkline/tiny-area/layer.ts","webpack://G2Plot/./src/sparkline/tiny-area/event.ts","webpack://G2Plot/./src/sparkline/tiny-line/index.ts","webpack://G2Plot/./src/sparkline/tiny-line/layer.ts","webpack://G2Plot/./src/sparkline/tiny-line/event.ts","webpack://G2Plot/./src/combo-plots/overlapped.ts","webpack://G2Plot/./src/combo-plots/base.ts","webpack://G2Plot/./src/combo-plots/util/index.ts","webpack://G2Plot/./src/combo-plots/util/globalLegend.ts","webpack://G2Plot/./src/combo-plots/util/globalAxis.ts","webpack://G2Plot/./src/combo-plots/util/globalTooltip.ts","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/utils/determination.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/utils/geometry.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/utils/interpose.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/utils/points.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/exponential.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/linear.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/utils/median.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/loess.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/utils/sort.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/logarithmic.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/quadratic.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/polynomial.js","webpack://G2Plot/./node_modules/_d3-regression@1.2.8@d3-regression/src/power.js","webpack://G2Plot/./node_modules/_d3-timer@1.0.10@d3-timer/src/timer.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__63__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","result","arr","str","base","toString","index","indexOf","length","num","precision","maxData","data","obj","rst","k","memoized","dist","superObj","func","default_1","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","apply","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__importDefault","default","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","out","container","props","containerDOM","document","getElementById","forceFit","isNil","width","height","renderer","pixelRatio","theme","canvasController","plot","canvas","layers","destroyed","createLayers","eventController","bindEvents","parseEvents","destroy","eachLayer","layer","clearEvents","repaint","draw","updateConfig","config","all","updateCanvasSize","updateCanvasTheme","changeData","getPlotTheme","getData","bindStateManager","stateManager","cfg","setActive","condition","style","setSelected","setDisable","setDefault","getView","view","getLayer","idx","getCanvas","getLayers","render","cb","each","addLayer","findIndex","item","type","viewLayer","getPlotType","deepMix","x","eventsName","keys","CANVAS_EVENT_MAP","events","contains","isFunction","eventName","handler","on","GLOBAL_PLOT_MAP","ctr","toLowerCase","box","x1","addEventListener","remove","TABLE","getStyle","dom","parseFloat","el","modifyCSS","Base","Element","repeat","Container","minX","maxX","minY","maxY","totalMatrix","getTotalMatrix","group","update","shape","duration","animation","easing","elapsed","ratio","cPathPoint","cProps","Timeline","_this","Canvas","AbstractGroup","clone","AbstractShape","max","EVENT_MAP","onViewClick","onViewDblClick","onViewMousemove","onViewMousedown","onViewMouseup","onViewMouseenter","onViewMouseleave","onViewContextmenu","onAxisClick","onAxisDblClick","onAxisMousemove","onAxisMousedown","onAxisMouseup","onAxisMouseenter","onAxisMouseleave","onAxisContextmenu","onLabelClick","onLabelDblClick","onLabelMousemove","onLabelMouseup","onLabelMousedown","onLabelMouseenter","onLabelMouseleave","onLabelContextmenu","onLegendClick","onLegendDblClick","onLegendMouseMove","onLegendMouseDown","onLegendMouseUp","onLegendMouseLeave","onLegendMouseEnter","onLegendContextmenu","onPlotClick","onPlotDblClick","onPlotMousemove","onPlotMousedown","onPlotMouseup","onPlotMouseenter","onPlotMouseleave","onPlotContextmenu","onTitleClick","onTitleDblClick","onTitleMousemove","onTitleMousedown","onTitleMouseup","onTitleMouseenter","onTitleMouseleave","onTitleContextmenu","onDescriptionClick","onDescriptionDblClick","onDescriptionMousemove","onDescriptionMousedown","onDescriptionMouseup","onDescriptionMouseenter","onDescriptionMouseleave","onDescriptionContextmenu","onBreadcrumbClick","onBreadcrumbDblClick","onBreadcrumbMousemove","onBreadcrumbMousedown","onBreadcrumbMouseup","onBreadcrumbMouseenter","onBreadcrumbMouseleave","onBreadcrumbContextmenu","LAYER_EVENT_MAP","onLayerClick","onLayerDblClick","onLayerMousemove","onLayerMousedown","onLayerMouseup","onLayerMouseenter","onLayerMouseleave","onLayerContextmenu","onEvent","eventNames","map","eventMap","namePrefix","eventPrefix","eventKey","event","sub","mul","undefined","glMatrix","ARRAY_TYPE","Float32Array","fromMat4","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","identity","transpose","a01","a02","a12","invert","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","multiply","translate","rotate","rad","Math","sin","cos","scale","fromTranslation","fromRotation","fromScaling","fromMat2d","fromQuat","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b00","b02","b03","b04","b05","b06","b07","b08","b09","b10","projection","frob","sqrt","pow","add","subtract","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a0","a1","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","abs","EPSILON","newObj","_interopRequireWildcard","b12","b20","b22","IElement","ICanvas","IGroup","IShape","BBox","View","registerAnimation","registerGeometry","Geometry","Interaction","registerInteraction","registerShape","getTheme","Util","getShapeFactory","VIEW_LIFE_CIRCLE","Datum","Data","LooseObject","Options","Point","ShapeInfo","AttributeOption","AdjustOption","LabelOption","DEFAULT_ANIMATE_CFG","HtmlTooltip","HtmlTooltipTheme","TooltipCssConst","Axis","Legend","Tooltip","Slider","Scrollbar","TooltipCfg","getGlobalTheme","registerGlobalTheme","registerTheme","convertToG2Theme","interactions","options","getOptions","initialOptions","paddingController","stateController","themeController","getDefaultOptions","title","visible","alignTo","text","description","padding","legend","position","tooltip","shared","showCrosshairs","crosshairs","offset","xAxis","grid","line","tickLine","autoRotate","autoHide","yAxis","autoRotateTitle","defaultOptions","reduce","flatten","src","cur","splice","beforeInit","init","processData","scales","legends","showTitle","axes","coordinate","geometries","annotations","panelRange","animate","views","clear","drawTitle","drawDescription","interaction","coord","axis","addGeometry","annotation","viewRange","getViewRange","region","viewRangeToRegion","parent","backgroundGroup","addGroup","middleGroup","foregroundGroup","getPadding","applyInteractions","afterRender","afterInit","defaultState","defaultStates","processAutoPadding","isEmpty","doDestroy","processOptions","getPlot","getResponsiveTheme","getInteractions","setState","start","end","slice","scaleTypes","mapValues","scaleConfig","meta","setConfig","xAxis_parser","getComponent","dim","yAxis_parser","axesConfig","xField","yField","getLegendPosition","positionList","split","flipOption","clickable","formatter","offsetX","offsetY","isUndefined","flipPage","marker","guideLine","forEach","inst","Ctor","getInteraction","getInteractionRange","layerBBox","eventParser","range","isTextUsable","leftMargin","rightMargin","topMargin","mix","wrapperWidth","registerPadding","titleBBox","getBBox","doDestroyInteractions","processOuterPadding","fromBBoxObject","bbox","fromRange","GEOMETRY_MAP","area","point","interval","Geom","id","attrs","tick","startStr","startIndex","hasAdd","isVertical","path","center","closed","min","maxLabel","_super","opacity","stroke","hi","floor","log10","toFixed","ceil","unit","nu","res","ticks","validCfg","COMPONENT_MAPPER","STATE_MAPPER","Components","cubicAt","p0","onet","calBase","E","log","appendPercent","pretty","registerTickMethod","lastValue","tickInterval","sqrLen","sqrDist","div","len","divide","round","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","dot","cross","lerp","ax","ay","random","RANDOM","PI","transformMat2","transformMat2d","transformMat3","transformMat4","p1","sinC","cosC","angle","y1","len1","len2","cosine","acos","vec","stride","count","fn","arg","dx","dy","xArr","yArr","magnitude","sum","dotProduct2D","va","vb","applyMatrix","matrix","tag","vector","matrixUtil","vec3","isBetween","angleTo","magA","magB","crossProduct2D","crossProduct3D","az","bx","by","bz","sub2D","isPointInPolygon","polygon","inside","xi","yi","xj","yj","sqr","dist2","distBetweenPointLine","p2","l2","distSquare","minDistBetweenPointPolygon","Infinity","isPolygonIntersection","polyA","polyB","getLineIntersect","p3","D0","D1","kross","distBetweenPoints","minDistBetweenConvexPolygon","minA","minB","localMin","bboxOnRotate","ulMatrix","bboxWidth","bboxHeight","attr","top_left","top_right","bottom_left","bottom_right","points","sort","tops","bottoms","topLeft","topRight","bottomLeft","bottomRight","left","right","top","bottom","centerX","centerY","lineSimplification","DouglasPeucker","threshold","endIndex","list1","list2","getMedian","array","list","half","getMean","sturges","values","LN2","desScale","axisConfig","intervals","intervalArr","basicInterval","intervalCount","tickCount","timeIntervals","parseInt","format","mask","minLimit","maxLimit","nice","tickMethod","validData","filter","isNumber","warning","toHex","substr","band","gray","reflect","from","to","color","Opacity","Shape","Size","tmp","curPoint","subBBox","context","fill","geometry","originData","fields","values_1","u","startArrow","region2","Marker","onAttrChange","arc","cx","cy","startAngle","endAngle","lineWidth","atan2","isHit","Path","r2","r4","Text","rect","circle","polyline","image","ellipse","lineDash","font","element","fragment","console","clip","hasAttribute","createDom","sortDom","Group","parentNode","afterAttrsChange","getDefaultAttrs","square","diamond","triangle","triangleDown","createPath","Polyline","r1","r3","xScale","labelPointCfg","arcPoint","middlePoint","rowValues","facet","facets","leafs","rowValue","updatedCache","cls","LinkByColor","unlink","sibling","finalX","finalY","fecha","token","word","literal","noop","shorten","sLen","newArr","monthUpdate","arrName","i18n","charAt","toUpperCase","month","pad","val","String","dayNames","monthNames","monthNamesShort","dayNamesShort","amPm","DoFn","D","formatFlags","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","h","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","parseFlags","day","cent","Date","year","hour","minute","second","millisecond","isPm","minutes","parts","match","timezoneOffset","masks","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","i18nSettings","isNaN","getTime","Error","literals","replace","$0","$1","parse","dateStr","dateInfo","parseInfo","newFormat","info","matches","RegExp","date","today","UTC","pointAt","pointDistance","tangentAngle","GLOBAL_THEME_MAP","DEFAULT_GLOBAL_THEME","dark","DEFAULT_DARK_THEME","warn","defaultTheme","quadraticAt","segment","rx","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","tempA","tempB","isNumberArray","ArrayBuffer","isView","DataView","linear","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","exponent","polyOut","polyInOut","pi","halfPi","sinIn","sinOut","sinInOut","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","asin","amplitude","period","elasticOut","elasticInOut","visibility","rendered","eventHandlers","getLayerBBox","layerRegion","getLayerRegion","off","show","hide","removeLayer","updateBBox","recursive","originRange","newRange","updateBBoxByParent","getGlobalPosition","globalX","globalY","getGlobalBBox","globalPosition","parentWidth","parentHeight","parentX","parentY","source","trim","breaks","pos","join","findAll","interactionRange","interactionConfig","ctor","BaseInteraction","GLOBAL_INTERACTION_MAP","registerPlotInteraction","plotType","PLOT_INTERACTION_MAP","layerRange","getViewLayer","getRange","getInteractionConfig","RESPONSIVE_THEME_MAP","DEFAULT_RESPONSIVE_THEME","positionFields","SCALE_MAPPER","cat","timeCat","time","axisInstance","getAxisInstance","shouldApply","responsiveTheme","rawLabels","shapes","shapeNodes","constraints","rules","nodes","onEnd","updateTicks","origion_nodes","getType","field","scaleType","getScaleByField","axisIndex","getController","getComponents","component","tickLineContainer","actions","MatrixUtil","transform","setMatrix","radian","G2_GEOM_MAP","column","PLOT_GEOM_MAP","showMarkers","adjustColor","conversionTag","responsive","applyResponsive","renderLabel","geometryParser","processedData","extractScale","adjustColumn","getGeom","columnWidthRatio","EventParser","stage","methods","method","registerPlotType","BaseColumnLayer","defaultGuidelineCfg","compare","origin","exp","shapeContainers","createStateManager","manager","_updateStateProcess","onStateChange","_stateChangeProcess","states","state","related","_getShapes","originAttrs","_getOriginAttrs","shapeOrigin","isArray","stateStyle","_getDefaultStateStyle","originAttr","setZIndex","_parserRelated","setStateCfg","_eventParser","onChangeCfg","callback","geoms","geom","shapeContainer","getShapes","eventCfg","styleField","getComponentStateMethod","stateType","children","resetZIndex","obj1","obj2","_INDEX","bar","inputData","reverse","adjustBar","getLabelOptionsByPosition","BaseBarLayer","percent2Number","Number","endsWith","CROOK_DISTANCE","coordinateBBox","adjustOption","adjustItem","getGeometry","labelsContainer","initArcPoints","drawTexts","drawLines","destory","shapeInfos","getItems","shapeInfo","content","_origin","textShape","addShape","panelBox","adjustText","layout","rotateLabel","ellipsisTexts","getEllipsisText","itemGroups","labelGroup","anchor","arcPoints","inLeft","getLinePath","smooth","radius","breakAt","getEndPoint","labelPosition","smoothPath","straightPath","linePath","getCoordinate","getCenter","getRadius","isString","getMatrix","getRotateAngle","angleField","elements","anchors","ele","textAlign","margin","xOverlap","yOverlap","panel","near","includes","DAY_FIELD","WEEK_FIELD","DATE_FIELD","IS_MONTH_CENTER_FIELD","FORMATTER","MONTHS","WEEKS","register_1","register","lineCount","offscreen_1","getOffScreenContext","util_1","eventObj","pointInfo","EventController","BrowserInfo","version","os","NodeInfo","process","platform","BotInfo","bot","userAgentRules","operatingSystemRules","parseUserAgent","ua","matchedRule","matched","_a","browser","regex","uaMatch","exec","versionParts","output","ii","createVersionParts","detectOS","test","getNodeVersion","detect","userAgent","navigator","catmullRom2Bezier","crp","setMatrixArrayType","toRadian","degree","EVENT_TYPES","defaultCfg","_getDefaultCfg","_eventHandlers","_bindEvents","startEvent","processEvent","endEvent","resetEvent","_start","ev","preStart","afterStart","_process","preProcess","afterProcess","_end","preEnd","afterEnd","_reset","preReset","reset","afterReset","wrapBehavior","_unbindEvents","eh","vector2","vec2","_getPointRadius","_convertArr","convertPoint","catmullRom2bezier","constraint","isLoop","pointList","cp1","cp2","controlPointList","smoothBezier","d1","isInCircle","command","_points2path","prevPoint","nextPoint","cps","hasConstraint","d0","v1","v2","cp0","constaint","first","prePoint","splinePath","unshift","subPath","pre","transposed","isTransposed","xDim","angleRange","direction","flag","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","connectNulls","lineSize","parseSize","seriesField","parseColor","lineStyle","parseStyle","sizeProps","size","styleProps","iterationTime","iterationIndex","rulesLocker","constraintIndex","currentConstraint","_run","onStart","_iteration","measureNodes","_applyRules","onIteration","constraintPassed","_constraintsTest","constraintsLib","constraintOption","option","usage","_constraintCompare","_constraintAssignment","expression","_chainConstraintCompare","_paddingConstraintCompare","_groupConstraintCompare","_chainConstraintAssign","_paddingConstraintAssign","node","ruleCfg","rule","rulesLib","_applyRule","adjust","StackedBarLayer","transformDataPercentage","groupField","measures","chain","groupBy","items","vals","groupTotals","newData","total","itemIdx","fieldIdx","GEOM_MAP","areaStyle","lineJoin","lineCap","wordSpacing","adjustArea","addLine","addPoint","adjustLine","adjustPoint","lineConfig","AreaLayer","plotComponents","lineLabel","areaLabel","renderPlotComponents","getPlotComponents","StackedAreaLayer","getValue","getPosition","getTextAlign","textBaseline","getTextBaseLine","getTextColor","adjustLabel","getShapeBbox","dir","shapeColor","shapeOpacity","rgb","rgb2arr","mappingColor","adjustPosition","labelRange","shapeRange","yPosition","labelStyle","lineGeom","connectedArea","triggerOn","stackField","StackedColumnLayer","rose","innerRadius","columnStyle","alignTick","sectorStyle","categoryField","radiusField","coordConfig","adjustColorFieldMapping","adjustLegendOptions","widthRatio","extractLabel","adjustRoseAdjust","colorField","adjustLabelOptions","labelType","labelOptions","legendOptions","RoseLayer","waterfall","VALUE_FIELD","IS_TOTAL","diffLabel","leaderLine","showTotal","waterfallStyle","adjustMeta","_parseStyle","_parseColor","plotData","dataItem","prevValue","totalValue","args","isObject","rising","falling","metaOptions","valueFieldMeta","alias","WaterfallLayer","advanceBy","ms","setMilliseconds","DAY_MS","dates","ds","head","last","curr","oneJan","DEFAULT_GAUGE_CONFIG","rangeSorted","valueText","styleMix","getStyleMix","initG2Shape","gaugeStyle","statistic","defaultStyle","stripWidth","tickLabelSize","gaugeShape","GaugeShape","uniqueId","setOption","getCustomStyle","pointerStyle","ringStyle","globalTheme","colors","thickness","tickLabelPos","textStyle","fontSize","tickLabelColor","subTickCount","subTickLine","tickLineColor","labelAutoRotate","pointer","pointerColor","defaultColor","annotationConfigs","statistics","renderStatistic","GaugeLayer","basicPointerStyleDark","circleColorTop","circleColorBottom","basicPointerStyle","common","textPosition","background","amount","bottomRatio","DAY","miniute","week","vRatio","combineFormatter","formatters","curText","getNoopFormatter","getPrecisionFormatter","getSuffixFormatter","suffix","_states","_stateStack","_onUpdate","getState","getAllStates","_changeTimer","clearTimeout","stateStack","setTimeout","_triggerEvent","emit","getDataByScaleRange","vertical","groupedData","newValues","G2DefaultTheme","plotG2Theme","COLOR_PLATE_10","COLOR_PLATE_20","DESCRIPTION_BOTTOM_MARGIN","legendPosition","TOP_BLEEDING","titleVisible","descriptionVisible","BOTTOM_BLEEDING","some","bleeding","colors_20","fontFamily","lineHeight","alignWithAxis","autoHideLabel","alignWithLabel","innerPadding","boxShadow","LineConfig","TreemapConfig","StepLineConfig","BarConfig","StackedBarConfig","GroupedBarConfig","PercentStackedBarConfig","RangeBarConfig","AreaConfig","StackedAreaConfig","PercentStackedAreaConfig","ColumnConfig","GroupedColumnConfig","StackedColumnConfig","RangeColumnConfig","PercentStackedColumnConfig","PieConfig","DensityHeatmapConfig","HeatmapConfig","WordCloudConfig","RoseConfig","FunnelConfig","StackedRoseConfig","GroupedRoseConfig","RadarConfig","LiquidConfig","HistogramConfig","DensityConfig","DonutConfig","WaterfallConfig","ScatterConfig","BubbleConfig","BulletConfig","CalendarConfig","GaugeConfig","FanGaugeConfig","MeterGaugeConfig","trySetScaleMinToZero","singleLineLabelCheck","getPlotOption","appear","LineActive","LineSelect","LineLayer","_getColorMappingField","colorMappingField","getSplinePath","parseShape","_parserNodes","measure","MathUtil","updateShapes","elementDist","elementDistVertical","elementCollision","elementWidth","columnWidth","ringThickness","minRingThickness","textWrapper","textRotation","textAbbreviate","textHide","digitsAbbreviate","datetimeStringAbbrevaite","robustAbbrevaite","nodesResampling","nodesResamplingByAbbrevate","nodesResamplingByChange","nodesResamplingByState","nodeJitter","nodeJitterUpward","clearOverlapping","isNodeOverlap","nodeA","nodeB","current","overlapped","_shape","getDateTimeMode","mapper","campareText","startText","endText","timeDuration","timeCycle","previousText","previous","currentStamp","previousStamp","needAbbrevaite","cycle","times","getAbbrevaiteFormatter","sameSectionFormatter","string","unitMapper","number","abbravateDigitsByUnit","unitname","order","decimal","numbers","extractNumbers","unitNumber","getUnitByNumber","unitBit","intervalBit","remainder","remainderBit","getDigitsDecimal","getLinearNodesInterval","isKeep","keepCfg","conditions","oddKeep","keep","isOdd","abbravateText","abbreviateBy","resetMatrix","labelShapesContainer","labelShapes","getShapeInfo","find","originPoints","lastPoint","parsePoints","parsedPoints","_init","spacing","arrow","headSize","valueUpper","valueLower","shapeLower","shapeUpper","_drawTag","pointUpper","pointLower","_drawTagArrow","_drawTagValue","totalHeight","totalWidth","tagArrow","_fadeInTagShape","tagValue","textWidth","cWidth","cEnd","textAdjusted","middle","xPosition","names","valuesOfKey","origin_items","defaultMeta","marginRatio","GroupedBarLayer","metaConfig","PercentStackedBarLayer","PercentStackedAreaLayer","SHAPE_EVENT_MAP","getEventMap","Column","GroupedColumnLayer","PercentStackedColumnLayer","pie","allowOverlap","pieStyle","labelComponent","labelConfig","LabelCtor","getPieLabel","PieLayer","PieLabelConfig","PieLabels","inner","outer","ring","totalLabel","triggerOff","DonutLayer","centralId","statisticClass","adjustLabelDefaultOptions","removeChild","wrapperNode","labelStyleConfig","shapeBox","diff","yPos","scatter","pointSize","pointStyle","strokeOpacity","fillOpacity","quadrant","trendline","plotOptions","isValidLinearValue","xAxisType","yAxisType","extractTooltip","ScatterLayer","Trendline","Confidence","Quadrant","QuadrantLabel","QuadrantLine","progress","DEFAULT_COLOR","isEntered","processProps","barSize","getSize","barStyle","progressStyle","parseColorProps","percent","hasKey","styleUpdateAnimation","updateColorConfigByStyle","updateMarkers","markers","markerCfg","progressSize","progressContainer","colorOption","markerLength","animationOptions","getUpdateAnimationOptions","progressShapes","ProgressLayer","SINGLE_TYPE","isSingleGraph","single","isSingle","components","it","viewMinX","viewMaxX","viewMinY","viewMaxY","top_padding","genericArray","nb","na","numberArray","parseToLines","lines","extend","definition","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","rgbn","Rgb","rgba","hsla","NaN","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","m1","m2","basis","t1","v0","v3","t2","t3","channels","displayable","formatHsl","brighter","darker","gamma","nogamma","exponential","constant","rgbGamma","colorRgb","rgbSpline","spline","setTime","reA","reB","am","bm","bs","bi","lastIndex","one","zero","valueOf","LayerConfig","ViewConfig","PlotConfig","TinyLayerConfig","ProgressConfig","RingProgressConfig","TinyColumnConfig","TinyAreaConfig","TinyLineConfig","OverlappedComboPlotConfig","registerResponsiveConstraint","IConstraint","registerResponsiveRule","registerResponsiveTheme","util_2","text_1","currentPoint","analyzePoints","segments","totalLength","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","runClearTimeout","Item","nextTick","env","argv","versions","addListener","once","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","CssConst","html_theme_1","Component","textContent","tShape","wrappedTextArr","wrappedText","chars","breakIndex","breakText","propertyMapping","themeConfig","_needDraw","_styleParser","localProps","_isVisible","_lineParser","_gridParser","_tickLineParser","_labelParser","_titleParser","propos","propsConfig","applyThemeConfig","alternateColor","restLabelProps","parseFormatter","titleConfig","getDefaultStyle","baseConfig","stateValue","_getState","getYScale","getXScale","toArray","minValue","maxValue","getScale","extractXValue","_extractValues","getDefaultTextAlign","textConfig","originConfig","rest","getConfig","parseCallBack","restArgs","labelProps","parseOffset","mappingData","labels","onActive","getAllAxisLabels","labelData","con","disableStyle","fontWeight","axisComponentOption","labelArr","scaleField","beforeCompare","active","selected","disable","getAllLabels","geomLabels","POSITION_MAPPER","getPositionField","shouldActive","getXY","processState","showTooltip","expected","originItems","getValidScrollbarConfig","_cfg","categorySize","onChangeFn","throttle","onChange","leading","paddingTop","paddingRight","paddingBottom","paddingLeft","thumbOffset","isEqual","trackLen","renderScrollbar","measureScrollBar","changeViewData","getScrollRange","scrollbar","thumbLen","isHorizontal","yScales","getYScales","cnt","xScaleCfg","yScalesCfg","clamp","startIdx","endIdx","origData","metaCfg","origAnimate","getValidSliderConfig","backgroundStyle","foregroundStyle","handlerStyle","trendCfg","curStart","curEnd","renderSlider","getSliderData","slider","getSliderConfig","minText","maxText","isArea","getSliderTrendData","getSliderMinMaxText","innerPaddingComponents","outerPaddingComponents","checkIfExist","clearOuterComponents","_getInnerAutoPadding","components_bbox","viewBBox","_getAxis","_mergeBBox","_getLegend","panelPadding","_getPanel","bboxes","axisShapes","getAxisShapes","legendContainer","getLegendShapes","groups","child","rightDist","leftDist","topDist","bottomDist","_adjustLegend","move","_getLegendInnerPadding","_mergeBleeding","domStyles","backgroundColor","PLOT_THEME_MAP","styleMapShape","g2Theme","geometryTheme","styleKey","convertThemeToG2Theme","plotTheme","category","lineNumber","dateTime","onResize","debounce","getCanvasSize","offsetWidth","offsetHeight","getCanvasDOM","changeSize","updateCanvasStyle","styles","resizeObserver","unobserve","disconnect","bindForceFit","observe","initGCanvas","G","SVG","MapShim","Map","getIndex","entry","class_1","__entries__","configurable","entries","ctx","_i","isBrowser","global$1","global","self","Function","requestAnimationFrame$1","requestAnimationFrame","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","attributes","childList","characterData","subtree","removeEventListener","_b","propertyName","getInstance","instance_","defineConfigurable","writable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","getBordersSize","positions","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getContentRect","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","clearActive","observation","WeakMap","ResizeObserver","addEvent","eventType","onEvents","getEventObj","isShapeInView","onLayerEvent","onMove","shape1","shape2","lastShape","groupName","parentName","isPointInBBox","subLayers","layerProps","Line","main","mini","getPath","isSmooth","topLinePoints","bottomLinePoints","topPath","getStraightPath","bottomPath","parseGradient","COLOR_MAPPER","_needParserColor","_getSizeProps","_getStyleProps","guide","_needParseAttribute","sizeField","shapeName","mappingField","_parseColorByField","uniq","getValuesByField","plotInfo","getPositionByRatio","dataPoints","currentX","getWidth","animateCfg","yScale","shapeData","setClip","onFrame","yText","yRatio","getDataByPosition","afterRenderResponsive","preRender","polygonA","polygonB","minThickness","mag","vector_horizontal","mag_horizontal","adjustAngle","distX","distY","startPoint","shapeBbox","shapeId","getShapeById","getShapeId","originX","originY","labelLine","origin_position","tolerance","nodesClone","getGlobalTolerance","findPrevious","getNodeByNumber","stateNodes","extract_data","min_node","max_node","median","median_node","getStateNodes","initialProps","isState","isTime","wrapperText","ApplyResponsiveLineLabel","normal","Treemap","maxLevel","isDrilldown","treemapData","getTreemapData","rootData","level","getAllNodes","depth","isNested","adjustStyleByDepth","rectStyle","interactionCfg","inter","Ctr","INTERACTION_MAP","rows","showLabel","isLeaf","cliperHeight","y0","labelHeight","getLabelHeight","parentLabelOffset","c_rows","x0","fillColorField","fieldName","PARENT_NODE_OFFSET","nested","TreemapLayer","sumValue","alpha","beta","newRatio","minRatio","nodeValue","row","dice","node_x","node_y","drilldown","startNode","itemWidth","itemHeight","currentNode","currentDepth","drillingDown","cache","tempoData","adjustScale","breadcrumb","initGeometry","saveOriginMapping","startNodeName","onInteraction","currentWidth","rootItem","getRootItem","parents","findParent","targetParent","rollingUp","updateRoot","previousDepth","mappingInfo","originMapping","mapping","mappingCfg","DrillDownInteraction","onItemGroupToggleActive","itemGroup","rectShape","itemActiveBackgroundStyle","itemBackgroundStyle","offEvents","itemPadding","separator","separatorStyle","maxItemWidth","renderInner","renderItems","startX","startY","topPadding","rightPadding","bottomPadding","leftPadding","backgroundRect","class","cursor","textShapeBBox","backgroundRectAttr","sepShape","emitEventName","clickCallback","dblclickCallback","mouseEnterCallback","mouseLeaveCallback","getGroup","getTemShapes","tem_shapes","capture","getRect","hideLabel","xRatio","transformMatrix","tem_container","stopAnimate","groupTransform","findShapeByName","shrinkTemp","Rect","Breadcrumb","tailShape","tailWidth","abbreviateWidth","isLeafNode","adjustLeafLabel","adjustParentLabel","labelBBox","labelText","LEAF_LABEL_OFFSET","StepLineLayer","StepLine","Bar","onBarClick","onBarDblclick","onBarMousemove","onBarMouseenter","onBarMouseleave","onBarMousedown","onBarMouseup","onBarContextmenu","StackedBar","GroupedBar","PercentStackedBar","RangeBar","shapeCaches","setShapeCache","RangeBarLayer","leftStyle","rightStyle","doAnimation","la","lb","shapeMinX","shapeMaxX","shapeWidth","boxes","shapeCache","clipInFromCenter","updateFromCenter","fromPath","getShapeFromCache","toPath","animationName","Area","onAreaClick","onAreaDblclick","onAreaMousemove","onAreaMouseenter","onAreaMouseleave","onAreaMousedown","onAreaMouseup","onAreaContextmenu","onLineClick","onLineDblclick","onLineMousemove","onLineMouseenter","onLineMouseleave","onLineMousedown","onLineMouseup","onLineContextmenu","onPointClick","onPointDblclick","onPointMousemove","onPointMouseenter","onPointMouseleave","onPointMousedown","onPointMouseup","onPointContextmenu","fillStyle","shadowBlur","shadowColor","StackedArea","ComponentsInfo","componentInfo","interpolateY","leftPoint","rightPoint","getXIndex","scaleFactor","groupedPoints","dataArray","labelPoints","pointArray","labelPoint","drawLabel","labelSize","getFontSize","autoScale","maxHeight","xRange","resolution","interpolatedPoints","getInterpolatedPoints","getLabelBbox","fitOption","aspect","justTest","bisection","testFit","fit","testOption","maxIteration","passesTest","x1_index","ceiling","ceilingFloor","PercentStackedArea","ApplyResponsiveColumnLabel","GroupedColumn","StackedColumn","areas","_areaStyle","_lineStyle","groupedShapes","_getGroupedShapes","_drawConnection","_addInteraction","_initialAnimation","_onActive","_onDisabled","_onSelected","originColor","_getShapeStyle","shapeType","styleName","mappedStyle","gEvent","getClip","RangeColumn","RangeColumnLayer","topStyle","bottomStyle","textBaeline","getTextBaseline","shapeMinY","shapeMaxY","shapeHeight","DEFAULT_OFFSET","clipInFromCenterVertical","updateFromCenterVertical","PercentStackedColumn","Pie","createElement","getContext","measureTextWidth","memoize","fontStyle","fontVariant","measureText","maxWidth","priority","leftText","DOT_WIDTH","currentText","leftWidth","prevLabel","resolveCollision","prev","prevBBox","pos1","pos2","yMover","actualPos","leftHalf","isLeft","_antiCollision","adjustOverlap","overlapArea","prevBox","currBox","getOverlapArea","checkInPanel","isRight","totalR","maxLabelsCount","overlapping","labelBox","targets","previousBox","posInCompositeBox","topLabels","bottomLabels","adjustLabels","isBottom","ry","maxLabelWidth","rxPow2","ryPow2","boxCenter","dyPow2","endPoint","distance_offset","xPos","_adjustOptions","halves","getScalesByDim","polarRadius","angleValue","targetAngle","middleAngle","anchorPoint","inflectionPoint","colorIndex","shapeIndex","_anchor","_inflection","_data","textGroup","_side","texts","formatted","textAttrs","lowerText","lowerTextAttrs","maxCountForOneSide","sidePadding","canvasHeight","getHeight","totalH","MIN_VALUE","labelY","labelWidth","drawnLabels","_drawLabel","_drawLabelLine","x_dir","point1","point2","point3","starter","DensityHeatmap","intensity","defaultConfig","DensityHeatmapLayer","paletteCache","createElements","isUpdate","prepareRange","prepareSize","prepareBlur","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","getAttribute","getFields","getDefaultValue","getDefaultSize","blur","styleOption","colorize","img","colorAttr","pixels","palette","colorUtil","gradient","circleCanvas","grayScaleCanvas","circleRadius","clearRect","shadowOffsetX","shadowOffsetY","beginPath","closePath","drawGrayScaleBlurredCircle","globalAlpha","drawImage","getShadowCanvasCtx","shadowCanvas","globalCompositeOperation","getImageShape","imageShape","valueField","getDrawCfg","colored","getImageData","putImageData","Image","toDataURL","shapeCfg","LinearHeatmap","renderColorBackground","renderImageBackground","callbackCfg","dataSlides","getDarkOptions","getLayout","getDefaultWidth","getDefaultHeight","plotContainer","getScales","colorScale","renderHorizontal","renderVertical","legendLayout","addInteraction","origin_bbox","gridWidth","gridHeight","gridLineContainer","gridColors","valueStep","appendInfo","dataSlide","getDataSlide","gridlineStyle","plotWidth","plotHeight","getTopPosition","targetInfo","relativeData","filteredData","getFilteredData","slide","Heatmap","LegendLabel","HeatmapBackground","changeShape","mappingSize","disableMappingSize","gridSize","gridAlign","align","circleToRect","rectToCircle","rectSizeMapping","circleSizeMapping","rectDisableSizeMapping","circleDisableSizeMapping","getGridSize","addRect","addCircle","shapeSize","sizeRatio","curvePath","getCircleCurve","rectPath","getRectPath","ps","offsetRatio","circlePath","getCirclePath","HeatmapLayer","getContent","interactiveEvents","offEvent","colorStep","tickStep","gradientColor","ticklineStyle","tri_path","tri_height","anchorStyle","tri_width","geomEventHandler","moveAnchor","mouseleaveHandler","mouseleave","_toolTipsAction","dimension","evt","_toolTips","weight","_configHoverAction","onWordCloudHover","_enableToolTips","enableToolTips","_initToolTips","_render","follow","inPanel","_targetCanvas","maskImage","_handleMaskImage","crossOrigin","onload","naturalHeight","naturalWidth","_startWithMaskImage","onerror","_handleG2PlotConfig","targetCtx","wordStyle","rotation","minFontSize","maxFontSize","minRotation","maxRotation","maskImageCanvas","maskImageContext","bctx","fillRect","bgPixel","imageData","newImageData","createImageData","clearCanvas","_scaleMaskImageCanvas","maskCanvasScaled","imageSmoothingEnabled","_transformWhite2BlackPixels","newCfg","itemTpl","setImmediate","msSetImmediate","webkitSetImmediate","mozSetImmediate","oSetImmediate","postMessage","callbacks","message","stopImmediatePropagation","clearImmediate","msClearImmediate","webkitClearImmediate","mozClearImmediate","oClearImmediate","timer","isSupported","fillText","hanWidth","mWidth","shuffleArray","WordCloud","tagName","appendChild","settings","animatable","drawOutOfBound","drawMask","maskColor","maskGapWidth","wait","abortThreshold","abort","rotateRatio","rotationSteps","shuffle","ellipticity","classes","onWordCloudClick","interactionItems","fontKey","maxWeight","isCardioid","theta","thetaPrime","ngx","ngy","maxRadius","escapeTime","maskRectWidth","rotationRange","random_hsl_color","getTextClasses","hovered","interactive","infoGrid","getInfoGridFromMouseTouchEvent","clientX","clientY","currentTarget","getBoundingClientRect","touches","eventX","eventY","defaultHoverAction","wordcloudhover","wordcloudclick","preventDefault","pointsAtRadius","getPointsAtRadius","T","exceedTime","getTextInfo","rotateDeg","getRealFontSize","mu","fcanvas","fctx","willReadFrequently","fw","fh","boxWidth","boxHeight","fgw","fgh","fillTextOffsetX","fillTextOffsetY","cgh","cgw","setAttribute","gy","occupied","gx","bounds","singleGridLoop","gw","gh","fillTextWidth","fillTextHeight","drawText","getInteractionItemById","save","transX","transY","restore","span","transformRule","styleRules","display","whiteSpace","webkitTransform","msTransform","transformOrigin","webkitTransformOrigin","msTransformOrigin","cssProp","attribute","className","fillGridAt","tryToPutWordAtPoint","gxy","px","py","canFitText","updateGrid","rot","putWord","sendEvent","cancelable","detail","createEvent","initCustomEvent","dispatchEvent","webkitTapHighlightColor","stopInteraction","loopingFunction","stoppingFunction","listener","anotherWordCloudStart","loop","drawn","canceled","Rose","Funnel","factor","_shouldResetPercentages","_shouldResetLabels","_shouldResetCompareTexts","_legendsListenerAttached","_onLegendContainerMouseDown","startsWith","legendItem","refreshPercentages","refreshLabels","dynamicHeight","_findCheckedDataByMouseDownLegendItem","_genCustomFieldForDynamicHeight","compareField","_updateDataForCompare","refreshCompareTexts","adjustProps","_reduceDataForCompare","xValue","yValue","yValueTop","percentage","yValueUpper","yValueLower","compareText","adjustFunnel","funnel","funnelStyle","htmlContent","clss","elMarker","CONTAINER_CLASS","elRoot","TITLE_CLASS","elTitle","MARKER_CLASS","LIST_CLASS","pairs","compareValues","compareValue","LIST_ITEM_CLASS","elListItem","NAME_CLASS","VALUE_CLASS","appearDuration","_animationAppearTimeoutHandler","fadeInPercentages","fadeInCompareTexts","datum","fadeInLabels","enter","resetLabels","resetPercentages","resetCompareTexts","percentageContainer","_findPercentageContainer","compareTextContainer","_findCompareTextContainer","checkedData","_findCheckedDataInNewData","adjustTimestamp","_eachShape","datumLower","datumUpper","percentageLine","valueWidth","textProc","percentageText","valueProc","percentageValue","eachProc","lastBBox","members","_findPercentageMembersInContainerByIndex","currBBox","eachCalc","member","fadeOutPercentages","fadeOutDuration","fadeInDuration","createIfNotFound","lineId","textId","valueId","_calcRefreshFadeDurations","updateDuration","enterDuration","datumTop","compareTop","__compare__","_getAdjustedTextFillByShape","yValues","_findLabelInContainerByIndex","targetShape","shapeBBox","fadeOutLabels","labelId","shapeParentBBox","yValuesMax","fadeOutCompareTexts","_findCheckedData","dataLen","_getGeometry","ratioUpper","ratioLower","datumIndex","dataLength","flags","uncheckedXValues","checkedXValues","compareValueFirstVisited","newDatum","yValuesNext","yTotal","FunnelLayer","getPoints","isPyramid","yMin","yMax","xMin","xMax","_getRectPoints","parsePath","nextPoints","yRatios","yOffset","yRatiosNext","yValueNext","_getFunnelPath","getMarker","symbol","firstPoint","firstPointX","pointX","_getRectPath","isInPolar","funnelScaleInX","shapeTargetAttrs","funnelScaleInY","StackedRose","StackedRoseLayer","GroupedRose","GroupedRoseLayer","Radar","angleAxis","radiusAxis","gridType","RadarLayer","changeValue","Liquid","shouldFadeInAnnotation","liquidStyle","adjustLiquid","liquid","statisticConfig","extractStatistic","fadeInAnnotation","colorStyle","calcAnnotationColorStyle","forIn","darkColorStyle","waveColor","strokeWidth","LiquidLayer","Statistic","ShapeUtil","ValueUtil","getLineAttrs","defaultAttrs","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","sumX","cp","parsePoint","minP","xWidth","waves","clipCircle","waveCount","wave","addWaterWave","liquidMoveIn","wrap","wrapTargetOpacity","wavesTargetMatrix","Histogram","binField","binWidth","binNumber","originData_copy","sortBy","rangeWidth","_binWidth","_defaultBinNumber","bins","bin","getBin","binName","HistogramLayer","Density","kernels","epanechnikov","gaussian","uniform","quartic","triweight","cosinus","originXAxisConfig","kernel","kernelFunc","originDataCopy","_binNumber","samples","getTicks","densities","density","kernelDensityEstimator","tickValue","DensityLayer","Donut","preRenderResponsive","Ring","adjustOptions","triggerOnEvent","displayData","parseStatisticData","htmlString","getStatisticHtmlString","updateHtml","triggerOffEvent","getTotalValue","getStatisticTemplate","html","getStatisticSize","statisticTemplate","getSingleDataTemplate","getTwoDataTemplate","triggerOnConfig","isElement","htmlNode","setDomPosition","innerHTML","updatePosition","alignX","alignY","getOuterWidth","getOuterHeight","containerStyle","valueStyle","classId","Waterfall","isStroke","isFill","linkPath","formattedText","BEFORE_RENDER","AFTER_RENDER","Scatter","quadrantGroups","regionData","lineData","xRegion","xBaseline","yBaseline","verticalLineData","horizontalLineData","topQuadrant","bottomQuadrant","rightTopQuadrant","rightBottomQuadrant","leftTopQuadrant","leftBottomQuadrant","getRegionStyle","labelCfg","getLabelConfig","regionStyle","REGRESSION_MAP","regressionExp","regressionLinear","loess","regressionLoess","regressionLog","poly","regressionPoly","regressionPow","quad","regressionQuad","showConfidence","confidenceStyle","reg","xscale_view","yscale_view","trendlineData","LinearScale","yRange","confidencePath","getConfidencePath","getTrendlinePoints","confidence","conf","rSquared","confidenceData","upperPoints","lowerPoints","y0Ratio","y1Ratio","viewScale","dataMin","minBy","dataMax","maxBy","maxRatio","trendMin","trendMax","inactive","Bubble","BubbleLayer","drawPoints","Bullet","bullet","STACK_FIELD","X_FIELD","Y_FIELD","rangeColors","measureSize","rangeSize","markerSize","markerColors","markerStyle","trigger","removeInteraction","ranges","bulletRect","rangeMax","bulletTarget","markerColor","measureColors","adjustYAxisOptions","dataOptions","dataIdx","valueIdx","BulletLayer","BulletTarget","drawRect","rangeBox","drawBulletTicks","ticksStyle","tickPosition","tickOffset","tickIdx","tickText","tickLineCfg","drawTarget","Calendar","dateField","dateRange","getDateRange","generateCalendarData","polygonConfig","monthWeek","getMonthCenterWeek","weeks","months","CalendarLayer","parseDateRange","fromDate","toDate","dateString","getWeek","monthWeekMap","append","isLastWeekOfMonth","zIndex","isLastDayOfMonth","Gauge","stripBackColor","labelPos","labelColor","uid","gauge","ringRadius","starAngle","currentAngle","drawBarGauge","drawInSideAxis","drawGauge","drawOutSideAxis","drawAxis","drawPoniter","drawBottomRing","drawRangeColor","drawCurrentRing","valueToAngle","path2","drawRing","path3","startValue","fillColor","result1","sortedLastIndex","getAngleRange","param","xA1","yA1","xB1","yB1","thick","minThickCanvsSize","miniThickness","bigThickness","xA2","yA2","xB2","yB2","largeArcFlag","bigCircle","smCircle","dirVec","angle1","angle2","Range","FanGauge","1","siderTexts","renderSideText","allAnnotations","FanGaugeLayer","MeterGauge","MeterGaugeLayer","RingConfig","GroupColumnConfig","GroupBarConfig","PercentageStackAreaConfig","PercentageStackBarConfig","PercentageStackColumnConfig","StackAreaConfig","StackBarConfig","StackColumnConfig","GroupColumn","GroupBar","PercentageStackArea","PercentageStackBar","PercentageStackColumn","StackArea","StackBar","StackColumn","Progress","updateCfg","convert","origin_attr","onProgressClick","onProgressDblclick","onProgressMousemove","onProgressMousedown","onProgressMouseup","onProgressMouseenter","onProgressMouseleave","onProgressContextmenu","RingProgress","getThickness","RingProgressLayer","onRingProgressClick","onRingProgressDblclick","onRingProgressMousemove","onRingProgressMousedown","onRingProgressMouseup","onRingProgressMouseenter","onRingProgressMouseleave","onRingProgressContextmenu","TinyColumn","columnSize","columnNumber","getColumnNum","TinyColumnLayer","onColumnClick","onColumnDblclick","onColumnMousemove","onColumnMousedown","onColumnMouseup","onColumnMouseenter","onColumnMouseleave","onColumnContextmenu","TinyArea","TinyAreaLayer","TinyLine","TinyLineLayer","autoRotateLabel","colorMapping","synchroTick","createComboLayers","legendInfo","axisInfo","paddingComponents","globalComponents","singleGeomCount","backLayer","layerCfg","overlapConfig","getOverlappedConfig","viewLayerCtr","viewLayerProps","ComboUtil","getAxisData","globalOptions","getLegendData","topLayer","colorCfg","getColorConfig","overlappingLegend","legendItems","mergeLegendData","createLegend","legendPadding","getOverlappingPadding","axisComponents","axesLayout","leftAxis","containerLayer","drawYGrid","clearComponents","getGlobalOptions","mergeAxisScale","createAxis","shapeFactory","checked","markerValue","legendTheme","legendCfg","maxSize","titleDistance","autoWrap","itemMarginBottom","backgroundPadding","maxLength","Category","setLocation","filteredValue","pull","addLegendInteraction","paddingBbox","axisOptions","sameScaleTest","scaleValues","getCatScale","getLinearScale","mergeXAxis","isSameScale","calValues","linearScale","mergeYAxis","scaleMin","scaleMax","sampleDataSource","originalData","sampleField","tickValues","getAxisTicks","parser","toAxisStyle","verticalFactor","scalesInfo","singleGraph","scaleInfo","xAxisScale","xAxisHeight","yAxisScale","leftContainer","leftBbox","temp_width","axisLayout","axisPadding","ypos","gridCfg","gridGroup","labelItems","getUniqueItems","indexOfArray","tooltipCfg","tooltipTheme","panelGroup","coodinateBBox","frontgroundGroup","Html","renderTooltip","tooltipItems","getTooltipItems","determination","Y","predict","SSE","SST","yComp","interpose","iter","found","mp","visitPoints","iterations","isFinite","domain","X2Y","YLY","XYLY","XY","denominator","X","X2","slope","intercept","bandwidth","bw","xval","yval","yhat","residuals","robustWeights","i0","i1","edge","sumWeights","sumXSquared","sumY","sumXY","denom","xk","yk","tricube","xkw","meanX","meanY","meanXY","meanXSquared","updateInterval","medianResidual","logarithmic","XL","XLY","XL2","quadratic","valid","xSum","ySum","x2Sum","x3Sum","x4Sum","xySum","x2ySum","x2Val","sumXX","sumXX2","sumX2Y","sumX2X2","polynomial","coefficients","lhs","rhs","maxrow","gaussianElimination","coeff","power","XLYL","YL","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","stop"],"mappings":"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","file":"g2plot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"moment\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"moment\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"G2Plot\"] = factory(require(\"moment\"));\n\telse\n\t\troot[\"G2Plot\"] = factory(root[\"moment\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__63__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 154);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArrayLike = function (value) {\n    /**\n     * isArrayLike([1, 2, 3]) => true\n     * isArrayLike(document.body.children) => true\n     * isArrayLike('abc') => true\n     * isArrayLike(Function) => false\n     */\n    return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\nexports.default = isArrayLike;\n//# sourceMappingURL=is-array-like.js.map","import isArrayLike from './is-array-like';\nvar contains = function (arr, value) {\n    if (!isArrayLike(arr)) {\n        return false;\n    }\n    return arr.indexOf(value) > -1;\n};\nexport default contains;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexports.default = isType;\n//# sourceMappingURL=is-type.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (value) {\n    return Array.isArray ?\n        Array.isArray(value) :\n        is_type_1.default(value, 'Array');\n});\n//# sourceMappingURL=is-array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (value) {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n    var type = typeof value;\n    return value !== null && type === 'object' || type === 'function';\n});\n//# sourceMappingURL=is-object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_array_1 = require(\"./is-array\");\nvar is_object_1 = require(\"./is-object\");\nfunction each(elements, func) {\n    if (!elements) {\n        return;\n    }\n    var rst;\n    if (is_array_1.default(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n            rst = func(elements[i], i);\n            if (rst === false) {\n                break;\n            }\n        }\n    }\n    else if (is_object_1.default(elements)) {\n        for (var k in elements) {\n            if (elements.hasOwnProperty(k)) {\n                rst = func(elements[k], k);\n                if (rst === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\nexports.default = each;\n//# sourceMappingURL=each.js.map","import each from './each';\nimport isArrayLike from './is-array-like';\nvar filter = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        return arr;\n    }\n    var result = [];\n    each(arr, function (value, index) {\n        if (func(value, index)) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexport default filter;\n//# sourceMappingURL=filter.js.map","import filter from './filter';\nimport contains from './contains';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\nvar difference = function (arr, values) {\n    if (values === void 0) { values = []; }\n    return filter(arr, function (value) { return !contains(values, value); });\n};\nexport default difference;\n//# sourceMappingURL=difference.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 是否为函数\n * @param  {*} fn 对象\n * @return {Boolean}  是否函数\n */\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (value) {\n    return is_type_1.default(value, 'Function');\n});\n//# sourceMappingURL=is-function.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexports.default = isNil;\n//# sourceMappingURL=is-nil.js.map","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys ? function (obj) { return Object.keys(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(key);\n        }\n    });\n    return result;\n};\nexport default keys;\n//# sourceMappingURL=keys.js.map","import isNil from './is-nil';\nimport keys from './keys';\nfunction isMatch(obj, attrs) {\n    var _keys = keys(attrs);\n    var length = _keys.length;\n    if (isNil(obj))\n        return !length;\n    for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isMatch;\n//# sourceMappingURL=is-match.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\nexports.default = isObjectLike;\n//# sourceMappingURL=is-object-like.js.map","import isObjectLike from './is-object-like';\nimport isType from './is-type';\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n    if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\nexport default isPlainObject;\n//# sourceMappingURL=is-plain-object.js.map","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nfunction find(arr, predicate) {\n    if (!isArray(arr))\n        return null;\n    var _predicate;\n    if (isFunction(predicate)) {\n        _predicate = predicate;\n    }\n    if (isPlainObject(predicate)) {\n        _predicate = function (a) { return isMatch(a, predicate); };\n    }\n    if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n            if (_predicate(arr[i])) {\n                return arr[i];\n            }\n        }\n    }\n    return null;\n}\nexport default find;\n//# sourceMappingURL=find.js.map","function findIndex(arr, predicate, fromIndex) {\n    if (fromIndex === void 0) { fromIndex = 0; }\n    for (var i = fromIndex; i < arr.length; i++) {\n        if (predicate(arr[i], i)) {\n            // 找到终止循环\n            return i;\n        }\n    }\n    return -1;\n}\nexport default findIndex;\n//# sourceMappingURL=find-index.js.map","import isNil from './is-nil';\nimport isArray from './is-array';\nvar firstValue = function (data, name) {\n    var rst = null;\n    for (var i = 0; i < data.length; i++) {\n        var obj = data[i];\n        var value = obj[name];\n        if (!isNil(value)) {\n            if (isArray(value)) {\n                rst = value[0]; // todo 这里是否应该使用递归，调用 firstValue @绝云\n            }\n            else {\n                rst = value;\n            }\n            break;\n        }\n    }\n    return rst;\n};\nexport default firstValue;\n//# sourceMappingURL=first-value.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\nvar flatten = function (arr) {\n    if (!isArray(arr)) {\n        return [];\n    }\n    var rst = [];\n    for (var i = 0; i < arr.length; i++) {\n        rst = rst.concat(arr[i]);\n    }\n    return rst;\n};\nexport default flatten;\n//# sourceMappingURL=flatten.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\nvar flattenDeep = function (arr, result) {\n    if (result === void 0) { result = []; }\n    if (!isArray(arr)) {\n        result.push(arr);\n    }\n    else {\n        for (var i = 0; i < arr.length; i += 1) {\n            flattenDeep(arr[i], result);\n        }\n    }\n    return result;\n};\nexport default flattenDeep;\n//# sourceMappingURL=flatten-deep.js.map","import isArray from './is-array';\nimport filter from './filter';\nvar getRange = function (values) {\n    // 存在 NaN 时，min,max 判定会出问题\n    values = filter(values, function (v) {\n        return !isNaN(v);\n    });\n    if (!values.length) { // 如果没有数值则直接返回0\n        return {\n            min: 0,\n            max: 0\n        };\n    }\n    if (isArray(values[0])) {\n        var tmp = [];\n        for (var i = 0; i < values.length; i++) {\n            tmp = tmp.concat(values[i]);\n        }\n        values = tmp;\n    }\n    var max = Math.max.apply(null, values);\n    var min = Math.min.apply(null, values);\n    return {\n        min: min,\n        max: max\n    };\n};\nexport default getRange;\n//# sourceMappingURL=get-range.js.map","var arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\nvar pull = function (arr) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var fromIndex = -1;\n        while ((fromIndex = indexOf.call(arr, value)) > -1) {\n            splice.call(arr, fromIndex, 1);\n        }\n    }\n    return arr;\n};\nexport default pull;\n//# sourceMappingURL=pull.js.map","import isArrayLike from './is-array-like';\nvar splice = Array.prototype.splice;\nvar pullAt = function pullAt(arr, indexes) {\n    if (!isArrayLike(arr)) {\n        return [];\n    }\n    var length = arr ? indexes.length : 0;\n    var last = length - 1;\n    while (length--) {\n        var previous = void 0;\n        var index = indexes[length];\n        if (length === last || index !== previous) {\n            previous = index;\n            splice.call(arr, index, 1);\n        }\n    }\n    return arr;\n};\nexport default pullAt;\n//# sourceMappingURL=pull-at.js.map","import each from './each';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar reduce = function (arr, fn, init) {\n    if (!isArray(arr) && !isPlainObject(arr)) {\n        return arr;\n    }\n    var result = init;\n    each(arr, function (data, i) {\n        result = fn(result, data, i);\n    });\n    return result;\n};\nexport default reduce;\n//# sourceMappingURL=reduce.js.map","import isArrayLike from './is-array-like';\nimport pullAt from './pull-at';\nvar remove = function (arr, predicate) {\n    /**\n     * const arr = [1, 2, 3, 4]\n     * const evens = remove(arr, n => n % 2 == 0)\n     * console.log(arr) // => [1, 3]\n     * console.log(evens) // => [2, 4]\n     */\n    var result = [];\n    if (!isArrayLike(arr)) {\n        return result;\n    }\n    var i = -1;\n    var indexes = [];\n    var length = arr.length;\n    while (++i < length) {\n        var value = arr[i];\n        if (predicate(value, i, arr)) {\n            result.push(value);\n            indexes.push(i);\n        }\n    }\n    pullAt(arr, indexes);\n    return result;\n};\nexport default remove;\n//# sourceMappingURL=remove.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (str) {\n    return is_type_1.default(str, 'String');\n});\n//# sourceMappingURL=is-string.js.map","import isArray from './is-array';\nimport isString from './is-string';\nimport isFunction from './is-function';\nfunction sortBy(arr, key) {\n    var comparer;\n    if (isFunction(key)) {\n        comparer = function (a, b) { return key(a) - key(b); };\n    }\n    else {\n        var keys_1 = [];\n        if (isString(key)) {\n            keys_1.push(key);\n        }\n        else if (isArray(key)) {\n            keys_1 = key;\n        }\n        comparer = function (a, b) {\n            for (var i = 0; i < keys_1.length; i += 1) {\n                var prop = keys_1[i];\n                if (a[prop] > b[prop]) {\n                    return 1;\n                }\n                if (a[prop] < b[prop]) {\n                    return -1;\n                }\n            }\n            return 0;\n        };\n    }\n    arr.sort(comparer);\n    return arr;\n}\nexport default sortBy;\n//# sourceMappingURL=sort-by.js.map","import contains from './contains';\nimport each from './each';\nvar uniq = function (arr) {\n    var resultArr = [];\n    each(arr, function (item) {\n        if (!contains(resultArr, item)) {\n            resultArr.push(item);\n        }\n    });\n    return resultArr;\n};\nexport default uniq;\n//# sourceMappingURL=uniq.js.map","import uniq from './uniq';\nvar union = function () {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return uniq([].concat.apply([], sources));\n};\nexport default union;\n//# sourceMappingURL=union.js.map","import each from './each';\nimport isArray from './is-array';\nimport isNil from './is-nil';\nexport default (function (data, name) {\n    var rst = [];\n    var tmpMap = {};\n    data.forEach(function (obj) {\n        var value = obj[name];\n        if (!isNil(value)) {\n            // flatten\n            if (!isArray(value)) {\n                value = [value];\n            }\n            each(value, function (val) {\n                // unique\n                if (!tmpMap[val]) {\n                    rst.push(val);\n                    tmpMap[val] = true;\n                }\n            });\n        }\n    });\n    return rst;\n});\n//# sourceMappingURL=values-of-key.js.map","import isArrayLike from './is-array-like';\nexport default function head(o) {\n    if (isArrayLike(o)) {\n        return o[0];\n    }\n    return undefined;\n}\n//# sourceMappingURL=head.js.map","import isArrayLike from './is-array-like';\nexport default function last(o) {\n    if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n    }\n    return undefined;\n}\n//# sourceMappingURL=last.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction startsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[0] === e : false;\n}\nexport default startsWith;\n//# sourceMappingURL=starts-with.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction endsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[arr.length - 1] === e : false;\n}\nexport default endsWith;\n//# sourceMappingURL=ends-with.js.map","/**\n * 只要有一个不满足条件就返回 false\n * @param arr\n * @param func\n */\nvar every = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (!func(arr[i], i))\n            return false;\n    }\n    return true;\n};\nexport default every;\n//# sourceMappingURL=every.js.map","/**\n * 只要有一个满足条件就返回 true\n * @param arr\n * @param func\n */\nvar some = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (func(arr[i], i))\n            return true;\n    }\n    return false;\n};\nexport default some;\n//# sourceMappingURL=some.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction groupBy(data, condition) {\n    if (!condition || !isArray(data)) {\n        return {};\n    }\n    var result = {};\n    // 兼容方法和 字符串的写法\n    var predicate = isFunction(condition) ? condition : function (item) { return item[condition]; };\n    var key;\n    each(data, function (item) {\n        key = predicate(item);\n        if (hasOwnProperty.call(result, key)) {\n            result[key].push(item);\n        }\n        else {\n            result[key] = [item];\n        }\n    });\n    return result;\n}\nexport default groupBy;\n//# sourceMappingURL=group-by.js.map","import isArray from './is-array';\nimport isFunction from './is-function';\nimport groupBy from './group-by';\nvar groupToMap = function (data, condition) {\n    if (!condition) {\n        return {\n            0: data\n        };\n    }\n    if (!isFunction(condition)) {\n        var paramsCondition_1 = isArray(condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n        condition = function (row) {\n            var unique = '_'; // 避免出现数字作为Key的情况，会进行按照数字的排序\n            for (var i = 0, l = paramsCondition_1.length; i < l; i++) {\n                unique += row[paramsCondition_1[i]] && row[paramsCondition_1[i]].toString();\n            }\n            return unique;\n        };\n    }\n    var groups = groupBy(data, condition);\n    return groups;\n};\nexport default groupToMap;\n//# sourceMappingURL=group-to-map.js.map","import { __extends } from \"tslib\";\nimport { AbstractGroup } from '@antv/g-base';\nimport { each } from '@antv/util';\nimport * as Shape from './shape';\nimport { drawChildren, refreshElement } from './util/draw';\nimport { setClip, setTransform } from './util/svg';\nimport { SVG_ATTR_MAP } from './constant';\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // SVG 中分组对应实体标签 <g>\n    Group.prototype.isEntityGroup = function () {\n        return true;\n    };\n    Group.prototype.createDom = function () {\n        var element = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n        this.set('el', element);\n        var parent = this.getParent();\n        if (parent) {\n            var parentNode = parent.get('el');\n            if (parentNode) {\n                parentNode.appendChild(element);\n            }\n            else {\n                // parentNode maybe null for group\n                parentNode = parent.createDom();\n                parent.set('el', parentNode);\n                parentNode.appendChild(element);\n            }\n        }\n        return element;\n    };\n    // 覆盖基类的 afterAttrsChange 方法\n    Group.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        var canvas = this.get('canvas');\n        // 只有挂载到画布下，才对元素进行实际渲染\n        if (canvas && canvas.get('autoDraw')) {\n            var context = canvas.get('context');\n            this.createPath(context, targetAttrs);\n        }\n    };\n    /**\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    Group.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    Group.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Group.prototype.getGroupBase = function () {\n        return Group;\n    };\n    Group.prototype.draw = function (context) {\n        var children = this.getChildren();\n        var el = this.get('el');\n        if (this.get('destroyed')) {\n            if (el) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else {\n            if (!el) {\n                this.createDom();\n            }\n            setClip(this, context);\n            this.createPath(context);\n            if (children.length) {\n                drawChildren(context, children);\n            }\n        }\n    };\n    /**\n     * 绘制分组的路径\n     * @param {Defs} context 上下文\n     * @param {ShapeAttrs} targetAttrs 渲染的目标属性\n     */\n    Group.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n        setTransform(this);\n    };\n    return Group;\n}(AbstractGroup));\nexport default Group;\n//# sourceMappingURL=group.js.map","/**\n * 获取封装的事件\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction getWrapBehavior(obj, action) {\n    return obj['_wrap_' + action];\n}\nexport default getWrapBehavior;\n//# sourceMappingURL=get-wrap-behavior.js.map","/**\n * 封装事件，便于使用上下文this,和便于解除事件时使用\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction wrapBehavior(obj, action) {\n    if (obj['_wrap_' + action]) {\n        return obj['_wrap_' + action];\n    }\n    var method = function (e) {\n        obj[action](e);\n    };\n    obj['_wrap_' + action] = method;\n    return method;\n}\nexport default wrapBehavior;\n//# sourceMappingURL=wrap-behavior.js.map","var numColorCache = {};\nfunction numberToColor(num) {\n    // 增加缓存\n    var color = numColorCache[num];\n    if (!color) {\n        var str = num.toString(16);\n        for (var i = str.length; i < 6; i++) {\n            str = '0' + str;\n        }\n        color = '#' + str;\n        numColorCache[num] = color;\n    }\n    return color;\n}\nexport default numberToColor;\n//# sourceMappingURL=number2color.js.map","import isArray from './is-array';\nfunction parseRadius(radius) {\n    var r1 = 0, r2 = 0, r3 = 0, r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4\n    };\n}\nexport default parseRadius;\n//# sourceMappingURL=parse-radius.js.map","var clamp = function (a, min, max) {\n    if (a < min) {\n        return min;\n    }\n    else if (a > max) {\n        return max;\n    }\n    return a;\n};\nexport default clamp;\n//# sourceMappingURL=clamp.js.map","var fixedBase = function (v, base) {\n    var str = base.toString();\n    var index = str.indexOf('.');\n    if (index === -1) {\n        return Math.round(v);\n    }\n    var length = str.substr(index + 1).length;\n    if (length > 20) {\n        length = 20;\n    }\n    return parseFloat(v.toFixed(length));\n};\nexport default fixedBase;\n//# sourceMappingURL=fixed-base.js.map","/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","import isNumber from './is-number';\nvar isDecimal = function (num) {\n    return isNumber(num) && num % 1 !== 0;\n};\nexport default isDecimal;\n//# sourceMappingURL=is-decimal.js.map","import isNumber from './is-number';\nvar isEven = function (num) {\n    return isNumber(num) && num % 2 === 0;\n};\nexport default isEven;\n//# sourceMappingURL=is-even.js.map","import isNumber from './is-number';\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n    return isNumber(num) && num % 1 === 0;\n};\nexport default isInteger;\n//# sourceMappingURL=is-integer.js.map","import isNumber from './is-number';\nvar isNegative = function (num) {\n    return isNumber(num) && num < 0;\n};\nexport default isNegative;\n//# sourceMappingURL=is-negative.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PRECISION = 0.00001; // numbers less than this is considered as 0\nfunction isNumberEqual(a, b, precision) {\n    if (precision === void 0) { precision = PRECISION; }\n    return Math.abs((a - b)) < precision;\n}\nexports.default = isNumberEqual;\n;\n//# sourceMappingURL=is-number-equal.js.map","import isNumber from './is-number';\nvar isOdd = function (num) {\n    return isNumber(num) && num % 2 !== 0;\n};\nexport default isOdd;\n//# sourceMappingURL=is-odd.js.map","import isNumber from './is-number';\nvar isPositive = function (num) {\n    return isNumber(num) && num > 0;\n};\nexport default isPositive;\n//# sourceMappingURL=is-positive.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var max = arr[0];\n    var maxData;\n    if (isFunction(fn)) {\n        maxData = fn(arr[0]);\n    }\n    else {\n        maxData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data > maxData) {\n            max = val;\n            maxData = data;\n        }\n    });\n    return max;\n});\n//# sourceMappingURL=max-by.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var min = arr[0];\n    var minData;\n    if (isFunction(fn)) {\n        minData = fn(arr[0]);\n    }\n    else {\n        minData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data < minData) {\n            min = val;\n            minData = data;\n        }\n    });\n    return min;\n});\n//# sourceMappingURL=min-by.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mod = function (n, m) {\n    return ((n % m) + m) % m;\n};\nexports.default = mod;\n//# sourceMappingURL=mod.js.map","var DEGREE = 180 / Math.PI;\nvar toDegree = function (radian) {\n    return DEGREE * radian;\n};\nexport default toDegree;\n//# sourceMappingURL=to-degree.js.map","export default parseInt;\n//# sourceMappingURL=to-integer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RADIAN = Math.PI / 180;\nvar toRadian = function (degree) {\n    return RADIAN * degree;\n};\nexports.default = toRadian;\n//# sourceMappingURL=to-radian.js.map","import each from './each';\nexport default each;\n//# sourceMappingURL=for-in.js.map","export default (function (obj, key) { return obj.hasOwnProperty(key); });\n//# sourceMappingURL=has.js.map","import has from './has';\nexport default has;\n//# sourceMappingURL=has-key.js.map","import each from './each';\nimport isFunction from './is-function';\n// @ts-ignore\nvar values = Object.values ? function (obj) { return Object.values(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexport default values;\n//# sourceMappingURL=values.js.map","import contains from './contains';\nimport values from './values';\nexport default (function (obj, value) { return contains(values(obj), value); });\n//# sourceMappingURL=has-value.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_nil_1 = require(\"./is-nil\");\nexports.default = (function (value) {\n    if (is_nil_1.default(value))\n        return '';\n    return value.toString();\n});\n//# sourceMappingURL=to-string.js.map","import toString from './to-string';\nvar lowerCase = function (str) {\n    return toString(str).toLowerCase();\n};\nexport default lowerCase;\n//# sourceMappingURL=lower-case.js.map","import toString from './to-string';\nvar lowerFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\nexport default lowerFirst;\n//# sourceMappingURL=lower-first.js.map","function substitute(str, o) {\n    if (!str || !o) {\n        return str;\n    }\n    return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n            return match.slice(1);\n        }\n        return (o[name] === undefined) ? '' : o[name];\n    });\n}\nexport default substitute;\n//# sourceMappingURL=substitute.js.map","import toString from './to-string';\nvar upperCase = function (str) {\n    return toString(str).toUpperCase();\n};\nexport default upperCase;\n//# sourceMappingURL=upper-case.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar to_string_1 = require(\"./to-string\");\nvar upperFirst = function (value) {\n    var str = to_string_1.default(value);\n    return str.charAt(0).toUpperCase() + str.substring(1);\n};\nexports.default = upperFirst;\n//# sourceMappingURL=upper-first.js.map","var toString = {}.toString;\nvar getType = function (value) {\n    return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\nexport default getType;\n//# sourceMappingURL=get-type.js.map","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isArguments = function (value) {\n    return isType(value, 'Arguments');\n};\nexport default isArguments;\n//# sourceMappingURL=is-arguments.js.map","/**\n * 是否是布尔类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isBoolean = function (value) {\n    return isType(value, 'Boolean');\n};\nexport default isBoolean;\n//# sourceMappingURL=is-boolean.js.map","import isType from './is-type';\nvar isDate = function (value) {\n    return isType(value, 'Date');\n};\nexport default isDate;\n//# sourceMappingURL=is-date.js.map","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isError = function (value) {\n    return isType(value, 'Error');\n};\nexport default isError;\n//# sourceMappingURL=is-error.js.map","/**\n * 判断是否为有限数\n * @return {Boolean}\n */\nimport isNumber from './is-number';\nexport default function (value) {\n    return isNumber(value) && isFinite(value);\n}\n//# sourceMappingURL=is-finite.js.map","var isNull = function (value) {\n    return value === null;\n};\nexport default isNull;\n//# sourceMappingURL=is-null.js.map","var objectProto = Object.prototype;\nvar isPrototype = function (value) {\n    var Ctor = value && value.constructor;\n    var proto = (typeof Ctor === 'function' && Ctor.prototype) || objectProto;\n    return value === proto;\n};\nexport default isPrototype;\n//# sourceMappingURL=is-prototype.js.map","import isType from './is-type';\nvar isRegExp = function (str) {\n    return isType(str, 'RegExp');\n};\nexport default isRegExp;\n//# sourceMappingURL=is-reg-exp.js.map","var isUndefined = function (value) {\n    return value === undefined;\n};\nexport default isUndefined;\n//# sourceMappingURL=is-undefined.js.map","/**\n * 判断是否HTML元素\n * @return {Boolean} 是否HTML元素\n */\nvar isElement = function (o) {\n    return o instanceof Element || o instanceof HTMLDocument;\n};\nexport default isElement;\n//# sourceMappingURL=is-element.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction requestAnimationFrame(fn) {\n    var method = window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        // @ts-ignore\n        window.mozRequestAnimationFrame ||\n        // @ts-ignore\n        window.msRequestAnimationFrame ||\n        function (f) {\n            return setTimeout(f, 16);\n        };\n    return method(fn);\n}\nexports.default = requestAnimationFrame;\n;\n//# sourceMappingURL=request-animation-frame.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction cancelAnimationFrame(handler) {\n    var method = window.cancelAnimationFrame ||\n        window.webkitCancelAnimationFrame ||\n        // @ts-ignore\n        window.mozCancelAnimationFrame ||\n        // @ts-ignore\n        window.msCancelAnimationFrame ||\n        clearTimeout;\n    method(handler);\n}\nexports.default = cancelAnimationFrame;\n;\n//# sourceMappingURL=clear-animation-frame.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n            dist[key] = obj[key];\n        }\n    }\n}\nfunction mix(dist, src1, src2, src3) {\n    if (src1)\n        _mix(dist, src1);\n    if (src2)\n        _mix(dist, src2);\n    if (src3)\n        _mix(dist, src3);\n    return dist;\n}\nexports.default = mix;\n//# sourceMappingURL=mix.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar augment = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var c = args[0];\n    for (var i = 1; i < args.length; i++) {\n        var obj = args[i];\n        if (isFunction(obj)) {\n            obj = obj.prototype;\n        }\n        mix(c.prototype, obj);\n    }\n};\nexport default augment;\n//# sourceMappingURL=augment.js.map","import isArray from './is-array';\nvar clone = function (obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    var rst;\n    if (isArray(obj)) {\n        rst = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n            if (typeof obj[i] === 'object' && obj[i] != null) {\n                rst[i] = clone(obj[i]);\n            }\n            else {\n                rst[i] = obj[i];\n            }\n        }\n    }\n    else {\n        rst = {};\n        for (var k in obj) {\n            if (typeof obj[k] === 'object' && obj[k] != null) {\n                rst[k] = clone(obj[k]);\n            }\n            else {\n                rst[k] = obj[k];\n            }\n        }\n    }\n    return rst;\n};\nexport default clone;\n//# sourceMappingURL=clone.js.map","function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nexport default debounce;\n//# sourceMappingURL=debounce.js.map","import isFunction from './is-function';\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\nexport default (function (f, resolver) {\n    if (!isFunction(f)) {\n        throw new TypeError('Expected a function');\n    }\n    var memoized = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // 使用方法构造 key，如果不存在 resolver，则直接取第一个参数作为 key\n        var key = resolver ? resolver.apply(this, args) : args[0];\n        var cache = memoized.cache;\n        if (cache.has(key)) {\n            return cache.get(key);\n        }\n        var result = f.apply(this, args);\n        // 缓存起来\n        cache.set(key, result);\n        return result;\n    };\n    memoized.cache = new Map();\n    return memoized;\n});\n//# sourceMappingURL=memoize.js.map","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\nfunction _deepMix(dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n            var value = src[key];\n            if (value !== null && isPlainObject(value)) {\n                if (!isPlainObject(dist[key])) {\n                    dist[key] = {};\n                }\n                if (level < maxLevel) {\n                    _deepMix(dist[key], value, level + 1, maxLevel);\n                }\n                else {\n                    dist[key] = src[key];\n                }\n            }\n            else if (isArray(value)) {\n                dist[key] = [];\n                dist[key] = dist[key].concat(value);\n            }\n            else if (value !== undefined) {\n                dist[key] = value;\n            }\n        }\n    }\n}\n// todo 重写\nvar deepMix = function (rst) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n    }\n    return rst;\n};\nexport default deepMix;\n//# sourceMappingURL=deep-mix.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar extend = function (subclass, superclass, overrides, staticOverrides) {\n    // 如果只提供父类构造函数，则自动生成子类构造函数\n    if (!isFunction(superclass)) {\n        overrides = superclass;\n        superclass = subclass;\n        subclass = function () { };\n    }\n    var create = Object.create ?\n        function (proto, c) {\n            return Object.create(proto, {\n                constructor: {\n                    value: c\n                }\n            });\n        } :\n        function (proto, c) {\n            function Tmp() { }\n            Tmp.prototype = proto;\n            var o = new Tmp();\n            o.constructor = c;\n            return o;\n        };\n    var superObj = create(superclass.prototype, subclass); // new superclass(),//实例化父类作为子类的prototype\n    subclass.prototype = mix(superObj, subclass.prototype); // 指定子类的prototype\n    subclass.superclass = create(superclass.prototype, superclass);\n    mix(superObj, overrides);\n    mix(subclass, staticOverrides);\n    return subclass;\n};\nexport default extend;\n//# sourceMappingURL=extend.js.map","import isArrayLike from './is-array-like';\nvar indexOf = function (arr, obj) {\n    if (!isArrayLike(arr)) {\n        return -1;\n    }\n    var m = Array.prototype.indexOf;\n    if (m) {\n        return m.call(arr, obj);\n    }\n    var index = -1;\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n};\nexport default indexOf;\n//# sourceMappingURL=index-of.js.map","import isNil from './is-nil';\nimport isArrayLike from './is-array-like';\nimport getType from './get-type';\nimport isPrototype from './is-prototype';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isEmpty(value) {\n    /**\n     * isEmpty(null) => true\n     * isEmpty() => true\n     * isEmpty(true) => true\n     * isEmpty(1) => true\n     * isEmpty([1, 2, 3]) => false\n     * isEmpty('abc') => false\n     * isEmpty({ a: 1 }) => false\n     */\n    if (isNil(value)) {\n        return true;\n    }\n    if (isArrayLike(value)) {\n        return !value.length;\n    }\n    var type = getType(value);\n    if (type === 'Map' || type === 'Set') {\n        return !value.size;\n    }\n    if (isPrototype(value)) {\n        return !Object.keys(value).length;\n    }\n    for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isEmpty;\n//# sourceMappingURL=is-empty.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_object_like_1 = require(\"./is-object-like\");\nvar is_array_like_1 = require(\"./is-array-like\");\nvar is_string_1 = require(\"./is-string\");\nvar isEqual = function (value, other) {\n    if (value === other) {\n        return true;\n    }\n    if (!value || !other) {\n        return false;\n    }\n    if (is_string_1.default(value) || is_string_1.default(other)) {\n        return false;\n    }\n    if (is_array_like_1.default(value) || is_array_like_1.default(other)) {\n        if (value.length !== other.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < value.length; i++) {\n            rst = isEqual(value[i], other[i]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    if (is_object_like_1.default(value) || is_object_like_1.default(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n        if (valueKeys.length !== otherKeys.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < valueKeys.length; i++) {\n            rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    return false;\n};\nexports.default = isEqual;\n//# sourceMappingURL=is-equal.js.map","import isFunction from './is-function';\nimport isEqual from './is-equal';\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\nexport default (function (value, other, fn) {\n    if (!isFunction(fn)) {\n        return isEqual(value, other);\n    }\n    return !!fn(value, other);\n});\n//# sourceMappingURL=is-equal-with.js.map","import each from './each';\nimport isArrayLike from './is-array-like';\nvar map = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n    }\n    var result = [];\n    each(arr, function (value, index) {\n        result.push(func(value, index));\n    });\n    return result;\n};\nexport default map;\n//# sourceMappingURL=map.js.map","import isNil from './is-nil';\nimport isObject from './is-object';\nvar identity = function (v) { return v; };\nexport default (function (object, func) {\n    if (func === void 0) { func = identity; }\n    var r = {};\n    if (isObject(object) && !isNil(object)) {\n        Object.keys(object).forEach(function (key) {\n            // @ts-ignore\n            r[key] = func(object[key], key);\n        });\n    }\n    return r;\n});\n//# sourceMappingURL=map-values.js.map","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\nexport default (function (obj, key, defaultValue) {\n    var p = 0;\n    var keyArr = isString(key) ? key.split('.') : key;\n    while (obj && p < keyArr.length) {\n        obj = obj[keyArr[p++]];\n    }\n    return (obj === undefined || p < keyArr.length) ? defaultValue : obj;\n});\n//# sourceMappingURL=get.js.map","import isObject from './is-object';\nimport isString from './is-string';\nimport isNumber from './is-number';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param path\n * @param value\n */\nexport default (function (obj, path, value) {\n    var o = obj;\n    var keyArr = isString(path) ? path.split('.') : path;\n    keyArr.forEach(function (key, idx) {\n        // 不是最后一个\n        if (idx < keyArr.length - 1) {\n            if (!isObject(o[key])) {\n                o[key] = isNumber(keyArr[idx + 1]) ? [] : {};\n            }\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return obj;\n});\n//# sourceMappingURL=set.js.map","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n    if (object === null || !isPlainObject(object)) {\n        return {};\n    }\n    var result = {};\n    each(keys, function (key) {\n        if (hasOwnProperty.call(object, key)) {\n            result[key] = object[key];\n        }\n    });\n    return result;\n});\n//# sourceMappingURL=pick.js.map","export default (function (func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options)\n        options = {};\n    var later = function () {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout)\n            context = args = null;\n    };\n    var throttled = function () {\n        var now = Date.now();\n        if (!previous && options.leading === false)\n            previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n    throttled.cancel = function () {\n        clearTimeout(timeout);\n        previous = 0;\n        timeout = context = args = null;\n    };\n    return throttled;\n});\n//# sourceMappingURL=throttle.js.map","import isArrayLike from './is-array-like';\nexport default (function (value) {\n    return isArrayLike(value) ? Array.prototype.slice.call(value) : [];\n});\n//# sourceMappingURL=to-array.js.map","var map = {};\nexport default (function (prefix) {\n    prefix = prefix || 'g';\n    if (!map[prefix]) {\n        map[prefix] = 1;\n    }\n    else {\n        map[prefix] += 1;\n    }\n    return prefix + map[prefix];\n});\n//# sourceMappingURL=unique-id.js.map","export default (function () { });\n//# sourceMappingURL=noop.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from './base';\n/**\n * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n */\nvar Identity = /** @class */ (function (_super) {\n    __extends(Identity, _super);\n    function Identity() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Identity.prototype, \"_unknown\", {\n        get: function () {\n            /**\n             * 兼容G2:\n             * 实现一维图形时，例如position中x不存在时，Identity的values为[]，\n             * scale(undefined)的期望结果是值域最小值\n             */\n            if (_.has(this.__cfg__, 'unknown')) {\n                return this.__cfg__.unknown;\n            }\n            return this.range[0];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Identity.prototype.scale = function (value) {\n        return this._scale(value);\n    };\n    Identity.prototype.invert = function (scaled) {\n        return this._scale(scaled);\n    };\n    Identity.prototype._initDefaultCfg = function () {\n        this.type = 'identity';\n        this.values = [];\n        this.isIdentity = true;\n    };\n    Identity.prototype._init = function () { };\n    Identity.prototype._scale = function (value) {\n        if (_.isNumber(value)) {\n            return value;\n        }\n        return this._unknown;\n    };\n    return Identity;\n}(Base));\nexport default Identity;\n//# sourceMappingURL=identity.js.map","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n    if (isNil(o)) {\n        return 0;\n    }\n    if (isArraylike(o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\n//# sourceMappingURL=size.js.map","/**\n * k-v 存储\n */\nvar default_1 = /** @class */ (function () {\n    function default_1() {\n        this.map = {};\n    }\n    default_1.prototype.has = function (key) {\n        return this.map[key] !== undefined;\n    };\n    default_1.prototype.get = function (key, def) {\n        var v = this.map[key];\n        return v === undefined ? def : v;\n    };\n    default_1.prototype.set = function (key, value) {\n        this.map[key] = value;\n    };\n    default_1.prototype.clear = function () {\n        this.map = {};\n    };\n    default_1.prototype.delete = function (key) {\n        delete this.map[key];\n    };\n    default_1.prototype.size = function () {\n        return Object.keys(this.map).length;\n    };\n    return default_1;\n}());\nexport default default_1;\n//# sourceMappingURL=cache.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import * as mat3 from '@antv/gl-matrix/lib/gl-matrix/mat3';\nmat3.translate = function (out, a, v) {\n    var transMat = new Array(9);\n    mat3.fromTranslation(transMat, v);\n    return mat3.multiply(out, transMat, a);\n};\nmat3.rotate = function (out, a, rad) {\n    var rotateMat = new Array(9);\n    mat3.fromRotation(rotateMat, rad);\n    return mat3.multiply(out, rotateMat, a);\n};\nmat3.scale = function (out, a, v) {\n    var scaleMat = new Array(9);\n    mat3.fromScaling(scaleMat, v);\n    return mat3.multiply(out, scaleMat, a);\n};\nmat3.transform = function (m, actions) {\n    var out = [].concat(m);\n    for (var i = 0, len = actions.length; i < len; i++) {\n        var action = actions[i];\n        switch (action[0]) {\n            case 't':\n                mat3.translate(out, out, [action[1], action[2]]);\n                break;\n            case 's':\n                mat3.scale(out, out, [action[1], action[2]]);\n                break;\n            case 'r':\n                mat3.rotate(out, out, action[1]);\n                break;\n            default:\n                break;\n        }\n    }\n    return out;\n};\nexport default mat3;\n//# sourceMappingURL=mat3.js.map","import * as vec2 from '@antv/gl-matrix/lib/gl-matrix/vec2';\nimport { clamp } from '@antv/util';\nvec2.angle = function (v1, v2) {\n    var theta = vec2.dot(v1, v2) / (vec2.length(v1) * vec2.length(v2));\n    return Math.acos(clamp(theta, -1, 1));\n};\n/**\n * 向量 v1 到 向量 v2 夹角的方向\n * @param  {Array} v1 向量\n * @param  {Array} v2 向量\n * @return {Boolean} >= 0 顺时针 < 0 逆时针\n */\nvec2.direction = function (v1, v2) {\n    return v1[0] * v2[1] - v2[0] * v1[1];\n};\nvec2.angleTo = function (v1, v2, direct) {\n    var angle = vec2.angle(v1, v2);\n    var angleLargeThanPI = vec2.direction(v1, v2) >= 0;\n    if (direct) {\n        if (angleLargeThanPI) {\n            return Math.PI * 2 - angle;\n        }\n        return angle;\n    }\n    if (angleLargeThanPI) {\n        return angle;\n    }\n    return Math.PI * 2 - angle;\n};\nvec2.vertical = function (out, v, flag) {\n    if (flag) {\n        out[0] = v[1];\n        out[1] = -1 * v[0];\n    }\n    else {\n        out[0] = -1 * v[1];\n        out[1] = v[0];\n    }\n    return out;\n};\nexport default vec2;\n//# sourceMappingURL=vec2.js.map","import * as vec3 from '@antv/gl-matrix/lib/gl-matrix/vec3';\nexport default vec3;\n//# sourceMappingURL=vec3.js.map","import { each, clone } from '@antv/util';\nimport mat3 from './mat3';\nexport default (function (m, ts) {\n    // 上层使用时会传入为 null 的 matrix，此时按照单位矩阵处理\n    var matrix = m ? clone(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    each(ts, function (t) {\n        switch (t[0]) {\n            case 't':\n                mat3.translate(matrix, matrix, [t[1], t[2]]);\n                break;\n            case 's':\n                mat3.scale(matrix, matrix, [t[1], t[2]]);\n                break;\n            case 'r':\n                mat3.rotate(matrix, matrix, t[1]);\n                break;\n            case 'm':\n                mat3.multiply(matrix, matrix, t[1]);\n                break;\n            default:\n                return false;\n        }\n    });\n    return matrix;\n});\n//# sourceMappingURL=transform.js.map","import EventEmitter from '@antv/event-emitter';\nimport { ICanvas } from '../dependents';\nimport { isNil, each, findIndex, deepMix, keys, contains, isFunction } from '@antv/util';\nimport { RecursivePartial, LooseMap } from '../interface/types';\nimport StateManager from '../util/state-manager';\nimport CanvasController from './controller/canvas';\nimport EventController from './controller/event';\nimport { getPlotType } from './global';\nimport Layer from './layer';\nimport ViewLayer from './view-layer';\nimport { CANVAS_EVENT_MAP } from '../util/event';\n\nexport interface PlotConfig {\n  forceFit?: boolean;\n  width?: number;\n  renderer?: string;\n  height?: number;\n  pixelRatio?: number;\n  theme?: LooseMap | string;\n}\n\ninterface LayerCtor<C> extends ViewLayer<C> {}\n\nexport default class BasePlot<\n  T extends PlotConfig = PlotConfig,\n  L extends LayerCtor<T> = LayerCtor<T>\n> extends EventEmitter {\n  public width: number;\n  public height: number;\n  public forceFit: boolean;\n  public renderer: string;\n  public pixelRatio: number;\n  public theme: string | object;\n  public canvas: ICanvas;\n  public destroyed: boolean;\n  protected layers: Array<L>;\n  private canvasController: CanvasController;\n  private eventController: EventController;\n  protected containerDOM: HTMLElement;\n\n  constructor(container: HTMLElement, props: T) {\n    super();\n    this.containerDOM = typeof container === 'string' ? document.getElementById(container) : container;\n    this.forceFit = !isNil(props.forceFit) ? props.forceFit : isNil(props.width) && isNil(props.height);\n    this.renderer = props.renderer || 'canvas';\n    this.pixelRatio = props.pixelRatio || null;\n    this.width = props.width;\n    this.height = props.height;\n    this.theme = props.theme;\n    this.canvasController = new CanvasController({\n      containerDOM: this.containerDOM,\n      plot: this,\n    });\n    /** update layer properties */\n    this.width = this.canvasController.width;\n    this.height = this.canvasController.height;\n    this.canvas = this.canvasController.canvas;\n    this.layers = [];\n    this.destroyed = false;\n\n    this.createLayers(props);\n\n    /** bind events */\n    this.eventController = new EventController({\n      plot: this,\n      canvas: this.canvasController.canvas,\n    });\n\n    this.eventController.bindEvents();\n    this.parseEvents(props);\n  }\n\n  /** 生命周期 */\n  public destroy() {\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    this.canvasController.destroy();\n    this.eventController.clearEvents();\n    this.layers = [];\n    this.destroyed = true;\n  }\n\n  /**\n   * 重新绘制图形\n   */\n  public repaint(): void {\n    this.canvasController.canvas.draw();\n  }\n\n  public updateConfig(config: RecursivePartial<T>, all: boolean = false) {\n    if (all) {\n      this.eachLayer((layer) => {\n        if (layer instanceof ViewLayer) {\n          layer.updateConfig(config);\n        }\n      });\n    } else {\n      const layer: any = this.layers[0];\n      if (layer instanceof Layer) {\n        layer.updateConfig(config);\n      }\n    }\n\n    if (config.width) {\n      this.width = config.width as number;\n    }\n    if (config.height) {\n      this.height = config.height as number;\n    }\n    if (config.theme) {\n      this.theme = config.theme;\n    }\n\n    this.canvasController.updateCanvasSize();\n    this.canvasController.updateCanvasTheme();\n  }\n\n  public changeData(data: any[], all: boolean = false) {\n    if (all) {\n      this.eachLayer((layer) => {\n        if (layer instanceof ViewLayer) {\n          layer.changeData(data);\n        }\n      });\n    } else {\n      const layer: any = this.layers[0];\n      if (layer instanceof ViewLayer) {\n        layer.changeData(data);\n      }\n    }\n  }\n\n  public getPlotTheme() {\n    const layer: any = this.layers[0];\n    return layer.getPlotTheme();\n  }\n\n  public getData() {\n    const layer: any = this.layers[0];\n    return layer.getData();\n  }\n\n  /**\n   * 绑定一个外部的stateManager\n   * 先直接传递给各个子 Layer\n   *\n   *  @param stateManager\n   *  @param cfg\n   */\n  public bindStateManager(stateManager: StateManager, cfg: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.bindStateManager(stateManager, cfg);\n      }\n    });\n  }\n\n  /**\n   * 响应状态量更新的快捷方法\n   *\n   *  @param condition\n   * @param style\n   */\n  public setActive(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setActive(condition, style);\n      }\n    });\n  }\n\n  public setSelected(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setSelected(condition, style);\n      }\n    });\n  }\n\n  public setDisable(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setDisable(condition, style);\n      }\n    });\n  }\n\n  public setDefault(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setDefault(condition, style);\n      }\n    });\n  }\n\n  /**\n   * 获取 Plot 的 View\n   */\n  public getView() {\n    // 临时：避免 getLayer 的类型转换问题\n    return (this.layers[0] as ViewLayer<T>).view;\n  }\n\n  /**\n   * 获取图形下的图层 Layer，默认第一个 Layer\n   * @param idx\n   */\n  public getLayer(idx: number = 0) {\n    return this.layers[idx];\n  }\n\n  public getCanvas() {\n    return this.canvasController.canvas;\n  }\n\n  public getLayers() {\n    return this.layers;\n  }\n\n  public render() {\n    this.eachLayer((layer) => layer.render());\n  }\n\n  protected eachLayer(cb: (layer: Layer<any>) => void) {\n    each(this.layers, cb);\n  }\n\n  /**\n   * add children layer\n   * @param layer\n   */\n  public addLayer(layer: L) {\n    const idx = findIndex(this.layers, (item) => item === layer);\n    if (idx < 0) {\n      this.layers.push(layer);\n    }\n  }\n\n  protected createLayers(props: T & { type?: string; layers?: any }) {\n    if (props.layers) {\n      // TODO: combo plot\n    } else if (props.type) {\n      const viewLayerCtr = getPlotType(props.type);\n      const viewLayerProps: T = deepMix({}, props, {\n        canvas: this.canvasController.canvas,\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n      });\n      const viewLayer = new viewLayerCtr(viewLayerProps);\n      this.addLayer(viewLayer);\n    }\n  }\n\n  protected parseEvents(props) {\n    const eventsName = keys(CANVAS_EVENT_MAP);\n    if (props.events) {\n      each(props.events, (e, k) => {\n        if (contains(eventsName, k) && isFunction(e)) {\n          const eventName = CANVAS_EVENT_MAP[k] || k;\n          const handler = e;\n          this.on(eventName, handler);\n        }\n      });\n    }\n  }\n}\n","/** 所有统计图形 */\nconst GLOBAL_PLOT_MAP: Record<string, any> = {};\n\nexport function registerPlotType(name: string, ctr: any): void {\n  GLOBAL_PLOT_MAP[name.toLowerCase()] = ctr;\n}\n\nexport function getPlotType(name: string) {\n  return GLOBAL_PLOT_MAP[name.toLowerCase()];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar vec2 = require(\"@antv/gl-matrix/lib/gl-matrix/vec2\");\nexports.default = {\n    /**\n     * 计算线段的包围盒\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @return {object} 包围盒对象\n     */\n    box: function (x1, y1, x2, y2) {\n        var minX = Math.min(x1, x2);\n        var maxX = Math.max(x1, x2);\n        var minY = Math.min(y1, y2);\n        var maxY = Math.max(y1, y2);\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    },\n    /**\n     * 线段的长度\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @return {number} 距离\n     */\n    length: function (x1, y1, x2, y2) {\n        return util_1.distance(x1, y1, x2, y2);\n    },\n    /**\n     * 根据比例获取点\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @param {number} t 指定比例\n     * @return {object} 包含 x, y 的点\n     */\n    pointAt: function (x1, y1, x2, y2, t) {\n        return {\n            x: (1 - t) * x1 + t * x2,\n            y: (1 - t) * y1 + t * y2,\n        };\n    },\n    /**\n     * 点到线段的距离\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @param {number} x  测试点 x\n     * @param {number} y  测试点 y\n     * @return {number} 距离\n     */\n    pointDistance: function (x1, y1, x2, y2, x, y) {\n        // 投影距离 x1, y1 的向量，假设 p, p1, p2 三个点，投影点为 a\n        // p1a = p1p.p1p2/|p1p2| * (p1p 的单位向量)\n        var cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);\n        if (cross < 0) {\n            return util_1.distance(x1, y1, x, y);\n        }\n        var lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n        if (cross > lengthSquare) {\n            return util_1.distance(x2, y2, x, y);\n        }\n        return this.pointToLine(x1, y1, x2, y2, x, y);\n    },\n    /**\n     * 点到直线的距离，而不是点到线段的距离\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @param {number} x  测试点 x\n     * @param {number} y  测试点 y\n     * @return {number} 距离\n     */\n    pointToLine: function (x1, y1, x2, y2, x, y) {\n        var d = [x2 - x1, y2 - y1];\n        // 如果端点相等，则判定点到点的距离\n        if (vec2.exactEquals(d, [0, 0])) {\n            return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n        }\n        var u = [-d[1], d[0]];\n        vec2.normalize(u, u);\n        var a = [x - x1, y - y1];\n        return Math.abs(vec2.dot(a, u));\n    },\n    /**\n     * 线段的角度\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @return {number} 导数\n     */\n    tangentAngle: function (x1, y1, x2, y2) {\n        return Math.atan2(y2 - y1, x2 - x1);\n    },\n};\n//# sourceMappingURL=line.js.map","export default function addEventListener(target, eventType, callback) {\n    if (target) {\n        if (typeof target.addEventListener === 'function') {\n            target.addEventListener(eventType, callback, false);\n            return {\n                remove: function () {\n                    target.removeEventListener(eventType, callback, false);\n                },\n            };\n            // @ts-ignore\n        }\n        if (typeof target.attachEvent === 'function') {\n            // @ts-ignore\n            target.attachEvent('on' + eventType, callback);\n            return {\n                remove: function () {\n                    // @ts-ignore\n                    target.detachEvent('on' + eventType, callback);\n                },\n            };\n        }\n    }\n}\n//# sourceMappingURL=add-event-listener.js.map","/**\n * 创建DOM 节点\n * @param  {String} str Dom 字符串\n * @return {HTMLElement}  DOM 节点\n */\nvar TABLE;\nvar TABLE_TR;\nvar FRAGMENT_REG;\nvar CONTAINERS;\nfunction initConstants() {\n    TABLE = document.createElement('table');\n    TABLE_TR = document.createElement('tr');\n    FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\n    CONTAINERS = {\n        tr: document.createElement('tbody'),\n        tbody: TABLE,\n        thead: TABLE,\n        tfoot: TABLE,\n        td: TABLE_TR,\n        th: TABLE_TR,\n        '*': document.createElement('div'),\n    };\n}\nexport default function createDom(str) {\n    if (!TABLE) {\n        initConstants();\n    }\n    var name = FRAGMENT_REG.test(str) && RegExp.$1;\n    if (!name || !(name in CONTAINERS)) {\n        name = '*';\n    }\n    var container = CONTAINERS[name];\n    str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n    container.innerHTML = '' + str;\n    var dom = container.childNodes[0];\n    container.removeChild(dom);\n    return dom;\n}\n//# sourceMappingURL=create-dom.js.map","/**\n * 获取样式\n * @param  {Object} dom DOM节点\n * @param  {String} name 样式名\n * @param  {Any} defaultValue 默认值\n * @return {String} 属性值\n */\nexport default function getStyle(dom, name, defaultValue) {\n    var v;\n    try {\n        v = window.getComputedStyle ?\n            window.getComputedStyle(dom, null)[name] :\n            dom.style[name]; // 一般不会走到这个逻辑，dom.style 获取的是标签 style 属性，也不准确\n    }\n    catch (e) {\n        // do nothing\n    }\n    finally {\n        v = v === undefined ? defaultValue : v;\n    }\n    return v;\n}\n//# sourceMappingURL=get-style.js.map","import getStyle from './get-style';\nexport default function getHeight(el, defaultValue) {\n    var height = getStyle(el, 'height', defaultValue);\n    if (height === 'auto') {\n        height = el.offsetHeight;\n    }\n    return parseFloat(height);\n}\n//# sourceMappingURL=get-height.js.map","import getStyle from './get-style';\nimport getHeight from './get-height';\nexport default function getOuterHeight(el, defaultValue) {\n    var height = getHeight(el, defaultValue);\n    var bTop = parseFloat(getStyle(el, 'borderTopWidth')) || 0;\n    var pTop = parseFloat(getStyle(el, 'paddingTop')) || 0;\n    var pBottom = parseFloat(getStyle(el, 'paddingBottom')) || 0;\n    var bBottom = parseFloat(getStyle(el, 'borderBottomWidth')) || 0;\n    var mTop = parseFloat(getStyle(el, 'marginTop')) || 0;\n    var mBottom = parseFloat(getStyle(el, 'marginBottom')) || 0;\n    return height + bTop + bBottom + pTop + pBottom + mTop + mBottom;\n}\n//# sourceMappingURL=get-outer-height.js.map","import getStyle from './get-style';\nexport default function getHeight(el, defaultValue) {\n    var width = getStyle(el, 'width', defaultValue);\n    if (width === 'auto') {\n        width = el.offsetWidth;\n    }\n    return parseFloat(width);\n}\n//# sourceMappingURL=get-width.js.map","import getStyle from './get-style';\nimport getWidth from './get-width';\nexport default function getOuterWidth(el, defaultValue) {\n    var width = getWidth(el, defaultValue);\n    var bLeft = parseFloat(getStyle(el, 'borderLeftWidth')) || 0;\n    var pLeft = parseFloat(getStyle(el, 'paddingLeft')) || 0;\n    var pRight = parseFloat(getStyle(el, 'paddingRight')) || 0;\n    var bRight = parseFloat(getStyle(el, 'borderRightWidth')) || 0;\n    var mRight = parseFloat(getStyle(el, 'marginRight')) || 0;\n    var mLeft = parseFloat(getStyle(el, 'marginLeft')) || 0;\n    return width + bLeft + bRight + pLeft + pRight + mLeft + mRight;\n}\n//# sourceMappingURL=get-outer-width.js.map","export default function getRatio() {\n    return window.devicePixelRatio ? window.devicePixelRatio : 2;\n}\n//# sourceMappingURL=get-ratio.js.map","export default function modifyCSS(dom, css) {\n    if (dom) {\n        for (var key in css) {\n            if (css.hasOwnProperty(key)) {\n                dom.style[key] = css[key];\n            }\n        }\n    }\n    return dom;\n}\n//# sourceMappingURL=modify-css.js.map","import { __assign } from \"tslib\";\n/**\n * @fileoverview path 的一些工具\n * @author dxq613@gmail.com\n */\nimport { PathUtil } from '@antv/g-base';\nimport QuadUtil from '@antv/g-math/lib/quadratic';\nimport CubicUtil from '@antv/g-math/lib/cubic';\nimport { inBox } from './util';\nimport inLine from './in-stroke/line';\nimport inArc from './in-stroke/arc';\nimport * as mat3 from '@antv/gl-matrix/lib/gl-matrix/mat3';\nimport * as vec3 from '@antv/gl-matrix/lib/gl-matrix/vec3';\nfunction hasArc(path) {\n    var hasArc = false;\n    var count = path.length;\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        var cmd = params[0];\n        if (cmd === 'C' || cmd === 'A' || cmd === 'Q') {\n            hasArc = true;\n            break;\n        }\n    }\n    return hasArc;\n}\nfunction isPointInStroke(segments, lineWidth, x, y) {\n    var isHit = false;\n    var halfWidth = lineWidth / 2;\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint, box = segment.box;\n        // 如果在前面已经生成过包围盒，直接按照包围盒计算\n        if (box && !inBox(box.x - halfWidth, box.y - halfWidth, box.width + lineWidth, box.height + lineWidth, x, y)) {\n            continue;\n        }\n        switch (segment.command) {\n            // L 和 Z 都是直线， M 不进行拾取\n            case 'L':\n            case 'Z':\n                isHit = inLine(prePoint[0], prePoint[1], currentPoint[0], currentPoint[1], lineWidth, x, y);\n                break;\n            case 'Q':\n                var qDistance = QuadUtil.pointDistance(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], x, y);\n                isHit = qDistance <= lineWidth / 2;\n                break;\n            case 'C':\n                var cDistance = CubicUtil.pointDistance(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6], x, y);\n                isHit = cDistance <= lineWidth / 2;\n                break;\n            case 'A':\n                // 计算点到椭圆圆弧的距离，暂时使用近似算法，后面可以改成切割法求最近距离\n                var arcParams = segment.arcParams;\n                var cx = arcParams.cx, cy = arcParams.cy, rx = arcParams.rx, ry = arcParams.ry, startAngle = arcParams.startAngle, endAngle = arcParams.endAngle, xRotation = arcParams.xRotation;\n                var p = [x, y, 1];\n                var m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n                var r = rx > ry ? rx : ry;\n                var scaleX = rx > ry ? 1 : rx / ry;\n                var scaleY = rx > ry ? ry / rx : 1;\n                mat3.translate(m, m, [-cx, -cy]);\n                mat3.rotate(m, m, -xRotation);\n                mat3.scale(m, m, [1 / scaleX, 1 / scaleY]);\n                vec3.transformMat3(p, p, m);\n                isHit = inArc(0, 0, r, startAngle, endAngle, lineWidth, p[0], p[1]);\n                break;\n            default:\n                break;\n        }\n        if (isHit) {\n            break;\n        }\n    }\n    return isHit;\n}\n/**\n * 提取出内部的闭合多边形和非闭合的多边形，假设 path 不存在圆弧\n * @param {Array} path 路径\n * @returns {Array} 点的集合\n */\nfunction extractPolygons(path) {\n    var count = path.length;\n    var polygons = [];\n    var polylines = [];\n    var points = []; // 防止第一个命令不是 'M'\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        var cmd = params[0];\n        if (cmd === 'M') {\n            // 遇到 'M' 判定是否是新数组，新数组中没有点\n            if (points.length) {\n                // 如果存在点，则说明没有遇到 'Z'，开始了一个新的多边形\n                polylines.push(points);\n                points = []; // 创建新的点\n            }\n            points.push([params[1], params[2]]);\n        }\n        else if (cmd === 'Z') {\n            if (points.length) {\n                // 存在点\n                polygons.push(points);\n                points = []; // 开始新的点集合\n            }\n            // 如果不存在点，同时 'Z'，则说明是错误，不处理\n        }\n        else {\n            points.push([params[1], params[2]]);\n        }\n    }\n    // 说明 points 未放入 polygons 或者 polyline\n    // 仅当只有一个 M，没有 Z 时会发生这种情况\n    if (points.length > 0) {\n        polylines.push(points);\n    }\n    return {\n        polygons: polygons,\n        polylines: polylines,\n    };\n}\nexport default __assign({ hasArc: hasArc,\n    extractPolygons: extractPolygons,\n    isPointInStroke: isPointInStroke }, PathUtil);\n//# sourceMappingURL=path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GraphEvent = /** @class */ (function () {\n    function GraphEvent(type, event) {\n        /**\n         * 是否允许冒泡\n         * @type {boolean}\n         */\n        this.bubbles = true;\n        /**\n         * 触发对象\n         * @type {object}\n         */\n        this.target = null;\n        /**\n         * 监听对象\n         * @type {object}\n         */\n        this.currentTarget = null;\n        /**\n         * 委托对象\n         * @type {object}\n         */\n        this.delegateTarget = null;\n        /**\n         * 委托事件监听对象的代理对象，即 ev.delegateObject = ev.currentTarget.get('delegateObject')\n         * @type {object}\n         */\n        this.delegateObject = null;\n        /**\n         * 是否阻止了原生事件\n         * @type {boolean}\n         */\n        this.defaultPrevented = false;\n        /**\n         * 是否阻止传播（向上冒泡）\n         * @type {boolean}\n         */\n        this.propagationStopped = false;\n        /**\n         * 触发事件的图形\n         * @type {IShape}\n         */\n        this.shape = null;\n        /**\n         * 开始触发事件的图形\n         * @type {IShape}\n         */\n        this.fromShape = null;\n        /**\n         * 事件结束时的触发图形\n         * @type {IShape}\n         */\n        this.toShape = null;\n        // 触发事件的路径\n        this.propagationPath = [];\n        this.type = type;\n        this.name = type;\n        this.originalEvent = event;\n        this.timeStamp = event.timeStamp;\n    }\n    /**\n     * 阻止浏览器默认的行为\n     */\n    GraphEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n        if (this.originalEvent.preventDefault) {\n            this.originalEvent.preventDefault();\n        }\n    };\n    /**\n     * 阻止冒泡\n     */\n    GraphEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    GraphEvent.prototype.toString = function () {\n        var type = this.type;\n        return \"[Event (type=\" + type + \")]\";\n    };\n    GraphEvent.prototype.save = function () { };\n    GraphEvent.prototype.restore = function () { };\n    return GraphEvent;\n}());\nexports.default = GraphEvent;\n//# sourceMappingURL=graph-event.js.map","export function getPixelRatio() {\n    return window ? window.devicePixelRatio : 1;\n}\n/**\n * 两点之间的距离\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 结束点 x\n * @param {number} y2 结束点 y\n */\nexport function distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\n/**\n * 是否在包围盒内\n * @param {number} minX   包围盒开始的点 x\n * @param {number} minY   包围盒开始的点 y\n * @param {number} width  宽度\n * @param {number} height 高度\n * @param {[type]} x      检测点的 x\n * @param {[type]} y      监测点的 y\n */\nexport function inBox(minX, minY, width, height, x, y) {\n    return x >= minX && x <= minX + width && y >= minY && y <= minY + height;\n}\n// 全局设置一个唯一离屏的 ctx，用于计算 isPointInPath\nvar offScreenCtx = null;\nexport function getOffScreenContext() {\n    if (!offScreenCtx) {\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        offScreenCtx = canvas.getContext('2d');\n    }\n    return offScreenCtx;\n}\nexport function intersectRect(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n// 合并两个区域\nexport function mergeRegion(region1, region2) {\n    if (!region1 || !region2) {\n        return region1 || region2;\n    }\n    return {\n        minX: Math.min(region1.minX, region2.minX),\n        minY: Math.min(region1.minY, region2.minY),\n        maxX: Math.max(region1.maxX, region2.maxX),\n        maxY: Math.max(region1.maxY, region2.maxY),\n    };\n}\n/**\n * 判断两个点是否重合，点坐标的格式为 [x, y]\n * @param {Array} point1 第一个点\n * @param {Array} point2 第二个点\n */\nexport function isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\nexport { default as isNil } from '@antv/util/lib/is-nil';\nexport { default as isString } from '@antv/util/lib/is-string';\nexport { default as isFunction } from '@antv/util/lib/is-function';\nexport { default as isArray } from '@antv/util/lib/is-array';\nexport { default as each } from '@antv/util/lib/each';\nexport { default as toRadian } from '@antv/util/lib/to-radian';\nexport { default as mod } from '@antv/util/lib/mod';\nexport { default as isNumberEqual } from '@antv/util/lib/is-number-equal';\nexport { default as requestAnimationFrame } from '@antv/util/lib/request-animation-frame';\nexport { default as clearAnimationFrame } from '@antv/util/lib/clear-animation-frame';\n//# sourceMappingURL=util.js.map","import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\nimport { mix } from '../util/util';\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base(cfg) {\n        var _this = _super.call(this) || this;\n        /**\n         * 是否被销毁\n         * @type {boolean}\n         */\n        _this.destroyed = false;\n        var defaultCfg = _this.getDefaultCfg();\n        _this.cfg = mix(defaultCfg, cfg);\n        return _this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    // 实现接口的方法\n    Base.prototype.get = function (name) {\n        return this.cfg[name];\n    };\n    // 实现接口的方法\n    Base.prototype.set = function (name, value) {\n        this.cfg[name] = value;\n    };\n    // 实现接口的方法\n    Base.prototype.destroy = function () {\n        this.cfg = {\n            destroyed: true,\n        };\n        this.off();\n        this.destroyed = true;\n    };\n    return Base;\n}(EE));\nexport default Base;\n//# sourceMappingURL=base.js.map","import { transform, vec3, vec2 } from '@antv/matrix-util';\nvar identityMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nexport function getMatrixByAngle(point, angle) {\n    if (!angle) {\n        // 角度为 0 或者 null 时返回 null\n        return null;\n    }\n    var m = transform(identityMatrix, [\n        ['t', -point.x, -point.y],\n        ['r', angle],\n        ['t', point.x, point.y],\n    ]);\n    return m;\n}\nexport function getMatrixByTranslate(point, currentMatrix) {\n    if (!point.x && !point.y) {\n        // 0，0 或者 nan 的情况下返回 null\n        return null;\n    }\n    return transform(currentMatrix || identityMatrix, [['t', point.x, point.y]]);\n}\n// 从矩阵获取旋转的角度\nexport function getAngleByMatrix(matrix) {\n    var xVector = [1, 0, 0];\n    var out = [];\n    vec3.transformMat3(out, xVector, matrix);\n    return Math.atan2(out[1], out[0]);\n}\n// 矩阵 * 向量\nfunction multiplyVec2(matrix, v) {\n    var out = [];\n    vec2.transformMat3(out, v, matrix);\n    return out;\n}\nexport function applyMatrix2BBox(matrix, bbox) {\n    var topLeft = multiplyVec2(matrix, [bbox.minX, bbox.minY]);\n    var topRight = multiplyVec2(matrix, [bbox.maxX, bbox.minY]);\n    var bottomLeft = multiplyVec2(matrix, [bbox.minX, bbox.maxY]);\n    var bottomRight = multiplyVec2(matrix, [bbox.maxX, bbox.maxY]);\n    var minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n    var maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n    var minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n    var maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n    return {\n        x: minX,\n        y: minY,\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\n//# sourceMappingURL=matrix.js.map","import { __extends } from \"tslib\";\nimport { each, isEqual, isFunction, isNumber, isObject, isArray, noop, mix, upperFirst, uniqueId } from '@antv/util';\nimport { transform } from '@antv/matrix-util';\nimport { removeFromArray } from '../util/util';\nimport { multiplyMatrix, multiplyVec2, invert } from '../util/matrix';\nimport Base from './base';\nvar MATRIX = 'matrix';\nvar ARRAY_ATTRS = {\n    matrix: 'matrix',\n    path: 'path',\n    points: 'points',\n    lineDash: 'lineDash',\n};\nvar CLONE_CFGS = ['zIndex', 'capture', 'visible', 'type'];\n// 可以在 toAttrs 中设置，但不属于绘图属性的字段\nvar RESERVED_PORPS = ['repeat'];\nvar DELEGATION_SPLIT = ':';\nvar WILDCARD = '*';\n// 需要考虑数组嵌套数组的场景\n// 数组嵌套对象的场景不考虑\nfunction _cloneArrayAttr(arr) {\n    var result = [];\n    for (var i = 0; i < arr.length; i++) {\n        if (isArray(arr[i])) {\n            result.push([].concat(arr[i]));\n        }\n        else {\n            result.push(arr[i]);\n        }\n    }\n    return result;\n}\nfunction getFormatFromAttrs(toAttrs, shape) {\n    var fromAttrs = {};\n    var attrs = shape.attrs;\n    for (var k in toAttrs) {\n        fromAttrs[k] = attrs[k];\n    }\n    return fromAttrs;\n}\nfunction getFormatToAttrs(props, shape) {\n    var toAttrs = {};\n    var attrs = shape.attr();\n    each(props, function (v, k) {\n        if (RESERVED_PORPS.indexOf(k) === -1 && !isEqual(attrs[k], v)) {\n            toAttrs[k] = v;\n        }\n    });\n    return toAttrs;\n}\nfunction checkExistedAttrs(animations, animation) {\n    if (animation.onFrame) {\n        return animations;\n    }\n    var startTime = animation.startTime, delay = animation.delay, duration = animation.duration;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    each(animations, function (item) {\n        // 后一个动画开始执行的时间 < 前一个动画的结束时间 && 后一个动画的执行时间 > 前一个动画的延迟\n        if (startTime + delay < item.startTime + item.delay + item.duration && duration > item.delay) {\n            each(animation.toAttrs, function (v, k) {\n                if (hasOwnProperty.call(item.toAttrs, k)) {\n                    delete item.toAttrs[k];\n                    delete item.fromAttrs[k];\n                }\n            });\n        }\n    });\n    return animations;\n}\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        /**\n         * @protected\n         * 图形属性\n         * @type {ShapeAttrs}\n         */\n        _this.attrs = {};\n        var attrs = _this.getDefaultAttrs();\n        mix(attrs, cfg.attrs);\n        _this.attrs = attrs;\n        _this.initAttrs(attrs);\n        _this.initAnimate(); // 初始化动画\n        return _this;\n    }\n    // override\n    Element.prototype.getDefaultCfg = function () {\n        return {\n            visible: true,\n            capture: true,\n            zIndex: 0,\n        };\n    };\n    /**\n     * @protected\n     * 获取默认的属相\n     */\n    Element.prototype.getDefaultAttrs = function () {\n        return {\n            matrix: this.getDefaultMatrix(),\n            opacity: 1,\n        };\n    };\n    /**\n     * @protected\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    Element.prototype.onCanvasChange = function (changeType) { };\n    /**\n     * @protected\n     * 初始化属性，有些属性需要加工\n     * @param {object} attrs 属性值\n     */\n    Element.prototype.initAttrs = function (attrs) { };\n    /**\n     * @protected\n     * 初始化动画\n     */\n    Element.prototype.initAnimate = function () {\n        this.set('animable', true);\n        this.set('animating', false);\n    };\n    Element.prototype.isGroup = function () {\n        return false;\n    };\n    Element.prototype.getParent = function () {\n        return this.get('parent');\n    };\n    Element.prototype.getCanvas = function () {\n        return this.get('canvas');\n    };\n    Element.prototype.attr = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var name = args[0], value = args[1];\n        if (!name)\n            return this.attrs;\n        if (isObject(name)) {\n            for (var k in name) {\n                this.setAttr(k, name[k]);\n            }\n            this.afterAttrsChange(name);\n            return this;\n        }\n        if (args.length === 2) {\n            this.setAttr(name, value);\n            this.afterAttrsChange((_a = {},\n                _a[name] = value,\n                _a));\n            return this;\n        }\n        return this.attrs[name];\n    };\n    // 是否被裁剪，被裁剪则不显示，不参与拾取\n    Element.prototype.isClipped = function (refX, refY) {\n        var clip = this.getClip();\n        return clip && !clip.isHit(refX, refY);\n    };\n    /**\n     * 内部设置属性值的接口\n     * @param {string} name 属性名\n     * @param {any} value 属性值\n     */\n    Element.prototype.setAttr = function (name, value) {\n        var originValue = this.attrs[name];\n        if (originValue !== value) {\n            this.attrs[name] = value;\n            this.onAttrChange(name, value, originValue);\n        }\n    };\n    /**\n     * @protected\n     * 属性值发生改变\n     * @param {string} name 属性名\n     * @param {any} value 属性值\n     * @param {any} originValue 属性值\n     */\n    Element.prototype.onAttrChange = function (name, value, originValue) {\n        if (name === 'matrix') {\n            this.set('totalMatrix', null);\n        }\n    };\n    /**\n     * 属性更改后需要做的事情\n     * @protected\n     */\n    Element.prototype.afterAttrsChange = function (targetAttrs) {\n        this.onCanvasChange('attr');\n    };\n    Element.prototype.show = function () {\n        // 不是高频操作直接使用 set\n        this.set('visible', true);\n        this.onCanvasChange('show');\n        return this;\n    };\n    Element.prototype.hide = function () {\n        // 不是高频操作直接使用 set\n        this.set('visible', false);\n        this.onCanvasChange('hide');\n        return this;\n    };\n    Element.prototype.setZIndex = function (zIndex) {\n        this.set('zIndex', zIndex);\n        var parent = this.getParent();\n        if (parent) {\n            // 改变 zIndex 不应该立即触发渲染 (调用 onCanvasChange('zIndex'))，需要经过 sort 再触发\n            parent.sort();\n        }\n        return this;\n    };\n    Element.prototype.toFront = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.push(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.toBack = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.unshift(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.remove = function (destroy) {\n        if (destroy === void 0) { destroy = true; }\n        var parent = this.getParent();\n        if (parent) {\n            removeFromArray(parent.getChildren(), this);\n            if (!parent.get('clearing')) {\n                // 如果父元素正在清理，当前元素不触发 remove\n                this.onCanvasChange('remove');\n            }\n        }\n        else {\n            this.onCanvasChange('remove');\n        }\n        if (destroy) {\n            this.destroy();\n        }\n    };\n    Element.prototype.resetMatrix = function () {\n        this.attr(MATRIX, this.getDefaultMatrix());\n        this.onCanvasChange('matrix');\n    };\n    Element.prototype.getMatrix = function () {\n        return this.attr(MATRIX);\n    };\n    Element.prototype.setMatrix = function (m) {\n        this.attr(MATRIX, m);\n        this.onCanvasChange('matrix');\n    };\n    // 获取总的 matrix\n    Element.prototype.getTotalMatrix = function () {\n        var totalMatrix = this.get('totalMatrix');\n        if (!totalMatrix) {\n            var currentMatrix = this.attr('matrix');\n            var parentMatrix = this.get('parentMatrix');\n            if (parentMatrix && currentMatrix) {\n                totalMatrix = multiplyMatrix(parentMatrix, currentMatrix);\n            }\n            else {\n                totalMatrix = currentMatrix || parentMatrix;\n            }\n            this.set('totalMatrix', totalMatrix);\n        }\n        return totalMatrix;\n    };\n    // 上层分组设置 matrix\n    Element.prototype.applyMatrix = function (matrix) {\n        var currentMatrix = this.attr('matrix');\n        var totalMatrix = null;\n        if (matrix && currentMatrix) {\n            totalMatrix = multiplyMatrix(matrix, currentMatrix);\n        }\n        else {\n            totalMatrix = currentMatrix || matrix;\n        }\n        this.set('totalMatrix', totalMatrix);\n        this.set('parentMatrix', matrix);\n    };\n    /**\n     * @protected\n     * 获取默认的矩阵\n     * @returns {number[]|null} 默认的矩阵\n     */\n    Element.prototype.getDefaultMatrix = function () {\n        return null;\n    };\n    // 将向量应用设置的矩阵\n    Element.prototype.applyToMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            return multiplyVec2(matrix, v);\n        }\n        return v;\n    };\n    // 根据设置的矩阵，将向量转换相对于图形/分组的位置\n    Element.prototype.invertFromMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            var invertMatrix = invert(matrix);\n            return multiplyVec2(invertMatrix, v);\n        }\n        return v;\n    };\n    // 设置 clip\n    Element.prototype.setClip = function (clipCfg) {\n        var canvas = this.getCanvas();\n        // 应该只设置当前元素的 clip，不应该去修改 clip 本身，方便 clip 被复用\n        // TODO: setClip 的传参既 shape 配置，也支持 shape 对象\n        // const preShape = this.get('clipShape');\n        // if (preShape) {\n        //   // 将之前的 clipShape 销毁\n        //   preShape.destroy();\n        // }\n        var clipShape = null;\n        // 如果配置项为 null，则不移除 clipShape\n        if (clipCfg) {\n            var ShapeBase = this.getShapeBase();\n            var shapeType = upperFirst(clipCfg.type);\n            var Cons = ShapeBase[shapeType];\n            if (Cons) {\n                clipShape = new Cons({\n                    type: clipCfg.type,\n                    isClipShape: true,\n                    attrs: clipCfg.attrs,\n                    canvas: canvas,\n                });\n            }\n        }\n        this.set('clipShape', clipShape);\n        this.onCanvasChange('clip');\n        return clipShape;\n    };\n    Element.prototype.getClip = function () {\n        var clipShape = this.get('clipShape');\n        // 未设置时返回 Null，保证一致性\n        if (!clipShape) {\n            return null;\n        }\n        return clipShape;\n    };\n    Element.prototype.clone = function () {\n        var _this = this;\n        var originAttrs = this.attrs;\n        var attrs = {};\n        each(originAttrs, function (i, k) {\n            if (isArray(originAttrs[k])) {\n                attrs[k] = _cloneArrayAttr(originAttrs[k]);\n            }\n            else {\n                attrs[k] = originAttrs[k];\n            }\n        });\n        var cons = this.constructor;\n        // @ts-ignore\n        var clone = new cons({ attrs: attrs });\n        each(CLONE_CFGS, function (cfgName) {\n            clone.set(cfgName, _this.get(cfgName));\n        });\n        return clone;\n    };\n    Element.prototype.destroy = function () {\n        var destroyed = this.destroyed;\n        if (destroyed) {\n            return;\n        }\n        this.attrs = {};\n        _super.prototype.destroy.call(this);\n        // this.onCanvasChange('destroy');\n    };\n    /**\n     * 是否处于动画暂停状态\n     * @return {boolean} 是否处于动画暂停状态\n     */\n    Element.prototype.isAnimatePaused = function () {\n        return this.get('_pause').isPaused;\n    };\n    /**\n     * 执行动画，支持多种函数签名\n     * 1. animate(toAttrs: ElementAttrs, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 2. animate(onFrame: OnFrame, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 3. animate(toAttrs: ElementAttrs, cfg: AnimateCfg)\n     * 4. animate(onFrame: OnFrame, cfg: AnimateCfg)\n     * 各个参数的含义为:\n     *   toAttrs  动画最终状态\n     *   onFrame  自定义帧动画函数\n     *   duration 动画执行时间\n     *   easing   动画缓动效果\n     *   callback 动画执行后的回调\n     *   delay    动画延迟时间\n     */\n    Element.prototype.animate = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.set('animating', true);\n        var timeline = this.get('timeline');\n        if (!timeline) {\n            timeline = this.get('canvas').get('timeline');\n            this.set('timeline', timeline);\n        }\n        var animations = this.get('animations') || [];\n        // 初始化 tick\n        if (!timeline.timer) {\n            timeline.initTimer();\n        }\n        var toAttrs = args[0], duration = args[1], _a = args[2], easing = _a === void 0 ? 'easeLinear' : _a, _b = args[3], callback = _b === void 0 ? noop : _b, _c = args[4], delay = _c === void 0 ? 0 : _c;\n        var onFrame;\n        var repeat;\n        var pauseCallback;\n        var resumeCallback;\n        var animateCfg;\n        // 第二个参数，既可以是动画最终状态 toAttrs，也可以是自定义帧动画函数 onFrame\n        if (isFunction(toAttrs)) {\n            onFrame = toAttrs;\n            toAttrs = {};\n        }\n        else if (isObject(toAttrs) && toAttrs.onFrame) {\n            // 兼容 3.0 中的写法，onFrame 和 repeat 可在 toAttrs 中设置\n            onFrame = toAttrs.onFrame;\n            repeat = toAttrs.repeat;\n        }\n        // 第二个参数，既可以是执行时间 duration，也可以是动画参数 animateCfg\n        if (isObject(duration)) {\n            animateCfg = duration;\n            duration = animateCfg.duration;\n            easing = animateCfg.easing || 'easeLinear';\n            delay = animateCfg.delay || 0;\n            // animateCfg 中的设置优先级更高\n            repeat = animateCfg.repeat || repeat || false;\n            callback = animateCfg.callback || noop;\n            pauseCallback = animateCfg.pauseCallback || noop;\n            resumeCallback = animateCfg.resumeCallback || noop;\n        }\n        else {\n            // 第四个参数，既可以是回调函数 callback，也可以是延迟时间 delay\n            if (isNumber(callback)) {\n                delay = callback;\n                callback = null;\n            }\n            // 第三个参数，既可以是缓动参数 easing，也可以是回调函数 callback\n            if (isFunction(easing)) {\n                callback = easing;\n                easing = 'easeLinear';\n            }\n            else {\n                easing = easing || 'easeLinear';\n            }\n        }\n        var formatToAttrs = getFormatToAttrs(toAttrs, this);\n        var animation = {\n            fromAttrs: getFormatFromAttrs(formatToAttrs, this),\n            toAttrs: formatToAttrs,\n            duration: duration,\n            easing: easing,\n            repeat: repeat,\n            callback: callback,\n            pauseCallback: pauseCallback,\n            resumeCallback: resumeCallback,\n            delay: delay,\n            startTime: timeline.getTime(),\n            id: uniqueId(),\n            onFrame: onFrame,\n            pathFormatted: false,\n        };\n        // 如果动画元素队列中已经有这个图形了\n        if (animations.length > 0) {\n            // 先检查是否需要合并属性。若有相同的动画，将该属性从前一个动画中删除,直接用后一个动画中\n            animations = checkExistedAttrs(animations, animation);\n        }\n        else {\n            // 否则将图形添加到动画元素队列\n            timeline.addAnimator(this);\n        }\n        animations.push(animation);\n        this.set('animations', animations);\n        this.set('_pause', { isPaused: false });\n    };\n    /**\n     * 停止动画\n     * @param {boolean} toEnd 是否到动画的最终状态\n     */\n    Element.prototype.stopAnimate = function (toEnd) {\n        var _this = this;\n        if (toEnd === void 0) { toEnd = true; }\n        var animations = this.get('animations');\n        each(animations, function (animation) {\n            // 将动画执行到最后一帧\n            if (toEnd) {\n                if (animation.onFrame) {\n                    _this.attr(animation.onFrame(1));\n                }\n                else {\n                    _this.attr(animation.toAttrs);\n                }\n            }\n            if (animation.callback) {\n                // 动画停止时的回调\n                animation.callback();\n            }\n        });\n        this.set('animating', false);\n        this.set('animations', []);\n    };\n    /**\n     * 暂停动画\n     */\n    Element.prototype.pauseAnimate = function () {\n        var timeline = this.get('timeline');\n        var animations = this.get('animations');\n        each(animations, function (animation) {\n            if (animation.pauseCallback) {\n                // 动画暂停时的回调\n                animation.pauseCallback();\n            }\n        });\n        // 记录下是在什么时候暂停的\n        this.set('_pause', {\n            isPaused: true,\n            pauseTime: timeline.getTime(),\n        });\n        return this;\n    };\n    /**\n     * 恢复动画\n     */\n    Element.prototype.resumeAnimate = function () {\n        var timeline = this.get('timeline');\n        var current = timeline.getTime();\n        var animations = this.get('animations');\n        var pauseTime = this.get('_pause').pauseTime;\n        // 之后更新属性需要计算动画已经执行的时长，如果暂停了，就把初始时间调后\n        each(animations, function (animation) {\n            animation.startTime = animation.startTime + (current - pauseTime);\n            animation._paused = false;\n            animation._pauseTime = null;\n            if (animation.resumeCallback) {\n                animation.resumeCallback();\n            }\n        });\n        this.set('_pause', {\n            isPaused: false,\n        });\n        this.set('animations', animations);\n        return this;\n    };\n    /**\n     * 触发委托事件\n     * @param  {string}     type 事件类型\n     * @param  {GraphEvent} eventObj 事件对象\n     */\n    Element.prototype.emitDelegation = function (type, eventObj) {\n        var paths = eventObj.propagationPath;\n        var events = this.getEvents();\n        // 至少有一个对象，且第一个对象为 shape\n        for (var i = 0; i < paths.length; i++) {\n            var element = paths[i];\n            // 暂定跟 name 绑定\n            var name_1 = element.get('name');\n            if (name_1) {\n                // 事件委托的形式 name:type\n                var eventName = name_1 + DELEGATION_SPLIT + type;\n                if (events[eventName] || events[WILDCARD]) {\n                    // 对于通配符 *，事件名称 = 委托事件名称\n                    eventObj.name = eventName;\n                    eventObj.currentTarget = element;\n                    eventObj.delegateTarget = this;\n                    // 将委托事件的监听对象 delegateObject 挂载到事件对象上\n                    eventObj.delegateObject = element.get('delegateObject');\n                    this.emit(eventName, eventObj);\n                }\n            }\n        }\n    };\n    /**\n     * 移动元素\n     * @param {number} translateX 水平移动距离\n     * @param {number} translateY 垂直移动距离\n     * @return {IElement} 元素\n     */\n    Element.prototype.translate = function (translateX, translateY) {\n        if (translateX === void 0) { translateX = 0; }\n        if (translateY === void 0) { translateY = 0; }\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['t', translateX, translateY]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 移动元素到目标位置\n     * @param {number} targetX 目标位置的水平坐标\n     * @param {number} targetX 目标位置的垂直坐标\n     * @return {IElement} 元素\n     */\n    Element.prototype.move = function (targetX, targetY) {\n        var x = this.attr('x') || 0;\n        var y = this.attr('y') || 0;\n        this.translate(targetX - x, targetY - y);\n        return this;\n    };\n    /**\n     * 移动元素到目标位置，等价于 move 方法。由于 moveTo 的语义性更强，因此在文档中推荐使用 moveTo 方法\n     * @param {number} targetX 目标位置的 x 轴坐标\n     * @param {number} targetY 目标位置的 y 轴坐标\n     * @return {IElement} 元素\n     */\n    Element.prototype.moveTo = function (targetX, targetY) {\n        return this.move(targetX, targetY);\n    };\n    /**\n     * 缩放元素\n     * @param {number} ratioX 水平缩放比例\n     * @param {number} ratioY 垂直缩放比例\n     * @return {IElement} 元素\n     */\n    Element.prototype.scale = function (ratioX, ratioY) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['s', ratioX, ratioY || ratioX]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 以画布左上角 (0, 0) 为中心旋转元素\n     * @param {number} radian 旋转角度(弧度值)\n     * @return {IElement} 元素\n     */\n    Element.prototype.rotate = function (radian) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['r', radian]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 以起始点为中心旋转元素\n     * @param {number} radian 旋转角度(弧度值)\n     * @return {IElement} 元素\n     */\n    Element.prototype.rotateAtStart = function (rotate) {\n        var _a = this.attr(), x = _a.x, y = _a.y;\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 以任意点 (x, y) 为中心旋转元素\n     * @param {number} radian 旋转角度(弧度值)\n     * @return {IElement} 元素\n     */\n    Element.prototype.rotateAtPoint = function (x, y, rotate) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=element.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { isFunction, isObject, each, removeFromArray, upperFirst } from '../util/util';\nvar SHAPE_MAP = {};\nvar INDEX = '_INDEX';\nfunction afterAdd(element) {\n    if (element.isGroup()) {\n        if (element.isEntityGroup() || element.get('children').length) {\n            element.onCanvasChange('add');\n        }\n    }\n    else {\n        element.onCanvasChange('add');\n    }\n}\n/**\n * 设置 canvas\n * @param {IElement} element 元素\n * @param {ICanvas}  canvas  画布\n */\nfunction setCanvas(element, canvas) {\n    element.set('canvas', canvas);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setCanvas(child, canvas);\n            });\n        }\n    }\n}\n/**\n * 设置 timeline\n * @param {IElement} element  元素\n * @param {Timeline} timeline 时间轴\n */\nfunction setTimeline(element, timeline) {\n    element.set('timeline', timeline);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setTimeline(child, timeline);\n            });\n        }\n    }\n}\nfunction contains(container, element) {\n    var children = container.getChildren();\n    return children.indexOf(element) >= 0;\n}\nfunction removeChild(container, element, destroy) {\n    if (destroy === void 0) { destroy = true; }\n    // 不再调用 element.remove() 方法，会出现循环调用\n    if (destroy) {\n        element.destroy();\n    }\n    else {\n        element.set('parent', null);\n        element.set('canvas', null);\n    }\n    removeFromArray(container.getChildren(), element);\n}\nfunction getComparer(compare) {\n    return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n    };\n}\nfunction isAllowCapture(element) {\n    return element.get('visible') && element.get('capture');\n}\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Container.prototype.isCanvas = function () {\n        return false;\n    };\n    // 根据子节点确定 BBox\n    Container.prototype.getBBox = function () {\n        // 所有的值可能在画布的可视区外\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // 将可见元素、图形以及不为空的图形分组筛选出来，用于包围盒合并\n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = Math.min.apply(null, xArr);\n            maxX = Math.max.apply(null, xArr);\n            minY = Math.min.apply(null, yArr);\n            maxY = Math.max.apply(null, yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    // 获取画布的包围盒\n    Container.prototype.getCanvasBBox = function () {\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // 将可见元素、图形以及不为空的图形分组筛选出来，用于包围盒合并\n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getCanvasBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = Math.min.apply(null, xArr);\n            maxX = Math.max.apply(null, xArr);\n            minY = Math.min.apply(null, yArr);\n            maxY = Math.max.apply(null, yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    Container.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        cfg['children'] = [];\n        return cfg;\n    };\n    Container.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name === 'matrix') {\n            var totalMatrix = this.getTotalMatrix();\n            this._applyChildrenMarix(totalMatrix);\n        }\n    };\n    // 不但应用到自己身上还要应用于子元素\n    Container.prototype.applyMatrix = function (matrix) {\n        var preTotalMatrix = this.getTotalMatrix();\n        _super.prototype.applyMatrix.call(this, matrix);\n        var totalMatrix = this.getTotalMatrix();\n        // totalMatrix 没有发生变化时，这里仅考虑两者都为 null 时\n        // 不继续向下传递矩阵\n        if (totalMatrix === preTotalMatrix) {\n            return;\n        }\n        this._applyChildrenMarix(totalMatrix);\n    };\n    // 在子元素上设置矩阵\n    Container.prototype._applyChildrenMarix = function (totalMatrix) {\n        var children = this.getChildren();\n        each(children, function (child) {\n            child.applyMatrix(totalMatrix);\n        });\n    };\n    // 兼容老版本的接口\n    Container.prototype.addShape = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var type = args[0];\n        var cfg = args[1];\n        if (isObject(type)) {\n            cfg = type;\n        }\n        else {\n            cfg['type'] = type;\n        }\n        var shapeType = SHAPE_MAP[cfg.type];\n        if (!shapeType) {\n            shapeType = upperFirst(cfg.type);\n            SHAPE_MAP[cfg.type] = shapeType;\n        }\n        var ShapeBase = this.getShapeBase();\n        var shape = new ShapeBase[shapeType](cfg);\n        this.add(shape);\n        return shape;\n    };\n    Container.prototype.addGroup = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var groupClass = args[0], cfg = args[1];\n        var group;\n        if (isFunction(groupClass)) {\n            if (cfg) {\n                group = new groupClass(cfg);\n            }\n            else {\n                group = new groupClass({\n                    // canvas,\n                    parent: this,\n                });\n            }\n        }\n        else {\n            var tmpCfg = groupClass || {};\n            var TmpGroupClass = this.getGroupBase();\n            group = new TmpGroupClass(tmpCfg);\n        }\n        this.add(group);\n        return group;\n    };\n    Container.prototype.getCanvas = function () {\n        var canvas;\n        if (this.isCanvas()) {\n            canvas = this;\n        }\n        else {\n            canvas = this.get('canvas');\n        }\n        return canvas;\n    };\n    Container.prototype.getShape = function (x, y, ev) {\n        // 如果不支持拾取，则直接返回\n        if (!isAllowCapture(this)) {\n            return null;\n        }\n        var children = this.getChildren();\n        var shape;\n        // 如果容器是 group\n        if (!this.isCanvas()) {\n            var v = [x, y, 1];\n            // 将 x, y 转换成对应于 group 的局部坐标\n            v = this.invertFromMatrix(v);\n            if (!this.isClipped(v[0], v[1])) {\n                shape = this._findShape(children, v[0], v[1], ev);\n            }\n        }\n        else {\n            shape = this._findShape(children, x, y, ev);\n        }\n        return shape;\n    };\n    Container.prototype._findShape = function (children, x, y, ev) {\n        var shape = null;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (isAllowCapture(child)) {\n                if (child.isGroup()) {\n                    shape = child.getShape(x, y, ev);\n                }\n                else if (child.isHit(x, y)) {\n                    shape = child;\n                }\n            }\n            if (shape) {\n                break;\n            }\n        }\n        return shape;\n    };\n    Container.prototype.add = function (element) {\n        var canvas = this.getCanvas();\n        var children = this.getChildren();\n        var timeline = this.get('timeline');\n        var preParent = element.getParent();\n        if (preParent) {\n            removeChild(preParent, element, false);\n        }\n        element.set('parent', this);\n        if (canvas) {\n            setCanvas(element, canvas);\n        }\n        if (timeline) {\n            setTimeline(element, timeline);\n        }\n        children.push(element);\n        afterAdd(element);\n        this._applyElementMatrix(element);\n    };\n    // 将当前容器的矩阵应用到子元素\n    Container.prototype._applyElementMatrix = function (element) {\n        var totalMatrix = this.getTotalMatrix();\n        // 添加图形或者分组时，需要把当前图元的矩阵设置进去\n        if (totalMatrix) {\n            element.applyMatrix(totalMatrix);\n        }\n    };\n    Container.prototype.getChildren = function () {\n        return this.get('children');\n    };\n    Container.prototype.sort = function () {\n        var children = this.getChildren();\n        // 稳定排序\n        each(children, function (child, index) {\n            child[INDEX] = index;\n            return child;\n        });\n        children.sort(getComparer(function (obj1, obj2) {\n            return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        this.onCanvasChange('sort');\n    };\n    Container.prototype.clear = function () {\n        this.set('clearing', true);\n        if (this.destroyed) {\n            return;\n        }\n        var children = this.getChildren();\n        for (var i = children.length - 1; i >= 0; i--) {\n            children[i].destroy(); // 销毁子元素\n        }\n        this.set('children', []);\n        this.onCanvasChange('clear');\n        this.set('clearing', false);\n    };\n    Container.prototype.destroy = function () {\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 获取第一个子元素\n     * @return {IElement} 第一个元素\n     */\n    Container.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n    };\n    /**\n     * 获取最后一个子元素\n     * @return {IElement} 元素\n     */\n    Container.prototype.getLast = function () {\n        var children = this.getChildren();\n        return this.getChildByIndex(children.length - 1);\n    };\n    /**\n     * 根据索引获取子元素\n     * @return {IElement} 第一个元素\n     */\n    Container.prototype.getChildByIndex = function (index) {\n        var children = this.getChildren();\n        return children[index];\n    };\n    /**\n     * 子元素的数量\n     * @return {number} 子元素数量\n     */\n    Container.prototype.getCount = function () {\n        var children = this.getChildren();\n        return children.length;\n    };\n    /**\n     * 是否包含对应元素\n     * @param {IElement} element 元素\n     * @return {boolean}\n     */\n    Container.prototype.contain = function (element) {\n        var children = this.getChildren();\n        return children.indexOf(element) > -1;\n    };\n    /**\n     * 移除对应子元素\n     * @param {IElement} element 子元素\n     * @param {boolean} destroy 是否销毁子元素，默认为 true\n     */\n    Container.prototype.removeChild = function (element, destroy) {\n        if (destroy === void 0) { destroy = true; }\n        if (this.contain(element)) {\n            element.remove(destroy);\n        }\n    };\n    /**\n     * 查找所有匹配的元素\n     * @param  {ElementFilterFn}   fn  匹配函数\n     * @return {IElement[]} 元素数组\n     */\n    Container.prototype.findAll = function (fn) {\n        var rst = [];\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst.push(element);\n            }\n            if (element.isGroup()) {\n                rst = rst.concat(element.findAll(fn));\n            }\n        });\n        return rst;\n    };\n    /**\n     * 查找元素，找到第一个返回\n     * @param  {ElementFilterFn} fn    匹配函数\n     * @return {IElement|null} 元素，可以为空\n     */\n    Container.prototype.find = function (fn) {\n        var rst = null;\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst = element;\n            }\n            else if (element.isGroup()) {\n                rst = element.find(fn);\n            }\n            if (rst) {\n                return false;\n            }\n        });\n        return rst;\n    };\n    /**\n     * 根据 ID 查找元素\n     * @param {string} id 元素 id\n     * @return {IElement|null} 元素\n     */\n    Container.prototype.findById = function (id) {\n        return this.find(function (element) {\n            return element.get('id') === id;\n        });\n    };\n    /**\n     * 该方法即将废弃，不建议使用\n     * 根据 className 查找元素\n     * TODO: 该方式定义暂时只给 G6 3.3 以后的版本使用，待 G6 中的 findByClassName 方法移除后，G 也需要同步移除\n     * @param {string} className 元素 className\n     * @return {IElement | null} 元素\n     */\n    Container.prototype.findByClassName = function (className) {\n        return this.find(function (element) {\n            return element.get('className') === className;\n        });\n    };\n    /**\n     * 根据 name 查找元素列表\n     * @param {string}      name 元素名称\n     * @return {IElement[]} 元素\n     */\n    Container.prototype.findAllByName = function (name) {\n        return this.findAll(function (element) {\n            return element.get('name') === name;\n        });\n    };\n    return Container;\n}(Element));\nexport default Container;\n//# sourceMappingURL=container.js.map","import { isEqual, isNumber, isFunction } from '@antv/util';\nimport * as d3Timer from 'd3-timer';\nimport * as d3Ease from 'd3-ease';\nimport { interpolate, interpolateArray } from 'd3-interpolate'; // 目前整体动画只需要数值和数组的差值计算\nimport * as PathUtil from '../util/path';\nimport { isColorProp, isGradientColor } from '../util/color';\nvar IDENTITY_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n/**\n * 使用 ratio 进行插值计算来更新属性\n * @param {IElement}  shape    元素\n * @param {Animation} animation 动画\n * @param {number}    ratio    比例\n * @return {boolean}  动画是否执行完成\n */\nfunction _update(shape, animation, ratio) {\n    var cProps = {}; // 此刻属性\n    var fromAttrs = animation.fromAttrs, toAttrs = animation.toAttrs;\n    if (shape.destroyed) {\n        return;\n    }\n    var interf; //  差值函数\n    for (var k in toAttrs) {\n        if (!isEqual(fromAttrs[k], toAttrs[k])) {\n            if (k === 'path') {\n                var toPath = toAttrs[k];\n                var fromPath = fromAttrs[k];\n                if (toPath.length > fromPath.length) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]); // 终点状态\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]); // 起始状态\n                    fromPath = PathUtil.fillPathByDiff(fromPath, toPath);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                }\n                else if (!animation.pathFormatted) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]);\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                    animation.pathFormatted = true;\n                }\n                cProps[k] = [];\n                for (var i = 0; i < toPath.length; i++) {\n                    var toPathPoint = toPath[i];\n                    var fromPathPoint = fromPath[i];\n                    var cPathPoint = [];\n                    for (var j = 0; j < toPathPoint.length; j++) {\n                        if (isNumber(toPathPoint[j]) && fromPathPoint && isNumber(fromPathPoint[j])) {\n                            interf = interpolate(fromPathPoint[j], toPathPoint[j]);\n                            cPathPoint.push(interf(ratio));\n                        }\n                        else {\n                            cPathPoint.push(toPathPoint[j]);\n                        }\n                    }\n                    cProps[k].push(cPathPoint);\n                }\n            }\n            else if (k === 'matrix') {\n                /*\n                 对矩阵进行插值时，需要保证矩阵不为空，为空则使用单位矩阵\n                 TODO: 二维和三维场景下单位矩阵不同，之后 WebGL 版需要做进一步处理\n                 */\n                var matrixFn = interpolateArray(fromAttrs[k] || IDENTITY_MATRIX, toAttrs[k] || IDENTITY_MATRIX);\n                var currentMatrix = matrixFn(ratio);\n                cProps[k] = currentMatrix;\n            }\n            else if (isColorProp(k) && isGradientColor(toAttrs[k])) {\n                cProps[k] = toAttrs[k];\n            }\n            else if (!isFunction(toAttrs[k])) {\n                // 非函数类型的值才能做插值\n                interf = interpolate(fromAttrs[k], toAttrs[k]);\n                cProps[k] = interf(ratio);\n            }\n        }\n    }\n    shape.attr(cProps);\n}\n/**\n * 根据自定义帧动画函数 onFrame 来更新属性\n * @param {IElement}  shape    元素\n * @param {Animation} animation 动画\n * @param {number}    elapsed  动画执行时间(毫秒)\n * @return {boolean}  动画是否执行完成\n */\nfunction update(shape, animation, elapsed) {\n    var startTime = animation.startTime, delay = animation.delay;\n    // 如果还没有开始执行或暂停，先不更新\n    if (elapsed < startTime + delay || animation._paused) {\n        return false;\n    }\n    var ratio;\n    var duration = animation.duration;\n    var easing = animation.easing;\n    // 已执行时间\n    elapsed = elapsed - startTime - animation.delay;\n    if (animation.repeat) {\n        // 如果动画重复执行，则 elapsed > duration，计算 ratio 时需取模\n        ratio = (elapsed % duration) / duration;\n        ratio = d3Ease[easing](ratio);\n    }\n    else {\n        ratio = elapsed / duration;\n        if (ratio < 1) {\n            // 动画未执行完\n            ratio = d3Ease[easing](ratio);\n        }\n        else {\n            // 动画已执行完\n            if (animation.onFrame) {\n                shape.attr(animation.onFrame(1));\n            }\n            else {\n                shape.attr(animation.toAttrs);\n            }\n            return true;\n        }\n    }\n    if (animation.onFrame) {\n        var attrs = animation.onFrame(ratio);\n        shape.attr(attrs);\n    }\n    else {\n        _update(shape, animation, ratio);\n    }\n    return false;\n}\nvar Timeline = /** @class */ (function () {\n    /**\n     * 时间轴构造函数，依赖于画布\n     * @param {}\n     */\n    function Timeline(canvas) {\n        /**\n         * 执行动画的元素列表\n         * @type {IElement[]}\n         */\n        this.animators = [];\n        /**\n         * 当前时间\n         * @type {number}\n         */\n        this.current = 0;\n        /**\n         * 定时器\n         * @type {d3Timer.Timer}\n         */\n        this.timer = null;\n        this.canvas = canvas;\n    }\n    /**\n     * 初始化定时器\n     */\n    Timeline.prototype.initTimer = function () {\n        var _this = this;\n        var isFinished = false;\n        var shape;\n        var animations;\n        var animation;\n        this.timer = d3Timer.timer(function (elapsed) {\n            _this.current = elapsed;\n            if (_this.animators.length > 0) {\n                for (var i = _this.animators.length - 1; i >= 0; i--) {\n                    shape = _this.animators[i];\n                    if (shape.destroyed) {\n                        // 如果已经被销毁，直接移出队列\n                        _this.removeAnimator(i);\n                        continue;\n                    }\n                    if (!shape.isAnimatePaused()) {\n                        animations = shape.get('animations');\n                        for (var j = animations.length - 1; j >= 0; j--) {\n                            animation = animations[j];\n                            isFinished = update(shape, animation, elapsed);\n                            if (isFinished) {\n                                animations.splice(j, 1);\n                                isFinished = false;\n                                if (animation.callback) {\n                                    animation.callback();\n                                }\n                            }\n                        }\n                    }\n                    if (animations.length === 0) {\n                        _this.removeAnimator(i);\n                    }\n                }\n                var autoDraw = _this.canvas.get('autoDraw');\n                // 非自动渲染模式下，手动调用 canvas.draw() 重新渲染\n                if (!autoDraw) {\n                    _this.canvas.draw();\n                }\n            }\n        });\n    };\n    /**\n     * 增加动画元素\n     */\n    Timeline.prototype.addAnimator = function (shape) {\n        this.animators.push(shape);\n    };\n    /**\n     * 移除动画元素\n     */\n    Timeline.prototype.removeAnimator = function (index) {\n        this.animators.splice(index, 1);\n    };\n    /**\n     * 是否有动画在执行\n     */\n    Timeline.prototype.isAnimating = function () {\n        return !!this.animators.length;\n    };\n    /**\n     * 停止定时器\n     */\n    Timeline.prototype.stop = function () {\n        if (this.timer) {\n            this.timer.stop();\n        }\n    };\n    /**\n     * 停止时间轴上所有元素的动画，并置空动画元素列表\n     * @param {boolean} toEnd 是否到动画的最终状态，用来透传给动画元素的 stopAnimate 方法\n     */\n    Timeline.prototype.stopAllAnimations = function (toEnd) {\n        if (toEnd === void 0) { toEnd = true; }\n        this.animators.forEach(function (animator) {\n            animator.stopAnimate(toEnd);\n        });\n        this.animators = [];\n        this.canvas.draw();\n    };\n    /**\n     * 获取当前时间\n     */\n    Timeline.prototype.getTime = function () {\n        return this.current;\n    };\n    return Timeline;\n}());\nexport default Timeline;\n//# sourceMappingURL=timeline.js.map","export var isColorProp = function (prop) { return ['fill', 'stroke', 'fillStyle', 'strokeStyle'].includes(prop); };\nexport var isGradientColor = function (val) { return /^[r,R,L,l]{1}[\\s]*\\(/.test(val); };\n//# sourceMappingURL=color.js.map","import { __extends } from \"tslib\";\nimport Container from './container';\nimport { isBrowser, isString } from '../util/util';\nimport Timeline from '../animate/timeline';\nvar PX_SUFFIX = 'px';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initContainer();\n        _this.initDom();\n        _this.initEvents();\n        _this.initTimeline();\n        return _this;\n    }\n    Canvas.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        // set default cursor style for canvas\n        cfg['cursor'] = 'default';\n        return cfg;\n    };\n    /**\n     * @protected\n     * 初始化容器\n     */\n    Canvas.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (isString(container)) {\n            container = document.getElementById(container);\n            this.set('container', container);\n        }\n    };\n    /**\n     * @protected\n     * 初始化 DOM\n     */\n    Canvas.prototype.initDom = function () {\n        var el = this.createDom();\n        this.set('el', el);\n        // 附加到容器\n        var container = this.get('container');\n        container.appendChild(el);\n        // 设置初始宽度\n        this.setDOMSize(this.get('width'), this.get('height'));\n    };\n    /**\n     * @protected\n     * 初始化绑定的事件\n     */\n    Canvas.prototype.initEvents = function () { };\n    /**\n     * @protected\n     * 初始化时间轴\n     */\n    Canvas.prototype.initTimeline = function () {\n        var timeline = new Timeline(this);\n        this.set('timeline', timeline);\n    };\n    /**\n     * @protected\n     * 修改画布对应的 DOM 的大小\n     * @param {number} width  宽度\n     * @param {number} height 高度\n     */\n    Canvas.prototype.setDOMSize = function (width, height) {\n        var el = this.get('el');\n        if (isBrowser) {\n            el.style.width = width + PX_SUFFIX;\n            el.style.height = height + PX_SUFFIX;\n        }\n    };\n    // 实现接口\n    Canvas.prototype.changeSize = function (width, height) {\n        this.setDOMSize(width, height);\n        this.set('width', width);\n        this.set('height', height);\n        this.onCanvasChange('changeSize');\n    };\n    /**\n     * 获取当前的渲染引擎\n     * @return {Renderer} 返回当前的渲染引擎\n     */\n    Canvas.prototype.getRenderer = function () {\n        return this.get('renderer');\n    };\n    /**\n     * 获取画布的 cursor 样式\n     * @return {Cursor}\n     */\n    Canvas.prototype.getCursor = function () {\n        return this.get('cursor');\n    };\n    /**\n     * 设置画布的 cursor 样式\n     * @param {Cursor} cursor  cursor 样式\n     */\n    Canvas.prototype.setCursor = function (cursor) {\n        this.set('cursor', cursor);\n        var el = this.get('el');\n        if (isBrowser && el) {\n            // 直接设置样式，不等待鼠标移动时再设置\n            el.style.cursor = cursor;\n        }\n    };\n    // 实现接口\n    Canvas.prototype.getPointByClient = function (clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: clientX - bbox.left,\n            y: clientY - bbox.top,\n        };\n    };\n    // 实现接口\n    Canvas.prototype.getClientByPoint = function (x, y) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: x + bbox.left,\n            y: y + bbox.top,\n        };\n    };\n    // 实现接口\n    Canvas.prototype.draw = function () { };\n    /**\n     * @protected\n     * 销毁 DOM 容器\n     */\n    Canvas.prototype.removeDom = function () {\n        var el = this.get('el');\n        el.parentNode.removeChild(el);\n    };\n    /**\n     * @protected\n     * 清理所有的事件\n     */\n    Canvas.prototype.clearEvents = function () { };\n    Canvas.prototype.isCanvas = function () {\n        return true;\n    };\n    Canvas.prototype.getParent = function () {\n        return null;\n    };\n    Canvas.prototype.destroy = function () {\n        var timeline = this.get('timeline');\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        // 同初始化时相反顺序调用\n        if (timeline) {\n            // 画布销毁时自动停止动画\n            timeline.stop();\n        }\n        this.clearEvents();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    return Canvas;\n}(Container));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","import { __extends } from \"tslib\";\nimport Container from './container';\nvar AbstractGroup = /** @class */ (function (_super) {\n    __extends(AbstractGroup, _super);\n    function AbstractGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractGroup.prototype.isGroup = function () {\n        return true;\n    };\n    AbstractGroup.prototype.isEntityGroup = function () {\n        return false;\n    };\n    AbstractGroup.prototype.clone = function () {\n        var clone = _super.prototype.clone.call(this);\n        // 获取构造函数\n        var children = this.getChildren();\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            clone.add(child.clone());\n        }\n        return clone;\n    };\n    return AbstractGroup;\n}(Container));\nexport default AbstractGroup;\n//# sourceMappingURL=group.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { multiplyVec2 } from '../util/matrix';\nvar AbstractShape = /** @class */ (function (_super) {\n    __extends(AbstractShape, _super);\n    function AbstractShape(cfg) {\n        return _super.call(this, cfg) || this;\n    }\n    // 是否在包围盒内\n    AbstractShape.prototype._isInBBox = function (refX, refY) {\n        var bbox = this.getBBox();\n        return bbox.minX <= refX && bbox.maxX >= refX && bbox.minY <= refY && bbox.maxY >= refY;\n    };\n    /**\n     * 属性更改后需要做的事情\n     * @protected\n     * @param {ShapeAttrs} targetAttrs 渲染的图像属性\n     */\n    AbstractShape.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        this.clearCacheBBox();\n    };\n    // 计算包围盒时，需要缓存，这是一个高频的操作\n    AbstractShape.prototype.getBBox = function () {\n        var bbox = this.get('bbox');\n        if (!bbox) {\n            bbox = this.calculateBBox();\n            this.set('bbox', bbox);\n        }\n        return bbox;\n    };\n    // 计算相对于画布的包围盒\n    AbstractShape.prototype.getCanvasBBox = function () {\n        var canvasBox = this.get('canvasBox');\n        if (!canvasBox) {\n            canvasBox = this.calculateCanvasBBox();\n            this.set('canvasBox', canvasBox);\n        }\n        return canvasBox;\n    };\n    AbstractShape.prototype.applyMatrix = function (matrix) {\n        _super.prototype.applyMatrix.call(this, matrix);\n        // 清理掉缓存的包围盒\n        this.set('canvasBox', null);\n    };\n    /**\n     * 计算相对于画布的包围盒，默认等同于 bbox\n     * @return {BBox} 包围盒\n     */\n    AbstractShape.prototype.calculateCanvasBBox = function () {\n        var bbox = this.getBBox();\n        var totalMatrix = this.getTotalMatrix();\n        var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n        if (totalMatrix) {\n            var topLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.minY]);\n            var topRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.minY]);\n            var bottomLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.maxY]);\n            var bottomRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.maxY]);\n            minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n            maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n        }\n        var attrs = this.attrs;\n        // 如果存在 shadow 则计算 shadow\n        if (attrs.shadowColor) {\n            var _a = attrs.shadowBlur, shadowBlur = _a === void 0 ? 0 : _a, _b = attrs.shadowOffsetX, shadowOffsetX = _b === void 0 ? 0 : _b, _c = attrs.shadowOffsetY, shadowOffsetY = _c === void 0 ? 0 : _c;\n            var shadowLeft = minX - shadowBlur + shadowOffsetX;\n            var shadowRight = maxX + shadowBlur + shadowOffsetX;\n            var shadowTop = minY - shadowBlur + shadowOffsetY;\n            var shadowBottom = maxY + shadowBlur + shadowOffsetY;\n            minX = Math.min(minX, shadowLeft);\n            maxX = Math.max(maxX, shadowRight);\n            minY = Math.min(minY, shadowTop);\n            maxY = Math.max(maxY, shadowBottom);\n        }\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    /**\n     * @protected\n     * 清理缓存的 bbox\n     */\n    AbstractShape.prototype.clearCacheBBox = function () {\n        this.set('bbox', null);\n        this.set('canvasBox', null);\n    };\n    // 实现接口\n    AbstractShape.prototype.isClipShape = function () {\n        return this.get('isClipShape');\n    };\n    /**\n     * @protected\n     * 不同的图形自己实现是否在图形内部的逻辑，要判断边和填充区域\n     * @param  {number}  refX 相对于图形的坐标 x\n     * @param  {number}  refY 相对于图形的坐标 Y\n     * @return {boolean} 点是否在图形内部\n     */\n    AbstractShape.prototype.isInShape = function (refX, refY) {\n        return false;\n    };\n    /**\n     * 是否仅仅使用 BBox 检测就可以判定拾取到图形\n     * 默认是 false，但是有些图形例如 image、marker 等都可直接使用 BBox 的检测而不需要使用图形拾取\n     * @return {Boolean} 仅仅使用 BBox 进行拾取\n     */\n    AbstractShape.prototype.isOnlyHitBox = function () {\n        return false;\n    };\n    // 不同的 Shape 各自实现\n    AbstractShape.prototype.isHit = function (x, y) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        var vec = [x, y, 1];\n        vec = this.invertFromMatrix(vec);\n        var refX = vec[0], refY = vec[1];\n        var inBBox = this._isInBBox(refX, refY);\n        // 跳过图形的拾取，在某些图形中可以省略一倍的检测成本\n        if (this.isOnlyHitBox()) {\n            return inBBox;\n        }\n        // 被裁减掉的和不在包围盒内的不进行计算\n        if (inBBox && !this.isClipped(refX, refY)) {\n            // 对图形进行拾取判断\n            if (this.isInShape(refX, refY)) {\n                return true;\n            }\n            // 对起始箭头进行拾取判断\n            if (startArrowShape && startArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n            // 对结束箭头进行拾取判断\n            if (endArrowShape && endArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return AbstractShape;\n}(Element));\nexport default AbstractShape;\n//# sourceMappingURL=shape.js.map","import * as Shape from './shape';\nvar pkg = require('../package.json');\nexport var version = pkg.version;\nexport { Event } from '@antv/g-base';\nexport { default as Canvas } from './canvas';\nexport { default as Group } from './group';\nexport { Shape };\n//# sourceMappingURL=index.js.map","import ViewLayer from '../base/view-layer';\nimport { LooseMap } from '../interface/types';\nimport { each } from '@antv/util';\n\ntype IEventmap = LooseMap<string>;\n\nconst EVENT_MAP: IEventmap = {\n  onViewClick: 'click',\n  onViewDblClick: 'dblclick',\n  onViewMousemove: 'mousemove',\n  onViewMousedown: 'mousedown',\n  onViewMouseup: 'mouseup',\n  onViewMouseenter: 'mouseenter',\n  onViewMouseleave: 'mouseleave',\n  onViewContextmenu: 'contextmenu',\n  onAxisClick: 'axis-label:click',\n  onAxisDblClick: 'axis-label:dblclick',\n  onAxisMousemove: 'axis-label:mousemove',\n  onAxisMousedown: 'axis-label:mousedown',\n  onAxisMouseup: 'axis-label:mouseup',\n  onAxisMouseenter: 'axis-label:mouseenter',\n  onAxisMouseleave: 'axis-label:mouseleave',\n  onAxisContextmenu: 'axis-label:contextmenu',\n  onLabelClick: 'label:click',\n  onLabelDblClick: 'label:dblclick',\n  onLabelMousemove: 'label:mousemove',\n  onLabelMouseup: 'label:mouseup',\n  onLabelMousedown: 'label:mousedown',\n  onLabelMouseenter: 'label:mouseenter',\n  onLabelMouseleave: 'label:mouseleave',\n  onLabelContextmenu: 'label:contextmenu',\n  onLegendClick: 'legend-item:click',\n  onLegendDblClick: 'legend-item:dblclick',\n  onLegendMouseMove: 'legend-item:mousemove',\n  onLegendMouseDown: 'legend-item:mousedown',\n  onLegendMouseUp: 'legend-item:mouseup',\n  onLegendMouseLeave: 'legend-item:mouseleave',\n  onLegendMouseEnter: 'legend-item:mouseenter',\n  onLegendContextmenu: 'legend-item:contextmenu',\n};\n\nconst CANVAS_EVENT_MAP = {\n  onPlotClick: 'click',\n  onPlotDblClick: 'dblclick',\n  onPlotMousemove: 'mousemove',\n  onPlotMousedown: 'mousedown',\n  onPlotMouseup: 'mouseup',\n  onPlotMouseenter: 'mouseenter',\n  onPlotMouseleave: 'mouseleave',\n  onPlotContextmenu: 'contextmenu',\n\n  onTitleClick: 'title:click',\n  onTitleDblClick: 'title:dblclick',\n  onTitleMousemove: 'title:mousemove',\n  onTitleMousedown: 'title:mousedown',\n  onTitleMouseup: 'title:mouseup',\n  onTitleMouseenter: 'title:mouseenter',\n  onTitleMouseleave: 'title:mouseleave',\n  onTitleContextmenu: 'title:contextmenu',\n\n  onDescriptionClick: 'description:click',\n  onDescriptionDblClick: 'description:dblclick',\n  onDescriptionMousemove: 'description:mousemove',\n  onDescriptionMousedown: 'description:mousedown',\n  onDescriptionMouseup: 'description:mouseup',\n  onDescriptionMouseenter: 'description:mouseenter',\n  onDescriptionMouseleave: 'description:mouseleave',\n  onDescriptionContextmenu: 'description:contextmenu',\n\n  onBreadcrumbClick: 'breadcrumb:click',\n  onBreadcrumbDblClick: 'breadcrumb:dblclick',\n  onBreadcrumbMousemove: 'breadcrumb:mousemove',\n  onBreadcrumbMousedown: 'breadcrumb:mousedown',\n  onBreadcrumbMouseup: 'breadcrumb:mouseup',\n  onBreadcrumbMouseenter: 'breadcrumb:mouseenter',\n  onBreadcrumbMouseleave: 'breadcrumb:mouseleave',\n  onBreadcrumbContextmenu: 'breadcrumb:contextmenu',\n};\n\nconst LAYER_EVENT_MAP = {\n  onLayerClick: 'click',\n  onLayerDblClick: 'dblclick',\n  onLayerMousemove: 'mousemove',\n  onLayerMousedown: 'mousedown',\n  onLayerMouseup: 'mouseup',\n  onLayerMouseenter: 'mouseenter',\n  onLayerMouseleave: 'mouseleave',\n  onLayerContextmenu: 'contextmenu',\n};\n\ntype Handler = (...__: any[]) => {};\n\nfunction onEvent(layer: ViewLayer, eventName: string, handler: Handler) {\n  layer.view.on(eventName, handler);\n}\n\nconst eventNames = [\n  'Click',\n  'Dblclick',\n  'Mousemove',\n  'Mouseenter',\n  'Mouseleave',\n  'Mousedown',\n  'Mouseup',\n  'Contextmenu',\n];\n\nexport function getEventMap(map) {\n  const eventMap: IEventmap = {};\n  each(map, (item, key) => {\n    const namePrefix = `on${key}`;\n    const eventPrefix = `${item}:`;\n    each(eventNames, (name) => {\n      const eventKey = `${namePrefix}${name}`;\n      const eventName = name.toLowerCase();\n      const event = `${eventPrefix}${eventName}`;\n      eventMap[eventKey] = event;\n    });\n  });\n  return eventMap;\n}\n\nexport { IEventmap, EVENT_MAP, CANVAS_EVENT_MAP, LAYER_EVENT_MAP, onEvent };\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sub = exports.mul = undefined;\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20;\n\n  // Calculate the determinant\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n\n  return out;\n}\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n  return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nfunction str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nfunction frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;","// G\nexport { IElement, ICanvas, IGroup, IShape, BBox } from '@antv/g-base';\nexport { Canvas } from '@antv/g-canvas';\nexport { Canvas as SVG } from '@antv/g-svg';\n\n// G2\nexport {\n  View,\n  registerAnimation,\n  registerGeometry,\n  Geometry,\n  Interaction,\n  registerInteraction,\n  registerShape,\n  getTheme,\n  Util,\n  getShapeFactory,\n} from '@antv/g2';\nexport { VIEW_LIFE_CIRCLE } from '@antv/g2/lib/constant';\nexport {\n  Datum,\n  Data,\n  LooseObject,\n  Options,\n  Point,\n  ShapeInfo,\n  AttributeOption,\n  AdjustOption,\n  LabelOption,\n} from '@antv/g2/lib/interface';\nexport { DEFAULT_ANIMATE_CFG } from '@antv/g2/lib/animate';\n\n// Component\nimport HtmlTooltip from '@antv/component/lib/tooltip/html';\nimport HtmlTooltipTheme from '@antv/component/lib/tooltip/html-theme';\nimport TooltipCssConst from '@antv/component/lib/tooltip/css-const';\nexport { HtmlTooltip, HtmlTooltipTheme, TooltipCssConst };\nexport { Axis, Legend, Tooltip, Slider, Scrollbar } from '@antv/component';\nexport { TooltipCfg } from '@antv/component/lib/types';\n","// // defaultTheme 必须首先注册\n// import defaultTheme from './default';\n//\n// import Theme from './theme';\n//\n// export { Theme as default, defaultTheme };\n\n// 全局主题的方法\nexport { getGlobalTheme, registerGlobalTheme } from './global';\n// 图表主题的方法\nexport { getTheme, registerTheme } from './theme';\n// 工具函数\nexport { convertToG2Theme } from './utils';\n","import {\n  deepMix,\n  isEmpty,\n  mapValues,\n  get,\n  isUndefined,\n  each,\n  assign,\n  isFunction,\n  mix,\n  map,\n  flatten,\n  reduce,\n  findIndex,\n} from '@antv/util';\nimport { View, BBox } from '../dependents';\nimport TextDescription from '../components/description';\nimport { getComponent } from '../components/factory';\nimport Interaction from '../interaction/core';\nimport BaseInteraction, { InteractionCtor } from '../interaction/index';\nimport {\n  Axis,\n  IDescription,\n  IInteractions,\n  ITitle,\n  Label,\n  Legend,\n  StateConfig,\n  Tooltip,\n  DataItem,\n} from '../interface/config';\nimport { G2Config } from '../interface/config';\nimport { EVENT_MAP, onEvent } from '../util/event';\nimport PaddingController from './controller/padding';\nimport StateController from './controller/state';\nimport ThemeController from './controller/theme';\nimport Layer, { LayerConfig } from './layer';\nimport { isTextUsable } from '../util/common';\nimport { LooseMap } from '../interface/types';\n\nexport interface ViewConfig {\n  renderer?: string;\n  data?: DataItem[];\n  meta?: LooseMap;\n  padding?: number | number[] | string;\n  xField?: string;\n  yField?: string;\n  color?: string | string[] | {};\n  size?: number | number[] | {};\n  shape?: string | string[] | {};\n  xAxis?: Axis;\n  yAxis?: Axis;\n  label?: Label;\n  tooltip?: Tooltip;\n  legend?: Legend;\n  animation?: any | boolean;\n  theme?: LooseMap | string;\n  responsiveTheme?: {} | string;\n  interactions?: IInteractions[];\n  responsive?: boolean;\n  title?: ITitle;\n  description?: IDescription;\n  guideLine?: any;\n  events?: {\n    [k: string]: ((...args: any[]) => any) | boolean;\n  };\n  defaultState?: {\n    active?: StateConfig;\n    inActive?: StateConfig;\n    selected?: StateConfig;\n    disabled?: StateConfig;\n  };\n  widthRatio?: {\n    [k: string]: number;\n  };\n  name?: string;\n}\n\nexport interface ViewLayerConfig extends ViewConfig, LayerConfig {}\n\nexport default abstract class ViewLayer<T extends ViewLayerConfig = ViewLayerConfig> extends Layer<T> {\n  public static getDefaultOptions(props?: Partial<ViewConfig>): Partial<ViewConfig> {\n    return {\n      renderer: 'canvas',\n      title: {\n        visible: false,\n        alignTo: 'left',\n        text: '',\n      },\n      description: {\n        visible: false,\n        text: '',\n        alignTo: 'left',\n      },\n      padding: 'auto',\n      legend: {\n        visible: true,\n        position: 'bottom',\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: true,\n        crosshairs: {\n          type: 'x',\n        },\n        offset: 20,\n      },\n      xAxis: {\n        visible: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n          autoRotate: true,\n          autoHide: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoRotateTitle: true,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: false,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      label: {\n        visible: false,\n      },\n      interactions: [{ type: 'tooltip' }, { type: 'legend-active' }, { type: 'legend-filter' }],\n    };\n  }\n  public type: string;\n  public view: View;\n  public theme: any;\n  public initialOptions: T;\n  public title: TextDescription;\n  public description: TextDescription;\n  public viewRange: BBox;\n  protected paddingController: PaddingController;\n  protected stateController: StateController;\n  protected themeController: ThemeController;\n  public config: G2Config;\n  protected interactions: Interaction[] = [];\n\n  constructor(props: T) {\n    super(props);\n    this.options = this.getOptions(props);\n    this.initialOptions = deepMix({}, this.options);\n    this.paddingController = new PaddingController({\n      plot: this,\n    });\n    this.stateController = new StateController({\n      plot: this,\n    });\n    this.themeController = new ThemeController();\n  }\n\n  public getOptions(props: T): T {\n    const options = super.getOptions(props);\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions(props);\n    // interactions 需要合并去重下\n    const interactions = reduce(\n      flatten(map([options, defaultOptions, props], (src) => get(src, 'interactions', []))),\n      (result, cur) => {\n        const idx = findIndex(result, (item) => item.type === cur.type);\n        if (idx >= 0) {\n          result.splice(idx, 1);\n        }\n        return [...result, cur];\n      },\n      []\n    );\n    return deepMix({}, options, defaultOptions, props, { interactions });\n  }\n\n  public beforeInit() {\n    super.beforeInit();\n  }\n\n  public init() {\n    super.init();\n    this.theme = this.themeController.getTheme(this.options, this.type);\n    this.config = {\n      data: this.processData(this.options.data),\n      scales: {},\n      legends: {},\n      tooltip: {\n        showTitle: true,\n      },\n      axes: {},\n      coordinate: { type: 'cartesian' },\n      geometries: [],\n      annotations: [],\n      interactions: [],\n      theme: this.theme,\n      panelRange: {},\n      animate: true,\n      views: [],\n    };\n\n    this.paddingController.clear();\n\n    this.drawTitle();\n    this.drawDescription();\n    // 有些interaction要调整配置项，所以顺序提前\n    this.interaction();\n    this.coord();\n    this.scale();\n    this.axis();\n    this.tooltip();\n    this.legend();\n    this.addGeometry();\n    this.annotation();\n    this.animation();\n\n    this.viewRange = this.getViewRange();\n    const region = this.viewRangeToRegion(this.viewRange);\n    this.view = new View({\n      parent: null,\n      canvas: this.canvas,\n      backgroundGroup: this.container.addGroup(),\n      middleGroup: this.container.addGroup(),\n      foregroundGroup: this.container.addGroup(),\n      padding: this.paddingController.getPadding(),\n      theme: this.theme,\n      options: this.config,\n      region,\n    });\n    this.applyInteractions();\n    this.view.on('afterrender', () => {\n      this.afterRender();\n    });\n  }\n\n  public afterInit() {\n    super.afterInit();\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    if (this.options.padding !== 'auto') {\n      this.parseEvents();\n    }\n  }\n\n  public afterRender() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    const { options } = this;\n    const padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n    /** autopadding */\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n  }\n\n  /** 完整生命周期渲染 */\n  public render(): void {\n    super.render();\n    const { data } = this.options;\n    if (!isEmpty(data)) {\n      this.view.render();\n    }\n  }\n\n  /** 销毁 */\n  public destroy(): void {\n    this.doDestroy();\n    super.destroy();\n  }\n\n  /** 更新配置项 */\n  public updateConfig(cfg: Partial<T>): void {\n    this.doDestroy();\n    if (!cfg.padding && this.initialOptions.padding && this.initialOptions.padding === 'auto') {\n      cfg.padding = 'auto';\n    }\n    this.options = deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  }\n\n  public changeData(data: DataItem[]): void {\n    this.options.data = this.processData(data);\n    this.view.changeData(this.options.data);\n  }\n\n  // plot 不断销毁重建，需要一个api获取最新的plot\n  public getPlot() {\n    return this.view;\n  }\n\n  // 获取对应的G2 Theme\n  public getTheme() {\n    if (!this.theme) {\n      return this.themeController.getTheme(this.options, this.type);\n    }\n    return this.theme;\n  }\n\n  public getResponsiveTheme() {\n    return this.themeController.getResponsiveTheme(this.type);\n  }\n\n  // 获取对应的Plot Theme\n  public getPlotTheme() {\n    return this.themeController.getPlotTheme(this.options, this.type);\n  }\n\n  public getInteractions() {\n    return this.interactions;\n  }\n\n  // 绑定一个外部的stateManager\n  public bindStateManager(stateManager, cfg): void {\n    this.stateController.bindStateManager(stateManager, cfg);\n  }\n\n  // 响应状态量更新的快捷方法\n  public setActive(condition, style) {\n    this.stateController.setState({ type: 'active', condition, style });\n  }\n\n  public setSelected(condition, style) {\n    this.stateController.setState({ type: 'selected', condition, style });\n  }\n\n  public setDisable(condition, style) {\n    this.stateController.setState({ type: 'disable', condition, style });\n  }\n\n  public setDefault(condition, style) {\n    this.stateController.setState({ type: 'default', condition, style });\n  }\n\n  // 获取 ViewLayer 的数据项\n  public getData(start?: number, end?: number): object[] {\n    return this.processData((this.options.data || []).slice(start, end));\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    return data;\n  }\n\n  protected abstract coord(): void;\n\n  protected scale(): void {\n    /** scale meta配置 */\n    // 1. this.config.scales中已有子图形在处理xAxis/yAxis是写入的xField/yField对应的scale信息，这里再检查用户设置的meta，将meta信息合并到默认的scale中\n    // 2. 同时xAxis/yAxis中的type优先级更高，覆盖meta中的type配置\n    const scaleTypes = mapValues(this.config.scales, (scaleConfig: any) => {\n      const type = scaleConfig.type;\n      return type ? { type } : {};\n    });\n    const scales = deepMix({}, this.config.scales, this.options.meta || {}, scaleTypes);\n\n    this.setConfig('scales', scales);\n  }\n\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    const axesConfig = {};\n    axesConfig[this.options.xField] = xAxis_parser;\n    axesConfig[this.options.yField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected tooltip(): void {\n    if (this.options.tooltip.visible === false) {\n      this.setConfig('tooltip', false);\n      return;\n    }\n\n    this.setConfig('tooltip', deepMix({}, get(this.options, 'tooltip')));\n\n    deepMix(this.config.theme.tooltip, this.options.tooltip.style);\n  }\n\n  protected getLegendPosition(position: string): any {\n    const positionList = position.split('-');\n    // G2 4.0 兼容 XXX-center 到 XXX 的场景\n    if (positionList && positionList.length > 1 && positionList[1] === 'center') {\n      return positionList[0];\n    }\n    return position;\n  }\n\n  protected legend(): void {\n    if (this.options.legend.visible === false) {\n      this.setConfig('legends', false);\n      return;\n    }\n    const flipOption = get(this.options, 'legend.flipPage');\n    const clickable = get(this.options, 'legend.clickable');\n    this.setConfig('legends', {\n      position: this.getLegendPosition(get(this.options, 'legend.position')),\n      formatter: get(this.options, 'legend.formatter'),\n      offsetX: get(this.options, 'legend.offsetX'),\n      offsetY: get(this.options, 'legend.offsetY'),\n      clickable: isUndefined(clickable) ? true : clickable,\n      // wordSpacing: get(this.options, 'legend.wordSpacing'),\n      flipPage: flipOption,\n      marker: get(this.options, 'legend.marker'),\n    });\n  }\n\n  protected annotation() {\n    const config = [];\n    if (this.config.coordinate.type === 'cartesian' && this.options.guideLine) {\n      each(this.options.guideLine, (line) => {\n        const guideLine = getComponent('guideLine', {\n          plot: this,\n          cfg: line,\n        });\n        config.push(guideLine);\n      });\n    }\n    this.setConfig('annotations', config);\n  }\n\n  protected abstract addGeometry(): void;\n  protected abstract geometryParser(dim: string, type: string): string;\n\n  protected interaction() {\n    const { interactions = [] } = this.options;\n    each(interactions, (interaction) => {\n      const { type } = interaction;\n      if (type === 'slider' || type === 'scrollbar') {\n        const axisConfig = {\n          label: {\n            autoHide: true,\n            autoRotate: false,\n          },\n        };\n        this.options.xAxis = deepMix({}, this.options.xAxis, axisConfig);\n      }\n      this.setConfig('interaction', interaction);\n    });\n  }\n\n  protected animation() {\n    if (this.options.animation === false || this.options.padding === 'auto') {\n      this.setConfig('animate', false);\n    }\n  }\n\n  protected applyInteractions(): void {\n    const { interactions = [] } = this.options;\n    if (this.interactions) {\n      this.interactions.forEach((inst) => {\n        inst.destroy();\n      });\n    }\n    this.interactions = [];\n    interactions.forEach((interaction) => {\n      const Ctor: InteractionCtor | undefined = BaseInteraction.getInteraction(interaction.type, this.type);\n      if (Ctor) {\n        const inst: BaseInteraction = new Ctor(\n          { view: this.view },\n          this,\n          Ctor.getInteractionRange(this.layerBBox, interaction.cfg),\n          interaction.cfg\n        );\n        this.interactions.push(inst);\n      }\n    });\n  }\n\n  /** 设置G2 config，带有类型推导 */\n  protected setConfig<K extends keyof G2Config>(key: K, config: G2Config[K] | boolean): void {\n    if (key === 'geometry') {\n      this.config.geometries.push(config as G2Config['geometry']);\n      return;\n    }\n    if (key === 'interaction') {\n      this.config.interactions.push(config as any);\n      return;\n    }\n    if (config === false) {\n      this.config[key] = false;\n      return;\n    }\n    assign(this.config[key], config);\n  }\n\n  protected parseEvents(eventParser?): void {\n    const { options } = this;\n    if (options.events) {\n      super.parseEvents(options.events);\n      const eventmap = eventParser ? eventParser.EVENT_MAP : EVENT_MAP;\n      each(options.events, (e, k) => {\n        if (isFunction(e)) {\n          const eventName = eventmap[k] || k;\n          const handler = e;\n          onEvent(this, eventName, handler);\n        }\n      });\n    }\n  }\n\n  protected drawTitle(): void {\n    const props = this.options;\n    const range = this.layerBBox;\n    if (this.title) {\n      this.title.destroy();\n      this.title = null;\n    }\n\n    if (isTextUsable(props.title)) {\n      const width = this.width;\n      const theme = this.config.theme;\n      const title = new TextDescription({\n        leftMargin: range.minX + theme.title.padding[3],\n        rightMargin: range.maxX - theme.title.padding[1],\n        topMargin: range.minY + theme.title.padding[0],\n        text: props.title.text,\n        style: mix(theme.title, props.title.style),\n        wrapperWidth: width - theme.title.padding[3] - theme.title.padding[1],\n        container: this.container.addGroup() as any,\n        theme,\n        index: isTextUsable(props.description) ? 0 : 1,\n        plot: this,\n        alignTo: props.title.alignTo,\n        name: 'title',\n      });\n      this.title = title;\n      this.paddingController.registerPadding(title, 'outer');\n    }\n  }\n\n  protected drawDescription(): void {\n    const props = this.options;\n    const range = this.layerBBox;\n    if (this.description) {\n      this.description.destroy();\n      this.description = null;\n    }\n\n    if (isTextUsable(props.description)) {\n      const width = this.width;\n      const theme = this.config.theme;\n      let topMargin = 0;\n\n      if (this.title) {\n        const titleBBox = this.title.getBBox();\n        topMargin += titleBBox.minY + titleBBox.height;\n        topMargin += theme.description.padding[0];\n      } else {\n        // 无title的情况下使用title的上padding\n        topMargin += range.minY + theme.title.padding[0];\n      }\n\n      const description = new TextDescription({\n        leftMargin: range.minX + theme.description.padding[3],\n        topMargin,\n        rightMargin: range.maxX - theme.title.padding[1],\n        text: props.description.text,\n        style: mix(theme.description, props.description.style),\n        wrapperWidth: width - theme.description.padding[3] - theme.description.padding[1],\n        container: this.container.addGroup() as any,\n        theme,\n        index: 1,\n        plot: this,\n        alignTo: props.description.alignTo,\n        name: 'description',\n      });\n      this.description = description;\n      this.paddingController.registerPadding(description, 'outer');\n    }\n  }\n\n  /** 抽取destroy和updateConfig共有代码为_destroy方法 */\n  private doDestroy() {\n    this.doDestroyInteractions();\n    /** 销毁g2.view实例 */\n    if (!this.view.destroyed) {\n      this.view.destroy();\n    }\n  }\n\n  private doDestroyInteractions() {\n    // 移除注册的 interactions\n    if (this.interactions) {\n      this.interactions.forEach((inst) => {\n        inst.destroy();\n      });\n    }\n    this.interactions = [];\n  }\n\n  protected getViewRange() {\n    // 有 Range 的 Interaction 参与 ViewMargin 计算\n    const { interactions = [] } = this.options;\n    const layerBBox = this.layerBBox;\n    interactions.forEach((interaction) => {\n      const Ctor: InteractionCtor | undefined = BaseInteraction.getInteraction(interaction.type, this.type);\n      const range: BBox | undefined = Ctor && Ctor.getInteractionRange(layerBBox, interaction.cfg);\n      let position = '';\n      if (range) {\n        // 先只考虑 Range 靠边的情况\n        if (range.maxY === layerBBox.maxY && range.minY > layerBBox.minY) {\n          // margin[2] += range.height;\n          position = 'bottom';\n        } else if (range.maxX === layerBBox.maxX && range.minX > layerBBox.minX) {\n          // margin[1] += range.width;\n          position = 'right';\n        } else if (range.minX === layerBBox.minX && range.maxX > layerBBox.maxX) {\n          // margin[3] += range.width;\n          position = 'left';\n        } else if (range.minY === layerBBox.minY && range.maxY > layerBBox.maxY) {\n          // margin[0] += range.height;\n          position = 'top';\n        }\n        this.paddingController.registerPadding(\n          {\n            getBBox: () => {\n              return range;\n            },\n            position,\n          },\n          'outer'\n        );\n      }\n    });\n    const viewRange = this.paddingController.processOuterPadding();\n    return viewRange;\n  }\n\n  private viewRangeToRegion(viewRange) {\n    const { width, height } = this;\n    const start = { x: 0, y: 0 },\n      end = { x: 1, y: 1 };\n    start.x = viewRange.minX / width;\n    start.y = viewRange.minY / height;\n    end.x = viewRange.maxX / width;\n    end.y = viewRange.maxY / height;\n\n    return {\n      start,\n      end,\n    };\n  }\n}\n","export interface PointType {\n  readonly x: number;\n  readonly y: number;\n}\n\nexport default class BBox {\n  readonly x: number;\n  readonly y: number;\n  readonly height: number;\n  readonly width: number;\n\n  static fromBBoxObject(bbox: any) {\n    return new BBox(bbox.x, bbox.y, bbox.width, bbox.height);\n  }\n\n  static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    // range\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.y = y;\n  }\n\n  public equals(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  public get minX() {\n    return this.x;\n  }\n\n  public get maxX() {\n    return this.x + this.width;\n  }\n\n  public get minY() {\n    return this.y;\n  }\n\n  public get maxY() {\n    return this.y + this.height;\n  }\n\n  public get tl() {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr() {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl() {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br() {\n    return { x: this.maxX, y: this.maxY };\n  }\n}\n","import Area from './area/index';\nimport Interval from './interval/index';\nimport Line from './line/index';\nimport Point from './point/index';\n/**\n * 将element的配置逻辑拆离出来，并将每类element细分为主体图形、辅助图形、mini图形三种\n * 这样也方便未来更灵活的调用和组装g2的element模块\n */\n\nconst GEOMETRY_MAP = {\n  area: Area,\n  line: Line,\n  point: Point,\n  interval: Interval,\n};\n\ntype FirstCtrParam<T> = T extends new (first: infer R) => any ? R : never;\n\ntype MapType = typeof GEOMETRY_MAP;\n\nexport function getGeom<T extends keyof MapType, U extends keyof MapType[T]>(\n  name: T,\n  type: U,\n  cfg: FirstCtrParam<MapType[T][U]>\n) {\n  const Geom: any = GEOMETRY_MAP[name][type];\n  return new Geom(cfg).config;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar g_base_1 = require(\"@antv/g-base\");\nvar util_1 = require(\"@antv/util\");\nvar LOCATION_FIELD_MAP = {\n    none: [],\n    point: ['x', 'y'],\n    region: ['start', 'end'],\n    points: ['points'],\n    circle: ['center', 'radius', 'startAngle', 'endAngle'],\n};\nvar Component = /** @class */ (function (_super) {\n    tslib_1.__extends(Component, _super);\n    function Component(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initCfg();\n        return _this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    Component.prototype.getDefaultCfg = function () {\n        return {\n            id: '',\n            name: '',\n            type: '',\n            locationType: 'none',\n            offsetX: 0,\n            offsetY: 0,\n            animate: false,\n            updateAutoRender: false,\n            animateOption: {\n                appear: null,\n                update: {\n                    duration: 400,\n                    easing: 'easeQuadInOut',\n                },\n                enter: {\n                    duration: 400,\n                    easing: 'easeQuadInOut',\n                },\n                leave: {\n                    duration: 350,\n                    easing: 'easeQuadIn',\n                },\n            },\n            events: null,\n            defaultCfg: {},\n            visible: true,\n        };\n    };\n    /**\n     * 清理组件的内容，一般配合 render 使用\n     * @example\n     * axis.clear();\n     * axis.render();\n     */\n    Component.prototype.clear = function () { };\n    /**\n     * 更新组件\n     * @param {object} cfg 更新属性\n     */\n    Component.prototype.update = function (cfg) {\n        var _this = this;\n        var defaultCfg = this.get('defaultCfg');\n        util_1.each(cfg, function (value, name) {\n            var originCfg = _this.get(name);\n            var newCfg = value;\n            if (originCfg !== value) {\n                // 判断两者是否相等，主要是进行 null 的判定\n                if (util_1.isObject(value) && defaultCfg[name]) {\n                    // 新设置的属性与默认值进行合并\n                    newCfg = util_1.deepMix({}, defaultCfg[name], value);\n                }\n                _this.set(name, newCfg);\n            }\n        });\n    };\n    Component.prototype.getLayoutBBox = function () {\n        return this.getBBox(); // 默认返回 getBBox，不同的组件内部单独实现\n    };\n    Component.prototype.getLocationType = function () {\n        return this.get('locationType');\n    };\n    Component.prototype.getOffset = function () {\n        return {\n            offsetX: this.get('offsetX'),\n            offsetY: this.get('offsetY'),\n        };\n    };\n    // 默认使用 update\n    Component.prototype.setOffset = function (offsetX, offsetY) {\n        this.update({\n            offsetX: offsetX,\n            offsetY: offsetY,\n        });\n    };\n    Component.prototype.setLocation = function (cfg) {\n        var location = tslib_1.__assign({}, cfg);\n        this.update(location);\n    };\n    // 实现 ILocation 接口的 getLocation\n    Component.prototype.getLocation = function () {\n        var _this = this;\n        var location = {};\n        var locationType = this.get('locationType');\n        var fields = LOCATION_FIELD_MAP[locationType];\n        util_1.each(fields, function (field) {\n            location[field] = _this.get(field);\n        });\n        return location;\n    };\n    Component.prototype.isList = function () {\n        return false;\n    };\n    Component.prototype.isSlider = function () {\n        return false;\n    };\n    /**\n     * @protected\n     * 初始化，用于具体的组件继承\n     */\n    Component.prototype.init = function () { };\n    // 将组件默认的配置项设置合并到传入的配置项\n    Component.prototype.initCfg = function () {\n        var _this = this;\n        var defaultCfg = this.get('defaultCfg');\n        util_1.each(defaultCfg, function (value, name) {\n            var cfg = _this.get(name);\n            if (util_1.isObject(cfg)) {\n                var newCfg = util_1.deepMix({}, value, cfg);\n                _this.set(name, newCfg);\n            }\n        });\n    };\n    return Component;\n}(g_base_1.Base));\nexports.default = Component;\n//# sourceMappingURL=component.js.map","import { __assign, __extends, __rest } from \"tslib\";\nimport { difference, each, isNil, keys, mix, pick } from '@antv/util';\nimport { propagationDelegate } from '../util/event';\nimport { applyMatrix2BBox, getMatrixByTranslate } from '../util/matrix';\nimport { getBBoxWithClip, updateClip } from '../util/util';\nimport Component from './component';\nvar STATUS_UPDATE = 'update_status';\nvar COPY_PROPERTIES = ['visible', 'tip', 'delegateObject']; // 更新对象时需要复制的属性\nvar COPY_PROPERTIES_EXCLUDES = ['container', 'group', 'shapesMap', 'isRegister', 'isUpdating', 'destroyed']; // 更新子组件时排除的属性\nvar GroupComponent = /** @class */ (function (_super) {\n    __extends(GroupComponent, _super);\n    function GroupComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupComponent.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { container: null, \n            /**\n             * @private\n             * 缓存图形的 Map\n             */\n            shapesMap: {}, group: null, capture: true, \n            /**\n             * @private 组件或者图形是否允许注册\n             * @type {false}\n             */\n            isRegister: false, \n            /**\n             * @private 是否正在更新\n             * @type {false}\n             */\n            isUpdating: false, \n            /**\n             * @private\n             * 是否初始状态，一旦 render，update 后，这个状态就变成 false, clear 后恢复\n             */\n            isInit: true });\n    };\n    GroupComponent.prototype.remove = function () {\n        this.clear();\n        var group = this.get('group');\n        group.remove();\n    };\n    GroupComponent.prototype.clear = function () {\n        var group = this.get('group');\n        group.clear();\n        this.set('shapesMap', {});\n        this.clearOffScreenCache();\n        this.set('isInit', true);\n    };\n    GroupComponent.prototype.getChildComponentById = function (id) {\n        var group = this.getElementById(id);\n        var inst = group && group.get('component');\n        return inst;\n    };\n    GroupComponent.prototype.getElementById = function (id) {\n        return this.get('shapesMap')[id];\n    };\n    GroupComponent.prototype.getElementByLocalId = function (localId) {\n        var id = this.getElementId(localId);\n        return this.getElementById(id);\n    };\n    GroupComponent.prototype.getElementsByName = function (name) {\n        var rst = [];\n        each(this.get('shapesMap'), function (elem) {\n            if (elem.get('name') === name) {\n                rst.push(elem);\n            }\n        });\n        return rst;\n    };\n    GroupComponent.prototype.getContainer = function () {\n        return this.get('container');\n    };\n    GroupComponent.prototype.update = function (cfg) {\n        // 设置正在更新的标记位\n        // this.set('isUpdating', true);\n        _super.prototype.update.call(this, cfg);\n        // this.updateInner();\n        // this.set('isUpdating', false);\n        this.offScreenRender();\n        if (this.get('updateAutoRender')) {\n            this.render();\n        }\n    };\n    GroupComponent.prototype.render = function () {\n        var offScreenGroup = this.get('offScreenGroup');\n        if (!offScreenGroup) {\n            offScreenGroup = this.offScreenRender();\n        }\n        var group = this.get('group');\n        this.updateElements(offScreenGroup, group);\n        this.deleteElements();\n        this.applyOffset();\n        if (!this.get('eventInitted')) {\n            this.initEvent();\n            this.set('eventInitted', true);\n        }\n        this.set('isInit', false);\n    };\n    GroupComponent.prototype.show = function () {\n        var group = this.get('group');\n        group.show();\n        this.set('visible', true);\n    };\n    GroupComponent.prototype.hide = function () {\n        var group = this.get('group');\n        group.hide();\n        this.set('visible', false);\n    };\n    GroupComponent.prototype.destroy = function () {\n        this.removeEvent();\n        this.remove();\n        _super.prototype.destroy.call(this);\n    };\n    GroupComponent.prototype.getBBox = function () {\n        return this.get('group').getCanvasBBox();\n    };\n    GroupComponent.prototype.getLayoutBBox = function () {\n        var group = this.get('group');\n        // 防止被 clear 了，offScreenBBox 不存在\n        var bbox = this.getInnerLayoutBBox();\n        var matrix = group.getTotalMatrix();\n        if (matrix) {\n            bbox = applyMatrix2BBox(matrix, bbox);\n        }\n        return bbox; // 默认返回 getBBox，不同的组件内部单独实现\n    };\n    // 复写 on, off, emit 透传到 group\n    GroupComponent.prototype.on = function (evt, callback, once) {\n        var group = this.get('group');\n        group.on(evt, callback, once);\n        return this;\n    };\n    GroupComponent.prototype.off = function (evt, callback) {\n        var group = this.get('group');\n        group && group.off(evt, callback);\n        return this;\n    };\n    GroupComponent.prototype.emit = function (eventName, eventObject) {\n        var group = this.get('group');\n        group.emit(eventName, eventObject);\n    };\n    GroupComponent.prototype.init = function () {\n        _super.prototype.init.call(this);\n        if (!this.get('group')) {\n            this.initGroup();\n        }\n        this.offScreenRender(); // 绘制离屏 group\n    };\n    // 获取组件内部布局占的包围盒\n    GroupComponent.prototype.getInnerLayoutBBox = function () {\n        return this.get('offScreenBBox') || this.get('group').getBBox();\n    };\n    // 抛出委托对象\n    GroupComponent.prototype.delegateEmit = function (eventName, eventObject) {\n        var group = this.get('group');\n        eventObject.target = group;\n        group.emit(eventName, eventObject);\n        propagationDelegate(group, eventName, eventObject);\n    };\n    // 创建离屏的 group ,不添加在 canvas 中\n    GroupComponent.prototype.createOffScreenGroup = function () {\n        var group = this.get('group');\n        var GroupClass = group.getGroupBase(); // 获取分组的构造函数\n        var newGroup = new GroupClass({\n            delegateObject: this.getDelegateObject(),\n        });\n        return newGroup;\n    };\n    // 应用 offset\n    GroupComponent.prototype.applyOffset = function () {\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        this.moveElementTo(this.get('group'), {\n            x: offsetX,\n            y: offsetY,\n        });\n    };\n    GroupComponent.prototype.initGroup = function () {\n        var container = this.get('container');\n        this.set('group', container.addGroup({\n            id: this.get('id'),\n            name: this.get('name'),\n            capture: this.get('capture'),\n            visible: this.get('visible'),\n            isComponent: true,\n            component: this,\n            delegateObject: this.getDelegateObject(),\n        }));\n    };\n    // 离屏渲染\n    GroupComponent.prototype.offScreenRender = function () {\n        this.clearOffScreenCache();\n        var offScreenGroup = this.createOffScreenGroup();\n        this.renderInner(offScreenGroup);\n        this.set('offScreenGroup', offScreenGroup);\n        // 包含包围盒的 bbox\n        this.set('offScreenBBox', getBBoxWithClip(offScreenGroup));\n        return offScreenGroup;\n    };\n    /**\n     * @protected\n     * 在组件上添加分组，主要解决 isReigeter 的问题\n     * @param {IGroup} parent 父元素\n     * @param {object} cfg    分组的配置项\n     */\n    GroupComponent.prototype.addGroup = function (parent, cfg) {\n        this.appendDelegateObject(parent, cfg);\n        var group = parent.addGroup(cfg);\n        if (this.get('isRegister')) {\n            this.registerElement(group);\n        }\n        return group;\n    };\n    /**\n     * @protected\n     * 在组件上添加图形，主要解决 isReigeter 的问题\n     * @param {IGroup} parent 父元素\n     * @param {object} cfg    分组的配置项\n     */\n    GroupComponent.prototype.addShape = function (parent, cfg) {\n        this.appendDelegateObject(parent, cfg);\n        var shape = parent.addShape(cfg);\n        if (this.get('isRegister')) {\n            this.registerElement(shape);\n        }\n        return shape;\n    };\n    /**\n     * 在组件上添加子组件\n     *\n     * @param parent 父元素\n     * @param cfg 子组件配置项\n     */\n    GroupComponent.prototype.addComponent = function (parent, cfg) {\n        var id = cfg.id, Ctor = cfg.component, restCfg = __rest(cfg, [\"id\", \"component\"]);\n        // @ts-ignore\n        var inst = new Ctor(__assign(__assign({}, restCfg), { id: id, container: parent, updateAutoRender: this.get('updateAutoRender') }));\n        inst.init();\n        inst.render();\n        if (this.get('isRegister')) {\n            this.registerElement(inst.get('group'));\n        }\n        return inst;\n    };\n    GroupComponent.prototype.initEvent = function () { };\n    GroupComponent.prototype.removeEvent = function () {\n        var group = this.get('group');\n        group.off();\n    };\n    GroupComponent.prototype.getElementId = function (localId) {\n        var id = this.get('id'); // 组件的 Id\n        var name = this.get('name'); // 组件的名称\n        return id + \"-\" + name + \"-\" + localId;\n    };\n    GroupComponent.prototype.registerElement = function (element) {\n        var id = element.get('id');\n        this.get('shapesMap')[id] = element;\n    };\n    GroupComponent.prototype.unregisterElement = function (element) {\n        var id = element.get('id');\n        delete this.get('shapesMap')[id];\n    };\n    // 移动元素\n    GroupComponent.prototype.moveElementTo = function (element, point) {\n        var matrix = getMatrixByTranslate(point);\n        element.attr('matrix', matrix);\n    };\n    /**\n     * 图形元素新出现时的动画，默认图形从透明度 0 到当前透明度\n     * @protected\n     * @param {string} elmentName 图形元素名称\n     * @param {IElement} newElement  新的图形元素\n     * @param {object} animateCfg 动画的配置项\n     */\n    GroupComponent.prototype.addAnimation = function (elmentName, newElement, animateCfg) {\n        // 缓存透明度\n        var originOpacity = newElement.attr('opacity');\n        if (isNil(originOpacity)) {\n            originOpacity = 1;\n        }\n        newElement.attr('opacity', 0);\n        newElement.animate({ opacity: originOpacity }, animateCfg);\n    };\n    /**\n     * 图形元素新出现时的动画，默认图形从透明度 0 到当前透明度\n     * @protected\n     * @param {string} elmentName 图形元素名称\n     * @param {IElement} originElement 要删除的图形元素\n     * @param {object} animateCfg 动画的配置项\n     */\n    GroupComponent.prototype.removeAnimation = function (elementName, originElement, animateCfg) {\n        originElement.animate({ opacity: 0 }, animateCfg);\n    };\n    /**\n     * 图形元素的更新动画\n     * @param {string} elmentName 图形元素名称\n     * @param {IElement} originElement 现有的图形元素\n     * @param {object} newAttrs  新的图形元素\n     * @param {object} animateCfg 动画的配置项\n     */\n    GroupComponent.prototype.updateAnimation = function (elementName, originElement, newAttrs, animateCfg) {\n        originElement.animate(newAttrs, animateCfg);\n    };\n    // 更新组件的图形\n    GroupComponent.prototype.updateElements = function (newGroup, originGroup) {\n        var _this = this;\n        var animate = this.get('animate');\n        var animateOption = this.get('animateOption');\n        var children = newGroup.getChildren().slice(0); // 创建一个新数组，防止添加到 originGroup 时， children 变动\n        var preElement; // 前面已经匹配到的图形元素，用于\n        each(children, function (element) {\n            var elementId = element.get('id');\n            var originElement = _this.getElementById(elementId);\n            var elementName = element.get('name');\n            if (originElement) {\n                if (element.get('isComponent')) {\n                    // 嵌套子组件更新\n                    var childComponent = element.get('component');\n                    var origChildComponent = originElement.get('component');\n                    var newCfg = pick(childComponent.cfg, difference(keys(childComponent.cfg), COPY_PROPERTIES_EXCLUDES));\n                    origChildComponent.update(newCfg);\n                    originElement.set(STATUS_UPDATE, 'update');\n                }\n                else {\n                    var replaceAttrs = _this.getReplaceAttrs(originElement, element);\n                    // 更新\n                    if (animate && animateOption.update) {\n                        // 没有动画\n                        _this.updateAnimation(elementName, originElement, replaceAttrs, animateOption.update);\n                    }\n                    else {\n                        // originElement.attrs = replaceAttrs; // 直接替换\n                        originElement.attr(replaceAttrs);\n                    }\n                    // 如果是分组，则继续执行\n                    if (element.isGroup()) {\n                        _this.updateElements(element, originElement);\n                    }\n                    // 复制属性\n                    each(COPY_PROPERTIES, function (name) {\n                        originElement.set(name, element.get(name));\n                    });\n                    updateClip(originElement, element);\n                    preElement = originElement;\n                    // 执行完更新后设置状态位为更新\n                    originElement.set(STATUS_UPDATE, 'update');\n                }\n            }\n            else {\n                // 没有对应的图形，则插入当前图形\n                originGroup.add(element); // 应该在 group 加个 insertAt 的方法\n                var siblings = originGroup.getChildren(); // 兄弟节点\n                siblings.splice(siblings.length - 1, 1); // 先从数组中移除，然后放到合适的位置\n                if (preElement) {\n                    // 前面已经有更新的图形或者插入的图形，则在这个图形后面插入\n                    var index = siblings.indexOf(preElement);\n                    siblings.splice(index + 1, 0, element); // 在已经更新的图形元素后面插入\n                }\n                else {\n                    siblings.unshift(element);\n                }\n                _this.registerElement(element); // 注册节点\n                element.set(STATUS_UPDATE, 'add'); // 执行完更新后设置状态位为添加\n                if (element.get('isComponent')) {\n                    // 直接新增子组件container属性，实例不变\n                    var childComponent = element.get('component');\n                    childComponent.set('container', originGroup);\n                }\n                else if (element.isGroup()) {\n                    // 如果元素是新增加的元素，则遍历注册所有的子节点\n                    _this.registerNewGroup(element);\n                }\n                preElement = element;\n                if (animate) {\n                    var animateCfg = _this.get('isInit') ? animateOption.appear : animateOption.enter;\n                    if (animateCfg) {\n                        _this.addAnimation(elementName, element, animateCfg);\n                    }\n                }\n            }\n        });\n    };\n    GroupComponent.prototype.clearUpdateStatus = function (group) {\n        var children = group.getChildren();\n        each(children, function (el) {\n            el.set(STATUS_UPDATE, null); // 清理掉更新状态\n        });\n    };\n    // 清理离屏缓存\n    GroupComponent.prototype.clearOffScreenCache = function () {\n        var offScreenGroup = this.get('offScreenGroup');\n        if (offScreenGroup) {\n            // 销毁原先的离线 Group\n            offScreenGroup.destroy();\n        }\n        this.set('offScreenGroup', null);\n        this.set('offScreenBBox', null);\n    };\n    // private updateInner() {\n    //   const group = this.get('group');\n    //   const newGroup = this.createOffScreenGroup();\n    //   this.renderInner(newGroup);\n    //   this.applyOffset();\n    //   this.updateElements(newGroup, group);\n    //   this.deleteElements();\n    //   newGroup.destroy(); // 销毁虚拟分组\n    // }\n    // 获取发生委托时的对象，在事件中抛出\n    GroupComponent.prototype.getDelegateObject = function () {\n        var _a;\n        var name = this.get('name');\n        var delegateObject = (_a = {},\n            _a[name] = this,\n            _a.component = this,\n            _a);\n        return delegateObject;\n    };\n    // 附加委托信息，用于事件\n    GroupComponent.prototype.appendDelegateObject = function (parent, cfg) {\n        var parentObject = parent.get('delegateObject');\n        if (!cfg.delegateObject) {\n            cfg.delegateObject = {};\n        }\n        mix(cfg.delegateObject, parentObject); // 将父元素上的委托信息复制到自身\n    };\n    // 获取需要替换的属性，如果原先图形元素存在，而新图形不存在，则设置 undefined\n    GroupComponent.prototype.getReplaceAttrs = function (originElement, newElement) {\n        var originAttrs = originElement.attr();\n        var newAttrs = newElement.attr();\n        each(originAttrs, function (v, k) {\n            if (newAttrs[k] === undefined) {\n                newAttrs[k] = undefined;\n            }\n        });\n        return newAttrs;\n    };\n    GroupComponent.prototype.registerNewGroup = function (group) {\n        var _this = this;\n        var children = group.getChildren();\n        each(children, function (element) {\n            _this.registerElement(element); // 注册节点\n            element.set(STATUS_UPDATE, 'add'); // 执行完更新后设置状态位为添加\n            if (element.isGroup()) {\n                _this.registerNewGroup(element);\n            }\n        });\n    };\n    // 移除多余的元素\n    GroupComponent.prototype.deleteElements = function () {\n        var _this = this;\n        var shapesMap = this.get('shapesMap');\n        var deleteArray = [];\n        // 遍历获取需要删除的图形元素\n        each(shapesMap, function (element, id) {\n            if (!element.get(STATUS_UPDATE) || element.destroyed) {\n                deleteArray.push([id, element]);\n            }\n            else {\n                element.set(STATUS_UPDATE, null); // 清理掉更新状态\n            }\n        });\n        var animate = this.get('animate');\n        var animateOption = this.get('animateOption');\n        // 删除图形元素\n        each(deleteArray, function (item) {\n            var id = item[0], element = item[1];\n            if (!element.destroyed) {\n                var elementName = element.get('name');\n                if (animate && animateOption.leave) {\n                    // 需要动画结束时移除图形\n                    var callbackAnimCfg = mix({\n                        callback: function () {\n                            _this.removeElement(element);\n                        },\n                    }, animateOption.leave);\n                    _this.removeAnimation(elementName, element, callbackAnimCfg);\n                }\n                else {\n                    _this.removeElement(element);\n                }\n            }\n            delete shapesMap[id]; // 从缓存中移除\n        });\n    };\n    GroupComponent.prototype.removeElement = function (element) {\n        if (element.get('isGroup')) {\n            var component = element.get('component');\n            if (component) {\n                component.destroy();\n            }\n        }\n        element.remove();\n    };\n    return GroupComponent;\n}(Component));\nexport default GroupComponent;\n//# sourceMappingURL=group-component.js.map","import GraphEvent from '@antv/g-base/lib/event/graph-event';\n/**\n *\n * @param group 分组\n * @param eventName 事件名\n * @param eventObject 事件对象\n */\nexport function propagationDelegate(group, eventName, eventObject) {\n    var event = new GraphEvent(eventName, eventObject);\n    event.target = group;\n    event.propagationPath.push(group); // 从当前 group 开始触发 delegation\n    group.emitDelegation(eventName, event);\n    var parent = group.getParent();\n    // 执行冒泡\n    while (parent) {\n        // 委托事件要先触发\n        parent.emitDelegation(eventName, event);\n        event.propagationPath.push(parent);\n        parent = parent.getParent();\n    }\n}\n//# sourceMappingURL=event.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    fontFamily: \"\\n  \\\"-apple-system\\\", BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto,\\\"Helvetica Neue\\\",\\n  Helvetica, \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Microsoft YaHei\\\",\\n  SimSun, \\\"sans-serif\\\"\",\n    textColor: '#2C3542',\n    activeTextColor: '#333333',\n    uncheckedColor: '#D8D8D8',\n    lineColor: '#416180',\n    regionColor: '#CCD7EB',\n    verticalAxisRotate: -Math.PI / 4,\n    horizontalAxisRotate: Math.PI / 4,\n};\n//# sourceMappingURL=theme.js.map","import { __assign, __extends } from \"tslib\";\nimport { isNumber, isString } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\nvar LineAnnotation = /** @class */ (function (_super) {\n    __extends(LineAnnotation, _super);\n    function LineAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    LineAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'line', locationType: 'region', start: null, end: null, style: {}, text: null, defaultCfg: {\n                style: {\n                    fill: Theme.textColor,\n                    fontSize: 12,\n                    textAlign: 'center',\n                    textBaseline: 'bottom',\n                    fontFamily: Theme.fontFamily,\n                },\n                text: {\n                    position: 'center',\n                    autoRotate: true,\n                    content: null,\n                    offsetX: 0,\n                    offsetY: 0,\n                    style: {\n                        stroke: Theme.lineColor,\n                        lineWidth: 1,\n                    },\n                },\n            } });\n    };\n    LineAnnotation.prototype.renderInner = function (group) {\n        this.renderLine(group);\n        if (this.get('text')) {\n            this.renderLabel(group);\n        }\n    };\n    // 绘制线\n    LineAnnotation.prototype.renderLine = function (group) {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        this.addShape(group, {\n            type: 'line',\n            id: this.getElementId('line'),\n            name: 'annotation-line',\n            attrs: __assign({ x1: start.x, y1: start.y, x2: end.x, y2: end.y }, style),\n        });\n    };\n    // 获取 label 的位置\n    LineAnnotation.prototype.getLabelPoint = function (start, end, position) {\n        var percent;\n        if (position === 'start') {\n            percent = 0;\n        }\n        else if (position === 'center') {\n            percent = 0.5;\n        }\n        else if (isString(position) && position.indexOf('%') !== -1) {\n            percent = parseInt(position, 10) / 100;\n        }\n        else if (isNumber(position)) {\n            percent = position;\n        }\n        else {\n            percent = 1;\n        }\n        if (percent > 1 || percent < 0) {\n            percent = 1;\n        }\n        return {\n            x: getValueByPercent(start.x, end.x, percent),\n            y: getValueByPercent(start.y, end.y, percent),\n        };\n    };\n    // 绘制 label\n    LineAnnotation.prototype.renderLabel = function (group) {\n        var text = this.get('text');\n        var start = this.get('start');\n        var end = this.get('end');\n        var position = text.position, content = text.content, style = text.style, offsetX = text.offsetX, offsetY = text.offsetY, autoRotate = text.autoRotate;\n        var point = this.getLabelPoint(start, end, position);\n        var attrs = __assign({ x: point.x + offsetX, y: point.y + offsetY, text: content }, style);\n        // 如果自动旋转，需要计算矩阵\n        if (autoRotate) {\n            var vector = [end.x - start.x, end.y - start.y];\n            var angle = Math.atan2(vector[1], vector[0]);\n            var matrix = getMatrixByAngle(point, angle);\n            attrs.matrix = matrix;\n        }\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('line-text'),\n            name: 'annotation-line-text',\n            attrs: attrs,\n        });\n    };\n    return LineAnnotation;\n}(GroupComponent));\nexport default LineAnnotation;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport Theme from '../util/theme';\nvar TextAnnotation = /** @class */ (function (_super) {\n    __extends(TextAnnotation, _super);\n    function TextAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    TextAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'text', locationType: 'point', x: 0, y: 0, content: '', rotate: null, style: {}, defaultCfg: {\n                style: {\n                    fill: Theme.textColor,\n                    fontSize: 12,\n                    textAlign: 'center',\n                    textBaseline: 'middle',\n                    fontFamily: Theme.fontFamily,\n                },\n            } });\n    };\n    // 复写 setLocation 方法，不需要重新创建 text\n    TextAnnotation.prototype.setLocation = function (location) {\n        this.set('x', location.x);\n        this.set('y', location.y);\n        this.resetLocation();\n    };\n    TextAnnotation.prototype.renderInner = function (group) {\n        this.renderText(group);\n    };\n    TextAnnotation.prototype.renderText = function (group) {\n        var _a = this.getLocation(), x = _a.x, y = _a.y;\n        var content = this.get('content');\n        var style = this.get('style');\n        var text = this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('text'),\n            name: 'annotation-text',\n            attrs: __assign({ x: x,\n                y: y, text: content }, style),\n        });\n        this.applyRotate(text, x, y);\n    };\n    TextAnnotation.prototype.applyRotate = function (textShape, x, y) {\n        var rotate = this.get('rotate');\n        var matrix = null;\n        if (rotate) {\n            matrix = getMatrixByAngle({ x: x, y: y }, rotate);\n        }\n        textShape.attr('matrix', matrix);\n    };\n    TextAnnotation.prototype.resetLocation = function () {\n        var textShape = this.getElementByLocalId('text');\n        if (textShape) {\n            var _a = this.getLocation(), x = _a.x, y = _a.y;\n            textShape.attr({\n                x: x,\n                y: y,\n            });\n            this.applyRotate(textShape, x, y);\n        }\n    };\n    return TextAnnotation;\n}(GroupComponent));\nexport default TextAnnotation;\n//# sourceMappingURL=text.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { getCirclePoint } from '../util/util';\nvar ArcAnnotation = /** @class */ (function (_super) {\n    __extends(ArcAnnotation, _super);\n    function ArcAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    ArcAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'arc', locationType: 'circle', center: null, radius: 100, startAngle: -Math.PI / 2, endAngle: (Math.PI * 3) / 2, style: {\n                stroke: '#999',\n                lineWidth: 1,\n            } });\n    };\n    ArcAnnotation.prototype.renderInner = function (group) {\n        this.renderArc(group);\n    };\n    ArcAnnotation.prototype.getArcPath = function () {\n        var _a = this.getLocation(), center = _a.center, radius = _a.radius, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var startPoint = getCirclePoint(center, radius, startAngle);\n        var endPoint = getCirclePoint(center, radius, endAngle);\n        var largeFlag = endAngle - startAngle > Math.PI ? 1 : 0;\n        var path = [['M', startPoint.x, startPoint.y]];\n        if (endAngle - startAngle === Math.PI * 2) {\n            // 整个圆是分割成两个圆\n            var middlePoint = getCirclePoint(center, radius, startAngle + Math.PI);\n            path.push(['A', radius, radius, 0, largeFlag, 1, middlePoint.x, middlePoint.y]);\n            path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n        }\n        else {\n            path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n        }\n        return path;\n    };\n    // 绘制 arc\n    ArcAnnotation.prototype.renderArc = function (group) {\n        // 也可以 通过 get('center') 类似的方式逐个获取\n        var path = this.getArcPath();\n        var style = this.get('style');\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('arc'),\n            name: 'annotation-arc',\n            attrs: __assign({ path: path }, style),\n        });\n    };\n    return ArcAnnotation;\n}(GroupComponent));\nexport default ArcAnnotation;\n//# sourceMappingURL=arc.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nimport { regionToBBox } from '../util/util';\nvar RegionAnnotation = /** @class */ (function (_super) {\n    __extends(RegionAnnotation, _super);\n    function RegionAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    RegionAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'region', locationType: 'region', start: null, end: null, style: {}, defaultCfg: {\n                style: {\n                    lineWidth: 0,\n                    fill: Theme.regionColor,\n                    opacity: 0.4,\n                },\n            } });\n    };\n    RegionAnnotation.prototype.renderInner = function (group) {\n        this.renderRegion(group);\n    };\n    RegionAnnotation.prototype.renderRegion = function (group) {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        var bbox = regionToBBox({ start: start, end: end });\n        this.addShape(group, {\n            type: 'rect',\n            id: this.getElementId('region'),\n            name: 'annotation-region',\n            attrs: __assign({ x: bbox.x, y: bbox.y, width: bbox.width, height: bbox.height }, style),\n        });\n    };\n    return RegionAnnotation;\n}(GroupComponent));\nexport default RegionAnnotation;\n//# sourceMappingURL=region.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar ImageAnnotation = /** @class */ (function (_super) {\n    __extends(ImageAnnotation, _super);\n    function ImageAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    ImageAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'image', locationType: 'region', start: null, end: null, src: null, style: {} });\n    };\n    ImageAnnotation.prototype.renderInner = function (group) {\n        this.renderImage(group);\n    };\n    ImageAnnotation.prototype.getImageAttrs = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        var bbox = regionToBBox({ start: start, end: end });\n        var src = this.get('src');\n        return __assign({ x: bbox.x, y: bbox.y, img: src, width: bbox.width, height: bbox.height }, style);\n    };\n    // 绘制图片\n    ImageAnnotation.prototype.renderImage = function (group) {\n        this.addShape(group, {\n            type: 'image',\n            id: this.getElementId('image'),\n            name: 'annotation-image',\n            attrs: this.getImageAttrs(),\n        });\n    };\n    return ImageAnnotation;\n}(GroupComponent));\nexport default ImageAnnotation;\n//# sourceMappingURL=image.js.map","import { __assign, __extends } from \"tslib\";\nimport { get } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nvar DataMarkerAnnotation = /** @class */ (function (_super) {\n    __extends(DataMarkerAnnotation, _super);\n    function DataMarkerAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    DataMarkerAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'dataMarker', locationType: 'point', x: 0, y: 0, point: {}, line: {}, text: {}, direction: 'upward', autoAdjust: true, coordinateBBox: null, defaultCfg: {\n                point: {\n                    display: true,\n                    style: {\n                        r: 3,\n                        fill: '#FFFFFF',\n                        stroke: '#1890FF',\n                        lineWidth: 2,\n                    },\n                },\n                line: {\n                    display: true,\n                    length: 20,\n                    style: {\n                        stroke: Theme.lineColor,\n                        lineWidth: 1,\n                    },\n                },\n                text: {\n                    content: '',\n                    display: true,\n                    style: {\n                        fill: Theme.textColor,\n                        opacity: 0.65,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n            } });\n    };\n    DataMarkerAnnotation.prototype.renderInner = function (group) {\n        if (get(this.get('line'), 'display')) {\n            this.renderLine(group);\n        }\n        if (get(this.get('text'), 'display')) {\n            this.renderText(group);\n        }\n        if (get(this.get('point'), 'display')) {\n            this.renderPoint(group);\n        }\n        if (this.get('autoAdjust')) {\n            this.autoAdjust(group);\n        }\n    };\n    DataMarkerAnnotation.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x') + this.get('offsetX'),\n            y: this.get('y') + this.get('offsetY'),\n        });\n    };\n    DataMarkerAnnotation.prototype.renderPoint = function (group) {\n        var point = this.getShapeAttrs().point;\n        this.addShape(group, {\n            type: 'circle',\n            id: this.getElementId('point'),\n            name: 'annotation-point',\n            attrs: point,\n        });\n    };\n    DataMarkerAnnotation.prototype.renderLine = function (group) {\n        var line = this.getShapeAttrs().line;\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('line'),\n            name: 'annotation-line',\n            attrs: line,\n        });\n    };\n    DataMarkerAnnotation.prototype.renderText = function (group) {\n        var text = this.getShapeAttrs().text;\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('text'),\n            name: 'annotation-text',\n            attrs: text,\n        });\n    };\n    DataMarkerAnnotation.prototype.autoAdjust = function (group) {\n        var direction = this.get('direction');\n        var x = this.get('x');\n        var y = this.get('y');\n        var lineLength = get(this.get('line'), 'length', 0);\n        var coordinateBBox = this.get('coordinateBBox');\n        var _a = group.getBBox(), minX = _a.minX, maxX = _a.maxX, minY = _a.minY, maxY = _a.maxY;\n        var textShape = group.findById(this.getElementId('text'));\n        var lineShape = group.findById(this.getElementId('line'));\n        if (!coordinateBBox) {\n            return;\n        }\n        if (textShape) {\n            if (x + minX <= coordinateBBox.minX) {\n                // 左侧超出\n                textShape.attr('textAlign', 'start');\n            }\n            if (x + maxX >= coordinateBBox.maxX) {\n                // 右侧超出\n                textShape.attr('textAlign', 'end');\n            }\n        }\n        if ((direction === 'upward' && y + minY <= coordinateBBox.minY) ||\n            (direction !== 'upward' && y + maxY >= coordinateBBox.maxY)) {\n            // 上方或者下方超出\n            var textBaseline = void 0;\n            var factor = void 0;\n            if (direction === 'upward' && y + minY <= coordinateBBox.minY) {\n                textBaseline = 'top';\n                factor = 1;\n            }\n            else {\n                textBaseline = 'bottom';\n                factor = -1;\n            }\n            textShape.attr('textBaseline', textBaseline);\n            if (lineShape) {\n                lineShape.attr('path', [\n                    ['M', 0, 0],\n                    ['L', 0, lineLength * factor],\n                ]);\n            }\n            textShape.attr('y', (lineLength + 2) * factor);\n        }\n    };\n    DataMarkerAnnotation.prototype.getShapeAttrs = function () {\n        var lineDisplay = get(this.get('line'), 'display');\n        var pointStyle = get(this.get('point'), 'style', {});\n        var lineStyle = get(this.get('line'), 'style', {});\n        var textStyle = get(this.get('text'), 'style', {});\n        var direction = this.get('direction');\n        var lineLength = lineDisplay ? get(this.get('line'), 'length', 0) : 0;\n        var factor = direction === 'upward' ? -1 : 1;\n        return {\n            point: __assign({ x: 0, y: 0 }, pointStyle),\n            line: __assign({ path: [\n                    ['M', 0, 0],\n                    ['L', 0, lineLength * factor],\n                ] }, lineStyle),\n            text: __assign({ x: 0, y: (lineLength + 2) * factor, text: get(this.get('text'), 'content', ''), textBaseline: direction === 'upward' ? 'bottom' : 'top' }, textStyle),\n        };\n    };\n    return DataMarkerAnnotation;\n}(GroupComponent));\nexport default DataMarkerAnnotation;\n//# sourceMappingURL=data-marker.js.map","import { __assign, __extends } from \"tslib\";\nimport { get } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nimport { pointsToBBox } from '../util/util';\nvar DataRegionAnnotation = /** @class */ (function (_super) {\n    __extends(DataRegionAnnotation, _super);\n    function DataRegionAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    DataRegionAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'dataRegion', locationType: 'points', points: [], lineLength: 0, region: {}, text: {}, defaultCfg: {\n                region: {\n                    style: {\n                        lineWidth: 0,\n                        fill: Theme.regionColor,\n                        opacity: 0.4,\n                    },\n                },\n                text: {\n                    content: '',\n                    style: {\n                        textAlign: 'center',\n                        textBaseline: 'bottom',\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n            } });\n    };\n    DataRegionAnnotation.prototype.renderInner = function (group) {\n        var regionStyle = get(this.get('region'), 'style', {});\n        var textStyle = get(this.get('text'), 'style', {});\n        var lineLength = this.get('lineLength') || 0;\n        var points = this.get('points');\n        if (!points.length) {\n            return;\n        }\n        var bbox = pointsToBBox(points);\n        // render region\n        var path = [];\n        path.push(['M', points[0].x, bbox.minY - lineLength]);\n        points.forEach(function (point) {\n            path.push(['L', point.x, point.y]);\n        });\n        path.push(['L', points[points.length - 1].x, points[points.length - 1].y - lineLength]);\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('region'),\n            name: 'annotation-region',\n            attrs: __assign({ path: path }, regionStyle),\n        });\n        // render text\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('text'),\n            name: 'annotation-text',\n            attrs: __assign({ x: (bbox.minX + bbox.maxX) / 2, y: bbox.minY - lineLength, text: get(this.get('text'), 'content', '') }, textStyle),\n        });\n    };\n    return DataRegionAnnotation;\n}(GroupComponent));\nexport default DataRegionAnnotation;\n//# sourceMappingURL=data-region.js.map","import { __assign, __extends } from \"tslib\";\nimport { clone, each } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar RegionFilterAnnotation = /** @class */ (function (_super) {\n    __extends(RegionFilterAnnotation, _super);\n    function RegionFilterAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    RegionFilterAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'regionFilter', locationType: 'region', start: null, end: null, color: null, shape: [] });\n    };\n    RegionFilterAnnotation.prototype.renderInner = function (group) {\n        var _this = this;\n        var start = this.get('start');\n        var end = this.get('end');\n        // 1. add region layer\n        var layer = this.addGroup(group, {\n            id: this.getElementId('region-filter'),\n            capture: false,\n        });\n        // 2. clone shape & color it\n        each(this.get('shapes'), function (shape, shapeIdx) {\n            var type = shape.get('type');\n            var attrs = clone(shape.attr());\n            _this.adjustShapeAttrs(attrs);\n            _this.addShape(layer, {\n                id: _this.getElementId(\"shape-\" + type + \"-\" + shapeIdx),\n                capture: false,\n                type: type,\n                attrs: attrs,\n            });\n        });\n        // 3. clip\n        var clipBBox = regionToBBox({ start: start, end: end });\n        layer.setClip({\n            type: 'rect',\n            attrs: {\n                x: clipBBox.minX,\n                y: clipBBox.minY,\n                width: clipBBox.width,\n                height: clipBBox.height,\n            },\n        });\n    };\n    RegionFilterAnnotation.prototype.adjustShapeAttrs = function (attr) {\n        var color = this.get('color');\n        if (attr.fill) {\n            attr.fill = attr.fillStyle = color;\n        }\n        attr.stroke = attr.strokeStyle = color;\n    };\n    return RegionFilterAnnotation;\n}(GroupComponent));\nexport default RegionFilterAnnotation;\n//# sourceMappingURL=region-filter.js.map","import { each, mix } from '@antv/util';\n// 获取多个状态量的合并值\nexport function getStatesStyle(item, elementName, stateStyles) {\n    var styleName = elementName + \"Style\"; // activeStyle\n    var styles = null;\n    each(stateStyles, function (v, state) {\n        if (item[state] && v[styleName]) {\n            if (!styles) {\n                styles = {};\n            }\n            mix(styles, v[styleName]); // 合并样式\n        }\n    });\n    return styles;\n}\n//# sourceMappingURL=state.js.map","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { each, filter, isNil, isNumberEqual, mix } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport { getStatesStyle } from '../util/state';\nimport Theme from '../util/theme';\nvar AxisBase = /** @class */ (function (_super) {\n    __extends(AxisBase, _super);\n    function AxisBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AxisBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'axis', ticks: [], line: {}, tickLine: {}, subTickLine: null, title: null, \n            /**\n             * 文本标签的配置项\n             */\n            label: {}, \n            /**\n             * 垂直于坐标轴方向的因子，决定文本、title、tickLine 在坐标轴的哪一侧\n             */\n            verticalFactor: 1, \n            // 垂直方向限制的长度，对文本自适应有很大影响\n            verticalLimitLength: null, overlapOrder: ['autoRotate', 'autoEllipsis', 'autoHide'], tickStates: {}, defaultCfg: {\n                line: {\n                    // @type {Attrs} 坐标轴线的图形属性,如果设置成null，则不显示轴线\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                },\n                tickLine: {\n                    // @type {Attrs} 标注坐标线的图形属性\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                    alignTick: true,\n                    length: 5,\n                    displayWithLabel: true,\n                },\n                subTickLine: {\n                    // @type {Attrs} 标注坐标线的图形属性\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                    count: 4,\n                    length: 2,\n                },\n                label: {\n                    autoRotate: true,\n                    autoHide: false,\n                    autoEllipsis: false,\n                    style: {\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                        fontWeight: 'normal',\n                    },\n                    offset: 10,\n                },\n                title: {\n                    autoRotate: true,\n                    spacing: 5,\n                    position: 'center',\n                    style: {\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                        textAlign: 'center',\n                    },\n                    offset: 48,\n                },\n                tickStates: {\n                    active: {\n                        labelStyle: {\n                            fontWeight: 500,\n                        },\n                        tickLineStyle: {\n                            lineWidth: 2,\n                        },\n                    },\n                    inactive: {\n                        labelStyle: {\n                            fill: Theme.uncheckedColor,\n                        },\n                    },\n                },\n            } });\n    };\n    /**\n     * 绘制组件\n     */\n    AxisBase.prototype.renderInner = function (group) {\n        if (this.get('line')) {\n            this.drawLine(group);\n        }\n        // drawTicks 包括 drawLabels 和 drawTickLines\n        this.drawTicks(group);\n        if (this.get('title')) {\n            this.drawTitle(group);\n        }\n    };\n    // 实现 IList 接口\n    AxisBase.prototype.isList = function () {\n        return true;\n    };\n    /**\n     * 获取图例项\n     * @return {ListItem[]} 列表项集合\n     */\n    AxisBase.prototype.getItems = function () {\n        return this.get('ticks');\n    };\n    /**\n     * 设置列表项\n     * @param {ListItem[]} items 列表项集合\n     */\n    AxisBase.prototype.setItems = function (items) {\n        this.update({\n            ticks: items,\n        });\n    };\n    /**\n     * 更新列表项\n     * @param {ListItem} item 列表项\n     * @param {object}   cfg  列表项\n     */\n    AxisBase.prototype.updateItem = function (item, cfg) {\n        mix(item, cfg);\n        this.clear(); // 由于单个图例项变化，会引起全局变化，所以全部更新\n        this.render();\n    };\n    /**\n     * 清空列表\n     */\n    AxisBase.prototype.clearItems = function () {\n        var itemGroup = this.getElementByLocalId('label-group');\n        itemGroup && itemGroup.clear();\n    };\n    /**\n     * 设置列表项的状态\n     * @param {ListItem} item  列表项\n     * @param {string}   state 状态名\n     * @param {boolean}  value 状态值, true, false\n     */\n    AxisBase.prototype.setItemState = function (item, state, value) {\n        item[state] = value;\n        this.updateTickStates(item); // 应用状态样式\n    };\n    /**\n     * 是否存在指定的状态\n     * @param {ListItem} item  列表项\n     * @param {boolean} state 状态名\n     */\n    AxisBase.prototype.hasState = function (item, state) {\n        return !!item[state];\n    };\n    AxisBase.prototype.getItemStates = function (item) {\n        var tickStates = this.get('tickStates');\n        var rst = [];\n        each(tickStates, function (v, k) {\n            if (item[k]) {\n                // item.selected\n                rst.push(k);\n            }\n        });\n        return rst;\n    };\n    /**\n     * 清楚所有列表项的状态\n     * @param {string} state 状态值\n     */\n    AxisBase.prototype.clearItemsState = function (state) {\n        var _this = this;\n        var items = this.getItemsByState(state);\n        each(items, function (item) {\n            _this.setItemState(item, state, false);\n        });\n    };\n    /**\n     * 根据状态获取图例项\n     * @param  {string}     state [description]\n     * @return {ListItem[]}       [description]\n     */\n    AxisBase.prototype.getItemsByState = function (state) {\n        var _this = this;\n        var items = this.getItems();\n        return filter(items, function (item) {\n            return _this.hasState(item, state);\n        });\n    };\n    AxisBase.prototype.getSidePoint = function (point, offset) {\n        var self = this;\n        var vector = self.getSideVector(offset, point);\n        return {\n            x: point.x + vector[0],\n            y: point.y + vector[1],\n        };\n    };\n    AxisBase.prototype.getTextAnchor = function (vector) {\n        var align;\n        if (isNumberEqual(vector[0], 0)) {\n            align = 'center';\n        }\n        else if (vector[0] > 0) {\n            align = 'start';\n        }\n        else if (vector[0] < 0) {\n            align = 'end';\n        }\n        return align;\n    };\n    AxisBase.prototype.processOverlap = function (labelGroup) { };\n    // 绘制坐标轴线\n    AxisBase.prototype.drawLine = function (group) {\n        var path = this.getLinePath();\n        var line = this.get('line'); // line 的判空在调用 drawLine 之前，不在这里判定\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('line'),\n            name: 'axis-line',\n            attrs: mix({\n                path: path,\n            }, line.style),\n        });\n    };\n    AxisBase.prototype.getTickLineItems = function (ticks) {\n        var _this = this;\n        var tickLineItems = [];\n        var tickLine = this.get('tickLine');\n        var alignTick = tickLine.alignTick;\n        var tickLineLength = tickLine.length;\n        var tickSegment = 1;\n        var tickCount = ticks.length;\n        if (tickCount >= 2) {\n            tickSegment = ticks[1].value - ticks[0].value;\n        }\n        each(ticks, function (tick) {\n            var point = tick.point;\n            if (!alignTick) {\n                // tickLine 不同 tick 对齐时需要调整 point\n                point = _this.getTickPoint(tick.value - tickSegment / 2);\n            }\n            var endPoint = _this.getSidePoint(point, tickLineLength);\n            tickLineItems.push({\n                startPoint: point,\n                tickValue: tick.value,\n                endPoint: endPoint,\n                tickId: tick.id,\n                id: \"tickline-\" + tick.id,\n            });\n        });\n        // 如果 tickLine 不居中对齐，则需要在最后面补充一个 tickLine\n        // if (!alignTick && tickCount > 0) {\n        //   const tick = ticks[tickCount - 1];\n        //   const point = this.getTickPoint(tick.value + tickSegment / 2);\n        // }\n        return tickLineItems;\n    };\n    AxisBase.prototype.getSubTickLineItems = function (tickLineItems) {\n        var subTickLineItems = [];\n        var subTickLine = this.get('subTickLine');\n        var subCount = subTickLine.count;\n        var tickLineCount = tickLineItems.length;\n        // 刻度线的数量大于 2 时，才绘制子刻度\n        if (tickLineCount >= 2) {\n            for (var i = 0; i < tickLineCount - 1; i++) {\n                var pre = tickLineItems[i];\n                var next = tickLineItems[i + 1];\n                for (var j = 0; j < subCount; j++) {\n                    var percent = (j + 1) / (subCount + 1);\n                    var tickValue = (1 - percent) * pre.tickValue + percent * next.tickValue;\n                    var point = this.getTickPoint(tickValue);\n                    var endPoint = this.getSidePoint(point, subTickLine.length);\n                    subTickLineItems.push({\n                        startPoint: point,\n                        endPoint: endPoint,\n                        tickValue: tickValue,\n                        id: \"sub-\" + pre.id + \"-\" + j,\n                    });\n                }\n            }\n        }\n        return subTickLineItems;\n    };\n    AxisBase.prototype.getTickLineAttrs = function (tickItem) {\n        var tickLineStyle = this.get('tickLine').style;\n        var startPoint = tickItem.startPoint, endPoint = tickItem.endPoint;\n        var attrs = mix({\n            x1: startPoint.x,\n            y1: startPoint.y,\n            x2: endPoint.x,\n            y2: endPoint.y,\n        }, tickLineStyle);\n        return attrs;\n    };\n    // 绘制坐标轴刻度线\n    AxisBase.prototype.drawTick = function (tickItem, tickLineGroup) {\n        this.addShape(tickLineGroup, {\n            type: 'line',\n            id: this.getElementId(tickItem.id),\n            name: 'axis-tickline',\n            attrs: this.getTickLineAttrs(tickItem),\n        });\n    };\n    // 绘制坐标轴刻度线，包括子刻度线\n    AxisBase.prototype.drawTickLines = function (group) {\n        var _this = this;\n        var ticks = this.get('ticks');\n        var subTickLine = this.get('subTickLine');\n        var tickLineItems = this.getTickLineItems(ticks);\n        var tickLineGroup = this.addGroup(group, {\n            name: 'axis-tickline-group',\n            id: this.getElementId('tickline-group'),\n        });\n        var tickCfg = this.get('tickLine');\n        each(tickLineItems, function (item) {\n            if (tickCfg.displayWithLabel) {\n                // 如果跟随 label 显示，则检测是否存在对应的 label\n                var labelId = _this.getElementId(\"label-\" + item.tickId);\n                if (group.findById(labelId)) {\n                    _this.drawTick(item, tickLineGroup);\n                }\n            }\n            else {\n                _this.drawTick(item, tickLineGroup);\n            }\n        });\n        if (subTickLine) {\n            var subTickLineItems = this.getSubTickLineItems(tickLineItems);\n            each(subTickLineItems, function (item) {\n                _this.drawTick(item, tickLineGroup);\n            });\n        }\n    };\n    // 预处理 ticks 确定位置和补充 id\n    AxisBase.prototype.processTicks = function () {\n        var _this = this;\n        var ticks = this.get('ticks');\n        each(ticks, function (tick) {\n            tick.point = _this.getTickPoint(tick.value);\n            // 补充 tick 的 id，为动画和更新做准备\n            if (isNil(tick.id)) {\n                // 默认使用 tick.name 作为id\n                tick.id = tick.name;\n            }\n        });\n    };\n    // 绘制 ticks 包括文本和 tickLine\n    AxisBase.prototype.drawTicks = function (group) {\n        var _this = this;\n        this.processTicks();\n        if (this.get('label')) {\n            this.drawLabels(group);\n        }\n        if (this.get('tickLine')) {\n            this.drawTickLines(group);\n        }\n        var ticks = this.get('ticks');\n        each(ticks, function (tick) {\n            _this.applyTickStates(tick, group);\n        });\n    };\n    // 获取 label 的配置项\n    AxisBase.prototype.getLabelAttrs = function (tick, index) {\n        var labelCfg = this.get('label');\n        var offset = labelCfg.offset, style = labelCfg.style, rotate = labelCfg.rotate, formatter = labelCfg.formatter;\n        var point = this.getSidePoint(tick.point, offset);\n        var vector = this.getSideVector(offset, point);\n        var text = formatter ? formatter(tick.name, tick, index) : tick.name;\n        var attrs = mix({\n            x: point.x,\n            y: point.y,\n            text: text,\n            textAlign: this.getTextAnchor(vector),\n        }, style);\n        if (rotate) {\n            attrs.matrix = getMatrixByAngle(point, rotate);\n        }\n        return attrs;\n    };\n    // 绘制文本\n    AxisBase.prototype.drawLabels = function (group) {\n        var _this = this;\n        var ticks = this.get('ticks');\n        var labelGroup = this.addGroup(group, {\n            name: 'axis-label-group',\n            id: this.getElementId('label-group'),\n        });\n        each(ticks, function (tick, index) {\n            _this.addShape(labelGroup, {\n                type: 'text',\n                name: 'axis-label',\n                id: _this.getElementId(\"label-\" + tick.id),\n                attrs: _this.getLabelAttrs(tick, index),\n                delegateObject: {\n                    tick: tick,\n                    item: tick,\n                    index: index,\n                },\n            });\n        });\n        this.processOverlap(labelGroup);\n    };\n    // 标题的属性\n    AxisBase.prototype.getTitleAttrs = function () {\n        var titleCfg = this.get('title');\n        var style = titleCfg.style, position = titleCfg.position, offset = titleCfg.offset, autoRotate = titleCfg.autoRotate;\n        var percent = 0.5;\n        if (position === 'start') {\n            percent = 0;\n        }\n        else if (position === 'end') {\n            percent = 1;\n        }\n        var point = this.getTickPoint(percent); // 标题对应的坐标轴上的点\n        var titlePoint = this.getSidePoint(point, offset); // 标题的点\n        var attrs = mix({\n            x: titlePoint.x,\n            y: titlePoint.y,\n            text: titleCfg.text,\n        }, style);\n        var rotate = titleCfg.rotate; // rotate 是角度值\n        var angle = rotate;\n        if (isNil(rotate) && autoRotate) {\n            // 用户没有设定旋转角度，同时设置自动旋转\n            var vector = this.getAxisVector(point);\n            var v1 = [1, 0]; // 水平方向的向量\n            angle = vec2.angleTo(vector, v1, true);\n        }\n        if (angle) {\n            var matrix = getMatrixByAngle(titlePoint, angle);\n            attrs.matrix = matrix;\n        }\n        return attrs;\n    };\n    // 绘制标题\n    AxisBase.prototype.drawTitle = function (group) {\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('title'),\n            name: 'axis-title',\n            attrs: this.getTitleAttrs(),\n        });\n    };\n    AxisBase.prototype.applyTickStates = function (tick, group) {\n        var states = this.getItemStates(tick);\n        if (states.length) {\n            var tickStates = this.get('tickStates');\n            // 分别更新 label 和 tickLine\n            var labelId = this.getElementId(\"label-\" + tick.id);\n            var labelShape = group.findById(labelId);\n            if (labelShape) {\n                var labelStateStyle = getStatesStyle(tick, 'label', tickStates);\n                labelStateStyle && labelShape.attr(labelStateStyle);\n            }\n            var tickLineId = this.getElementId(\"tickline-\" + tick.id);\n            var tickLineShape = group.findById(tickLineId);\n            if (tickLineShape) {\n                var tickLineStateStyle = getStatesStyle(tick, 'tickLine', tickStates);\n                tickLineStateStyle && tickLineShape.attr(tickLineStateStyle);\n            }\n        }\n    };\n    AxisBase.prototype.updateTickStates = function (tick) {\n        var states = this.getItemStates(tick);\n        var tickStates = this.get('tickStates');\n        var labelCfg = this.get('label');\n        var labelShape = this.getElementByLocalId(\"label-\" + tick.id);\n        var tickLineCfg = this.get('tickLine');\n        var tickLineShape = this.getElementByLocalId(\"tickline-\" + tick.id);\n        if (states.length) {\n            if (labelShape) {\n                var labelStateStyle = getStatesStyle(tick, 'label', tickStates);\n                labelStateStyle && labelShape.attr(labelStateStyle);\n            }\n            if (tickLineShape) {\n                var tickLineStateStyle = getStatesStyle(tick, 'tickLine', tickStates);\n                tickLineStateStyle && tickLineShape.attr(tickLineStateStyle);\n            }\n        }\n        else {\n            if (labelShape) {\n                labelShape.attr(labelCfg.style);\n            }\n            if (tickLineShape) {\n                tickLineShape.attr(tickLineCfg.style);\n            }\n        }\n    };\n    return AxisBase;\n}(GroupComponent));\nexport default AxisBase;\n//# sourceMappingURL=base.js.map","import { each } from '@antv/util';\nvar ELLIPSIS_CODE = '\\u2026';\nvar ELLIPSIS_CODE_LENGTH = 2; // 省略号的长度\nfunction strLen(str) {\n    var len = 0;\n    for (var i = 0; i < str.length; i++) {\n        len += charAtLength(str, i);\n    }\n    return len;\n}\nfunction charAtLength(str, i) {\n    if (str.charCodeAt(i) > 0 && str.charCodeAt(i) < 128) {\n        return 1;\n    }\n    else {\n        return 2;\n    }\n}\nfunction getLabelLength(isVertical, label) {\n    var bbox = label.getCanvasBBox();\n    return isVertical ? bbox.width : bbox.height;\n}\nfunction ellipsisLabel(isVertical, label, limitLength, position) {\n    var text = label.attr('text');\n    var labelLength = getLabelLength(isVertical, label);\n    var codeLength = strLen(text);\n    var ellipsised = false;\n    if (limitLength < labelLength) {\n        var reseveLength = Math.floor((limitLength / labelLength) * codeLength) - ELLIPSIS_CODE_LENGTH; // 计算出来的应该保存的长度\n        var newText = void 0;\n        if (reseveLength >= 0) {\n            newText = ellipsisString(text, reseveLength, position);\n        }\n        else {\n            newText = ELLIPSIS_CODE;\n        }\n        if (newText) {\n            label.attr('text', newText);\n            ellipsised = true;\n        }\n    }\n    if (ellipsised) {\n        label.set('tip', text);\n    }\n    else {\n        label.set('tip', null);\n    }\n    return ellipsised;\n}\nfunction ellipsisString(str, reseveLength, position) {\n    var count = str.length;\n    var rst = '';\n    if (position === 'tail') {\n        for (var i = 0, index = 0; i < reseveLength;) {\n            var charLength = charAtLength(str, index);\n            if (i + charLength <= reseveLength) {\n                rst += str[index];\n                i += charAtLength(str, index);\n                index++;\n            }\n            else {\n                break;\n            }\n        }\n        rst += ELLIPSIS_CODE;\n    }\n    else if (position === 'head') {\n        for (var i = 0, index = count - 1; i < reseveLength;) {\n            var charLength = charAtLength(str, index);\n            if (i + charLength <= reseveLength) {\n                rst += str[index];\n                i += charAtLength(str, index);\n                index--;\n            }\n            else {\n                break;\n            }\n        }\n        rst = ELLIPSIS_CODE + rst;\n    }\n    else {\n        var startStr = '';\n        var endStr = '';\n        for (var i = 0, startIndex = 0, endIndex = count - 1; i < reseveLength;) {\n            var startCodeLen = charAtLength(str, startIndex);\n            var hasAdd = false; // 设置标志位，防止头尾都没有附加字符\n            if (startCodeLen + i <= reseveLength) {\n                startStr += str[startIndex];\n                startIndex++;\n                i += startCodeLen;\n                hasAdd = true;\n            }\n            var endCodeLen = charAtLength(str, endIndex);\n            if (endCodeLen + i <= reseveLength) {\n                endStr = str[endIndex] + endStr;\n                i += endCodeLen;\n                endIndex--;\n                hasAdd = true;\n            }\n            if (!hasAdd) {\n                // 如果都没有增加字符，说明都不适合则中断\n                break;\n            }\n        }\n        rst = startStr + ELLIPSIS_CODE + endStr;\n    }\n    return rst;\n}\nfunction ellipseLabels(isVertical, labelGroup, limitLength, position) {\n    var children = labelGroup.getChildren();\n    var ellipsised = false;\n    each(children, function (label) {\n        var rst = ellipsisLabel(isVertical, label, limitLength, position);\n        ellipsised = ellipsised || rst;\n    });\n    return ellipsised;\n}\nexport function getDefault() {\n    return ellipsisTail;\n}\nexport function ellipsisHead(isVertical, labelGroup, limitLength) {\n    return ellipseLabels(isVertical, labelGroup, limitLength, 'head');\n}\nexport function ellipsisTail(isVertical, labelGroup, limitLength) {\n    return ellipseLabels(isVertical, labelGroup, limitLength, 'tail');\n}\nexport function ellipsisMiddle(isVertical, labelGroup, limitLength) {\n    return ellipseLabels(isVertical, labelGroup, limitLength, 'middle');\n}\n//# sourceMappingURL=auto-ellipsis.js.map","import { each } from '@antv/util';\nexport function getMaxLabelWidth(labels) {\n    var max = 0;\n    each(labels, function (label) {\n        var bbox = label.getBBox();\n        var width = bbox.width;\n        if (max < width) {\n            max = width;\n        }\n    });\n    return max;\n}\n//# sourceMappingURL=label.js.map","import { getMaxLabelWidth } from '../../util/label';\n// 文本是否旋转\nfunction isRotate(label) {\n    var matrix = label.attr('matrix');\n    return matrix && matrix[0] !== 1; // 仅在这个场景下判定\n}\n// autohide 不再考虑超出限制\n// function isOutLimit(isVertical: boolean, label: IElement, limitLength: number) {\n//   if (!limitLength) {\n//     // 如果没限制 limitLength 则直接返回 false\n//     return false;\n//   }\n//   const canvasBBox = label.getCanvasBBox();\n//   let isOut = false;\n//   if (isVertical) {\n//     isOut = canvasBBox.width > limitLength;\n//   } else {\n//     isOut = canvasBBox.height > limitLength;\n//   }\n//   return isOut;\n// }\n// 是否重叠\nfunction isOverlap(isVertical, rotated, preBox, curBox, reversed) {\n    if (reversed === void 0) { reversed = false; }\n    var overlap = false;\n    if (isVertical) {\n        // 垂直时检测边高\n        overlap = Math.abs(preBox.y - curBox.y) < preBox.height;\n    }\n    else {\n        // 水平时检测\n        if (rotated) {\n            // 如果旋转了，则检测两者 x 之间的间距是否小于前一个的高度\n            var height = reversed ? curBox.height : preBox.height;\n            overlap = Math.abs(preBox.x - curBox.x) < height;\n        }\n        else {\n            // 检测两者是否 x 方向重合\n            var width = reversed ? curBox.width : preBox.width;\n            overlap = Math.abs(preBox.x - curBox.x) < width;\n        }\n    }\n    return overlap;\n}\n// 保留第一个或者最后一个\nfunction reserveOne(isVertical, labelsGroup, reversed) {\n    var labels = labelsGroup.getChildren().slice(); // 复制数组\n    if (!labels.length) {\n        return false;\n    }\n    var hasHide = false;\n    if (reversed) {\n        // 翻转\n        labels.reverse();\n    }\n    var count = labels.length;\n    var first = labels[0];\n    var rotated = isRotate(first);\n    var preBox = first.getBBox();\n    for (var i = 1; i < count; i++) {\n        var label = labels[i];\n        var curBBox = label.getBBox();\n        // 不再考虑超出限制，而仅仅根据是否重叠进行隐藏 isOutLimit(isVertical, label, limitLength) ||\n        var isHide = isOverlap(isVertical, rotated, preBox, curBBox, reversed);\n        if (isHide) {\n            label.hide();\n            hasHide = true;\n        }\n        else {\n            preBox = curBBox;\n        }\n    }\n    return hasHide;\n}\nexport function getDefault() {\n    return equidistance;\n}\n/**\n * 保证首个 label 可见，即使超过 limitLength 也不隐藏\n * @param {boolean} isVertical  是否垂直\n * @param {IGroup}  labelsGroup label 的分组\n */\nexport function reserveFirst(isVertical, labelsGroup) {\n    return reserveOne(isVertical, labelsGroup, false);\n}\n/**\n * 保证最后一个 label 可见，即使超过 limitLength 也不隐藏\n * @param {boolean} isVertical  是否垂直\n * @param {IGroup}  labelsGroup label 的分组\n */\nexport function reserveLast(isVertical, labelsGroup) {\n    return reserveOne(isVertical, labelsGroup, true);\n}\n/**\n * 保证第一个最后一个 label 可见，即使超过 limitLength 也不隐藏\n * @param {boolean} isVertical  是否垂直\n * @param {IGroup}  labelsGroup label 的分组\n */\nexport function reserveBoth(isVertical, labelsGroup) {\n    var labels = labelsGroup.getChildren().slice(); // 复制数组\n    if (labels.length <= 2) {\n        // 如果数量小于或等于 2 则直接返回\n        return false;\n    }\n    var hasHide = false;\n    var count = labels.length;\n    var first = labels[0];\n    var last = labels[count - 1];\n    var rotated = isRotate(first);\n    var preBox = first.getBBox();\n    var preLabel = first;\n    // 按照先保存第一个的逻辑循环一遍，最后一个不参与循环\n    for (var i = 1; i < count - 1; i++) {\n        var label = labels[i];\n        var curBBox = label.getBBox();\n        // 废弃 isOutLimit(isVertical, label, limitLength) ||\n        var isHide = isOverlap(isVertical, rotated, preBox, curBBox);\n        if (isHide) {\n            label.hide();\n            hasHide = true;\n        }\n        else {\n            preBox = curBBox;\n            preLabel = label;\n        }\n    }\n    var lastBBox = last.getBBox();\n    var overlap = isOverlap(isVertical, rotated, preBox, lastBBox); // 不检测超出 limit\n    if (overlap) {\n        // 发生冲突，则隐藏前一个保留后一个\n        preLabel.hide();\n        hasHide = true;\n    }\n    return hasHide;\n}\n/**\n * 保证 label 均匀显示，主要解决文本层叠的问题，对于 limitLength 不处理\n * @param {boolean} isVertical  是否垂直\n * @param {IGroup}  labelsGroup label 的分组\n */\nexport function equidistance(isVertical, labelsGroup) {\n    var labels = labelsGroup.getChildren().slice(); // 复制数组\n    if (labels.length < 2) {\n        // 如果数量小于 2 则直接返回，等于 2 时可能也会重合\n        return false;\n    }\n    var hasHide = false;\n    var first = labels[0];\n    var firstBBox = first.getBBox();\n    var second = labels[1];\n    var rotated = isRotate(first);\n    var count = labels.length;\n    var interval = 0; // 不重叠的坐标文本间距个数\n    if (isVertical) {\n        // 垂直的坐标轴计算垂直方向的间距\n        var distance = Math.abs(second.attr('y') - first.attr('y'));\n        interval = firstBBox.height / distance;\n    }\n    else {\n        // 水平坐标轴\n        if (rotated) {\n            var distance = Math.abs(second.attr('x') - first.attr('x'));\n            interval = firstBBox.width / distance;\n        }\n        else {\n            var maxWidth = getMaxLabelWidth(labels);\n            var distance = Math.abs(second.attr('x') - first.attr('x'));\n            interval = maxWidth / distance;\n        }\n    }\n    // interval > 1 时需要对 label 进行隐藏\n    if (interval > 1) {\n        interval = Math.ceil(interval);\n        for (var i = 0; i < count; i++) {\n            if (i % interval !== 0) {\n                // 仅保留被整除的 label\n                labels[i].hide();\n                hasHide = true;\n            }\n        }\n    }\n    return hasHide;\n}\n//# sourceMappingURL=auto-hide.js.map","import { each } from '@antv/util';\nimport { getMaxLabelWidth } from '../../util/label';\nimport { getMatrixByAngle } from '../../util/matrix';\nimport Theme from '../../util/theme';\n// 统一设置文本的角度\nfunction setLabelsAngle(labels, angle) {\n    each(labels, function (label) {\n        var x = label.attr('x');\n        var y = label.attr('y');\n        var matrix = getMatrixByAngle({ x: x, y: y }, angle);\n        label.attr('matrix', matrix);\n    });\n}\n// 旋转文本\nfunction labelRotate(isVertical, labelsGroup, limitLength, getAngle) {\n    var labels = labelsGroup.getChildren();\n    if (!labels.length) {\n        return false;\n    }\n    if (!isVertical && labels.length < 2) {\n        // 水平时至少有两个时才旋转\n        return false;\n    }\n    var maxWidth = getMaxLabelWidth(labels);\n    var isOverlap = false;\n    if (isVertical) {\n        // limitLength 为 0 或者 null 时不生效\n        isOverlap = !!limitLength && maxWidth > limitLength;\n    }\n    else {\n        // 同 limitLength 无关\n        var tickWidth = Math.abs(labels[1].attr('x') - labels[0].attr('x'));\n        isOverlap = maxWidth > tickWidth;\n    }\n    if (isOverlap) {\n        var angle = getAngle(limitLength, maxWidth);\n        setLabelsAngle(labels, angle);\n    }\n    return isOverlap;\n}\nexport function getDefault() {\n    return fixedAngle;\n}\n/**\n * 固定角度旋转文本\n * @param  {boolean} isVertical  是否垂直方向\n * @param  {IGroup}  labelsGroup 文本的 group\n * @param  {number}  limitLength 限定长度\n * @return {boolean}             是否发生了旋转\n */\nexport function fixedAngle(isVertical, labelsGroup, limitLength) {\n    return labelRotate(isVertical, labelsGroup, limitLength, function () {\n        return isVertical ? Theme.verticalAxisRotate : Theme.horizontalAxisRotate;\n    });\n}\n/**\n * 非固定角度旋转文本\n * @param  {boolean} isVertical  是否垂直方向\n * @param  {IGroup}  labelsGroup 文本的 group\n * @param  {number}  limitLength 限定长度\n * @return {boolean}             是否发生了旋转\n */\nexport function unfixedAngle(isVertical, labelsGroup, limitLength) {\n    return labelRotate(isVertical, labelsGroup, limitLength, function (length, maxWidth) {\n        if (!length) {\n            // 如果没有设置 limitLength，则使用固定的角度旋转\n            return isVertical ? Theme.verticalAxisRotate : Theme.horizontalAxisRotate;\n        }\n        if (isVertical) {\n            // 垂直时不需要判定 limitLength > maxWidth ，因为此时不会 overlap\n            return -Math.acos(length / maxWidth);\n        }\n        else {\n            var angle = 0;\n            if (length > maxWidth) {\n                // 需要判定，asin 的参数 -1， 1\n                angle = Math.PI / 4;\n            }\n            else {\n                angle = Math.asin(length / maxWidth);\n                if (angle > Math.PI / 4) {\n                    // 大于 Math.PI / 4 时没意义\n                    angle = Math.PI / 4;\n                }\n            }\n            return angle;\n        }\n    });\n}\n//# sourceMappingURL=auto-rotate.js.map","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { each, isFunction, isNumberEqual } from '@antv/util';\nimport AxisBase from './base';\nimport * as OverlapUtil from './overlap';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Line.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'line', locationType: 'region', \n            /**\n             * 起始点, x, y\n             * @type {object}\n             */\n            start: null, \n            /**\n             * 结束点, x, y\n             * @type {object}\n             */\n            end: null });\n    };\n    // 获取坐标轴线的 path\n    Line.prototype.getLinePath = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var path = [];\n        path.push(['M', start.x, start.y]);\n        path.push(['L', end.x, end.y]);\n        return path;\n    };\n    // 重新计算 layout bbox，考虑到 line 不显示\n    Line.prototype.getInnerLayoutBBox = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var bbox = _super.prototype.getInnerLayoutBBox.call(this);\n        var minX = Math.min(start.x, end.x, bbox.x);\n        var minY = Math.min(start.y, end.y, bbox.y);\n        var maxX = Math.max(start.x, end.x, bbox.maxX);\n        var maxY = Math.max(start.y, end.y, bbox.maxY);\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    Line.prototype.isVertical = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return isNumberEqual(start.x, end.x);\n    };\n    Line.prototype.isHorizontal = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return isNumberEqual(start.y, end.y);\n    };\n    Line.prototype.getTickPoint = function (tickValue) {\n        var self = this;\n        var start = self.get('start');\n        var end = self.get('end');\n        var regionX = end.x - start.x;\n        var regionY = end.y - start.y;\n        return {\n            x: start.x + regionX * tickValue,\n            y: start.y + regionY * tickValue,\n        };\n    };\n    // 直线坐标轴下任一点的向量方向都相同\n    Line.prototype.getSideVector = function (offset) {\n        var axisVector = this.getAxisVector();\n        var normal = vec2.normalize([], axisVector);\n        var factor = this.get('verticalFactor');\n        var verticalVector = [normal[1], normal[0] * -1]; // 垂直方向，逆时针方向\n        return vec2.scale([], verticalVector, offset * factor);\n    };\n    // 获取坐标轴的向量\n    Line.prototype.getAxisVector = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return [end.x - start.x, end.y - start.y];\n    };\n    Line.prototype.processOverlap = function (labelGroup) {\n        var _this = this;\n        var isVertical = this.isVertical();\n        var isHorizontal = this.isHorizontal();\n        // 非垂直，或者非水平时不处理遮挡问题\n        if (!isVertical && !isHorizontal) {\n            return;\n        }\n        var labelCfg = this.get('label');\n        var titleCfg = this.get('title');\n        var verticalLimitLength = this.get('verticalLimitLength');\n        var labelOffset = labelCfg.offset;\n        var limitLength = verticalLimitLength;\n        var titleHeight = 0;\n        var titleSpacing = 0;\n        if (titleCfg) {\n            titleHeight = titleCfg.style.fontSize;\n            titleSpacing = titleCfg.spacing;\n        }\n        if (limitLength) {\n            limitLength = limitLength - labelOffset - titleSpacing - titleHeight;\n        }\n        var overlapOrder = this.get('overlapOrder');\n        each(overlapOrder, function (name) {\n            if (labelCfg[name]) {\n                _this.autoProcessOverlap(name, labelCfg[name], labelGroup, limitLength);\n            }\n        });\n        if (titleCfg) {\n            // 调整 title 的 offset\n            var bbox = labelGroup.getBBox();\n            var length_1 = isVertical ? bbox.width : bbox.height;\n            titleCfg.offset = labelOffset + length_1 + titleSpacing + titleHeight / 2;\n        }\n    };\n    Line.prototype.autoProcessOverlap = function (name, value, labelGroup, limitLength) {\n        var _this = this;\n        var isVertical = this.isVertical();\n        var hasAdjusted = false;\n        var util = OverlapUtil[name];\n        if (value === true) {\n            // 默认使用固定角度的旋转方案\n            hasAdjusted = util.getDefault()(isVertical, labelGroup, limitLength);\n        }\n        else if (isFunction(value)) {\n            // 用户可以传入回调函数\n            hasAdjusted = value(isVertical, labelGroup, limitLength);\n        }\n        else if (util[value]) {\n            // 按照名称执行旋转函数\n            hasAdjusted = util[value](isVertical, labelGroup, limitLength);\n        }\n        if (name === 'autoRotate') {\n            // 文本旋转后，文本的对齐方式可能就不合适了\n            if (hasAdjusted) {\n                var labels = labelGroup.getChildren();\n                var verticalFactor_1 = this.get('verticalFactor');\n                each(labels, function (label) {\n                    var textAlign = label.attr('textAlign');\n                    if (textAlign === 'center') {\n                        // 居中的文本需要调整旋转度\n                        var newAlign = verticalFactor_1 > 0 ? 'end' : 'start';\n                        label.attr('textAlign', newAlign);\n                    }\n                });\n            }\n        }\n        else if (name === 'autoHide') {\n            var children = labelGroup.getChildren().slice(0); // 复制数组，删除时不会出错\n            each(children, function (label) {\n                if (!label.get('visible')) {\n                    if (_this.get('isRegister')) {\n                        // 已经注册过了，则删除\n                        _this.unregisterElement(label);\n                    }\n                    label.remove(); // 防止 label 数量太多，所以统一删除\n                }\n            });\n        }\n    };\n    return Line;\n}(AxisBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport AxisBase from './base';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'circle', locationType: 'circle', center: null, radius: null, startAngle: -Math.PI / 2, endAngle: (Math.PI * 3) / 2 });\n    };\n    Circle.prototype.getLinePath = function () {\n        var center = this.get('center');\n        var x = center.x;\n        var y = center.y;\n        var rx = this.get('radius');\n        var ry = rx;\n        var startAngle = this.get('startAngle');\n        var endAngle = this.get('endAngle');\n        var path = [];\n        if (Math.abs(endAngle - startAngle) === Math.PI * 2) {\n            path = [['M', x, y - ry], ['A', rx, ry, 0, 1, 1, x, y + ry], ['A', rx, ry, 0, 1, 1, x, y - ry], ['Z']];\n        }\n        else {\n            var startPoint = this.getCirclePoint(startAngle);\n            var endPoint = this.getCirclePoint(endAngle);\n            var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n            var sweep = startAngle > endAngle ? 0 : 1;\n            path = [\n                ['M', x, y],\n                ['L', startPoint.x, startPoint.y],\n                ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y],\n                ['L', x, y],\n            ];\n        }\n        return path;\n    };\n    Circle.prototype.getTickPoint = function (tickValue) {\n        var startAngle = this.get('startAngle');\n        var endAngle = this.get('endAngle');\n        var angle = startAngle + (endAngle - startAngle) * tickValue;\n        return this.getCirclePoint(angle);\n    };\n    // 获取垂直于坐标轴的向量\n    Circle.prototype.getSideVector = function (offset, point) {\n        var center = this.get('center');\n        var vector = [point.x - center.x, point.y - center.y];\n        var factor = this.get('verticalFactor');\n        var vecLen = vec2.length(vector);\n        vec2.scale(vector, vector, (factor * offset) / vecLen);\n        return vector;\n    };\n    // 获取沿坐标轴方向的向量\n    Circle.prototype.getAxisVector = function (point) {\n        var center = this.get('center');\n        var vector = [point.x - center.x, point.y - center.y];\n        return [vector[1], -1 * vector[0]]; // 获取顺时针方向的向量\n    };\n    // 根据圆心和半径获取点\n    Circle.prototype.getCirclePoint = function (angle, radius) {\n        var center = this.get('center');\n        radius = radius || this.get('radius');\n        return {\n            x: center.x + Math.cos(angle) * radius,\n            y: center.y + Math.sin(angle) * radius,\n        };\n    };\n    return Circle;\n}(AxisBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","import { __assign, __extends } from \"tslib\";\nimport { isNil } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport Theme from '../util/theme';\nimport { formatPadding } from '../util/util';\nvar CrosshairBase = /** @class */ (function (_super) {\n    __extends(CrosshairBase, _super);\n    function CrosshairBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CrosshairBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'crosshair', type: 'base', line: {}, text: null, textBackground: {}, capture: false, defaultCfg: {\n                line: {\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                },\n                text: {\n                    position: 'start',\n                    offset: 10,\n                    autoRotate: false,\n                    content: null,\n                    style: {\n                        fill: Theme.textColor,\n                        textAlign: 'center',\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n                textBackground: {\n                    padding: 5,\n                    style: {\n                        stroke: Theme.lineColor,\n                    },\n                },\n            } });\n    };\n    CrosshairBase.prototype.renderInner = function (group) {\n        if (this.get('line')) {\n            this.renderLine(group);\n        }\n        if (this.get('text')) {\n            this.renderText(group);\n            this.renderBackground(group);\n        }\n    };\n    CrosshairBase.prototype.renderText = function (group) {\n        var text = this.get('text');\n        var style = text.style, autoRotate = text.autoRotate, content = text.content;\n        if (!isNil(content)) {\n            var textPoint = this.getTextPoint();\n            var matrix = null;\n            if (autoRotate) {\n                var angle = this.getRotateAngle();\n                matrix = getMatrixByAngle(textPoint, angle);\n            }\n            this.addShape(group, {\n                type: 'text',\n                name: 'crosshair-text',\n                id: this.getElementId('text'),\n                attrs: __assign(__assign(__assign({}, textPoint), { text: content, matrix: matrix }), style),\n            });\n        }\n    };\n    CrosshairBase.prototype.renderLine = function (group) {\n        var path = this.getLinePath();\n        var line = this.get('line');\n        var style = line.style;\n        this.addShape(group, {\n            type: 'path',\n            name: 'crosshair-line',\n            id: this.getElementId('line'),\n            attrs: __assign({ path: path }, style),\n        });\n    };\n    // 绘制文本的背景\n    CrosshairBase.prototype.renderBackground = function (group) {\n        var textId = this.getElementId('text');\n        var textShape = group.findById(textId); // 查找文本\n        var textBackground = this.get('textBackground');\n        if (textBackground && textShape) {\n            var textBBox = textShape.getBBox();\n            var padding = formatPadding(textBackground.padding); // 用户传入的 padding 格式不定\n            var style = textBackground.style;\n            var backgroundShape = this.addShape(group, {\n                type: 'rect',\n                name: 'crosshair-text-background',\n                id: this.getElementId('text-background'),\n                attrs: __assign({ x: textBBox.x - padding[3], y: textBBox.y - padding[0], width: textBBox.width + padding[1] + padding[3], height: textBBox.height + padding[0] + padding[2], matrix: textShape.attr('matrix') }, style),\n            });\n            backgroundShape.toBack();\n        }\n    };\n    return CrosshairBase;\n}(GroupComponent));\nexport default CrosshairBase;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport { distance, getValueByPercent } from '../util/util';\nimport CrosshairBase from './base';\nvar LineCrosshair = /** @class */ (function (_super) {\n    __extends(LineCrosshair, _super);\n    function LineCrosshair() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LineCrosshair.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'line', locationType: 'region', start: null, end: null });\n    };\n    // 直线的文本需要同直线垂直\n    LineCrosshair.prototype.getRotateAngle = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        var position = this.get('text').position;\n        var angle = Math.atan2(end.y - start.y, end.x - start.x);\n        var tangentAngle = position === 'start' ? angle - Math.PI / 2 : angle + Math.PI / 2;\n        return tangentAngle;\n    };\n    LineCrosshair.prototype.getTextPoint = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        var text = this.get('text');\n        var position = text.position, offset = text.offset;\n        var lineLength = distance(start, end);\n        var offsetPercent = offset / lineLength; // 计算间距同线的比例，用于计算最终的位置\n        var percent = 0;\n        if (position === 'start') {\n            percent = 0 - offsetPercent;\n        }\n        else if (position === 'end') {\n            percent = 1 + offsetPercent;\n        }\n        return {\n            x: getValueByPercent(start.x, end.x, percent),\n            y: getValueByPercent(start.y, end.y, percent),\n        };\n    };\n    LineCrosshair.prototype.getLinePath = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        return [\n            ['M', start.x, start.y],\n            ['L', end.x, end.y],\n        ];\n    };\n    return LineCrosshair;\n}(CrosshairBase));\nexport default LineCrosshair;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport { getCirclePoint } from '../util/util';\nimport CrosshairBase from './base';\nvar LineCrosshair = /** @class */ (function (_super) {\n    __extends(LineCrosshair, _super);\n    function LineCrosshair() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LineCrosshair.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'circle', locationType: 'circle', center: null, radius: 100, startAngle: -Math.PI / 2, endAngle: (Math.PI * 3) / 2 });\n    };\n    LineCrosshair.prototype.getRotateAngle = function () {\n        var _a = this.getLocation(), startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var position = this.get('text').position;\n        var tangentAngle = position === 'start' ? startAngle + Math.PI / 2 : endAngle - Math.PI / 2;\n        return tangentAngle;\n    };\n    LineCrosshair.prototype.getTextPoint = function () {\n        var text = this.get('text');\n        var position = text.position, offset = text.offset;\n        var _a = this.getLocation(), center = _a.center, radius = _a.radius, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var angle = position === 'start' ? startAngle : endAngle;\n        var tangentAngle = this.getRotateAngle() - Math.PI;\n        var point = getCirclePoint(center, radius, angle);\n        // 这个地方其实应该求切线向量然后在乘以 offset，但是太啰嗦了，直接给出结果\n        // const tangent = [Math.cos(tangentAngle), Math.sin(tangentAngle)];\n        // const offsetVector = vec2.scale([], tangent, offset);\n        var offsetX = Math.cos(tangentAngle) * offset;\n        var offsetY = Math.sin(tangentAngle) * offset;\n        return {\n            x: point.x + offsetX,\n            y: point.y + offsetY,\n        };\n    };\n    LineCrosshair.prototype.getLinePath = function () {\n        var _a = this.getLocation(), center = _a.center, radius = _a.radius, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var path = null;\n        if (endAngle - startAngle === Math.PI * 2) {\n            // 整圆\n            var x = center.x, y = center.y;\n            path = [\n                ['M', x, y - radius],\n                ['A', radius, radius, 0, 1, 1, x, y + radius],\n                ['A', radius, radius, 0, 1, 1, x, y - radius],\n                ['Z'],\n            ];\n        }\n        else {\n            var startPoint = getCirclePoint(center, radius, startAngle);\n            var endPoint = getCirclePoint(center, radius, endAngle);\n            var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n            var sweep = startAngle > endAngle ? 0 : 1;\n            path = [\n                ['M', startPoint.x, startPoint.y],\n                ['A', radius, radius, 0, large, sweep, endPoint.x, endPoint.y],\n            ];\n        }\n        return path;\n    };\n    return LineCrosshair;\n}(CrosshairBase));\nexport default LineCrosshair;\n//# sourceMappingURL=circle.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, isString, mix } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nvar GridBase = /** @class */ (function (_super) {\n    __extends(GridBase, _super);\n    function GridBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GridBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'grid', line: {}, alternateColor: null, capture: false, items: [], closed: false, defaultCfg: {\n                line: {\n                    type: 'line',\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                },\n            } });\n    };\n    /**\n     * 获取栅格线的类型\n     * @return {string} 栅格线类型\n     */\n    GridBase.prototype.getLineType = function () {\n        var line = this.get('line') || this.get('defaultCfg').line;\n        return line.type;\n    };\n    GridBase.prototype.renderInner = function (group) {\n        this.drawGrid(group);\n    };\n    GridBase.prototype.getAlternatePath = function (prePoints, points) {\n        var regionPath = this.getGridPath(prePoints);\n        var reversePoints = points.slice(0).reverse();\n        var nextPath = this.getGridPath(reversePoints, true);\n        var closed = this.get('closed');\n        if (closed) {\n            regionPath = regionPath.concat(nextPath);\n        }\n        else {\n            nextPath[0][0] = 'L'; // 更新第一个节点\n            regionPath = regionPath.concat(nextPath);\n            regionPath.push(['Z']);\n        }\n        return regionPath;\n    };\n    // 获取路径的配置项\n    GridBase.prototype.getPathStyle = function () {\n        return this.get('line').style;\n    };\n    // 绘制栅格\n    GridBase.prototype.drawGrid = function (group) {\n        var _this = this;\n        var line = this.get('line');\n        var items = this.get('items');\n        var alternateColor = this.get('alternateColor');\n        var preItem = null;\n        each(items, function (item, index) {\n            var id = item.id || index;\n            // 绘制栅格线\n            if (line) {\n                var style = _this.getPathStyle();\n                var lineId = _this.getElementId(\"line-\" + id);\n                var gridPath = _this.getGridPath(item.points);\n                _this.addShape(group, {\n                    type: 'path',\n                    name: 'grid-line',\n                    id: lineId,\n                    attrs: mix({\n                        path: gridPath,\n                    }, style),\n                });\n            }\n            // 如果存在 alternateColor 则绘制矩形\n            // 从第二个栅格线开始绘制\n            if (alternateColor && index > 0) {\n                var regionId = _this.getElementId(\"region-\" + id);\n                var isEven = index % 2 === 0;\n                if (isString(alternateColor)) {\n                    // 如果颜色是单值，则是仅绘制偶数时的区域\n                    if (isEven) {\n                        _this.drawAlternateRegion(regionId, group, preItem.points, item.points, alternateColor);\n                    }\n                }\n                else {\n                    var color = isEven ? alternateColor[1] : alternateColor[0];\n                    _this.drawAlternateRegion(regionId, group, preItem.points, item.points, color);\n                }\n            }\n            preItem = item;\n        });\n    };\n    // 绘制栅格线间的间隔\n    GridBase.prototype.drawAlternateRegion = function (id, group, prePoints, points, color) {\n        var regionPath = this.getAlternatePath(prePoints, points);\n        this.addShape(group, {\n            type: 'path',\n            id: id,\n            name: 'grid-region',\n            attrs: {\n                path: regionPath,\n                fill: color,\n            },\n        });\n    };\n    return GridBase;\n}(GroupComponent));\nexport default GridBase;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport GridBase from './base';\nfunction distance(x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'circle', \n            /**\n             * 中心点\n             * @type {object}\n             */\n            center: null, \n            /**\n             * 栅格线是否封闭\n             * @type {true}\n             */\n            closed: true });\n    };\n    Circle.prototype.getGridPath = function (points, reversed) {\n        var lineType = this.getLineType();\n        var closed = this.get('closed');\n        var path = [];\n        if (points.length) {\n            // 防止出错\n            if (lineType === 'circle') {\n                var center = this.get('center');\n                var firstPoint = points[0];\n                var radius_1 = distance(center.x, center.y, firstPoint.x, firstPoint.y);\n                var sweepFlag_1 = reversed ? 0 : 1; // 顺时针还是逆时针\n                if (closed) {\n                    // 封闭时，绘制整个圆\n                    path.push(['M', center.x, center.y - radius_1]);\n                    path.push(['A', radius_1, radius_1, 0, 0, sweepFlag_1, center.x, center.y + radius_1]);\n                    path.push(['A', radius_1, radius_1, 0, 0, sweepFlag_1, center.x, center.y - radius_1]);\n                    path.push(['Z']);\n                }\n                else {\n                    each(points, function (point, index) {\n                        if (index === 0) {\n                            path.push(['M', point.x, point.y]);\n                        }\n                        else {\n                            path.push(['A', radius_1, radius_1, 0, 0, sweepFlag_1, point.x, point.y]);\n                        }\n                    });\n                }\n            }\n            else {\n                each(points, function (point, index) {\n                    if (index === 0) {\n                        path.push(['M', point.x, point.y]);\n                    }\n                    else {\n                        path.push(['L', point.x, point.y]);\n                    }\n                });\n                if (closed) {\n                    path.push(['Z']);\n                }\n            }\n        }\n        return path;\n    };\n    return Circle;\n}(GridBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","import { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport GridBase from './base';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Line.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'line' });\n    };\n    Line.prototype.getGridPath = function (points) {\n        var path = [];\n        each(points, function (point, index) {\n            if (index === 0) {\n                path.push(['M', point.x, point.y]);\n            }\n            else {\n                path.push(['L', point.x, point.y]);\n            }\n        });\n        return path;\n    };\n    return Line;\n}(GridBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { createBBox, formatPadding } from '../util/util';\nvar LegendBase = /** @class */ (function (_super) {\n    __extends(LegendBase, _super);\n    function LegendBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LegendBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'legend', \n            /**\n             * 布局方式： horizontal，vertical\n             * @type {String}\n             */\n            layout: 'horizontal', locationType: 'point', x: 0, y: 0, offsetX: 0, offsetY: 0, title: null, background: null });\n    };\n    LegendBase.prototype.getLayoutBBox = function () {\n        var bbox = _super.prototype.getLayoutBBox.call(this);\n        var x = this.get('x');\n        var y = this.get('y');\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        var maxWidth = this.get('maxWidth');\n        var maxHeight = this.get('maxHeight');\n        var minX = x + offsetX;\n        var minY = y + offsetY;\n        var width = bbox.maxX - minX;\n        var height = bbox.maxY - minY;\n        if (maxWidth) {\n            width = Math.min(width, maxWidth);\n        }\n        if (maxHeight) {\n            height = Math.min(height, maxHeight);\n        }\n        return createBBox(minX, minY, width, height);\n    };\n    LegendBase.prototype.setLocation = function (cfg) {\n        this.set('x', cfg.x);\n        this.set('y', cfg.y);\n        this.resetLocation();\n    };\n    LegendBase.prototype.resetLocation = function () {\n        var x = this.get('x');\n        var y = this.get('y');\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        this.moveElementTo(this.get('group'), {\n            x: x + offsetX,\n            y: y + offsetY,\n        });\n    };\n    LegendBase.prototype.applyOffset = function () {\n        this.resetLocation();\n    };\n    // 获取当前绘制的点\n    LegendBase.prototype.getDrawPoint = function () {\n        return this.get('currentPoint');\n    };\n    LegendBase.prototype.setDrawPoint = function (point) {\n        return this.set('currentPoint', point);\n    };\n    // 复写父类定义的绘制方法\n    LegendBase.prototype.renderInner = function (group) {\n        this.resetDraw();\n        if (this.get('title')) {\n            this.drawTitle(group);\n        }\n        this.drawLegendContent(group);\n        if (this.get('background')) {\n            this.drawBackground(group);\n        }\n        // this.resetLocation(); // 在顶层已经在处理偏移时一起处理了\n    };\n    // 绘制背景\n    LegendBase.prototype.drawBackground = function (group) {\n        var background = this.get('background');\n        var bbox = group.getBBox();\n        var padding = formatPadding(background.padding);\n        var attrs = __assign({ \n            // 背景从 (0,0) 开始绘制\n            x: 0, y: 0, width: bbox.width + padding[1] + padding[3], height: bbox.height + padding[0] + padding[2] }, background.style);\n        var backgroundShape = this.addShape(group, {\n            type: 'rect',\n            id: this.getElementId('background'),\n            name: 'legend-background',\n            attrs: attrs,\n        });\n        backgroundShape.toBack();\n    };\n    // 绘制标题，标题在图例项的上面\n    LegendBase.prototype.drawTitle = function (group) {\n        var currentPoint = this.get('currentPoint');\n        var titleCfg = this.get('title');\n        var spacing = titleCfg.spacing, style = titleCfg.style, text = titleCfg.text;\n        var shape = this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('title'),\n            name: 'legend-title',\n            attrs: __assign({ text: text, x: currentPoint.x, y: currentPoint.y }, style),\n        });\n        var bbox = shape.getBBox();\n        // 标题单独在一行\n        this.set('currentPoint', { x: currentPoint.x, y: bbox.maxY + spacing });\n    };\n    // 重置绘制时开始的位置，如果绘制边框，考虑边框的 padding\n    LegendBase.prototype.resetDraw = function () {\n        var background = this.get('background');\n        var currentPoint = { x: 0, y: 0 };\n        if (background) {\n            var padding = formatPadding(background.padding);\n            currentPoint.x = padding[3]; // 左边 padding\n            currentPoint.y = padding[0]; // 上面 padding\n        }\n        this.set('currentPoint', currentPoint); // 设置绘制的初始位置\n    };\n    return LegendBase;\n}(GroupComponent));\nexport default LegendBase;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, filter, get, mix } from '@antv/util';\nimport { getMatrixByAngle, getMatrixByTranslate } from '../util/matrix';\nimport { getStatesStyle } from '../util/state';\nimport Theme from '../util/theme';\nimport LegendBase from './base';\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentPageIndex = 1;\n        _this.totalPagesCnt = 1;\n        _this.pageWidth = 0;\n        _this.pageHeight = 0;\n        _this.startX = 0;\n        _this.startY = 0;\n        _this.onNavigationBack = function () {\n            var itemGroup = _this.getElementByLocalId('item-group');\n            if (_this.currentPageIndex > 1) {\n                _this.currentPageIndex -= 1;\n                _this.updateNavigation();\n                var matrix = _this.getCurrentNavigationMatrix();\n                itemGroup.animate({\n                    matrix: matrix,\n                }, 100);\n            }\n        };\n        _this.onNavigationAfter = function () {\n            var itemGroup = _this.getElementByLocalId('item-group');\n            if (_this.currentPageIndex < _this.totalPagesCnt) {\n                _this.currentPageIndex += 1;\n                _this.updateNavigation();\n                var matrix = _this.getCurrentNavigationMatrix();\n                itemGroup.animate({\n                    matrix: matrix,\n                }, 100);\n            }\n        };\n        return _this;\n    }\n    Category.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'legend', type: 'category', itemSpacing: 24, itemWidth: null, itemHeight: null, itemName: {}, itemValue: null, maxWidth: null, maxHeight: null, marker: {}, items: [], itemStates: {}, itemBackground: {}, defaultCfg: {\n                title: {\n                    spacing: 5,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'top',\n                    },\n                },\n                background: {\n                    padding: 5,\n                    style: {\n                        stroke: Theme.lineColor,\n                    },\n                },\n                itemBackground: {\n                    style: {\n                        opacity: 0,\n                        fill: '#fff',\n                    },\n                },\n                itemName: {\n                    spacing: 16,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'middle',\n                    },\n                },\n                marker: {\n                    spacing: 8,\n                    style: {\n                        r: 6,\n                        symbol: 'circle',\n                    },\n                },\n                itemValue: {\n                    alignRight: false,\n                    formatter: null,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'middle',\n                    },\n                },\n                itemStates: {\n                    active: {\n                        nameStyle: {\n                            opacity: 0.8,\n                        },\n                    },\n                    unchecked: {\n                        nameStyle: {\n                            fill: Theme.uncheckedColor,\n                        },\n                        markerStyle: {\n                            fill: Theme.uncheckedColor,\n                            stroke: Theme.uncheckedColor,\n                        },\n                    },\n                    inactive: {\n                        nameStyle: {\n                            fill: Theme.uncheckedColor,\n                        },\n                        markerStyle: {\n                            opacity: 0.2,\n                        },\n                    },\n                },\n            } });\n    };\n    // 实现 IList 接口\n    Category.prototype.isList = function () {\n        return true;\n    };\n    /**\n     * 获取图例项\n     * @return {ListItem[]} 列表项集合\n     */\n    Category.prototype.getItems = function () {\n        return this.get('items');\n    };\n    /**\n     * 设置列表项\n     * @param {ListItem[]} items 列表项集合\n     */\n    Category.prototype.setItems = function (items) {\n        this.update({\n            items: items,\n        });\n    };\n    /**\n     * 更新列表项\n     * @param {ListItem} item 列表项\n     * @param {object}   cfg  列表项\n     */\n    Category.prototype.updateItem = function (item, cfg) {\n        mix(item, cfg);\n        this.clear(); // 由于单个图例项变化，会引起全局变化，所以全部更新\n        this.render();\n    };\n    /**\n     * 清空列表\n     */\n    Category.prototype.clearItems = function () {\n        var itemGroup = this.getElementByLocalId('item-group');\n        itemGroup && itemGroup.clear();\n    };\n    /**\n     * 设置列表项的状态\n     * @param {ListItem} item  列表项\n     * @param {string}   state 状态名\n     * @param {boolean}  value 状态值, true, false\n     */\n    Category.prototype.setItemState = function (item, state, value) {\n        item[state] = value;\n        var itemElement = this.getElementByLocalId(\"item-\" + item.id);\n        if (itemElement) {\n            var items = this.getItems();\n            var index = items.indexOf(item);\n            var offsetGroup = this.createOffScreenGroup(); // 离屏的 group\n            var newElement = this.drawItem(item, index, this.getItemHeight(), offsetGroup);\n            this.updateElements(newElement, itemElement); // 更新整个分组\n            this.clearUpdateStatus(itemElement); // 清理更新状态，防止出现 bug\n        }\n    };\n    /**\n     * 是否存在指定的状态\n     * @param {ListItem} item  列表项\n     * @param {boolean} state 状态名\n     */\n    Category.prototype.hasState = function (item, state) {\n        return !!item[state];\n    };\n    Category.prototype.getItemStates = function (item) {\n        var itemStates = this.get('itemStates');\n        var rst = [];\n        each(itemStates, function (v, k) {\n            if (item[k]) {\n                // item.selected\n                rst.push(k);\n            }\n        });\n        return rst;\n    };\n    /**\n     * 清楚所有列表项的状态\n     * @param {string} state 状态值\n     */\n    Category.prototype.clearItemsState = function (state) {\n        var _this = this;\n        var items = this.getItemsByState(state);\n        each(items, function (item) {\n            _this.setItemState(item, state, false);\n        });\n    };\n    /**\n     * 根据状态获取图例项\n     * @param  {string}     state [description]\n     * @return {ListItem[]}       [description]\n     */\n    Category.prototype.getItemsByState = function (state) {\n        var _this = this;\n        var items = this.getItems();\n        return filter(items, function (item) {\n            return _this.hasState(item, state);\n        });\n    };\n    // 绘制 legend 的选项\n    Category.prototype.drawLegendContent = function (group) {\n        this.processItems();\n        this.drawItems(group);\n    };\n    // 防止未设置 id\n    Category.prototype.processItems = function () {\n        var items = this.get('items');\n        each(items, function (item) {\n            if (!item.id) {\n                // 如果没有设置 id，默认使用 name\n                item.id = item.name;\n            }\n        });\n    };\n    // 绘制所有的图例选项\n    Category.prototype.drawItems = function (group) {\n        var _this = this;\n        var itemContainerGroup = this.addGroup(group, {\n            id: this.getElementId('item-container-group'),\n            name: 'legend-item-container-group',\n        });\n        var itemGroup = this.addGroup(itemContainerGroup, {\n            id: this.getElementId('item-group'),\n            name: 'legend-item-group',\n        });\n        var itemHeight = this.getItemHeight();\n        var itemWidth = this.get('itemWidth');\n        var itemSpacing = this.get('itemSpacing');\n        var currentPoint = this.get('currentPoint');\n        var startX = currentPoint.x;\n        var startY = currentPoint.y;\n        var layout = this.get('layout');\n        var items = this.get('items');\n        var wrapped = false;\n        var pageWidth = 0;\n        var maxWidth = this.get('maxWidth'); // 最大宽度，会导致 layout : 'horizontal' 时自动换行\n        var maxHeight = this.get('maxHeight'); // 最大高度，会导致出现分页\n        // 暂时不考虑分页\n        each(items, function (item, index) {\n            var subGroup = _this.drawItem(item, index, itemHeight, itemGroup);\n            var bbox = subGroup.getBBox();\n            var width = itemWidth || bbox.width;\n            if (width > pageWidth) {\n                pageWidth = width;\n            }\n            if (layout === 'horizontal') {\n                // 如果水平布局\n                if (maxWidth && maxWidth < currentPoint.x + width - startX) {\n                    // 检测是否换行\n                    wrapped = true;\n                    currentPoint.x = startX;\n                    currentPoint.y += itemHeight;\n                }\n                _this.moveElementTo(subGroup, currentPoint);\n                currentPoint.x += width + itemSpacing;\n            }\n            else {\n                // 如果垂直布局\n                if (maxHeight && maxHeight < currentPoint.y + itemHeight - startY) {\n                    // 换行\n                    wrapped = true;\n                    currentPoint.x += pageWidth + itemSpacing;\n                    currentPoint.y = startY;\n                    pageWidth = 0;\n                }\n                _this.moveElementTo(subGroup, currentPoint);\n                currentPoint.y += itemHeight; // itemSpacing 仅影响水平间距\n            }\n        });\n        if (wrapped && this.get('flipPage')) {\n            this.pageHeight = 0;\n            this.pageWidth = 0;\n            this.totalPagesCnt = 1;\n            this.startX = startX;\n            this.startY = startY;\n            this.adjustNavigation(group, itemGroup);\n        }\n    };\n    // 获取图例项的高度，如果未定义，则按照 name 的高度计算\n    Category.prototype.getItemHeight = function () {\n        var itemHeight = this.get('itemHeight');\n        if (!itemHeight) {\n            var nameCfg = this.get('itemName');\n            if (nameCfg) {\n                itemHeight = nameCfg.style.fontSize + 8;\n            }\n        }\n        return itemHeight;\n    };\n    // 绘制 marker\n    Category.prototype.drawMarker = function (container, markerCfg, item, itemHeight) {\n        var markerAttrs = __assign(__assign(__assign({ x: 0, y: itemHeight / 2 }, markerCfg.style), { symbol: get(item.marker, 'symbol', 'circle') }), get(item.marker, 'style', {}));\n        var shape = this.addShape(container, {\n            type: 'marker',\n            id: this.getElementId(\"item-\" + item.id + \"-marker\"),\n            name: 'legend-item-marker',\n            attrs: markerAttrs,\n        });\n        var bbox = shape.getBBox();\n        shape.attr('x', bbox.width / 2); // marker 需要左对齐，所以不能占用左侧的空间\n        var _a = shape.attr(), stroke = _a.stroke, fill = _a.fill;\n        if (stroke) {\n            shape.set('isStroke', true);\n        }\n        if (fill) {\n            shape.set('isFill', true);\n        }\n        return shape;\n    };\n    // 绘制文本\n    Category.prototype.drawItemText = function (container, textName, cfg, item, itemHeight, xPosition, index) {\n        var formatter = cfg.formatter;\n        var attrs = __assign({ x: xPosition, y: itemHeight / 2, text: formatter ? formatter(item[textName], item, index) : item[textName] }, cfg.style);\n        return this.addShape(container, {\n            type: 'text',\n            id: this.getElementId(\"item-\" + item.id + \"-\" + textName),\n            name: \"legend-item-\" + textName,\n            attrs: attrs,\n        });\n    };\n    // 绘制图例项\n    Category.prototype.drawItem = function (item, index, itemHeight, itemGroup) {\n        var groupId = \"item-\" + item.id;\n        var subGroup = this.addGroup(itemGroup, {\n            name: 'legend-item',\n            id: this.getElementId(groupId),\n            delegateObject: {\n                item: item,\n                index: index,\n            },\n        });\n        var marker = this.get('marker');\n        var itemName = this.get('itemName');\n        var itemValue = this.get('itemValue');\n        var itemBackground = this.get('itemBackground');\n        var curX = 0; // 记录当前 x 的位置\n        if (marker) {\n            var markerShape = this.drawMarker(subGroup, marker, item, itemHeight);\n            curX = markerShape.getBBox().maxX + marker.spacing;\n        }\n        if (itemName) {\n            var nameShape = this.drawItemText(subGroup, 'name', itemName, item, itemHeight, curX, index);\n            curX = nameShape.getBBox().maxX + itemName.spacing;\n        }\n        if (itemValue) {\n            var valueShape = this.drawItemText(subGroup, 'value', itemValue, item, itemHeight, curX, index);\n            var itemWidth = this.get('itemWidth');\n            if (itemWidth && itemValue.alignRight) {\n                // 当文本右对齐，同时制定了列宽度时，调整文本位置和对齐方式\n                valueShape.attr({\n                    textAlign: 'right',\n                    x: itemWidth,\n                });\n            } // 如果考虑 value 和 name 的覆盖，这个地方需要做文本自动省略的功能\n        }\n        // 添加透明的背景，便于拾取和包围盒计算\n        if (itemBackground) {\n            var bbox = subGroup.getBBox();\n            var backShape = this.addShape(subGroup, {\n                type: 'rect',\n                name: 'legend-item-background',\n                id: this.getElementId(groupId + \"-background\"),\n                attrs: __assign({ x: 0, y: 0, width: bbox.width, height: itemHeight }, itemBackground.style),\n            });\n            backShape.toBack();\n        }\n        this.applyItemStates(item, subGroup);\n        return subGroup;\n    };\n    // 加上分页器并重新排序 items\n    Category.prototype.adjustNavigation = function (container, itemGroup) {\n        var _this = this;\n        var startX = this.startX;\n        var startY = this.startY;\n        var layout = this.get('layout');\n        var subGroups = itemGroup.findAll(function (item) { return item.get('name') === 'legend-item'; });\n        var maxWidth = this.get('maxWidth');\n        var maxHeight = this.get('maxHeight');\n        var itemWidth = this.get('itemWidth');\n        var itemSpacing = this.get('itemSpacing');\n        var itemHeight = this.getItemHeight();\n        var navigation = this.drawNavigation(container, layout, '00/00', 12);\n        var navigationBBox = navigation.getBBox();\n        var currentPoint = { x: startX, y: startY };\n        var pages = 1;\n        var widthLimit = 0;\n        var pageWidth = 0;\n        var maxItemWidth = 0;\n        if (layout === 'horizontal') {\n            this.pageHeight = itemHeight;\n            each(subGroups, function (item) {\n                var bbox = item.getBBox();\n                var width = itemWidth || bbox.width;\n                if ((widthLimit && widthLimit < currentPoint.x + width + itemSpacing) ||\n                    maxWidth < currentPoint.x + width + itemSpacing + navigationBBox.width) {\n                    if (pages === 1) {\n                        widthLimit = currentPoint.x + itemSpacing;\n                        _this.pageWidth = widthLimit;\n                        _this.moveElementTo(navigation, {\n                            x: maxWidth - itemSpacing - navigationBBox.width - navigationBBox.minX,\n                            y: currentPoint.y + itemHeight / 2 - navigationBBox.height / 2 - navigationBBox.minY,\n                        });\n                    }\n                    pages += 1;\n                    currentPoint.x = startX;\n                    currentPoint.y += itemHeight;\n                }\n                _this.moveElementTo(item, currentPoint);\n                currentPoint.x += width + itemSpacing;\n            });\n        }\n        else {\n            each(subGroups, function (item) {\n                var bbox = item.getBBox();\n                if (bbox.width > pageWidth) {\n                    pageWidth = bbox.width;\n                }\n            });\n            maxItemWidth = pageWidth;\n            pageWidth += itemSpacing;\n            if (maxWidth) {\n                // maxWidth 限制加上\n                pageWidth = Math.min(maxWidth, pageWidth);\n                maxItemWidth = Math.min(maxWidth, maxItemWidth);\n            }\n            this.pageWidth = pageWidth;\n            this.pageHeight = maxHeight - Math.max(navigationBBox.height, itemHeight);\n            var cntPerPage_1 = Math.floor(this.pageHeight / itemHeight);\n            each(subGroups, function (item, index) {\n                if (index !== 0 && index % cntPerPage_1 === 0) {\n                    pages += 1;\n                    currentPoint.x += pageWidth;\n                    currentPoint.y = startY;\n                }\n                _this.moveElementTo(item, currentPoint);\n                // item.setClip({\n                //   type: 'rect',\n                //   attrs: {\n                //     x: currentPoint.x,\n                //     y: currentPoint.y,\n                //     width: pageWidth,\n                //     height: itemHeight,\n                //   },\n                // });\n                currentPoint.y += itemHeight;\n            });\n            this.totalPagesCnt = pages;\n            this.moveElementTo(navigation, {\n                x: startX + maxItemWidth / 2 - navigationBBox.width / 2 - navigationBBox.minX,\n                y: maxHeight - navigationBBox.height - navigationBBox.minY,\n            });\n        }\n        if (this.pageHeight && this.pageWidth) {\n            // 为了使固定的 clip 生效，clip 设置在 itemContainerGroup 上，itemGroup 需要在翻页时会设置 matrix\n            itemGroup.getParent().setClip({\n                type: 'rect',\n                attrs: {\n                    x: this.startX,\n                    y: this.startY,\n                    width: this.pageWidth,\n                    height: this.pageHeight,\n                },\n            });\n        }\n        this.totalPagesCnt = pages;\n        if (this.currentPageIndex > this.totalPagesCnt) {\n            this.currentPageIndex = 1;\n        }\n        this.updateNavigation(navigation);\n        // update initial matrix\n        itemGroup.attr('matrix', this.getCurrentNavigationMatrix());\n    };\n    Category.prototype.drawNavigation = function (group, layout, text, size) {\n        var currentPoint = { x: 0, y: 0 };\n        var subGroup = this.addGroup(group, {\n            id: this.getElementId('navigation-group'),\n            name: 'legend-navigation',\n        });\n        var leftArrow = this.drawArrow(subGroup, currentPoint, 'navigation-arrow-left', layout === 'horizontal' ? 'up' : 'left', size);\n        leftArrow.on('click', this.onNavigationBack);\n        var leftArrowBBox = leftArrow.getBBox();\n        currentPoint.x += leftArrowBBox.width + 2;\n        var textShape = this.addShape(subGroup, {\n            type: 'text',\n            id: this.getElementId('navigation-text'),\n            name: 'navigation-text',\n            attrs: {\n                x: currentPoint.x,\n                y: currentPoint.y + size / 2,\n                text: text,\n                fontSize: 12,\n                fill: '#ccc',\n                textBaseline: 'middle',\n            },\n        });\n        var textBBox = textShape.getBBox();\n        currentPoint.x += textBBox.width + 2;\n        var rightArrow = this.drawArrow(subGroup, currentPoint, 'navigation-arrow-right', layout === 'horizontal' ? 'down' : 'right', size);\n        rightArrow.on('click', this.onNavigationAfter);\n        return subGroup;\n    };\n    Category.prototype.updateNavigation = function (navigation) {\n        var text = this.currentPageIndex + \"/\" + this.totalPagesCnt;\n        var textShape = navigation ? navigation.getChildren()[1] : this.getElementByLocalId('navigation-text');\n        var leftArrow = navigation\n            ? navigation.findById(this.getElementId('navigation-arrow-left'))\n            : this.getElementByLocalId('navigation-arrow-left');\n        var rightArrow = navigation\n            ? navigation.findById(this.getElementId('navigation-arrow-right'))\n            : this.getElementByLocalId('navigation-arrow-right');\n        var origBBox = textShape.getBBox();\n        textShape.attr('text', text);\n        var newBBox = textShape.getBBox();\n        textShape.attr('x', textShape.attr('x') - (newBBox.width - origBBox.width) / 2);\n        leftArrow.attr('opacity', this.currentPageIndex === 1 ? 0.45 : 1);\n        leftArrow.attr('cursor', this.currentPageIndex === 1 ? 'not-allowed' : 'pointer');\n        rightArrow.attr('opacity', this.currentPageIndex === this.totalPagesCnt ? 0.45 : 1);\n        rightArrow.attr('cursor', this.currentPageIndex === this.totalPagesCnt ? 'not-allowed' : 'pointer');\n    };\n    Category.prototype.drawArrow = function (group, currentPoint, name, direction, size) {\n        var x = currentPoint.x, y = currentPoint.y;\n        var rotateMap = {\n            right: (90 * Math.PI) / 180,\n            left: ((360 - 90) * Math.PI) / 180,\n            up: 0,\n            down: (180 * Math.PI) / 180,\n        };\n        var shape = this.addShape(group, {\n            type: 'path',\n            id: this.getElementId(name),\n            name: name,\n            attrs: {\n                path: [['M', x + size / 2, y], ['L', x, y + size], ['L', x + size, y + size], ['Z']],\n                fill: '#000',\n                cursor: 'pointer',\n            },\n        });\n        shape.attr('matrix', getMatrixByAngle({ x: x + size / 2, y: y + size / 2 }, rotateMap[direction]));\n        return shape;\n    };\n    Category.prototype.getCurrentNavigationMatrix = function () {\n        var _a = this, currentPageIndex = _a.currentPageIndex, pageWidth = _a.pageWidth, pageHeight = _a.pageHeight;\n        var layout = this.get('layout');\n        var translate = layout === 'horizontal'\n            ? {\n                x: 0,\n                y: pageHeight * (1 - currentPageIndex),\n            }\n            : {\n                x: pageWidth * (1 - currentPageIndex),\n                y: 0,\n            };\n        return getMatrixByTranslate(translate);\n    };\n    // 附加状态对应的样式\n    Category.prototype.applyItemStates = function (item, subGroup) {\n        var states = this.getItemStates(item);\n        var hasStates = states.length > 0;\n        if (hasStates) {\n            var children = subGroup.getChildren();\n            var itemStates_1 = this.get('itemStates');\n            each(children, function (element) {\n                var name = element.get('name');\n                var elName = name.split('-')[2]; // marker, name, value\n                var statesStyle = getStatesStyle(item, elName, itemStates_1);\n                if (statesStyle) {\n                    element.attr(statesStyle);\n                    if (elName === 'marker' && !(element.get('isStroke') && element.get('isFill'))) {\n                        // 如果 marker 是单填充或者单描边的话，就不要额外添加 stroke 或这 fill 属性，否则会影响 unchecked 后的显示\n                        if (element.get('isStroke')) {\n                            element.attr('fill', null);\n                        }\n                        if (element.get('isFill')) {\n                            element.attr('stroke', null);\n                        }\n                    }\n                }\n            });\n        }\n    };\n    return Category;\n}(LegendBase));\nexport default Category;\n//# sourceMappingURL=category.js.map","import { __assign, __extends } from \"tslib\";\nimport { clone, mix, upperFirst } from '@antv/util';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\nimport LegendBase from './base';\nvar HANDLER_HEIGHT_RATIO = 1.4;\nvar HANDLER_TRIANGLE_RATIO = 0.4;\nvar ContinueLegend = /** @class */ (function (_super) {\n    __extends(ContinueLegend, _super);\n    function ContinueLegend() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ContinueLegend.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'continue', min: 0, max: 100, value: null, colors: [], track: {}, rail: {}, label: {}, handler: {}, slidable: true, tip: null, step: null, maxWidth: null, maxHeight: null, defaultCfg: {\n                label: {\n                    align: 'rail',\n                    spacing: 5,\n                    formatter: null,\n                    style: {\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n                handler: {\n                    size: 10,\n                    style: {\n                        fill: '#fff',\n                        stroke: '#333',\n                    },\n                },\n                track: {},\n                rail: {\n                    type: 'color',\n                    size: 20,\n                    defaultLength: 100,\n                    style: {\n                        fill: '#DCDEE2',\n                    },\n                },\n                title: {\n                    spacing: 5,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'top',\n                    },\n                },\n            } });\n    };\n    ContinueLegend.prototype.isSlider = function () {\n        return true;\n    };\n    // 实现 IList 接口\n    ContinueLegend.prototype.getValue = function () {\n        return this.getCurrentValue();\n    };\n    ContinueLegend.prototype.getRange = function () {\n        return {\n            min: this.get('min'),\n            max: this.get('max'),\n        };\n    };\n    // 改变 range\n    ContinueLegend.prototype.setRange = function (min, max) {\n        this.update({\n            min: min,\n            max: max,\n        });\n    };\n    ContinueLegend.prototype.setValue = function (value) {\n        var originValue = this.getValue();\n        this.set('value', value);\n        var group = this.get('group');\n        this.resetTrackClip();\n        if (this.get('slidable')) {\n            this.resetHandlers(group);\n        }\n        this.delegateEmit('valuechanged', {\n            originValue: originValue,\n            value: value,\n        });\n    };\n    ContinueLegend.prototype.initEvent = function () {\n        var group = this.get('group');\n        this.bindSliderEvent(group);\n        this.bindRailEvent(group);\n        this.bindTrackEvent(group);\n    };\n    ContinueLegend.prototype.drawLegendContent = function (group) {\n        this.drawRail(group);\n        this.drawLabels(group);\n        this.fixedElements(group); // 调整各个图形位置，适应宽高的限制\n        this.resetTrack(group);\n        this.resetTrackClip(group);\n        if (this.get('slidable')) {\n            this.resetHandlers(group);\n        }\n    };\n    ContinueLegend.prototype.bindSliderEvent = function (group) {\n        this.bindHandlersEvent(group);\n    };\n    ContinueLegend.prototype.bindHandlersEvent = function (group) {\n        var _this = this;\n        group.on('legend-handler-min:drag', function (ev) {\n            var minValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n            var currentValue = _this.getCurrentValue();\n            var maxValue = currentValue[1];\n            if (maxValue < minValue) {\n                // 如果小于最小值，则调整最小值\n                maxValue = minValue;\n            }\n            _this.setValue([minValue, maxValue]);\n        });\n        group.on('legend-handler-max:drag', function (ev) {\n            var maxValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n            var currentValue = _this.getCurrentValue();\n            var minValue = currentValue[0];\n            if (minValue > maxValue) {\n                // 如果小于最小值，则调整最小值\n                minValue = maxValue;\n            }\n            _this.setValue([minValue, maxValue]);\n        });\n    };\n    ContinueLegend.prototype.bindRailEvent = function (group) { };\n    ContinueLegend.prototype.bindTrackEvent = function (group) {\n        var _this = this;\n        var prePoint = null;\n        group.on('legend-track:dragstart', function (ev) {\n            prePoint = {\n                x: ev.x,\n                y: ev.y\n            };\n        });\n        group.on('legend-track:drag', function (ev) {\n            if (!prePoint) {\n                return;\n            }\n            var preValue = _this.getValueByCanvasPoint(prePoint.x, prePoint.y);\n            var curValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n            var currentValue = _this.getCurrentValue();\n            var curDiff = currentValue[1] - currentValue[0];\n            var range = _this.getRange();\n            var dValue = curValue - preValue;\n            if (dValue < 0) { // 减小, 同时未出边界 \n                if (currentValue[0] + dValue > range.min) {\n                    _this.setValue([currentValue[0] + dValue, currentValue[1] + dValue]);\n                }\n                else {\n                    _this.setValue([range.min, range.min + curDiff]);\n                }\n                //  && || \n            }\n            else if (dValue > 0) {\n                if ((dValue > 0 && currentValue[1] + dValue < range.max)) {\n                    _this.setValue([currentValue[0] + dValue, currentValue[1] + dValue]);\n                }\n                else {\n                    _this.setValue([range.max - curDiff, range.max]);\n                }\n            }\n            prePoint = {\n                x: ev.x,\n                y: ev.y\n            };\n        });\n        group.on('legend-track:dragend', function (ev) {\n            prePoint = null;\n        });\n    };\n    ContinueLegend.prototype.drawLabels = function (group) {\n        this.drawLabel('min', group);\n        this.drawLabel('max', group);\n    };\n    ContinueLegend.prototype.drawLabel = function (name, group) {\n        var labelCfg = this.get('label');\n        var style = labelCfg.style;\n        var labelAlign = labelCfg.align;\n        var value = this.get(name);\n        var alignAttrs = this.getLabelAlignAttrs(name, labelAlign);\n        var localId = \"label-\" + name;\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId(localId),\n            name: \"legend-label-\" + name,\n            attrs: __assign(__assign({ x: 0, y: 0, text: value }, style), alignAttrs),\n        });\n    };\n    // 获取文本的对齐方式，为了自适应真实操碎了心\n    ContinueLegend.prototype.getLabelAlignAttrs = function (name, align) {\n        var isVertical = this.isVertical();\n        var textAlign = 'center';\n        var textBaseline = 'middle';\n        if (isVertical) {\n            // 垂直布局的所有的文本都左对齐\n            textAlign = 'start';\n            if (align !== 'rail') {\n                if (name === 'min') {\n                    textBaseline = 'top';\n                }\n                else {\n                    textBaseline = 'bottom';\n                }\n            }\n            else {\n                textBaseline = 'top';\n            }\n        }\n        else {\n            if (align !== 'rail') {\n                textBaseline = 'top';\n                if (name === 'min') {\n                    textAlign = 'start';\n                }\n                else {\n                    textAlign = 'end';\n                }\n            }\n            else {\n                textAlign = 'start';\n                textBaseline = 'middle';\n            }\n        }\n        return {\n            textAlign: textAlign,\n            textBaseline: textBaseline,\n        };\n    };\n    ContinueLegend.prototype.getRailPath = function (x, y, w, h) {\n        var railCfg = this.get('rail');\n        var size = railCfg.size, defaultLength = railCfg.defaultLength, type = railCfg.type;\n        var isVertical = this.isVertical();\n        var length = defaultLength;\n        var width = w;\n        var height = h;\n        if (!width) {\n            width = isVertical ? size : length;\n        }\n        if (!height) {\n            height = isVertical ? length : size;\n        }\n        var path = [];\n        if (type === 'color') {\n            path.push(['M', x, y]);\n            path.push(['L', x + width, y]);\n            path.push(['L', x + width, y + height]);\n            path.push(['L', x, y + height]);\n            path.push(['Z']);\n        }\n        else {\n            path.push(['M', x + width, y]);\n            path.push(['L', x + width, y + height]);\n            path.push(['L', x, y + height]);\n            path.push(['Z']);\n        }\n        return path;\n    };\n    ContinueLegend.prototype.drawRail = function (group) {\n        var railCfg = this.get('rail');\n        var style = railCfg.style;\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('rail'),\n            name: 'legend-rail',\n            attrs: __assign({ path: this.getRailPath(0, 0) }, style),\n        });\n    };\n    // 将传入的颜色转换成渐变色\n    ContinueLegend.prototype.getTrackColor = function (colors) {\n        var count = colors.length;\n        if (!count) {\n            return null;\n        }\n        if (count === 1) {\n            return colors[0];\n        }\n        var color; // 最终形态 l(0) 0:colors[0] 0.5:colors[1] 1:colors[2];\n        if (this.isVertical()) {\n            // 根据方向设置渐变方向\n            color = 'l(90)';\n        }\n        else {\n            color = 'l(0)';\n        }\n        for (var i = 0; i < count; i++) {\n            var percent = i / (count - 1);\n            color += \" \" + percent + \":\" + colors[i];\n        }\n        return color;\n    };\n    ContinueLegend.prototype.getTrackPath = function (group) {\n        var railShape = this.getRailShape(group);\n        var path = railShape.attr('path');\n        return clone(path);\n    };\n    ContinueLegend.prototype.getClipTrackAttrs = function (group) {\n        var value = this.getCurrentValue();\n        var min = value[0], max = value[1];\n        var railBBox = this.getRailBBox(group);\n        var startPoint = this.getPointByValue(min, group);\n        var endPoint = this.getPointByValue(max, group);\n        var isVertical = this.isVertical();\n        var x;\n        var y;\n        var width;\n        var height;\n        if (isVertical) {\n            x = railBBox.minX;\n            y = startPoint.y;\n            width = railBBox.width;\n            height = endPoint.y - startPoint.y;\n        }\n        else {\n            x = startPoint.x;\n            y = railBBox.minY;\n            width = endPoint.x - startPoint.x;\n            height = railBBox.height;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    };\n    // 获取 track 的属性，由 path 和 颜色构成\n    ContinueLegend.prototype.getTrackAttrs = function (group) {\n        var trackCfg = this.get('track');\n        var colors = this.get('colors');\n        var path = this.getTrackPath(group);\n        return mix({\n            path: path,\n            fill: this.getTrackColor(colors),\n        }, trackCfg.style);\n    };\n    ContinueLegend.prototype.resetTrackClip = function (group) {\n        var container = group || this.get('group');\n        var trackId = this.getElementId('track');\n        var trackShape = container.findById(trackId);\n        var clipShape = trackShape.getClip();\n        var attrs = this.getClipTrackAttrs(group);\n        if (!clipShape) {\n            trackShape.setClip({\n                type: 'rect',\n                attrs: attrs,\n            });\n        }\n        else {\n            clipShape.attr(attrs);\n        }\n    };\n    ContinueLegend.prototype.resetTrack = function (group) {\n        var trackId = this.getElementId('track');\n        var trackShape = group.findById(trackId);\n        var trackAttrs = this.getTrackAttrs(group);\n        if (trackShape) {\n            trackShape.attr(trackAttrs);\n        }\n        else {\n            this.addShape(group, {\n                type: 'path',\n                id: trackId,\n                draggable: this.get('slidable'),\n                name: 'legend-track',\n                attrs: trackAttrs,\n            });\n        }\n    };\n    ContinueLegend.prototype.getPointByValue = function (value, group) {\n        var _a = this.getRange(), min = _a.min, max = _a.max;\n        var percent = (value - min) / (max - min);\n        var bbox = this.getRailBBox(group);\n        var isVertcal = this.isVertical();\n        var point = { x: 0, y: 0 };\n        if (isVertcal) {\n            point.x = bbox.minX + bbox.width / 2;\n            point.y = getValueByPercent(bbox.minY, bbox.maxY, percent);\n        }\n        else {\n            point.x = getValueByPercent(bbox.minX, bbox.maxX, percent);\n            point.y = bbox.minY + bbox.height / 2;\n        }\n        return point;\n    };\n    ContinueLegend.prototype.getRailShape = function (group) {\n        var container = group || this.get('group');\n        return container.findById(this.getElementId('rail'));\n    };\n    // 获取滑轨的宽高信息\n    ContinueLegend.prototype.getRailBBox = function (group) {\n        var railShape = this.getRailShape(group);\n        var bbox = railShape.getBBox();\n        return bbox;\n    };\n    ContinueLegend.prototype.getRailCanvasBBox = function () {\n        var container = this.get('group');\n        var railShape = container.findById(this.getElementId('rail'));\n        var bbox = railShape.getCanvasBBox();\n        return bbox;\n    };\n    // 是否垂直\n    ContinueLegend.prototype.isVertical = function () {\n        return this.get('layout') === 'vertical';\n    };\n    // 用于交互时\n    ContinueLegend.prototype.getValueByCanvasPoint = function (x, y) {\n        var _a = this.getRange(), min = _a.min, max = _a.max;\n        var bbox = this.getRailCanvasBBox(); // 因为 x, y 是画布坐标\n        var isVertcal = this.isVertical();\n        var step = this.get('step');\n        var percent;\n        if (isVertcal) {\n            // 垂直时计算 y\n            percent = (y - bbox.minY) / bbox.height;\n        }\n        else {\n            // 水平时计算 x\n            percent = (x - bbox.minX) / bbox.width;\n        }\n        var value = getValueByPercent(min, max, percent);\n        if (step) {\n            var count = Math.round((value - min) / step);\n            value = min + count * step; // 移动到最近的\n        }\n        if (value > max) {\n            value = max;\n        }\n        if (value < min) {\n            value = min;\n        }\n        return value;\n    };\n    // 当前选中的范围\n    ContinueLegend.prototype.getCurrentValue = function () {\n        var value = this.get('value');\n        if (!value) {\n            // 如果没有定义，取最大范围\n            value = [this.get('min'), this.get('max')];\n        }\n        return value;\n    };\n    // 重置滑块 handler\n    ContinueLegend.prototype.resetHandlers = function (group) {\n        var currentValue = this.getCurrentValue();\n        var min = currentValue[0], max = currentValue[1];\n        this.resetHandler(group, 'min', min);\n        this.resetHandler(group, 'max', max);\n    };\n    // 获取滑块的 path\n    ContinueLegend.prototype.getHandlerPath = function (handlerCfg, point) {\n        var isVertical = this.isVertical();\n        var path = [];\n        var width = handlerCfg.size;\n        var x = point.x, y = point.y;\n        var height = width * HANDLER_HEIGHT_RATIO;\n        var halfWidth = width / 2;\n        var oneSixthWidth = width / 6;\n        if (isVertical) {\n            /**\n             * 竖直情况下的滑块 handler，左侧顶点是 x,y\n             *  /----|\n             *    -- |\n             *    -- |\n             *  \\----|\n             */\n            var triangleX = x + height * HANDLER_TRIANGLE_RATIO;\n            path.push(['M', x, y]);\n            path.push(['L', triangleX, y + halfWidth]);\n            path.push(['L', x + height, y + halfWidth]);\n            path.push(['L', x + height, y - halfWidth]);\n            path.push(['L', triangleX, y - halfWidth]);\n            path.push(['Z']);\n            // 绘制两条横线\n            path.push(['M', triangleX, y + oneSixthWidth]);\n            path.push(['L', x + height - 2, y + oneSixthWidth]);\n            path.push(['M', triangleX, y - oneSixthWidth]);\n            path.push(['L', x + height - 2, y - oneSixthWidth]);\n        }\n        else {\n            /**\n             * 水平情况下的滑块，上面顶点处是 x,y\n             *  /   \\\n             * | | | |\n             * | | | |\n             *  -----\n             */\n            var triangleY = y + height * HANDLER_TRIANGLE_RATIO;\n            path.push(['M', x, y]);\n            path.push(['L', x - halfWidth, triangleY]);\n            path.push(['L', x - halfWidth, y + height]);\n            path.push(['L', x + halfWidth, y + height]);\n            path.push(['L', x + halfWidth, triangleY]);\n            path.push(['Z']);\n            // 绘制两条竖线\n            path.push(['M', x - oneSixthWidth, triangleY]);\n            path.push(['L', x - oneSixthWidth, y + height - 2]);\n            path.push(['M', x + oneSixthWidth, triangleY]);\n            path.push(['L', x + oneSixthWidth, y + height - 2]);\n        }\n        return path;\n    };\n    // 调整 handler 的位置，如果未存在则绘制\n    ContinueLegend.prototype.resetHandler = function (group, name, value) {\n        var point = this.getPointByValue(value, group);\n        var handlerCfg = this.get('handler');\n        var path = this.getHandlerPath(handlerCfg, point);\n        var id = this.getElementId(\"handler-\" + name);\n        var handlerShape = group.findById(id);\n        var isVertical = this.isVertical();\n        if (handlerShape) {\n            handlerShape.attr('path', path);\n        }\n        else {\n            this.addShape(group, {\n                type: 'path',\n                name: \"legend-handler-\" + name,\n                draggable: true,\n                id: id,\n                attrs: __assign(__assign({ path: path }, handlerCfg.style), { cursor: isVertical ? 'ns-resize' : 'ew-resize' }),\n            });\n        }\n    };\n    // 当设置了 maxWidth, maxHeight 时调整 rail 的宽度，\n    // 文本的位置\n    ContinueLegend.prototype.fixedElements = function (group) {\n        var railShape = group.findById(this.getElementId('rail'));\n        var minLabel = group.findById(this.getElementId('label-min'));\n        var maxLabel = group.findById(this.getElementId('label-max'));\n        var startPoint = this.getDrawPoint();\n        if (this.isVertical()) {\n            // 横向布局\n            this.fixedVertail(minLabel, maxLabel, railShape, startPoint);\n        }\n        else {\n            // 水平布局\n            this.fixedHorizontal(minLabel, maxLabel, railShape, startPoint);\n        }\n    };\n    ContinueLegend.prototype.fitRailLength = function (minLabelBBox, maxLabelBBox, railBBox, railShape) {\n        var isVertical = this.isVertical();\n        var lengthField = isVertical ? 'height' : 'width';\n        var labelCfg = this.get('label');\n        var labelAlign = labelCfg.align;\n        var spacing = labelCfg.spacing;\n        var maxLength = this.get(\"max\" + upperFirst(lengthField)); // get('maxWidth')\n        if (maxLength) {\n            var elementsLength = labelAlign === 'rail'\n                ? railBBox[lengthField] + minLabelBBox[lengthField] + maxLabelBBox[lengthField] + spacing * 2\n                : railBBox[lengthField];\n            var diff = elementsLength - maxLength;\n            if (diff > 0) {\n                // 大于限制的长度\n                this.changeRailLength(railShape, lengthField, railBBox[lengthField] - diff);\n            }\n        }\n    };\n    ContinueLegend.prototype.changeRailLength = function (railShape, lengthField, length) {\n        var bbox = railShape.getBBox();\n        var path;\n        if (lengthField === 'height') {\n            path = this.getRailPath(bbox.x, bbox.y, bbox.width, length);\n        }\n        else {\n            path = this.getRailPath(bbox.x, bbox.y, length, bbox.height);\n        }\n        railShape.attr('path', path);\n    };\n    ContinueLegend.prototype.changeRailPosition = function (railShape, x, y) {\n        var bbox = railShape.getBBox();\n        var path = this.getRailPath(x, y, bbox.width, bbox.height);\n        railShape.attr('path', path);\n    };\n    ContinueLegend.prototype.fixedHorizontal = function (minLabel, maxLabel, railShape, startPoint) {\n        var labelCfg = this.get('label');\n        var labelAlign = labelCfg.align;\n        var spacing = labelCfg.spacing;\n        var railBBox = railShape.getBBox();\n        var minLabelBBox = minLabel.getBBox();\n        var maxLabelBBox = maxLabel.getBBox();\n        var railHeight = railBBox.height; // 取 rail 的高度，作为高度\n        this.fitRailLength(minLabelBBox, maxLabelBBox, railBBox, railShape);\n        railBBox = railShape.getBBox();\n        if (labelAlign === 'rail') {\n            // 沿着 rail 方向\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + railHeight / 2,\n            });\n            this.changeRailPosition(railShape, startPoint.x + minLabelBBox.width + spacing, startPoint.y);\n            maxLabel.attr({\n                x: startPoint.x + minLabelBBox.width + railBBox.width + spacing * 2,\n                y: startPoint.y + railHeight / 2,\n            });\n        }\n        else if (labelAlign === 'top') {\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y,\n            });\n            maxLabel.attr({\n                x: startPoint.x + railBBox.width,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y + minLabelBBox.height + spacing);\n        }\n        else {\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y);\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + railBBox.height + spacing,\n            });\n            maxLabel.attr({\n                x: startPoint.x + railBBox.width,\n                y: startPoint.y + railBBox.height + spacing,\n            });\n        }\n    };\n    ContinueLegend.prototype.fixedVertail = function (minLabel, maxLabel, railShape, startPoint) {\n        var labelCfg = this.get('label');\n        var labelAlign = labelCfg.align;\n        var spacing = labelCfg.spacing;\n        var railBBox = railShape.getBBox();\n        var minLabelBBox = minLabel.getBBox();\n        var maxLabelBBox = maxLabel.getBBox();\n        this.fitRailLength(minLabelBBox, maxLabelBBox, railBBox, railShape);\n        railBBox = railShape.getBBox();\n        if (labelAlign === 'rail') {\n            // 沿着 rail 方向\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y + minLabelBBox.height + spacing);\n            maxLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + minLabelBBox.height + railBBox.height + spacing * 2,\n            });\n        }\n        else if (labelAlign === 'right') {\n            minLabel.attr({\n                x: startPoint.x + railBBox.width + spacing,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y);\n            maxLabel.attr({\n                x: startPoint.x + railBBox.width + spacing,\n                y: startPoint.y + railBBox.height,\n            });\n        }\n        else {\n            // left\n            var maxLabelWidth = Math.max(minLabelBBox.width, maxLabelBBox.width);\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x + maxLabelWidth + spacing, startPoint.y);\n            maxLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + railBBox.height,\n            });\n        }\n    };\n    return ContinueLegend;\n}(LegendBase));\nexport default ContinueLegend;\n//# sourceMappingURL=continuous.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar dom_util_1 = require(\"@antv/dom-util\");\nvar util_1 = require(\"@antv/util\");\nvar util_2 = require(\"../util/util\");\nvar component_1 = require(\"./component\");\nvar HtmlComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(HtmlComponent, _super);\n    function HtmlComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HtmlComponent.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return tslib_1.__assign(tslib_1.__assign({}, cfg), { container: null, containerTpl: '<div></div>', updateAutoRender: true, parent: null });\n        return cfg;\n    };\n    HtmlComponent.prototype.getContainer = function () {\n        return this.get('container');\n    };\n    /**\n     * 显示组件\n     */\n    HtmlComponent.prototype.show = function () {\n        var container = this.get('container');\n        container.style.display = '';\n    };\n    /**\n     * 隐藏组件\n     */\n    HtmlComponent.prototype.hide = function () {\n        var container = this.get('container');\n        container.style.display = 'none';\n    };\n    HtmlComponent.prototype.getBBox = function () {\n        var container = this.getContainer();\n        var x = parseFloat(container.style.left) || 0;\n        var y = parseFloat(container.style.top) || 0;\n        return util_2.createBBox(x, y, container.clientWidth, container.clientHeight);\n    };\n    HtmlComponent.prototype.clear = function () {\n        var container = this.get('container');\n        util_2.clearDom(container);\n    };\n    HtmlComponent.prototype.destroy = function () {\n        this.removeEvent();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 复写 init，主要是初始化 DOM 和事件\n     */\n    HtmlComponent.prototype.init = function () {\n        _super.prototype.init.call(this);\n        this.initContainer();\n        this.initEvent();\n        this.initVisible();\n    };\n    HtmlComponent.prototype.initVisible = function () {\n        if (!this.get('visible')) {\n            // 设置初始显示状态\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    };\n    HtmlComponent.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (util_1.isNil(container)) {\n            // 未指定 container 则创建\n            container = this.createDom();\n            var parent_1 = this.get('parent');\n            if (util_1.isString(parent_1)) {\n                parent_1 = document.getElementById(parent_1);\n                this.set('parent', parent_1);\n            }\n            parent_1.appendChild(container);\n            this.set('container', container);\n        }\n        else if (util_1.isString(container)) {\n            // 用户传入的 id, 作为 container\n            container = document.getElementById(container);\n            this.set('container', container);\n        } // else container 是 DOM\n        if (!this.get('parent')) {\n            this.set('parent', container.parentNode);\n        }\n    };\n    /**\n     * @protected\n     */\n    HtmlComponent.prototype.createDom = function () {\n        var containerTpl = this.get('containerTpl');\n        return dom_util_1.createDom(containerTpl);\n    };\n    /**\n     * @protected\n     * 初始化事件\n     */\n    HtmlComponent.prototype.initEvent = function () { };\n    /**\n     * @protected\n     * 清理 DOM\n     */\n    HtmlComponent.prototype.removeDom = function () {\n        var container = this.get('container');\n        container && container.parentNode.removeChild(container);\n    };\n    /**\n     * @protected\n     * 清理事件\n     */\n    HtmlComponent.prototype.removeEvent = function () { };\n    return HtmlComponent;\n}(component_1.default));\nexports.default = HtmlComponent;\n//# sourceMappingURL=html-component.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONTAINER_CLASS = 'g2-tooltip';\nexports.TITLE_CLASS = 'g2-tooltip-title';\nexports.LIST_CLASS = 'g2-tooltip-list';\nexports.LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nexports.MARKER_CLASS = 'g2-tooltip-marker';\nexports.VALUE_CLASS = 'g2-tooltip-value';\nexports.NAME_CLASS = 'g2-tooltip-name';\nexports.CROSSHAIR_X = 'g2-tooltip-crosshair-x';\nexports.CROSSHAIR_Y = 'g2-tooltip-crosshair-y';\n//# sourceMappingURL=css-const.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar theme_1 = require(\"../util/theme\");\n// tooltip 相关 dom 的 css 类名\nvar CssConst = require(\"./css-const\");\nexports.default = (_a = {},\n    // css style for tooltip\n    _a[\"\" + CssConst.CONTAINER_CLASS] = {\n        position: 'absolute',\n        visibility: 'visible',\n        // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n        // whiteSpace: 'nowrap',\n        zIndex: 8,\n        transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' +\n            'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' +\n            'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n        backgroundColor: 'rgba(255, 255, 255, 0.9)',\n        boxShadow: '0px 0px 10px #aeaeae',\n        borderRadius: '3px',\n        color: 'rgb(87, 87, 87)',\n        fontSize: '12px',\n        fontFamily: theme_1.default.fontFamily,\n        lineHeight: '20px',\n        padding: '10px 10px 6px 10px',\n    },\n    _a[\"\" + CssConst.TITLE_CLASS] = {\n        marginBottom: '4px',\n    },\n    _a[\"\" + CssConst.LIST_CLASS] = {\n        margin: 0,\n        listStyleType: 'none',\n        padding: 0,\n    },\n    _a[\"\" + CssConst.LIST_ITEM_CLASS] = {\n        listStyleType: 'none',\n        marginBottom: '4px',\n    },\n    _a[\"\" + CssConst.MARKER_CLASS] = {\n        width: '8px',\n        height: '8px',\n        borderRadius: '50%',\n        display: 'inline-block',\n        marginRight: '8px',\n    },\n    _a[\"\" + CssConst.VALUE_CLASS] = {\n        display: 'inline-block',\n        float: 'right',\n        marginLeft: '30px',\n    },\n    _a[\"\" + CssConst.CROSSHAIR_X] = {\n        position: 'absolute',\n        width: '1px',\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\n    },\n    _a[\"\" + CssConst.CROSSHAIR_Y] = {\n        position: 'absolute',\n        height: '1px',\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\n    },\n    _a);\n//# sourceMappingURL=html-theme.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar dom_util_1 = require(\"@antv/dom-util\");\nvar util_1 = require(\"@antv/util\");\nvar color_util_1 = require(\"@antv/color-util\");\nvar html_component_1 = require(\"../abstract/html-component\");\nvar util_2 = require(\"../util/util\");\nvar CssConst = require(\"./css-const\");\nvar html_theme_1 = require(\"./html-theme\");\nvar align_1 = require(\"../util/align\");\nfunction toPx(number) {\n    return number + \"px\";\n}\nfunction hasOneKey(obj, keys) {\n    var result = false;\n    util_1.each(keys, function (key) {\n        if (util_1.hasKey(obj, key)) {\n            result = true;\n            return false;\n        }\n    });\n    return result;\n}\nvar Tooltip = /** @class */ (function (_super) {\n    tslib_1.__extends(Tooltip, _super);\n    function Tooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Tooltip.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return tslib_1.__assign(tslib_1.__assign({}, cfg), { name: 'tooltip', type: 'html', x: 0, y: 0, items: [], containerTpl: \"<div class=\\\"\" + CssConst.CONTAINER_CLASS + \"\\\"><div class=\\\"\" + CssConst.TITLE_CLASS + \"\\\"></div><ul class=\\\"\" + CssConst.LIST_CLASS + \"\\\"></ul></div>\", itemTpl: \"<li class=\\\"\" + CssConst.LIST_ITEM_CLASS + \"\\\" data-index={index}>\\n          <span class=\\\"\" + CssConst.MARKER_CLASS + \"\\\" style=\\\"background:{color}\\\"></span>\\n          <span class=\\\"\" + CssConst.NAME_CLASS + \"\\\">{name}</span>:\\n          <span class=\\\"\" + CssConst.VALUE_CLASS + \"\\\">{value}</span>\\n        </li>\", xCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_X + \"\\\"></div>\", yCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_Y + \"\\\"></div>\", title: null, showTitle: true, \n            /**\n             * tooltip 限制的区域\n             * @type {Region}\n             */\n            region: null, \n            // crosshair 的限制区域\n            crosshairsRegion: null, \n            // x, y, xy\n            crosshairs: null, offset: 10, position: 'right', domStyles: null, defaultStyles: html_theme_1.default });\n        return cfg;\n    };\n    // tooltip 渲染时，渲染 title，items 和 corosshairs\n    Tooltip.prototype.render = function () {\n        this.resetTitle();\n        this.renderItems();\n        // 绘制完成后，再定位\n        this.resetPosition();\n    };\n    // 复写清空函数，因为有模板的存在，所以默认的写法不合适\n    Tooltip.prototype.clear = function () {\n        // 由于 crosshair 没有在 container 内，所以需要单独清理\n        this.clearCrosshairs();\n        this.setTitle(''); // 清空标题\n        this.clearItemDoms();\n    };\n    // 更新属性的同时，可能会引起 DOM 的变化，这里对可能引起 DOM 变化的场景做了处理\n    Tooltip.prototype.update = function (cfg) {\n        _super.prototype.update.call(this, cfg);\n        // 更新标题\n        if (hasOneKey(cfg, ['title', 'showTitle'])) {\n            this.resetTitle();\n        }\n        // 更新内容\n        if (util_1.hasKey(cfg, 'items')) {\n            this.renderItems();\n        }\n        // 更新样式\n        if (util_1.hasKey(cfg, 'domStyles')) {\n            this.resetStyles();\n            this.applyStyles();\n        }\n        // 只要属性发生变化，都调整一些位置\n        this.resetPosition();\n    };\n    Tooltip.prototype.show = function () {\n        var container = this.getContainer();\n        if (!container || this.destroyed) {\n            // 防止容器不存在或者被销毁时报错\n            return;\n        }\n        this.set('visible', true);\n        dom_util_1.modifyCSS(container, {\n            visibility: 'visible',\n        });\n        this.setCrossHairsVisible(true);\n    };\n    Tooltip.prototype.hide = function () {\n        var container = this.getContainer();\n        // relative: https://github.com/antvis/g2/issues/1221\n        if (!container || this.destroyed) {\n            return;\n        }\n        this.set('visible', false);\n        dom_util_1.modifyCSS(container, {\n            visibility: 'hidden',\n        });\n        this.setCrossHairsVisible(false);\n    };\n    // 实现 IPointLocation 的接口\n    Tooltip.prototype.getLocation = function () {\n        return { x: this.get('x'), y: this.get('y') };\n    };\n    // 实现 IPointLocation 的接口\n    Tooltip.prototype.setLocation = function (point) {\n        this.set('x', point.x);\n        this.set('y', point.y);\n        this.resetPosition();\n    };\n    Tooltip.prototype.setCrossHairsVisible = function (visible) {\n        var display = visible ? '' : 'none';\n        var xCrosshairDom = this.get('xCrosshairDom');\n        var yCrosshairDom = this.get('yCrosshairDom');\n        xCrosshairDom &&\n            dom_util_1.modifyCSS(xCrosshairDom, {\n                display: display,\n            });\n        yCrosshairDom &&\n            dom_util_1.modifyCSS(yCrosshairDom, {\n                display: display,\n            });\n    };\n    Tooltip.prototype.initContainer = function () {\n        _super.prototype.initContainer.call(this);\n        this.cacheDoms();\n        this.resetStyles(); // 初始化样式\n        this.applyStyles(); // 应用样式\n    };\n    // 清理 DOM\n    Tooltip.prototype.removeDom = function () {\n        _super.prototype.removeDom.call(this);\n        this.clearCrosshairs();\n    };\n    // 缓存模板设置的各种 DOM\n    Tooltip.prototype.cacheDoms = function () {\n        var container = this.getContainer();\n        var titleDom = container.getElementsByClassName(CssConst.TITLE_CLASS)[0];\n        var listDom = container.getElementsByClassName(CssConst.LIST_CLASS)[0];\n        this.set('titleDom', titleDom);\n        this.set('listDom', listDom);\n    };\n    // 调整位置\n    Tooltip.prototype.resetPosition = function () {\n        var x = this.get('x');\n        var y = this.get('y');\n        var offset = this.get('offset');\n        var _a = this.getOffset(), offsetX = _a.offsetX, offsetY = _a.offsetY;\n        var position = this.get('position');\n        var region = this.get('region');\n        var container = this.getContainer();\n        var bbox = this.getBBox();\n        var width = bbox.width, height = bbox.height;\n        var limitBox;\n        if (region) {\n            // 不限制位置\n            limitBox = util_2.regionToBBox(region);\n        }\n        var point = align_1.getAlignPoint(x, y, offset, width, height, position, limitBox);\n        dom_util_1.modifyCSS(container, {\n            left: toPx(point.x + offsetX),\n            top: toPx(point.y + offsetY),\n        });\n        this.resetCrosshairs();\n    };\n    // 重置 title\n    Tooltip.prototype.resetTitle = function () {\n        var title = this.get('title');\n        var showTitle = this.get('showTitle');\n        if (showTitle && title) {\n            this.setTitle(title);\n        }\n        else {\n            this.setTitle('');\n        }\n    };\n    // 设置 title 文本\n    Tooltip.prototype.setTitle = function (text) {\n        var titleDom = this.get('titleDom');\n        if (titleDom) {\n            titleDom.innerText = text;\n        }\n    };\n    // 终止 crosshair\n    Tooltip.prototype.resetCrosshairs = function () {\n        var crosshairsRegion = this.get('crosshairsRegion');\n        var crosshairs = this.get('crosshairs');\n        if (!crosshairsRegion || !crosshairs) {\n            // 不显示 crosshair，都移除，没有设定 region 也都移除掉\n            this.clearCrosshairs();\n        }\n        else {\n            var crosshairBox = util_2.regionToBBox(crosshairsRegion);\n            var xCrosshairDom = this.get('xCrosshairDom');\n            var yCrosshairDom = this.get('yCrosshairDom');\n            if (crosshairs === 'x') {\n                this.resetCrosshair('x', crosshairBox);\n                // 仅显示 x 的 crosshair，y 移除\n                if (yCrosshairDom) {\n                    yCrosshairDom.remove();\n                    this.set('yCrosshairDom', null);\n                }\n            }\n            else if (crosshairs === 'y') {\n                this.resetCrosshair('y', crosshairBox);\n                // 仅显示 y 的 crosshair，x 移除\n                if (xCrosshairDom) {\n                    xCrosshairDom.remove();\n                    this.set('xCrosshairDom', null);\n                }\n            }\n            else {\n                this.resetCrosshair('x', crosshairBox);\n                this.resetCrosshair('y', crosshairBox);\n            }\n            this.setCrossHairsVisible(this.get('visible'));\n        }\n    };\n    // 设定 crosshair 的位置，需要区分 x,y\n    Tooltip.prototype.resetCrosshair = function (name, bbox) {\n        var croshairDom = this.checkCrosshair(name);\n        var value = this.get(name);\n        if (name === 'x') {\n            dom_util_1.modifyCSS(croshairDom, {\n                left: toPx(value),\n                top: toPx(bbox.y),\n                height: toPx(bbox.height),\n            });\n        }\n        else {\n            dom_util_1.modifyCSS(croshairDom, {\n                top: toPx(value),\n                left: toPx(bbox.x),\n                width: toPx(bbox.width),\n            });\n        }\n    };\n    // 如果 crosshair 对应的 dom 不存在，则创建\n    Tooltip.prototype.checkCrosshair = function (name) {\n        var domName = name + \"CrosshairDom\";\n        var tplName = name + \"CrosshairTpl\";\n        var constName = \"CROSSHAIR_\" + name.toUpperCase();\n        var styleName = CssConst[constName];\n        var croshairDom = this.get(domName);\n        var parent = this.get('parent');\n        if (!croshairDom) {\n            croshairDom = dom_util_1.createDom(this.get(tplName)); // 创建\n            this.applyStyle(styleName, croshairDom); // 设置初始样式\n            parent.appendChild(croshairDom); // 添加到跟 tooltip 同级的目录下\n            this.set(domName, croshairDom);\n        }\n        return croshairDom;\n    };\n    // 样式需要进行合并，不能单纯的替换，否则使用非常不方便\n    Tooltip.prototype.resetStyles = function () {\n        var style = this.get('domStyles');\n        var defaultStyles = this.get('defaultStyles');\n        if (!style) {\n            style = defaultStyles;\n        }\n        else {\n            style = util_1.deepMix({}, defaultStyles, style);\n        }\n        this.set('domStyles', style);\n    };\n    // 应用所有的样式\n    Tooltip.prototype.applyStyles = function () {\n        var domStyles = this.get('domStyles');\n        var container = this.getContainer();\n        this.applyChildrenStyles(container, domStyles);\n        if (util_2.hasClass(container, CssConst.CONTAINER_CLASS)) {\n            var containerCss = domStyles[CssConst.CONTAINER_CLASS];\n            dom_util_1.modifyCSS(container, containerCss);\n        }\n    };\n    Tooltip.prototype.applyChildrenStyles = function (element, styles) {\n        util_1.each(styles, function (style, name) {\n            var elements = element.getElementsByClassName(name);\n            util_1.each(elements, function (el) {\n                dom_util_1.modifyCSS(el, style);\n            });\n        });\n    };\n    // 应用到单个 DOM\n    Tooltip.prototype.applyStyle = function (cssName, dom) {\n        var domStyles = this.get('domStyles');\n        dom_util_1.modifyCSS(dom, domStyles[cssName]);\n    };\n    Tooltip.prototype.renderItems = function () {\n        this.clearItemDoms();\n        var items = this.get('items');\n        var itemTpl = this.get('itemTpl');\n        var listDom = this.get('listDom');\n        util_1.each(items, function (item) {\n            var color = color_util_1.default.toCSSGradient(item.color);\n            var substituteObj = tslib_1.__assign(tslib_1.__assign({}, item), { color: color });\n            var domStr = util_1.substitute(itemTpl, substituteObj);\n            var itemDom = dom_util_1.createDom(domStr);\n            listDom.appendChild(itemDom);\n        });\n        this.applyChildrenStyles(listDom, this.get('domStyles'));\n    };\n    Tooltip.prototype.clearItemDoms = function () {\n        util_2.clearDom(this.get('listDom'));\n    };\n    Tooltip.prototype.clearCrosshairs = function () {\n        var xCrosshairDom = this.get('xCrosshairDom');\n        var yCrosshairDom = this.get('yCrosshairDom');\n        xCrosshairDom && xCrosshairDom.remove();\n        yCrosshairDom && yCrosshairDom.remove();\n        this.set('xCrosshairDom', null);\n        this.set('yCrosshairDom', null);\n    };\n    return Tooltip;\n}(html_component_1.default));\nexports.default = Tooltip;\n//# sourceMappingURL=html.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// 检测各边是否超出\nfunction getOutSides(x, y, width, height, limitBox) {\n    var hits = {\n        left: x < limitBox.x,\n        right: x + width > limitBox.x + limitBox.width,\n        top: y < limitBox.y,\n        bottom: y + height > limitBox.y + limitBox.height,\n    };\n    return hits;\n}\nexports.getOutSides = getOutSides;\nfunction getPointByPosition(x, y, offset, width, height, position) {\n    var px = x;\n    var py = y;\n    switch (position) {\n        case 'left': // left center\n            px = x - width - offset;\n            py = y - height / 2;\n            break;\n        case 'right':\n            px = x + offset;\n            py = y - height / 2;\n            break;\n        case 'top':\n            px = x - width / 2;\n            py = y - height - offset;\n            break;\n        default:\n            // bottom\n            px = x - width / 2;\n            py = y + offset;\n            break;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n}\nexports.getPointByPosition = getPointByPosition;\nfunction getAlignPoint(x, y, offset, width, height, position, limitBox) {\n    var point = getPointByPosition(x, y, offset, width, height, position);\n    if (limitBox) {\n        var outSides = getOutSides(point.x, point.y, width, height, limitBox);\n        if (position === 'top' || position === 'bottom') {\n            if (outSides.left) {\n                // 左侧躲避\n                point.x = limitBox.x;\n            }\n            if (outSides.right) {\n                // 右侧躲避\n                point.x = limitBox.x + limitBox.width - width;\n            }\n            if (position === 'top' && outSides.top) {\n                // 如果上面对齐检测上面，不检测下面\n                point.y = y + offset;\n            }\n            if (position === 'bottom' && outSides.bottom) {\n                point.y = y - height - offset;\n            }\n        }\n        else {\n            // 检测左右位置\n            if (outSides.top) {\n                point.y = limitBox.y;\n            }\n            if (outSides.bottom) {\n                point.y = limitBox.y + limitBox.height - height;\n            }\n            if (position === 'left' && outSides.left) {\n                point.x = x + offset;\n            }\n            if (position === 'right' && outSides.right) {\n                point.x = x - width - offset;\n            }\n        }\n    }\n    return point;\n}\nexports.getAlignPoint = getAlignPoint;\n//# sourceMappingURL=align.js.map","export var BACKGROUND_STYLE = {\n    // fill: 'red',\n    opacity: 0,\n};\nexport var LINE_STYLE = {\n    stroke: '#C5C5C5',\n    strokeOpacity: 0.85,\n};\nexport var AREA_STYLE = {\n    fill: '#CACED4',\n    opacity: 0.85,\n};\n//# sourceMappingURL=constant.js.map","import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\n/**\n * G2 Chart、View、Geometry 以及 Element 等的基类，提供事件以及一些通用的方法。\n */\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base(cfg) {\n        var _this = _super.call(this) || this;\n        /** 标识对象是否已销毁 */\n        _this.destroyed = false;\n        var _a = cfg.visible, visible = _a === void 0 ? true : _a;\n        _this.visible = visible;\n        return _this;\n    }\n    /**\n     * 显示。\n     */\n    Base.prototype.show = function () {\n        var visible = this.visible;\n        if (!visible) {\n            this.visible = true;\n            this.changeVisible(true);\n        }\n    };\n    /**\n     * 隐藏。\n     */\n    Base.prototype.hide = function () {\n        var visible = this.visible;\n        if (visible) {\n            this.visible = false;\n            this.changeVisible(false);\n        }\n    };\n    /**\n     * 销毁。\n     */\n    Base.prototype.destroy = function () {\n        this.off();\n        this.destroyed = true;\n    };\n    /**\n     * 显示或者隐藏。\n     * @param visible\n     * @returns\n     */\n    Base.prototype.changeVisible = function (visible) {\n        if (this.visible === visible) {\n            return;\n        }\n        this.visible = visible;\n    };\n    return Base;\n}(EE));\nexport default Base;\n//# sourceMappingURL=base.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar base_1 = require(\"./attributes/base\");\nexports.Attribute = base_1.default;\n// 所有的 attribute map\nvar ATTRIBUTE_MAP = {};\n/**\n * 通过类型获得 Attribute 类\n * @param type\n */\nvar getAttribute = function (type) {\n    return ATTRIBUTE_MAP[type.toLowerCase()];\n};\nexports.getAttribute = getAttribute;\nvar registerAttribute = function (type, ctor) {\n    // 注册的时候，需要校验 type 重名，不区分大小写\n    if (getAttribute(type)) {\n        throw new Error(\"Attribute type '\" + type + \"' existed.\");\n    }\n    // 存储到 map 中\n    ATTRIBUTE_MAP[type.toLowerCase()] = ctor;\n};\nexports.registerAttribute = registerAttribute;\ntslib_1.__exportStar(require(\"./interface\"), exports);\n//# sourceMappingURL=factory.js.map","import { head, indexOf, last, map, size } from '@antv/util';\nexport var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexport var ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100;\n// https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\nfunction mod(n, m) {\n    return ((n % m) + m) % m;\n}\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n    var n = size(Q);\n    var i = indexOf(Q, q);\n    var v = 0;\n    var m = mod(lmin, lstep);\n    if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n    }\n    return 1 - i / (n - 1) - j + v;\n}\nfunction simplicityMax(q, Q, j) {\n    var n = size(Q);\n    var i = indexOf(Q, q);\n    var v = 1;\n    return 1 - i / (n - 1) - j + v;\n}\nfunction density(k, m, dmin, dmax, lmin, lmax) {\n    var r = (k - 1) / (lmax - lmin);\n    var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n    return 2 - Math.max(r / rt, rt / r);\n}\nfunction densityMax(k, m) {\n    if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n    }\n    return 1;\n}\nfunction coverage(dmin, dmax, lmin, lmax) {\n    var range = dmax - dmin;\n    return 1 - (0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2))) / Math.pow(0.1 * range, 2);\n}\nfunction coverageMax(dmin, dmax, span) {\n    var range = dmax - dmin;\n    if (span > range) {\n        var half = (span - range) / 2;\n        return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n    }\n    return 1;\n}\nfunction legibility() {\n    return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dmin 最小值\n * @param dmax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\nexport default function extended(dmin, dmax, m, onlyLoose, Q, w) {\n    if (m === void 0) { m = 5; }\n    if (onlyLoose === void 0) { onlyLoose = true; }\n    if (Q === void 0) { Q = DEFAULT_Q; }\n    if (w === void 0) { w = [0.25, 0.2, 0.5, 0.05]; }\n    if (dmin === dmax || m === 1) {\n        return {\n            min: dmin,\n            max: dmax,\n            ticks: [dmin],\n        };\n    }\n    var best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0,\n    };\n    var j = 1;\n    while (j < Infinity) {\n        for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n            var q = Q_1[_i];\n            var sm = simplicityMax(q, Q, j);\n            if (Number.isNaN(sm)) {\n                throw new Error('NaN');\n            }\n            if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n                j = Infinity;\n                break;\n            }\n            var k = 2;\n            while (k < Infinity) {\n                var dm = densityMax(k, m);\n                if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n                    break;\n                }\n                var delta = (dmax - dmin) / (k + 1) / j / q;\n                var z = Math.ceil(Math.log10(delta));\n                while (z < Infinity) {\n                    var step = j * q * Math.pow(10, z);\n                    var cm = coverageMax(dmin, dmax, step * (k - 1));\n                    if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                        break;\n                    }\n                    var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n                    var maxStart = Math.ceil(dmin / step) * j;\n                    if (minStart > maxStart) {\n                        z = z + 1;\n                        continue;\n                    }\n                    for (var start = minStart; start <= maxStart; start = start + 1) {\n                        var lmin = start * (step / j);\n                        var lmax = lmin + step * (k - 1);\n                        var lstep = step;\n                        var s = simplicity(q, Q, j, lmin, lmax, lstep);\n                        var c = coverage(dmin, dmax, lmin, lmax);\n                        var g = density(k, m, dmin, dmax, lmin, lmax);\n                        var l = legibility();\n                        var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n                        if (score > best.score && (!onlyLoose || (lmin <= dmin && lmax >= dmax))) {\n                            best.lmin = lmin;\n                            best.lmax = lmax;\n                            best.lstep = lstep;\n                            best.score = score;\n                        }\n                    }\n                    z = z + 1;\n                }\n                k = k + 1;\n            }\n        }\n        j = j + 1;\n    }\n    // 步长为浮点数时处理精度\n    var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n    var range = [];\n    for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n        range.push(tick);\n    }\n    var ticks = toFixed ? map(range, function (x) { return Number.parseFloat(x.toFixed(toFixed)); }) : range;\n    return {\n        min: Math.min(dmin, head(ticks)),\n        max: Math.max(dmax, last(ticks)),\n        ticks: ticks,\n    };\n}\n//# sourceMappingURL=extended.js.map","import { __extends, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from './base';\nimport extended, { ALL_Q } from './util/extended';\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    function Category() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Category.prototype.translate = function (value) {\n        var index = _.indexOf(this.values, value);\n        if (index === -1) {\n            return _.isNumber(value) ? value : NaN;\n        }\n        return index;\n    };\n    Category.prototype.scale = function (value) {\n        var order = this.translate(value);\n        var percent = this._calcPercent(order, this.min, this.max);\n        return this._calcValue(percent, _.head(this.range), _.last(this.range));\n    };\n    Category.prototype.invert = function (scaledValue) {\n        if (!_.isNumber(scaledValue)) {\n            return scaledValue;\n        }\n        var size = _.size(this.values) - 1;\n        var percent = this._calcPercent(scaledValue, _.head(this.range), _.last(this.range));\n        var idx = Math.round(size * percent);\n        return this.values[idx];\n    };\n    Category.prototype.getText = function (value) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var v = value;\n        // value为index\n        if (_.isNumber(value) && !_.includes(this.values, value)) {\n            v = this.values[v];\n        }\n        return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n    };\n    /**\n     * ggplot将全数值的定义域视作线性\n     * 再三考虑后，分类型scale还是不再支持这种兼容\n     */\n    // private isAllNumber: boolean;\n    Category.prototype._initDefaultCfg = function () {\n        this.type = 'cat';\n        this.values = [];\n        this.isCategory = true;\n    };\n    Category.prototype._init = function () {\n        var size = _.size(this.values);\n        this.min = 0;\n        this.max = size > 1 ? size - 1 : size;\n        if (_.isEmpty(this.ticks)) {\n            this.ticks = this._setTicks();\n        }\n    };\n    Category.prototype._setTicks = function () {\n        var _this = this;\n        var ticks = this.values;\n        if (_.isNumber(this.tickInterval)) {\n            return _.filter(ticks, function (__, i) { return i % (_this.tickInterval + 1) === 0; });\n        }\n        if (_.isNumber(this.tickCount)) {\n            // 简单过滤，部分情况下小数的倍数也可以是整数\n            var Q_1 = ALL_Q.filter(function (n) { return Number.isInteger(n); });\n            // tslint:disable-next-line: no-shadowed-variable\n            var ticks_1 = extended(this.min, this.max, this.tickCount, false, Q_1).ticks;\n            var valid = _.filter(ticks_1, function (tick) { return tick >= _this.min && tick <= _this.max; });\n            return valid.map(function (index) { return _this.values[index]; });\n        }\n        return this.values;\n    };\n    return Category;\n}(Base));\nexport default Category;\n//# sourceMappingURL=category.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from './base';\nimport extended, { ALL_Q } from './util/extended';\nvar Linear = /** @class */ (function (_super) {\n    __extends(Linear, _super);\n    function Linear() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Linear.prototype.scale = function (_value) {\n        if (_.isNil(_value)) {\n            return NaN;\n        }\n        var max = this._transform(this.max);\n        var min = this._transform(this.min);\n        if (min === max) {\n            // https://github.com/d3/d3-scale/blob/master/src/continuous.js normalize\n            return 0.5;\n        }\n        // min <= value <= max\n        var value = Math.min(Math.max(this._transform(_value), min), max);\n        var percent = this._calcPercent(value, min, max);\n        var range0 = _.head(this.range);\n        var range1 = _.last(this.range);\n        return this._calcValue(percent, range0, range1);\n    };\n    Linear.prototype.invert = function (scaled) {\n        var range0 = _.head(this.range);\n        var range1 = _.last(this.range);\n        var max = this._transform(this.max);\n        var min = this._transform(this.min);\n        var percent = this._calcPercent(scaled, range0, range1);\n        return this._calcValue(percent, min, max);\n    };\n    Linear.prototype._initDefaultCfg = function () {\n        this.values = [];\n        this.type = 'linear';\n        this.isLinear = true;\n        this.nice = true;\n        this.tickCount = 5;\n        this.maxTickCount = 10;\n    };\n    Linear.prototype._init = function () {\n        this._setDomain();\n        if (_.isEmpty(this.ticks)) {\n            this.ticks = this._setTicks();\n        }\n    };\n    Linear.prototype._setDomain = function () {\n        var _a = _.getRange(this.values), min = _a.min, max = _a.max;\n        if (_.isNil(this.min)) {\n            this.min = min;\n        }\n        if (_.isNil(this.max)) {\n            this.max = max;\n        }\n        if (this.min > this.max) {\n            console.error('min should less than max');\n            this.min = min;\n            this.max = max;\n        }\n    };\n    Linear.prototype._transform = function (v) {\n        return v;\n    };\n    Linear.prototype._setTicks = function () {\n        var _a, _b;\n        var _this = this;\n        var _c = this._getAlgoParams(), onlyLoose = _c.onlyLoose, Q = _c.Q, w = _c.w, m = _c.m;\n        var adjustTicks = [];\n        var tickCnt = m;\n        var minLimit = this.minLimit;\n        var maxLimit = this.maxLimit;\n        var tickMin;\n        var tickMax;\n        // minLimit/maxLimit相同情况处理\n        if (!_.isNil(minLimit) && !_.isNil(maxLimit) && minLimit === maxLimit) {\n            console.error('minLimit should less than maxLimit');\n            minLimit = minLimit / 2;\n            if (minLimit === 0) {\n                maxLimit = 1;\n            }\n        }\n        tickMin = _.isNil(minLimit) ? this.min : this.minLimit;\n        tickMax = _.isNil(maxLimit) ? this.max : this.maxLimit;\n        // 最终的min/max校验和处理\n        if (tickMin > tickMax) {\n            console.error('minLimit should less than maxLimit');\n            _a = [tickMax, tickMin], tickMin = _a[0], tickMax = _a[1];\n            _b = [maxLimit, minLimit], minLimit = _b[0], maxLimit = _b[1];\n        }\n        do {\n            var _d = extended(tickMin, tickMax, tickCnt, onlyLoose, Q, w), min = _d.min, max = _d.max, ticks = _d.ticks;\n            adjustTicks = [];\n            if (this.nice) {\n                this.min = min;\n                this.max = max;\n            }\n            // 修正min/max\n            if (!_.isNil(minLimit)) {\n                this.min = minLimit;\n            }\n            if (!_.isNil(maxLimit)) {\n                this.max = maxLimit;\n            }\n            adjustTicks.push(this.min);\n            _.each(ticks, function (tick) {\n                if (tick > _this.min && tick < _this.max) {\n                    adjustTicks.push(tick);\n                }\n            });\n            if (adjustTicks[adjustTicks.length - 1] < this.max) {\n                adjustTicks.push(this.max);\n            }\n            // 如果没有设置 minLimit/maxLimit，就不循环\n            if (_.isNil(minLimit) && _.isNil(maxLimit)) {\n                break;\n            }\n            // 效果是否已经很好了\n            if (ticks.indexOf(this.min) >= 0 && ticks.indexOf(this.max) >= 0) {\n                break;\n            }\n            tickCnt += 1;\n        } while (tickCnt < this.maxTickCount);\n        return adjustTicks;\n    };\n    Linear.prototype._getAlgoParams = function () {\n        var _a = this.algoParam || {}, onlyLoose = _a.onlyLoose, _Q = _a.Q, w = _a.w;\n        var Q = _Q;\n        var m = this.tickCount;\n        if (this.minTickInterval) {\n            var interval = Math.abs(this.minTickInterval);\n            var e = Math.floor(Math.log10(interval));\n            // interval转为 (0, 10) 之间的值\n            var i_1 = interval / Math.pow(10, e);\n            Q = ALL_Q.filter(function (n) { return n >= i_1; });\n            if (!_.includes(Q, i_1)) {\n                Q.push(i_1);\n            }\n            // tickCount也需要相应调整\n            m = Math.ceil((this.max - this.min) / this.minTickInterval) + 1;\n            // nice numbers数组长度不能<2\n            if (Q.length === 1) {\n                Q.push(1);\n            }\n        }\n        return {\n            m: m,\n            w: w,\n            Q: Q,\n            onlyLoose: onlyLoose,\n        };\n    };\n    return Linear;\n}(Base));\nexport default Linear;\n//# sourceMappingURL=linear.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Linear from './linear';\nvar Log = /** @class */ (function (_super) {\n    __extends(Log, _super);\n    function Log() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Log.prototype.scale = function (value) {\n        // 覆写主要是为了性能\n        var range0 = _.head(this.range);\n        var range1 = _.last(this.range);\n        var percent = Math.log(value / this.min) / Math.log(this.max / this.min);\n        return this._calcValue(percent, range0, range1);\n    };\n    Log.prototype.invert = function (scaled) {\n        var range0 = _.head(this.range);\n        var range1 = _.last(this.range);\n        var percent = this._calcPercent(scaled, range0, range1);\n        if (this.min < 0) {\n            return -Math.pow(-this.max, percent) * Math.pow(-this.min, 1 - percent);\n        }\n        return Math.pow(this.max, percent) * Math.pow(this.min, 1 - percent);\n    };\n    Log.prototype._initDefaultCfg = function () {\n        this.type = 'log';\n        this.values = [];\n        this.base = 10;\n    };\n    Log.prototype._init = function () {\n        this._setDomain();\n        // todo log breaks要优化\n        this.ticks = this._setTicks();\n        // 不兼容处理定义域包含0的情况\n    };\n    return Log;\n}(Linear));\nexport default Log;\n//# sourceMappingURL=linear-log.js.map","import { __extends } from \"tslib\";\nimport Linear from './linear';\nvar Pow = /** @class */ (function (_super) {\n    __extends(Pow, _super);\n    function Pow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Pow.prototype.invert = function (scaled) {\n        var res = _super.prototype.invert.call(this, scaled);\n        return res >= 0 ? Math.pow(res, 1 / this.exponent) : -Math.pow(-res, 1 / this.exponent);\n    };\n    Pow.prototype._initDefaultCfg = function () {\n        this.type = 'pow';\n        this.values = [];\n        this.exponent = 1; // d3默认值为1\n    };\n    Pow.prototype._init = function () {\n        this._setDomain();\n        // todo pow breaks要优化\n        this.ticks = this._setTicks();\n    };\n    Pow.prototype._transform = function (v) {\n        return v >= 0 ? Math.pow(v, this.exponent) : -Math.pow(-v, this.exponent);\n    };\n    return Pow;\n}(Linear));\nexport default Pow;\n//# sourceMappingURL=linear-pow.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport * as moment from 'moment';\nimport Base from './base';\nimport bisector from './util/bisector';\nimport pretty from './util/pretty';\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar Time = /** @class */ (function (_super) {\n    __extends(Time, _super);\n    function Time() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /** 将定义域转化为时间戳 */\n    Time.prototype.translate = function (v) {\n        return moment(v).valueOf();\n    };\n    Time.prototype.scale = function (_value) {\n        var min = this.min;\n        var max = this.max;\n        var value = Math.min(Math.max(this.translate(_value), min), max);\n        var percent = this._calcPercent(value, min, max);\n        var range0 = _.head(this.range);\n        var range1 = _.last(this.range);\n        return this._calcValue(percent, range0, range1);\n    };\n    Time.prototype.invert = function (scaled) {\n        var range0 = _.head(this.range);\n        var range1 = _.last(this.range);\n        var min = this.min;\n        var max = this.max;\n        var percent = this._calcPercent(scaled, range0, range1);\n        return moment(this._calcValue(percent, min, max)).startOf('s');\n    };\n    Time.prototype._initDefaultCfg = function () {\n        this.type = 'time';\n        this.values = [];\n        this.tickCount = 10;\n    };\n    Time.prototype._init = function () {\n        var _this = this;\n        this.values = _.map(this.values, function (date) { return _this.translate(date); });\n        this._setDomain();\n        if (_.isEmpty(this.ticks)) {\n            if (this.tickInterval) {\n                this.ticks = this._setTicksByInterval();\n            }\n            else if (this.tickCount) {\n                this.ticks = this._setTicks();\n            }\n        }\n    };\n    Time.prototype._setDomain = function () {\n        if (_.isNil(this.min)) {\n            this.min = _.minBy(this.values, function (v) { return v; });\n        }\n        else {\n            this.min = this.translate(this.min);\n        }\n        if (_.isNil(this.max)) {\n            this.max = _.maxBy(this.values, function (v) { return v; });\n        }\n        else {\n            this.max = this.translate(this.max);\n        }\n    };\n    /**\n     * todo: 自创算法，融合了d3和pretty，需要大量测例验证\n     */\n    Time.prototype._setTicks = function () {\n        var _this = this;\n        /**\n         * 思路：\n         * step1: 通过d3的算法找到日期大致范围\n         * step2: 通过pretty取得系数为1、0.5、2\n         */\n        var intervals = [\n            ['HH:mm:ss', SECOND],\n            ['HH:mm:ss', SECOND * 10],\n            ['HH:mm:ss', SECOND * 30],\n            ['HH:mm', MINUTE],\n            ['HH:mm', MINUTE * 10],\n            ['HH:mm', MINUTE * 30],\n            ['HH', HOUR],\n            ['HH', HOUR * 6],\n            ['HH', HOUR * 12],\n            ['YYYY-MM-DD', DAY],\n            ['YYYY-MM-DD', DAY * 4],\n            ['YYYY-WW', DAY * 7],\n            ['YYYY-MM', DAY * 31],\n            ['YYYY-MM', DAY * 31 * 4],\n            ['YYYY-MM', DAY * 31 * 6],\n            ['YYYY', DAY * 380],\n        ];\n        var tickCount = this.tickCount;\n        var minDate = this.min;\n        var maxDate = this.max;\n        var target = (maxDate - minDate) / tickCount;\n        var idx = bisector(function (o) { return o[1]; })(intervals, target);\n        if (idx === intervals.length) {\n            // over 1Y\n            this.interval = _.last(intervals);\n        }\n        else if (idx) {\n            this.interval = intervals[idx];\n        }\n        else {\n            // 避免pretty取0.5，可以在此处加一个最大值边界\n            // 此处的Math.min是没有意义的（为什么？），此处保留只是因为可能会调整算法，这个是安全保障\n            tickCount = Math.min(Math.floor((maxDate - minDate) / SECOND), tickCount);\n            this.interval = intervals[0];\n        }\n        var d = this.interval[1];\n        var ticks = pretty(0, Math.ceil((maxDate - minDate) / d), tickCount).ticks;\n        // time的tick不能取超出定义域的值\n        var res = ticks.map(function (tick) { return tick * d + minDate; }).filter(function (tick) { return tick >= minDate && tick <= maxDate; });\n        if (this.showLast) {\n            // 间隔大于一个interval时需添加，pretty可以避免这种场景\n            res[res.length - 1] = this.max;\n        }\n        if (!this.formatter) {\n            this.formatter = function (v) { return moment(v).format(_this.interval[0]); };\n        }\n        return res;\n    };\n    Time.prototype._setTicksByInterval = function () {\n        var _this = this;\n        var minDate = this.min;\n        var maxDate = this.max;\n        var d = this.tickInterval[1];\n        var tickCount = Math.ceil((maxDate - minDate) / d);\n        var ticks = [];\n        for (var i = 0; i <= tickCount; i++) {\n            var val = minDate + d * i;\n            if (val > maxDate && this.showLast) {\n                val = maxDate;\n            }\n            ticks.push(val);\n        }\n        var formatedTicks = [];\n        _.each(ticks, function (tick) {\n            formatedTicks.push(moment(tick).format(_this.tickInterval[0]));\n        });\n        return formatedTicks;\n    };\n    return Time;\n}(Base));\nexport default Time;\n//# sourceMappingURL=time.js.map","import { isNil } from '@antv/util';\n/**\n * 二分右侧查找\n * https://github.com/d3/d3-array/blob/master/src/bisector.js\n */\nexport default function (getter) {\n    /**\n     * x: 目标值\n     * lo: 起始位置\n     * hi: 结束位置\n     */\n    return function (a, x, _lo, _hi) {\n        var lo = isNil(_lo) ? 0 : _lo;\n        var hi = isNil(_hi) ? a.length : _hi;\n        while (lo < hi) {\n            var mid = (lo + hi) >>> 1;\n            if (getter(a[mid]) > x) {\n                hi = mid;\n            }\n            else {\n                lo = mid + 1;\n            }\n        }\n        return lo;\n    };\n}\n//# sourceMappingURL=bisector.js.map","export default function pretty(min, max, n) {\n    if (n === void 0) { n = 5; }\n    var res = {\n        max: 0,\n        min: 0,\n        ticks: [],\n    };\n    /*\n      R pretty:\n      https://svn.r-project.org/R/trunk/src/appl/pretty.c\n      https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n      */\n    var h = 1.5; // high.u.bias\n    var h5 = 0.5 + 1.5 * h; // u5.bias\n    // 反正我也不会调参，跳过所有判断步骤\n    var d = max - min;\n    var c = d / n;\n    // 当d非常小的时候触发，但似乎没什么用\n    // const min_n = Math.floor(n / 3);\n    // const shrink_sml = Math.pow(2, 5);\n    // if (Math.log10(d) < -2) {\n    //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n    // }\n    var base = Math.pow(10, Math.floor(Math.log10(c)));\n    var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n    var unit = base;\n    if (2 * base - c < h * (c - unit)) {\n        unit = 2 * base;\n        if (5 * base - c < h5 * (c - unit)) {\n            unit = 5 * base;\n            if (10 * base - c < h * (c - unit)) {\n                unit = 10 * base;\n            }\n        }\n    }\n    var nu = Math.ceil(max / unit);\n    var ns = Math.floor(min / unit);\n    res.max = Math.max(nu * unit, max);\n    res.min = Math.min(ns * unit, min);\n    var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n    while (x < max) {\n        res.ticks.push(x);\n        x += unit;\n        if (toFixed) {\n            x = Number.parseFloat(x.toFixed(toFixed));\n        }\n    }\n    res.ticks.push(x);\n    return res;\n}\n//# sourceMappingURL=pretty.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Cat from './category';\nimport extended from './util/extended';\nvar TimeCat = /** @class */ (function (_super) {\n    __extends(TimeCat, _super);\n    function TimeCat() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeCat.prototype._initDefaultCfg = function () {\n        _super.prototype._initDefaultCfg.call(this);\n        this.type = 'timeCat';\n    };\n    TimeCat.prototype._setTicks = function () {\n        var _this = this;\n        // 默认期望展示的更多\n        var tickCount = this.tickCount || Math.ceil(this.max / 2);\n        var ticks = extended(this.min, this.max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n        var res = _.map(ticks, function (tickIdx) { return _this.values[tickIdx]; });\n        // 默认保头保尾\n        res[res.length - 1] = _.last(this.values);\n        return res;\n    };\n    return TimeCat;\n}(Cat));\nexport default TimeCat;\n//# sourceMappingURL=timeCat.js.map","import { __spreadArrays } from \"tslib\";\nimport { catmullRom2Bezier } from '@antv/path-util';\nimport { Category, Linear } from '@antv/scale';\nimport { each, head, isEqual, map } from '@antv/util';\n/**\n * 点数组转 path\n * @param points\n */\nfunction pointsToPath(points) {\n    return map(points, function (p, idx) {\n        var command = idx === 0 ? 'M' : 'L';\n        var x = p[0], y = p[1];\n        return [command, x, y];\n    });\n}\n/**\n * 将点连接成路径 path\n * @param points\n */\nexport function getLinePath(points) {\n    return pointsToPath(points);\n}\n/**\n * 将点连成平滑的曲线\n * @param points\n */\nexport function getSmoothLinePath(points) {\n    if (points.length <= 2) {\n        // 两点以内直接绘制成路径\n        return getLinePath(points);\n    }\n    var data = [];\n    each(points, function (p) {\n        // 当前点和上一个点一样的时候，忽略掉\n        if (!isEqual(p, data.slice(data.length - 2))) {\n            data.push(p[0], p[1]);\n        }\n    });\n    // const constraint = [ // 范围\n    //   [ 0, 0 ],\n    //   [ 1, 1 ],\n    // ];\n    var path = catmullRom2Bezier(data, false);\n    var _a = head(points), x = _a[0], y = _a[1];\n    path.unshift(['M', x, y]);\n    return path;\n}\n/**\n * 将数据转成 path，利用 scale 的归一化能力\n * @param data\n * @param width\n * @param height\n * @param smooth\n */\nexport function dataToPath(data, width, height, smooth) {\n    if (smooth === void 0) { smooth = true; }\n    // 利用 scale 来获取 y 上的映射\n    var y = new Linear({\n        values: data,\n    });\n    var x = new Category({\n        values: map(data, function (v, idx) { return idx; }),\n    });\n    var points = map(data, function (v, idx) {\n        return [x.scale(idx) * width, height - y.scale(v) * height];\n    });\n    return smooth ? getSmoothLinePath(points) : getLinePath(points);\n}\n/**\n * 线 path 转 area path\n * @param path\n * @param width\n * @param height\n */\nexport function linePathToAreaPath(path, width, height) {\n    var areaPath = __spreadArrays(path);\n    areaPath.push(['L', width, 0]);\n    areaPath.push(['L', 0, height]);\n    areaPath.push(['Z']);\n    return areaPath;\n}\n//# sourceMappingURL=path.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { AREA_STYLE, BACKGROUND_STYLE, LINE_STYLE } from './constant';\nimport { dataToPath, linePathToAreaPath } from './path';\nvar Trend = /** @class */ (function (_super) {\n    __extends(Trend, _super);\n    function Trend() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Trend.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'trend', x: 0, y: 0, width: 200, height: 16, smooth: true, isArea: false, data: [], backgroundStyle: BACKGROUND_STYLE, lineStyle: LINE_STYLE, areaStyle: AREA_STYLE });\n    };\n    Trend.prototype.renderInner = function (group) {\n        var _a = this.cfg, width = _a.width, height = _a.height, data = _a.data, smooth = _a.smooth, isArea = _a.isArea, backgroundStyle = _a.backgroundStyle, lineStyle = _a.lineStyle, areaStyle = _a.areaStyle;\n        // 背景\n        this.addShape(group, {\n            id: this.getElementId('background'),\n            type: 'rect',\n            attrs: __assign({ x: 0, y: 0, width: width,\n                height: height }, backgroundStyle),\n        });\n        var path = dataToPath(data, width, height, smooth);\n        // 线\n        this.addShape(group, {\n            id: this.getElementId('line'),\n            type: 'path',\n            attrs: __assign({ path: path }, lineStyle),\n        });\n        // area\n        // 在 path 的基础上，增加两个坐标点\n        if (isArea) {\n            var areaPath = linePathToAreaPath(path, width, height);\n            this.addShape(group, {\n                id: this.getElementId('area'),\n                type: 'path',\n                attrs: __assign({ path: areaPath }, areaStyle),\n            });\n        }\n    };\n    Trend.prototype.applyOffset = function () {\n        var _a = this.cfg, x = _a.x, y = _a.y;\n        // 统一移动到对应的位置\n        this.moveElementTo(this.get('group'), {\n            x: x,\n            y: y,\n        });\n    };\n    return Trend;\n}(GroupComponent));\nexport { Trend };\nexport default Trend;\n//# sourceMappingURL=trend.js.map","/**\n * 一些默认的样式配置\n */\nexport var BACKGROUND_STYLE = {\n    fill: '#416180 ',\n    opacity: 0.05,\n};\nexport var FOREGROUND_STYLE = {\n    fill: '#5B8FF9',\n    opacity: 0.15,\n    cursor: 'move',\n};\nexport var DEFAULT_HANDLER_WIDTH = 10;\nexport var HANDLER_STYLE = {\n    width: DEFAULT_HANDLER_WIDTH,\n    height: 24,\n};\nexport var TEXT_STYLE = {\n    textBaseline: 'middle',\n    fill: '#000',\n    opacity: 0.45,\n};\nexport var SLIDER_CHANGE = 'sliderchange';\n//# sourceMappingURL=constant.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nvar DEFAULT_STYLE = {\n    fill: '#F7F7F7',\n    stroke: '#BFBFBF',\n    radius: 2,\n    opacity: 1,\n    cursor: 'ew-resize',\n    // 高亮的颜色\n    highLightFill: '#FFF',\n};\nvar Handler = /** @class */ (function (_super) {\n    __extends(Handler, _super);\n    function Handler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Handler.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'handler', x: 0, y: 0, width: 10, height: 24, style: DEFAULT_STYLE });\n    };\n    Handler.prototype.renderInner = function (group) {\n        var _a = this.cfg, width = _a.width, height = _a.height, style = _a.style;\n        var fill = style.fill, stroke = style.stroke, radius = style.radius, opacity = style.opacity, cursor = style.cursor;\n        // 按钮框框\n        this.addShape(group, {\n            type: 'rect',\n            id: this.getElementId('background'),\n            attrs: {\n                x: 0,\n                y: 0,\n                width: width,\n                height: height,\n                fill: fill,\n                stroke: stroke,\n                radius: radius,\n                opacity: opacity,\n                cursor: cursor,\n            },\n        });\n        // 两根竖线\n        var x1 = (1 / 3) * width;\n        var x2 = (2 / 3) * width;\n        var y1 = (1 / 4) * height;\n        var y2 = (3 / 4) * height;\n        this.addShape(group, {\n            id: this.getElementId('line-left'),\n            type: 'line',\n            attrs: {\n                x1: x1,\n                y1: y1,\n                x2: x1,\n                y2: y2,\n                stroke: stroke,\n                cursor: cursor,\n            },\n        });\n        this.addShape(group, {\n            id: this.getElementId('line-right'),\n            type: 'line',\n            attrs: {\n                x1: x2,\n                y1: y1,\n                x2: x2,\n                y2: y2,\n                stroke: stroke,\n                cursor: cursor,\n            },\n        });\n    };\n    Handler.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x'),\n            y: this.get('y'),\n        });\n    };\n    Handler.prototype.initEvent = function () {\n        this.bindEvents();\n    };\n    Handler.prototype.bindEvents = function () {\n        var _this = this;\n        this.get('group').on('mouseenter', function () {\n            var highLightFill = _this.get('style').highLightFill;\n            _this.getElementByLocalId('background').attr('fill', highLightFill);\n            _this.draw();\n        });\n        this.get('group').on('mouseleave', function () {\n            var fill = _this.get('style').fill;\n            _this.getElementByLocalId('background').attr('fill', fill);\n            _this.draw();\n        });\n    };\n    Handler.prototype.draw = function () {\n        var canvas = this.get('container').get('canvas');\n        if (canvas) {\n            canvas.draw();\n        }\n    };\n    return Handler;\n}(GroupComponent));\nexport { Handler };\nexport default Handler;\n//# sourceMappingURL=handler.js.map","import { __assign, __extends } from \"tslib\";\nimport { clamp, each, get, isArray, isNil, size } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { Trend } from '../trend/trend';\nimport { BACKGROUND_STYLE, DEFAULT_HANDLER_WIDTH, FOREGROUND_STYLE, HANDLER_STYLE, SLIDER_CHANGE, TEXT_STYLE, } from './constant';\nimport { Handler } from './handler';\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (target) { return function (e) {\n            _this.currentTarget = target;\n            // 取出原生事件\n            var event = e.originalEvent;\n            // 2. 存储当前点击位置\n            event.stopPropagation();\n            event.preventDefault();\n            // 兼容移动端获取数据\n            _this.prevX = get(event, 'touches.0.pageX', event.pageX);\n            _this.prevY = get(event, 'touches.0.pageY', event.pageY);\n            // 3. 开始滑动的时候，绑定 move 和 up 事件\n            var containerDOM = _this.getContainerDOM();\n            containerDOM.addEventListener('mousemove', _this.onMouseMove);\n            containerDOM.addEventListener('mouseup', _this.onMouseUp);\n            containerDOM.addEventListener('mouseleave', _this.onMouseUp);\n            // 移动端事件\n            containerDOM.addEventListener('touchmove', _this.onMouseMove);\n            containerDOM.addEventListener('touchend', _this.onMouseUp);\n            containerDOM.addEventListener('touchcancel', _this.onMouseUp);\n        }; };\n        _this.onMouseMove = function (event) {\n            var width = _this.cfg.width;\n            var originValue = [_this.get('start'), _this.get('end')];\n            // 滑动过程中，计算偏移，更新滑块，然后 emit 数据出去\n            event.stopPropagation();\n            event.preventDefault();\n            var x = get(event, 'touches.0.pageX', event.pageX);\n            var y = get(event, 'touches.0.pageY', event.pageY);\n            // 横向的 slider 只处理 x\n            var offsetX = x - _this.prevX;\n            var offsetXRange = _this.adjustOffsetRange(offsetX / width);\n            // 更新 start end range 范围\n            _this.updateStartEnd(offsetXRange);\n            // 更新 ui\n            _this.updateUI(_this.getElementByLocalId('foreground'), _this.getElementByLocalId('minText'), _this.getElementByLocalId('maxText'));\n            _this.prevX = x;\n            _this.prevY = y;\n            _this.draw();\n            // 因为存储的 start、end 可能不一定是按大小存储的，所以排序一下，对外是 end >= start\n            _this.emit(SLIDER_CHANGE, [_this.get('start'), _this.get('end')].sort());\n            _this.delegateEmit('valuechanged', {\n                originValue: originValue,\n                value: [_this.get('start'), _this.get('end')],\n            });\n        };\n        _this.onMouseUp = function () {\n            // 结束之后，取消绑定的事件\n            if (_this.currentTarget) {\n                _this.currentTarget = undefined;\n            }\n            var containerDOM = _this.getContainerDOM();\n            if (containerDOM) {\n                containerDOM.removeEventListener('mousemove', _this.onMouseMove);\n                containerDOM.removeEventListener('mouseup', _this.onMouseUp);\n                // 防止滑动到 canvas 外部之后，状态丢失\n                containerDOM.removeEventListener('mouseleave', _this.onMouseUp);\n                // 移动端事件\n                containerDOM.removeEventListener('touchmove', _this.onMouseMove);\n                containerDOM.removeEventListener('touchend', _this.onMouseUp);\n                containerDOM.removeEventListener('touchcancel', _this.onMouseUp);\n            }\n        };\n        return _this;\n    }\n    Slider.prototype.setRange = function (min, max) {\n        this.set('minLimit', min);\n        this.set('maxLimit', max);\n    };\n    Slider.prototype.getRange = function () {\n        return {\n            min: this.get('minLimit') || 0,\n            max: this.get('maxLimit') || 1,\n        };\n    };\n    Slider.prototype.setValue = function (value) {\n        if (isArray(value) && value.length === 2) {\n            var originValue = [this.get('start'), this.get('end')];\n            this.update({\n                start: value[0],\n                end: value[1],\n            });\n            if (!this.get('updateAutoRender')) {\n                this.render();\n            }\n            this.delegateEmit('valuechanged', {\n                originValue: originValue,\n                value: value,\n            });\n        }\n    };\n    Slider.prototype.getValue = function () {\n        return [this.get('start'), this.get('end')];\n    };\n    Slider.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'slider', x: 0, y: 0, width: 100, height: 16, backgroundStyle: {}, foregroundStyle: {}, handlerStyle: {}, textStyle: {}, defaultCfg: {\n                backgroundStyle: BACKGROUND_STYLE,\n                foregroundStyle: FOREGROUND_STYLE,\n                handlerStyle: HANDLER_STYLE,\n                textStyle: TEXT_STYLE,\n            } });\n    };\n    Slider.prototype.update = function (cfg) {\n        var start = cfg.start, end = cfg.end;\n        var validCfg = __assign({}, cfg);\n        if (!isNil(start)) {\n            validCfg.start = clamp(start, 0, 1);\n        }\n        if (!isNil(end)) {\n            validCfg.end = clamp(end, 0, 1);\n        }\n        _super.prototype.update.call(this, validCfg);\n        this.minHandler = this.getChildComponentById(this.getElementId('minHandler'));\n        this.maxHandler = this.getChildComponentById(this.getElementId('maxHandler'));\n    };\n    Slider.prototype.init = function () {\n        this.set('start', clamp(this.get('start'), 0, 1));\n        this.set('end', clamp(this.get('end'), 0, 1));\n        _super.prototype.init.call(this);\n    };\n    Slider.prototype.renderInner = function (group) {\n        var _a = this.cfg, start = _a.start, end = _a.end, width = _a.width, height = _a.height, _b = _a.trendCfg, trendCfg = _b === void 0 ? {} : _b, minText = _a.minText, maxText = _a.maxText, _c = _a.backgroundStyle, backgroundStyle = _c === void 0 ? {} : _c, _d = _a.foregroundStyle, foregroundStyle = _d === void 0 ? {} : _d, _e = _a.textStyle, textStyle = _e === void 0 ? {} : _e, _f = _a.handlerStyle, handlerStyle = _f === void 0 ? {} : _f;\n        var min = start * width;\n        var max = end * width;\n        // 趋势图数据\n        if (size(get(trendCfg, 'data'))) {\n            this.addComponent(group, __assign({ component: Trend, id: this.getElementId('trend'), x: 0, y: 0, width: width,\n                height: height }, trendCfg));\n        }\n        // 1. 背景\n        this.addShape(group, {\n            id: this.getElementId('background'),\n            type: 'rect',\n            attrs: __assign({ x: 0, y: 0, width: width,\n                height: height }, backgroundStyle),\n        });\n        // 2. 左右文字\n        var minTextShape = this.addShape(group, {\n            id: this.getElementId('minText'),\n            type: 'text',\n            attrs: __assign({ \n                // x: 0,\n                y: height / 2, textAlign: 'right', text: minText, silent: false }, textStyle),\n        });\n        var maxTextShape = this.addShape(group, {\n            id: this.getElementId('maxText'),\n            type: 'text',\n            attrs: __assign({ \n                // x: 0,\n                y: height / 2, textAlign: 'left', text: maxText, silent: false }, textStyle),\n        });\n        // 3. 前景 选中背景框\n        var foregroundShape = this.addShape(group, {\n            id: this.getElementId('foreground'),\n            name: 'foreground',\n            type: 'rect',\n            attrs: __assign({ \n                // x: 0,\n                y: 0, \n                // width: 0,\n                height: height }, foregroundStyle),\n        });\n        // 滑块相关的大小信息\n        // const handlerWidth = get(handlerStyle, 'width', 10);\n        var handlerHeight = get(handlerStyle, 'height', 24);\n        // 4. 左右滑块\n        this.minHandler = this.addComponent(group, __assign({ component: Handler, id: this.getElementId('minHandler'), name: 'handler-min', x: 0, y: (height - handlerHeight) / 2, width: width, height: handlerHeight, cursor: 'ew-resize' }, handlerStyle));\n        this.maxHandler = this.addComponent(group, __assign({ component: Handler, id: this.getElementId('maxHandler'), name: 'handler-max', x: 0, y: (height - handlerHeight) / 2, width: width, height: handlerHeight, cursor: 'ew-resize' }, handlerStyle));\n        this.updateUI(foregroundShape, minTextShape, maxTextShape);\n    };\n    Slider.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x'),\n            y: this.get('y'),\n        });\n    };\n    Slider.prototype.initEvent = function () {\n        this.bindEvents();\n    };\n    Slider.prototype.updateUI = function (foregroundShape, minTextShape, maxTextShape) {\n        var _a = this.cfg, start = _a.start, end = _a.end, width = _a.width, minText = _a.minText, maxText = _a.maxText, handlerStyle = _a.handlerStyle;\n        var min = start * width;\n        var max = end * width;\n        // 1. foreground\n        foregroundShape.attr('x', min);\n        foregroundShape.attr('width', max - min);\n        // 滑块相关的大小信息\n        var handlerWidth = get(handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n        // 设置文本\n        minTextShape.attr('text', minText);\n        maxTextShape.attr('text', maxText);\n        var _b = this._dodgeText([min, max], minTextShape, maxTextShape), minAttrs = _b[0], maxAttrs = _b[1];\n        // 2. 左侧滑块和文字位置\n        if (this.minHandler) {\n            this.minHandler.update({\n                x: min - handlerWidth / 2,\n            });\n            if (!this.get('updateAutoRender')) {\n                this.minHandler.render();\n            }\n        }\n        each(minAttrs, function (v, k) { return minTextShape.attr(k, v); });\n        // 3. 右侧滑块和文字位置\n        if (this.maxHandler) {\n            this.maxHandler.update({\n                x: max - handlerWidth / 2,\n            });\n            if (!this.get('updateAutoRender')) {\n                this.maxHandler.render();\n            }\n        }\n        each(maxAttrs, function (v, k) { return maxTextShape.attr(k, v); });\n    };\n    Slider.prototype.bindEvents = function () {\n        var group = this.get('group');\n        group.on('handler-min:mousedown', this.onMouseDown('minHandler'));\n        group.on('handler-min:touchstart', this.onMouseDown('minHandler'));\n        // 2. 右滑块的滑动\n        group.on('handler-max:mousedown', this.onMouseDown('maxHandler'));\n        group.on('handler-max:touchstart', this.onMouseDown('maxHandler'));\n        // 3. 前景选中区域\n        var foreground = group.findById(this.getElementId('foreground'));\n        foreground.on('mousedown', this.onMouseDown('foreground'));\n        foreground.on('touchstart', this.onMouseDown('foreground'));\n    };\n    /**\n     * 调整 offsetRange，因为一些范围的限制\n     * @param offsetRange\n     */\n    Slider.prototype.adjustOffsetRange = function (offsetRange) {\n        var _a = this.cfg, start = _a.start, end = _a.end;\n        // 针对不同的滑动组件，处理的方式不同\n        switch (this.currentTarget) {\n            case 'minHandler': {\n                var min = 0 - start;\n                var max = 1 - start;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            case 'maxHandler': {\n                var min = 0 - end;\n                var max = 1 - end;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            case 'foreground': {\n                var min = 0 - start;\n                var max = 1 - end;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            default:\n                return 0;\n        }\n    };\n    Slider.prototype.updateStartEnd = function (offsetRange) {\n        var _a = this.cfg, start = _a.start, end = _a.end;\n        // 操作不同的组件，反馈不一样\n        switch (this.currentTarget) {\n            case 'minHandler':\n                start += offsetRange;\n                break;\n            case 'maxHandler':\n                end += offsetRange;\n                break;\n            case 'foreground':\n                start += offsetRange;\n                end += offsetRange;\n                break;\n        }\n        this.set('start', start);\n        this.set('end', end);\n    };\n    /**\n     * 调整 text 的位置，自动躲避\n     * 根据位置，调整返回新的位置\n     * @param range\n     */\n    Slider.prototype._dodgeText = function (range, minTextShape, maxTextShape) {\n        var _a, _b;\n        var _c = this.cfg, handlerStyle = _c.handlerStyle, width = _c.width;\n        var PADDING = 2;\n        var handlerWidth = get(handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n        var min = range[0], max = range[1];\n        var sorted = false;\n        // 如果交换了位置，则对应的 min max 也交互\n        if (min > max) {\n            _a = [max, min], min = _a[0], max = _a[1];\n            _b = [maxTextShape, minTextShape], minTextShape = _b[0], maxTextShape = _b[1];\n            sorted = true;\n        }\n        // 避让规则，优先显示在两侧，只有显示不下的时候，才显示在中间\n        var minBBox = minTextShape.getBBox();\n        var maxBBox = maxTextShape.getBBox();\n        var minAttrs = minBBox.width > min - PADDING\n            ? { x: min + handlerWidth / 2 + PADDING, textAlign: 'left' }\n            : { x: min - handlerWidth / 2 - PADDING, textAlign: 'right' };\n        var maxAttrs = maxBBox.width > width - max - PADDING\n            ? { x: max - handlerWidth / 2 - PADDING, textAlign: 'right' }\n            : { x: max + handlerWidth / 2 + PADDING, textAlign: 'left' };\n        return !sorted ? [minAttrs, maxAttrs] : [maxAttrs, minAttrs];\n    };\n    Slider.prototype.draw = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        if (canvas) {\n            canvas.draw();\n        }\n    };\n    Slider.prototype.getContainerDOM = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        return canvas && canvas.get('container');\n    };\n    return Slider;\n}(GroupComponent));\nexport { Slider };\nexport default Slider;\n//# sourceMappingURL=slider.js.map","import { __assign, __extends } from \"tslib\";\nimport { addEventListener } from '@antv/dom-util';\nimport { clamp, get, noop } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nvar DEFAULT_STYLE = {\n    trackColor: 'rgba(0,0,0,0)',\n    thumbColor: 'rgba(0,0,0,0.15)',\n    size: 8,\n    lineCap: 'round',\n};\nexport var DEFAULT_THEME = {\n    // 默认样式\n    default: DEFAULT_STYLE,\n    // 鼠标 hover 的样式\n    hover: {\n        thumbColor: 'rgba(0,0,0,0.2)',\n    },\n};\nvar Scrollbar = /** @class */ (function (_super) {\n    __extends(Scrollbar, _super);\n    function Scrollbar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.clearEvents = noop;\n        _this.onStartEvent = function (isMobile) { return function (e) {\n            _this.isMobile = isMobile;\n            e.originalEvent.preventDefault();\n            var clientX = isMobile ? get(e.originalEvent, 'touches.0.clientX') : e.clientX;\n            var clientY = isMobile ? get(e.originalEvent, 'touches.0.clientY') : e.clientY;\n            // 将开始的点记录下来\n            _this.startPos = _this.cfg.isHorizontal ? clientX : clientY;\n            _this.bindLaterEvent();\n        }; };\n        _this.bindLaterEvent = function () {\n            var containerDOM = _this.getContainerDOM();\n            var events = [];\n            if (_this.isMobile) {\n                events = [\n                    addEventListener(containerDOM, 'touchmove', _this.onMouseMove),\n                    addEventListener(containerDOM, 'touchend', _this.onMouseUp),\n                    addEventListener(containerDOM, 'touchcancel', _this.onMouseUp),\n                ];\n            }\n            else {\n                events = [\n                    addEventListener(containerDOM, 'mousemove', _this.onMouseMove),\n                    addEventListener(containerDOM, 'mouseup', _this.onMouseUp),\n                    // 为了保证划出 canvas containerDom 时还没触发 mouseup\n                    addEventListener(containerDOM, 'mouseleave', _this.onMouseUp),\n                ];\n            }\n            _this.clearEvents = function () {\n                events.forEach(function (e) {\n                    e.remove();\n                });\n            };\n        };\n        // 拖拽滑块的事件回调\n        // 这里是 dom 原生事件，绑定在 dom 元素上的\n        _this.onMouseMove = function (e) {\n            var _a = _this.cfg, isHorizontal = _a.isHorizontal, thumbOffset = _a.thumbOffset;\n            e.preventDefault();\n            var clientX = _this.isMobile ? get(e, 'touches.0.clientX') : e.clientX;\n            var clientY = _this.isMobile ? get(e, 'touches.0.clientY') : e.clientY;\n            // 鼠标松开的位置\n            var endPos = isHorizontal ? clientX : clientY;\n            // 滑块需要移动的距离, 由于这里是对滑块监听，所以移动的距离就是 diffDis, 如果监听对象是 container dom，则需要算比例\n            var diff = endPos - _this.startPos;\n            // 更新 _startPos\n            _this.startPos = endPos;\n            _this.updateThumbOffset(thumbOffset + diff);\n        };\n        _this.onMouseUp = function (e) {\n            e.preventDefault();\n            _this.clearEvents();\n        };\n        // 点击滑道的事件回调,移动滑块位置\n        _this.onTrackClick = function (e) {\n            var _a = _this.cfg, isHorizontal = _a.isHorizontal, x = _a.x, y = _a.y, thumbLen = _a.thumbLen;\n            var containerDOM = _this.getContainerDOM();\n            var rect = containerDOM.getBoundingClientRect();\n            var clientX = e.clientX, clientY = e.clientY;\n            var offset = isHorizontal ? clientX - rect.left - x - thumbLen / 2 : clientY - rect.top - y - thumbLen / 2;\n            var newOffset = _this.validateRange(offset);\n            _this.updateThumbOffset(newOffset);\n        };\n        _this.onThumbMouseOver = function () {\n            var thumbColor = _this.cfg.theme.hover.thumbColor;\n            _this.getElementByLocalId('thumb').attr('stroke', thumbColor);\n            _this.draw();\n        };\n        _this.onThumbMouseOut = function () {\n            var thumbColor = _this.cfg.theme.default.thumbColor;\n            _this.getElementByLocalId('thumb').attr('stroke', thumbColor);\n            _this.draw();\n        };\n        return _this;\n    }\n    Scrollbar.prototype.setRange = function (min, max) {\n        this.set('minLimit', min);\n        this.set('maxLimit', max);\n    };\n    Scrollbar.prototype.getRange = function () {\n        var min = this.get('minLimit');\n        var max = this.get('maxLimit');\n        return { min: min, max: max };\n    };\n    Scrollbar.prototype.setValue = function (value) {\n        var originalValue = this.getValue();\n        this.update({\n            thumbOffset: this.get('trackLen') - this.get('thumbLen') * clamp(value, 0, 1),\n        });\n        this.delegateEmit('valuechange', {\n            originalValue: originalValue,\n            value: this.getValue(),\n        });\n    };\n    Scrollbar.prototype.getValue = function () {\n        return clamp(this.get('thumbOffset') / (this.get('trackLen') - this.get('thumbLen')), 0, 1);\n    };\n    Scrollbar.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'scrollbar', isHorizontal: true, minThumbLen: 20, thumbOffset: 0, theme: DEFAULT_THEME });\n    };\n    Scrollbar.prototype.renderInner = function (group) {\n        this.renderTrackShape(group);\n        this.renderThumbShape(group);\n    };\n    Scrollbar.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x'),\n            y: this.get('y'),\n        });\n    };\n    Scrollbar.prototype.initEvent = function () {\n        this.bindEvents();\n    };\n    // 创建滑道的 shape\n    Scrollbar.prototype.renderTrackShape = function (group) {\n        var _a = this.cfg, trackLen = _a.trackLen, _b = _a.theme, theme = _b === void 0 ? { default: {} } : _b;\n        var _c = theme.default, lineCap = _c.lineCap, trackColor = _c.trackColor, size = _c.size;\n        var attrs = this.get('isHorizontal')\n            ? {\n                x1: 0 + size / 2,\n                y1: size / 2,\n                x2: trackLen - size / 2,\n                y2: size / 2,\n                lineWidth: size,\n                stroke: trackColor,\n                lineCap: lineCap,\n            }\n            : {\n                x1: size / 2,\n                y1: 0 + size / 2,\n                x2: size / 2,\n                y2: trackLen - size / 2,\n                lineWidth: size,\n                stroke: trackColor,\n                lineCap: lineCap,\n            };\n        return this.addShape(group, {\n            id: this.getElementId('track'),\n            name: 'track',\n            type: 'line',\n            attrs: attrs,\n        });\n    };\n    // 创建滑块的 shape\n    Scrollbar.prototype.renderThumbShape = function (group) {\n        var _a = this.cfg, thumbOffset = _a.thumbOffset, thumbLen = _a.thumbLen, _b = _a.theme, theme = _b === void 0 ? { default: {} } : _b;\n        var _c = theme.default, size = _c.size, lineCap = _c.lineCap, thumbColor = _c.thumbColor;\n        var attrs = this.get('isHorizontal')\n            ? {\n                x1: thumbOffset + size / 2,\n                y1: size / 2,\n                x2: thumbOffset + thumbLen - size / 2,\n                y2: size / 2,\n                lineWidth: size,\n                stroke: thumbColor,\n                lineCap: lineCap,\n                cursor: 'default',\n            }\n            : {\n                x1: size / 2,\n                y1: thumbOffset + size / 2,\n                x2: size / 2,\n                y2: thumbOffset + thumbLen - size / 2,\n                lineWidth: size,\n                stroke: thumbColor,\n                lineCap: lineCap,\n                cursor: 'default',\n            };\n        return this.addShape(group, {\n            id: this.getElementId('thumb'),\n            name: 'thumb',\n            type: 'line',\n            attrs: attrs,\n        });\n    };\n    Scrollbar.prototype.bindEvents = function () {\n        var group = this.get('group');\n        group.on('mousedown', this.onStartEvent(false));\n        group.on('mouseup', this.onMouseUp);\n        group.on('touchstart', this.onStartEvent(true));\n        group.on('touchend', this.onMouseUp);\n        var trackShape = group.findById(this.getElementId('track'));\n        trackShape.on('click', this.onTrackClick);\n        var thumbShape = group.findById(this.getElementId('thumb'));\n        thumbShape.on('mouseover', this.onThumbMouseOver);\n        thumbShape.on('mouseout', this.onThumbMouseOut);\n    };\n    Scrollbar.prototype.getContainerDOM = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        return canvas && canvas.get('container');\n    };\n    Scrollbar.prototype.validateRange = function (offset) {\n        var _a = this.cfg, thumbLen = _a.thumbLen, trackLen = _a.trackLen;\n        var newOffset = offset;\n        if (offset + thumbLen > trackLen) {\n            newOffset = trackLen - thumbLen;\n        }\n        else if (offset + thumbLen < thumbLen) {\n            newOffset = 0;\n        }\n        return newOffset;\n    };\n    Scrollbar.prototype.draw = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        if (canvas) {\n            canvas.draw();\n        }\n    };\n    Scrollbar.prototype.updateThumbOffset = function (offset) {\n        var _a = this.cfg, thumbOffset = _a.thumbOffset, isHorizontal = _a.isHorizontal, thumbLen = _a.thumbLen, size = _a.size;\n        var newOffset = this.validateRange(offset);\n        if (newOffset === thumbOffset) {\n            // 如果更新后的 offset 与原值相同，则不改变\n            return;\n        }\n        var thumbShape = this.getElementByLocalId('thumb');\n        if (isHorizontal) {\n            thumbShape.attr({\n                x1: newOffset + size / 2,\n                x2: newOffset + thumbLen - size / 2,\n            });\n        }\n        else {\n            thumbShape.attr({\n                y1: newOffset + size / 2,\n                y2: newOffset + thumbLen - size / 2,\n            });\n        }\n        this.emitOffsetChange(newOffset);\n    };\n    Scrollbar.prototype.emitOffsetChange = function (offset) {\n        var _a = this.cfg, originalValue = _a.thumbOffset, trackLen = _a.trackLen, thumbLen = _a.thumbLen;\n        this.cfg.thumbOffset = offset;\n        // 发送事件\n        this.emit('scrollchange', {\n            thumbOffset: offset,\n            ratio: clamp(offset / (trackLen - thumbLen), 0, 1),\n        });\n        this.delegateEmit('valuechange', {\n            originalValue: originalValue,\n            value: offset,\n        });\n    };\n    return Scrollbar;\n}(GroupComponent));\nexport { Scrollbar };\n//# sourceMappingURL=scrollbar.js.map","// components parser\nimport AxisParser from './axis/parser';\nimport GuideLine from './guide-line';\nimport LabelParser from './label/parser';\n\n// components state methods\nimport axisState from './axis/state';\nimport labelState from './label/state';\nimport tooltipState from './tooltip/state';\n\ntype FirstArgs<T> = T extends new (first: infer U) => any ? U : never;\n\nconst COMPONENT_MAPPER = {\n  axis: AxisParser,\n  label: LabelParser,\n  guideLine: GuideLine,\n};\n\nconst STATE_MAPPER = {\n  tooltip: tooltipState,\n  label: labelState,\n  axis: axisState,\n};\n\nexport function getComponent<K extends keyof typeof COMPONENT_MAPPER>(\n  name: K,\n  cfg: FirstArgs<typeof COMPONENT_MAPPER[K]>\n) {\n  const Components = COMPONENT_MAPPER[name];\n  return new Components(cfg).config;\n}\n\nexport function getComponentStateMethod(name, type) {\n  return STATE_MAPPER[name][type];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar line_1 = require(\"./line\");\nvar bezier_1 = require(\"./bezier\");\nfunction cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t; // t * t * t 的性能大概是 Math.pow(t, 3) 的三倍\n    return onet * onet * onet * p0 + 3 * p1 * t * onet * onet + 3 * p2 * t * t * onet + p3 * t * t * t;\n}\nfunction derivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2));\n}\nfunction extrema(p0, p1, p2, p3) {\n    var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n    var b = 6 * p0 - 12 * p1 + 6 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var extremas = [];\n    var t1;\n    var t2;\n    var discSqrt;\n    if (util_1.isNumberEqual(a, 0)) {\n        if (!util_1.isNumberEqual(b, 0)) {\n            t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (util_1.isNumberEqual(disc, 0)) {\n            extremas.push(-b / (2 * a));\n        }\n        else if (disc > 0) {\n            discSqrt = Math.sqrt(disc);\n            t1 = (-b + discSqrt) / (2 * a);\n            t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extremas.push(t2);\n            }\n        }\n    }\n    return extremas;\n}\n// 分割贝塞尔曲线\nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    // 划分点\n    var xt = cubicAt(x1, x2, x3, x4, t);\n    var yt = cubicAt(y1, y2, y3, y4, t);\n    // 计算两点之间的差值点\n    var c1 = line_1.default.pointAt(x1, y1, x2, y2, t);\n    var c2 = line_1.default.pointAt(x2, y2, x3, y3, t);\n    var c3 = line_1.default.pointAt(x3, y3, x4, y4, t);\n    var c12 = line_1.default.pointAt(c1.x, c1.y, c2.x, c2.y, t);\n    var c23 = line_1.default.pointAt(c2.x, c2.y, c3.x, c3.y, t);\n    return [\n        [x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt],\n        [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4],\n    ];\n}\n// 使用迭代法取贝塞尔曲线的长度，二阶和三阶分开写，更清晰和便于调试\nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n    if (iterationCount === 0) {\n        return bezier_1.snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n    }\n    var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n    var left = cubics[0];\n    var right = cubics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return cubicLength.apply(null, left) + cubicLength.apply(null, right);\n}\nexports.default = {\n    extrema: extrema,\n    box: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        var xArr = [x1, x4];\n        var yArr = [y1, y4];\n        var xExtrema = extrema(x1, x2, x3, x4);\n        var yExtrema = extrema(y1, y2, y3, y4);\n        for (var i = 0; i < xExtrema.length; i++) {\n            xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n        }\n        for (var i = 0; i < yExtrema.length; i++) {\n            yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[i]));\n        }\n        return util_1.getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        // 迭代三次，划分成 8 段求长度\n        return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0) {\n        return bezier_1.nearestPoint([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0);\n        return util_1.distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: cubicAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return {\n            x: cubicAt(x1, x2, x3, x4, t),\n            y: cubicAt(y1, y2, y3, y4, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        var dx = derivativeAt(x1, x2, x3, x4, t);\n        var dy = derivativeAt(y1, y2, y3, y4, t);\n        return util_1.piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=cubic.js.map","var methodCache = {};\n/**\n * 获取计算 ticks 的方法\n * @param key 键值\n * @returns 计算 ticks 的方法\n */\nexport function getTickMethod(key) {\n    return methodCache[key];\n}\n/**\n * 注册计算 ticks 的方法\n * @param key 键值\n * @param method 方法\n */\nexport function registerTickMethod(key, method) {\n    methodCache[key] = method;\n}\n//# sourceMappingURL=register.js.map","import { __extends, __spreadArrays } from \"tslib\";\nimport { indexOf, isNil, isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * 分类度量\n * @class\n */\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'cat';\n        _this.isCategory = true;\n        return _this;\n    }\n    Category.prototype.translate = function (value) {\n        var index = indexOf(this.values, value);\n        if (index === -1) {\n            return isNumber(value) ? value : NaN;\n        }\n        return index;\n    };\n    Category.prototype.scale = function (value) {\n        var order = this.translate(value);\n        // 分类数据允许 0.5 范围内调整\n        // if (order < this.min - 0.5 || order > this.max + 0.5) {\n        //   return NaN;\n        // }\n        var percent = this.calcPercent(order, this.min, this.max);\n        return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n    };\n    Category.prototype.invert = function (scaledValue) {\n        var domainRange = this.max - this.min;\n        var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n        var idx = Math.round(domainRange * percent) + this.min;\n        if (idx < this.min || idx > this.max) {\n            return NaN;\n        }\n        return this.values[idx];\n    };\n    Category.prototype.getText = function (value) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var v = value;\n        // value为index\n        if (isNumber(value) && !this.values.includes(value)) {\n            v = this.values[v];\n        }\n        return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n    };\n    // 复写属性\n    Category.prototype.initCfg = function () {\n        this.tickMethod = 'cat';\n    };\n    // 设置 min, max\n    Category.prototype.setDomain = function () {\n        // 用户有可能设置 min\n        if (isNil(this.getConfig('min'))) {\n            this.min = 0;\n        }\n        if (isNil(this.getConfig('max'))) {\n            var size = this.values.length;\n            this.max = size > 1 ? size - 1 : size;\n        }\n    };\n    return Category;\n}(Base));\nexport default Category;\n//# sourceMappingURL=base.js.map","import { isDate, isString, last } from '@antv/util';\nimport fecha from 'fecha';\nimport * as fecha1 from 'fecha';\nimport bisector from './bisector';\nvar FORMAT_METHOD = 'format';\nexport function timeFormat(time, mask) {\n    var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n    return method(time, mask);\n}\n/**\n * 转换成时间戳\n * @param value 时间值\n */\nexport function toTimeStamp(value) {\n    if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n            value = new Date(value).getTime();\n        }\n        else {\n            // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n            // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n            // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n            value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n    }\n    if (isDate(value)) {\n        value = value.getTime();\n    }\n    return value;\n}\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar MONTH = DAY * 31;\nvar YEAR = DAY * 365;\nexport { SECOND, MINUTE, HOUR, DAY, MONTH, YEAR };\nvar intervals = [\n    ['HH:mm:ss', SECOND],\n    ['HH:mm:ss', SECOND * 10],\n    ['HH:mm:ss', SECOND * 30],\n    ['HH:mm', MINUTE],\n    ['HH:mm', MINUTE * 10],\n    ['HH:mm', MINUTE * 30],\n    ['HH', HOUR],\n    ['HH', HOUR * 6],\n    ['HH', HOUR * 12],\n    ['YYYY-MM-DD', DAY],\n    ['YYYY-MM-DD', DAY * 4],\n    ['YYYY-WW', DAY * 7],\n    ['YYYY-MM', MONTH],\n    ['YYYY-MM', MONTH * 4],\n    ['YYYY-MM', MONTH * 6],\n    ['YYYY', DAY * 380],\n];\nexport function getTickInterval(min, max, tickCount) {\n    var target = (max - min) / tickCount;\n    var idx = bisector(function (o) { return o[1]; })(intervals, target) - 1;\n    var interval = intervals[idx];\n    if (idx < 0) {\n        interval = intervals[0];\n    }\n    else if (idx >= intervals.length) {\n        interval = last(intervals);\n    }\n    return interval;\n}\n//# sourceMappingURL=time.js.map","import { __extends } from \"tslib\";\nimport { each, isNumber } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Category from './base';\n/**\n * 时间分类度量\n * @class\n */\nvar TimeCat = /** @class */ (function (_super) {\n    __extends(TimeCat, _super);\n    function TimeCat() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @override\n     */\n    TimeCat.prototype.translate = function (value) {\n        value = toTimeStamp(value);\n        var index = this.values.indexOf(value);\n        if (index === -1) {\n            if (isNumber(value) && value < this.values.length) {\n                index = value;\n            }\n            else {\n                index = NaN;\n            }\n        }\n        return index;\n    };\n    /**\n     * 由于时间类型数据需要转换一下，所以复写 getText\n     * @override\n     */\n    TimeCat.prototype.getText = function (value, tickIndex) {\n        var index = this.translate(value);\n        if (index > -1) {\n            var result = this.values[index];\n            var formatter = this.formatter;\n            result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n            return result;\n        }\n        return value;\n    };\n    TimeCat.prototype.initCfg = function () {\n        this.tickMethod = 'time-cat';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7; // 一般时间数据会显示 7， 14， 30 天的数字\n    };\n    TimeCat.prototype.setDomain = function () {\n        var values = this.values;\n        // 针对时间分类类型，会将时间统一转换为时间戳\n        each(values, function (v, i) {\n            values[i] = toTimeStamp(v);\n        });\n        values.sort(function (v1, v2) {\n            return v1 - v2;\n        });\n        _super.prototype.setDomain.call(this);\n    };\n    return TimeCat;\n}(Category));\nexport default TimeCat;\n//# sourceMappingURL=time.js.map","import { __extends } from \"tslib\";\nimport { filter, getRange, head, isNil, last } from '@antv/util';\nimport Base from '../base';\n/**\n * 连续度量的基类\n * @class\n */\nvar Continuous = /** @class */ (function (_super) {\n    __extends(Continuous, _super);\n    function Continuous() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContinuous = true;\n        return _this;\n    }\n    Continuous.prototype.scale = function (value) {\n        if (isNil(value)) {\n            return NaN;\n        }\n        var rangeMin = this.rangeMin();\n        var rangeMax = this.rangeMax();\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return rangeMin;\n        }\n        var percent = this.getScalePercent(value);\n        return rangeMin + percent * (rangeMax - rangeMin);\n    };\n    Continuous.prototype.init = function () {\n        _super.prototype.init.call(this);\n        // init 完成后保证 min, max 包含 ticks 的范围\n        var ticks = this.ticks;\n        var firstTick = head(ticks);\n        var lastTick = last(ticks);\n        if (firstTick < this.min) {\n            this.min = firstTick;\n        }\n        if (lastTick > this.max) {\n            this.max = lastTick;\n        }\n        // strict-limit 方式\n        if (!isNil(this.minLimit)) {\n            this.min = firstTick;\n        }\n        if (!isNil(this.maxLimit)) {\n            this.max = lastTick;\n        }\n    };\n    Continuous.prototype.setDomain = function () {\n        var _a = getRange(this.values), min = _a.min, max = _a.max;\n        if (isNil(this.min)) {\n            this.min = min;\n        }\n        if (isNil(this.max)) {\n            this.max = max;\n        }\n        if (this.min > this.max) {\n            this.min = min;\n            this.max = max;\n        }\n    };\n    Continuous.prototype.calculateTicks = function () {\n        var _this = this;\n        var ticks = _super.prototype.calculateTicks.call(this);\n        if (!this.nice) {\n            ticks = filter(ticks, function (tick) {\n                return tick >= _this.min && tick <= _this.max;\n            });\n        }\n        return ticks;\n    };\n    // 计算原始值值占的百分比\n    Continuous.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        return (value - min) / (max - min);\n    };\n    Continuous.prototype.getInvertPercent = function (value) {\n        return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n    };\n    return Continuous;\n}(Base));\nexport default Continuous;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport Continuous from './base';\n/**\n * 线性度量\n * @class\n */\nvar Linear = /** @class */ (function (_super) {\n    __extends(Linear, _super);\n    function Linear() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'linear';\n        _this.isLinear = true;\n        return _this;\n    }\n    Linear.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        return this.min + percent * (this.max - this.min);\n    };\n    Linear.prototype.initCfg = function () {\n        this.tickMethod = 'wilkinson-extended';\n        this.nice = false;\n    };\n    return Linear;\n}(Continuous));\nexport default Linear;\n//# sourceMappingURL=linear.js.map","import { each, isNil } from '@antv/util';\n// 求以a为次幂，结果为b的基数，如 x^^a = b;求x\n// 虽然数学上 b 不支持负数，但是这里需要支持 负数\nexport function calBase(a, b) {\n    var e = Math.E;\n    var value;\n    if (b >= 0) {\n        value = Math.pow(e, Math.log(b) / a); // 使用换底公式求底\n    }\n    else {\n        value = Math.pow(e, Math.log(-b) / a) * -1; // 使用换底公式求底\n    }\n    return value;\n}\nexport function log(a, b) {\n    if (a === 1) {\n        return 1;\n    }\n    return Math.log(b) / Math.log(a);\n}\nexport function getLogPositiveMin(values, base, max) {\n    if (isNil(max)) {\n        max = Math.max.apply(null, values);\n    }\n    var positiveMin = max;\n    each(values, function (value) {\n        if (value > 0 && value < positiveMin) {\n            positiveMin = value;\n        }\n    });\n    if (positiveMin === max) {\n        positiveMin = max / base;\n    }\n    if (positiveMin > 1) {\n        positiveMin = 1;\n    }\n    return positiveMin;\n}\n//# sourceMappingURL=math.js.map","import { __extends } from \"tslib\";\nimport { getLogPositiveMin, log } from '../util/math';\nimport Continuous from './base';\n/**\n * Log 度量，处理非均匀分布\n */\nvar Log = /** @class */ (function (_super) {\n    __extends(Log, _super);\n    function Log() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'log';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Log.prototype.invert = function (value) {\n        var base = this.base;\n        var max = log(base, this.max);\n        var rangeMin = this.rangeMin();\n        var range = this.rangeMax() - rangeMin;\n        var min;\n        var positiveMin = this.positiveMin;\n        if (positiveMin) {\n            if (value === 0) {\n                return 0;\n            }\n            min = log(base, positiveMin / base);\n            var appendPercent = (1 / (max - min)) * range; // 0 到 positiveMin的占比\n            if (value < appendPercent) {\n                // 落到 0 - positiveMin 之间\n                return (value / appendPercent) * positiveMin;\n            }\n        }\n        else {\n            min = log(base, this.min);\n        }\n        var percent = (value - rangeMin) / range;\n        var tmp = percent * (max - min) + min;\n        return Math.pow(base, tmp);\n    };\n    Log.prototype.initCfg = function () {\n        this.tickMethod = 'log';\n        this.base = 10;\n        this.tickCount = 6;\n        this.nice = true;\n    };\n    // 设置\n    Log.prototype.setDomain = function () {\n        _super.prototype.setDomain.call(this);\n        var min = this.min;\n        if (min < 0) {\n            throw new Error('When you use log scale, the minimum value must be greater than zero!');\n        }\n        if (min === 0) {\n            this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n        }\n    };\n    // 根据当前值获取占比\n    Log.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return 0;\n        }\n        // 如果值小于等于0，则按照0处理\n        if (value <= 0) {\n            return 0;\n        }\n        var base = this.base;\n        var positiveMin = this.positiveMin;\n        // 如果min == 0, 则根据比0大的最小值，计算比例关系。这个最小值作为坐标轴上的第二个tick，第一个是0但是不显示\n        if (positiveMin) {\n            min = (positiveMin * 1) / base;\n        }\n        var percent;\n        // 如果数值小于次小值，那么就计算 value / 次小值 占整体的比例\n        if (value < positiveMin) {\n            percent = value / positiveMin / (log(base, max) - log(base, min));\n        }\n        else {\n            percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n        }\n        return percent;\n    };\n    return Log;\n}(Continuous));\nexport default Log;\n//# sourceMappingURL=log.js.map","import { __extends } from \"tslib\";\nimport { calBase } from '../util/math';\nimport Continuous from './base';\n/**\n * Pow 度量，处理非均匀分布\n */\nvar Pow = /** @class */ (function (_super) {\n    __extends(Pow, _super);\n    function Pow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'pow';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Pow.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        var exponent = this.exponent;\n        var max = calBase(exponent, this.max);\n        var min = calBase(exponent, this.min);\n        var tmp = percent * (max - min) + min;\n        var factor = tmp >= 0 ? 1 : -1;\n        return Math.pow(tmp, exponent) * factor;\n    };\n    Pow.prototype.initCfg = function () {\n        this.tickMethod = 'pow';\n        this.exponent = 2;\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    // 获取度量计算时，value占的定义域百分比\n    Pow.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return 0;\n        }\n        var exponent = this.exponent;\n        var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n        return percent;\n    };\n    return Pow;\n}(Continuous));\nexport default Pow;\n//# sourceMappingURL=pow.js.map","import { __extends } from \"tslib\";\nimport { each, isDate, isNil, isNumber, isString } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Linear from './linear';\n/**\n * 时间度量\n * @class\n */\nvar Time = /** @class */ (function (_super) {\n    __extends(Time, _super);\n    function Time() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'time';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Time.prototype.getText = function (value, index) {\n        var numberValue = this.translate(value);\n        var formatter = this.formatter;\n        return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n    };\n    /**\n     * @override\n     */\n    Time.prototype.scale = function (value) {\n        var v = value;\n        if (isString(v) || isDate(v)) {\n            v = this.translate(v);\n        }\n        return _super.prototype.scale.call(this, v);\n    };\n    /**\n     * 将时间转换成数字\n     * @override\n     */\n    Time.prototype.translate = function (v) {\n        return toTimeStamp(v);\n    };\n    Time.prototype.initCfg = function () {\n        this.tickMethod = 'time-pretty';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7;\n        this.nice = false;\n    };\n    Time.prototype.setDomain = function () {\n        var values = this.values;\n        // 是否设置了 min, max，而不是直接取 this.min, this.max\n        var minConfig = this.getConfig('min');\n        var maxConfig = this.getConfig('max');\n        // 如果设置了 min,max 则转换成时间戳\n        if (!isNil(minConfig) || !isNumber(minConfig)) {\n            this.min = this.translate(this.min);\n        }\n        if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n            this.max = this.translate(this.max);\n        }\n        // 没有设置 min, max 时\n        if (values && values.length) {\n            // 重新计算最大最小值\n            var timeStamps_1 = [];\n            var min_1 = Infinity; // 最小值\n            var secondMin_1 = min_1; // 次小值\n            var max_1 = 0;\n            // 使用一个循环，计算min,max,secondMin\n            each(values, function (v) {\n                var timeStamp = toTimeStamp(v);\n                if (isNaN(timeStamp)) {\n                    throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n                }\n                if (min_1 > timeStamp) {\n                    secondMin_1 = min_1;\n                    min_1 = timeStamp;\n                }\n                else if (secondMin_1 > timeStamp) {\n                    secondMin_1 = timeStamp;\n                }\n                if (max_1 < timeStamp) {\n                    max_1 = timeStamp;\n                }\n                timeStamps_1.push(timeStamp);\n            });\n            // 存在多个值时，设置最小间距\n            if (values.length > 1) {\n                this.minTickInterval = secondMin_1 - min_1;\n            }\n            if (isNil(minConfig)) {\n                this.min = min_1;\n            }\n            if (isNil(maxConfig)) {\n                this.max = max_1;\n            }\n        }\n    };\n    return Time;\n}(Linear));\nexport default Time;\n//# sourceMappingURL=time.js.map","import { __extends } from \"tslib\";\nimport { each, head, last } from '@antv/util';\nimport Continuous from './base';\n/**\n * 分段度量\n */\nvar Quantize = /** @class */ (function (_super) {\n    __extends(Quantize, _super);\n    function Quantize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'quantize';\n        return _this;\n    }\n    Quantize.prototype.invert = function (value) {\n        var ticks = this.ticks;\n        var length = ticks.length;\n        var percent = this.getInvertPercent(value);\n        var minIndex = Math.floor(percent * (length - 1));\n        // 最后一个\n        if (minIndex >= length - 1) {\n            return last(ticks);\n        }\n        // 超出左边界， 则取第一个\n        if (minIndex < 0) {\n            return head(ticks);\n        }\n        var minTick = ticks[minIndex];\n        var nextTick = ticks[minIndex + 1];\n        // 比当前值小的 tick 在度量上的占比\n        var minIndexPercent = minIndex / (length - 1);\n        var maxIndexPercent = (minIndex + 1) / (length - 1);\n        return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n    };\n    Quantize.prototype.initCfg = function () {\n        this.tickMethod = 'r-pretty';\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    Quantize.prototype.calculateTicks = function () {\n        var ticks = _super.prototype.calculateTicks.call(this);\n        if (!this.nice) { // 如果 nice = false ,补充 min, max\n            if (last(ticks) !== this.max) {\n                ticks.push(this.max);\n            }\n            if (head(ticks) !== this.min) {\n                ticks.unshift(this.min);\n            }\n        }\n        return ticks;\n    };\n    // 计算当前值在刻度中的占比\n    Quantize.prototype.getScalePercent = function (value) {\n        var ticks = this.ticks;\n        // 超出左边界\n        if (value < head(ticks)) {\n            return 0;\n        }\n        // 超出右边界\n        if (value > last(ticks)) {\n            return 1;\n        }\n        var minIndex = 0;\n        each(ticks, function (tick, index) {\n            if (value >= tick) {\n                minIndex = index;\n            }\n            else {\n                return false;\n            }\n        });\n        return minIndex / (ticks.length - 1);\n    };\n    return Quantize;\n}(Continuous));\nexport default Quantize;\n//# sourceMappingURL=quantize.js.map","import { __extends } from \"tslib\";\nimport Quantize from './quantize';\nvar Quantile = /** @class */ (function (_super) {\n    __extends(Quantile, _super);\n    function Quantile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'quantile';\n        return _this;\n    }\n    Quantile.prototype.initCfg = function () {\n        this.tickMethod = 'quantile';\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    return Quantile;\n}(Quantize));\nexport default Quantile;\n//# sourceMappingURL=quantile.js.map","import { __extends } from \"tslib\";\nimport { isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n */\nvar Identity = /** @class */ (function (_super) {\n    __extends(Identity, _super);\n    function Identity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'identity';\n        _this.isIdentity = true;\n        return _this;\n    }\n    Identity.prototype.calculateTicks = function () {\n        return this.values;\n    };\n    Identity.prototype.scale = function (value) {\n        // 如果传入的值不等于 identity 的值，则直接返回，用于一维图时的 dodge\n        if (this.values[0] !== value && isNumber(value)) {\n            return value;\n        }\n        return this.range[0];\n    };\n    Identity.prototype.invert = function (value) {\n        var range = this.range;\n        if (value < range[0] || value > range[1]) {\n            return NaN;\n        }\n        return this.values[0];\n    };\n    return Identity;\n}(Base));\nexport default Identity;\n//# sourceMappingURL=index.js.map","import { filter, isNil, isNumber } from '@antv/util';\nimport extended from '../util/extended';\n/**\n * 计算分类 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateCatTicks(cfg) {\n    var values = cfg.values, tickInterval = cfg.tickInterval, tickCount = cfg.tickCount;\n    var ticks = values;\n    if (isNumber(tickInterval)) {\n        return filter(ticks, function (__, i) { return i % tickInterval === 0; });\n    }\n    var min = cfg.min, max = cfg.max;\n    if (isNil(min)) {\n        min = 0;\n    }\n    if (isNil(max)) {\n        max = values.length - 1;\n    }\n    if (isNumber(tickCount) && tickCount < max - min) {\n        // 简单过滤，部分情况下小数的倍数也可以是整数\n        // tslint:disable-next-line: no-shadowed-variable\n        var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n        var valid = filter(ticks_1, function (tick) { return tick >= min && tick <= max; });\n        return valid.map(function (index) { return values[index]; });\n    }\n    return values.slice(min, max + 1);\n}\n//# sourceMappingURL=cat.js.map","export default function d3Linear(cfg) {\n    var min = cfg.min, max = cfg.max, nice = cfg.nice, tickCount = cfg.tickCount;\n    var linear = new D3Linear();\n    linear.domain([min, max]);\n    if (nice) {\n        linear.nice(tickCount);\n    }\n    return linear.ticks(tickCount);\n}\nvar DEFAULT_COUNT = 5;\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\n// https://github.com/d3/d3-scale\nvar D3Linear = /** @class */ (function () {\n    function D3Linear() {\n        this._domain = [0, 1];\n    }\n    D3Linear.prototype.domain = function (domain) {\n        if (domain) {\n            this._domain = Array.from(domain, Number);\n            return this;\n        }\n        return this._domain.slice();\n    };\n    D3Linear.prototype.nice = function (count) {\n        var _a, _b;\n        if (count === void 0) { count = DEFAULT_COUNT; }\n        var d = this._domain.slice();\n        var i0 = 0;\n        var i1 = this._domain.length - 1;\n        var start = this._domain[i0];\n        var stop = this._domain[i1];\n        var step;\n        if (stop < start) {\n            _a = [stop, start], start = _a[0], stop = _a[1];\n            _b = [i1, i0], i0 = _b[0], i1 = _b[1];\n        }\n        step = tickIncrement(start, stop, count);\n        if (step > 0) {\n            start = Math.floor(start / step) * step;\n            stop = Math.ceil(stop / step) * step;\n            step = tickIncrement(start, stop, count);\n        }\n        else if (step < 0) {\n            start = Math.ceil(start * step) / step;\n            stop = Math.floor(stop * step) / step;\n            step = tickIncrement(start, stop, count);\n        }\n        if (step > 0) {\n            d[i0] = Math.floor(start / step) * step;\n            d[i1] = Math.ceil(stop / step) * step;\n            this.domain(d);\n        }\n        else if (step < 0) {\n            d[i0] = Math.ceil(start * step) / step;\n            d[i1] = Math.floor(stop * step) / step;\n            this.domain(d);\n        }\n        return this;\n    };\n    D3Linear.prototype.ticks = function (count) {\n        if (count === void 0) { count = DEFAULT_COUNT; }\n        return d3ArrayTicks(this._domain[0], this._domain[this._domain.length - 1], count || DEFAULT_COUNT);\n    };\n    return D3Linear;\n}());\nexport { D3Linear };\nfunction d3ArrayTicks(start, stop, count) {\n    var reverse;\n    var i = -1;\n    var n;\n    var ticks;\n    var step;\n    (stop = +stop), (start = +start), (count = +count);\n    if (start === stop && count > 0) {\n        return [start];\n    }\n    // tslint:disable-next-line\n    if ((reverse = stop < start)) {\n        (n = start), (start = stop), (stop = n);\n    }\n    // tslint:disable-next-line\n    if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) {\n        return [];\n    }\n    if (step > 0) {\n        start = Math.ceil(start / step);\n        stop = Math.floor(stop / step);\n        ticks = new Array((n = Math.ceil(stop - start + 1)));\n        while (++i < n) {\n            ticks[i] = (start + i) * step;\n        }\n    }\n    else {\n        start = Math.floor(start * step);\n        stop = Math.ceil(stop * step);\n        ticks = new Array((n = Math.ceil(start - stop + 1)));\n        while (++i < n) {\n            ticks[i] = (start - i) / step;\n        }\n    }\n    if (reverse) {\n        ticks.reverse();\n    }\n    return ticks;\n}\nfunction tickIncrement(start, stop, count) {\n    var step = (stop - start) / Math.max(0, count);\n    var power = Math.floor(Math.log(step) / Math.LN10);\n    var error = step / Math.pow(10, power);\n    return power >= 0\n        ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n        : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n//# sourceMappingURL=d3-linear.js.map","import { fixedBase } from '@antv/util';\nfunction snapMultiple(v, base, snapType) {\n    var div;\n    if (snapType === 'ceil') {\n        div = Math.ceil(v / base);\n    }\n    else if (snapType === 'floor') {\n        div = Math.floor(v / base);\n    }\n    else {\n        div = Math.round(v / base);\n    }\n    return div * base;\n}\nexport default function intervalTicks(min, max, interval) {\n    // 变成 interval 的倍数\n    var minTick = snapMultiple(min, interval, 'floor');\n    var maxTick = snapMultiple(max, interval, 'ceil');\n    // 统一小数位数\n    minTick = fixedBase(minTick, interval);\n    maxTick = fixedBase(maxTick, interval);\n    var ticks = [];\n    for (var i = minTick; i <= maxTick; i = i + interval) {\n        var tickValue = fixedBase(i, interval); // 防止浮点数加法出现问题\n        ticks.push(tickValue);\n    }\n    return {\n        min: minTick,\n        max: maxTick,\n        ticks: ticks\n    };\n}\n//# sourceMappingURL=interval.js.map","import { isNil } from '@antv/util';\n/**\n * 按照给定的 minLimit/maxLimit/tickCount 均匀计算出刻度 ticks\n *\n * @param cfg Scale 配置项\n * @return ticks\n */\nexport default function strictLimit(cfg, defaultMin, defaultMax) {\n    var _a;\n    var minLimit = cfg.minLimit, maxLimit = cfg.maxLimit, min = cfg.min, max = cfg.max, _b = cfg.tickCount, tickCount = _b === void 0 ? 5 : _b;\n    var tickMin = isNil(minLimit) ? (isNil(defaultMin) ? min : defaultMin) : minLimit;\n    var tickMax = isNil(maxLimit) ? (isNil(defaultMax) ? max : defaultMax) : maxLimit;\n    if (tickMin > tickMax) {\n        _a = [tickMin, tickMax], tickMax = _a[0], tickMin = _a[1];\n    }\n    if (tickCount <= 2) {\n        return [tickMin, tickMax];\n    }\n    var step = (tickMax - tickMin) / (tickCount - 1);\n    var ticks = [];\n    for (var i = 0; i < tickCount; i++) {\n        ticks.push(tickMin + step * i);\n    }\n    return ticks;\n}\n//# sourceMappingURL=strict-limit.js.map","/**\n * 计算几分位 https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n * @param x  数组\n * @param p  百分比\n */\nfunction quantileSorted(x, p) {\n    var idx = x.length * p;\n    /*if (x.length === 0) { // 当前场景这些条件不可能命中\n      throw new Error('quantile requires at least one value.');\n    } else if (p < 0 || p > 1) {\n      throw new Error('quantiles must be between 0 and 1');\n    } else */\n    if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n    }\n    else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n    }\n    else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n    }\n    else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n    }\n    else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n    }\n}\nexport default function calculateTicks(cfg) {\n    var tickCount = cfg.tickCount, values = cfg.values;\n    if (!values || !values.length) {\n        return [];\n    }\n    var sorted = values.slice().sort(function (a, b) {\n        return a - b;\n    });\n    var ticks = [];\n    for (var i = 0; i < tickCount; i++) {\n        var p = i / (tickCount - 1);\n        ticks.push(quantileSorted(sorted, p));\n    }\n    return ticks;\n}\n//# sourceMappingURL=quantile.js.map","import { DAY, HOUR, MINUTE, MONTH, SECOND, YEAR } from '../util/time';\nfunction getYear(date) {\n    return new Date(date).getFullYear();\n}\nfunction createYear(year) {\n    return new Date(year, 0, 1).getTime();\n}\nfunction getMonth(date) {\n    return new Date(date).getMonth();\n}\nfunction diffMonth(min, max) {\n    var minYear = getYear(min);\n    var maxYear = getYear(max);\n    var minMonth = getMonth(min);\n    var maxMonth = getMonth(max);\n    return (maxYear - minYear) * 12 + ((maxMonth - minMonth) % 12);\n}\nfunction creatMonth(year, month) {\n    return new Date(year, month, 1).getTime();\n}\nfunction diffDay(min, max) {\n    return Math.ceil((max - min) / DAY);\n}\nfunction diffHour(min, max) {\n    return Math.ceil((max - min) / HOUR);\n}\nfunction diffMinus(min, max) {\n    return Math.ceil((max - min) / (60 * 1000));\n}\n/**\n * 计算 time 的 ticks，对 month, year 进行 pretty 处理\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function timePretty(cfg) {\n    var min = cfg.min, max = cfg.max, minTickInterval = cfg.minTickInterval;\n    var tickInterval = cfg.tickInterval;\n    var tickCount = cfg.tickCount;\n    var ticks = [];\n    // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n    if (!tickInterval) {\n        tickInterval = (max - min) / tickCount;\n        // 如果设置了最小间距，则使用最小间距\n        if (minTickInterval && tickInterval < minTickInterval) {\n            tickInterval = minTickInterval;\n        }\n    }\n    var minYear = getYear(min);\n    // 如果间距大于 1 年，则将开始日期从整年开始\n    if (tickInterval > YEAR) {\n        var maxYear = getYear(max);\n        var yearInterval = Math.ceil(tickInterval / YEAR);\n        for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n            ticks.push(createYear(i));\n        }\n    }\n    else if (tickInterval > MONTH) {\n        // 大于月时\n        var monthInterval = Math.ceil(tickInterval / MONTH);\n        var mmMoth = getMonth(min);\n        var dMonths = diffMonth(min, max);\n        for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n            ticks.push(creatMonth(minYear, i + mmMoth));\n        }\n    }\n    else if (tickInterval > DAY) {\n        // 大于天\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var mday = date.getDate();\n        var day = Math.ceil(tickInterval / DAY);\n        var ddays = diffDay(min, max);\n        for (var i = 0; i < ddays + day; i = i + day) {\n            ticks.push(new Date(year, month, mday + i).getTime());\n        }\n    }\n    else if (tickInterval > HOUR) {\n        // 大于小时\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var day = date.getDate();\n        var hour = date.getHours();\n        var hours = Math.ceil(tickInterval / HOUR);\n        var dHours = diffHour(min, max);\n        for (var i = 0; i <= dHours + hours; i = i + hours) {\n            ticks.push(new Date(year, month, day, hour + i).getTime());\n        }\n    }\n    else if (tickInterval > MINUTE) {\n        // 大于分钟\n        var dMinus = diffMinus(min, max);\n        var minutes = Math.ceil(tickInterval / MINUTE);\n        for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n            ticks.push(min + i * MINUTE);\n        }\n    }\n    else {\n        // 小于分钟\n        var interval = tickInterval;\n        if (interval < SECOND) {\n            interval = SECOND;\n        }\n        var minSecond = Math.floor(min / SECOND) * SECOND;\n        var dSeconds = Math.ceil((max - min) / SECOND);\n        var seconds = Math.ceil(interval / SECOND);\n        for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n            ticks.push(minSecond + i * SECOND);\n        }\n    }\n    return ticks;\n}\n//# sourceMappingURL=time-pretty.js.map","import cat from './cat';\nimport d3Linear from './d3-linear';\nimport linear from './linear';\nimport log from './log';\nimport pow from './pow';\nimport quantile from './quantile';\nimport rPretty from './r-prettry';\nimport { getTickMethod, registerTickMethod } from './register';\nimport time from './time';\nimport timeCat from './time-cat';\nimport timePretty from './time-pretty';\nregisterTickMethod('cat', cat);\nregisterTickMethod('time-cat', timeCat);\nregisterTickMethod('wilkinson-extended', linear);\nregisterTickMethod('r-pretty', rPretty);\nregisterTickMethod('time', time);\nregisterTickMethod('time-pretty', timePretty);\nregisterTickMethod('log', log);\nregisterTickMethod('pow', pow);\nregisterTickMethod('quantile', quantile);\nregisterTickMethod('d3-linear', d3Linear);\nexport { getTickMethod };\n//# sourceMappingURL=index.js.map","import { last } from '@antv/util';\nimport catTicks from './cat';\n/**\n * 计算时间分类的 ticks, 保头，保尾\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateTimeCatTicks(cfg) {\n    var ticks = catTicks(cfg);\n    var lastValue = last(cfg.values);\n    if (lastValue !== last(ticks)) {\n        ticks.push(lastValue);\n    }\n    return ticks;\n}\n//# sourceMappingURL=time-cat.js.map","import { head, isNil, last } from '@antv/util';\nimport extended from '../util/extended';\nimport interval from '../util/interval';\nimport strictLimit from '../util/strict-limit';\n/**\n * 计算线性的 ticks，使用 wilkinson extended 方法\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function linear(cfg) {\n    var min = cfg.min, max = cfg.max, tickCount = cfg.tickCount, nice = cfg.nice, tickInterval = cfg.tickInterval, minLimit = cfg.minLimit, maxLimit = cfg.maxLimit;\n    var ticks = extended(min, max, tickCount, nice).ticks;\n    if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n    }\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return ticks;\n}\n//# sourceMappingURL=linear.js.map","import { head, isNil, last } from '@antv/util';\nimport interval from '../util/interval';\nimport pretty from '../util/pretty';\nimport strictLimit from '../util/strict-limit';\n/**\n * 计算线性的 ticks，使用 R's pretty 方法\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function linearPretty(cfg) {\n    var min = cfg.min, max = cfg.max, tickCount = cfg.tickCount, tickInterval = cfg.tickInterval, minLimit = cfg.minLimit, maxLimit = cfg.maxLimit;\n    var ticks = pretty(min, max, tickCount).ticks;\n    if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n    }\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return ticks;\n}\n//# sourceMappingURL=r-prettry.js.map","import { getTickInterval } from '../util/time';\nexport default function calculateTimeTicks(cfg) {\n    var min = cfg.min, max = cfg.max, minTickInterval = cfg.minTickInterval;\n    var tickInterval = cfg.tickInterval;\n    var tickCount = cfg.tickCount;\n    // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n    if (tickInterval) {\n        tickCount = Math.ceil((max - min) / tickInterval);\n    }\n    else {\n        tickInterval = getTickInterval(min, max, tickCount)[1];\n        var count = (max - min) / tickInterval;\n        var ratio = count / tickCount;\n        if (ratio > 1) {\n            tickInterval = tickInterval * Math.ceil(ratio);\n        }\n        // 如果设置了最小间距，则使用最小间距\n        if (minTickInterval && tickInterval < minTickInterval) {\n            tickInterval = minTickInterval;\n        }\n    }\n    var ticks = [];\n    for (var i = min; i < max + tickInterval; i += tickInterval) {\n        ticks.push(i);\n    }\n    return ticks;\n}\n//# sourceMappingURL=time.js.map","import { getLogPositiveMin, log } from '../util/math';\n/**\n * 计算 log 的 ticks，考虑 min = 0 的场景\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateLogTicks(cfg) {\n    var base = cfg.base, tickCount = cfg.tickCount, min = cfg.min, max = cfg.max, values = cfg.values;\n    var minTick;\n    var maxTick = log(base, max);\n    if (min > 0) {\n        minTick = Math.floor(log(base, min));\n    }\n    else {\n        var positiveMin = getLogPositiveMin(values, base, max);\n        minTick = Math.floor(log(base, positiveMin));\n    }\n    var count = maxTick - minTick;\n    var avg = Math.ceil(count / tickCount);\n    var ticks = [];\n    for (var i = minTick; i < maxTick + avg; i = i + avg) {\n        ticks.push(Math.pow(base, i));\n    }\n    if (min <= 0) {\n        // 最小值 <= 0 时显示 0\n        ticks.unshift(0);\n    }\n    return ticks;\n}\n//# sourceMappingURL=log.js.map","import { calBase } from '../util/math';\nimport pretty from '../util/pretty';\n/**\n * 计算 Pow 的 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculatePowTicks(cfg) {\n    var exponent = cfg.exponent, tickCount = cfg.tickCount;\n    var max = Math.ceil(calBase(exponent, cfg.max));\n    var min = Math.floor(calBase(exponent, cfg.min));\n    var ticks = pretty(min, max, tickCount).ticks;\n    return ticks.map(function (tick) {\n        var factor = tick >= 0 ? 1 : -1;\n        return Math.pow(tick, exponent) * factor;\n    });\n}\n//# sourceMappingURL=pow.js.map","import { head, isNil, last } from '@antv/util';\nimport d3Linear from '../util/d3-linear';\nimport interval from '../util/interval';\nimport strictLimit from '../util/strict-limit';\nexport default function d3LinearTickMethod(cfg) {\n    var min = cfg.min, max = cfg.max, tickInterval = cfg.tickInterval, minLimit = cfg.minLimit, maxLimit = cfg.maxLimit;\n    var ticks = d3Linear(cfg);\n    if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n    }\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return ticks;\n}\n//# sourceMappingURL=d3-linear.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to ceil\n * @returns {vec2} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to floor\n * @returns {vec2} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to round\n * @returns {vec2} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {vec2} a The vec2 point to rotate\n * @param {vec2} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec2} out\n */\nfunction rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c);\n\n  //perform rotation and translate to correct position\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n\n  return out;\n}\n\n/**\n * Get the angle between two 2D vectors\n * @param {vec2} a The first operand\n * @param {vec2} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n\n  var len1 = x1 * x1 + y1 * y1;\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nfunction str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n\n/**\n * Alias for {@link vec2.length}\n * @function\n */\nvar len = exports.len = length;\n\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\nvar div = exports.div = divide;\n\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\nvar dist = exports.dist = distance;\n\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\nvar sqrDist = exports.sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\nvar sqrLen = exports.sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvar forEach = exports.forEach = function () {\n  var vec = create();\n\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 两点之间的距离\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 结束点 x\n * @param {number} y2 结束点 y\n * @return {number} 距离\n */\nfunction distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexports.distance = distance;\nfunction isNumberEqual(v1, v2) {\n    return Math.abs(v1 - v2) < 0.001;\n}\nexports.isNumberEqual = isNumberEqual;\nfunction getBBoxByArray(xArr, yArr) {\n    var minX = Math.min.apply(null, xArr);\n    var minY = Math.min.apply(null, yArr);\n    var maxX = Math.max.apply(null, xArr);\n    var maxY = Math.max.apply(null, yArr);\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexports.getBBoxByArray = getBBoxByArray;\nfunction piMod(angle) {\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\nexports.piMod = piMod;\n//# sourceMappingURL=util.js.map","import BBox from './bbox';\nimport * as matrixUtil from '@antv/matrix-util';\nimport { each, clone } from '@antv/util';\n\nfunction magnitude(v) {\n  let sum = 0;\n  each(v, (value) => {\n    sum += value * value;\n  });\n  return Math.sqrt(sum);\n}\n\nfunction dotProduct2D(va, vb) {\n  return va.x * vb.y + va.y * vb.x;\n}\n\nfunction angleTo(va, vb) {\n  const magA = magnitude(va);\n  const magB = magnitude(vb);\n  const dot = dotProduct2D(va, vb);\n  const angle = Math.acos(dot / magA / magB);\n  return angle;\n}\n\nfunction crossProduct2D(va, vb) {\n  const magA = magnitude(va);\n  const magB = magnitude(vb);\n  const dot = dotProduct2D(va, vb);\n  const angle = Math.acos(dot / magA / magB);\n  return magA * magB * Math.sin(angle);\n}\n\nfunction crossProduct3D(va, vb) {\n  const ax = va.x,\n    ay = va.y,\n    az = va.z;\n  const bx = vb.x,\n    by = vb.y,\n    bz = vb.z;\n\n  const x = ay * bz - az * by;\n  const y = az * bx - ax * bz;\n  const z = ax * by - ay * bx;\n\n  return { x, y, z };\n}\n\nfunction sub2D(va, vb) {\n  return { x: va.x - vb.x, y: va.y - vb.y };\n}\n\nfunction applyMatrix(point, matrix, tag = 1) {\n  const vector = [point.x, point.y, tag];\n  matrixUtil.vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1],\n  };\n}\n\nfunction isBetween(value, min, max) {\n  return value >= min && value <= max;\n}\n\nconst tolerance = 0.001;\n\nfunction getLineIntersect(p0, p1, p2, p3) {\n  const E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y,\n  };\n  const D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y,\n  };\n  const D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y,\n  };\n  const kross = D0.x * D1.y - D0.y * D1.x;\n  const sqrKross = kross * kross;\n  const sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  const sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n  let point = null;\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    const s = (E.x * D1.y - E.y * D1.x) / kross;\n    const t = (E.x * D0.y - E.y * D0.x) / kross;\n    if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n      point = {\n        x: p0.x + s * D0.x,\n        y: p0.y + s * D0.y,\n      };\n    }\n  }\n  return point;\n}\n\nfunction isPointInPolygon(p, polygon) {\n  /** 射线法 */\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n\n    const intersect = yi > p.y !== yj > p.y && p.x <= ((xj - xi) * (p.y - yi)) / (yj - yi) + xi;\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n  return inside;\n}\n\nfunction sqr(v) {\n  return v * v;\n}\n\nfunction dist2(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPoints(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPointLine(p, p1, p2) {\n  const l2 = dist2(p1, p2);\n  if (l2 === 0) {\n    return dist2(p, p1);\n  }\n  let t = ((p.x - p1.x) * (p2.x - p1.x) + (p.y - p1.y) * (p2.y - p1.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  const distSquare = dist2(p, { x: p1.x + t * (p2.x - p1.x), y: p1.y + t * (p2.y - p1.y) });\n  return Math.sqrt(distSquare);\n}\n\n// todo：待优化 https://blog.csdn.net/WilliamSun0122/article/details/77994526\nfunction minDistBetweenPointPolygon(p, polygon) {\n  let min = Infinity;\n  /** vertice to vertice */\n  each(polygon, (v) => {\n    const dist = Math.sqrt(dist2(v, p));\n    if (min > dist) {\n      min = dist;\n    }\n  });\n  /** vertice to edge */\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    const dist = distBetweenPointLine(p, { x: xi, y: yi }, { x: xj, y: yj });\n    if (min > dist) {\n      min = dist;\n    }\n  }\n\n  return min;\n}\n\nfunction isPolygonIntersection(polyA, polyB) {\n  for (const p of polyA) {\n    const inside = isPointInPolygon(p, polyB);\n    if (inside) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction minDistBetweenConvexPolygon(polyA, polyB) {\n  if (isPolygonIntersection(polyA, polyB)) {\n    return 0;\n  }\n  let minA = Infinity;\n  let minB = Infinity;\n  each(polyA, (v) => {\n    const localMin = minDistBetweenPointPolygon(v, polyB);\n    if (minA > localMin) {\n      minA = localMin;\n    }\n  });\n  each(polyB, (v) => {\n    const localMin = minDistBetweenPointPolygon(v, polyA);\n    if (minB > localMin) {\n      minB = localMin;\n    }\n  });\n\n  return Math.min(minA, minB);\n}\n\nfunction bboxOnRotate(shape) {\n  const bbox = shape.getBBox();\n  const x = bbox.minX;\n  const y = bbox.minY;\n  /*\n   * step1: 获得旋转后的shape包围盒\n   * 将包围盒对齐到原点，apply旋转矩阵\n   * 移回原来的位置\n   */\n  const bboxWidth = bbox.maxX - bbox.minX;\n  const bboxHeight = bbox.maxY - bbox.minY;\n  // const matrix = shape.getTotalMatrix();\n  const matrix = shape.attr('matrix');\n  let ulMatrix;\n  if (matrix) {\n    ulMatrix = [matrix[0], matrix[1], 0, matrix[3], matrix[4], 0, 0, 0, 1];\n  } else {\n    ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n  const top_left = applyMatrix({ x: 0, y: 0 }, ulMatrix);\n  top_left.x += x;\n  top_left.y += y;\n  const top_right = applyMatrix({ x: bboxWidth, y: 0 }, ulMatrix);\n  top_right.x += x;\n  top_right.y += y;\n  const bottom_left = applyMatrix({ x: 0, y: bboxHeight }, ulMatrix);\n  bottom_left.x += x;\n  bottom_left.y += y;\n  const bottom_right = applyMatrix({ x: bboxWidth, y: bboxHeight }, ulMatrix);\n  bottom_right.x += x;\n  bottom_right.y += y;\n  /** step2：根据旋转后的画布位置重新计算包围盒，以免图形进行旋转后上下颠倒 */\n  const points = [top_left, top_right, bottom_left, bottom_right];\n  points.sort((a, b) => {\n    return a.y - b.y;\n  });\n  const minY = points[0].y;\n  const maxY = points[points.length - 1].y;\n  const tops = [points[0], points[1]];\n  const bottoms = [points[2], points[3]];\n  const topLeft = tops[0].x < tops[1].x ? tops[0] : tops[1];\n  const topRight = tops[0].x < tops[1].x ? tops[1] : tops[0];\n  const bottomLeft = bottoms[0].x < bottoms[1].x ? bottoms[0] : bottoms[1];\n  const bottomRight = bottoms[0].x < bottoms[1].x ? bottoms[1] : bottoms[0];\n  points.sort((a, b) => {\n    return a.x - b.x;\n  });\n  const minX = points[0].x;\n  const maxX = points[points.length - 1].x;\n  const node = {\n    width: maxX - minX,\n    height: maxY - minY,\n    left: minX,\n    right: maxX,\n    top: minY,\n    bottom: maxY,\n    topLeft,\n    topRight,\n    bottomLeft,\n    bottomRight,\n    centerX: minX + (maxX - minX) / 2,\n    centerY: minY + (maxY - minY) / 2,\n    // shape\n  };\n  return node;\n}\n\n/**\n * 线简化算法\n */\n\nconst THRESHOLD = 2;\n\nfunction lineSimplification(points) {\n  if (points.length < 5) {\n    return points;\n  }\n  return DouglasPeucker(points, THRESHOLD);\n}\n\n// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\nfunction DouglasPeucker(points, threshold) {\n  let result;\n  let max = -Infinity;\n  let index = 0;\n  const endIndex = points.length - 1;\n  for (let i = 1; i < endIndex; i++) {\n    const point = points[i];\n    const line = { start: points[0], end: points[endIndex] };\n    const dist = distBetweenPointLine(point, line.start, line.end);\n    if (dist > max) {\n      max = dist;\n      index = i;\n    }\n  }\n\n  if (max > threshold) {\n    const list1 = DouglasPeucker(points.slice(0, index + 1), threshold);\n    const list2 = DouglasPeucker(points.slice(index, points.length), threshold);\n    result = list1.concat(list2);\n  } else {\n    result = [points[0], points[points.length - 1]];\n  }\n  return result;\n}\n\n/** 统计的以后迁出去，暂时先放这里 */\nfunction getMedian(array) {\n  const list = clone(array);\n  list.sort((a, b) => {\n    return a - b;\n  });\n\n  const half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return (list[half - 1] + list[half]) / 2.0;\n}\n\nfunction getMean(array) {\n  let sum: number = 0;\n  each(array, (num: number) => {\n    sum += num;\n  });\n  return sum / array.length;\n}\n\nfunction sturges(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n\nexport {\n  applyMatrix,\n  isBetween,\n  getLineIntersect,\n  isPointInPolygon,\n  distBetweenPoints,\n  distBetweenPointLine,\n  isPolygonIntersection,\n  minDistBetweenConvexPolygon,\n  bboxOnRotate,\n  dotProduct2D,\n  crossProduct2D,\n  crossProduct3D,\n  sub2D,\n  angleTo,\n  lineSimplification,\n  getMedian,\n  getMean,\n  sturges,\n  dist2,\n};\n","import { isNil, some, isNumber, filter } from '@antv/util';\nimport { timeIntervals } from '../interface/config';\nimport { ScaleConfig } from '@antv/scale';\nimport { DataItem } from '../interface/config';\n\nfunction adjustTimeTickInterval(interval: string) {\n  const intervals = timeIntervals;\n  const intervalArr = interval.split(' ');\n  const basicInterval = intervals[intervalArr[1]];\n  const intervalCount = parseInt(intervalArr[0], 10);\n  return [basicInterval.format, intervalCount * basicInterval.value];\n}\n\nexport function extractScale(desScale, axisConfig) {\n  if (!axisConfig) {\n    return desScale;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickCount')) {\n    desScale.tickCount = axisConfig.tickCount;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'type')) {\n    // fixme: dateTime plot层处理\n    if (axisConfig.type !== 'dateTime') {\n      desScale.type = axisConfig.type;\n    }\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickInterval')) {\n    if (axisConfig.type === 'time') {\n      desScale.tickInterval = adjustTimeTickInterval(axisConfig.tickInterval);\n    } else {\n      desScale.tickInterval = axisConfig.tickInterval;\n    }\n  }\n\n  if (axisConfig.type === 'time' && axisConfig.mask) {\n    desScale.mask = axisConfig.mask;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'min')) {\n    desScale.min = axisConfig.min;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'max')) {\n    desScale.max = axisConfig.max;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'minLimit')) {\n    desScale.minLimit = axisConfig.minLimit;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'maxLimit')) {\n    desScale.maxLimit = axisConfig.maxLimit;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'nice')) {\n    desScale.nice = axisConfig.nice;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'formatter')) {\n    desScale.formatter = axisConfig.formatter;\n  }\n  if (axisConfig.tickMethod) {\n    desScale.tickMethod = axisConfig.tickMethod;\n  }\n}\n\nexport function trySetScaleMinToZero(desScale: ScaleConfig, data: (number | number[] | string | undefined | null)[]) {\n  const validData: number[] = filter(data, (v) => isNumber(v)) as number[];\n  const min = Math.min(...validData);\n  const max = Math.max(...validData);\n\n  if (min > 0) {\n    if (isNil(desScale.min)) {\n      desScale.min = 0;\n    }\n  } else if (max <= 0) {\n    if (isNil(desScale.max)) {\n      desScale.max = 0;\n    }\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","import { each } from '@antv/util';\n\nexport function rgb2arr(str) {\n  const arr = [];\n  arr.push(parseInt(str.substr(1, 2), 16));\n  arr.push(parseInt(str.substr(3, 2), 16));\n  arr.push(parseInt(str.substr(5, 2), 16));\n  return arr;\n}\n\nexport function toHex(value) {\n  let v;\n  v = Math.round(value);\n  v = v.toString(16);\n  if (v.length === 1) {\n    v = `0${value}`;\n  }\n  return v;\n}\n\nexport function arr2rgb(arr) {\n  return `#${toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2])}`;\n}\n\nexport function mappingColor(band, gray) {\n  let reflect;\n  each(band, (b) => {\n    const map = b;\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n","export var SHAPE_TO_TAGS = {\n    rect: 'path',\n    circle: 'circle',\n    line: 'line',\n    path: 'path',\n    marker: 'path',\n    text: 'text',\n    polyline: 'polyline',\n    polygon: 'polygon',\n    image: 'image',\n    ellipse: 'ellipse',\n    dom: 'foreignObject',\n};\nexport var SVG_ATTR_MAP = {\n    opacity: 'opacity',\n    fillStyle: 'fill',\n    fill: 'fill',\n    fillOpacity: 'fill-opacity',\n    strokeStyle: 'stroke',\n    strokeOpacity: 'stroke-opacity',\n    stroke: 'stroke',\n    x: 'x',\n    y: 'y',\n    r: 'r',\n    rx: 'rx',\n    ry: 'ry',\n    width: 'width',\n    height: 'height',\n    x1: 'x1',\n    x2: 'x2',\n    y1: 'y1',\n    y2: 'y2',\n    lineCap: 'stroke-linecap',\n    lineJoin: 'stroke-linejoin',\n    lineWidth: 'stroke-width',\n    lineDash: 'stroke-dasharray',\n    lineDashOffset: 'stroke-dashoffset',\n    miterLimit: 'stroke-miterlimit',\n    font: 'font',\n    fontSize: 'font-size',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    fontFamily: 'font-family',\n    startArrow: 'marker-start',\n    endArrow: 'marker-end',\n    path: 'd',\n    class: 'class',\n    id: 'id',\n    style: 'style',\n    preserveAspectRatio: 'preserveAspectRatio',\n};\nexport var EVENTS = [\n    'click',\n    'mousedown',\n    'mouseup',\n    'dblclick',\n    'contextmenu',\n    'mouseenter',\n    'mouseleave',\n    'mouseover',\n    'mouseout',\n    'mousemove',\n    'wheel',\n];\n//# sourceMappingURL=constant.js.map","var ENGINES = {};\n/**\n * 通过名字获取渲染 engine\n * @param name 渲染引擎名字\n * @returns G engine\n */\nexport function getEngine(name) {\n    var G = ENGINES[name];\n    if (!G) {\n        throw new Error(\"G engine '\" + name + \"' is not exist, please register it at first.\");\n    }\n    return G;\n}\n/**\n * 注册渲染引擎\n * @param name\n * @param engine\n */\nexport function registerEngine(name, engine) {\n    ENGINES[name] = engine;\n}\n//# sourceMappingURL=index.js.map","import { toArray } from '@antv/util';\nimport { SHAPE_TO_TAGS } from '../constant';\n/**\n * 创建并返回图形的 dom 元素\n * @param  {IShape} shape 图形\n * @return {SVGElement}\n */\nexport function createDom(shape) {\n    var type = SHAPE_TO_TAGS[shape.type];\n    var parent = shape.getParent();\n    if (!type) {\n        throw new Error(\"the type \" + shape.type + \" is not supported by svg\");\n    }\n    var element = document.createElementNS('http://www.w3.org/2000/svg', type);\n    if (shape.get('id')) {\n        element.id = shape.get('id');\n    }\n    shape.set('el', element);\n    shape.set('attrs', {});\n    // 对于 defs 下的 dom 节点，parent 为空，通过 context 统一挂载到 defs 节点下\n    if (parent) {\n        var parentNode = parent.get('el');\n        if (parentNode) {\n            parentNode.appendChild(element);\n        }\n        else {\n            // parentNode maybe null for group\n            parentNode = parent.createDom();\n            parent.set('el', parentNode);\n            parentNode.appendChild(element);\n        }\n    }\n    return element;\n}\n/**\n * 对 dom 元素进行排序\n * @param {IElement} element  元素\n * @param {sorter}   function 排序函数\n */\nexport function sortDom(element, sorter) {\n    var el = element.get('el');\n    var childList = toArray(el.children).sort(sorter);\n    // create empty fragment\n    var fragment = document.createDocumentFragment();\n    childList.forEach(function (child) {\n        fragment.appendChild(child);\n    });\n    el.appendChild(fragment);\n}\n/**\n * 将 dom 元素移动到父元素下的指定位置\n * @param {SVGElement} element     dom 元素\n * @param {number}     targetIndex 目标位置(从 0 开始)\n */\nexport function moveTo(element, targetIndex) {\n    var parentNode = element.parentNode;\n    var siblings = Array.from(parentNode.childNodes).filter(\n    // 要求为元素节点，且不能为 defs 节点\n    function (node) { return node.nodeType === 1 && node.nodeName.toLowerCase() !== 'defs'; });\n    var target = siblings[targetIndex];\n    if (target) {\n        parentNode.insertBefore(element, target);\n    }\n    else {\n        parentNode.appendChild(element);\n    }\n}\n//# sourceMappingURL=dom.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/util\");\n// todo 这个到底目的是什么？\nvar toScaleString = function (scale, value) {\n    if (util_1.isString(value)) {\n        return value;\n    }\n    return scale.invert(scale.scale(value));\n};\n/**\n * 所有视觉通道属性的基类\n * @class Base\n */\nvar Attribute = /** @class */ (function () {\n    function Attribute(cfg) {\n        this.names = [];\n        this.scales = [];\n        this.linear = false;\n        this.values = [];\n        this.callback = function () { return []; };\n        // 解析配置\n        this._parseCfg(cfg);\n    }\n    /**\n     * 映射的值组成的数组\n     * @param params 对应 scale 顺序的值传入\n     */\n    Attribute.prototype.mapping = function () {\n        var _this = this;\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        var values = params.map(function (param, idx) {\n            return _this._toOriginParam(param, _this.scales[idx]);\n        });\n        return this.callback.apply(this, values);\n    };\n    /**\n     * 如果进行线性映射，返回对应的映射值\n     * @param percent\n     */\n    Attribute.prototype.getLinearValue = function (percent) {\n        // 分段数量\n        var steps = this.values.length - 1;\n        var step = Math.floor(steps * percent);\n        var leftPercent = steps * percent - step;\n        // todo 不懂这个逻辑\n        var start = this.values[step];\n        var end = step === steps ? start : this.values[step + 1];\n        // 线性方程\n        return start + (end - start) * leftPercent;\n    };\n    /**\n     * 根据度量获取属性名\n     */\n    Attribute.prototype.getNames = function () {\n        var scales = this.scales;\n        var names = this.names;\n        var length = Math.min(scales.length, names.length);\n        var rst = [];\n        for (var i = 0; i < length; i += 1) {\n            rst.push(names[i]);\n        }\n        return rst;\n    };\n    /**\n     * 获取所有的维度名\n     */\n    Attribute.prototype.getFields = function () {\n        return this.scales.map(function (scale) { return scale.field; });\n    };\n    /**\n     * 根据名称获取度量\n     * @param name\n     */\n    Attribute.prototype.getScale = function (name) {\n        return this.scales[this.names.indexOf(name)];\n    };\n    /**\n     * 默认的回调函数（用户没有自定义 callback，或者用户自定义 callback 返回空的时候，使用 values 映射）\n     * @param params\n     */\n    Attribute.prototype.defaultCallback = function () {\n        var _this = this;\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        // 没有 params 的情况，是指没有指定 fields，直接返回配置的 values 常量\n        if (params.length === 0) {\n            return this.values;\n        }\n        return params.map(function (param, idx) {\n            var scale = _this.scales[idx];\n            return scale.type === 'identity' ? scale.values[0] : _this._getAttributeValue(scale, param);\n        });\n    };\n    // 解析配置\n    Attribute.prototype._parseCfg = function (cfg) {\n        var _this = this;\n        var _a = cfg.type, type = _a === void 0 ? 'base' : _a, _b = cfg.names, names = _b === void 0 ? [] : _b, _c = cfg.scales, scales = _c === void 0 ? [] : _c, _d = cfg.values, values = _d === void 0 ? [] : _d, callback = cfg.callback;\n        this.type = type;\n        this.scales = scales;\n        this.values = values;\n        this.names = names;\n        // 构造 callback 方法\n        this.callback = function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            /**\n             * 当用户设置的 callback 返回 null 时, 应该返回默认 callback 中的值\n             */\n            if (callback) {\n                // 使用用户返回的值处理\n                var ret = callback.apply(void 0, params);\n                if (!util_1.isNil(ret)) {\n                    return [ret];\n                }\n            }\n            // 没有 callback 或者用户 callback 返回值为空，则使用默认的逻辑处理\n            return _this.defaultCallback.apply(_this, params);\n        };\n    };\n    // 获取属性值，将值映射到视觉通道\n    Attribute.prototype._getAttributeValue = function (scale, value) {\n        // 如果是非线性的字段，直接从 values 中取值即可\n        if (scale.isCategory && !this.linear) {\n            // 离散 scale 变换成索引\n            var idx = scale.translate(value);\n            return this.values[idx % this.values.length];\n        }\n        // 线性则使用线性值\n        var percent = scale.scale(value);\n        return this.getLinearValue(percent);\n    };\n    /**\n     * 通过 scale 拿到数据对应的原始的参数\n     * @param param\n     * @param scale\n     * @private\n     */\n    Attribute.prototype._toOriginParam = function (param, scale) {\n        // 是线性，直接返回\n        // 非线性，使用 scale 变换\n        return !scale.isLinear\n            ? util_1.isArray(param)\n                ? param.map(function (p) { return toScaleString(scale, p); })\n                : toScaleString(scale, param)\n            : param;\n    };\n    return Attribute;\n}());\nexports.default = Attribute;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport colorUtil from '@antv/color-util';\nimport { isString } from '@antv/util';\nimport Attribute from './base';\nvar Color = /** @class */ (function (_super) {\n    __extends(Color, _super);\n    function Color(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'color';\n        _this.names = ['color'];\n        if (isString(_this.values)) {\n            _this.linear = true;\n        }\n        _this.gradient = colorUtil.gradient(_this.values);\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Color.prototype.getLinearValue = function (percent) {\n        return this.gradient(percent);\n    };\n    return Color;\n}(Attribute));\nexport default Color;\n//# sourceMappingURL=color.js.map","import { __extends } from \"tslib\";\nimport Attribute from './base';\nvar Opacity = /** @class */ (function (_super) {\n    __extends(Opacity, _super);\n    function Opacity(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'opacity';\n        _this.names = ['opacity'];\n        return _this;\n    }\n    return Opacity;\n}(Attribute));\nexport default Opacity;\n//# sourceMappingURL=opacity.js.map","import { __extends } from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nimport Attribute from './base';\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.names = ['x', 'y'];\n        _this.type = 'position';\n        return _this;\n    }\n    Position.prototype.mapping = function (x, y) {\n        var _a = this.scales, scaleX = _a[0], scaleY = _a[1];\n        if (isNil(x) || isNil(y)) {\n            return [];\n        }\n        return [\n            isArray(x) ? x.map(function (xi) { return scaleX.scale(xi); }) : scaleX.scale(x),\n            isArray(y) ? y.map(function (yi) { return scaleY.scale(yi); }) : scaleY.scale(y),\n        ];\n    };\n    return Position;\n}(Attribute));\nexport default Position;\n//# sourceMappingURL=position.js.map","import { __extends } from \"tslib\";\nimport Attribute from './base';\nvar Shape = /** @class */ (function (_super) {\n    __extends(Shape, _super);\n    function Shape(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'shape';\n        _this.names = ['shape'];\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Shape.prototype.getLinearValue = function (percent) {\n        var idx = Math.round((this.values.length - 1) * percent);\n        return this.values[idx];\n    };\n    return Shape;\n}(Attribute));\nexport default Shape;\n//# sourceMappingURL=shape.js.map","import { __extends } from \"tslib\";\nimport Attribute from './base';\nvar Size = /** @class */ (function (_super) {\n    __extends(Size, _super);\n    function Size(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'size';\n        _this.names = ['size'];\n        return _this;\n    }\n    return Size;\n}(Attribute));\nexport default Size;\n//# sourceMappingURL=size.js.map","/* 依赖的模块，在这里统一引入，方便打包优化 */\nexport { Event, AbstractGroup, AbstractShape } from '@antv/g-base';\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust/lib/factory';\n// attr\nexport { getAttribute, Attribute } from '@antv/attr/lib/factory';\nexport { Color } from '@antv/attr';\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate } from '@antv/coord';\n// scale\nexport { getScale, registerScale, Scale } from '@antv/scale';\n// component\nimport { Annotation, Axis, Component, Crosshair, Grid, GroupComponent, HtmlComponent, Legend, Slider, Tooltip, } from '@antv/component';\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nvar LineAxis = Axis.Line, CircleAxis = Axis.Circle;\nexport { LineAxis, CircleAxis };\n// grid\nvar LineGrid = Grid.Line, CircleGrid = Grid.Circle;\nexport { LineGrid, CircleGrid };\n// legend\nvar CategoryLegend = Legend.Category, ContinuousLegend = Legend.Continuous;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nvar HtmlTooltip = Tooltip.Html;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n//# sourceMappingURL=dependents.js.map","import { firstValue, get, isArray, isEmpty, isNil, isNumber, isString, mix, valuesOfKey } from '@antv/util';\nimport { getScale } from '../dependents';\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n/**\n * 获取字段对应数据的类型\n * @param field 数据字段名\n * @param data 数据源\n * @returns default type 返回对应的数据类型\n */\nfunction getDefaultType(field, data) {\n    var type = 'linear';\n    var value = firstValue(data, field);\n    if (isArray(value)) {\n        value = value[0];\n    }\n    if (dateRegex.test(value)) {\n        type = 'time';\n    }\n    else if (isString(value)) {\n        type = 'cat';\n    }\n    return type;\n}\n/**\n * @ignore\n * 为指定的 `field` 字段数据创建 scale\n * @param field 字段名\n * @param [data] 数据集，可为空\n * @param [scaleDef] 列定义，可为空\n * @returns scale 返回创建的 Scale 实例\n */\nexport function createScaleByField(field, data, scaleDef) {\n    var validData = data || [];\n    if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n        var Identity = getScale('identity');\n        return new Identity({\n            field: field.toString(),\n            values: [field],\n        });\n    }\n    // 如果已经定义过这个度量\n    var type = get(scaleDef, 'type', getDefaultType(field, validData));\n    var cfg = {\n        field: field,\n        values: valuesOfKey(validData, field),\n    };\n    mix(cfg, scaleDef);\n    var ScaleCtor = getScale(type);\n    return new ScaleCtor(cfg);\n}\n/**\n * @ignore\n * 同步 scale\n * @todo 是否可以通过 scale.update() 方法进行更新\n * @param scale 需要同步的 scale 实例\n * @param newScale 同步源 Scale\n */\nexport function syncScale(scale, newScale) {\n    if (scale.type !== 'identity' && newScale.type !== 'identity') {\n        var obj = {};\n        for (var k in newScale) {\n            if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n                obj[k] = newScale[k];\n            }\n        }\n        scale.change(obj);\n    }\n}\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale) {\n    return scale.alias || scale.field;\n}\n//# sourceMappingURL=scale.js.map","import { get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getName } from './scale';\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction) {\n    var start;\n    var end;\n    switch (direction) {\n        case DIRECTION.TOP:\n            start = { x: 0, y: 1 };\n            end = { x: 1, y: 1 };\n            break;\n        case DIRECTION.RIGHT:\n            start = { x: 1, y: 0 };\n            end = { x: 1, y: 1 };\n            break;\n        case DIRECTION.BOTTOM:\n            start = { x: 0, y: 0 };\n            end = { x: 1, y: 0 };\n            break;\n        case DIRECTION.LEFT:\n            start = { x: 0, y: 0 };\n            end = { x: 0, y: 1 };\n            break;\n        default:\n            start = end = { x: 0, y: 0 };\n    }\n    return { start: start, end: end };\n}\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate) {\n    var start;\n    var end;\n    if (coordinate.isTransposed) {\n        start = {\n            x: 0,\n            y: 0,\n        };\n        end = {\n            x: 1,\n            y: 0,\n        };\n    }\n    else {\n        start = {\n            x: 0,\n            y: 0,\n        };\n        end = {\n            x: 0,\n            y: 1,\n        };\n    }\n    return { start: start, end: end };\n}\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate, direction) {\n    var region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n    if (coordinate.isRect) {\n        region = getLineAxisRelativeRegion(direction);\n    }\n    else if (coordinate.isPolar) {\n        region = getCircleAxisRelativeRegion(coordinate);\n    }\n    var start = region.start, end = region.end;\n    return {\n        start: coordinate.convert(start),\n        end: coordinate.convert(end),\n    };\n}\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate, direction) {\n    // rect coordinate, by direction\n    if (coordinate.isRect) {\n        return coordinate.isTransposed\n            ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n                ? 1\n                : -1\n            : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n                ? -1\n                : 1;\n    }\n    // polar y axis, by angle\n    if (coordinate.isPolar) {\n        var startAngle = coordinate.x.start;\n        return startAngle < 0 ? -1 : 1;\n    }\n    return 1;\n}\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region) {\n    var start = region.start, end = region.end;\n    return start.x === end.x;\n}\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region, center) {\n    var start = region.start, end = region.end;\n    var isAxisVertical = isVertical(region);\n    // 垂直\n    if (isAxisVertical) {\n        // 左方,从下到上、右方,从上到下\n        if ((start.y - end.y) * (center.x - start.x) > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    }\n    else {\n        // 下方,从左到右、上方,从右到做\n        if ((end.x - start.x) * (start.y - center.y) > 0) {\n            return -1;\n        }\n        else {\n            return 1;\n        }\n    }\n}\n/**\n * @ignore\n * get the axis cfg from theme\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme, direction) {\n    return get(theme, ['components', 'axis', direction], {});\n}\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate) {\n    // @ts-ignore\n    var startAngle = coordinate.startAngle, endAngle = coordinate.endAngle, center = coordinate.circleCenter, radius = coordinate.polarRadius;\n    return {\n        center: center,\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\n/**\n * @ignore\n * 从配置中获取单个字段的 axis 配置\n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes, field) {\n    if (isBoolean(axes)) {\n        return axes === false ? false : {};\n    }\n    else {\n        return get(axes, [field]);\n    }\n}\n/**\n * @ignore\n * 如果配置了 position，则使用配置\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption, def) {\n    return get(axisOption, 'position', def);\n}\n/**\n * 获取 axis 的 title 文本\n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale, axisOption) {\n    return get(axisOption, ['title', 'text'], getName(scale));\n}\n//# sourceMappingURL=axis.js.map","import { deepMix, each, every, get, isNil } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { getAxisOption } from '../util/axis';\n/**\n * facet 基类\n *  - 定义生命周期，方便自定义 facet\n *  - 提供基础的生命流程方法\n *\n * 生命周期：\n *\n * 初始化 init\n * 1. 初始化容器\n * 2. 数据分面，生成分面布局信息\n *\n * 渲染阶段 render\n * 1. view 创建\n * 2. title\n * 3. axis\n *\n * 清除阶段 clear\n * 1. 清除 view\n *\n * 销毁阶段 destroy\n * 1. clear\n * 2. 清除事件\n * 3. 清除 group\n */\nvar Facet = /** @class */ (function () {\n    function Facet(view, cfg) {\n        /** 是否销毁 */\n        this.destroyed = false;\n        /** 分面之后的所有分面数据结构 */\n        this.facets = [];\n        this.view = view;\n        this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n    }\n    /**\n     * 初始化过程\n     */\n    Facet.prototype.init = function () {\n        // 初始化容器\n        if (!this.container) {\n            this.container = this.createContainer();\n        }\n        // 生成分面布局信息\n        var data = this.view.getData();\n        this.facets = this.generateFacets(data);\n    };\n    /**\n     * 渲染分面，由上层 view 调用。包括：\n     *  - 分面 view\n     *  - 轴\n     *  - title\n     *\n     *  子类可以复写，添加一些其他组件，比如滚动条等\n     */\n    Facet.prototype.render = function () {\n        this.renderViews();\n    };\n    /**\n     * 清空，clear 之后如果还需要使用，需要重新调用 init 初始化过程\n     * 一般在数据有变更的时候调用，重新进行数据的分面逻辑\n     */\n    Facet.prototype.clear = function () {\n        this.clearFacetViews();\n    };\n    /**\n     * 销毁\n     */\n    Facet.prototype.destroy = function () {\n        this.clear();\n        if (this.container) {\n            this.container.remove(true);\n            this.container = undefined;\n        }\n        this.destroyed = true;\n        this.view = undefined;\n        this.facets = [];\n    };\n    /**\n     * 根据 facet 生成 view，可以给上层自定义使用\n     * @param facet\n     */\n    Facet.prototype.facetToView = function (facet) {\n        var region = facet.region, data = facet.data, _a = facet.padding, padding = _a === void 0 ? this.cfg.padding : _a;\n        var view = this.view.createView({\n            region: region,\n            padding: padding,\n        });\n        // 设置分面的数据\n        view.data(data || []);\n        facet.view = view;\n        // 前置钩子\n        this.beforeEachView(view, facet);\n        var eachView = this.cfg.eachView;\n        if (eachView) {\n            eachView(view, facet);\n        }\n        // 后置钩子\n        this.afterEachView(view, facet);\n        return view;\n    };\n    // 创建容器\n    Facet.prototype.createContainer = function () {\n        var foregroundGroup = this.view.getLayer(LAYER.FORE);\n        return foregroundGroup.addGroup();\n    };\n    /**\n     * 初始化 view\n     */\n    Facet.prototype.renderViews = function () {\n        this.createFacetViews();\n    };\n    /**\n     * 创建 分面 view\n     */\n    Facet.prototype.createFacetViews = function () {\n        var _this = this;\n        // 使用分面数据 创建分面 view\n        return this.facets.map(function (facet) {\n            return _this.facetToView(facet);\n        });\n    };\n    /**\n     * 从 view 中清除 facetView\n     */\n    Facet.prototype.clearFacetViews = function () {\n        var _this = this;\n        // 从 view 中移除分面 view\n        each(this.facets, function (facet) {\n            if (facet.view) {\n                _this.view.removeView(facet.view);\n                facet.view = undefined;\n            }\n        });\n    };\n    // 其他一些提供给子类使用的方法\n    /**\n     * 获取这个字段对应的所有值，数组\n     * @protected\n     * @param data 数据\n     * @param field 字段名\n     * @return 字段对应的值\n     */\n    Facet.prototype.getFieldValues = function (data, field) {\n        var rst = [];\n        var cache = {};\n        // 去重、去除 Nil 值\n        each(data, function (d) {\n            var value = d[field];\n            if (!isNil(value) && !cache[value]) {\n                rst.push(value);\n                cache[value] = true;\n            }\n        });\n        return rst;\n    };\n    /**\n     * 获得每个分面的 region，平分区域\n     * @param rows row 总数\n     * @param cols col 总数\n     * @param xIndex x 方向 index\n     * @param yIndex y 方向 index\n     */\n    Facet.prototype.getRegion = function (rows, cols, xIndex, yIndex) {\n        // x, y 方向均分 100% 宽高\n        var xRatio = 1 / (cols === 0 ? 1 : cols);\n        var yRatio = 1 / (rows === 0 ? 1 : rows);\n        var start = {\n            x: xRatio * xIndex,\n            y: yRatio * yIndex,\n        };\n        var end = {\n            x: xRatio * (xIndex + 1),\n            y: yRatio * (yIndex + 1),\n        };\n        return {\n            start: start,\n            end: end,\n        };\n    };\n    Facet.prototype.getDefaultCfg = function () {\n        return {\n            eachView: undefined,\n            showTitle: true,\n            padding: 10,\n            fields: [],\n        };\n    };\n    /**\n     * 默认的 title 样式，因为有的分面是 title，有的分面配置是 columnTitle、rowTitle\n     */\n    Facet.prototype.getDefaultTitleCfg = function () {\n        // @ts-ignore\n        var fontFamily = this.view.getTheme().fontFamily;\n        return {\n            style: {\n                fontSize: 14,\n                fill: '#666',\n                fontFamily: fontFamily,\n            }\n        };\n    };\n    /**\n     * 处理 axis 的默认配置\n     * @param view\n     * @param facet\n     */\n    Facet.prototype.processAxis = function (view, facet) {\n        var options = view.getOptions();\n        var coordinateOption = options.coordinate;\n        var geometries = view.geometries;\n        var coordinateType = get(coordinateOption, 'type', 'rect');\n        if (coordinateType === 'rect' && geometries.length) {\n            if (isNil(options.axes)) {\n                // @ts-ignore\n                options.axes = {};\n            }\n            var axes = options.axes;\n            var _a = geometries[0].getXYFields(), x = _a[0], y = _a[1];\n            var xOption = getAxisOption(axes, x);\n            var yOption = getAxisOption(axes, y);\n            if (xOption !== false) {\n                options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n            }\n            if (yOption !== false) {\n                options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n            }\n        }\n    };\n    /**\n     * 获取分面数据\n     * @param conditions\n     */\n    Facet.prototype.getFacetDataFilter = function (conditions) {\n        return function (datum) {\n            // 过滤出全部满足条件的数据\n            return every(conditions, function (condition) {\n                var field = condition.field, value = condition.value;\n                if (!isNil(value) && field) {\n                    return datum[field] === value;\n                }\n                return true;\n            });\n        };\n    };\n    return Facet;\n}());\nexport { Facet };\n//# sourceMappingURL=facet.js.map","import { lowerCase } from '@antv/util';\nexport { Facet } from './facet';\n/**\n * 所有的 Facet 类\n */\nvar Facets = {};\n/**\n * 根据 type 获取 facet 类\n * @param type 分面类型\n */\nexport var getFacet = function (type) {\n    return Facets[lowerCase(type)];\n};\n/**\n * 注册一个 Facet 类\n * @param type 分面类型\n * @param ctor 分面类\n */\nexport var registerFacet = function (type, ctor) {\n    Facets[lowerCase(type)] = ctor;\n};\n//# sourceMappingURL=index.js.map","import { assign } from '@antv/util';\n/**\n * Action 的基类\n */\nvar Action = /** @class */ (function () {\n    function Action(context, cfg) {\n        this.context = context;\n        this.cfg = cfg;\n        context.addAction(this);\n    }\n    /**\n     * 设置配置项传入的值\n     * @param cfg\n     */\n    Action.prototype.applyCfg = function (cfg) {\n        assign(this, cfg);\n    };\n    /**\n     * Inits action，提供给子类用于继承\n     */\n    Action.prototype.init = function () {\n        this.applyCfg(this.cfg);\n    };\n    /**\n     * Destroys action\n     */\n    Action.prototype.destroy = function () {\n        // 移除 action\n        this.context.removeAction(this);\n        // 清空\n        this.context = null;\n    };\n    return Action;\n}());\nexport default Action;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport Action from './base';\n/** 回调函数构建的 Action */\nvar CallbackAction = /** @class */ (function (_super) {\n    __extends(CallbackAction, _super);\n    function CallbackAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 执行\n     */\n    CallbackAction.prototype.execute = function () {\n        if (this.callback) {\n            this.callback(this.context);\n        }\n    };\n    /**\n     * 销毁\n     */\n    CallbackAction.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.callback = null;\n    };\n    return CallbackAction;\n}(Action));\nexport default CallbackAction;\n//# sourceMappingURL=callback.js.map","import CallbackAction from './callback';\n// Action 类的缓存\nvar ActionCache = {};\n/**\n * 根据名称获取 Action 实例\n * @param actionName - action 的名称\n * @param context 上下文\n * @returns Action 实例\n */\nexport function createAction(actionName, context) {\n    var actionOption = ActionCache[actionName];\n    var action = null;\n    if (actionOption) {\n        var ActionClass = actionOption.ActionClass, cfg = actionOption.cfg;\n        action = new ActionClass(context, cfg);\n        action.name = actionName;\n        action.init();\n    }\n    return action;\n}\n/**\n * 注册 Action\n * @param actionName - action 的名称\n * @param ActionClass - 继承自 action 的类\n */\nexport function registerAction(actionName, ActionClass, cfg) {\n    ActionCache[actionName] = {\n        ActionClass: ActionClass,\n        cfg: cfg,\n    };\n}\n/**\n * 取消注册 Action\n * @param actionName action 名称\n */\nexport function unregisterAction(actionName) {\n    delete ActionCache[actionName];\n}\n/**\n * 根据回调函数获取 Action 实例\n * @param callback - action 的回调函数\n * @param context 上下文\n * @returns Action 实例\n */\nexport function createCallbackAction(callback, context) {\n    var action = new CallbackAction(context);\n    action.callback = callback;\n    action.name = 'callback';\n    return action;\n}\n//# sourceMappingURL=register.js.map","import { each, isEmpty, isNumber, isNumberEqual } from '@antv/util';\n// 获取图形的包围盒\nfunction getPointsBox(points) {\n    if (isEmpty(points)) {\n        return null;\n    }\n    var minX = points[0].x;\n    var maxX = points[0].x;\n    var minY = points[0].y;\n    var maxY = points[0].y;\n    each(points, function (point) {\n        minX = minX > point.x ? point.x : minX;\n        maxX = maxX < point.x ? point.x : maxX;\n        minY = minY > point.y ? point.y : minY;\n        maxY = maxY < point.y ? point.y : maxY;\n    });\n    return {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n        centerX: (minX + maxX) / 2,\n        centerY: (minY + maxY) / 2,\n    };\n}\n/**\n * @ignore\n * 根据弧度计算极坐标系下的坐标点\n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX, centerY, radius, angleInRadian) {\n    return {\n        x: centerX + radius * Math.cos(angleInRadian),\n        y: centerY + radius * Math.sin(angleInRadian),\n    };\n}\n/**\n * @ignore\n * 根据起始角度计算绘制扇形的 path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(centerX, centerY, radius, startAngleInRadian, endAngleInRadian, innerRadius) {\n    if (innerRadius === void 0) { innerRadius = 0; }\n    var start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n    var end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n    var innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n    var innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n    if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n        // 整个圆是分割成两个圆\n        var middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n        var innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n        var circlePathCommands = [\n            ['M', start.x, start.y],\n            ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 1, end.x, end.y],\n            ['M', innerStart.x, innerStart.y],\n        ];\n        if (innerRadius) {\n            circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n            circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n        }\n        circlePathCommands.push(['M', start.x, start.y]);\n        circlePathCommands.push(['Z']);\n        return circlePathCommands;\n    }\n    var arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n    var sectorPathCommands = [\n        ['M', start.x, start.y],\n        ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n        ['L', innerEnd.x, innerEnd.y],\n    ];\n    if (innerRadius) {\n        sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n    }\n    sectorPathCommands.push(['L', start.x, start.y]);\n    sectorPathCommands.push(['Z']);\n    return sectorPathCommands;\n}\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(centerX, centerY, radius, startAngleInRadian, endAngleInRadian) {\n    var start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n    var end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n    if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n        var middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n        return [\n            ['M', start.x, start.y],\n            ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 1, start.x, start.y],\n            ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 0, start.x, start.y],\n            ['Z'],\n        ];\n    }\n    var arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n    return [\n        ['M', start.x, start.y],\n        ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ];\n}\n/**\n * @ignore\n * 从数据模型中的 points 换算角度\n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel, coordinate) {\n    var points = shapeModel.points;\n    var box = getPointsBox(points);\n    var endAngle;\n    var startAngle;\n    var coordStartAngle = coordinate.startAngle, coordEndAngle = coordinate.endAngle;\n    var diffAngle = coordEndAngle - coordStartAngle;\n    if (coordinate.isTransposed) {\n        endAngle = box.maxY * diffAngle;\n        startAngle = box.minY * diffAngle;\n    }\n    else {\n        endAngle = box.maxX * diffAngle;\n        startAngle = box.minX * diffAngle;\n    }\n    endAngle += coordStartAngle;\n    startAngle += coordStartAngle;\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\n/**\n * @ignore\n * 计算多边形重心: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs, ys) {\n    if (isNumber(xs) && isNumber(ys)) {\n        // 普通色块图，xs 和 ys 是数值\n        return [xs, ys];\n    }\n    var i = -1;\n    var x = 0;\n    var y = 0;\n    var former;\n    var current = xs.length - 1;\n    var diff;\n    var k = 0;\n    while (++i < xs.length) {\n        former = current;\n        current = i;\n        k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n        x += (xs[former] + xs[current]) * diff;\n        y += (ys[former] + ys[current]) * diff;\n    }\n    k *= 3;\n    return [x / k, y / k];\n}\n/**\n * @ignore\n * 获取需要替换的属性，如果原先图形元素存在，而新图形不存在，则设置 undefined\n */\nexport function getReplaceAttrs(sourceShape, targetShape) {\n    var originAttrs = sourceShape.attr();\n    var newAttrs = targetShape.attr();\n    each(originAttrs, function (v, k) {\n        if (newAttrs[k] === undefined) {\n            newAttrs[k] = undefined;\n        }\n    });\n    return newAttrs;\n}\n//# sourceMappingURL=graphics.js.map","import { isArray, isString } from '@antv/util';\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value, start, end) {\n    var min = Math.min(start, end);\n    var max = Math.max(start, end);\n    return value >= min && value <= max;\n}\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source, targetLength, padValue) {\n    if (isString(source)) {\n        return source.padEnd(targetLength, padValue);\n    }\n    else if (isArray(source)) {\n        var sourceLength = source.length;\n        if (sourceLength < targetLength) {\n            var diff = targetLength - sourceLength;\n            for (var i = 0; i < diff; i++) {\n                source.push(padValue);\n            }\n        }\n    }\n    return source;\n}\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit(obj, keys) {\n    keys.forEach(function (key) {\n        delete obj[key];\n    });\n    return obj;\n}\n//# sourceMappingURL=helper.js.map","import { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate) {\n    if (coordinate.isPolar && !coordinate.isTransposed) {\n        // 极坐标系下 width 为弧长\n        return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n    }\n    // 直角坐标系\n    var start = coordinate.convert({ x: 0, y: 0 });\n    var end = coordinate.convert({ x: 1, y: 0 });\n    // 坐标系有可能发生 transpose 等变换，所有通过两点之间的距离进行计算\n    return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate) {\n    if (coordinate.isPolar) {\n        var startAngle = coordinate.startAngle, endAngle = coordinate.endAngle;\n        return endAngle - startAngle === Math.PI * 2;\n    }\n    return false;\n}\n/**\n * @ignore\n * 获取当前点到坐标系圆心的距离\n * @param coordinate 坐标系\n * @param point 当前点\n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate, point) {\n    var center = coordinate.getCenter();\n    return Math.sqrt(Math.pow((point.x - center.x), 2) + Math.pow((point.y - center.y), 2));\n}\n/**\n * @ignore\n * 坐标点是否在坐标系中\n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate, point) {\n    var result = false;\n    if (coordinate) {\n        if (coordinate.type === 'theta') {\n            var start = coordinate.start, end = coordinate.end;\n            result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n        }\n        else {\n            var invertPoint = coordinate.invert(point);\n            result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n        }\n    }\n    return result;\n}\n/**\n * @ignore\n * 获取点到圆心的连线与水平方向的夹角\n */\nexport function getPointAngle(coordinate, point) {\n    var center = coordinate.getCenter();\n    return Math.atan2(point.y - center.y, point.x - center.x);\n}\n/**\n * @ignore\n * 获取同坐标系范围相同的剪切区域\n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate, margin) {\n    if (margin === void 0) { margin = 0; }\n    var start = coordinate.start, end = coordinate.end;\n    var width = coordinate.getWidth();\n    var height = coordinate.getHeight();\n    if (coordinate.isPolar) {\n        var startAngle_1 = coordinate.startAngle, endAngle_1 = coordinate.endAngle;\n        var center_1 = coordinate.getCenter();\n        // @ts-ignore 需要 coordinate 基类上支持\n        var radius_1 = coordinate.getRadius();\n        return {\n            type: 'path',\n            startState: {\n                path: getSectorPath(center_1.x, center_1.y, radius_1 + margin, startAngle_1, startAngle_1),\n            },\n            endState: function (ratio) {\n                var diff = (endAngle_1 - startAngle_1) * ratio + startAngle_1;\n                var path = getSectorPath(center_1.x, center_1.y, radius_1 + margin, startAngle_1, diff);\n                return {\n                    path: path,\n                };\n            },\n            attrs: {\n                path: getSectorPath(center_1.x, center_1.y, radius_1 + margin, startAngle_1, endAngle_1),\n            },\n        };\n    }\n    var endState;\n    if (coordinate.isTransposed) {\n        endState = {\n            height: height + margin * 2,\n        };\n    }\n    else {\n        endState = {\n            width: width + margin * 2,\n        };\n    }\n    return {\n        type: 'rect',\n        startState: {\n            x: start.x - margin,\n            y: end.y - margin,\n            width: coordinate.isTransposed ? width + margin * 2 : 0,\n            height: coordinate.isTransposed ? 0 : height + margin * 2,\n        },\n        endState: endState,\n        attrs: {\n            x: start.x - margin,\n            y: end.y - margin,\n            width: width + margin * 2,\n            height: height + margin * 2,\n        },\n    };\n}\n//# sourceMappingURL=coordinate.js.map","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { getDistanceToCenter } from '../../../util/coordinate';\nfunction _points2path(points, isInCircle) {\n    var path = [];\n    if (points.length) {\n        for (var i = 0, length_1 = points.length; i < length_1; i += 1) {\n            var item = points[i];\n            var command = i === 0 ? 'M' : 'L';\n            path.push([command, item.x, item.y]);\n        }\n        if (isInCircle) {\n            path.push(['Z']);\n        }\n    }\n    return path;\n}\nfunction _convertArr(arr, coord) {\n    var tmp = [arr[0]];\n    for (var i = 1, len = arr.length; i < len; i = i + 2) {\n        var point = coord.convert({\n            x: arr[i],\n            y: arr[i + 1],\n        });\n        tmp.push(point.x, point.y);\n    }\n    return tmp;\n}\nfunction _convertPolarPath(pre, cur, coord) {\n    var isTransposed = coord.isTransposed, startAngle = coord.startAngle, endAngle = coord.endAngle;\n    var prePoint = {\n        x: pre[1],\n        y: pre[2],\n    };\n    var curPoint = {\n        x: cur[1],\n        y: cur[2],\n    };\n    var rst = [];\n    var xDim = isTransposed ? 'y' : 'x';\n    var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n    var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n    var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n    var convertPoint = coord.convert(curPoint);\n    var r = getDistanceToCenter(coord, convertPoint);\n    if (r >= 0.5) {\n        // 小于1像素的圆在图像上无法识别\n        if (angleRange === Math.PI * 2) {\n            var middlePoint = {\n                x: (curPoint.x + prePoint.x) / 2,\n                y: (curPoint.y + prePoint.y) / 2,\n            };\n            var middleConvertPoint = coord.convert(middlePoint);\n            rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n            rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n        }\n        else {\n            rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n        }\n    }\n    return rst;\n}\n// 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\nfunction _filterFullCirleLine(path) {\n    each(path, function (subPath, index) {\n        var cur = subPath;\n        if (cur[0].toLowerCase() === 'a') {\n            var pre = path[index - 1];\n            var next = path[index + 1];\n            if (next && next[0].toLowerCase() === 'a') {\n                if (pre && pre[0].toLowerCase() === 'l') {\n                    pre[0] = 'M';\n                }\n            }\n            else if (pre && pre[0].toLowerCase() === 'a') {\n                if (next && next[0].toLowerCase() === 'l') {\n                    next[0] = 'M';\n                }\n            }\n        }\n    });\n}\n/**\n * @ignore\n * 计算光滑的贝塞尔曲线\n */\nexport var smoothBezier = function (points, smooth, isLoop, constraint) {\n    var cps = [];\n    var prevPoint;\n    var nextPoint;\n    var hasConstraint = !!constraint;\n    var min;\n    var max;\n    if (hasConstraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, l = points.length; i < l; i++) {\n            var point = points[i];\n            min = vec2.min([], min, point);\n            max = vec2.max([], max, point);\n        }\n        min = vec2.min([], min, constraint[0]);\n        max = vec2.max([], max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(point);\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        var v = [];\n        v = vec2.sub(v, nextPoint, prevPoint);\n        v = vec2.scale(v, v, smooth);\n        var d0 = vec2.distance(point, prevPoint);\n        var d1 = vec2.distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        var v1 = vec2.scale([], v, -d0);\n        var v2 = vec2.scale([], v, d1);\n        var cp0 = vec2.add([], point, v1);\n        var cp1 = vec2.add([], point, v2);\n        if (hasConstraint) {\n            cp0 = vec2.max([], cp0, min);\n            cp0 = vec2.min([], cp0, max);\n            cp1 = vec2.max([], cp1, min);\n            cp1 = vec2.min([], cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n};\n/**\n * @ignore\n * 贝塞尔曲线\n */\nexport function catmullRom2bezier(crp, z, constraint) {\n    var isLoop = !!z;\n    var pointList = [];\n    for (var i = 0, l = crp.length; i < l; i += 2) {\n        pointList.push([crp[i], crp[i + 1]]);\n    }\n    var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n    var len = pointList.length;\n    var d1 = [];\n    var cp1;\n    var cp2;\n    var p;\n    for (var i = 0; i < len - 1; i++) {\n        cp1 = controlPointList[i * 2];\n        cp2 = controlPointList[i * 2 + 1];\n        p = pointList[i + 1];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n    }\n    if (isLoop) {\n        cp1 = controlPointList[len];\n        cp2 = controlPointList[len + 1];\n        p = pointList[0];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n    }\n    return d1;\n}\n/**\n * @ignore\n * 将点连接成路径 path\n */\nexport function getLinePath(points, isInCircle) {\n    return _points2path(points, isInCircle);\n}\n/**\n * @ignore\n * 根据关键点获取限定了范围的平滑线\n */\nexport function getSplinePath(points, isInCircle, constaint) {\n    var data = [];\n    var first = points[0];\n    var prePoint = null;\n    if (points.length <= 2) {\n        // 两点以内直接绘制成路径\n        return getLinePath(points, isInCircle);\n    }\n    each(points, function (point) {\n        if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n            data.push(point.x);\n            data.push(point.y);\n            prePoint = point;\n        }\n    });\n    var constraint = constaint || [\n        // 范围\n        [0, 0],\n        [1, 1],\n    ];\n    var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n    splinePath.unshift(['M', first.x, first.y]);\n    return splinePath;\n}\n/**\n * @ignore\n * 将归一化后的路径数据转换成坐标\n */\nexport function convertNormalPath(coord, path) {\n    var tmp = [];\n    each(path, function (subPath) {\n        var action = subPath[0];\n        switch (action.toLowerCase()) {\n            case 'm':\n            case 'l':\n            case 'c':\n                tmp.push(_convertArr(subPath, coord));\n                break;\n            case 'z':\n            default:\n                tmp.push(subPath);\n                break;\n        }\n    });\n    return tmp;\n}\n/**\n * @ignore\n * 将路径转换为极坐标下的真实路径\n */\nexport function convertPolarPath(coord, path) {\n    var tmp = [];\n    var pre;\n    var cur;\n    var transposed;\n    var equals;\n    each(path, function (subPath, index) {\n        var action = subPath[0];\n        switch (action.toLowerCase()) {\n            case 'm':\n            case 'c':\n            case 'q':\n                tmp.push(_convertArr(subPath, coord));\n                break;\n            case 'l':\n                pre = path[index - 1];\n                cur = subPath;\n                transposed = coord.isTransposed;\n                // 是否半径相同，转换成圆弧\n                equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n                if (equals) {\n                    tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n                }\n                else {\n                    // y 不相等，所以直接转换\n                    tmp.push(_convertArr(subPath, coord));\n                }\n                break;\n            case 'z':\n            default:\n                tmp.push(subPath);\n                break;\n        }\n    });\n    _filterFullCirleLine(tmp); // 过滤多余的直线\n    return tmp;\n}\n//# sourceMappingURL=path.js.map","import { __spreadArrays } from \"tslib\";\nimport { isArray, isNumber } from '@antv/util';\n/**\n * @ignore\n * 是否是自动 padding\n * @param padding\n */\nexport function isAutoPadding(padding) {\n    return !isNumber(padding) && !isArray(padding);\n}\n/**\n * @ignore\n * padding 的解析逻辑\n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding) {\n    if (padding === void 0) { padding = 0; }\n    var paddingArray = isArray(padding) ? padding : [padding];\n    switch (paddingArray.length) {\n        case 0:\n            paddingArray = [0, 0, 0, 0];\n            break;\n        case 1:\n            paddingArray = new Array(4).fill(paddingArray[0]);\n            break;\n        case 2:\n            paddingArray = __spreadArrays(paddingArray, paddingArray);\n            break;\n        case 3:\n            paddingArray = __spreadArrays(paddingArray, [paddingArray[1]]);\n            break;\n        default:\n            // 其他情况，只去四个\n            paddingArray = paddingArray.slice(0, 4);\n            break;\n    }\n    return paddingArray;\n}\n//# sourceMappingURL=padding.js.map","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { parsePadding } from './padding';\n/**\n * 用于包围盒计算。\n */\nvar BBox = /** @class */ (function () {\n    function BBox(x, y, width, height) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        if (width === void 0) { width = 0; }\n        if (height === void 0) { height = 0; }\n        this.x = x;\n        this.y = y;\n        this.height = height;\n        this.width = width;\n    }\n    BBox.fromRange = function (minX, minY, maxX, maxY) {\n        return new BBox(minX, minY, maxX - minX, maxY - minY);\n    };\n    Object.defineProperty(BBox.prototype, \"minX\", {\n        get: function () {\n            return this.x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"maxX\", {\n        get: function () {\n            return this.x + this.width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"minY\", {\n        get: function () {\n            return this.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"maxY\", {\n        get: function () {\n            return this.y + this.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"tl\", {\n        get: function () {\n            return { x: this.x, y: this.y };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"tr\", {\n        get: function () {\n            return { x: this.maxX, y: this.y };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"bl\", {\n        get: function () {\n            return { x: this.x, y: this.maxY };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"br\", {\n        get: function () {\n            return { x: this.maxX, y: this.maxY };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"top\", {\n        get: function () {\n            return {\n                x: this.x + this.width / 2,\n                y: this.minY,\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"right\", {\n        get: function () {\n            return {\n                x: this.maxX,\n                y: this.y + this.height / 2,\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"bottom\", {\n        get: function () {\n            return {\n                x: this.x + this.width / 2,\n                y: this.maxY,\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"left\", {\n        get: function () {\n            return {\n                x: this.minX,\n                y: this.y + this.height / 2,\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // end 计算属性\n    /**\n     * 包围盒是否相等\n     * @param {BBox} bbox 包围盒\n     * @returns      包围盒是否相等\n     */\n    BBox.prototype.isEqual = function (bbox) {\n        return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n    };\n    /**\n     * 克隆包围盒\n     * @returns 包围盒\n     */\n    BBox.prototype.clone = function () {\n        return new BBox(this.x, this.y, this.width, this.height);\n    };\n    /**\n     * 取并集\n     * @param subBBox\n     */\n    BBox.prototype.add = function () {\n        var subBBox = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            subBBox[_i] = arguments[_i];\n        }\n        var bbox = this.clone();\n        each(subBBox, function (b) {\n            bbox.x = Math.min(b.x, bbox.x);\n            bbox.y = Math.min(b.y, bbox.y);\n            bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n            bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n        });\n        return bbox;\n    };\n    /**\n     * 取交集\n     * @param subBBox\n     */\n    BBox.prototype.merge = function () {\n        var subBBox = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            subBBox[_i] = arguments[_i];\n        }\n        var bbox = this.clone();\n        each(subBBox, function (b) {\n            bbox.x = Math.max(b.x, bbox.x);\n            bbox.y = Math.max(b.y, bbox.y);\n            bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n            bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n        });\n        return bbox;\n    };\n    /**\n     * bbox 剪裁\n     * @param subBBox\n     * @param direction\n     */\n    BBox.prototype.cut = function (subBBox, direction) {\n        var width = subBBox.width;\n        var height = subBBox.height;\n        switch (direction) {\n            case DIRECTION.TOP:\n            case DIRECTION.TOP_LEFT:\n            case DIRECTION.TOP_RIGHT:\n                return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n            case DIRECTION.RIGHT:\n            case DIRECTION.RIGHT_TOP:\n            case DIRECTION.RIGHT_BOTTOM:\n                return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n            case DIRECTION.BOTTOM:\n            case DIRECTION.BOTTOM_LEFT:\n            case DIRECTION.BOTTOM_RIGHT:\n                return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n            case DIRECTION.LEFT:\n            case DIRECTION.LEFT_TOP:\n            case DIRECTION.LEFT_BOTTOM:\n                return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n            default:\n                // 其他情况不裁剪，原样返回\n                return this;\n        }\n    };\n    /**\n     * 收缩形成新的\n     * @param gap\n     */\n    BBox.prototype.shrink = function (gap) {\n        var _a = parsePadding(gap), top = _a[0], right = _a[1], bottom = _a[2], left = _a[3];\n        return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n    };\n    /**\n     * get the gap of two bbox, if not exceed, then 0\n     * @param bbox\n     * @returns [top, right, bottom, left]\n     */\n    BBox.prototype.exceed = function (bbox) {\n        return [\n            Math.max(-this.minY + bbox.minY, 0),\n            Math.max(this.maxX - bbox.maxX, 0),\n            Math.max(this.maxY - bbox.maxY, 0),\n            Math.max(-this.minX + bbox.minX, 0),\n        ];\n    };\n    /**\n     * 获取包围盒大小\n     * @returns 包围盒大小\n     */\n    BBox.prototype.size = function () {\n        return this.width * this.height;\n    };\n    return BBox;\n}());\nexport { BBox };\n/**\n * 从一个 bbox 的 region 获取 bbox\n * @param bbox\n * @param region\n */\nexport var getRegionBBox = function (bbox, region) {\n    var start = region.start, end = region.end;\n    return new BBox(bbox.x + bbox.width * start.x, bbox.y + bbox.height * start.y, bbox.width * Math.abs(end.x - start.x), bbox.height * Math.abs(end.y - start.y));\n};\n/**\n * 将 bbox 转换成 points\n * @param bbox\n */\nexport function toPoints(bbox) {\n    return [\n        [bbox.minX, bbox.minY],\n        [bbox.maxX, bbox.minY],\n        [bbox.maxX, bbox.maxY],\n        [bbox.minX, bbox.maxY]\n    ];\n}\n//# sourceMappingURL=bbox.js.map","import { each, isArray, map } from '@antv/util';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport isPolygonsIntersect from '@antv/path-util/lib/is-polygons-intersect';\nfunction getMaskBBox(context, tolerance) {\n    var event = context.event;\n    var maskShape = event.target;\n    var maskBBox = maskShape.getCanvasBBox();\n    // 如果 bbox 过小则不返回\n    if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n        return null;\n    }\n    return maskBBox;\n}\nfunction getMaskPath(context, tolerance) {\n    var event = context.event;\n    var maskShape = event.target;\n    var maskBBox = maskShape.getCanvasBBox();\n    // 如果 bbox 过小则不返回\n    if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n        return null;\n    }\n    return maskShape.attr('path');\n}\n/**\n * 获取当前事件相关的图表元素\n * @param context 交互的上下文\n * @ignore\n */\nexport function getCurrentElement(context) {\n    var event = context.event;\n    var element;\n    var target = event.target;\n    if (target) {\n        element = target.get('element');\n    }\n    return element;\n}\n/**\n * 获取委托对象\n * @param context 上下文\n * @ignore\n */\nexport function getDelegationObject(context) {\n    var event = context.event;\n    var target = event.target;\n    var delegateObject;\n    if (target) {\n        delegateObject = target.get('delegateObject');\n    }\n    return delegateObject;\n}\nexport function isElementChange(context) {\n    var event = context.event.gEvent;\n    // 在同一个 element 内部移动，label 和 shape 之间\n    if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n        return false;\n    }\n    return true;\n}\n/**\n * 是否是列表组件\n * @param delegateObject 委托对象\n * @ignore\n */\nexport function isList(delegateObject) {\n    return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n/**\n * 是否是滑块组件\n * @param delegateObject 委托对象\n * @ignore\n */\nexport function isSlider(delegateObject) {\n    return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n/**\n * 是否由 mask 触发\n * @param context 上下文\n * @ignore\n */\nexport function isMask(context) {\n    var event = context.event;\n    var target = event.target;\n    return target && target.get('name') === 'mask';\n}\n/**\n * 获取被遮挡的 elements\n * @param context 上下文\n * @ignore\n */\nexport function getMaskedElements(context, tolerance) {\n    var target = context.event.target;\n    if (target.get('type') === 'path') {\n        var maskPath = getMaskPath(context, tolerance);\n        if (!maskPath) {\n            return;\n        }\n        return getElementsByPath(context.view, maskPath);\n    }\n    var maskBBox = getMaskBBox(context, tolerance);\n    // 如果 bbox 过小则不返回\n    if (!maskBBox) {\n        return null;\n    }\n    return getIntersectElements(context.view, maskBBox);\n}\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context, sibling, tolerance) {\n    var maskBBox = getMaskBBox(context, tolerance);\n    // 如果 bbox 过小则不返回\n    if (!maskBBox) {\n        return null;\n    }\n    var view = context.view;\n    var start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n    var end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n    var box = {\n        minX: start.x,\n        minY: start.y,\n        maxX: end.x,\n        maxY: end.y\n    };\n    return getIntersectElements(sibling, box);\n}\n/**\n * 获取所有的图表元素\n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view) {\n    var geometries = view.geometries;\n    var rst = [];\n    each(geometries, function (geom) {\n        var elements = geom.elements;\n        rst = rst.concat(elements);\n    });\n    if (view.views && view.views.length) {\n        each(view.views, function (subView) {\n            rst = rst.concat(getElements(subView));\n        });\n    }\n    return rst;\n}\n/**\n * 获取所有的图表元素\n * @param view View/Chart\n * @param field 字段名\n * @param value 字段值\n * @ignore\n */\nexport function getElementsByField(view, field, value) {\n    var elements = getElements(view);\n    return elements.filter(function (el) {\n        return getElementValue(el, field) === value;\n    });\n}\n/**\n * 根据状态名获取图表元素\n * @param view View/Chart\n * @param stateName 状态名\n * @ignore\n */\nexport function getElementsByState(view, stateName) {\n    var geometries = view.geometries;\n    var rst = [];\n    each(geometries, function (geom) {\n        var elements = geom.getElementsBy(function (el) { return el.hasState(stateName); });\n        rst = rst.concat(elements);\n    });\n    return rst;\n}\n/**\n * 获取图表元素对应字段的值\n * @param element 图表元素\n * @param field 字段名\n * @ignore\n */\nexport function getElementValue(element, field) {\n    var model = element.getModel();\n    var record = model.data;\n    var value;\n    if (isArray(record)) {\n        value = record[0][field];\n    }\n    else {\n        value = record[field];\n    }\n    return value;\n}\n/**\n * 两个包围盒是否相交\n * @param box1 包围盒1\n * @param box2 包围盒2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n/**\n * 获取包围盒内的图表元素\n * @param view View/Chart\n * @param box 包围盒\n * @ignore\n */\nexport function getIntersectElements(view, box) {\n    var elements = getElements(view);\n    var rst = [];\n    each(elements, function (el) {\n        var shape = el.shape;\n        var shapeBBox = shape.getCanvasBBox();\n        if (intersectRect(box, shapeBBox)) {\n            rst.push(el);\n        }\n    });\n    return rst;\n}\nfunction pathToPoints(path) {\n    var points = [];\n    each(path, function (seg) {\n        var command = seg[0];\n        if (command !== 'A') {\n            for (var i = 1; i < seg.length; i = i + 2) {\n                points.push([seg[i], seg[i + 1]]);\n            }\n        }\n        else {\n            var length_1 = seg.length;\n            points.push([seg[length_1 - 2], seg[length_1 - 1]]);\n        }\n    });\n    return points;\n}\n/**\n * 获取包围盒内的图表元素\n * @param view View/Chart\n * @param path 路径\n * @ignore\n */\nexport function getElementsByPath(view, path) {\n    var elements = getElements(view);\n    var points = pathToPoints(path);\n    var rst = elements.filter(function (el) {\n        var shape = el.shape;\n        var shapePoints;\n        if (shape.get('type') === 'path') {\n            shapePoints = pathToPoints(shape.attr('path'));\n        }\n        else {\n            var shapeBBox = shape.getCanvasBBox();\n            shapePoints = toPoints(shapeBBox);\n        }\n        return isPolygonsIntersect(points, shapePoints);\n    });\n    return rst;\n}\n/**\n * 获取当前 View 的所有组件\n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n    return map(view.getComponents(), function (co) { return co.component; });\n}\n/** @ignore */\nexport function distance(p1, p2) {\n    var dx = p2.x - p1.x;\n    var dy = p2.y - p1.y;\n    return Math.sqrt(dx * dx + dy * dy);\n}\n/** @ignore */\nexport function getSpline(points, z) {\n    if (points.length <= 2) {\n        return getLinePath(points, false);\n    }\n    var first = points[0];\n    var arr = [];\n    each(points, function (point) {\n        arr.push(point.x);\n        arr.push(point.y);\n    });\n    var path = catmullRom2bezier(arr, z, null);\n    path.unshift(['M', first.x, first.y]);\n    return path;\n}\n/**\n * 检测点是否在包围盒内\n * @param box 包围盒\n * @param point 点\n * @ignore\n */\nexport function isInBox(box, point) {\n    return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n/**\n * 获取同 view 同一级的 views\n * @param view 当前 view\n * @returns 同一级的 views\n * @ignore\n */\nexport function getSilbings(view) {\n    var parent = view.parent;\n    var siblings = null;\n    if (parent) {\n        siblings = parent.views.filter(function (sub) { return sub !== view; });\n    }\n    return siblings;\n}\nfunction point2Normalize(view, point) {\n    var coord = view.getCoordinate();\n    return coord.invert(point);\n}\n/**\n * 将 view 上的一点转换成另一个 view 的点\n * @param view 当前的 view\n * @param sibling 同一层级的 view\n * @param point 指定点\n * @ignore\n */\nexport function getSiblingPoint(view, sibling, point) {\n    var normalPoint = point2Normalize(view, point);\n    return sibling.getCoordinate().convert(normalPoint);\n}\n/**\n * 是否在记录中，临时因为所有的 view 中的数据不是引用，而使用的方法\n * 不同 view 上对数据的引用不相等，导致无法直接用 includes\n * 假设 x, y 值相等时是同一条数据，这个假设不完全正确，而改成 isEqual 则成本太高\n * 后面改成同一个引用时可以修改回来\n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records, record, xFiled, yField) {\n    var isIn = false;\n    each(records, function (r) {\n        if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n            isIn = true;\n            return false;\n        }\n    });\n    return isIn;\n}\n// 级联获取 field 对应的 scale，如果 view 上没有，遍历子 view\nexport function getScaleByField(view, field) {\n    var scale = view.getScaleByField(field);\n    if (!scale && view.views) {\n        each(view.views, function (subView) {\n            scale = getScaleByField(subView, field);\n            if (scale) {\n                return false; // 终止循环\n            }\n        });\n    }\n    return scale;\n}\n//# sourceMappingURL=util.js.map","import { each, get } from '@antv/util';\nimport { getComponents, isInBox } from './action/util';\n/**\n * 交互的上下文\n */\nvar Context = /** @class */ (function () {\n    function Context(view) {\n        /** 当前所有的 Action */\n        this.actions = [];\n        /** 当前事件对象 */\n        this.event = null;\n        this.cacheMap = {};\n        this.view = view;\n    }\n    /**\n     * 缓存信息\n     * @param params 缓存的字段\n     *  - 如果一个字段则获取缓存\n     *  - 两个字段则设置缓存\n     */\n    Context.prototype.cache = function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        if (params.length === 1) {\n            return this.cacheMap[params[0]];\n        }\n        else if (params.length === 2) {\n            this.cacheMap[params[0]] = params[1];\n        }\n    };\n    /**\n     * 获取 Action\n     * @param name Action 的名称\n     */\n    Context.prototype.getAction = function (name) {\n        return this.actions.find(function (action) { return action.name === name; });\n    };\n    /**\n     * 获取 Action\n     * @param action Action 对象\n     */\n    Context.prototype.addAction = function (action) {\n        this.actions.push(action);\n    };\n    /**\n     * 移除 Action\n     * @param action Action 对象\n     */\n    Context.prototype.removeAction = function (action) {\n        var actions = this.actions;\n        var index = this.actions.indexOf(action);\n        if (index >= 0) {\n            actions.splice(index, 1);\n        }\n    };\n    /**\n     * 获取当前的点\n     */\n    Context.prototype.getCurrentPoint = function () {\n        var event = this.event;\n        if (event) {\n            if (event.target instanceof HTMLElement) {\n                var canvas = this.view.getCanvas();\n                var point = canvas.getPointByClient(event.clientX, event.clientY);\n                return point;\n            }\n            else {\n                return {\n                    x: event.x,\n                    y: event.y,\n                };\n            }\n        }\n        return null;\n    };\n    /**\n     * 获取当前 shape\n     * @returns current shape\n     */\n    Context.prototype.getCurrentShape = function () {\n        return get(this.event, ['gEvent', 'shape']);\n    };\n    /**\n     * 当前的触发是否在 View 内\n     */\n    Context.prototype.isInPlot = function () {\n        var point = this.getCurrentPoint();\n        if (point) {\n            return this.view.isPointInPlot(point);\n        }\n        return false;\n    };\n    /**\n     * 是否在指定的图形内\n     * @param name shape 的 name\n     */\n    Context.prototype.isInShape = function (name) {\n        var shape = this.getCurrentShape(); // 不再考虑在 shape 的 parent 内的情况\n        if (shape) {\n            return shape.get('name') === name;\n        }\n        return false;\n    };\n    /**\n     * 当前的触发是组件内部\n     * @param name 组件名，可以为空\n     */\n    Context.prototype.isInComponent = function (name) {\n        var components = getComponents(this.view);\n        var point = this.getCurrentPoint();\n        if (point) {\n            return !!components.find(function (component) {\n                var bbox = component.getBBox();\n                if (name) {\n                    return component.get('name') === name && isInBox(bbox, point);\n                }\n                else {\n                    return isInBox(bbox, point);\n                }\n            });\n        }\n        return false;\n    };\n    /**\n     * 销毁\n     */\n    Context.prototype.destroy = function () {\n        this.view = null;\n        this.event = null;\n        // 先销毁 action 再清空，一边遍历，一边删除，所以数组需要更新引用\n        each(this.actions.slice(), function (action) {\n            action.destroy();\n        });\n        this.actions = null;\n        this.cacheMap = null;\n    };\n    return Context;\n}());\nexport default Context;\n//# sourceMappingURL=context.js.map","/**\n * 交互的基类。\n */\nvar Interaction = /** @class */ (function () {\n    function Interaction(view, cfg) {\n        this.view = view;\n        this.cfg = cfg;\n    }\n    /**\n     * 初始化。\n     */\n    Interaction.prototype.init = function () {\n        this.initEvents();\n    };\n    /**\n     * 绑定事件\n     */\n    Interaction.prototype.initEvents = function () { };\n    /**\n     * 销毁事件\n     */\n    Interaction.prototype.clearEvents = function () { };\n    /**\n     * 销毁。\n     */\n    Interaction.prototype.destroy = function () {\n        this.clearEvents();\n    };\n    return Interaction;\n}());\nexport default Interaction;\n//# sourceMappingURL=interaction.js.map","import { __extends } from \"tslib\";\nimport { each, isArray, isFunction, isString } from '@antv/util';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n// 将字符串转换成 action\nfunction parseAction(actionStr, context) {\n    var arr = actionStr.split(':');\n    var actionName = arr[0];\n    // 如果已经初始化过 action ，则直接引用之前的 action\n    var action = context.getAction(actionName) || createAction(actionName, context);\n    if (!action) {\n        throw new Error(\"There is no action named \" + actionName);\n    }\n    var methodName = arr[1];\n    return {\n        action: action,\n        methodName: methodName,\n    };\n}\n// 执行 Action\nfunction executeAction(actionObject) {\n    var action = actionObject.action, methodName = actionObject.methodName;\n    if (action[methodName]) {\n        action[methodName]();\n    }\n    else {\n        throw new Error(\"Action(\" + action.name + \") doesn't have a method called \" + methodName);\n    }\n}\nvar STEP_NAMES = {\n    START: 'start',\n    SHOW_ENABLE: 'showEnable',\n    END: 'end',\n    ROLLBACK: 'rollback',\n    PROCESSING: 'processing',\n};\n/**\n * 支持语法的交互类\n */\nvar GrammarInteraction = /** @class */ (function (_super) {\n    __extends(GrammarInteraction, _super);\n    function GrammarInteraction(view, steps) {\n        var _this = _super.call(this, view, steps) || this;\n        _this.callbackCaches = {};\n        // 某个触发和反馈在本环节是否执行或\n        _this.emitCaches = {};\n        _this.steps = steps;\n        return _this;\n    }\n    /**\n     * 初始化\n     */\n    GrammarInteraction.prototype.init = function () {\n        this.initContext();\n        _super.prototype.init.call(this);\n    };\n    /**\n     * 清理资源\n     */\n    GrammarInteraction.prototype.destroy = function () {\n        _super.prototype.destroy.call(this); // 先清理事件\n        this.steps = null;\n        if (this.context) {\n            this.context.destroy();\n            this.context = null;\n        }\n        this.callbackCaches = null;\n        this.view = null;\n    };\n    /**\n     * 绑定事件\n     */\n    GrammarInteraction.prototype.initEvents = function () {\n        var _this = this;\n        each(this.steps, function (stepArr, stepName) {\n            each(stepArr, function (step) {\n                var callback = _this.getActionCallback(stepName, step);\n                if (callback) {\n                    // 如果存在 callback，才绑定，有时候会出现无 callback 的情况\n                    _this.bindEvent(step.trigger, callback);\n                }\n            });\n        });\n    };\n    /**\n     * 清理绑定的事件\n     */\n    GrammarInteraction.prototype.clearEvents = function () {\n        var _this = this;\n        each(this.steps, function (stepArr, stepName) {\n            each(stepArr, function (step) {\n                var callback = _this.getActionCallback(stepName, step);\n                if (callback) {\n                    _this.offEvent(step.trigger, callback);\n                }\n            });\n        });\n    };\n    // 初始化上下文，并初始化 action\n    GrammarInteraction.prototype.initContext = function () {\n        var view = this.view;\n        var context = new InteractionContext(view);\n        this.context = context;\n        var steps = this.steps;\n        // 生成具体的 Action\n        each(steps, function (subSteps) {\n            each(subSteps, function (step) {\n                if (isFunction(step.action)) {\n                    // 如果传入回调函数，则直接生成 CallbackAction\n                    step.actionObject = {\n                        action: createCallbackAction(step.action, context),\n                        methodName: 'execute',\n                    };\n                }\n                else if (isString(step.action)) {\n                    // 如果是字符串\n                    step.actionObject = parseAction(step.action, context);\n                }\n                else if (isArray(step.action)) {\n                    // 如果是数组\n                    var actionArr = step.action;\n                    step.actionObject = [];\n                    each(actionArr, function (actionStr) {\n                        step.actionObject.push(parseAction(actionStr, context));\n                    });\n                }\n                // 如果 action 既不是字符串，也不是函数，则不会生成 actionObject\n            });\n        });\n    };\n    // 是否允许指定阶段名称执行\n    GrammarInteraction.prototype.isAllowStep = function (stepName) {\n        var currentStepName = this.currentStepName;\n        var steps = this.steps;\n        // 相同的阶段允许同时执行\n        if (currentStepName === stepName) {\n            return true;\n        }\n        if (stepName === STEP_NAMES.SHOW_ENABLE) {\n            // 示能在整个过程中都可用\n            return true;\n        }\n        if (stepName === STEP_NAMES.PROCESSING) {\n            // 只有当前是 start 时，才允许 processing\n            return currentStepName === STEP_NAMES.START;\n        }\n        if (stepName === STEP_NAMES.START) {\n            // 如果当前是 processing，则无法 start，必须等待 end 后才能执行\n            return currentStepName !== STEP_NAMES.PROCESSING;\n        }\n        if (stepName === STEP_NAMES.END) {\n            return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n        }\n        if (stepName === STEP_NAMES.ROLLBACK) {\n            if (steps[STEP_NAMES.END]) {\n                // 如果定义了 end, 只有 end 时才允许回滚\n                return currentStepName === STEP_NAMES.END;\n            }\n            else if (currentStepName === STEP_NAMES.START) {\n                // 如果未定义 end, 则判断是否是开始\n                return true;\n            }\n        }\n        return false;\n    };\n    // 具体的指定阶段是否允许执行\n    GrammarInteraction.prototype.isAllowExcute = function (stepName, step) {\n        if (this.isAllowStep(stepName)) {\n            var key = this.getKey(stepName, step);\n            // 如果是在本环节内仅允许触发一次，同时已经触发过，则不允许再触发\n            if (step.once && this.emitCaches[key]) {\n                return false;\n            }\n            // 如果是允许的阶段，则验证 isEnable 方法\n            if (step.isEnable) {\n                return step.isEnable(this.context);\n            }\n            return true; // 如果没有 isEnable 则允许执行\n        }\n        return false;\n    };\n    GrammarInteraction.prototype.enterStep = function (stepName) {\n        this.currentStepName = stepName;\n        this.emitCaches = {}; // 清除所有本环节触发的缓存\n    };\n    // 执行完某个触发和反馈（子环节）\n    GrammarInteraction.prototype.afterExecute = function (stepName, step) {\n        // show enable 不计入正常的流程，其他情况则设置当前的 step\n        if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n            this.enterStep(stepName);\n        }\n        var key = this.getKey(stepName, step);\n        // 一旦执行，则缓存标记为，一直保持到跳出改环节\n        this.emitCaches[key] = true;\n    };\n    // 获取某个环节的唯一的键值\n    GrammarInteraction.prototype.getKey = function (stepName, step) {\n        return stepName + step.trigger + step.action;\n    };\n    // 获取 step 的回调函数，如果已经生成，则直接返回，如果未生成，则创建\n    GrammarInteraction.prototype.getActionCallback = function (stepName, step) {\n        var _this = this;\n        var context = this.context;\n        var callbackCaches = this.callbackCaches;\n        var actionObject = step.actionObject;\n        if (step.action && actionObject) {\n            var key = this.getKey(stepName, step);\n            if (!callbackCaches[key]) {\n                // 动态生成执行的方法，执行对应 action 的名称\n                callbackCaches[key] = function (event) {\n                    context.event = event;\n                    if (_this.isAllowExcute(stepName, step)) {\n                        // 如果是数组时，则依次执行\n                        if (isArray(actionObject)) {\n                            each(actionObject, function (obj) {\n                                executeAction(obj);\n                            });\n                        }\n                        else {\n                            executeAction(actionObject);\n                        }\n                        _this.afterExecute(stepName, step);\n                        if (step.callback) {\n                            step.callback(context);\n                        }\n                    }\n                    else {\n                        // 如果未通过验证，则事件不要绑定在上面\n                        context.event = null;\n                    }\n                };\n            }\n            return callbackCaches[key];\n        }\n        return null;\n    };\n    GrammarInteraction.prototype.bindEvent = function (eventName, callback) {\n        var nameArr = eventName.split(':');\n        if (nameArr[0] === 'window') {\n            window.addEventListener(nameArr[1], callback);\n        }\n        else if (nameArr[0] === 'document') {\n            document.addEventListener(nameArr[1], callback);\n        }\n        else {\n            this.view.on(eventName, callback);\n        }\n    };\n    GrammarInteraction.prototype.offEvent = function (eventName, callback) {\n        var nameArr = eventName.split(':');\n        if (nameArr[0] === 'window') {\n            window.removeEventListener(nameArr[1], callback);\n        }\n        else if (nameArr[0] === 'document') {\n            document.removeEventListener(nameArr[1], callback);\n        }\n        else {\n            this.view.off(eventName, callback);\n        }\n    };\n    return GrammarInteraction;\n}(Interaction));\nexport default GrammarInteraction;\n//# sourceMappingURL=grammar-interaction.js.map","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport GrammarInteraction from './grammar-interaction';\nvar Interactions = {};\n/**\n * 根据交互行为名字获取对应的交互类\n * @param name 交互名字\n * @returns 交互类\n */\nexport function getInteraction(name) {\n    return Interactions[lowerCase(name)];\n}\n/**\n * 注册交互行为\n * @param name 交互行为名字\n * @param interaction 交互类\n */\nexport function registerInteraction(name, interaction) {\n    Interactions[lowerCase(name)] = interaction;\n}\n/**\n * 创建交互实例\n * @param name 交互名\n * @param view 交互应用的 View 实例\n * @param cfg 交互行为配置\n */\nexport function createInteraction(name, view, cfg) {\n    var interaciton = getInteraction(name);\n    if (!interaciton) {\n        return null;\n    }\n    if (isPlainObject(interaciton)) {\n        // 如果不 clone 则会多个 interaction 实例共享 step 的定义\n        var steps = mix(clone(interaciton), cfg);\n        return new GrammarInteraction(view, steps);\n    }\n    else {\n        var cls = interaciton;\n        return new cls(view, cfg);\n    }\n}\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction } from './action';\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport * as TOOLTIP_CSS_CONST from '@antv/component/lib/tooltip/css-const';\nimport { transform } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { getAngle } from '../util/graphics';\nexport function getThemeByStylesheet(styleSheet) {\n    var _a;\n    var shapeStyles = {\n        point: {\n            default: {\n                fill: styleSheet.pointFillColor,\n                r: styleSheet.pointSize,\n                stroke: styleSheet.pointBorderColor,\n                lineWidth: styleSheet.pointBorder,\n                fillOpacity: styleSheet.pointFillOpacity,\n            },\n            active: {\n                stroke: styleSheet.pointActiveBorderColor,\n                lineWidth: styleSheet.pointActiveBorder,\n            },\n            selected: {\n                stroke: styleSheet.pointSelectedBorderColor,\n                lineWidth: styleSheet.pointSelectedBorder,\n            },\n            inactive: {\n                fillOpacity: styleSheet.pointInactiveFillOpacity,\n                strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n            }\n        },\n        hollowPoint: {\n            default: {\n                fill: styleSheet.hollowPointFillColor,\n                lineWidth: styleSheet.hollowPointBorder,\n                stroke: styleSheet.hollowPointBorderColor,\n                strokeOpacity: styleSheet.hollowPointBorderOpacity,\n                r: styleSheet.hollowPointSize,\n            },\n            active: {\n                stroke: styleSheet.hollowPointActiveBorderColor,\n                strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n            },\n            selected: {\n                lineWidth: styleSheet.hollowPointSelectedBorder,\n                stroke: styleSheet.hollowPointSelectedBorderColor,\n                strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n            },\n            inactive: {\n                strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n            }\n        },\n        area: {\n            default: {\n                fill: styleSheet.areaFillColor,\n                fillOpacity: styleSheet.areaFillOpacity,\n                stroke: null,\n            },\n            active: {\n                fillOpacity: styleSheet.areaActiveFillOpacity,\n            },\n            selected: {\n                fillOpacity: styleSheet.areaSelectedFillOpacity,\n            },\n            inactive: {\n                fillOpacity: styleSheet.areaInactiveFillOpacity,\n            },\n        },\n        hollowArea: {\n            default: {\n                fill: null,\n                stroke: styleSheet.hollowAreaBorderColor,\n                lineWidth: styleSheet.hollowAreaBorder,\n                strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n            },\n            active: {\n                fill: null,\n                lineWidth: styleSheet.hollowAreaActiveBorder,\n            },\n            selected: {\n                fill: null,\n                lineWidth: styleSheet.hollowAreaSelectedBorder,\n            },\n            inactive: {\n                strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n            },\n        },\n        interval: {\n            default: {\n                fill: styleSheet.intervalFillColor,\n                fillOpacity: styleSheet.intervalFillOpacity,\n            },\n            active: {\n                stroke: styleSheet.intervalActiveBorderColor,\n                lineWidth: styleSheet.intervalActiveBorder,\n            },\n            selected: {\n                stroke: styleSheet.intervalSelectedBorderColor,\n                lineWidth: styleSheet.intervalSelectedBorder,\n            },\n            inactive: {\n                fillOpacity: styleSheet.intervalInactiveFillOpacity,\n                strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n            },\n        },\n        hollowInterval: {\n            default: {\n                fill: styleSheet.hollowIntervalFillColor,\n                stroke: styleSheet.hollowIntervalBorderColor,\n                lineWidth: styleSheet.hollowIntervalBorder,\n                strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n            },\n            active: {\n                stroke: styleSheet.hollowIntervalActiveBorderColor,\n                lineWidth: styleSheet.hollowIntervalActiveBorder,\n                strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n            },\n            selected: {\n                stroke: styleSheet.hollowIntervalSelectedBorderColor,\n                lineWidth: styleSheet.hollowIntervalSelectedBorder,\n                strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n            },\n            inactive: {\n                stroke: styleSheet.hollowIntervalInactiveBorderColor,\n                lineWidth: styleSheet.hollowIntervalInactiveBorder,\n                strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n            }\n        },\n        line: {\n            default: {\n                stroke: styleSheet.lineBorderColor,\n                lineWidth: styleSheet.lineBorder,\n                strokeOpacity: styleSheet.lineBorderOpacity,\n                fill: null,\n                lineAppendWidth: 10,\n            },\n            active: {\n                lineWidth: styleSheet.lineActiveBorder,\n            },\n            selected: {\n                lineWidth: styleSheet.lineSelectedBorder,\n            },\n            inactive: {\n                strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n            },\n        },\n    };\n    var axisStyles = {\n        title: {\n            autoRotate: true,\n            position: 'center',\n            style: {\n                fill: styleSheet.axisTitleTextFillColor,\n                fontSize: styleSheet.axisTitleTextFontSize,\n                lineHeight: styleSheet.axisTitleTextLineHeight,\n                textBaseline: 'middle',\n                fontFamily: styleSheet.fontFamily,\n            },\n            offset: 32,\n        },\n        label: {\n            autoRotate: true,\n            autoHide: true,\n            offset: 16,\n            style: {\n                fill: styleSheet.axisLabelFillColor,\n                fontSize: styleSheet.axisLabelFontSize,\n                lineHeight: styleSheet.axisLabelLineHeight,\n                textBaseline: 'middle',\n                fontFamily: styleSheet.fontFamily,\n            },\n        },\n        line: {\n            style: {\n                lineWidth: styleSheet.axisLineBorder,\n                stroke: styleSheet.axisLineBorderColor,\n            },\n        },\n        tickLine: {\n            style: {\n                lineWidth: styleSheet.axisTickLineBorder,\n                stroke: styleSheet.axisTickLineBorderColor,\n            },\n            alignTick: true,\n            length: styleSheet.axisTickLineLength,\n        },\n        subTickLine: null,\n        animate: true,\n    };\n    var axisGridStyles = {\n        line: {\n            type: 'line',\n            style: {\n                stroke: styleSheet.axisGridBorderColor,\n                lineWidth: styleSheet.axisGridBorder,\n                lineDash: styleSheet.axisGridLineDash,\n            },\n        },\n        alignTick: true,\n        animate: true,\n    };\n    var legendStyles = {\n        title: null,\n        marker: {\n            symbol: 'circle',\n            style: {\n                r: styleSheet.legendCircleMarkerSize,\n                fill: styleSheet.legendMarkerColor,\n            },\n        },\n        itemName: {\n            spacing: 5,\n            style: {\n                fill: styleSheet.legendItemNameFillColor,\n                fontFamily: styleSheet.fontFamily,\n                fontSize: styleSheet.legendItemNameFontSize,\n                lineHeight: styleSheet.legendItemNameLineHeight,\n                fontWeight: styleSheet.legendItemNameFontWeight,\n                textAlign: 'start',\n                textBaseline: 'middle',\n            },\n        },\n        flipPage: true,\n        animate: false,\n    };\n    return {\n        defaultColor: styleSheet.brandColor,\n        padding: 'auto',\n        fontFamily: styleSheet.fontFamily,\n        /** 一般柱状图宽度占比 */\n        columnWidthRatio: 1 / 2,\n        /** 柱状图最大宽度 */\n        maxColumnWidth: null,\n        /** 柱状图最小宽度 */\n        minColumnWidth: null,\n        /** 玫瑰图占比 */\n        roseWidthRatio: 0.9999999,\n        /** 多层饼图/环图占比 */\n        multiplePieWidthRatio: 1 / 1.3,\n        colors10: styleSheet.paletteQualitative10,\n        colors20: styleSheet.paletteQualitative20,\n        shapes: {\n            point: [\n                'hollow-circle',\n                'hollow-square',\n                'hollow-bowtie',\n                'hollow-diamond',\n                'hollow-hexagon',\n                'hollow-triangle',\n                'hollow-triangle-down',\n                'circle',\n                'square',\n                'bowtie',\n                'diamond',\n                'hexagon',\n                'triangle',\n                'triangle-down',\n                'cross',\n                'tick',\n                'plus',\n                'hyphen',\n                'line',\n            ],\n            line: ['line', 'dash', 'dot', 'smooth'],\n            area: ['area', 'smooth', 'line', 'smooth-line'],\n            interval: ['rect', 'hollow-rect', 'line', 'tick'],\n        },\n        sizes: [1, 10],\n        geometries: {\n            interval: {\n                rect: {\n                    default: {\n                        style: shapeStyles.interval.default,\n                    },\n                    active: {\n                        style: shapeStyles.interval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.interval.inactive,\n                    },\n                    selected: {\n                        animateCfg: {\n                            duration: 300,\n                        },\n                        style: function (element) {\n                            var coordinate = element.geometry.coordinate;\n                            if (coordinate.isPolar && coordinate.isTransposed) {\n                                var _a = getAngle(element.getModel(), coordinate), startAngle = _a.startAngle, endAngle = _a.endAngle;\n                                var middleAngle = (startAngle + endAngle) / 2;\n                                var r = 7.5;\n                                var x = r * Math.cos(middleAngle);\n                                var y = r * Math.sin(middleAngle);\n                                return {\n                                    matrix: transform(null, [['t', x, y]]),\n                                };\n                            }\n                            return shapeStyles.interval.selected;\n                        }\n                    },\n                },\n                'hollow-rect': {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n                line: {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n                tick: {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n                funnel: {\n                    default: {\n                        style: shapeStyles.interval.default,\n                    },\n                    active: {\n                        style: shapeStyles.interval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.interval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.interval.selected,\n                    },\n                },\n                pyramid: {\n                    default: {\n                        style: shapeStyles.interval.default,\n                    },\n                    active: {\n                        style: shapeStyles.interval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.interval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.interval.selected,\n                    },\n                },\n            },\n            line: {\n                line: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                dot: {\n                    default: {\n                        style: __assign(__assign({}, shapeStyles.line.default), { lineDash: [1, 1] }),\n                    },\n                    active: {\n                        style: __assign(__assign({}, shapeStyles.line.active), { lineDash: [1, 1] }),\n                    },\n                    inactive: {\n                        style: __assign(__assign({}, shapeStyles.line.inactive), { lineDash: [1, 1] }),\n                    },\n                    selected: {\n                        style: __assign(__assign({}, shapeStyles.line.selected), { lineDash: [1, 1] }),\n                    },\n                },\n                dash: {\n                    default: {\n                        style: __assign(__assign({}, shapeStyles.line.default), { lineDash: [5.5, 1] }),\n                    },\n                    active: {\n                        style: __assign(__assign({}, shapeStyles.line.active), { lineDash: [5.5, 1] }),\n                    },\n                    inactive: {\n                        style: __assign(__assign({}, shapeStyles.line.inactive), { lineDash: [5.5, 1] }),\n                    },\n                    selected: {\n                        style: __assign(__assign({}, shapeStyles.line.selected), { lineDash: [5.5, 1] }),\n                    },\n                },\n                smooth: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                hv: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                vh: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                hvh: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                vhv: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n            },\n            polygon: {\n                polygon: {\n                    default: {\n                        style: shapeStyles.interval.default,\n                    },\n                    active: {\n                        style: shapeStyles.interval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.interval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.interval.selected,\n                    },\n                },\n            },\n            point: {\n                circle: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                square: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                bowtie: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                diamond: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                hexagon: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                triangle: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                'triangle-down': {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                'hollow-circle': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-square': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-bowtie': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-diamond': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-hexagon': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-triangle': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-triangle-down': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                cross: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                tick: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                plus: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                hyphen: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                line: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n            },\n            area: {\n                area: {\n                    default: {\n                        style: shapeStyles.area.default,\n                    },\n                    active: {\n                        style: shapeStyles.area.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.area.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.area.selected,\n                    },\n                },\n                smooth: {\n                    default: {\n                        style: shapeStyles.area.default,\n                    },\n                    active: {\n                        style: shapeStyles.area.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.area.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.area.selected,\n                    },\n                },\n                line: {\n                    default: {\n                        style: shapeStyles.hollowArea.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowArea.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowArea.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowArea.selected,\n                    },\n                },\n                'smooth-line': {\n                    default: {\n                        style: shapeStyles.hollowArea.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowArea.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowArea.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowArea.selected,\n                    },\n                },\n            },\n            schema: {\n                candle: {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n                box: {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n            },\n            edge: {\n                line: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                vhv: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                smooth: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                arc: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n            }\n        },\n        components: {\n            axis: {\n                top: deepMix({}, axisStyles, {\n                    position: 'top',\n                    grid: null,\n                    title: null,\n                }),\n                bottom: deepMix({}, axisStyles, {\n                    position: 'bottom',\n                    grid: null,\n                    title: null,\n                }),\n                left: deepMix({}, axisStyles, {\n                    position: 'left',\n                    label: {\n                        offset: 8,\n                    },\n                    title: null,\n                    line: null,\n                    tickLine: null,\n                    grid: axisGridStyles,\n                }),\n                right: deepMix({}, axisStyles, {\n                    position: 'right',\n                    label: {\n                        offset: 8,\n                    },\n                    title: null,\n                    line: null,\n                    tickLine: null,\n                    grid: axisGridStyles,\n                }),\n                circle: deepMix({}, axisStyles, {\n                    title: null,\n                    label: {\n                        offset: 8,\n                    },\n                    grid: deepMix({}, axisGridStyles, { line: { type: 'line' } }),\n                }),\n                radius: deepMix({}, axisStyles, {\n                    title: null,\n                    label: {\n                        offset: 8,\n                    },\n                    grid: deepMix({}, axisGridStyles, { line: { type: 'circle' } }),\n                }),\n            },\n            legend: {\n                right: deepMix({}, legendStyles, {\n                    layout: 'vertical',\n                }),\n                left: deepMix({}, legendStyles, {\n                    layout: 'vertical',\n                }),\n                top: deepMix({}, legendStyles, {\n                    layout: 'horizontal',\n                }),\n                bottom: deepMix({}, legendStyles, {\n                    layout: 'horizontal',\n                }),\n                continuous: {\n                    title: null,\n                    background: null,\n                    track: {},\n                    rail: {\n                        type: 'color',\n                        size: styleSheet.sliderRailHeight,\n                        defaultLength: styleSheet.sliderRailWidth,\n                        style: {\n                            fill: styleSheet.sliderRailFillColor,\n                            stroke: styleSheet.sliderRailBorderColor,\n                            lineWidth: styleSheet.sliderRailBorder,\n                        },\n                    },\n                    label: {\n                        align: 'rail',\n                        spacing: 4,\n                        formatter: null,\n                        style: {\n                            fill: styleSheet.sliderLabelTextFillColor,\n                            fontSize: styleSheet.sliderLabelTextFontSize,\n                            lineHeight: styleSheet.sliderLabelTextLineHeight,\n                            textBaseline: 'middle',\n                            fontFamily: styleSheet.fontFamily,\n                        },\n                    },\n                    handler: {\n                        size: styleSheet.sliderHandlerWidth,\n                        style: {\n                            fill: styleSheet.sliderHandlerFillColor,\n                            stroke: styleSheet.sliderHandlerBorderColor,\n                        },\n                    },\n                    slidable: true,\n                },\n            },\n            tooltip: {\n                showContent: true,\n                follow: true,\n                showCrosshairs: false,\n                showMarkers: true,\n                shared: false,\n                enterable: false,\n                marker: {\n                    symbol: 'circle',\n                    stroke: '#fff',\n                    shadowBlur: 10,\n                    shadowOffsetX: 0,\n                    shadowOffSetY: 0,\n                    shadowColor: 'rgba(0,0,0,0.09)',\n                    lineWidth: 2,\n                    r: 4,\n                },\n                crosshairs: {\n                    line: {\n                        style: {\n                            stroke: styleSheet.tooltipCrosshairsBorderColor,\n                            lineWidth: styleSheet.tooltipCrosshairsBorder,\n                        },\n                    },\n                    text: null,\n                    textBackground: {\n                        padding: 2,\n                        style: {\n                            fill: 'rgba(0, 0, 0, 0.25)',\n                            lineWidth: 0,\n                            stroke: null,\n                        },\n                    },\n                    follow: false,\n                },\n                // tooltip dom 样式\n                domStyles: (_a = {},\n                    _a[\"\" + TOOLTIP_CSS_CONST.CONTAINER_CLASS] = {\n                        position: 'absolute',\n                        visibility: 'hidden',\n                        zIndex: 8,\n                        transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' +\n                            'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' +\n                            'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n                        backgroundColor: styleSheet.tooltipContainerFillColor,\n                        opacity: styleSheet.tooltipContainerFillOpacity,\n                        boxShadow: styleSheet.tooltipContainerShadow,\n                        borderRadius: styleSheet.tooltipContainerBorderRadius + \"px\",\n                        color: styleSheet.tooltipTextFillColor,\n                        fontSize: styleSheet.tooltipTextFontSize + \"px\",\n                        fontFamily: styleSheet.fontFamily,\n                        lineHeight: styleSheet.tooltipTextLineHeight + \"px\",\n                        padding: '0 12px 0 12px',\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.TITLE_CLASS] = {\n                        marginBottom: '12px',\n                        marginTop: '12px',\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.LIST_CLASS] = {\n                        margin: 0,\n                        listStyleType: 'none',\n                        padding: 0,\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.LIST_ITEM_CLASS] = {\n                        listStyleType: 'none',\n                        padding: 0,\n                        marginBottom: '12px',\n                        marginTop: '12px',\n                        marginLeft: 0,\n                        marginRight: 0,\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.MARKER_CLASS] = {\n                        width: '8px',\n                        height: '8px',\n                        borderRadius: '50%',\n                        display: 'inline-block',\n                        marginRight: '8px',\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.VALUE_CLASS] = {\n                        display: 'inline-block',\n                        float: 'right',\n                        marginLeft: '30px',\n                    },\n                    _a),\n            },\n            annotation: {\n                arc: {\n                    style: {\n                        stroke: styleSheet.annotationArcBorderColor,\n                        lineWidth: styleSheet.annotationArcBorder,\n                    },\n                    animate: true,\n                },\n                line: {\n                    style: {\n                        stroke: styleSheet.annotationLineBorderColor,\n                        lineDash: styleSheet.annotationLineDash,\n                        lineWidth: styleSheet.annotationLineBorder,\n                    },\n                    text: {\n                        position: 'start',\n                        autoRotate: true,\n                        style: {\n                            fill: styleSheet.annotationTextFillColor,\n                            stroke: styleSheet.annotationTextBorderColor,\n                            lineWidth: styleSheet.annotationTextBorder,\n                            fontSize: styleSheet.annotationTextFontSize,\n                            textAlign: 'start',\n                            fontFamily: styleSheet.fontFamily,\n                            textBaseline: 'bottom',\n                        },\n                    },\n                    animate: true,\n                },\n                text: {\n                    style: {\n                        fill: styleSheet.annotationTextFillColor,\n                        stroke: styleSheet.annotationTextBorderColor,\n                        lineWidth: styleSheet.annotationTextBorder,\n                        fontSize: styleSheet.annotationTextFontSize,\n                        textBaseline: 'middle',\n                        textAlign: 'start',\n                        fontFamily: styleSheet.fontFamily,\n                    },\n                    animate: true,\n                },\n                region: {\n                    top: false,\n                    style: {\n                        lineWidth: styleSheet.annotationRegionBorder,\n                        stroke: styleSheet.annotationRegionBorderColor,\n                        fill: styleSheet.annotationRegionFillColor,\n                        fillOpacity: styleSheet.annotationRegionFillOpacity,\n                    },\n                    animate: true,\n                },\n                image: {\n                    top: false,\n                    animate: true,\n                },\n                dataMarker: {\n                    top: true,\n                    point: {\n                        style: {\n                            r: 3,\n                            stroke: styleSheet.brandColor,\n                            lineWidth: 2,\n                        },\n                    },\n                    line: {\n                        style: {\n                            stroke: styleSheet.annotationLineBorderColor,\n                            lineWidth: styleSheet.annotationLineBorder,\n                        },\n                        length: styleSheet.annotationDataMarkerLineLength,\n                    },\n                    text: {\n                        style: {\n                            textAlign: 'start',\n                            fill: styleSheet.annotationTextFillColor,\n                            stroke: styleSheet.annotationTextBorderColor,\n                            lineWidth: styleSheet.annotationTextBorder,\n                            fontSize: styleSheet.annotationTextFontSize,\n                            fontFamily: styleSheet.fontFamily,\n                        },\n                    },\n                    direction: 'upward',\n                    autoAdjust: true,\n                    animate: true,\n                },\n                dataRegion: {\n                    style: {\n                        region: {\n                            fill: styleSheet.annotationRegionFillColor,\n                            fillOpacity: styleSheet.annotationRegionFillOpacity,\n                        },\n                        text: {\n                            textAlign: 'center',\n                            textBaseline: 'bottom',\n                            fill: styleSheet.annotationTextFillColor,\n                            stroke: styleSheet.annotationTextBorderColor,\n                            lineWidth: styleSheet.annotationTextBorder,\n                            fontSize: styleSheet.annotationTextFontSize,\n                            fontFamily: styleSheet.fontFamily,\n                        },\n                    },\n                    animate: true,\n                },\n            },\n        },\n        labels: {\n            offset: 12,\n            style: {\n                fill: styleSheet.labelFillColor,\n                fontSize: styleSheet.labelFontSize,\n                textBaseline: 'middle',\n                fontFamily: styleSheet.fontFamily,\n                stroke: styleSheet.labelBorderColor,\n                lineWidth: styleSheet.labelBorder,\n            },\n            autoRotate: true,\n        },\n        innerLabels: {\n            style: {\n                fill: styleSheet.innerLabelFillColor,\n                fontSize: styleSheet.innerLabelFontSize,\n                textBaseline: 'middle',\n                fontFamily: styleSheet.fontFamily,\n                stroke: styleSheet.innerLabelBorderColor,\n                lineWidth: styleSheet.innerLabelBorder,\n            },\n            autoRotate: true,\n        },\n        pieLabels: {\n            labelHeight: 14,\n            offset: 30,\n            labelLine: {\n                style: {\n                    lineWidth: styleSheet.labelLineBorder,\n                    stroke: styleSheet.labelLineBorderColor,\n                },\n            },\n            autoRotate: true,\n        },\n    };\n}\n//# sourceMappingURL=default.js.map","var BLACK_COLORS = {\n    100: '#000',\n    95: '#0D0D0D',\n    85: '#262626',\n    65: '#595959',\n    45: '#8C8C8C',\n    25: '#BFBFBF',\n    15: '#D9D9D9',\n    6: '#F0F0F0',\n};\nvar WHITE_COLORS = {\n    100: '#FFFFFF',\n    95: '#F2F2F2',\n    85: '#D9D9D9',\n    65: '#A6A6A6',\n    45: '#737373',\n    25: '#404040',\n    15: '#262626',\n    6: '#0F0F0F',\n};\nvar QUALITATIVE_10 = [\n    '#5B8FF9',\n    '#5AD8A6',\n    '#5D7092',\n    '#F6BD16',\n    '#E86452',\n    '#6DC8EC',\n    '#945FB9',\n    '#FF9845',\n    '#1E9493',\n    '#FF99C3',\n];\nvar QUALITATIVE_20 = [\n    '#5B8FF9',\n    '#CDDDFD',\n    '#5AD8A6',\n    '#CDF3E4',\n    '#5D7092',\n    '#CED4DE',\n    '#F6BD16',\n    '#FCEBB9',\n    '#E86452',\n    '#F8D0CB',\n    '#6DC8EC',\n    '#D3EEF9',\n    '#945FB9',\n    '#DECFEA',\n    '#FF9845',\n    '#FFE0C7',\n    '#1E9493',\n    '#BBDEDE',\n    '#FF99C3',\n    '#FFE0ED',\n];\nexport var antvLight = {\n    /** 主题色 */\n    brandColor: QUALITATIVE_10[0],\n    /** 分类色板 1，在数据量小于等于 10 时使用 */\n    paletteQualitative10: QUALITATIVE_10,\n    /** 分类色板 2，在数据量大于 10 时使用 */\n    paletteQualitative20: QUALITATIVE_20,\n    /** 语义色 */\n    paletteSemanticRed: '#F4664A',\n    /** 语义色 */\n    paletteSemanticGreen: '#30BF78',\n    /** 语义色 */\n    paletteSemanticYellow: '#FAAD14',\n    /** 字体 */\n    fontFamily: \"\\\"-apple-system\\\", \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial,\\n  \\\"Noto Sans\\\", sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\",\\n  \\\"Noto Color Emoji\\\"\",\n    // -------------------- 坐标轴 --------------------\n    /** 坐标轴线颜色 */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴线粗细 */\n    axisLineBorder: 0.5,\n    /** 坐标轴线 lineDash 设置 */\n    axisLineDash: null,\n    /** 坐标轴标题颜色 */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /** 坐标轴标题文本字体大小 */\n    axisTitleTextFontSize: 12,\n    /** 坐标轴标题文本行高 */\n    axisTitleTextLineHeight: 12,\n    /** 坐标轴标题文本字体粗细 */\n    axisTitleTextFontWeight: 'normal',\n    /** 坐标轴刻度线颜色 */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴刻度线长度 */\n    axisTickLineLength: 4,\n    /** 坐标轴刻度线粗细 */\n    axisTickLineBorder: 0.5,\n    /** 坐标轴次刻度线颜色 */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /** 坐标轴次刻度线长度 */\n    axisSubTickLineLength: 2,\n    /** 坐标轴次刻度线粗细 */\n    axisSubTickLineBorder: 0.5,\n    /** 坐标轴刻度文本颜色 */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /** 坐标轴刻度文本字体大小 */\n    axisLabelFontSize: 12,\n    /** 坐标轴刻度文本行高 */\n    axisLabelLineHeight: 12,\n    /** 坐标轴刻度文本字体粗细 */\n    axisLabelFontWeight: 'normal',\n    /** 坐标轴网格线颜色 */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /** 坐标轴网格线粗细 */\n    axisGridBorder: 0.5,\n    /** 坐标轴网格线虚线设置 */\n    axisGridLineDash: null,\n    // -------------------- 图例 --------------------\n    /** 图例标题颜色 */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /** 图例标题文本字体大小 */\n    legendTitleTextFontSize: 12,\n    /** 图例标题文本行高 */\n    legendTitleTextLineHeight: 21,\n    /** 图例标题文本字体粗细 */\n    legendTitleTextFontWeight: 'normal',\n    /** 图例 marker 颜色 */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /** 图例 marker 默认半径大小 */\n    legendMarkerSize: 4,\n    /** 图例 'circle' marker 半径 */\n    legendCircleMarkerSize: 4,\n    /** 图例 'square' marker 半径 */\n    legendSquareMarkerSize: 4,\n    /** 图例 'line' marker 半径 */\n    legendLineMarkerSize: 5,\n    /** 图例项文本颜色 */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /** 图例项文本字体大小 */\n    legendItemNameFontSize: 12,\n    /** 图例项文本行高 */\n    legendItemNameLineHeight: 12,\n    /** 图例项粗细 */\n    legendItemNameFontWeight: 'normal',\n    /** 连续图例滑块填充色 */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /** 连续图例滑块边框粗细 */\n    sliderRailBorder: 0,\n    /** 连续图例滑块边框颜色 */\n    sliderRailBorderColor: null,\n    /** 连续图例滑块宽度 */\n    sliderRailWidth: 100,\n    /** 连续图例滑块高度 */\n    sliderRailHeight: 12,\n    /** 连续图例文本颜色 */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /** 连续图例文本字体大小 */\n    sliderLabelTextFontSize: 12,\n    /** 连续图例文本行高 */\n    sliderLabelTextLineHeight: 12,\n    /** 连续图例文本字体粗细 */\n    sliderLabelTextFontWeight: 'normal',\n    /** 连续图例滑块颜色 */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /** 连续图例滑块宽度 */\n    sliderHandlerWidth: 10,\n    /** 连续图例滑块高度 */\n    sliderHandlerHeight: 14,\n    /** 连续图例滑块边框粗细 */\n    sliderHandlerBorder: 1,\n    /** 连续图例滑块边框颜色 */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n    // -------------------- Annotation，图形标注 --------------------\n    /** arc 图形标注描边颜色 */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc 图形标注粗细 */\n    annotationArcBorder: 0.5,\n    /** line 图形标注颜色 */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line 图形标注粗细 */\n    annotationLineBorder: 0.5,\n    /** lube 图形标注的虚线间隔 */\n    annotationLineDash: null,\n    /** text 图形标注文本颜色 */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text 图形标注文本字体大小 */\n    annotationTextFontSize: 12,\n    /** text 图形标注文本行高 */\n    annotationTextLineHeight: 12,\n    /** text 图形标注文本字体粗细 */\n    annotationTextFontWeight: 'normal',\n    /** text 图形标注文本边框颜色 */\n    annotationTextBorderColor: WHITE_COLORS[95],\n    /** text 图形标注文本边框粗细 */\n    annotationTextBorder: 1.5,\n    /** region 图形标注填充颜色 */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region 图形标注填充颜色透明色 */\n    annotationRegionFillOpacity: 0.06,\n    /** region 图形标注描边粗细 */\n    annotationRegionBorder: 0,\n    /** region 图形标注描边颜色 */\n    annotationRegionBorderColor: null,\n    /** dataMarker 图形标注线的长度 */\n    annotationDataMarkerLineLength: 16,\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs 辅助线颜色 */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs 辅助线粗细 */\n    tooltipCrosshairsBorder: 0.5,\n    /** tooltip crosshairs 辅助线虚线间隔 */\n    tooltipCrosshairsLineDash: null,\n    /** tooltip 内容框背景色 */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip 内容框阴影 */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip 内容框圆角 */\n    tooltipContainerBorderRadius: 3,\n    /** tooltip 文本颜色 */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip 文本字体大小 */\n    tooltipTextFontSize: 12,\n    /** tooltip 文本行高 */\n    tooltipTextLineHeight: 12,\n    /** tooltip 文本字体粗细 */\n    tooltipTextFontWeight: 'bold',\n    // -------------------- Geometry labels --------------------\n    /** Geometry label 文本颜色 */\n    labelFillColor: BLACK_COLORS[65],\n    /** Geometry label 文本字体大小 */\n    labelFontSize: 12,\n    /** Geometry label 文本行高 */\n    labelLineHeight: 12,\n    /** Geometry label 文本字体粗细 */\n    labelFontWeight: 'normal',\n    /** Geometry label 文本描边颜色 */\n    labelBorderColor: WHITE_COLORS[100],\n    /** Geometry label 文本描边粗细 */\n    labelBorder: 2,\n    /** Geometry innerLabel 文本颜色 */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel 文本字体大小 */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel 文本行高 */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel 文本字体粗细 */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel 文本描边颜色 */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel 文本描边粗细 */\n    innerLabelBorder: 0,\n    /** Geometry label　文本连接线粗细 */\n    labelLineBorder: 0.5,\n    /** Geometry label 文本连接线颜色 */\n    labelLineBorderColor: BLACK_COLORS[25],\n    // -------------------- Geometry 图形样式--------------------\n    /** 点图填充颜色 */\n    pointFillColor: QUALITATIVE_10[0],\n    /** 点图填充颜色透明度 */\n    pointFillOpacity: 0.95,\n    /** 点图大小 */\n    pointSize: 4,\n    /** 点图描边粗细 */\n    pointBorder: 1,\n    /** 点图描边颜色 */\n    pointBorderColor: WHITE_COLORS[100],\n    /** 点图描边透明度 */\n    pointBorderOpacity: 1,\n    /** 点图 active 状态下描边颜色 */\n    pointActiveBorderColor: BLACK_COLORS[100],\n    /** 点图 selected 状态下描边粗细 */\n    pointSelectedBorder: 2,\n    /** 点图 selected 状态下描边颜色 */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n    /** 点图 inactive 状态下填充颜色透明度 */\n    pointInactiveFillOpacity: 0.3,\n    /** 点图 inactive 状态下描边透明度 */\n    pointInactiveBorderOpacity: 0.3,\n    /** 空心点图大小 */\n    hollowPointSize: 4,\n    /** 空心点图描边粗细 */\n    hollowPointBorder: 1,\n    /** 空心点图描边颜色 */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /** 空心点图描边透明度 */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n    /** 空心点图 active 状态下描边粗细 */\n    hollowPointActiveBorder: 1,\n    /** 空心点图 active 状态下描边颜色 */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /** 空心点图 active 状态下描边透明度 */\n    hollowPointActiveBorderOpacity: 1,\n    /** 空心点图 selected 状态下描边粗细 */\n    hollowPointSelectedBorder: 2,\n    /** 空心点图 selected 状态下描边颜色 */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /** 空心点图 selected 状态下描边透明度 */\n    hollowPointSelectedBorderOpacity: 1,\n    /** 空心点图 inactive 状态下描边透明度 */\n    hollowPointInactiveBorderOpacity: 0.3,\n    /** 线图粗细 */\n    lineBorder: 2,\n    /** 线图颜色 */\n    lineBorderColor: QUALITATIVE_10[0],\n    /** 线图透明度 */\n    lineBorderOpacity: 1,\n    /** 线图 Active 状态下粗细 */\n    lineActiveBorder: 3,\n    /** 线图 selected 状态下粗细 */\n    lineSelectedBorder: 3,\n    /** 线图 inactive 状态下透明度 */\n    lineInactiveBorderOpacity: 0.3,\n    /** area 填充颜色 */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area 填充透明度 */\n    areaFillOpacity: 0.25,\n    /** area 在 active 状态下的填充透明度 */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n    /** area 在 selected 状态下的填充透明度 */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n    /** area inactive 状态下填充透明度 */\n    areaInactiveFillOpacity: 0.3,\n    /** hollowArea 颜色 */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea 边框粗细 */\n    hollowAreaBorder: 2,\n    /** hollowArea 边框透明度 */\n    hollowAreaBorderOpacity: 1,\n    /** hollowArea active 状态下的边框粗细 */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n    /** hollowArea selected 状态下的边框粗细 */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowArea inactive 状态下的边框透明度 */\n    hollowAreaInactiveBorderOpacity: 0.3,\n    /** interval 填充颜色 */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval 填充透明度 */\n    intervalFillOpacity: 0.95,\n    /** interval active 状态下边框粗细 */\n    intervalActiveBorder: 1,\n    /** interval active 状态下边框颜色 */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n    /** interval selected 状态下边框粗细 */\n    intervalSelectedBorder: 2,\n    /** interval selected 状态下边框颜色 */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected 状态下边框透明度 */\n    intervalSelectedBorderOpacity: 1,\n    /** interval inactive 状态下边框透明度 */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive 状态下填充透明度 */\n    intervalInactiveFillOpacity: 0.3,\n    /** interval 边框粗细 */\n    hollowIntervalBorder: 2,\n    /** hollowInterval 边框颜色 */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval 边框透明度 */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n    /** hollowInterval active 状态下边框粗细 */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active 状态下边框颜色 */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框粗细 */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected 状态下边框颜色 */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框透明度 */\n    hollowIntervalSelectedBorderOpacity: 1,\n    /** hollowInterval inactive 状态下边框透明度 */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n};\n//# sourceMappingURL=light.js.map","import { get, isString, lowerCase } from '@antv/util';\nimport { getThemeByStylesheet } from './default';\nimport { antvLight as DefaultStyleSheet } from './style-sheet/light';\nvar defaultTheme = getThemeByStylesheet(DefaultStyleSheet);\n// 所有已经存在的主题\nvar Themes = {\n    default: defaultTheme,\n};\n/**\n * 获取主题配置信息。\n * @param theme 主题名\n */\nexport function getTheme(theme) {\n    return get(Themes, lowerCase(theme), Themes.default);\n}\n/**\n * 注册新的主题配置信息。\n * @param theme 主题名。\n * @param value 具体的主题配置。\n */\nexport function registerTheme(theme, value) {\n    if (isString(value)) {\n        // 在默认样式的基础上，修改主题样式表\n        var styleSheet = getStyleSheet(value);\n        Themes[lowerCase(theme)] = getThemeByStylesheet(styleSheet);\n    }\n    else {\n        Themes[lowerCase(theme)] = value;\n    }\n}\nvar StyleSheets = {\n    default: DefaultStyleSheet,\n};\n/**\n * 获取对应主题样式表\n * @param name 样式表名\n */\nexport function getStyleSheet(name) {\n    return get(StyleSheets, lowerCase(name), StyleSheets.default);\n}\n;\n/**\n * 注册主题样式表\n * @param name 样式表名\n * @param styleSheet 样式表定义\n */\nexport function registerStyleSheet(name, styleSheet) {\n    StyleSheets[lowerCase(name)] = styleSheet;\n}\n;\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { contains, each, filter, find, hasKey, isArray, isNil, isNumberEqual, isObject, memoize, values, } from '@antv/util';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { getName } from './scale';\nfunction snapEqual(v1, v2, scale) {\n    var value1 = scale.translate(v1);\n    var value2 = scale.translate(v2);\n    return isNumberEqual(value1, value2);\n}\nfunction getXValueByPoint(point, geometry) {\n    var coordinate = geometry.coordinate;\n    var xScale = geometry.getXScale();\n    var range = xScale.range;\n    var rangeMax = range[range.length - 1];\n    var rangeMin = range[0];\n    var invertPoint = coordinate.invert(point);\n    var xValue = invertPoint.x;\n    if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n        xValue = rangeMin; // 极坐标下，scale 的 range 被做过特殊处理\n    }\n    return xScale.translate(xScale.invert(xValue));\n}\nfunction filterYValue(data, point, geometry) {\n    var coordinate = geometry.coordinate;\n    var yScale = geometry.getYScale();\n    var yField = yScale.field;\n    var invertPoint = coordinate.invert(point);\n    var yValue = yScale.invert(invertPoint.y);\n    var result = find(data, function (obj) {\n        var originData = obj[FIELD_ORIGIN];\n        return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n    });\n    return result || data[data.length - 1];\n}\nvar getXDistance = memoize(function (scale) {\n    if (scale.isCategory) {\n        return 1;\n    }\n    var scaleValues = scale.values; // values 是无序的\n    var min = scale.translate(scaleValues[0]);\n    var max = min;\n    each(scaleValues, function (value) {\n        // 时间类型需要 translate\n        var numericValue = scale.translate(value);\n        if (numericValue < min) {\n            min = numericValue;\n        }\n        if (numericValue > max) {\n            max = numericValue;\n        }\n    });\n    var length = scaleValues.length;\n    return (max - min) / (length - 1);\n});\nfunction getTooltipTitle(originData, geometry, title) {\n    var titleField = title;\n    if (!title) {\n        var positionAttr = geometry.getAttribute('position');\n        var fields = positionAttr.getFields();\n        titleField = fields[0];\n    }\n    var scales = geometry.scales;\n    if (scales[titleField]) {\n        // 如果创建了该字段对应的 scale，则通过 scale.getText() 方式取值，因为用户可能对数据进行了格式化\n        return scales[titleField].getText(originData[titleField]);\n    }\n    // 如果没有对应的 scale，则从原始数据中取值，如果原始数据中仍不存在，则直接放回 title 值\n    return hasKey(originData, titleField) ? originData[titleField] : titleField;\n}\nfunction getAttributesForLegend(geometry) {\n    var attributes = values(geometry.attributes);\n    return filter(attributes, function (attribute) { return contains(GROUP_ATTRS, attribute.type); });\n}\nfunction getTooltipValueScale(geometry) {\n    var attributes = getAttributesForLegend(geometry);\n    var scale;\n    each(attributes, function (attribute) {\n        var tmpScale = attribute.getScale(attribute.type);\n        if (tmpScale && tmpScale.isLinear) {\n            // 如果指定字段是非 position 的，同时是连续的\n            scale = tmpScale;\n            return false;\n        }\n    });\n    var xScale = geometry.getXScale();\n    var yScale = geometry.getYScale();\n    return scale || yScale || xScale;\n}\nfunction getTooltipValue(originData, valueScale) {\n    var field = valueScale.field;\n    var value = originData[field];\n    if (isArray(value)) {\n        var texts = value.map(function (eachValue) {\n            return valueScale.getText(eachValue);\n        });\n        return texts.join('-');\n    }\n    return valueScale.getText(value);\n}\n// 根据原始数据获取 tooltip item 中 name 值\nfunction getTooltipName(originData, geometry) {\n    var nameScale;\n    var groupScales = geometry.getGroupScales();\n    if (groupScales.length) {\n        // 如果存在分组类型，取第一个分组类型\n        each(groupScales, function (scale) {\n            nameScale = scale;\n            return false;\n        });\n    }\n    if (nameScale) {\n        var field = nameScale.field;\n        return nameScale.getText(originData[field]);\n    }\n    var valueScale = getTooltipValueScale(geometry);\n    return getName(valueScale);\n}\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point, data, geometry) {\n    if (data.length === 0) {\n        return null;\n    }\n    var geometryType = geometry.type;\n    var xScale = geometry.getXScale();\n    var yScale = geometry.getYScale();\n    var xField = xScale.field;\n    var yField = yScale.field;\n    var rst = null;\n    // 热力图采用最小逼近策略查找 point 击中的数据\n    if (geometryType === 'heatmap' || geometryType === 'point') {\n        // 将 point 画布坐标转换为原始数据值\n        var coordinate = geometry.coordinate;\n        var invertPoint = coordinate.invert(point); // 转换成归一化的数据\n        var x_1 = xScale.invert(invertPoint.x); // 转换为原始值\n        var y_1 = yScale.invert(invertPoint.y); // 转换为原始值\n        var min_1 = Infinity;\n        each(data, function (obj) {\n            var originData = obj[FIELD_ORIGIN];\n            var range = Math.pow((originData[xField] - x_1), 2) + Math.pow((originData[yField] - y_1), 2);\n            if (range < min_1) {\n                min_1 = range;\n                rst = obj;\n            }\n        });\n        return rst;\n    }\n    // 其他 Geometry 类型按照 x 字段数据进行查找\n    var first = data[0];\n    var last = data[data.length - 1];\n    var xValue = getXValueByPoint(point, geometry);\n    var firstXValue = first[FIELD_ORIGIN][xField];\n    var firstYValue = first[FIELD_ORIGIN][yField];\n    var lastXValue = last[FIELD_ORIGIN][xField];\n    var isYArray = yScale.isLinear && isArray(firstYValue); // 考虑 x 维度相同，y 是数组区间的情况\n    // 如果 x 的值是数组\n    if (isArray(firstXValue)) {\n        each(data, function (record) {\n            var originData = record[FIELD_ORIGIN];\n            // xValue 在 originData[xField] 的数值区间内\n            if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n                if (isYArray) {\n                    // 层叠直方图场景，x 和 y 都是数组区间\n                    if (!isArray(rst)) {\n                        rst = [];\n                    }\n                    rst.push(record);\n                }\n                else {\n                    rst = record;\n                    return false;\n                }\n            }\n        });\n        if (isArray(rst)) {\n            rst = filterYValue(rst, point, geometry);\n        }\n    }\n    else {\n        var next_1;\n        if (!xScale.isLinear && xScale.type !== 'timeCat') {\n            // x 轴对应的数据为非线性以及非时间类型的数据采用遍历查找\n            each(data, function (record, index) {\n                var originData = record[FIELD_ORIGIN];\n                if (snapEqual(originData[xField], xValue, xScale)) {\n                    if (isYArray) {\n                        if (!isArray(rst)) {\n                            rst = [];\n                        }\n                        rst.push(record);\n                    }\n                    else {\n                        rst = record;\n                        return false;\n                    }\n                }\n                else if (xScale.translate(originData[xField]) <= xValue) {\n                    last = record;\n                    next_1 = data[index + 1];\n                }\n            });\n            if (isArray(rst)) {\n                rst = filterYValue(rst, point, geometry);\n            }\n        }\n        else {\n            // x 轴对应的数据为线性以及时间类型，进行二分查找，性能更好\n            if (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) {\n                // 不在数据范围内\n                return null;\n            }\n            var firstIdx = 0;\n            var lastIdx = data.length - 1;\n            var middleIdx = void 0;\n            while (firstIdx <= lastIdx) {\n                middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n                var item = data[middleIdx][FIELD_ORIGIN][xField];\n                if (snapEqual(item, xValue, xScale)) {\n                    return data[middleIdx];\n                }\n                if (xScale.translate(item) <= xScale.translate(xValue)) {\n                    firstIdx = middleIdx + 1;\n                    last = data[middleIdx];\n                    next_1 = data[middleIdx + 1];\n                }\n                else {\n                    if (lastIdx === 0) {\n                        last = data[0];\n                    }\n                    lastIdx = middleIdx - 1;\n                }\n            }\n        }\n        if (last && next_1) {\n            // 计算最逼近的\n            if (Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n                Math.abs(xScale.translate(next_1[FIELD_ORIGIN][xField]) - xValue)) {\n                last = next_1;\n            }\n        }\n    }\n    var distance = getXDistance(geometry.getXScale()); // 每个分类间的平均间距\n    if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n        rst = last;\n    }\n    return rst;\n}\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(data, geometry, title) {\n    if (title === void 0) { title = ''; }\n    var originData = data[FIELD_ORIGIN];\n    var tooltipTitle = getTooltipTitle(originData, geometry, title);\n    var tooltipOption = geometry.tooltipOption;\n    var defaultColor = geometry.theme.defaultColor;\n    var items = [];\n    var name;\n    var value;\n    function addItem(itemName, itemValue) {\n        if (!isNil(itemValue) && itemValue !== '') {\n            // 值为 null的时候，忽视\n            var item = {\n                title: tooltipTitle,\n                data: originData,\n                mappingData: data,\n                name: itemName || tooltipTitle,\n                value: itemValue,\n                color: data.color || defaultColor,\n                marker: true,\n            };\n            items.push(item);\n        }\n    }\n    if (isObject(tooltipOption)) {\n        var fields = tooltipOption.fields, callback = tooltipOption.callback;\n        if (callback) {\n            // 用户定义了回调函数\n            var callbackParams = fields.map(function (field) {\n                return data[FIELD_ORIGIN][field];\n            });\n            var cfg = callback.apply(void 0, callbackParams);\n            var itemCfg = __assign({ data: data[FIELD_ORIGIN], mappingData: data, title: tooltipTitle, color: data.color || defaultColor, marker: true }, cfg);\n            items.push(itemCfg);\n        }\n        else {\n            var scales_1 = geometry.scales;\n            each(fields, function (field) {\n                if (!isNil(originData[field])) {\n                    // 字段数据为null, undefined 时不显示\n                    var scale = scales_1[field];\n                    name = getName(scale);\n                    value = scale.getText(originData[field]);\n                    addItem(name, value);\n                }\n            });\n        }\n    }\n    else {\n        var valueScale = getTooltipValueScale(geometry);\n        if (!isNil(originData[valueScale.field])) {\n            // 字段数据为null ,undefined时不显示\n            value = getTooltipValue(originData, valueScale);\n            name = getTooltipName(originData, geometry);\n            addItem(name, value);\n        }\n    }\n    return items;\n}\n//# sourceMappingURL=tooltip.js.map","var LOAD_COMPONENT_CONTROLLERS = {};\n/**\n * 全局注册组件。\n * @param name 组件名称\n * @param plugin 注册的组件类\n * @returns void\n */\nexport function registerComponentController(name, plugin) {\n    LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n/**\n * 删除全局组件。\n * @param name 组件名\n * @returns void\n */\nexport function unregisterComponentController(name) {\n    delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n/**\n * 获取以注册的组件名。\n * @returns string[] 返回已注册的组件名称\n */\nexport function getComponentControllerNames() {\n    return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n/**\n * 根据组件名获取组件类。\n * @param name 组件名\n * @returns 返回组件类\n */\nexport function getComponentController(name) {\n    return LOAD_COMPONENT_CONTROLLERS[name];\n}\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { each, isNil, some } from '@antv/util';\nimport { getCoordinate } from '../../dependents';\n/**\n * coordinate controller，职责：\n * 1. 创建实例\n * 2. 暂存配置\n */\nvar CoordinateController = /** @class */ (function () {\n    function CoordinateController(option) {\n        // 设置默认值，并存储配置\n        this.option = this.wrapperOption(option);\n    }\n    /**\n     * 更新配置\n     * @param option\n     */\n    CoordinateController.prototype.update = function (option) {\n        this.option = this.wrapperOption(option);\n        return this;\n    };\n    /**\n     * 是否存在某一个 action\n     * @param actionName\n     */\n    CoordinateController.prototype.hasAction = function (actionName) {\n        var actions = this.option.actions;\n        return some(actions, function (action) { return action[0] === actionName; });\n    };\n    /**\n     * 创建坐标系对象\n     * @param start 起始位置\n     * @param end   结束位置\n     * @return 坐标系实例\n     */\n    CoordinateController.prototype.create = function (start, end) {\n        var _a = this.option, type = _a.type, cfg = _a.cfg;\n        // 1. 起始位置\n        var props = __assign({ start: start,\n            end: end }, cfg);\n        // 2. 创建实例\n        var C = getCoordinate(this.isTheta() ? 'polar' : type);\n        this.coordinate = new C(props);\n        // @ts-ignore FIXME coordinate 包问题导致 type 不正确\n        this.coordinate.type = type;\n        // 3. 添加默认 action\n        if (this.isTheta()) {\n            // 不存在 transpose，为其自动设置一个 action\n            if (!this.hasAction('transpose')) {\n                this.transpose();\n            }\n        }\n        // 4. 执行 action\n        this.execActions();\n        return this.coordinate;\n    };\n    /**\n     * 更新坐标系对象\n     * @param start 起始位置\n     * @param end   结束位置\n     * @return 坐标系实例\n     */\n    CoordinateController.prototype.adjust = function (start, end) {\n        this.coordinate.update({\n            start: start,\n            end: end,\n        });\n        // 更新坐标系大小的时候，需要：\n        // 1. 重置 matrix\n        // 2. 重新执行作用于 matrix 的 action\n        this.coordinate.resetMatrix();\n        this.execActions(['scale', 'rotate', 'translate']);\n        return this.coordinate;\n    };\n    /**\n     * 旋转弧度\n     * @param angle\n     */\n    CoordinateController.prototype.rotate = function (angle) {\n        this.option.actions.push(['rotate', angle]);\n        return this;\n    };\n    /**\n     * 镜像\n     * @param dim\n     */\n    CoordinateController.prototype.reflect = function (dim) {\n        this.option.actions.push(['reflect', dim]);\n        return this;\n    };\n    /**\n     * scale\n     * @param sx\n     * @param sy\n     */\n    CoordinateController.prototype.scale = function (sx, sy) {\n        this.option.actions.push(['scale', sx, sy]);\n        return this;\n    };\n    /**\n     * 对角变换\n     */\n    CoordinateController.prototype.transpose = function () {\n        this.option.actions.push(['transpose']);\n        return this;\n    };\n    /**\n     * 是否是 theta\n     */\n    CoordinateController.prototype.isTheta = function () {\n        return this.option.type === 'theta';\n    };\n    /**\n     * 获取配置\n     */\n    CoordinateController.prototype.getOption = function () {\n        return this.option;\n    };\n    /**\n     * 获得 coordinate 实例\n     */\n    CoordinateController.prototype.getCoordinate = function () {\n        return this.coordinate;\n    };\n    /**\n     * 包装配置的默认值\n     * @param option\n     */\n    CoordinateController.prototype.wrapperOption = function (option) {\n        return __assign({ type: 'rect', actions: [], cfg: {} }, option);\n    };\n    /**\n     * coordinate 实例执行 actions\n     * @params includeActions 如果没有指定，则执行全部，否则，执行指定的 action\n     */\n    CoordinateController.prototype.execActions = function (includeActions) {\n        var _this = this;\n        var actions = this.option.actions;\n        each(actions, function (action) {\n            var _a;\n            var actionName = action[0], args = action.slice(1);\n            var shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n            if (shouldExec) {\n                (_a = _this.coordinate)[actionName].apply(_a, args);\n            }\n        });\n    };\n    return CoordinateController;\n}());\nexport default CoordinateController;\n//# sourceMappingURL=coordinate.js.map","/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2 事件的事件包装类，基于 G.Event\n */\nvar Event = /** @class */ (function () {\n    function Event(view, gEvent, data) {\n        this.view = view;\n        this.gEvent = gEvent;\n        this.data = data;\n        this.type = gEvent.type;\n    }\n    Object.defineProperty(Event.prototype, \"target\", {\n        // below props are proxy props of G.event convenient\n        /** the real trigger shape of the event */\n        get: function () {\n            // @todo G 中事件定义为 object 不正确，这里先 ignore\n            // @ts-ignore\n            return this.gEvent.target;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"event\", {\n        /** 获取对应的 dom 原生时间 */\n        get: function () {\n            return this.gEvent.originalEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"x\", {\n        /** x 画布坐标 */\n        get: function () {\n            return this.gEvent.x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"y\", {\n        /** y 画布坐标 */\n        get: function () {\n            return this.gEvent.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"clientX\", {\n        /** x 窗口坐标 */\n        get: function () {\n            return this.gEvent.clientX;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"clientY\", {\n        /** y 窗口坐标 */\n        get: function () {\n            return this.gEvent.clientY;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // end for proxy events\n    /**\n     * event string\n     * @returns string\n     */\n    Event.prototype.toString = function () {\n        return \"[Event (type=\" + this.type + \")]\";\n    };\n    /**\n     * clone a new event with same attributes\n     * @returns [[Event]]\n     */\n    Event.prototype.clone = function () {\n        return new Event(this.view, this.gEvent, this.data);\n    };\n    return Event;\n}());\nexport default Event;\n//# sourceMappingURL=event.js.map","import { DIRECTION } from '../../constant';\n/** @ignore */\nvar PaddingCal = /** @class */ (function () {\n    /**\n     * 初始的 padding 数据\n     * @param top\n     * @param right\n     * @param bottom\n     * @param left\n     */\n    function PaddingCal(top, right, bottom, left) {\n        if (top === void 0) { top = 0; }\n        if (right === void 0) { right = 0; }\n        if (bottom === void 0) { bottom = 0; }\n        if (left === void 0) { left = 0; }\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    /**\n     * 四周增加 padding\n     * @param padding\n     */\n    PaddingCal.prototype.shrink = function (padding) {\n        var top = padding[0], right = padding[1], bottom = padding[2], left = padding[3];\n        this.top += top;\n        this.right += right;\n        this.bottom += bottom;\n        this.left += left;\n        return this;\n    };\n    /**\n     * 在某一个方向增加 padding\n     * @param bbox\n     * @param direction\n     */\n    PaddingCal.prototype.inc = function (bbox, direction) {\n        var width = bbox.width, height = bbox.height;\n        switch (direction) {\n            case DIRECTION.TOP:\n            case DIRECTION.TOP_LEFT:\n            case DIRECTION.TOP_RIGHT:\n                this.top += height;\n                break;\n            case DIRECTION.RIGHT:\n            case DIRECTION.RIGHT_TOP:\n            case DIRECTION.RIGHT_BOTTOM:\n                this.right += width;\n                break;\n            case DIRECTION.BOTTOM:\n            case DIRECTION.BOTTOM_LEFT:\n            case DIRECTION.BOTTOM_RIGHT:\n                this.bottom += height;\n                break;\n            case DIRECTION.LEFT:\n            case DIRECTION.LEFT_TOP:\n            case DIRECTION.LEFT_BOTTOM:\n                this.left += width;\n                break;\n            default:\n                break;\n        }\n        return this;\n    };\n    /**\n     * 获得最终的 padding\n     */\n    PaddingCal.prototype.getPadding = function () {\n        return [this.top, this.right, this.bottom, this.left];\n    };\n    return PaddingCal;\n}());\nexport { PaddingCal };\n//# sourceMappingURL=padding-cal.js.map","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport { PaddingCal } from './padding-cal';\n/**\n * @ignore\n * 根据 view 中的组件，计算实际的 padding 数值\n * @param view\n */\nexport function calculatePadding(view) {\n    var padding = view.padding;\n    // 如果不是 auto padding，那么直接解析之后返回\n    if (!isAutoPadding(padding)) {\n        return parsePadding(padding);\n    }\n    // 是 auto padding，根据组件的情况，来计算 padding\n    var viewBBox = view.viewBBox;\n    var paddingCal = new PaddingCal();\n    each(view.getComponents(), function (co) {\n        var component = co.component, type = co.type;\n        // grid, tooltip 不参入 padding 布局\n        if (type === COMPONENT_TYPE.GRID || type === COMPONENT_TYPE.TOOLTIP) {\n            return;\n        }\n        var bboxObject = component.getLayoutBBox();\n        var componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n        if (type === COMPONENT_TYPE.AXIS) {\n            var exceed = componentBBox.exceed(viewBBox);\n            paddingCal.shrink(exceed);\n        }\n        else {\n            // 按照方向计算 padding\n            var direction = co.direction;\n            // const direction =\n            //   type === COMPONENT_TYPE.AXIS ? getTranslateDirection(co.direction, view.getCoordinate()) : co.direction;\n            paddingCal.inc(componentBBox, direction);\n        }\n    });\n    // 返回最终的 padding\n    return paddingCal.getPadding();\n}\n//# sourceMappingURL=auto.js.map","import { calculatePadding } from './auto';\n/**\n * @ignore\n * G2 默认提供的 layout 函数\n * 内置布局函数处理的逻辑：\n *\n * 1. 如果 padding = 'auto'，那么自动根据组件的 direction 来计算 padding 数组\n * 2. 根据 padding 和 direction 去分配对应方向的 padding 数值\n * 3. 移动组件位置\n *\n * 对于组件响应式布局，可以尝试使用约束布局的方式去求解位置信息。\n * @param view\n */\nexport default function defaultLayout(view) {\n    var axis = view.getController('axis');\n    var legend = view.getController('legend');\n    var annotation = view.getController('annotation');\n    var slider = view.getController('slider');\n    // 1. 自动加 auto padding -> absolute padding\n    var padding = calculatePadding(view);\n    // 2. 计算出 coordinateBBox\n    view.coordinateBBox = view.viewBBox.shrink(padding);\n    view.adjustCoordinate();\n    // 3. 根据最新的 coordinate 重新布局组件\n    [axis, slider, legend, annotation].forEach(function (controller) {\n        if (controller) {\n            controller.layout();\n        }\n    });\n}\n//# sourceMappingURL=index.js.map","/**\n * view 中缓存 scale 的类\n */\nimport { deepMix, each, get, isEmpty, isNumber, last } from '@antv/util';\nimport { createScaleByField, syncScale } from '../../util/scale';\n/** @ignore */\nvar ScalePool = /** @class */ (function () {\n    function ScalePool() {\n        /** 所有的 scales */\n        this.scales = {};\n        /** 需要同步的 scale 分组， key: scaleKeyArray */\n        this.syncScales = {};\n    }\n    /**\n     * 创建 scale\n     * @param field\n     * @param data\n     * @param scaleDef\n     * @param key\n     */\n    ScalePool.prototype.createScale = function (field, data, scaleDef, key) {\n        var finalScaleDef = scaleDef;\n        var cacheScaleMeta = this.getScaleMeta(key);\n        if (isEmpty(data) && cacheScaleMeta) {\n            // 在更新过程中数据变为空，同时 key 对应的 scale 已存在则保持 scale 同类型\n            var cacheScale = cacheScaleMeta.scale;\n            var cacheScaleDef = {\n                type: cacheScale.type,\n            };\n            if (cacheScale.isCategory) {\n                // 如果是分类类型，保持 values\n                cacheScaleDef.values = cacheScale.values;\n            }\n            finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n        }\n        var scale = createScaleByField(field, data, finalScaleDef);\n        // 缓存起来\n        this.cacheScale(scale, scaleDef, key);\n        return scale;\n    };\n    /**\n     * 同步 scale\n     */\n    ScalePool.prototype.sync = function () {\n        var _this = this;\n        // 对于 syncScales 中每一个 syncKey 下面的 scale 数组进行同步处理\n        each(this.syncScales, function (scaleKeys, syncKey) {\n            // min, max, values\n            var min = Number.MAX_SAFE_INTEGER;\n            var max = Number.MIN_SAFE_INTEGER;\n            var values = [];\n            // 1. 遍历求得最大最小值，values 等\n            each(scaleKeys, function (key) {\n                var scale = _this.getScale(key);\n                max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n                min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n                // 去重\n                each(scale.values, function (v) {\n                    if (!values.includes(v)) {\n                        values.push(v);\n                    }\n                });\n            });\n            // 2. 同步\n            each(scaleKeys, function (key) {\n                var scale = _this.getScale(key);\n                if (scale.isContinuous) {\n                    scale.change({\n                        min: min,\n                        max: max,\n                        values: values,\n                    });\n                }\n                else if (scale.isCategory) {\n                    scale.change({\n                        values: values,\n                    });\n                }\n            });\n        });\n    };\n    /**\n     * 缓存一个 scale\n     * @param scale\n     * @param scaleDef\n     * @param key\n     */\n    ScalePool.prototype.cacheScale = function (scale, scaleDef, key) {\n        // 1. 缓存到 scales\n        var sm = this.getScaleMeta(key);\n        // 存在则更新，同时检测类型是否一致\n        if (sm && sm.scale.type === scale.type) {\n            syncScale(sm.scale, scale);\n            sm.scaleDef = scaleDef;\n            // 更新 scaleDef\n        }\n        else {\n            sm = {\n                key: key,\n                scale: scale,\n                scaleDef: scaleDef,\n            };\n            this.scales[key] = sm;\n        }\n        // 2. 缓存到 syncScales，构造 Record<sync, string[]> 数据结构\n        var syncKey = this.getSyncKey(sm);\n        // 因为存在更新 scale 机制，所以在缓存之前，先从原 syncScales 中去除 sync 的缓存引用\n        this.removeFromSyncScales(key);\n        // 存在 sync 标记才进行 sync\n        if (syncKey) {\n            // 不存在这个 syncKey，则创建一个空数组\n            if (!this.syncScales[syncKey]) {\n                this.syncScales[syncKey] = [];\n            }\n            this.syncScales[syncKey].push(key);\n        }\n    };\n    /**\n     * 通过 key 获取 scale\n     * @param key\n     */\n    ScalePool.prototype.getScale = function (key) {\n        var scaleMeta = this.getScaleMeta(key);\n        if (!scaleMeta) {\n            var field = last(key.split('-'));\n            if (this.syncScales[field] && this.syncScales[field].length) {\n                scaleMeta = this.getScaleMeta(this.syncScales[field][0]);\n            }\n        }\n        return scaleMeta && scaleMeta.scale;\n    };\n    /**\n     * 清空\n     */\n    ScalePool.prototype.clear = function () {\n        this.scales = {};\n        this.syncScales = {};\n    };\n    /**\n     * 删除 sync scale 引用\n     * @param key\n     */\n    ScalePool.prototype.removeFromSyncScales = function (key) {\n        var _this = this;\n        each(this.syncScales, function (scaleKeys, syncKey) {\n            var idx = scaleKeys.indexOf(key);\n            if (idx !== -1) {\n                scaleKeys.splice(idx, 1);\n                // 删除空数组值\n                if (scaleKeys.length === 0) {\n                    delete _this.syncScales[syncKey];\n                }\n                return false; // 跳出循环\n            }\n        });\n    };\n    /**\n     * get sync key\n     * @param sm\n     */\n    ScalePool.prototype.getSyncKey = function (sm) {\n        var scale = sm.scale, scaleDef = sm.scaleDef;\n        var field = scale.field;\n        var sync = get(scaleDef, ['sync']);\n        // 如果 sync = true，则直接使用字段名作为 syncKey\n        return sync === true ? field : sync === false ? undefined : sync;\n    };\n    /**\n     * 通过 key 获取 scale\n     * @param key\n     */\n    ScalePool.prototype.getScaleMeta = function (key) {\n        return this.scales[key];\n    };\n    return ScalePool;\n}());\nexport { ScalePool };\n//# sourceMappingURL=scale-pool.js.map","import { __assign, __extends, __spreadArrays } from \"tslib\";\nimport { clone, deepMix, each, filter, find, flatten, get, isBoolean, isFunction, isNil, isObject, isString, isUndefined, map, remove, set, size, uniq, uniqueId, } from '@antv/util';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { getFacet } from '../facet';\nimport { createInteraction } from '../interaction';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isFullCircle, isPointInCoordinate } from '../util/coordinate';\nimport { mergeTheme } from '../util/theme';\nimport { findDataByPoint } from '../util/tooltip';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport CoordinateController from './controller/coordinate';\nimport Event from './event';\nimport defaultLayout from './layout';\nimport { ScalePool } from './util/scale-pool';\n/**\n * G2 视图 View 类\n */\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View(props) {\n        var _this = _super.call(this, { visible: props.visible }) || this;\n        /** view id，全局唯一。 */\n        _this.id = uniqueId('view');\n        /** 所有的子 view。 */\n        _this.views = [];\n        /** 所有的 geometry 实例。 */\n        _this.geometries = [];\n        /** 所有的组件 controllers。 */\n        _this.controllers = [];\n        /** 所有的 Interaction 实例。 */\n        _this.interactions = {};\n        /** 是否对超出坐标系范围的 Geometry 进行剪切 */\n        _this.limitInPlot = false;\n        // 配置信息存储\n        _this.options = {\n            data: [],\n            animate: true,\n        }; // 初始化为空\n        /** 配置开启的组件插件，默认为全局配置的组件。 */\n        _this.usedControllers = getComponentControllerNames();\n        /** 所有的 scales */\n        _this.scalePool = new ScalePool();\n        /** 布局函数 */\n        _this.layoutFunc = defaultLayout;\n        /** 当前鼠标是否在 plot 内（CoordinateBBox） */\n        _this.isPreMouseInPlot = false;\n        _this.onCanvasEvent = function (evt) {\n            var name = evt.name;\n            if (!name.includes(':')) { // 非委托事件\n                var e = _this.createViewEvent(evt);\n                // 处理 plot 事件\n                _this.doPlotEvent(e);\n                _this.emit(name, e);\n            }\n        };\n        /**\n         * 触发事件之后\n         * @param evt\n         */\n        _this.onDelegateEvents = function (evt) {\n            // 阻止继续冒泡，防止重复事件触发\n            evt.preventDefault();\n            var type = evt.type, name = evt.name;\n            if (!name.includes(':')) {\n                return;\n            }\n            // 事件在 view 嵌套中冒泡（暂不提供阻止冒泡的机制）\n            var e = _this.createViewEvent(evt);\n            // 包含有基本事件、组合事件\n            _this.emit(name, e);\n            if (evt.delegateObject) {\n                var events_1 = _this.getEvents();\n                var currentTarget = evt.currentTarget;\n                var inhertNames = currentTarget.get('inheritNames');\n                each(inhertNames, function (subName) {\n                    var eventName = subName + \":\" + type;\n                    if (events_1[eventName]) {\n                        _this.emit(eventName, e);\n                    }\n                });\n            }\n        };\n        /**\n         * 监听自己的 view 事件，然后向上传递，形成事件冒泡的机制\n         * @param evt\n         */\n        _this.onViewEvents = function (evt) {\n            // 存在事件的时候才冒泡，否则可能是生命周期事件，暂时不冒泡\n            // 因为 chart 上监听到很多的 view 生命周期事件，好像没有意义\n            if (evt) {\n                var type = evt.type;\n                if (_this.parent) {\n                    // 事件在 view 嵌套中冒泡（暂不提供阻止冒泡的机制）\n                    _this.parent.emit(type, evt);\n                }\n            }\n        };\n        var parent = props.parent, canvas = props.canvas, backgroundGroup = props.backgroundGroup, middleGroup = props.middleGroup, foregroundGroup = props.foregroundGroup, _a = props.region, region = _a === void 0 ? { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } } : _a, padding = props.padding, theme = props.theme, options = props.options, limitInPlot = props.limitInPlot;\n        _this.parent = parent;\n        _this.canvas = canvas;\n        _this.backgroundGroup = backgroundGroup;\n        _this.middleGroup = middleGroup;\n        _this.foregroundGroup = foregroundGroup;\n        _this.region = region;\n        _this.padding = padding;\n        _this.themeObject = mergeTheme({}, theme);\n        // 接受父 view 传入的参数\n        _this.options = __assign(__assign({}, _this.options), options);\n        _this.limitInPlot = limitInPlot;\n        _this.init();\n        return _this;\n    }\n    /**\n     * 设置 layout 布局函数\n     * @param layout 布局函数\n     * @returns void\n     */\n    View.prototype.setLayout = function (layout) {\n        this.layoutFunc = layout;\n    };\n    /**\n     * 生命周期：初始化\n     * @returns voids\n     */\n    View.prototype.init = function () {\n        // 计算画布的 viewBBox\n        this.calculateViewBBox();\n        // 事件委托机制\n        this.initEvents();\n        // 初始化组件 controller\n        this.initComponentController();\n        // 创建 coordinate controller\n        this.coordinateController = new CoordinateController(this.options.coordinate);\n        this.initOptions();\n        // 递归初始化子 view\n        each(this.views, function (view) {\n            view.init();\n        });\n    };\n    /**\n     * 生命周期：渲染流程，渲染过程需要处理数据更新的情况。\n     * render 函数仅仅会处理 view 和子 view。\n     * @param isUpdate 是否触发更新流程。\n     */\n    View.prototype.render = function (isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER);\n        // 递归渲染\n        this.paint(isUpdate);\n        this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER);\n        if (this.visible === false) {\n            // 用户在初始化的时候声明 visible: false\n            this.changeVisible(false);\n        }\n    };\n    /**\n     * 生命周期：清空图表上所有的绘制内容，但是不销毁图表，chart 仍可使用。\n     * @returns void\n     */\n    View.prototype.clear = function () {\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n        // 1. 清空缓存和计算数据\n        this.scalePool.clear();\n        this.filteredData = [];\n        this.coordinateInstance = undefined;\n        // 2. 清空 geometries\n        each(this.geometries, function (geometry) {\n            geometry.clear();\n        });\n        this.geometries = [];\n        // 3. 清空 controllers\n        each(this.controllers, function (controller) {\n            controller.clear();\n        });\n        // 递归处理子 view\n        each(this.views, function (view) {\n            view.clear();\n        });\n        this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n    };\n    /**\n     * 生命周期：销毁，完全无法使用。\n     * @returns void\n     */\n    View.prototype.destroy = function () {\n        // 销毁前事件，销毁之后已经没有意义了，所以不抛出事件\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n        var interactions = this.interactions;\n        // 销毁 interactions\n        each(interactions, function (interaction) {\n            if (interaction) {\n                // 有可能已经销毁，设置了 undefined\n                interaction.destroy();\n            }\n        });\n        this.clear();\n        // 销毁 controller 中的组件\n        each(this.controllers, function (controller) {\n            controller.destroy();\n        });\n        this.backgroundGroup.remove(true);\n        this.middleGroup.remove(true);\n        this.foregroundGroup.remove(true);\n        _super.prototype.destroy.call(this);\n    };\n    /* end 生命周期函数 */\n    /**\n     * 显示或者隐藏整个 view。\n     * @param visible 是否可见\n     * @returns View\n     */\n    View.prototype.changeVisible = function (visible) {\n        _super.prototype.changeVisible.call(this, visible);\n        this.geometries.forEach(function (geometry) {\n            geometry.changeVisible(visible);\n        });\n        this.controllers.forEach(function (controller) {\n            controller.changeVisible(visible);\n        });\n        this.foregroundGroup.set('visible', visible);\n        this.middleGroup.set('visible', visible);\n        this.backgroundGroup.set('visible', visible);\n        // group.set('visible', visible) 不会触发自动刷新\n        this.getCanvas().draw();\n        return this;\n    };\n    /**\n     * 装载数据源。\n     *\n     * ```ts\n     * view.data([{ city: '杭州', sale: 100 }, { city: '上海', sale: 110 } ]);\n     * ```\n     *\n     * @param data 数据源，json 数组。\n     * @returns View\n     */\n    View.prototype.data = function (data) {\n        set(this.options, 'data', data);\n        return this;\n    };\n    /**\n     * 设置数据筛选规则。\n     *\n     * ```ts\n     * view.filter('city', (value: any, datum: Datum) => value !== '杭州');\n     *\n     * // 删除 'city' 字段对应的筛选规则。\n     * view.filter('city', null);\n     * ```\n     *\n     * @param field 数据字段\n     * @param condition 筛选规则\n     * @returns View\n     */\n    View.prototype.filter = function (field, condition) {\n        if (isFunction(condition)) {\n            set(this.options, ['filters', field], condition);\n            return this;\n        }\n        // condition 为空，则表示删除过滤条件\n        if (!condition && get(this.options, ['filters', field])) {\n            delete this.options.filters[field];\n        }\n        return this;\n    };\n    View.prototype.axis = function (field, axisOption) {\n        if (isBoolean(field)) {\n            set(this.options, ['axes'], field);\n        }\n        else {\n            set(this.options, ['axes', field], axisOption);\n        }\n        return this;\n    };\n    View.prototype.legend = function (field, legendOption) {\n        if (isBoolean(field)) {\n            set(this.options, ['legends'], field);\n        }\n        else if (isString(field)) {\n            set(this.options, ['legends', field], legendOption);\n        }\n        else {\n            // 设置全局的 legend 配置\n            set(this.options, ['legends'], field);\n        }\n        return this;\n    };\n    View.prototype.scale = function (field, scaleOption) {\n        var _this = this;\n        if (isString(field)) {\n            set(this.options, ['scales', field], scaleOption);\n        }\n        else if (isObject(field)) {\n            each(field, function (v, k) {\n                set(_this.options, ['scales', k], v);\n            });\n        }\n        return this;\n    };\n    /**\n     * tooltip 提示信息配置。\n     *\n     * ```ts\n     * view.tooltip(false); // 关闭 tooltip\n     *\n     * view.tooltip({\n     *   shared: true\n     * });\n     * ```\n     *\n     * @param cfg Tooltip 配置\n     * @returns View\n     */\n    View.prototype.tooltip = function (cfg) {\n        set(this.options, 'tooltip', cfg);\n        return this;\n    };\n    /**\n     * 辅助标记配置。\n     *\n     * ```ts\n     * view.annotation().line({\n     *   start: ['min', 85],\n     *   end: ['max', 85],\n     *   style: {\n     *     stroke: '#595959',\n     *     lineWidth: 1,\n     *     lineDash: [3, 3],\n     *   },\n     * });\n     * ```\n     *\n     * @returns [[Annotation]]\n     */\n    View.prototype.annotation = function () {\n        return this.getController('annotation');\n    };\n    View.prototype.coordinate = function (type, coordinateCfg) {\n        // 提供语法糖，使用更简单\n        if (isString(type)) {\n            set(this.options, 'coordinate', { type: type, cfg: coordinateCfg });\n        }\n        else {\n            set(this.options, 'coordinate', type);\n        }\n        // 更新 coordinate 配置\n        this.coordinateController.update(this.options.coordinate);\n        return this.coordinateController;\n    };\n    /**\n     * view 分面绘制。\n     *\n     * ```ts\n     * view.facet('rect', {\n     *   rowField: 'province',\n     *   columnField: 'category',\n     *   eachView: (innerView: View, facet?: FacetData) => {\n     *     innerView.line().position('city*sale');\n     *   },\n     * });\n     * ```\n     *\n     * @param type 分面类型\n     * @param cfg 分面配置， [[FacetCfgMap]]\n     * @returns View\n     */\n    View.prototype.facet = function (type, cfg) {\n        // 先销毁掉之前的分面\n        if (this.facetInstance) {\n            this.facetInstance.destroy();\n        }\n        // 创建新的分面\n        var Ctor = getFacet(type);\n        if (!Ctor) {\n            throw new Error(\"facet '\" + type + \"' is not exist!\");\n        }\n        this.facetInstance = new Ctor(this, __assign(__assign({}, cfg), { type: type }));\n        return this;\n    };\n    /*\n     * 开启或者关闭动画。\n     *\n     * ```ts\n     * view.animate(false);\n     * ```\n     *\n     * @param status 动画状态，true 表示开始，false 表示关闭\n     * @returns View\n     */\n    View.prototype.animate = function (status) {\n        set(this.options, 'animate', status);\n        return this;\n    };\n    /**\n     * 更新配置项，用于配置项式声明。\n     * @param options 配置项\n     */\n    View.prototype.updateOptions = function (options) {\n        this.options = __assign({ data: [], animate: true }, options);\n        this.initOptions();\n        return this;\n    };\n    /**\n     * 往 `view.options` 属性中存储配置项。\n     * @param name 属性名称\n     * @param opt 属性值\n     * @returns view\n     */\n    View.prototype.option = function (name, opt) {\n        // 对于内置的 option，避免覆盖。\n        // name 在原型上，说明可能是内置 API，存在 option 被覆盖的风险，不处理\n        if (View.prototype[name]) {\n            throw new Error(\"Can't built in variable name \\\"\" + name + \"\\\", please change another one.\");\n        }\n        // 存入到 option 中\n        set(this.options, name, opt);\n        return this;\n    };\n    /**\n     * 设置主题。\n     *\n     * ```ts\n     * view.theme('dark'); // 'dark' 需要事先通过 `registerTheme()` 接口注册完成\n     *\n     * view.theme({ defaultColor: 'red' });\n     * ```\n     *\n     * @param theme 主题名或者主题配置\n     * @returns View\n     */\n    View.prototype.theme = function (theme) {\n        this.themeObject = mergeTheme(this.themeObject, theme);\n        return this;\n    };\n    /* end 一系列传入配置的 API */\n    /**\n     * Call the interaction based on the interaction name\n     *\n     * ```ts\n     * view.interaction('my-interaction', { extra: 'hello world' });\n     * ```\n     *\n     * @param name interaction name\n     * @param cfg interaction config\n     * @returns\n     */\n    View.prototype.interaction = function (name, cfg) {\n        var existInteraction = this.interactions[name];\n        // 存在则先销毁已有的\n        if (existInteraction) {\n            existInteraction.destroy();\n        }\n        // 新建交互实例\n        var interaction = createInteraction(name, this, cfg);\n        if (interaction) {\n            interaction.init();\n            this.interactions[name] = interaction;\n        }\n        return this;\n    };\n    /**\n     * 移除当前 View 的 interaction\n     * ```ts\n     * view.removeInteraction('my-interaction');\n     * ```\n     * @param name interaction name\n     */\n    View.prototype.removeInteraction = function (name) {\n        var existInteraction = this.interactions[name];\n        // 存在则先销毁已有的\n        if (existInteraction) {\n            existInteraction.destroy();\n            this.interactions[name] = undefined;\n        }\n    };\n    /**\n     * 修改数据，数据更新逻辑，数据更新仅仅影响当前这一层的 view\n     *\n     * ```ts\n     * view.changeData([{ city: '北京', sale: '200' }]);\n     * ```\n     *\n     * @param data\n     * @returns void\n     */\n    View.prototype.changeData = function (data) {\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA);\n        // 1. 保存数据\n        this.data(data);\n        // 2. 渲染\n        this.paint(true);\n        // 3. 遍历子 view 进行 change data\n        each(this.views, function (view) {\n            // FIXME 子 view 有自己的数据的情况，该如何处理？\n            view.changeData(data);\n        });\n        this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA);\n    };\n    /* View 管理相关的 API */\n    /**\n     * 创建子 view\n     *\n     * ```ts\n     * const innerView = view.createView({\n     *   start: { x: 0, y: 0 },\n     *   end: { x: 0.5, y: 0.5 },\n     *   padding: 8,\n     * });\n     * ```\n     *\n     * @param cfg\n     * @returns View\n     */\n    View.prototype.createView = function (cfg) {\n        // 子 view 共享 options 配置数据\n        var sharedOptions = {\n            data: this.options.data,\n            scales: clone(this.options.scales),\n            axes: clone(this.options.axes),\n            coordinate: clone(this.coordinateController.getOption()),\n            tooltip: clone(this.options.tooltip),\n            legends: clone(this.options.legends),\n            animate: this.options.animate,\n            visible: this.visible,\n        };\n        var v = new View(__assign(__assign({ parent: this, canvas: this.canvas, \n            // 子 view 共用三层 group\n            backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }), middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }), foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }), theme: this.themeObject, padding: this.padding }, cfg), { options: __assign(__assign({}, sharedOptions), get(cfg, 'options', {})) }));\n        this.views.push(v);\n        return v;\n    };\n    /**\n     * 删除一个子 view\n     * @param view\n     * @return removedView\n     */\n    View.prototype.removeView = function (view) {\n        var removedView = remove(this.views, function (v) { return v === view; })[0];\n        if (removedView) {\n            removedView.destroy();\n        }\n        return removedView;\n    };\n    /* end View 管理相关的 API */\n    // 一些 get 方法\n    /**\n     * 获取当前坐标系实例。\n     * @returns [[Coordinate]]\n     */\n    View.prototype.getCoordinate = function () {\n        return this.coordinateInstance;\n    };\n    /**\n     * 获取当前 view 的主题配置。\n     * @returns themeObject\n     */\n    View.prototype.getTheme = function () {\n        return this.themeObject;\n    };\n    /**\n     * 获得 x 轴字段的 scale 实例。\n     * @returns view 中 Geometry 对于的 x scale\n     */\n    View.prototype.getXScale = function () {\n        // 拿第一个 Geometry 的 X scale\n        // 隐藏逻辑：一个 view 中的 Geometry 必须 x 字段一致\n        var g = this.geometries[0];\n        return g ? g.getXScale() : null;\n    };\n    /**\n     * 获取 y 轴字段的 scales 实例。\n     * @returns view 中 Geometry 对于的 y scale 数组\n     */\n    View.prototype.getYScales = function () {\n        // 拿到所有的 Geometry 的 Y scale，然后去重\n        return uniq(map(this.geometries, function (g) { return g.getYScale(); }));\n    };\n    /**\n     * 获取 x 轴或者 y 轴对应的所有 scale 实例。\n     * @param dimType x | y\n     * @returns x 轴或者 y 轴对应的所有 scale 实例。\n     */\n    View.prototype.getScalesByDim = function (dimType) {\n        var geometries = this.geometries;\n        var scales = {};\n        for (var _i = 0, geometries_1 = geometries; _i < geometries_1.length; _i++) {\n            var geometry = geometries_1[_i];\n            var scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n            if (scale && !scales[scale.field]) {\n                scales[scale.field] = scale;\n            }\n        }\n        return scales;\n    };\n    /**\n     * 根据字段名去获取 scale 实例。\n     * @param field 数据字段名称\n     * @param key id\n     */\n    View.prototype.getScaleByField = function (field, key) {\n        var defaultKey = key ? key : this.getScaleKey(field);\n        // 调用根节点 view 的方法获取\n        return this.getRootView().scalePool.getScale(defaultKey);\n    };\n    /**\n     * 返回所有配置信息。\n     * @returns 所有的 view API 配置。\n     */\n    View.prototype.getOptions = function () {\n        return this.options;\n    };\n    /**\n     * 获取 view 的数据（过滤后的数据）。\n     * @returns 处理过滤器之后的数据。\n     */\n    View.prototype.getData = function () {\n        return this.filteredData;\n    };\n    /**\n     * 获得绘制的层级 group。\n     * @param layer 层级名称。\n     * @returns 对应层级的 Group。\n     */\n    View.prototype.getLayer = function (layer) {\n        return layer === LAYER.BG\n            ? this.backgroundGroup\n            : layer === LAYER.MID\n                ? this.middleGroup\n                : layer === LAYER.FORE\n                    ? this.foregroundGroup\n                    : this.foregroundGroup;\n    };\n    /**\n     * 对外暴露方法，判断一个点是否在绘图区域（即坐标系范围）内部。\n     * @param point 坐标点\n     */\n    View.prototype.isPointInPlot = function (point) {\n        return isPointInCoordinate(this.getCoordinate(), point);\n    };\n    /**\n     * 获得所有的 legend 对应的 attribute 实例。\n     * @returns 维度字段的 Attribute 数组\n     */\n    View.prototype.getLegendAttributes = function () {\n        return flatten(map(this.geometries, function (g) { return g.getGroupAttributes(); }));\n    };\n    /**\n     * 获取所有的分组字段的 scale 实例。\n     * @returns 获得分组字段的 scale 实例数组。\n     */\n    View.prototype.getGroupScales = function () {\n        // 拿到所有的 Geometry 的 分组字段 scale，然后打平去重\n        var scales = map(this.geometries, function (g) { return g.getGroupScales(); });\n        return uniq(flatten(scales));\n    };\n    /**\n     * 获取 G.Canvas 实例。\n     * @returns G.Canvas 画布实例。\n     */\n    View.prototype.getCanvas = function () {\n        return this.getRootView().canvas;\n    };\n    /**\n     * 获得根节点 view。\n     */\n    View.prototype.getRootView = function () {\n        var v = this;\n        while (true) {\n            if (v.parent) {\n                v = v.parent;\n                continue;\n            }\n            break;\n        }\n        return v;\n    };\n    /**\n     * 获取该数据在可视化后，对应的画布坐标点。\n     * @param data 原始数据记录\n     * @returns 对应的画布坐标点\n     */\n    View.prototype.getXY = function (data) {\n        var coordinate = this.getCoordinate();\n        var xScales = this.getScalesByDim('x');\n        var yScales = this.getScalesByDim('y');\n        var x;\n        var y;\n        each(data, function (value, key) {\n            if (xScales[key]) {\n                x = xScales[key].scale(value);\n            }\n            if (yScales[key]) {\n                y = yScales[key].scale(value);\n            }\n        });\n        if (!isNil(x) && !isNil(y)) {\n            return coordinate.convert({ x: x, y: y });\n        }\n    };\n    /**\n     * 获取 name 对应的 controller 实例\n     * @param name\n     */\n    View.prototype.getController = function (name) {\n        return find(this.controllers, function (c) { return c.name === name; });\n    };\n    /**\n     * 显示 point 坐标点对应的 tooltip。\n     * @param point 画布坐标点\n     * @returns View\n     */\n    View.prototype.showTooltip = function (point) {\n        var tooltip = this.getController('tooltip');\n        if (tooltip) {\n            tooltip.showTooltip(point);\n        }\n        return this;\n    };\n    /**\n     * 隐藏 tooltip。\n     * @returns View\n     */\n    View.prototype.hideTooltip = function () {\n        var tooltip = this.getController('tooltip');\n        if (tooltip) {\n            tooltip.hideTooltip();\n        }\n        return this;\n    };\n    /**\n     * 将 tooltip 锁定到当前位置不能移动。\n     * @returns View\n     */\n    View.prototype.lockTooltip = function () {\n        this.tooltipLocked = true;\n        return this;\n    };\n    /**\n     * 将 tooltip 锁定解除。\n     * @returns View\n     */\n    View.prototype.unlockTooltip = function () {\n        this.tooltipLocked = false;\n        return this;\n    };\n    /**\n     * 是否锁定 tooltip。\n     * @returns 是否锁定\n     */\n    View.prototype.isTooltipLocked = function () {\n        return this.tooltipLocked;\n    };\n    /**\n     * 获取当前 point 对应的 tooltip 数据项。\n     * @param point 坐标点\n     * @returns tooltip 数据项\n     */\n    View.prototype.getTooltipItems = function (point) {\n        var tooltip = this.getController('tooltip');\n        return tooltip ? tooltip.getTooltipItems(point) : [];\n    };\n    /**\n     * 获取逼近的点的数据集合\n     * @param point 当前坐标点\n     * @returns  数据\n     */\n    View.prototype.getSnapRecords = function (point) {\n        var geometries = this.geometries;\n        var rst = [];\n        each(geometries, function (geom) {\n            var dataArray = geom.dataArray;\n            var record;\n            each(dataArray, function (data) {\n                record = findDataByPoint(point, data, geom);\n                if (record) {\n                    rst.push(record);\n                }\n            });\n        });\n        // 同样递归处理子 views\n        each(this.views, function (view) {\n            var snapRecords = view.getSnapRecords(point);\n            rst = rst.concat(snapRecords);\n        });\n        return rst;\n    };\n    /**\n     * 获取所有的 pure component 组件，用于布局。\n     */\n    View.prototype.getComponents = function () {\n        var components = [];\n        each(this.controllers, function (controller) {\n            components.push.apply(components, controller.getComponents());\n        });\n        return components;\n    };\n    /**\n     * 将 data 数据进行过滤。\n     * @param data\n     * @returns 过滤之后的数据\n     */\n    View.prototype.filterData = function (data) {\n        var filters = this.options.filters;\n        // 不存在 filters，则不需要进行数据过滤\n        if (size(filters) === 0) {\n            return data;\n        }\n        // 存在过滤器，则逐个执行过滤，过滤器之间是 与 的关系\n        return filter(data, function (datum, idx) {\n            // 所有的 filter 字段\n            var fields = Object.keys(filters);\n            // 所有的条件都通过，才算通过\n            return fields.every(function (field) {\n                var condition = filters[field];\n                // condition 返回 true，则保留\n                return condition(datum[field], datum, idx);\n            });\n        });\n    };\n    /**\n     * 对某一个字段进行过滤\n     * @param field\n     * @param data\n     */\n    View.prototype.filterFieldData = function (field, data) {\n        var filters = this.options.filters;\n        var condition = get(filters, field);\n        if (isUndefined(condition)) {\n            return data;\n        }\n        return filter(data, function (datum, idx) { return condition(datum[field], datum, idx); });\n    };\n    /**\n     * 调整 coordinate 的坐标范围。\n     */\n    View.prototype.adjustCoordinate = function () {\n        var start = this.coordinateBBox.bl;\n        var end = this.coordinateBBox.tr;\n        this.coordinateInstance = this.coordinateController.adjust(start, end);\n    };\n    View.prototype.paint = function (isUpdate) {\n        this.renderDataRecursive(isUpdate);\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n        this.renderLayoutRecursive(isUpdate);\n        this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n        this.renderPaintRecursive(isUpdate);\n    };\n    /**\n     * 替换处理 view 的布局，最终是计算各个 view 的 coordinateBBox 和 coordinateInstance\n     * @param isUpdate\n     */\n    View.prototype.renderLayoutRecursive = function (isUpdate) {\n        // 1. 子 view 大小相对 coordinateBBox，changeSize 的时候需要重新计算\n        this.calculateViewBBox();\n        // 2. 更新 coordinate\n        this.adjustCoordinate();\n        // 3. 初始化组件 component\n        this.initComponents(isUpdate);\n        // 4. 进行布局，计算 coordinateBBox，进行组件布局，update 位置\n        this.doLayout();\n        // 5. 布局完之后，coordinate 的范围确定了，调整 coordinate 组件\n        this.adjustCoordinate();\n        // 同样递归处理子 views\n        each(this.views, function (view) {\n            view.renderLayoutRecursive(isUpdate);\n        });\n    };\n    /**\n     * 最终递归绘制组件和图形\n     * @param isUpdate\n     */\n    View.prototype.renderPaintRecursive = function (isUpdate) {\n        if (this.limitInPlot) {\n            var middleGroup = this.middleGroup;\n            var _a = getCoordinateClipCfg(this.coordinateInstance), type = _a.type, attrs = _a.attrs;\n            middleGroup.setClip({\n                type: type,\n                attrs: attrs,\n            });\n        }\n        // 1. 渲染几何标记\n        this.paintGeometries(isUpdate);\n        // 2. 绘制组件\n        this.renderComponents(isUpdate);\n        // 同样递归处理子 views\n        each(this.views, function (view) {\n            view.renderPaintRecursive(isUpdate);\n        });\n    };\n    // end Get 方法\n    /**\n     * 创建 scale，递归到顶层 view 去创建和缓存 scale\n     * @param field\n     * @param data\n     * @param scaleDef\n     * @param key\n     */\n    View.prototype.createScale = function (field, data, scaleDef, key) {\n        // 1. 合并 field 对应的 scaleDef，合并原则是底层覆盖顶层（就近原则）\n        var currentScaleDef = get(this.options.scales, [field]);\n        var mergedScaleDef = __assign(__assign({}, currentScaleDef), scaleDef);\n        // 2. 生成默认的 key\n        var defaultKey = key ? key : this.getScaleKey(field);\n        // 3. 是否存在父 view，在则递归，否则创建\n        if (this.parent) {\n            return this.parent.createScale(field, data, mergedScaleDef, defaultKey);\n        }\n        // 4. 在根节点 view 通过 scalePool 创建\n        return this.scalePool.createScale(field, data, mergedScaleDef, defaultKey);\n    };\n    /**\n     * 递归渲染中的数据处理\n     * @param isUpdate\n     */\n    View.prototype.renderDataRecursive = function (isUpdate) {\n        // 1. 处理数据\n        this.doFilterData();\n        // 2. 创建实例\n        this.createCoordinate();\n        // 3. 初始化 Geometry\n        this.initGeometries(isUpdate);\n        // 4. 处理分面逻辑，最终都是生成子 view 和 geometry\n        this.renderFacet();\n        // 同样递归处理子 views\n        each(this.views, function (view) {\n            view.renderDataRecursive(isUpdate);\n        });\n    };\n    /**\n     * 计算 region，计算实际的像素范围坐标\n     * @private\n     */\n    View.prototype.calculateViewBBox = function () {\n        var x;\n        var y;\n        var width;\n        var height;\n        if (this.parent) {\n            var bbox = this.parent.coordinateBBox;\n            // 存在 parent， 那么就是通过父容器大小计算\n            x = bbox.x;\n            y = bbox.y;\n            width = bbox.width;\n            height = bbox.height;\n        }\n        else {\n            // 顶层容器，从 canvas 中取值 宽高\n            x = 0;\n            y = 0;\n            width = this.canvas.get('width');\n            height = this.canvas.get('height');\n        }\n        var _a = this.region, start = _a.start, end = _a.end;\n        // 根据 region 计算当前 view 的 bbox 大小。\n        this.viewBBox = new BBox(x + width * start.x, y + height * start.y, width * (end.x - start.x), height * (end.y - start.y));\n        // 初始的 coordinate bbox 大小\n        this.coordinateBBox = this.viewBBox;\n    };\n    /**\n     * 初始化事件机制：G 4.0 底层内置支持 name:event 的机制，那么只要所有组件都有自己的 name 即可。\n     *\n     * G2 的事件只是获取事件委托，然后在 view 嵌套结构中，形成事件冒泡机制。\n     * 当前 view 只委托自己 view 中的 Component 和 Geometry 事件，并向上冒泡\n     * @private\n     */\n    View.prototype.initEvents = function () {\n        // 三层 group 中的 shape 事件都会通过 G 冒泡上来的\n        this.foregroundGroup.on('*', this.onDelegateEvents);\n        this.middleGroup.on('*', this.onDelegateEvents);\n        this.backgroundGroup.on('*', this.onDelegateEvents);\n        // 自己监听事件，然后向上冒泡\n        // 不冒泡，自己监听自己的\n        // this.on('*', this.onViewEvents);\n        this.canvas.on('*', this.onCanvasEvent);\n    };\n    /**\n     * 初始化插件\n     */\n    View.prototype.initComponentController = function () {\n        var _this = this;\n        each(this.usedControllers, function (controllerName) {\n            var Ctor = getComponentController(controllerName);\n            if (Ctor) {\n                _this.controllers.push(new Ctor(_this));\n            }\n        });\n    };\n    View.prototype.createViewEvent = function (evt) {\n        var shape = evt.shape, name = evt.name;\n        var data = shape ? shape.get('origin') : null;\n        // 事件在 view 嵌套中冒泡（暂不提供阻止冒泡的机制）\n        var e = new Event(this, evt, data);\n        e.type = name;\n        return e;\n    };\n    /**\n     * 处理 PLOT_EVENTS\n     * plot event 需要处理所有的基础事件，并判断是否在画布中，然后再决定是否要 emit。\n     * 对于 mouseenter、mouseleave 比较特殊，需要做一下数学比较。\n     * @param e\n     */\n    View.prototype.doPlotEvent = function (e) {\n        var type = e.type, x = e.x, y = e.y;\n        var point = { x: x, y: y };\n        var ALL_EVENTS = [\n            'mousedown',\n            'mouseup',\n            'mousemove',\n            'mouseleave',\n            'mousewheel',\n            'touchstart',\n            'touchmove',\n            'touchend',\n            'touchcancel',\n            'click',\n            'dblclick',\n            'contextmenu',\n        ];\n        if (ALL_EVENTS.includes(type)) {\n            var currentInPlot = this.isPointInPlot(point);\n            if (currentInPlot) {\n                var TYPE = \"plot:\" + type; // 组合 plot 事件\n                e.type = TYPE;\n                this.emit(TYPE, e);\n                if (type === 'mouseleave') { // 在plot 内部却离开画布\n                    this.isPreMouseInPlot = false;\n                }\n            }\n            // 对于 mouseenter, mouseleave 的计算处理\n            if (type === 'mousemove') {\n                if (this.isPreMouseInPlot && !currentInPlot) {\n                    e.type = PLOT_EVENTS.MOUSE_LEAVE;\n                    this.emit(PLOT_EVENTS.MOUSE_LEAVE, e);\n                }\n                else if (!this.isPreMouseInPlot && currentInPlot) {\n                    e.type = PLOT_EVENTS.MOUSE_ENTER;\n                    this.emit(PLOT_EVENTS.MOUSE_ENTER, e);\n                }\n                // 赋新的状态值\n                this.isPreMouseInPlot = currentInPlot;\n            }\n            else if (type === 'mouseleave') { // 可能不在 currentInPlot 中\n                if (this.isPreMouseInPlot) {\n                    e.type = PLOT_EVENTS.MOUSE_LEAVE;\n                    this.emit(PLOT_EVENTS.MOUSE_LEAVE, e);\n                    this.isPreMouseInPlot = false;\n                }\n            }\n        }\n    };\n    // view 生命周期 —— 渲染流程\n    /**\n     * 处理筛选器，筛选数据\n     * @private\n     */\n    View.prototype.doFilterData = function () {\n        var data = this.options.data;\n        this.filteredData = this.filterData(data);\n    };\n    /**\n     * 初始化 Geometries\n     * @private\n     */\n    View.prototype.initGeometries = function (isUpdate) {\n        var _this = this;\n        // 初始化图形的之前，先创建 / 更新 scales\n        this.createOrUpdateScales();\n        // 实例化 Geometry，然后 view 将所有的 scale 管理起来\n        each(this.geometries, function (geometry) {\n            // 保持 scales 引用不要变化\n            geometry.scales = _this.getGeometryScales();\n            var cfg = {\n                coordinate: _this.getCoordinate(),\n                scaleDefs: get(_this.options, 'scales', {}),\n                data: _this.filteredData,\n                theme: deepMix({}, _this.themeObject, geometry.theme),\n            };\n            if (isUpdate) {\n                // 数据发生更新\n                geometry.update(cfg);\n            }\n            else {\n                geometry.init(cfg);\n            }\n        });\n        // Geometry 初始化之后，生成了 scale，然后进行调整 scale 配置\n        this.adjustScales();\n    };\n    /**\n     * 根据 Geometry 的所有字段创建 scales\n     * 如果存在，则更新，不存在则创建\n     */\n    View.prototype.createOrUpdateScales = function () {\n        var _this = this;\n        var fields = this.getScaleFields();\n        var groupedFields = this.getGroupedFields();\n        var _a = this.getOptions(), data = _a.data, scales = _a.scales;\n        var filteredData = this.filteredData;\n        each(fields, function (field) {\n            var scaleDef = get(scales, [field]);\n            // 调用方法，递归去创建\n            _this.createScale(field, \n            // 分组字段的 scale 使用未过滤的数据创建\n            groupedFields.includes(field) ? data : filteredData, scaleDef);\n        });\n    };\n    /**\n     * 处理 scale 同步逻辑\n     */\n    View.prototype.syncScale = function () {\n        // 最终调用 root view 的\n        this.getRootView().scalePool.sync();\n    };\n    /**\n     * 获得 Geometry 中的 scale 对象\n     */\n    View.prototype.getGeometryScales = function () {\n        var _this = this;\n        var fields = this.getScaleFields();\n        var scales = {};\n        each(fields, function (field) {\n            scales[field] = _this.getScaleByField(field);\n        });\n        return scales;\n    };\n    View.prototype.getScaleFields = function () {\n        var fields = this.geometries.reduce(function (r, geometry) {\n            r.push.apply(r, geometry.getScaleFields());\n            return r;\n        }, []);\n        return uniq(fields);\n    };\n    View.prototype.getGroupedFields = function () {\n        var fields = this.geometries.reduce(function (r, geometry) {\n            r.push.apply(r, geometry.getGroupFields());\n            return r;\n        }, []);\n        return uniq(fields);\n    };\n    /**\n     * 调整 scale 配置\n     * @private\n     */\n    View.prototype.adjustScales = function () {\n        // 调整目前包括：\n        // 处理 sync scale 的逻辑\n        this.syncScale();\n        // 分类 scale，调整 range 范围\n        this.adjustCategoryScaleRange();\n    };\n    /**\n     * 调整分类 scale 的 range，防止超出坐标系外面\n     * @private\n     */\n    View.prototype.adjustCategoryScaleRange = function () {\n        var _this = this;\n        var xyScales = __spreadArrays([this.getXScale()], this.getYScales()).filter(function (e) { return !!e; });\n        var coordinate = this.getCoordinate();\n        var scaleOptions = this.options.scales;\n        each(xyScales, function (scale) {\n            // @ts-ignore\n            var field = scale.field, values = scale.values, isCategory = scale.isCategory, isIdentity = scale.isIdentity;\n            // 分类或者 identity 的 scale 才进行处理\n            if (isCategory || isIdentity) {\n                // 存在 value 值，且用户没有配置 range 配置\n                if (values && !get(scaleOptions, [field, 'range'])) {\n                    var count = values.length;\n                    var range = void 0;\n                    if (count === 1) {\n                        range = [0.5, 1]; // 只有一个分类时,防止计算出现 [0.5,0.5] 的状态\n                    }\n                    else {\n                        var widthRatio = 1;\n                        var offset = 0;\n                        if (isFullCircle(coordinate)) {\n                            if (!coordinate.isTransposed) {\n                                range = [0, 1 - 1 / count];\n                            }\n                            else {\n                                widthRatio = get(_this.theme, 'widthRatio.multiplePie', 1 / 1.3);\n                                offset = (1 / count) * widthRatio;\n                                range = [offset / 2, 1 - offset / 2];\n                            }\n                        }\n                        else {\n                            offset = 1 / count / 2; // 两边留下分类空间的一半\n                            range = [offset, 1 - offset]; // 坐标轴最前面和最后面留下空白防止绘制柱状图时\n                        }\n                    }\n                    // 更新 range\n                    scale.range = range;\n                }\n            }\n        });\n    };\n    /**\n     * 根据 options 配置、Geometry 字段配置，自动生成 components\n     * @param isUpdate 是否是更新\n     * @private\n     */\n    View.prototype.initComponents = function (isUpdate) {\n        // 先全部清空，然后 render\n        each(this.controllers, function (controller) {\n            // 更新则走更新逻辑；否则清空载重绘\n            if (isUpdate) {\n                controller.update();\n            }\n            else {\n                controller.clear();\n                controller.render();\n            }\n        });\n    };\n    View.prototype.doLayout = function () {\n        this.layoutFunc(this);\n    };\n    /**\n     * 创建坐标系\n     * @private\n     */\n    View.prototype.createCoordinate = function () {\n        var start = this.coordinateBBox.bl;\n        var end = this.coordinateBBox.tr;\n        this.coordinateInstance = this.coordinateController.create(start, end);\n    };\n    /**\n     * 根据 options 配置自动渲染 geometry\n     * @private\n     */\n    View.prototype.paintGeometries = function (isUpdate) {\n        var _this = this;\n        var doAnimation = this.options.animate;\n        // geometry 的 paint 阶段\n        this.geometries.map(function (geometry) {\n            geometry.coordinate = _this.getCoordinate();\n            geometry.canvasRegion = {\n                x: _this.viewBBox.x,\n                y: _this.viewBBox.y,\n                minX: _this.viewBBox.minX,\n                minY: _this.viewBBox.minY,\n                maxX: _this.viewBBox.maxX,\n                maxY: _this.viewBBox.maxY,\n                width: _this.viewBBox.width,\n                height: _this.viewBBox.height,\n            };\n            if (!doAnimation) {\n                // 如果 view 不执行动画，那么 view 下所有的 geometry 都不执行动画\n                geometry.animate(false);\n            }\n            geometry.paint(isUpdate);\n        });\n    };\n    /**\n     * 最后的绘制组件\n     * @param isUpdate\n     */\n    View.prototype.renderComponents = function (isUpdate) {\n        // 先全部清空，然后 render\n        each(this.getComponents(), function (co) {\n            co.component.render();\n        });\n    };\n    /**\n     * 渲染分面，会在其中进行数据分面，然后进行子 view 创建\n     */\n    View.prototype.renderFacet = function () {\n        if (this.facetInstance) {\n            this.facetInstance.clear();\n            // 计算分面数据\n            this.facetInstance.init();\n            // 渲染组件和 views\n            this.facetInstance.render();\n        }\n    };\n    View.prototype.initOptions = function () {\n        var _this = this;\n        var _a = this.options, _b = _a.geometries, geometries = _b === void 0 ? [] : _b, _c = _a.interactions, interactions = _c === void 0 ? [] : _c, _d = _a.views, views = _d === void 0 ? [] : _d, _e = _a.annotations, annotations = _e === void 0 ? [] : _e;\n        // 创建 geometry 实例\n        geometries.forEach(function (geometryOption) {\n            _this.createGeometry(geometryOption);\n        });\n        // 创建 interactions 实例\n        interactions.forEach(function (interactionOption) {\n            var type = interactionOption.type, cfg = interactionOption.cfg;\n            _this.interaction(type, cfg);\n        });\n        // 创建 view 实例\n        views.forEach(function (viewOption) {\n            _this.createView(viewOption);\n        });\n        // 设置 annotation\n        var annotationComponent = this.getController('annotation');\n        annotations.forEach(function (annotationOption) {\n            annotationComponent.annotation(annotationOption);\n        });\n    };\n    View.prototype.createGeometry = function (geometryOption) {\n        var type = geometryOption.type, _a = geometryOption.cfg, cfg = _a === void 0 ? {} : _a;\n        if (this[type]) {\n            var geometry_1 = this[type](cfg);\n            each(geometryOption, function (v, k) {\n                if (isFunction(geometry_1[k])) {\n                    geometry_1[k](v);\n                }\n            });\n        }\n    };\n    /**\n     * scale key 的创建方式\n     * @param field\n     */\n    View.prototype.getScaleKey = function (field) {\n        return this.id + \"-\" + field;\n    };\n    /**\n     * 添加一个 geometry 到画布。\n     * @param geometry geometry 实例\n     * @returns void\n     */\n    View.prototype.addGeometry = function (geometry) {\n        this.geometries.push(geometry);\n    };\n    return View;\n}(Base));\nexport { View };\n/**\n * 注册 geometry 组件\n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name, Ctor) {\n    // 语法糖，在 view API 上增加原型方法\n    View.prototype[name.toLowerCase()] = function (cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        var props = __assign({ \n            /** 图形容器 */\n            container: this.middleGroup.addGroup({\n                name: 'element',\n            }), labelsContainer: this.foregroundGroup.addGroup({\n                name: 'element',\n            }) }, cfg);\n        var geometry = new Ctor(props);\n        this.addGeometry(geometry);\n        return geometry;\n    };\n}\nexport default View;\n//# sourceMappingURL=view.js.map","import { __assign, __extends } from \"tslib\";\nimport { debounce, each, isString } from '@antv/util';\nimport { GROUP_Z_INDEX } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom } from '../util/dom';\nimport View from './view';\n/**\n * Chart 类，是使用 G2 进行绘图的入口。\n */\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    // @ts-ignore\n    function Chart(props) {\n        var _this = this;\n        var container = props.container, width = props.width, height = props.height, _a = props.autoFit, autoFit = _a === void 0 ? false : _a, padding = props.padding, _b = props.renderer, renderer = _b === void 0 ? 'canvas' : _b, pixelRatio = props.pixelRatio, _c = props.localRefresh, localRefresh = _c === void 0 ? true : _c, _d = props.visible, visible = _d === void 0 ? true : _d, _e = props.defaultInteractions, defaultInteractions = _e === void 0 ? ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter'] : _e, options = props.options, limitInPlot = props.limitInPlot, theme = props.theme;\n        var ele = isString(container) ? document.getElementById(container) : container;\n        // 生成内部正式绘制的 div 元素\n        var wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n        ele.appendChild(wrapperElement);\n        // if autoFit, use the container size, to avoid the graph render twice.\n        var size = getChartSize(wrapperElement, autoFit, width, height);\n        var G = getEngine(renderer);\n        var canvas = new G.Canvas(__assign({ container: wrapperElement, pixelRatio: pixelRatio,\n            localRefresh: localRefresh }, size));\n        // 调用 view 的创建\n        _this = _super.call(this, {\n            parent: null,\n            canvas: canvas,\n            // create 3 group layers for views.\n            backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n            middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n            foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n            padding: padding,\n            visible: visible,\n            options: options,\n            limitInPlot: limitInPlot,\n            theme: theme,\n        }) || this;\n        /**\n         * when container size changed, change chart size props, and re-render.\n         */\n        _this.onResize = debounce(function () {\n            var _a = getChartSize(_this.ele, _this.autoFit, _this.width, _this.height), width = _a.width, height = _a.height;\n            _this.changeSize(width, height);\n        }, 300);\n        _this.ele = wrapperElement;\n        _this.canvas = canvas;\n        _this.width = size.width;\n        _this.height = size.height;\n        _this.autoFit = autoFit;\n        _this.localRefresh = localRefresh;\n        _this.renderer = renderer;\n        _this.wrapperElement = wrapperElement;\n        // 自适应大小\n        _this.bindAutoFit();\n        _this.initDefaultInteractions(defaultInteractions);\n        return _this;\n    }\n    Chart.prototype.initDefaultInteractions = function (interactions) {\n        var _this = this;\n        each(interactions, function (interaction) {\n            _this.interaction(interaction);\n        });\n    };\n    /**\n     * 改变图表大小，同时重新渲染。\n     * @param width 图表宽度\n     * @param height 图表高度\n     * @returns\n     */\n    Chart.prototype.changeSize = function (width, height) {\n        this.width = width;\n        this.height = height;\n        this.canvas.changeSize(width, height);\n        // 重新渲染\n        this.render(true);\n        return this;\n    };\n    /**\n     * 销毁图表，同时解绑事件，销毁创建的 G.Canvas 实例。\n     * @returns void\n     */\n    Chart.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unbindAutoFit();\n        this.canvas.destroy();\n        removeDom(this.wrapperElement);\n        this.wrapperElement = null;\n    };\n    /**\n     * 显示或隐藏图表\n     * @param visible 是否可见，true 表示显示，false 表示隐藏\n     * @returns\n     */\n    Chart.prototype.changeVisible = function (visible) {\n        this.wrapperElement.style.display = visible ? '' : 'none';\n        return this;\n    };\n    Chart.prototype.bindAutoFit = function () {\n        if (this.autoFit) {\n            window.addEventListener('resize', this.onResize);\n        }\n    };\n    Chart.prototype.unbindAutoFit = function () {\n        if (this.autoFit) {\n            window.removeEventListener('resize', this.onResize);\n        }\n    };\n    return Chart;\n}(View));\nexport default Chart;\n//# sourceMappingURL=chart.js.map","import { each } from '@antv/util';\n/**\n * Component Controller 规范需要定义的基类\n * 1. 规范的 option 输入\n * 2. 统一的信息获取 API\n * 3. 明确定义的组件事件（名称、数据）\n */\nvar Controller = /** @class */ (function () {\n    function Controller(view) {\n        /** 是否可见 */\n        this.visible = true;\n        /** 所有的 component */\n        this.components = [];\n        this.view = view;\n    }\n    /**\n     * clear\n     */\n    Controller.prototype.clear = function () {\n        // destroy all components\n        each(this.components, function (co) {\n            co.component.destroy();\n        });\n        // clear all component instance\n        this.components = [];\n    };\n    /**\n     * destroy the component\n     */\n    Controller.prototype.destroy = function () {\n        this.clear();\n    };\n    /**\n     * get all components\n     * @returns components array\n     */\n    Controller.prototype.getComponents = function () {\n        return this.components;\n    };\n    /**\n     * change visibility of component\n     * @param visible\n     */\n    Controller.prototype.changeVisible = function (visible) {\n        if (this.visible === visible) {\n            return;\n        }\n        this.components.forEach(function (co) {\n            if (visible) {\n                co.component.show();\n            }\n            else {\n                co.component.hide();\n            }\n        });\n        this.visible = visible;\n    };\n    return Controller;\n}());\nexport { Controller };\n//# sourceMappingURL=base.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = require(\"@antv/util\");\nvar constant_1 = require(\"../constant\");\nvar Adjust = /** @class */ (function () {\n    function Adjust(cfg) {\n        var xField = cfg.xField, yField = cfg.yField, _a = cfg.adjustNames, adjustNames = _a === void 0 ? ['x', 'y'] : _a;\n        this.adjustNames = adjustNames;\n        this.xField = xField;\n        this.yField = yField;\n    }\n    /**\n     * 查看维度是否是 adjust 字段\n     * @param dim\n     */\n    Adjust.prototype.isAdjust = function (dim) {\n        return this.adjustNames.indexOf(dim) >= 0;\n    };\n    Adjust.prototype.getAdjustRange = function (dim, dimValue, values) {\n        var yField = this.yField;\n        var index = values.indexOf(dimValue);\n        var length = values.length;\n        var pre;\n        var next;\n        // 没有 y 字段，但是需要根据 y 调整\n        if (!yField && this.isAdjust('y')) {\n            pre = 0;\n            next = 1;\n        }\n        else if (length > 1) {\n            // 如果以其开头，则取之，否则取他前面一个\n            pre = values[index === 0 ? 0 : index - 1];\n            // 如果以其结尾，则取之，否则取他后面一个\n            next = values[index === length - 1 ? length - 1 : index + 1];\n            if (index !== 0) {\n                pre += (dimValue - pre) / 2;\n            }\n            else {\n                pre -= (next - dimValue) / 2;\n            }\n            if (index !== length - 1) {\n                next -= (next - dimValue) / 2;\n            }\n            else {\n                next += (dimValue - values[length - 2]) / 2;\n            }\n        }\n        else {\n            pre = dimValue === 0 ? 0 : dimValue - 0.5;\n            next = dimValue === 0 ? 1 : dimValue + 0.5;\n        }\n        return {\n            pre: pre,\n            next: next,\n        };\n    };\n    Adjust.prototype.adjustData = function (groupedDataArray, mergedData) {\n        var _this = this;\n        // 所有调整维度的值数组\n        var dimValuesMap = this.getDimValues(mergedData);\n        // 按照每一个分组来进行调整\n        _.each(groupedDataArray, function (dataArray, index) {\n            // 遍历所有数据集合\n            // 每个分组中，分别按照不同的 dim 进行调整\n            _.each(dimValuesMap, function (values, dim) {\n                // 根据不同的度量分别调整位置\n                _this.adjustDim(dim, values, dataArray, index);\n            });\n        });\n    };\n    /**\n     * 对数据进行分组adjustData\n     * @param data 数据\n     * @param dim 分组的字段\n     * @return 分组结果\n     */\n    Adjust.prototype.groupData = function (data, dim) {\n        // 补齐数据空数据为默认值\n        _.each(data, function (record) {\n            if (record[dim] === undefined) {\n                record[dim] = constant_1.DEFAULT_Y;\n            }\n        });\n        // 按照 dim 维度分组\n        return _.groupBy(data, dim);\n    };\n    /** @override */\n    Adjust.prototype.adjustDim = function (dim, values, data, index) { };\n    /**\n     * 获取可调整度量对应的值\n     * @param mergedData 数据\n     * @return 值的映射\n     */\n    Adjust.prototype.getDimValues = function (mergedData) {\n        var _a = this, xField = _a.xField, yField = _a.yField;\n        var dimValuesMap = {};\n        // 所有的维度\n        var dims = [];\n        if (xField && this.isAdjust('x')) {\n            dims.push(xField);\n        }\n        if (yField && this.isAdjust('y')) {\n            dims.push(yField);\n        }\n        dims.forEach(function (dim) {\n            // 在每个维度上，所有的值\n            dimValuesMap[dim] = _.valuesOfKey(mergedData, dim).sort(function (v1, v2) { return v1 - v2; });\n        });\n        // 只有一维的情况下，同时调整 y，赋予默认值\n        if (!yField && this.isAdjust('y')) {\n            var dim = 'y';\n            dimValuesMap[dim] = [constant_1.DEFAULT_Y, 1]; // 默认分布在 y 轴的 0 与 1 之间\n        }\n        return dimValuesMap;\n    };\n    return Adjust;\n}());\nexports.default = Adjust;\n//# sourceMappingURL=adjust.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { DODGE_RATIO, MARGIN_RATIO } from '../constant';\nimport Adjust from './adjust';\nvar Dodge = /** @class */ (function (_super) {\n    __extends(Dodge, _super);\n    function Dodge(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.cacheMap = {};\n        _this.adjustDataArray = [];\n        _this.mergeData = [];\n        var _a = cfg.marginRatio, marginRatio = _a === void 0 ? MARGIN_RATIO : _a, _b = cfg.dodgeRatio, dodgeRatio = _b === void 0 ? DODGE_RATIO : _b, dodgeBy = cfg.dodgeBy;\n        _this.marginRatio = marginRatio;\n        _this.dodgeRatio = dodgeRatio;\n        _this.dodgeBy = dodgeBy;\n        return _this;\n    }\n    Dodge.prototype.process = function (groupDataArray) {\n        var groupedDataArray = _.clone(groupDataArray);\n        // 将数据数组展开一层\n        var mergeData = _.flatten(groupedDataArray);\n        var dodgeBy = this.dodgeBy;\n        // 如果指定了分组 dim 的字段\n        var adjustDataArray = dodgeBy ? _.group(mergeData, dodgeBy) : groupedDataArray;\n        this.cacheMap = {};\n        this.adjustDataArray = adjustDataArray;\n        this.mergeData = mergeData;\n        this.adjustData(adjustDataArray, mergeData);\n        this.adjustDataArray = [];\n        this.mergeData = [];\n        return groupedDataArray;\n    };\n    Dodge.prototype.adjustDim = function (dim, values, data, frameIndex) {\n        var _this = this;\n        var map = this.getDistribution(dim);\n        var groupData = this.groupData(data, dim); // 根据值分组\n        _.each(groupData, function (group, key) {\n            var range;\n            // xField 中只有一个值，不需要做 dodge\n            if (values.length === 1) {\n                range = {\n                    pre: values[0] - 1,\n                    next: values[0] + 1,\n                };\n            }\n            else {\n                // 如果有多个，则需要获取调整的范围\n                range = _this.getAdjustRange(dim, parseFloat(key), values);\n            }\n            _.each(group, function (d) {\n                var value = d[dim];\n                var valueArr = map[value];\n                var valIndex = valueArr.indexOf(frameIndex);\n                d[dim] = _this.getDodgeOffset(range, valIndex, valueArr.length);\n            });\n        });\n        return [];\n    };\n    Dodge.prototype.getDodgeOffset = function (range, idx, len) {\n        var _a = this, dodgeRatio = _a.dodgeRatio, marginRatio = _a.marginRatio;\n        var pre = range.pre, next = range.next;\n        var tickLength = next - pre;\n        var width = (tickLength * dodgeRatio) / len;\n        var margin = marginRatio * width;\n        var offset = (1 / 2) * (tickLength - len * width - (len - 1) * margin) +\n            ((idx + 1) * width + idx * margin) -\n            (1 / 2) * width -\n            (1 / 2) * tickLength;\n        return (pre + next) / 2 + offset;\n    };\n    Dodge.prototype.getDistribution = function (dim) {\n        var groupedDataArray = this.adjustDataArray;\n        var cacheMap = this.cacheMap;\n        var map = cacheMap[dim];\n        if (!map) {\n            map = {};\n            _.each(groupedDataArray, function (data, index) {\n                var values = _.valuesOfKey(data, dim);\n                if (!values.length) {\n                    values.push(0);\n                }\n                _.each(values, function (val) {\n                    if (!map[val]) {\n                        map[val] = [];\n                    }\n                    map[val].push(index);\n                });\n            });\n            cacheMap[dim] = map;\n        }\n        return map;\n    };\n    return Dodge;\n}(Adjust));\nexport default Dodge;\n//# sourceMappingURL=dodge.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { GAP } from '../constant';\nimport Adjust from './adjust';\nfunction randomNumber(min, max) {\n    return (max - min) * Math.random() + min;\n}\nvar Jitter = /** @class */ (function (_super) {\n    __extends(Jitter, _super);\n    function Jitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Jitter.prototype.process = function (groupDataArray) {\n        var groupedDataArray = _.clone(groupDataArray);\n        // 之前分组之后的数据，然后有合并回去（和分组前可以理解成是一样的）\n        var mergeData = _.flatten(groupedDataArray);\n        // 返回值\n        this.adjustData(groupedDataArray, mergeData);\n        return groupedDataArray;\n    };\n    /**\n     * 当前数据分组（index）中，按照维度 dim 进行 jitter 调整\n     * @param dim\n     * @param values\n     * @param dataArray\n     */\n    Jitter.prototype.adjustDim = function (dim, values, dataArray) {\n        var _this = this;\n        // 在每一个分组中，将数据再按照 dim 分组，用于散列\n        var groupDataArray = this.groupData(dataArray, dim);\n        return _.each(groupDataArray, function (data, dimValue) {\n            return _this.adjustGroup(data, dim, parseFloat(dimValue), values);\n        });\n    };\n    // 随机出来的字段值\n    Jitter.prototype.getAdjustOffset = function (range) {\n        var pre = range.pre, next = range.next;\n        // 随机的范围\n        var margin = (next - pre) * GAP;\n        return randomNumber(pre + margin, next - margin);\n    };\n    // adjust group data\n    Jitter.prototype.adjustGroup = function (group, dim, dimValue, values) {\n        var _this = this;\n        // 调整范围\n        var range = this.getAdjustRange(dim, dimValue, values);\n        _.each(group, function (data) {\n            data[dim] = _this.getAdjustOffset(range); // 获取调整的位置\n        });\n        return group;\n    };\n    return Jitter;\n}(Adjust));\nexport default Jitter;\n//# sourceMappingURL=jitter.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\nvar Cache = _.Cache;\nvar Stack = /** @class */ (function (_super) {\n    __extends(Stack, _super);\n    function Stack(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        var _a = cfg.adjustNames, adjustNames = _a === void 0 ? ['y'] : _a, _b = cfg.height, height = _b === void 0 ? NaN : _b, _c = cfg.size, size = _c === void 0 ? 10 : _c, _d = cfg.reverseOrder, reverseOrder = _d === void 0 ? false : _d;\n        _this.adjustNames = adjustNames;\n        _this.height = height;\n        _this.size = size;\n        _this.reverseOrder = reverseOrder;\n        return _this;\n    }\n    /**\n     * 方法入参是经过数据分组、数据数字化之后的二维数组\n     * @param groupDataArray 分组之后的数据\n     */\n    Stack.prototype.process = function (groupDataArray) {\n        var _a = this, yField = _a.yField, reverseOrder = _a.reverseOrder;\n        // 如果有指定 y 字段，那么按照 y 字段来 stack\n        // 否则，按照高度均分\n        var d = yField ? this.processStack(groupDataArray) : this.processOneDimStack(groupDataArray);\n        return reverseOrder ? this.reverse(d) : d;\n    };\n    Stack.prototype.reverse = function (groupedDataArray) {\n        return groupedDataArray.slice(0).reverse();\n    };\n    Stack.prototype.processStack = function (groupDataArray) {\n        var _a = this, xField = _a.xField, yField = _a.yField, reverseOrder = _a.reverseOrder;\n        // 层叠顺序翻转\n        var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray;\n        // 用来缓存，正数和负数的堆叠问题\n        var positive = new Cache();\n        var negative = new Cache();\n        return groupedDataArray.map(function (dataArray) {\n            return dataArray.map(function (data) {\n                var _a;\n                var x = _.get(data, xField, 0);\n                var y = _.get(data, yField);\n                var xKey = x.toString();\n                // todo 是否应该取 _origin？因为 y 可能取到的值不正确，比如先 symmetric，再 stack！\n                y = _.isArray(y) ? y[1] : y;\n                if (!_.isNil(y)) {\n                    var cache = y >= 0 ? positive : negative;\n                    if (!cache.has(xKey)) {\n                        cache.set(xKey, 0);\n                    }\n                    var xValue = cache.get(xKey);\n                    var newXValue = y + xValue;\n                    // 存起来\n                    cache.set(xKey, newXValue);\n                    return __assign(__assign({}, data), (_a = {}, _a[yField] = [xValue, newXValue], _a));\n                }\n                // 没有修改，则直接返回\n                return data;\n            });\n        });\n    };\n    Stack.prototype.processOneDimStack = function (groupDataArray) {\n        var _this = this;\n        var _a = this, xField = _a.xField, height = _a.height, reverseOrder = _a.reverseOrder;\n        var yField = 'y';\n        // 如果层叠的顺序翻转\n        var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray;\n        // 缓存累加数据\n        var cache = new Cache();\n        return groupedDataArray.map(function (dataArray) {\n            return dataArray.map(function (data) {\n                var _a;\n                var size = _this.size;\n                var xValue = data[xField];\n                // todo 没有看到这个 stack 计算原理\n                var stackHeight = (size * 2) / height;\n                if (!cache.has(xValue)) {\n                    cache.set(xValue, stackHeight / 2); // 初始值大小\n                }\n                var stackValue = cache.get(xValue);\n                // 增加一层 stackHeight\n                cache.set(xValue, stackValue + stackHeight);\n                return __assign(__assign({}, data), (_a = {}, _a[yField] = stackValue, _a));\n            });\n        });\n    };\n    return Stack;\n}(Adjust));\nexport default Stack;\n//# sourceMappingURL=stack.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\nvar Symmetric = /** @class */ (function (_super) {\n    __extends(Symmetric, _super);\n    function Symmetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Symmetric.prototype.process = function (groupDataArray) {\n        var mergeData = _.flatten(groupDataArray);\n        var _a = this, xField = _a.xField, yField = _a.yField;\n        // 每个 x 值对应的 最大值\n        var cache = this.getXValuesMaxMap(mergeData);\n        // 所有数据的最大的值\n        var max = Math.max.apply(Math, Object.keys(cache).map(function (key) { return cache[key]; }));\n        return _.map(groupDataArray, function (dataArray) {\n            return _.map(dataArray, function (data) {\n                var _a, _b;\n                var yValue = data[yField];\n                var xValue = data[xField];\n                // 数组处理逻辑\n                if (_.isArray(yValue)) {\n                    var off_1 = (max - cache[xValue]) / 2;\n                    return __assign(__assign({}, data), (_a = {}, _a[yField] = _.map(yValue, function (y) { return off_1 + y; }), _a));\n                }\n                // 非数组处理逻辑\n                var offset = (max - yValue) / 2;\n                return __assign(__assign({}, data), (_b = {}, _b[yField] = [offset, yValue + offset], _b));\n            });\n        });\n    };\n    // 获取每个 x 对应的最大的值\n    Symmetric.prototype.getXValuesMaxMap = function (mergeData) {\n        var _this = this;\n        var _a = this, xField = _a.xField, yField = _a.yField;\n        // 根据 xField 的值进行分组\n        var groupDataArray = _.groupBy(mergeData, function (data) { return data[xField]; });\n        // 获取每个 xField 值中的最大值\n        return _.mapValues(groupDataArray, function (dataArray) { return _this.getDimMaxValue(dataArray, yField); });\n    };\n    Symmetric.prototype.getDimMaxValue = function (mergeData, dim) {\n        // 所有的 value 值\n        var dimValues = _.map(mergeData, function (data) { return _.get(data, dim, []); });\n        // 将数组打平（dim value 有可能是数组，比如 stack 之后的）\n        var flattenValues = _.flatten(dimValues);\n        // 求出数组的最大值\n        return Math.max.apply(Math, flattenValues);\n    };\n    return Symmetric;\n}(Adjust));\nexport default Symmetric;\n//# sourceMappingURL=symmetric.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ANIMATIONS_MAP = {};\n/**\n * 根据名称获取对应的动画执行函数\n * @param type 动画函数名称\n */\nfunction getAnimation(type) {\n    return ANIMATIONS_MAP[type.toLowerCase()];\n}\nexports.getAnimation = getAnimation;\n/**\n * 注册动画执行函数\n * @param type 动画执行函数名称\n * @param animation 动画执行函数\n */\nfunction registerAnimation(type, animation) {\n    ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\nexports.registerAnimation = registerAnimation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar constant_1 = require(\"../constant\");\nvar animation_1 = require(\"./animation\");\n// 默认的动画参数配置\nexports.DEFAULT_ANIMATE_CFG = {\n    appear: {\n        duration: 450,\n        easing: 'easeQuadOut',\n    },\n    update: {\n        duration: 400,\n        easing: 'easeQuadInOut',\n    },\n    enter: {\n        duration: 400,\n        easing: 'easeQuadInOut',\n    },\n    leave: {\n        duration: 350,\n        easing: 'easeQuadIn',\n    },\n};\n// 各个 Geometry 默认的动画执行函数\nvar GEOMETRY_ANIMATE_CFG = {\n    interval: function (coordinate) {\n        return {\n            enter: {\n                animation: coordinate.isRect\n                    ? coordinate.isTransposed\n                        ? 'scale-in-x'\n                        : 'scale-in-y'\n                    : 'fade-in',\n            },\n            update: {\n                animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n            },\n            leave: {\n                animation: 'fade-out',\n            },\n        };\n    },\n    line: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    path: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    point: {\n        appear: {\n            animation: 'zoom-in',\n        },\n        enter: {\n            animation: 'zoom-in',\n        },\n        leave: {\n            animation: 'zoom-out',\n        },\n    },\n    area: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    polygon: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    schema: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    edge: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    label: {\n        appear: {\n            animation: 'fade-in',\n            delay: 450,\n        },\n        enter: {\n            animation: 'fade-in',\n        },\n        update: {\n            animation: 'position-update',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n};\n// 各个 Geometry 默认的群组出场动画\nvar GEOMETRY_GROUP_APPEAR_ANIMATION = {\n    line: function () {\n        return {\n            animation: 'wave-in',\n        };\n    },\n    area: function () {\n        return {\n            animation: 'wave-in',\n        };\n    },\n    path: function () {\n        return {\n            animation: 'fade-in',\n        };\n    },\n    interval: function (coordinate) {\n        var animation;\n        if (coordinate.isRect) {\n            animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n        }\n        else {\n            animation = 'grow-in-xy';\n            if (coordinate.isPolar && coordinate.isTransposed) {\n                // pie chart\n                animation = 'wave-in';\n            }\n        }\n        return {\n            animation: animation,\n        };\n    },\n    schema: function (coordinate) {\n        var animation;\n        if (coordinate.isRect) {\n            animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n        }\n        else {\n            animation = 'grow-in-xy';\n        }\n        return {\n            animation: animation,\n        };\n    },\n    polygon: function () {\n        return {\n            animation: 'fade-in',\n            duration: 500,\n        };\n    },\n    edge: function () {\n        return {\n            animation: 'fade-in',\n        };\n    },\n};\n// 解析用户的动画配置\nfunction parseAnimateConfig(animateCfg, data) {\n    return {\n        delay: util_1.isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n        easing: util_1.isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n        duration: util_1.isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n        callback: animateCfg.callback,\n    };\n}\n/**\n * @ignore\n * 获取 elementName 对应的动画配置，当声明了 `animateType`，则返回 `animateType` 对应的动画配置\n * @param elementName 元素名称\n * @param coordinate 做表弟类型\n * @param animateType 可选，动画类型\n */\nfunction getDefaultAnimateCfg(elementName, coordinate, animateType) {\n    var animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n    if (animateCfg) {\n        if (util_1.isFunction(animateCfg)) {\n            animateCfg = animateCfg(coordinate);\n        }\n        animateCfg = util_1.deepMix({}, exports.DEFAULT_ANIMATE_CFG, animateCfg);\n        if (animateType) {\n            return animateCfg[animateType];\n        }\n    }\n    return animateCfg;\n}\nexports.getDefaultAnimateCfg = getDefaultAnimateCfg;\n/**\n * @ignore\n * 工具函数\n * 根据用户传入的配置为 shape 执行动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外的信息\n */\nfunction doAnimate(shape, animateCfg, cfg) {\n    var data = util_1.get(shape.get('origin'), 'data', constant_1.FIELD_ORIGIN);\n    var animation = animateCfg.animation; // 获取动画执行函数\n    var parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n    if (animation) {\n        // 用户声明了动画执行函数\n        var animateFunction = animation_1.getAnimation(animation);\n        if (animateFunction) {\n            animateFunction(shape, parsedAnimateCfg, cfg);\n        }\n    }\n    else {\n        // 没有声明，则根据 toAttrs 做差值动画\n        shape.animate(cfg.toAttrs, parsedAnimateCfg);\n    }\n}\nexports.doAnimate = doAnimate;\n/**\n * @ignore\n * 执行 Geometry 群组入场动画\n * @param container 执行群组动画的图形元素\n * @param animateCfg 动画配置\n * @param geometryType geometry 类型\n * @param coordinate 坐标系对象\n * @param minYPoint y 轴最小值对应的画布坐标点\n */\nfunction doGroupAppearAnimate(container, animateCfg, geometryType, coordinate, minYPoint) {\n    if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n        var defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n        var animation = animation_1.getAnimation(util_1.get(defaultCfg, 'animation', ''));\n        if (animation) {\n            var cfg = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, exports.DEFAULT_ANIMATE_CFG.appear), defaultCfg), animateCfg);\n            container.stopAnimate(); // 先结束当前 container 动画\n            animation(container, cfg, {\n                coordinate: coordinate,\n                minYPoint: minYPoint,\n                toAttrs: null,\n            });\n        }\n    }\n}\nexports.doGroupAppearAnimate = doGroupAppearAnimate;\n//# sourceMappingURL=index.js.map","var GEOMETRY_LABELS_MAP = {};\nvar GEOMETRY_LABELS_LAYOUT_MAP = {};\n/**\n * 获取 `type` 对应的 [[GeometryLabel]] 类\n * @param type\n * @returns\n */\nexport function getGeometryLabel(type) {\n    return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n/**\n * 注册定义的 GeometryLabel 类\n * @param type GeometryLabel 类型名称\n * @param ctor GeometryLabel 类\n */\nexport function registerGeometryLabel(type, ctor) {\n    GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n/**\n * 获取 `type` 对应的 [[GeometryLabelsLayoutFn]] label 布局函数\n * @param type 布局函数名称\n * @returns\n */\nexport function getGeometryLabelLayout(type) {\n    return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n/**\n * 注册定义的 label 布局函数\n * @param type label 布局函数名称\n * @param layoutFn label 布局函数\n */\nexport function registerGeometryLabelLayout(type, layoutFn) {\n    GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n//# sourceMappingURL=index.js.map","import { transform } from '@antv/matrix-util';\nexport { transform } from '@antv/matrix-util';\n/**\n * 对元素进行平移操作。\n * @param element 进行变换的元素\n * @param x x 方向位移\n * @param y y 方向位移\n */\nexport function translate(element, x, y) {\n    var matrix = transform(element.getMatrix(), [['t', x, y]]);\n    element.setMatrix(matrix);\n}\n/**\n * 对元素进行旋转操作。\n * @param element 进行变换的元素\n * @param rotateRadian 旋转弧度\n */\nexport function rotate(element, rotateRadian) {\n    var _a = element.attr(), x = _a.x, y = _a.y;\n    var matrix = transform(element.getMatrix(), [\n        ['t', -x, -y],\n        ['r', rotateRadian],\n        ['t', x, y],\n    ]);\n    element.setMatrix(matrix);\n}\n/**\n * 获取元矩阵。\n * @returns identity matrix\n */\nexport function getIdentityMatrix() {\n    return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n/**\n * 围绕图形中心点进行缩放\n * @param element 进行缩放的图形元素\n * @param ratio 缩放比例\n */\nexport function zoom(element, ratio) {\n    var bbox = element.getBBox();\n    var x = (bbox.minX + bbox.maxX) / 2;\n    var y = (bbox.minY + bbox.maxY) / 2;\n    element.applyToMatrix([x, y, 1]);\n    var matrix = transform(element.getMatrix(), [\n        ['t', -x, -y],\n        ['s', ratio, ratio],\n        ['t', x, y],\n    ]);\n    element.setMatrix(matrix);\n}\n//# sourceMappingURL=transform.js.map","import { __assign } from \"tslib\";\nimport { deepMix, each, get, isArray } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getReplaceAttrs } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\n/**\n * Geometry labels 渲染组件\n */\nvar Labels = /** @class */ (function () {\n    function Labels(cfg) {\n        /** 存储当前 shape 的映射表，键值为 shape id */\n        this.shapesMap = {};\n        this.lastShapesMap = {};\n        var layout = cfg.layout, container = cfg.container;\n        this.layout = layout;\n        this.container = container;\n    }\n    /**\n     * 渲染文本\n     */\n    Labels.prototype.render = function (items, shapes, isUpdate) {\n        var _this = this;\n        if (isUpdate === void 0) { isUpdate = false; }\n        this.shapesMap = {};\n        var container = this.container;\n        var offscreenGroup = this.createOffscreenGroup(); // 创建虚拟分组\n        // 在虚拟 group 中创建 shapes\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (item) {\n                this.renderLabel(item, offscreenGroup);\n            }\n        }\n        this.adjustLabels(shapes); // 调整 labels\n        // 进行添加、更新、销毁操作\n        var lastShapesMap = this.lastShapesMap;\n        var shapesMap = this.shapesMap;\n        each(shapesMap, function (shape, id) {\n            if (shape.destroyed) {\n                // label 在布局调整环节被删除了（adjustLabels）\n                delete shapesMap[id];\n            }\n            else {\n                if (lastShapesMap[id]) {\n                    // 图形发生更新\n                    var data_1 = shape.get('data');\n                    var origin_1 = shape.get('origin');\n                    var coordinate_1 = shape.get('coordinate');\n                    var currentShape = lastShapesMap[id]; // 已经在渲染树上的 shape\n                    var currentAnimateCfg_1 = shape.get('animateCfg');\n                    currentShape.set('data', data_1);\n                    currentShape.set('origin', origin_1);\n                    currentShape.set('animateCfg', currentAnimateCfg_1);\n                    currentShape.set('coordinate', coordinate_1);\n                    var updateAnimateCfg_1 = get(currentAnimateCfg_1, 'update');\n                    var currentChildren_1 = currentShape.getChildren();\n                    shape.getChildren().map(function (child, index) {\n                        var currentChild = currentChildren_1[index];\n                        currentChild.set('data', data_1);\n                        currentChild.set('origin', origin_1);\n                        currentChild.set('animateCfg', currentAnimateCfg_1);\n                        currentChild.set('coordinate', coordinate_1);\n                        var newAttrs = getReplaceAttrs(currentChild, child);\n                        if (updateAnimateCfg_1) {\n                            doAnimate(currentChild, updateAnimateCfg_1, {\n                                toAttrs: newAttrs,\n                                coordinate: coordinate_1,\n                            });\n                        }\n                        else {\n                            currentChild.attr(newAttrs);\n                        }\n                    });\n                    _this.shapesMap[id] = currentShape; // 保存引用\n                }\n                else {\n                    // 新生成的 shape\n                    container.add(shape);\n                    var animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n                    if (animateCfg) {\n                        doAnimate(shape, animateCfg, {\n                            toAttrs: __assign({}, shape.attr()),\n                            coordinate: shape.get('coordinate'),\n                        });\n                    }\n                }\n                delete lastShapesMap[id];\n            }\n        });\n        // 移除\n        each(lastShapesMap, function (deleteShape) {\n            var animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n            if (animateCfg) {\n                doAnimate(deleteShape, animateCfg, {\n                    toAttrs: null,\n                    coordinate: deleteShape.get('coordinate'),\n                });\n            }\n            else {\n                deleteShape.remove(true); // 移除\n            }\n        });\n        this.lastShapesMap = shapesMap;\n        offscreenGroup.destroy();\n    };\n    /** 清楚当前 labels */\n    Labels.prototype.clear = function () {\n        this.container.clear();\n        this.shapesMap = {};\n        this.lastShapesMap = {};\n    };\n    /** 销毁 */\n    Labels.prototype.destroy = function () {\n        this.container.destroy();\n        this.shapesMap = null;\n        this.lastShapesMap = null;\n    };\n    Labels.prototype.renderLabel = function (cfg, container) {\n        var id = cfg.id, data = cfg.data, mappingData = cfg.mappingData, coordinate = cfg.coordinate, animate = cfg.animate, content = cfg.content;\n        var shapeAppendCfg = {\n            id: id,\n            data: data,\n            origin: mappingData,\n            coordinate: coordinate,\n        };\n        var labelGroup = container.addGroup(__assign({ name: 'label', \n            // 如果 this.animate === false 或者 cfg.animate === false/null 则不进行动画，否则进行动画配置的合并\n            animateCfg: this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate) }, shapeAppendCfg));\n        var labelShape;\n        if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n            // 如果 content 是 Group 或者 Shape，根据 textAlign 调整位置后，直接将其加入 labelGroup\n            var _a = content.getCanvasBBox(), width = _a.width, height = _a.height;\n            var textAlign = cfg.textAlign || 'left';\n            var x = cfg.x;\n            var y = cfg.y - (height / 2);\n            if (textAlign === 'center') {\n                x = x - (width / 2);\n            }\n            else if (textAlign === 'right' || textAlign === 'end') {\n                x = x - width;\n            }\n            translate(content, x, y); // 将 label 平移至 x, y 指定的位置\n            labelShape = content;\n            labelGroup.add(content);\n        }\n        else {\n            labelShape = labelGroup.addShape('text', __assign({ attrs: __assign({ x: cfg.x, y: cfg.y, textAlign: cfg.textAlign, text: cfg.content }, cfg.style) }, shapeAppendCfg));\n        }\n        if (cfg.rotate) {\n            rotate(labelShape, cfg.rotate);\n        }\n        this.drawLabelLine(cfg, labelGroup);\n        this.shapesMap[id] = labelGroup;\n    };\n    // 根据type对label布局\n    Labels.prototype.adjustLabels = function (shapes) {\n        var _this = this;\n        if (this.layout) {\n            var layouts = isArray(this.layout) ? this.layout : [this.layout];\n            each(layouts, function (layout) {\n                var layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n                if (layoutFn) {\n                    var labelShapes_1 = [];\n                    var geometryShapes_1 = [];\n                    each(_this.shapesMap, function (labelShape, id) {\n                        labelShapes_1.push(labelShape);\n                        geometryShapes_1.push(shapes[id]);\n                    });\n                    layoutFn(labelShapes_1, geometryShapes_1, _this.region, layout.cfg);\n                }\n            });\n        }\n    };\n    Labels.prototype.drawLabelLine = function (labelCfg, container) {\n        if (!labelCfg.labelLine) {\n            // labelLine: null | false，关闭 label 对应的 labelLine\n            return;\n        }\n        var labelLineCfg = get(labelCfg, 'labelLine', {});\n        var path = labelLineCfg.path;\n        if (!path) {\n            var start = labelCfg.start;\n            path = [\n                ['M', start.x, start.y],\n                ['L', labelCfg.x, labelCfg.y],\n            ];\n        }\n        container.addShape('path', {\n            capture: false,\n            attrs: __assign({ path: path, stroke: labelCfg.color ? labelCfg.color : get(labelCfg, ['style', 'fill'], '#000'), fill: null }, labelLineCfg.style),\n            id: labelCfg.id,\n            origin: labelCfg.mappingData,\n            data: labelCfg.data,\n            coordinate: labelCfg.coordinate,\n        });\n    };\n    Labels.prototype.createOffscreenGroup = function () {\n        var container = this.container;\n        var GroupClass = container.getGroupBase(); // 获取分组的构造函数\n        var newGroup = new GroupClass({});\n        return newGroup;\n    };\n    return Labels;\n}());\nexport default Labels;\n//# sourceMappingURL=labels.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, get, isArray, isEmpty, isFunction } from '@antv/util';\nimport { doAnimate, getDefaultAnimateCfg } from '../../animate';\nimport Base from '../../base';\nimport { getReplaceAttrs } from '../../util/graphics';\n/**\n * Element 图形元素。\n * 定义：在 G2 中，我们会将数据通过图形语法映射成不同的图形，比如点图，数据集中的每条数据会对应一个点，柱状图每条数据对应一个柱子，线图则是一组数据对应一条折线，Element 即一条/一组数据对应的图形元素，它代表一条数据或者一个数据集，在图形层面，它可以是单个 Shape 也可以是多个 Shape，我们称之为图形元素。\n */\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        // 存储当前开启的状态\n        _this.states = [];\n        var shapeFactory = cfg.shapeFactory, theme = cfg.theme, container = cfg.container, offscreenGroup = cfg.offscreenGroup, _a = cfg.visible, visible = _a === void 0 ? true : _a;\n        _this.shapeFactory = shapeFactory;\n        _this.theme = theme;\n        _this.container = container;\n        _this.offscreenGroup = offscreenGroup;\n        _this.visible = visible;\n        return _this;\n    }\n    /**\n     * 绘制图形。\n     * @param model 绘制数据。\n     * @param isUpdate 可选，是否是更新发生后的绘制。\n     */\n    Element.prototype.draw = function (model, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        this.model = model;\n        this.data = model.data; // 存储原始数据\n        this.shapeType = this.getShapeType(model);\n        // 绘制图形\n        this.drawShape(model, isUpdate);\n        if (this.visible === false) {\n            // 用户在初始化的时候声明 visible: false\n            this.changeVisible(false);\n        }\n    };\n    /**\n     * 更新图形。\n     * @param model 更新的绘制数据。\n     */\n    Element.prototype.update = function (model) {\n        var _a = this, shapeFactory = _a.shapeFactory, shape = _a.shape;\n        if (!shape) {\n            return;\n        }\n        // 更新数据\n        this.model = model;\n        this.data = model.data;\n        this.shapeType = this.getShapeType(model);\n        // step 1: 更新 shape 携带的信息\n        var drawCfg = this.getShapeDrawCfg(model);\n        this.setShapeInfo(shape, drawCfg);\n        // step 2: 使用虚拟 Group 重新绘制 shape，然后更新当前 shape\n        var offscreenGroup = this.getOffscreenGroup();\n        var newShape = shapeFactory.drawShape(this.shapeType, drawCfg, offscreenGroup);\n        newShape.set('data', this.data);\n        newShape.set('origin', drawCfg);\n        // step 3: 同步 shape 样式\n        this.syncShapeStyle(shape, newShape, '', this.getAnimateCfg('update'));\n    };\n    /**\n     * 销毁 element 实例。\n     */\n    Element.prototype.destroy = function () {\n        var _a = this, shapeFactory = _a.shapeFactory, shape = _a.shape;\n        if (shape) {\n            var animateCfg = this.getAnimateCfg('leave');\n            if (animateCfg) {\n                // 指定了动画配置则执行销毁动画\n                doAnimate(shape, animateCfg, {\n                    coordinate: shapeFactory.coordinate,\n                    toAttrs: __assign({}, shape.attr()),\n                });\n            }\n            else {\n                // 否则直接销毁\n                shape.remove(true);\n            }\n        }\n        this.states = [];\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 显示或者隐藏 element。\n     * @param visible 是否可见。\n     */\n    Element.prototype.changeVisible = function (visible) {\n        _super.prototype.changeVisible.call(this, visible);\n        if (visible) {\n            if (this.shape) {\n                this.shape.show();\n            }\n            if (this.labelShape) {\n                this.labelShape.forEach(function (label) {\n                    label.show();\n                });\n            }\n        }\n        else {\n            if (this.shape) {\n                this.shape.hide();\n            }\n            if (this.labelShape) {\n                this.labelShape.forEach(function (label) {\n                    label.hide();\n                });\n            }\n        }\n    };\n    /**\n     * 设置 Element 的状态。\n     *\n     * 目前 Element 开放三种状态：\n     * 1. active\n     * 2. selected\n     * 3. inactive\n     *\n     * 这三种状态相互独立，可以进行叠加。\n     *\n     * 这三种状态的样式可在 [[Theme]] 主题中或者通过 `geometry.state()` 接口进行配置。\n     *\n     * ```ts\n     * // 激活 active 状态\n     * setState('active', true);\n     * ```\n     *\n     * @param stateName 状态名\n     * @param stateStatus 是否开启状态\n     */\n    Element.prototype.setState = function (stateName, stateStatus) {\n        var _this = this;\n        var _a = this, states = _a.states, shapeFactory = _a.shapeFactory, model = _a.model, shape = _a.shape, shapeType = _a.shapeType;\n        var index = states.indexOf(stateName);\n        if (stateStatus) {\n            // 开启状态\n            if (index > -1) {\n                // 该状态已经开启，则返回\n                return;\n            }\n            states.push(stateName);\n            if (stateName === 'active' || stateName === 'selected') {\n                shape.toFront();\n            }\n        }\n        else {\n            if (index === -1) {\n                // 关闭状态，但是状态未设置过\n                return;\n            }\n            states.splice(index, 1);\n            if (stateName === 'active' || stateName === 'selected') {\n                shape.toBack();\n            }\n        }\n        // 使用虚拟 group 重新绘制 shape，然后对这个 shape 应用状态样式后，更新当前 shape。\n        var drawCfg = this.getShapeDrawCfg(model);\n        var offscreenShape = shapeFactory.drawShape(shapeType, drawCfg, this.getOffscreenGroup());\n        if (states.length) {\n            // 应用当前状态\n            states.forEach(function (state) {\n                _this.syncShapeStyle(shape, offscreenShape, state, null);\n            });\n        }\n        else {\n            // 如果没有状态，则需要恢复至原始状态\n            this.syncShapeStyle(shape, offscreenShape, '', null);\n        }\n        offscreenShape.remove(true); // 销毁，减少内存占用\n    };\n    /**\n     * 清空状量态，恢复至初始状态。\n     */\n    Element.prototype.clearStates = function () {\n        var _this = this;\n        var states = this.states;\n        each(states, function (state) {\n            _this.setState(state, false);\n        });\n        this.states = [];\n    };\n    /**\n     * 查询当前 Element 上是否已设置 `stateName` 对应的状态。\n     * @param stateName 状态名称。\n     * @returns true 表示存在，false 表示不存在。\n     */\n    Element.prototype.hasState = function (stateName) {\n        return this.states.includes(stateName);\n    };\n    /**\n     * 获取当前 Element 上所有的状态。\n     * @returns 当前 Element 上所有的状态数组。\n     */\n    Element.prototype.getStates = function () {\n        return this.states;\n    };\n    /**\n     * 获取 Element 对应的原始数据。\n     * @returns 原始数据。\n     */\n    Element.prototype.getData = function () {\n        return this.data;\n    };\n    /**\n     * 获取 Element 对应的图形绘制数据。\n     * @returns 图形绘制数据。\n     */\n    Element.prototype.getModel = function () {\n        return this.model;\n    };\n    /**\n     * 返回 Element 元素整体的 bbox，包含文本及文本连线（有的话）。\n     * @returns 整体包围盒。\n     */\n    Element.prototype.getBBox = function () {\n        var _a = this, shape = _a.shape, labelShape = _a.labelShape;\n        var bbox = {\n            x: 0,\n            y: 0,\n            minX: 0,\n            minY: 0,\n            maxX: 0,\n            maxY: 0,\n            width: 0,\n            height: 0,\n        };\n        if (shape) {\n            bbox = shape.getCanvasBBox();\n        }\n        if (labelShape) {\n            labelShape.forEach(function (label) {\n                var labelBBox = label.getCanvasBBox();\n                bbox.x = Math.min(labelBBox.x, bbox.x);\n                bbox.y = Math.min(labelBBox.y, bbox.y);\n                bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n                bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n                bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n                bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n            });\n        }\n        bbox.width = bbox.maxX - bbox.minX;\n        bbox.height = bbox.maxY - bbox.minY;\n        return bbox;\n    };\n    // 从主题中获取对应状态量的样式\n    Element.prototype.getStateStyle = function (stateName, shapeKey) {\n        var _a = this, theme = _a.theme, shapeFactory = _a.shapeFactory;\n        var shapeType = this.shapeType;\n        // 如果用户自定义 shape，则使用默认 shape 的配置\n        if (!theme[shapeType]) {\n            shapeType = shapeFactory.defaultShapeType;\n        }\n        // 用户通过 geometry.state() 接口定义了状态样式\n        var stateOption = get(this.geometry.stateOption, stateName, {});\n        var stateCfg = deepMix({}, get(theme, [shapeType, stateName], {}), stateOption);\n        var shapeStyle = get(stateCfg.style, [shapeKey]) ?\n            get(stateCfg.style, [shapeKey]) :\n            stateCfg.style;\n        if (isFunction(shapeStyle)) {\n            shapeStyle = shapeStyle(this);\n        }\n        return {\n            animate: stateCfg.animate,\n            style: shapeStyle,\n        };\n    };\n    // 获取动画配置\n    Element.prototype.getAnimateCfg = function (animateType) {\n        var animate = this.geometry.animateOption;\n        var _a = this.shapeFactory, geometryType = _a.geometryType, coordinate = _a.coordinate;\n        var defaultCfg = getDefaultAnimateCfg(geometryType, coordinate, animateType);\n        // 1. animate === false, 用户关闭动画\n        // 2. 动画默认开启，用户没有对动画进行配置同时有没有内置的默认动画\n        // 3. 用户关闭对应的动画  animate: { enter: false }\n        if (!animate ||\n            (animate === true && isEmpty(defaultCfg)) ||\n            animate[animateType] === false ||\n            animate[animateType] === null) {\n            return null;\n        }\n        return __assign(__assign({}, defaultCfg), animate[animateType]);\n    };\n    // 绘制图形\n    Element.prototype.drawShape = function (model, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        var _a = this, shapeFactory = _a.shapeFactory, container = _a.container, shapeType = _a.shapeType;\n        var drawCfg = this.getShapeDrawCfg(model);\n        // 自定义 shape 有可能返回空 shape\n        this.shape = shapeFactory.drawShape(shapeType, drawCfg, container);\n        if (this.shape) {\n            this.setShapeInfo(this.shape, drawCfg); // 存储绘图数据\n            if (!this.shape.get('name')) {\n                // TODO: 当用户设置了 name 后，为了保证 geometry:eventName 这样的事件能够正常触发，需要加一个 inheritName\n                // 等 G 事件改造完成后加上\n                this.shape.set('name', this.shapeFactory.geometryType);\n            }\n            this.shape.set('inheritNames', ['element']);\n            // 执行入场动画\n            var animateType = isUpdate ? 'enter' : 'appear';\n            var animateCfg = this.getAnimateCfg(animateType);\n            if (animateCfg) {\n                doAnimate(this.shape, animateCfg, {\n                    coordinate: shapeFactory.coordinate,\n                    toAttrs: __assign({}, this.shape.attr()),\n                });\n            }\n        }\n    };\n    // 获取虚拟 Group\n    Element.prototype.getOffscreenGroup = function () {\n        if (!this.offscreenGroup) {\n            var GroupCtor = this.container.getGroupBase(); // 获取分组的构造函数\n            this.offscreenGroup = new GroupCtor({});\n        }\n        return this.offscreenGroup;\n    };\n    // 设置 shape 上需要携带的信息\n    Element.prototype.setShapeInfo = function (shape, data) {\n        var _this = this;\n        shape.set('origin', data);\n        shape.set('element', this); // 考虑是否可以使用 G 事件的 delegateObject\n        if (shape.isGroup()) {\n            var children = shape.get('children');\n            children.forEach(function (child) {\n                _this.setShapeInfo(child, data);\n            });\n        }\n    };\n    // 获取 shape 的绘制属性\n    Element.prototype.getShapeDrawCfg = function (cfg) {\n        return __assign(__assign({}, cfg), { defaultStyle: this.getStateStyle('default').style });\n    };\n    // 更新当前 shape 的样式\n    Element.prototype.syncShapeStyle = function (sourceShape, targetShape, state, animateCfg, index) {\n        if (state === void 0) { state = ''; }\n        if (index === void 0) { index = 0; }\n        if (sourceShape.isGroup()) {\n            var children = sourceShape.get('children');\n            var newChildren = targetShape.get('children');\n            for (var i = 0; i < children.length; i++) {\n                this.syncShapeStyle(children[i], newChildren[i], state, animateCfg, index + i);\n            }\n        }\n        else {\n            var stateAnimate = void 0;\n            if (state) {\n                var _a = this.getStateStyle(state, sourceShape.get('name') || index), animate = _a.animate, style = _a.style; // 如果用户没有设置 name，则默认根据索引值\n                targetShape.attr(style);\n                stateAnimate = animate;\n            }\n            var newAttrs = getReplaceAttrs(sourceShape, targetShape);\n            if (animateCfg) {\n                // 需要进行动画\n                doAnimate(sourceShape, animateCfg, {\n                    coordinate: this.shapeFactory.coordinate,\n                    toAttrs: newAttrs,\n                    shapeModel: this.model,\n                });\n            }\n            else if (stateAnimate === null) {\n                // 用户关闭了 state 动画\n                sourceShape.attr(newAttrs);\n            }\n            else if (this.geometry.animateOption) {\n                sourceShape.stopAnimate();\n                sourceShape.animate(newAttrs, {\n                    duration: 300,\n                });\n            }\n            else {\n                sourceShape.attr(newAttrs);\n            }\n        }\n    };\n    Element.prototype.getShapeType = function (model) {\n        var shape = get(model, 'shape');\n        return isArray(shape) ? shape[0] : shape;\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { convertNormalPath, convertPolarPath } from './util/path';\n/** ShapeFactory 基类 */\nvar ShapeFactoryBase = {\n    /** 坐标系对象 */\n    coordinate: null,\n    /** 默认绘制的 Shape 类型 */\n    defaultShapeType: null,\n    /** 主题样式 */\n    theme: null,\n    /**\n     * 获取 shape 绘制需要的关键点\n     * @param shapeType shape 类型\n     * @param shapePoint 每条数据映射后的坐标点以及 size 数值\n     * @returns 图形关键点信息\n     */\n    getShapePoints: function (shapeType, shapePoint) {\n        var shape = this.getShape(shapeType);\n        if (shape.getPoints) {\n            return shape.getPoints(shapePoint);\n        }\n        return this.getDefaultPoints(shapePoint);\n    },\n    /**\n     * 根据 shape 类型获取具体的 shape 实例\n     * @param shapeType string shape 的类型\n     * @returns\n     */\n    getShape: function (shapeType) {\n        var shape = this[shapeType] || this[this.defaultShapeType];\n        shape.coordinate = this.coordinate;\n        return shape;\n    },\n    /**\n     * 获取 shape 的默认关键点\n     * @override\n     */\n    getDefaultPoints: function () {\n        return [];\n    },\n    /**\n     * 获取 shape 对应的缩略图配置信息。\n     * @param shapeType shape 类型\n     * @param color 颜色\n     * @param isInPolar 是否在极坐标系下\n     * @returns 返回缩略图 marker 配置。\n     */\n    getMarker: function (shapeType, markerCfg) {\n        var shape = this.getShape(shapeType);\n        if (!shape.getMarker) {\n            var defaultShapeType = this.defaultShapeType;\n            shape = this.getShape(defaultShapeType);\n        }\n        var theme = this.theme;\n        var shapeStyle = get(theme, [shapeType, 'default'], {});\n        var markerStyle = shape.getMarker(markerCfg);\n        return deepMix({}, shapeStyle, markerStyle);\n    },\n    /**\n     * 绘制 shape\n     * @override\n     * @param shapeType 绘制的 shape 类型\n     * @param cfg 绘制 shape 需要的信息\n     * @param element Element 实例\n     * @returns\n     */\n    drawShape: function (shapeType, cfg, container) {\n        var shape = this.getShape(shapeType);\n        return shape.draw(cfg, container);\n    },\n};\n/** Shape 基类 */\nvar ShapeBase = {\n    /** 坐标系对象 */\n    coordinate: null,\n    /**\n     * 将归一化的 path 转换成坐标系下的 path\n     * @param path 归一化的路径\n     * @returns\n     */\n    parsePath: function (path) {\n        var coordinate = this.coordinate;\n        var parsedPath = parsePathString(path);\n        if (coordinate.isPolar) {\n            parsedPath = convertPolarPath(coordinate, parsedPath);\n        }\n        else {\n            parsedPath = convertNormalPath(coordinate, parsedPath);\n        }\n        return parsedPath;\n    },\n    /**\n     * 将归一化的坐标转换成画布坐标\n     * @param point 归一化的坐标点数据\n     * @returns\n     */\n    parsePoint: function (point) {\n        var coordinate = this.coordinate;\n        return coordinate.convert(point);\n    },\n    /**\n     * 0～1 points 转 画布 points\n     * @param points 节点集合\n     * @returns\n     */\n    parsePoints: function (points) {\n        var coordinate = this.coordinate;\n        return points.map(function (point) {\n            return coordinate.convert(point);\n        });\n    },\n    /**\n     * 绘制 shape\n     * @override\n     */\n    draw: function (cfg, container) { },\n};\nvar ShapeFactoryMap = {};\n/**\n * 注册 ShapeFactory。\n * @param factoryName  ShapeFactory 名称，对应 Geometry 几何标记名称。\n * @param cfg 注册 ShapeFactory 需要覆写定义的属性。\n * @returns 返回 ShapeFactory 对象。\n */\nexport function registerShapeFactory(factoryName, cfg) {\n    var className = upperFirst(factoryName);\n    var geomObj = __assign(__assign(__assign({}, ShapeFactoryBase), cfg), { geometryType: factoryName });\n    ShapeFactoryMap[className] = geomObj;\n    return geomObj;\n}\n/**\n * 注册 Shape。\n * @param factoryName 对应的 ShapeFactory 名称。\n * @param shapeType 注册的 shape 名称。\n * @param cfg 注册 Shape 需要覆写定义的属性。\n * @returns shape 返回注册的 shape 对象。\n */\nexport function registerShape(factoryName, shapeType, cfg) {\n    var className = upperFirst(factoryName);\n    var factory = ShapeFactoryMap[className];\n    var shapeObj = __assign(__assign({}, ShapeBase), cfg);\n    factory[shapeType] = shapeObj;\n    return shapeObj;\n}\n/**\n * 获取 factoryName 对应的 shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName) {\n    var className = upperFirst(factoryName);\n    return ShapeFactoryMap[className];\n}\n//# sourceMappingURL=base.js.map","import { isEqual, some } from '@antv/util';\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel, preModel) {\n    return some(['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'points', 'mappingData'], function (key) {\n        return !isEqual(currentModel[key], preModel[key]);\n    });\n}\n//# sourceMappingURL=is-model-change.js.map","import { isArray } from '@antv/util';\n/** @ignore */\nexport function parseFields(field) {\n    if (isArray(field)) {\n        return field;\n    }\n    return field.split('*');\n}\n//# sourceMappingURL=parse-fields.js.map","import { __assign, __extends } from \"tslib\";\nimport { getAdjust as getAdjustClass } from '@antv/adjust';\nimport { getAttribute as getAttributeClass } from '@antv/attr';\nimport { clone, each, flatten, get, isArray, isEmpty, isEqual, isFunction, isNil, isNumber, isObject, isPlainObject, isString, map, set, uniq, } from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport Labels from '../component/labels';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\n// 根据 elementId 查找对应的 label，因为有可能一个 element 对应多个 labels，所以在给 labels 打标识时做了处理\n// 打标规则详见 ./label/base.ts#L263\nfunction filterLabelsById(id, labelsMap) {\n    var labels = [];\n    each(labelsMap, function (label, labelId) {\n        var elementId = labelId.split(' ')[0];\n        if (elementId === id) {\n            labels.push(label);\n        }\n    });\n    return labels;\n}\n/**\n * Geometry 几何标记基类，主要负责数据到图形属性的映射以及绘制逻辑。\n */\nvar Geometry = /** @class */ (function (_super) {\n    __extends(Geometry, _super);\n    /**\n     * 创建 Geometry 实例。\n     * @param cfg\n     */\n    function Geometry(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        /** Geometry 几何标记类型。 */\n        _this.type = 'base';\n        // 内部产生的属性\n        /** Attribute map  */\n        _this.attributes = {};\n        /** Element map */\n        _this.elements = [];\n        /** animate 配置项 */\n        _this.animateOption = true;\n        /** 使用 key-value 结构存储 Element，key 为每个 Element 实例对应的唯一 ID */\n        _this.elementsMap = {};\n        /** 图形属性映射配置 */\n        _this.attributeOption = {};\n        /** 存储上一次渲染时的 element 映射表，用于更新逻辑 */\n        _this.lastElementsMap = {};\n        /** 是否生成多个点来绘制图形。 */\n        _this.generatePoints = false;\n        /** 存储发生图形属性映射前的数据 */\n        _this.beforeMappingData = null;\n        _this.adjusts = {};\n        var container = cfg.container, labelsContainer = cfg.labelsContainer, coordinate = cfg.coordinate, data = cfg.data, _a = cfg.sortable, sortable = _a === void 0 ? false : _a, _b = cfg.visible, visible = _b === void 0 ? true : _b, theme = cfg.theme, _c = cfg.scales, scales = _c === void 0 ? {} : _c, _d = cfg.scaleDefs, scaleDefs = _d === void 0 ? {} : _d;\n        _this.container = container;\n        _this.labelsContainer = labelsContainer;\n        _this.coordinate = coordinate;\n        _this.data = data;\n        _this.sortable = sortable;\n        _this.visible = visible;\n        _this.theme = theme;\n        _this.scales = scales;\n        _this.scaleDefs = scaleDefs;\n        return _this;\n    }\n    /**\n     * 配置 position 通道映射规则。\n     *\n     * @example\n     * ```typescript\n     * // 数据结构: [{ x: 'A', y: 10, color: 'red' }]\n     * geometry.position('x*y');\n     * geometry.position([ 'x', 'y' ]);\n     * geometry.position({\n     *   fields: [ 'x', 'y' ],\n     * });\n     * ```\n     *\n     * @param cfg 映射规则\n     * @returns\n     */\n    Geometry.prototype.position = function (cfg) {\n        var positionCfg = cfg;\n        if (!isPlainObject(cfg)) {\n            // 字符串字段或者数组字段\n            positionCfg = {\n                fields: parseFields(cfg),\n            };\n        }\n        var fields = get(positionCfg, 'fields');\n        if (fields.length === 1) {\n            // 默认填充一维 1*xx\n            fields.unshift('1');\n            set(positionCfg, 'fields', fields);\n        }\n        set(this.attributeOption, 'position', positionCfg);\n        return this;\n    };\n    Geometry.prototype.color = function (field, cfg) {\n        this.createAttrOption('color', field, cfg);\n        return this;\n    };\n    Geometry.prototype.shape = function (field, cfg) {\n        this.createAttrOption('shape', field, cfg);\n        return this;\n    };\n    Geometry.prototype.size = function (field, cfg) {\n        this.createAttrOption('size', field, cfg);\n        return this;\n    };\n    /**\n     * 设置数据调整方式。G2 目前内置了四种类型：\n     * 1. dodge\n     * 2. stack\n     * 3. symmetric\n     * 4. jitter\n     *\n     *\n     * **Tip**\n     * + 对于 'dodge' 类型，可以额外进行如下属性的配置:\n     * ```typescript\n     * geometry.adjust('dodge', {\n     *   marginRatio: 0, // 取 0 到 1 范围的值（相对于每个柱子宽度），用于控制一个分组中柱子之间的间距\n     *   dodgeBy: 'x', // 该属性只对 'dodge' 类型生效，声明以哪个数据字段为分组依据\n     * });\n     * ```\n     *\n     * + 对于 'stack' 类型，可以额外进行如下属性的配置:\n     * ```typescript\n     * geometry.adjust('stack', {\n     *   reverseOrder: false, // 用于控制是否对数据进行反序操作\n     * });\n     * ```\n     *\n     * @example\n     * ```typescript\n     * geometry.adjust('stack');\n     *\n     * geometry.adjust({\n     *   type: 'stack',\n     *   reverseOrder: false,\n     * });\n     *\n     * // 组合使用 adjust\n     * geometry.adjust([ 'stack', 'dodge' ]);\n     *\n     * geometry.adjust([\n     *   { type: 'stack' },\n     *   { type: 'dodge', dodgeBy: 'x' },\n     * ]);\n     * ```\n     *\n     * @param adjustCfg 数据调整配置\n     * @returns\n     */\n    Geometry.prototype.adjust = function (adjustCfg) {\n        var adjusts = adjustCfg;\n        if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n            adjusts = [adjustCfg];\n        }\n        each(adjusts, function (adjust, index) {\n            if (!isObject(adjust)) {\n                adjusts[index] = { type: adjust };\n            }\n        });\n        this.adjustOption = adjusts;\n        return this;\n    };\n    Geometry.prototype.style = function (field, styleFunc) {\n        if (isString(field)) {\n            var fields = parseFields(field);\n            this.styleOption = {\n                fields: fields,\n                callback: styleFunc,\n            };\n        }\n        else {\n            var _a = field, fields = _a.fields, callback = _a.callback, cfg = _a.cfg;\n            if (fields || callback || cfg) {\n                this.styleOption = field;\n            }\n            else {\n                this.styleOption = {\n                    cfg: field,\n                };\n            }\n        }\n        return this;\n    };\n    Geometry.prototype.tooltip = function (field, cfg) {\n        if (isString(field)) {\n            var fields = parseFields(field);\n            this.tooltipOption = {\n                fields: fields,\n                callback: cfg,\n            };\n        }\n        else {\n            this.tooltipOption = field;\n        }\n        return this;\n    };\n    /**\n     * Geometry 动画配置。\n     *\n     * + `animate(false)` 关闭动画\n     * + `animate(true)` 开启动画，默认开启。\n     *\n     * 我们将动画分为四个场景：\n     * 1. appear: 图表第一次加载时的入场动画；\n     * 2. enter: 图表绘制完成，发生更新后，产生的新图形的进场动画；\n     * 3. update: 图表绘制完成，数据发生变更后，有状态变更的图形的更新动画；\n     * 4. leave: 图表绘制完成，数据发生变更后，被销毁图形的销毁动画。\n     *\n     * @example\n     * ```typescript\n     * animate({\n     *   enter: {\n     *     duration: 1000, // enter 动画执行时间\n     *   },\n     *   leave: false, // 关闭 leave 销毁动画\n     * });\n     * ```\n     *\n     * @param cfg 动画配置\n     * @returns\n     */\n    Geometry.prototype.animate = function (cfg) {\n        this.animateOption = cfg;\n        return this;\n    };\n    Geometry.prototype.label = function (field, secondParam, thirdParam) {\n        if (isString(field)) {\n            var labelOption = {};\n            var fields = parseFields(field);\n            labelOption.fields = fields;\n            if (isFunction(secondParam)) {\n                labelOption.callback = secondParam;\n            }\n            else if (isPlainObject(secondParam)) {\n                labelOption.cfg = secondParam;\n            }\n            if (thirdParam) {\n                labelOption.cfg = thirdParam;\n            }\n            this.labelOption = labelOption;\n        }\n        else {\n            this.labelOption = field;\n        }\n        return this;\n    };\n    /**\n     * 设置状态对应的样式。\n     *\n     * @example\n     * ```ts\n     * chart.interval().state({\n     *   selected: {\n     *     animate: { duration: 100, easing: 'easeLinear' },\n     *     style: {\n     *       lineWidth: 2,\n     *       stroke: '#000',\n     *     },\n     *   },\n     * });\n     * ```\n     *\n     * 如果图形 shape 是由多个 shape 组成，即为一个 G.Group 对象，那么针对 group 中的每个 shape，我们需要使用下列方式进行状态样式设置：\n     * 如果我们为 group 中的每个 shape 设置了 'name' 属性(shape.set('name', 'xx'))，则以 'name' 作为 key，否则默认以索引值（即 shape 的 添加顺序）为 key。\n     *\n     * ```ts\n     * chart.interval().shape('groupShape').state({\n     *   selected: {\n     *     style: {\n     *       0: { lineWidth: 2 },\n     *       1: { fillOpacity: 1 },\n     *     }\n     *   }\n     * });\n     * ```\n     *\n     * @param cfg 状态样式\n     */\n    Geometry.prototype.state = function (cfg) {\n        this.stateOption = cfg;\n        return this;\n    };\n    /**\n     * 初始化 Geomtry 实例：\n     * 创建 [[Attribute]] and [[Scale]] 实例，进行数据处理，包括分组、数值化以及数据调整。\n     */\n    Geometry.prototype.init = function (cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        this.setCfg(cfg);\n        this.initAttributes(); // 创建图形属性\n        // 数据加工：分组 -> 数字化 -> adjust\n        this.processData(this.data);\n        // 调整 scale\n        this.adjustScale();\n    };\n    /**\n     * Geometry 更新。\n     * @param [cfg] 更新的配置\n     */\n    Geometry.prototype.update = function (cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        var data = cfg.data;\n        var _a = this, attributeOption = _a.attributeOption, lastAttributeOption = _a.lastAttributeOption;\n        if (!isEqual(attributeOption, lastAttributeOption)) {\n            // 映射发生改变，则重新创建图形属性\n            this.init(cfg);\n        }\n        else if (data && !isEqual(data, this.data)) {\n            // 数据或者 scale 发生变化\n            this.setCfg(cfg);\n            this.processData(this.data); // 数据加工：分组 -> 数字化 -> adjust\n        }\n        else {\n            // 有可能 coordinate 变化\n            this.setCfg(cfg);\n        }\n        // 调整 scale\n        this.adjustScale();\n    };\n    /**\n     * 将原始数据映射至图形空间，同时创建图形对象。\n     */\n    Geometry.prototype.paint = function (isUpdate) {\n        var _this = this;\n        if (isUpdate === void 0) { isUpdate = false; }\n        this.defaultSize = undefined;\n        this.elements = [];\n        this.elementsMap = {};\n        var offscreenGroup = this.getOffscreenGroup();\n        offscreenGroup.clear();\n        var beforeMappingData = this.beforeMappingData;\n        var dataArray = this.beforeMapping(beforeMappingData);\n        var mappingArray = [];\n        for (var _i = 0, dataArray_1 = dataArray; _i < dataArray_1.length; _i++) {\n            var eachGroup = dataArray_1[_i];\n            var mappingData = this.mapping(eachGroup);\n            mappingArray.push(mappingData);\n            this.createElements(mappingData, isUpdate);\n        }\n        if (this.canDoGroupAnimation(isUpdate)) {\n            // 如果用户没有配置 appear.animation，就默认走整体动画\n            var container = this.container;\n            var type = this.type;\n            var coordinate = this.coordinate;\n            var animateCfg = get(this.animateOption, 'appear');\n            var yScale = this.getYScale();\n            var yMinPoint = coordinate.convert({\n                x: 0,\n                y: yScale.scale(this.getYMinValue()),\n            });\n            doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n        }\n        // 添加 label\n        if (this.labelOption) {\n            this.renderLabels(flatten(mappingArray), isUpdate);\n        }\n        this.afterMapping(mappingArray);\n        // 销毁被删除的 elements\n        each(this.lastElementsMap, function (deletedElement) {\n            // 更新动画配置，用户有可能在更新之前有对动画进行配置操作\n            deletedElement.animate = _this.animateOption;\n            deletedElement.destroy();\n        });\n        this.lastElementsMap = this.elementsMap;\n        // 缓存，用于更新\n        this.lastAttributeOption = __assign({}, this.attributeOption);\n        if (this.visible === false) {\n            // 用户在初始化的时候声明 visible: false\n            this.changeVisible(false);\n        }\n    };\n    /**\n     * 清空当前 Geometry，配置项仍保留，但是内部创建的对象全部清空。\n     * @override\n     */\n    Geometry.prototype.clear = function () {\n        var _a = this, container = _a.container, labelsRenderer = _a.labelsRenderer;\n        if (container) {\n            container.clear();\n        }\n        if (labelsRenderer) {\n            labelsRenderer.clear();\n        }\n        // 属性恢复至出厂状态\n        this.attributes = {};\n        this.scales = {};\n        this.elementsMap = {};\n        this.lastElementsMap = {};\n        this.elements = [];\n        this.dataArray = null;\n        this.beforeMappingData = null;\n        this.lastAttributeOption = undefined;\n        this.defaultSize = undefined;\n    };\n    /**\n     * 销毁 Geometry 实例。\n     */\n    Geometry.prototype.destroy = function () {\n        this.clear();\n        var container = this.container;\n        container.remove(true);\n        if (this.offscreenGroup) {\n            this.offscreenGroup.remove(true);\n            this.offscreenGroup = null;\n        }\n        if (this.labelsRenderer) {\n            this.labelsRenderer.destroy();\n            this.labelsRenderer = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 获取决定分组的图形属性对应的 scale 实例。\n     * @returns\n     */\n    Geometry.prototype.getGroupScales = function () {\n        var scales = [];\n        var attributes = this.attributes;\n        each(attributes, function (attr) {\n            if (GROUP_ATTRS.includes(attr.type)) {\n                var attrScales = attr.scales;\n                each(attrScales, function (scale) {\n                    if (scale.isCategory && !scales.includes(scale)) {\n                        scales.push(scale);\n                    }\n                });\n            }\n        });\n        return scales;\n    };\n    /**\n     * 根据名字获取图形属性实例。\n     */\n    Geometry.prototype.getAttribute = function (name) {\n        return this.attributes[name];\n    };\n    /** 获取 x 轴对应的 scale 实例。 */\n    Geometry.prototype.getXScale = function () {\n        return this.getAttribute('position').scales[0];\n    };\n    /** 获取 y 轴对应的 scale 实例。 */\n    Geometry.prototype.getYScale = function () {\n        return this.getAttribute('position').scales[1];\n    };\n    /**\n     * 获取决定分组的图形属性实例。\n     */\n    Geometry.prototype.getGroupAttributes = function () {\n        var rst = [];\n        each(this.attributes, function (attr) {\n            if (GROUP_ATTRS.includes(attr.type)) {\n                rst.push(attr);\n            }\n        });\n        return rst;\n    };\n    /** 获取图形属性默认的映射值。 */\n    Geometry.prototype.getDefaultValue = function (attrName) {\n        var value;\n        var attr = this.getAttribute(attrName);\n        if (attr && isEmpty(attr.scales)) {\n            // 获取映射至常量的值\n            value = attr.values[0];\n        }\n        return value;\n    };\n    /**\n     * 获取该数据发生图形映射后对应的 Attribute 图形空间数据。\n     * @param attr Attribute 图形属性实例。\n     * @param obj 需要进行映射的原始数据。\n     * @returns\n     */\n    Geometry.prototype.getAttributeValues = function (attr, obj) {\n        var scales = attr.scales;\n        var params = map(scales, function (scale) {\n            var field = scale.field;\n            if (scale.type === 'identity') {\n                return scale.values[0];\n            }\n            if (scale.isCategory) {\n                return obj[field]; // 数据有可能发生过 adjust\n            }\n            return obj[field];\n        });\n        return attr.mapping.apply(attr, params);\n    };\n    Geometry.prototype.getAdjust = function (adjustType) {\n        return this.adjusts[adjustType];\n    };\n    /**\n     * 获取 shape 对应的 marker 样式。\n     * @param shapeName shape 具体名字\n     * @param cfg marker 信息\n     * @returns\n     */\n    Geometry.prototype.getShapeMarker = function (shapeName, cfg) {\n        var shapeFactory = this.getShapeFactory();\n        return shapeFactory.getMarker(shapeName, cfg);\n    };\n    /**\n     * 根据一定的规则查找 Geometry 的 Elements。\n     *\n     * ```typescript\n     * getElementsBy((element) => {\n     *   const data = element.getData();\n     *\n     *   return data.a === 'a';\n     * });\n     * ```\n     *\n     * @param condition 定义查找规则的回调函数。\n     * @returns\n     */\n    Geometry.prototype.getElementsBy = function (condition) {\n        return this.elements.filter(function (element) {\n            return condition(element);\n        });\n    };\n    /**\n     * 获取数据对应的唯一 id。\n     * @param data Element 对应的绘制数据\n     * @returns\n     */\n    Geometry.prototype.getElementId = function (data) {\n        data = isArray(data) ? data[0] : data;\n        var originData = data[FIELD_ORIGIN];\n        var type = this.type;\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n        var xField = xScale.field || 'x';\n        var yField = yScale.field || 'y';\n        var yVal = originData[yField];\n        var xVal;\n        if (xScale.type === 'identity') {\n            xVal = xScale.values[0];\n        }\n        else {\n            xVal = originData[xField];\n        }\n        var id;\n        if (type === 'interval' || type === 'schema') {\n            id = xVal;\n        }\n        else if (type === 'line' || type === 'area' || type === 'path') {\n            id = type;\n        }\n        else {\n            id = xVal + \"-\" + yVal;\n        }\n        var groupScales = this.getGroupScales();\n        if (!isEmpty(groupScales)) {\n            each(groupScales, function (groupScale) {\n                var field = groupScale.field;\n                if (groupScale.type !== 'identity') {\n                    id = id + \"-\" + originData[field];\n                }\n            });\n        }\n        // 用户在进行 dodge 类型的 adjust 调整的时候设置了 dodgeBy 属性\n        var dodgeAdjust = this.getAdjust('dodge');\n        if (dodgeAdjust) {\n            var dodgeBy = dodgeAdjust.dodgeBy;\n            if (dodgeBy) {\n                id = id + \"-\" + originData[dodgeBy];\n            }\n        }\n        if (this.getAdjust('jitter')) {\n            id = id + \"-\" + data.x + \"-\" + data.y;\n        }\n        return id;\n    };\n    /**\n     * 获取所有需要创建 scale 的字段名称。\n     */\n    Geometry.prototype.getScaleFields = function () {\n        var fields = [];\n        var _a = this, attributeOption = _a.attributeOption, labelOption = _a.labelOption, tooltipOption = _a.tooltipOption;\n        each(attributeOption, function (eachOpt) {\n            // size(10)\n            fields = fields.concat(eachOpt.fields || eachOpt.values);\n        });\n        fields = fields.concat(get(labelOption, 'fields', []));\n        fields = fields.concat(get(tooltipOption, 'fields', []));\n        return uniq(fields);\n    };\n    /**\n     * 显示或者隐藏 geometry。\n     * @param visible\n     */\n    Geometry.prototype.changeVisible = function (visible) {\n        _super.prototype.changeVisible.call(this, visible);\n        this.elements.forEach(function (element) {\n            element.changeVisible(visible);\n        });\n        if (visible) {\n            if (this.container) {\n                this.container.show();\n            }\n            if (this.labelsContainer) {\n                this.labelsContainer.show();\n            }\n        }\n        else {\n            if (this.container) {\n                this.container.hide();\n            }\n            if (this.labelsContainer) {\n                this.labelsContainer.hide();\n            }\n        }\n    };\n    /**\n     * 获取当前配置中的所有分组 & 分类的字段。\n     * @return fields string[]\n     */\n    Geometry.prototype.getGroupFields = function () {\n        var _this = this;\n        var fields = [];\n        each(GROUP_ATTRS, function (attributeName) {\n            var cfg = _this.attributeOption[attributeName];\n            fields.push.apply(fields, get(cfg, 'fields', []));\n        });\n        return uniq(fields);\n    };\n    /**\n     * 获得图形的 x y 字段。\n     */\n    Geometry.prototype.getXYFields = function () {\n        var _a = this.attributeOption.position.fields, x = _a[0], y = _a[1];\n        return [x, y];\n    };\n    /**\n     * 获取该 Geometry 下所有生成的 shapes。\n     * @returns shapes\n     */\n    Geometry.prototype.getShapes = function () {\n        return this.elements.map(function (element) { return element.shape; });\n    };\n    /**\n     * 调整度量范围。主要针对发生层叠以及一些特殊需求的 Geometry，比如 Interval 下的柱状图 Y 轴默认从 0 开始。\n     */\n    Geometry.prototype.adjustScale = function () {\n        var yScale = this.getYScale();\n        // 如果数据发生过 stack adjust，需要调整下 yScale 的数据范围\n        if (this.getAdjust('stack') && yScale) {\n            this.updateStackRange(yScale, this.beforeMappingData);\n        }\n    };\n    /**\n     * 获取当前 Geometry 对应的 Shape 工厂实例。\n     */\n    Geometry.prototype.getShapeFactory = function () {\n        var shapeType = this.shapeType;\n        if (!this.shapeFactory) {\n            this.shapeFactory = clone(getShapeFactory(shapeType)); // 防止多个 view 共享一个 shapeFactory 实例，导致 coordinate 被篡改\n        }\n        // 因为这里缓存了 shapeFactory，但是外部可能会变更 coordinate，导致无法重新设置到 shapeFactory 中\n        this.shapeFactory.coordinate = this.coordinate;\n        // theme 原因同上\n        this.shapeFactory.theme = get(this.theme, ['geometries', shapeType], {});\n        return this.shapeFactory;\n    };\n    /**\n     * 获取每个 Shape 对应的关键点数据。\n     * @param obj 经过分组 -> 数字化 -> adjust 调整后的数据记录\n     * @returns\n     */\n    Geometry.prototype.createShapePointsCfg = function (obj) {\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n        var x = this.normalizeValues(obj[xScale.field], xScale);\n        var y; // 存在没有 y 的情况\n        if (yScale) {\n            y = this.normalizeValues(obj[yScale.field], yScale);\n        }\n        else {\n            y = obj.y ? obj.y : 0.1;\n        }\n        return {\n            x: x,\n            y: y,\n            y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n        };\n    };\n    /**\n     * 创建 Element 实例。\n     * @param mappingDatum Element 对应的绘制数据\n     * @param [isUpdate] 是否处于更新阶段\n     * @returns element 返回创建的 Element 实例\n     */\n    Geometry.prototype.createElement = function (mappingDatum, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        var _a = this, theme = _a.theme, container = _a.container;\n        var shapeCfg = this.getDrawCfg(mappingDatum); // 获取绘制图形的配置信息\n        var shapeFactory = this.getShapeFactory();\n        var element = new Element({\n            theme: get(theme, ['geometries', this.shapeType], {}),\n            shapeFactory: shapeFactory,\n            container: container,\n            offscreenGroup: this.getOffscreenGroup(),\n        });\n        element.geometry = this;\n        element.draw(shapeCfg, isUpdate); // 绘制\n        return element;\n    };\n    /**\n     * 获取每条数据对应的图形绘制数据。\n     * @param mappingDatum 映射后的数据\n     * @returns draw cfg\n     */\n    Geometry.prototype.getDrawCfg = function (mappingDatum) {\n        var originData = mappingDatum[FIELD_ORIGIN]; // 原始数据\n        var cfg = {\n            mappingData: mappingDatum,\n            data: originData,\n            x: mappingDatum.x,\n            y: mappingDatum.y,\n            color: mappingDatum.color,\n            size: mappingDatum.size,\n            shape: mappingDatum.shape,\n            isInCircle: this.coordinate.isPolar,\n        };\n        var styleOption = this.styleOption;\n        if (styleOption) {\n            cfg.style = this.getStyleCfg(styleOption, originData);\n        }\n        if (this.generatePoints) {\n            cfg.points = mappingDatum.points;\n            cfg.nextPoints = mappingDatum.nextPoints;\n        }\n        return cfg;\n    };\n    /**\n     * 创建所有的 Elements。\n     * @param mappingData\n     * @param [isUpdate]\n     * @returns elements\n     */\n    Geometry.prototype.createElements = function (mappingData, isUpdate) {\n        var _this = this;\n        if (isUpdate === void 0) { isUpdate = false; }\n        var _a = this, lastElementsMap = _a.lastElementsMap, elementsMap = _a.elementsMap, elements = _a.elements;\n        each(mappingData, function (mappingDatum) {\n            var id = _this.getElementId(mappingDatum);\n            var result = lastElementsMap[id] || elementsMap[id];\n            if (!result) {\n                // 创建新的 element\n                result = _this.createElement(mappingDatum, isUpdate);\n            }\n            else {\n                // element 已经创建\n                var currentShapeCfg = _this.getDrawCfg(mappingDatum);\n                var preShapeCfg = result.getModel();\n                if (isModelChange(currentShapeCfg, preShapeCfg)) {\n                    // 通过绘制数据的变更来判断是否需要更新，因为用户有可能会修改图形属性映射\n                    result.update(currentShapeCfg); // 更新对应的 element\n                }\n                delete lastElementsMap[id];\n            }\n            if (!elementsMap[id]) {\n                // 保证唯一性\n                elements.push(result);\n                elementsMap[id] = result;\n            }\n        });\n        return elements;\n    };\n    /**\n     * 获取虚拟 Group。\n     * @returns\n     */\n    Geometry.prototype.getOffscreenGroup = function () {\n        if (!this.offscreenGroup) {\n            var GroupCtor = this.container.getGroupBase(); // 获取分组的构造函数\n            this.offscreenGroup = new GroupCtor({});\n        }\n        return this.offscreenGroup;\n    };\n    /**\n     * 获取渲染的 label 类型。\n     */\n    Geometry.prototype.getLabelType = function () {\n        var _a = this, labelOption = _a.labelOption, coordinate = _a.coordinate, type = _a.type;\n        var coordinateType = coordinate.type;\n        var labelType = get(labelOption, ['cfg', 'type']) || 'base';\n        if (labelType === 'base') {\n            if (coordinateType === 'polar') {\n                // 极坐标文本\n                labelType = 'polar';\n            }\n            else if (coordinateType === 'theta') {\n                // 饼图文本\n                labelType = 'pie';\n            }\n            else if (type === 'interval' || type === 'polygon') {\n                labelType = 'interval';\n            }\n        }\n        return labelType;\n    };\n    /**\n     * 获取 Y 轴上的最小值。\n     */\n    Geometry.prototype.getYMinValue = function () {\n        var yScale = this.getYScale();\n        var min = yScale.min, max = yScale.max;\n        var value;\n        if (min >= 0) {\n            value = min;\n        }\n        else if (max <= 0) {\n            // 当值全位于负区间时，需要保证 ymin 在区域内，不可为 0\n            value = max;\n        }\n        else {\n            value = 0;\n        }\n        return value;\n    };\n    // 创建图形属性相关的配置项\n    Geometry.prototype.createAttrOption = function (attrName, field, cfg) {\n        if (isNil(field) || isObject(field)) {\n            if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n                // shape({ values: [ 'funnel' ] })\n                set(this.attributeOption, attrName, {\n                    fields: field.values,\n                });\n            }\n            else {\n                set(this.attributeOption, attrName, field);\n            }\n        }\n        else {\n            var attrCfg = {};\n            if (isNumber(field)) {\n                // size(3)\n                attrCfg.values = [field];\n            }\n            else {\n                attrCfg.fields = parseFields(field);\n            }\n            if (cfg) {\n                if (isFunction(cfg)) {\n                    attrCfg.callback = cfg;\n                }\n                else {\n                    attrCfg.values = cfg;\n                }\n            }\n            set(this.attributeOption, attrName, attrCfg);\n        }\n    };\n    Geometry.prototype.initAttributes = function () {\n        var _this = this;\n        var _a = this, attributes = _a.attributes, attributeOption = _a.attributeOption, theme = _a.theme, shapeType = _a.shapeType;\n        // 遍历每一个 attrOption，各自创建 Attribute 实例\n        each(attributeOption, function (option, attrType) {\n            if (!option) {\n                return;\n            }\n            var attrCfg = __assign({}, option);\n            var callback = attrCfg.callback, values = attrCfg.values, _a = attrCfg.fields, fields = _a === void 0 ? [] : _a;\n            // 获取每一个字段对应的 scale\n            var scales = map(fields, function (field) {\n                return _this.scales[field];\n            });\n            attrCfg.scales = scales;\n            if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n                // 用户在图形通道上声明了常量字段 color('red'), size(5)\n                attrCfg.values = scales[0].values;\n            }\n            else if (!callback && !values) {\n                // 用户没有指定任何规则，则使用默认的映射规则\n                if (attrType === 'size') {\n                    attrCfg.values = theme.sizes;\n                }\n                else if (attrType === 'shape') {\n                    attrCfg.values = theme.shapes[shapeType] || [];\n                }\n                else if (attrType === 'color') {\n                    if (scales.length) {\n                        // 根据数值个数使用对应的色板\n                        attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n                    }\n                    else {\n                        attrCfg.values = theme.colors10;\n                    }\n                }\n            }\n            var AttributeCtor = getAttributeClass(attrType);\n            attributes[attrType] = new AttributeCtor(attrCfg);\n        });\n    };\n    // 处理数据：分组 -> 数字化 -> adjust 调整\n    Geometry.prototype.processData = function (data) {\n        var _this = this;\n        var groupedArray = this.groupData(data); // 数据分组\n        groupedArray = map(groupedArray, function (subData) {\n            var tempData = _this.saveOrigin(subData); // 存储原始数据\n            _this.numeric(tempData); // 将分类数据转换成数字\n            return tempData;\n        });\n        var dataArray = this.adjustData(groupedArray); // 进行 adjust 数据调整\n        this.beforeMappingData = dataArray;\n        return dataArray;\n    };\n    // 调整数据\n    Geometry.prototype.adjustData = function (dataArray) {\n        var _this = this;\n        var adjustOption = this.adjustOption;\n        var result = dataArray;\n        if (adjustOption) {\n            var xScale_1 = this.getXScale();\n            var yScale_1 = this.getYScale();\n            var xField_1 = xScale_1.field;\n            var yField_1 = yScale_1 ? yScale_1.field : null;\n            adjustOption.forEach(function (adjust) {\n                var adjustCfg = __assign({ xField: xField_1,\n                    yField: yField_1 }, adjust);\n                var type = adjust.type;\n                if (type === 'dodge') {\n                    var adjustNames = [];\n                    if (xScale_1.isCategory || xScale_1.type === 'identity') {\n                        adjustNames.push('x');\n                    }\n                    else if (!yScale_1) {\n                        adjustNames.push('y');\n                    }\n                    else {\n                        throw new Error('dodge is not support linear attribute, please use category attribute!');\n                    }\n                    adjustCfg.adjustNames = adjustNames;\n                    // 每个分组内每条柱子的宽度占比，用户不可指定，用户需要通过 columnWidthRatio 指定\n                    adjustCfg.dodgeRatio = _this.theme.columnWidthRatio;\n                }\n                else if (type === 'stack') {\n                    var coordinate = _this.coordinate;\n                    if (!yScale_1) {\n                        // 一维的情况下获取高度和默认size\n                        adjustCfg.height = coordinate.getHeight();\n                        var size = _this.getDefaultValue('size') || 3;\n                        adjustCfg.size = size;\n                    }\n                    // 不进行 transpose 时，用户又没有设置这个参数时，默认从上向下\n                    if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n                        adjustCfg.reverseOrder = true;\n                    }\n                }\n                var adjustCtor = getAdjustClass(type);\n                var adjustInstance = new adjustCtor(adjustCfg);\n                result = adjustInstance.process(result);\n                _this.adjusts[type] = adjustInstance;\n            });\n        }\n        return result;\n    };\n    // 对数据进行分组\n    Geometry.prototype.groupData = function (data) {\n        var groupScales = this.getGroupScales();\n        var scaleDefs = this.scaleDefs;\n        var appendConditions = {};\n        var groupFields = [];\n        for (var _i = 0, groupScales_1 = groupScales; _i < groupScales_1.length; _i++) {\n            var scale = groupScales_1[_i];\n            var field = scale.field;\n            groupFields.push(field);\n            if (get(scaleDefs, [field, 'values'])) {\n                // 用户通过 view.scale() 接口指定了 values 属性\n                appendConditions[field] = scaleDefs[field].values;\n            }\n        }\n        return group(data, groupFields, appendConditions);\n    };\n    // 数据调整前保存原始数据\n    Geometry.prototype.saveOrigin = function (data) {\n        return map(data, function (originData) {\n            var _a;\n            return __assign(__assign({}, originData), (_a = {}, _a[FIELD_ORIGIN] = originData, _a));\n        });\n    };\n    // 将分类数据翻译成数据, 仅对位置相关的度量进行数字化处理\n    Geometry.prototype.numeric = function (data) {\n        var positionAttr = this.getAttribute('position');\n        var scales = positionAttr.scales;\n        for (var j = 0, len = data.length; j < len; j += 1) {\n            var obj = data[j];\n            for (var i = 0; i < Math.min(2, scales.length); i += 1) {\n                var scale = scales[i];\n                if (scale.isCategory) {\n                    var field = scale.field;\n                    obj[field] = scale.translate(obj[field]);\n                }\n            }\n        }\n    };\n    // 更新发生层叠后的数据对应的度量范围\n    Geometry.prototype.updateStackRange = function (scale, dataArray) {\n        var mergeArray = flatten(dataArray);\n        var field = scale.field;\n        var min = scale.min;\n        var max = scale.max;\n        for (var _i = 0, mergeArray_1 = mergeArray; _i < mergeArray_1.length; _i++) {\n            var obj = mergeArray_1[_i];\n            var tmpMin = Math.min.apply(null, obj[field]);\n            var tmpMax = Math.max.apply(null, obj[field]);\n            if (tmpMin < min) {\n                min = tmpMin;\n            }\n            if (tmpMax > max) {\n                max = tmpMax;\n            }\n        }\n        var scaleDefs = this.scaleDefs;\n        var cfg = {};\n        if ((min < scale.min) && !get(scaleDefs, [field, 'min'])) {\n            // 用户如果在列定义中定义了 min，则以用户定义的为准\n            cfg.min = min;\n        }\n        if ((max > scale.max) && !get(scaleDefs, [field, 'max'])) {\n            // 用户如果在列定义中定义了 max\n            cfg.max = max;\n        }\n        scale.change(cfg);\n    };\n    // 将数据映射至图形空间前的操作：排序以及关键点的生成\n    Geometry.prototype.beforeMapping = function (beforeMappingData) {\n        var _this = this;\n        // 当初加 clone 是因为 points 的引用关系，导致更新失败，可是现在貌似复现不出来了，所以暂时不进行 clone\n        // const source = clone(beforeMappingData);\n        var source = beforeMappingData;\n        if (this.sortable) {\n            var xScale_2 = this.getXScale();\n            var field_1 = xScale_2.field;\n            each(source, function (data) {\n                data.sort(function (v1, v2) {\n                    return xScale_2.translate(v1[field_1]) - xScale_2.translate(v2[field_1]);\n                });\n            });\n        }\n        if (this.generatePoints) {\n            // 需要生成关键点\n            each(source, function (data) {\n                _this.generateShapePoints(data);\n            });\n            source.reduce(function (preData, currentData) {\n                preData[0].nextPoints = currentData[0].points;\n                return currentData;\n            }, source[0]);\n        }\n        return source;\n    };\n    // 映射完毕后，对最后的结果集进行排序，方便后续 tooltip 的数据查找\n    Geometry.prototype.afterMapping = function (mappingArray) {\n        if (!this.sortable) {\n            this.sort(mappingArray);\n        }\n        this.dataArray = mappingArray;\n    };\n    // 生成 shape 的关键点\n    Geometry.prototype.generateShapePoints = function (data) {\n        var shapeFactory = this.getShapeFactory();\n        var shapeAttr = this.getAttribute('shape');\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var obj = data_1[_i];\n            var cfg = this.createShapePointsCfg(obj);\n            var shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n            var points = shapeFactory.getShapePoints(shape, cfg);\n            obj.points = points;\n        }\n    };\n    // 将数据归一化\n    Geometry.prototype.normalizeValues = function (values, scale) {\n        var rst = [];\n        if (isArray(values)) {\n            rst = values.map(function (v) { return scale.scale(v); });\n        }\n        else {\n            rst = scale.scale(values);\n        }\n        return rst;\n    };\n    // 将数据映射至图形空间\n    Geometry.prototype.mapping = function (data) {\n        var attributes = this.attributes;\n        var mappingData = [];\n        for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {\n            var record = data_2[_i];\n            var newRecord = {\n                _origin: record[FIELD_ORIGIN],\n                points: record.points,\n                nextPoints: record.nextPoints,\n            };\n            for (var k in attributes) {\n                if (attributes.hasOwnProperty(k)) {\n                    var attr = attributes[k];\n                    var names = attr.names;\n                    var values = this.getAttributeValues(attr, record);\n                    if (names.length > 1) {\n                        // position 之类的生成多个字段的属性\n                        for (var j = 0; j < values.length; j += 1) {\n                            var val = values[j];\n                            var name_1 = names[j];\n                            newRecord[name_1] = isArray(val) && val.length === 1 ? val[0] : val; // 只有一个值时返回第一个属性值\n                        }\n                    }\n                    else {\n                        // values.length === 1 的判断是以下情况，获取用户设置的图形属性值\n                        // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n                        newRecord[names[0]] = values.length === 1 ? values[0] : values;\n                    }\n                }\n            }\n            this.convertPoint(newRecord); // 将 x、y 转换成画布坐标\n            mappingData.push(newRecord);\n        }\n        return mappingData;\n    };\n    // 将归一化的坐标值转换成画布坐标\n    Geometry.prototype.convertPoint = function (mappingRecord) {\n        var x = mappingRecord.x, y = mappingRecord.y;\n        if (isNil(x) || isNil(y)) {\n            return;\n        }\n        var rstX;\n        var rstY;\n        var obj;\n        var coordinate = this.coordinate;\n        if (isArray(y) && isArray(x)) {\n            rstX = [];\n            rstY = [];\n            for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n                obj = coordinate.convert({\n                    x: x[i],\n                    y: y[j],\n                });\n                rstX.push(obj.x);\n                rstY.push(obj.y);\n            }\n        }\n        else if (isArray(y)) {\n            rstY = [];\n            y.forEach(function (yVal) {\n                obj = coordinate.convert({\n                    x: x,\n                    y: yVal,\n                });\n                if (rstX && rstX !== obj.x) {\n                    if (!isArray(rstX)) {\n                        rstX = [rstX];\n                    }\n                    rstX.push(obj.x);\n                }\n                else {\n                    rstX = obj.x;\n                }\n                rstY.push(obj.y);\n            });\n        }\n        else if (isArray(x)) {\n            rstX = [];\n            x.forEach(function (xVal) {\n                obj = coordinate.convert({\n                    x: xVal,\n                    y: y,\n                });\n                if (rstY && rstY !== obj.y) {\n                    if (!isArray(rstY)) {\n                        rstY = [rstY];\n                    }\n                    rstY.push(obj.y);\n                }\n                else {\n                    rstY = obj.y;\n                }\n                rstX.push(obj.x);\n            });\n        }\n        else {\n            var point = coordinate.convert({\n                x: x,\n                y: y,\n            });\n            rstX = point.x;\n            rstY = point.y;\n        }\n        mappingRecord.x = rstX;\n        mappingRecord.y = rstY;\n    };\n    // 对数据进行排序\n    Geometry.prototype.sort = function (mappingArray) {\n        var xScale = this.getXScale();\n        var xField = xScale.field;\n        each(mappingArray, function (itemArr) {\n            itemArr.sort(function (obj1, obj2) {\n                return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n            });\n        });\n    };\n    // 获取 style 配置\n    Geometry.prototype.getStyleCfg = function (styleOption, originData) {\n        var _a = styleOption.fields, fields = _a === void 0 ? [] : _a, callback = styleOption.callback, cfg = styleOption.cfg;\n        if (cfg) {\n            // 用户直接配置样式属性\n            return cfg;\n        }\n        var params = fields.map(function (field) {\n            return originData[field];\n        });\n        return callback.apply(void 0, params);\n    };\n    Geometry.prototype.setCfg = function (cfg) {\n        var coordinate = cfg.coordinate, data = cfg.data, theme = cfg.theme, scaleDefs = cfg.scaleDefs;\n        if (coordinate) {\n            this.coordinate = coordinate;\n        }\n        if (data) {\n            this.data = data;\n        }\n        if (scaleDefs) {\n            this.scaleDefs = scaleDefs;\n        }\n        if (theme) {\n            this.theme = theme;\n        }\n    };\n    Geometry.prototype.renderLabels = function (mappingArray, isUpdate) {\n        var _this = this;\n        if (isUpdate === void 0) { isUpdate = false; }\n        var _a = this, labelOption = _a.labelOption, animateOption = _a.animateOption, coordinate = _a.coordinate;\n        var labelType = this.getLabelType();\n        var GeometryLabelsCtor = getGeometryLabel(labelType);\n        var geometryLabels = new GeometryLabelsCtor(this);\n        var labelItems = geometryLabels.getLabelItems(mappingArray);\n        var labelsRenderer = this.labelsRenderer;\n        if (!labelsRenderer) {\n            labelsRenderer = new Labels({\n                container: this.labelsContainer,\n                layout: get(labelOption, ['cfg', 'layout']),\n            });\n            this.labelsRenderer = labelsRenderer;\n        }\n        labelsRenderer.region = this.canvasRegion;\n        var shapes = {};\n        each(this.elementsMap, function (element, id) {\n            shapes[id] = element.shape;\n        });\n        // 因为有可能 shape 还在进行动画，导致 shape.getBBox() 获取到的值不是最终态，所以需要从 offscreenGroup 获取\n        each(this.offscreenGroup.getChildren(), function (child) {\n            var id = _this.getElementId(child.get('origin').mappingData);\n            shapes[id] = child;\n        });\n        // 设置动画配置，如果 geometry 的动画关闭了，那么 label 的动画也会关闭\n        labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n        // 渲染文本\n        labelsRenderer.render(labelItems, shapes, isUpdate);\n        var labelsMap = this.labelsRenderer.shapesMap;\n        each(this.elementsMap, function (element, id) {\n            var labels = filterLabelsById(id, labelsMap); // element 实例同 label 进行绑定\n            element.labelShape = labels;\n            if (labels.length) {\n                each(labels, function (label) {\n                    var children = label.getChildren();\n                    each(children, function (child) {\n                        child.set('element', element);\n                    });\n                });\n            }\n        });\n    };\n    /**\n     * 是否需要进行群组入场动画\n     * 规则：\n     * 1. 如果发生更新，则不进行\n     * 2. 如果用户关闭 geometry 动画，则不进行\n     * 3. 如果用户关闭了 appear 动画，则不进行\n     * 4. 如果用户配置了 appear.animation，则不进行\n     */\n    Geometry.prototype.canDoGroupAnimation = function (isUpdate) {\n        return (!isUpdate &&\n            this.animateOption &&\n            (get(this.animateOption, 'appear') === undefined ||\n                (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined)));\n    };\n    return Geometry;\n}(Base));\nexport default Geometry;\n//# sourceMappingURL=base.js.map","import { each, groupToMap } from '@antv/util';\n/** @ignore */\nexport function group(data, fields, appendConditions) {\n    if (appendConditions === void 0) { appendConditions = {}; }\n    if (!fields) {\n        return [data];\n    }\n    var groups = groupToMap(data, fields);\n    var array = [];\n    if (fields.length === 1 && appendConditions[fields[0]]) {\n        var values = appendConditions[fields[0]];\n        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n            var value = values_1[_i];\n            var arr = groups[\"_\" + value];\n            if (arr) { // 可能存在用户设置 values ，但是数据中没有对应的字段，则这时候 arr 就为 null\n                array.push(arr);\n            }\n        }\n    }\n    else {\n        each(groups, function (eachGroup) {\n            array.push(eachGroup);\n        });\n    }\n    return array;\n}\n//# sourceMappingURL=group-data.js.map","import { __assign } from \"tslib\";\nimport { deepMix, each, get, isArray, isFunction, isNil, isNumber, isUndefined } from '@antv/util';\nimport { FIELD_ORIGIN } from '../../constant';\nimport { getPolygonCentroid } from '../../util/graphics';\nfunction avg(arr) {\n    var sum = 0;\n    each(arr, function (value) {\n        sum += value;\n    });\n    return sum / arr.length;\n}\n/**\n * Geometry Label 基类，用于解析 Geometry 下所有 label 的配置项信息\n */\nvar GeometryLabel = /** @class */ (function () {\n    function GeometryLabel(geometry) {\n        this.geometry = geometry;\n        this.coordinate = geometry.coordinate;\n        this.defaultLabelCfg = get(geometry.theme, 'labels', {}); // 默认样式\n    }\n    /**\n     * 根据当前 shape 对应的映射数据获取对应的 label 配置信息。\n     * @param mapppingArray 映射后的绘制数据\n     * @returns\n     */\n    GeometryLabel.prototype.getLabelItems = function (mapppingArray) {\n        var items = this.adjustItems(this.getItems(mapppingArray));\n        this.drawLines(items);\n        return items;\n    };\n    /**\n     * 设置 label 位置\n     * @param labelPointCfg\n     * @param mappingData\n     * @param index\n     * @param position\n     */\n    GeometryLabel.prototype.setLabelPosition = function (labelPointCfg, mappingData, index, position) { };\n    /**\n     * 生成文本线配置\n     * @param item\n     */\n    GeometryLabel.prototype.lineToLabel = function (item) { };\n    /**\n     * 调整 labels\n     * @param items\n     * @returns\n     */\n    GeometryLabel.prototype.adjustItems = function (items) {\n        each(items, function (item) {\n            if (!item) {\n                return;\n            }\n            if (item.offsetX) {\n                item.x += item.offsetX;\n            }\n            if (item.offsetY) {\n                item.y += item.offsetY;\n            }\n        });\n        return items;\n    };\n    /**\n     * 绘制文本线\n     * @param items\n     */\n    GeometryLabel.prototype.drawLines = function (items) {\n        var _this = this;\n        each(items, function (item) {\n            if (!item) {\n                return;\n            }\n            if (item.offset <= 0) {\n                // 内部文本不绘制 labelLine\n                item.labelLine = null;\n            }\n            if (item.labelLine) {\n                _this.lineToLabel(item);\n            }\n        });\n    };\n    /**\n     * 获取文本默认偏移量\n     * @param offset\n     * @returns\n     */\n    GeometryLabel.prototype.getDefaultOffset = function (offset) {\n        var coordinate = this.coordinate;\n        var vector = this.getOffsetVector(offset);\n        return coordinate.isTransposed ? vector[0] : vector[1];\n    };\n    /**\n     * 获取每个 label 的偏移量\n     * @param labelCfg\n     * @param index\n     * @param total\n     * @returns\n     */\n    GeometryLabel.prototype.getLabelOffset = function (labelCfg, index, total) {\n        var offset = this.getDefaultOffset(labelCfg.offset);\n        var coordinate = this.coordinate;\n        var transposed = coordinate.isTransposed;\n        var dim = transposed ? 'x' : 'y';\n        var factor = transposed ? 1 : -1; // y 方向上越大，像素的坐标越小，所以transposed时将系数变成\n        var offsetPoint = {\n            x: 0,\n            y: 0,\n        };\n        if (index > 0 || total === 1) {\n            // 判断是否小于0\n            offsetPoint[dim] = offset * factor;\n        }\n        else {\n            offsetPoint[dim] = offset * factor * -1;\n        }\n        return offsetPoint;\n    };\n    /**\n     * 获取每个 label 的位置\n     * @param labelCfg\n     * @param mappingData\n     * @param index\n     * @returns label point\n     */\n    GeometryLabel.prototype.getLabelPoint = function (labelCfg, mappingData, index) {\n        var coordinate = this.coordinate;\n        var total = labelCfg.content.length;\n        function getDimValue(value, idx) {\n            var v = value;\n            if (isArray(v)) {\n                if (labelCfg.content.length === 1) {\n                    // 如果仅一个 label，多个 y, 取最后一个 y\n                    if (v.length <= 2) {\n                        v = v[value.length - 1];\n                    }\n                    else {\n                        v = avg(v);\n                    }\n                }\n                else {\n                    v = v[idx];\n                }\n            }\n            return v;\n        }\n        var label = {\n            content: labelCfg.content[index],\n            x: 0,\n            y: 0,\n            start: { x: 0, y: 0 },\n            color: '#fff',\n        };\n        // 多边形场景，多用于地图\n        if (mappingData && this.geometry.type === 'polygon') {\n            var centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n            label.x = centroid[0];\n            label.y = centroid[1];\n        }\n        else {\n            label.x = getDimValue(mappingData.x, index);\n            label.y = getDimValue(mappingData.y, index);\n        }\n        // get nearest point of the shape as the label line start point\n        if (mappingData &&\n            mappingData.nextPoints &&\n            ['funnel', 'pyramid'].includes(isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape)) {\n            var maxX_1 = -Infinity;\n            mappingData.nextPoints.forEach(function (p) {\n                var p1 = coordinate.convert(p);\n                if (p1.x > maxX_1) {\n                    maxX_1 = p1.x;\n                }\n            });\n            label.x = (label.x + maxX_1) / 2;\n        }\n        // sharp edge of the pyramid\n        if (mappingData.shape === 'pyramid' && !mappingData.nextPoints && mappingData.points) {\n            mappingData.points.forEach(function (p) {\n                var p1 = p;\n                p1 = coordinate.convert(p1);\n                if ((isArray(p1.x) && mappingData.x.indexOf(p1.x) === -1) ||\n                    (isNumber(p1.x) && mappingData.x !== p1.x)) {\n                    label.x = (label.x + p1.x) / 2;\n                }\n            });\n        }\n        if (labelCfg.position) {\n            this.setLabelPosition(label, mappingData, index, labelCfg.position);\n        }\n        var offsetPoint = this.getLabelOffset(labelCfg, index, total);\n        label.start = { x: label.x, y: label.y };\n        label.x += offsetPoint.x;\n        label.y += offsetPoint.y;\n        label.color = mappingData.color;\n        return label;\n    };\n    /**\n     * 获取文本的对齐方式\n     * @param item\n     * @param index\n     * @param total\n     * @returns\n     */\n    GeometryLabel.prototype.getLabelAlign = function (item, index, total) {\n        var align = 'center';\n        var coordinate = this.coordinate;\n        if (coordinate.isTransposed) {\n            var offset = this.getDefaultOffset(item.offset);\n            if (offset < 0) {\n                align = 'right';\n            }\n            else if (offset === 0) {\n                align = 'center';\n            }\n            else {\n                align = 'left';\n            }\n            if (total > 1 && index === 0) {\n                if (align === 'right') {\n                    align = 'left';\n                }\n                else if (align === 'left') {\n                    align = 'right';\n                }\n            }\n        }\n        return align;\n    };\n    GeometryLabel.prototype.getItems = function (mapppingArray) {\n        var _this = this;\n        var items = [];\n        var labelCfgs = this.getLabelCfgs(mapppingArray);\n        // 获取 label 相关的 x，y 的值，获取具体的 x, y，防止存在数组\n        each(mapppingArray, function (mappingData, index) {\n            var labelCfg = labelCfgs[index];\n            if (!labelCfg) {\n                items.push(null);\n                return;\n            }\n            var labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n            labelCfg.content = labelContent;\n            var total = labelContent.length;\n            each(labelContent, function (content, subIndex) {\n                if (isNil(content) || content === '') {\n                    items.push(null);\n                    return;\n                }\n                var item = __assign(__assign({}, labelCfg), _this.getLabelPoint(labelCfg, mappingData, subIndex));\n                if (!item.textAlign) {\n                    item.textAlign = _this.getLabelAlign(item, subIndex, total);\n                }\n                items.push(item);\n            });\n        });\n        return items;\n    };\n    GeometryLabel.prototype.getLabelCfgs = function (mapppingArray) {\n        var _this = this;\n        var geometry = this.geometry;\n        var defaultLabelCfg = this.defaultLabelCfg;\n        var type = geometry.type, theme = geometry.theme, labelOption = geometry.labelOption, scales = geometry.scales, coordinate = geometry.coordinate;\n        var _a = labelOption, fields = _a.fields, callback = _a.callback, cfg = _a.cfg;\n        var labelScales = fields.map(function (field) {\n            return scales[field];\n        });\n        var xScale = geometry.getXScale();\n        var yScale = geometry.getYScale();\n        var labelCfgs = [];\n        each(mapppingArray, function (mappingData, index) {\n            var origin = mappingData[FIELD_ORIGIN]; // 原始数据\n            var originText = _this.getLabelText(origin, labelScales);\n            var callbackCfg;\n            if (callback) {\n                // 当同时配置了 callback 和 cfg 时，以 callback 为准\n                var originValues = fields.map(function (field) { return origin[field]; });\n                callbackCfg = callback.apply(void 0, originValues);\n                if (isNil(callbackCfg)) {\n                    labelCfgs.push(null);\n                    return;\n                }\n            }\n            var labelId = geometry.getElementId(mappingData);\n            if (type === 'line' || type === 'area') {\n                // 折线图以及区域图，一条线会对应一组数据，即多个 labels，为了区分这些 labels，需要在 line id 的前提下加上 x 字段值\n                labelId += \" \" + origin[xScale.field];\n            }\n            else if (type === 'path') {\n                // path 路径图，无序，有可能存在相同 x 不同 y 的情况，需要通过 x y 来确定唯一 id\n                labelId += \" \" + origin[xScale.field] + \"-\" + origin[yScale.field];\n            }\n            var labelCfg = __assign(__assign({ id: labelId, data: origin, // 存储原始数据\n                mappingData: mappingData,\n                coordinate: coordinate }, cfg), callbackCfg);\n            var content = labelCfg.content;\n            if (isFunction(content)) {\n                labelCfg.content = content(origin, mappingData, index);\n            }\n            else if (isUndefined(content)) {\n                // 用户未配置 content，则默认为映射的第一个字段的值\n                labelCfg.content = originText[0];\n            }\n            if (isFunction(labelCfg.position)) {\n                labelCfg.position = labelCfg.position(origin, mappingData, index);\n            }\n            if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n                // polygon 或者 offset 小于 0 时，文本展示在图形内部，将其颜色设置为 白色\n                labelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n            }\n            else {\n                labelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n            }\n            labelCfgs.push(labelCfg);\n        });\n        return labelCfgs;\n    };\n    GeometryLabel.prototype.getLabelText = function (origin, scales) {\n        var labelTexts = [];\n        each(scales, function (scale) {\n            var value = origin[scale.field];\n            if (isArray(value)) {\n                value = value.map(function (subVal) {\n                    return scale.getText(subVal);\n                });\n            }\n            else {\n                value = scale.getText(value);\n            }\n            if (isNil(value) || value === '') {\n                labelTexts.push(null);\n            }\n            else {\n                labelTexts.push(value);\n            }\n        });\n        return labelTexts;\n    };\n    GeometryLabel.prototype.getOffsetVector = function (offset) {\n        if (offset === void 0) { offset = 0; }\n        var coordinate = this.coordinate;\n        // 如果 x,y 翻转，则偏移 x，否则偏移 y\n        return coordinate.isTransposed ? coordinate.applyMatrix(offset, 0) : coordinate.applyMatrix(0, offset);\n    };\n    return GeometryLabel;\n}());\nexport default GeometryLabel;\n//# sourceMappingURL=base.js.map","/* G2 的一个壳子，不包含 Geometry，由开发者自己定义和引入 */\nexport var VERSION = '4.0.2';\n// 核心基类导出\nexport { Chart, View, Event } from './chart'; // Chart, View 类\nexport { Controller as ComponentController } from './chart/controller/base'; // G2 组件基类\nexport { default as Geometry } from './geometry/base'; // Geometry 基类\nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label 基类\nexport { Interaction } from './interaction'; // Interaction 基类\nexport { Facet } from './facet'; // Facet 基类\nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action 基类\n// 注册 ComponentController\nexport { registerComponentController } from './chart';\n// 注册 Geometry\nexport { registerGeometry } from './chart';\n// 注册 Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n// 注册 Geometry label 以及 Geometry Label 布局函数\nexport { registerGeometryLabel, registerGeometryLabelLayout, getGeometryLabel, getGeometryLabelLayout, } from './geometry/label';\n// 注册 interaction\nexport { getInteraction, registerInteraction, registerAction } from './interaction';\n// 注册 facet\nexport { getFacet, registerFacet } from './facet';\n// 注册主题\nexport { getTheme, registerTheme, getStyleSheet, registerStyleSheet } from './theme';\n// G engine 管理相关\nexport { registerEngine, getEngine } from './engine';\n// 注册动画函数\nexport { registerAnimation, getAnimation } from './animate/animation';\nexport { LAYER, DIRECTION } from './constant';\n//# sourceMappingURL=core.js.map","var WHITE_COLORS = {\n    100: '#000',\n    95: '#0D0D0D',\n    85: '#262626',\n    65: '#595959',\n    45: '#8C8C8C',\n    25: '#BFBFBF',\n    15: '#D9D9D9',\n    6: '#F0F0F0',\n};\nvar BLACK_COLORS = {\n    100: '#FFFFFF',\n    95: '#F2F2F2',\n    85: '#D9D9D9',\n    65: '#A6A6A6',\n    45: '#737373',\n    25: '#404040',\n    15: '#262626',\n    6: '#0F0F0F',\n};\nvar QUALITATIVE_10 = [\n    '#5B8FF9',\n    '#5AD8A6',\n    '#5D7092',\n    '#F6BD16',\n    '#E86452',\n    '#6DC8EC',\n    '#945FB9',\n    '#FF9845',\n    '#1E9493',\n    '#FF99C3',\n];\nvar QUALITATIVE_20 = [\n    '#5B8FF9',\n    '#CDDDFD',\n    '#5AD8A6',\n    '#CDF3E4',\n    '#5D7092',\n    '#CED4DE',\n    '#F6BD16',\n    '#FCEBB9',\n    '#E86452',\n    '#F8D0CB',\n    '#6DC8EC',\n    '#D3EEF9',\n    '#945FB9',\n    '#DECFEA',\n    '#FF9845',\n    '#FFE0C7',\n    '#1E9493',\n    '#BBDEDE',\n    '#FF99C3',\n    '#FFE0ED',\n];\nexport var antvDark = {\n    /** 主题色 */\n    brandColor: QUALITATIVE_10[0],\n    /** 分类色板 1，在数据量小于等于 10 时使用 */\n    paletteQualitative10: QUALITATIVE_10,\n    /** 分类色板 2，在数据量大于 10 时使用 */\n    paletteQualitative20: QUALITATIVE_20,\n    /** 语义色 */\n    paletteSemanticRed: '#F4664A',\n    /** 语义色 */\n    paletteSemanticGreen: '#30BF78',\n    /** 语义色 */\n    paletteSemanticYellow: '#FAAD14',\n    /** 字体 */\n    fontFamily: \"\\\"-apple-system\\\", \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial,\\n  \\\"Noto Sans\\\", sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\",\\n  \\\"Noto Color Emoji\\\"\",\n    // -------------------- 坐标轴 --------------------\n    /** 坐标轴线颜色 */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴线粗细 */\n    axisLineBorder: 0.5,\n    /** 坐标轴线 lineDash 设置 */\n    axisLineDash: null,\n    /** 坐标轴标题颜色 */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /** 坐标轴标题文本字体大小 */\n    axisTitleTextFontSize: 12,\n    /** 坐标轴标题文本行高 */\n    axisTitleTextLineHeight: 12,\n    /** 坐标轴标题文本字体粗细 */\n    axisTitleTextFontWeight: 'normal',\n    /** 坐标轴刻度线颜色 */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴刻度线长度 */\n    axisTickLineLength: 4,\n    /** 坐标轴刻度线粗细 */\n    axisTickLineBorder: 0.5,\n    /** 坐标轴次刻度线颜色 */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /** 坐标轴次刻度线长度 */\n    axisSubTickLineLength: 2,\n    /** 坐标轴次刻度线粗细 */\n    axisSubTickLineBorder: 0.5,\n    /** 坐标轴刻度文本颜色 */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /** 坐标轴刻度文本字体大小 */\n    axisLabelFontSize: 12,\n    /** 坐标轴刻度文本行高 */\n    axisLabelLineHeight: 12,\n    /** 坐标轴刻度文本字体粗细 */\n    axisLabelFontWeight: 'normal',\n    /** 坐标轴网格线颜色 */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /** 坐标轴网格线粗细 */\n    axisGridBorder: 0.5,\n    /** 坐标轴网格线虚线设置 */\n    axisGridLineDash: null,\n    // -------------------- 图例 --------------------\n    /** 图例标题颜色 */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /** 图例标题文本字体大小 */\n    legendTitleTextFontSize: 12,\n    /** 图例标题文本行高 */\n    legendTitleTextLineHeight: 21,\n    /** 图例标题文本字体粗细 */\n    legendTitleTextFontWeight: 'normal',\n    /** 图例 marker 颜色 */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /** 图例 marker 默认半径大小 */\n    legendMarkerSize: 4,\n    /** 图例 'circle' marker 半径 */\n    legendCircleMarkerSize: 4,\n    /** 图例 'square' marker 半径 */\n    legendSquareMarkerSize: 4,\n    /** 图例 'line' marker 半径 */\n    legendLineMarkerSize: 5,\n    /** 图例项文本颜色 */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /** 图例项文本字体大小 */\n    legendItemNameFontSize: 12,\n    /** 图例项文本行高 */\n    legendItemNameLineHeight: 12,\n    /** 图例项粗细 */\n    legendItemNameFontWeight: 'normal',\n    /** 连续图例滑块填充色 */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /** 连续图例滑块边框粗细 */\n    sliderRailBorder: 0,\n    /** 连续图例滑块边框颜色 */\n    sliderRailBorderColor: null,\n    /** 连续图例滑块宽度 */\n    sliderRailWidth: 100,\n    /** 连续图例滑块高度 */\n    sliderRailHeight: 12,\n    /** 连续图例文本颜色 */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /** 连续图例文本字体大小 */\n    sliderLabelTextFontSize: 12,\n    /** 连续图例文本行高 */\n    sliderLabelTextLineHeight: 12,\n    /** 连续图例文本字体粗细 */\n    sliderLabelTextFontWeight: 'normal',\n    /** 连续图例滑块颜色 */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /** 连续图例滑块宽度 */\n    sliderHandlerWidth: 10,\n    /** 连续图例滑块高度 */\n    sliderHandlerHeight: 14,\n    /** 连续图例滑块边框粗细 */\n    sliderHandlerBorder: 1,\n    /** 连续图例滑块边框颜色 */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n    // -------------------- Annotation，图形标注 --------------------\n    /** arc 图形标注描边颜色 */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc 图形标注粗细 */\n    annotationArcBorder: 0.5,\n    /** line 图形标注颜色 */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line 图形标注粗细 */\n    annotationLineBorder: 0.5,\n    /** lube 图形标注的虚线间隔 */\n    annotationLineDash: null,\n    /** text 图形标注文本颜色 */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text 图形标注文本字体大小 */\n    annotationTextFontSize: 12,\n    /** text 图形标注文本行高 */\n    annotationTextLineHeight: 12,\n    /** text 图形标注文本字体粗细 */\n    annotationTextFontWeight: 'normal',\n    /** text 图形标注文本边框颜色 */\n    annotationTextBorderColor: WHITE_COLORS[95],\n    /** text 图形标注文本边框粗细 */\n    annotationTextBorder: 1.5,\n    /** region 图形标注填充颜色 */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region 图形标注填充颜色透明色 */\n    annotationRegionFillOpacity: 0.06,\n    /** region 图形标注描边粗细 */\n    annotationRegionBorder: 0,\n    /** region 图形标注描边颜色 */\n    annotationRegionBorderColor: null,\n    /** dataMarker 图形标注线的长度 */\n    annotationDataMarkerLineLength: 16,\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs 辅助线颜色 */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs 辅助线粗细 */\n    tooltipCrosshairsBorder: 0.5,\n    /** tooltip crosshairs 辅助线虚线间隔 */\n    tooltipCrosshairsLineDash: null,\n    /** tooltip 内容框背景色 */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip 内容框阴影 */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip 内容框圆角 */\n    tooltipContainerBorderRadius: 3,\n    /** tooltip 文本颜色 */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip 文本字体大小 */\n    tooltipTextFontSize: 12,\n    /** tooltip 文本行高 */\n    tooltipTextLineHeight: 12,\n    /** tooltip 文本字体粗细 */\n    tooltipTextFontWeight: 'bold',\n    // -------------------- Geometry labels --------------------\n    /** Geometry label 文本颜色 */\n    labelFillColor: BLACK_COLORS[65],\n    /** Geometry label 文本字体大小 */\n    labelFontSize: 12,\n    /** Geometry label 文本行高 */\n    labelLineHeight: 12,\n    /** Geometry label 文本字体粗细 */\n    labelFontWeight: 'normal',\n    /** Geometry label 文本描边颜色 */\n    labelBorderColor: WHITE_COLORS[100],\n    /** Geometry label 文本描边粗细 */\n    labelBorder: 2,\n    /** Geometry innerLabel 文本颜色 */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel 文本字体大小 */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel 文本行高 */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel 文本字体粗细 */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel 文本描边颜色 */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel 文本描边粗细 */\n    innerLabelBorder: 0,\n    /** Geometry label　文本连接线粗细 */\n    labelLineBorder: 0.5,\n    /** Geometry label 文本连接线颜色 */\n    labelLineBorderColor: BLACK_COLORS[25],\n    // -------------------- Geometry 图形样式--------------------\n    /** 点图填充颜色 */\n    pointFillColor: QUALITATIVE_10[0],\n    /** 点图填充颜色透明度 */\n    pointFillOpacity: 0.95,\n    /** 点图大小 */\n    pointSize: 4,\n    /** 点图描边粗细 */\n    pointBorder: 1,\n    /** 点图描边颜色 */\n    pointBorderColor: WHITE_COLORS[100],\n    /** 点图描边透明度 */\n    pointBorderOpacity: 1,\n    /** 点图 active 状态下描边颜色 */\n    pointActiveBorderColor: BLACK_COLORS[100],\n    /** 点图 selected 状态下描边粗细 */\n    pointSelectedBorder: 2,\n    /** 点图 selected 状态下描边颜色 */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n    /** 点图 inactive 状态下填充颜色透明度 */\n    pointInactiveFillOpacity: 0.3,\n    /** 点图 inactive 状态下描边透明度 */\n    pointInactiveBorderOpacity: 0.3,\n    /** 空心点图大小 */\n    hollowPointSize: 4,\n    /** 空心点图描边粗细 */\n    hollowPointBorder: 1,\n    /** 空心点图描边颜色 */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /** 空心点图描边透明度 */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n    /** 空心点图 active 状态下描边粗细 */\n    hollowPointActiveBorder: 1,\n    /** 空心点图 active 状态下描边颜色 */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /** 空心点图 active 状态下描边透明度 */\n    hollowPointActiveBorderOpacity: 1,\n    /** 空心点图 selected 状态下描边粗细 */\n    hollowPointSelectedBorder: 2,\n    /** 空心点图 selected 状态下描边颜色 */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /** 空心点图 selected 状态下描边透明度 */\n    hollowPointSelectedBorderOpacity: 1,\n    /** 空心点图 inactive 状态下描边透明度 */\n    hollowPointInactiveBorderOpacity: 0.3,\n    /** 线图粗细 */\n    lineBorder: 2,\n    /** 线图颜色 */\n    lineBorderColor: QUALITATIVE_10[0],\n    /** 线图透明度 */\n    lineBorderOpacity: 1,\n    /** 线图 Active 状态下粗细 */\n    lineActiveBorder: 3,\n    /** 线图 selected 状态下粗细 */\n    lineSelectedBorder: 3,\n    /** 线图 inactive 状态下透明度 */\n    lineInactiveBorderOpacity: 0.3,\n    /** area 填充颜色 */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area 填充透明度 */\n    areaFillOpacity: 0.25,\n    /** area 在 active 状态下的填充透明度 */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n    /** area 在 selected 状态下的填充透明度 */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n    /** area inactive 状态下填充透明度 */\n    areaInactiveFillOpacity: 0.3,\n    /** hollowArea 颜色 */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea 边框粗细 */\n    hollowAreaBorder: 2,\n    /** hollowArea 边框透明度 */\n    hollowAreaBorderOpacity: 1,\n    /** hollowArea active 状态下的边框粗细 */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n    /** hollowArea selected 状态下的边框粗细 */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowArea inactive 状态下的边框透明度 */\n    hollowAreaInactiveBorderOpacity: 0.3,\n    /** interval 填充颜色 */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval 填充透明度 */\n    intervalFillOpacity: 0.95,\n    /** interval active 状态下边框粗细 */\n    intervalActiveBorder: 1,\n    /** interval active 状态下边框颜色 */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n    /** interval selected 状态下边框粗细 */\n    intervalSelectedBorder: 2,\n    /** interval selected 状态下边框颜色 */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected 状态下边框透明度 */\n    intervalSelectedBorderOpacity: 1,\n    /** interval inactive 状态下边框透明度 */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive 状态下填充透明度 */\n    intervalInactiveFillOpacity: 0.3,\n    /** interval 边框粗细 */\n    hollowIntervalBorder: 2,\n    /** hollowInterval 边框颜色 */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval 边框透明度 */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n    /** hollowInterval active 状态下边框粗细 */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active 状态下边框颜色 */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框粗细 */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected 状态下边框颜色 */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框透明度 */\n    hollowIntervalSelectedBorderOpacity: 1,\n    /** hollowInterval inactive 状态下边框透明度 */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n};\n//# sourceMappingURL=dark.js.map","import { isString, each, isArray } from './util';\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;\nvar regexDot = /[^\\s\\,]+/gi;\nvar regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nvar regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\nfunction addStop(steps, gradient) {\n    var arr = steps.match(regexColorStop);\n    each(arr, function (item) {\n        var itemArr = item.split(':');\n        gradient.addColorStop(itemArr[0], itemArr[1]);\n    });\n}\n/**\n * 将边和填充设置的颜色转换成线性渐变对象\n * @param {CanvasRenderingContext2D} context canvas 上下文\n * @param {IElement}                 element  图形元素\n * @param {string}                   gradientStr   颜色\n * @returns {any} 渐变对象\n */\nexport function parseLineGradient(context, element, gradientStr) {\n    var arr = regexLG.exec(gradientStr);\n    var angle = (parseFloat(arr[1]) % 360) * (Math.PI / 180);\n    var steps = arr[2];\n    var box = element.getBBox();\n    var start;\n    var end;\n    if (angle >= 0 && angle < (1 / 2) * Math.PI) {\n        start = {\n            x: box.minX,\n            y: box.minY,\n        };\n        end = {\n            x: box.maxX,\n            y: box.maxY,\n        };\n    }\n    else if ((1 / 2) * Math.PI <= angle && angle < Math.PI) {\n        start = {\n            x: box.maxX,\n            y: box.minY,\n        };\n        end = {\n            x: box.minX,\n            y: box.maxY,\n        };\n    }\n    else if (Math.PI <= angle && angle < (3 / 2) * Math.PI) {\n        start = {\n            x: box.maxX,\n            y: box.maxY,\n        };\n        end = {\n            x: box.minX,\n            y: box.minY,\n        };\n    }\n    else {\n        start = {\n            x: box.minX,\n            y: box.maxY,\n        };\n        end = {\n            x: box.maxX,\n            y: box.minY,\n        };\n    }\n    var tanTheta = Math.tan(angle);\n    var tanTheta2 = tanTheta * tanTheta;\n    var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n    var y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n    var gradient = context.createLinearGradient(start.x, start.y, x, y);\n    addStop(steps, gradient);\n    return gradient;\n}\n/**\n * 将边和填充设置的颜色转换成圆形渐变对象\n * @param {CanvasRenderingContext2D} context canvas 上下文\n * @param {IElement}                 element  图形元素\n * @param {string}                   gradientStr   颜色\n * @returns {any} 渐变对象\n */\nexport function parseRadialGradient(context, element, gradientStr) {\n    var arr = regexRG.exec(gradientStr);\n    var fx = parseFloat(arr[1]);\n    var fy = parseFloat(arr[2]);\n    var fr = parseFloat(arr[3]);\n    var steps = arr[4];\n    // 环半径为0时，默认无渐变，取渐变序列的最后一个颜色\n    if (fr === 0) {\n        var colors = steps.match(regexColorStop);\n        return colors[colors.length - 1].split(':')[1];\n    }\n    var box = element.getBBox();\n    var width = box.maxX - box.minX;\n    var height = box.maxY - box.minY;\n    var r = Math.sqrt(width * width + height * height) / 2;\n    var gradient = context.createRadialGradient(box.minX + width * fx, box.minY + height * fy, 0, box.minX + width / 2, box.minY + height / 2, fr * r);\n    addStop(steps, gradient);\n    return gradient;\n}\n/**\n * 边和填充设置的颜色转换成 pattern\n * @param {CanvasRenderingContext2D} context canvas 上下文\n * @param {IElement}                 element  图形元素\n * @param {string}                   patternStr   生成 pattern 的字符串\n */\nexport function parsePattern(context, element, patternStr) {\n    // 在转换过程中进行了缓存\n    if (element.get('patternSource') && element.get('patternSource') === patternStr) {\n        return element.get('pattern');\n    }\n    var pattern;\n    var img;\n    var arr = regexPR.exec(patternStr);\n    var repeat = arr[1];\n    var source = arr[2];\n    // Function to be called when pattern loads\n    function onload() {\n        // Create pattern\n        pattern = context.createPattern(img, repeat);\n        element.set('pattern', pattern); // be a cache\n        element.set('patternSource', patternStr);\n    }\n    switch (repeat) {\n        case 'a':\n            repeat = 'repeat';\n            break;\n        case 'x':\n            repeat = 'repeat-x';\n            break;\n        case 'y':\n            repeat = 'repeat-y';\n            break;\n        case 'n':\n            repeat = 'no-repeat';\n            break;\n        default:\n            repeat = 'no-repeat';\n    }\n    img = new Image();\n    // If source URL is not a data URL\n    if (!source.match(/^data:/i)) {\n        // Set crossOrigin for this image\n        img.crossOrigin = 'Anonymous';\n    }\n    img.src = source;\n    if (img.complete) {\n        onload();\n    }\n    else {\n        img.onload = onload;\n        // Fix onload() bug in IE9\n        img.src = img.src;\n    }\n    return pattern;\n}\nexport function parseStyle(context, element, color) {\n    if (isString(color)) {\n        if (color[1] === '(' || color[2] === '(') {\n            if (color[0] === 'l') {\n                // regexLG.test(color)\n                return parseLineGradient(context, element, color);\n            }\n            if (color[0] === 'r') {\n                // regexRG.test(color)\n                return parseRadialGradient(context, element, color);\n            }\n            if (color[0] === 'p') {\n                // regexPR.test(color)\n                return parsePattern(context, element, color);\n            }\n        }\n        return color;\n    }\n}\nexport function parseRadius(radius) {\n    var r1 = 0;\n    var r2 = 0;\n    var r3 = 0;\n    var r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return [r1, r2, r3, r4];\n}\n//# sourceMappingURL=parse.js.map","import { mod, toRadian, isSamePoint } from './util';\n// 向量长度\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|，计算夹角的余弦值\nfunction vRatio(u, v) {\n    // 当存在一个向量的长度为 0 时，夹角也为 0，即夹角的余弦值为 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// 向量角度\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nexport default function getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = mod(toRadian(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // 弧形起点坐标\n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // 弧形终点坐标\n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    // 旋转前的起点坐标，且当长半轴和短半轴的长度为 0 时，坐标按 (0, 0) 处理\n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // 椭圆圆心坐标\n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // 起始点的单位向量\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // 终止点的单位向量\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    // 计算起始点和圆心的连线，与 x 轴正方向的夹角\n    var theta = vAngle([1, 0], u);\n    // 计算圆弧起始点和终止点与椭圆圆心连线的夹角\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        // 弧形的起点和终点相同时，长轴和短轴的长度按 0 处理\n        rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\n//# sourceMappingURL=arc-params.js.map","import { __assign, __rest } from \"tslib\";\nimport { Path } from '../shape';\nvar sin = Math.sin;\nvar cos = Math.cos;\nfunction _addDefaultArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n    var stroke = attrs.stroke, lineWidth = attrs.lineWidth;\n    var x = x1 - x2;\n    var y = y1 - y2;\n    var rad = Math.atan2(y, x);\n    var arrowShape = new Path({\n        type: 'path',\n        canvas: shape.get('canvas'),\n        isArrowShape: true,\n        attrs: {\n            // 默认箭头的边长为 10，夹角为 60 度\n            path: \"M\" + 10 * Math.cos(Math.PI / 6) + \",\" + 10 * Math.sin(Math.PI / 6) + \" L0,0 L\" + 10 * Math.cos(Math.PI / 6) + \",-\" + 10 *\n                Math.sin(Math.PI / 6),\n            // 使用 shape stroke 值\n            stroke: stroke,\n            lineWidth: lineWidth,\n        },\n    });\n    arrowShape.translate(x2, y2);\n    arrowShape.rotateAtPoint(x2, y2, rad);\n    shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n/**\n * 箭头 path 的设置要求\n * 1. 箭头顶点坐标需要为 (0, 0)\n * 2. 箭头夹角的中心分割线需要与 X 轴正方向对齐\n */\nfunction _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n    var startArrow = attrs.startArrow, endArrow = attrs.endArrow, stroke = attrs.stroke, lineWidth = attrs.lineWidth;\n    var arrowAttrs = isStart ? startArrow : endArrow;\n    var d = arrowAttrs.d, arrowFill = arrowAttrs.fill, arrowStroke = arrowAttrs.stroke, arrowLineWidth = arrowAttrs.lineWidth, restAttrs = __rest(arrowAttrs, [\"d\", \"fill\", \"stroke\", \"lineWidth\"]);\n    var x = x1 - x2;\n    var y = y1 - y2;\n    var rad = Math.atan2(y, x);\n    if (d) {\n        x2 = x2 - cos(rad) * d;\n        y2 = y2 - sin(rad) * d;\n    }\n    var arrowShape = new Path({\n        type: 'path',\n        canvas: shape.get('canvas'),\n        isArrowShape: true,\n        attrs: __assign(__assign({}, restAttrs), { \n            // 支持单独设置箭头的 stroke 和 lineWidth，若为空则使用 shape 的值\n            stroke: arrowStroke || stroke, lineWidth: arrowLineWidth || lineWidth, \n            // 箭头是否填充需要手动设置，不会继承自 shape 的值\n            fill: arrowFill }),\n    });\n    arrowShape.translate(x2, y2);\n    arrowShape.rotateAtPoint(x2, y2, rad);\n    shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n/**\n * 如果自定义箭头并且有 d 需要做偏移，如果直接画，线条会超出箭头尖端，因此需要根据箭头偏移 d, 返回线需要缩短的距离\n * |----------------\n * |<|--------------\n * |\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 箭头作用点 x\n * @param {number} y2 箭头作用点 y\n * @param {number} d  箭头沿线条方向的偏移距离\n * @return {{dx: number, dy: number}} 返回线条偏移距离\n */\nexport function getShortenOffset(x1, y1, x2, y2, d) {\n    var rad = Math.atan2(y2 - y1, x2 - x1);\n    return {\n        dx: cos(rad) * d,\n        dy: sin(rad) * d,\n    };\n}\n/**\n * 绘制起始箭头\n * @param {IShape} shape 图形\n * @param {ShapeAttrs} attrs shape 的绘图属性\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 箭头作用点 x\n * @param {number} y2 箭头作用点 y\n */\nexport function addStartArrow(shape, attrs, x1, y1, x2, y2) {\n    if (typeof attrs.startArrow === 'object') {\n        _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, true);\n    }\n    else if (attrs.startArrow) {\n        _addDefaultArrow(shape, attrs, x1, y1, x2, y2, true);\n    }\n    else {\n        shape.set('startArrowShape', null);\n    }\n}\n/**\n * 绘制结束箭头\n * @param {IShape} shape 图形\n * @param {ShapeAttrs} attrs shape 的绘图属性\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 箭头作用点 x\n * @param {number} y2 箭头作用点 y\n */\nexport function addEndArrow(shape, attrs, x1, y1, x2, y2) {\n    if (typeof attrs.endArrow === 'object') {\n        _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, false);\n    }\n    else if (attrs.endArrow) {\n        _addDefaultArrow(shape, attrs, x1, y1, x2, y2, false);\n    }\n    else {\n        shape.set('startArrowShape', null);\n    }\n}\n//# sourceMappingURL=arrow.js.map","import { setTransform, setClip } from './svg';\nimport { sortDom, moveTo } from './dom';\nexport function drawChildren(context, children) {\n    children.forEach(function (child) {\n        child.draw(context);\n    });\n}\n/**\n * 更新元素，包括 group 和 shape\n * @param {IElement} element       SVG 元素\n * @param {ChangeType} changeType  更新类型\n */\nexport function refreshElement(element, changeType) {\n    // 对于还没有挂载到画布下的元素，canvas 可能为空\n    var canvas = element.get('canvas');\n    // 只有挂载到画布下，才对元素进行实际渲染\n    if (canvas && canvas.get('autoDraw')) {\n        var context = canvas.get('context');\n        var parent_1 = element.getParent();\n        var parentChildren = parent_1 ? parent_1.getChildren() : [canvas];\n        var el = element.get('el');\n        if (changeType === 'remove') {\n            var isClipShape = element.get('isClipShape');\n            // 对于 clip，不仅需要将 clipShape 对于的 SVG 元素删除，还需要将上层的 clipPath 元素也删除\n            if (isClipShape) {\n                var clipPathEl = el && el.parentNode;\n                var defsEl = clipPathEl && clipPathEl.parentNode;\n                if (clipPathEl && defsEl) {\n                    defsEl.removeChild(clipPathEl);\n                }\n            }\n            else if (el && el.parentNode) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else if (changeType === 'show') {\n            el.setAttribute('visibility', 'visible');\n        }\n        else if (changeType === 'hide') {\n            el.setAttribute('visibility', 'hidden');\n        }\n        else if (changeType === 'zIndex') {\n            moveTo(el, parentChildren.indexOf(element));\n        }\n        else if (changeType === 'sort') {\n            var children_1 = element.get('children');\n            if (children_1 && children_1.length) {\n                sortDom(element, function (a, b) {\n                    return children_1.indexOf(a) - children_1.indexOf(b) ? 1 : 0;\n                });\n            }\n        }\n        else if (changeType === 'clear') {\n            // el maybe null for group\n            if (el) {\n                el.innerHTML = '';\n            }\n        }\n        else if (changeType === 'matrix') {\n            setTransform(element);\n        }\n        else if (changeType === 'clip') {\n            setClip(element, context);\n        }\n        else if (changeType === 'attr') {\n            // 已在 afterAttrsChange 进行了处理，此处 do nothing\n        }\n        else if (changeType === 'add') {\n            element.draw(context);\n        }\n    }\n}\n//# sourceMappingURL=draw.js.map","import { __assign, __extends } from \"tslib\";\nimport { AbstractShape } from '@antv/g-base';\nimport { setShadow, setTransform, setClip } from '../util/svg';\nimport { createDom } from '../util/dom';\nimport { refreshElement } from '../util/draw';\nimport { SVG_ATTR_MAP } from '../constant';\nimport * as Shape from './index';\nimport Group from '../group';\nimport { getBBoxMethod } from '@antv/g-base/lib/bbox/index';\nvar ShapeBase = /** @class */ (function (_super) {\n    __extends(ShapeBase, _super);\n    function ShapeBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'svg';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    ShapeBase.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        // 设置默认值\n        return __assign(__assign({}, attrs), { lineWidth: 1, lineAppendWidth: 0, strokeOpacity: 1, fillOpacity: 1 });\n    };\n    // 覆盖基类的 afterAttrsChange 方法\n    ShapeBase.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        var canvas = this.get('canvas');\n        // 只有挂载到画布下，才对元素进行实际渲染\n        if (canvas && canvas.get('autoDraw')) {\n            var context = canvas.get('context');\n            this.draw(context, targetAttrs);\n        }\n    };\n    ShapeBase.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    ShapeBase.prototype.getGroupBase = function () {\n        return Group;\n    };\n    /**\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    ShapeBase.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    ShapeBase.prototype.calculateBBox = function () {\n        var el = this.get('el');\n        var bbox = null;\n        // 包围盒计算依赖于绘制，如果还没有生成对应的 Dom 元素，则包围盒的长宽均为 0\n        if (el) {\n            bbox = el.getBBox();\n        }\n        else {\n            var bboxMethod = getBBoxMethod(this.get('type'));\n            if (bboxMethod) {\n                bbox = bboxMethod(this);\n            }\n        }\n        if (bbox) {\n            var x = bbox.x, y = bbox.y, width = bbox.width, height = bbox.height;\n            var lineWidth = this.getHitLineWidth();\n            var halfWidth = lineWidth / 2;\n            var minX = x - halfWidth;\n            var minY = y - halfWidth;\n            var maxX = x + width + halfWidth;\n            var maxY = y + height + halfWidth;\n            return {\n                x: minX,\n                y: minY,\n                minX: minX,\n                minY: minY,\n                maxX: maxX,\n                maxY: maxY,\n                width: width + lineWidth,\n                height: height + lineWidth,\n            };\n        }\n        return {\n            x: 0,\n            y: 0,\n            minX: 0,\n            minY: 0,\n            maxX: 0,\n            maxY: 0,\n            width: 0,\n            height: 0,\n        };\n    };\n    ShapeBase.prototype.isFill = function () {\n        var _a = this.attr(), fill = _a.fill, fillStyle = _a.fillStyle;\n        return (fill || fillStyle || this.isClipShape()) && this.canFill;\n    };\n    ShapeBase.prototype.isStroke = function () {\n        var _a = this.attr(), stroke = _a.stroke, strokeStyle = _a.strokeStyle;\n        return (stroke || strokeStyle) && this.canStroke;\n    };\n    ShapeBase.prototype.draw = function (context, targetAttrs) {\n        var el = this.get('el');\n        if (this.get('destroyed')) {\n            if (el) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else {\n            if (!el) {\n                createDom(this);\n            }\n            setClip(this, context);\n            this.createPath(context, targetAttrs);\n            this.shadow(context, targetAttrs);\n            this.strokeAndFill(context, targetAttrs);\n            this.transform(targetAttrs);\n        }\n    };\n    /**\n     * @protected\n     * 绘制图形的路径\n     * @param {Defs} context 上下文\n     * @param {ShapeAttrs} targetAttrs 渲染的目标属性\n     */\n    ShapeBase.prototype.createPath = function (context, targetAttrs) { };\n    // stroke and fill\n    ShapeBase.prototype.strokeAndFill = function (context, targetAttrs) {\n        var attrs = targetAttrs || this.attr();\n        var fill = attrs.fill, fillStyle = attrs.fillStyle, stroke = attrs.stroke, strokeStyle = attrs.strokeStyle, fillOpacity = attrs.fillOpacity, strokeOpacity = attrs.strokeOpacity, lineWidth = attrs.lineWidth;\n        var el = this.get('el');\n        if (this.canFill) {\n            // 初次渲染和更新渲染的逻辑有所不同: 初次渲染值为空时，需要设置为 none，否则就会是黑色，而更新渲染则不需要\n            if (!targetAttrs) {\n                this._setColor(context, 'fill', fill || fillStyle);\n            }\n            else if ('fill' in attrs) {\n                this._setColor(context, 'fill', fill);\n            }\n            else if ('fillStyle' in attrs) {\n                // compatible with fillStyle\n                this._setColor(context, 'fill', fillStyle);\n            }\n            if (fillOpacity) {\n                el.setAttribute(SVG_ATTR_MAP['fillOpacity'], fillOpacity);\n            }\n        }\n        if (this.canStroke && lineWidth > 0) {\n            if (!targetAttrs) {\n                this._setColor(context, 'stroke', stroke || strokeStyle);\n            }\n            else if ('stroke' in attrs) {\n                this._setColor(context, 'stroke', stroke);\n            }\n            else if ('strokeStyle' in attrs) {\n                // compatible with strokeStyle\n                this._setColor(context, 'stroke', strokeStyle);\n            }\n            if (strokeOpacity) {\n                el.setAttribute(SVG_ATTR_MAP['strokeOpacity'], strokeOpacity);\n            }\n            if (lineWidth) {\n                el.setAttribute(SVG_ATTR_MAP['lineWidth'], lineWidth);\n            }\n        }\n    };\n    ShapeBase.prototype._setColor = function (context, attr, value) {\n        var el = this.get('el');\n        if (!value) {\n            // need to set `none` to avoid default value\n            el.setAttribute(SVG_ATTR_MAP[attr], 'none');\n            return;\n        }\n        value = value.trim();\n        if (/^[r,R,L,l]{1}[\\s]*\\(/.test(value)) {\n            var id = context.find('gradient', value);\n            if (!id) {\n                id = context.addGradient(value);\n            }\n            el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n        }\n        else if (/^[p,P]{1}[\\s]*\\(/.test(value)) {\n            var id = context.find('pattern', value);\n            if (!id) {\n                id = context.addPattern(value);\n            }\n            el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n        }\n        else {\n            el.setAttribute(SVG_ATTR_MAP[attr], value);\n        }\n    };\n    ShapeBase.prototype.shadow = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var _a = targetAttrs || attrs, shadowOffsetX = _a.shadowOffsetX, shadowOffsetY = _a.shadowOffsetY, shadowBlur = _a.shadowBlur, shadowColor = _a.shadowColor;\n        if (shadowOffsetX || shadowOffsetY || shadowBlur || shadowColor) {\n            setShadow(this, context);\n        }\n    };\n    ShapeBase.prototype.transform = function (targetAttrs) {\n        var attrs = this.attr();\n        var matrix = (targetAttrs || attrs).matrix;\n        if (matrix) {\n            setTransform(this);\n        }\n    };\n    ShapeBase.prototype.isInShape = function (refX, refY) {\n        return this.isPointInPath(refX, refY);\n    };\n    ShapeBase.prototype.isPointInPath = function (refX, refY) {\n        var el = this.get('el');\n        var canvas = this.get('canvas');\n        var bbox = canvas.get('el').getBoundingClientRect();\n        var clientX = refX + bbox.left;\n        var clientY = refY + bbox.top;\n        var element = document.elementFromPoint(clientX, clientY);\n        if (element && element.isEqualNode(el)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * 获取线拾取的宽度\n     * @returns {number} 线的拾取宽度\n     */\n    ShapeBase.prototype.getHitLineWidth = function () {\n        var _a = this.attrs, lineWidth = _a.lineWidth, lineAppendWidth = _a.lineAppendWidth;\n        if (this.isStroke()) {\n            return lineWidth + lineAppendWidth;\n        }\n        return 0;\n    };\n    return ShapeBase;\n}(AbstractShape));\nexport default ShapeBase;\n//# sourceMappingURL=base.js.map","/**\n * @fileoverview circle\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'circle';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Circle.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, r: 0 });\n    };\n    Circle.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            // 圆和椭圆的点坐标属性不是 x, y，而是 cx, cy\n            if (attr === 'x' || attr === 'y') {\n                el.setAttribute(\"c\" + attr, value);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    return Circle;\n}(ShapeBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","/**\n * @fileoverview ellipse\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Ellipse = /** @class */ (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'ellipse';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Ellipse.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, rx: 0, ry: 0 });\n    };\n    Ellipse.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            // 圆和椭圆的点坐标属性不是 x, y，而是 cx, cy\n            if (attr === 'x' || attr === 'y') {\n                el.setAttribute(\"c\" + attr, value);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    return Ellipse;\n}(ShapeBase));\nexport default Ellipse;\n//# sourceMappingURL=ellipse.js.map","/**\n * @fileoverview image\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each, isString } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Image = /** @class */ (function (_super) {\n    __extends(Image, _super);\n    function Image() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'image';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    Image.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0 });\n    };\n    Image.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'img') {\n                _this._setImage(attrs.img);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    Image.prototype.setAttr = function (name, value) {\n        this.attrs[name] = value;\n        if (name === 'img') {\n            this._setImage(value);\n        }\n    };\n    Image.prototype._setImage = function (img) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        if (isString(img)) {\n            el.setAttribute('href', img);\n        }\n        else if (img instanceof window.Image) {\n            if (!attrs.width) {\n                el.setAttribute('width', img.width);\n                this.attr('width', img.width);\n            }\n            if (!attrs.height) {\n                el.setAttribute('height', img.height);\n                this.attr('height', img.height);\n            }\n            el.setAttribute('href', img.src);\n        }\n        else if (img instanceof HTMLElement && isString(img.nodeName) && img.nodeName.toUpperCase() === 'CANVAS') {\n            // @ts-ignore\n            el.setAttribute('href', img.toDataURL());\n        }\n        else if (img instanceof ImageData) {\n            var canvas = document.createElement('canvas');\n            canvas.setAttribute('width', \"\" + img.width);\n            canvas.setAttribute('height', \"\" + img.height);\n            canvas.getContext('2d').putImageData(img, 0, 0);\n            if (!attrs.width) {\n                el.setAttribute('width', \"\" + img.width);\n                this.attr('width', img.width);\n            }\n            if (!attrs.height) {\n                el.setAttribute('height', \"\" + img.height);\n                this.attr('height', img.height);\n            }\n            el.setAttribute('href', canvas.toDataURL());\n        }\n    };\n    return Image;\n}(ShapeBase));\nexport default Image;\n//# sourceMappingURL=image.js.map","import LineUtil from '@antv/g-math/lib/line';\nexport default function inLine(x1, y1, x2, y2, lineWidth, x, y) {\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var halfWidth = lineWidth / 2;\n    // 因为目前的方案是计算点到直线的距离，而有可能会在延长线上，所以要先判断是否在包围盒内\n    // 这种方案会在水平或者竖直的情况下载线的延长线上有半 lineWidth 的误差\n    if (!(x >= minX - halfWidth && x <= maxX + halfWidth && y >= minY - halfWidth && y <= maxY + halfWidth)) {\n        return false;\n    }\n    // 因为已经计算了包围盒，所以仅需要计算到直线的距离即可，可以显著提升性能\n    return LineUtil.pointToLine(x1, y1, x2, y2, x, y) <= lineWidth / 2;\n}\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\n/**\n * @fileoverview line\n * @author dengfuping_develop@163.com\n */\nimport LineUtil from '@antv/g-math/lib/line';\nimport { each, isObject } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'line';\n        _this.canFill = false;\n        _this.canStroke = true;\n        return _this;\n    }\n    Line.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x1: 0, y1: 0, x2: 0, y2: 0, startArrow: false, endArrow: false });\n    };\n    Line.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'startArrow' || attr === 'endArrow') {\n                if (value) {\n                    var id = isObject(value)\n                        ? context.addArrow(attrs, SVG_ATTR_MAP[attr])\n                        : context.getDefaultArrow(attrs, SVG_ATTR_MAP[attr]);\n                    el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n                }\n                else {\n                    el.removeAttribute(SVG_ATTR_MAP[attr]);\n                }\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    /**\n     * Use math calculation to get length of line\n     * @return {number} length\n     */\n    Line.prototype.getTotalLength = function () {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.length(x1, y1, x2, y2);\n    };\n    /**\n     * Use math calculation to get point according to ratio as same sa Canvas version\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Line.prototype.getPoint = function (ratio) {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.pointAt(x1, y1, x2, y2, ratio);\n    };\n    return Line;\n}(ShapeBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","/**\n * @fileoverview Marker\n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport { isNil } from '@antv/util';\nimport path2Absolute from '@antv/path-util/lib/path-2-absolute';\nimport ShapeBase from './base';\nimport { isFunction } from '../util/util';\nimport { drawPath } from '../util/draw';\nvar Symbols = {\n    // 圆\n    circle: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['A', r, r, 0, 1, 0, x + r, y],\n            ['A', r, r, 0, 1, 0, x - r, y],\n        ];\n    },\n    // 正方形\n    square: function (x, y, r) {\n        return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n    },\n    // 菱形\n    diamond: function (x, y, r) {\n        return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n    },\n    // 三角形\n    triangle: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['Z']];\n    },\n    // 倒三角形\n    'triangle-down': function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n    },\n};\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Marker.prototype.initAttrs = function (attrs) {\n        this._resetParamsCache();\n    };\n    // 重置绘制 path 存储的缓存\n    Marker.prototype._resetParamsCache = function () {\n        // 为了加速 path 的绘制、拾取和计算，这个地方可以缓存很多东西\n        // 这些缓存都是第一次需要时计算和存储，虽然增加了复杂度，但是频繁调用的方法，性能有很大提升\n        this.set('paramsCache', {}); // 清理缓存\n    };\n    // 更新属性时，检测是否更改了 path\n    Marker.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (['symbol', 'x', 'y', 'r', 'radius'].indexOf(name) !== -1) {\n            // path 相关属性更改时，清理缓存\n            this._resetParamsCache();\n        }\n    };\n    // 仅仅使用包围盒检测来进行拾取\n    // 所以不需要复写 isInStrokeOrPath 的方法\n    Marker.prototype.isOnlyHitBox = function () {\n        return true;\n    };\n    Marker.prototype._getR = function (attrs) {\n        // 兼容 r 和 radius 两种写法，推荐使用 r\n        return isNil(attrs.r) ? attrs.radius : attrs.r;\n    };\n    Marker.prototype._getPath = function () {\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y;\n        var symbol = attrs.symbol || 'circle';\n        var r = this._getR(attrs);\n        var method;\n        var path;\n        if (isFunction(symbol)) {\n            method = symbol;\n            path = method(x, y, r);\n            // 将 path 转成绝对路径\n            path = path2Absolute(path);\n        }\n        else {\n            // 内置 symbol 的 path 都是绝对路径，直接绘制即可，不需要对 path 进行特殊处理\n            method = Marker.Symbols[symbol];\n            path = method(x, y, r);\n        }\n        if (!method) {\n            console.warn(symbol + \" marker is not supported.\");\n            return null;\n        }\n        return path;\n    };\n    Marker.prototype.createPath = function (context) {\n        var path = this._getPath();\n        var paramsCache = this.get('paramsCache');\n        drawPath(this, context, { path: path }, paramsCache);\n    };\n    Marker.Symbols = Symbols;\n    return Marker;\n}(ShapeBase));\nexport default Marker;\n//# sourceMappingURL=marker.js.map","import { getOffScreenContext } from '../util';\nexport default function isPointInPath(shape, x, y) {\n    var ctx = getOffScreenContext();\n    shape.createPath(ctx);\n    return ctx.isPointInPath(x, y);\n}\n//# sourceMappingURL=point-in-path.js.map","/**\n * @fileoverview 判断点是否在多边形内\n * @author dxq613@gmail.com\n */\n// 多边形的射线检测，参考：https://blog.csdn.net/WilliamSun0122/article/details/77994526\nvar tolerance = 1e-6;\n// 三态函数，判断两个double在eps精度下的大小关系\nfunction dcmp(x) {\n    if (Math.abs(x) < tolerance) {\n        return 0;\n    }\n    return x < 0 ? -1 : 1;\n}\n// 判断点Q是否在p1和p2的线段上\nfunction onSegment(p1, p2, q) {\n    if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) &&\n        Math.min(p1[0], p2[0]) <= q[0] &&\n        q[0] <= Math.max(p1[0], p2[0]) &&\n        Math.min(p1[1], p2[1]) <= q[1] &&\n        q[1] <= Math.max(p1[1], p2[1])) {\n        return true;\n    }\n    return false;\n}\n// 判断点P在多边形内-射线法\nexport default function isInPolygon(points, x, y) {\n    var isHit = false;\n    var n = points.length;\n    if (n <= 2) {\n        // svg 中点小于 3 个时，不显示，也无法被拾取\n        return false;\n    }\n    for (var i = 0; i < n; i++) {\n        var p1 = points[i];\n        var p2 = points[(i + 1) % n];\n        if (onSegment(p1, p2, [x, y])) {\n            // 点在多边形一条边上\n            return true;\n        }\n        // 前一个判断min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n        // 后一个判断被测点 在 射线与边交点 的左边\n        if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 &&\n            dcmp(x - ((y - p1[1]) * (p1[0] - p2[0])) / (p1[1] - p2[1]) - p1[0]) < 0) {\n            isHit = !isHit;\n        }\n    }\n    return isHit;\n}\n//# sourceMappingURL=polygon.js.map","import { distance } from '../util';\nexport default function arc(cx, cy, r, startAngle, endAngle, lineWidth, x, y) {\n    var angle = (Math.atan2(y - cy, x - cx) + Math.PI * 2) % (Math.PI * 2); // 转换到 0 - 2 * Math.PI 之间\n    if (angle < startAngle || angle > endAngle) {\n        return false;\n    }\n    var point = {\n        x: cx + r * Math.cos(angle),\n        y: cy + r * Math.sin(angle),\n    };\n    return distance(point.x, point.y, x, y) <= lineWidth / 2;\n}\n//# sourceMappingURL=arc.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, isArray, isObject } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'path';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Path.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    Path.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'path' && isArray(value)) {\n                el.setAttribute('d', _this._formatPath(value));\n            }\n            else if (attr === 'startArrow' || attr === 'endArrow') {\n                if (value) {\n                    var id = isObject(value)\n                        ? context.addArrow(attrs, SVG_ATTR_MAP[attr])\n                        : context.getDefaultArrow(attrs, SVG_ATTR_MAP[attr]);\n                    el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n                }\n                else {\n                    el.removeAttribute(SVG_ATTR_MAP[attr]);\n                }\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    Path.prototype._formatPath = function (value) {\n        var newValue = value\n            .map(function (path) {\n            return path.join(' ');\n        })\n            .join('');\n        if (~newValue.indexOf('NaN')) {\n            return '';\n        }\n        return newValue;\n    };\n    /**\n     * Get total length of path\n     * 尽管通过浏览器的 SVGPathElement.getTotalLength() 接口获取的 path 长度，\n     * 与 Canvas 版本通过数学计算的方式得到的长度有一些细微差异，但最大误差在个位数像素，精度上可以能接受\n     * @return {number} length\n     */\n    Path.prototype.getTotalLength = function () {\n        var el = this.get('el');\n        return el ? el.getTotalLength() : null;\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Path.prototype.getPoint = function (ratio) {\n        var el = this.get('el');\n        var totalLength = this.getTotalLength();\n        var point = el ? el.getPointAtLength(ratio * totalLength) : null;\n        return point\n            ? {\n                x: point.x,\n                y: point.y,\n            }\n            : null;\n    };\n    return Path;\n}(ShapeBase));\nexport default Path;\n//# sourceMappingURL=path.js.map","import inLine from './line';\nexport default function inPolyline(points, lineWidth, x, y, isClose) {\n    var count = points.length;\n    if (count < 2) {\n        return false;\n    }\n    for (var i = 0; i < count - 1; i++) {\n        var x1 = points[i][0];\n        var y1 = points[i][1];\n        var x2 = points[i + 1][0];\n        var y2 = points[i + 1][1];\n        if (inLine(x1, y1, x2, y2, lineWidth, x, y)) {\n            return true;\n        }\n    }\n    // 如果封闭，则计算起始点和结束点的边\n    if (isClose) {\n        var first = points[0];\n        var last = points[count - 1];\n        if (inLine(first[0], first[1], last[0], last[1], lineWidth, x, y)) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=polyline.js.map","import { __extends } from \"tslib\";\n/**\n * @fileoverview polygon\n * @author dengfuping_develop@163.com\n */\nimport { each, isArray } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'polygon';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Polygon.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'points' && isArray(value) && value.length >= 2) {\n                el.setAttribute('points', value.map(function (point) { return point[0] + \",\" + point[1]; }).join(' '));\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    return Polygon;\n}(ShapeBase));\nexport default Polygon;\n//# sourceMappingURL=polygon.js.map","import { __assign, __extends } from \"tslib\";\nimport LineUtil from '@antv/g-math/lib/line';\nimport PolylineUtil from '@antv/g-math/lib/polyline';\nimport { each, isArray, isNil } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Polyline = /** @class */ (function (_super) {\n    __extends(Polyline, _super);\n    function Polyline() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'polyline';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Polyline.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    // 更新属性时，检测是否更改了 points\n    Polyline.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (['points'].indexOf(name) !== -1) {\n            this._resetCache();\n        }\n    };\n    Polyline.prototype._resetCache = function () {\n        this.set('totalLength', null);\n        this.set('tCache', null);\n    };\n    Polyline.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'points' && isArray(value) && value.length >= 2) {\n                el.setAttribute('points', value.map(function (point) { return point[0] + \",\" + point[1]; }).join(' '));\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    /**\n     * Get length of polyline\n     * @return {number} length\n     */\n    Polyline.prototype.getTotalLength = function () {\n        var points = this.attr().points;\n        // get totalLength from cache\n        var totalLength = this.get('totalLength');\n        if (!isNil(totalLength)) {\n            return totalLength;\n        }\n        this.set('totalLength', PolylineUtil.length(points));\n        return this.get('totalLength');\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Polyline.prototype.getPoint = function (ratio) {\n        var points = this.attr().points;\n        // get tCache from cache\n        var tCache = this.get('tCache');\n        if (!tCache) {\n            this._setTcache();\n            tCache = this.get('tCache');\n        }\n        var subt;\n        var index;\n        each(tCache, function (v, i) {\n            if (ratio >= v[0] && ratio <= v[1]) {\n                subt = (ratio - v[0]) / (v[1] - v[0]);\n                index = i;\n            }\n        });\n        return LineUtil.pointAt(points[index][0], points[index][1], points[index + 1][0], points[index + 1][1], subt);\n    };\n    Polyline.prototype._setTcache = function () {\n        var points = this.attr().points;\n        if (!points || points.length === 0) {\n            return;\n        }\n        var totalLength = this.getTotalLength();\n        if (totalLength <= 0) {\n            return;\n        }\n        var tempLength = 0;\n        var tCache = [];\n        var segmentT;\n        var segmentL;\n        each(points, function (p, i) {\n            if (points[i + 1]) {\n                segmentT = [];\n                segmentT[0] = tempLength / totalLength;\n                segmentL = LineUtil.length(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n                tempLength += segmentL;\n                segmentT[1] = tempLength / totalLength;\n                tCache.push(segmentT);\n            }\n        });\n        this.set('tCache', tCache);\n    };\n    /**\n     * Get start tangent vector\n     * @return {Array}\n     */\n    Polyline.prototype.getStartTangent = function () {\n        var points = this.attr().points;\n        var result = [];\n        result.push([points[1][0], points[1][1]]);\n        result.push([points[0][0], points[0][1]]);\n        return result;\n    };\n    /**\n     * Get end tangent vector\n     * @return {Array}\n     */\n    Polyline.prototype.getEndTangent = function () {\n        var points = this.attr().points;\n        var l = points.length - 1;\n        var result = [];\n        result.push([points[l - 1][0], points[l - 1][1]]);\n        result.push([points[l][0], points[l][1]]);\n        return result;\n    };\n    return Polyline;\n}(ShapeBase));\nexport default Polyline;\n//# sourceMappingURL=polyline.js.map","/**\n * @fileoverview rect\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each, isArray } from '@antv/util';\nimport ShapeBase from './base';\nimport { SVG_ATTR_MAP } from '../constant';\nimport { parseRadius } from '../util/format';\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'rect';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Rect.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0, radius: 0 });\n    };\n    Rect.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        // 加上状态量，用来标记 path 是否已组装\n        var completed = false;\n        // 和组装 path 相关的绘图属性\n        var pathRelatedAttrs = ['x', 'y', 'width', 'height', 'radius'];\n        each(targetAttrs || attrs, function (value, attr) {\n            if (pathRelatedAttrs.indexOf(attr) !== -1 && !completed) {\n                el.setAttribute('d', _this._assembleRect(attrs));\n                completed = true;\n            }\n            else if (pathRelatedAttrs.indexOf(attr) === -1 && SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    Rect.prototype._assembleRect = function (attrs) {\n        var x = attrs.x;\n        var y = attrs.y;\n        var w = attrs.width;\n        var h = attrs.height;\n        var radius = attrs.radius;\n        if (!radius) {\n            return \"M \" + x + \",\" + y + \" l \" + w + \",0 l 0,\" + h + \" l\" + -w + \" 0 z\";\n        }\n        var r = parseRadius(radius);\n        if (isArray(radius)) {\n            if (radius.length === 1) {\n                r.r1 = r.r2 = r.r3 = r.r4 = radius[0];\n            }\n            else if (radius.length === 2) {\n                r.r1 = r.r3 = radius[0];\n                r.r2 = r.r4 = radius[1];\n            }\n            else if (radius.length === 3) {\n                r.r1 = radius[0];\n                r.r2 = r.r4 = radius[1];\n                r.r3 = radius[2];\n            }\n            else {\n                r.r1 = radius[0];\n                r.r2 = radius[1];\n                r.r3 = radius[2];\n                r.r4 = radius[3];\n            }\n        }\n        else {\n            r.r1 = r.r2 = r.r3 = r.r4 = radius;\n        }\n        var d = [\n            [\"M \" + (x + r.r1) + \",\" + y],\n            [\"l \" + (w - r.r1 - r.r2) + \",0\"],\n            [\"a \" + r.r2 + \",\" + r.r2 + \",0,0,1,\" + r.r2 + \",\" + r.r2],\n            [\"l 0,\" + (h - r.r2 - r.r3)],\n            [\"a \" + r.r3 + \",\" + r.r3 + \",0,0,1,\" + -r.r3 + \",\" + r.r3],\n            [\"l \" + (r.r3 + r.r4 - w) + \",0\"],\n            [\"a \" + r.r4 + \",\" + r.r4 + \",0,0,1,\" + -r.r4 + \",\" + -r.r4],\n            [\"l 0,\" + (r.r4 + r.r1 - h)],\n            [\"a \" + r.r1 + \",\" + r.r1 + \",0,0,1,\" + r.r1 + \",\" + -r.r1],\n            ['z'],\n        ];\n        return d.join(' ');\n    };\n    return Rect;\n}(ShapeBase));\nexport default Rect;\n//# sourceMappingURL=rect.js.map","import inLine from './line';\nimport inArc from './arc';\nexport default function rectWithRadius(minX, minY, width, height, radius, lineWidth, x, y) {\n    var halfWidth = lineWidth / 2;\n    return (inLine(minX + radius, minY, minX + width - radius, minY, lineWidth, x, y) ||\n        inLine(minX + width, minY + radius, minX + width, minY + height - radius, lineWidth, x, y) ||\n        inLine(minX + width - radius, minY + height, minX + radius, minY + height, lineWidth, x, y) ||\n        inLine(minX, minY + height - radius, minX, minY + radius, lineWidth, x, y) ||\n        inArc(minX + width - radius, minY + radius, radius, 1.5 * Math.PI, 2 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + width - radius, minY + height - radius, radius, 0, 0.5 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + radius, minY + height - radius, radius, 0.5 * Math.PI, Math.PI, lineWidth, x, y) ||\n        inArc(minX + radius, minY + radius, radius, Math.PI, 1.5 * Math.PI, lineWidth, x, y));\n}\n//# sourceMappingURL=rect-radius.js.map","import { inBox } from '../util';\nexport default function inRect(minX, minY, width, height, lineWidth, x, y) {\n    var halfWidth = lineWidth / 2;\n    // 将四个边看做矩形来检测，比边的检测算法要快\n    return (inBox(minX - halfWidth, minY - halfWidth, width, lineWidth, x, y) || // 上边\n        inBox(minX + width - halfWidth, minY - halfWidth, lineWidth, height, x, y) || // 右边\n        inBox(minX + halfWidth, minY + height - halfWidth, width, lineWidth, x, y) || // 下边\n        inBox(minX - halfWidth, minY + halfWidth, lineWidth, height, x, y)); // 左边\n}\n//# sourceMappingURL=rect.js.map","/**\n * @fileoverview text\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { detect } from 'detect-browser';\nimport { setTransform } from '../util/svg';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar LETTER_SPACING = 0.3;\nvar BASELINE_MAP = {\n    top: 'before-edge',\n    middle: 'central',\n    bottom: 'after-edge',\n    alphabetic: 'baseline',\n    hanging: 'hanging',\n};\n// for FireFox\nvar BASELINE_MAP_FOR_FIREFOX = {\n    top: 'text-before-edge',\n    middle: 'central',\n    bottom: 'text-after-edge',\n    alphabetic: 'alphabetic',\n    hanging: 'hanging',\n};\nvar ANCHOR_MAP = {\n    left: 'left',\n    start: 'left',\n    center: 'middle',\n    right: 'end',\n    end: 'end',\n};\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'text';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Text.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, text: null, fontSize: 12, fontFamily: 'sans-serif', fontStyle: 'normal', fontWeight: 'normal', fontVariant: 'normal', textAlign: 'start', textBaseline: 'bottom' });\n    };\n    Text.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        this._setFont();\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'text') {\n                _this._setText(\"\" + value);\n            }\n            else if (attr === 'matrix' && value) {\n                setTransform(_this);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n        el.setAttribute('paint-order', 'stroke');\n        el.setAttribute('style', 'stroke-linecap:butt; stroke-linejoin:miter;');\n    };\n    Text.prototype._setFont = function () {\n        var el = this.get('el');\n        var _a = this.attr(), fontSize = _a.fontSize, textBaseline = _a.textBaseline, textAlign = _a.textAlign;\n        var browser = detect();\n        if (browser && browser.name === 'firefox') {\n            // compatible with FireFox browser, ref: https://github.com/antvis/g/issues/119\n            el.setAttribute('dominant-baseline', BASELINE_MAP_FOR_FIREFOX[textBaseline] || 'alphabetic');\n        }\n        else {\n            el.setAttribute('alignment-baseline', BASELINE_MAP[textBaseline] || 'baseline');\n        }\n        el.setAttribute('text-anchor', ANCHOR_MAP[textAlign] || 'left');\n        if (fontSize && +fontSize < 12) {\n            // 小于 12 像素的文本进行 scale 处理\n            this.attr('matrix', [1, 0, 0, 0, 1, 0, 0, 0, 1]);\n            this.transform();\n        }\n    };\n    Text.prototype._setText = function (text) {\n        var el = this.get('el');\n        var _a = this.attr(), x = _a.x, _b = _a.textBaseline, baseline = _b === void 0 ? 'bottom' : _b;\n        if (!text) {\n            el.innerHTML = '';\n        }\n        else if (~text.indexOf('\\n')) {\n            var textArr = text.split('\\n');\n            var textLen_1 = textArr.length - 1;\n            var arr_1 = '';\n            each(textArr, function (segment, i) {\n                if (i === 0) {\n                    if (baseline === 'alphabetic') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"\" + -textLen_1 + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'top') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"0.9em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'middle') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"\" + -(textLen_1 - 1) / 2 + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'bottom') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"-\" + (textLen_1 + LETTER_SPACING) + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'hanging') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"\" + (-(textLen_1 - 1) - LETTER_SPACING) + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                }\n                else {\n                    arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"1em\\\">\" + segment + \"</tspan>\";\n                }\n            });\n            el.innerHTML = arr_1;\n        }\n        else {\n            el.innerHTML = text;\n        }\n    };\n    return Text;\n}(ShapeBase));\nexport default Text;\n//# sourceMappingURL=text.js.map","import { __assign, __extends } from \"tslib\";\nimport { AbstractCanvas } from '@antv/g-base';\nimport { SHAPE_TO_TAGS } from './constant';\nimport { drawChildren } from './util/draw';\nimport { setTransform, setClip } from './util/svg';\nimport { sortDom } from './util/dom';\nimport EventController from '@antv/g-base/lib/event/event-contoller';\nimport * as Shape from './shape';\nimport Group from './group';\nimport Defs from './defs';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        return _super.call(this, __assign(__assign({}, cfg), { autoDraw: true, \n            // 设置渲染引擎为 canvas，只读属性\n            renderer: 'svg' })) || this;\n    }\n    Canvas.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Canvas.prototype.getGroupBase = function () {\n        return Group;\n    };\n    // 覆盖 Container 中通过遍历的方式获取 shape 对象的逻辑，直接走 SVG 的 dom 拾取即可\n    Canvas.prototype.getShape = function (x, y, ev) {\n        var target = ev.target || ev.srcElement;\n        if (!SHAPE_TO_TAGS[target.tagName]) {\n            var parent_1 = target.parentNode;\n            while (parent_1 && !SHAPE_TO_TAGS[parent_1.tagName]) {\n                parent_1 = parent_1.parentNode;\n            }\n            target = parent_1;\n        }\n        return this.find(function (child) { return child.get('el') === target; });\n    };\n    // 复写基类的方法生成标签\n    Canvas.prototype.createDom = function () {\n        var element = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        var context = new Defs(element);\n        element.setAttribute('width', \"\" + this.get('width'));\n        element.setAttribute('height', \"\" + this.get('height'));\n        // 缓存 context 对象\n        this.set('context', context);\n        return element;\n    };\n    /**\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    Canvas.prototype.onCanvasChange = function (changeType) {\n        var context = this.get('context');\n        var el = this.get('el');\n        if (changeType === 'sort') {\n            var children_1 = this.get('children');\n            if (children_1 && children_1.length) {\n                sortDom(this, function (a, b) {\n                    return children_1.indexOf(a) - children_1.indexOf(b) ? 1 : 0;\n                });\n            }\n        }\n        else if (changeType === 'clear') {\n            // el maybe null for canvas\n            if (el) {\n                // 清空 SVG 元素\n                el.innerHTML = '';\n                var defsEl = context.el;\n                // 清空 defs 元素\n                defsEl.innerHTML = '';\n                // 将清空后的 defs 元素挂载到 el 下\n                el.appendChild(defsEl);\n            }\n        }\n        else if (changeType === 'matrix') {\n            setTransform(this);\n        }\n        else if (changeType === 'clip') {\n            setClip(this, context);\n        }\n        else if (changeType === 'changeSize') {\n            el.setAttribute('width', \"\" + this.get('width'));\n            el.setAttribute('height', \"\" + this.get('height'));\n        }\n    };\n    // 复写基类的 draw 方法\n    Canvas.prototype.draw = function () {\n        var context = this.get('context');\n        var children = this.getChildren();\n        setClip(this, context);\n        if (children.length) {\n            drawChildren(context, children);\n        }\n    };\n    // 覆盖基类中的 initEvents 方法\n    Canvas.prototype.initEvents = function () {\n        var eventController = new EventController({\n            canvas: this,\n        });\n        eventController.init();\n        this.set('eventController', eventController);\n    };\n    // 覆盖基类中的 clearEvents 方法\n    Canvas.prototype.clearEvents = function () {\n        var eventController = this.get('eventController');\n        eventController.destroy();\n    };\n    return Canvas;\n}(AbstractCanvas));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","import { createDom } from './dom';\nexport function setShadow(model, context) {\n    var el = model.cfg.el;\n    var attrs = model.attr();\n    var cfg = {\n        dx: attrs.shadowOffsetX,\n        dy: attrs.shadowOffsetY,\n        blur: attrs.shadowBlur,\n        color: attrs.shadowColor,\n    };\n    if (!cfg.dx && !cfg.dy && !cfg.blur && !cfg.color) {\n        el.removeAttribute('filter');\n    }\n    else {\n        var id = context.find('filter', cfg);\n        if (!id) {\n            id = context.addShadow(cfg);\n        }\n        el.setAttribute('filter', \"url(#\" + id + \")\");\n    }\n}\nexport function setTransform(model) {\n    var matrix = model.attr().matrix;\n    if (matrix) {\n        var el = model.cfg.el;\n        var transform = [];\n        for (var i = 0; i < 9; i += 3) {\n            transform.push(matrix[i] + \",\" + matrix[i + 1]);\n        }\n        transform = transform.join(',');\n        if (transform.indexOf('NaN') === -1) {\n            el.setAttribute('transform', \"matrix(\" + transform + \")\");\n        }\n        else {\n            console.warn('invalid matrix:', matrix);\n        }\n    }\n}\nexport function setClip(model, context) {\n    var clip = model.getClip();\n    var el = model.get('el');\n    if (!clip) {\n        el.removeAttribute('clip-path');\n    }\n    else if (clip && !el.hasAttribute('clip-path')) {\n        createDom(clip);\n        clip.createPath(context);\n        var id = context.addClip(clip);\n        el.setAttribute('clip-path', \"url(#\" + id + \")\");\n    }\n}\n//# sourceMappingURL=svg.js.map","/**\n * @fileoverview dom\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Dom = /** @class */ (function (_super) {\n    __extends(Dom, _super);\n    function Dom() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'dom';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    Dom.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n        el.innerHTML = attrs['html']; // set innerHTML\n    };\n    return Dom;\n}(ShapeBase));\nexport default Dom;\n//# sourceMappingURL=dom.js.map","var Symbols = {\n    // 圆\n    circle: function (x, y, r) {\n        return [['M', x, y], ['m', -r, 0], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0]];\n    },\n    // 正方形\n    square: function (x, y, r) {\n        return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n    },\n    // 菱形\n    diamond: function (x, y, r) {\n        return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n    },\n    // 三角形\n    triangle: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['z']];\n    },\n    // 倒三角形\n    triangleDown: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n    },\n};\nexport default {\n    get: function (type) {\n        return Symbols[type];\n    },\n    register: function (type, func) {\n        Symbols[type] = func;\n    },\n    remove: function (type) {\n        delete Symbols[type];\n    },\n    getAll: function () {\n        return Symbols;\n    },\n};\n//# sourceMappingURL=symbols.js.map","/**\n * @fileoverview marker\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { isArray, isFunction } from '@antv/util';\nimport ShapeBase from '../base';\nimport symbolsFactory from './symbols';\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'marker';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Marker.prototype.createPath = function (context) {\n        var el = this.get('el');\n        el.setAttribute('d', this._assembleMarker());\n    };\n    Marker.prototype._assembleMarker = function () {\n        var d = this._getPath();\n        if (isArray(d)) {\n            return d\n                .map(function (path) {\n                return path.join(' ');\n            })\n                .join('');\n        }\n        return d;\n    };\n    Marker.prototype._getPath = function () {\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y;\n        // 兼容 r 和 radius 两种写法，推荐使用 r\n        var r = attrs.r || attrs.radius;\n        var symbol = attrs.symbol || 'circle';\n        var method;\n        if (isFunction(symbol)) {\n            method = symbol;\n        }\n        else {\n            method = symbolsFactory.get(symbol);\n        }\n        if (!method) {\n            console.warn(method + \" symbol is not exist.\");\n            return null;\n        }\n        return method(x, y, r);\n    };\n    // 作为其静态属性\n    Marker.symbolsFactory = symbolsFactory;\n    return Marker;\n}(ShapeBase));\nexport default Marker;\n//# sourceMappingURL=index.js.map","import { each, isArray, isString } from '@antv/util';\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;\nvar regexDot = /[^\\s\\,]+/gi;\nexport function parseRadius(radius) {\n    var r1 = 0;\n    var r2 = 0;\n    var r3 = 0;\n    var r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4,\n    };\n}\nexport function parsePath(path) {\n    path = path || [];\n    if (isArray(path)) {\n        return path;\n    }\n    if (isString(path)) {\n        path = path.match(regexTags);\n        each(path, function (item, index) {\n            item = item.match(regexDot);\n            if (item[0].length > 1) {\n                var tag = item[0].charAt(0);\n                item.splice(1, 0, item[0].substr(1));\n                item[0] = tag;\n            }\n            each(item, function (sub, i) {\n                if (!isNaN(sub)) {\n                    item[i] = +sub;\n                }\n            });\n            path[index] = item;\n        });\n        return path;\n    }\n}\n//# sourceMappingURL=format.js.map","/**\n * @fileoverview gradient\n * @author dengfuping_develop@163.com\n */\nimport { each, mod, toRadian, uniqueId } from '@antv/util';\nvar regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\nfunction addStop(steps) {\n    var arr = steps.match(regexColorStop);\n    if (!arr) {\n        return '';\n    }\n    var stops = '';\n    arr.sort(function (a, b) {\n        a = a.split(':');\n        b = b.split(':');\n        return Number(a[0]) - Number(b[0]);\n    });\n    each(arr, function (item) {\n        item = item.split(':');\n        stops += \"<stop offset=\\\"\" + item[0] + \"\\\" stop-color=\\\"\" + item[1] + \"\\\"></stop>\";\n    });\n    return stops;\n}\nfunction parseLineGradient(color, el) {\n    var arr = regexLG.exec(color);\n    var angle = mod(toRadian(parseFloat(arr[1])), Math.PI * 2);\n    var steps = arr[2];\n    var start;\n    var end;\n    if (angle >= 0 && angle < 0.5 * Math.PI) {\n        start = {\n            x: 0,\n            y: 0,\n        };\n        end = {\n            x: 1,\n            y: 1,\n        };\n    }\n    else if (0.5 * Math.PI <= angle && angle < Math.PI) {\n        start = {\n            x: 1,\n            y: 0,\n        };\n        end = {\n            x: 0,\n            y: 1,\n        };\n    }\n    else if (Math.PI <= angle && angle < 1.5 * Math.PI) {\n        start = {\n            x: 1,\n            y: 1,\n        };\n        end = {\n            x: 0,\n            y: 0,\n        };\n    }\n    else {\n        start = {\n            x: 0,\n            y: 1,\n        };\n        end = {\n            x: 1,\n            y: 0,\n        };\n    }\n    var tanTheta = Math.tan(angle);\n    var tanTheta2 = tanTheta * tanTheta;\n    var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n    var y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n    el.setAttribute('x1', start.x);\n    el.setAttribute('y1', start.y);\n    el.setAttribute('x2', x);\n    el.setAttribute('y2', y);\n    el.innerHTML = addStop(steps);\n}\nfunction parseRadialGradient(color, self) {\n    var arr = regexRG.exec(color);\n    var cx = parseFloat(arr[1]);\n    var cy = parseFloat(arr[2]);\n    var r = parseFloat(arr[3]);\n    var steps = arr[4];\n    self.setAttribute('cx', cx);\n    self.setAttribute('cy', cy);\n    self.setAttribute('r', r);\n    self.innerHTML = addStop(steps);\n}\nvar Gradient = /** @class */ (function () {\n    function Gradient(cfg) {\n        this.cfg = {};\n        var el = null;\n        var id = uniqueId('gradient_');\n        if (cfg.toLowerCase()[0] === 'l') {\n            el = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');\n            parseLineGradient(cfg, el);\n        }\n        else {\n            el = document.createElementNS('http://www.w3.org/2000/svg', 'radialGradient');\n            parseRadialGradient(cfg, el);\n        }\n        el.setAttribute('id', id);\n        this.el = el;\n        this.id = id;\n        this.cfg = cfg;\n        return this;\n    }\n    Gradient.prototype.match = function (type, attr) {\n        return this.cfg === attr;\n    };\n    return Gradient;\n}());\nexport default Gradient;\n//# sourceMappingURL=gradient.js.map","/**\n * @fileoverview shadow\n * @author dengfuping_develop@163.com\n */\nimport { each, uniqueId } from '@antv/util';\nvar ATTR_MAP = {\n    shadowColor: 'color',\n    shadowOpacity: 'opacity',\n    shadowBlur: 'blur',\n    shadowOffsetX: 'dx',\n    shadowOffsetY: 'dy',\n};\nvar SHADOW_DIMENSION = {\n    x: '-40%',\n    y: '-40%',\n    width: '200%',\n    height: '200%',\n};\nvar Shadow = /** @class */ (function () {\n    function Shadow(cfg) {\n        this.type = 'filter';\n        this.cfg = {};\n        this.type = 'filter';\n        var el = document.createElementNS('http://www.w3.org/2000/svg', 'filter');\n        // expand the filter region to fill in shadows\n        each(SHADOW_DIMENSION, function (v, k) {\n            el.setAttribute(k, v);\n        });\n        this.el = el;\n        this.id = uniqueId('filter_');\n        this.el.id = this.id;\n        this.cfg = cfg;\n        this._parseShadow(cfg, el);\n        return this;\n    }\n    Shadow.prototype.match = function (type, cfg) {\n        if (this.type !== type) {\n            return false;\n        }\n        var flag = true;\n        var config = this.cfg;\n        each(Object.keys(config), function (attr) {\n            if (config[attr] !== cfg[attr]) {\n                flag = false;\n                return false;\n            }\n        });\n        return flag;\n    };\n    Shadow.prototype.update = function (name, value) {\n        var config = this.cfg;\n        config[ATTR_MAP[name]] = value;\n        this._parseShadow(config, this.el);\n        return this;\n    };\n    Shadow.prototype._parseShadow = function (config, el) {\n        var child = \"<feDropShadow\\n      dx=\\\"\" + (config.dx || 0) + \"\\\"\\n      dy=\\\"\" + (config.dy || 0) + \"\\\"\\n      stdDeviation=\\\"\" + (config.blur ? config.blur / 10 : 0) + \"\\\"\\n      flood-color=\\\"\" + (config.color ? config.color : '#000') + \"\\\"\\n      flood-opacity=\\\"\" + (config.opacity ? config.opacity : 1) + \"\\\"\\n      />\";\n        el.innerHTML = child;\n    };\n    return Shadow;\n}());\nexport default Shadow;\n//# sourceMappingURL=shadow.js.map","/**\n * @fileoverview arrow\n * @author dengfuping_develop@163.com\n */\nimport { isArray, uniqueId } from '@antv/util';\nvar Arrow = /** @class */ (function () {\n    function Arrow(attrs, type) {\n        this.cfg = {};\n        var el = document.createElementNS('http://www.w3.org/2000/svg', 'marker');\n        var id = uniqueId('marker_');\n        el.setAttribute('id', id);\n        var shape = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        shape.setAttribute('stroke', attrs.stroke || 'none');\n        shape.setAttribute('fill', attrs.fill || 'none');\n        el.appendChild(shape);\n        el.setAttribute('overflow', 'visible');\n        el.setAttribute('orient', 'auto-start-reverse');\n        this.el = el;\n        this.child = shape;\n        this.id = id;\n        var cfg = attrs[type === 'marker-start' ? 'startArrow' : 'endArrow'];\n        this.stroke = attrs.stroke || '#000';\n        if (cfg === true) {\n            this._setDefaultPath(type, shape);\n        }\n        else {\n            this.cfg = cfg; // when arrow config exists\n            this._setMarker(attrs.lineWidth, shape);\n        }\n        return this;\n    }\n    Arrow.prototype.match = function () {\n        return false;\n    };\n    Arrow.prototype._setDefaultPath = function (type, el) {\n        var parent = this.el;\n        // 默认箭头的边长为 10，夹角为 60 度\n        el.setAttribute('d', \"M0,0 L\" + 10 * Math.cos(Math.PI / 6) + \",5 L0,10\");\n        parent.setAttribute('refX', \"\" + 10 * Math.cos(Math.PI / 6));\n        parent.setAttribute('refY', \"\" + 5);\n    };\n    Arrow.prototype._setMarker = function (r, el) {\n        var parent = this.el;\n        var path = this.cfg.path;\n        var d = this.cfg.d;\n        if (isArray(path)) {\n            path = path\n                .map(function (segment) {\n                return segment.join(' ');\n            })\n                .join('');\n        }\n        el.setAttribute('d', path);\n        parent.appendChild(el);\n        if (d) {\n            parent.setAttribute('refX', \"\" + d / r);\n        }\n    };\n    Arrow.prototype.update = function (fill) {\n        var child = this.child;\n        if (child.attr) {\n            child.attr('fill', fill);\n        }\n        else {\n            child.setAttribute('fill', fill);\n        }\n    };\n    return Arrow;\n}());\nexport default Arrow;\n//# sourceMappingURL=arrow.js.map","/**\n * @fileoverview clip\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nvar Clip = /** @class */ (function () {\n    function Clip(cfg) {\n        this.type = 'clip';\n        this.cfg = {};\n        var el = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');\n        this.el = el;\n        this.id = uniqueId('clip_');\n        el.id = this.id;\n        var shapeEl = cfg.cfg.el;\n        el.appendChild(shapeEl);\n        this.cfg = cfg;\n        return this;\n    }\n    Clip.prototype.match = function () {\n        return false;\n    };\n    Clip.prototype.remove = function () {\n        var el = this.el;\n        el.parentNode.removeChild(el);\n    };\n    return Clip;\n}());\nexport default Clip;\n//# sourceMappingURL=clip.js.map","/**\n * @fileoverview pattern\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nvar regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nvar Pattern = /** @class */ (function () {\n    function Pattern(cfg) {\n        this.cfg = {};\n        var el = document.createElementNS('http://www.w3.org/2000/svg', 'pattern');\n        el.setAttribute('patternUnits', 'userSpaceOnUse');\n        var child = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n        el.appendChild(child);\n        var id = uniqueId('pattern_');\n        el.id = id;\n        this.el = el;\n        this.id = id;\n        this.cfg = cfg;\n        var arr = regexPR.exec(cfg);\n        var source = arr[2];\n        child.setAttribute('href', source);\n        var img = new Image();\n        if (!source.match(/^data:/i)) {\n            img.crossOrigin = 'Anonymous';\n        }\n        img.src = source;\n        function onload() {\n            el.setAttribute('width', \"\" + img.width);\n            el.setAttribute('height', \"\" + img.height);\n        }\n        if (img.complete) {\n            onload();\n        }\n        else {\n            img.onload = onload;\n            // Fix onload() bug in IE9\n            img.src = img.src;\n        }\n        return this;\n    }\n    Pattern.prototype.match = function (type, attr) {\n        return this.cfg === attr;\n    };\n    return Pattern;\n}());\nexport default Pattern;\n//# sourceMappingURL=pattern.js.map","/**\n * @fileoverview defs\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport Gradient from './gradient';\nimport Shadow from './shadow';\nimport Arrow from './arrow';\nimport Clip from './clip';\nimport Pattern from './pattern';\nvar Defs = /** @class */ (function () {\n    function Defs(canvas) {\n        var el = document.createElementNS('http://www.w3.org/2000/svg', 'defs');\n        var id = uniqueId('defs_');\n        el.id = id;\n        canvas.appendChild(el);\n        this.children = [];\n        this.defaultArrow = {};\n        this.el = el;\n        this.canvas = canvas;\n    }\n    Defs.prototype.find = function (type, attr) {\n        var children = this.children;\n        var result = null;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].match(type, attr)) {\n                result = children[i].id;\n                break;\n            }\n        }\n        return result;\n    };\n    Defs.prototype.findById = function (id) {\n        var children = this.children;\n        var flag = null;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].id === id) {\n                flag = children[i];\n                break;\n            }\n        }\n        return flag;\n    };\n    Defs.prototype.add = function (item) {\n        this.children.push(item);\n        item.canvas = this.canvas;\n        item.parent = this;\n    };\n    Defs.prototype.getDefaultArrow = function (attrs, name) {\n        var stroke = attrs.stroke || attrs.strokeStyle;\n        if (this.defaultArrow[stroke]) {\n            return this.defaultArrow[stroke].id;\n        }\n        var arrow = new Arrow(attrs, name);\n        this.defaultArrow[stroke] = arrow;\n        this.el.appendChild(arrow.el);\n        this.add(arrow);\n        return arrow.id;\n    };\n    Defs.prototype.addGradient = function (cfg) {\n        var gradient = new Gradient(cfg);\n        this.el.appendChild(gradient.el);\n        this.add(gradient);\n        return gradient.id;\n    };\n    Defs.prototype.addArrow = function (attrs, name) {\n        var arrow = new Arrow(attrs, name);\n        this.el.appendChild(arrow.el);\n        this.add(arrow);\n        return arrow.id;\n    };\n    Defs.prototype.addShadow = function (cfg) {\n        var shadow = new Shadow(cfg);\n        this.el.appendChild(shadow.el);\n        this.add(shadow);\n        return shadow.id;\n    };\n    Defs.prototype.addPattern = function (cfg) {\n        var pattern = new Pattern(cfg);\n        this.el.appendChild(pattern.el);\n        this.add(pattern);\n        return pattern.id;\n    };\n    Defs.prototype.addClip = function (cfg) {\n        var clip = new Clip(cfg);\n        this.el.appendChild(clip.el);\n        this.add(clip);\n        return clip.id;\n    };\n    return Defs;\n}());\nexport default Defs;\n//# sourceMappingURL=index.js.map","import { filter, isArray, isNil } from '@antv/util';\nfunction isValueEmpty(value) {\n    return isNil(value) || isNaN(value);\n}\nfunction isYNil(point) {\n    if (isArray(point)) {\n        // 特殊处理 area 的关键点数据，其关键点结构为 [{x: 0, y: 1}, {x: 0, y: 2}]\n        return isValueEmpty(point[1].y);\n    }\n    var value = point.y;\n    return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n/**\n * @ignore\n * 分割数据，用于处理在一组点数据中，y 对应的数值存在 null/undefined/NaN 的情况\n * 应用于折线图、区域图以及路径图\n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points 要进行处理点集合\n * @param connectNulls 是否连接空值数据\n * @returns 返回处理后的点集合\n */\nexport function getPathPoints(points, connectNulls) {\n    if (!points.length) {\n        return [];\n    }\n    if (connectNulls) {\n        // 即 y 值为空的场景\n        var filtered = filter(points, function (point) {\n            return !isYNil(point);\n        });\n        return [filtered];\n    }\n    var result = [];\n    var tmp = [];\n    points.forEach(function (point) {\n        if (isYNil(point)) {\n            if (tmp.length) {\n                result.push(tmp);\n                tmp = [];\n            }\n        }\n        else {\n            tmp.push(point);\n        }\n    });\n    if (tmp.length) {\n        result.push(tmp);\n    }\n    return result;\n}\n//# sourceMappingURL=get-path-points.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\n/**\n * @ignore\n * 获取 Shape 的图形属性\n * @param cfg\n * @param isStroke 是否需要描边\n * @param isFill 是否需要填充\n * @param [sizeName] 可选，表示图形大小的属性，lineWidth 或者 r\n * @returns\n */\nfunction getStyle(cfg, isStroke, isFill, sizeName) {\n    if (sizeName === void 0) { sizeName = ''; }\n    var style = cfg.style, defaultStyle = cfg.defaultStyle, color = cfg.color, size = cfg.size;\n    var attrs = tslib_1.__assign(tslib_1.__assign({}, defaultStyle), style);\n    if (color) {\n        if (isStroke) {\n            if (!util_1.get(style, 'stroke')) {\n                // 如果用户在 style() 中配置了 stroke，则以用户配置的为准\n                attrs.stroke = color;\n            }\n        }\n        if (isFill) {\n            if (!util_1.get(style, 'fill')) {\n                // 如果用户在 style() 中配置了 fill\n                attrs.fill = color;\n            }\n        }\n    }\n    if (sizeName && util_1.isNil(util_1.get(style, sizeName)) && !util_1.isNil(size)) {\n        // 如果用户在 style() 中配置了 lineWidth 或者 r 属性\n        attrs[sizeName] = size;\n    }\n    return attrs;\n}\nexports.getStyle = getStyle;\n//# sourceMappingURL=get-style.js.map","import { isArray } from '@antv/util';\n/**\n * @ignore\n * 拆分点数据\n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj) {\n    // y 有可能是数组，对应原始数据中 y 为一个区间数据，如 [19, 30]，为了统一也将 x 转换为数组\n    var x = obj.x;\n    var y = isArray(obj.y) ? obj.y : [obj.y];\n    return y.map(function (eachY, index) {\n        return {\n            x: isArray(x) ? x[index] : x,\n            y: eachY,\n        };\n    });\n}\n//# sourceMappingURL=split-points.js.map","var LineSymbols = {\n    line: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    dot: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    dash: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    smooth: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['A', r / 2, r / 2, 0, 1, 1, x, y],\n            ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n        ];\n    },\n    hv: function (x, y, r) {\n        return [\n            ['M', x - r - 1, y - 2.5],\n            ['L', x, y - 2.5],\n            ['L', x, y + 2.5],\n            ['L', x + r + 1, y + 2.5],\n        ];\n    },\n    vh: function (x, y, r) {\n        return [\n            ['M', x - r - 1, y + 2.5],\n            ['L', x, y + 2.5],\n            ['L', x, y - 2.5],\n            ['L', x + r + 1, y - 2.5],\n        ];\n    },\n    hvh: function (x, y, r) {\n        return [\n            ['M', x - (r + 1), y + 2.5],\n            ['L', x - r / 2, y + 2.5],\n            ['L', x - r / 2, y - 2.5],\n            ['L', x + r / 2, y - 2.5],\n            ['L', x + r / 2, y + 2.5],\n            ['L', x + r + 1, y + 2.5],\n        ];\n    },\n    vhv: function (x, y) {\n        // 宽 13px，高 8px\n        return [\n            ['M', x - 5, y + 2.5],\n            ['L', x - 5, y],\n            ['L', x, y],\n            ['L', x, y - 3],\n            ['L', x, y + 3],\n            ['L', x + 6.5, y + 3],\n        ];\n    },\n};\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns 返回 Line 的 marker 配置\n */\nexport function getLineMarker(markerCfg, shapeType) {\n    var color = markerCfg.color;\n    return {\n        symbol: LineSymbols[shapeType],\n        style: {\n            lineWidth: 2,\n            r: 6,\n            stroke: color,\n        },\n    };\n}\n//# sourceMappingURL=util.js.map","import { __assign } from \"tslib\";\nimport { each, isArray } from '@antv/util';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\nfunction getShapeAttrs(cfg, smooth, constraint) {\n    var isStack = cfg.isStack, connectNulls = cfg.connectNulls, isInCircle = cfg.isInCircle;\n    var points = getPathPoints(cfg.points, connectNulls); // 根据 connectNulls 值处理 points\n    var path = [];\n    each(points, function (eachLinePoints) {\n        path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint));\n    });\n    return __assign(__assign({}, getStyle(cfg, true, false, 'lineWidth')), { path: path });\n}\n// 单条 path\nfunction getSinglePath(points, isInCircle, smooth, constraint) {\n    var path;\n    if (!smooth) {\n        path = getLinePath(points, false);\n        if (isInCircle) {\n            path.push(['Z']);\n        }\n    }\n    else {\n        // 直角坐标系下绘制曲线时限制最大值、最小值\n        if (isInCircle && points.length) {\n            points.push({ x: points[0].x, y: points[0].y });\n        }\n        path = getSplinePath(points, false, constraint);\n    }\n    return path;\n}\nfunction getRangePath(points, isInCircle, isStack, smooth, constraint) {\n    var topPoints = [];\n    var bottomPoints = [];\n    each(points, function (point) {\n        var result = splitPoints(point);\n        topPoints.push(result[1]); // 上边\n        bottomPoints.push(result[0]); // 底边\n    });\n    var topPath = getSinglePath(topPoints, isInCircle, smooth, constraint);\n    var bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint);\n    if (isStack) {\n        return topPath;\n    }\n    return topPath.concat(bottomPath);\n}\nfunction getPath(points, isInCircle, isStack, smooth, constraint) {\n    var first = points[0];\n    return isArray(first.y)\n        ? getRangePath(points, isInCircle, isStack, smooth, constraint)\n        : getSinglePath(points, isInCircle, smooth, constraint);\n}\nvar LineShapeFactory = registerShapeFactory('line', {\n    defaultShapeType: 'line',\n});\n// 这里因为代码公用，所以直接全部注册\n// 'line' 默认折线；'dot' 点线 ···；'dash' 断线 - - -\neach(['line', 'dot', 'dash', 'smooth'], function (shapeType) {\n    registerShape('line', shapeType, {\n        draw: function (cfg, container) {\n            var smooth = shapeType === 'smooth';\n            var constraint;\n            if (smooth) {\n                var _a = this.coordinate, start = _a.start, end = _a.end;\n                constraint = [\n                    [start.x, end.y],\n                    [end.x, start.y],\n                ];\n            }\n            var attrs = getShapeAttrs(cfg, smooth, constraint);\n            var shape = container.addShape({\n                type: 'path',\n                attrs: attrs,\n                name: 'line',\n            });\n            return shape;\n        },\n        getMarker: function (markerCfg) {\n            return getLineMarker(markerCfg, shapeType);\n        },\n    });\n});\nexport default LineShapeFactory;\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport Geometry from './base';\nimport Element from './element';\n/** 引入对应的 ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\n/**\n * Path 几何标记。\n * 用于绘制路径图等。\n */\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'path';\n        _this.shapeType = 'line';\n        var _a = cfg.connectNulls, connectNulls = _a === void 0 ? false : _a;\n        _this.connectNulls = connectNulls;\n        return _this;\n    }\n    /**\n     * 创建所有的 Element 实例，对于 Path、Line、Area，一组数据对应一个 Element。\n     * @param mappingData\n     * @param [isUpdate]\n     * @returns elements\n     */\n    Path.prototype.createElements = function (mappingData, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        // Path 的每个 element 对应一组数据\n        var _a = this, lastElementsMap = _a.lastElementsMap, elementsMap = _a.elementsMap, elements = _a.elements, theme = _a.theme, container = _a.container;\n        var elementId = this.getElementId(mappingData);\n        var shapeCfg = this.getShapeInfo(mappingData);\n        var result = lastElementsMap[elementId] || elementsMap[elementId];\n        if (!result) {\n            var shapeFactory = this.getShapeFactory();\n            result = new Element({\n                theme: get(theme, ['geometries', this.shapeType], {}),\n                shapeFactory: shapeFactory,\n                container: container,\n                offscreenGroup: this.getOffscreenGroup(),\n            });\n            result.geometry = this;\n            result.draw(shapeCfg, isUpdate); // 绘制 shape\n        }\n        else {\n            // element 已经创建\n            var preShapeCfg = result.getModel();\n            if (isModelChange(preShapeCfg, shapeCfg)) {\n                // 通过绘制数据的变更来判断是否需要更新，因为用户有可能会修改图形属性映射\n                result.update(shapeCfg); // 更新对应的 element\n            }\n            delete lastElementsMap[elementId];\n        }\n        if (!elementsMap[elementId]) {\n            elements.push(result);\n            elementsMap[elementId] = result;\n        }\n        return elements;\n    };\n    /**\n     * 获取组成一条线（一组数据）的所有点数据。\n     * @param mappingData\n     * @returns points\n     */\n    Path.prototype.getPoints = function (mappingData) {\n        return mappingData.map(function (obj) {\n            return {\n                x: obj.x,\n                y: obj.y,\n            };\n        });\n    };\n    Path.prototype.getShapeInfo = function (mappingData) {\n        var shapeCfg = this.getDrawCfg(mappingData[0]);\n        return __assign(__assign({}, shapeCfg), { mappingData: mappingData, data: this.getData(mappingData), isStack: !!this.getAdjust('stack'), points: this.getPoints(mappingData), connectNulls: this.connectNulls });\n    };\n    Path.prototype.getData = function (mappingData) {\n        return mappingData.map(function (obj) {\n            return obj[FIELD_ORIGIN];\n        });\n    };\n    return Path;\n}(Geometry));\nexport default Path;\n//# sourceMappingURL=path.js.map","import { each } from '@antv/util';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nfunction getPath(points, isInCircle, smooth, registeredShape, constraint) {\n    var topLinePoints = []; // area 区域上部分\n    var bottomLinePoints = []; // area 区域下部分\n    each(points, function (point) {\n        topLinePoints.push(point[1]);\n        bottomLinePoints.push(point[0]);\n    });\n    bottomLinePoints = bottomLinePoints.reverse();\n    var path = [];\n    each([topLinePoints, bottomLinePoints], function (pointsData, index) {\n        var subPath = [];\n        var parsedPoints = registeredShape.parsePoints(pointsData);\n        var p1 = parsedPoints[0];\n        if (isInCircle) {\n            parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n            subPath = getSplinePath(parsedPoints, false, constraint);\n        }\n        else {\n            subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n            subPath[0][0] = 'L';\n        }\n        path = path.concat(subPath);\n    });\n    path.push(['Z']);\n    return path;\n}\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(cfg, isStroke, smooth, registeredShape, constraint) {\n    var attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n    var connectNulls = cfg.connectNulls, isInCircle = cfg.isInCircle, points = cfg.points;\n    var pathPoints = getPathPoints(points, connectNulls); // 根据 connectNulls 配置获取图形关键点\n    var path = [];\n    each(pathPoints, function (eachPoints) {\n        path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n    });\n    attrs.path = path;\n    return attrs;\n}\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate) {\n    var start = coordinate.start, end = coordinate.end;\n    return [\n        [start.x, end.y],\n        [end.x, start.y],\n    ];\n}\n//# sourceMappingURL=util.js.map","import { isArray } from '@antv/util';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\nvar AreaShapeFactory = registerShapeFactory('area', {\n    defaultShapeType: 'area',\n    getDefaultPoints: function (pointInfo) {\n        // area 基本标记的绘制需要获取上下两边的顶点\n        var x = pointInfo.x, y0 = pointInfo.y0;\n        var y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n        return y.map(function (yItem) {\n            return {\n                x: x,\n                y: yItem,\n            };\n        });\n    },\n});\n// Area 几何标记默认的 shape：填充的区域图\nregisterShape('area', 'area', {\n    draw: function (cfg, container) {\n        var attrs = getShapeAttrs(cfg, false, false, this);\n        var shape = container.addShape({\n            type: 'path',\n            attrs: attrs,\n            name: 'area',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                if (r === void 0) { r = 5.5; }\n                return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n            },\n            style: {\n                r: 5,\n                fill: color,\n            },\n        };\n    },\n});\nexport default AreaShapeFactory;\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport Path from './path';\nimport './shape/area';\n/**\n * Area 几何标记类。\n * 常用于绘制面积图。\n */\nvar Area = /** @class */ (function (_super) {\n    __extends(Area, _super);\n    function Area(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'area';\n        _this.shapeType = 'area';\n        /** 生成图形关键点 */\n        _this.generatePoints = true;\n        /**\n         * 面积图是否从 0 基准线开始填充。\n         * 1. 默认值为 `true`，表现如下：\n         * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n         * 2. 当值为 `false` 时，表现如下：\n         * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n         */\n        _this.startOnZero = true;\n        var _a = cfg.startOnZero, startOnZero = _a === void 0 ? true : _a, _b = cfg.sortable, sortable = _b === void 0 ? true : _b;\n        _this.startOnZero = startOnZero; // 默认为 true\n        _this.sortable = sortable; // Area 默认会对数据按照 x 轴字段进行正向排序\n        return _this;\n    }\n    /**\n     * get points for ShapeInfo\n     * @override\n     * @param mappedArray\n     * @returns\n     */\n    Area.prototype.getPoints = function (mappedArray) {\n        return mappedArray.map(function (obj) {\n            return obj.points;\n        });\n    };\n    /**\n     * 获取 Y 轴上的最小值\n     * @returns y 字段最小值\n     */\n    Area.prototype.getYMinValue = function () {\n        if (this.startOnZero) {\n            return _super.prototype.getYMinValue.call(this);\n        }\n        var yScale = this.getYScale();\n        return yScale.min;\n    };\n    return Area;\n}(Path));\nexport default Area;\n//# sourceMappingURL=area.js.map","import { __assign } from \"tslib\";\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nvar EdgeShapeFactory = registerShapeFactory('edge', {\n    defaultShapeType: 'line',\n    getDefaultPoints: function (pointInfo) {\n        return splitPoints(pointInfo);\n    },\n});\nregisterShape('edge', 'line', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n        });\n    },\n    getMarker: function (markerCfg) {\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: markerCfg.color,\n            },\n        };\n    }\n});\nexport default EdgeShapeFactory;\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport Geometry from './base';\nimport './shape/edge';\n/**\n * Edge 几何标记，用于绘制关系图中的**边**图形，如：\n * 1. 流程图\n * 2. 树\n * 3. 弧长连接图\n * 4. 和弦图\n * 5. 桑基图\n */\nvar Edge = /** @class */ (function (_super) {\n    __extends(Edge, _super);\n    function Edge() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'edge';\n        _this.shapeType = 'edge';\n        _this.generatePoints = true;\n        return _this;\n    }\n    return Edge;\n}(Geometry));\nexport default Edge;\n//# sourceMappingURL=edge.js.map","import { __assign, __extends } from \"tslib\";\nimport ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport Geometry from './base';\n/**\n * 用于绘制热力图。\n */\nvar Heatmap = /** @class */ (function (_super) {\n    __extends(Heatmap, _super);\n    function Heatmap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'heatmap';\n        _this.paletteCache = {};\n        return _this;\n    }\n    Heatmap.prototype.createElements = function (mappingData, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        var range = this.prepareRange(mappingData);\n        var radius = this.prepareSize();\n        var blur = get(this.styleOption, ['style', 'shadowBlur']);\n        if (!isNumber(blur)) {\n            blur = radius / 2;\n        }\n        this.prepareGreyScaleBlurredCircle(radius, blur);\n        this.drawWithRange(mappingData, range, radius, blur);\n        return null;\n    };\n    /**\n     * clear\n     */\n    Heatmap.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this.clearShadowCanvasCtx();\n        this.paletteCache = {};\n    };\n    Heatmap.prototype.prepareRange = function (data) {\n        var colorAttr = this.getAttribute('color');\n        var colorField = colorAttr.getFields()[0];\n        var min = Infinity;\n        var max = -Infinity;\n        data.forEach(function (row) {\n            var value = row[FIELD_ORIGIN][colorField];\n            if (value > max) {\n                max = value;\n            }\n            if (value < min) {\n                min = value;\n            }\n        });\n        if (min === max) {\n            min = max - 1;\n        }\n        return [min, max];\n    };\n    Heatmap.prototype.prepareSize = function () {\n        var radius = this.getDefaultValue('size');\n        if (!isNumber(radius)) {\n            radius = this.getDefaultSize();\n        }\n        return radius;\n    };\n    Heatmap.prototype.prepareGreyScaleBlurredCircle = function (radius, blur) {\n        var grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n        var r2 = radius + blur;\n        var ctx = grayScaleBlurredCanvas.getContext('2d');\n        grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n        ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n        ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n        ctx.shadowBlur = blur;\n        ctx.shadowColor = 'black';\n        ctx.beginPath();\n        ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n        ctx.closePath();\n        ctx.fill();\n    };\n    Heatmap.prototype.drawWithRange = function (data, range, radius, blur) {\n        // canvas size\n        var _a = this.coordinate, start = _a.start, end = _a.end;\n        var width = this.coordinate.getWidth();\n        var height = this.coordinate.getHeight();\n        // value, range, etc\n        var colorAttr = this.getAttribute('color');\n        var valueField = colorAttr.getFields()[0];\n        // prepare shadow canvas context\n        this.clearShadowCanvasCtx();\n        var ctx = this.getShadowCanvasCtx();\n        // filter data\n        if (range) {\n            data = data.filter(function (row) {\n                return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n            });\n        }\n        // step1. draw points with shadow\n        var scale = this.scales[valueField];\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var obj = data_1[_i];\n            var _b = this.getDrawCfg(obj), x = _b.x, y = _b.y;\n            var alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n            this.drawGrayScaleBlurredCircle(x - start.x, y - end.y, radius + blur, alpha, ctx);\n        }\n        // step2. convert pixels\n        var colored = ctx.getImageData(0, 0, width, height);\n        this.clearShadowCanvasCtx();\n        this.colorize(colored);\n        ctx.putImageData(colored, 0, 0);\n        var imageShape = this.getImageShape();\n        imageShape.attr('x', start.x);\n        imageShape.attr('y', end.y);\n        imageShape.attr('width', width);\n        imageShape.attr('height', height);\n        imageShape.attr('img', ctx.canvas);\n        imageShape.set('origin', this.getShapeInfo(data)); // 存储绘图信息数据\n    };\n    Heatmap.prototype.getDefaultSize = function () {\n        var position = this.getAttribute('position');\n        var coordinate = this.coordinate;\n        return Math.min(coordinate.getWidth() / (position.scales[0].ticks.length * 4), coordinate.getHeight() / (position.scales[1].ticks.length * 4));\n    };\n    Heatmap.prototype.clearShadowCanvasCtx = function () {\n        var ctx = this.getShadowCanvasCtx();\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    };\n    Heatmap.prototype.getShadowCanvasCtx = function () {\n        var canvas = this.shadowCanvas;\n        if (!canvas) {\n            canvas = document.createElement('canvas');\n            this.shadowCanvas = canvas;\n        }\n        canvas.width = this.coordinate.getWidth();\n        canvas.height = this.coordinate.getHeight();\n        return canvas.getContext('2d');\n    };\n    Heatmap.prototype.getGrayScaleBlurredCanvas = function () {\n        if (!this.grayScaleBlurredCanvas) {\n            this.grayScaleBlurredCanvas = document.createElement('canvas');\n        }\n        return this.grayScaleBlurredCanvas;\n    };\n    Heatmap.prototype.drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n        var grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n        ctx.globalAlpha = alpha;\n        ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n    };\n    Heatmap.prototype.colorize = function (img) {\n        var colorAttr = this.getAttribute('color');\n        var pixels = img.data;\n        var paletteCache = this.paletteCache;\n        for (var i = 3; i < pixels.length; i += 4) {\n            var alpha = pixels[i]; // get gradient color from opacity value\n            if (isNumber(alpha)) {\n                var palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n                pixels[i - 3] = palette[0];\n                pixels[i - 2] = palette[1];\n                pixels[i - 1] = palette[2];\n                pixels[i] = alpha;\n            }\n        }\n    };\n    Heatmap.prototype.getImageShape = function () {\n        var imageShape = this.imageShape;\n        if (imageShape) {\n            return imageShape;\n        }\n        var container = this.container;\n        imageShape = container.addShape({\n            type: 'image',\n            attrs: {},\n        });\n        this.imageShape = imageShape;\n        return imageShape;\n    };\n    Heatmap.prototype.getShapeInfo = function (mappingData) {\n        var shapeCfg = this.getDrawCfg(mappingData[0]);\n        return __assign(__assign({}, shapeCfg), { mappingData: mappingData, data: this.getData(mappingData) });\n    };\n    Heatmap.prototype.getData = function (mappingData) {\n        return mappingData.map(function (obj) {\n            return obj[FIELD_ORIGIN];\n        });\n    };\n    return Heatmap;\n}(Geometry));\nexport default Heatmap;\n//# sourceMappingURL=heatmap.js.map","import { isArray, isNil } from '@antv/util';\n/**\n * @ignore\n * 根据数据点生成矩形的四个关键点\n * @param pointInfo 数据点信息\n * @param [isPyramid] 是否为尖底漏斗图\n * @returns rect points 返回矩形四个顶点信息\n */\nexport function getRectPoints(pointInfo, isPyramid) {\n    if (isPyramid === void 0) { isPyramid = false; }\n    var x = pointInfo.x, y = pointInfo.y, y0 = pointInfo.y0, size = pointInfo.size;\n    // 有 4 种情况，\n    // 1. x, y 都不是数组\n    // 2. y是数组，x不是\n    // 3. x是数组，y不是\n    // 4. x, y 都是数组\n    var yMin;\n    var yMax;\n    if (isArray(y)) {\n        yMin = y[0], yMax = y[1];\n    }\n    else {\n        yMin = y0;\n        yMax = y;\n    }\n    var xMin;\n    var xMax;\n    if (isArray(x)) {\n        xMin = x[0], xMax = x[1];\n    }\n    else {\n        xMin = x - size / 2;\n        xMax = x + size / 2;\n    }\n    var points = [\n        { x: xMin, y: yMin },\n        { x: xMin, y: yMax },\n    ];\n    if (isPyramid) {\n        // 绘制尖底漏斗图\n        // 金字塔漏斗图的关键点\n        // 1\n        // |   2\n        // 0\n        points.push({\n            x: xMax,\n            y: (yMax + yMin) / 2,\n        });\n    }\n    else {\n        // 矩形的四个关键点，结构如下（左下角顺时针连接）\n        // 1 ---- 2\n        // |      |\n        // 0 ---- 3\n        points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n    }\n    return points;\n}\n/**\n * @ignore\n * 根据矩形关键点绘制 path\n * @param points 关键点数组\n * @returns 返回矩形的 path\n */\nexport function getRectPath(points) {\n    var path = [];\n    var firstPoint = points[0];\n    path.push(['M', firstPoint.x, firstPoint.y]);\n    for (var i = 1, len = points.length; i < len; i++) {\n        path.push(['L', points[i].x, points[i].y]);\n    }\n    path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n    path.push(['z']);\n    return path;\n}\n/**\n * @ignore\n * 根据 funnel 关键点绘制漏斗图的 path\n * @param points 图形关键点信息\n * @param nextPoints 下一个数据的图形关键点信息\n * @param isPyramid 是否为尖底漏斗图\n * @returns 返回漏斗图的图形 path\n */\nexport function getFunnelPath(points, nextPoints, isPyramid) {\n    var path = [];\n    if (!isNil(nextPoints)) {\n        path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\n    }\n    else if (isPyramid) {\n        // 金字塔最底部\n        path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[2].x, points[2].y], ['Z']);\n    }\n    else {\n        // 漏斗图最底部\n        path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\n    }\n    return path;\n}\n//# sourceMappingURL=util.js.map","import { __assign } from \"tslib\";\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath, getRectPoints } from './util';\n/** Interval 的 shape 工厂 */\nvar IntervalShapeFactory = registerShapeFactory('interval', {\n    defaultShapeType: 'rect',\n    getDefaultPoints: function (pointInfo) {\n        return getRectPoints(pointInfo);\n    },\n});\n/** Inerval 默认 shape，填充的矩形 */\nregisterShape('interval', 'rect', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, false, true);\n        var path = this.parsePath(getRectPath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color, isInPolar = markerCfg.isInPolar;\n        if (isInPolar) {\n            return {\n                symbol: 'circle',\n                style: {\n                    r: 4.5,\n                    fill: color,\n                },\n            };\n        }\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\nexport default IntervalShapeFactory;\n//# sourceMappingURL=index.js.map","import { flatten, isString, valuesOfKey } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n// 已经排序后的数据查找距离最小的\nfunction findMinDistance(arr, scale) {\n    var count = arr.length;\n    var sourceArr = arr;\n    if (isString(sourceArr[0])) {\n        // 日期类型的 values 经常上文本类型，所以需要转换一下\n        sourceArr = arr.map(function (v) {\n            return scale.translate(v);\n        });\n    }\n    var distance = sourceArr[1] - sourceArr[0];\n    for (var i = 2; i < count; i++) {\n        var tmp = sourceArr[i] - sourceArr[i - 1];\n        if (distance > tmp) {\n            distance = tmp;\n        }\n    }\n    return distance;\n}\nfunction getDodgeCount(dataArray, dodgeBy) {\n    if (dodgeBy) {\n        var mergeData = flatten(dataArray);\n        var values = valuesOfKey(mergeData, dodgeBy);\n        return values.length;\n    }\n    return dataArray.length;\n}\n/** @ignore */\nexport function getDefaultSize(geometry) {\n    var theme = geometry.theme;\n    var coordinate = geometry.coordinate;\n    var xScale = geometry.getXScale();\n    var xValues = xScale.values;\n    var dataArray = geometry.beforeMappingData;\n    var count = xValues.length;\n    if (xScale.isLinear && xValues.length > 1) {\n        // Linear 类型用户有可能设置了 min, max 范围所以需要根据数据最小区间计算 count\n        xValues.sort();\n        var interval = findMinDistance(xValues, xScale);\n        count = (xScale.max - xScale.min) / interval;\n        if (xValues.length > count) {\n            count = xValues.length;\n        }\n    }\n    var range = xScale.range;\n    var normalizedSize = 1 / count;\n    var wr = 1;\n    if (coordinate.isPolar) {\n        if (coordinate.isTransposed && count > 1) {\n            // 极坐标下多层环图\n            wr = theme.multiplePieWidthRatio;\n        }\n        else {\n            wr = theme.roseWidthRatio;\n        }\n    }\n    else {\n        if (xScale.isLinear) {\n            normalizedSize *= range[1] - range[0];\n        }\n        wr = theme.columnWidthRatio;\n    }\n    normalizedSize *= wr;\n    if (geometry.getAdjust('dodge')) {\n        var dodgeAdjust = geometry.getAdjust('dodge');\n        var dodgeBy = dodgeAdjust.dodgeBy;\n        var dodgeCount = getDodgeCount(dataArray, dodgeBy);\n        normalizedSize = normalizedSize / dodgeCount;\n    }\n    // 最大和最小限制\n    var maxColumnWidth = theme.maxColumnWidth, minColumnWidth = theme.minColumnWidth;\n    var xDimensionLength = getXDimensionLength(geometry.coordinate);\n    if (maxColumnWidth) {\n        var normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n        if (normalizedSize > normalizedMaxColumnWidth) {\n            normalizedSize = normalizedMaxColumnWidth;\n        }\n    }\n    if (minColumnWidth) {\n        var normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n        if (normalizedSize < normalizedMinColumnWidth) {\n            normalizedSize = normalizedMinColumnWidth;\n        }\n    }\n    return normalizedSize;\n}\n//# sourceMappingURL=shape-size.js.map","import { __extends } from \"tslib\";\nimport { get } from '@antv/util';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/** 引入对应的 ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\n/**\n * Interval 几何标记。\n * 用于绘制柱状图、饼图、条形图、玫瑰图等。\n */\nvar Interval = /** @class */ (function (_super) {\n    __extends(Interval, _super);\n    function Interval() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'interval';\n        _this.shapeType = 'interval';\n        _this.generatePoints = true;\n        return _this;\n    }\n    /**\n     * 获取每条数据的 Shape 绘制信息\n     * @param obj 经过分组 -> 数字化 -> adjust 调整后的数据记录\n     * @returns\n     */\n    Interval.prototype.createShapePointsCfg = function (obj) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n        // 计算每个 shape 的 size\n        var size;\n        var sizeAttr = this.getAttribute('size');\n        if (sizeAttr) {\n            size = this.getAttributeValues(sizeAttr, obj)[0];\n            // 归一化\n            var coordinate = this.coordinate;\n            var coordinateWidth = getXDimensionLength(coordinate);\n            size = size / coordinateWidth;\n        }\n        else {\n            if (!this.defaultSize) {\n                this.defaultSize = getDefaultSize(this);\n            }\n            size = this.defaultSize;\n        }\n        cfg.size = size;\n        return cfg;\n    };\n    /**\n     * 调整 y 轴的 scale 范围。\n     * 对于 Y 轴为数值轴柱状图，默认从 0 开始 生长。\n     */\n    Interval.prototype.adjustScale = function () {\n        _super.prototype.adjustScale.call(this);\n        var yScale = this.getYScale();\n        // 特殊逻辑：饼图需要填充满整个空间\n        if (this.coordinate.type === 'theta') {\n            yScale.change({\n                nice: false,\n                min: 0,\n                // 发生过 stack 调整，yScale 的 max 被调整过，this.updateStackRange()\n                max: Math.max(Math.max.apply(null, yScale.values), yScale.max),\n            });\n        }\n        else {\n            // 柱状图数值轴默认从 0 开始\n            var scaleDefs = this.scaleDefs;\n            var field = yScale.field, min = yScale.min, max = yScale.max, type = yScale.type;\n            if (type !== 'time') {\n                // time 类型不做调整\n                // 柱状图的 Y 轴要从 0 开始生长，但是如果用户设置了则以用户的为准\n                if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n                    yScale.change({\n                        min: 0,\n                    });\n                }\n                // 柱当柱状图全为负值时也需要从 0 开始生长，但是如果用户设置了则以用户的为准\n                if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n                    yScale.change({\n                        max: 0,\n                    });\n                }\n            }\n        }\n    };\n    return Interval;\n}(Geometry));\nexport default Interval;\n//# sourceMappingURL=interval.js.map","import { __extends } from \"tslib\";\nimport Path from './path';\n/** 引入 Path 对应的 ShapeFactory */\nimport './shape/line';\n/**\n * Line 几何标记。\n * 常用于折线图的绘制。\n */\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'line';\n        var _a = cfg.sortable, sortable = _a === void 0 ? true : _a; // Line 默认会对数据按照 x 轴字段进行排序\n        _this.sortable = sortable;\n        return _this;\n    }\n    return Line;\n}(Path));\nexport default Line;\n//# sourceMappingURL=line.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @ignore */\nexports.MarkerSymbols = {\n    hexagon: function (x, y, r) {\n        var diffX = (r / 2) * Math.sqrt(3);\n        return [\n            ['M', x, y - r],\n            ['L', x + diffX, y - r / 2],\n            ['L', x + diffX, y + r / 2],\n            ['L', x, y + r],\n            ['L', x - diffX, y + r / 2],\n            ['L', x - diffX, y - r / 2],\n            ['Z'],\n        ];\n    },\n    bowtie: function (x, y, r) {\n        var diffY = r - 1.5;\n        return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n    },\n    cross: function (x, y, r) {\n        return [\n            ['M', x - r, y - r],\n            ['L', x + r, y + r],\n            ['M', x + r, y - r],\n            ['L', x - r, y + r],\n        ];\n    },\n    tick: function (x, y, r) {\n        return [\n            ['M', x - r / 2, y - r],\n            ['L', x + r / 2, y - r],\n            ['M', x, y - r],\n            ['L', x, y + r],\n            ['M', x - r / 2, y + r],\n            ['L', x + r / 2, y + r],\n        ];\n    },\n    plus: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n            ['M', x, y - r],\n            ['L', x, y + r],\n        ];\n    },\n    hyphen: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    line: function (x, y, r) {\n        return [\n            ['M', x, y - r],\n            ['L', x, y + r],\n        ];\n    },\n};\n//# sourceMappingURL=marker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar marker_1 = require(\"../../../util/marker\");\nvar get_style_1 = require(\"../util/get-style\");\nexports.SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexports.HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nfunction drawPoints(shape, cfg, container, shapeName, isStroke) {\n    var style = get_style_1.getStyle(cfg, isStroke, !isStroke, 'r');\n    var points = shape.parsePoints(cfg.points);\n    if (points.length > 1) {\n        var group = container.addGroup();\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            group.addShape({\n                type: 'marker',\n                attrs: tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, style), { symbol: marker_1.MarkerSymbols[shapeName] || shapeName }), point),\n            });\n        }\n        return group;\n    }\n    return container.addShape({\n        type: 'marker',\n        attrs: tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, style), { symbol: marker_1.MarkerSymbols[shapeName] || shapeName }), points[0]),\n    });\n}\nexports.drawPoints = drawPoints;\n//# sourceMappingURL=util.js.map","import { each } from '@antv/util';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\nvar PointShapeFactory = registerShapeFactory('point', {\n    defaultShapeType: 'hollow-circle',\n    getDefaultPoints: function (pointInfo) {\n        return splitPoints(pointInfo);\n    },\n});\neach(SHAPES, function (shapeName) {\n    // 添加该 shape 对应的 hollow-shape\n    registerShape('point', \"hollow-\" + shapeName, {\n        draw: function (cfg, container) {\n            return drawPoints(this, cfg, container, shapeName, true);\n        },\n        getMarker: function (markerCfg) {\n            var color = markerCfg.color;\n            return {\n                symbol: MarkerSymbols[shapeName] || shapeName,\n                style: {\n                    r: 4.5,\n                    stroke: color,\n                    fill: null,\n                },\n            };\n        },\n    });\n});\nexport default PointShapeFactory;\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport Geometry from './base';\n/** 引入 Point 对应的 ShapeFactory */\nimport './shape/point';\n/**\n * Point 几何标记。\n * 常用于绘制点图。\n */\nvar Point = /** @class */ (function (_super) {\n    __extends(Point, _super);\n    function Point() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'point';\n        _this.shapeType = 'point';\n        _this.generatePoints = true;\n        return _this;\n    }\n    /**\n     * 获取一个点的绘制信息。\n     * @param mappingDatum\n     * @returns draw cfg\n     */\n    Point.prototype.getDrawCfg = function (mappingDatum) {\n        var shapeCfg = _super.prototype.getDrawCfg.call(this, mappingDatum);\n        return __assign(__assign({}, shapeCfg), { isStack: !!this.getAdjust('stack') });\n    };\n    return Point;\n}(Geometry));\nexport default Point;\n//# sourceMappingURL=point.js.map","import { __assign } from \"tslib\";\nimport { each, isEmpty, isEqual, last } from '@antv/util';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nfunction getPath(points) {\n    var flag = points[0];\n    var i = 1;\n    var path = [['M', flag.x, flag.y]];\n    while (i < points.length) {\n        var c = points[i];\n        if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n            path.push(['L', c.x, c.y]);\n            if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n                flag = points[i + 1];\n                path.push(['Z']);\n                path.push(['M', flag.x, flag.y]);\n                i++;\n            }\n        }\n        i++;\n    }\n    if (!isEqual(last(path), flag)) {\n        path.push(['L', flag.x, flag.y]);\n    }\n    path.push(['Z']);\n    return path;\n}\nvar PolygonShapeFactory = registerShapeFactory('polygon', {\n    defaultShapeType: 'polygon',\n    getDefaultPoints: function (pointInfo) {\n        var points = [];\n        each(pointInfo.x, function (subX, index) {\n            var subY = pointInfo.y[index];\n            points.push({\n                x: subX,\n                y: subY,\n            });\n        });\n        return points;\n    },\n});\nregisterShape('polygon', 'polygon', {\n    draw: function (cfg, container) {\n        if (!isEmpty(cfg.points)) {\n            var shapeAttrs = getStyle(cfg, true, true);\n            var path = this.parsePath(getPath(cfg.points));\n            return container.addShape('path', {\n                attrs: __assign(__assign({}, shapeAttrs), { path: path }),\n                name: 'polygon',\n            });\n        }\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\nexport default PolygonShapeFactory;\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport Geometry from './base';\n/** 引入 Path 对应的 ShapeFactory */\nimport './shape/polygon';\n/**\n * Polygon 几何标记。\n * 常用于绘制色块图、日历图等。\n */\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'polygon';\n        _this.shapeType = 'polygon';\n        _this.generatePoints = true;\n        return _this;\n    }\n    /**\n     * 获取 Shape 的关键点数据。\n     * @param obj\n     * @returns\n     */\n    Polygon.prototype.createShapePointsCfg = function (obj) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n        var x = cfg.x;\n        var y = cfg.y;\n        var temp;\n        // x y 都是数组时，不做处理\n        if (!(isArray(x) && isArray(y))) {\n            var xScale = this.getXScale();\n            var yScale = this.getYScale();\n            var xCount = xScale.values.length;\n            var yCount = yScale.values.length;\n            var xOffset = (0.5 * 1) / xCount;\n            var yOffset = (0.5 * 1) / yCount;\n            if (xScale.isCategory && yScale.isCategory) {\n                // 如果x,y都是分类\n                x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n                y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n            }\n            else if (isArray(x)) {\n                // x 是数组\n                temp = x;\n                x = [temp[0], temp[0], temp[1], temp[1]];\n                y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n            }\n            else if (isArray(y)) {\n                // y 是数组\n                temp = y;\n                y = [temp[0], temp[1], temp[1], temp[0]];\n                x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n            }\n            cfg.x = x;\n            cfg.y = y;\n        }\n        return cfg;\n    };\n    return Polygon;\n}(Geometry));\nexport default Polygon;\n//# sourceMappingURL=polygon.js.map","import { registerShapeFactory } from '../base';\nvar SchemaShapeFactory = registerShapeFactory('schema', {\n    defaultShapeType: '',\n});\nexport default SchemaShapeFactory;\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/** 引入对应的 ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n/**\n * Schema 几何标记，用于一些自定义图形的绘制，比如箱型图、股票图等。\n */\nvar Schema = /** @class */ (function (_super) {\n    __extends(Schema, _super);\n    function Schema() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'schema';\n        _this.shapeType = 'schema';\n        _this.generatePoints = true;\n        return _this;\n    }\n    /**\n     * 获取 Shape 的关键点数据。\n     * @param record\n     * @returns\n     */\n    Schema.prototype.createShapePointsCfg = function (record) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, record);\n        // 计算每个 shape 的 size\n        var size;\n        var sizeAttr = this.getAttribute('size');\n        if (sizeAttr) {\n            size = this.getAttributeValues(sizeAttr, record)[0];\n            // 归一化\n            var coordinate = this.coordinate;\n            var coordinateWidth = getXDimensionLength(coordinate);\n            size = size / coordinateWidth;\n        }\n        else {\n            if (!this.defaultSize) {\n                this.defaultSize = getDefaultSize(this);\n            }\n            size = this.defaultSize;\n        }\n        cfg.size = size;\n        return cfg;\n    };\n    return Schema;\n}(Geometry));\nexport default Schema;\n//# sourceMappingURL=schema.js.map","import { each } from '@antv/util';\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from, to) {\n    var points = [];\n    points.push({\n        x: from.x,\n        y: from.y * 1 / 2 + to.y * 1 / 2,\n    });\n    points.push({\n        x: to.x,\n        y: from.y * 1 / 2 + to.y * 1 / 2,\n    });\n    points.push(to);\n    var sub = ['C'];\n    each(points, function (point) {\n        sub.push(point.x, point.y);\n    });\n    return sub;\n}\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to, center) {\n    var points = [];\n    points.push({\n        x: center.x,\n        y: center.y\n    });\n    points.push(to);\n    var sub = ['Q'];\n    each(points, function (point) {\n        sub.push(point.x, point.y);\n    });\n    return sub;\n}\n//# sourceMappingURL=util.js.map","import { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n/**\n * 描边但不填充的区域图\n */\nregisterShape('area', 'line', {\n    draw: function (cfg, container) {\n        var attrs = getShapeAttrs(cfg, true, false, this);\n        var shape = container.addShape({\n            type: 'path',\n            attrs: attrs,\n            name: 'area',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                if (r === void 0) { r = 5.5; }\n                return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n            },\n            style: {\n                r: 5,\n                stroke: color,\n                fill: null,\n            },\n        };\n    },\n});\n//# sourceMappingURL=line.js.map","import { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n/**\n * 填充的平滑曲面图\n */\nregisterShape('area', 'smooth', {\n    draw: function (cfg, container) {\n        var coordinate = this.coordinate;\n        var attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n        var shape = container.addShape({\n            type: 'path',\n            attrs: attrs,\n            name: 'area',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                if (r === void 0) { r = 5.5; }\n                return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n            },\n            style: {\n                r: 5,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=smooth.js.map","import { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n/** 描边的平滑曲面图 */\nregisterShape('area', 'smooth-line', {\n    draw: function (cfg, container) {\n        var coordinate = this.coordinate;\n        var attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n        var shape = container.addShape({\n            type: 'path',\n            attrs: attrs,\n            name: 'area',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                if (r === void 0) { r = 5.5; }\n                return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n            },\n            style: {\n                r: 5,\n                stroke: color,\n                fill: null,\n            },\n        };\n    },\n});\n//# sourceMappingURL=smooth-line.js.map","import { __assign } from \"tslib\";\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\nfunction getArcShapePath(from, to, center) {\n    var sub = getQPath(to, center);\n    var path = [\n        ['M', from.x, from.y]\n    ];\n    path.push(sub);\n    return path;\n}\nfunction getArcShapeWeightPath(points, center) {\n    var arc1 = getQPath(points[1], center);\n    var arc2 = getQPath(points[3], center);\n    var path = [\n        ['M', points[0].x, points[0].y]\n    ];\n    path.push(arc2);\n    path.push(['L', points[3].x, points[3].y]);\n    path.push(['L', points[2].x, points[2].y]);\n    path.push(arc1);\n    path.push(['L', points[1].x, points[1].y]);\n    path.push(['L', points[0].x, points[0].y]);\n    path.push(['Z']);\n    return path;\n}\n// 弧线包括笛卡尔坐标系下的半圆弧线、极坐标系下以圆心为控制点的二阶曲线、笛卡尔坐标系下带权重的三阶曲线、极坐标系下带权重的以圆心为控制点的二阶曲线\nregisterShape('edge', 'arc', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var points = cfg.points;\n        var type = points.length > 2 ? 'weight' : 'normal';\n        var path;\n        if (cfg.isInCircle) {\n            var center = { x: 0, y: 1 };\n            if (type === 'normal') {\n                path = getArcShapePath(points[0], points[1], center);\n            }\n            else {\n                style.fill = style.stroke;\n                path = getArcShapeWeightPath(points, center);\n            }\n            path = this.parsePath(path);\n            return container.addShape('path', {\n                attrs: __assign(__assign({}, style), { path: path }),\n            });\n        }\n        else {\n            if (type === 'normal') {\n                points = this.parsePoints(points);\n                path = getArcPath((points[1].x + points[0].x) / 2, points[0].y, Math.abs((points[1].x - points[0].x)) / 2, Math.PI, Math.PI * 2);\n                return container.addShape('path', {\n                    attrs: __assign(__assign({}, style), { path: path }),\n                });\n            }\n            else {\n                var c1 = getCPath(points[1], points[3]);\n                var c2 = getCPath(points[2], points[0]);\n                path = [\n                    ['M', points[0].x, points[0].y],\n                    ['L', points[1].x, points[1].y],\n                    c1,\n                    ['L', points[3].x, points[3].y],\n                    ['L', points[2].x, points[2].y],\n                    c2,\n                    ['Z'],\n                ];\n                path = this.parsePath(path);\n                style.fill = style.stroke;\n                return container.addShape('path', {\n                    attrs: __assign(__assign({}, style), { path: path }),\n                });\n            }\n        }\n    },\n    getMarker: function (markerCfg) {\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: markerCfg.color,\n            },\n        };\n    }\n});\n//# sourceMappingURL=arc.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\nfunction getSmoothPath(from, to) {\n    var sub = getCPath(from, to);\n    var path = [\n        ['M', from.x, from.y]\n    ];\n    path.push(sub);\n    return path;\n}\nregisterShape('edge', 'smooth', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var points = cfg.points;\n        var path = this.parsePath(getSmoothPath(points[0], points[1]));\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n        });\n    },\n    getMarker: function (markerCfg) {\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: markerCfg.color,\n            },\n        };\n    }\n});\n//# sourceMappingURL=smooth.js.map","import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nvar CORNER_PERCENT = 1 / 3;\nfunction getVHVPath(from, to) {\n    var points = [];\n    points.push({\n        x: from.x,\n        y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    });\n    points.push({\n        x: to.x,\n        y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    });\n    points.push(to);\n    var path = [\n        ['M', from.x, from.y]\n    ];\n    each(points, function (point) {\n        path.push(['L', point.x, point.y]);\n    });\n    return path;\n}\nregisterShape('edge', 'vhv', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var points = cfg.points;\n        var path = this.parsePath(getVHVPath(points[0], points[1]));\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n        });\n    },\n    getMarker: function (markerCfg) {\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: markerCfg.color,\n            },\n        };\n    }\n});\n//# sourceMappingURL=vhv.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n/** 漏斗图 */\nregisterShape('interval', 'funnel', {\n    getPoints: function (shapePoint) {\n        shapePoint.size = shapePoint.size * 2; // 漏斗图的 size 是柱状图的两倍\n        return getRectPoints(shapePoint);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, false, true);\n        var path = this.parsePath(getFunnelPath(cfg.points, cfg.nextPoints, false));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=funnel.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\n/** 描边柱状图 */\nregisterShape('interval', 'hollow-rect', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false);\n        var path = this.parsePath(getRectPath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color, isInPolar = markerCfg.isInPolar;\n        if (isInPolar) {\n            return {\n                symbol: 'circle',\n                style: {\n                    r: 4.5,\n                    stroke: color,\n                    fill: null,\n                },\n            };\n        }\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                stroke: color,\n                fill: null,\n            },\n        };\n    },\n});\n//# sourceMappingURL=hollow-rect.js.map","import { __assign } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\n// 根据数据点生成 Line 的两个关键点\nfunction getLinePoints(pointInfo) {\n    var x = pointInfo.x, y = pointInfo.y, y0 = pointInfo.y0;\n    if (isArray(y)) {\n        return y.map(function (yItem, idx) {\n            return {\n                x: isArray(x) ? x[idx] : x,\n                y: yItem,\n            };\n        });\n    }\n    // 起始点从 y0 开始\n    return [\n        { x: x, y: y0 },\n        { x: x, y: y },\n    ];\n}\nregisterShape('interval', 'line', {\n    getPoints: function (shapePoint) {\n        return getLinePoints(shapePoint);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var path = this.parsePath(getRectPath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                return [\n                    ['M', x, y - r],\n                    ['L', x, y + r],\n                ];\n            },\n            style: {\n                r: 5,\n                stroke: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=line.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n/** 金字塔图，尖底漏斗图 */\nregisterShape('interval', 'pyramid', {\n    getPoints: function (shapePoint) {\n        shapePoint.size = shapePoint.size * 2; // 漏斗图的 size 是柱状图的两倍\n        return getRectPoints(shapePoint, true);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, false, true);\n        var path = this.parsePath(getFunnelPath(cfg.points, cfg.nextPoints, true));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=pyramid.js.map","import { __assign } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n// 根据数据点生成 tick shape 的 6 个关键点\nfunction getTickPoints(pointInfo) {\n    var x = pointInfo.x, y = pointInfo.y, y0 = pointInfo.y0, size = pointInfo.size;\n    var yMin;\n    var yMax;\n    if (isArray(y)) {\n        yMin = y[0], yMax = y[1];\n    }\n    else {\n        yMin = y0;\n        yMax = y;\n    }\n    var xMax = x + size / 2;\n    var xMin = x - size / 2;\n    // tick 关键点顺序\n    // 4 - 1 - 5\n    //     |\n    // 2 - 0 - 3\n    return [\n        { x: x, y: yMin },\n        { x: x, y: yMax },\n        { x: xMin, y: yMin },\n        { x: xMax, y: yMin },\n        { x: xMin, y: yMax },\n        { x: xMax, y: yMax },\n    ];\n}\n// 根据 tick 关键点绘制 path\nfunction getTickPath(points) {\n    return [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['M', points[4].x, points[4].y],\n        ['L', points[5].x, points[5].y],\n    ];\n}\n/** I 形状柱状图，常用于 error bar chart */\nregisterShape('interval', 'tick', {\n    getPoints: function (shapePoint) {\n        return getTickPoints(shapePoint);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false);\n        var path = this.parsePath(getTickPath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                return [\n                    ['M', x - r / 2, y - r],\n                    ['L', x + r / 2, y - r],\n                    ['M', x, y - r],\n                    ['L', x, y + r],\n                    ['M', x - r / 2, y + r],\n                    ['L', x + r / 2, y + r],\n                ];\n            },\n            style: {\n                r: 5,\n                stroke: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=tick.js.map","import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\nvar interpolateCallback = function (point, nextPoint, shapeType) {\n    var x = point.x;\n    var y = point.y;\n    var nextX = nextPoint.x;\n    var nextY = nextPoint.y;\n    var result;\n    switch (shapeType) {\n        case 'hv':\n            result = [{ x: nextX, y: y }];\n            break;\n        case 'vh':\n            result = [{ x: x, y: nextY }];\n            break;\n        case 'hvh':\n            var middleX = (nextX + x) / 2;\n            result = [\n                { x: middleX, y: y },\n                { x: middleX, y: nextY },\n            ];\n            break;\n        case 'vhv':\n            var middleY = (y + nextY) / 2;\n            result = [\n                { x: x, y: middleY },\n                { x: nextX, y: middleY },\n            ];\n            break;\n        default:\n            break;\n    }\n    return result;\n};\nfunction getInterpolatePoints(points, shapeType) {\n    var result = [];\n    each(points, function (point, index) {\n        var nextPoint = points[index + 1];\n        result.push(point);\n        if (nextPoint) {\n            var interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n            result = result.concat(interpolatePoint);\n        }\n    });\n    return result;\n}\n// 插值的图形path，不考虑null\nfunction getInterpolatePath(points) {\n    return points.map(function (point, index) {\n        return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n    });\n}\n// 插值的图形\nfunction getInterpolateShapeAttrs(cfg, shapeType) {\n    var points = getPathPoints(cfg.points, cfg.connectNulls); // 根据 connectNulls 值处理 points\n    var path = [];\n    each(points, function (eachLinePoints) {\n        var interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n        path = path.concat(getInterpolatePath(interpolatePoints));\n    });\n    return __assign(__assign({}, getStyle(cfg, true, false, 'lineWidth')), { path: path });\n}\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], function (shapeType) {\n    registerShape('line', shapeType, {\n        draw: function (cfg, container) {\n            var attrs = getInterpolateShapeAttrs(cfg, shapeType);\n            var shape = container.addShape({\n                type: 'path',\n                attrs: attrs,\n                name: 'line',\n            });\n            return shape;\n        },\n        getMarker: function (markerCfg) {\n            return getLineMarker(markerCfg, shapeType);\n        },\n    });\n});\n//# sourceMappingURL=step.js.map","import { __assign } from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nfunction parseValue(value) {\n    var array = !isArray(value) ? [value] : value;\n    var min = array[0]; // 最小值\n    var max = array[array.length - 1]; // 最大值\n    var min1 = array.length > 1 ? array[1] : min;\n    var max1 = array.length > 3 ? array[3] : max;\n    var median = array.length > 2 ? array[2] : min1;\n    return {\n        min: min,\n        max: max,\n        min1: min1,\n        max1: max1,\n        median: median,\n    };\n}\nfunction getBoxPoints(x, y, size) {\n    var halfSize = size / 2;\n    var pointsArray;\n    if (isArray(y)) {\n        // 2维\n        var _a = parseValue(y), min = _a.min, max = _a.max, median = _a.median, min1 = _a.min1, max1 = _a.max1;\n        var minX = x - halfSize;\n        var maxX = x + halfSize;\n        pointsArray = [\n            [minX, max],\n            [maxX, max],\n            [x, max],\n            [x, max1],\n            [minX, min1],\n            [minX, max1],\n            [maxX, max1],\n            [maxX, min1],\n            [x, min1],\n            [x, min],\n            [minX, min],\n            [maxX, min],\n            [minX, median],\n            [maxX, median],\n        ];\n    }\n    else {\n        // 只有一个维度\n        y = isNil(y) ? 0.5 : y;\n        var _b = parseValue(x), min = _b.min, max = _b.max, median = _b.median, min1 = _b.min1, max1 = _b.max1;\n        var minY = y - halfSize;\n        var maxY = y + halfSize;\n        pointsArray = [\n            [min, minY],\n            [min, maxY],\n            [min, y],\n            [min1, y],\n            [min1, minY],\n            [min1, maxY],\n            [max1, maxY],\n            [max1, minY],\n            [max1, y],\n            [max, y],\n            [max, minY],\n            [max, maxY],\n            [median, minY],\n            [median, maxY],\n        ];\n    }\n    return pointsArray.map(function (arr) {\n        return {\n            x: arr[0],\n            y: arr[1],\n        };\n    });\n}\nfunction getBoxPath(points) {\n    return [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['M', points[4].x, points[4].y],\n        ['L', points[5].x, points[5].y],\n        ['L', points[6].x, points[6].y],\n        ['L', points[7].x, points[7].y],\n        ['L', points[4].x, points[4].y],\n        ['Z'],\n        ['M', points[8].x, points[8].y],\n        ['L', points[9].x, points[9].y],\n        ['M', points[10].x, points[10].y],\n        ['L', points[11].x, points[11].y],\n        ['M', points[12].x, points[12].y],\n        ['L', points[13].x, points[13].y],\n    ];\n}\n// box shape\nregisterShape('schema', 'box', {\n    getPoints: function (shapePoint) {\n        var x = shapePoint.x, y = shapePoint.y, size = shapePoint.size;\n        return getBoxPoints(x, y, size);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false);\n        var path = this.parsePath(getBoxPath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path, name: 'schema' }),\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                var yValues = [y - 6, y - 3, y, y + 3, y + 6];\n                var points = getBoxPoints(x, yValues, r);\n                return [\n                    ['M', points[0].x + 1, points[0].y],\n                    ['L', points[1].x - 1, points[1].y],\n                    ['M', points[2].x, points[2].y],\n                    ['L', points[3].x, points[3].y],\n                    ['M', points[4].x, points[4].y],\n                    ['L', points[5].x, points[5].y],\n                    ['L', points[6].x, points[6].y],\n                    ['L', points[7].x, points[7].y],\n                    ['L', points[4].x, points[4].y],\n                    ['Z'],\n                    ['M', points[8].x, points[8].y],\n                    ['L', points[9].x, points[9].y],\n                    ['M', points[10].x + 1, points[10].y],\n                    ['L', points[11].x - 1, points[11].y],\n                    ['M', points[12].x, points[12].y],\n                    ['L', points[13].x, points[13].y],\n                ];\n            },\n            style: {\n                r: 6,\n                lineWidth: 1,\n                stroke: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=box.js.map","import { __assign } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nfunction getCandleYValues(value) {\n    var array = !isArray(value) ? [value] : value;\n    // 从大到小排序\n    var sorted = array.sort(function (a, b) { return b - a; });\n    return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n// get candle shape's key points\nfunction getCandlePoints(x, y, size) {\n    var yValues = getCandleYValues(y);\n    return [\n        { x: x, y: yValues[0] },\n        { x: x, y: yValues[1] },\n        { x: x - size / 2, y: yValues[2] },\n        { x: x - size / 2, y: yValues[1] },\n        { x: x + size / 2, y: yValues[1] },\n        { x: x + size / 2, y: yValues[2] },\n        { x: x, y: yValues[2] },\n        { x: x, y: yValues[3] },\n    ];\n}\nfunction getCandlePath(points) {\n    return [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['L', points[4].x, points[4].y],\n        ['L', points[5].x, points[5].y],\n        ['Z'],\n        ['M', points[6].x, points[6].y],\n        ['L', points[7].x, points[7].y],\n    ];\n}\n// k line shape\nregisterShape('schema', 'candle', {\n    getPoints: function (shapePoint) {\n        var x = shapePoint.x, y = shapePoint.y, size = shapePoint.size;\n        return getCandlePoints(x, y, size);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, true);\n        var path = this.parsePath(getCandlePath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path, name: 'schema' }),\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                var yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n                var points = getCandlePoints(x, yValues, r);\n                return [\n                    ['M', points[0].x, points[0].y],\n                    ['L', points[1].x, points[1].y],\n                    ['M', points[2].x, points[2].y],\n                    ['L', points[3].x, points[3].y],\n                    ['L', points[4].x, points[4].y],\n                    ['L', points[5].x, points[5].y],\n                    ['Z'],\n                    ['M', points[6].x, points[6].y],\n                    ['L', points[7].x, points[7].y],\n                ];\n            },\n            style: {\n                lineWidth: 1,\n                stroke: color,\n                fill: color,\n                r: 6,\n            },\n        };\n    },\n});\n//# sourceMappingURL=candle.js.map","import { each } from '@antv/util';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n// 添加 hollowShape\neach(HOLLOW_SHAPES, function (shapeName) {\n    registerShape('point', shapeName, {\n        draw: function (cfg, container) {\n            return drawPoints(this, cfg, container, shapeName, true);\n        },\n        getMarker: function (markerCfg) {\n            var color = markerCfg.color;\n            return {\n                symbol: MarkerSymbols[shapeName],\n                style: {\n                    r: 4.5,\n                    stroke: color,\n                    fill: null,\n                },\n            };\n        },\n    });\n});\n//# sourceMappingURL=hollow.js.map","import { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nregisterShape('point', 'image', {\n    draw: function (cfg, container) {\n        var size = getStyle(cfg, false, false, 'r').r;\n        var points = this.parsePoints(cfg.points);\n        if (points.length > 1) {\n            var group = container.addGroup();\n            for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n                var point = points_1[_i];\n                group.addShape('image', {\n                    attrs: {\n                        x: point.x - size / 2,\n                        y: point.y - size,\n                        width: size,\n                        height: size,\n                        img: cfg.shape[1],\n                    },\n                });\n            }\n            return group;\n        }\n        return container.addShape('image', {\n            attrs: {\n                x: points[0].x - size / 2,\n                y: points[0].y - size,\n                width: size,\n                height: size,\n                img: cfg.shape[1],\n            },\n        });\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=image.js.map","import { each } from '@antv/util';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n// 所有的 SHAPES 都注册一下\neach(SHAPES, function (shapeName) {\n    registerShape('point', shapeName, {\n        draw: function (cfg, container) {\n            return drawPoints(this, cfg, container, shapeName, false);\n        },\n        getMarker: function (markerCfg) {\n            var color = markerCfg.color;\n            return {\n                symbol: MarkerSymbols[shapeName] || shapeName,\n                style: {\n                    r: 4.5,\n                    fill: color,\n                },\n            };\n        },\n    });\n});\n//# sourceMappingURL=solid.js.map","import { __extends } from \"tslib\";\nimport GeometryLabel from './base';\n/**\n * 柱状图 label\n */\nvar IntervalLabel = /** @class */ (function (_super) {\n    __extends(IntervalLabel, _super);\n    function IntervalLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IntervalLabel.prototype.setLabelPosition = function (labelPointCfg, mappingData, index, position) {\n        var coordinate = this.coordinate;\n        var transposed = coordinate.isTransposed;\n        var shapePoints = mappingData.points;\n        var point0 = coordinate.convert(shapePoints[0]);\n        var point1 = coordinate.convert(shapePoints[2]);\n        var width = ((point0.x - point1.x) / 2) * (transposed ? -1 : 1);\n        var height = ((point0.y - point1.y) / 2) * (transposed ? -1 : 1);\n        switch (position) {\n            case 'right':\n                if (transposed) {\n                    labelPointCfg.x -= width;\n                    labelPointCfg.y += height;\n                    labelPointCfg.textAlign = labelPointCfg.textAlign || 'center';\n                }\n                else {\n                    labelPointCfg.x -= width;\n                    labelPointCfg.y += height;\n                    labelPointCfg.textAlign = labelPointCfg.textAlign || 'left';\n                }\n                break;\n            case 'left':\n                if (transposed) {\n                    labelPointCfg.x -= width;\n                    labelPointCfg.y -= height;\n                    labelPointCfg.textAlign = labelPointCfg.textAlign || 'center';\n                }\n                else {\n                    labelPointCfg.x += width;\n                    labelPointCfg.y += height;\n                    labelPointCfg.textAlign = labelPointCfg.textAlign || 'right';\n                }\n                break;\n            case 'bottom':\n                if (transposed) {\n                    labelPointCfg.x -= width * 2;\n                    labelPointCfg.textAlign = labelPointCfg.textAlign || 'left';\n                }\n                else {\n                    labelPointCfg.y += height * 2;\n                    labelPointCfg.textAlign = labelPointCfg.textAlign || 'center';\n                }\n                break;\n            case 'middle':\n                if (transposed) {\n                    labelPointCfg.x -= width;\n                }\n                else {\n                    labelPointCfg.y += height;\n                }\n                labelPointCfg.textAlign = labelPointCfg.textAlign || 'center';\n                break;\n            case 'top':\n                if (transposed) {\n                    labelPointCfg.textAlign = labelPointCfg.textAlign || 'left';\n                }\n                else {\n                    labelPointCfg.textAlign = labelPointCfg.textAlign || 'center';\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    return IntervalLabel;\n}(GeometryLabel));\nexport default IntervalLabel;\n//# sourceMappingURL=interval.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, isArray } from '@antv/util';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getPointAngle } from '../../util/coordinate';\nimport GeometryLabel from './base';\nvar HALF_PI = Math.PI / 2;\n/**\n * 极坐标下的图形 label\n */\nvar PolarLabel = /** @class */ (function (_super) {\n    __extends(PolarLabel, _super);\n    function PolarLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PolarLabel.prototype.getLabelAlign = function (point) {\n        var coordinate = this.coordinate;\n        var align;\n        if (point.labelEmit) {\n            if (point.angle <= Math.PI / 2 && point.angle > -Math.PI / 2) {\n                align = 'left';\n            }\n            else {\n                align = 'right';\n            }\n        }\n        else if (!coordinate.isTransposed) {\n            align = 'center';\n        }\n        else {\n            var center = coordinate.getCenter();\n            var offset = this.getDefaultOffset(point.offset);\n            if (Math.abs(point.x - center.x) < 1) {\n                align = 'center';\n            }\n            else if (point.angle > Math.PI || point.angle <= 0) {\n                if (offset > 0) {\n                    align = 'left';\n                }\n                else {\n                    align = 'right';\n                }\n            }\n            else {\n                if (offset > 0) {\n                    align = 'right';\n                }\n                else {\n                    align = 'left';\n                }\n            }\n        }\n        return align;\n    };\n    PolarLabel.prototype.getLabelPoint = function (labelCfg, mappingData, index) {\n        var factor = 1;\n        var arcPoint;\n        var content = labelCfg.content[index];\n        if (this.isToMiddle(mappingData)) {\n            arcPoint = this.getMiddlePoint(mappingData.points);\n        }\n        else {\n            if (labelCfg.content.length === 1 && index === 0) {\n                index = 1;\n            }\n            else if (index === 0) {\n                factor = -1;\n            }\n            arcPoint = this.getArcPoint(mappingData, index);\n        }\n        var offset = this.getDefaultOffset(labelCfg.offset) * factor;\n        var middleAngle = this.getPointAngle(arcPoint);\n        var isLabelEmit = labelCfg.labelEmit;\n        var labelPositionCfg = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n        if (labelPositionCfg.r === 0) {\n            // 如果文本位置位于圆心，则不展示\n            labelPositionCfg.content = '';\n        }\n        else {\n            labelPositionCfg.content = content;\n            labelPositionCfg.angle = middleAngle;\n            labelPositionCfg.color = mappingData.color;\n        }\n        labelPositionCfg.rotate = labelCfg.autoRotate\n            ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n            : labelCfg.rotate;\n        labelPositionCfg.start = {\n            x: arcPoint.x,\n            y: arcPoint.y,\n        };\n        return labelPositionCfg;\n    };\n    PolarLabel.prototype.getArcPoint = function (mappingData, index) {\n        if (index === void 0) { index = 0; }\n        var arcPoint;\n        if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n            arcPoint = {\n                x: mappingData.x,\n                y: mappingData.y,\n            };\n        }\n        else {\n            arcPoint = {\n                x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n                y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n            };\n        }\n        return arcPoint;\n    };\n    // 获取点所在的角度\n    PolarLabel.prototype.getPointAngle = function (point) {\n        return getPointAngle(this.coordinate, point);\n    };\n    PolarLabel.prototype.getCirclePoint = function (angle, offset, point, isLabelEmit) {\n        var coordinate = this.coordinate;\n        var center = coordinate.getCenter();\n        var r = getDistanceToCenter(coordinate, point);\n        if (r === 0) {\n            return __assign(__assign({}, center), { r: r });\n        }\n        var labelAngle = angle;\n        if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n            var appendAngle = Math.asin(offset / (2 * r));\n            labelAngle = angle + appendAngle * 2;\n        }\n        else {\n            r = r + offset;\n        }\n        return {\n            x: center.x + r * Math.cos(labelAngle),\n            y: center.y + r * Math.sin(labelAngle),\n            r: r,\n        };\n    };\n    // angle 为弧度\n    PolarLabel.prototype.getLabelRotate = function (angle, offset, isLabelEmit) {\n        var rotate = angle + HALF_PI;\n        if (isLabelEmit) {\n            rotate -= HALF_PI;\n        }\n        if (rotate) {\n            if (rotate > HALF_PI) {\n                rotate = rotate - Math.PI;\n            }\n            else if (rotate < -HALF_PI) {\n                rotate = rotate + Math.PI;\n            }\n        }\n        return rotate;\n    };\n    // 获取中心的位置\n    PolarLabel.prototype.getMiddlePoint = function (points) {\n        var coordinate = this.coordinate;\n        var count = points.length;\n        var middlePoint = {\n            x: 0,\n            y: 0,\n        };\n        each(points, function (point) {\n            middlePoint.x += point.x;\n            middlePoint.y += point.y;\n        });\n        middlePoint.x /= count;\n        middlePoint.y /= count;\n        middlePoint = coordinate.convert(middlePoint);\n        return middlePoint;\n    };\n    // 是否居中\n    PolarLabel.prototype.isToMiddle = function (mappingData) {\n        return mappingData.x.length > 2;\n    };\n    return PolarLabel;\n}(GeometryLabel));\nexport default PolarLabel;\n//# sourceMappingURL=polar.js.map","import { __assign, __extends } from \"tslib\";\nimport { get, isArray, isObject } from '@antv/util';\nimport { getPointAngle } from '../../util/coordinate';\nimport PolarLabel from './polar';\n/** label text和line距离 4px */\nvar MARGIN = 4;\nfunction getEndPoint(center, angle, r) {\n    return {\n        x: center.x + r * Math.cos(angle),\n        y: center.y + r * Math.sin(angle),\n    };\n}\nfunction antiCollision(labels, lineHeight, plotRange, center, isRight) {\n    // adjust y position of labels to avoid overlapping\n    var overlapping = true;\n    var start = plotRange.start;\n    var end = plotRange.end;\n    var startY = Math.min(start.y, end.y);\n    var totalHeight = Math.abs(start.y - end.y);\n    var i;\n    var maxY = 0;\n    var minY = Number.MIN_VALUE;\n    var boxes = labels.map(function (label) {\n        if (label.y > maxY) {\n            maxY = label.y;\n        }\n        if (label.y < minY) {\n            minY = label.y;\n        }\n        return {\n            size: lineHeight,\n            targets: [label.y - startY],\n        };\n    });\n    minY -= startY;\n    if (maxY - startY > totalHeight) {\n        totalHeight = maxY - startY;\n    }\n    while (overlapping) {\n        /* eslint no-loop-func: 0 */\n        boxes.forEach(function (box) {\n            var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n            box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n            // box.pos = Math.max(0, target - box.size / 2);\n        });\n        // detect overlapping and join boxes\n        overlapping = false;\n        i = boxes.length;\n        while (i--) {\n            if (i > 0) {\n                var previousBox = boxes[i - 1];\n                var box = boxes[i];\n                if (previousBox.pos + previousBox.size > box.pos) {\n                    // overlapping\n                    previousBox.size += box.size;\n                    previousBox.targets = previousBox.targets.concat(box.targets);\n                    // overflow, shift up\n                    if (previousBox.pos + previousBox.size > totalHeight) {\n                        previousBox.pos = totalHeight - previousBox.size;\n                    }\n                    boxes.splice(i, 1); // removing box\n                    overlapping = true;\n                }\n            }\n        }\n    }\n    i = 0;\n    // step 4: normalize y and adjust x\n    boxes.forEach(function (b) {\n        var posInCompositeBox = startY + lineHeight / 2; // middle of the label\n        b.targets.forEach(function () {\n            labels[i].y = b.pos + posInCompositeBox;\n            posInCompositeBox += lineHeight;\n            i++;\n        });\n    });\n    // (x - cx)^2 + (y - cy)^2 = totalR^2\n    labels.forEach(function (label) {\n        var rPow2 = label.r * label.r;\n        var dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n        if (rPow2 < dyPow2) {\n            label.x = center.x;\n        }\n        else {\n            var dx = Math.sqrt(rPow2 - dyPow2);\n            if (!isRight) {\n                // left\n                label.x = center.x - dx;\n            }\n            else {\n                // right\n                label.x = center.x + dx;\n            }\n        }\n    });\n}\n/**\n * 饼图 label\n */\nvar PieLabel = /** @class */ (function (_super) {\n    __extends(PieLabel, _super);\n    function PieLabel(geometry) {\n        var _this = _super.call(this, geometry) || this;\n        _this.defaultLabelCfg = get(geometry.theme, 'pieLabels', {});\n        return _this;\n    }\n    PieLabel.prototype.getDefaultOffset = function (offset) {\n        return offset || 0;\n    };\n    PieLabel.prototype.adjustItems = function (items) {\n        var offset = items[0] ? items[0].offset : 0;\n        if (offset > 0) {\n            items = this.distribute(items, offset);\n        }\n        return _super.prototype.adjustItems.call(this, items);\n    };\n    // 连接线\n    PieLabel.prototype.lineToLabel = function (label) {\n        var coordinate = this.coordinate;\n        // @ts-ignore\n        var r = coordinate.getRadius();\n        var distance = label.offset;\n        var angle = label.angle;\n        var center = coordinate.getCenter();\n        // 贴近圆周\n        var start = getEndPoint(center, angle, r);\n        var inner = getEndPoint(center, angle, r + distance / 2);\n        var end = {\n            x: label.x - Math.cos(angle) * MARGIN,\n            y: label.y - Math.sin(angle) * MARGIN,\n        };\n        if (!isObject(label.labelLine)) {\n            // labelLine: true\n            label.labelLine = {};\n        }\n        label.labelLine.path = [\"M \" + start.x, start.y + \" Q\" + inner.x, inner.y + \" \" + end.x, end.y].join(',');\n    };\n    PieLabel.prototype.getLabelRotate = function (angle, offset, isLabelLimit) {\n        var rotate;\n        if (offset < 0) {\n            rotate = angle;\n            if (rotate > Math.PI / 2) {\n                rotate = rotate - Math.PI;\n            }\n            if (rotate < -Math.PI / 2) {\n                rotate = rotate + Math.PI;\n            }\n        }\n        return rotate;\n    };\n    PieLabel.prototype.getLabelAlign = function (point) {\n        var coordinate = this.coordinate;\n        var center = coordinate.getCenter();\n        var align;\n        if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n            align = 'left';\n        }\n        else {\n            align = 'right';\n        }\n        var offset = this.getDefaultOffset(point.offset);\n        if (offset <= 0) {\n            if (align === 'right') {\n                align = 'left';\n            }\n            else {\n                align = 'right';\n            }\n        }\n        return align;\n    };\n    PieLabel.prototype.getArcPoint = function (point) {\n        return point;\n    };\n    PieLabel.prototype.getPointAngle = function (point) {\n        var coordinate = this.coordinate;\n        var startPoint = {\n            x: isArray(point.x) ? point.x[0] : point.x,\n            y: point.y[0],\n        };\n        var endPoint = {\n            x: isArray(point.x) ? point.x[1] : point.x,\n            y: point.y[1],\n        };\n        var angle;\n        var startAngle = getPointAngle(coordinate, startPoint);\n        if (point.points && point.points[0].y === point.points[1].y) {\n            angle = startAngle;\n        }\n        else {\n            var endAngle = getPointAngle(coordinate, endPoint);\n            if (startAngle >= endAngle) {\n                // 100% pie slice\n                endAngle = endAngle + Math.PI * 2;\n            }\n            angle = startAngle + (endAngle - startAngle) / 2;\n        }\n        return angle;\n    };\n    PieLabel.prototype.getCirclePoint = function (angle, offset, p) {\n        var coordinate = this.coordinate;\n        var center = coordinate.getCenter();\n        // @ts-ignore\n        var r = coordinate.getRadius() + offset;\n        return __assign(__assign({}, getEndPoint(center, angle, r)), { angle: angle,\n            r: r });\n    };\n    // distribute labels\n    PieLabel.prototype.distribute = function (labels, offset) {\n        var coordinate = this.coordinate;\n        // @ts-ignore\n        var radius = coordinate.getRadius();\n        var lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n        var center = coordinate.getCenter();\n        var totalR = radius + offset;\n        var totalHeight = totalR * 2 + lineHeight * 2;\n        var plotRange = {\n            start: coordinate.start,\n            end: coordinate.end,\n        };\n        // step 1: separate labels\n        var halves = [\n            [],\n            [],\n        ];\n        labels.forEach(function (label) {\n            if (!label) {\n                return;\n            }\n            if (label.textAlign === 'right') {\n                // left\n                halves[0].push(label);\n            }\n            else {\n                // right or center will be put on the right side\n                halves[1].push(label);\n            }\n        });\n        halves.forEach(function (half, index) {\n            // step 2: reduce labels\n            var maxLabelsCountForOneSide = totalHeight / lineHeight;\n            if (half.length > maxLabelsCountForOneSide) {\n                half.sort(function (a, b) {\n                    // sort by percentage DESC\n                    return b['..percent'] - a['..percent'];\n                });\n                half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n            }\n            // step 3: distribute position (x and y)\n            half.sort(function (a, b) {\n                // sort by y ASC\n                return a.y - b.y;\n            });\n            antiCollision(half, lineHeight, plotRange, center, index);\n        });\n        return halves[0].concat(halves[1]);\n    };\n    return PieLabel;\n}(PolarLabel));\nexport default PieLabel;\n//# sourceMappingURL=pie.js.map","import { each } from '@antv/util';\nvar MAX_TIMES = 100;\n/**\n * @ignore\n * Greedy 贪婪算法\n */\nvar Greedy = /** @class */ (function () {\n    function Greedy(cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        this.bitmap = {};\n        var _a = cfg.xGap, xGap = _a === void 0 ? 1 : _a, _b = cfg.yGap, yGap = _b === void 0 ? 8 : _b;\n        this.xGap = xGap;\n        this.yGap = yGap;\n    }\n    Greedy.prototype.hasGap = function (bbox) {\n        var hasGap = true;\n        var bitmap = this.bitmap;\n        var minX = Math.round(bbox.minX);\n        var maxX = Math.round(bbox.maxX);\n        var minY = Math.round(bbox.minY);\n        var maxY = Math.round(bbox.maxY);\n        for (var i = minX; i <= maxX; i += 1) {\n            if (!bitmap[i]) {\n                bitmap[i] = {};\n                continue;\n            }\n            if (i === minX || i === maxX) {\n                for (var j = minY; j <= maxY; j++) {\n                    if (bitmap[i][j]) {\n                        hasGap = false;\n                        break;\n                    }\n                }\n            }\n            else {\n                if (bitmap[i][minY] || bitmap[i][maxY]) {\n                    hasGap = false;\n                    break;\n                }\n            }\n        }\n        return hasGap;\n    };\n    Greedy.prototype.fillGap = function (bbox) {\n        var bitmap = this.bitmap;\n        var minX = Math.round(bbox.minX);\n        var maxX = Math.round(bbox.maxX);\n        var minY = Math.round(bbox.minY);\n        var maxY = Math.round(bbox.maxY);\n        // filling grid\n        for (var i = minX; i <= maxX; i += 1) {\n            if (!bitmap[i]) {\n                bitmap[i] = {};\n            }\n        }\n        for (var i = minX; i <= maxX; i += this.xGap) {\n            for (var j = minY; j <= maxY; j += this.yGap) {\n                bitmap[i][j] = true;\n            }\n            bitmap[i][maxY] = true;\n        }\n        // filling y edges\n        if (this.yGap !== 1) {\n            for (var i = minY; i <= maxY; i += 1) {\n                bitmap[minX][i] = true;\n                bitmap[maxX][i] = true;\n            }\n        }\n        // filling x edges\n        if (this.xGap !== 1) {\n            for (var i = minX; i <= maxX; i += 1) {\n                bitmap[i][minY] = true;\n                bitmap[i][maxY] = true;\n            }\n        }\n    };\n    Greedy.prototype.destroy = function () {\n        this.bitmap = {};\n    };\n    return Greedy;\n}());\nfunction spiralFill(label, greedy, maxTimes) {\n    if (maxTimes === void 0) { maxTimes = MAX_TIMES; }\n    var dt = -1;\n    var _a = label.attr(), x = _a.x, y = _a.y;\n    var bbox = label.getCanvasBBox();\n    var maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n    var dxdy;\n    var t = -dt;\n    var dx = 0;\n    var dy = 0;\n    var f = function (param) {\n        var nt = param * 0.1;\n        return [nt * Math.cos(nt), nt * Math.sin(nt)];\n    };\n    if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        return true;\n    }\n    var canFill = false;\n    var times = 0;\n    var accessedCache = {};\n    while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n        dxdy = f((t += dt));\n        dx = ~~dxdy[0];\n        dy = ~~dxdy[1];\n        if ((!dx && !dy) || accessedCache[dx + \"-\" + dy]) {\n            continue;\n        }\n        label.attr({ x: x + dx, y: y + dy });\n        if (dx + dy < 0) {\n            label.attr('textAlign', 'right');\n        }\n        times++;\n        if (greedy.hasGap(label.getCanvasBBox())) {\n            greedy.fillGap(label.getCanvasBBox());\n            canFill = true;\n            accessedCache[dx + \"-\" + dy] = true;\n            break;\n        }\n    }\n    return canFill;\n}\n/*\n *  根据如下规则尝试放置label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   —————————4————————   7\n *        |    2   |   3   |\n *        ——————————————————\n *                 6\n */\nfunction adjustLabelPosition(label, x, y, index) {\n    var _a = label.getCanvasBBox(), width = _a.width, height = _a.height;\n    var attrs = {\n        x: x,\n        y: y,\n        textAlign: 'center',\n    };\n    switch (index) {\n        case 0:\n            attrs.y -= height + 1;\n            attrs.x += 1;\n            attrs.textAlign = 'left';\n            break;\n        case 1:\n            attrs.y -= height + 1;\n            attrs.x -= 1;\n            attrs.textAlign = 'right';\n            break;\n        case 2:\n            attrs.y += height + 1;\n            attrs.x -= 1;\n            attrs.textAlign = 'right';\n            break;\n        case 3:\n            attrs.y += height + 1;\n            attrs.x += 1;\n            attrs.textAlign = 'left';\n            break;\n        case 5:\n            attrs.y -= height * 2 + 2;\n            break;\n        case 6:\n            attrs.y += height * 2 + 2;\n            break;\n        case 7:\n            attrs.x += width + 1;\n            attrs.textAlign = 'left';\n            break;\n        case 8:\n            attrs.x -= width + 1;\n            attrs.textAlign = 'right';\n            break;\n        default:\n            break;\n    }\n    label.attr(attrs);\n    return label.getCanvasBBox();\n}\n/**\n * @ignore\n * label 防遮挡布局：在不改变 label 位置的情况下对相互重叠的 label 进行调整。\n * 不同于 'overlap' 类型的布局，该布局不会对 label 的位置进行偏移调整。\n * @param labels 参与布局调整的 label 数组集合\n */\nexport function fixedOverlap(labels, shapes, region) {\n    var greedy = new Greedy();\n    each(labels, function (label) {\n        var labelShape = label.find(function (shape) { return shape.get('type') === 'text'; });\n        if (!spiralFill(labelShape, greedy)) {\n            label.remove(true);\n        }\n    });\n    greedy.destroy();\n}\n/**\n * @ignore\n * label 防遮挡布局：为了防止 label 之间相互覆盖同时保证尽可能多 的 label 展示，通过尝试将 label 向**四周偏移**来剔除放不下的 label\n * @param labels 参与布局调整的 label 数组集合\n */\nexport function overlap(labels, shapes, region) {\n    var greedy = new Greedy();\n    each(labels, function (label) {\n        var labelShape = label.find(function (shape) { return shape.get('type') === 'text'; });\n        var _a = labelShape.attr(), x = _a.x, y = _a.y;\n        var canFill = false;\n        for (var i = 0; i <= 8; i++) {\n            var bbox = adjustLabelPosition(labelShape, x, y, i);\n            if (greedy.hasGap(bbox)) {\n                greedy.fillGap(bbox);\n                canFill = true;\n                break;\n            }\n        }\n        if (!canFill) {\n            label.remove(true);\n        }\n    });\n    greedy.destroy();\n}\n//# sourceMappingURL=overlap.js.map","import { transform } from '@antv/matrix-util';\n/**\n * @ignore\n * 对图形元素进行矩阵变换，同时返回变换前的图形矩阵\n * @param shape 进行矩阵变换的图形\n * @param vector 矩阵变换的中心点\n * @param direct 矩阵变换的类型\n */\nexport function transformShape(shape, vector, direct) {\n    var scaledMatrix;\n    var x = vector[0], y = vector[1];\n    shape.applyToMatrix([x, y, 1]);\n    if (direct === 'x') {\n        shape.setMatrix(transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 1],\n            ['t', x, y],\n        ]));\n        scaledMatrix = transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 1],\n            ['t', x, y],\n        ]);\n    }\n    else if (direct === 'y') {\n        shape.setMatrix(transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 1, 0.01],\n            ['t', x, y],\n        ]));\n        scaledMatrix = transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 1, 100],\n            ['t', x, y],\n        ]);\n    }\n    else if (direct === 'xy') {\n        shape.setMatrix(transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n        ]));\n        scaledMatrix = transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n        ]);\n    }\n    return scaledMatrix;\n}\n/**\n * 对图形元素进行剪切动画\n * @param element 进行动画的图形元素\n * @param animateCfg 动画配置\n * @param coordinate 当前坐标系\n * @param yMinPoint y 轴的最小值对应的图形坐标点\n * @param type 剪切动画的类型\n */\nexport function doScaleAnimate(element, animateCfg, coordinate, yMinPoint, type) {\n    var start = coordinate.start, end = coordinate.end;\n    var width = coordinate.getWidth();\n    var height = coordinate.getHeight();\n    var x;\n    var y;\n    if (type === 'y') {\n        x = start.x + width / 2;\n        y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n    }\n    else if (type === 'x') {\n        x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n        y = start.y + height / 2;\n    }\n    else if (type === 'xy') {\n        if (coordinate.isPolar) {\n            x = coordinate.getCenter().x;\n            y = coordinate.getCenter().y;\n        }\n        else {\n            x = (start.x + end.x) / 2;\n            y = (start.y + end.y) / 2;\n        }\n    }\n    var endMatrix = transformShape(element, [x, y], type);\n    element.animate({\n        matrix: endMatrix,\n    }, animateCfg);\n}\n//# sourceMappingURL=util.js.map","import { __assign } from \"tslib\";\nimport getArcParams from '@antv/g-canvas/lib/util/arc-params';\nimport { isNumberEqual, isEqual } from '@antv/util';\nimport { getArcPath, getSectorPath } from '../../util/graphics';\nfunction getAngle(startPoint, arcPath) {\n    var _a;\n    var _b = getArcParams(startPoint, arcPath), startAngle = _b.startAngle, endAngle = _b.endAngle;\n    if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n        startAngle += Math.PI * 2;\n    }\n    if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n        endAngle += Math.PI * 2;\n    }\n    if (arcPath[5] === 0) {\n        // 逆时针，需要将 startAngle 和 endAngle 转置，因为 G2 极坐标系为顺时针方向\n        _a = [endAngle, startAngle], startAngle = _a[0], endAngle = _a[1];\n    }\n    if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n        startAngle = Math.PI * -0.5;\n    }\n    if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n        endAngle = Math.PI * 1.5;\n    }\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\nfunction getArcStartPoint(path) {\n    var startPoint;\n    if (path[0] === 'M' || path[0] === 'L') {\n        startPoint = [path[1], path[2]];\n    }\n    else if (path[0] === 'a' || path[0] === 'A') {\n        startPoint = [path[path.length - 2], path[path.length - 1]];\n    }\n    return startPoint;\n}\n/**\n * path 存在以下情况\n * 1. 饼图不为整圆的 path，命令为 M, L, A, L, Z\n * 2. 饼图为整圆的 path，命令为 M, M, A, A, M, Z\n * 3. 环图不为整圆的 path，命令为 M, A, L, A, L, Z\n * 4. 环图为整圆的 path，命令为 M, A, A, M, A, A, M, Z\n * 5. radial-line, 不为整圆时的 path, 命令为 M, A, A, Z\n * 6. radial-line, 为整圆时的 path，命令为 M, A, A, A, A, Z\n * @param path theta 坐标系下圆弧的 path 命令\n */\nfunction getArcInfo(path) {\n    var _a;\n    var startAngle;\n    var endAngle;\n    var arcPaths = path.filter(function (command) {\n        return command[0] === 'A' || command[0] === 'a';\n    });\n    var firstArcPathCommand = arcPaths[0];\n    var lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n    var firstIndex = path.indexOf(firstArcPathCommand);\n    var lastIndex = path.indexOf(lastArcPathCommand);\n    var firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n    var lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n    var _b = getAngle(firstStartPoint, firstArcPathCommand), firstStartAngle = _b.startAngle, firstEndAngle = _b.endAngle;\n    var _c = getAngle(lastStartPoint, lastArcPathCommand), lastStartAngle = _c.startAngle, lastEndAngle = _c.endAngle;\n    if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n        startAngle = firstStartAngle;\n        endAngle = firstEndAngle;\n    }\n    else {\n        startAngle = Math.min(firstStartAngle, lastStartAngle);\n        endAngle = Math.max(firstEndAngle, lastEndAngle);\n    }\n    var radius = firstArcPathCommand[1];\n    var innerRadius = arcPaths[arcPaths.length - 1][1];\n    if (radius < innerRadius) {\n        _a = [innerRadius, radius], radius = _a[0], innerRadius = _a[1];\n    }\n    else if (radius === innerRadius) {\n        innerRadius = 0;\n    }\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n        radius: radius,\n        innerRadius: innerRadius,\n    };\n}\n/**\n * @ignore\n * 饼图更新动画\n * @param shape 文本图形\n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape, animateCfg, cfg) {\n    var toAttrs = cfg.toAttrs, coordinate = cfg.coordinate;\n    // @ts-ignore\n    var path = toAttrs.path;\n    var pathCommands = path.map(function (command) { return command[0]; });\n    var _a = getArcInfo(path), curStartAngle = _a.startAngle, curEndAngle = _a.endAngle, radius = _a.radius, innerRadius = _a.innerRadius;\n    var _b = getArcInfo(shape.attr('path')), preStartAngle = _b.startAngle, preEndAngle = _b.endAngle;\n    var center = coordinate.getCenter();\n    var diffStartAngle = curStartAngle - preStartAngle;\n    var diffEndAngle = curEndAngle - preEndAngle;\n    shape.animate(function (ratio) {\n        var onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n        var onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n        return __assign(__assign({}, toAttrs), { path: \n            // hack, 兼容 /examples/bar/basic/demo/radial-line.ts 动画\n            isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n                ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n                : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius) });\n    }, __assign(__assign({}, animateCfg), { callback: function () {\n            // 将 path 保持原始态，否则会影响 setState() 的动画\n            shape.attr('path', path);\n        } }));\n}\n//# sourceMappingURL=sector-path-update.js.map","import { __assign } from \"tslib\";\nimport { transform } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nfunction doShapeZoom(shape, animateCfg, type) {\n    if (shape.isGroup()) {\n        each(shape.getChildren(), function (child) {\n            doShapeZoom(child, animateCfg, type);\n        });\n    }\n    else {\n        var bbox = shape.getBBox();\n        var x = (bbox.minX + bbox.maxX) / 2;\n        var y = (bbox.minY + bbox.maxY) / 2;\n        shape.applyToMatrix([x, y, 1]);\n        if (type === 'zoomIn') {\n            // 放大\n            var matrix = transform(shape.getMatrix(), [\n                ['t', -x, -y],\n                ['s', 0.01, 0.01],\n                ['t', x, y],\n            ]);\n            shape.setMatrix(matrix);\n            shape.animate({\n                matrix: transform(shape.getMatrix(), [\n                    ['t', -x, -y],\n                    ['s', 100, 100],\n                    ['t', x, y],\n                ]),\n            }, animateCfg);\n        }\n        else {\n            shape.animate({\n                matrix: transform(shape.getMatrix(), [\n                    ['t', -x, -y],\n                    ['s', 0.01, 0.01],\n                    ['t', x, y],\n                ]),\n            }, __assign(__assign({}, animateCfg), { callback: function () {\n                    shape.remove(true);\n                } }));\n        }\n    }\n}\n/**\n * @ignore\n * 单个 shape 动画\n * shape 以自身中心点逐渐放大的进入动画\n * @param shape 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function zoomIn(shape, animateCfg, cfg) {\n    doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n/**\n * @ignore\n * 单个 shape 动画\n * 消失动画，shape 以自身为中心点的逐渐缩小\n * @param shape 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function zoomOut(shape, animateCfg, cfg) {\n    doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n//# sourceMappingURL=zoom.js.map","import { DIRECTION } from '../constant';\n/**\n * @ignore\n * 获取 facet title 的最佳默认配置，防止\n */\nexport function getFactTitleConfig(direction) {\n    if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n        return {\n            offsetX: 0,\n            offsetY: direction === DIRECTION.TOP ? -8 : 8,\n            style: {\n                textAlign: 'center',\n                textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n            }\n        };\n    }\n    if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n        return {\n            offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n            offsetY: 0,\n            style: {\n                textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n                textBaseline: 'middle',\n                rotate: Math.PI / 2,\n            }\n        };\n    }\n    return {};\n}\n/**\n * @ignore\n * 根据角度，获取 ○ 上的点\n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center, r, angle) {\n    return {\n        x: center.x + r * Math.cos(angle),\n        y: center.y + r * Math.sin(angle)\n    };\n}\n//# sourceMappingURL=facet.js.map","import { __extends } from \"tslib\";\nimport { deepMix, each, filter } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 镜像分面\n */\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'circle',\n            showTitle: true,\n            title: _super.prototype.getDefaultTitleCfg.call(this),\n        });\n    };\n    Circle.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    /**\n     * 根据总数和当前索引，计算分面的 region\n     * @param count\n     * @param index\n     */\n    Circle.prototype.getRegion = function (count, index) {\n        var r = 1 / 2; // 画布半径\n        // 画布圆心\n        var center = { x: 0.5, y: 0.5 };\n        // 每隔分面间隔的弧度\n        var avgAngle = Math.PI * 2 / count;\n        // 当前分面所在的弧度\n        var angle = -1 * Math.PI / 2 + avgAngle * index;\n        // TODO 没看懂\n        var facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n        // 分面的中心点\n        var middle = getAnglePoint(center, r - facetR, angle);\n        var startAngle = Math.PI * 5 / 4; // 右上角\n        var endAngle = Math.PI * 1 / 4; // 左下角\n        return {\n            start: getAnglePoint(middle, facetR, startAngle),\n            end: getAnglePoint(middle, facetR, endAngle)\n        };\n    };\n    Circle.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Circle.prototype.beforeEachView = function (view, facet) {\n    };\n    Circle.prototype.generateFacets = function (data) {\n        var _this = this;\n        var _a = this.cfg, fields = _a.fields, type = _a.type;\n        var field = fields[0];\n        if (!field) {\n            throw new Error('No `fields` specified!');\n        }\n        var values = this.getFieldValues(data, field);\n        var count = values.length;\n        var rst = [];\n        values.forEach(function (value, index) {\n            var conditions = [{ field: field, value: value, values: values }];\n            var facetData = filter(data, _this.getFacetDataFilter(conditions));\n            var facet = {\n                type: type,\n                data: facetData,\n                region: _this.getRegion(count, index),\n                columnValue: value,\n                columnField: field,\n                columnIndex: index,\n                columnValuesLength: count,\n                rowValue: null,\n                rowField: null,\n                rowIndex: 0,\n                rowValuesLength: 1,\n            };\n            rst.push(facet);\n        });\n        return rst;\n    };\n    Circle.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 不做任何处理\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Circle.prototype.getYAxisOption = function (y, axes, option, facet) {\n        // 不做任何处理\n        return option;\n    };\n    /**\n     * facet title\n     */\n    Circle.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet) {\n            var columnValue = facet.columnValue, view = facet.view;\n            var config = deepMix({\n                position: ['50%', '0%'],\n                content: columnValue,\n            }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.title);\n            view.annotation().text(config);\n        });\n    };\n    return Circle;\n}(Facet));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, filter } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 镜像分面\n */\nvar List = /** @class */ (function (_super) {\n    __extends(List, _super);\n    function List() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    List.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'list',\n            cols: null,\n            showTitle: true,\n            title: _super.prototype.getDefaultTitleCfg.call(this),\n        });\n    };\n    List.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    List.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    List.prototype.beforeEachView = function (view, facet) {\n    };\n    List.prototype.generateFacets = function (data) {\n        var _this = this;\n        var fields = this.cfg.fields;\n        var cols = this.cfg.cols;\n        var columnField = fields[0];\n        if (!columnField) {\n            throw new Error('No `fields` specified!');\n        }\n        var colValues = this.getFieldValues(data, columnField);\n        var count = colValues.length;\n        cols = cols || count; // 每行有几列数据\n        // 总共有几行\n        var rows = this.getPageCount(count, cols);\n        var rst = [];\n        colValues.forEach(function (val, index) {\n            // 当前 index 在那个行列\n            var _a = _this.getRowCol(index, cols), row = _a.row, col = _a.col;\n            var conditions = [\n                { field: columnField, value: val, values: colValues }\n            ];\n            var facetData = filter(data, _this.getFacetDataFilter(conditions));\n            var facet = {\n                type: _this.cfg.type,\n                data: facetData,\n                region: _this.getRegion(rows, cols, col, row),\n                columnValue: val,\n                rowValue: val,\n                columnField: columnField,\n                rowField: null,\n                columnIndex: col,\n                rowIndex: row,\n                columnValuesLength: cols,\n                rowValuesLength: rows,\n                total: count,\n            };\n            rst.push(facet);\n        });\n        return rst;\n    };\n    /**\n     * 设置 x 坐标轴的文本、title 是否显示\n     * @param x\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    List.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 当是最后一行或者下面没有 view 时文本不显示\n        if (facet.rowIndex !== facet.rowValuesLength - 1 &&\n            (facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1) + facet.columnValuesLength <= facet.total) {\n            return __assign(__assign({}, option), { label: null, title: null });\n        }\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    List.prototype.getYAxisOption = function (y, axes, option, facet) {\n        if (facet.columnIndex !== 0) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        return option;\n    };\n    /**\n     * facet title\n     */\n    List.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet) {\n            var columnValue = facet.columnValue, view = facet.view;\n            var config = deepMix({\n                position: ['50%', '0%'],\n                content: columnValue,\n            }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.title);\n            view.annotation().text(config);\n        });\n    };\n    /**\n     * 计算分页数\n     * @param total\n     * @param pageSize\n     */\n    List.prototype.getPageCount = function (total, pageSize) {\n        return Math.floor((total + pageSize - 1) / pageSize);\n    };\n    /**\n     * 索引值在哪一页\n     * @param index\n     * @param pageSize\n     */\n    List.prototype.getRowCol = function (index, pageSize) {\n        var row = Math.floor(index / pageSize);\n        var col = index % pageSize;\n        return { row: row, col: col };\n    };\n    return List;\n}(Facet));\nexport default List;\n//# sourceMappingURL=list.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 镜像分面\n */\nvar Matrix = /** @class */ (function (_super) {\n    __extends(Matrix, _super);\n    function Matrix() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Matrix.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'matrix',\n            showTitle: false,\n            columnTitle: __assign({}, _super.prototype.getDefaultTitleCfg.call(this)),\n            rowTitle: __assign({}, _super.prototype.getDefaultTitleCfg.call(this))\n        });\n    };\n    Matrix.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    Matrix.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Matrix.prototype.beforeEachView = function (view, facet) {\n    };\n    Matrix.prototype.generateFacets = function (data) {\n        var _a = this.cfg, fields = _a.fields, type = _a.type;\n        // 矩阵中行列相等，等于指定的字段个数\n        var rowValuesLength = fields.length;\n        var columnValuesLength = rowValuesLength;\n        var rst = [];\n        for (var i = 0; i < columnValuesLength; i++) {\n            var columnField = fields[i];\n            for (var j = 0; j < rowValuesLength; j++) {\n                var rowField = fields[j];\n                var facet = {\n                    type: type,\n                    data: data,\n                    region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n                    columnValue: columnField,\n                    rowValue: rowField,\n                    columnField: columnField,\n                    rowField: rowField,\n                    columnIndex: i,\n                    rowIndex: j,\n                    columnValuesLength: columnValuesLength,\n                    rowValuesLength: rowValuesLength,\n                };\n                rst.push(facet);\n            }\n        }\n        return rst;\n    };\n    /**\n     * 设置 x 坐标轴的文本、title 是否显示\n     * @param x\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Matrix.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 最后一行显示\n        if (facet.rowIndex !== facet.rowValuesLength - 1) {\n            return __assign(__assign({}, option), { label: null, title: null });\n        }\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Matrix.prototype.getYAxisOption = function (y, axes, option, facet) {\n        // 第一列显示\n        if (facet.columnIndex !== 0) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        return option;\n    };\n    /**\n     * facet title\n     */\n    Matrix.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet, facetIndex) {\n            var columnIndex = facet.columnIndex, rowIndex = facet.rowIndex, columnValuesLength = facet.columnValuesLength, rowValuesLength = facet.rowValuesLength, columnValue = facet.columnValue, rowValue = facet.rowValue, view = facet.view;\n            // top\n            if (rowIndex === 0) {\n                var config = deepMix({\n                    position: ['50%', '0%'],\n                    content: columnValue,\n                }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.columnTitle);\n                view.annotation().text(config);\n            }\n            // right\n            if (columnIndex === columnValuesLength - 1) {\n                var config = deepMix({\n                    position: ['100%', '50%'],\n                    content: rowValue,\n                }, getFactTitleConfig(DIRECTION.RIGHT), _this.cfg.rowTitle);\n                view.annotation().text(config);\n            }\n        });\n    };\n    return Matrix;\n}(Facet));\nexport default Matrix;\n//# sourceMappingURL=matrix.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, filter } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 镜像分面\n */\nvar Mirror = /** @class */ (function (_super) {\n    __extends(Mirror, _super);\n    function Mirror() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Mirror.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'mirror',\n            showTitle: true,\n            title: _super.prototype.getDefaultTitleCfg.call(this),\n            transpose: false,\n        });\n    };\n    Mirror.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    Mirror.prototype.beforeEachView = function (view, facet) {\n        // 做一下坐标系转化\n        if (this.cfg.transpose) {\n            if (facet.columnIndex % 2 === 0) {\n                view.coordinate().transpose().reflect('x');\n            }\n            else {\n                view.coordinate().transpose();\n            }\n        }\n        else {\n            if (facet.rowIndex % 2 !== 0) {\n                view.coordinate().reflect('y');\n            }\n        }\n    };\n    Mirror.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Mirror.prototype.generateFacets = function (data) {\n        var _this = this;\n        var f = this.cfg.fields[0];\n        var rst = [];\n        var columnValuesLength = 1;\n        var rowValuesLength = 1;\n        var columnValues = [''];\n        var rowValues = [''];\n        var columnField;\n        var rowField;\n        if (this.cfg.transpose) {\n            columnField = f;\n            columnValues = this.getFieldValues(data, columnField).slice(0, 2); // 镜像最多两个\n            columnValuesLength = columnValues.length;\n        }\n        else {\n            rowField = f;\n            rowValues = this.getFieldValues(data, rowField).slice(0, 2); // 镜像最多两个\n            rowValuesLength = rowValues.length;\n        }\n        // 获取每个维度对应的数据配置片段\n        columnValues.forEach(function (xVal, xIndex) {\n            rowValues.forEach(function (yVal, yIndex) {\n                var conditions = [\n                    { field: columnField, value: xVal, values: columnValues },\n                    { field: rowField, value: yVal, values: rowValues },\n                ];\n                var facetData = filter(data, _this.getFacetDataFilter(conditions));\n                var facet = {\n                    type: _this.cfg.type,\n                    data: facetData,\n                    region: _this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n                    columnValue: xVal,\n                    rowValue: yVal,\n                    columnField: columnField,\n                    rowField: rowField,\n                    columnIndex: xIndex,\n                    rowIndex: yIndex,\n                    columnValuesLength: columnValuesLength,\n                    rowValuesLength: rowValuesLength,\n                };\n                rst.push(facet);\n            });\n        });\n        return rst;\n    };\n    /**\n     * 设置 x 坐标轴的文本、title 是否显示\n     * @param x\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Mirror.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 非最后一行\n        // 当是最后一行或者下面没有 view 时文本不显示\n        if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n            return __assign(__assign({}, option), { label: null, title: null });\n        }\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Mirror.prototype.getYAxisOption = function (y, axes, option, facet) {\n        // do nothing\n        return option;\n    };\n    Mirror.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet, facetIndex) {\n            var columnValue = facet.columnValue, rowValue = facet.rowValue, view = facet.view;\n            if (_this.cfg.transpose) {\n                var config = deepMix({\n                    position: ['50%', '0%'],\n                    content: columnValue,\n                }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.title);\n                view.annotation().text(config);\n            }\n            else {\n                var config = deepMix({\n                    position: ['100%', '50%'],\n                    content: rowValue,\n                }, getFactTitleConfig(DIRECTION.RIGHT), _this.cfg.title);\n                view.annotation().text(config);\n            }\n        });\n    };\n    return Mirror;\n}(Facet));\nexport default Mirror;\n//# sourceMappingURL=mirror.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, filter } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 矩阵分面\n */\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Rect.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Rect.prototype.beforeEachView = function (view, facet) {\n        // do nothing\n    };\n    Rect.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'rect',\n            columnTitle: __assign({}, _super.prototype.getDefaultTitleCfg.call(this)),\n            rowTitle: __assign({}, _super.prototype.getDefaultTitleCfg.call(this))\n        });\n    };\n    Rect.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    /**\n     * 生成矩阵分面的分面数据\n     * @param data\n     */\n    Rect.prototype.generateFacets = function (data) {\n        var _this = this;\n        var _a = this.cfg.fields, columnField = _a[0], rowField = _a[1];\n        var rst = [];\n        var columnValuesLength = 1;\n        var rowValuesLength = 1;\n        var columnValues = [''];\n        var rowValues = [''];\n        if (columnField) {\n            columnValues = this.getFieldValues(data, columnField);\n            columnValuesLength = columnValues.length;\n        }\n        if (rowField) {\n            rowValues = this.getFieldValues(data, rowField);\n            rowValuesLength = rowValues.length;\n        }\n        // 获取每个维度对应的数据配置片段\n        columnValues.forEach(function (xVal, xIndex) {\n            rowValues.forEach(function (yVal, yIndex) {\n                var conditions = [\n                    { field: columnField, value: xVal, values: columnValues },\n                    { field: rowField, value: yVal, values: rowValues },\n                ];\n                var facetData = filter(data, _this.getFacetDataFilter(conditions));\n                var facet = {\n                    type: _this.cfg.type,\n                    data: facetData,\n                    region: _this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n                    columnValue: xVal,\n                    rowValue: yVal,\n                    columnField: columnField,\n                    rowField: rowField,\n                    columnIndex: xIndex,\n                    rowIndex: yIndex,\n                    columnValuesLength: columnValuesLength,\n                    rowValuesLength: rowValuesLength,\n                };\n                rst.push(facet);\n            });\n        });\n        return rst;\n    };\n    Rect.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet, facetIndex) {\n            var columnIndex = facet.columnIndex, rowIndex = facet.rowIndex, columnValuesLength = facet.columnValuesLength, rowValuesLength = facet.rowValuesLength, columnValue = facet.columnValue, rowValue = facet.rowValue, view = facet.view;\n            // top\n            if (rowIndex === 0) {\n                var config = deepMix({\n                    position: ['50%', '0%'],\n                    content: columnValue,\n                }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.columnTitle);\n                view.annotation().text(config);\n            }\n            // right\n            if (columnIndex === columnValuesLength - 1) {\n                var config = deepMix({\n                    position: ['100%', '50%'],\n                    content: rowValue,\n                }, getFactTitleConfig(DIRECTION.RIGHT), _this.cfg.rowTitle);\n                view.annotation().text(config);\n            }\n        });\n    };\n    /**\n     * 设置 x 坐标轴的文本、title 是否显示\n     * @param x\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Rect.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 非最后一行\n        if (facet.rowIndex !== facet.rowValuesLength - 1) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n            // 不是中间列\n            return __assign(__assign({}, option), { title: null });\n        }\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Rect.prototype.getYAxisOption = function (y, axes, option, facet) {\n        if (facet.columnIndex !== 0) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n            return __assign(__assign({}, option), { title: null });\n        }\n        return option;\n    };\n    return Rect;\n}(Facet));\nexport default Rect;\n//# sourceMappingURL=rect.js.map","import { __assign, __extends } from \"tslib\";\n/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each } from '@antv/util';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * Tree Facet\n */\nvar Tree = /** @class */ (function (_super) {\n    __extends(Tree, _super);\n    function Tree() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.afterChartRender = function () {\n            if (_this.facets && _this.cfg.line) {\n                _this.container.clear();\n                _this.drawLines(_this.facets);\n            }\n        };\n        return _this;\n    }\n    Tree.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Tree.prototype.beforeEachView = function (view, facet) {\n    };\n    Tree.prototype.init = function () {\n        _super.prototype.init.call(this);\n        this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n    };\n    Tree.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'tree',\n            line: {\n                style: {\n                    lineWidth: 1,\n                    stroke: '#ddd'\n                },\n                smooth: false,\n            },\n            showTitle: true,\n            title: _super.prototype.getDefaultTitleCfg.call(this),\n        });\n    };\n    Tree.prototype.generateFacets = function (data) {\n        var fields = this.cfg.fields;\n        if (!fields.length) {\n            throw new Error('Please specify for the fields for rootFacet!');\n        }\n        var rst = [];\n        var rootFacet = {\n            type: this.cfg.type,\n            data: data,\n            region: null,\n            rowValuesLength: this.getRows(),\n            columnValuesLength: 1,\n            rowIndex: 0,\n            columnIndex: 0,\n            rowField: '',\n            columnField: '',\n            rowValue: '',\n            columnValue: '',\n        };\n        rst.push(rootFacet);\n        rootFacet.children = this.getChildFacets(data, 1, rst);\n        this.setRegion(rst);\n        return rst;\n    };\n    Tree.prototype.setRegion = function (facets) {\n        var _this = this;\n        this.forceColIndex(facets);\n        facets.forEach(function (facet) {\n            // @ts-ignore 允许调整\n            facet.region = _this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n        });\n    };\n    Tree.prototype.getRegion = function (rows, cols, xIndex, yIndex) {\n        var xWidth = 1 / cols; // x轴方向的每个分面的偏移\n        var yWidth = 1 / rows; // y轴方向的每个分面的偏移\n        var start = {\n            x: xWidth * xIndex,\n            y: yWidth * yIndex\n        };\n        var end = {\n            x: start.x + xWidth,\n            y: start.y + yWidth * 2 / 3 // 预留1/3的空隙，方便添加连接线\n        };\n        return {\n            start: start,\n            end: end\n        };\n    };\n    Tree.prototype.forceColIndex = function (facets) {\n        var _this = this;\n        var leafs = [];\n        var index = 0;\n        facets.forEach(function (facet) {\n            if (_this.isLeaf(facet)) {\n                leafs.push(facet);\n                // @ts-ignore 允许调整\n                facet.columnIndex = index;\n                index++;\n            }\n        });\n        leafs.forEach(function (facet) {\n            // @ts-ignore\n            facet.columnValuesLength = leafs.length;\n        });\n        var maxLevel = this.cfg.fields.length;\n        for (var i = maxLevel - 1; i >= 0; i--) {\n            var levelFacets = this.getFacetsByLevel(facets, i);\n            // var yIndex = maxLevel - i;\n            for (var _i = 0, levelFacets_1 = levelFacets; _i < levelFacets_1.length; _i++) {\n                var facet = levelFacets_1[_i];\n                if (!this.isLeaf(facet)) {\n                    facet.originColIndex = facet.columnIndex;\n                    // @ts-ignore\n                    facet.columnIndex = this.getRegionIndex(facet.children);\n                    // @ts-ignore\n                    facet.columnValuesLength = leafs.length;\n                }\n            }\n        }\n    };\n    // get facet use level\n    Tree.prototype.getFacetsByLevel = function (facets, level) {\n        var rst = [];\n        facets.forEach(function (facet) {\n            if (facet.rowIndex === level) {\n                rst.push(facet);\n            }\n        });\n        return rst;\n    };\n    // if the facet has children , make it's column index in the middle of it's children\n    Tree.prototype.getRegionIndex = function (children) {\n        var first = children[0];\n        var last = children[children.length - 1];\n        return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n    };\n    // is  a leaf without children\n    Tree.prototype.isLeaf = function (facet) {\n        return !facet.children || !facet.children.length;\n    };\n    Tree.prototype.getRows = function () {\n        return this.cfg.fields.length + 1;\n    };\n    // get child\n    Tree.prototype.getChildFacets = function (data, level, arr) {\n        var _this = this;\n        // [ 'grade', 'class' ]\n        var fields = this.cfg.fields;\n        var length = fields.length;\n        if (length < level) {\n            return;\n        }\n        var rst = [];\n        // get fist level except root node\n        var field = fields[level - 1];\n        // get field value\n        var values = this.getFieldValues(data, field);\n        values.forEach(function (value, index) {\n            var conditions = [\n                { field: field, value: value, values: values }\n            ];\n            var subData = data.filter(_this.getFacetDataFilter(conditions));\n            if (subData.length) {\n                var facet = {\n                    type: _this.cfg.type,\n                    data: subData,\n                    region: null,\n                    columnValue: value,\n                    rowValue: '',\n                    columnField: field,\n                    rowField: '',\n                    columnIndex: index,\n                    rowValuesLength: _this.getRows(),\n                    columnValuesLength: 1,\n                    rowIndex: level,\n                    children: _this.getChildFacets(subData, level + 1, arr)\n                };\n                rst.push(facet);\n                arr.push(facet);\n            }\n        });\n        return rst;\n    };\n    Tree.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    Tree.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet) {\n            var columnValue = facet.columnValue, view = facet.view;\n            var config = deepMix({\n                position: ['50%', '0%'],\n                content: columnValue,\n            }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.title);\n            view.annotation().text(config);\n        });\n    };\n    Tree.prototype.drawLines = function (facets) {\n        var _this = this;\n        facets.forEach(function (facet) {\n            if (!_this.isLeaf(facet)) {\n                var children = facet.children;\n                _this.addFacetLines(facet, children);\n            }\n        });\n    };\n    // add lines with it's children\n    Tree.prototype.addFacetLines = function (facet, children) {\n        var _this = this;\n        var view = facet.view;\n        var region = view.coordinateBBox;\n        // top, right, bottom, left\n        var start = {\n            x: region.x + region.width / 2,\n            y: region.y + region.height\n        };\n        children.forEach(function (subFacet) {\n            var subRegion = subFacet.view.coordinateBBox;\n            var end = {\n                x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n                y: subRegion.tr.y\n            };\n            var middle1 = {\n                x: start.x,\n                y: start.y + (end.y - start.y) / 2\n            };\n            var middle2 = {\n                x: end.x,\n                y: middle1.y\n            };\n            _this.drawLine([start, middle1, middle2, end]);\n        });\n    };\n    Tree.prototype.getPath = function (points) {\n        var path = [];\n        var smooth = this.cfg.line.smooth;\n        if (smooth) {\n            path.push(['M', points[0].x, points[0].y]);\n            path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n        }\n        else {\n            points.forEach(function (point, index) {\n                if (index === 0) {\n                    path.push(['M', point.x, point.y]);\n                }\n                else {\n                    path.push(['L', point.x, point.y]);\n                }\n            });\n        }\n        return path;\n    };\n    // draw line width points\n    Tree.prototype.drawLine = function (points) {\n        var path = this.getPath(points);\n        var line = this.cfg.line.style;\n        this.container.addShape('path', {\n            attrs: assign({\n                // @ts-ignore\n                path: path\n            }, line),\n        });\n    };\n    Tree.prototype.getXAxisOption = function (x, axes, option, facet) {\n        if (facet.rowIndex !== facet.rowValuesLength - 1) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        return option;\n    };\n    Tree.prototype.getYAxisOption = function (y, axes, option, facet) {\n        if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        return option;\n    };\n    return Tree;\n}(Facet));\nexport default Tree;\n//# sourceMappingURL=tree.js.map","import { __assign, __extends } from \"tslib\";\nimport { contains, deepMix, each, get, isArray, isFunction, isNil, isString, keys, upperFirst } from '@antv/util';\nimport { Annotation as AnnotationComponent } from '../../dependents';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { getDistanceToCenter, getPointAngle } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { Controller } from './base';\n/**\n * Annotation controller, 主要作用:\n * 1. 创建 Annotation: line、text、arc ...\n * 2. 生命周期: init、layout、render、clear、destroy\n */\nvar Annotation = /** @class */ (function (_super) {\n    __extends(Annotation, _super);\n    function Annotation(view) {\n        var _this = _super.call(this, view) || this;\n        /* 组件更新的 cache，组件配置 object : 组件 */\n        _this.cache = new Map();\n        _this.foregroundContainer = _this.view.getLayer(LAYER.FORE).addGroup();\n        _this.backgroundContainer = _this.view.getLayer(LAYER.BG).addGroup();\n        _this.option = [];\n        return _this;\n    }\n    Object.defineProperty(Annotation.prototype, \"name\", {\n        get: function () {\n            return 'annotation';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Annotation.prototype.init = function () { };\n    Annotation.prototype.layout = function () {\n        var _this = this;\n        var components = this.getComponents();\n        var updateComponentFn = function (co) {\n            var component = co.component, extra = co.extra;\n            var type = extra.type;\n            var theme = _this.getAnnotationTheme(type);\n            component.update(_this.getAnnotationCfg(type, extra, theme));\n        };\n        var createComponentFn = function (option) {\n            var co = _this.createAnnotation(option);\n            if (co) {\n                co.component.init();\n                // Note：regionFilter 特殊处理，regionFilter需要取到 Geometry 中的 Shape，需要在 view render 之后处理\n                // 其他组件使用外层的统一 render 逻辑\n                if (option.type === 'regionFilter') {\n                    co.component.render();\n                }\n                // 缓存起来\n                _this.cache.set(option, co);\n            }\n        };\n        if (components.length) {\n            each(components, function (co) {\n                var component = co.component;\n                if (component.get('type') === 'regionFilter') {\n                    // regionFilter 依赖绘制后的 Geometry Shapes\n                    _this.view.once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n                        updateComponentFn(co);\n                    });\n                }\n                else {\n                    updateComponentFn(co);\n                }\n            });\n        }\n        else {\n            each(this.option, function (option) {\n                if (option.type === 'regionFilter') {\n                    _this.view.once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n                        // regionFilter 依赖绘制后的 Geometry Shapes\n                        createComponentFn(option);\n                    });\n                }\n                else {\n                    createComponentFn(option);\n                }\n            });\n        }\n    };\n    Annotation.prototype.render = function () {\n        // 因为 Annotation 不参与布局，但是渲染的位置依赖于坐标系，所以可以将绘制阶段延迟到 layout() 进行\n    };\n    /**\n     * 更新\n     */\n    Annotation.prototype.update = function () {\n        var _this = this;\n        // 已经处理过的 legend\n        var updated = new WeakMap();\n        var updateComponentFn = function (option) {\n            var type = option.type;\n            var theme = _this.getAnnotationTheme(type);\n            var cfg = _this.getAnnotationCfg(type, option, theme);\n            var existCo = _this.cache.get(option);\n            // 存在，则更新\n            if (existCo) {\n                // 忽略掉一些配置\n                omit(cfg, ['container']);\n                existCo.component.update(cfg);\n                updated.set(option, true);\n            }\n            else {\n                // 不存在，则创建\n                var co = _this.createAnnotation(option);\n                if (co) {\n                    co.component.init();\n                    // Note：regionFilter 特殊处理，regionFilter需要取到 Geometry 中的 Shape，需要在 view render 之后处理\n                    // 其他组件使用外层的统一 render 逻辑\n                    if (option.type === 'regionFilter') {\n                        co.component.render();\n                    }\n                    // 缓存起来\n                    _this.cache.set(option, co);\n                    updated.set(option, true);\n                }\n            }\n        };\n        this.view.once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n            // 先看是否有 regionFilter 要更新\n            each(_this.option, function (option) {\n                if (option.type === 'regionFilter') {\n                    updateComponentFn(option);\n                }\n            });\n            // 处理完成之后，销毁删除的\n            // 不在处理中的\n            var newCache = new Map();\n            _this.cache.forEach(function (value, key) {\n                if (updated.has(key)) {\n                    newCache.set(key, value);\n                }\n                else {\n                    // 不存在，则是所有需要被销毁的组件\n                    value.component.destroy();\n                }\n            });\n            // 更新缓存\n            _this.cache = newCache;\n        });\n        each(this.option, function (option) {\n            if (option.type !== 'regionFilter') {\n                updateComponentFn(option);\n            }\n        });\n    };\n    /**\n     * 清空\n     * @param includeOption 是否清空 option 配置项\n     */\n    Annotation.prototype.clear = function (includeOption) {\n        if (includeOption === void 0) { includeOption = false; }\n        _super.prototype.clear.call(this);\n        this.cache.clear();\n        this.foregroundContainer.clear();\n        this.backgroundContainer.clear();\n        // clear all option\n        if (includeOption) {\n            this.option = [];\n        }\n    };\n    Annotation.prototype.destroy = function () {\n        this.clear(true);\n        this.foregroundContainer.remove(true);\n        this.backgroundContainer.remove(true);\n    };\n    /**\n     * 复写基类的方法\n     */\n    Annotation.prototype.getComponents = function () {\n        var co = [];\n        this.cache.forEach(function (value) {\n            co.push(value);\n        });\n        return co;\n    };\n    Annotation.prototype.createAnnotation = function (option) {\n        var type = option.type;\n        var Ctor = AnnotationComponent[upperFirst(type)];\n        if (Ctor) {\n            var theme = this.getAnnotationTheme(type);\n            var cfg = this.getAnnotationCfg(type, option, theme);\n            var annotation = new Ctor(cfg);\n            return {\n                component: annotation,\n                layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n                direction: DIRECTION.NONE,\n                type: COMPONENT_TYPE.ANNOTATION,\n                extra: option,\n            };\n        }\n    };\n    // APIs for creating annotation component\n    Annotation.prototype.annotation = function (option) {\n        this.option.push(option);\n    };\n    /**\n     * 创建 Arc\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.arc = function (option) {\n        this.annotation(__assign({ type: 'arc' }, option));\n        return this;\n    };\n    /**\n     * 创建 image\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.image = function (option) {\n        this.annotation(__assign({ type: 'image' }, option));\n        return this;\n    };\n    /**\n     * 创建 Line\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.line = function (option) {\n        this.annotation(__assign({ type: 'line' }, option));\n        return this;\n    };\n    /**\n     * 创建 Region\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.region = function (option) {\n        this.annotation(__assign({ type: 'region' }, option));\n        return this;\n    };\n    /**\n     * 创建 Text\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.text = function (option) {\n        this.annotation(__assign({ type: 'text' }, option));\n        return this;\n    };\n    /**\n     * 创建 DataMarker\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.dataMarker = function (option) {\n        this.annotation(__assign({ type: 'dataMarker' }, option));\n        return this;\n    };\n    /**\n     * 创建 DataRegion\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.dataRegion = function (option) {\n        this.annotation(__assign({ type: 'dataRegion' }, option));\n    };\n    /**\n     * 创建 RegionFilter\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.regionFilter = function (option) {\n        this.annotation(__assign({ type: 'regionFilter' }, option));\n    };\n    // end API\n    /**\n     * parse the point position to [x, y]\n     * @param p Position\n     * @returns { x, y }\n     */\n    Annotation.prototype.parsePosition = function (p) {\n        var xScale = this.view.getXScale();\n        // 转成 object\n        var yScales = this.view.getScalesByDim('y');\n        var position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n        var x = 0;\n        var y = 0;\n        // 入参是 [24, 24] 这类时\n        if (isArray(position)) {\n            var xPos = position[0], yPos = position[1];\n            // 如果数据格式是 ['50%', '50%'] 的格式\n            // fix: 原始数据中可能会包含 'xxx5%xxx' 这样的数据，需要判断下 https://github.com/antvis/f2/issues/590\n            // @ts-ignore\n            if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n                return this.parsePercentPosition(position);\n            }\n            x = this.getNormalizedValue(xPos, xScale);\n            y = this.getNormalizedValue(yPos, Object.values(yScales)[0]);\n        }\n        else if (!isNil(position)) {\n            // 入参是 object 结构，数据点\n            for (var _i = 0, _a = keys(position); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var value = position[key];\n                if (key === xScale.field) {\n                    x = this.getNormalizedValue(value, xScale);\n                }\n                if (yScales[key]) {\n                    y = this.getNormalizedValue(value, yScales[key]);\n                }\n            }\n        }\n        return this.view.getCoordinate().convert({ x: x, y: y });\n    };\n    /**\n     * parse all the points between start and end\n     * @param start\n     * @param end\n     * @return Point[]\n     */\n    Annotation.prototype.getRegionPoints = function (start, end) {\n        var _this = this;\n        var xScale = this.view.getXScale();\n        var yScales = this.view.getScalesByDim('y');\n        var yScale = Object.values(yScales)[0];\n        var xField = xScale.field;\n        var viewData = this.view.getData();\n        var startXValue = isArray(start) ? start[0] : start[xField];\n        var endXValue = isArray(end) ? end[0] : end[xField];\n        var arr = [];\n        var startIndex;\n        each(viewData, function (item, idx) {\n            if (item[xField] === startXValue) {\n                startIndex = idx;\n            }\n            if (idx >= startIndex) {\n                var point = _this.parsePosition([item[xField], item[yScale.field]]);\n                if (point) {\n                    arr.push(point);\n                }\n            }\n            if (item[xField] === endXValue) {\n                return false;\n            }\n        });\n        return arr;\n    };\n    /**\n     * parse the value position\n     * @param val\n     * @param scale\n     */\n    Annotation.prototype.getNormalizedValue = function (val, scale) {\n        var result;\n        var scaled;\n        switch (val) {\n            case 'start':\n                result = 0;\n                break;\n            case 'end':\n                result = 1;\n                break;\n            case 'median': {\n                scaled = scale.isCategory ? (scale.values.length - 1) / 2 : (scale.min + scale.max) / 2;\n                result = scale.scale(scaled);\n                break;\n            }\n            case 'min':\n            case 'max':\n                if (scale.isCategory) {\n                    scaled = val === 'min' ? 0 : scale.values.length - 1;\n                }\n                else {\n                    scaled = scale[val];\n                }\n                result = scale.scale(scaled);\n                break;\n            default:\n                result = scale.scale(val);\n        }\n        return result;\n    };\n    /**\n     * parse percent position\n     * @param position\n     */\n    Annotation.prototype.parsePercentPosition = function (position) {\n        var xPercent = parseFloat(position[0]) / 100;\n        var yPercent = parseFloat(position[1]) / 100;\n        var coordinate = this.view.getCoordinate();\n        var start = coordinate.start, end = coordinate.end;\n        var topLeft = {\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n        };\n        var x = coordinate.getWidth() * xPercent + topLeft.x;\n        var y = coordinate.getHeight() * yPercent + topLeft.y;\n        return { x: x, y: y };\n    };\n    /**\n     * get coordinate bbox\n     */\n    Annotation.prototype.getCoordinateBBox = function () {\n        var coordinate = this.view.getCoordinate();\n        var start = coordinate.start, end = coordinate.end;\n        var width = coordinate.getWidth();\n        var height = coordinate.getHeight();\n        var topLeft = {\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n        };\n        return {\n            x: topLeft.x,\n            y: topLeft.y,\n            minX: topLeft.x,\n            minY: topLeft.y,\n            maxX: topLeft.x + width,\n            maxY: topLeft.y + height,\n            width: width,\n            height: height,\n        };\n    };\n    /**\n     * get annotation component config by different type\n     * @param type\n     * @param option 用户的配置\n     * @param theme\n     */\n    Annotation.prototype.getAnnotationCfg = function (type, option, theme) {\n        var coordinate = this.view.getCoordinate();\n        var o = {};\n        if (isNil(option)) {\n            return null;\n        }\n        if (type === 'arc') {\n            var _a = option, start = _a.start, end = _a.end;\n            var sp = this.parsePosition(start);\n            var ep = this.parsePosition(end);\n            var startAngle = getPointAngle(coordinate, sp);\n            var endAngle = getPointAngle(coordinate, ep);\n            if (startAngle > endAngle) {\n                endAngle = Math.PI * 2 + endAngle;\n            }\n            o = {\n                center: coordinate.getCenter(),\n                radius: getDistanceToCenter(coordinate, sp),\n                startAngle: startAngle,\n                endAngle: endAngle,\n            };\n        }\n        else if (type === 'image') {\n            var _b = option, start = _b.start, end = _b.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n                src: option.src,\n            };\n        }\n        else if (type === 'line') {\n            var _c = option, start = _c.start, end = _c.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n                text: get(option, 'text', null),\n            };\n        }\n        else if (type === 'region') {\n            var _d = option, start = _d.start, end = _d.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n            };\n        }\n        else if (type === 'text') {\n            var _e = option, position = _e.position, rotate = _e.rotate;\n            o = __assign(__assign({}, this.parsePosition(position)), { content: option.content, rotate: rotate });\n        }\n        else if (type === 'dataMarker') {\n            var _f = option, position = _f.position, point = _f.point, line = _f.line, text = _f.text, autoAdjust = _f.autoAdjust, direction = _f.direction;\n            o = __assign(__assign({}, this.parsePosition(position)), { coordinateBBox: this.getCoordinateBBox(), point: point,\n                line: line,\n                text: text,\n                autoAdjust: autoAdjust,\n                direction: direction });\n        }\n        else if (type === 'dataRegion') {\n            var _g = option, start = _g.start, end = _g.end, region = _g.region, text = _g.text, lineLength = _g.lineLength;\n            o = {\n                points: this.getRegionPoints(start, end),\n                region: region,\n                text: text,\n                lineLength: lineLength,\n            };\n        }\n        else if (type === 'regionFilter') {\n            var _h = option, start = _h.start, end = _h.end, apply_1 = _h.apply, color = _h.color;\n            var geometries = this.view.geometries;\n            var shapes_1 = [];\n            var addShapes_1 = function (item) {\n                if (!item) {\n                    return;\n                }\n                if (item.isGroup()) {\n                    item.getChildren().forEach(function (child) { return addShapes_1(child); });\n                }\n                else {\n                    shapes_1.push(item);\n                }\n            };\n            each(geometries, function (geom) {\n                if (apply_1) {\n                    if (contains(apply_1, geom.type)) {\n                        each(geom.elements, function (elem) {\n                            addShapes_1(elem.shape);\n                        });\n                    }\n                }\n                else {\n                    each(geom.elements, function (elem) {\n                        addShapes_1(elem.shape);\n                    });\n                }\n            });\n            o = {\n                color: color,\n                shapes: shapes_1,\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n            };\n        }\n        // 合并主题，用户配置优先级高于默认主题\n        var cfg = deepMix({}, theme, __assign(__assign({}, o), { top: option.top, style: option.style, offsetX: option.offsetX, offsetY: option.offsetY }));\n        cfg.container = this.getComponentContainer(cfg);\n        cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); // 如果 view 关闭动画，则不执行\n        cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n        return cfg;\n    };\n    /**\n     * is annotation render on top\n     * @param option\n     * @return whethe on top\n     */\n    Annotation.prototype.isTop = function (option) {\n        return get(option, 'top', true);\n    };\n    /**\n     * get the container by option.top\n     * default is on top\n     * @param option\n     * @returns the container\n     */\n    Annotation.prototype.getComponentContainer = function (option) {\n        return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n    };\n    Annotation.prototype.getAnnotationTheme = function (type) {\n        return get(this.view.getTheme(), ['components', 'annotation', type], {});\n    };\n    return Annotation;\n}(Controller));\nexport default Annotation;\n//# sourceMappingURL=annotation.js.map","import { get, map } from '@antv/util';\n/**\n * @ignore\n * get the grid theme by type\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme, direction) {\n    return get(theme, ['components', 'axis', direction, 'grid'], {});\n}\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate, scale, dim, alignTick) {\n    var items = [];\n    var ticks = scale.getTicks();\n    if (coordinate.isPolar) {\n        // 补全 ticks\n        ticks.push({\n            value: 1,\n            text: '',\n            tickValue: '',\n        });\n    }\n    ticks.reduce(function (preTick, currentTick, currentIndex) {\n        var currentValue = currentTick.value;\n        if (alignTick) {\n            items.push({\n                points: [\n                    coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n                    coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n                ],\n            });\n        }\n        else {\n            if (currentIndex) {\n                var preValue = preTick.value;\n                var middleValue = (preValue + currentValue) / 2;\n                items.push({\n                    points: [\n                        coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n                        coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n                    ],\n                });\n            }\n        }\n        return currentTick;\n    }, ticks[0]);\n    return items;\n}\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(coordinate, xScale, yScale, alignTick) {\n    var count = xScale.values.length;\n    var items = [];\n    var ticks = yScale.getTicks();\n    ticks.reduce(function (preTick, currentTick) {\n        var preValue = preTick ? preTick.value : currentTick.value; // 只有一项数据时取当前值\n        var currentValue = currentTick.value;\n        var middleValue = (preValue + currentValue) / 2;\n        items.push({\n            points: map(Array(count + 1), function (__, idx) {\n                return coordinate.convert({\n                    x: idx / count,\n                    y: alignTick ? currentValue : middleValue,\n                });\n            }),\n        });\n        return currentTick;\n    }, ticks[0]);\n    return items;\n}\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme, axisOption) {\n    var userGrid = get(axisOption, 'grid');\n    if (userGrid === null) {\n        return false;\n    }\n    var themeGrid = get(axisTheme, 'grid');\n    return !(userGrid === undefined && themeGrid === null);\n}\n//# sourceMappingURL=grid.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, get, map, mix } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, LineAxis, LineGrid } from '../../dependents';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { getAxisDirection, getAxisFactorByRegion, getAxisRegion, getAxisThemeCfg, getAxisTitleText, getCircleAxisCenterRadius } from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport { Controller } from './base';\n// update 组件的时候，忽略的数据更新\nvar OMIT_CFG = ['container'];\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis(view) {\n        var _this = _super.call(this, view) || this;\n        /** 使用 object 存储组件 */\n        _this.cache = new Map();\n        // 先创建 gridContainer，将 grid 放到 axis 底层\n        _this.gridContainer = _this.view.getLayer(LAYER.BG).addGroup();\n        _this.axisContainer = _this.view.getLayer(LAYER.BG).addGroup();\n        return _this;\n    }\n    Object.defineProperty(Axis.prototype, \"name\", {\n        get: function () {\n            return 'axis';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Axis.prototype.init = function () { };\n    Axis.prototype.render = function () {\n        this.option = this.view.getOptions().axes;\n        this.createXAxes();\n        this.createYAxes();\n    };\n    /**\n     * 更新组件布局，位置大小\n     */\n    Axis.prototype.layout = function () {\n        var _this = this;\n        var coordinate = this.view.getCoordinate();\n        each(this.getComponents(), function (co) {\n            var component = co.component, direction = co.direction, type = co.type, extra = co.extra;\n            var dim = extra.dim, scale = extra.scale, alignTick = extra.alignTick;\n            var updated;\n            if (type === COMPONENT_TYPE.AXIS) {\n                if (coordinate.isPolar) {\n                    if (dim === 'x') {\n                        updated = getCircleAxisCenterRadius(coordinate);\n                    }\n                    else if (dim === 'y') {\n                        updated = getAxisRegion(coordinate, direction);\n                    }\n                }\n                else {\n                    updated = getAxisRegion(coordinate, direction);\n                }\n            }\n            else if (type === COMPONENT_TYPE.GRID) {\n                if (coordinate.isPolar) {\n                    updated = {\n                        items: dim === 'x' ?\n                            // 半径 grid\n                            getLineGridItems(coordinate, scale, dim, alignTick) :\n                            // 圆弧 grid\n                            getCircleGridItems(coordinate, _this.view.getXScale(), scale, alignTick),\n                        // coordinate 更新之后，center 也变化了\n                        center: _this.view.getCoordinate().getCenter(),\n                    };\n                }\n                else {\n                    updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n                }\n            }\n            component.update(updated);\n        });\n    };\n    /**\n     * 更新 axis 组件\n     */\n    Axis.prototype.update = function () {\n        this.option = this.view.getOptions().axes;\n        var updatedCache = new Map();\n        this.updateXAxes(updatedCache);\n        this.updateYAxes(updatedCache);\n        // 处理完成之后，销毁删除的\n        // 不在处理中的\n        var newCache = new Map();\n        this.cache.forEach(function (co, key) {\n            if (updatedCache.has(key)) {\n                newCache.set(key, co);\n            }\n            else {\n                // 不存在，则是所有需要被销毁的组件\n                co.component.destroy();\n            }\n        });\n        // 更新缓存\n        this.cache = newCache;\n    };\n    Axis.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this.cache.clear();\n        this.gridContainer.clear();\n        this.axisContainer.clear();\n    };\n    Axis.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.gridContainer.remove(true);\n        this.axisContainer.remove(true);\n    };\n    /**\n     * @override\n     */\n    Axis.prototype.getComponents = function () {\n        var co = [];\n        this.cache.forEach(function (value) {\n            co.push(value);\n        });\n        return co;\n    };\n    /**\n     * 更新 x axis\n     * @param updatedCache\n     */\n    Axis.prototype.updateXAxes = function (updatedCache) {\n        // x axis\n        var scale = this.view.getXScale();\n        // @ts-ignore\n        if (!scale || scale.isIdentity) {\n            return;\n        }\n        var field = scale.field;\n        var xAxisOption = getAxisOption(this.option, scale.field);\n        if (xAxisOption === false) {\n            return;\n        }\n        var coordinate = this.view.getCoordinate();\n        var axisId = this.getId('axis', field);\n        var gridId = this.getId('grid', field);\n        var direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n        var layer = LAYER.BG;\n        var dim = 'x';\n        if (coordinate.isRect) {\n            // 1. do axis update\n            var axis = this.cache.get(axisId);\n            // 存在则更新\n            if (axis) {\n                var cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n                omit(cfg, OMIT_CFG);\n                axis.component.update(cfg);\n                updatedCache.set(axisId, axis);\n            }\n            else {\n                // 不存在，则创建\n                axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n                this.cache.set(axisId, axis);\n                updatedCache.set(axisId, axis);\n            }\n            // 2. do grid update\n            var grid = this.cache.get(gridId);\n            // 存在则更新\n            if (grid) {\n                var cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n                omit(cfg, OMIT_CFG);\n                grid.component.update(cfg);\n                updatedCache.set(gridId, grid);\n            }\n            else {\n                // 不存在则创建\n                grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n                if (grid) {\n                    this.cache.set(gridId, grid);\n                    updatedCache.set(gridId, grid);\n                }\n            }\n        }\n        else if (coordinate.isPolar && !coordinate.isTransposed) {\n            // 1. do axis update\n            var axis = this.cache.get(axisId);\n            // 存在则更新\n            if (axis) {\n                var cfg = this.getCircleAxisCfg(scale, xAxisOption, direction);\n                omit(cfg, OMIT_CFG);\n                axis.component.update(cfg);\n                updatedCache.set(axisId, axis);\n            }\n            else {\n                // 不存在，则创建\n                axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n                this.cache.set(axisId, axis);\n                updatedCache.set(axisId, axis);\n            }\n            // 2. do grid update\n            var grid = this.cache.get(gridId);\n            // 存在则更新\n            if (grid) {\n                // @ts-ignore\n                var cfg = this.getLineGridCfg(scale, xAxisOption, 'circle', dim);\n                omit(cfg, OMIT_CFG);\n                grid.component.update(cfg);\n                updatedCache.set(gridId, grid);\n            }\n            else {\n                // 不存在则创建\n                // @ts-ignore\n                grid = this.createLineGrid(scale, xAxisOption, layer, 'circle', dim);\n                if (grid) {\n                    this.cache.set(gridId, grid);\n                    updatedCache.set(gridId, grid);\n                }\n            }\n        }\n        else {\n            // helix and other, do not draw axis\n        }\n    };\n    Axis.prototype.updateYAxes = function (updatedCache) {\n        var _this = this;\n        // y axes\n        var yScales = this.view.getYScales();\n        each(yScales, function (scale, idx) {\n            // @ts-ignore\n            if (!scale || scale.isIdentity) {\n                return;\n            }\n            var field = scale.field;\n            var yAxisOption = getAxisOption(_this.option, field);\n            if (yAxisOption !== false) {\n                var layer = LAYER.BG;\n                var dim = 'y';\n                var axisId = _this.getId('axis', field);\n                var gridId = _this.getId('grid', field);\n                var coordinate = _this.view.getCoordinate();\n                if (coordinate.isRect) {\n                    var direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n                    // 1. do axis update\n                    var axis = _this.cache.get(axisId);\n                    // 存在则更新\n                    if (axis) {\n                        var cfg = _this.getLineAxisCfg(scale, yAxisOption, direction);\n                        omit(cfg, OMIT_CFG);\n                        axis.component.update(cfg);\n                        updatedCache.set(axisId, axis);\n                    }\n                    else {\n                        // 不存在，则创建\n                        axis = _this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n                        _this.cache.set(axisId, axis);\n                        updatedCache.set(axisId, axis);\n                    }\n                    // 2. do grid update\n                    var grid = _this.cache.get(gridId);\n                    // 存在则更新\n                    if (grid) {\n                        var cfg = _this.getLineGridCfg(scale, yAxisOption, direction, dim);\n                        omit(cfg, OMIT_CFG);\n                        grid.component.update(cfg);\n                        updatedCache.set(gridId, grid);\n                    }\n                    else {\n                        // 不存在则创建\n                        grid = _this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n                        if (grid) {\n                            _this.cache.set(gridId, grid);\n                            updatedCache.set(gridId, grid);\n                        }\n                    }\n                }\n                else if (coordinate.isPolar && !coordinate.isTransposed) {\n                    // 1. do axis update\n                    var axis = _this.cache.get(axisId);\n                    // 存在则更新\n                    if (axis) {\n                        // @ts-ignore\n                        var cfg = _this.getLineAxisCfg(scale, yAxisOption, 'radius');\n                        omit(cfg, OMIT_CFG);\n                        axis.component.update(cfg);\n                        updatedCache.set(axisId, axis);\n                    }\n                    else {\n                        // 不存在，则创建\n                        // @ts-ignore\n                        axis = _this.createLineAxis(scale, yAxisOption, layer, 'radius', dim);\n                        _this.cache.set(axisId, axis);\n                        updatedCache.set(axisId, axis);\n                    }\n                    // 2. do grid update\n                    var grid = _this.cache.get(gridId);\n                    // 存在则更新\n                    if (grid) {\n                        // @ts-ignore\n                        var cfg = _this.getCircleGridCfg(scale, yAxisOption, 'radius', dim);\n                        omit(cfg, OMIT_CFG);\n                        grid.component.update(cfg);\n                        updatedCache.set(gridId, grid);\n                    }\n                    else {\n                        // 不存在则创建\n                        // @ts-ignore\n                        grid = _this.createCircleGrid(scale, yAxisOption, layer, 'radius');\n                        if (grid) {\n                            _this.cache.set(gridId, grid);\n                            updatedCache.set(gridId, grid);\n                        }\n                    }\n                }\n                else {\n                    // helix and other, do not draw axis\n                }\n            }\n        });\n    };\n    /**\n     * 创建 x axis 组件\n     */\n    Axis.prototype.createXAxes = function () {\n        // x axis\n        var scale = this.view.getXScale();\n        // @ts-ignore\n        if (!scale || scale.isIdentity) {\n            return;\n        }\n        var xAxisOption = getAxisOption(this.option, scale.field);\n        if (xAxisOption !== false) {\n            var direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n            var layer = LAYER.BG;\n            var dim = 'x';\n            var coordinate = this.view.getCoordinate();\n            var axisId = this.getId('axis', scale.field);\n            var gridId = this.getId('grid', scale.field);\n            if (coordinate.isRect) {\n                // axis\n                var axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n                this.cache.set(axisId, axis);\n                // grid\n                var grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n                if (grid) {\n                    this.cache.set(gridId, grid);\n                }\n            }\n            else if (coordinate.isPolar && !coordinate.isTransposed) {\n                // axis\n                var axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n                this.cache.set(axisId, axis);\n                // grid，极坐标下的 x 轴网格线沿着半径方向绘制\n                // @ts-ignore\n                var grid = this.createLineGrid(scale, xAxisOption, layer, 'circle', dim);\n                if (grid) {\n                    this.cache.set(gridId, grid);\n                }\n            }\n            else {\n                // helix and other, do not draw axis\n            }\n        }\n    };\n    /**\n     * create y axis\n     */\n    Axis.prototype.createYAxes = function () {\n        var _this = this;\n        // y axes\n        var yScales = this.view.getYScales();\n        each(yScales, function (scale, idx) {\n            // @ts-ignore\n            if (!scale || scale.isIdentity) {\n                return;\n            }\n            var field = scale.field;\n            var yAxisOption = getAxisOption(_this.option, field);\n            if (yAxisOption !== false) {\n                var layer = LAYER.BG;\n                var dim = 'y';\n                var axisId = _this.getId('axis', field);\n                var gridId = _this.getId('grid', field);\n                var coordinate = _this.view.getCoordinate();\n                if (coordinate.isRect) {\n                    var direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n                    // axis\n                    var axis = _this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n                    _this.cache.set(axisId, axis);\n                    // grid\n                    var grid = _this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n                    if (grid) {\n                        _this.cache.set(gridId, grid);\n                    }\n                }\n                else if (coordinate.isPolar && !coordinate.isTransposed) {\n                    // axis\n                    // @ts-ignore\n                    var axis = _this.createLineAxis(scale, yAxisOption, layer, 'radius', dim);\n                    _this.cache.set(_this.getId('axis', scale.field), axis);\n                    // grid\n                    // @ts-ignore\n                    var grid = _this.createCircleGrid(scale, yAxisOption, layer, 'radius');\n                    if (grid) {\n                        _this.cache.set(gridId, grid);\n                    }\n                }\n                else {\n                    // helix and other, do not draw axis\n                }\n            }\n        });\n    };\n    /**\n     * 创建 line axis\n     * @param scale\n     * @param option\n     * @param layer\n     * @param direction\n     * @param dim\n     */\n    Axis.prototype.createLineAxis = function (scale, option, layer, direction, dim) {\n        // axis\n        var axis = {\n            component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n            layer: layer,\n            // @ts-ignore\n            direction: direction === 'radius' ? DIRECTION.NONE : direction,\n            type: COMPONENT_TYPE.AXIS,\n            extra: { dim: dim, scale: scale },\n        };\n        axis.component.set('field', scale.field);\n        axis.component.init();\n        return axis;\n    };\n    Axis.prototype.createLineGrid = function (scale, option, layer, direction, dim) {\n        var cfg = this.getLineGridCfg(scale, option, direction, dim);\n        if (cfg) {\n            var grid = {\n                component: new LineGrid(cfg),\n                layer: layer,\n                direction: DIRECTION.NONE,\n                type: COMPONENT_TYPE.GRID,\n                extra: {\n                    dim: dim,\n                    scale: scale,\n                    alignTick: get(cfg, 'alignTick', true),\n                },\n            };\n            grid.component.init();\n            return grid;\n        }\n    };\n    Axis.prototype.createCircleAxis = function (scale, option, layer, direction, dim) {\n        var axis = {\n            component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n            layer: layer,\n            direction: direction,\n            type: COMPONENT_TYPE.AXIS,\n            extra: { dim: dim, scale: scale },\n        };\n        axis.component.set('field', scale.field);\n        axis.component.init();\n        return axis;\n    };\n    Axis.prototype.createCircleGrid = function (scale, option, layer, direction) {\n        var cfg = this.getCircleGridCfg(scale, option, direction);\n        if (cfg) {\n            var grid = {\n                component: new CircleGrid(cfg),\n                layer: layer,\n                direction: DIRECTION.NONE,\n                type: COMPONENT_TYPE.GRID,\n                extra: {\n                    dim: 'y',\n                    scale: scale,\n                    alignTick: get(cfg, 'alignTick', true),\n                },\n            };\n            grid.component.init();\n            return grid;\n        }\n    };\n    /**\n     * generate line axis cfg\n     * @param scale\n     * @param axisOption\n     * @param direction\n     * @return line axis cfg\n     */\n    Axis.prototype.getLineAxisCfg = function (scale, axisOption, direction) {\n        var container = this.axisContainer;\n        var coordinate = this.view.getCoordinate();\n        var region = getAxisRegion(coordinate, direction);\n        var titleText = getAxisTitleText(scale, axisOption);\n        var baseAxisCfg = __assign(__assign({ container: container }, region), { ticks: map(scale.getTicks(), function (tick) { return ({ id: \"\" + tick.tickValue, name: tick.text, value: tick.value }); }), title: {\n                text: titleText,\n            }, verticalFactor: coordinate.isPolar\n                ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n                : getAxisFactorByRegion(region, coordinate.getCenter()) });\n        var axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n        // the cfg order should be ensure\n        var optionWithTitle = get(axisOption, ['title'])\n            ? deepMix({}, { title: { style: { text: titleText } } }, axisOption)\n            : axisOption;\n        var cfg = deepMix({}, baseAxisCfg, axisThemeCfg, optionWithTitle);\n        return mix(cfg, this.getAnimateCfg(cfg));\n    };\n    /**\n     * generate line grid cfg\n     * @param scale\n     * @param axisOption\n     * @param direction\n     * @param dim\n     * @return line grid cfg\n     */\n    Axis.prototype.getLineGridCfg = function (scale, axisOption, direction, dim) {\n        if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n            return undefined;\n        }\n        var gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n        // the cfg order should be ensure\n        // grid 动画以 axis 为准\n        var gridCfg = deepMix({\n            container: this.gridContainer,\n        }, gridThemeCfg, get(axisOption, 'grid', {}), this.getAnimateCfg(axisOption));\n        gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n        return gridCfg;\n    };\n    /**\n     * generate circle axis cfg\n     * @param scale\n     * @param axisOption\n     * @param direction\n     * @return circle axis cfg\n     */\n    Axis.prototype.getCircleAxisCfg = function (scale, axisOption, direction) {\n        var container = this.axisContainer;\n        var ticks = map(scale.getTicks(), function (tick) { return ({ id: \"\" + tick.tickValue, name: tick.text, value: tick.value }); });\n        var coordinate = this.view.getCoordinate();\n        if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n            // x 轴对应的值如果是非 cat 类型，在整圆的情况下坐标轴第一个和最后一个文本会重叠，默认只展示第一个文本\n            ticks.pop();\n        }\n        var titleText = getAxisTitleText(scale, axisOption);\n        var baseAxisCfg = __assign(__assign({ container: container }, getCircleAxisCenterRadius(this.view.getCoordinate())), { ticks: ticks, title: {\n                text: titleText,\n            }, verticalFactor: 1 });\n        var axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), 'circle');\n        // the cfg order should be ensure\n        var optionWithTitle = get(axisOption, ['title'])\n            ? deepMix({}, { title: { style: { text: titleText } } }, axisOption)\n            : axisOption;\n        var cfg = deepMix({}, baseAxisCfg, axisThemeCfg, optionWithTitle);\n        return mix(cfg, this.getAnimateCfg(cfg));\n    };\n    /**\n     * generate circle grid cfg\n     * @param scale\n     * @param axisOption\n     * @param direction\n     * @return circle grid cfg\n     */\n    Axis.prototype.getCircleGridCfg = function (scale, axisOption, direction) {\n        if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n            return undefined;\n        }\n        // the cfg order should be ensure\n        // grid 动画以 axis 为准\n        // @ts-ignore\n        var gridThemeCfg = getGridThemeCfg(this.view.getTheme(), 'radius');\n        var gridCfg = deepMix({\n            container: this.gridContainer,\n            center: this.view.getCoordinate().getCenter(),\n        }, gridThemeCfg, get(axisOption, 'grid', {}), this.getAnimateCfg(axisOption));\n        var alignTick = get(gridCfg, 'alignTick', true);\n        gridCfg.items = getCircleGridItems(this.view.getCoordinate(), this.view.getXScale(), scale, alignTick);\n        // the cfg order should be ensure\n        // grid 动画以 axis 为准\n        return gridCfg;\n    };\n    Axis.prototype.getId = function (name, key) {\n        var coordinate = this.view.getCoordinate();\n        // 坐标系类型也作为组件的 key\n        return name + \"-\" + key + \"-\" + coordinate.type;\n    };\n    Axis.prototype.getAnimateCfg = function (cfg) {\n        return {\n            animate: this.view.getOptions().animate && get(cfg, 'animate'),\n            animateOption: deepMix({}, DEFAULT_ANIMATE_CFG, {\n                appear: null,\n            }, get(cfg, 'animateOption', {})),\n        };\n    };\n    return Axis;\n}(Controller));\nexport default Axis;\n//# sourceMappingURL=axis.js.map","import { DIRECTION } from '../constant';\n/**\n * @ignore\n * 方位常量转实际的 bbox 位置大小\n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox, bbox, direction) {\n    if (direction === DIRECTION.TOP) {\n        return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n    }\n    if (direction === DIRECTION.BOTTOM) {\n        return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n    }\n    if (direction === DIRECTION.LEFT) {\n        return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n    }\n    if (direction === DIRECTION.RIGHT) {\n        return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n    }\n    if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n        return [parentBBox.tl.x, parentBBox.tl.y];\n    }\n    if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n        return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n    }\n    if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n        return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n    }\n    if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n        return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n    }\n    return [0, 0];\n}\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction, coordinate) {\n    if (coordinate.isTransposed) {\n        switch (direction) {\n            case DIRECTION.BOTTOM:\n                return DIRECTION.LEFT;\n            case DIRECTION.LEFT:\n                return DIRECTION.BOTTOM;\n            case DIRECTION.RIGHT:\n                return DIRECTION.TOP;\n            case DIRECTION.TOP:\n                return DIRECTION.RIGHT;\n        }\n    }\n    return direction;\n}\nfunction reflectX(direct) {\n    if (direct === DIRECTION.LEFT) {\n        return DIRECTION.RIGHT;\n    }\n    if (direct === DIRECTION.RIGHT) {\n        return DIRECTION.LEFT;\n    }\n    return direct;\n}\nfunction reflectY(direct) {\n    if (direct === DIRECTION.TOP) {\n        return DIRECTION.BOTTOM;\n    }\n    if (direct === DIRECTION.BOTTOM) {\n        return DIRECTION.TOP;\n    }\n    return direct;\n}\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction, coordinate) {\n    var x = coordinate.matrix[0];\n    var y = coordinate.matrix[4];\n    var d = direction;\n    if (x < 0) {\n        d = reflectX(d);\n    }\n    if (y < 0) {\n        d = reflectY(d);\n    }\n    return d;\n}\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction, coordinate) {\n    var d = direction;\n    if (coordinate.isReflect('x')) {\n        d = reflectX(d);\n    }\n    if (coordinate.isReflect('y')) {\n        d = reflectY(d);\n    }\n    return d;\n}\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction, coordinate) {\n    var d = direction;\n    d = getTransposedDirection(d, coordinate);\n    d = getScaleDirection(d, coordinate);\n    d = getReflectDirection(d, coordinate);\n    return d;\n}\n//# sourceMappingURL=direction.js.map","import { __spreadArrays } from \"tslib\";\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr, value, def) {\n    if (!attr) {\n        return def;\n    }\n    var r;\n    // 多参数映射，阻止程序报错\n    if (attr.callback && attr.callback.length > 1) {\n        var restArgs = Array(attr.callback.length - 1).fill('');\n        r = attr.mapping.apply(attr, __spreadArrays([value], restArgs)).join('');\n    }\n    else {\n        r = attr.mapping(value).join('');\n    }\n    return r || def;\n}\n//# sourceMappingURL=attr.js.map","import { deepMix, isString, map, size } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getMappingValue } from './attr';\nimport { MarkerSymbols } from './marker';\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction) {\n    return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param userMarker\n * @returns legend items\n */\nexport function getLegendItems(view, geometry, attr, themeMarker, userMarker) {\n    var scale = attr.getScale(attr.type);\n    if (scale.isCategory) {\n        var field_1 = scale.field;\n        return map(scale.getTicks(), function (tick) {\n            var _a;\n            var text = tick.text, scaleValue = tick.value;\n            var name = text;\n            var value = scale.invert(scaleValue);\n            // 通过过滤图例项的数据，来看是否乣 unchecked\n            var unchecked = !size(view.filterFieldData(field_1, [(_a = {}, _a[field_1] = value, _a)]));\n            var colorAttr = geometry.getAttribute('color');\n            var shapeAttr = geometry.getAttribute('shape');\n            // @ts-ignore\n            var color = getMappingValue(colorAttr, value, view.getTheme().defaultColor);\n            var shape = getMappingValue(shapeAttr, value, 'point');\n            var marker = geometry.getShapeMarker(shape, {\n                color: color,\n                isInPolar: geometry.coordinate.isPolar,\n            });\n            // the marker configure order should be ensure\n            marker = deepMix({}, themeMarker, marker, userMarker);\n            var symbol = marker.symbol;\n            if (isString(symbol) && MarkerSymbols[symbol]) {\n                marker.symbol = MarkerSymbols[symbol];\n            }\n            return { id: value, name: name, value: value, marker: marker, unchecked: unchecked };\n        });\n    }\n    return [];\n}\n/**\n * @ignore\n * custom legend 的 items 获取\n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker, userMarker, customItems) {\n    // 如果有自定义的 item，那么就直接使用，并合并主题的 marker 配置\n    return map(customItems, function (item) {\n        var marker = deepMix({}, themeMarker, userMarker, item.marker);\n        var symbol = marker.symbol;\n        if (isString(symbol) && MarkerSymbols[symbol]) {\n            marker.symbol = MarkerSymbols[symbol];\n        }\n        item.marker = marker;\n        return item;\n    });\n}\n//# sourceMappingURL=legend.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, find, get, head, isBoolean, last, map } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { CategoryLegend, ContinuousLegend } from '../../dependents';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport { Controller } from './base';\n/**\n * 从配置中获取单个字段的 legend 配置\n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends, field) {\n    if (isBoolean(legends)) {\n        return legends === false ? false : {};\n    }\n    return get(legends, [field], legends);\n}\nfunction getDirection(legendOption) {\n    return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n/**\n * @ignore\n * legend Controller\n */\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend(view) {\n        var _this = _super.call(this, view) || this;\n        _this.container = _this.view.getLayer(LAYER.FORE).addGroup();\n        return _this;\n    }\n    Object.defineProperty(Legend.prototype, \"name\", {\n        get: function () {\n            return 'legend';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Legend.prototype.init = function () { };\n    /**\n     * render the legend component by legend options\n     */\n    Legend.prototype.render = function () {\n        var _this = this;\n        this.option = this.view.getOptions().legends;\n        var doEachLegend = function (geometry, attr, scale) {\n            var legend = _this.createFieldLegend(geometry, attr, scale);\n            if (legend) {\n                legend.component.init();\n                _this.components.push(legend);\n            }\n        };\n        // 全局自定义图例\n        if (get(this.option, 'custom')) {\n            var component = this.createCustomLegend(undefined, undefined, undefined, this.option);\n            if (component) {\n                component.init();\n                var layer = LAYER.FORE;\n                var direction = getDirection(this.option);\n                this.components.push({\n                    id: 'global-custom',\n                    component: component,\n                    layer: layer,\n                    direction: direction,\n                    type: COMPONENT_TYPE.LEGEND,\n                    extra: undefined,\n                });\n            }\n        }\n        else {\n            // 遍历处理每一个创建逻辑\n            this.loopLegends(doEachLegend);\n        }\n    };\n    /**\n     * layout legend\n     * 计算出 legend 的 direction 位置 x, y\n     */\n    Legend.prototype.layout = function () {\n        var _this = this;\n        each(this.components, function (co) {\n            var component = co.component, direction = co.direction;\n            var layout = getLegendLayout(direction);\n            var maxSize = _this.getCategoryLegendSizeCfg(layout);\n            var maxWidth = component.get('maxWidth');\n            var maxHeight = component.get('maxHeight');\n            // 先更新 maxSize，更新 layoutBBox，以便计算正确的 x y\n            component.update({\n                maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n                maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n            });\n            var bboxObject = component.getLayoutBBox(); // 这里只需要他的 width、height 信息做位置调整\n            var bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n            var _a = directionToPosition(_this.view.coordinateBBox, bbox, direction), x1 = _a[0], y1 = _a[1];\n            var _b = directionToPosition(_this.view.viewBBox, bbox, direction), x2 = _b[0], y2 = _b[1];\n            var x = 0;\n            var y = 0;\n            // 因为 legend x y 要和 coordinateBBox 对齐，所以要做一个简单的判断\n            if (direction.startsWith('top') || direction.startsWith('bottom')) {\n                x = x1;\n                y = y2;\n            }\n            else {\n                x = x2;\n                y = y1;\n            }\n            // 更新位置\n            component.update({\n                x: x,\n                y: y,\n            });\n        });\n    };\n    /**\n     * legend 的更新逻辑\n     */\n    Legend.prototype.update = function () {\n        var _this = this;\n        this.option = this.view.getOptions().legends;\n        // 已经处理过的 legend\n        var updated = {};\n        var eachLegend = function (geometry, attr, scale) {\n            var id = _this.getId(scale.field);\n            var existCo = _this.getComponentById(id);\n            // 存在则 update\n            if (existCo) {\n                var cfg = void 0;\n                var legendOption = getLegendOption(_this.option, scale.field);\n                // if the legend option is not false, means legend should be created.\n                if (legendOption !== false) {\n                    if (get(legendOption, 'custom')) {\n                        cfg = _this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n                    }\n                    else {\n                        if (scale.isLinear) {\n                            // linear field, create continuous legend\n                            cfg = _this.getContinuousCfg(geometry, attr, scale, legendOption);\n                        }\n                        else if (scale.isCategory) {\n                            // category field, create category legend\n                            cfg = _this.getCategoryCfg(geometry, attr, scale, legendOption);\n                        }\n                    }\n                }\n                // 如果 cfg 为空，则不在 updated 标记，那么会在后面逻辑中删除\n                if (cfg) {\n                    // omit 掉一些属性，比如 container 等\n                    omit(cfg, ['container']);\n                    existCo.direction = getDirection(legendOption);\n                    existCo.component.update(cfg);\n                    // 标记为新的\n                    updated[id] = true;\n                }\n            }\n            else {\n                // 不存在则 create\n                var legend = _this.createFieldLegend(geometry, attr, scale);\n                if (legend) {\n                    legend.component.init();\n                    _this.components.push(legend);\n                    // 标记为新的\n                    updated[id] = true;\n                }\n            }\n        };\n        // 全局自定义图例\n        if (get(this.option, 'custom')) {\n            var id = 'global-custom';\n            var existCo = this.getComponentById(id);\n            if (existCo) {\n                var customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n                omit(customCfg, ['container']);\n                existCo.component.update(customCfg);\n                updated[id] = true;\n            }\n            else {\n                var component = this.createCustomLegend(undefined, undefined, undefined, this.option);\n                if (component) {\n                    component.init();\n                    var layer = LAYER.FORE;\n                    var direction = getDirection(this.option);\n                    this.components.push({\n                        id: id,\n                        component: component,\n                        layer: layer,\n                        direction: direction,\n                        type: COMPONENT_TYPE.LEGEND,\n                        extra: undefined,\n                    });\n                    // 标记为更新\n                    updated[id] = true;\n                }\n            }\n        }\n        else {\n            // 遍历处理每一个创建逻辑\n            this.loopLegends(eachLegend);\n        }\n        // 处理完成之后，销毁删除的\n        // 不在处理中的\n        var components = [];\n        each(this.getComponents(), function (co) {\n            if (updated[co.id]) {\n                components.push(co);\n            }\n            else {\n                co.component.destroy();\n            }\n        });\n        // 更新当前已有的 components\n        this.components = components;\n    };\n    Legend.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this.container.clear();\n    };\n    Legend.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.container.remove(true);\n    };\n    /**\n     * 递归获取所有的 Geometry\n     */\n    Legend.prototype.getGeometries = function (view, geometries) {\n        var _this = this;\n        if (geometries === void 0) { geometries = []; }\n        // 首先获得当前 view 的 Geometries\n        geometries.push.apply(geometries, view.geometries);\n        // 然后递归\n        each(view.views, function (v) {\n            return _this.getGeometries(v, geometries);\n        });\n        return geometries;\n    };\n    /**\n     * 遍历 Geometry，处理 legend 逻辑\n     * @param doEach 每个 loop 中的处理方法\n     */\n    Legend.prototype.loopLegends = function (doEach) {\n        var isRootView = this.view.getRootView() === this.view;\n        // 非根 view，不处理 legend\n        if (!isRootView) {\n            return;\n        }\n        // 递归 view 中所有的 Geometry，进行创建 legend\n        var geometries = this.getGeometries(this.view);\n        var looped = {}; // 防止一个字段创建两个 legend\n        each(geometries, function (geometry) {\n            var attributes = geometry.getGroupAttributes();\n            each(attributes, function (attr) {\n                var scale = attr.getScale(attr.type);\n                // 如果在视觉通道上映射常量值，如 size(2) shape('circle') 不创建 legend\n                if (!scale || scale.type === 'identity' || looped[scale.field]) {\n                    return;\n                }\n                doEach(geometry, attr, scale);\n                looped[scale.field] = true;\n            });\n        });\n    };\n    /**\n     * 创建一个 legend\n     * @param geometry\n     * @param attr\n     * @param scale\n     */\n    Legend.prototype.createFieldLegend = function (geometry, attr, scale) {\n        var component;\n        var legendOption = getLegendOption(this.option, scale.field);\n        var layer = LAYER.FORE;\n        var direction = getDirection(legendOption);\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n            if (get(legendOption, 'custom')) {\n                component = this.createCustomLegend(geometry, attr, scale, legendOption);\n            }\n            else {\n                if (scale.isLinear) {\n                    // linear field, create continuous legend\n                    component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n                }\n                else if (scale.isCategory) {\n                    // category field, create category legend\n                    component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n                }\n            }\n        }\n        if (component) {\n            component.set('field', scale.field);\n            return {\n                id: this.getId(scale.field),\n                component: component,\n                layer: layer,\n                direction: direction,\n                type: COMPONENT_TYPE.LEGEND,\n                extra: { scale: scale },\n            };\n        }\n    };\n    /**\n     * 自定义图例使用 category 图例去渲染\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param legendOption\n     */\n    Legend.prototype.createCustomLegend = function (geometry, attr, scale, legendOption) {\n        // 直接使用 分类图例渲染\n        var cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n        return new CategoryLegend(cfg);\n    };\n    /**\n     * 创建连续图例\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param legendOption\n     */\n    Legend.prototype.createContinuousLegend = function (geometry, attr, scale, legendOption) {\n        var cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n        return new ContinuousLegend(cfg);\n    };\n    /**\n     * 创建分类图例\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param legendOption\n     */\n    Legend.prototype.createCategoryLegend = function (geometry, attr, scale, legendOption) {\n        var cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n        return new CategoryLegend(cfg);\n    };\n    /**\n     * 获得连续图例的配置\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param legendOption\n     */\n    Legend.prototype.getContinuousCfg = function (geometry, attr, scale, legendOption) {\n        var ticks = scale.getTicks();\n        var containMin = find(ticks, function (tick) { return tick.value === 0; });\n        var containMax = find(ticks, function (tick) { return tick.value === 1; });\n        var items = map(ticks, function (tick) {\n            var value = tick.value, tickValue = tick.tickValue;\n            var attrValue = attr.mapping(scale.invert(value)).join('');\n            return {\n                value: tickValue,\n                attrValue: attrValue,\n                color: attrValue,\n                scaleValue: value,\n            };\n        });\n        if (!containMin) {\n            items.push({\n                value: scale.min,\n                attrValue: attr.mapping(0).join(''),\n                color: attr.mapping(0).join(''),\n                scaleValue: 0,\n            });\n        }\n        if (!containMax) {\n            items.push({\n                value: scale.max,\n                attrValue: attr.mapping(1).join(''),\n                color: attr.mapping(1).join(''),\n                scaleValue: 1,\n            });\n        }\n        // 排序\n        items.sort(function (a, b) { return a.value - b.value; });\n        // 跟 attr 相关的配置\n        // size color 区别的配置\n        var attrLegendCfg = {\n            min: head(items).value,\n            max: last(items).value,\n            colors: [],\n            rail: {\n                type: attr.type,\n            },\n            track: {},\n        };\n        if (attr.type === 'size') {\n            attrLegendCfg = __assign(__assign({}, attrLegendCfg), { track: {\n                    style: {\n                        // size 的选中前景色，对于 color，则直接使用 color 标识\n                        // @ts-ignore\n                        fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n                    },\n                } });\n        }\n        if (attr.type === 'color') {\n            attrLegendCfg = __assign(__assign({}, attrLegendCfg), { colors: map(items, function (item) { return item.attrValue; }) });\n        }\n        var container = this.container;\n        // if position is not set, use top as default\n        var direction = getDirection(legendOption);\n        var layout = getLegendLayout(direction);\n        var title = get(legendOption, 'title');\n        if (title) {\n            title = deepMix({\n                text: getName(scale),\n            }, title);\n        }\n        // 基础配置，从当前数据中读到的配置\n        var baseCfg = __assign(__assign({ container: container,\n            layout: layout }, attrLegendCfg), { title: title });\n        // @ts-ignore\n        return this.mergeLegendCfg(baseCfg, legendOption, 'continuous');\n    };\n    /**\n     * 获取分类图例的配置项\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param custom\n     * @param legendOption\n     */\n    Legend.prototype.getCategoryCfg = function (geometry, attr, scale, legendOption, custom) {\n        var container = this.container;\n        // if position is not set, use top as default\n        var direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n        // the default marker style\n        var themeMarker = get(this.view.getTheme(), ['components', 'legend', direction, 'marker']);\n        var userMarker = get(legendOption, 'marker');\n        var layout = getLegendLayout(direction);\n        var items = custom ?\n            getCustomLegendItems(themeMarker, userMarker, legendOption.items) :\n            getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n        var title = get(legendOption, 'title');\n        if (title) {\n            title = deepMix({\n                text: scale ? getName(scale) : '',\n            }, title);\n        }\n        var baseCfg = __assign({ container: container,\n            layout: layout,\n            items: items,\n            title: title }, this.getCategoryLegendSizeCfg(layout));\n        var categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n        if (categoryCfg.reversed) {\n            // 图例项需要逆序\n            categoryCfg.items.reverse();\n        }\n        return categoryCfg;\n    };\n    /**\n     * get legend config, use option > suggestion > theme\n     * @param baseCfg\n     * @param legendOption\n     * @param direction\n     */\n    Legend.prototype.mergeLegendCfg = function (baseCfg, legendOption, direction) {\n        var themeObject = get(this.view.getTheme(), ['components', 'legend', direction], {});\n        return deepMix({}, themeObject, baseCfg, {\n            animateOption: DEFAULT_ANIMATE_CFG,\n        }, legendOption);\n    };\n    /**\n     * 生成 id\n     * @param key\n     */\n    Legend.prototype.getId = function (key) {\n        return this.name + \"-\" + key;\n    };\n    /**\n     * 根据 id 来获取组件\n     * @param id\n     */\n    Legend.prototype.getComponentById = function (id) {\n        return find(this.components, function (co) { return co.id === id; });\n    };\n    Legend.prototype.getCategoryLegendSizeCfg = function (layout) {\n        var _a = this.view.viewBBox, vw = _a.width, vh = _a.height;\n        var _b = this.view.coordinateBBox, cw = _b.width, ch = _b.height;\n        return layout === 'vertical'\n            ? {\n                maxWidth: vw * COMPONENT_MAX_VIEW_PERCENTAGE,\n                maxHeight: ch,\n            }\n            : {\n                maxWidth: cw,\n                maxHeight: vh * COMPONENT_MAX_VIEW_PERCENTAGE,\n            };\n    };\n    return Legend;\n}(Controller));\nexport default Legend;\n//# sourceMappingURL=legend.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, get, isObject, map, size } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Slider as SliderComponent } from '../../dependents';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween, omit } from '../../util/helper';\nimport { Controller } from './base';\n/**\n * @ignore\n * slider Controller\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(view) {\n        var _this = _super.call(this, view) || this;\n        /**\n         * 滑块滑动的时候出发\n         * @param v\n         */\n        _this.onValueChanged = function (v) {\n            var min = v[0], max = v[1];\n            _this.updateMinMaxText(min, max);\n            _this.view.render(true);\n        };\n        _this.container = _this.view.getLayer(LAYER.FORE).addGroup();\n        return _this;\n    }\n    Object.defineProperty(Slider.prototype, \"name\", {\n        get: function () {\n            return 'slider';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * 初始化\n     */\n    Slider.prototype.init = function () {\n    };\n    /**\n     * 渲染\n     */\n    Slider.prototype.render = function () {\n        this.option = this.view.getOptions().slider;\n        if (this.option) {\n            if (this.slider) {\n                // exist, update\n                this.slider = this.updateSlider();\n            }\n            else {\n                // not exist, create\n                this.slider = this.createSlider();\n                // 监听事件，绑定交互\n                this.slider.component.on('sliderchange', this.onValueChanged);\n            }\n            // changeData 的时候同样需要更新\n            // 设置初始的 text\n            var min = this.slider.component.get('start');\n            var max = this.slider.component.get('end');\n            this.updateMinMaxText(min, max);\n        }\n        else {\n            if (this.slider) {\n                // exist, destroy\n                this.slider.component.destroy();\n                this.slider = undefined;\n            }\n            else {\n                // do nothing\n            }\n        }\n    };\n    /**\n     * 布局\n     */\n    Slider.prototype.layout = function () {\n        if (this.slider) {\n            var width = this.view.coordinateBBox.width;\n            // 获取组件的 layout bbox\n            var bboxObject = this.slider.component.getLayoutBBox();\n            var bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height);\n            var _a = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM), x1 = _a[0], y1 = _a[1];\n            var _b = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM), x2 = _b[0], y2 = _b[1];\n            // 默认放在 bottom\n            this.slider.component.update({\n                x: x2,\n                y: y1,\n                width: width,\n            });\n        }\n    };\n    /**\n     * 更新\n     */\n    Slider.prototype.update = function () {\n        // 逻辑和 render 保持一致\n        this.render();\n    };\n    /**\n     * 创建 slider 组件\n     */\n    Slider.prototype.createSlider = function () {\n        var cfg = this.getSliderCfg();\n        // 添加 slider 组件\n        var component = new SliderComponent(__assign({ container: this.container }, cfg));\n        component.init();\n        return {\n            component: component,\n            layer: LAYER.FORE,\n            direction: DIRECTION.BOTTOM,\n            type: COMPONENT_TYPE.OTHER,\n        };\n    };\n    /**\n     * 更新配置\n     */\n    Slider.prototype.updateSlider = function () {\n        var cfg = this.getSliderCfg();\n        omit(cfg, ['x', 'y', 'width', 'start', 'end', 'minText', 'maxText']);\n        this.slider.component.update(cfg);\n        return this.slider;\n    };\n    /**\n     * 生成 slider 配置\n     */\n    Slider.prototype.getSliderCfg = function () {\n        if (isObject(this.option)) {\n            // 用户配置的数据，优先级更高\n            var trendCfg = __assign({ data: this.getData() }, get(this.option, 'trendCfg', {}));\n            // 初始的位置大小信息\n            var x = 0;\n            var y = 0;\n            var width = this.view.coordinateBBox.width;\n            // 因为有样式，所以深层覆盖\n            var cfg = deepMix({}, { x: x, y: y, width: width }, this.option);\n            // trendCfg 因为有数据数组，所以使用浅替换\n            return __assign(__assign({}, cfg), { trendCfg: trendCfg });\n        }\n        return {};\n    };\n    /**\n     * 从 view 中获取数据，缩略轴使用全量的数据\n     */\n    Slider.prototype.getData = function () {\n        var data = this.view.getOptions().data;\n        var yScale = this.view.getYScales()[0];\n        return map(data, function (datum) { return datum[yScale.field] || 0; });\n    };\n    Slider.prototype.updateMinMaxText = function (min, max) {\n        var data = this.view.getOptions().data;\n        var dataSize = size(data);\n        var xScale = this.view.getXScale();\n        if (!xScale || !dataSize) {\n            return;\n        }\n        var x = xScale.field;\n        // x 轴数据\n        var xData = map(data, function (datum) { return datum[x] || ''; });\n        var minIndex = Math.floor(min * (dataSize - 1));\n        var maxIndex = Math.floor(max * (dataSize - 1));\n        var minText = get(xData, [minIndex]);\n        var maxText = get(xData, [maxIndex]);\n        // 更新文本\n        this.slider.component.update({\n            minText: minText,\n            maxText: maxText,\n            start: min,\n            end: max,\n        });\n        // 增加 x 轴的过滤器\n        this.view.filter(xScale.field, function (value, datum, idx) { return isBetween(idx, minIndex, maxIndex); });\n    };\n    /**\n     * 覆写父类方法\n     */\n    Slider.prototype.getComponents = function () {\n        return this.slider ? [this.slider] : [];\n    };\n    return Slider;\n}(Controller));\nexport default Slider;\n//# sourceMappingURL=slider.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, find, flatten, get, isArray, isEqual, isFunction, mix } from '@antv/util';\nimport { Crosshair, HtmlTooltip } from '../../dependents';\nimport { getDistanceToCenter, getPointAngle, isPointInCoordinate } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findDataByPoint, getTooltipItems } from '../../util/tooltip';\nimport { Controller } from './base';\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n    var uniqItems = [];\n    each(items, function (item) {\n        var result = find(uniqItems, function (subItem) {\n            return (subItem.color === item.color &&\n                subItem.name === item.name &&\n                subItem.value === item.value &&\n                subItem.title === item.title);\n        });\n        if (!result) {\n            uniqItems.push(item);\n        }\n    });\n    return uniqItems;\n}\n/** @ignore */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    function Tooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isVisible = true;\n        return _this;\n    }\n    Object.defineProperty(Tooltip.prototype, \"name\", {\n        get: function () {\n            return 'tooltip';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Tooltip.prototype.init = function () { };\n    Tooltip.prototype.render = function () {\n        this.option = this.view.getOptions().tooltip;\n        this.isVisible = this.option !== false;\n    };\n    /**\n     * Shows tooltip\n     * @param point\n     */\n    Tooltip.prototype.showTooltip = function (point) {\n        if (!this.isVisible) { // 如果设置 tooltip(false) 则始终不显示\n            return;\n        }\n        var view = this.view;\n        var items = this.getTooltipItems(point);\n        if (!items.length) {\n            // 无内容则不展示\n            return;\n        }\n        var title = this.getTitle(items);\n        var dataPoint = {\n            x: items[0].x,\n            y: items[0].y,\n        }; // 数据点位置\n        view.emit('tooltip:show', __assign({ items: items,\n            title: title }, point));\n        var cfg = this.getTooltipCfg();\n        var follow = cfg.follow, showMarkers = cfg.showMarkers, showCrosshairs = cfg.showCrosshairs, showContent = cfg.showContent, marker = cfg.marker;\n        var lastItems = this.items;\n        var lastTitle = this.title;\n        if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n            // 内容发生变化了更新 tooltip\n            view.emit('tooltip:change', __assign({ items: items,\n                title: title }, point));\n            if (showContent) {\n                // 展示 tooltip 内容框才渲染 tooltip\n                if (!this.tooltip) {\n                    // 延迟生成\n                    this.renderTooltip();\n                }\n                this.tooltip.update(mix({}, cfg, {\n                    items: items,\n                    title: title,\n                }, follow ? point : dataPoint));\n                this.tooltip.show();\n            }\n            if (showMarkers) {\n                // 展示 tooltipMarkers，tooltipMarkers 跟随数据\n                this.renderTooltipMarkers(items, marker);\n            }\n        }\n        else {\n            // 内容未发生变化，则更新位置\n            if (this.tooltip) {\n                var newPoint = follow ? point : dataPoint;\n                this.tooltip.update(newPoint);\n            }\n        }\n        this.items = items;\n        this.title = title;\n        if (showCrosshairs) {\n            // 展示 tooltip 辅助线\n            var isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // 辅助线是否要跟随鼠标\n            this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n        }\n    };\n    Tooltip.prototype.hideTooltip = function () {\n        // hide the tooltipMarkers\n        var tooltipMarkersGroup = this.tooltipMarkersGroup;\n        if (tooltipMarkersGroup) {\n            tooltipMarkersGroup.hide();\n        }\n        // hide crosshairs\n        var xCrosshair = this.xCrosshair;\n        var yCrosshair = this.yCrosshair;\n        if (xCrosshair) {\n            xCrosshair.hide();\n        }\n        if (yCrosshair) {\n            yCrosshair.hide();\n        }\n        var tooltip = this.tooltip;\n        if (tooltip) {\n            tooltip.hide();\n        }\n        this.view.emit('tooltip:hide', {});\n    };\n    Tooltip.prototype.clear = function () {\n        var _a = this, tooltip = _a.tooltip, xCrosshair = _a.xCrosshair, yCrosshair = _a.yCrosshair, tooltipMarkersGroup = _a.tooltipMarkersGroup;\n        if (tooltip) {\n            tooltip.hide();\n            tooltip.clear();\n        }\n        if (xCrosshair) {\n            xCrosshair.clear();\n        }\n        if (yCrosshair) {\n            yCrosshair.clear();\n        }\n        if (tooltipMarkersGroup) {\n            tooltipMarkersGroup.clear();\n        }\n    };\n    Tooltip.prototype.destroy = function () {\n        if (this.tooltip) {\n            this.tooltip.destroy();\n        }\n        if (this.xCrosshair) {\n            this.xCrosshair.destroy();\n        }\n        if (this.yCrosshair) {\n            this.yCrosshair.destroy();\n        }\n        if (this.guideGroup) {\n            this.guideGroup.remove(true);\n        }\n        this.items = null;\n        this.title = null;\n        this.tooltipMarkersGroup = null;\n        this.tooltipCrosshairsGroup = null;\n        this.xCrosshair = null;\n        this.yCrosshair = null;\n        this.tooltip = null;\n        this.guideGroup = null;\n    };\n    Tooltip.prototype.changeVisible = function (visible) {\n        if (this.visible === visible) {\n            return;\n        }\n        var _a = this, tooltip = _a.tooltip, tooltipMarkersGroup = _a.tooltipMarkersGroup, xCrosshair = _a.xCrosshair, yCrosshair = _a.yCrosshair;\n        if (visible) {\n            if (tooltip) {\n                tooltip.show();\n            }\n            if (tooltipMarkersGroup) {\n                tooltipMarkersGroup.show();\n            }\n            if (xCrosshair) {\n                xCrosshair.show();\n            }\n            if (yCrosshair) {\n                yCrosshair.show();\n            }\n        }\n        else {\n            if (tooltip) {\n                tooltip.hide();\n            }\n            if (tooltipMarkersGroup) {\n                tooltipMarkersGroup.hide();\n            }\n            if (xCrosshair) {\n                xCrosshair.hide();\n            }\n            if (yCrosshair) {\n                yCrosshair.hide();\n            }\n        }\n        this.visible = visible;\n    };\n    Tooltip.prototype.getTooltipItems = function (point) {\n        var items = this.findItemsFromView(this.view, point);\n        if (items.length) {\n            // 三层\n            items = flatten(items);\n            each(items, function (itemArr) {\n                each(itemArr, function (item) {\n                    var _a = item.mappingData, x = _a.x, y = _a.y;\n                    item.x = isArray(x) ? x[x.length - 1] : x;\n                    item.y = isArray(y) ? y[y.length - 1] : y;\n                });\n            });\n            var shared = this.getTooltipCfg().shared;\n            // shared: false 代表只显示当前拾取到的 shape 的数据，但是一个 view 会有多个 Geometry，所以有可能会拾取到多个 shape\n            if (shared === false && items.length > 1) {\n                var snapItem_1 = items[0];\n                var min_1 = Math.abs(point.y - snapItem_1[0].y);\n                each(items, function (aItem) {\n                    var yDistance = Math.abs(point.y - aItem[0].y);\n                    if (yDistance <= min_1) {\n                        snapItem_1 = aItem;\n                        min_1 = yDistance;\n                    }\n                });\n                items = [snapItem_1];\n            }\n            return uniq(flatten(items));\n        }\n        return [];\n    };\n    Tooltip.prototype.layout = function () { };\n    Tooltip.prototype.update = function () {\n        this.clear();\n        // 更新 tooltip 配置\n        this.option = this.view.getOptions().tooltip;\n    };\n    // 获取 tooltip 配置，因为用户可能会通过 view.tooltip() 重新配置 tooltip，所以就不做缓存，每次直接读取\n    Tooltip.prototype.getTooltipCfg = function () {\n        var view = this.view;\n        var option = this.option;\n        var theme = view.getTheme();\n        var defaultCfg = get(theme, ['components', 'tooltip'], {});\n        return deepMix({}, defaultCfg, option);\n    };\n    Tooltip.prototype.getTitle = function (items) {\n        var title = items[0].title || items[0].name;\n        this.title = title;\n        return title;\n    };\n    Tooltip.prototype.renderTooltip = function () {\n        var _this = this;\n        var canvas = this.view.getCanvas();\n        var region = {\n            start: { x: 0, y: 0 },\n            end: { x: canvas.get('width'), y: canvas.get('height') },\n        };\n        var cfg = this.getTooltipCfg();\n        var tooltip = new HtmlTooltip(__assign(__assign({ parent: canvas.get('el').parentNode, region: region }, cfg), { visible: false, crosshairs: null }));\n        tooltip.init();\n        if (cfg.enterable === false) {\n            // 优化体验，在 tooltip dom 上加绑事件\n            var tooltipContainer = tooltip.get('container');\n            // 如果 tooltip 不允许进入\n            tooltipContainer.onmousemove = function (event) {\n                // 避免 tooltip 频繁闪烁\n                var point = _this.view.getCanvas().getPointByClient(event.clientX, event.clientY);\n                _this.view.emit('plot:mousemove', point);\n            };\n        }\n        this.tooltip = tooltip;\n    };\n    Tooltip.prototype.renderTooltipMarkers = function (items, marker) {\n        var tooltipMarkersGroup = this.getTooltipMarkersGroup();\n        each(items, function (item) {\n            var x = item.x, y = item.y;\n            var attrs = __assign(__assign({ fill: item.color, symbol: 'circle', shadowColor: item.color }, marker), { x: x,\n                y: y });\n            tooltipMarkersGroup.addShape('marker', {\n                attrs: attrs,\n            });\n        });\n    };\n    Tooltip.prototype.renderCrosshairs = function (point, cfg) {\n        var crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); // 默认展示 x 轴上的辅助线\n        if (crosshairsType === 'x') {\n            if (this.yCrosshair) {\n                this.yCrosshair.hide();\n            }\n            this.renderXCrosshairs(point, cfg);\n        }\n        else if (crosshairsType === 'y') {\n            if (this.xCrosshair) {\n                this.xCrosshair.hide();\n            }\n            this.renderYCrosshairs(point, cfg);\n        }\n        else if (crosshairsType === 'xy') {\n            this.renderXCrosshairs(point, cfg);\n            this.renderYCrosshairs(point, cfg);\n        }\n    };\n    // 渲染 x 轴上的 tooltip 辅助线\n    Tooltip.prototype.renderXCrosshairs = function (point, tooltipCfg) {\n        var coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n        if (!isPointInCoordinate(coordinate, point)) {\n            return;\n        }\n        var start;\n        var end;\n        if (coordinate.isRect) {\n            if (coordinate.isTransposed) {\n                start = {\n                    x: coordinate.start.x,\n                    y: point.y,\n                };\n                end = {\n                    x: coordinate.end.x,\n                    y: point.y,\n                };\n            }\n            else {\n                start = {\n                    x: point.x,\n                    y: coordinate.end.y,\n                };\n                end = {\n                    x: point.x,\n                    y: coordinate.start.y,\n                };\n            }\n        }\n        else {\n            // 极坐标下 x 轴上的 crosshairs 表现为半径\n            var angle = getPointAngle(coordinate, point);\n            var center = coordinate.getCenter();\n            // @ts-ignore\n            var radius = coordinate.getRadius();\n            end = polarToCartesian(center.x, center.y, radius, angle);\n            start = center;\n        }\n        var cfg = deepMix({\n            start: start,\n            end: end,\n            container: this.getTooltipCrosshairsGroup(),\n        }, get(tooltipCfg, 'crosshairs', {}), this.getCrosshairsText('x', point, tooltipCfg));\n        delete cfg.type; // 与 Crosshairs 组件的 type 冲突故删除\n        var xCrosshair = this.xCrosshair;\n        if (xCrosshair) {\n            xCrosshair.update(cfg);\n        }\n        else {\n            xCrosshair = new Crosshair.Line(cfg);\n            xCrosshair.init();\n        }\n        xCrosshair.render();\n        xCrosshair.show();\n        this.xCrosshair = xCrosshair;\n    };\n    // 渲染 y 轴上的辅助线\n    Tooltip.prototype.renderYCrosshairs = function (point, tooltipCfg) {\n        var coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n        if (!isPointInCoordinate(coordinate, point)) {\n            return;\n        }\n        var cfg;\n        var type;\n        if (coordinate.isRect) {\n            var start = void 0;\n            var end = void 0;\n            if (coordinate.isTransposed) {\n                start = {\n                    x: point.x,\n                    y: coordinate.end.y,\n                };\n                end = {\n                    x: point.x,\n                    y: coordinate.start.y,\n                };\n            }\n            else {\n                start = {\n                    x: coordinate.start.x,\n                    y: point.y,\n                };\n                end = {\n                    x: coordinate.end.x,\n                    y: point.y,\n                };\n            }\n            cfg = {\n                start: start,\n                end: end,\n            };\n            type = 'Line';\n        }\n        else {\n            // 极坐标下 y 轴上的 crosshairs 表现为圆弧\n            cfg = {\n                center: coordinate.getCenter(),\n                // @ts-ignore\n                radius: getDistanceToCenter(coordinate, point),\n                startAngle: coordinate.startAngle,\n                endAngle: coordinate.endAngle,\n            };\n            type = 'Circle';\n        }\n        cfg = deepMix({\n            container: this.getTooltipCrosshairsGroup()\n        }, cfg, get(tooltipCfg, 'crosshairs', {}), this.getCrosshairsText('y', point, tooltipCfg));\n        delete cfg.type; // 与 Crosshairs 组件的 type 冲突故删除\n        var yCrosshair = this.yCrosshair;\n        if (yCrosshair) {\n            // 如果坐标系发生直角坐标系与极坐标的切换操作\n            if ((coordinate.isRect && yCrosshair.get('type') === 'circle')\n                || (!coordinate.isRect && yCrosshair.get('type') === 'line')) {\n                yCrosshair = new Crosshair[type](cfg);\n                yCrosshair.init();\n            }\n            else {\n                yCrosshair.update(cfg);\n            }\n        }\n        else {\n            yCrosshair = new Crosshair[type](cfg);\n            yCrosshair.init();\n        }\n        yCrosshair.render();\n        yCrosshair.show();\n        this.yCrosshair = yCrosshair;\n    };\n    Tooltip.prototype.getCrosshairsText = function (type, point, tooltipCfg) {\n        var textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n        var follow = get(tooltipCfg, ['crosshairs', 'follow']);\n        var items = this.items;\n        if (textCfg) {\n            var view = this.getViewWithGeometry(this.view);\n            // 需要展示文本\n            var firstItem = items[0];\n            var xScale = view.getXScale();\n            var yScale = view.getYScales()[0];\n            var xValue = void 0;\n            var yValue = void 0;\n            if (follow) {\n                // 如果需要跟随鼠标移动，就需要将当前鼠标坐标点转换为对应的数值\n                var invertPoint = this.view.getCoordinate().invert(point);\n                xValue = xScale.invert(invertPoint.x); // 转换为原始值\n                yValue = yScale.invert(invertPoint.y); // 转换为原始值\n            }\n            else {\n                xValue = firstItem.data[xScale.field];\n                yValue = firstItem.data[yScale.field];\n            }\n            var content = type === 'x' ? xValue : yValue;\n            if (isFunction(textCfg)) {\n                textCfg = textCfg(type, content, items, point);\n            }\n            else {\n                textCfg.content = content;\n            }\n            return {\n                text: textCfg,\n            };\n        }\n    };\n    // 获取存储 tooltipMarkers 和 crosshairs 的容器\n    Tooltip.prototype.getGuideGroup = function () {\n        if (!this.guideGroup) {\n            var foregroundGroup = this.view.foregroundGroup;\n            this.guideGroup = foregroundGroup.addGroup({\n                name: 'tooltipGuide',\n                capture: false,\n            });\n        }\n        return this.guideGroup;\n    };\n    // 获取 tooltipMarkers 存储的容器\n    Tooltip.prototype.getTooltipMarkersGroup = function () {\n        var tooltipMarkersGroup = this.tooltipMarkersGroup;\n        if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n            tooltipMarkersGroup.clear();\n            tooltipMarkersGroup.show();\n        }\n        else {\n            tooltipMarkersGroup = this.getGuideGroup().addGroup({\n                name: 'tooltipMarkersGroup',\n            });\n            tooltipMarkersGroup.toFront();\n            this.tooltipMarkersGroup = tooltipMarkersGroup;\n        }\n        return tooltipMarkersGroup;\n    };\n    // 获取 tooltip crosshairs 存储的容器\n    Tooltip.prototype.getTooltipCrosshairsGroup = function () {\n        var tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n        if (!tooltipCrosshairsGroup) {\n            tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n                name: 'tooltipCrosshairsGroup',\n                capture: false,\n            });\n            tooltipCrosshairsGroup.toBack();\n            this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n        }\n        return tooltipCrosshairsGroup;\n    };\n    Tooltip.prototype.getTooltipItemsByHitShape = function (geometry, point, title) {\n        var result = [];\n        var container = geometry.container;\n        var shape = container.getShape(point.x, point.y);\n        if (shape && shape.get('visible') && shape.get('origin')) {\n            var mappingData = shape.get('origin').mappingData;\n            var items = getTooltipItems(mappingData, geometry, title);\n            if (items.length) {\n                result.push(items);\n            }\n        }\n        return result;\n    };\n    Tooltip.prototype.getTooltipItemsByFindData = function (geometry, point, title) {\n        var result = [];\n        each(geometry.dataArray, function (data) {\n            var record = findDataByPoint(point, data, geometry);\n            if (record) {\n                var elementId = geometry.getElementId(record);\n                var element = geometry.elementsMap[elementId];\n                if (geometry.type === 'heatmap' || element.visible) {\n                    // Heatmap 没有 Element\n                    // 如果图形元素隐藏了，怎不再 tooltip 上展示相关数据\n                    var items = getTooltipItems(record, geometry, title);\n                    if (items.length) {\n                        result.push(items);\n                    }\n                }\n            }\n        });\n        return result;\n    };\n    Tooltip.prototype.findItemsFromView = function (view, point) {\n        var _this = this;\n        if (view.getOptions().tooltip === false) {\n            // 如果 view 关闭了 tooltip\n            return [];\n        }\n        var result = [];\n        // 先从 view 本身查找\n        var geometries = view.geometries;\n        var _a = this.getTooltipCfg(), shared = _a.shared, title = _a.title;\n        each(geometries, function (geometry) {\n            if (geometry.visible && geometry.tooltipOption !== false) {\n                // geometry 可见同时未关闭 tooltip\n                var geometryType = geometry.type;\n                var tooltipItems = void 0;\n                if (['point', 'edge', 'polygon'].includes(geometryType)) {\n                    // 始终通过图形拾取\n                    tooltipItems = _this.getTooltipItemsByHitShape(geometry, point, title);\n                }\n                else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n                    // 如果是 'area', 'line', 'path'，始终通过数据查找方法查找 tooltip\n                    tooltipItems = _this.getTooltipItemsByFindData(geometry, point, title);\n                }\n                else {\n                    if (shared !== false) {\n                        tooltipItems = _this.getTooltipItemsByFindData(geometry, point, title);\n                    }\n                    else {\n                        tooltipItems = _this.getTooltipItemsByHitShape(geometry, point, title);\n                    }\n                }\n                if (tooltipItems.length) {\n                    // geometry 有可能会有多个 item，因为用户可以设置 geometry.tooltip('x*y*z')\n                    result.push(tooltipItems);\n                }\n            }\n        });\n        // 递归查找，并合并结果\n        each(view.views, function (childView) {\n            result = result.concat(_this.findItemsFromView(childView, point));\n        });\n        return result;\n    };\n    // FIXME: hack 方法\n    // 因为 tooltip 的交互是挂载在 Chart 上，所以当chart 上没有绘制 Geometry 的时候，就查找不到数据，并且绘图区域同子 View 的区域不同\n    Tooltip.prototype.getViewWithGeometry = function (view) {\n        var _this = this;\n        if (view.geometries.length) {\n            return view;\n        }\n        return find(view.views, function (childView) { return _this.getViewWithGeometry(childView); });\n    };\n    return Tooltip;\n}(Controller));\nexport default Tooltip;\n//# sourceMappingURL=tooltip.js.map","import { __extends } from \"tslib\";\nimport { each, head, isEqual, last } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n/**\n * 背景框的 Action\n * @ignore\n */\nvar ActiveRegion = /** @class */ (function (_super) {\n    __extends(ActiveRegion, _super);\n    function ActiveRegion() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 显示\n     */\n    ActiveRegion.prototype.show = function () {\n        var view = this.context.view;\n        var ev = this.context.event;\n        var tooltipItems = view.getTooltipItems({\n            x: ev.x,\n            y: ev.y,\n        });\n        if (isEqual(tooltipItems, this.items)) {\n            // 如果拾取数据同上次相同，则不重复绘制\n            return;\n        }\n        this.items = tooltipItems;\n        if (tooltipItems.length) {\n            var xField_1 = view.getXScale().field;\n            var xValue_1 = tooltipItems[0].data[xField_1];\n            // 根据 x 对应的值查找 elements\n            var elements_1 = [];\n            var geometries = view.geometries;\n            each(geometries, function (geometry) {\n                var result = geometry.getElementsBy(function (ele) {\n                    var eleData = ele.getData();\n                    return eleData[xField_1] === xValue_1;\n                });\n                elements_1 = elements_1.concat(result);\n            });\n            // 根据 bbox 计算背景框的面积区域\n            if (elements_1.length) {\n                var firstBBox = elements_1[0].shape.getCanvasBBox();\n                var lastBBox = elements_1[elements_1.length - 1].shape.getCanvasBBox();\n                var groupBBox_1 = firstBBox;\n                each(elements_1, function (ele) {\n                    var bbox = ele.shape.getCanvasBBox();\n                    groupBBox_1.x = Math.min(bbox.minX, groupBBox_1.minX);\n                    groupBBox_1.y = Math.min(bbox.minY, groupBBox_1.minY);\n                    groupBBox_1.width = Math.max(bbox.maxX, groupBBox_1.maxX) - groupBBox_1.x;\n                    groupBBox_1.height = Math.max(bbox.maxY, groupBBox_1.maxY) - groupBBox_1.y;\n                });\n                var backgroundGroup = view.backgroundGroup, coordinateBBox = view.coordinateBBox;\n                var coordinate = view.getCoordinate();\n                var path = void 0;\n                if (coordinate.isRect) {\n                    var xScale = view.getXScale();\n                    var appendRatio = xScale.isLinear ? 0 : 0.25; // 如果 x 轴是数值类型，如直方图，不需要家额外的宽度\n                    var minX = void 0;\n                    var minY = void 0;\n                    var width = void 0;\n                    var height = void 0;\n                    if (coordinate.isTransposed) {\n                        minX = coordinateBBox.minX;\n                        minY = Math.min(lastBBox.minY, firstBBox.minY) - appendRatio * lastBBox.height;\n                        width = coordinateBBox.width;\n                        height = groupBBox_1.height + appendRatio * 2 * lastBBox.height;\n                    }\n                    else {\n                        minX = Math.min(firstBBox.minX, lastBBox.minX) - appendRatio * firstBBox.width;\n                        minY = Math.min(coordinateBBox.minY, firstBBox.minY);\n                        width = groupBBox_1.width + appendRatio * 2 * firstBBox.width;\n                        height = coordinateBBox.height;\n                    }\n                    path = [\n                        ['M', minX, minY],\n                        ['L', minX + width, minY],\n                        ['L', minX + width, minY + height],\n                        ['L', minX, minY + height],\n                        ['Z'],\n                    ];\n                }\n                else {\n                    var firstElement = head(elements_1);\n                    var lastElement = last(elements_1);\n                    var startAngle = getAngle(firstElement.getModel(), coordinate).startAngle;\n                    var endAngle = getAngle(lastElement.getModel(), coordinate).endAngle;\n                    var center = coordinate.getCenter();\n                    // @ts-ignore\n                    var radius = coordinate.getRadius();\n                    var innterRadius = coordinate.innerRadius * radius;\n                    path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n                }\n                if (this.regionPath) {\n                    this.regionPath.attr('path', path);\n                    this.regionPath.show();\n                }\n                else {\n                    this.regionPath = backgroundGroup.addShape({\n                        type: 'path',\n                        name: 'active-region',\n                        capture: false,\n                        attrs: {\n                            path: path,\n                            fill: '#CCD6EC',\n                            opacity: 0.3,\n                        },\n                    });\n                }\n            }\n        }\n    };\n    /**\n     * 隐藏\n     */\n    ActiveRegion.prototype.hide = function () {\n        if (this.regionPath) {\n            this.regionPath.hide();\n        }\n        // this.regionPath = null;\n        this.items = null;\n    };\n    /**\n     * 销毁\n     */\n    ActiveRegion.prototype.destroy = function () {\n        this.hide();\n        if (this.regionPath) {\n            this.regionPath.remove(true);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return ActiveRegion;\n}(Action));\nexport default ActiveRegion;\n//# sourceMappingURL=active-region.js.map","import { __extends } from \"tslib\";\nimport { get, isEqual, isNil } from '@antv/util';\nimport Action from '../base';\n// 判断是否有样式\nfunction hasClass(dom, className) {\n    if (!dom) {\n        return false;\n    }\n    var cls = '';\n    if (!dom.className) {\n        return false;\n    }\n    if (!isNil(dom.className.baseVal)) {\n        cls = dom.className.baseVal;\n    }\n    else {\n        cls = dom.className;\n    }\n    return cls.includes(className);\n}\nfunction isParent(dom, cls) {\n    var parent = dom.parentNode;\n    var rst = false;\n    while (parent && parent !== document.body) {\n        if (hasClass(parent, cls)) {\n            rst = true;\n            break;\n        }\n        parent = parent.parentNode;\n    }\n    return rst;\n}\n/**\n * Tooltip 展示隐藏的 Action\n * @ignore\n */\nvar TooltipAction = /** @class */ (function (_super) {\n    __extends(TooltipAction, _super);\n    function TooltipAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.timeStamp = 0;\n        return _this;\n    }\n    /**\n     * 显示 Tooltip\n     * @returns\n     */\n    TooltipAction.prototype.show = function () {\n        var context = this.context;\n        var ev = context.event;\n        var view = context.view;\n        var isTooltipLocked = view.isTooltipLocked();\n        if (isTooltipLocked) {\n            // 锁定时不移动 tooltip\n            return;\n        }\n        var lastTimeStamp = this.timeStamp;\n        var timeStamp = +new Date();\n        if (timeStamp - lastTimeStamp > 16) {\n            var preLoc = this.location;\n            var curLoc = { x: ev.x, y: ev.y };\n            if (!preLoc || !isEqual(preLoc, curLoc)) {\n                this.showTooltip(view, curLoc);\n            }\n            this.timeStamp = timeStamp;\n            this.location = curLoc;\n        }\n    };\n    /**\n     * 隐藏 Tooltip。\n     * @returns\n     */\n    TooltipAction.prototype.hide = function () {\n        var view = this.context.view;\n        var isTooltipLocked = view.isTooltipLocked();\n        if (isTooltipLocked) {\n            // 锁定 tooltip 时不隐藏\n            return;\n        }\n        var event = this.context.event;\n        var toElement = get(event, ['gEvent', 'originalEvent', 'toElement']);\n        if (toElement && (hasClass(toElement, 'g2-tooltip') || isParent(toElement, 'g2-tooltip'))) {\n            // 当鼠标滑入 tooltip 内容框时不隐藏\n            return;\n        }\n        this.hideTooltip(view);\n        this.location = null;\n    };\n    TooltipAction.prototype.showTooltip = function (view, point) {\n        // 相同位置不重复展示\n        view.showTooltip(point);\n    };\n    TooltipAction.prototype.hideTooltip = function (view) {\n        view.hideTooltip();\n    };\n    return TooltipAction;\n}(Action));\nexport default TooltipAction;\n//# sourceMappingURL=tooltip.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { getSiblingPoint, getSilbings } from '../util';\nimport TooltipAction from './tooltip';\n/**\n * 存在多个 view 时，控制其他 view 上的 tooltip 显示\n * @ignore\n */\nvar SiblingTooltip = /** @class */ (function (_super) {\n    __extends(SiblingTooltip, _super);\n    function SiblingTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 所有同一层级的 tooltip 显示\n     * @param view\n     * @param point\n     */\n    SiblingTooltip.prototype.showTooltip = function (view, point) {\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            var siblingPoint = getSiblingPoint(view, sibling, point);\n            sibling.showTooltip(siblingPoint);\n        });\n    };\n    /**\n     * 隐藏同一层级的 tooltip\n     * @param view\n     */\n    SiblingTooltip.prototype.hideTooltip = function (view) {\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            sibling.hideTooltip();\n        });\n    };\n    return SiblingTooltip;\n}(TooltipAction));\nexport default SiblingTooltip;\n//# sourceMappingURL=sibling-tooltp.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n/**\n * 状态量 Action 的基类\n * @abstract\n * @class\n * @ignore\n */\nvar StateBase = /** @class */ (function (_super) {\n    __extends(StateBase, _super);\n    function StateBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * 状态名称\n         */\n        _this.stateName = '';\n        return _this;\n    }\n    /**\n     * 是否具有某个状态\n     * @param element 图表 Element 元素\n     */\n    StateBase.prototype.hasState = function (element) {\n        return element.hasState(this.stateName);\n    };\n    /**\n     * 设置状态激活\n     * @param enable 状态值\n     */\n    StateBase.prototype.setElementState = function (element, enable) {\n        // 防止闪烁\n        element.setState(this.stateName, enable);\n    };\n    /**\n     * 设置状态\n     */\n    StateBase.prototype.setState = function () {\n        this.setStateEnable(true);\n    };\n    /**\n     * 清除所有 Element 的状态\n     */\n    StateBase.prototype.clear = function () {\n        var view = this.context.view;\n        this.clearViewState(view);\n    };\n    StateBase.prototype.clearViewState = function (view) {\n        var _this = this;\n        var elements = getElementsByState(view, this.stateName);\n        each(elements, function (el) {\n            _this.setElementState(el, false);\n        });\n    };\n    return StateBase;\n}(Action));\nexport default StateBase;\n//# sourceMappingURL=state-base.js.map","import { __extends } from \"tslib\";\nimport { each, isNil } from '@antv/util';\nimport { getCurrentElement, isElementChange, getDelegationObject, getElements, getElementValue, isList, getScaleByField } from '../util';\nimport StateBase from './state-base';\nfunction getItem(shape) {\n    return shape.get('delegateObject').item;\n}\n/**\n * 状态量 Action 的基类，允许多个 Element 同时拥有某个状态\n * @class\n * @ignore\n */\nvar ElementState = /** @class */ (function (_super) {\n    __extends(ElementState, _super);\n    function ElementState() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.ignoreListItemStates = ['unchecked'];\n        return _this;\n    }\n    // 是否忽略触发的列表项\n    ElementState.prototype.isItemIgnore = function (item, list) {\n        var states = this.ignoreListItemStates;\n        var filtered = states.filter(function (state) {\n            return list.hasState(item, state);\n        });\n        return !!filtered.length;\n    };\n    // 设置由组件选项导致的状态变化\n    ElementState.prototype.setStateByComponent = function (component, item, enable) {\n        var view = this.context.view;\n        var field = component.get('field');\n        var elements = getElements(view);\n        this.setElementsStateByItem(elements, field, item, enable);\n    };\n    // 处理触发源由 element 导致的状态变化\n    ElementState.prototype.setStateByElement = function (element, enable) {\n        this.setElementState(element, enable);\n    };\n    /** 组件的选项是否同 element 匹配 */\n    ElementState.prototype.isMathItem = function (element, field, item) {\n        var view = this.context.view;\n        var scale = getScaleByField(view, field);\n        var value = getElementValue(element, field);\n        return !isNil(value) && item.name === scale.getText(value);\n    };\n    ElementState.prototype.setElementsStateByItem = function (elements, field, item, enable) {\n        var _this = this;\n        each(elements, function (el) {\n            if (_this.isMathItem(el, field, item)) {\n                el.setState(_this.stateName, enable);\n            }\n        });\n    };\n    /** 设置状态是否激活 */\n    ElementState.prototype.setStateEnable = function (enable) {\n        var element = getCurrentElement(this.context);\n        if (element) { // 触发源由于 element 导致\n            if (isElementChange(this.context)) {\n                this.setStateByElement(element, enable);\n            }\n        }\n        else {\n            // 触发源由组件导致\n            var delegateObject = getDelegationObject(this.context);\n            // 如果触发源时列表，图例、坐标轴\n            if (isList(delegateObject)) {\n                var item = delegateObject.item, component = delegateObject.component;\n                if (item && component && !this.isItemIgnore(item, component)) {\n                    var event_1 = this.context.event.gEvent;\n                    // 防止闪烁\n                    if (event_1 && event_1.fromShape && event_1.toShape && getItem(event_1.fromShape) === getItem(event_1.toShape)) {\n                        return;\n                    }\n                    this.setStateByComponent(component, item, enable);\n                }\n            }\n        }\n    };\n    /**\n     * 切换状态\n     */\n    ElementState.prototype.toggle = function () {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            var hasState = element.hasState(this.stateName);\n            this.setElementState(element, !hasState);\n        }\n    };\n    /**\n     * 取消当前时间影响的状态\n     */\n    ElementState.prototype.reset = function () {\n        this.setStateEnable(false);\n    };\n    return ElementState;\n}(StateBase));\nexport default ElementState;\n//# sourceMappingURL=state.js.map","import { __extends } from \"tslib\";\nimport StateAction from './state';\n/**\n * 元素 active 的 Action，允许多个元素同时 active\n * @class\n * @ignore\n */\nvar ElementActive = /** @class */ (function (_super) {\n    __extends(ElementActive, _super);\n    function ElementActive() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * Active Element\n     */\n    ElementActive.prototype.active = function () {\n        this.setState();\n    };\n    return ElementActive;\n}(StateAction));\nexport default ElementActive;\n//# sourceMappingURL=active.js.map","import { __extends } from \"tslib\";\nimport Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport { each } from '@antv/util';\n/**\n * Link Elements by color\n * @ignore\n */\nvar LinkByColor = /** @class */ (function (_super) {\n    __extends(LinkByColor, _super);\n    function LinkByColor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cache = {};\n        return _this;\n    }\n    // 获取颜色对应的 scale\n    LinkByColor.prototype.getColorScale = function (view, element) {\n        var colorAttr = element.geometry.getAttribute('color');\n        if (!colorAttr) {\n            return null;\n        }\n        var scale = view.getScaleByField(colorAttr.getFields()[0]);\n        return scale;\n    };\n    // 获取连接的 path\n    LinkByColor.prototype.getLinkPath = function (element, nextElement) {\n        var bbox = element.shape.getCanvasBBox();\n        var nextBBox = nextElement.shape.getCanvasBBox();\n        var path = [\n            ['M', bbox.maxX, bbox.minY],\n            ['L', nextBBox.minX, nextBBox.minY],\n            ['L', nextBBox.minX, nextBBox.maxY],\n            ['L', bbox.maxX, bbox.maxY],\n            ['Z']\n        ];\n        return path;\n    };\n    // 添加连接的图形\n    LinkByColor.prototype.addLinkShape = function (group, element, nextElement) {\n        group.addShape({\n            type: 'path',\n            attrs: {\n                opacity: 0.4,\n                fill: element.shape.attr('fill'),\n                path: this.getLinkPath(element, nextElement)\n            }\n        });\n    };\n    // 使用图形连接\n    LinkByColor.prototype.linkByElement = function (element) {\n        var _this = this;\n        var view = this.context.view;\n        var scale = this.getColorScale(view, element);\n        if (!scale) {\n            return;\n        }\n        var value = getElementValue(element, scale.field);\n        if (!this.cache[value]) {\n            var elements_1 = getElementsByField(view, scale.field, value);\n            var linkGroup = this.linkGroup;\n            var group_1 = linkGroup.addGroup();\n            this.cache[value] = group_1; // 缓存\n            var count_1 = elements_1.length;\n            each(elements_1, function (el, index) {\n                if (index < count_1 - 1) {\n                    var nextEl = elements_1[index + 1];\n                    _this.addLinkShape(group_1, el, nextEl);\n                }\n            });\n        }\n    };\n    // 移除连接\n    LinkByColor.prototype.removeLink = function (element) {\n        var scale = this.getColorScale(this.context.view, element);\n        if (!scale) {\n            return;\n        }\n        var value = getElementValue(element, scale.field);\n        if (this.cache[value]) {\n            this.cache[value].remove();\n            this.cache[value] = null;\n        }\n    };\n    /**\n     * 连接 elements\n     */\n    LinkByColor.prototype.link = function () {\n        var context = this.context;\n        if (!this.linkGroup) {\n            // 不允许被拾取\n            this.linkGroup = context.view.foregroundGroup.addGroup({\n                capture: false\n            });\n        }\n        var element = getCurrentElement(context);\n        if (element) {\n            this.linkByElement(element);\n        }\n    };\n    /**\n     * 取消连接 elements\n     */\n    LinkByColor.prototype.unlink = function () {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            this.removeLink(element);\n        }\n    };\n    /**\n     * 清除所有连接\n     */\n    LinkByColor.prototype.clear = function () {\n        if (this.linkGroup) {\n            this.linkGroup.clear();\n        }\n    };\n    /**\n     * 销毁\n     */\n    LinkByColor.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.linkGroup) {\n            this.linkGroup.remove();\n        }\n    };\n    return LinkByColor;\n}(Action));\nexport default LinkByColor;\n//# sourceMappingURL=link-by-color.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { getElements, getIntersectElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\nimport StateBase from './state-base';\n/**\n * @ignore\n * 区域设置状态的基础 Action\n */\nvar ElementRangeState = /** @class */ (function (_super) {\n    __extends(ElementRangeState, _super);\n    function ElementRangeState() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.startPoint = null;\n        _this.endPoint = null;\n        _this.isStarted = false;\n        /**\n         * 是否作用于当前 view 的 siblings，默认是 false 仅作用于自己\n         */\n        _this.effectSiblings = false;\n        /**\n         * 是否受 element 的数据影响，还是受包围盒的影响\n         */\n        _this.effectByRecord = false;\n        return _this;\n    }\n    // 获取当前的位置\n    ElementRangeState.prototype.getCurrentPoint = function () {\n        var event = this.context.event;\n        return {\n            x: event.x,\n            y: event.y,\n        };\n    };\n    /**\n     * 开始，记录开始选中的位置\n     */\n    ElementRangeState.prototype.start = function () {\n        this.clear(); // 开始的时候清理之前的状态\n        this.startPoint = this.getCurrentPoint();\n        this.isStarted = true;\n    };\n    ElementRangeState.prototype.getIntersectElements = function () {\n        var elements = null;\n        if (isMask(this.context)) {\n            elements = getMaskedElements(this.context, 10);\n        }\n        else {\n            var startPoint = this.startPoint;\n            var endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n            // 计算框选区域\n            var box = {\n                minX: Math.min(startPoint.x, endPoint.x),\n                minY: Math.min(startPoint.y, endPoint.y),\n                maxX: Math.max(startPoint.x, endPoint.x),\n                maxY: Math.max(startPoint.y, endPoint.y),\n            };\n            // this.clear(); // 不全部清理，会导致闪烁\n            var view = this.context.view;\n            elements = getIntersectElements(view, box);\n        }\n        return elements;\n    };\n    /**\n     * 选中\n     */\n    ElementRangeState.prototype.setStateEnable = function (enable) {\n        if (this.effectSiblings && !this.effectByRecord) {\n            this.setSiblingsState(enable);\n        }\n        else {\n            var allElements = getElements(this.context.view);\n            var elements = this.getIntersectElements();\n            if (elements && elements.length) {\n                if (this.effectByRecord) {\n                    this.setSiblingsStateByRecord(elements, enable);\n                }\n                else {\n                    this.setElementsState(elements, enable, allElements);\n                }\n            }\n            else {\n                this.clear();\n            }\n        }\n    };\n    // 根据选中的 element 的数据进行设置状态\n    ElementRangeState.prototype.setSiblingsStateByRecord = function (elements, enable) {\n        var _this = this;\n        var view = this.context.view;\n        var siblings = getSilbings(view);\n        var records = elements.map(function (el) {\n            return el.getModel().data;\n        });\n        var xFiled = view.getXScale().field;\n        var yField = view.getYScales()[0].field;\n        each(siblings, function (sibling) {\n            var allElements = getElements(sibling);\n            var effectElements = allElements.filter(function (el) {\n                var record = el.getModel().data;\n                return isInRecords(records, record, xFiled, yField);\n            });\n            _this.setElementsState(effectElements, enable, allElements);\n        });\n    };\n    // 设置兄弟 view 的状态\n    ElementRangeState.prototype.setSiblingsState = function (enable) {\n        var _this = this;\n        var view = this.context.view;\n        var siblings = getSilbings(view);\n        if (isMask(this.context)) { // 受 mask 影响\n            each(siblings, function (sibling) {\n                var allElements = getElements(sibling);\n                var effectElements = getSiblingMaskElements(_this.context, sibling, 10);\n                if (effectElements && effectElements.length) {\n                    _this.setElementsState(effectElements, enable, allElements);\n                }\n                else {\n                    _this.clearViewState(sibling);\n                }\n            });\n        }\n    };\n    ElementRangeState.prototype.setElementsState = function (elements, enable, allElements) {\n        var _this = this;\n        each(allElements, function (el) {\n            if (!elements.includes(el)) {\n                _this.setElementState(el, false);\n            }\n            else {\n                _this.setElementState(el, enable);\n            }\n        });\n    };\n    /**\n     * 结束\n     */\n    ElementRangeState.prototype.end = function () {\n        this.isStarted = false;\n        this.endPoint = this.getCurrentPoint();\n    };\n    // 复写 clear\n    ElementRangeState.prototype.clear = function () {\n        var _this = this;\n        var view = this.context.view;\n        // 判断是否影响 siblings\n        if (this.effectSiblings) {\n            var siblings = getSilbings(view);\n            each(siblings, function (sibling) {\n                _this.clearViewState(sibling);\n            });\n        }\n        else {\n            this.clearViewState(view);\n        }\n    };\n    return ElementRangeState;\n}(StateBase));\nexport default ElementRangeState;\n//# sourceMappingURL=range-state.js.map","import { __extends } from \"tslib\";\nimport ElementRangeState from './range-state';\n/**\n * @ignore\n * 图表元素区域 Active 的 Action\n */\nvar ElementRangeActive = /** @class */ (function (_super) {\n    __extends(ElementRangeActive, _super);\n    function ElementRangeActive() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * 图表元素 Active\n     */\n    ElementRangeActive.prototype.active = function () {\n        this.setState();\n    };\n    return ElementRangeActive;\n}(ElementRangeState));\nexport default ElementRangeActive;\n//# sourceMappingURL=range-active.js.map","import { __extends } from \"tslib\";\nimport { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n/**\n * 单状态量的 Action 基类\n * @class\n * @ignore\n */\nvar ElementSingleState = /** @class */ (function (_super) {\n    __extends(ElementSingleState, _super);\n    function ElementSingleState() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ElementSingleState.prototype.setStateEnable = function (enable) {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            // 在同一个 element 内部移动，忽视 label 和 shape 之间\n            if (!isElementChange(this.context)) {\n                return;\n            }\n            // 仅支持单个状态量的元素，只能由 element 触发\n            if (enable) {\n                this.clear();\n                this.setElementState(element, true);\n            }\n            else if (this.hasState(element)) {\n                this.setElementState(element, false);\n            }\n        }\n    };\n    /**\n     * 切换选中，只允许选中一个\n     */\n    ElementSingleState.prototype.toggle = function () {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            var hasState = this.hasState(element); // 提前获取状态\n            if (!hasState) {\n                this.clear();\n            }\n            this.setElementState(element, !hasState);\n        }\n    };\n    /**\n     * 取消当前时间影响的状态\n     */\n    ElementSingleState.prototype.reset = function () {\n        this.setStateEnable(false);\n    };\n    return ElementSingleState;\n}(StateBase));\nexport default ElementSingleState;\n//# sourceMappingURL=single-state.js.map","import { __extends } from \"tslib\";\nimport ElementSingleState from './single-state';\n/**\n * @ignore\n * 仅允许单个 Element Active 的 Action\n */\nvar ElementSingleActive = /** @class */ (function (_super) {\n    __extends(ElementSingleActive, _super);\n    function ElementSingleActive() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * 当前事件相关的 Element Active\n     */\n    ElementSingleActive.prototype.active = function () {\n        this.setState();\n    };\n    return ElementSingleActive;\n}(ElementSingleState));\nexport default ElementSingleActive;\n//# sourceMappingURL=single-active.js.map","import { each } from '@antv/util';\nimport { getElements } from '../util';\nvar STATUS_UNACTIVE = 'inactive';\nvar STATUS_ACTIVE = 'active';\n/**\n * @ignore\n * 清理 highlight 效果\n * @param view View 或者 Chart\n */\nexport function clearHighlight(view) {\n    var elements = getElements(view);\n    each(elements, function (el) {\n        if (el.hasState(STATUS_ACTIVE)) {\n            el.setState(STATUS_ACTIVE, false);\n        }\n        if (el.hasState(STATUS_UNACTIVE)) {\n            el.setState(STATUS_UNACTIVE, false);\n        }\n    });\n}\n/**\n * @ignore\n * 设置多个元素的 highlight\n * @param elements 元素集合\n * @param callback 设置回调函数\n * @param enable 设置或者取消\n */\nexport function setHighlightBy(elements, callback, enable) {\n    each(elements, function (el) {\n        // 需要处理 active 和 unactive 的互斥\n        if (callback(el)) {\n            if (el.hasState(STATUS_UNACTIVE)) {\n                el.setState(STATUS_UNACTIVE, false);\n            }\n            el.setState(STATUS_ACTIVE, enable);\n        }\n        else {\n            if (el.hasState(STATUS_ACTIVE)) {\n                el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, enable);\n        }\n    });\n}\n//# sourceMappingURL=highlight-util.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\nvar STATUS_UNACTIVE = 'inactive';\nvar STATUS_ACTIVE = 'active';\n/**\n * @ignore\n * highlight，指定图形高亮，其他图形变暗\n */\nvar ElementHighlight = /** @class */ (function (_super) {\n    __extends(ElementHighlight, _super);\n    function ElementHighlight() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = STATUS_ACTIVE;\n        return _this;\n    }\n    // 多个元素设置、取消 highlight\n    ElementHighlight.prototype.setElementsStateByItem = function (elements, field, item, enable) {\n        var _this = this;\n        var callback = function (el) { return _this.isMathItem(el, field, item); };\n        this.setHighlightBy(elements, callback, enable);\n    };\n    // 设置元素的 highlight\n    ElementHighlight.prototype.setElementHighlight = function (el, callback) {\n        if (callback(el)) {\n            if (el.hasState(STATUS_UNACTIVE)) {\n                el.setState(STATUS_UNACTIVE, false);\n            }\n            el.setState(STATUS_ACTIVE, true);\n        }\n        else if (!el.hasState(STATUS_ACTIVE)) {\n            el.setState(STATUS_UNACTIVE, true);\n        }\n    };\n    ElementHighlight.prototype.setHighlightBy = function (elements, callback, enable) {\n        var _this = this;\n        if (enable) {\n            // 如果是设置 highlight ，则将匹配的 element 设置成 active，\n            // 其他如果不是 active，则设置成 unactive\n            each(elements, function (el) {\n                _this.setElementHighlight(el, callback);\n            });\n        }\n        else {\n            // 如果取消 highlight，则要检测是否全部取消 highlight\n            var activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n            var allCancel_1 = true;\n            // 检测所有 activeElements 都要取消 highlight\n            each(activeElements, function (el) {\n                if (!callback(el)) {\n                    allCancel_1 = false;\n                    return false;\n                }\n            });\n            if (allCancel_1) {\n                // 都要取消，则取消所有的 active，unactive 状态\n                this.clear();\n            }\n            else {\n                // 如果不是都要取消 highlight, 则设置匹配的 element 的状态为 unactive\n                // 其他 element 状态不变\n                each(elements, function (el) {\n                    if (callback(el)) {\n                        if (el.hasState(STATUS_ACTIVE)) {\n                            el.setState(STATUS_ACTIVE, false);\n                        }\n                        el.setState(STATUS_UNACTIVE, true);\n                    }\n                });\n            }\n        }\n    };\n    // 单个元素设置和取消 highlight\n    ElementHighlight.prototype.setElementState = function (element, enable) {\n        var view = this.context.view;\n        var elements = getElements(view);\n        this.setHighlightBy(elements, function (el) { return element === el; }, enable);\n    };\n    ElementHighlight.prototype.highlight = function () {\n        this.setState();\n    };\n    // 清理掉所有的 active， unactive 状态\n    ElementHighlight.prototype.clear = function () {\n        var view = this.context.view;\n        clearHighlight(view);\n    };\n    return ElementHighlight;\n}(StateAction));\nexport default ElementHighlight;\n//# sourceMappingURL=highlight.js.map","import { __extends } from \"tslib\";\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n/**\n * Highlight color\n * @ignore\n */\nvar HighlightColor = /** @class */ (function (_super) {\n    __extends(HighlightColor, _super);\n    function HighlightColor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HighlightColor.prototype.setStateByElement = function (element, enable) {\n        var view = this.context.view;\n        var colorAttr = element.geometry.getAttribute('color');\n        if (!colorAttr) {\n            return;\n        }\n        var scale = view.getScaleByField(colorAttr.getFields()[0]);\n        var value = getElementValue(element, scale.field);\n        var elements = getElements(view);\n        var highlightElements = elements.filter(function (el) {\n            return getElementValue(el, scale.field) === value;\n        });\n        this.setHighlightBy(elements, function (el) { return highlightElements.includes(el); }, enable);\n    };\n    return HighlightColor;\n}(Highlight));\nexport default HighlightColor;\n//# sourceMappingURL=highlight-by-color.js.map","import { __extends } from \"tslib\";\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n/**\n * Highlight x\n * @ignore\n */\nvar HighlightX = /** @class */ (function (_super) {\n    __extends(HighlightX, _super);\n    function HighlightX() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HighlightX.prototype.setStateByElement = function (element, enable) {\n        var view = this.context.view;\n        var scale = view.getXScale();\n        var value = getElementValue(element, scale.field);\n        var elements = getElements(view);\n        var highlightElements = elements.filter(function (el) {\n            return getElementValue(el, scale.field) === value;\n        });\n        this.setHighlightBy(elements, function (el) { return highlightElements.includes(el); }, enable);\n    };\n    return HighlightX;\n}(Highlight));\nexport default HighlightX;\n//# sourceMappingURL=highlight-by-x.js.map","import { __extends } from \"tslib\";\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n/**\n * @ignore\n * 区域 highlight 的 Action\n */\nvar ElementRangeHighlight = /** @class */ (function (_super) {\n    __extends(ElementRangeHighlight, _super);\n    function ElementRangeHighlight() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    // 清理掉所有的 active， unactive 状态\n    ElementRangeHighlight.prototype.clearViewState = function (view) {\n        clearHighlight(view);\n    };\n    /**\n     * 设置 highlight\n     */\n    ElementRangeHighlight.prototype.highlight = function () {\n        this.setState();\n    };\n    ElementRangeHighlight.prototype.setElementsState = function (elements, enable, allElements) {\n        setHighlightBy(allElements, function (el) { return elements.indexOf(el) >= 0; }, enable);\n    };\n    return ElementRangeHighlight;\n}(ElementRangeState));\nexport default ElementRangeHighlight;\n//# sourceMappingURL=range-highlight.js.map","import { __extends } from \"tslib\";\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n/**\n * @ignore\n * 单个 Element Highlight 的 Action\n */\nvar ElementSingleHighlight = /** @class */ (function (_super) {\n    __extends(ElementSingleHighlight, _super);\n    function ElementSingleHighlight() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * Element Highlight\n     */\n    ElementSingleHighlight.prototype.highlight = function () {\n        this.setState();\n    };\n    ElementSingleHighlight.prototype.setElementState = function (element, enable) {\n        var view = this.context.view;\n        var elements = getElements(view);\n        setHighlightBy(elements, function (el) { return element === el; }, enable);\n    };\n    // 清理掉所有的 active， unactive 状态\n    ElementSingleHighlight.prototype.clear = function () {\n        var view = this.context.view;\n        clearHighlight(view);\n    };\n    return ElementSingleHighlight;\n}(ElementSingleState));\nexport default ElementSingleHighlight;\n//# sourceMappingURL=single-highlight.js.map","import { __extends } from \"tslib\";\nimport ElementRangeState from './range-state';\n/**\n * @ignore\n * 区域选中的 Action\n */\nvar ElementRangeSelected = /** @class */ (function (_super) {\n    __extends(ElementRangeSelected, _super);\n    function ElementRangeSelected() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'selected';\n        return _this;\n    }\n    /**\n     * 选中\n     */\n    ElementRangeSelected.prototype.selected = function () {\n        this.setState();\n    };\n    return ElementRangeSelected;\n}(ElementRangeState));\nexport default ElementRangeSelected;\n//# sourceMappingURL=range-selected.js.map","import { __extends } from \"tslib\";\nimport StateAction from './state';\n/**\n * @ignore\n * 允许多选的 Action\n * @class\n */\nvar ElementMultipleSelected = /** @class */ (function (_super) {\n    __extends(ElementMultipleSelected, _super);\n    function ElementMultipleSelected() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'selected';\n        return _this;\n    }\n    /**\n     * 选中节点，允许多选\n     */\n    ElementMultipleSelected.prototype.selected = function () {\n        this.setState();\n    };\n    return ElementMultipleSelected;\n}(StateAction));\nexport default ElementMultipleSelected;\n//# sourceMappingURL=selected.js.map","import { __extends } from \"tslib\";\nimport ElementSingleState from './single-state';\n/**\n * @ignore\n * 单选的 Action\n */\nvar ElementSingleSelected = /** @class */ (function (_super) {\n    __extends(ElementSingleSelected, _super);\n    function ElementSingleSelected() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'selected';\n        return _this;\n    }\n    /**\n     * 选中\n     */\n    ElementSingleSelected.prototype.selected = function () {\n        this.setState();\n    };\n    return ElementSingleSelected;\n}(ElementSingleState));\nexport default ElementSingleSelected;\n//# sourceMappingURL=single-selected.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n/**\n * 列表项状态 Action 的基础类\n * @class\n * @ignore\n */\nvar ListState = /** @class */ (function (_super) {\n    __extends(ListState, _super);\n    function ListState() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = '';\n        _this.ignoreItemStates = [];\n        return _this;\n    }\n    /** 获取触发的列表组件 */\n    ListState.prototype.getTriggerListInfo = function () {\n        var delegateObject = getDelegationObject(this.context);\n        var info = null;\n        if (isList(delegateObject)) {\n            info = {\n                item: delegateObject.item,\n                list: delegateObject.component,\n            };\n        }\n        return info;\n    };\n    // 获取所有允许执行 Action 的组件\n    ListState.prototype.getAllowComponents = function () {\n        var _this = this;\n        var view = this.context.view;\n        var components = getComponents(view);\n        var rst = [];\n        each(components, function (component) {\n            if (component.isList() && _this.allowSetStateByElement(component)) {\n                rst.push(component);\n            }\n        });\n        return rst;\n    };\n    /** 是否存在指定的状态 */\n    ListState.prototype.hasState = function (list, item) {\n        return list.hasState(item, this.stateName);\n    };\n    /** 清理组件的状态 */\n    ListState.prototype.clearAllComponentsState = function () {\n        var _this = this;\n        var components = this.getAllowComponents();\n        each(components, function (component) {\n            component.clearItemsState(_this.stateName);\n        });\n    };\n    // 不是所有的 component 都能进行 active，目前仅支持分类 scale 对应的组件\n    ListState.prototype.allowSetStateByElement = function (component) {\n        var field = component.get('field');\n        if (!field) {\n            return false;\n        }\n        if (this.cfg && this.cfg.componentNames) {\n            var name_1 = component.get('name');\n            // 如果配置了限制的 component name，则要进行检测\n            if (this.cfg.componentNames.indexOf(name_1) === -1) {\n                return false;\n            }\n        }\n        var view = this.context.view;\n        var scale = getScaleByField(view, field);\n        return scale && scale.isCategory;\n    };\n    // 检测是否允许触发对应的状态改变事件\n    ListState.prototype.allowSetStateByItem = function (item, list) {\n        var ignoreStates = this.ignoreItemStates;\n        if (ignoreStates.length) {\n            var filterStates = ignoreStates.filter(function (state) {\n                return list.hasState(item, state);\n            });\n            return filterStates.length === 0;\n        }\n        return true; // 没有定义忽略的状态时，允许\n    };\n    // 设置组件的 item active\n    ListState.prototype.setStateByElement = function (component, element, enable) {\n        var field = component.get('field');\n        var view = this.context.view;\n        var scale = getScaleByField(view, field);\n        var value = getElementValue(element, field);\n        var text = scale.getText(value);\n        this.setItemsState(component, text, enable);\n    };\n    // 设置状态\n    ListState.prototype.setStateEnable = function (enable) {\n        var _this = this;\n        var element = getCurrentElement(this.context);\n        if (element) {\n            // trigger by element\n            var components = this.getAllowComponents();\n            each(components, function (component) {\n                _this.setStateByElement(component, element, enable);\n            });\n        }\n        else {\n            // 被组件触发\n            var delegateObject = getDelegationObject(this.context);\n            if (isList(delegateObject)) {\n                var item = delegateObject.item, component = delegateObject.component;\n                if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n                    this.setItemState(component, item, enable);\n                }\n            }\n        }\n    };\n    // 多个 item 设置状态\n    ListState.prototype.setItemsState = function (list, name, enable) {\n        var _this = this;\n        var items = list.getItems();\n        each(items, function (item) {\n            if (item.name === name) {\n                _this.setItemState(list, item, enable);\n            }\n        });\n    };\n    // 单个 item 设置状态\n    ListState.prototype.setItemState = function (list, item, enable) {\n        list.setItemState(item, this.stateName, enable);\n    };\n    /**\n     * 设置状态\n     */\n    ListState.prototype.setState = function () {\n        this.setStateEnable(true);\n    };\n    /**\n     * 取消状态\n     */\n    ListState.prototype.reset = function () {\n        this.setStateEnable(false);\n    };\n    /**\n     * 切换状态\n     */\n    ListState.prototype.toggle = function () {\n        var triggerInfo = this.getTriggerListInfo();\n        if (triggerInfo && triggerInfo.item) {\n            var list = triggerInfo.list, item = triggerInfo.item;\n            var enable = this.hasState(list, item);\n            this.setItemState(list, item, !enable);\n        }\n    };\n    /**\n     * 取消状态\n     */\n    ListState.prototype.clear = function () {\n        var triggerInfo = this.getTriggerListInfo();\n        if (triggerInfo) {\n            triggerInfo.list.clearItemsState(this.stateName);\n        }\n        else {\n            this.clearAllComponentsState();\n        }\n    };\n    return ListState;\n}(Action));\nexport default ListState;\n//# sourceMappingURL=list-state.js.map","import { __extends } from \"tslib\";\nimport ListState from './list-state';\n/**\n * 列表项（图例项、坐标轴文本）激活的 Action\n * @class\n * @ignore\n */\nvar ListActive = /** @class */ (function (_super) {\n    __extends(ListActive, _super);\n    function ListActive() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * 激活选项\n     */\n    ListActive.prototype.active = function () {\n        this.setState();\n    };\n    return ListActive;\n}(ListState));\nexport default ListActive;\n//# sourceMappingURL=list-active.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nvar STATUS_UNACTIVE = 'inactive';\nvar STATUS_ACTIVE = 'active';\n/**\n * highlight Action 的效果是 active 和 inactive 两个状态的组合\n * @class\n * @ignore\n */\nvar ListHighlight = /** @class */ (function (_super) {\n    __extends(ListHighlight, _super);\n    function ListHighlight() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = STATUS_ACTIVE;\n        _this.ignoreItemStates = ['unchecked']; // 当存在 unchecked 状态时不触发\n        return _this;\n    }\n    // 如果 item.name 匹配，则设置 highlight 以及取消\n    ListHighlight.prototype.setItemsState = function (list, name, enable) {\n        this.setHighlightBy(list, function (item) { return item.name === name; }, enable);\n    };\n    // 单个 item 设置状态\n    ListHighlight.prototype.setItemState = function (list, item, enable) {\n        var items = list.getItems();\n        this.setHighlightBy(list, function (el) { return el === item; }, enable);\n    };\n    // 根据条件设置 highlight\n    ListHighlight.prototype.setHighlightBy = function (list, callback, enable) {\n        var items = list.getItems();\n        if (enable) {\n            // 设置 highlight 时，保留之前已经 Highlight 的项\n            each(items, function (item) {\n                if (callback(item)) {\n                    if (list.hasState(item, STATUS_UNACTIVE)) {\n                        list.setItemState(item, STATUS_UNACTIVE, false);\n                    }\n                    list.setItemState(item, STATUS_ACTIVE, true);\n                }\n                else if (!list.hasState(item, STATUS_ACTIVE)) {\n                    list.setItemState(item, STATUS_UNACTIVE, true);\n                }\n            });\n        }\n        else {\n            var activeItems = list.getItemsByState(STATUS_ACTIVE);\n            var allCancel_1 = true;\n            // 检测 activeItems 是否要全部取消\n            each(activeItems, function (item) {\n                if (!callback(item)) {\n                    allCancel_1 = false;\n                    return false;\n                }\n            });\n            if (allCancel_1) {\n                this.clear();\n            }\n            else {\n                // 如果不是都要取消 highlight, 则设置匹配的 element 的状态为 unactive\n                // 其他 element 状态不变\n                each(items, function (item) {\n                    if (callback(item)) {\n                        if (list.hasState(item, STATUS_ACTIVE)) {\n                            list.setItemState(item, STATUS_ACTIVE, false);\n                        }\n                        list.setItemState(item, STATUS_UNACTIVE, true);\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * highlight 图例项（坐标轴文本）\n     */\n    ListHighlight.prototype.highlight = function () {\n        this.setState();\n    };\n    // 需要全部清理 active 和 unactive\n    ListHighlight.prototype.clear = function () {\n        var triggerInfo = this.getTriggerListInfo();\n        if (triggerInfo) {\n            clearList(triggerInfo.list);\n        }\n        else {\n            // 如果不是 component 的事件触发，则所有满足触发条件的组件都清除该状态\n            var components = this.getAllowComponents();\n            each(components, function (component) {\n                component.clearItemsState(STATUS_ACTIVE);\n                component.clearItemsState(STATUS_UNACTIVE);\n            });\n        }\n    };\n    return ListHighlight;\n}(ListState));\nexport default ListHighlight;\n//# sourceMappingURL=list-highlight.js.map","import { each } from '@antv/util';\nvar STATUS_UNACTIVE = 'inactive';\nvar STATUS_ACTIVE = 'active';\n/**\n * 清理图例的 Highlight 效果\n * @param list 列表组件，图例或者坐标轴\n * @ignore\n */\nexport function clearList(list) {\n    var items = list.getItems();\n    each(items, function (item) {\n        if (list.hasState(item, STATUS_ACTIVE)) {\n            list.setItemState(item, STATUS_ACTIVE, false);\n        }\n        if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n        }\n    });\n}\n//# sourceMappingURL=list-highlight-util.js.map","import { __extends } from \"tslib\";\nimport ListState from './list-state';\n/**\n * 图例项和坐标轴文本选中的 Action\n * @ignore\n */\nvar ListSelected = /** @class */ (function (_super) {\n    __extends(ListSelected, _super);\n    function ListSelected() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'selected';\n        return _this;\n    }\n    ListSelected.prototype.selected = function () {\n        this.setState();\n    };\n    return ListSelected;\n}(ListState));\nexport default ListSelected;\n//# sourceMappingURL=list-selected.js.map","import { __extends } from \"tslib\";\nimport ListState from './list-state';\n/**\n * 图例项取消勾选的 Action\n * @ignore\n */\nvar ListUnchecked = /** @class */ (function (_super) {\n    __extends(ListUnchecked, _super);\n    function ListUnchecked() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'unchecked';\n        return _this;\n    }\n    /**\n     * 取消勾选\n     */\n    ListUnchecked.prototype.unchecked = function () {\n        this.setState();\n    };\n    return ListUnchecked;\n}(ListState));\nexport default ListUnchecked;\n//# sourceMappingURL=list-unchecked.js.map","import { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\n/**\n * @ignore\n * 辅助框 Action 的基类\n */\nvar MaskBase = /** @class */ (function (_super) {\n    __extends(MaskBase, _super);\n    function MaskBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // mask 图形\n        _this.maskShape = null;\n        // 组成 mask 的各个点\n        _this.points = [];\n        // 开始 mask 的标记\n        _this.starting = false;\n        // 开始移动的标记\n        _this.moving = false;\n        _this.preMovePoint = null;\n        _this.shapeType = 'path';\n        return _this;\n    }\n    // 获取当前的位置\n    MaskBase.prototype.getCurrentPoint = function () {\n        var event = this.context.event;\n        return {\n            x: event.x,\n            y: event.y,\n        };\n    };\n    // 触发 mask 的事件\n    MaskBase.prototype.emitEvent = function (type) {\n        var eventName = \"mask:\" + type;\n        var view = this.context.view;\n        var event = this.context.event;\n        view.emit(eventName, {\n            target: this.maskShape,\n            shape: this.maskShape,\n            points: this.points,\n            x: event.x,\n            y: event.y,\n        });\n    };\n    // 创建 mask\n    MaskBase.prototype.createMask = function () {\n        var view = this.context.view;\n        var maskAttrs = this.getMaskAttrs();\n        var maskShape = view.foregroundGroup.addShape({\n            type: this.shapeType,\n            name: 'mask',\n            draggable: true,\n            attrs: __assign({ fill: '#C5D4EB', opacity: 0.3 }, maskAttrs)\n        });\n        return maskShape;\n    };\n    // 生成 mask 的路径\n    MaskBase.prototype.getMaskPath = function () {\n        return [];\n    };\n    /**\n     * 显示\n     */\n    MaskBase.prototype.show = function () {\n        if (this.maskShape) {\n            this.maskShape.show();\n            this.emitEvent('show');\n        }\n    };\n    /**\n     * 开始\n     */\n    MaskBase.prototype.start = function () {\n        this.starting = true;\n        // 开始时，保证移动结束\n        this.moving = false;\n        this.points = [this.getCurrentPoint()];\n        if (!this.maskShape) {\n            this.maskShape = this.createMask();\n            // 开始时设置 capture: false，可以避免创建、resize 时触发事件\n            this.maskShape.set('capture', false);\n        }\n        this.updateMask();\n        this.emitEvent('start');\n    };\n    /**\n     * 开始移动\n     */\n    MaskBase.prototype.moveStart = function () {\n        this.moving = true;\n        this.preMovePoint = this.getCurrentPoint();\n    };\n    /**\n     * 移动 mask\n     */\n    MaskBase.prototype.move = function () {\n        if (!this.moving || !this.maskShape) {\n            return;\n        }\n        var currentPoint = this.getCurrentPoint();\n        var preMovePoint = this.preMovePoint;\n        var dx = currentPoint.x - preMovePoint.x;\n        var dy = currentPoint.y - preMovePoint.y;\n        var points = this.points;\n        each(points, function (point) {\n            point.x += dx;\n            point.y += dy;\n        });\n        this.updateMask();\n        this.emitEvent('change');\n        this.preMovePoint = currentPoint;\n    };\n    MaskBase.prototype.updateMask = function () {\n        var attrs = this.getMaskAttrs();\n        this.maskShape.attr(attrs);\n    };\n    /**\n     * 结束移动\n     */\n    MaskBase.prototype.moveEnd = function () {\n        this.moving = false;\n        this.preMovePoint = null;\n    };\n    /**\n     * 结束\n     */\n    MaskBase.prototype.end = function () {\n        this.starting = false;\n        this.emitEvent('end');\n        if (this.maskShape) {\n            this.maskShape.set('capture', true);\n        }\n    };\n    /**\n     * 隐藏\n     */\n    MaskBase.prototype.hide = function () {\n        if (this.maskShape) {\n            this.maskShape.hide();\n            this.emitEvent('hide');\n        }\n    };\n    /**\n     * 大小变化\n     */\n    MaskBase.prototype.resize = function () {\n        // 只有进行中，才会允许大小变化\n        if (this.starting && this.maskShape) {\n            this.points.push(this.getCurrentPoint());\n            this.updateMask();\n            this.emitEvent('change');\n        }\n    };\n    /**\n     * 销毁\n     */\n    MaskBase.prototype.destroy = function () {\n        this.points = [];\n        if (this.maskShape) {\n            this.maskShape.remove();\n        }\n        this.maskShape = null;\n        this.preMovePoint = null;\n        _super.prototype.destroy.call(this);\n    };\n    return MaskBase;\n}(Action));\nexport default MaskBase;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n/**\n * @ignore\n * 圆形辅助框 Action\n */\nvar CircleMask = /** @class */ (function (_super) {\n    __extends(CircleMask, _super);\n    function CircleMask() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.shapeType = 'circle';\n        return _this;\n    }\n    CircleMask.prototype.getMaskAttrs = function () {\n        var points = this.points;\n        var currentPoint = last(this.points);\n        var r = 0;\n        var x = 0;\n        var y = 0;\n        if (points.length) {\n            var first = points[0];\n            r = distance(first, currentPoint) / 2;\n            x = (currentPoint.x + first.x) / 2;\n            y = (currentPoint.y + first.y) / 2;\n        }\n        return {\n            x: x,\n            y: y,\n            r: r\n        };\n    };\n    return CircleMask;\n}(MaskBase));\nexport default CircleMask;\n//# sourceMappingURL=circle.js.map","import { __extends } from \"tslib\";\nimport { head, last } from '@antv/util';\nimport MaskBase from './base';\n/**\n * @ignore\n * 矩形的辅助框 Action\n */\nvar RectMask = /** @class */ (function (_super) {\n    __extends(RectMask, _super);\n    function RectMask() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.shapeType = 'rect';\n        return _this;\n    }\n    RectMask.prototype.getRegion = function () {\n        var points = this.points;\n        return {\n            start: head(points),\n            end: last(points)\n        };\n    };\n    // 添加图形\n    RectMask.prototype.getMaskAttrs = function () {\n        var _a = this.getRegion(), start = _a.start, end = _a.end;\n        var x = Math.min(start.x, end.x);\n        var y = Math.min(start.y, end.y);\n        var width = Math.abs(end.x - start.x);\n        var height = Math.abs(end.y - start.y);\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height\n        };\n    };\n    return RectMask;\n}(MaskBase));\nexport default RectMask;\n//# sourceMappingURL=rect.js.map","import { __extends } from \"tslib\";\nimport { clamp, head, last } from '@antv/util';\nimport RectMask from './rect';\nfunction clampPoint(point) {\n    point.x = clamp(point.x, 0, 1);\n    point.y = clamp(point.y, 0, 1);\n}\n/**\n * @ignore\n */\nvar DimRect = /** @class */ (function (_super) {\n    __extends(DimRect, _super);\n    function DimRect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.dim = 'x';\n        _this.inPlot = true;\n        return _this;\n    }\n    DimRect.prototype.getRegion = function () {\n        var start = null;\n        var end = null;\n        var points = this.points;\n        var dim = this.dim;\n        var coord = this.context.view.getCoordinate();\n        var normalStart = coord.invert(head(points));\n        var normalEnd = coord.invert(last(points));\n        if (this.inPlot) { // 约束到 0 - 1 范围内\n            clampPoint(normalStart);\n            clampPoint(normalEnd);\n        }\n        if (dim === 'x') { // x 轴方向扩展, y 轴方向占满全部\n            start = coord.convert({\n                x: normalStart.x,\n                y: 0\n            });\n            end = coord.convert({\n                x: normalEnd.x,\n                y: 1\n            });\n        }\n        else { // y 轴方向扩展, x 轴方向占满全部\n            start = coord.convert({\n                x: 0,\n                y: normalStart.y\n            });\n            end = coord.convert({\n                x: 1,\n                y: normalEnd.y\n            });\n        }\n        return {\n            start: start,\n            end: end\n        };\n    };\n    return DimRect;\n}(RectMask));\nexport default DimRect;\n//# sourceMappingURL=dim-rect.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport MaskBase from './base';\n/**\n * @ignore\n * 多个点构成的 Path 辅助框 Action\n */\nvar PathMask = /** @class */ (function (_super) {\n    __extends(PathMask, _super);\n    function PathMask() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // 生成 mask 的路径\n    PathMask.prototype.getMaskPath = function () {\n        var points = this.points;\n        var path = [];\n        if (points.length) {\n            each(points, function (point, index) {\n                if (index === 0) {\n                    path.push(['M', point.x, point.y]);\n                }\n                else {\n                    path.push(['L', point.x, point.y]);\n                }\n            });\n            path.push(['L', points[0].x, points[0].y]);\n        }\n        return path;\n    };\n    PathMask.prototype.getMaskAttrs = function () {\n        return {\n            path: this.getMaskPath()\n        };\n    };\n    /**\n     * 添加一个点\n     */\n    PathMask.prototype.addPoint = function () {\n        this.resize();\n    };\n    return PathMask;\n}(MaskBase));\nexport default PathMask;\n//# sourceMappingURL=path.js.map","import { __extends } from \"tslib\";\nimport { getSpline } from '../util';\nimport PathMask from './path';\n/**\n * Smooth path mask\n * @ignore\n */\nvar SmoothPathMask = /** @class */ (function (_super) {\n    __extends(SmoothPathMask, _super);\n    function SmoothPathMask() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // 生成 mask 的路径\n    SmoothPathMask.prototype.getMaskPath = function () {\n        var points = this.points;\n        return getSpline(points, true);\n    };\n    return SmoothPathMask;\n}(PathMask));\nexport default SmoothPathMask;\n//# sourceMappingURL=smooth-path.js.map","import { __extends } from \"tslib\";\n/**\n * @fileoverview 设置画布的箭头，参看：https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n/**\n * 鼠标形状的 Action\n * @ignore\n */\nvar CursorAction = /** @class */ (function (_super) {\n    __extends(CursorAction, _super);\n    function CursorAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CursorAction.prototype.setCursor = function (cursor) {\n        var view = this.context.view;\n        view.getCanvas().setCursor(cursor);\n    };\n    /**\n     * 默认光标（通常是一个箭头）\n     */\n    CursorAction.prototype.default = function () {\n        this.setCursor('default');\n    };\n    /** 光标呈现为指示链接的指针（一只手） */\n    CursorAction.prototype.pointer = function () {\n        this.setCursor('pointer');\n    };\n    /** 此光标指示某对象可被移动。 */\n    CursorAction.prototype.move = function () {\n        this.setCursor('move');\n    };\n    /** 光标呈现为十字线。 */\n    CursorAction.prototype.crosshair = function () {\n        this.setCursor('crosshair');\n    };\n    /** 此光标指示程序正忙（通常是一只表或沙漏）。 */\n    CursorAction.prototype.wait = function () {\n        this.setCursor('wait');\n    };\n    /** 此光标指示可用的帮助（通常是一个问号或一个气球）。 */\n    CursorAction.prototype.help = function () {\n        this.setCursor('help');\n    };\n    /** 此光标指示文本。 */\n    CursorAction.prototype.text = function () {\n        this.setCursor('text');\n    };\n    /**\n     * 此光标指示矩形框的边缘可被向右（东）移动。\n     */\n    CursorAction.prototype.eResize = function () {\n        this.setCursor('e-resize');\n    };\n    /**\n     * 此光标指示矩形框的边缘可被向左（西）移动。\n     */\n    CursorAction.prototype.wResize = function () {\n        this.setCursor('w-resize');\n    };\n    /**\n     * 此光标指示矩形框的边缘可被向上（北）移动。\n     */\n    CursorAction.prototype.nResize = function () {\n        this.setCursor('n-resize');\n    };\n    /**\n     * 此光标指示矩形框的边缘可被向下（南）移动。\n     */\n    CursorAction.prototype.sResize = function () {\n        this.setCursor('s-resize');\n    };\n    /**\n     * 光标指示可移动的方向 右上方（东北）\n     */\n    CursorAction.prototype.neResize = function () {\n        this.setCursor('ne-resize');\n    };\n    /**\n     * 光标指示可移动的方向 左上方（西北）\n     */\n    CursorAction.prototype.nwResize = function () {\n        this.setCursor('nw-resize');\n    };\n    /**\n     * 光标指示可移动的方向右下方（东南）\n     */\n    CursorAction.prototype.seResize = function () {\n        this.setCursor('se-resize');\n    };\n    /**\n     * 光标指示可移动的方向左下方（西南）\n     */\n    CursorAction.prototype.swResize = function () {\n        this.setCursor('sw-resize');\n    };\n    /**\n     * 光标指示可以在上下方向移动\n     */\n    CursorAction.prototype.nsResize = function () {\n        this.setCursor('ns-resize');\n    };\n    /**\n     * 光标指示可以在左右方向移动\n     */\n    CursorAction.prototype.ewResize = function () {\n        this.setCursor('ew-resize');\n    };\n    return CursorAction;\n}(Action));\nexport default CursorAction;\n//# sourceMappingURL=cursor.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n/**\n * 数据过滤。\n * @ignore\n */\nvar DataFilter = /** @class */ (function (_super) {\n    __extends(DataFilter, _super);\n    function DataFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DataFilter.prototype.filterView = function (view, field, filter) {\n        var _this = this;\n        // 只有存在这个 scale 时才生效\n        if (view.getScaleByField(field)) {\n            view.filter(field, filter);\n        }\n        if (view.views && view.views.length) {\n            each(view.views, function (subView) {\n                _this.filterView(subView, field, filter);\n            });\n        }\n    };\n    /**\n     * 过滤数据\n     */\n    DataFilter.prototype.filter = function () {\n        var delegateObject = getDelegationObject(this.context);\n        if (delegateObject) {\n            var view = this.context.view;\n            var component = delegateObject.component;\n            var field = component.get('field');\n            // 列表类的组件能够触发\n            if (isList(delegateObject)) {\n                if (field) {\n                    var unCheckedItems = component.getItemsByState('unchecked');\n                    var scale_1 = getScaleByField(view, field);\n                    var names_1 = unCheckedItems.map(function (item) { return item.name; });\n                    if (names_1.length) {\n                        this.filterView(view, field, function (value) {\n                            var text = scale_1.getText(value);\n                            return !names_1.includes(text);\n                        });\n                    }\n                    else {\n                        this.filterView(view, field, null);\n                    }\n                    view.render(true);\n                }\n            }\n            else if (isSlider(delegateObject)) {\n                var range = component.getValue();\n                var min_1 = range[0], max_1 = range[1];\n                this.filterView(view, field, function (value) {\n                    return value >= min_1 && value <= max_1;\n                });\n                view.render(true);\n            }\n        }\n    };\n    return DataFilter;\n}(Action));\nexport default DataFilter;\n//# sourceMappingURL=filter.js.map","import { __extends } from \"tslib\";\nimport Action from '../base';\nimport { isMask } from '../util';\n// 获取对应的 scale\nfunction getFilter(scale, dim, point1, point2) {\n    var min = Math.min(point1[dim], point2[dim]);\n    var max = Math.max(point1[dim], point2[dim]);\n    var _a = scale.range, rangeMin = _a[0], rangeMax = _a[1];\n    // 约束值在 scale 的 range 之间\n    if (min < rangeMin) {\n        min = rangeMin;\n    }\n    if (max > rangeMax) {\n        max = rangeMax;\n    }\n    // 范围大于整个 view 的范围，则返回 null\n    if (min === rangeMax && max === rangeMax) {\n        return null;\n    }\n    var minValue = scale.invert(min);\n    var maxValue = scale.invert(max);\n    if (scale.isCategory) {\n        var minIndex = scale.values.indexOf(minValue);\n        var maxIndex = scale.values.indexOf(maxValue);\n        var arr_1 = scale.values.slice(minIndex, maxIndex + 1);\n        return function (value) {\n            return arr_1.includes(value);\n        };\n    }\n    else {\n        return function (value) {\n            return value >= minValue && value <= maxValue;\n        };\n    }\n}\n/**\n * 范围过滤的 Action\n * @ignore\n */\nvar RangeFilter = /** @class */ (function (_super) {\n    __extends(RangeFilter, _super);\n    function RangeFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * 范围过滤生效的字段/维度，可以是 x, y\n         */\n        _this.dims = ['x', 'y'];\n        /** 起始点 */\n        _this.startPoint = null;\n        _this.isStarted = false;\n        return _this;\n    }\n    // x,y 是否生效\n    RangeFilter.prototype.hasDim = function (dim) {\n        return this.dims.includes(dim);\n    };\n    /**\n     * 开始范围过滤，记录范围过滤的起点\n     */\n    RangeFilter.prototype.start = function () {\n        var context = this.context;\n        this.isStarted = true;\n        this.startPoint = context.getCurrentPoint();\n    };\n    /**\n     * 过滤，以开始的点和当前点对数据进行过滤\n     */\n    RangeFilter.prototype.filter = function () {\n        var startPoint;\n        var currentPoint;\n        if (isMask(this.context)) {\n            var maskShape = this.context.event.target;\n            var bbox = maskShape.getCanvasBBox();\n            startPoint = { x: bbox.x, y: bbox.y };\n            currentPoint = { x: bbox.maxX, y: bbox.maxY };\n        }\n        else {\n            if (!this.isStarted) {\n                // 如果没有开始，则不执行过滤\n                return;\n            }\n            startPoint = this.startPoint;\n            currentPoint = this.context.getCurrentPoint();\n        }\n        if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n            // 距离过小也不生效\n            return;\n        }\n        var view = this.context.view;\n        var coord = view.getCoordinate();\n        var normalCurrent = coord.invert(currentPoint);\n        var normalStart = coord.invert(startPoint);\n        // 设置 x 方向的 filter\n        if (this.hasDim('x')) {\n            var xScale = view.getXScale();\n            var filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n            this.filterView(view, xScale.field, filter);\n        }\n        // 设置 y 方向的 filter\n        if (this.hasDim('y')) {\n            var yScale = view.getYScales()[0];\n            var filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n            this.filterView(view, yScale.field, filter);\n        }\n        this.reRender(view);\n    };\n    /**\n     * 结束\n     */\n    RangeFilter.prototype.end = function () {\n        this.isStarted = false;\n    };\n    /**\n     * 取消同当前 Action 相关的过滤，指定的 x,y\n     */\n    RangeFilter.prototype.reset = function () {\n        var view = this.context.view;\n        this.isStarted = false;\n        if (this.hasDim('x')) {\n            var xScale = view.getXScale();\n            this.filterView(view, xScale.field, null); // 取消过滤\n        }\n        if (this.hasDim('y')) {\n            // y 轴过滤仅取第一个 yScale\n            var yScale = view.getYScales()[0];\n            this.filterView(view, yScale.field, null); // 取消过滤\n        }\n        this.reRender(view);\n    };\n    /**\n     * 对 view 进行过滤\n     */\n    RangeFilter.prototype.filterView = function (view, field, filter) {\n        view.filter(field, filter);\n    };\n    /**\n     * 重新渲染\n     * @param view\n     */\n    RangeFilter.prototype.reRender = function (view) {\n        view.render(true);\n    };\n    return RangeFilter;\n}(Action));\nexport default RangeFilter;\n//# sourceMappingURL=range-filter.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport RangeFilter from './range-filter';\nimport { getSilbings } from '../util';\n/**\n * 数据范围过滤，但不在当前的 view 上生效，而在当前的 view 同一层级的其他 views 上生效，用于实现联动过滤。\n * @ignore\n */\nvar SiblingFilter = /** @class */ (function (_super) {\n    __extends(SiblingFilter, _super);\n    function SiblingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 对 view 进行过滤\n     * @param view\n     * @param field\n     * @param filter\n     */\n    SiblingFilter.prototype.filterView = function (view, field, filter) {\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            sibling.filter(field, filter);\n        });\n    };\n    /**\n     * 重新渲染\n     * @param view\n     */\n    SiblingFilter.prototype.reRender = function (view) {\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            sibling.render(true);\n        });\n    };\n    return SiblingFilter;\n}(RangeFilter));\nexport default SiblingFilter;\n//# sourceMappingURL=sibling-filter.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getDelegationObject, getElements, getElementValue, getScaleByField, isList, isSlider, isMask, getMaskedElements } from '../util';\n/**\n * 元素过滤的 Action，控制元素的显示隐藏\n * @ignore\n */\nvar ElementFilter = /** @class */ (function (_super) {\n    __extends(ElementFilter, _super);\n    function ElementFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 过滤\n     */\n    ElementFilter.prototype.filter = function () {\n        var delegateObject = getDelegationObject(this.context);\n        var view = this.context.view;\n        var elements = getElements(view);\n        if (isMask(this.context)) {\n            var maskElements_1 = getMaskedElements(this.context, 10);\n            if (maskElements_1) {\n                each(elements, function (el) {\n                    if (maskElements_1.includes(el)) {\n                        el.show();\n                    }\n                    else {\n                        el.hide();\n                    }\n                });\n            }\n        }\n        else if (delegateObject) {\n            var component = delegateObject.component;\n            var field_1 = component.get('field');\n            // 列表类的组件能够触发\n            if (isList(delegateObject)) {\n                if (field_1) {\n                    var unCheckedItems = component.getItemsByState('unchecked');\n                    var scale_1 = getScaleByField(view, field_1);\n                    var names_1 = unCheckedItems.map(function (item) { return item.name; });\n                    // 直接控制显示、隐藏\n                    each(elements, function (el) {\n                        var value = getElementValue(el, field_1);\n                        var text = scale_1.getText(value);\n                        if (names_1.indexOf(text) >= 0) {\n                            el.hide();\n                        }\n                        else {\n                            el.show();\n                        }\n                    });\n                }\n            }\n            else if (isSlider(delegateObject)) {\n                var range = component.getValue();\n                var min_1 = range[0], max_1 = range[1];\n                each(elements, function (el) {\n                    var value = getElementValue(el, field_1);\n                    if (value >= min_1 && value <= max_1) {\n                        el.show();\n                    }\n                    else {\n                        el.hide();\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * 清除过滤\n     */\n    ElementFilter.prototype.clear = function () {\n        var elements = getElements(this.context.view);\n        each(elements, function (el) {\n            el.show();\n        });\n    };\n    /**\n     * 恢复发生的过滤，保持同 data-filter 命名的一致\n     */\n    ElementFilter.prototype.reset = function () {\n        this.clear();\n    };\n    return ElementFilter;\n}(Action));\nexport default ElementFilter;\n//# sourceMappingURL=filter.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from \"../base\";\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from \"../util\";\n/**\n * Sibling filter\n * @ignore\n */\nvar SiblingFilter = /** @class */ (function (_super) {\n    __extends(SiblingFilter, _super);\n    function SiblingFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.byRecord = false;\n        return _this;\n    }\n    /**\n     * 过滤隐藏图形\n     */\n    SiblingFilter.prototype.filter = function () {\n        // 仅考虑 mask 导致的过滤\n        if (isMask(this.context)) {\n            if (this.byRecord) {\n                this.filterByRecord();\n            }\n            else {\n                this.filterByBBox();\n            }\n        }\n    };\n    // 根据框选的记录来做过滤\n    SiblingFilter.prototype.filterByRecord = function () {\n        var view = this.context.view;\n        var maskElements = getMaskedElements(this.context, 10);\n        if (!maskElements) {\n            return;\n        }\n        var xFiled = view.getXScale().field;\n        var yField = view.getYScales()[0].field;\n        var records = maskElements.map(function (el) {\n            return el.getModel().data;\n        });\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            var elements = getElements(sibling);\n            each(elements, function (el) {\n                var record = el.getModel().data;\n                // records.includes(record) 不生效，应该是数据的引用被改了\n                if (isInRecords(records, record, xFiled, yField)) {\n                    el.show();\n                }\n                else {\n                    el.hide();\n                }\n            });\n        });\n    };\n    // 根据被框选的包围盒做过滤\n    SiblingFilter.prototype.filterByBBox = function () {\n        var _this = this;\n        var view = this.context.view;\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            var maskElements = getSiblingMaskElements(_this.context, sibling, 10);\n            var elements = getElements(sibling);\n            if (maskElements) { // mask 过小时返回为 null，不能是空数组，否则同未框选到混淆\n                each(elements, function (el) {\n                    if (maskElements.includes(el)) {\n                        el.show();\n                    }\n                    else {\n                        el.hide();\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * 清理所有隐藏的图形\n     */\n    SiblingFilter.prototype.reset = function () {\n        var siblings = getSilbings(this.context.view);\n        each(siblings, function (sibling) {\n            var elements = getElements(sibling);\n            each(elements, function (el) {\n                el.show();\n            });\n        });\n    };\n    return SiblingFilter;\n}(Action));\nexport default SiblingFilter;\n//# sourceMappingURL=sibling-filter.js.map","import { __assign, __extends } from \"tslib\";\nimport { transform } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nvar PADDING_RIGHT = 10;\nvar PADDING_TOP = 5;\n/**\n * Button action\n * @ignore\n */\nvar ButtonAction = /** @class */ (function (_super) {\n    __extends(ButtonAction, _super);\n    function ButtonAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buttonGroup = null;\n        _this.buttonCfg = {\n            name: 'button',\n            text: 'button',\n            textStyle: {\n                x: 0,\n                y: 0,\n                fontSize: 12,\n                fill: '#333333',\n                cursor: 'pointer',\n            },\n            padding: [8, 10],\n            style: {\n                fill: '#f7f7f7',\n                stroke: '#cccccc',\n                cursor: 'pointer',\n            },\n            activeStyle: {\n                fill: '#e6e6e6',\n            },\n        };\n        return _this;\n    }\n    // mix 默认的配置和用户配置\n    ButtonAction.prototype.getButtonCfg = function () {\n        return deepMix(this.buttonCfg, this.cfg);\n    };\n    // 绘制 Button 和 文本\n    ButtonAction.prototype.drawButton = function () {\n        var config = this.getButtonCfg();\n        var group = this.context.view.foregroundGroup.addGroup({\n            name: config.name,\n        });\n        // 添加文本\n        var textShape = group.addShape({\n            type: 'text',\n            name: 'button-text',\n            attrs: __assign({ text: config.text }, config.textStyle),\n        });\n        var textBBox = textShape.getBBox();\n        var padding = parsePadding(config.padding);\n        // 添加背景按钮\n        var buttonShape = group.addShape({\n            type: 'rect',\n            name: 'button-rect',\n            attrs: __assign({ x: textBBox.x - padding[3], y: textBBox.y - padding[0], width: textBBox.width + padding[1] + padding[3], height: textBBox.height + padding[0] + padding[2] }, config.style),\n        });\n        buttonShape.toBack(); // 在后面\n        // active 效果内置\n        group.on('mouseenter', function () {\n            buttonShape.attr(config.activeStyle);\n        });\n        group.on('mouseleave', function () {\n            buttonShape.attr(config.style);\n        });\n        this.buttonGroup = group;\n    };\n    // 重置位置\n    ButtonAction.prototype.resetPosition = function () {\n        var view = this.context.view;\n        var coord = view.getCoordinate();\n        var point = coord.convert({ x: 1, y: 1 }); // 后面直接改成左上角\n        var buttonGroup = this.buttonGroup;\n        var bbox = buttonGroup.getBBox();\n        var matrix = transform(null, [['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP]]);\n        buttonGroup.setMatrix(matrix);\n    };\n    /**\n     * 显示\n     */\n    ButtonAction.prototype.show = function () {\n        if (!this.buttonGroup) {\n            this.drawButton();\n        }\n        this.resetPosition();\n        this.buttonGroup.show();\n    };\n    /**\n     * 隐藏\n     */\n    ButtonAction.prototype.hide = function () {\n        if (this.buttonGroup) {\n            this.buttonGroup.hide();\n        }\n    };\n    /**\n     * 销毁\n     */\n    ButtonAction.prototype.destroy = function () {\n        var buttonGroup = this.buttonGroup;\n        if (buttonGroup) {\n            buttonGroup.remove();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return ButtonAction;\n}(Action));\nexport default ButtonAction;\n//# sourceMappingURL=button.js.map","import { __extends } from \"tslib\";\nimport Action from '../base';\nimport { distance } from '../util';\nvar DISTANCE = 4; // 移动的最小距离\n/**\n * @ignore\n * View 支持 Drag 的 Action\n */\nvar Drag = /** @class */ (function (_super) {\n    __extends(Drag, _super);\n    function Drag() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // Action 开始，不等同于 拖拽开始，需要判定移动的范围\n        _this.starting = false;\n        // 拖拽开始\n        _this.dragStart = false;\n        return _this;\n    }\n    /**\n     * 开始\n     */\n    Drag.prototype.start = function () {\n        this.starting = true;\n        this.startPoint = this.context.getCurrentPoint();\n    };\n    /**\n     * 拖拽\n     */\n    Drag.prototype.drag = function () {\n        if (!this.startPoint) {\n            return;\n        }\n        var current = this.context.getCurrentPoint();\n        var view = this.context.view;\n        var event = this.context.event;\n        if (!this.dragStart) {\n            if (distance(current, this.startPoint) > DISTANCE) {\n                view.emit('dragstart', {\n                    target: event.target,\n                    x: event.x,\n                    y: event.y,\n                });\n                this.dragStart = true;\n            }\n        }\n        else {\n            view.emit('drag', {\n                target: event.target,\n                x: event.x,\n                y: event.y,\n            });\n        }\n    };\n    /**\n     * 结束\n     */\n    Drag.prototype.end = function () {\n        if (this.dragStart) {\n            var view = this.context.view;\n            var event_1 = this.context.event;\n            view.emit('dragend', {\n                target: event_1.target,\n                x: event_1.x,\n                y: event_1.y,\n            });\n        }\n        this.starting = false;\n        this.dragStart = false;\n    };\n    return Drag;\n}(Action));\nexport default Drag;\n//# sourceMappingURL=drag.js.map","import { __extends } from \"tslib\";\nimport { transform } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\nvar MIN_DISTANCE = 5;\n/**\n * @ignore\n * View 移动的 Action\n */\nvar Move = /** @class */ (function (_super) {\n    __extends(Move, _super);\n    function Move() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.starting = false;\n        _this.isMoving = false;\n        // private cacheRange = null;\n        _this.startPoint = null;\n        _this.startMatrix = null;\n        return _this;\n    }\n    /**\n     * 开始移动\n     */\n    Move.prototype.start = function () {\n        this.starting = true;\n        this.startPoint = this.context.getCurrentPoint();\n        // 缓存开始时的矩阵，防止反复拖拽\n        this.startMatrix = this.context.view.middleGroup.getMatrix();\n    };\n    /**\n     * 移动\n     */\n    Move.prototype.move = function () {\n        if (!this.starting) {\n            return;\n        }\n        var startPoint = this.startPoint;\n        var currentPoint = this.context.getCurrentPoint();\n        var d = distance(startPoint, currentPoint);\n        if (d > MIN_DISTANCE && !this.isMoving) {\n            this.isMoving = true;\n        }\n        if (this.isMoving) {\n            var view = this.context.view;\n            var matrix = transform(this.startMatrix, [['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y]]);\n            view.backgroundGroup.setMatrix(matrix);\n            view.foregroundGroup.setMatrix(matrix);\n            view.middleGroup.setMatrix(matrix);\n        }\n    };\n    /**\n     * 结束移动\n     */\n    Move.prototype.end = function () {\n        if (this.isMoving) {\n            this.isMoving = false;\n        }\n        this.startMatrix = null;\n        this.starting = false;\n        this.startPoint = null;\n    };\n    /**\n     * 回滚\n     */\n    Move.prototype.reset = function () {\n        this.starting = false;\n        this.startPoint = null;\n        this.isMoving = false;\n        var view = this.context.view;\n        view.backgroundGroup.resetMatrix();\n        view.foregroundGroup.resetMatrix();\n        view.middleGroup.resetMatrix();\n        this.isMoving = false;\n    };\n    return Move;\n}(Action));\nexport default Move;\n//# sourceMappingURL=move.js.map","import { __extends } from \"tslib\";\nimport { Action } from '..';\nvar DIM_X = 'x';\nvar DIM_Y = 'y';\n/**\n * Scale translate\n * @ignore\n */\nvar ScaleTranslate = /** @class */ (function (_super) {\n    __extends(ScaleTranslate, _super);\n    function ScaleTranslate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.dims = [DIM_X, DIM_Y];\n        _this.cfgFields = ['dims'];\n        _this.cacheScaleDefs = {};\n        return _this;\n    }\n    // 是否支持对应字段的平移\n    ScaleTranslate.prototype.hasDim = function (dim) {\n        return this.dims.includes(dim);\n    };\n    ScaleTranslate.prototype.getScale = function (dim) {\n        var view = this.context.view;\n        if (dim === 'x') {\n            return view.getXScale();\n        }\n        else {\n            return view.getYScales()[0];\n        }\n    };\n    ScaleTranslate.prototype.resetDim = function (dim) {\n        var view = this.context.view;\n        if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n            var scale = this.getScale(dim);\n            view.scale(scale.field, this.cacheScaleDefs[dim]);\n            this.cacheScaleDefs[dim] = null;\n        }\n    };\n    /**\n     * 回滚\n     */\n    ScaleTranslate.prototype.reset = function () {\n        this.resetDim(DIM_X);\n        this.resetDim(DIM_Y);\n        var view = this.context.view;\n        view.render(true);\n    };\n    return ScaleTranslate;\n}(Action));\nexport default ScaleTranslate;\n//# sourceMappingURL=scale-transform.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport TransformAction from './scale-transform';\n/**\n * 拖拽 Scale 的 Action\n * @ignore\n */\nvar ScaleTranslate = /** @class */ (function (_super) {\n    __extends(ScaleTranslate, _super);\n    function ScaleTranslate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.startPoint = null;\n        _this.starting = false;\n        _this.startCache = {};\n        return _this;\n    }\n    /**\n     * 开始\n     */\n    ScaleTranslate.prototype.start = function () {\n        var _this = this;\n        this.startPoint = this.context.getCurrentPoint();\n        this.starting = true;\n        var dims = this.dims;\n        each(dims, function (dim) {\n            var scale = _this.getScale(dim);\n            var min = scale.min, max = scale.max, values = scale.values;\n            _this.startCache[dim] = { min: min, max: max, values: values };\n        });\n    };\n    // 平移分类的度量\n    // private translateCategory(dim, scale, normalPoint) {\n    // }\n    /**\n     * 结束\n     */\n    ScaleTranslate.prototype.end = function () {\n        this.startPoint = null;\n        this.starting = false;\n        this.startCache = {};\n    };\n    /**\n     * 平移\n     */\n    ScaleTranslate.prototype.translate = function () {\n        var _this = this;\n        if (!this.starting) {\n            return;\n        }\n        var startPoint = this.startPoint;\n        var coord = this.context.view.getCoordinate();\n        var currentPoint = this.context.getCurrentPoint();\n        var normalStart = coord.invert(startPoint);\n        var noramlCurrent = coord.invert(currentPoint);\n        var dx = noramlCurrent.x - normalStart.x;\n        var dy = noramlCurrent.y - normalStart.y;\n        var view = this.context.view;\n        var dims = this.dims;\n        each(dims, function (dim) {\n            _this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n        });\n        view.render(true);\n    };\n    // 平移度量\n    ScaleTranslate.prototype.translateDim = function (dim, normalPoint) {\n        if (this.hasDim(dim)) {\n            var scale = this.getScale(dim);\n            if (scale.isLinear) {\n                this.translateLinear(dim, scale, normalPoint);\n            }\n            //  else { // 暂时仅处理连续字段\n            // this.translateCategory(dim, scale, normalPoint);\n            // }\n        }\n    };\n    // linear 度量平移\n    ScaleTranslate.prototype.translateLinear = function (dim, scale, normalPoint) {\n        var view = this.context.view;\n        var _a = this.startCache[dim], min = _a.min, max = _a.max;\n        var range = max - min;\n        var d = normalPoint[dim] * range;\n        // 只有第一次缓存，否则无法回滚\n        if (!this.cacheScaleDefs[dim]) {\n            this.cacheScaleDefs[dim] = {\n                // @ts-ignore\n                nice: scale.nice,\n                min: min,\n                max: max,\n            };\n        }\n        view.scale(scale.field, {\n            // @ts-ignore\n            nice: false,\n            min: min + d,\n            max: max + d,\n        });\n    };\n    // 平移分类的度量\n    // private translateCategory(dim, scale, normalPoint) {\n    // }\n    /**\n     * 回滚\n     */\n    ScaleTranslate.prototype.reset = function () {\n        _super.prototype.reset.call(this);\n        this.startPoint = null;\n        this.starting = false;\n    };\n    return ScaleTranslate;\n}(TransformAction));\nexport default ScaleTranslate;\n//# sourceMappingURL=scale-translate.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport TransformAction from './scale-transform';\n/**\n * 缩放 Scale 的 Action\n * @ignore\n */\nvar ScaleTranslate = /** @class */ (function (_super) {\n    __extends(ScaleTranslate, _super);\n    function ScaleTranslate() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 缩小\n     */\n    ScaleTranslate.prototype.zoomIn = function () {\n        var _this = this;\n        var dims = this.dims;\n        each(dims, function (dim) {\n            _this.zoomDim(dim, 0.1);\n        });\n        this.context.view.render(true);\n    };\n    /**\n     * 放大\n     */\n    ScaleTranslate.prototype.zoomOut = function () {\n        var _this = this;\n        var dims = this.dims;\n        each(dims, function (dim) {\n            _this.zoomDim(dim, -0.1);\n        });\n        this.context.view.render(true);\n    };\n    // 缩放度量\n    ScaleTranslate.prototype.zoomDim = function (dim, dRatio) {\n        if (this.hasDim(dim)) {\n            var scale = this.getScale(dim);\n            if (scale.isLinear) {\n                this.zoomLinear(dim, scale, dRatio);\n            }\n            //  else { // 暂时仅处理连续字段\n            // this.zoomCategory(dim, scale, normalPoint);\n            // }\n        }\n    };\n    // linear 度量平移\n    ScaleTranslate.prototype.zoomLinear = function (dim, scale, dRatio) {\n        var view = this.context.view;\n        // 只有第一次缓存，否则无法回滚\n        if (!this.cacheScaleDefs[dim]) {\n            this.cacheScaleDefs[dim] = {\n                // @ts-ignore\n                nice: scale.nice,\n                min: scale.min,\n                max: scale.max,\n            };\n        }\n        // 使用使用原始度量作为缩放标准\n        var scaleDef = this.cacheScaleDefs[dim];\n        var range = scaleDef.max - scaleDef.min;\n        var min = scale.min, max = scale.max;\n        var d = dRatio * range;\n        view.scale(scale.field, {\n            // @ts-ignore\n            nice: false,\n            min: min - d,\n            max: max + d,\n        });\n    };\n    return ScaleTranslate;\n}(TransformAction));\nexport default ScaleTranslate;\n//# sourceMappingURL=scale-zoom.js.map","import { each } from '@antv/util';\n/**\n * @ignore\n * 根据图形元素以及 label 的 bbox 进行调整，如果 label 超出了 shape 的 bbox 则不展示\n */\nexport function limitInShape(labels, shapes, region) {\n    each(labels, function (label, index) {\n        var labelBBox = label.getCanvasBBox(); // 文本有可能发生旋转\n        var shapeBBox = shapes[index].getBBox();\n        if (labelBBox.minX < shapeBBox.minX ||\n            labelBBox.minY < shapeBBox.minY ||\n            labelBBox.maxX > shapeBBox.maxX ||\n            labelBBox.maxY > shapeBBox.maxY) {\n            label.remove(true); // 超出则不展示\n        }\n    });\n}\n//# sourceMappingURL=limit-in-shape.js.map","import { each } from '@antv/util';\nimport { translate } from '../../../util/transform';\n/**\n * @ignore\n * 将 label 限制在画布范围内，简单得将超出画布的 label 往画布内调整\n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(labels, shapes, region) {\n    each(labels, function (label) {\n        var regionMinX = region.minX, regionMinY = region.minY, regionMaxX = region.maxX, regionMaxY = region.maxY;\n        var _a = label.getCanvasBBox(), minX = _a.minX, minY = _a.minY, maxX = _a.maxX, maxY = _a.maxY, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        var finalX = x;\n        var finalY = y;\n        if (minX < regionMinX || maxX < regionMinX) {\n            // 超出左侧\n            finalX = regionMinX;\n        }\n        if (minY < regionMinY || maxY < regionMinY) {\n            // 超出顶部\n            finalY = regionMinY;\n        }\n        if (minX > regionMaxX) {\n            // 整体超出右侧\n            finalX = regionMaxX - width;\n        }\n        else if (maxX > regionMaxX) {\n            // 超出右侧\n            finalX = finalX - (maxX - regionMaxX);\n        }\n        if (minY > regionMaxY) {\n            // 整体超出顶部\n            finalY = regionMaxY - height;\n        }\n        else if (maxY > regionMaxY) {\n            // 超出底部\n            finalY = finalY - (maxY - regionMaxY);\n        }\n        if (finalX !== x || finalY !== y) {\n            translate(label, finalX - x, finalY - y);\n        }\n    });\n}\n//# sourceMappingURL=limit-in-canvas.js.map","import { isNil } from '@antv/util';\n/**\n * @ignore\n * 单个 shape 动画\n * 渐现动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function fadeIn(shape, animateCfg, cfg) {\n    var endState = {\n        fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n        strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n        opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n    };\n    shape.attr({\n        fillOpacity: 0,\n        strokeOpacity: 0,\n        opacity: 0,\n    });\n    shape.animate(endState, animateCfg);\n}\n/**\n * @ignore\n * 单个 shape 动画\n * 渐隐动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function fadeOut(shape, animateCfg, cfg) {\n    var endState = {\n        fillOpacity: 0,\n        strokeOpacity: 0,\n        opacity: 0,\n    };\n    var easing = animateCfg.easing, duration = animateCfg.duration, delay = animateCfg.delay;\n    shape.animate(endState, duration, easing, function () {\n        shape.remove(true);\n    }, delay);\n}\n//# sourceMappingURL=fade.js.map","import { doScaleAnimate } from './util';\n/**\n * @ignore\n * 入场动画\n * x 方向的生长\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function growInX(element, animateCfg, cfg) {\n    var coordinate = cfg.coordinate, minYPoint = cfg.minYPoint;\n    doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n/**\n * @ignore\n * 入场动画\n * y 轴方向上的生长\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function growInY(element, animateCfg, cfg) {\n    var coordinate = cfg.coordinate, minYPoint = cfg.minYPoint;\n    doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n/**\n * @ignore\n * 入场\n * 中心点的向四周的生长动画\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function growInXY(element, animateCfg, cfg) {\n    var coordinate = cfg.coordinate, minYPoint = cfg.minYPoint;\n    doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n//# sourceMappingURL=grow-in.js.map","import { transform } from '@antv/matrix-util';\n/**\n * @ignore\n * 沿着 x 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape, animateCfg, cfg) {\n    var box = shape.getBBox();\n    var mappingData = shape.get('origin').mappingData;\n    var points = mappingData.points;\n    // x 数值如果为负值，那么应该从右往左生长\n    var x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n    var y = (box.minY + box.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n    var matrix = transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n    ]);\n    shape.setMatrix(matrix);\n    shape.animate({\n        matrix: transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 1],\n            ['t', x, y],\n        ]),\n    }, animateCfg);\n}\n/**\n * @ignore\n * 沿着 y 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape, animateCfg, cfg) {\n    var box = shape.getBBox();\n    var mappingData = shape.get('origin').mappingData;\n    var x = (box.minX + box.maxX) / 2;\n    var points = mappingData.points;\n    // 数值如果为负值，那么应该从上往下生长，通过 shape 的关键点进行判断\n    var y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n    shape.applyToMatrix([x, y, 1]);\n    var matrix = transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n    ]);\n    shape.setMatrix(matrix);\n    shape.animate({\n        matrix: transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 1, 100],\n            ['t', x, y],\n        ]),\n    }, animateCfg);\n}\n//# sourceMappingURL=scale-in.js.map","import { __assign } from \"tslib\";\nimport { getCoordinateClipCfg } from '../../util/coordinate';\n/**\n * @ignore\n * 整体动画\n * 划入入场动画效果\n * @todo 放两张直角坐标系和极坐标系的图\n * @param element 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function waveIn(element, animateCfg, cfg) {\n    var _a = getCoordinateClipCfg(cfg.coordinate, 20), type = _a.type, startState = _a.startState, endState = _a.endState; // 根据坐标系类型获取整体的剪切区域配置信息\n    var clipShape = element.setClip({\n        type: type,\n        attrs: startState,\n    }); // 为 shape 设置剪切区域\n    // \b对剪切图形做动画\n    clipShape.animate(endState, __assign(__assign({}, animateCfg), { callback: function () {\n            if (element && !element.get('destroyed')) {\n                element.set('clipShape', null);\n            }\n            clipShape.remove(true); // 动画结束需要将剪切图形销毁\n        } }));\n}\n//# sourceMappingURL=wave-in.js.map","/**\n * @ignore\n * 坐标移动动画\n * @param shape 图形\n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape, animateCfg, cfg) {\n    var toAttrs = cfg.toAttrs;\n    // @ts-ignore\n    var x = toAttrs.x;\n    // @ts-ignore\n    var y = toAttrs.y;\n    // @ts-ignore\n    delete toAttrs.x;\n    // @ts-ignore\n    delete toAttrs.y;\n    shape.attr(toAttrs);\n    shape.animate({\n        x: x,\n        y: y,\n    }, animateCfg);\n}\n//# sourceMappingURL=position-update.js.map","/**\n * @ignore\n * 入场动画\n * path 的入场动画\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function pathIn(element, animateCfg, cfg) {\n    // @ts-ignore\n    var length = element.getTotalLength();\n    // 设置虚线样式\n    element.attr('lineDash', [length]);\n    element.animate(function (ratio) {\n        return {\n            // 对虚线偏移量做动画\n            lineDashOffset: (1 - ratio) * length,\n        };\n    }, animateCfg);\n}\n//# sourceMappingURL=path-in.js.map","/**\n * Parse or format dates\n * @class fecha\n */\nvar fecha = {};\nvar token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigits = '\\\\d\\\\d?';\nvar threeDigits = '\\\\d{3}';\nvar fourDigits = '\\\\d{4}';\nvar word = '[^\\\\s]+';\nvar literal = /\\[([^]*?)\\]/gm;\nvar noop = function () {\n};\n\nfunction regexEscape(str) {\n  return str.replace( /[|\\\\{()[^$+*?.-]/g, '\\\\$&');\n}\n\nfunction shorten(arr, sLen) {\n  var newArr = [];\n  for (var i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nfunction monthUpdate(arrName) {\n  return function (d, v, i18n) {\n    var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n    if (~index) {\n      d.month = index;\n    }\n  };\n}\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\nvar dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nvar monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nfecha.i18n = {\n  dayNamesShort: dayNamesShort,\n  dayNames: dayNames,\n  monthNamesShort: monthNamesShort,\n  monthNames: monthNames,\n  amPm: ['am', 'pm'],\n  DoFn: function DoFn(D) {\n    return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];\n  }\n};\n\nvar formatFlags = {\n  D: function(dateObj) {\n    return dateObj.getDate();\n  },\n  DD: function(dateObj) {\n    return pad(dateObj.getDate());\n  },\n  Do: function(dateObj, i18n) {\n    return i18n.DoFn(dateObj.getDate());\n  },\n  d: function(dateObj) {\n    return dateObj.getDay();\n  },\n  dd: function(dateObj) {\n    return pad(dateObj.getDay());\n  },\n  ddd: function(dateObj, i18n) {\n    return i18n.dayNamesShort[dateObj.getDay()];\n  },\n  dddd: function(dateObj, i18n) {\n    return i18n.dayNames[dateObj.getDay()];\n  },\n  M: function(dateObj) {\n    return dateObj.getMonth() + 1;\n  },\n  MM: function(dateObj) {\n    return pad(dateObj.getMonth() + 1);\n  },\n  MMM: function(dateObj, i18n) {\n    return i18n.monthNamesShort[dateObj.getMonth()];\n  },\n  MMMM: function(dateObj, i18n) {\n    return i18n.monthNames[dateObj.getMonth()];\n  },\n  YY: function(dateObj) {\n    return pad(String(dateObj.getFullYear()), 4).substr(2);\n  },\n  YYYY: function(dateObj) {\n    return pad(dateObj.getFullYear(), 4);\n  },\n  h: function(dateObj) {\n    return dateObj.getHours() % 12 || 12;\n  },\n  hh: function(dateObj) {\n    return pad(dateObj.getHours() % 12 || 12);\n  },\n  H: function(dateObj) {\n    return dateObj.getHours();\n  },\n  HH: function(dateObj) {\n    return pad(dateObj.getHours());\n  },\n  m: function(dateObj) {\n    return dateObj.getMinutes();\n  },\n  mm: function(dateObj) {\n    return pad(dateObj.getMinutes());\n  },\n  s: function(dateObj) {\n    return dateObj.getSeconds();\n  },\n  ss: function(dateObj) {\n    return pad(dateObj.getSeconds());\n  },\n  S: function(dateObj) {\n    return Math.round(dateObj.getMilliseconds() / 100);\n  },\n  SS: function(dateObj) {\n    return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n  },\n  SSS: function(dateObj) {\n    return pad(dateObj.getMilliseconds(), 3);\n  },\n  a: function(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n  },\n  A: function(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n  },\n  ZZ: function(dateObj) {\n    var o = dateObj.getTimezoneOffset();\n    return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);\n  }\n};\n\nvar parseFlags = {\n  D: [twoDigits, function (d, v) {\n    d.day = v;\n  }],\n  Do: [twoDigits + word, function (d, v) {\n    d.day = parseInt(v, 10);\n  }],\n  M: [twoDigits, function (d, v) {\n    d.month = v - 1;\n  }],\n  YY: [twoDigits, function (d, v) {\n    var da = new Date(), cent = +('' + da.getFullYear()).substr(0, 2);\n    d.year = '' + (v > 68 ? cent - 1 : cent) + v;\n  }],\n  h: [twoDigits, function (d, v) {\n    d.hour = v;\n  }],\n  m: [twoDigits, function (d, v) {\n    d.minute = v;\n  }],\n  s: [twoDigits, function (d, v) {\n    d.second = v;\n  }],\n  YYYY: [fourDigits, function (d, v) {\n    d.year = v;\n  }],\n  S: ['\\\\d', function (d, v) {\n    d.millisecond = v * 100;\n  }],\n  SS: ['\\\\d{2}', function (d, v) {\n    d.millisecond = v * 10;\n  }],\n  SSS: [threeDigits, function (d, v) {\n    d.millisecond = v;\n  }],\n  d: [twoDigits, noop],\n  ddd: [word, noop],\n  MMM: [word, monthUpdate('monthNamesShort')],\n  MMMM: [word, monthUpdate('monthNames')],\n  a: [word, function (d, v, i18n) {\n    var val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      d.isPm = false;\n    } else if (val === i18n.amPm[1]) {\n      d.isPm = true;\n    }\n  }],\n  ZZ: ['[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z', function (d, v) {\n    var parts = (v + '').match(/([+-]|\\d\\d)/gi), minutes;\n\n    if (parts) {\n      minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n      d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n    }\n  }]\n};\nparseFlags.dd = parseFlags.d;\nparseFlags.dddd = parseFlags.ddd;\nparseFlags.DD = parseFlags.D;\nparseFlags.mm = parseFlags.m;\nparseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\nparseFlags.MM = parseFlags.M;\nparseFlags.ss = parseFlags.s;\nparseFlags.A = parseFlags.a;\n\n\n// Some common format strings\nfecha.masks = {\n  default: 'ddd MMM DD YYYY HH:mm:ss',\n  shortDate: 'M/D/YY',\n  mediumDate: 'MMM D, YYYY',\n  longDate: 'MMMM D, YYYY',\n  fullDate: 'dddd, MMMM D, YYYY',\n  shortTime: 'HH:mm',\n  mediumTime: 'HH:mm:ss',\n  longTime: 'HH:mm:ss.SSS'\n};\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n */\nfecha.format = function (dateObj, mask, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof dateObj === 'number') {\n    dateObj = new Date(dateObj);\n  }\n\n  if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {\n    throw new Error('Invalid Date in fecha.format');\n  }\n\n  mask = fecha.masks[mask] || mask || fecha.masks['default'];\n\n  var literals = [];\n\n  // Make literals inactive by replacing them with ??\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return '@@@';\n  });\n  // Apply formatting rules\n  mask = mask.replace(token, function ($0) {\n    return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);\n  });\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, function() {\n    return literals.shift();\n  });\n};\n\n/**\n * Parse a date string into an object, changes - into /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @returns {Date|boolean}\n */\nfecha.parse = function (dateStr, format, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof format !== 'string') {\n    throw new Error('Invalid format in fecha.parse');\n  }\n\n  format = fecha.masks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  var dateInfo = {};\n  var parseInfo = [];\n  var literals = [];\n  format = format.replace(literal, function($0, $1) {\n    literals.push($1);\n    return '@@@';\n  });\n  var newFormat = regexEscape(format).replace(token, function ($0) {\n    if (parseFlags[$0]) {\n      var info = parseFlags[$0];\n      parseInfo.push(info[1]);\n      return '(' + info[0] + ')';\n    }\n\n    return $0;\n  });\n  newFormat = newFormat.replace(/@@@/g, function() {\n    return literals.shift();\n  });\n  var matches = dateStr.match(new RegExp(newFormat, 'i'));\n  if (!matches) {\n    return null;\n  }\n\n  for (var i = 1; i < matches.length; i++) {\n    parseInfo[i - 1](dateInfo, matches[i], i18n);\n  }\n\n  var today = new Date();\n  if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  var date;\n  if (dateInfo.timezoneOffset != null) {\n    dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n    date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n      dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n  } else {\n    date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n      dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);\n  }\n  return date;\n};\n\nexport default fecha;\n","import parsePathString from './parse-path-string';\nvar REGEX_MD = /[a-z]/;\nfunction toSymmetry(p, c) {\n    return [\n        c[0] + (c[0] - p[0]),\n        c[1] + (c[1] - p[1]),\n    ];\n}\nexport default function pathToAbsolute(pathString) {\n    var pathArray = parsePathString(pathString);\n    if (!pathArray || !pathArray.length) {\n        return [\n            ['M', 0, 0],\n        ];\n    }\n    var needProcess = false; // 如果存在小写的命令或者 V,H,T,S 则需要处理\n    for (var i = 0; i < pathArray.length; i++) {\n        var cmd = pathArray[i][0];\n        // 如果存在相对位置的命令，则中断返回\n        if (REGEX_MD.test(cmd) || ['V', 'H', 'T', 'S'].indexOf(cmd) >= 0) {\n            needProcess = true;\n            break;\n        }\n    }\n    // 如果不存在相对命令，则直接返回\n    // 如果在业务上都写绝对路径，这种方式最快，仅做了一次检测\n    if (!needProcess) {\n        return pathArray;\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    var first = pathArray[0];\n    if (first[0] === 'M' || first[0] === 'm') {\n        x = +first[1];\n        y = +first[2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    for (var i = start, ii = pathArray.length; i < ii; i++) {\n        var pa = pathArray[i];\n        var preParams = res[i - 1]; // 取前一个已经处理后的节点，否则会出现问题\n        var r = [];\n        var cmd = pa[0];\n        var upCmd = cmd.toUpperCase();\n        if (cmd !== upCmd) {\n            r[0] = upCmd;\n            switch (upCmd) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + ((j % 2) ? x : y);\n                    }\n            }\n        }\n        else { // 如果本来已经大写，则不处理\n            r = pathArray[i];\n        }\n        // 需要在外面统一做，同时处理 V,H,S,T 等特殊指令\n        switch (upCmd) {\n            case 'Z':\n                x = +mx;\n                y = +my;\n                break;\n            case 'H':\n                x = r[1];\n                r = ['L', x, y];\n                break;\n            case 'V':\n                y = r[1];\n                r = ['L', x, y];\n                break;\n            case 'T':\n                x = r[1];\n                y = r[2];\n                // 以 x, y 为中心的，上一个控制点的对称点\n                // 需要假设上一个节点的命令为 Q\n                var symetricT = toSymmetry([preParams[1], preParams[2]], [preParams[3], preParams[4]]);\n                r = ['Q', symetricT[0], symetricT[1], x, y];\n                break;\n            case 'S':\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n                // 以 x,y 为中心，取上一个控制点，\n                // 需要假设上一个线段为 C 或者 S\n                var length_1 = preParams.length;\n                var symetricS = toSymmetry([preParams[length_1 - 4], preParams[length_1 - 3]], [preParams[length_1 - 2], preParams[length_1 - 1]]);\n                r = ['C', symetricS[0], symetricS[1], r[1], r[2], x, y];\n                break;\n            case 'M':\n                mx = r[r.length - 2];\n                my = r[r.length - 1];\n                break; // for lint\n            default:\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n        }\n        res.push(r);\n    }\n    return res;\n}\n//# sourceMappingURL=path-2-absolute.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar segments_1 = require(\"./segments\");\nvar util_1 = require(\"./util\");\nexports.default = {\n    /**\n     * 计算多折线的包围盒\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @return {object} 包围盒\n     */\n    box: function (points) {\n        var xArr = [];\n        var yArr = [];\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i];\n            xArr.push(point[0]);\n            yArr.push(point[1]);\n        }\n        return util_1.getBBoxByArray(xArr, yArr);\n    },\n    /**\n     * 计算多折线的长度\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @return {object} 多条边的长度\n     */\n    length: function (points) {\n        return segments_1.lengthOfSegment(points);\n    },\n    /**\n     * 根据比例获取多折线的点\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @param {number} t 在多折线的长度上的比例\n     * @return {object} 根据比例值计算出来的点\n     */\n    pointAt: function (points, t) {\n        return segments_1.pointAtSegments(points, t);\n    },\n    /**\n     * 指定点到多折线的距离\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @param {number} x 指定点的 x\n     * @param {number} y 指定点的 y\n     * @return {number} 点到多折线的距离\n     */\n    pointDistance: function (points, x, y) {\n        return segments_1.distanceAtSegment(points, x, y);\n    },\n    /**\n     * 根据比例获取多折线的切线角度\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @param {number} t 在多折线的长度上的比例\n     * @return {object} 根据比例值计算出来的角度\n     */\n    tangentAngle: function (points, t) {\n        return segments_1.angleAtSegments(points, t);\n    },\n};\n//# sourceMappingURL=polyline.js.map","import { deepMix } from '@antv/util';\nimport { DEFAULT_GLOBAL_THEME } from './default';\nimport { DEFAULT_DARK_THEME } from './dark';\n\n/** 所有的全局主题 */\nconst GLOBAL_THEME_MAP: Record<string, any> = {\n  default: DEFAULT_GLOBAL_THEME,\n  dark: DEFAULT_DARK_THEME,\n};\n\n/**\n * 注册全局主题\n * @param name\n * @param theme\n */\nexport function registerGlobalTheme(name: string, theme: any): void {\n  const defaultTheme = getGlobalTheme();\n  GLOBAL_THEME_MAP[name.toLowerCase()] = deepMix({}, defaultTheme, theme);\n}\n\n/**\n * 获取默认主题\n * @param name 如果 name 为空，则返回默认的主题，否则返回指定 name 的主题\n */\nexport function getGlobalTheme(name: string = 'default'): any {\n  const theme = GLOBAL_THEME_MAP[name.toLowerCase()];\n  if (theme) {\n    return theme;\n  }\n  // 如没有找到，则使用当前全局主题替代\n  console.warn(\"error in theme: Can't find the theme named %s. Please register theme first.\", name);\n  return DEFAULT_GLOBAL_THEME;\n}\n","import { IShape } from '@antv/g-base';\n\nexport default function textHide(shape: IShape) {\n  shape.attr('text', '');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar line_1 = require(\"./line\");\nvar util_1 = require(\"./util\");\nvar bezier_1 = require(\"./bezier\");\n// 差值公式\nfunction quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// 求极值\nfunction extrema(p0, p1, p2) {\n    var a = p0 + p2 - 2 * p1;\n    if (util_1.isNumberEqual(a, 0)) {\n        return [0.5];\n    }\n    var rst = (p0 - p1) / a;\n    if (rst <= 1 && rst >= 0) {\n        return [rst];\n    }\n    return [];\n}\nfunction derivativeAt(p0, p1, p2, t) {\n    return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n}\n// 分割贝塞尔曲线\nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n    // 划分点\n    var xt = quadraticAt(x1, x2, x3, t);\n    var yt = quadraticAt(y1, y2, y3, t);\n    // 分割的第一条曲线的控制点\n    var controlPoint1 = line_1.default.pointAt(x1, y1, x2, y2, t);\n    // 分割的第二条曲线的控制点\n    var controlPoint2 = line_1.default.pointAt(x2, y2, x3, y3, t);\n    return [\n        [x1, y1, controlPoint1.x, controlPoint1.y, xt, yt],\n        [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3],\n    ];\n}\n// 使用迭代法取贝塞尔曲线的长度\nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n    if (iterationCount === 0) {\n        return (util_1.distance(x1, y1, x2, y2) + util_1.distance(x2, y2, x3, y3) + util_1.distance(x1, y1, x3, y3)) / 2;\n    }\n    var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n    var left = quadratics[0];\n    var right = quadratics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return quadraticLength.apply(null, left) + quadraticLength.apply(null, right);\n}\nexports.default = {\n    box: function (x1, y1, x2, y2, x3, y3) {\n        var xExtrema = extrema(x1, x2, x3)[0];\n        var yExtrema = extrema(y1, y2, y3)[0];\n        // 控制点不加入 box 的计算\n        var xArr = [x1, x3];\n        var yArr = [y1, y3];\n        if (xExtrema !== undefined) {\n            xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n        }\n        if (yExtrema !== undefined) {\n            yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n        }\n        return util_1.getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3) {\n        return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        return bezier_1.nearestPoint([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n        return util_1.distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: quadraticAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, t) {\n        return {\n            x: quadraticAt(x1, x2, x3, t),\n            y: quadraticAt(y1, y2, y3, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, t) {\n        return divideQuadratic(x1, y1, x2, y2, x3, y3, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, t) {\n        var dx = derivativeAt(x1, x2, x3, t);\n        var dy = derivativeAt(y1, y2, y3, t);\n        var angle = Math.atan2(dy, dx);\n        return util_1.piMod(angle);\n    },\n};\n//# sourceMappingURL=quadratic.js.map","import getArcParams from './get-arc-params';\nimport { isSamePoint } from './get-arc-params';\nimport parsePath from './parse-path';\n// 点对称\nfunction toSymmetry(point, center) {\n    return {\n        x: center.x + (center.x - point.x),\n        y: center.y + (center.y - point.y),\n    };\n}\nexport default function getSegments(path) {\n    path = parsePath(path);\n    var segments = [];\n    var currentPoint = null; // 当前图形\n    var nextParams = null; // 下一节点的 path 参数\n    var startMovePoint = null; // 开始 M 的点，可能会有多个\n    var lastStartMovePointIndex = 0; // 最近一个开始点 M 的索引\n    var count = path.length;\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        nextParams = path[i + 1];\n        var command = params[0];\n        // 数学定义上的参数，便于后面的计算\n        var segment = {\n            command: command,\n            prePoint: currentPoint,\n            params: params,\n            startTangent: null,\n            endTangent: null,\n        };\n        switch (command) {\n            case 'M':\n                startMovePoint = [params[1], params[2]];\n                lastStartMovePointIndex = i;\n                break;\n            case 'A':\n                var arcParams = getArcParams(currentPoint, params);\n                segment['arcParams'] = arcParams;\n                break;\n            default:\n                break;\n        }\n        if (command === 'Z') {\n            // 有了 Z 后，当前节点从开始 M 的点开始\n            currentPoint = startMovePoint;\n            // 如果当前点的命令为 Z，相当于当前点为最近一个 M 点，则下一个点直接指向最近一个 M 点的下一个点\n            nextParams = path[lastStartMovePointIndex + 1];\n        }\n        else {\n            var len = params.length;\n            currentPoint = [params[len - 2], params[len - 1]];\n        }\n        if (nextParams && nextParams[0] === 'Z') {\n            // 如果下一个点的命令为 Z，则下一个点直接指向最近一个 M 点\n            nextParams = path[lastStartMovePointIndex];\n            if (segments[lastStartMovePointIndex]) {\n                // 如果下一个点的命令为 Z，则最近一个 M 点的前一个点为当前点\n                segments[lastStartMovePointIndex].prePoint = currentPoint;\n            }\n        }\n        segment['currentPoint'] = currentPoint;\n        // 如果当前点与最近一个 M 点相同，则最近一个 M 点的前一个点为当前点的前一个点\n        if (segments[lastStartMovePointIndex] &&\n            isSamePoint(currentPoint, segments[lastStartMovePointIndex].currentPoint)) {\n            segments[lastStartMovePointIndex].prePoint = segment.prePoint;\n        }\n        var nextPoint = nextParams ? [nextParams[nextParams.length - 2], nextParams[nextParams.length - 1]] : null;\n        segment['nextPoint'] = nextPoint;\n        // Add startTangent and endTangent\n        var prePoint = segment.prePoint;\n        if (['L', 'H', 'V'].includes(command)) {\n            segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n            segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n        }\n        else if (command === 'Q') {\n            // 二次贝塞尔曲线只有一个控制点\n            var cp = [params[1], params[2]];\n            // 二次贝塞尔曲线的终点为 currentPoint\n            segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n            segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n        }\n        else if (command === 'T') {\n            var preSegment = segments[i - 1];\n            var cp = toSymmetry(preSegment.currentPoint, prePoint);\n            if (preSegment.command === 'Q') {\n                segment.command = 'Q';\n                segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n                segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n            }\n            else {\n                segment.command = 'TL';\n                segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n                segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n            }\n        }\n        else if (command === 'C') {\n            // 三次贝塞尔曲线有两个控制点\n            var cp1 = [params[1], params[2]];\n            var cp2 = [params[3], params[4]];\n            segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n            segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n        }\n        else if (command === 'S') {\n            var preSegment = segments[i - 1];\n            var cp1 = toSymmetry(preSegment.currentPoint, prePoint);\n            var cp2 = [params[1], params[2]];\n            if (preSegment.command === 'C') {\n                segment.command = 'C'; // 将 S 命令变换为 C 命令\n                segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n            else {\n                segment.command = 'SQ'; // 将 S 命令变换为 SQ 命令\n                segment.startTangent = [prePoint[0] - cp2[0], prePoint[1] - cp2[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n        }\n        else if (command === 'A') {\n            var d = 0.001;\n            var _a = segment['arcParams'] || {}, _b = _a.rx, rx = _b === void 0 ? 0 : _b, _c = _a.ry, ry = _c === void 0 ? 0 : _c, _d = _a.xRotation, xRotation = _d === void 0 ? 0 : _d, _e = _a.arcFlag, arcFlag = _e === void 0 ? 0 : _e, _f = _a.sweepFlag, sweepFlag = _f === void 0 ? 0 : _f, _g = _a.startAngle, startAngle = _g === void 0 ? 0 : _g, _h = _a.endAngle, endAngle = _h === void 0 ? 0 : _h;\n            if (sweepFlag === 0) {\n                d *= -1;\n            }\n            var dx1 = xRotation * Math.cos(startAngle - d) + rx;\n            var dy1 = arcFlag * Math.sin(startAngle - d) + ry;\n            segment.startTangent = [dx1 - startMovePoint[0], dy1 - startMovePoint[1]];\n            var dx2 = xRotation * Math.cos(startAngle + endAngle + d) + rx;\n            var dy2 = arcFlag * Math.sin(startAngle + endAngle - d) + ry;\n            segment.endTangent = [prePoint.x - dx2, prePoint.y - dy2];\n        }\n        segments.push(segment);\n    }\n    return segments;\n}\n//# sourceMappingURL=path-2-segments.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nfunction random(out, scale) {\n  scale = scale || 1.0;\n\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x;\n  // var uuv = vec3.cross([], qvec, uv);\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx;\n  // vec3.scale(uv, uv, 2 * w);\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2;\n  // vec3.scale(uuv, uuv, 2);\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2;\n  // return vec3.add(out, a, vec3.add(out, uv, uuv));\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateX(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateY(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateZ(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2];\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nfunction str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nvar div = exports.div = divide;\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nvar dist = exports.dist = distance;\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nvar sqrDist = exports.sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nvar len = exports.len = length;\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nvar sqrLen = exports.sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvar forEach = exports.forEach = function () {\n  var vec = create();\n\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];vec[1] = a[i + 1];vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];a[i + 1] = vec[1];a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import EventEmitter from '@antv/event-emitter';\nimport { ICanvas, IGroup } from '../dependents';\nimport { deepMix, each, findIndex, keys, contains, isFunction } from '@antv/util';\nimport { Point } from '../interface/config';\nimport { LAYER_EVENT_MAP } from '../util/event';\nimport BBox from '../util/bbox';\n\nexport interface LayerConfig {\n  id?: string;\n  /** the top-left-x of layer, local position relative to the parent layer */\n  x?: number;\n  /** the top-left-y of layer, local position relative to the parent layer */\n  y?: number;\n  /** layer width */\n  width?: number;\n  /** layer height */\n  height?: number;\n  /** the parent node of layer */\n  parent?: any;\n  canvas?: ICanvas;\n  name?: string;\n}\n\nexport interface Region {\n  /** the top-left corner of layer-range, range from 0 to 1, relative to parent layer's range */\n  readonly start: Point;\n  /** the bottom-right corner of layer-range, range from 0 to 1, relative to parent layer's range */\n  readonly end: Point;\n}\n\nexport interface Range {\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n}\n\nexport default class Layer<T extends LayerConfig = LayerConfig> extends EventEmitter {\n  public id: string;\n  public x: number;\n  public y: number;\n  public width: number;\n  public height: number;\n  public parent: Layer;\n  public canvas: ICanvas;\n  public layerBBox: BBox;\n  public layers: Layer[] = [];\n  public container: IGroup;\n  public destroyed: boolean = false;\n  protected visibility: boolean = true;\n  protected layerRegion: Region;\n  private rendered: boolean = false;\n  private eventHandlers: any[] = [];\n  public options: T;\n\n  /**\n   * layer base for g2plot\n   */\n  constructor(props: T) {\n    super();\n    this.options = this.getOptions(props);\n    this.processOptions(this.options);\n  }\n\n  public processOptions(options) {\n    this.id = options.id;\n    this.x = options.x;\n    this.y = options.y;\n    this.width = options.width;\n    this.height = options.height;\n    this.canvas = options.canvas;\n    this.parent = options.parent;\n  }\n\n  public updateConfig(cfg: Partial<T>): void {\n    this.options = deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  }\n\n  public beforeInit() {}\n\n  /**\n   * init life cycle\n   */\n  public init() {\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.eachLayer((layer) => {\n      layer.init();\n    });\n  }\n\n  public afterInit() {}\n\n  /**\n   * render layer recursively\n   */\n  public render() {\n    // fixme: 等plot不再继承layer，这个就可以挪到构造函数里去，不需要再加是否render过的判断了\n    if (!this.rendered) {\n      this.container = this.parent ? this.parent.container.addGroup() : this.canvas.addGroup();\n    }\n    this.rendered = true;\n    this.beforeInit();\n    this.init();\n    this.afterInit();\n    //(this.container, [['t', this.x, this.y]]);\n    this.eachLayer((layer) => {\n      layer.render();\n    });\n    this.canvas.draw();\n  }\n\n  /**\n   * clear layer content\n   */\n  public clear() {\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    this.layers = [];\n    this.container.clear();\n  }\n\n  /**\n   * destroy layer recursively, remove the container of layer\n   */\n  public destroy() {\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    each(this.eventHandlers, (h) => {\n      this.off(h.eventName, h.handler);\n    });\n    this.container.remove(true);\n    this.destroyed = true;\n  }\n\n  /**\n   * display layer\n   */\n  public show() {\n    this.container.attr('visible', true);\n    this.container.set('visible', true);\n    this.visibility = true;\n    this.canvas.draw();\n  }\n\n  /**\n   * hide layer\n   */\n  public hide() {\n    this.container.attr('visible', false);\n    this.container.set('visible', false);\n    this.visibility = false;\n    this.canvas.draw();\n  }\n\n  /**\n   * add children layer\n   * @param layer\n   */\n  public addLayer(layer: Layer<any>) {\n    const idx = findIndex(this.layers, (item) => item === layer);\n    if (idx < 0) {\n      if (layer.parent !== this) {\n        layer.parent = this;\n        layer.init();\n      }\n      this.layers.push(layer);\n    }\n  }\n\n  /**\n   * remove children layer\n   * @param layer\n   */\n  public removeLayer(layer: Layer<any>) {\n    const idx = findIndex(this.layers, (item) => item === layer);\n    if (idx >= 0) {\n      this.layers.splice(idx, 1);\n    }\n  }\n\n  /**\n   * update layer's display range\n   * @param props\n   * @param recursive whether update children layers or not\n   */\n  public updateBBox(props: Range, recursive: boolean = false) {\n    const originRange = {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height,\n    };\n    const newRange = deepMix({}, originRange, props);\n    this.x = newRange.x;\n    this.y = newRange.y;\n    this.width = newRange.width;\n    this.height = newRange.height;\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.render();\n    if (recursive) {\n      this.eachLayer((layer) => {\n        layer.updateBBoxByParent();\n        layer.render();\n      });\n    }\n    this.canvas.draw();\n  }\n\n  /**\n   * update display range according to parent layer's range\n   */\n  public updateBBoxByParent() {\n    const region = this.layerRegion;\n    this.x = this.parent.x + this.parent.width * region.start.x;\n    this.y = this.parent.y + this.parent.height * region.start.y;\n    this.width = this.parent.width * (region.end.x - region.start.x);\n    this.height = this.parent.height * (region.end.y - region.start.y);\n    this.layerBBox = this.getLayerBBox();\n  }\n\n  /**\n   * get global position of layer\n   */\n  public getGlobalPosition() {\n    let globalX = this.x;\n    let globalY = this.y;\n    let parent = this.parent;\n    while (parent) {\n      globalX += parent.x;\n      globalY += parent.y;\n      parent = parent.parent;\n    }\n    return { x: globalX, y: globalY };\n  }\n\n  public getGlobalBBox() {\n    const globalPosition = this.getGlobalPosition();\n    return new BBox(globalPosition.x, globalPosition.y, this.width, this.height);\n  }\n\n  public getOptions(props: T): T {\n    let parentWidth = 0;\n    let parentHeight = 0;\n    if (props.parent) {\n      parentWidth = props.parent.width;\n      parentHeight = props.parent.height;\n    }\n    const defaultOptions = {\n      x: 0,\n      y: 0,\n      width: parentWidth,\n      height: parentHeight,\n    };\n    return deepMix({}, defaultOptions, props);\n  }\n\n  public eachLayer(cb: (layer: Layer<any>) => void) {\n    each(this.layers, cb);\n  }\n\n  protected parseEvents(eventParser?) {\n    const eventsName = keys(LAYER_EVENT_MAP);\n    each(eventParser, (e, k) => {\n      if (contains(eventsName, k) && isFunction(e)) {\n        const eventName = LAYER_EVENT_MAP[k] || k;\n        const handler = e;\n        this.on(eventName, handler);\n        this.eventHandlers.push({ name: eventName, handler });\n      }\n    });\n  }\n\n  private getLayerBBox() {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  private getLayerRegion() {\n    if (this.parent) {\n      const parentWidth = this.parent.width;\n      const parentHeight = this.parent.height;\n      const parentX = this.parent.x;\n      const parentY = this.parent.y;\n      const startX = (this.x - parentX) / parentWidth;\n      const startY = (this.y - parentY) / parentHeight;\n      const endX = (this.x + this.width - parentX) / parentWidth;\n      const endY = (this.y + this.height - parentY) / parentHeight;\n      return { start: { x: startX, y: startY }, end: { x: endX, y: endY } };\n    }\n    return { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } };\n  }\n}\n","/**\n * 判断text是否可用, title description\n *\n * @param source\n */\nexport function isTextUsable(source?: { visible?: boolean; text?: string }): boolean {\n  if (!source) return false;\n  if (source.visible === true && typeof source.text === 'string' && source.text.trim()) return true;\n  return false;\n}\n\n/**\n * 为字符串添加换行符\n * @param source - 字符串数组 ['a', 'b', 'c']\n * @param breaks - 要添加换行的index\n *\n * @example\n * ```js\n * breakText(['a','b','c'], [1])\n *\n * // a\\nbc\n * ```\n */\nexport function breakText(source: string[], breaks: number[]): string {\n  const result = [...source];\n  breaks.forEach((pos, index) => {\n    result.splice(pos + index, 0, '\\n');\n  });\n  return result.join('');\n}\n\nexport function getAxisShapes(view) {\n  const axisShape = view.backgroundGroup.findAll((el) => {\n    if (el.get('name')) {\n      const name = el.get('name').split('-');\n      return name[0] === 'axis';\n    }\n  });\n  return axisShape;\n}\n\nexport function getLegendShapes(view) {\n  const axisShape = view.foregroundGroup.findAll((el) => {\n    if (el.get('name')) {\n      return el.get('name') === 'legend-item-group';\n    }\n  });\n  return axisShape;\n}\n\nexport function sortedLastIndex<T>(arr: T[], val: T): number {\n  let i = arr.length;\n  while (i > 0) {\n    if (val >= arr[i - 1]) {\n      break;\n    }\n    i -= 1;\n  }\n  return i;\n}\n","import { View } from '../dependents';\nimport BBox from '../util/bbox';\nimport Interaction from './core';\nimport ViewLayer from '../base/view-layer';\nimport { IInteractionConfig } from '../interface/config';\n\nexport interface InteractionCtor {\n  new (\n    cfg: { view: View },\n    viewLayer: ViewLayer<any>,\n    interactionRange?: BBox,\n    interaction?: IInteractionConfig\n  ): BaseInteraction;\n  getInteractionRange(layerRange: BBox, interaction?: IInteractionConfig): BBox;\n}\n\ninterface InteractionMap {\n  [type: string]: InteractionCtor;\n}\n\nexport default abstract class BaseInteraction extends Interaction {\n  public static registerInteraction(type: string, ctor: any) {\n    BaseInteraction.GLOBAL_INTERACTION_MAP[type] = ctor;\n  }\n\n  public static registerPlotInteraction(plotType: string, type: string, ctor: any) {\n    if (!BaseInteraction.PLOT_INTERACTION_MAP[plotType]) {\n      BaseInteraction.PLOT_INTERACTION_MAP[plotType] = {};\n    }\n    BaseInteraction.PLOT_INTERACTION_MAP[plotType][type] = ctor;\n  }\n\n  public static getInteraction(type: string, plotType?: string): InteractionCtor | undefined {\n    if (plotType && BaseInteraction.PLOT_INTERACTION_MAP[plotType] && BaseInteraction[plotType][type]) {\n      return BaseInteraction.PLOT_INTERACTION_MAP[plotType][type];\n    }\n    return BaseInteraction.GLOBAL_INTERACTION_MAP[type];\n  }\n\n  public static getInteractionRange(layerRange: BBox, interaction?: IInteractionConfig): BBox | undefined {\n    return undefined;\n  }\n\n  private static GLOBAL_INTERACTION_MAP: InteractionMap = {};\n  private static PLOT_INTERACTION_MAP: { [plot: string]: InteractionMap } = {};\n\n  public type: string;\n  public cfg: any;\n  private interactionConfig: IInteractionConfig;\n  private interactionRange: BBox;\n  private viewLayer: ViewLayer<any>;\n\n  constructor(\n    cfg: { view: View },\n    viewLayer: ViewLayer<any>,\n    interactionRange?: BBox,\n    interaction?: IInteractionConfig\n  ) {\n    super(cfg);\n    this.viewLayer = viewLayer;\n    this.interactionRange = interactionRange;\n    this.interactionConfig = interaction;\n    this.render();\n  }\n\n  public destroy(): void {\n    this.clear();\n    super.destroy();\n  }\n\n  protected getViewLayer(): ViewLayer<any> {\n    return this.viewLayer;\n  }\n\n  protected getRange(): BBox | undefined {\n    return this.interactionRange;\n  }\n\n  protected getInteractionConfig(): IInteractionConfig | undefined {\n    return this.interactionConfig;\n  }\n\n  protected render(): void {}\n\n  protected clear(): void {}\n}\n","import { deepMix } from '@antv/util';\nimport { DEFAULT_RESPONSIVE_THEME } from './default';\n\n/**\n * 所有的响应式主题配置\n */\nconst RESPONSIVE_THEME_MAP = {\n  default: DEFAULT_RESPONSIVE_THEME,\n};\n\n/**\n * 添加一个响应式主题配置\n * @param name\n * @param theme\n */\nexport function registerResponsiveTheme(name: string, theme) {\n  RESPONSIVE_THEME_MAP[name.toLowerCase()] = deepMix({}, DEFAULT_RESPONSIVE_THEME, theme);\n}\n\n/**\n * 获取一个响应式主题配置，如果找不到则返回默认\n * @param name\n */\nexport function getResponsiveTheme(name: string) {\n  const theme = RESPONSIVE_THEME_MAP[name.toLowerCase()];\n  return theme ? theme : DEFAULT_RESPONSIVE_THEME;\n}\n","import { assign } from '@antv/util';\nimport { ElementOption } from '../interface/config';\n\nexport default class ElementParser {\n  public plot: any;\n  public type: string;\n  public config: ElementOption;\n  public style: any;\n  private positionFields: string[];\n  private widthRatio: { [key: string]: number };\n\n  constructor(cfg) {\n    assign(this, cfg);\n    this.init();\n  }\n\n  public init() {\n    this.config = {\n      type: this.type,\n      position: {\n        fields: this.positionFields,\n      },\n    };\n  }\n}\n","import { Axis } from '../../../dependents';\nimport { each, clone } from '@antv/util';\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\n\nconst SCALE_MAPPER = {\n  cat: 'category',\n  timeCat: 'category',\n  time: 'dateTime',\n  linear: 'linear',\n};\n\nexport default class ApplyResponsiveAxis extends ApplyResponsive {\n  private dim: string;\n  private axisInstance: Axis.Base;\n\n  protected init() {\n    this.axisInstance = this.getAxisInstance();\n    super.init();\n  }\n\n  protected shouldApply() {\n    const { options } = this.plot;\n    if (!this.responsiveTheme.axis) {\n      return false;\n    }\n    if (\n      this.responsiveTheme.axis[this.dim] &&\n      options[`${this.dim}Axis`].visible &&\n      options[`${this.dim}Axis`].label &&\n      options[`${this.dim}Axis`].label.visible\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  protected apply() {\n    const rawLabels = this.plot.view.backgroundGroup.findAll((el) => {\n      const name = el.get('name');\n      if (name === 'axis-label') {\n        const field = el.get('delegateObject').axis.get('field');\n        if (field === this.plot.options[`${this.dim}Field`]) {\n          return el;\n        }\n      }\n    });\n    const shapes = [];\n    for (let i = 0; i < rawLabels.length; i++) {\n      shapes.push(rawLabels[i]);\n    }\n    const shapeNodes = new ShapeNodes({\n      shapes,\n    });\n    const { constraints, rules } = this.responsiveTheme.axis.x[this.type];\n    new Responsive({\n      nodes: shapeNodes,\n      constraints,\n      region: this.plot.getViewRange(),\n      rules,\n      plot: this.plot,\n      onEnd: (nodes) => {\n        this.updateTicks(nodes.origion_nodes);\n      },\n    });\n  }\n\n  protected getType() {\n    const props = this.plot.options;\n    const axis = `${this.dim}Axis`;\n    const field = `${this.dim}Field`;\n    if (props[axis] && props[axis].type && props[axis].type === 'dateTime') {\n      return 'dateTime';\n    }\n    const scaleType = this.plot.view.getScaleByField([props[field]]).type;\n    return SCALE_MAPPER[scaleType];\n  }\n\n  private getAxisInstance() {\n    const axisIndex = this.dim === 'x' ? 0 : 1;\n    const axis = this.plot.view.getController('axis').getComponents()[axisIndex].component;\n    return axis;\n  }\n\n  private updateTicks(nodes) {\n    const tickLineContainer = this.plot.view.backgroundGroup.findAll((el) => {\n      const name = el.get('name');\n      if (name === 'axis-tickline-group') {\n        const field = el.get('delegateObject').axis.get('field');\n        if (field === this.plot.options[`${this.dim}Field`]) {\n          return el;\n        }\n      }\n    })[0];\n    if (tickLineContainer) {\n      const tickShapes = tickLineContainer.get('children');\n      each(nodes, (n, index) => {\n        if (n.shape.attr('text') === '') {\n          tickShapes[index].attr('opacity', 0);\n        }\n      });\n    }\n    this.plot.canvas.draw();\n  }\n}\n","import * as MatrixUtil from '@antv/matrix-util';\nimport { clone } from '@antv/util';\nimport { Util } from '../dependents';\n\nexport function groupTransform(group, actions) {\n  const ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  const matrix = MatrixUtil.transform(ulMatrix, actions);\n  group.setMatrix(matrix);\n}\n\nexport function transform(actions, matrix?) {\n  const ulMatrix = matrix ? clone(matrix) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  return MatrixUtil.transform(ulMatrix, actions);\n}\n\nexport function move(element, x, y, matrix?) {\n  const ulMatrix = matrix ? clone(matrix) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  ulMatrix[6] = x;\n  ulMatrix[7] = y;\n  element.setMatrix(ulMatrix);\n}\n\nexport function translate(element, x, y) {\n  Util.translate(element, x, y);\n}\n\nexport function rotate(element, radian) {\n  Util.rotate(element, radian);\n}\n","import { deepMix, has, each, clone } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, ICatAxis, ITimeAxis, IValueAxis, Label, IStyleConfig } from '../../interface/config';\nimport ConversionTag, { ConversionTagOptions } from '../../components/conversion-tag';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport ColumnLabel from './component/label';\nimport * as EventParser from './event';\nimport './theme';\nimport { DataItem } from '../../interface/config';\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'column',\n};\n\nexport interface ColumnViewConfig extends ViewConfig {\n  // 图形\n  type?: 'rect' | 'triangle' | 'round';\n  colorField?: string;\n  // 百分比, 数值, 最小最大宽度\n  columnSize?: number;\n  maxWidth?: number;\n  minWidth?: number;\n  columnStyle?: IStyleConfig | ((...args: any[]) => IStyleConfig);\n  xAxis?: ICatAxis | ITimeAxis;\n  yAxis?: IValueAxis;\n  conversionTag?: ConversionTagOptions;\n}\n\nexport interface ColumnLayerConfig extends ColumnViewConfig, LayerConfig {}\n\nexport default class BaseColumnLayer<T extends ColumnLayerConfig = ColumnLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        nice: true,\n        title: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        grid: {\n          visible: true,\n        },\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      label: {\n        visible: false,\n        position: 'top',\n        adjustColor: true,\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n      },\n      interactions: [\n        { type: 'tooltip' },\n        { type: 'active-region' },\n        { type: 'legend-active' },\n        { type: 'legend-filter' },\n      ],\n      conversionTag: {\n        visible: false,\n      },\n    });\n  }\n  public column: any;\n  public type: string = 'column';\n  public conversionTag?: ConversionTag;\n\n  public beforeInit() {\n    super.beforeInit();\n    /** 响应式图形 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    const props = this.options;\n    this.renderLabel();\n    /** 响应式 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    if (props.conversionTag.visible) {\n      this.conversionTag = new ConversionTag({\n        view: this.view,\n        field: props.yField,\n        transpose: true,\n        animation: props.animation === false ? false : true,\n        ...props.conversionTag,\n      });\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const { xField } = this.options;\n    const processedData = [];\n    each(originData, (data) => {\n      const d = clone(data);\n      d[xField] = d[xField].toString();\n      processedData.push(d);\n    });\n    return processedData;\n  }\n\n  protected scale() {\n    const { options } = this;\n    const scales = {};\n    /** 配置x-scale */\n    scales[options.xField] = { type: 'cat' };\n    if (has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n    scales[options.yField] = {};\n    if (has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected adjustColumn(column: ElementOption) {\n    return;\n  }\n\n  protected addGeometry() {\n    const { options } = this;\n    const column = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this,\n    });\n    if (options.conversionTag.visible) {\n      this.setConfig(\n        'theme',\n        deepMix({}, this.getTheme(), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n    }\n    this.adjustColumn(column);\n    this.column = column;\n    this.setConfig('geometry', column);\n  }\n\n  protected animation() {\n    super.animation();\n    if (this.options.animation === false) {\n      /** 关闭动画 */\n      this.column.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { yField } = this.options;\n    const scale = scales[yField];\n    if (this.options.label && this.options.label.visible) {\n      const label = new ColumnLabel({\n        view: this.view,\n        plot: this,\n        formatter: scale.formatter,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r;\n      responsive.method(this);\n    });\n  }\n}\n\nregisterPlotType('column', BaseColumnLayer);\n","import { deepMix, each } from '@antv/util';\nimport { LayerConfig } from '../base/layer';\nimport ViewLayer, { ViewConfig } from '../base/view-layer';\nimport { getComponent } from '../components/factory';\nimport '../geoms/line/mini';\n\nexport interface TinyViewConfig extends ViewConfig {\n  indicator?: any;\n  guideLine?: any; // FIXME:\n}\n\nexport interface TinyLayerConfig extends TinyViewConfig, LayerConfig {}\n\nexport default abstract class TinyLayer<T extends TinyLayerConfig = TinyLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      padding: [0, 0, 0, 0],\n      legend: {\n        visible: false,\n      },\n      xAxis: {\n        visible: false,\n      },\n      yAxis: {\n        visible: false,\n      },\n      tooltip: {\n        visible: false,\n      },\n    });\n  }\n\n  protected coord() {}\n\n  protected addGeometry() {}\n\n  protected annotation() {\n    const props = this.options;\n    const config = [];\n    const defaultGuidelineCfg = {\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#66d6a8',\n        },\n      },\n    };\n    each(props.guideLine, (line) => {\n      const guideLine = getComponent('guideLine', {\n        plot: this,\n        cfg: deepMix({}, defaultGuidelineCfg, line),\n      });\n      config.push(guideLine);\n    });\n    this.setConfig('annotations', config);\n  }\n}\n","import { __spreadArrays } from \"tslib\";\nimport { mat3, vec3 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n/**\n * Coordinate Base Class\n */\nvar Coordinate = /** @class */ (function () {\n    function Coordinate(cfg) {\n        // 自身属性\n        this.type = 'coordinate';\n        this.isRect = false;\n        this.isHelix = false;\n        this.isPolar = false;\n        this.isReflectX = false;\n        this.isReflectY = false;\n        var start = cfg.start, end = cfg.end, _a = cfg.matrix, matrix = _a === void 0 ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : _a, _b = cfg.isTransposed, isTransposed = _b === void 0 ? false : _b;\n        this.start = start;\n        this.end = end;\n        this.matrix = matrix;\n        this.originalMatrix = __spreadArrays(matrix); // 去除引用\n        this.isTransposed = isTransposed;\n    }\n    /**\n     * 初始化流程\n     */\n    Coordinate.prototype.initial = function () {\n        // center、width、height\n        this.center = {\n            x: (this.start.x + this.end.x) / 2,\n            y: (this.start.y + this.end.y) / 2,\n        };\n        this.width = Math.abs(this.end.x - this.start.x);\n        this.height = Math.abs(this.end.y - this.start.y);\n    };\n    /**\n     * 更新配置\n     * @param cfg\n     */\n    Coordinate.prototype.update = function (cfg) {\n        _.assign(this, cfg);\n        this.initial();\n    };\n    Coordinate.prototype.convertDim = function (percent, dim) {\n        var _a;\n        var _b = this[dim], start = _b.start, end = _b.end;\n        // 交换\n        if (this.isReflect(dim)) {\n            _a = [end, start], start = _a[0], end = _a[1];\n        }\n        return start + percent * (end - start);\n    };\n    Coordinate.prototype.invertDim = function (value, dim) {\n        var _a;\n        var _b = this[dim], start = _b.start, end = _b.end;\n        // 交换\n        if (this.isReflect(dim)) {\n            _a = [end, start], start = _a[0], end = _a[1];\n        }\n        return (value - start) / (end - start);\n    };\n    /**\n     * 将坐标点进行矩阵变换\n     * @param x   对应 x 轴画布坐标\n     * @param y   对应 y 轴画布坐标\n     * @param tag 默认为 0，可取值 0, 1\n     * @return    返回变换后的三阶向量 [x, y, z]\n     */\n    Coordinate.prototype.applyMatrix = function (x, y, tag) {\n        if (tag === void 0) { tag = 0; }\n        var matrix = this.matrix;\n        var vector = [x, y, tag];\n        vec3.transformMat3(vector, vector, matrix);\n        return vector;\n    };\n    /**\n     * 将坐标点进行矩阵逆变换\n     * @param x   对应 x 轴画布坐标\n     * @param y   对应 y 轴画布坐标\n     * @param tag 默认为 0，可取值 0, 1\n     * @return    返回矩阵逆变换后的三阶向量 [x, y, z]\n     */\n    Coordinate.prototype.invertMatrix = function (x, y, tag) {\n        if (tag === void 0) { tag = 0; }\n        var matrix = this.matrix;\n        var inverted = mat3.invert([], matrix);\n        var vector = [x, y, tag];\n        vec3.transformMat3(vector, vector, inverted);\n        return vector;\n    };\n    /**\n     * 将归一化的坐标点数据转换为画布坐标，并根据坐标系当前矩阵进行变换\n     * @param point 归一化的坐标点\n     * @return      返回进行矩阵变换后的画布坐标\n     */\n    Coordinate.prototype.convert = function (point) {\n        var _a = this.convertPoint(point), x = _a.x, y = _a.y;\n        var vector = this.applyMatrix(x, y, 1);\n        return {\n            x: vector[0],\n            y: vector[1],\n        };\n    };\n    /**\n     * 将进行过矩阵变换画布坐标转换为归一化坐标\n     * @param point 画布坐标\n     * @return      返回归一化的坐标点\n     */\n    Coordinate.prototype.invert = function (point) {\n        var vector = this.invertMatrix(point.x, point.y, 1);\n        return this.invertPoint({\n            x: vector[0],\n            y: vector[1],\n        });\n    };\n    /**\n     * 坐标系旋转变换\n     * @param  radian 旋转弧度\n     * @return        返回坐标系对象\n     */\n    Coordinate.prototype.rotate = function (radian) {\n        var matrix = this.matrix;\n        var center = this.center;\n        mat3.translate(matrix, matrix, [-center.x, -center.y]);\n        mat3.rotate(matrix, matrix, radian);\n        mat3.translate(matrix, matrix, [center.x, center.y]);\n        return this;\n    };\n    /**\n     * 坐标系反射变换\n     * @param dim 反射维度\n     * @return    返回坐标系对象\n     */\n    Coordinate.prototype.reflect = function (dim) {\n        if (dim === 'x') {\n            this.isReflectX = !this.isReflectX;\n        }\n        else {\n            this.isReflectY = !this.isReflectY;\n        }\n        return this;\n    };\n    /**\n     * 坐标系比例变换\n     * @param s1 x 方向缩放比例\n     * @param s2 y 方向缩放比例\n     * @return     返回坐标系对象\n     */\n    Coordinate.prototype.scale = function (s1, s2) {\n        var matrix = this.matrix;\n        var center = this.center;\n        mat3.translate(matrix, matrix, [-center.x, -center.y]);\n        mat3.scale(matrix, matrix, [s1, s2]);\n        mat3.translate(matrix, matrix, [center.x, center.y]);\n        return this;\n    };\n    /**\n     * 坐标系平移变换\n     * @param x x 方向平移像素\n     * @param y y 方向平移像素\n     * @return    返回坐标系对象\n     */\n    Coordinate.prototype.translate = function (x, y) {\n        var matrix = this.matrix;\n        mat3.translate(matrix, matrix, [x, y]);\n        return this;\n    };\n    /**\n     * 将坐标系 x y 两个轴进行转置\n     * @return 返回坐标系对象\n     */\n    Coordinate.prototype.transpose = function () {\n        this.isTransposed = !this.isTransposed;\n        return this;\n    };\n    Coordinate.prototype.getCenter = function () {\n        return this.center;\n    };\n    Coordinate.prototype.getWidth = function () {\n        return this.width;\n    };\n    Coordinate.prototype.getHeight = function () {\n        return this.height;\n    };\n    /**\n     * whether has reflect\n     * @param dim\n     */\n    Coordinate.prototype.isReflect = function (dim) {\n        return dim === 'x' ? this.isReflectX : this.isReflectY;\n    };\n    /**\n     * 重置 matrix\n     * @param matrix 如果传入，则使用，否则使用构造函数中传入的默认 matrix\n     */\n    Coordinate.prototype.resetMatrix = function (matrix) {\n        // 去除引用关系\n        this.matrix = matrix ? matrix : __spreadArrays(this.originalMatrix);\n    };\n    return Coordinate;\n}());\nexport default Coordinate;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport Coordinate from './base';\n/**\n * 笛卡尔坐标系\n * https://www.zhihu.com/question/20665303\n */\nvar Cartesian = /** @class */ (function (_super) {\n    __extends(Cartesian, _super);\n    function Cartesian(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.isRect = true;\n        _this.type = 'cartesian';\n        _this.initial();\n        return _this;\n    }\n    Cartesian.prototype.initial = function () {\n        _super.prototype.initial.call(this);\n        var start = this.start;\n        var end = this.end;\n        this.x = {\n            start: start.x,\n            end: end.x,\n        };\n        this.y = {\n            start: start.y,\n            end: end.y,\n        };\n    };\n    Cartesian.prototype.convertPoint = function (point) {\n        var _a;\n        var x = point.x, y = point.y;\n        // 交换\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        return {\n            x: this.convertDim(x, 'x'),\n            y: this.convertDim(y, 'y'),\n        };\n    };\n    Cartesian.prototype.invertPoint = function (point) {\n        var _a;\n        var x = this.invertDim(point.x, 'x');\n        var y = this.invertDim(point.y, 'y');\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        return { x: x, y: y };\n    };\n    return Cartesian;\n}(Coordinate));\nexport default Cartesian;\n//# sourceMappingURL=cartesian.js.map","import { __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\n/**\n * 螺旋坐标系\n */\nvar Helix = /** @class */ (function (_super) {\n    __extends(Helix, _super);\n    function Helix(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.isHelix = true;\n        _this.type = 'helix';\n        var _a = cfg.startAngle, startAngle = _a === void 0 ? 1.25 * Math.PI : _a, _b = cfg.endAngle, endAngle = _b === void 0 ? 7.25 * Math.PI : _b, _c = cfg.innerRadius, innerRadius = _c === void 0 ? 0 : _c, radius = cfg.radius;\n        _this.startAngle = startAngle;\n        _this.endAngle = endAngle;\n        _this.innerRadius = innerRadius;\n        _this.radius = radius;\n        _this.initial();\n        return _this;\n    }\n    Helix.prototype.initial = function () {\n        _super.prototype.initial.call(this);\n        var index = (this.endAngle - this.startAngle) / (2 * Math.PI) + 1; // 螺线圈数\n        var maxRadius = Math.min(this.width, this.height) / 2;\n        if (this.radius && this.radius >= 0 && this.radius <= 1) {\n            maxRadius = maxRadius * this.radius;\n        }\n        this.d = Math.floor((maxRadius * (1 - this.innerRadius)) / index);\n        this.a = this.d / (Math.PI * 2); // 螺线系数\n        this.x = {\n            start: this.startAngle,\n            end: this.endAngle,\n        };\n        this.y = {\n            start: this.innerRadius * maxRadius,\n            end: this.innerRadius * maxRadius + this.d * 0.99,\n        };\n    };\n    /**\n     * 将百分比数据变成屏幕坐标\n     * @param point 归一化的点坐标\n     * @return      返回对应的屏幕坐标\n     */\n    Helix.prototype.convertPoint = function (point) {\n        var _a;\n        var x = point.x, y = point.y;\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        var thi = this.convertDim(x, 'x');\n        var r = this.a * thi;\n        var newY = this.convertDim(y, 'y');\n        return {\n            x: this.center.x + Math.cos(thi) * (r + newY),\n            y: this.center.y + Math.sin(thi) * (r + newY),\n        };\n    };\n    /**\n     * 将屏幕坐标点还原成百分比数据\n     * @param point 屏幕坐标\n     * @return      返回对应的归一化后的数据\n     */\n    Helix.prototype.invertPoint = function (point) {\n        var _a;\n        var d = this.d + this.y.start;\n        var v = vec2.subtract([], [point.x, point.y], [this.center.x, this.center.y]);\n        var thi = vec2.angleTo(v, [1, 0], true);\n        var rMin = thi * this.a; // 坐标与原点的连线在第一圈上的交点，最小r值\n        if (vec2.length(v) < rMin) {\n            // 坐标与原点的连线不可能小于最小r值，但不排除因小数计算产生的略小于rMin的情况\n            rMin = vec2.length(v);\n        }\n        var index = Math.floor((vec2.length(v) - rMin) / d); // 当前点位于第index圈\n        thi = 2 * index * Math.PI + thi;\n        var r = this.a * thi;\n        var newY = vec2.length(v) - r;\n        newY = isNumberEqual(newY, 0) ? 0 : newY;\n        var x = this.invertDim(thi, 'x');\n        var y = this.invertDim(newY, 'y');\n        x = isNumberEqual(x, 0) ? 0 : x;\n        y = isNumberEqual(y, 0) ? 0 : y;\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        return { x: x, y: y };\n    };\n    return Helix;\n}(Coordinate));\nexport default Helix;\n//# sourceMappingURL=helix.js.map","import { __extends } from \"tslib\";\nimport { mat3, vec2, vec3 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\nvar Polar = /** @class */ (function (_super) {\n    __extends(Polar, _super);\n    function Polar(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.isPolar = true;\n        _this.type = 'polar';\n        var _a = cfg.startAngle, startAngle = _a === void 0 ? -Math.PI / 2 : _a, _b = cfg.endAngle, endAngle = _b === void 0 ? (Math.PI * 3) / 2 : _b, _c = cfg.innerRadius, innerRadius = _c === void 0 ? 0 : _c, radius = cfg.radius;\n        _this.startAngle = startAngle;\n        _this.endAngle = endAngle;\n        _this.innerRadius = innerRadius;\n        _this.radius = radius;\n        _this.initial();\n        return _this;\n    }\n    Polar.prototype.initial = function () {\n        _super.prototype.initial.call(this);\n        while (this.endAngle < this.startAngle) {\n            this.endAngle += Math.PI * 2;\n        }\n        var oneBox = this.getOneBox();\n        var oneWidth = oneBox.maxX - oneBox.minX;\n        var oneHeight = oneBox.maxY - oneBox.minY;\n        var left = Math.abs(oneBox.minX) / oneWidth;\n        var top = Math.abs(oneBox.minY) / oneHeight;\n        var maxRadius;\n        if (this.height / oneHeight > this.width / oneWidth) {\n            // width 为主\n            maxRadius = this.width / oneWidth;\n            this.circleCenter = {\n                x: this.center.x - (0.5 - left) * this.width,\n                y: this.center.y - (0.5 - top) * maxRadius * oneHeight,\n            };\n        }\n        else {\n            // height 为主\n            maxRadius = this.height / oneHeight;\n            this.circleCenter = {\n                x: this.center.x - (0.5 - left) * maxRadius * oneWidth,\n                y: this.center.y - (0.5 - top) * this.height,\n            };\n        }\n        this.polarRadius = this.radius;\n        if (!this.radius) {\n            this.polarRadius = maxRadius;\n        }\n        else if (this.radius > 0 && this.radius <= 1) {\n            this.polarRadius = maxRadius * this.radius;\n        }\n        else if (this.radius <= 0 || this.radius > maxRadius) {\n            this.polarRadius = maxRadius;\n        }\n        this.x = {\n            start: this.startAngle,\n            end: this.endAngle,\n        };\n        this.y = {\n            start: this.innerRadius * this.polarRadius,\n            end: this.polarRadius,\n        };\n    };\n    Polar.prototype.getRadius = function () {\n        return this.polarRadius;\n    };\n    Polar.prototype.convertPoint = function (point) {\n        var _a;\n        var center = this.getCenter();\n        var x = point.x, y = point.y;\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        x = this.convertDim(x, 'x');\n        y = this.convertDim(y, 'y');\n        return {\n            x: center.x + Math.cos(x) * y,\n            y: center.y + Math.sin(x) * y,\n        };\n    };\n    Polar.prototype.invertPoint = function (point) {\n        var center = this.getCenter();\n        var vPoint = [point.x - center.x, point.y - center.y];\n        var m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        mat3.rotate(m, m, this.startAngle);\n        var vStart = [1, 0, 0];\n        vec3.transformMat3(vStart, vStart, m);\n        vStart = [vStart[0], vStart[1]];\n        var angle = vec2.angleTo(vStart, vPoint, this.endAngle < this.startAngle);\n        if (isNumberEqual(angle, Math.PI * 2)) {\n            angle = 0;\n        }\n        var radius = vec2.length(vPoint);\n        var xPercent = angle / (this.endAngle - this.startAngle);\n        xPercent = this.endAngle - this.startAngle > 0 ? xPercent : -xPercent;\n        var yPercent = this.invertDim(radius, 'y');\n        var rst = { x: 0, y: 0 };\n        rst.x = this.isTransposed ? yPercent : xPercent;\n        rst.y = this.isTransposed ? xPercent : yPercent;\n        return rst;\n    };\n    Polar.prototype.getCenter = function () {\n        return this.circleCenter;\n    };\n    Polar.prototype.getOneBox = function () {\n        var startAngle = this.startAngle;\n        var endAngle = this.endAngle;\n        if (Math.abs(endAngle - startAngle) >= Math.PI * 2) {\n            return {\n                minX: -1,\n                maxX: 1,\n                minY: -1,\n                maxY: 1,\n            };\n        }\n        var xs = [0, Math.cos(startAngle), Math.cos(endAngle)];\n        var ys = [0, Math.sin(startAngle), Math.sin(endAngle)];\n        for (var i = Math.min(startAngle, endAngle); i < Math.max(startAngle, endAngle); i += Math.PI / 18) {\n            xs.push(Math.cos(i));\n            ys.push(Math.sin(i));\n        }\n        return {\n            minX: Math.min.apply(Math, xs),\n            maxX: Math.max.apply(Math, xs),\n            minY: Math.min.apply(Math, ys),\n            maxY: Math.max.apply(Math, ys),\n        };\n    };\n    return Polar;\n}(Coordinate));\nexport default Polar;\n//# sourceMappingURL=polar.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__63__;","/**\n * stateManager负责stateManager的创建/绑定，对状态量更新的响应\n */\nimport { IGroup, IShape } from '../../dependents';\nimport { isFunction, assign, each, isArray, mix, clone } from '@antv/util';\nimport { getComponentStateMethod } from '../../components/factory';\nimport { onEvent } from '../../util/event';\nimport StateManager from '../../util/state-manager';\n\nexport function compare(origin, condition) {\n  if (!isFunction(condition)) {\n    const { name, exp } = condition;\n    if (isFunction(exp)) {\n      return exp(origin[name]);\n    }\n    return origin[name] === exp;\n  }\n  return condition(origin);\n}\n\nexport default class StateController {\n  private plot: any;\n  private stateManager: StateManager;\n  private shapes: IShape[];\n  private originAttrs: any[]; // 缓存图形的原始属性\n  private shapeContainers: IGroup[] = [];\n\n  constructor(cfg) {\n    assign(this, cfg);\n  }\n\n  public createStateManager(cfg) {\n    this.stateManager = new StateManager(cfg);\n  }\n\n  public bindStateManager(manager: StateManager, cfg) {\n    this.stateManager = manager;\n    if (cfg.setState) {\n      this._updateStateProcess(cfg.setState);\n    }\n    if (cfg.onStateChange) {\n      this._stateChangeProcess(cfg.onStateChange);\n    }\n  }\n\n  public defaultStates(states) {\n    each(states, (state, type) => {\n      const { condition, style, related } = state;\n      this.setState({ type, condition, related });\n    });\n  }\n\n  public setState(cfg) {\n    const { type, condition, related } = cfg;\n    if (!this.shapes) {\n      this.shapes = this._getShapes();\n      this.originAttrs = this._getOriginAttrs();\n    }\n    // this.resetZIndex();\n    each(this.shapes, (shape, index) => {\n      const shapeOrigin = shape.get('origin').data;\n      const origin = isArray(shapeOrigin) ? shapeOrigin[0] : shapeOrigin;\n      if (compare(origin, condition)) {\n        const stateStyle = cfg.style ? cfg.style : this._getDefaultStateStyle(type, shape);\n        const originAttr = this.originAttrs[index];\n        let attrs;\n        if (isFunction(stateStyle)) {\n          attrs = stateStyle(originAttr);\n        } else {\n          attrs = mix({}, originAttr, stateStyle);\n        }\n        shape.attr(attrs);\n        this.setZIndex(type, shape);\n        // const canvas = this.plot.canvas;\n        // canvas.draw();\n      }\n    });\n    // 组件与图形对状态量的响应不一定同步\n    if (related) {\n      this._parserRelated(type, related, condition);\n    }\n    this.plot.canvas.draw();\n  }\n\n  private _updateStateProcess(setStateCfg) {\n    each(setStateCfg, (cfg: any) => {\n      const state = cfg.state;\n      let handler;\n      if (isFunction(state)) {\n        handler = (e) => {\n          const s = state(e);\n          this.stateManager.setState(s.name, s.exp);\n        };\n      } else {\n        handler = () => {\n          this.stateManager.setState(state.name, state.exp);\n        };\n      }\n      if (cfg.event) {\n        onEvent(this.plot, this._eventParser(cfg.event), handler);\n      } else {\n        handler();\n      }\n    });\n  }\n\n  private _stateChangeProcess(onChangeCfg) {\n    each(onChangeCfg, (cfg: any) => {\n      this.stateManager.on(`${cfg.name}:change`, (props) => {\n        cfg.callback(props, this.plot);\n      });\n    });\n  }\n\n  private _getShapes() {\n    const shapes = [];\n    const geoms = this.plot.view.geometries;\n    each(geoms, (geom: any) => {\n      const shapeContainer = geom.container;\n      this.shapeContainers.push(shapeContainer);\n      if (!geom.destroyed) {\n        shapes.push(...geom.getShapes());\n      }\n    });\n    return shapes;\n  }\n\n  private _getOriginAttrs() {\n    const attrs = [];\n    each(this.shapes, (shape) => {\n      attrs.push(clone(shape.attr()));\n    });\n    return attrs;\n  }\n\n  // 将g2 geomtry转为plot层geometry\n  private _eventParser(event) {\n    const eventCfg = event.split(':');\n    const eventTarget = this.plot.geometryParser('g2', eventCfg[0]);\n    const eventName = eventCfg[1];\n    return `${eventTarget}:${eventName}`;\n  }\n\n  private _getDefaultStateStyle(type, shape) {\n    const theme = this.plot.theme;\n    const plotGeomType = this.plot.geometryParser('plot', shape.name);\n    const styleField = `${plotGeomType}Style`;\n    if (theme[styleField]) {\n      let style = theme[styleField][type];\n      if (isFunction(style)) {\n        style = style(shape.attr());\n      }\n      return style;\n    }\n    return {};\n  }\n\n  private _parserRelated(type, related, condition) {\n    each(related, (r) => {\n      if (this.plot[r]) {\n        // fixme: 自定义组件\n        // this.plot[r].setState(type, condition);\n        const method = getComponentStateMethod(r, type);\n        method(this.plot, condition);\n      }\n    });\n  }\n\n  // private set\n  private setZIndex(stateType: string, shape: IShape | any) {\n    if (stateType === 'active' || stateType === 'selected') {\n      // shape.setZIndex(1);\n      const children = shape.get('parent').get('children');\n      children[children.length - 1].setZIndex(0);\n      shape.setZIndex(1);\n    }\n  }\n\n  private resetZIndex() {\n    each(this.shapeContainers, (container) => {\n      const children = container.get('children');\n      children.sort((obj1, obj2) => {\n        return obj1._INDEX - obj2._INDEX;\n      });\n    });\n  }\n}\n","import { deepMix, has, each, clone } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport ConversionTag, { ConversionTagOptions } from '../../components/conversion-tag';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, ICatAxis, ITimeAxis, IValueAxis, Label, DataItem, IStyleConfig } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport BarLabel from './component/label';\nimport * as EventParser from './event';\nimport './theme';\n\nconst G2_GEOM_MAP = {\n  bar: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'bar',\n};\n\nexport interface BarViewConfig extends ViewConfig {\n  colorField?: string;\n  // 百分比, 数值, 最小最大宽度\n  barSize?: number;\n  maxWidth?: number;\n  minWidth?: number;\n  barStyle?: IStyleConfig | ((...args: any[]) => IStyleConfig);\n  xAxis?: ICatAxis | ITimeAxis;\n  yAxis?: IValueAxis;\n  conversionTag?: ConversionTagOptions;\n}\n\nexport interface BarLayerConfig extends BarViewConfig, LayerConfig {}\n\nexport default class BaseBarLayer<T extends BarLayerConfig = BarLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<BarViewConfig> {\n    const cfg: Partial<BarViewConfig> = {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n        },\n        label: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoRotateTitle: true,\n        nice: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoRotate: false,\n          autoHide: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      label: {\n        visible: true,\n        position: 'left',\n        adjustColor: true,\n      },\n      legend: {\n        visible: false,\n        position: 'top-left',\n      },\n      interactions: [\n        { type: 'tooltip' },\n        { type: 'active-region' },\n        { type: 'legend-active' },\n        { type: 'legend-filter' },\n      ],\n      conversionTag: {\n        visible: false,\n      },\n    };\n    return deepMix({}, super.getDefaultOptions(), cfg);\n  }\n\n  public bar: any;\n  public type: string = 'bar';\n  public conversionTag?: ConversionTag;\n\n  public beforeInit() {\n    super.beforeInit();\n    const props = this.options;\n    /** 响应式图形 */\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    const props = this.options;\n    this.renderLabel();\n    /** 响应式 */\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    if (props.conversionTag.visible) {\n      this.conversionTag = new ConversionTag({\n        view: this.view,\n        field: props.xField,\n        animation: props.animation === false ? false : true,\n        ...props.conversionTag,\n      });\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const inputData = originData ? originData.slice().reverse() : originData;\n    const { yField } = this.options;\n    const processedData = [];\n    each(inputData, (data) => {\n      const d = clone(data);\n      d[yField] = d[yField].toString();\n      processedData.push(d);\n    });\n    return processedData;\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.yField] = {\n      type: 'cat',\n    };\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    /** 配置y-scale */\n    scales[props.xField] = {};\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    this.setConfig('coordinate', {\n      actions: [['transpose']],\n    });\n  }\n\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    /** 转置坐标系特殊配置 */\n    if (xAxis_parser) {\n      xAxis_parser.position = 'left';\n    }\n    if (yAxis_parser) {\n      yAxis_parser.position = 'bottom';\n    }\n    const axesConfig = {};\n    axesConfig[this.options.xField] = xAxis_parser;\n    axesConfig[this.options.yField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected adjustBar(bar: ElementOption) {}\n\n  protected addGeometry() {\n    const props = this.options;\n    const bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this,\n    });\n    if (props.conversionTag.visible) {\n      this.setConfig(\n        'theme',\n        deepMix({}, this.getTheme(), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n    }\n    this.adjustBar(bar);\n    this.bar = bar;\n    this.setConfig('geometry', bar);\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.bar.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { yField } = this.options;\n    const scale = scales[yField];\n    if (this.options.label && this.options.label.visible) {\n      const label = new BarLabel({\n        view: this.view,\n        plot: this,\n        formatter: scale.formatter,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r;\n      responsive.method(this);\n    });\n  }\n\n  public getLabelOptionsByPosition(position: string) {\n    if (position === 'middle') {\n      return {\n        offset: 0,\n      };\n    }\n\n    if (position === 'left') {\n      return {\n        offset: 7,\n        style: {\n          stroke: null,\n          lineWidth: 0,\n        },\n      };\n    }\n\n    if (position === 'right') {\n      return {\n        offset: 4,\n      };\n    }\n  }\n}\n\nregisterPlotType('bar', BaseBarLayer);\n","import { IGroup, IShape, BBox } from '../../../../dependents';\nimport { transform } from '@antv/matrix-util';\nimport { deepMix, isString } from '@antv/util';\nimport { getEndPoint } from './utils';\nimport { Label } from '../../../../interface/config';\nimport PieLayer from '../../layer';\nimport { getEllipsisText } from './utils/text';\n\n/** label text和line距离 4px */\nexport const CROOK_DISTANCE = 4;\n\nexport function percent2Number(value: string): number {\n  const percentage = Number(value.endsWith('%') ? value.slice(0, -1) : value);\n  return percentage / 100;\n}\n\nexport interface LabelItem {\n  x: number;\n  y: number;\n  color: string;\n  origin: object;\n  name: string;\n  angle: number;\n  textAlign: string;\n  textBaseline?: string;\n}\n\nexport interface PieLabelConfig extends Omit<Label, 'offset'> {\n  visible: boolean;\n  formatter?: (text: string, item: any, idx: number) => string;\n  /** allow label overlap */\n  allowOverlap?: boolean;\n  autoRotate?: boolean;\n  labelHeight?: number;\n  offset?: string | number;\n  offsetX?: number;\n  offsetY?: number;\n  /** label leader-line */\n  line?: {\n    visible?: boolean;\n    smooth?: boolean;\n    stroke?: string;\n    lineWidth?: number;\n  };\n  style?: any;\n}\n\nexport default abstract class PieBaseLabel {\n  public options: PieLabelConfig & { offset: number };\n  public destroyed: boolean = false;\n  protected plot: PieLayer;\n  protected coordinateBBox: BBox;\n  protected container: IGroup;\n  /** 圆弧上的锚点 */\n  protected arcPoints: LabelItem[];\n\n  constructor(plot: PieLayer, cfg: PieLabelConfig) {\n    this.plot = plot;\n    this.coordinateBBox = this.plot.view.coordinateBBox;\n    const options = deepMix(this.getDefaultOptions(), cfg, {});\n    this.adjustOption(options);\n    this.options = options;\n    this.init();\n  }\n\n  protected abstract getDefaultOptions();\n  protected abstract layout(labels: IShape[], shapeInfos: LabelItem[], panelBox: BBox);\n  protected adjustItem(item: LabelItem): void {}\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.plot.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    // 先清空 再重新渲染（避免双次绘制）\n    this.clear();\n    this.initArcPoints();\n    this.drawTexts();\n    this.drawLines();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  /** 绘制文本 */\n  protected drawTexts() {\n    const { style, formatter, autoRotate, offsetX, offsetY } = this.options;\n    const shapeInfos = this.getItems();\n    const shapes: IShape[] = [];\n    shapeInfos.map((shapeInfo, idx) => {\n      const attrs = deepMix({}, shapeInfo, style);\n      const content = formatter ? formatter(shapeInfo.name, { _origin: shapeInfo.origin }, idx) : shapeInfo.name;\n      const itemGroup = this.container.addGroup({ name: 'itemGroup', index: idx });\n      const textShape = itemGroup.addShape('text', {\n        attrs: deepMix({}, attrs, {\n          x: shapeInfo.x + offsetX,\n          y: shapeInfo.y + offsetY,\n          text: content,\n        }),\n      });\n      textShape.set('id', `text-${shapeInfo.name}-${idx}`);\n      shapes.push(textShape);\n    });\n    shapes.forEach((shape) => {\n      const panelBox = this.coordinateBBox;\n      this.adjustText(shape, panelBox);\n    });\n    this.layout(shapes, shapeInfos, this.coordinateBBox);\n    shapes.forEach((label, idx) => {\n      if (autoRotate) {\n        this.rotateLabel(label, shapeInfos[idx].angle);\n      }\n    });\n  }\n\n  private adjustText(label: IShape, panelBox: BBox) {\n    const box = label.getBBox();\n    let width = box.width;\n    const deltaWidth = 0;\n    if (box.maxX > panelBox.maxX) {\n      width = panelBox.maxX - box.minX;\n    } else if (box.minX < panelBox.minX) {\n      width = box.maxX - panelBox.minX;\n    }\n    if (label.attr('textAlign') === 'left') {\n      label.attr('x', Math.max(box.x - deltaWidth, 0));\n    } else if (label.attr('textAlign') === 'right') {\n      label.attr('x', Math.max(box.maxX - deltaWidth, 0));\n    }\n    if (width !== box.width) {\n      const font = {};\n      ['fontSize', 'fontFamily', 'fontWeight'].forEach((k) => {\n        font[k] = label.attr(k);\n      });\n      const ellipsisTexts = label\n        .attr('text')\n        .split('\\n')\n        .map((t) => getEllipsisText(t, width, font));\n      label.attr('text', ellipsisTexts.join('\\n'));\n    }\n  }\n\n  /** 绘制拉线 */\n  protected drawLines() {\n    if (this.options.line.visible) {\n      const itemGroups = this.container.get('children');\n      const { center } = this.getCoordinate();\n      itemGroups.forEach((labelGroup, idx) => {\n        const label: IShape = labelGroup.get('children')[0];\n        const anchor = this.arcPoints[idx];\n        const inLeft = anchor.x < center.x;\n        // 拉线 和 label 之间的距离\n        const distance = this.options.offset > 4 ? 4 : 0;\n        const path = this.getLinePath(label, anchor, distance);\n        const style = this.options.line;\n        labelGroup.addShape('path', {\n          attrs: {\n            path,\n            stroke: anchor.color,\n            ...style,\n          },\n        });\n        // 由于拉线的存在 label 需要进行偏移\n        label.attr('x', label.attr('x') + (inLeft ? -distance : distance));\n      });\n    }\n  }\n\n  /** 获取label leader-line, 默认 not smooth */\n  private getLinePath(label: IShape, anchor: LabelItem, distance: number): string {\n    const smooth = this.options.line ? this.options.line.smooth : false;\n    const angle = anchor.angle;\n    const { center, radius } = this.getCoordinate();\n    let breakAt = getEndPoint(center, angle, radius + distance);\n    if (distance < 4) {\n      breakAt = anchor;\n    }\n    const inLeft = anchor.x < center.x;\n    const box = label.getBBox();\n    const labelPosition = { x: inLeft ? box.maxX : box.minX, y: box.y + box.height / 2 };\n    const smoothPath = [\n      'C', // soft break\n      // 1st control point (of the curve)\n      labelPosition.x +\n        // 4 gives the connector a little horizontal bend\n        (inLeft ? 1 : -1) * (distance < 4 ? distance / 2 : 4),\n      labelPosition.y, //\n      2 * breakAt.x - anchor.x, // 2nd control point\n      2 * breakAt.y - anchor.y, //\n      breakAt.x, // end of the curve\n      breakAt.y, //\n    ];\n    const straightPath = ['L', /** pointy break */ breakAt.x, breakAt.y];\n    const linePath = smooth ? smoothPath : straightPath;\n    const path = ['M', labelPosition.x, labelPosition.y].concat(linePath).concat('L', anchor.x, anchor.y);\n\n    return path.join(',');\n  }\n\n  protected getGeometry() {\n    return this.plot.view.geometries[0];\n  }\n\n  protected getCoordinate() {\n    const coordinate = this.getGeometry().coordinate;\n    const center = coordinate.getCenter();\n    // @ts-ignore\n    const radius = coordinate.getRadius();\n    const startAngle = coordinate.startAngle;\n    return { center, radius, startAngle };\n  }\n\n  protected adjustOption(options: PieLabelConfig): void {\n    let offset = options.offset;\n    const { radius } = this.getCoordinate();\n    if (isString(offset)) {\n      offset = radius * percent2Number(offset);\n    }\n    options.offset = offset;\n  }\n\n  private rotateLabel(label: IShape, angle): void {\n    const x = label.attr('x');\n    const y = label.attr('y');\n    const matrix = transform(label.getMatrix(), [\n      ['t', -x, -y],\n      ['r', getRotateAngle(angle)],\n      ['t', x, y],\n    ]);\n    label.setMatrix(matrix);\n  }\n\n  private getItems(): LabelItem[] {\n    const { offset } = this.options;\n    const { center, radius } = this.getCoordinate();\n    const items = this.arcPoints.map((anchor) => {\n      const point = getEndPoint(center, anchor.angle, radius + offset);\n      const item = { ...anchor, ...point };\n      this.adjustItem(item);\n      return item;\n    });\n    return items;\n  }\n\n  // 初始化圆弧上锚点\n  private initArcPoints(): void {\n    const { angleField } = this.plot.options;\n    const elements = this.getGeometry().elements;\n    const coord = this.getCoordinate();\n    const { center, radius } = coord;\n    let { startAngle } = this.getCoordinate();\n    const scale = this.getGeometry().scales[angleField];\n    const anchors = elements.map((ele) => {\n      const origin = ele.shape.get('origin');\n      const color = origin.color;\n      const originData = origin.data[0] || origin.data;\n      const endAngle = startAngle + Math.PI * 2 * scale.scale(originData[angleField]);\n      const angle = (startAngle + endAngle) / 2;\n      const point = getEndPoint(center, angle, radius);\n      startAngle = endAngle;\n      const name = `${originData[angleField]}`;\n      const textAlign = point.x > center.x ? 'left' : 'right';\n      return { x: point.x, y: point.y, color, name, origin: originData, angle, textAlign };\n    });\n    this.arcPoints = anchors;\n  }\n}\n\n/**\n * @protected\n * 获取文本旋转的方向\n * @param {Number} angle angle\n * @return {Number} angle\n */\nfunction getRotateAngle(angle: number) {\n  let rotate = (angle * 180) / Math.PI;\n  if (rotate < -90 || (rotate > 180 && rotate < 270)) {\n    // 第四象限\n    rotate += 180;\n  } else if (rotate < 180 && rotate > 90) {\n    // 第三象限\n    rotate = 90 - rotate;\n  }\n  return (rotate / 180) * Math.PI;\n}\n","export interface Point {\n  x: number;\n  y: number;\n}\n\nexport function getEndPoint(center, angle, r): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n\nexport interface Box {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\n/** 获取矩形中点 */\nexport function getCenter(box: Box): Point {\n  return {\n    x: box.x + box.width / 2,\n    y: box.y + box.height / 2,\n  };\n}\n\nexport function getOverlapArea(a: Box, b: Box, margin = 0): number {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n  return xOverlap * yOverlap;\n}\n\n/**\n * 计算两个矩形之间的堆叠情况\n * @return xOverlap x方向重叠大小\n * @return yOverlap y方向重叠大小\n */\nexport function getOverlapInfo(a: Box, b: Box, margin = 0): { xOverlap: number; yOverlap: number } {\n  let xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  let yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  // 添加 sign\n  if (xOverlap && a.x < b.x) {\n    xOverlap = -xOverlap;\n  }\n  if (yOverlap && a.y < b.y) {\n    yOverlap = -yOverlap;\n  }\n\n  // 重叠\n  if (a.x === b.x && a.width === b.width) {\n    xOverlap = b.width;\n  }\n  if (a.y === b.y && a.height === b.height) {\n    yOverlap = b.height;\n  }\n\n  return { xOverlap, yOverlap };\n}\n\n/**\n * 粗略地判断是否在panel内部\n * @param panel\n * @param shape\n */\nexport function inPanel(panel: Box, shape: Box) {\n  return (\n    panel.x < shape.x &&\n    panel.x + panel.width > shape.x + shape.width &&\n    panel.y < shape.y &&\n    panel.y + panel.height > shape.y + shape.height\n  );\n}\n\n/**\n * 判断两个数值 是否接近\n * - 解决精度问题（由于无法确定精度上限，根据具体场景可传入 精度 参数）\n */\nexport const near = (x: number, y: number, e: number = Number.EPSILON ** 0.5): boolean =>\n  [x, y].includes(Infinity) ? Math.abs(x) === Math.abs(y) : Math.abs(x - y) < e;\n","/**\n * 当前一周中的第几天（周日 = 0）\n */\nexport const DAY_FIELD = '$$day$$';\n/**\n * 当前是一年中的第几周\n */\nexport const WEEK_FIELD = '$$week$$';\n/**\n * 日期字段，Date 类型\n */\nexport const DATE_FIELD = '$$date$$';\n/**\n * 数据处理阶段，标记这周是否是当月中间\n */\nexport const IS_MONTH_CENTER_FIELD = '$$is_month_center$$';\n/**\n * 格式化日期\n */\nexport const FORMATTER = 'YYYY-MM-DD';\n/**\n * 月份枚举\n */\nexport const MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n/**\n * 周枚举\n */\nexport const WEEKS = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar register_1 = require(\"./register\");\nexports.getBBoxMethod = register_1.getMethod;\nvar rect_1 = require(\"./rect\");\nvar circle_1 = require(\"./circle\");\nvar points_1 = require(\"./points\");\nvar text_1 = require(\"./text\");\nvar path_1 = require(\"./path\");\nvar line_1 = require(\"./line\");\nvar ellipse_1 = require(\"./ellipse\");\nregister_1.register('rect', rect_1.default);\nregister_1.register('image', rect_1.default); // image 使用 rect 的包围盒计算\nregister_1.register('circle', circle_1.default);\nregister_1.register('marker', circle_1.default); // marker 使用 circle 的计算方案\nregister_1.register('polygon', points_1.default);\nregister_1.register('polyline', points_1.default);\nregister_1.register('text', text_1.default);\nregister_1.register('path', path_1.default);\nregister_1.register('line', line_1.default);\nregister_1.register('ellipse', ellipse_1.default);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar offscreen_1 = require(\"./offscreen\");\n/**\n * 获取文本的高度\n * @param text 文本\n * @param fontSize 字体大小\n * @param lineHeight 行高，可以为空\n */\nfunction getTextHeight(text, fontSize, lineHeight) {\n    var lineCount = 1;\n    if (util_1.isString(text)) {\n        lineCount = text.split('\\n').length;\n    }\n    if (lineCount > 1) {\n        var spaceingY = getLineSpaceing(fontSize, lineHeight);\n        return fontSize * lineCount + spaceingY * (lineCount - 1);\n    }\n    return fontSize;\n}\nexports.getTextHeight = getTextHeight;\n/**\n * 获取行间距如果文本多行，需要获取文本间距\n * @param fontSize 字体大小\n * @param lineHeight 行高\n */\nfunction getLineSpaceing(fontSize, lineHeight) {\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n}\nexports.getLineSpaceing = getLineSpaceing;\n/**\n * 字体宽度\n * @param text 文本\n * @param font 字体\n */\nfunction getTextWidth(text, font) {\n    var context = offscreen_1.getOffScreenContext(); // 获取离屏的 ctx 进行计算\n    var width = 0;\n    // null 或者 undefined 时，宽度为 0\n    if (util_1.isNil(text) || text === '') {\n        return width;\n    }\n    context.save();\n    context.font = font;\n    if (util_1.isString(text) && text.includes('\\n')) {\n        var textArr = text.split('\\n');\n        util_1.each(textArr, function (subText) {\n            var measureWidth = context.measureText(subText).width;\n            if (width < measureWidth) {\n                width = measureWidth;\n            }\n        });\n    }\n    else {\n        width = context.measureText(text).width;\n    }\n    context.restore();\n    return width;\n}\nexports.getTextWidth = getTextWidth;\nfunction assembleFont(attrs) {\n    var fontSize = attrs.fontSize, fontFamily = attrs.fontFamily, fontWeight = attrs.fontWeight, fontStyle = attrs.fontStyle, fontVariant = attrs.fontVariant;\n    return [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ').trim();\n}\nexports.assembleFont = assembleFont;\n//# sourceMappingURL=text.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @fileoverview 事件处理器\n * @author dxq613@gmail.com\n */\nvar graph_event_1 = require(\"./graph-event\");\nvar util_1 = require(\"../util/util\");\nvar TIME_INTERVAL = 120; // 判断拖拽和点击\nvar CLICK_OFFSET = 40;\nvar LEFT_BTN_CODE = 0;\nvar DELEGATION_SPLIT = ':';\nvar WILDCARD = '*';\nvar EVENTS = [\n    'mousedown',\n    'mouseup',\n    'dblclick',\n    'mouseout',\n    'mouseover',\n    'mousemove',\n    'mouseleave',\n    'mouseenter',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'dragenter',\n    'dragover',\n    'dragleave',\n    'drop',\n    'contextmenu',\n    'mousewheel',\n];\n// 是否元素的父容器\nfunction isParent(container, shape) {\n    // 所有 shape 都是 canvas 的子元素\n    if (container.isCanvas()) {\n        return true;\n    }\n    var parent = shape.getParent();\n    var isParent = false;\n    while (parent) {\n        if (parent === container) {\n            isParent = true;\n            break;\n        }\n        parent = parent.getParent();\n    }\n    return isParent;\n}\n// 触摸事件的 clientX，clientY 获取有一定差异\nfunction getClientPoint(event) {\n    var clientInfo = event;\n    if (event.touches) {\n        if (event.type === 'touchend') {\n            clientInfo = event.changedTouches[0];\n        }\n        else {\n            clientInfo = event.touches[0];\n        }\n    }\n    return {\n        clientX: clientInfo.clientX,\n        clientY: clientInfo.clientY,\n    };\n}\n// 是否有委托事件监听\nfunction hasDelegation(events, type) {\n    for (var key in events) {\n        if (events.hasOwnProperty(key) && key.indexOf(DELEGATION_SPLIT + type) >= 0) {\n            return true;\n        }\n    }\n    return false;\n}\n// 触发目标事件，目标只能是 shape 或 canvas\nfunction emitTargetEvent(target, type, eventObj) {\n    eventObj.name = type;\n    eventObj.target = target;\n    eventObj.currentTarget = target;\n    eventObj.delegateTarget = target;\n    target.emit(type, eventObj);\n}\n// 事件冒泡, enter 和 leave 需要对 fromShape 和 toShape 进行判同\nfunction bubbleEvent(container, type, eventObj) {\n    if (eventObj.bubbles) {\n        var relativeShape = void 0;\n        var isOverEvent = false;\n        if (type === 'mouseenter' || type === 'dragenter') {\n            relativeShape = eventObj.fromShape;\n            isOverEvent = true;\n        }\n        else if (type === 'mouseleave' || type === 'dragleave') {\n            isOverEvent = true;\n            relativeShape = eventObj.toShape;\n        }\n        // canvas 上的 mouseenter， mouseleave 事件，仅当进入或者移出 canvas 时触发\n        if (container.isCanvas() && isOverEvent) {\n            return;\n        }\n        // 如果相关图形同当前图形在同一个容器内，不触发事件\n        if (relativeShape && isParent(container, relativeShape)) {\n            // 阻止继续向上冒泡\n            eventObj.bubbles = false;\n            return;\n        }\n        // 事件名称可能在委托过程中被修改，因此事件冒泡时需要重新设置事件名称\n        eventObj.name = type;\n        eventObj.currentTarget = container;\n        eventObj.delegateTarget = container;\n        container.emit(type, eventObj);\n    }\n}\nvar EventController = /** @class */ (function () {\n    function EventController(cfg) {\n        var _this = this;\n        // 正在被拖拽的图形\n        this.draggingShape = null;\n        this.dragging = false;\n        // 当前鼠标/touch所在位置的图形\n        this.currentShape = null;\n        this.mousedownShape = null;\n        this.mousedownPoint = null;\n        // 统一处理所有的回调\n        this._eventCallback = function (ev) {\n            var type = ev.type;\n            _this._triggerEvent(type, ev);\n        };\n        // 在 document 处理拖拽到画布外的事件，处理从图形上移除画布未被捕捉的问题\n        this._onDocumentMove = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                // 不在 canvas 上移动\n                if (_this.dragging || _this.currentShape) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    // 还在拖拽过程中\n                    if (_this.dragging) {\n                        _this._emitEvent('drag', ev, pointInfo, _this.draggingShape);\n                    }\n                    // 说明从某个图形直接移动到了画布外面，\n                    // 修复了 mouseleave 的 bug 后不再出现这种情况\n                    // if (this.currentShape) {\n                    //   this._emitEvent('mouseleave', ev, pointInfo, this.currentShape, this.currentShape, null);\n                    //   this.currentShape = null;\n                    // }\n                }\n            }\n        };\n        // 在 document 上处理拖拽到外面，释放鼠标时触发 dragend\n        this._onDocumentMouseUp = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                // 不在 canvas 上移动\n                if (_this.dragging) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    if (_this.draggingShape) {\n                        // 如果存在拖拽的图形，则也触发 drop 事件\n                        _this._emitEvent('drop', ev, pointInfo, null);\n                    }\n                    _this._emitEvent('dragend', ev, pointInfo, _this.draggingShape);\n                    _this._afterDrag(_this.draggingShape, pointInfo, ev);\n                }\n            }\n        };\n        this.canvas = cfg.canvas;\n    }\n    EventController.prototype.init = function () {\n        this._bindEvents();\n    };\n    // 注册事件\n    EventController.prototype._bindEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        util_1.each(EVENTS, function (eventName) {\n            el.addEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            // 处理移动到外面没有触发 shape mouse leave 的事件\n            // 处理拖拽到外部的问题\n            document.addEventListener('mousemove', this._onDocumentMove);\n            // 处理拖拽过程中在外部释放鼠标的问题\n            document.addEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    // 清理事件\n    EventController.prototype._clearEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        util_1.each(EVENTS, function (eventName) {\n            el.removeEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            document.removeEventListener('mousemove', this._onDocumentMove);\n            document.removeEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    EventController.prototype._getEventObj = function (type, event, point, target, fromShape, toShape) {\n        var eventObj = new graph_event_1.default(type, event);\n        eventObj.fromShape = fromShape;\n        eventObj.toShape = toShape;\n        eventObj.x = point.x;\n        eventObj.y = point.y;\n        eventObj.clientX = point.clientX;\n        eventObj.clientY = point.clientY;\n        eventObj.propagationPath.push(target);\n        // 事件的x,y应该是基于画布左上角的，与canvas的matrix无关\n        return eventObj;\n    };\n    // 根据点获取图形，提取成独立方法，便于后续优化\n    EventController.prototype._getShape = function (point, ev) {\n        return this.canvas.getShape(point.x, point.y, ev);\n    };\n    // 获取事件的当前点的信息\n    EventController.prototype._getPointInfo = function (ev) {\n        var canvas = this.canvas;\n        var clientPoint = getClientPoint(ev);\n        var point = canvas.getPointByClient(clientPoint.clientX, clientPoint.clientY);\n        return {\n            x: point.x,\n            y: point.y,\n            clientX: clientPoint.clientX,\n            clientY: clientPoint.clientY,\n        };\n    };\n    // 触发事件\n    EventController.prototype._triggerEvent = function (type, ev) {\n        var pointInfo = this._getPointInfo(ev);\n        // 每次都获取图形有一定成本，后期可以考虑进行缓存策略\n        var shape = this._getShape(pointInfo, ev);\n        var method = this[\"_on\" + type];\n        var leaveCanvas = false;\n        if (method) {\n            method.call(this, pointInfo, shape, ev);\n        }\n        else {\n            var preShape = this.currentShape;\n            // 如果进入、移出画布时存在图形，则要分别出发事件\n            if (type === 'mouseenter' || type === 'dragenter' || type === 'mouseover') {\n                this._emitEvent(type, ev, pointInfo, null, null, shape); // 先进入画布\n                if (shape) {\n                    this._emitEvent(type, ev, pointInfo, shape, null, shape); // 再触发图形的事件\n                }\n                if (type === 'mouseenter' && this.draggingShape) {\n                    // 如果正在拖拽图形, 则触发 dragleave\n                    this._emitEvent('dragenter', ev, pointInfo, null);\n                }\n            }\n            else if (type === 'mouseleave' || type === 'dragleave' || type === 'mouseout') {\n                leaveCanvas = true;\n                if (preShape) {\n                    this._emitEvent(type, ev, pointInfo, preShape, preShape, null); // 先触发图形的事件\n                }\n                this._emitEvent(type, ev, pointInfo, null, preShape, null); // 再触发离开画布事件\n                if (type === 'mouseleave' && this.draggingShape) {\n                    this._emitEvent('dragleave', ev, pointInfo, null);\n                }\n            }\n            else {\n                this._emitEvent(type, ev, pointInfo, shape, null, null); // 一般事件中不需要考虑 from, to\n            }\n        }\n        if (!leaveCanvas) {\n            this.currentShape = shape;\n        }\n        // 当鼠标从画布移动到 shape 或者从 preShape 移动到 shape 时，应用 shape 上的鼠标样式\n        if (shape && !shape.get('destroyed')) {\n            var canvas = this.canvas;\n            var el = canvas.get('el');\n            el.style.cursor = shape.attr('cursor') || canvas.get('cursor');\n        }\n    };\n    // 记录下点击的位置、图形，便于拖拽事件、click 事件的判定\n    EventController.prototype._onmousedown = function (pointInfo, shape, event) {\n        // 只有鼠标左键的 mousedown 事件才会设置 mousedownShape 等属性，避免鼠标右键的 mousedown 事件引起其他事件发生\n        if (event.button === LEFT_BTN_CODE) {\n            this.mousedownShape = shape;\n            this.mousedownPoint = pointInfo;\n            this.mousedownTimeStamp = event.timeStamp;\n        }\n        this._emitEvent('mousedown', event, pointInfo, shape, null, null); // mousedown 不考虑fromShape, toShape\n    };\n    // mouseleave 和 mouseenter 都是成对存在的\n    // mouseenter 和 mouseover 同时触发\n    EventController.prototype._emitMouseoverEvents = function (event, pointInfo, fromShape, toShape) {\n        var el = this.canvas.get('el');\n        if (fromShape !== toShape) {\n            if (fromShape) {\n                this._emitEvent('mouseout', event, pointInfo, fromShape, fromShape, toShape);\n                this._emitEvent('mouseleave', event, pointInfo, fromShape, fromShape, toShape);\n                // 当鼠标从 fromShape 移动到画布上时，重置鼠标样式\n                if (!toShape || toShape.get('destroyed')) {\n                    el.style.cursor = this.canvas.get('cursor');\n                }\n            }\n            if (toShape) {\n                this._emitEvent('mouseover', event, pointInfo, toShape, fromShape, toShape);\n                this._emitEvent('mouseenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n        }\n    };\n    // dragover 不等同于 mouseover，而等同于 mousemove\n    EventController.prototype._emitDragoverEvents = function (event, pointInfo, fromShape, toShape, isCanvasEmit) {\n        if (toShape) {\n            if (toShape !== fromShape) {\n                if (fromShape) {\n                    this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n                }\n                this._emitEvent('dragenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n            if (!isCanvasEmit) {\n                this._emitEvent('dragover', event, pointInfo, toShape);\n            }\n        }\n        else if (fromShape) {\n            // 经过空白区域\n            this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n        }\n        if (isCanvasEmit) {\n            this._emitEvent('dragover', event, pointInfo, toShape);\n        }\n    };\n    // drag 完成后，需要做一些清理工作\n    EventController.prototype._afterDrag = function (draggingShape, pointInfo, event) {\n        if (draggingShape) {\n            draggingShape.set('capture', true); // 恢复可以拾取\n            this.draggingShape = null;\n        }\n        this.dragging = false;\n        // drag 完成后，有可能 draggingShape 已经移动到了当前位置，所以不能直接取当前图形\n        var shape = this._getShape(pointInfo, event);\n        // 拖拽完成后，进行 enter，leave 的判定\n        if (shape !== draggingShape) {\n            this._emitMouseoverEvents(event, pointInfo, draggingShape, shape);\n        }\n        this.currentShape = shape; // 更新当前 shape，如果不处理当前图形的 mouseleave 事件可能会出问题\n    };\n    // 按键抬起时，会终止拖拽、触发点击\n    EventController.prototype._onmouseup = function (pointInfo, shape, event) {\n        // eevent.button === 0 表示鼠标左键事件，此处加上判断主要是为了避免右键鼠标会触发 mouseup 和 click 事件\n        // ref: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n        if (event.button === LEFT_BTN_CODE) {\n            var draggingShape = this.draggingShape;\n            if (this.dragging) {\n                // 存在可以拖拽的图形，同时拖拽到其他图形上时触发 drag 事件\n                if (draggingShape) {\n                    this._emitEvent('drop', event, pointInfo, shape);\n                }\n                this._emitEvent('dragend', event, pointInfo, draggingShape);\n                this._afterDrag(draggingShape, pointInfo, event);\n            }\n            else {\n                this._emitEvent('mouseup', event, pointInfo, shape); // 先触发 mouseup 再触发 click\n                if (shape === this.mousedownShape) {\n                    this._emitEvent('click', event, pointInfo, shape);\n                }\n                this.mousedownShape = null;\n                this.mousedownPoint = null;\n            }\n        }\n    };\n    // 当触发浏览器的 dragover 事件时，不会再触发mousemove ，所以这时候的 dragenter, dragleave 事件需要重新处理\n    EventController.prototype._ondragover = function (pointInfo, shape, event) {\n        event.preventDefault(); // 如果不对 dragover 进行 preventDefault，则不会在 canvas 上触发 drop 事件\n        var preShape = this.currentShape;\n        this._emitDragoverEvents(event, pointInfo, preShape, shape, true);\n    };\n    // 大量的图形事件，都通过 mousemove 模拟\n    EventController.prototype._onmousemove = function (pointInfo, shape, event) {\n        var canvas = this.canvas;\n        var preShape = this.currentShape;\n        var draggingShape = this.draggingShape;\n        // 正在拖拽时\n        if (this.dragging) {\n            // 正在拖拽中\n            if (draggingShape) {\n                // 如果拖拽了 shape 会触发 dragenter, dragleave, dragover 和 drag 事件\n                this._emitDragoverEvents(event, pointInfo, preShape, shape, false);\n            }\n            // 如果存在 draggingShape 则会在 draggingShape 上触发 drag 事件，冒泡到 canvas 上\n            // 否则在 canvas 上触发 drag 事件\n            this._emitEvent('drag', event, pointInfo, draggingShape);\n        }\n        else {\n            var mousedownPoint = this.mousedownPoint;\n            if (mousedownPoint) {\n                // 当鼠标点击下去，同时移动时，进行 drag 判定\n                var mousedownShape = this.mousedownShape;\n                var now = event.timeStamp;\n                var timeWindow = now - this.mousedownTimeStamp;\n                var dx = mousedownPoint.clientX - pointInfo.clientX;\n                var dy = mousedownPoint.clientY - pointInfo.clientY;\n                var dist = dx * dx + dy * dy;\n                if (timeWindow > 120 || dist > CLICK_OFFSET) {\n                    if (mousedownShape && mousedownShape.get('draggable')) {\n                        // 设置了 draggable 的 shape 才能触发 drag 相关的事件\n                        draggingShape = this.mousedownShape; // 拖动鼠标点下时的 shape\n                        draggingShape.set('capture', false); // 禁止继续拾取，否则无法进行 dragover,dragenter,dragleave,drop的判定\n                        this.draggingShape = draggingShape;\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, draggingShape);\n                        // 清理按下鼠标时缓存的值\n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else if (!mousedownShape && canvas.get('draggable')) {\n                        // 设置了 draggable 的 canvas 才能触发 drag 相关的事件\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, null);\n                        // 清理按下鼠标时缓存的值\n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else {\n                        this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                        this._emitEvent('mousemove', event, pointInfo, shape);\n                    }\n                }\n                else {\n                    this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                    this._emitEvent('mousemove', event, pointInfo, shape);\n                }\n            }\n            else {\n                // 没有按键按下时，则直接触发 mouse over 相关的各种事件\n                this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                // 始终触发移动\n                this._emitEvent('mousemove', event, pointInfo, shape);\n            }\n        }\n    };\n    // 触发事件\n    EventController.prototype._emitEvent = function (type, event, pointInfo, shape, fromShape, toShape) {\n        var eventObj = this._getEventObj(type, event, pointInfo, shape, fromShape, toShape);\n        // 存在 shape 触发，则进行冒泡处理\n        if (shape) {\n            eventObj.shape = shape;\n            // 触发 shape 上的事件\n            emitTargetEvent(shape, type, eventObj);\n            var parent_1 = shape.getParent();\n            // 执行冒泡\n            while (parent_1) {\n                // 委托事件要先触发\n                parent_1.emitDelegation(type, eventObj);\n                // 事件冒泡停止，不能妨碍委托事件\n                if (!eventObj.propagationStopped) {\n                    bubbleEvent(parent_1, type, eventObj);\n                }\n                eventObj.propagationPath.push(parent_1);\n                parent_1 = parent_1.getParent();\n            }\n        }\n        else {\n            // 如果没有 shape 直接在 canvas 上触发\n            var canvas = this.canvas;\n            // 直接触发 canvas 上的事件\n            emitTargetEvent(canvas, type, eventObj);\n        }\n    };\n    EventController.prototype.destroy = function () {\n        // 清理事件\n        this._clearEvents();\n        // 清理缓存的对象\n        this.canvas = null;\n        this.currentShape = null;\n        this.draggingShape = null;\n        this.mousedownPoint = null;\n        this.mousedownShape = null;\n        this.mousedownTimeStamp = null;\n    };\n    return EventController;\n}());\nexports.default = EventController;\n//# sourceMappingURL=event-contoller.js.map","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n    }\n    return BrowserInfo;\n}());\nexports.BrowserInfo = BrowserInfo;\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexports.NodeInfo = NodeInfo;\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexports.BotInfo = BotInfo;\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['vivaldi', /Vivaldi\\/([0-9\\.]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /Edg\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n    ['Search Bot', SEARCHBOT_OS_REGEX],\n];\nfunction detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nexports.detect = detect;\nfunction parseUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    var matchedRule = ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    return new BrowserInfo(name, versionParts.join('.'), detectOS(ua));\n}\nexports.parseUserAgent = parseUserAgent;\nfunction detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.test(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexports.detectOS = detectOS;\nfunction getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nexports.getNodeVersion = getNodeVersion;\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","// http://schepers.cc/getting-to-the-point\nexport default function catmullRom2Bezier(crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [{\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            }, {\n                x: +crp[i],\n                y: +crp[i + 1],\n            }, {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            }, {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            }];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push(['C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n}\n//# sourceMappingURL=catmull-rom-2-bezier.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig');\n// Parses given path string into an array of arrays of path segments\nfunction parsePathString(pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (is_array_1.default(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return '';\n    });\n    return data;\n}\nexports.default = parsePathString;\n//# sourceMappingURL=parse-path-string.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\n/**\n * Common utilities\n * @module glMatrix\n */\n\n// Configuration Constants\nvar EPSILON = exports.EPSILON = 0.000001;\nvar ARRAY_TYPE = exports.ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = exports.RANDOM = Math.random;\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\nfunction toRadian(a) {\n  return a * degree;\n}\n\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// 合并包围盒\nfunction mergeBBox(bbox1, bbox2) {\n    if (!bbox1 || !bbox2) {\n        return bbox1 || bbox2;\n    }\n    return {\n        minX: Math.min(bbox1.minX, bbox2.minX),\n        minY: Math.min(bbox1.minY, bbox2.minY),\n        maxX: Math.max(bbox1.maxX, bbox2.maxX),\n        maxY: Math.max(bbox1.maxY, bbox2.maxY),\n    };\n}\nexports.mergeBBox = mergeBBox;\n// 合并箭头的包围盒\nfunction mergeArrowBBox(shape, bbox) {\n    var startArrowShape = shape.get('startArrowShape');\n    var endArrowShape = shape.get('endArrowShape');\n    var startArrowBBox = null;\n    var endArrowBBox = null;\n    if (startArrowShape) {\n        startArrowBBox = startArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, startArrowBBox);\n    }\n    if (endArrowShape) {\n        endArrowBBox = endArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, endArrowBBox);\n    }\n    return bbox;\n}\nexports.mergeArrowBBox = mergeArrowBBox;\n//# sourceMappingURL=util.js.map","import { assign, each, wrapBehavior } from '@antv/util';\nimport { View, ICanvas } from '../dependents';\n\ninterface InteractionCfg {\n  view: View;\n  startEvent?: string;\n  processEvent?: string;\n  endEvent?: string;\n  resetEvent?: string;\n}\n\nexport interface InteractionConstructor {\n  new (cfg: any): Interaction;\n}\n\nconst EVENT_TYPES = ['start', 'process', 'end', 'reset'];\n\nexport default class Interaction {\n  view: View;\n  protected canvas: ICanvas;\n  startEvent: string;\n  processEvent: string;\n  endEvent: string;\n  resetEvent: string;\n  private _eventHandlers: any[];\n  constructor(cfg: InteractionCfg) {\n    const defaultCfg = this._getDefaultCfg();\n    assign(this, defaultCfg, cfg);\n    this.canvas = this.view.canvas;\n    this._eventHandlers = [];\n    this._bindEvents();\n  }\n\n  private _getDefaultCfg() {\n    return {\n      startEvent: 'mousedown',\n      processEvent: 'mousemove',\n      endEvent: 'mouseup',\n      resetEvent: 'dblclick',\n    };\n  }\n\n  private _start(ev) {\n    this.preStart(ev);\n    this.start(ev);\n    this.afterStart(ev);\n  }\n\n  preStart(ev) {}\n\n  start(ev) {}\n\n  afterStart(ev) {}\n\n  private _process(ev) {\n    this.preProcess(ev);\n    this.process(ev);\n    this.afterProcess(ev);\n  }\n\n  preProcess(ev) {}\n\n  process(ev) {}\n\n  afterProcess(ev) {}\n\n  private _end(ev) {\n    this.preEnd(ev);\n    this.end(ev);\n    this.afterEnd(ev);\n  }\n\n  preEnd(ev) {}\n\n  end(ev) {}\n\n  afterEnd(ev) {}\n\n  private _reset(ev?: any) {\n    this.preReset(ev);\n    this.reset(ev);\n    this.afterReset(ev);\n  }\n\n  preReset(ev?: any) {}\n\n  reset(ev?: any) {}\n\n  afterReset(ev?: any) {}\n\n  private _bindEvents() {\n    each(EVENT_TYPES, (type) => {\n      const eventName = this[`${type}Event`];\n      const handler = wrapBehavior(this, `_${type}`);\n      this.view.on(eventName, handler);\n      this._eventHandlers.push({ type: eventName, handler });\n    });\n  }\n\n  private _unbindEvents() {\n    const eventHandlers = this._eventHandlers;\n    each(eventHandlers, (eh) => {\n      this.view.off(eh.type, eh.handler);\n    });\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._reset();\n  }\n}\n","/**\n * @description path 计算、转换的辅助工具\n */\n\nimport * as matrixUtil from '@antv/matrix-util';\nimport { each } from '@antv/util';\nconst vector2 = matrixUtil.vec2;\n\ninterface PointObject {\n  x: number;\n  y: number;\n}\n\ntype PointArray = [number, number];\n\nfunction _points2path(points: PointObject[], isInCircle: boolean): any[] {\n  const path = [];\n  if (points.length) {\n    for (let i = 0, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      const command = i === 0 ? 'M' : 'L';\n      path.push([command, item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _getPointRadius(coord, point: PointObject): number {\n  const center = coord.getCenter();\n  const r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n  return r;\n}\n\nfunction _convertArr(arr: number[], coord): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convertPoint({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\n\nfunction _convertPolarPath(pre: any[], cur: any[], coord): any[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n\n  const prePoint = {\n    x: pre[1],\n    y: pre[2],\n  };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n  const flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n  const convertPoint = coord.convertPoint(curPoint);\n  const r = _getPointRadius(coord, convertPoint);\n  if (r >= 0.5) {\n    // 小于1像素的圆在图像上无法识别\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convertPoint(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\nfunction _filterFullCirleLine(path: any[]): void {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\nexport const smoothBezier = (\n  points: PointArray[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: PointArray[]\n): PointArray[] => {\n  const cps = [];\n\n  let prevPoint: PointArray;\n  let nextPoint: PointArray;\n  const hasConstraint = !!constraint;\n  let min: PointArray;\n  let max: PointArray;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vector2.min([], min, point);\n      max = vector2.max([], max, point);\n    }\n    min = vector2.min([], min, constraint[0]);\n    max = vector2.max([], max, constraint[1]);\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v = [];\n    v = vector2.sub(v, nextPoint, prevPoint);\n    v = vector2.scale(v, v, smooth);\n\n    let d0 = vector2.distance(point, prevPoint);\n    let d1 = vector2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vector2.scale([], v, -d0);\n    const v2 = vector2.scale([], v, d1);\n\n    let cp0 = vector2.add([], point, v1);\n    let cp1 = vector2.add([], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vector2.max([], cp0, min);\n      cp0 = vector2.min([], cp0, max);\n      cp1 = vector2.max([], cp1, min);\n      cp1 = vector2.min([], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n// 贝塞尔曲线\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: PointArray[]): any[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: PointArray;\n  let cp2: PointArray;\n  let p: PointArray;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n// 将点连接成路径 path\nexport function getLinePath(points: PointObject[], isInCircle: boolean): any[] {\n  return _points2path(points, isInCircle);\n}\n\n// get spline： 限定了范围的平滑线\nexport function getSplinePath(points: PointObject[], isInCircle: boolean, constaint: any): any[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points, isInCircle);\n  }\n  each(points, (point) => {\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  });\n  const constraint = constaint || [\n    // 范围\n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n// 获取点到圆心的距离\nexport function getPointRadius(coord, point: PointObject): number {\n  return _getPointRadius(coord, point);\n}\n\n// 获取点到圆心的夹角\nexport function getPointAngle(coord, point: PointObject): number {\n  const center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\nexport function convertNormalPath(coord, path: any[]): any[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\nexport function convertPolarPath(coord, path: any[]): any[] {\n  let tmp = [];\n  let pre: any[];\n  let cur: any[];\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // 是否半径相同，转换成圆弧\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y 不相等，所以直接转换\n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // 过滤多余的直线\n  return tmp;\n}\n","import { LooseObject } from '../../dependents';\nimport { isFunction, has, isString } from '@antv/util';\nimport ElementParser from '../base';\n\nexport default class LineParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      connectNulls: props.connectNulls,\n    };\n    if (props.lineSize) {\n      this.parseSize();\n    }\n    if (props.smooth) {\n      this.config.shape = { values: ['smooth'] };\n    }\n    if (props.step) {\n      this.config.shape = { values: [props.step] };\n    }\n    if (props.seriesField || props.color) {\n      this.parseColor();\n    }\n    if (props.lineStyle) {\n      this.parseStyle();\n    }\n  }\n\n  public parseSize() {\n    const sizeProps = this.plot.options.lineSize;\n    const config: LooseObject = {};\n    if (isFunction(sizeProps)) {\n      config.callback = sizeProps;\n    } else {\n      config.values = [sizeProps];\n    }\n    this.config.size = config;\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    if (props.seriesField) {\n      config.fields = [props.seriesField];\n    }\n    if (has(props, 'color')) {\n      const color = props.color;\n      if (isString(color)) {\n        config.values = [color];\n      } else if (isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color as [];\n      }\n    }\n\n    this.config.color = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.lineStyle;\n    const config = {\n      fields: null,\n      callback: null,\n      cfg: null,\n    };\n    if (isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n}\n","/** 可插拔的responsive模块 */\nimport { IShape, BBox } from '@antv/g-base';\nimport { assign } from '@antv/util';\nimport { constraintsLib } from './constraints/index';\nimport ShapeNodes, { IShapeNode } from './node/shape-nodes';\nimport VariableNodes from './node/variable-node';\nimport { rulesLib } from './rules/index';\nimport { LooseMap } from '../../interface/types';\n\ninterface IConstraint {\n  name: string;\n  option?: any;\n}\n\ninterface IRule {\n  name: string;\n  method?: (...args: any[]) => any;\n  option?: any;\n}\n\ninterface ResponsiveCfg {\n  plot: any;\n  region?: any;\n  nodes: ShapeNodes | VariableNodes;\n  constraints: IConstraint[];\n  rules?: any;\n  iterationTime?: number;\n  onStart?: (...args: any[]) => any;\n  onIteration?: (...args: any[]) => any;\n  onEnd?: (...args: any[]) => any;\n  cfg?: LooseMap;\n}\n\nexport default class Responsive {\n  public plot: any;\n  public region: BBox;\n  public nodes: ShapeNodes | VariableNodes;\n  public constraints: any[];\n  public rules: any[];\n  public iterationTime: number = 10;\n  public iterationIndex: number = 0;\n  public rulesLocker: any[] = [];\n  public currentConstraint: IConstraint;\n  public constraintIndex: number = 0;\n  public onStart: (nodes: ShapeNodes | VariableNodes) => void;\n  public onIteration: (nodes: ShapeNodes | VariableNodes) => void;\n  public onEnd: (nodes: ShapeNodes | VariableNodes) => void;\n\n  constructor(cfg: ResponsiveCfg) {\n    assign(this, cfg);\n    this.currentConstraint = this.constraints[0];\n    if (this.rules) {\n      this.iterationTime = this.rules[this.currentConstraint.name].length;\n    }\n    this._start();\n    this._run();\n    this._end();\n  }\n\n  private _start() {\n    if (this.onStart) {\n      this.onStart(this.nodes);\n    }\n  }\n\n  private _iteration() {\n    let nodes;\n    if (this.nodes.type === 'shape') {\n      nodes = this.nodes as ShapeNodes;\n    } else {\n      nodes = this.nodes as VariableNodes;\n    }\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n    if (this.rules) {\n      this._applyRules();\n    }\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n    if (this.onIteration) {\n      this.onIteration(this.nodes);\n    }\n  }\n\n  private _end() {\n    if (this.onEnd) {\n      this.onEnd(this.nodes);\n    }\n  }\n\n  private _run() {\n    let constraintPassed = this._constraintsTest();\n    while (!constraintPassed) {\n      if (this.iterationIndex > this.iterationTime - 1) {\n        break;\n      }\n      this._iteration();\n      constraintPassed = this._constraintsTest();\n      this.iterationIndex++;\n    }\n    if (this.constraintIndex < this.constraints.length - 1) {\n      this.constraintIndex++;\n      this.currentConstraint = this.constraints[this.constraintIndex];\n      this.iterationTime = this.rules ? this.rules[this.currentConstraint.name].length : 1;\n      this.iterationIndex = 0;\n      this._run();\n    }\n  }\n\n  private _constraintsTest(): boolean {\n    const constraint = constraintsLib[this.currentConstraint.name];\n    const constraintOption = this.currentConstraint.option;\n    if (constraint.usage === 'compare') {\n      return this._constraintCompare(constraint, constraintOption);\n    }\n    return this._constraintAssignment(constraint, constraintOption);\n  }\n\n  private _constraintCompare(constraint, option) {\n    const { type, expression } = constraint;\n    const nodes = this.nodes.nodes;\n    if (type === 'chain') {\n      return this._chainConstraintCompare(expression, nodes, option);\n    }\n    if (type === 'padding') {\n      return this._paddingConstraintCompare(expression, this.region, nodes, option);\n    }\n    if (type === 'group') {\n      return this._groupConstraintCompare(expression, nodes, option);\n    }\n  }\n\n  private _chainConstraintCompare(expression, nodes, option) {\n    for (let i = 0; i < nodes.length - 1; i++) {\n      const a = nodes[i];\n      const b = nodes[i + 1];\n      if (expression(a, b, option) === false) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private _paddingConstraintCompare(expression, region, nodes, option) {\n    if (region) {\n      for (const node of nodes) {\n        if (expression(node, region, option) === false) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  private _groupConstraintCompare(expression, nodes, option) {\n    for (let i = 0; i < nodes.length; i++) {\n      const a = nodes[i];\n      for (let j = 0; j < nodes.length; j++) {\n        if (j !== i) {\n          const b = nodes[j];\n          if (expression(a, b, option) === false) {\n            return false;\n          }\n        }\n      }\n    }\n    return true;\n  }\n\n  private _constraintAssignment(constraint, option) {\n    const { type, expression } = constraint;\n    const nodes = this.nodes.nodes;\n    if (type === 'chain') {\n      return this._chainConstraintAssign(expression, nodes, option);\n    }\n    if (type === 'padding') {\n      return this._paddingConstraintAssign(expression, this.region, nodes, option);\n    }\n  }\n\n  private _chainConstraintAssign(expression, nodes, option) {\n    return true;\n  }\n\n  private _paddingConstraintAssign(expression, region, nodes, option) {\n    if (region) {\n      for (const node of nodes) {\n        const value = expression(node, region, option);\n        node.value = value;\n      }\n    }\n    return true;\n  }\n\n  private _applyRules() {\n    const ruleCfg = this.rules[this.currentConstraint.name][this.iterationIndex];\n    // if (this.rulesLocker.indexOf(ruleCfg) < 0) {\n    const rule = rulesLib[ruleCfg.name];\n    const option = ruleCfg.option ? ruleCfg.option : {};\n    const nodes = this.nodes.nodes as IShapeNode[];\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      /** apply rule上下文 */\n      this._applyRule(node.shape, rule, option, i);\n    }\n    // this.rulesLocker.push(ruleCfg);\n    // }\n  }\n\n  private _applyRule(shape: IShape, rule, option, index) {\n    const cfg = {\n      nodes: this.nodes,\n      region: this.region,\n      plot: this.plot,\n    };\n    // rule(shape, option, index, this);\n    rule(shape, option, index, cfg);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption, Label } from '../../interface/config';\nimport BaseBarLayer, { BarViewConfig } from '../bar/layer';\nimport StackBarLabel from './component/label';\n\nexport interface StackedBarViewConfig extends BarViewConfig {\n  stackField: string;\n}\n\nexport interface StackedBarLayerConfig extends StackedBarViewConfig, LayerConfig {}\n\nexport default class StackedBarLayer<T extends StackedBarLayerConfig = StackedBarLayerConfig> extends BaseBarLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        autoRotateTitle: false,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n          autoRotate: true,\n          autoHide: true,\n        },\n        title: {\n          visible: true,\n          offset: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoRotateTitle: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoRotate: true,\n          autoHide: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        offsetY: 0,\n      },\n    });\n  }\n\n  public type: string = 'stackedBar';\n\n  protected adjustBar(bar: ElementOption) {\n    bar.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { yField } = this.options;\n    const scale = scales[yField];\n    if (this.options.label && this.options.label.visible) {\n      const label = new StackBarLabel({\n        view: this.view,\n        plot: this,\n        formatter: scale.formatter,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n}\n\nregisterPlotType('stackedBar', StackedBarLayer);\n","import { groupBy, mapValues, map, flatten, isNumber, reduce, each } from '@antv/util';\nimport { DataItem } from '../interface/config';\n\nexport const transformDataPercentage = (data: DataItem[], groupField: string, measures: string[]): DataItem[] => {\n  // 按照groupBy字段计算各个group的总和\n  let chain = groupBy(data, groupField);\n  chain = mapValues(chain, (items) => map(items, (item) => map(measures, (field) => item[field])));\n  chain = mapValues(chain, flatten);\n  chain = mapValues(chain, (vals) =>\n    map(vals, (val) => {\n      // @ts-ignore\n      const v = Number.parseFloat(val);\n      if (!isNumber(v) || isNaN(v)) {\n        return 0;\n      }\n      return v;\n    })\n  );\n  // @ts-ignore\n  const groupTotals = mapValues(chain, (vals: number[]) => reduce(vals, (sum, val) => sum + val, 0));\n\n  // 覆盖measures字段的值为对于的百分比\n  const newData = map(data, (item) => {\n    const rst = { ...item, _origin: item, total: groupTotals[item[groupField]] };\n    each(measures, (field) => {\n      // @ts-ignore\n      rst[field] = item[field] / groupTotals[item[groupField]];\n    });\n    return rst;\n  });\n\n  // 检查精度，确保总和为1\n  each(groupBy(newData, groupField), (items: DataItem[]) => {\n    let sum = 0;\n    each(items, (item: DataItem, itemIdx: number) => {\n      each(measures, (field: string, fieldIdx: number) => {\n        // @ts-ignore\n        if (sum + item[field] >= 1 || (itemIdx === items.length - 1 && fieldIdx === measures.length - 1)) {\n          item[field] = 1 - sum;\n        }\n        // @ts-ignore\n        sum += item[field];\n      });\n    });\n  });\n\n  // @ts-ignore\n  return newData;\n};\n","import { Data } from '../../dependents';\nimport { deepMix, has, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, ICatAxis, ITimeAxis, IValueAxis, Label } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport * as EventParser from './event';\nimport './theme';\nimport { PointStyle, LineStyle } from '../line/layer';\n\ninterface AreaStyle {\n  opacity?: number;\n  lineDash?: number[];\n  strokeStyle?: string;\n  lineWidth?: number;\n  stroke?: string;\n}\n\nconst GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point',\n};\n\nexport interface AreaViewConfig extends ViewConfig {\n  areaStyle?: AreaStyle | ((...args: any) => AreaStyle);\n  seriesField?: string;\n  xAxis?: ICatAxis | ITimeAxis;\n  yAxis?: IValueAxis;\n  line?: {\n    visible?: boolean;\n    color?: string;\n    size?: number;\n    style?: LineStyle;\n  };\n  point?: {\n    visible?: boolean;\n    color?: string;\n    size?: number;\n    shape?: string;\n    style?: PointStyle;\n  };\n  smooth?: boolean;\n}\n\nexport interface AreaLayerConfig extends AreaViewConfig, LayerConfig {}\n\nexport default class AreaLayer<T extends AreaLayerConfig = AreaLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      smooth: false,\n      areaStyle: {\n        opacity: 0.25,\n      },\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1,\n          lineJoin: 'round',\n          lineCap: 'round',\n        },\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point',\n      },\n      label: {\n        visible: false,\n        type: 'point',\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4,\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: true,\n        crosshairs: {\n          type: 'x',\n        },\n        offset: 20,\n      },\n    });\n  }\n\n  public line: any;\n  public point: any;\n  public area: any;\n  public type: string = 'area';\n\n  public beforeInit() {\n    super.beforeInit();\n    /** 响应式图形 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    /** 响应式 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    return GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.xField] = {\n      type: 'cat',\n    };\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n    scales[props.yField] = {};\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected addGeometry() {\n    const props = this.options;\n    const area = getGeom('area', 'main', {\n      plot: this,\n    });\n    this.area = area;\n\n    if (props.label) {\n      this.label();\n    }\n    this.adjustArea(area);\n    this.setConfig('geometry', area);\n\n    this.addLine();\n\n    this.addPoint();\n  }\n\n  protected adjustArea(area: ElementOption) {\n    return;\n  }\n\n  protected adjustLine(line: ElementOption) {\n    return;\n  }\n\n  protected adjustPoint(point: ElementOption) {\n    return;\n  }\n\n  protected addLine() {\n    const props = this.options;\n    const lineConfig = deepMix({}, props.line);\n    if (lineConfig.visible) {\n      const line = getGeom('line', 'guide', {\n        type: 'line',\n        plot: this,\n        line: lineConfig,\n      });\n      this.adjustLine(line);\n      this.setConfig('geometry', line);\n      this.line = line;\n    }\n  }\n\n  protected addPoint() {\n    const props = this.options;\n    const pointConfig = deepMix({}, props.point);\n    if (pointConfig.visible) {\n      const point = getGeom('point', 'guide', {\n        plot: this,\n      });\n      this.adjustPoint(point);\n      this.setConfig('geometry', point);\n      this.point = point;\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      // 关闭动画\n      this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  }\n\n  protected label() {\n    const props = this.options;\n    const label = props.label as Label;\n\n    if (label.visible === false) {\n      if (this.line) {\n        this.line.label = false;\n      }\n      this.area.label = false;\n      return;\n    }\n    this.area.label = getComponent('label', {\n      fields: [props.yField],\n      plot: this,\n    });\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r as any;\n      responsive.method(this);\n    });\n  }\n}\n\nregisterPlotType('area', AreaLayer);\n","import { deepMix, get, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption, Label } from '../../interface/config';\nimport BaseArea, { AreaViewConfig } from '../area/layer';\nimport { getPlotComponents } from './component';\n\ninterface IAreaLabel extends Label {\n  autoScale?: boolean;\n}\n\nexport interface StackedAreaViewConfig extends AreaViewConfig {\n  stackField: string;\n  label: IAreaLabel;\n}\n\nexport interface StackedAreaLayerConfig extends StackedAreaViewConfig, LayerConfig {}\n\nexport default class StackedAreaLayer<T extends StackedAreaLayerConfig = StackedAreaLayerConfig> extends BaseArea<T> {\n  protected plotComponents: any[] = [];\n\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      label: {\n        visible: false,\n        type: 'area',\n      },\n    });\n  }\n\n  public type: string = 'stackedArea';\n\n  public beforeInit() {\n    const visible = get(this.options, ['label', 'visible']);\n    const type = get(this.options, ['label', 'type']);\n    const options: any = this.options;\n    if (visible) {\n      if (type === 'line') {\n        options.lineLabel = this.options.label;\n      }\n      if (type === 'area') {\n        options.areaLabel = this.options.label;\n      }\n    }\n    super.beforeInit();\n  }\n\n  protected label() {}\n\n  protected adjustArea(ele: ElementOption) {\n    ele.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected adjustLine(ele: ElementOption) {\n    ele.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected adjustPoint(ele: ElementOption) {\n    ele.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  public afterRender() {\n    this.renderPlotComponents();\n    this.options.responsive = false;\n    super.afterRender();\n  }\n\n  protected renderPlotComponents() {\n    const componentsType = ['areaLabel', 'lineLabel'];\n    each(componentsType, (t) => {\n      const cfg = {\n        view: this.view,\n        plot: this,\n        ...this.options[t],\n      };\n      const component = getPlotComponents(this, t, cfg);\n      if (component) {\n        component.render();\n        this.plotComponents.push(component);\n      }\n    });\n  }\n}\n\nregisterPlotType('stackedArea', StackedAreaLayer);\n","import { View, IGroup } from '../../../dependents';\nimport { clone, deepMix, each } from '@antv/util';\nimport { mappingColor, rgb2arr } from '../../../util/color';\nimport BBox from '../../../util/bbox';\n\nexport interface ColumnLabelConfig {\n  visible?: boolean;\n  position?: string;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IColumnLabel extends ColumnLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class ColumnLabel {\n  public options: ColumnLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  protected coord: any;\n  protected container: IGroup;\n\n  constructor(cfg: IColumnLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const { elements, coordinate } = this.getGeometry();\n    this.coord = coordinate;\n    each(elements, (ele) => {\n      const { shape } = ele;\n      const style = clone(this.options.style);\n      const value = this.getValue(shape);\n      const position = this.getPosition(shape, value);\n      const textAlign = this.getTextAlign(value);\n      const textBaseline = this.getTextBaseLine(value);\n      const color = this.getTextColor(shape);\n      if (this.options.position !== 'top' && this.options.adjustColor && color !== 'black') {\n        style.stroke = null;\n      }\n      const formatter = this.options.formatter;\n      const content = formatter ? formatter(value) : value;\n      const label = this.container.addShape('text', {\n        attrs: deepMix({}, style, {\n          x: position.x,\n          y: position.y,\n          text: content,\n          fill: color,\n          textAlign,\n          textBaseline,\n        }),\n        name: 'label',\n      });\n      this.adjustLabel(label, shape);\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  protected getPosition(shape, value) {\n    const bbox = this.getShapeBbox(shape);\n    const { minX, maxX, minY, maxY, height, width } = bbox;\n    const { offsetX, offsetY, position } = this.options;\n    const x = minX + width / 2 + offsetX;\n    const dir = value > 0 ? -1 : 1;\n    let y;\n    if (position === 'top') {\n      const root = value > 0 ? minY : maxY;\n      y = root + (offsetY + 8) * dir;\n    } else if (position === 'bottom') {\n      y = maxY + (offsetY + 8) * dir;\n    } else {\n      y = minY + height / 2 + offsetY;\n    }\n\n    return { x, y };\n  }\n\n  protected getTextColor(shape) {\n    if (this.options.adjustColor && this.options.position !== 'top') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = this.options.style.fill;\n    return defaultColor;\n  }\n\n  protected getTextAlign(value) {\n    return 'center';\n  }\n\n  protected getTextBaseLine(value) {\n    const { position } = this.options;\n    return position === 'middle' ? 'middle' : 'bottom';\n  }\n\n  protected getValue(shape) {\n    const data = shape.get('origin').data;\n    return data[this.plot.options.yField];\n  }\n\n  protected adjustLabel(label, shape) {\n    if (this.options.adjustPosition && this.options.position !== 'top') {\n      const labelRange = label.getBBox();\n      const shapeRange = shape.getBBox();\n      if (shapeRange.height <= labelRange.height) {\n        const yPosition = shapeRange.minY + this.options.offsetY - 8;\n        label.attr('y', yPosition);\n        label.attr('textBaseline', 'bottom');\n        label.attr('fill', this.options.style.fill);\n      }\n    }\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      style: clone(labelStyle),\n      adjustPosition: true,\n    };\n  }\n\n  protected getShapeBbox(shape) {\n    const points = [];\n    each(shape.get('origin').points, (p) => {\n      points.push(this.coord.convertPoint(p));\n    });\n    const bbox = new BBox(\n      points[0].x,\n      points[1].y,\n      Math.abs(points[2].x - points[0].x),\n      Math.abs(points[0].y - points[1].y)\n    );\n    return bbox;\n  }\n\n  private getGeometry() {\n    const { geometries } = this.view;\n    let lineGeom;\n    each(geometries, (geom) => {\n      if (geom.type === 'interval') {\n        lineGeom = geom;\n      }\n    });\n    return lineGeom;\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ConnectedArea from '../../components/connected-area';\nimport { ElementOption, Label } from '../../interface/config';\nimport BaseColumnLayer, { ColumnViewConfig } from '../column/layer';\nimport StackColumnLabel from './component/label';\n\nexport interface StackedColumnViewConfig extends ColumnViewConfig {\n  stackField: string;\n  connectedArea?: any;\n}\n\nexport interface StackedColumnLayerConfig extends StackedColumnViewConfig, LayerConfig {}\n\nexport default class StackedColumnLayer<\n  T extends StackedColumnLayerConfig = StackedColumnLayerConfig\n> extends BaseColumnLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      legend: {\n        visible: true,\n        position: 'right-top',\n      },\n      label: {\n        visible: false,\n        position: 'middle',\n        offset: 0,\n        adjustColor: true,\n      },\n      connectedArea: {\n        visible: false,\n        triggerOn: 'mouseenter',\n      },\n    });\n  }\n\n  public type: string = 'stackedColumn';\n  public connectedArea: any;\n\n  public init() {\n    if (this.options.connectedArea.visible) {\n      this.options.tooltip.crosshairs = null;\n    }\n    super.init();\n  }\n\n  public afterRender() {\n    const props = this.options;\n    // 绘制区域连接组件\n    if (props.connectedArea.visible) {\n      this.connectedArea = new ConnectedArea({\n        view: this.view,\n        field: props.stackField,\n        animation: props.animation === false ? false : true,\n        ...props.connectedArea,\n      });\n    }\n    super.afterRender();\n  }\n\n  protected adjustColumn(column: ElementOption) {\n    column.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { yField } = this.options;\n    const scale = scales[yField];\n    if (this.options.label && this.options.label.visible) {\n      const label = new StackColumnLabel({\n        view: this.view,\n        plot: this,\n        formatter: scale.formatter,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n}\n\nregisterPlotType('stackedColumn', StackedColumnLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-17\n */\nimport { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../..';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { Label } from '../..';\nimport * as EventParser from './event';\nimport { LineStyle } from '../line/layer';\n\ninterface RoseStyle extends LineStyle {\n  stroke?: string;\n  lineWidth?: number;\n}\n\nexport interface RoseViewConfig extends ViewConfig {\n  radiusField: string;\n  categoryField: string;\n  colorField?: string;\n  stackField?: string;\n  groupField?: string;\n  radius?: number;\n  innerRadius?: number;\n  /** 每个扇形切片的样式 */\n  sectorStyle?: RoseStyle | ((...args: any[]) => RoseStyle);\n  label?: RoseLabel;\n}\n\ntype RoseLabel = ViewConfig['label'] & {\n  type: 'outer' | 'inner';\n  /** 自动调整颜色 */\n  adjustColor?: boolean;\n  /** 自动旋转 */\n  autoRotate?: boolean;\n  // label的内容，如果不配置，读取scale中的第一个field对应的值  G2 4.0 就这样实现的\n  content?: string | ((...args: any[]) => string);\n};\n\nexport interface RoseLayerConfig extends RoseViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  rose: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  rose: 'column',\n};\n\nexport default class RoseLayer<T extends RoseLayerConfig = RoseLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      innerRadius: 0,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: true,\n        adjustColor: false,\n      },\n      legend: {\n        visible: true,\n        position: 'right',\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      columnStyle: {\n        stroke: 'white',\n        lineWidth: 1,\n      },\n      xAxis: {\n        visible: false,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          alignTick: false,\n          style: {\n            lineWidth: 0.5,\n          },\n        },\n        label: {\n          offset: 5,\n          autoRotate: true,\n        },\n      },\n      yAxis: {\n        visible: false,\n      },\n    });\n  }\n\n  public rose: any;\n  public type: string = 'rose';\n\n  public getOptions(props: T) {\n    const options = super.getOptions(props);\n    const columnStyle = props.sectorStyle;\n    const xField = props.categoryField;\n    const yField = props.radiusField;\n    return deepMix({}, options, { columnStyle, xField, yField });\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    // super.scale();\n    const props = this.options;\n    const scales = {};\n    scales[props.radiusField] = {};\n    scales[props.categoryField] = { type: 'cat' };\n    this.setConfig('scales', scales);\n  }\n\n  /** 不显示坐标轴 */\n  /*protected axis() {\n    super.axis();\n    const options = this.options;\n    if (!options.stackField && !options.groupField) {\n      this.setConfig('axes', false);\n    }\n  }*/\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius || 0,\n      },\n    };\n    this.setConfig('coordinate', coordConfig as any);\n  }\n\n  protected addGeometry() {\n    const options = this.options;\n    this.adjustColorFieldMapping();\n    this.adjustLegendOptions();\n    const rose = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [options.categoryField, options.radiusField],\n      widthRatio: {\n        rose: 1,\n      },\n    });\n    rose.label = this.extractLabel();\n    rose.adjust = this.adjustRoseAdjust();\n    this.rose = rose;\n    this.setConfig('geometry', rose);\n  }\n\n  protected adjustColorFieldMapping() {\n    const options = this.options;\n    if (options.stackField || options.groupField) {\n      this.options.colorField = null;\n    }\n  }\n\n  protected adjustRoseAdjust() {\n    /*if (this.options.stackField) {\n      return [\n        {\n          type: 'stack',\n        },\n      ];\n    } else if (this.options.groupField) {\n      return [\n        {\n          type: 'dodge',\n          marginRatio: 1,\n        },\n      ];\n    }\n    return null;*/\n    return;\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.rose.animate = false;\n    }\n  }\n\n  protected annotation() {}\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected extractLabel() {\n    const options = this.options;\n    if (!options.label || !options.label.visible) {\n      return false;\n    }\n    const label = deepMix({}, options.label as Label);\n    this.adjustLabelOptions(label);\n    const fields = [options.categoryField, options.radiusField];\n    if (options.stackField || options.groupField) {\n      fields.push(options.stackField || options.groupField);\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'polar',\n      fields,\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  private adjustLabelOptions(labelOptions: RoseLabel) {\n    const { radiusField } = this.options;\n    if (labelOptions) {\n      const { offset, type, content } = labelOptions;\n      if (type === 'inner') {\n        labelOptions.offset = offset < 0 ? offset : -10;\n      } else if (type === 'outer') {\n        labelOptions.offset = offset >= 0 ? offset : 10;\n      }\n      if (!content) {\n        // 默认显示 数值\n        labelOptions.content = (text, item) => `${item._origin[radiusField]}`;\n      }\n    }\n  }\n\n  private adjustLegendOptions() {\n    const options = this.options;\n    const legendOptions = options.legend;\n    if (legendOptions) {\n      if (!options.stackField && !options.groupField) {\n        legendOptions.clickable = false;\n      }\n    }\n  }\n}\n\nregisterPlotType('rose', RoseLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { deepMix, get, map, isArray, reduce, has, isFunction, isString, isObject } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport './geometry/shape/waterfall';\nimport { ElementOption, IStyleConfig, DataItem, LayerConfig } from '../..';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { AttributeCfg } from '@antv/attr';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './component/label/waterfall-label';\nimport DiffLabel, { DiffLabelcfg } from './component/label/diff-label';\nimport WaterfallLabels from './component/label/waterfall-label';\n\ninterface WaterfallStyle {}\n\nconst G2_GEOM_MAP = {\n  waterfall: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'waterfall',\n};\n\nexport const VALUE_FIELD = '$$value$$';\nexport const IS_TOTAL = '$$total$$';\nconst INDEX_FIELD = '$$index$$';\n\nexport interface WaterfallViewConfig extends ViewConfig {\n  showTotal?: {\n    visible: boolean;\n    label: string;\n  };\n  /** 差值label */\n  diffLabel?: {\n    visible: boolean;\n    style?: DiffLabelcfg['style'];\n    formatter?: DiffLabelcfg['formatter'];\n  };\n  leaderLine?: {\n    visible: boolean;\n    style?: {\n      stroke?: string;\n      lineWidth?: number;\n      lineDash?: number[];\n    };\n  };\n  color?:\n    | string\n    | { rising: string; falling: string; total?: string }\n    | ((type: string, value: number | null, values: number | number[], index: number) => string);\n  waterfallStyle?: WaterfallStyle | ((...args: any[]) => WaterfallStyle);\n}\n\nexport interface WaterfallLayerConfig extends WaterfallViewConfig, LayerConfig {}\n\nexport default class WaterfallLayer extends ViewLayer<WaterfallLayerConfig> {\n  public waterfall;\n  public type: string = 'watarfall';\n  public diffLabel;\n\n  public static getDefaultOptions(): Partial<WaterfallLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      legend: {\n        visible: false,\n        position: 'bottom',\n      },\n      label: {\n        visible: true,\n        adjustPosition: true,\n      },\n      /** 差值 label */\n      diffLabel: {\n        visible: true,\n      },\n      /** 迁移线 */\n      leaderLine: {\n        visible: true,\n      },\n      /** 显示总计 */\n      showTotal: {\n        visible: true,\n        label: '总计值',\n      },\n      waterfallStyle: {\n        /** 默认无描边 */\n        lineWidth: 0,\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n    });\n  }\n\n  public getOptions(props: WaterfallLayerConfig) {\n    const options = super.getOptions(props);\n    this.adjustLegendOptions(options);\n    this.adjustMeta(options);\n    return options;\n  }\n\n  public afterInit() {\n    super.afterInit();\n    const options = this.options;\n    if (options.diffLabel && options.diffLabel.visible) {\n      this.diffLabel = new DiffLabel({\n        view: this.view,\n        fields: [options.xField, options.yField, VALUE_FIELD],\n        formatter: options.diffLabel.formatter,\n        style: options.diffLabel.style,\n      });\n    } else if (this.diffLabel) {\n      this.diffLabel.clear();\n      this.diffLabel = null;\n    }\n  }\n\n  public afterRender() {\n    super.afterRender();\n    const options = this.options;\n    this.view.on('tooltip:change', (e) => {\n      const { items } = e;\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i];\n        const data = get(item, 'data', {});\n        // 改变 tooltip 显示的name和value\n        item.name = data[options.xField];\n        item.value = data[options.yField];\n        if (!item.value && data[IS_TOTAL]) {\n          const values = data[VALUE_FIELD];\n          item.value = values[0] - values[1];\n        }\n        e.items[i] = item;\n      }\n    });\n    this.renderLabel();\n  }\n\n  protected renderLabel() {\n    if (this.options.label && this.options.label.visible) {\n      const label = new WaterfallLabels({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected interaction() {\n    this.setConfig('interactions', [{ type: 'tooltip' }, { type: 'active-region' }]);\n  }\n\n  protected addGeometry() {\n    const options = this.options;\n    const waterfall: ElementOption = {\n      type: 'interval',\n      position: {\n        fields: [options.xField, VALUE_FIELD],\n      },\n      shape: {\n        values: ['waterfall'],\n      },\n    };\n    waterfall.style = this._parseStyle();\n    waterfall.color = this._parseColor();\n    this.waterfall = waterfall;\n    this.setConfig('geometry', waterfall);\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const plotData = [];\n    const xField = this.options.xField;\n    const yField = this.options.yField;\n    map(originData, (dataItem, idx: number) => {\n      let value: any = dataItem[yField];\n      if (idx > 0) {\n        const prevValue = plotData[idx - 1][VALUE_FIELD];\n        if (isArray(prevValue)) {\n          value = [prevValue[1], dataItem[yField] + prevValue[1]];\n        } else {\n          value = [prevValue, dataItem[yField] + prevValue];\n        }\n      }\n      plotData.push({\n        ...dataItem,\n        [VALUE_FIELD]: value,\n        [INDEX_FIELD]: idx,\n      });\n    });\n    if (this.options.showTotal && this.options.showTotal.visible) {\n      const values = map(originData, (o) => o[yField]);\n      const totalValue = reduce(values, (p: number, n: number) => p + n, 0);\n      plotData.push({\n        [xField]: this.options.showTotal.label,\n        [yField]: null,\n        [VALUE_FIELD]: [totalValue, 0],\n        [INDEX_FIELD]: plotData.length,\n        [IS_TOTAL]: true,\n      });\n    }\n    return plotData;\n  }\n\n  protected scale() {\n    const { options } = this;\n    const scales = {};\n    /** 配置x-scale */\n    scales[options.xField] = { type: 'cat' };\n    if (has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n    scales[VALUE_FIELD] = {};\n    if (has(options, 'yAxis')) {\n      extractScale(scales[VALUE_FIELD], options.yAxis);\n    }\n    this.setConfig('scales', scales);\n  }\n\n  /** @override */\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    const axesConfig = { fields: {} };\n    axesConfig.fields[this.options.xField] = xAxis_parser;\n    axesConfig.fields[VALUE_FIELD] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected coord() {}\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  /** 牵引线的样式注入到style中 */\n  private _parseStyle(): IStyleConfig {\n    const style = this.options.waterfallStyle;\n    const leaderLine = this.options.leaderLine;\n    const config: Record<string, any> = {};\n    if (isFunction(style)) {\n      config.callback = (...args) => {\n        return Object.assign({}, style(...args), { leaderLine });\n      };\n    } else {\n      config.cfg = { ...style, leaderLine };\n    }\n\n    return config;\n  }\n\n  private _parseColor(): AttributeCfg {\n    const options = this.options;\n    const { xField, yField } = this.options;\n    const config: any = {\n      fields: [xField, yField, VALUE_FIELD, INDEX_FIELD],\n    };\n    if (isFunction(options.color)) {\n      config.callback = options.color;\n    } else {\n      let risingColor = '#f4664a';\n      let fallingColor = '#30bf78';\n      let totalColor = 'rgba(0, 0, 0, 0.25)';\n      if (isString(options.color)) {\n        risingColor = fallingColor = totalColor = options.color;\n      } else if (isObject(options.color)) {\n        const { rising, falling, total } = options.color;\n        risingColor = rising;\n        fallingColor = falling;\n        totalColor = total;\n      }\n      config.callback = (type, value, values: number | number[], index: number) => {\n        if (index === this.options.data.length) {\n          return totalColor || (values[0] >= 0 ? risingColor : fallingColor);\n        }\n        return (isArray(values) ? values[1] - values[0] : values) >= 0 ? risingColor : fallingColor;\n      };\n    }\n    return config as AttributeCfg;\n  }\n\n  /** 复写 legend 配置, 瀑布图默认无legend */\n  private adjustLegendOptions(options): void {\n    const legendOptions = options.legend;\n    if (legendOptions) {\n      legendOptions.visible = false;\n    }\n  }\n\n  /** 复写 meta 配置 */\n  private adjustMeta(options): void {\n    const metaOptions = options.meta;\n    if (metaOptions) {\n      const valueFieldMeta = metaOptions ? metaOptions[options.yField] : {};\n      valueFieldMeta.alias = valueFieldMeta.alias || options.yField;\n      options.meta[VALUE_FIELD] = valueFieldMeta;\n    }\n  }\n}\n\nregisterPlotType('waterfall', WaterfallLayer);\n","import { head, last } from '@antv/util';\nimport fecha from 'fecha';\nimport { FORMATTER } from '../plots/calendar/constant';\n\n/**\n * 一天多少 ms\n */\nexport const DAY_MS = 86400000;\n\n/**\n * 获取最大最小日期范围\n * @param dates\n */\nexport function getDateRange(dates: Date[]): string[] {\n  const ds = [...dates].sort((a: Date, b: Date) => a.getTime() - b.getTime());\n\n  return [fecha.format(head(ds), FORMATTER), fecha.format(last(ds), FORMATTER)];\n}\n\n/**\n * 日期对应年的范围\n * @param date\n */\nexport function getYearRange(date?: Date): string[] {\n  const curr = date ? date : new Date();\n\n  return [\n    fecha.format(new Date(curr.getFullYear(), 0, 1), FORMATTER),\n    fecha.format(new Date(curr.getFullYear(), 11, 30), FORMATTER),\n  ];\n}\n\n/**\n * 是否当前月的最后一周\n */\nexport function isLastWeekOfMonth(date: Date): boolean {\n  // 偏移 7 天之后，月份是否一样\n  return date.getMonth() !== advanceBy(new Date(date), 7 * DAY_MS).getMonth();\n}\n\n/**\n * 是否是当月的最后一天\n */\nexport function isLastDayOfMonth(date: Date): boolean {\n  // 偏移 1 天之后，月份是否一样\n  return date.getMonth() !== advanceBy(new Date(date), DAY_MS).getMonth();\n}\n\n/**\n * 获取 date 对应的周索引（国际标准：一年的第一个周四为第一周）\n * @param date\n */\nexport function getWeek(date: Date): number {\n  // 当年的第一天\n  const oneJan = new Date(date.getFullYear(), 0, 1);\n\n  return Math.ceil(((date.getTime() - oneJan.getTime()) / DAY_MS + oneJan.getDay() + 1) / 7);\n}\n\n/**\n * 获得一周的第几天（周日第 0 天）\n * @param date\n */\nexport function getDay(date: Date): number {\n  return date.getDay();\n}\n\n/**\n * 将 Date 前进 ms 时间\n * @param d\n * @param ms\n */\nexport function advanceBy(d: Date, ms: number): Date {\n  d.setMilliseconds(d.getMilliseconds() + ms);\n  return d;\n}\n","/**\n * @author linhuiw\n * @description 仪表盘 layer\n */\nimport { deepMix, uniqueId } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer from '../../base/view-layer';\nimport { ElementOption } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport './theme';\nimport { GaugeViewConfig, DEFAULT_GAUGE_CONFIG } from './options';\nimport { GaugeShape } from './geometry/shape/gauge-shape';\nimport { getOptions } from './geometry/shape/options';\nimport { getGlobalTheme } from '../../theme';\nimport * as EventParser from './event';\n\nexport interface GaugeLayerConfig extends GaugeViewConfig, LayerConfig {}\n\nexport default class GaugeLayer<T extends GaugeLayerConfig = GaugeLayerConfig> extends ViewLayer<T> {\n  data: [];\n\n  gaugeShape: any;\n\n  options: any;\n\n  constructor(props) {\n    super(props);\n  }\n\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), DEFAULT_GAUGE_CONFIG);\n  }\n\n  public type: string = 'gauge';\n\n  public init() {\n    const { value, range } = this.options;\n    const rangeSorted = (range || []).map((d: number) => +d).sort((a: number, b: number) => a - b);\n\n    const { min = rangeSorted[0], max = rangeSorted[rangeSorted.length - 1], format = (d) => `${d}` } = this.options;\n\n    const valueText = format(value);\n    const styleMix = this.getStyleMix();\n    this.options.styleMix = styleMix;\n    this.options.data = [{ value: value || 0 }];\n    this.options.valueText = valueText;\n    this.options.min = min;\n    this.options.max = max;\n    this.options.format = format;\n    this.initG2Shape();\n    super.init();\n  }\n\n  protected getStyleMix() {\n    const { gaugeStyle = {}, statistic = {} } = this.options;\n    const { width, height } = this;\n    const size = Math.max(width, height) / 20;\n    const defaultStyle = Object.assign({}, this.theme, {\n      stripWidth: size,\n      tickLabelSize: size / 2,\n    });\n    if (!statistic.size) {\n      statistic.size = size * 1.2;\n    }\n    const style = deepMix({}, defaultStyle, gaugeStyle, { statistic });\n    return style;\n  }\n\n  /**\n   * 绘制指针\n   */\n  protected initG2Shape() {\n    this.gaugeShape = new GaugeShape(uniqueId());\n    this.gaugeShape.setOption(\n      this.type,\n      this.options,\n      this.getCustomStyle().pointerStyle,\n      this.getCustomStyle().ringStyle\n    );\n    this.gaugeShape.render();\n  }\n\n  protected getCustomStyle() {\n    const { color, theme } = this.options;\n    const globalTheme = getGlobalTheme();\n    const colors = color || globalTheme.colors;\n    return getOptions('standard', theme, colors);\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    throw new Error('Method not implemented.');\n  }\n\n  protected scale() {\n    const { min, max, format, styleMix } = this.options;\n    const scales = {\n      value: {},\n    };\n    extractScale(scales.value, {\n      min,\n      max,\n      minLimit: min,\n      maxLimit: max,\n      nice: true,\n      formatter: format,\n      // 自定义 tick step\n      tickInterval: styleMix.tickInterval,\n    });\n    // @ts-ignore\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    const coordConfig: any = {\n      type: 'polar',\n      cfg: {\n        radius: 1,\n        startAngle: this.options.startAngle * Math.PI,\n        endAngle: this.options.endAngle * Math.PI,\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected axis() {\n    const { styleMix, style } = this.options;\n    const { thickness } = this.getCustomStyle().ringStyle;\n\n    const offset =\n      typeof styleMix.tickLabelPos === 'number'\n        ? -styleMix.tickLabelPos\n        : styleMix.tickLabelPos === 'outer'\n        ? 0.8\n        : -0.8;\n\n    const axesConfig: any = {};\n\n    axesConfig.value = {\n      line: null,\n      grid: null,\n      label: {\n        offset: offset * (styleMix.stripWidth + styleMix.tickLabelSize + thickness),\n        textStyle: {\n          fontSize: styleMix.tickLabelSize,\n          fill: styleMix.tickLabelColor,\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n      },\n      tickLine: null,\n      subTickCount: styleMix.subTickCount,\n      subTickLine: {\n        length: offset * (styleMix.stripWidth + 1),\n        stroke: styleMix.tickLineColor,\n        lineWidth: 1,\n        lineDash: [0, styleMix.stripWidth / 2, Math.abs(offset * (styleMix.stripWidth + 1))],\n      },\n      labelAutoRotate: true,\n    };\n    axesConfig['1'] = false;\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected addGeometry() {\n    const { styleMix } = this.options;\n    const pointerColor = styleMix.pointerColor || this.theme.defaultColor;\n\n    const pointer: ElementOption = {\n      type: 'point',\n      position: {\n        fields: ['value', '1'],\n      },\n      shape: {\n        values: ['gauge'],\n      },\n      color: {\n        values: [pointerColor],\n      },\n    };\n\n    this.setConfig('geometry', pointer);\n  }\n\n  protected annotation() {\n    const { statistic, style } = this.options;\n    const annotationConfigs = [];\n    // @ts-ignore\n    if (statistic && statistic.visible) {\n      const statistics = this.renderStatistic();\n      annotationConfigs.push(statistics);\n    }\n    this.setConfig('annotations', annotationConfigs);\n  }\n\n  protected renderStatistic() {\n    const { statistic, styleMix } = this.options;\n    const text = {\n      type: 'text',\n      content: statistic.text,\n      top: true,\n      position: styleMix.statistic.position,\n      style: {\n        fill: styleMix.statistic.color,\n        fontSize: styleMix.statistic.size,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      },\n    };\n    return text;\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('gauge', GaugeLayer);\n","/**\n * @author linhuiw\n * @description 存放仪表盘的配置项，比如指针的颜色、粗细等\n */\nimport { get } from '@antv/util';\n\nconst basicPointerStyleDark = {\n  color: '#CFCFCF',\n  circleColorTop: '#2E364B',\n  circleColorBottom: '#EEEEEE',\n  thickness: 4.5,\n};\n\nexport const getOptions = function(name: string, theme: string, colors: string[]) {\n  const basicPointerStyle = basicPointerStyleDark;\n  const ringBackground = '#f0f0f0';\n  const common = {\n    color: get(colors, [0], '#F6445A'),\n    thickness: 24,\n    radius: 1,\n    angle: 240,\n    textPosition: '100%',\n  };\n\n  switch (name) {\n    case 'standard':\n      return {\n        ringStyle: {\n          ...common,\n          background: ringBackground,\n          axis: {\n            amount: 21,\n            offset: -35,\n            length: 5,\n            thickness: 2,\n            color: '#999',\n          },\n        },\n        pointerStyle: {\n          ...basicPointerStyle,\n          radius: 0.5,\n        },\n      };\n    case 'meter':\n      return {\n        ringStyle: {\n          ...common,\n          background: ringBackground,\n          axis: {\n            amount: 25,\n            offset: -35,\n            length: 2,\n            thickness: 1,\n            color: '#999',\n          },\n        },\n        pointerStyle: {\n          ...basicPointerStyle,\n          radius: 0.5,\n        },\n      };\n    case 'fan':\n      return {\n        ringStyle: {\n          color: get(colors, [0], '#F6445A'),\n          background: ringBackground,\n          thickness: 70,\n          radius: 1,\n          angle: 120,\n          textPosition: '125%',\n          bottomRatio: 3.5,\n          axis: {\n            amount: 10,\n            offset: 5,\n            length: 3,\n            thickness: 3,\n            color: '#999',\n          },\n        },\n        pointerStyle: {\n          ...basicPointerStyle,\n          radius: 0.6,\n        },\n      };\n    default:\n      break;\n  }\n};\n","/**\n * G2-Plot配置项\n * 注意事项：\n * 1. 命名采用驼峰\n * 2. 如果是枚举值，不使用enum，全部列出\n * 3. 减少嵌套，尽量平铺配置\n */\nimport { ShapeAttrs } from '@antv/g-base';\nimport { Options, AttributeOption, AdjustOption, LabelOption } from '../dependents';\nimport { LooseMap } from './types';\n\nexport interface ITitle {\n  visible: boolean;\n  text: string;\n  style?: {};\n  alignWithAxis?: boolean;\n  alignTo?: 'left' | 'right' | 'middle';\n}\n\nexport interface IDescription {\n  visible: boolean;\n  text: string;\n  style?: {};\n  alignWithAxis?: boolean;\n  alignTo?: 'left' | 'right' | 'middle';\n}\n\ntype IEvents = LooseMap<string>;\n\nexport type Formatter = (text: string, item: any, idx: number) => string;\n\n/**\n * 通用 Shape 属性样式定义\n */\nexport interface IStyleConfig extends ShapeAttrs {}\n\nexport interface IBaseAxis {\n  /** 轴是否需要显示，默认true */\n  visible?: boolean;\n  /** 轴类型，对应scale类型 */\n  type?: 'linear' | 'time' | 'cat' | 'dateTime' | 'category' | 'log' | 'pow' | 'timeCat';\n  /** scale 是否设置 nice */\n  nice?: boolean;\n  /** scale 自定义 tickMethod */\n  tickMethod?: string | ((cfg: any) => number[]);\n  /** 轴位置，默认下和左 */\n  line?: {\n    visible?: boolean;\n    style?: IStyleConfig;\n  };\n  grid?: {\n    /** 网格线是否显示 */\n    visible?: boolean;\n    line?: {\n      style?: IStyleConfig | ((text: string, idx: number, count: number) => IStyleConfig);\n      type?: 'line' | 'circle';\n    };\n    /** 网格设置交替的颜色，指定一个值则先渲染偶数层，两个值则交替渲染 */\n    alternateColor?: string | string[];\n  };\n  autoEllipsisLabel?: boolean;\n  autoRotateTitle?: boolean;\n  label?: {\n    visible?: boolean;\n    formatter?: (name: string, tick: any, index: number) => string;\n    offset?: number; // 坐标轴文本距离坐标轴线的距离\n    offsetX?: number; // 在 offset 的基础上，设置坐标轴文本在 x 方向上的偏移量\n    offsetY?: number; // 在 offset 的基础上，设置坐标轴文本在 y 方向上的偏移量\n    rotate?: number; // label 文本旋转的角度，使用角度制\n    useHtml?: boolean; // 是否开启使用 HTML 渲染坐标轴文本\n    htmlTemplate?: string; // 返回 label 的 html 字符串，只在 useHtml: true 的情况下生效\n    style?: IStyleConfig;\n    autoRotate?: boolean;\n    autoHide?: boolean;\n  };\n  title?: {\n    visible?: boolean;\n    autoRotate?: boolean;\n    text?: string;\n    offset?: number;\n    style?: IStyleConfig;\n  };\n  tickLine?: {\n    visible?: boolean;\n    style?: IStyleConfig;\n  };\n  events?: IEvents;\n}\n/** Linear型 */\nexport interface IValueAxis extends IBaseAxis {\n  type?: 'linear';\n  /** tick相关配置 */\n  nice?: boolean;\n  min?: number;\n  max?: number;\n  minLimit?: number;\n  maxLimit?: number;\n  tickCount?: number;\n  tickInterval?: number;\n}\n/** 时间型 */\nexport interface ITimeAxis extends IBaseAxis {\n  type?: 'time';\n  /** tick相关配置 */\n  tickInterval?: string;\n  tickCount?: number;\n  groupBy?: string;\n  mask?: string;\n}\n/** 离散类目型 */\nexport interface ICatAxis extends IBaseAxis {\n  type?: 'cat';\n  /** tick相关配置 */\n  tickInterval?: number;\n  tickCount?: number;\n  groupBy?: string;\n}\n\nexport type Axis = ICatAxis | IValueAxis | ITimeAxis;\n\nexport interface Label {\n  visible?: boolean;\n  type?: string;\n  formatter?: (text: string, item: any, idx: number, ...extras: any[]) => string;\n  /** 精度配置，可通过自定义精度来固定数值类型 label 格式 */\n  precision?: number;\n  /** 添加后缀 */\n  suffix?: string;\n  style?: any;\n  offset?: number;\n  offsetX?: number;\n  offsetY?: number;\n  events?: IEvents;\n  position?: string;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n  autoRotate?: boolean;\n  labelLine?: any;\n}\n\nexport interface Legend {\n  visible?: boolean;\n  /** 位置 */\n  position?: string;\n  /** 翻页 */\n  flipPage?: boolean;\n  events?: IEvents;\n  formatter?: (...args: any) => string;\n  offsetX?: number;\n  offsetY?: number;\n  clickable?: boolean;\n  title?: {\n    visible?: boolean;\n    spacing?: number;\n    style?: IStyleConfig;\n  };\n}\n\nexport interface Tooltip {\n  visible?: boolean;\n  shared?: boolean;\n  /** html */\n  showTitle?: boolean;\n  html?: HTMLDivElement;\n  formatter?: (...args: any) => string;\n  // htmlContent?: (title: string, items: any[]) => string;\n  containerTpl?: string;\n  itemTpl?: string;\n  /** 辅助线 */\n  //crosshair?: 'x' | 'y' | 'cross' | boolean;\n  //crosshairs?: { type: string; style?: IStyleConfig }; // FIXME:\n  showCrosshairs?: boolean;\n  crosshairs?: object;\n  style?: IStyleConfig;\n  offset?: number;\n  showMarkers?: boolean;\n}\n\ninterface Animation {\n  /** 动画模式，延伸or缩放 */\n  type?: string;\n  duration?: number;\n  easing?: string;\n}\n\n// tslint:disable-next-line: no-empty-interface\nexport interface Theme {}\n\nexport interface ElementOption {\n  type: string;\n  position: {\n    fields: string[];\n  };\n  color?: AttributeOption;\n  size?: AttributeOption;\n  shape?: AttributeOption;\n  style?: IStyleConfig;\n  label?: LabelOption | false;\n  animate?: {};\n  adjust?: AdjustOption[];\n  connectNulls?: boolean;\n  widthRatio?: {\n    [type: string]: number;\n  };\n  tooltip?: any;\n}\n\nexport type G2Config = Options;\n\nexport interface IColorConfig {\n  fields?: string[];\n  values?: string[];\n  callback?: (...args: any[]) => any;\n}\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\nexport const timeIntervals = {\n  second: { value: SECOND, format: 'HH:mm:ss' },\n  miniute: { value: MINUTE, format: 'HH:mm' },\n  hour: { value: HOUR, format: 'HH' },\n  day: { value: DAY, format: 'YYYY-MM-DD' },\n  week: { value: WEEK, format: 'YYYY-MM-DD' },\n  month: { value: MONTH, format: 'YYYY-MM' },\n  year: { value: YEAR, format: 'YYYY' },\n};\n\ninterface StateCondition {\n  name: string;\n  exp: () => boolean | string | number;\n}\n\nexport interface StateConfig {\n  condition: () => any | StateCondition;\n  style?: IStyleConfig;\n  related?: string[];\n}\n\nexport interface ISliderInteractionConfig {\n  /** 在图表中的位置，默认 horizontal */\n  type?: 'horizontal' | 'vertical';\n  /** 宽度，在 vertical 下生效 */\n  width?: number;\n  /** 高度，在 horizontal 下生效 */\n  height?: number;\n  /** 可选 padding */\n  padding?: [number, number, number, number];\n  /** 默认开始位置, 0~1 */\n  start?: number;\n  /** 默认结束位置, 0~1 */\n  end?: number;\n  /** 背景框样式配置 */\n  backgroundStyle?: ShapeAttrs;\n  /** 前景框样式配置 */\n  foregroundStyle?: ShapeAttrs;\n  /** 滑块样式配置 */\n  handlerStyle?: ShapeAttrs;\n  /** 文本样式配置 */\n  textStyle?: ShapeAttrs;\n  /** slider 趋势图配置  */\n  trendCfg?: {\n    /** 是否使用 smooth 折线 */\n    smooth?: boolean;\n    /** 是否使用面积图 */\n    isArea?: boolean;\n    /** 背景样式配置 */\n    backgroundStyle?: ShapeAttrs;\n    /** 折线样式配置 */\n    lineStyle?: ShapeAttrs;\n    /** 面积图样式配置 */\n    areaStyle?: ShapeAttrs;\n  };\n}\n\nexport interface IScrollbarInteractionConfig {\n  /** 在图表中的位置，默认 horizontal */\n  type?: 'horizontal' | 'vertical';\n  /** 宽度，在 vertical 下生效 */\n  width?: number;\n  /** 高度，在 horizontal 下生效 */\n  height?: number;\n  /** 可选 padding */\n  padding?: [number, number, number, number];\n  /** 对应水平滚动条，为X轴每个分类字段的宽度；对于垂直滚动条，为X轴每个分类字段的高度 */\n  categorySize?: number;\n}\n\n//export type IInteractionConfig = IScrollbarInteractionConfig | ISliderInteractionConfig;\n\nexport type IInteractionConfig = {\n  [field: string]: any;\n};\n\nexport interface IInteractions {\n  type: string;\n  cfg?: IInteractionConfig;\n}\n\n/**\n * 一个点位置\n */\nexport interface Point {\n  readonly x: number;\n  readonly y: number;\n}\n\nexport interface DataItem {\n  [field: string]: string | number | number[] | null | undefined;\n}\n\nexport interface IStyle {\n  [field: string]: any;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar EPSILON = 0.0001;\n/**\n * 使用牛顿切割法求最近的点\n * @param {number[]} xArr      点的 x 数组\n * @param {number[]} yArr      点的 y 数组\n * @param {number}   x         指定的点 x\n * @param {number}   y         指定的点 y\n * @param {Function} tCallback 差值函数\n */\nfunction nearestPoint(xArr, yArr, x, y, tCallback) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var v0 = [x, y];\n    for (var i = 0; i <= 20; i++) {\n        var _t = i * 0.05;\n        var v1 = [tCallback.apply(null, xArr.concat([_t])), tCallback.apply(null, yArr.concat([_t]))];\n        var d1 = util_1.distance(v0[0], v0[1], v1[0], v1[1]);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    // 提前终止\n    if (t === 0) {\n        return {\n            x: xArr[0],\n            y: yArr[0],\n        };\n    }\n    if (t === 1) {\n        var count = xArr.length;\n        return {\n            x: xArr[count - 1],\n            y: yArr[count - 1],\n        };\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        var v1 = [tCallback.apply(null, xArr.concat([prev])), tCallback.apply(null, yArr.concat([prev]))];\n        var d1 = util_1.distance(v0[0], v0[1], v1[0], v1[1]);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            var v2 = [tCallback.apply(null, xArr.concat([next])), tCallback.apply(null, yArr.concat([next]))];\n            var d2 = util_1.distance(v0[0], v0[1], v2[0], v2[1]);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    return {\n        x: tCallback.apply(null, xArr.concat([t])),\n        y: tCallback.apply(null, yArr.concat([t])),\n    };\n}\nexports.nearestPoint = nearestPoint;\n// 近似求解 https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2\nfunction snapLength(xArr, yArr) {\n    var totalLength = 0;\n    var count = xArr.length;\n    for (var i = 0; i < count; i++) {\n        var x = xArr[i];\n        var y = yArr[i];\n        var nextX = xArr[(i + 1) % count];\n        var nextY = yArr[(i + 1) % count];\n        totalLength += util_1.distance(x, y, nextX, nextY);\n    }\n    return totalLength / 2;\n}\nexports.snapLength = snapLength;\n//# sourceMappingURL=bezier.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar ellipse_1 = require(\"./ellipse\");\n// 偏导数 x\nfunction derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.cos(xRotation) * Math.sin(angle) - ry * Math.sin(xRotation) * Math.cos(angle);\n}\n// 偏导数 y\nfunction derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.sin(xRotation) * Math.sin(angle) + ry * Math.cos(xRotation) * Math.cos(angle);\n}\n// x 的极值\nfunction xExtrema(rx, ry, xRotation) {\n    return Math.atan((-ry / rx) * Math.tan(xRotation));\n}\n// y 的极值\nfunction yExtrema(rx, ry, xRotation) {\n    return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n// 根据角度求 x 坐标\nfunction xAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.cos(xRotation) * Math.cos(angle) - ry * Math.sin(xRotation) * Math.sin(angle) + cx;\n}\n// 根据角度求 y 坐标\nfunction yAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.sin(xRotation) * Math.cos(angle) + ry * Math.cos(xRotation) * Math.sin(angle) + cy;\n}\n// 获取点在椭圆上的角度\nfunction getAngle(rx, ry, x0, y0) {\n    var angle = Math.atan2(y0 * rx, x0 * ry);\n    // 转换到 0 - 2PI 内\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n// 根据角度获取，x,y\nfunction getPoint(rx, ry, angle) {\n    return {\n        x: rx * Math.cos(angle),\n        y: ry * Math.sin(angle),\n    };\n}\n// 旋转\nfunction rotate(x, y, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return [x * cos - y * sin, x * sin + y * cos];\n}\nexports.default = {\n    /**\n     * 计算包围盒\n     * @param {number} cx         圆心 x\n     * @param {number} cy         圆心 y\n     * @param {number} rx         x 轴方向的半径\n     * @param {number} ry         y 轴方向的半径\n     * @param {number} xRotation  旋转角度\n     * @param {number} startAngle 起始角度\n     * @param {number} endAngle   结束角度\n     * @return {object} 包围盒对象\n     */\n    box: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) {\n        var xDim = xExtrema(rx, ry, xRotation);\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var xs = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var xAngle = xDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < xAngle && xAngle < endAngle) {\n                    xs.push(xAngle);\n                }\n            }\n            else {\n                if (endAngle < xAngle && xAngle < startAngle) {\n                    xs.push(xAngle);\n                }\n            }\n        }\n        for (var i = 0; i < xs.length; i++) {\n            var x = xAt(cx, cy, rx, ry, xRotation, xs[i]);\n            if (x < minX) {\n                minX = x;\n            }\n            if (x > maxX) {\n                maxX = x;\n            }\n        }\n        var yDim = yExtrema(rx, ry, xRotation);\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var ys = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var yAngle = yDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < yAngle && yAngle < endAngle) {\n                    ys.push(yAngle);\n                }\n            }\n            else {\n                if (endAngle < yAngle && yAngle < startAngle) {\n                    ys.push(yAngle);\n                }\n            }\n        }\n        for (var i = 0; i < ys.length; i++) {\n            var y = yAt(cx, cy, rx, ry, xRotation, ys[i]);\n            if (y < minY) {\n                minY = y;\n            }\n            if (y > maxY) {\n                maxY = y;\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    },\n    /**\n     * 获取圆弧的长度，计算圆弧长度时不考虑旋转角度，\n     * 仅跟 rx, ry, startAngle, endAngle 相关\n     * @param {number} cx         圆心 x\n     * @param {number} cy         圆心 y\n     * @param {number} rx         x 轴方向的半径\n     * @param {number} ry         y 轴方向的半径\n     * @param {number} xRotation  旋转角度\n     * @param {number} startAngle 起始角度\n     * @param {number} endAngle   结束角度\n     */\n    length: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) { },\n    /**\n     * 获取指定点到圆弧的最近距离的点\n     * @param {number} cx         圆心 x\n     * @param {number} cy         圆心 y\n     * @param {number} rx         x 轴方向的半径\n     * @param {number} ry         y 轴方向的半径\n     * @param {number} xRotation  旋转角度\n     * @param {number} startAngle 起始角度\n     * @param {number} endAngle   结束角度\n     * @param {number} x0         指定点的 x\n     * @param {number} y0         指定点的 y\n     * @return {object} 到指定点最近距离的点\n     */\n    nearestPoint: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        // 将最近距离问题转换成到椭圆中心 0,0 没有旋转的椭圆问题\n        var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n        var x1 = relativeVector[0], y1 = relativeVector[1];\n        // 计算点到椭圆的最近的点\n        var relativePoint = ellipse_1.default.nearestPoint(0, 0, rx, ry, x1, y1);\n        // 获取点在椭圆上的角度\n        var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n        // 点没有在圆弧上\n        if (angle < startAngle) {\n            // 小于起始圆弧\n            relativePoint = getPoint(rx, ry, startAngle);\n        }\n        else if (angle > endAngle) {\n            // 大于结束圆弧\n            relativePoint = getPoint(rx, ry, endAngle);\n        }\n        // 旋转到 xRotation 的角度\n        var vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n        return {\n            x: vector[0] + cx,\n            y: vector[1] + cy,\n        };\n    },\n    pointDistance: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        var nearestPoint = this.nearestPoint(cx, cy, rx, ry, x0, y0);\n        return util_1.distance(nearestPoint.x, nearestPoint.y, x0, y0);\n    },\n    pointAt: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        return {\n            x: xAt(cx, cy, rx, ry, xRotation, angle),\n            y: yAt(cx, cy, rx, ry, xRotation, angle),\n        };\n    },\n    tangentAngle: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        return util_1.piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=arc.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mod_1 = require(\"@antv/util/lib/mod\");\nvar to_radian_1 = require(\"@antv/util/lib/to-radian\");\n// 向量长度\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|，计算夹角的余弦值\nfunction vRatio(u, v) {\n    // 当存在一个向量的长度为 0 时，夹角也为 0，即夹角的余弦值为 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// 向量角度\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n/**\n * 判断两个点是否重合，点坐标的格式为 [x, y]\n * @param {Array} point1 第一个点\n * @param {Array} point2 第二个点\n */\nfunction isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\nexports.isSamePoint = isSamePoint;\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nfunction getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = mod_1.default(to_radian_1.default(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // 弧形起点坐标\n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // 弧形终点坐标\n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    // 旋转前的起点坐标，且当长半轴和短半轴的长度为 0 时，坐标按 (0, 0) 处理\n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // 椭圆圆心坐标\n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // 起始点的单位向量\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // 终止点的单位向量\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    // 计算起始点和圆心的连线，与 x 轴正方向的夹角\n    var theta = vAngle([1, 0], u);\n    // 计算圆弧起始点和终止点与椭圆圆心连线的夹角\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        // 弧形的起点和终点相同时，长轴和短轴的长度按 0 处理\n        rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\nexports.default = getArcParams;\n//# sourceMappingURL=get-arc-params.js.map","import { isNil } from '@antv/util';\nimport { Formatter } from '../interface/config';\n\nexport const combineFormatter = (...formatters: Formatter[]) => (text: string, item: any, idx) =>\n  formatters.reduce((curText, formatter) => formatter(curText, item, idx), text);\n\nexport const getNoopFormatter = () => (text: string, item: any, idx: number) => text;\n\nexport const getPrecisionFormatter = (precision?: number) => (text: string, item: any, idx: number) => {\n  const num = Number(text);\n  return isNaN(num) || isNil(precision) ? text : num.toFixed(precision);\n};\n\nexport const getSuffixFormatter = (suffix?: string) => (text: string, item: any, idx) => {\n  return isNil(suffix) ? text : `${text} ${suffix}`;\n};\n","/**\n * 可插拔的状态量管理机\n */\n// todo: 后续还需要加入交互互斥的维护机制\nimport EventEmitter from '@antv/event-emitter';\nimport { each } from '@antv/util';\nimport { LooseMap } from '../interface/types';\n\ntype States = LooseMap;\n\ninterface StateControllerCfg {\n  states?: States;\n}\n\nexport default class StateManager extends EventEmitter {\n  private _states: States;\n  private _stateStack: States;\n  private _changeTimer: any;\n\n  constructor(cfg: StateControllerCfg) {\n    super();\n    this._states = {};\n    this._stateStack = {};\n  }\n\n  public setState(name: string, exp: any) {\n    this._stateStack[name] = exp;\n    this._onUpdate();\n  }\n\n  public getState(name: string) {\n    return this._states[name];\n  }\n\n  public getAllStates() {\n    return this._states;\n  }\n\n  public clear() {\n    this._states = {};\n    this._stateStack = {};\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n  }\n\n  private _onUpdate() {\n    const stateStack = this._stateStack;\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n\n    this._changeTimer = setTimeout(() => {\n      // for (const name in stateStack) {\n      each(stateStack, (exp, name) => {\n        const state = stateStack[name];\n        if (!this._states[name] || this._states[name] !== exp) {\n          // update states\n          this._states[name] = exp;\n          // dispatch state event\n          this._triggerEvent(name, state);\n        }\n      });\n      // }\n      // clear stack\n      this._stateStack = {};\n    }, 16);\n  }\n\n  private _triggerEvent(name: string, exp: any) {\n    this.emit(`${name}:change`, {\n      name,\n      exp,\n    });\n  }\n}\n","import { flatten, groupBy, map } from '@antv/util';\n\n/**\n * 按照scale字段values中的start和end信息从全部数据中取出对应的部分\n *\n * @param field scale field\n * @param values scale values\n * @param data original data\n * @param range range start & end\n */\nexport const getDataByScaleRange = (\n  field: string,\n  values: string[],\n  data: object[],\n  [start, end]: [number, number],\n  vertical: boolean = false\n): object[] => {\n  const groupedData = groupBy(data, field);\n  const newValues = vertical ? values.slice(values.length - end, values.length - start) : values.slice(start, end);\n\n  return flatten(map(newValues, (value: string) => groupedData[value] || []));\n};\n","import { getTheme as g2GetTheme } from '../../dependents';\nimport { isString, deepMix } from '@antv/util';\nimport { convertToG2Theme, getGlobalTheme, getTheme } from '../../theme';\nimport { getResponsiveTheme } from '../../util/responsive/theme';\nimport { ViewConfig } from '../view-layer';\n\n/**\n * 负责图表theme的管理\n */\n\nconst G2DefaultTheme = g2GetTheme();\n\nexport default class ThemeController<T extends ViewConfig = ViewConfig> {\n  /**\n   * 获取指定的全局theme\n   * @param theme\n   */\n  public static getGlobalTheme(theme: string | object) {\n    if (isString(theme)) {\n      return getGlobalTheme(theme);\n    }\n    return deepMix({}, getGlobalTheme(), theme);\n  }\n\n  /**\n   * 通过 theme 和图表类型，获取当前 plot 对应的主题\n   * @param props\n   * @param type\n   */\n  public getPlotTheme(props: T, type: string) {\n    const { theme } = props;\n    if (isString(theme)) {\n      return deepMix({}, getGlobalTheme(theme), getTheme(type));\n    }\n    return deepMix({}, getGlobalTheme(), getTheme(type), theme);\n  }\n\n  /**\n   * 获取转化成 G2 的结构主题\n   * @param props\n   * @param type\n   */\n  public getTheme(props: T, type: string): any {\n    const plotG2Theme = convertToG2Theme(this.getPlotTheme(props, type));\n    const g2Theme = deepMix({}, G2DefaultTheme, plotG2Theme);\n    return g2Theme;\n  }\n\n  public getResponsiveTheme(type: string) {\n    return getResponsiveTheme(type) || getResponsiveTheme('default');\n  }\n}\n","const COLOR = '#5B8FF9';\n\nexport const COLOR_PLATE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E8684A',\n  '#6DC8EC',\n  '#9270CA',\n  '#FF9D4D',\n  '#269A99',\n  '#FF99C3',\n];\n\nexport const COLOR_PLATE_20 = [\n  '#5B8FF9',\n  '#BDD2FD',\n  '#5AD8A6',\n  '#BDEFDB',\n  '#5D7092',\n  '#C2C8D5',\n  '#F6BD16',\n  '#FBE5A2',\n  '#E8684A',\n  '#F6C3B7',\n  '#6DC8EC',\n  '#B6E3F5',\n  '#9270CA',\n  '#D3C6EA',\n  '#FF9D4D',\n  '#FFD8B8',\n  '#269A99',\n  '#AAD8D8',\n  '#FF99C3',\n  '#FFD6E7',\n];\nimport { some } from '@antv/util';\nimport { ViewConfig } from '../base/view-layer';\n\nexport const DESCRIPTION_BOTTOM_MARGIN = function(legendPosition) {\n  if (legendPosition && legendPosition.split('-')[0] === 'top') {\n    return 12;\n  }\n  return 24;\n};\n\nexport const TOP_BLEEDING = (props: ViewConfig) => {\n  const titleVisible = props.title && props.title.visible;\n  const descriptionVisible = props.description && props.description.visible;\n  if (titleVisible || descriptionVisible) {\n    // 由 title/description 的 bottom-padding 负责\n    return 12;\n  }\n  return 24;\n};\n\nexport const BOTTOM_BLEEDING = (props: ViewConfig) => {\n  if (\n    some(\n      props.interactions || [],\n      (interaction) =>\n        (interaction.type === 'slider' || interaction.type === 'scrollbar') &&\n        (interaction.cfg && interaction.cfg.type) !== 'vertical'\n    )\n  ) {\n    return 8;\n  }\n  return 24;\n};\n\nexport const DEFAULT_GLOBAL_THEME = {\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  defaultColor: COLOR, // 默认主题色\n  colors: COLOR_PLATE_10,\n  colors_20: COLOR_PLATE_20,\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fill: 'black',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false,\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'grey',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false,\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        line: {\n          style: {\n            stroke: 'rgba(0, 0, 0, 0.15)',\n            lineWidth: 1,\n            lineDash: [0, 0],\n          },\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1,\n        },\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0,0,0,0.45)',\n          lineWidth: 0.5,\n          length: 4,\n        },\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n        autoRotate: false,\n        autoHide: true,\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom',\n        },\n      },\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        line: {\n          style: {\n            stroke: 'rgba(0, 0, 0, 0.15)',\n            lineWidth: 1,\n            lineDash: [0, 0],\n          },\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1,\n        },\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 0.5,\n        },\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n        offset: 16,\n        autoRotate: true,\n        autoHide: true,\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: { fill: 'rgba(0, 0, 0, 0.65)', fontSize: 12 },\n      },\n    },\n    circle: {\n      autoHideLabel: false,\n      // gridType: 'line',\n      grid: {\n        line: {\n          style: {\n            lineDash: null,\n            lineWidth: 1,\n            stroke: 'rgba(0, 0, 0, 0.15)',\n          },\n        },\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n        },\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          length: 4,\n          alignWithLabel: true,\n        },\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n        autoRotate: true,\n        autoHide: true,\n      },\n      title: {\n        offset: 12,\n        style: { fill: 'rgba(0, 0, 0, 0.65)', fontSize: 12 },\n      },\n    },\n    radius: {\n      label: {\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n      },\n    },\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16],\n    margin: [0, 24, 24, 24],\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: '#595959',\n    },\n    style: {\n      fill: '#595959',\n      stroke: '#ffffff',\n      lineWidth: 2,\n    },\n  },\n  tooltip: {\n    'g2-tooltip': {\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.15)',\n    },\n    offset: 10,\n  },\n};\n","export { default as Line, LineConfig } from './line';\nexport { default as Treemap, TreemapConfig } from './treemap';\nexport { default as StepLine, StepLineConfig } from './step-line';\nexport { default as Bar, BarConfig } from './bar';\nexport { default as StackedBar, StackedBarConfig } from './stacked-bar';\nexport { default as GroupedBar, GroupedBarConfig } from './grouped-bar';\nexport { default as PercentStackedBar, PercentStackedBarConfig } from './percent-stacked-bar';\nexport { default as RangeBar, RangeBarConfig } from './range-bar';\nexport { default as Area, AreaConfig } from './area';\nexport { default as StackedArea, StackedAreaConfig } from './stacked-area';\nexport { default as PercentStackedArea, PercentStackedAreaConfig } from './percent-stacked-area';\nexport { default as Column, ColumnConfig } from './column';\nexport { default as GroupedColumn, GroupedColumnConfig } from './grouped-column';\nexport { default as StackedColumn, StackedColumnConfig } from './stacked-column';\nexport { default as RangeColumn, RangeColumnConfig } from './range-column';\nexport { default as PercentStackedColumn, PercentStackedColumnConfig } from './percent-stacked-column';\nexport { default as Pie, PieConfig } from './pie';\nexport { default as DensityHeatmap, DensityHeatmapConfig } from './density-heatmap';\nexport { default as Heatmap, HeatmapConfig } from './heatmap';\nexport { default as WordCloud, WordCloudConfig } from './word-cloud';\nexport { default as Rose, RoseConfig } from './rose';\nexport { default as Funnel, FunnelConfig } from './funnel';\nexport { default as StackedRose, StackedRoseConfig } from './stacked-rose';\nexport { default as GroupedRose, GroupedRoseConfig } from './grouped-rose';\nexport { default as Radar, RadarConfig } from './radar';\nexport { default as Liquid, LiquidConfig } from './liquid';\nexport { default as Histogram, HistogramConfig } from './histogram';\nexport { default as Density, DensityConfig } from './density';\nexport { default as Donut, DonutConfig } from './donut';\nexport { default as Waterfall, WaterfallConfig } from './waterfall';\nexport { default as Scatter, ScatterConfig } from './scatter';\nexport { default as Bubble, BubbleConfig } from './bubble';\nexport { default as Bullet, BulletConfig } from './bullet';\nexport { default as Calendar, CalendarConfig } from './calendar';\nexport { default as Gauge, GaugeConfig } from './gauge';\nexport { default as FanGauge, FanGaugeConfig } from './fan-gauge';\nexport { default as MeterGauge, MeterGaugeConfig } from './meter-gauge';\n\nexport * from './compatiblePlots';\n","import { deepMix, has, map, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { ICatAxis, ITimeAxis, IValueAxis, Label } from '../../interface/config';\nimport { extractScale, trySetScaleMinToZero } from '../../util/scale';\nimport { getPlotOption } from './animation/clipIn-with-data';\nimport responsiveMethods from './apply-responsive';\nimport LineLabel from './component/label/line-label';\nimport * as EventParser from './event';\nimport './theme';\nimport './apply-responsive/theme';\nimport { LooseMap } from '../../interface/types';\nimport { LineActive, LineSelect } from './interaction/index';\n\nexport interface LineStyle {\n  stroke?: string;\n  opacity?: number;\n  lineDash?: number[];\n  lineJoin?: 'bevel' | 'round' | 'miter';\n  lineCap?: 'butt' | 'round' | 'square';\n}\n\nexport interface PointStyle {\n  lineDash?: number[];\n  lineWidth?: number;\n  opacity?: string;\n  fill?: string;\n  stroke?: string;\n}\n\ntype IObject = LooseMap;\n\nconst GEOM_MAP = {\n  line: 'line',\n  point: 'point',\n};\n\nexport interface LineViewConfig extends ViewConfig {\n  /** 分组字段 */\n  seriesField?: string;\n  /** 是否平滑 */\n  smooth?: boolean;\n  /** 是否连接空数据 */\n  connectNulls?: boolean;\n  /** 折线extra图形样式 */\n  lineStyle?: LineStyle | ((...args: any[]) => LineStyle);\n  /** 折线数据点图形样式 */\n  point?: {\n    visible?: boolean;\n    shape?: string;\n    size?: number;\n    color?: string;\n    style?: PointStyle;\n  };\n  xAxis?: IValueAxis | ICatAxis | ITimeAxis;\n  yAxis?: IValueAxis;\n}\n\nexport interface LineLayerConfig extends LineViewConfig, LayerConfig {}\n\nexport default class LineLayer<T extends LineLayerConfig = LineLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<LineLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      connectNulls: false,\n      smooth: false,\n      lineSize: 2,\n      lineStyle: {\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      point: {\n        visible: false,\n        size: 3,\n        shape: 'circle',\n        style: {\n          stroke: '#fff',\n        },\n      },\n      label: {\n        visible: false,\n        type: 'point',\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4,\n      },\n    });\n  }\n\n  public line: any; // 保存line和point的配置项，用于后续的label、tooltip\n  public point: any;\n  public type: string = 'line';\n\n  public afterRender() {\n    const props = this.options;\n    if (this.options.label && this.options.label.visible && this.options.label.type === 'line') {\n      const label = new LineLabel({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n    // 响应式\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    return GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.xField] = {};\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n    scales[props.yField] = {};\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    trySetScaleMinToZero(\n      scales[props.yField],\n      map(props.data as any, (item) => item[props.yField])\n    );\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected addGeometry() {\n    // 配置线\n    this.addLine();\n    // 配置数据点\n    this.addPoint();\n  }\n\n  private addLine() {\n    const props = this.options;\n    this.line = getGeom('line', 'main', {\n      plot: this,\n    });\n\n    if (props.label) {\n      this.label();\n    }\n    this.setConfig('geometry', this.line);\n  }\n\n  protected addPoint() {\n    const props = this.options;\n    const defaultConfig = { visible: false };\n    if (props.point) {\n      props.point = deepMix(defaultConfig, props.point);\n    }\n    if (props.point && props.point.visible) {\n      this.point = getGeom('point', 'guide', {\n        plot: this,\n      });\n      this.setConfig('geometry', this.point);\n    }\n  }\n\n  protected label() {\n    const props = this.options;\n    const label = props.label as Label;\n\n    if (label.visible === false || this.singleLineLabelCheck()) {\n      this.line.label = false;\n      return;\n    }\n\n    /** label类型为point时，使用g2默认label */\n    if (label.type === 'point') {\n      this.line.label = getComponent('label', {\n        plot: this,\n        top: true,\n        labelType: label.type,\n        fields: [props.yField],\n        ...label,\n      });\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      // 关闭动画\n      this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    } else if (has(props, 'animation')) {\n      // 根据动画类型区分图形动画和群组动画\n      if (props.animation.type === 'clipingWithData' && props.padding !== 'auto') {\n        getPlotOption({\n          options: this.options,\n          view: this.view,\n        });\n        this.line.animate = {\n          appear: {\n            animation: 'clipingWithData',\n            easing: 'easeLinear',\n            duration: 10000,\n            options: {\n              test: true,\n            },\n            yField: props.yField,\n            seriesField: props.seriesField,\n            plot: this,\n          },\n        };\n        // 如果有数据点的话要追加数据点的动画\n        if (props.point && props.point.visible) {\n          this.point.animate = false;\n        }\n      }\n    }\n  }\n\n  protected applyInteractions() {\n    super.applyInteractions();\n    this.interactions.push(\n      new LineActive({\n        view: this.view,\n      })\n    );\n    this.interactions.push(\n      new LineSelect({\n        view: this.view,\n      })\n    );\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r as IObject;\n      responsive.method(this);\n    });\n  }\n\n  private singleLineLabelCheck() {\n    // 不允许单折线设置尾部跟随label\n    return !this.options.seriesField && this.options.label.type && this.options.label.type === 'line';\n  }\n}\n\nregisterPlotType('line', LineLayer);\n","import { Datum } from '../../dependents';\nimport { has, isString, isFunction, get } from '@antv/util';\nimport ElementParser from '../base';\n\nexport default class AreaParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.config = {\n      type: 'area',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      connectNulls: props.connectNulls || false,\n    };\n    if (props.smooth) {\n      this.config.shape = { values: ['smooth'] };\n    }\n    if (this._getColorMappingField() || props.color) {\n      this.parseColor();\n    }\n\n    if (props.areaStyle || (props.area && props.area.style)) {\n      this.parseStyle();\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: Datum = {};\n    const colorMappingField = this._getColorMappingField();\n    if (colorMappingField) {\n      config.fields = colorMappingField;\n    }\n    if (has(props, 'color')) {\n      const color = props.color;\n      if (isString(color)) {\n        config.values = [color];\n      } else if (isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color as [];\n      }\n    }\n    this.config.color = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.areaStyle ? props.areaStyle : props.area.style;\n    const config: Datum = {};\n    if (isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _getColorMappingField() {\n    const props = this.plot.options;\n    const colorMapper = ['stackField', 'seriesField'];\n    for (const m of colorMapper) {\n      if (get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n}\n","/** 简化折线点 */\nimport { registerShape } from '../../dependents';\nimport { deepMix, mix } from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport LineParser from './main';\nimport { getGlobalTheme } from '../../theme';\n\nregisterShape('line', 'miniLine', {\n  draw(cfg, container) {\n    const points = lineSimplification(cfg.points);\n    const path = [];\n    for (let i = 0; i < points.length; i++) {\n      const p = points[i];\n      const flag = i === 0 ? 'M' : 'L';\n      path.push([flag, p.x, p.y]);\n    }\n    const style = deepMix(\n      {},\n      {\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      cfg.style\n    );\n    const shape = container.addShape('path', {\n      attrs: mix(\n        {\n          path,\n          stroke: cfg.color || getGlobalTheme().defaultColor,\n          lineWidth: cfg.size || 2,\n        },\n        style\n      ),\n    });\n    return shape;\n  },\n});\n\nregisterShape('line', 'miniLineSmooth', {\n  draw(cfg, container) {\n    const points = lineSimplification(cfg.points);\n    const constraint = [\n      [0, 0],\n      [1, 1],\n    ];\n    const path = getSplinePath(points, false, constraint);\n    const shape = container.addShape('path', {\n      attrs: mix(\n        {\n          path,\n          stroke: cfg.color || getGlobalTheme().defaultColor,\n          lineWidth: cfg.size || 2,\n        },\n        cfg.style\n      ),\n    });\n    return shape;\n  },\n});\n\nexport default class MiniLineParser extends LineParser {\n  public init() {\n    super.init();\n    this.parseShape();\n  }\n\n  private parseShape() {\n    const props = this.plot.options;\n    if (props.smooth) {\n      this.config.shape = { values: ['miniLineSmooth'] };\n    } else {\n      this.config.shape = { values: ['miniLine'] };\n    }\n  }\n}\n","/** 负责将shape数据转为node，使shape根据node数据进行update */\nimport { IShape } from '@antv/g-base';\nimport { deepMix, each } from '@antv/util';\nimport * as MathUtil from '../../math';\n\ninterface NodesCfg {\n  shapes: IShape[];\n}\nexport interface IShapeNode {\n  width: number;\n  height: number;\n  centerX: number;\n  centerY: number;\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n  topLeft?: {};\n  topRight?: {};\n  bottomLeft?: {};\n  bottomRight?: {};\n  shape?: IShape;\n}\n\nexport default class ShapeNodes {\n  public shapes: IShape[];\n  public nodes: IShapeNode[];\n  public origion_nodes: IShapeNode[];\n  public type: string = 'shape';\n  constructor(cfg: NodesCfg) {\n    this.shapes = cfg.shapes;\n    this.nodes = [];\n    this._parserNodes();\n    this.origion_nodes = deepMix([], this.nodes);\n  }\n\n  public measure(shape) {\n    const node = deepMix({}, MathUtil.bboxOnRotate(shape), { shape });\n    return node;\n  }\n\n  public measureNodes() {\n    const nodes = [];\n    const shapes = [];\n    each(this.shapes, (shape, index) => {\n      const node = deepMix({}, this.nodes[index], this.measure(shape));\n      if (node.width !== 0 && node.height !== 0) {\n        nodes.push(node);\n        shapes.push(shape);\n      }\n      // this.nodes[index] = node;\n    });\n    this.nodes = nodes;\n    this.shapes = shapes;\n  }\n\n  public updateShapes() {}\n\n  private _parserNodes() {\n    each(this.shapes, (shape) => {\n      const node = this.measure(shape);\n      this.nodes.push(node);\n    });\n  }\n}\n","import columnWidth from './column-width';\nimport elementCollision from './element-collision';\nimport elementDist from './element-dist';\nimport elementDistVertical from './element-dist-vertical';\nimport elementWidth from './element-width';\nimport minRingThickness from './min-ring-thickness';\nimport ringThickness from './ring-thickness';\n\n/** constraints约束库 */\nexport interface IConstraint {\n  usage: string;\n  type: string;\n  method: (...args: any) => any;\n}\n\nexport const constraintsLib = {\n  elementDist,\n  elementDistVertical,\n  elementCollision,\n  elementWidth,\n  columnWidth,\n  ringThickness,\n  minRingThickness,\n};\n\nexport function registerResponsiveConstraint(name, constraint: IConstraint) {\n  // todo: 防止覆盖\n  constraintsLib[name] = constraint;\n}\n","import clearOverlapping from './clear-overlapping';\nimport datetimeStringAbbrevaite from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport nodeJitter from './node-jitter';\nimport nodeJitterUpward from './node-jitter-upward';\nimport nodesResampling from './nodes-resampling';\nimport nodesResamplingByAbbrevate from './nodes-resampling-by-abbrevate';\nimport nodesResamplingByChange from './nodes-resampling-by-change';\nimport nodesResamplingByState from './nodes-resampling-by-state';\nimport robustAbbrevaite from './robust-abbrevaite';\nimport textAbbreviate from './text-abbreviate';\nimport textHide from './text-hide';\nimport textRotation from './text-rotation';\nimport textWrapper from './text-wrapper';\n\nexport const rulesLib = {\n  textWrapper,\n  textRotation,\n  textAbbreviate,\n  textHide,\n  digitsAbbreviate,\n  datetimeStringAbbrevaite,\n  robustAbbrevaite,\n  nodesResampling,\n  nodesResamplingByAbbrevate,\n  nodesResamplingByChange,\n  nodesResamplingByState,\n  nodeJitter,\n  nodeJitterUpward,\n  clearOverlapping,\n};\n\nexport function registerResponsiveRule(name, method) {\n  // todo: 防止覆盖\n  rulesLib[name] = method;\n}\n","import { IShape } from '@antv/g-base';\nimport { each } from '@antv/util';\nimport textHide from './text-hide';\n\nexport default function clearOverlapping(shape: IShape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const current = nodes[index];\n  const overlapped = [];\n  /** 找到所有与当前点overlap的node */\n  if (!current.shape.get('blank')) {\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      const _shape = node.shape;\n      if (i !== index && !_shape.get('blank')) {\n        const isOverlap = isNodeOverlap(current, node);\n        if (isOverlap) {\n          overlapped.push(node);\n        }\n      }\n    }\n  }\n  /** overlap处理逻辑 */\n  if (overlapped.length > 0) {\n    overlapped.push(current);\n    overlapped.sort((a, b) => {\n      return b.top - a.top;\n    });\n    /** 隐藏除最高点以外的node */\n    each(overlapped, (node: any, idx: number) => {\n      if (idx > 0) {\n        const _shape = node.shape;\n        textHide(_shape);\n        _shape.set('blank', true);\n      }\n    });\n  }\n}\n\nexport function isNodeOverlap(nodeA, nodeB) {\n  if (nodeA.bottom < nodeB.top || nodeB.bottom < nodeA.top) {\n    return false;\n  }\n  if (nodeA.right < nodeB.left || nodeB.right < nodeA.left) {\n    return false;\n  }\n  return true;\n}\n","import { each } from '@antv/util';\nimport fecha from 'fecha';\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst MONTH = 31 * DAY;\nconst YEAR = 365 * DAY;\n\ninterface TimeStringAbbrevaiteCfg {\n  keep?: string[];\n}\n\nexport default function datetimeStringAbbrevaite(shape, option: TimeStringAbbrevaiteCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  let campareText;\n  if (index === nodes.length - 1) {\n    campareText = nodes[index - 1].shape.get('delegateObject').item.name;\n  } else {\n    campareText = nodes[index + 1].shape.get('delegateObject').item.name;\n  }\n  const compare = new Date(campareText);\n  /** 获取时间周期和时间间隔 */\n  const text = shape.get('delegateObject').item.name;\n  const current = new Date(text);\n  const startText = nodes[0].shape.get('delegateObject').item.name;\n  const start = new Date(startText);\n  const endText = nodes[nodes.length - 1].shape.get('delegateObject').item.name;\n  const end = new Date(endText);\n  const timeDuration = getDateTimeMode(start, end);\n  const timeCycle = getDateTimeMode(current, compare); // time frequency\n  // 如果duration和frequency在同一区间\n  if (timeDuration === timeCycle) {\n    if (index !== 0 && index !== nodes.length - 1) {\n      const formatter = sameSectionFormatter(timeDuration);\n      shape.attr('text', fecha.format(current, formatter));\n    }\n    return;\n  }\n  if (index !== 0) {\n    const previousText = nodes[index - 1].shape.get('delegateObject').item.name;\n    const previous = new Date(previousText);\n    const isAbbreviate = needAbbrevaite(timeDuration, current, previous);\n    if (isAbbreviate) {\n      const formatter = getAbbrevaiteFormatter(timeDuration, timeCycle);\n      shape.attr('text', fecha.format(current, formatter));\n      return;\n    }\n  }\n}\n\nfunction needAbbrevaite(mode, current, previous) {\n  const currentStamp = getTime(current, mode);\n  const previousStamp = getTime(previous, mode);\n  if (currentStamp !== previousStamp) {\n    return false;\n  }\n  return true;\n}\n\nfunction getDateTimeMode(a, b) {\n  let mode;\n  const dist = Math.abs(a - b);\n  const mapper = {\n    minute: [MINUTE, HOUR],\n    hour: [HOUR, DAY],\n    day: [DAY, MONTH],\n    month: [MONTH, YEAR],\n    year: [YEAR, Infinity],\n  };\n  each(mapper, (range, key) => {\n    if (dist >= range[0] && dist < range[1]) {\n      mode = key;\n    }\n  });\n  return mode;\n}\n\nfunction getAbbrevaiteFormatter(duration, cycle) {\n  const times = ['year', 'month', 'day', 'hour', 'minute'];\n  const formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  const startIndex = times.indexOf(duration) + 1;\n  const endIndex = times.indexOf(cycle);\n  let formatter = '';\n  for (let i = startIndex; i <= endIndex; i++) {\n    formatter += formatters[i];\n    if (i < endIndex) {\n      formatter += '-';\n    }\n  }\n  return formatter;\n}\n\nfunction sameSectionFormatter(mode) {\n  const times = ['year', 'month', 'day', 'hour', 'minute'];\n  const formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  const index = times.indexOf(mode);\n  const formatter = formatters[index];\n  return formatter;\n}\n\nfunction getTime(date: Date, mode: string) {\n  if (mode === 'year') {\n    return date.getFullYear();\n  }\n  if (mode === 'month') {\n    return date.getMonth() + 1;\n  }\n  if (mode === 'day') {\n    return date.getDay() + 1;\n  }\n\n  if (mode === 'hour') {\n    return date.getHours() + 1;\n  }\n\n  if (mode === 'minute') {\n    return date.getMinutes() + 1;\n  }\n}\n\n/*tslint:disable*/\nexport function isTime(string) {\n  const hourminExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]$/;\n  const hourminSecExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/;\n  return hourminExp.test(string) || hourminSecExp.test(string);\n}\n","import { IShape } from '@antv/g-base';\nimport { has, each } from '@antv/util';\nimport { getMedian } from '../../math';\n\ninterface DigitsAbbreviateCfg {\n  unit?: 'k' | 'm' | 'b' | 't' | 'auto';\n  formatter?: (val: number) => string;\n  decimal?: number;\n}\nconst unitMapper = {\n  k: { number: 1e3, index: 0 },\n  m: { number: 1e6, index: 1 },\n  b: { number: 1e9, index: 2 },\n  t: { number: 1e12, index: 3 },\n};\n\n// https://gist.github.com/MartinMuzatko/1060fe584d17c7b9ca6e\n// https://jburrows.wordpress.com/2014/11/18/abbreviating-numbers/\n/*tslint:disable*/\n\nexport default function digitsAbbreviate(shape: IShape, option: DigitsAbbreviateCfg, index, cfg) {\n  if (!has(cfg, 'node') || !has(cfg.node, 'node')) {\n    return;\n  }\n  const nodes = cfg.nodes.nodes;\n  const number = parseFloat(shape.get('origin').text);\n  if (number === 0) {\n    return;\n  }\n  if (option.formatter) {\n    shape.attr('text', option.formatter(number));\n    return;\n  }\n  if (option.unit) {\n    const { num, unitname } = abbravateDigitsByUnit(option, number);\n    shape.attr('text', num + unitname);\n  } else {\n    // 自动换算逻辑\n    // 根据中位数得到换算单位\n    const numbers = extractNumbers(nodes);\n    const median = getMedian(numbers);\n    const unitname = getUnitByNumber(median);\n    //根据数值的interval计算换算后保留的浮点数\n    const unitNumber = unitMapper[unitname].number;\n    const interval = getLinearNodesInterval(nodes);\n    const decimal = getDigitsDecimal(interval, unitNumber);\n    const { num } = abbravateDigitsByUnit({ unit: unitname, decimal }, number);\n    shape.attr('text', num + unitname);\n  }\n}\n\nfunction abbravateDigitsByUnit(option, number) {\n  const units = ['k', 'm', 'b', 't'];\n  let num;\n  let unitname;\n  if (option.unit === 'auto') {\n    /** auto formatt k-m-b-t */\n    const order = Math.floor(Math.log(number) / Math.log(1000));\n    unitname = units[order - 1];\n    num = (number / 1000 ** order).toFixed(option.decimal);\n  } else if (option.unit) {\n    const unit = unitMapper[option.unit];\n    unitname = option.unit;\n    num = (number / unit.number).toFixed(option.decimal);\n  }\n  return { num, unitname };\n}\n\nfunction getUnitByNumber(number) {\n  const units = ['k', 'm', 'b', 't'];\n  const order = Math.floor(Math.log(number) / Math.log(1000));\n  return units[order - 1];\n}\n\nfunction extractNumbers(nodes) {\n  const numbers = [];\n  each(nodes, (node) => {\n    const n = node as any;\n    const number = parseFloat(n.shape.get('origin').text);\n    numbers.push(number);\n  });\n  return numbers;\n}\n\nfunction getLinearNodesInterval(nodes) {\n  if (nodes.length >= 2) {\n    const a = parseFloat(nodes[0].shape.get('origin').text);\n    const b = parseFloat(nodes[1].shape.get('origin').text);\n    return Math.abs(a - b);\n  }\n  return 0;\n}\n\nfunction getDigitsDecimal(interval, unitNumber) {\n  const unitBit = Math.floor(Math.log10(unitNumber));\n  if (interval >= unitNumber) {\n    const remainder = interval % unitNumber;\n    if (remainder > 0) {\n      const remainderBit = Math.floor(Math.log10(remainder));\n      return Math.abs(remainderBit - unitBit);\n    }\n  } else {\n    const intervalBit = Math.floor(Math.log10(interval));\n    return Math.abs(intervalBit - unitBit);\n  }\n  return 0;\n}\n","import { each, isNumber } from '@antv/util';\nimport textHide from './text-hide';\n\nexport interface NodesResamplingCfg {\n  keep: string[];\n}\n\nexport default function nodesResampling(shape, option: NodesResamplingCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  /** nodeLength为偶数，则奇数index的shape保留，反之则偶数index的shape保留 */\n  const oddKeep = nodes.length % 2 === 0 ? false : true;\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n  {\n    const isOdd = index % 2 === 0 ? true : false;\n    if ((!oddKeep && isOdd) || (oddKeep && !isOdd)) {\n      textHide(shape);\n    }\n  }\n}\n\nexport function isKeep(keepCfg, index, nodes) {\n  /** 允许设置start end 或任意index */\n  const conditions = [];\n  each(keepCfg, (cfg) => {\n    if (cfg === 'start') {\n      conditions.push(index === 0);\n    } else if (cfg === 'end') {\n      conditions.push(index === nodes.length - 1);\n    } else if (isNumber(cfg)) {\n      conditions.push(index === cfg);\n    }\n  });\n  for (const condition of conditions) {\n    if (condition === true) {\n      return true;\n    }\n  }\n  return false;\n}\n","import { IShape } from '@antv/g-base';\n\ninterface TextAbbreviateCfg {\n  abbreviateBy?: 'start' | 'middle' | 'end';\n}\nexport default function textAbbreviate(shape: IShape, option: TextAbbreviateCfg) {\n  const abbreviateBy = option.abbreviateBy ? option.abbreviateBy : 'end';\n  const text = shape.attr('text');\n  let abbravateText;\n  if (abbreviateBy === 'end') {\n    abbravateText = `${text[0]}...`;\n  }\n  if (abbreviateBy === 'start') {\n    abbravateText = `...${text[text.length - 1]}`;\n  }\n  if (abbreviateBy === 'middle') {\n    abbravateText = `${text[0]}...${text[text.length - 1]}`;\n  }\n  shape.resetMatrix();\n  shape.attr({\n    text: abbravateText,\n    textAlign: 'center',\n    textBaseline: 'top',\n  });\n}\n","import { assign } from '@antv/util';\n\nexport default abstract class ApplyResponsive {\n  public plot: any;\n  public type: string;\n  public responsiveTheme: any;\n\n  constructor(cfg) {\n    assign(this, cfg);\n    this.init();\n  }\n\n  protected init() {\n    this.type = this.getType();\n    if (this.shouldApply()) {\n      this.apply();\n    }\n  }\n\n  protected abstract shouldApply(): boolean;\n\n  protected abstract apply(): void;\n\n  protected abstract getType(): string;\n}\n","import ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\nimport { each } from '@antv/util';\n\nexport default class ApplyResponsiveLabel extends ApplyResponsive {\n  protected shouldApply() {\n    if (!this.responsiveTheme.label || !this.responsiveTheme.label[this.type]) {\n      return false;\n    }\n    return true;\n  }\n\n  protected apply() {\n    const labelShapesContainer = this.plot.view.geometries[0].labelsContainer.get('children');\n    const labelShapes = [];\n    each(labelShapesContainer, (c) => {\n      labelShapes.push(c.get('children')[0]);\n    });\n    const nodes = new ShapeNodes({\n      shapes: labelShapes,\n    });\n    const { constraints, rules } = this.responsiveTheme.label[this.type];\n    new Responsive({\n      nodes,\n      constraints,\n      rules,\n      plot: this.plot,\n      region: this.plot.view.coordinateBBox,\n    });\n  }\n\n  protected getType() {\n    return null;\n  }\n}\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup, Geometry } from '../../../../dependents';\n\nconst DEFAULT_OFFSET = 8;\n\nexport interface LineLabelConfig {\n  visible?: boolean;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n}\n\nexport interface ILineLabel extends LineLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class LineLabel {\n  public options: LineLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  private container: IGroup;\n\n  constructor(cfg: ILineLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const elements = this.getGeometry().elements;\n    each(elements, (ele) => {\n      const shapeInfo = this.getShapeInfo(ele.shape);\n      const { style, offsetX, offsetY } = this.options;\n      const formatter = this.options.formatter;\n      const content = formatter ? formatter(shapeInfo.name) : shapeInfo.name;\n      this.container.addShape('text', {\n        attrs: deepMix({}, style, {\n          x: shapeInfo.x + offsetX,\n          y: shapeInfo.y + offsetY,\n          text: content,\n          fill: shapeInfo.color,\n          textAlign: 'left',\n          textBaseline: 'middle',\n        }),\n        name: 'label',\n      });\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: DEFAULT_OFFSET,\n      offsetY: 0,\n      style: clone(labelStyle),\n    };\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'line') as Geometry;\n  }\n\n  protected getShapeInfo(shape) {\n    const originPoints = shape.get('origin').points;\n    const lastPoint = originPoints[originPoints.length - 1];\n    const color = shape.attr('stroke');\n    const { seriesField } = this.plot.options;\n    const name = shape.get('origin').data[0][seriesField];\n    return { x: lastPoint.x, y: lastPoint.y, color, name };\n  }\n}\n","/**\n * 转化率组件，用于柱状图和条形图，展示从一个值到另一个值的转化率。\n */\nimport { IGroup } from '@antv/g-base';\nimport { View } from '@antv/g2';\nimport { DEFAULT_ANIMATE_CFG } from '@antv/g2/lib/animate';\nimport { each, deepMix, get } from '@antv/util';\n\nfunction parsePoints(shape, coord) {\n  const parsedPoints = [];\n  const points = shape.get('origin').points;\n  each(points, (p) => {\n    parsedPoints.push(coord.convertPoint(p));\n  });\n  return parsedPoints;\n}\nexport interface ConversionTagOptions {\n  visible: boolean;\n  size?: number;\n  spacing?: number;\n  offset?: number;\n  arrow?: ArrowOptions;\n  value?: ValueOptions;\n  animation?: any;\n  transpose?: boolean;\n}\n\ninterface ArrowOptions {\n  visible: boolean;\n  headSize?: number;\n  style?: any;\n}\n\ninterface ValueOptions {\n  visible: boolean;\n  style?: any;\n  formatter?: (valueUpper: any, valueLower: any) => string;\n}\n\nexport interface ConversionTagConfig extends ConversionTagOptions {\n  view: View;\n  field: string;\n}\n\nexport default class ConversionTag {\n  public static getDefaultOptions({ transpose }: ConversionTagConfig): ConversionTagOptions {\n    return {\n      visible: true,\n      size: transpose ? 32 : 80,\n      spacing: transpose ? 8 : 12,\n      offset: transpose ? 32 : 0,\n      arrow: {\n        visible: true,\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      value: {\n        visible: true,\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n        },\n        formatter: (valueUpper: any, valueLower: any) => `${((100 * valueLower) / valueUpper).toFixed(2)}%`,\n      },\n      animation: deepMix({}, DEFAULT_ANIMATE_CFG),\n    };\n  }\n\n  private view: View;\n  private container: IGroup;\n  private transpose?: boolean;\n  private field: string;\n  private size: number;\n  private offset: number;\n  private spacing: number;\n  private arrow: ArrowOptions;\n  private value: ValueOptions;\n  private animation: boolean;\n\n  constructor(cfg: ConversionTagConfig) {\n    // @ts-ignore\n    deepMix(this, this.constructor.getDefaultOptions(cfg), cfg);\n    this._init();\n  }\n\n  private _init() {\n    const layer = this.view.backgroundGroup;\n    this.container = layer.addGroup();\n    this.draw();\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n  }\n\n  public draw() {\n    const { transpose } = this;\n    const { values } = this.view.getScaleByField(this.field);\n    const geometry = this.view.geometries[0];\n    const shapes = geometry.getShapes();\n\n    let shapeLower, valueLower, shapeUpper, valueUpper;\n\n    if (transpose) {\n      shapes.forEach((shapeLower, i) => {\n        valueLower = values[i];\n        if (i++ > 0) {\n          this._drawTag(shapeUpper, valueUpper, shapeLower, valueLower);\n        }\n        valueUpper = valueLower;\n        shapeUpper = shapeLower;\n      });\n    } else {\n      shapes.forEach((shapeUpper, i) => {\n        valueUpper = values[i];\n        if (i++ > 0) {\n          this._drawTag(shapeUpper, valueUpper, shapeLower, valueLower);\n        }\n        valueLower = valueUpper;\n        shapeLower = shapeUpper;\n      });\n    }\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  private _drawTag(shapeUpper, valueUpper, shapeLower, valueLower) {\n    const { transpose } = this;\n    const coord = this.view.geometries[0].coordinate;\n    const pointUpper = parsePoints(shapeUpper, coord)[transpose ? 3 : 0];\n    const pointLower = parsePoints(shapeLower, coord)[transpose ? 0 : 3];\n    this._drawTagArrow(pointUpper, pointLower);\n    this._drawTagValue(pointUpper, valueUpper, pointLower, valueLower);\n  }\n\n  private _drawTagArrow(pointUpper, pointLower) {\n    let { spacing } = this;\n    const { size, offset, animation, transpose } = this;\n    const { headSize } = this.arrow;\n    const totalHeight = pointLower.y - pointUpper.y;\n    const totalWidth = pointLower.x - pointUpper.x;\n\n    let points;\n\n    if (transpose) {\n      if ((totalWidth - headSize) / 2 < spacing) {\n        // 当柱间距不足容纳箭头尖与间隔时，画三角并挤占间隔\n        spacing = Math.max(1, (totalWidth - headSize) / 2);\n        points = [\n          [pointUpper.x + spacing, pointUpper.y - offset],\n          [pointUpper.x + spacing, pointUpper.y - offset - size],\n          [pointLower.x - spacing, pointLower.y - offset - size / 2],\n        ];\n      } else {\n        // 当柱间距足够时，画完整图形并留出间隔。\n        points = [\n          [pointUpper.x + spacing, pointUpper.y - offset],\n          [pointUpper.x + spacing, pointUpper.y - offset - size],\n          [pointLower.x - spacing - headSize, pointLower.y - offset - size],\n          [pointLower.x - spacing, pointLower.y - offset - size / 2],\n          [pointLower.x - spacing - headSize, pointLower.y - offset],\n        ];\n      }\n    } else {\n      if ((totalHeight - headSize) / 2 < spacing) {\n        // 当柱间距不足容纳箭头尖与间隔时，画三角并挤占间隔\n        spacing = Math.max(1, (totalHeight - headSize) / 2);\n        points = [\n          [pointUpper.x + offset, pointUpper.y + spacing],\n          [pointUpper.x + offset + size, pointUpper.y + spacing],\n          [pointLower.x + offset + size / 2, pointLower.y - spacing],\n        ];\n      } else {\n        // 当柱间距足够时，画完整图形并留出间隔。\n        points = [\n          [pointUpper.x + offset, pointUpper.y + spacing],\n          [pointUpper.x + offset + size, pointUpper.y + spacing],\n          [pointLower.x + offset + size, pointLower.y - spacing - headSize],\n          [pointLower.x + offset + size / 2, pointLower.y - spacing],\n          [pointLower.x + offset, pointLower.y - spacing - headSize],\n        ];\n      }\n    }\n\n    const tagArrow = this.container.addShape('polygon', {\n      name: 'arrow',\n      attrs: {\n        ...this.arrow.style,\n        points,\n      },\n    });\n\n    if (animation !== false) {\n      this._fadeInTagShape(tagArrow);\n    }\n  }\n\n  private _drawTagValue(pointUpper, valueUpper, pointLower, valueLower) {\n    const { size, offset, animation, transpose } = this;\n\n    const text = this.value.formatter(valueUpper, valueLower);\n\n    const tagValue = this.container.addShape('text', {\n      name: 'value',\n      attrs: {\n        ...this.value.style,\n        text,\n        x: transpose ? (pointUpper.x + pointLower.x) / 2 : pointUpper.x + offset + size / 2,\n        y: transpose ? pointUpper.y - offset - size / 2 : (pointUpper.y + pointLower.y) / 2,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      },\n    });\n\n    if (transpose) {\n      const totalWidth = pointLower.x - pointUpper.x;\n      const { width: textWidth } = tagValue.getBBox();\n      if (textWidth > totalWidth) {\n        const cWidth = textWidth / text.length;\n        const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n        const textAdjusted = `${text.slice(0, cEnd)}...`;\n        tagValue.attr('text', textAdjusted);\n      }\n    }\n\n    if (animation !== false) {\n      this._fadeInTagShape(tagValue);\n    }\n  }\n\n  private _fadeInTagShape(shape) {\n    const { animation } = this;\n\n    const opacity = shape.attr('opacity');\n    shape.attr('opacity', 0);\n    const { duration } = get(animation, 'appear', DEFAULT_ANIMATE_CFG.appear);\n    shape.animate({ opacity }, duration);\n  }\n}\n","import { each, deepMix, clone } from '@antv/util';\nimport { View, IGroup } from '../../../dependents';\nimport { rgb2arr, mappingColor } from '../../../util/color';\nimport BBox from '../../../util/bbox';\n\nconst DEFAULT_OFFSET = 8;\n\nexport interface BarLabelConfig {\n  visible?: boolean;\n  position?: string;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IBarLabel extends BarLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class BarLabel {\n  public options: BarLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  protected coord: any;\n  protected container: IGroup;\n\n  constructor(cfg: IBarLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const { elements, coordinate } = this.getGeometry();\n    this.coord = coordinate;\n    each(elements, (ele) => {\n      const { shape } = ele;\n      const style = clone(this.options.style);\n      const value = this.getValue(shape);\n      const position = this.getPosition(shape, value);\n      const textAlign = this.getTextAlign(value);\n      const color = this.getTextColor(shape);\n      if (this.options.position !== 'right' && this.options.adjustColor && color !== 'black') {\n        style.stroke = null;\n      }\n      const formatter = this.options.formatter;\n      const content = formatter ? formatter(value) : value;\n      const label = this.container.addShape('text', {\n        attrs: deepMix({}, style, {\n          x: position.x,\n          y: position.y,\n          text: content,\n          fill: color,\n          textAlign,\n          textBaseline: 'middle',\n        }),\n        name: 'label',\n      });\n      this.adjustLabel(label, shape);\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  protected getPosition(shape, value) {\n    const bbox = this.getShapeBbox(shape);\n    const { minX, maxX, minY, height, width } = bbox;\n    const { offsetX, offsetY, position } = this.options;\n    const y = minY + height / 2 + offsetY;\n    const dir = value < 0 ? -1 : 1;\n    let x;\n    if (position === 'left') {\n      const root = value > 0 ? minX : maxX;\n      x = root + offsetX * dir;\n    } else if (position === 'right') {\n      x = maxX + offsetX * dir;\n    } else {\n      x = minX + width / 2 + offsetX;\n    }\n\n    return { x, y };\n  }\n\n  protected getTextColor(shape) {\n    if (this.options.adjustColor && this.options.position !== 'right') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = this.options.style.fill;\n    return defaultColor;\n  }\n\n  protected getTextAlign(value) {\n    const { position } = this.options;\n    const alignOptions = {\n      right: 'left',\n      left: 'left',\n      middle: 'center',\n    };\n    const alignOptionsReverse = {\n      right: 'right',\n      left: 'right',\n      middle: 'center',\n    };\n    if (value < 0) {\n      return alignOptionsReverse[position];\n    }\n    return alignOptions[position];\n  }\n\n  protected getValue(shape) {\n    const data = shape.get('origin').data;\n    return data[this.plot.options.xField];\n  }\n\n  protected adjustLabel(label, shape) {\n    if (this.options.adjustPosition && this.options.position !== 'right') {\n      const labelRange = label.getBBox();\n      const shapeRange = shape.getBBox();\n      if (shapeRange.width <= labelRange.width) {\n        const xPosition = shapeRange.maxX + this.options.offsetX;\n        label.attr('x', xPosition);\n        label.attr('fill', this.options.style.fill);\n      }\n    }\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: DEFAULT_OFFSET,\n      offsetY: 0,\n      style: clone(labelStyle),\n      adjustPosition: true,\n    };\n  }\n\n  protected getShapeBbox(shape) {\n    const points = [];\n    each(shape.get('origin').points, (p) => {\n      points.push(this.coord.convertPoint(p));\n    });\n    const bbox = new BBox(\n      points[0].x,\n      points[2].y,\n      Math.abs(points[1].x - points[0].x),\n      Math.abs(points[0].y - points[2].y)\n    );\n    return bbox;\n  }\n\n  private getGeometry() {\n    const { geometries } = this.view;\n    let lineGeom;\n    each(geometries, (geom) => {\n      if (geom.type === 'interval') {\n        lineGeom = geom;\n      }\n    });\n    return lineGeom;\n  }\n}\n","import { deepMix, valuesOfKey, clone } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption, timeIntervals } from '../../interface/config';\nimport BaseBarLayer, { BarViewConfig } from '../bar/layer';\n\nexport interface GroupedBarViewConfig extends BarViewConfig {\n  groupField: string;\n}\n\nexport interface GroupedBarLayerConfig extends GroupedBarViewConfig, LayerConfig {}\n\nexport default class GroupedBarLayer extends BaseBarLayer<GroupedBarLayerConfig> {\n  public static getDefaultOptions(): Partial<GroupedBarViewConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        grid: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        visible: true,\n        title: {\n          visible: false,\n        },\n      },\n      label: {\n        visible: true,\n        position: 'right',\n        offset: 8,\n        adjustColor: true,\n      },\n      legend: {\n        visible: true,\n        position: 'right-top',\n        offsetY: 0,\n      },\n    });\n  }\n\n  public type: string = 'groupedBar';\n\n  public afterRender() {\n    super.afterRender();\n    const names = valuesOfKey(this.options.data, this.options.groupField);\n    this.view.on('tooltip:change', (e) => {\n      const { items } = e;\n      const origin_items = clone(items);\n      for (let i = 0; i < names.length; i++) {\n        const name = names[i];\n        for (let j = 0; j < origin_items.length; j++) {\n          const item = origin_items[j];\n          if (item.name === name) {\n            e.items[i] = item;\n          }\n        }\n      }\n    });\n  }\n\n  protected scale() {\n    const defaultMeta = {};\n    defaultMeta[this.options.groupField] = {\n      values: valuesOfKey(this.options.data, this.options.groupField),\n    };\n    if (!this.options.meta) {\n      this.options.meta = defaultMeta;\n    } else {\n      this.options.meta = deepMix({}, this.options.meta, defaultMeta);\n    }\n    super.scale();\n  }\n\n  protected adjustBar(bar: ElementOption) {\n    bar.adjust = [\n      {\n        type: 'dodge',\n        marginRatio: 0.1,\n      },\n    ];\n  }\n}\n\nregisterPlotType('groupedBar', GroupedBarLayer);\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport StackedBar, { StackedBarViewConfig } from '../stacked-bar/layer';\nimport { DataItem } from '../../interface/config';\nimport { transformDataPercentage } from '../../util/data';\n\nexport type PercentStackedBarViewConfig = StackedBarViewConfig;\nexport interface PercentStackedBarLayerConfig extends PercentStackedBarViewConfig, LayerConfig {}\n\nexport default class PercentStackedBarLayer extends StackedBar<PercentStackedBarLayerConfig> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n          formatter: (v) => `${v} (%)`,\n        },\n        label: {\n          visible: false,\n          formatter: (v) => {\n            const reg = /%/gi;\n            return v.replace(reg, '');\n          },\n        },\n      },\n    });\n  }\n  public type: string = 'percentStackedBar';\n\n  protected processData(originData?: DataItem[]) {\n    const { xField, yField } = this.options;\n    const processData = super.processData(originData);\n\n    return transformDataPercentage(processData, yField, [xField]);\n  }\n\n  protected scale() {\n    const metaConfig = {};\n    const { xField } = this.options;\n    metaConfig[xField] = {\n      tickCount: 6,\n      alias: `${xField} (%)`,\n      min: 0,\n      max: 1,\n      formatter: (v) => {\n        const formattedValue = (v * 100).toFixed(1);\n        return `${formattedValue}%`;\n      },\n    };\n    this.options.meta = metaConfig;\n    super.scale();\n  }\n}\n\nregisterPlotType('percentStackedBar', PercentStackedBarLayer);\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport StackedArea, { StackedAreaViewConfig } from '../stacked-area/layer';\nimport { DataItem } from '../../interface/config';\nimport { transformDataPercentage } from '../../util/data';\n\nexport type PercentStackedAreaViewConfig = StackedAreaViewConfig;\nexport interface PercentStackedAreaLayerConfig extends PercentStackedAreaViewConfig, LayerConfig {}\n\nexport default class PercentStackedAreaLayer extends StackedArea<PercentStackedAreaLayerConfig> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      yAxis: {\n        visible: true,\n        label: {\n          visible: true,\n          formatter: (v) => {\n            const reg = /%/gi;\n            return v.replace(reg, '');\n          },\n        },\n      },\n    });\n  }\n  public type: string = 'percentStackedArea';\n\n  protected processData(originData?: DataItem[]) {\n    const { xField, yField } = this.options;\n\n    return transformDataPercentage(originData, xField, [yField]);\n  }\n\n  protected scale() {\n    const metaConfig = {};\n    const { yField } = this.options;\n    metaConfig[this.options.yField] = {\n      tickCount: 6,\n      alias: `${yField} (%)`,\n      min: 0,\n      max: 1,\n      formatter: (v) => {\n        const formattedValue = (v * 100).toFixed(1);\n        return `${formattedValue}%`;\n      },\n    };\n    this.options.meta = deepMix({}, metaConfig, this.options.meta);\n    super.scale();\n  }\n}\n\nregisterPlotType('percentStackedArea', PercentStackedAreaLayer);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Column: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption } from '../../interface/config';\nimport BaseColumnLayer, { ColumnViewConfig } from '../column/layer';\n\nexport interface GroupedColumnViewConfig extends ColumnViewConfig {\n  groupField: string;\n}\n\nexport interface GroupedColumnLayerConfig extends GroupedColumnViewConfig, LayerConfig {}\n\nexport default class GroupedColumnLayer extends BaseColumnLayer<GroupedColumnLayerConfig> {\n  public static getDefaultOptions(): Partial<GroupedColumnViewConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      yAxis: {\n        title: {\n          visible: true,\n        },\n      },\n    });\n  }\n  public type: string = 'groupedColumn';\n  public getResponsiveTheme() {\n    return this.themeController.getResponsiveTheme('column');\n  }\n\n  protected addGeometry() {\n    super.addGeometry();\n  }\n\n  protected adjustColumn(column: ElementOption) {\n    column.adjust = [\n      {\n        type: 'dodge',\n        marginRatio: 0.1,\n      },\n    ];\n  }\n}\n\nregisterPlotType('groupedColumn', GroupedColumnLayer);\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport StackedColumn, { StackedColumnViewConfig } from '../stacked-column/layer';\nimport { transformDataPercentage } from '../../util/data';\nimport { DataItem } from '../../interface/config';\n\nexport type PercentStackedColumnViewConfig = StackedColumnViewConfig;\nexport interface PercentStackedColumnLayerConfig extends PercentStackedColumnViewConfig, LayerConfig {}\n\nexport default class PercentStackedColumnLayer extends StackedColumn<PercentStackedColumnLayerConfig> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      label: {\n        visible: true,\n        position: 'middle',\n        offset: 0,\n      },\n      yAxis: {\n        visible: true,\n        tick: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n        },\n        label: {\n          visible: false,\n        },\n      },\n    });\n  }\n  public type: string = 'percentStackedColumn';\n\n  protected processData(originData?: DataItem[]) {\n    const { xField, yField } = this.options;\n    return transformDataPercentage(originData || [], xField, [yField]);\n  }\n\n  protected scale() {\n    const metaConfig = {};\n    const { yField } = this.options;\n    metaConfig[yField] = {\n      tickCount: 6,\n      alias: `${yField} (%)`,\n      min: 0,\n      max: 1,\n      formatter: (v) => {\n        const formattedValue = (v * 100).toFixed(1);\n        return `${formattedValue}%`;\n      },\n    };\n    this.options.meta = metaConfig;\n    super.scale();\n  }\n}\n\nregisterPlotType('percentStackedColumn', PercentStackedColumnLayer);\n","import { deepMix } from '@antv/util';\nimport * as EventParser from './event';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { DataItem, Label } from '../../interface/config';\nimport { getGeom } from '../../geoms/factory';\nimport { LayerConfig } from '../../base/layer';\nimport { LineStyle } from '../line/layer';\nimport { getPieLabel, PieLabelConfig } from './component/label';\nimport SpiderLabel from './component/label/spider-label';\nimport { registerPlotType } from '../../base/global';\nimport PieBaseLabel from './component/label/base-label';\nimport './theme';\n\ninterface PieStyle extends LineStyle {\n  stroke?: string;\n  lineWidth?: number;\n}\n\nexport interface PieViewConfig extends Omit<ViewConfig, 'label'> {\n  angleField: string;\n  colorField?: string;\n  radius?: number;\n  pieStyle?: PieStyle | ((...args: any[]) => PieStyle);\n  label?: PieLabelConfig;\n}\n\nexport interface PieLayerConfig extends PieViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  pie: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  pie: 'column',\n};\n\n// @ts-ignore\nexport default class PieLayer<T extends PieLayerConfig = PieLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: false,\n        allowOverlap: false,\n        line: {\n          visible: true,\n          smooth: true,\n        },\n      },\n      legend: {\n        visible: true,\n        position: 'right-center',\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      pieStyle: {\n        stroke: 'white',\n        lineWidth: 1,\n      },\n    });\n  }\n\n  public pie: any;\n  public type: string = 'pie';\n  public labelComponent: SpiderLabel | PieBaseLabel;\n\n  public afterRender() {\n    super.afterRender();\n    const options = this.options;\n    /** 蜘蛛布局label */\n    if (options.label && options.label.visible) {\n      // 清除，避免二次渲染\n      if (this.labelComponent) {\n        this.labelComponent.clear();\n      }\n      const labelConfig = options.label as Label;\n      if (labelConfig.type === 'spider') {\n        this.labelComponent = new SpiderLabel({\n          view: this.view,\n          fields: options.colorField ? [options.angleField, options.colorField] : [options.angleField],\n          ...this.options.label,\n        });\n        this.labelComponent.render();\n      } else {\n        const LabelCtor = getPieLabel(labelConfig.type);\n        this.labelComponent = new LabelCtor(this, options.label);\n        this.labelComponent.render();\n      }\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    scales[props.angleField] = {};\n    scales[props.colorField] = { type: 'cat' };\n    this.setConfig('scales', scales);\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    const key = this.options.angleField;\n    return data.map((item) => ({\n      ...item,\n      [key]: typeof item[key] === 'string' ? Number.parseFloat(item[key] as 'string') : item[key],\n    }));\n  }\n\n  protected axis() {}\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig: any = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        // @ts-ignore 业务定制,不开放配置\n        innerRadius: props.innerRadius || 0,\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const pie = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [1, props.angleField],\n    });\n    pie.adjust = [{ type: 'stack' }];\n    this.pie = pie;\n    if (props.label) {\n      this.label();\n    }\n    this.setConfig('geometry', pie);\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.pie.animate = false;\n    }\n  }\n\n  protected annotation() {}\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private label() {\n    // 不使用 g2 内置label\n    this.pie.label = false;\n  }\n}\n\nregisterPlotType('pie', PieLayer);\n","import PieBaseLabel, { PieLabelConfig } from './base-label';\nimport PieInnerLabel from './inner-label';\nimport PieOuterLabel from './outer-label';\nimport PieOuterCenterLabel from './outer-center-label';\n\nconst PieLabels = {\n  inner: PieInnerLabel,\n  outer: PieOuterLabel,\n  'outer-center': PieOuterCenterLabel,\n};\n\nexport function getPieLabel(type: string): new (plot: any, C: PieLabelConfig) => PieBaseLabel {\n  if (!PieLabels[type]) {\n    console.warn(`this label ${type} is not registered`);\n    return;\n  }\n  return PieLabels[type];\n}\n\nexport { PieLabelConfig };\n","import { modifyCSS } from '@antv/dom-util';\nimport { deepMix, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport PieLayer, { PieViewConfig } from '../pie/layer';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport * as EventParser from './event';\nimport { LooseMap } from '../../interface/types';\nimport RingStatistic from './component/ring-statistic';\nimport { getPieLabel } from '../pie/component/label';\n\nexport interface DonutViewConfig extends PieViewConfig {\n  innerRadius?: number;\n  /** 指标卡用于显示总计值和各项数据 */\n\n  statistic?: {\n    visible: boolean;\n    /** 指标卡 总计值 标签 */\n    totalLabel: string;\n    /** 触发显示的事件 */\n    triggerOn: 'mouseenter';\n    /** 触发隐藏的事件 */\n    triggerOff: 'mouseleave';\n    content?: string;\n    htmlContent?: (...args: any) => any;\n  };\n}\n\nexport interface DonutLayerConfig extends DonutViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  ring: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'ring',\n};\n\nexport default class DonutLayer<T extends DonutLayerConfig = DonutLayerConfig> extends PieLayer<T> {\n  public static centralId = 0;\n  public type: string = 'donut';\n  private statistic: any; // 保存指标卡实例用于响应交互\n  private statisticClass: string; // 指标卡的class,用于重点文本容器的唯一标识，一个页面多个环图时，共用 class 交互会有问题。\n\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      radius: 0.6,\n      innerRadius: 0.64,\n      statistic: {\n        visible: true,\n        totalLabel: '总计',\n        triggerOn: 'mouseenter',\n        triggerOff: 'mouseleave',\n      },\n    });\n  }\n\n  public beforeInit() {\n    super.beforeInit();\n    DonutLayer.centralId++;\n    this.statisticClass = `statisticClassId${DonutLayer.centralId}`;\n    this.adjustLabelDefaultOptions();\n    if (this.options.statistic && this.options.statistic.triggerOn) {\n      this.options.tooltip.visible = false;\n    }\n    /** 响应式图形 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    const options = this.options;\n    const container = this.canvas.get('container');\n    if (this.statistic) {\n      container.removeChild(this.statistic.wrapperNode);\n    }\n    /**环图中心文本 */\n    if (this.options.statistic && this.options.statistic.visible) {\n      const container = this.canvas.get('container');\n      modifyCSS(container, { position: 'relative' });\n      this.statistic = new RingStatistic({\n        container,\n        view: this.view,\n        plot: this,\n        statisticClass: this.statisticClass,\n        ...this.options.statistic,\n      });\n      this.statistic.render();\n      /**响应交互 */\n      if (this.options.statistic.triggerOn) {\n        //this.triggerOnStatistic();\n        this.statistic.triggerOn();\n      }\n    }\n    if (options.label && options.label.visible) {\n      const LabelCtor = getPieLabel(options.label.type);\n      const label = new LabelCtor(this, options.label);\n      label.render();\n    }\n  }\n\n  public destroy() {\n    if (this.statistic) {\n      this.statistic.destroy();\n    }\n    super.destroy();\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig: any = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius,\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r as LooseMap;\n      responsive.method(this);\n    });\n  }\n\n  /** @override 调整 label 默认 options */\n  protected adjustLabelDefaultOptions() {\n    const labelConfig = this.options.label;\n    if (labelConfig && labelConfig.type === 'inner') {\n      const labelStyleConfig = (labelConfig.style || {}) as LooseMap;\n      if (!labelStyleConfig.textAlign) {\n        labelStyleConfig.textAlign = 'center';\n      }\n      labelConfig.style = labelStyleConfig;\n      if (!labelConfig.offset) {\n        labelConfig.offset = `${((this.options.innerRadius - 1) / 2) * 100}%`;\n      }\n    }\n  }\n}\n\nregisterPlotType('donut', DonutLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { isArray } from '@antv/util';\nimport ColumnLabel, { IColumnLabel } from '../../../column/component/label';\nimport { VALUE_FIELD } from '../../layer';\n\nexport default class WaterfallLabels extends ColumnLabel {\n  constructor(cfg: IColumnLabel) {\n    super(cfg);\n  }\n  public adjustLabel(label, shape) {\n    const MARGIN = 2;\n    const shapeBox = shape.getBBox();\n    const origin = shape.cfg.origin.data;\n    const values = origin[VALUE_FIELD];\n    const diff = origin[this.plot.options.yField];\n    const value = isArray(values) ? values[1] : values;\n    let yPos = (shapeBox.minY + shapeBox.maxY) / 2;\n    let textBaseline = 'bottom';\n\n    if (diff < 0) {\n      yPos = shapeBox.maxY + MARGIN;\n      textBaseline = 'top';\n    } else {\n      yPos = shapeBox.minY - MARGIN;\n    }\n\n    label.attr('y', yPos);\n    label.attr('text', value);\n    label.attr('textBaseline', textBaseline);\n  }\n}\n","import { deepMix, isNil, get, has } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { ICatAxis, ITimeAxis, IValueAxis, Label, DataItem } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport Quadrant, { QuadrantConfig } from './components/quadrant';\nimport Trendline, { TrendlineConfig } from './components/trendline';\nimport * as EventParser from './event';\nimport { getComponent } from '../../components/factory';\nimport './theme';\n\nexport interface PointStyle {\n  /** 圆边颜色 */\n  stroke?: string;\n  /** 圆边大小 */\n  lineWidth?: number;\n  /** 圆边透明度 */\n  strokeOpacity?: number;\n  /** 填充透明度 */\n  fillOpacity?: number;\n  /** 整体透明度 */\n  opacity?: number;\n}\n\nconst G2_GEOM_MAP = {\n  scatter: 'point',\n};\n\nconst PLOT_GEOM_MAP = {\n  point: 'point',\n};\n\nexport interface PointViewConfig extends ViewConfig {\n  /** 散点样式 */\n  pointStyle?: PointStyle | ((...args: any) => PointStyle);\n  /** 颜色字段 */\n  colorField?: string | string[];\n  /** x 轴配置 */\n  xAxis?: ICatAxis | ITimeAxis | IValueAxis;\n  /** y 轴配置 */\n  yAxis?: ICatAxis | ITimeAxis | IValueAxis;\n  quadrant?: QuadrantConfig;\n  trendline?: TrendlineConfig;\n}\n\nexport interface ScatterViewConfig extends PointViewConfig {\n  /** 散点大小 */\n  pointSize?: number | any;\n}\n\nexport interface ScatterLayerConfig extends ScatterViewConfig, LayerConfig {}\n\nexport default class ScatterLayer<T extends ScatterLayerConfig = ScatterLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      pointSize: 4,\n      pointStyle: {\n        lineWidth: 1,\n        strokeOpacity: 1,\n        fillOpacity: 0.95,\n        stroke: '#fff',\n      },\n      xAxis: {\n        nice: true,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        nice: true,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: true,\n        },\n      },\n      tooltip: {\n        visible: true,\n        // false 会造成 tooltip 只能显示一条数据，true 会造成 tooltip 在空白区域也会显示\n        shared: null,\n        showMarkers: false,\n        showCrosshairs: false,\n      },\n      label: {\n        visible: false,\n      },\n      shape: 'circle',\n    });\n  }\n\n  public type: string = 'scatter';\n  public points: any;\n  protected quadrant: Quadrant;\n  protected trendline: Trendline;\n\n  public afterRender() {\n    super.afterRender();\n    if (this.quadrant) {\n      this.quadrant.destroy();\n    }\n    if (this.trendline) {\n      this.trendline.destroy();\n    }\n    if (this.options.quadrant && this.options.quadrant.visible) {\n      this.quadrant = new Quadrant({\n        view: this.view,\n        plotOptions: this.options,\n        ...this.options.quadrant,\n      });\n      this.quadrant.render();\n    }\n    if (this.options.trendline && this.options.trendline.visible) {\n      this.trendline = new Trendline({\n        view: this.view,\n        plotOptions: this.options,\n        ...this.options.trendline,\n      });\n      this.trendline.render();\n    }\n  }\n\n  public destroy() {\n    if (this.quadrant) {\n      this.quadrant.destroy();\n      this.quadrant = null;\n    }\n    if (this.trendline) {\n      this.trendline.destroy();\n      this.trendline = null;\n    }\n    super.destroy();\n  }\n\n  private isValidLinearValue(value) {\n    if (isNil(value)) {\n      return false;\n    } else if (Number.isNaN(Number(value))) {\n      return false;\n    }\n    return true;\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    const { xField, yField } = this.options;\n    const xAxisType = get(this.options, ['xAxis', 'type'], 'linear');\n    const yAxisType = get(this.options, ['yAxis', 'type'], 'linear');\n    if (xAxisType && yAxisType) {\n      const fiteredData = data\n        .filter((item) => {\n          if (xAxisType === 'linear' && !this.isValidLinearValue(item[xField])) {\n            return false;\n          }\n          if (yAxisType === 'linear' && !this.isValidLinearValue(item[yField])) {\n            return false;\n          }\n          return true;\n        })\n        .map((item) => {\n          return {\n            ...item,\n            [xField]: xAxisType === 'linear' ? Number(item[xField]) : String(item[xField]),\n            [yField]: yAxisType === 'linear' ? Number(item[yField]) : String(item[yField]),\n          };\n        });\n      return fiteredData;\n    }\n\n    return data;\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.xField] = {};\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n    scales[props.yField] = {};\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected annotation() {}\n\n  protected addGeometry() {\n    const points = getGeom('point', 'circle', {\n      plot: this,\n    });\n    this.points = points;\n    if (this.options.tooltip && this.options.tooltip.visible) {\n      this.points.tooltip = this.extractTooltip();\n      this.setConfig('tooltip', {\n        showTitle: false,\n        ...this.options.tooltip,\n      } as any);\n    }\n    if (this.options.label) {\n      this.label();\n    }\n    this.setConfig('geometry', points);\n  }\n\n  protected label() {\n    const props = this.options;\n\n    if (props.label.visible === false) {\n      if (this.points) {\n        this.points.label = false;\n      }\n      return;\n    }\n\n    const label = getComponent('label', {\n      fields: [props.yField],\n      ...props.label,\n      plot: this,\n    });\n\n    if (this.points) {\n      this.points.label = label;\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.points.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    // 气泡图继承散点图时，会存在 eventParser\n    super.parseEvents(eventParser || EventParser);\n  }\n\n  protected extractTooltip() {\n    const props = this.options;\n    return {\n      fields: [props.xField, props.yField],\n    };\n  }\n}\n\nregisterPlotType('scatter', ScatterLayer);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Point: 'point',\n  Trendline: 'trendline',\n  Confidence: 'confidence',\n  Quadrant: 'quadrant',\n  QuadrantLabel: 'quadrant-label',\n  QuadrantLine: 'quadrant-line',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { isArray, mix, hasKey, each, has, isFunction, clone, deepMix, isString, isNumber } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport Marker, { MarkerConfig } from './component/marker';\nimport * as EventParser from './event';\nimport { IStyle } from '../../interface/config';\n\nexport interface ProgressViewConfig extends TinyViewConfig {\n  stackField?: number;\n  progressStyle?: any; // FIXME:\n  percent?: number;\n  size?: number;\n  marker?: MarkerConfig[];\n  barSize?: number;\n  barStyle?: IStyle;\n}\n\ninterface UpdateConfig {\n  percent: number;\n  color?: string | string[];\n  style?: {} | {}[];\n  marker?: MarkerConfig[];\n}\n\nexport interface ProgressLayerConfig extends ProgressViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  progress: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'progress',\n};\n\nconst DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nexport default class ProgressLayer<T extends ProgressLayerConfig = ProgressLayerConfig> extends TinyLayer<T> {\n  /**\n   * 将进度条配置项转为堆叠条形图配置项\n   */\n\n  public type: string = 'progress';\n  protected markers: MarkerConfig[];\n  private isEntered = false;\n\n  public processProps() {\n    let props = this.options;\n    props.data = this.processData();\n    const cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barSize: props.size ? props.size : this.getSize(),\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR,\n    } as any;\n    props = mix(props, cfg);\n  }\n\n  public init() {\n    this.processProps();\n    super.init();\n  }\n\n  public beforeInit() {\n    const { percent } = this.options;\n    if (!isNumber(percent)) {\n      throw new Error('Percent value is required, and the type of percent must be Number.');\n    }\n  }\n\n  public update(cfg: UpdateConfig) {\n    const props = this.options;\n    if (hasKey(cfg, 'percent')) {\n      props.percent = cfg.percent;\n      this.changeData(this.processData());\n    }\n\n    if (cfg.style) {\n      this.styleUpdateAnimation(cfg.style);\n      this.updateColorConfigByStyle(cfg.style);\n    }\n\n    if (cfg.color) {\n      let style;\n      if (isArray(cfg.color)) {\n        this.options.color = cfg.color;\n        style = [{ fill: cfg.color[0] }, { fill: cfg.color[1] }];\n      } else {\n        this.options.color[0] = cfg.color;\n        style = { fill: cfg.color };\n      }\n      this.styleUpdateAnimation(style);\n    }\n\n    if (cfg.marker) {\n      this.updateMarkers(cfg.marker);\n      this.options.marker = cfg.marker;\n    }\n  }\n\n  public destroy() {\n    if (this.markers && this.markers.length > 0) {\n      each(this.markers, (marker) => {\n        marker.destroy();\n      });\n      this.markers = [];\n    }\n    super.destroy();\n  }\n\n  public afterRender() {\n    if (this.options.marker && !this.markers) {\n      this.markers = [];\n      each(this.options.marker, (cfg) => {\n        const markerCfg = mix(\n          {\n            canvas: this.canvas,\n            view: this.view,\n            progressSize: this.options.barSize,\n          },\n          cfg\n        );\n        const marker = new Marker(markerCfg);\n        this.markers.push(marker);\n      });\n    }\n    const progressContainer = this.view.geometries[0].container;\n    const bbox = progressContainer.getBBox();\n    const rect = progressContainer.addShape('rect', {\n      attrs: {\n        width: bbox.width,\n        height: bbox.height,\n        x: bbox.minX,\n        y: bbox.minY,\n        fill: 'rgba(0,0,0,0)',\n      },\n    });\n    this.canvas.draw();\n\n    rect.on('mouseenter', (ev) => {\n      this.isEntered = true;\n      this.view.emit('progress:mouseenter', ev);\n    });\n\n    rect.on('mouseleave', (ev) => {\n      this.isEntered = false;\n      this.view.emit('progress:mouseleave', ev);\n    });\n    const canvasDom = this.canvas.get('container');\n    canvasDom.addEventListener('mouseleave', (ev) => {\n      if (this.isEntered) {\n        this.view.emit('progress:mouseleave', ev);\n        this.isEntered = false;\n      }\n    });\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected coord() {\n    this.setConfig('coordinate', {\n      actions: [['transpose']],\n    });\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this,\n    });\n    bar.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n    if (has(props, 'animation')) {\n      bar.animate = props.animation;\n    }\n    this.setConfig('geometry', bar);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected parseColorProps(props) {\n    let colorOption;\n    if (props.color) {\n      if (isFunction(props.color)) {\n        colorOption = props.color(props.percent);\n      } else {\n        colorOption = props.color;\n      }\n      if (isString(colorOption)) {\n        const color = clone(DEFAULT_COLOR);\n        color[0] = colorOption;\n        return color;\n      } else {\n        return colorOption;\n      }\n    }\n    return props.color;\n  }\n\n  protected processData() {\n    const props = this.options;\n    const data = [\n      { type: 'current', value: props.percent },\n      { type: 'rest', value: 1.0 - props.percent },\n    ];\n    return data;\n  }\n\n  protected updateMarkers(markerCfg: MarkerConfig[]) {\n    const markerLength = markerCfg.length;\n    const animationOptions = this.getUpdateAnimationOptions();\n    // marker diff\n    each(this.markers, (marker, index) => {\n      if (index > markerLength - 1) {\n        marker.destroy();\n      } else {\n        marker.update(markerCfg[index], animationOptions.duration, animationOptions.easing);\n      }\n    });\n    // add new markers\n    if (this.markers.length < markerLength) {\n      const startIndex = this.markers.length;\n      for (let i = startIndex; i < markerLength; i++) {\n        const cfg = deepMix(\n          {},\n          {\n            canvas: this.canvas,\n            view: this.view,\n            progressSize: this.options.barSize,\n          },\n          markerCfg[i]\n        );\n        const marker = new Marker(cfg);\n        this.markers.push(marker);\n      }\n    }\n  }\n\n  private getSize() {\n    const { height } = this;\n    if (height >= 50) {\n      return 10;\n    }\n    return 4;\n  }\n\n  private styleUpdateAnimation(style) {\n    // style更新动画接受用户animation配置的透传\n    const { duration, easing } = this.getUpdateAnimationOptions();\n    // get geometry shapes\n    const progressShapes = [];\n    const { view } = this;\n    const geometry = view.geometries;\n    each(geometry, (geom) => {\n      if (geom.type === 'interval') {\n        const elements = geom.elements;\n        each(elements, (ele) => {\n          progressShapes.push(...ele.shape);\n        });\n      }\n    });\n    if (isArray(style)) {\n      each(style, (s, index) => {\n        progressShapes[index].animate(s, duration, easing);\n      });\n    } else {\n      progressShapes[0].animate(style, duration, easing);\n    }\n  }\n\n  private getUpdateAnimationOptions() {\n    let duration = 450;\n    let easing = 'easeQuadInOut';\n    const animationOptions = this.options.animation;\n    if (animationOptions && animationOptions.update) {\n      if (animationOptions.update.duration) {\n        duration = animationOptions.update.duration;\n      }\n      if (animationOptions.update.easing) {\n        easing = animationOptions.update.easing;\n      }\n    }\n    return { duration, easing };\n  }\n\n  private updateColorConfigByStyle(style) {\n    if (isArray(style)) {\n      each(style, (s, index) => {\n        if (s.fill) {\n          this.options.color[index] = s.fill;\n        }\n      });\n    } else if (style.fill) {\n      this.options.color[0] = style.fill;\n    }\n  }\n}\n\nregisterPlotType('progress', ProgressLayer);\n","import * as _ from '@antv/util';\nimport { ViewLayerConfig } from '../../base/view-layer';\nimport { getGlobalTheme } from '../../theme/global';\n\nconst SINGLE_TYPE = ['line', 'area', 'column', 'bar', 'bubble', 'scatter'];\n\nexport function getColorConfig(type: string, props: ViewLayerConfig, count: number) {\n  if (props.color) {\n    return { single: false, color: props.color };\n  }\n  const isSingle = isSingleGraph(type, props);\n  const { colors } = getGlobalTheme();\n  if (isSingle && !props.color) {\n    return { single: true, color: colors[count] };\n  }\n}\n\n/** 判断是不是单图元类型的图表：单折线图、基础柱状图、散点图、基础面积图等 */\nexport function isSingleGraph(type: string, props: ViewLayerConfig) {\n  if (_.contains(SINGLE_TYPE, type)) {\n    if (type === 'line' && _.has(props, 'seriesField')) {\n      return false;\n    }\n    if (type === 'column' && _.has(props, 'colorField')) {\n      return false;\n    }\n    return true;\n  }\n  return false;\n}\n","import BBox from '../../util/bbox';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\n\nexport function getOverlappingPadding(layer, components) {\n  const { bleeding } = getGlobalTheme();\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, (it, index) => {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n  let viewMinX = layer.layerBBox.minX;\n  let viewMaxX = layer.layerBBox.maxX;\n  let viewMinY = _.clone(layer.layerBBox.minY);\n  let viewMaxY = layer.layerBBox.maxY;\n  _.each(components, (component) => {\n    const { position } = component;\n    const { minX, maxX, minY, maxY } = component.getBBox();\n    if (maxY > viewMinY && maxY < viewMaxY && position === 'top') {\n      viewMinY = maxY;\n    }\n    if (minY > viewMinY && maxY > viewMaxY && position === 'bottom') {\n      viewMaxY = minY;\n    }\n    if (minY > viewMinY && minY <= viewMaxY && position === 'bottom') {\n      viewMaxY = minY;\n    }\n    if (maxX > viewMinX && maxX < viewMaxX && position === 'left') {\n      viewMinX = maxX;\n    }\n    if (minX > viewMinX && maxX < viewMaxX && position === 'right') {\n      viewMaxX = minX;\n    }\n  });\n  const range = new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  let top_padding = range.minY - layer.layerBBox.minY;\n  if (top_padding === 0) {\n    top_padding = bleeding[0];\n  }\n  const right_padding = layer.layerBBox.maxX - range.maxX;\n  const bottom_padding = layer.layerBBox.maxY - range.maxY;\n  const left_padding = range.minX - layer.layerBBox.minX;\n\n  return [top_padding, right_padding, bottom_padding, left_padding];\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar point_in_polygon_1 = require(\"./point-in-polygon\");\nvar get_line_intersect_1 = require(\"./get-line-intersect\");\nvar util_1 = require(\"@antv/util\");\nfunction parseToLines(points) {\n    var lines = [];\n    var count = points.length;\n    for (var i = 0; i < count - 1; i++) {\n        var point = points[i];\n        var next = points[i + 1];\n        lines.push({\n            from: {\n                x: point[0],\n                y: point[1]\n            },\n            to: {\n                x: next[0],\n                y: next[1]\n            }\n        });\n    }\n    if (lines.length > 1) {\n        var first = points[0];\n        var last = points[count - 1];\n        lines.push({\n            from: {\n                x: last[0],\n                y: last[1]\n            },\n            to: {\n                x: first[0],\n                y: first[1]\n            }\n        });\n    }\n    return lines;\n}\nfunction lineIntersectPolygon(lines, line) {\n    var isIntersect = false;\n    util_1.each(lines, function (l) {\n        if (get_line_intersect_1.default(l.from, l.to, line.from, line.to)) {\n            isIntersect = true;\n            return false;\n        }\n    });\n    return isIntersect;\n}\nfunction getBBox(points) {\n    var xArr = points.map(function (p) { return p[0]; });\n    var yArr = points.map(function (p) { return p[1]; });\n    return {\n        minX: Math.min.apply(null, xArr),\n        maxX: Math.max.apply(null, xArr),\n        minY: Math.min.apply(null, yArr),\n        maxY: Math.max.apply(null, yArr)\n    };\n}\nfunction intersectBBox(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\nfunction isPolygonsIntersect(points1, points2) {\n    // 空数组，或者一个点返回 false\n    if (points1.length < 2 || points2.length < 2) {\n        return false;\n    }\n    var bbox1 = getBBox(points1);\n    var bbox2 = getBBox(points2);\n    // 判定包围盒是否相交，比判定点是否在多边形内要快的多，可以筛选掉大多数情况\n    if (!intersectBBox(bbox1, bbox2)) {\n        return false;\n    }\n    var isIn = false;\n    // 判定点是否在多边形内部，一旦有一个点在另一个多边形内，则返回\n    util_1.each(points2, function (point) {\n        if (point_in_polygon_1.default(points1, point[0], point[1])) {\n            isIn = true;\n            return false;\n        }\n    });\n    if (isIn) {\n        return true;\n    }\n    // 两个多边形都需要判定\n    util_1.each(points1, function (point) {\n        if (point_in_polygon_1.default(points2, point[0], point[1])) {\n            isIn = true;\n            return false;\n        }\n    });\n    if (isIn) {\n        return true;\n    }\n    var lines1 = parseToLines(points1);\n    var lines2 = parseToLines(points2);\n    var isIntersect = false;\n    util_1.each(lines2, function (line) {\n        if (lineIntersectPolygon(lines1, line)) {\n            isIntersect = true;\n            return false;\n        }\n    });\n    return isIntersect;\n}\nexports.default = isPolygonsIntersect;\n//# sourceMappingURL=is-polygons-intersect.js.map","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","// 通用配置\nexport * from './interface/config';\nexport { default as Layer, LayerConfig } from './base/layer';\nexport { default as ViewLayer, ViewConfig } from './base/view-layer';\nexport { default as Base, PlotConfig } from './base/plot';\n\n// 图形\nexport * from './plots';\n\n// MINI 图形\nexport { TinyLayerConfig } from './sparkline/tiny-layer';\nexport { default as Progress, ProgressConfig } from './sparkline/progress';\nexport { default as RingProgress, RingProgressConfig } from './sparkline/ring-progress';\nexport { default as TinyColumn, TinyColumnConfig } from './sparkline/tiny-column';\nexport { default as TinyArea, TinyAreaConfig } from './sparkline/tiny-area';\nexport { default as TinyLine, TinyLineConfig } from './sparkline/tiny-line';\n\n// 混合图形\nexport { default as OverlappedComboPlot, OverlappedComboPlotConfig } from './combo-plots/overlapped';\n\n// 主题\nexport { registerTheme, registerGlobalTheme } from './theme';\nexport { registerResponsiveConstraint, IConstraint } from './util/responsive/constraints';\nexport { registerResponsiveRule } from './util/responsive/rules';\nexport { registerResponsiveTheme, getResponsiveTheme } from './util/responsive/theme';\n\nexport { default as StateManager } from './util/state-manager';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cache = new Map();\n/**\n * 注册计算包围盒的算法\n * @param type 方法名\n * @param method 方法\n */\nfunction register(type, method) {\n    cache.set(type, method);\n}\nexports.register = register;\n/**\n * 获取计算包围盒的算法\n * @param type 方法名\n */\nfunction getMethod(type) {\n    return cache.get(type);\n}\nexports.getMethod = getMethod;\n//# sourceMappingURL=register.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, width = attrs.width, height = attrs.height;\n    return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=rect.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var _a = shape.attr(), x = _a.x, y = _a.y, r = _a.r;\n    return {\n        x: x - r,\n        y: y - r,\n        width: r * 2,\n        height: r * 2,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=circle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/g-math/lib/util\");\nvar util_2 = require(\"./util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    var _a = util_1.getBBoxByArray(xArr, yArr), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = util_2.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=polyline.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/g-math/lib/util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return util_1.getBBoxByArray(xArr, yArr);\n}\nexports.default = default_1;\n//# sourceMappingURL=polygon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar text_1 = require(\"../util/text\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, text = attrs.text, fontSize = attrs.fontSize, lineHeight = attrs.lineHeight;\n    var font = attrs.font;\n    if (!font) {\n        // 如果未组装 font\n        font = text_1.assembleFont(attrs);\n    }\n    var width = text_1.getTextWidth(text, font);\n    var bbox;\n    if (!width) {\n        // 如果width不存在，四点共其实点\n        bbox = {\n            x: x,\n            y: y,\n            width: 0,\n            height: 0,\n        };\n    }\n    else {\n        var textAlign = attrs.textAlign, textBaseline = attrs.textBaseline;\n        var height = text_1.getTextHeight(text, fontSize, lineHeight); // attrs.height\n        // 默认左右对齐：left, 默认上下对齐 bottom\n        var point = {\n            x: x,\n            y: y - height,\n        };\n        if (textAlign) {\n            if (textAlign === 'end' || textAlign === 'right') {\n                point.x -= width;\n            }\n            else if (textAlign === 'center') {\n                point.x -= width / 2;\n            }\n        }\n        if (textBaseline) {\n            if (textBaseline === 'top') {\n                point.y += height;\n            }\n            else if (textBaseline === 'middle') {\n                point.y += height / 2;\n            }\n        }\n        bbox = {\n            x: point.x,\n            y: point.y,\n            width: width,\n            height: height,\n        };\n    }\n    return bbox;\n}\nexports.default = default_1;\n//# sourceMappingURL=text.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// 全局设置一个唯一离屏的 ctx，用于计算 isPointInPath\nvar offScreenCtx = null;\nfunction getOffScreenContext() {\n    if (!offScreenCtx) {\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        offScreenCtx = canvas.getContext('2d');\n    }\n    return offScreenCtx;\n}\nexports.getOffScreenContext = getOffScreenContext;\n//# sourceMappingURL=offscreen.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar quadratic_1 = require(\"@antv/g-math/lib/quadratic\");\nvar cubic_1 = require(\"@antv/g-math/lib/cubic\");\nvar arc_1 = require(\"@antv/g-math/lib/arc\");\nvar path_2_segments_1 = require(\"@antv/path-util/lib/path-2-segments\");\nvar is_number_equal_1 = require(\"@antv/util/lib/is-number-equal\");\nfunction getPathBox(segments, lineWidth) {\n    var xArr = [];\n    var yArr = [];\n    var segmentsWithAngle = [];\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint;\n        var box = void 0;\n        switch (segment.command) {\n            case 'Q':\n                box = quadratic_1.default.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4]);\n                break;\n            case 'C':\n                box = cubic_1.default.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6]);\n                break;\n            case 'A':\n                var arcParams = segment.arcParams;\n                box = arc_1.default.box(arcParams.cx, arcParams.cy, arcParams.rx, arcParams.ry, arcParams.xRotation, arcParams.startAngle, arcParams.endAngle);\n                break;\n            default:\n                xArr.push(currentPoint[0]);\n                yArr.push(currentPoint[1]);\n                break;\n        }\n        if (box) {\n            segment.box = box;\n            xArr.push(box.x, box.x + box.width);\n            yArr.push(box.y, box.y + box.height);\n        }\n        if (lineWidth && (segment.command === 'L' || segment.command === 'M') && segment.prePoint && segment.nextPoint) {\n            segmentsWithAngle.push(segment);\n        }\n    }\n    // bbox calculation should ignore NaN for path attribute\n    // ref: https://github.com/antvis/g/issues/210\n    xArr = xArr.filter(function (item) { return !Number.isNaN(item); });\n    yArr = yArr.filter(function (item) { return !Number.isNaN(item); });\n    var minX = Math.min.apply(null, xArr);\n    var minY = Math.min.apply(null, yArr);\n    var maxX = Math.max.apply(null, xArr);\n    var maxY = Math.max.apply(null, yArr);\n    if (segmentsWithAngle.length === 0) {\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    for (var i = 0; i < segmentsWithAngle.length; i++) {\n        var segment = segmentsWithAngle[i];\n        var currentPoint = segment.currentPoint;\n        var extra = void 0;\n        if (currentPoint[0] === minX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minX = minX - extra.xExtra;\n        }\n        else if (currentPoint[0] === maxX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxX = maxX + extra.xExtra;\n        }\n        if (currentPoint[1] === minY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minY = minY - extra.yExtra;\n        }\n        else if (currentPoint[1] === maxY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxY = maxY + extra.yExtra;\n        }\n    }\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction getExtraFromSegmentWithAngle(segment, lineWidth) {\n    var prePoint = segment.prePoint, currentPoint = segment.currentPoint, nextPoint = segment.nextPoint;\n    var currentAndPre = Math.pow(currentPoint[0] - prePoint[0], 2) + Math.pow(currentPoint[1] - prePoint[1], 2);\n    var currentAndNext = Math.pow(currentPoint[0] - nextPoint[0], 2) + Math.pow(currentPoint[1] - nextPoint[1], 2);\n    var preAndNext = Math.pow(prePoint[0] - nextPoint[0], 2) + Math.pow(prePoint[1] - nextPoint[1], 2);\n    // 以 currentPoint 为顶点的夹角\n    var currentAngle = Math.acos((currentAndPre + currentAndNext - preAndNext) / (2 * Math.sqrt(currentAndPre) * Math.sqrt(currentAndNext)));\n    // 夹角为空、 0 或 PI 时，不需要计算夹角处的额外宽度\n    // 注意: 由于计算精度问题，夹角为 0 的情况计算出来的角度可能是一个很小的值，还需要判断其与 0 是否近似相等\n    if (!currentAngle || Math.sin(currentAngle) === 0 || is_number_equal_1.default(currentAngle, 0)) {\n        return {\n            xExtra: 0,\n            yExtra: 0,\n        };\n    }\n    var xAngle = Math.abs(Math.atan2(nextPoint[1] - currentPoint[1], nextPoint[0] - currentPoint[0]));\n    var yAngle = Math.abs(Math.atan2(nextPoint[0] - currentPoint[0], nextPoint[1] - currentPoint[1]));\n    // 将夹角转为锐角\n    xAngle = xAngle > Math.PI / 2 ? Math.PI - xAngle : xAngle;\n    yAngle = yAngle > Math.PI / 2 ? Math.PI - yAngle : yAngle;\n    // 这里不考虑在水平和垂直方向的投影，直接使用最大差值\n    // 由于上层统一加减了二分之一线宽，这里需要进行弥补\n    var extra = {\n        // 水平方向投影\n        xExtra: Math.cos(currentAngle / 2 - xAngle) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n        // 垂直方向投影\n        yExtra: Math.cos(yAngle - currentAngle / 2) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n    };\n    return extra;\n}\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var path = attrs.path, stroke = attrs.stroke;\n    var lineWidth = stroke ? attrs.lineWidth : 0; // 只有有 stroke 时，lineWidth 才生效\n    var segments = shape.get('segments') || path_2_segments_1.default(path);\n    return getPathBox(segments, lineWidth);\n}\nexports.default = default_1;\n//# sourceMappingURL=path.js.map","\"use strict\";\n/**\n * @fileoverview 椭圆的一些计算，\n *  - 周长计算参考：https://www.mathsisfun.com/geometry/ellipse-perimeter.html\n *  - 距离计算参考：https://wet-robots.ghost.io/simple-method-for-distance-to-ellipse/\n * @author dxq613@gmail.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nfunction copysign(v1, v2) {\n    var absv = Math.abs(v1);\n    return v2 > 0 ? absv : absv * -1;\n}\nexports.default = {\n    /**\n     * 包围盒计算\n     * @param {number} x  椭圆中心 x\n     * @param {number} y  椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @return {object} 包围盒\n     */\n    box: function (x, y, rx, ry) {\n        return {\n            x: x - rx,\n            y: y - ry,\n            width: rx * 2,\n            height: ry * 2,\n        };\n    },\n    /**\n     * 计算周长，使用近似法\n     * @param {number} x  椭圆中心 x\n     * @param {number} y  椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @return {number} 椭圆周长\n     */\n    length: function (x, y, rx, ry) {\n        return Math.PI * (3 * (rx + ry) - Math.sqrt((3 * rx + ry) * (rx + 3 * ry)));\n    },\n    /**\n     * 距离椭圆最近的点\n     * @param {number} x  椭圆中心 x\n     * @param {number} y  椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @param {number} x0  指定的点 x\n     * @param {number} y0  指定的点 y\n     * @return {object} 椭圆上距离指定点最近的点\n     */\n    nearestPoint: function (x, y, rx, ry, x0, y0) {\n        var a = rx;\n        var b = ry;\n        // 假如椭圆半径为0则返回圆心\n        if (a === 0 || b === 0) {\n            return {\n                x: x,\n                y: y,\n            };\n        }\n        // 转换成 0， 0 为中心的椭圆计算\n        var relativeX = x0 - x;\n        var relativeY = y0 - y;\n        var px = Math.abs(relativeX);\n        var py = Math.abs(relativeY);\n        var squareA = a * a;\n        var squareB = b * b;\n        // const angle0 = Math.atan2(relativeY, relativeX);\n        var t = Math.PI / 4;\n        var nearestX; // 椭圆上的任一点\n        var nearestY;\n        // 迭代 4 次\n        for (var i = 0; i < 4; i++) {\n            nearestX = a * Math.cos(t);\n            nearestY = b * Math.sin(t);\n            var ex = ((squareA - squareB) * Math.pow(Math.cos(t), 3)) / a;\n            var ey = ((squareB - squareA) * Math.pow(Math.sin(t), 3)) / b;\n            var rx1 = nearestX - ex;\n            var ry1 = nearestY - ey;\n            var qx = px - ex;\n            var qy = py - ey;\n            var r = Math.hypot(ry1, rx1);\n            var q = Math.hypot(qy, qx);\n            var delta_c = r * Math.asin((rx1 * qy - ry1 * qx) / (r * q));\n            var delta_t = delta_c / Math.sqrt(squareA + squareB - nearestX * nearestX - nearestY * nearestY);\n            t += delta_t;\n            t = Math.min(Math.PI / 2, Math.max(0, t));\n        }\n        return {\n            x: x + copysign(nearestX, relativeX),\n            y: y + copysign(nearestY, relativeY),\n        };\n    },\n    /**\n     * 点到椭圆最近的距离\n     * @param {number} x  椭圆中心 x\n     * @param {number} y  椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @param {number} x0  指定的点 x\n     * @param {number} y0  指定的点 y\n     * @return {number} 点到椭圆的距离\n     */\n    pointDistance: function (x, y, rx, ry, x0, y0) {\n        var nearestPoint = this.nearestPoint(x, y, rx, ry, x0, y0);\n        return util_1.distance(nearestPoint.x, nearestPoint.y, x0, y0);\n    },\n    /**\n     * 根据比例获取点\n     * @param {number} x 椭圆中心 x\n     * @param {number} y 椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @param {number} t 指定比例，x轴方向为 0\n     * @return {object} 点\n     */\n    pointAt: function (x, y, rx, ry, t) {\n        var angle = 2 * Math.PI * t; // 按照角度进行计算，而不按照周长计算\n        return {\n            x: x + rx * Math.cos(angle),\n            y: y + ry * Math.sin(angle),\n        };\n    },\n    /**\n     * 根据比例计算切线角度\n     * @param {number} x 椭圆中心 x\n     * @param {number} y 椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @param {number} t 指定比例 0 - 1 之间，x轴方向为 0。在 0-1 范围之外是循环还是返回 null，还需要调整\n     * @return {number} 角度，在 0 - 2PI 之间\n     */\n    tangentAngle: function (x, y, rx, ry, t) {\n        var angle = 2 * Math.PI * t; // 按照角度进行计算，而不按照周长计算\n        // 直接使用 x,y 的导数计算， x' = -rx * sin(t); y' = ry * cos(t);\n        var tangentAngle = Math.atan2(ry * Math.cos(angle), -rx * Math.sin(angle));\n        // 也可以使用指定点的切线方程计算，成本有些高\n        // const point = this.pointAt(0, 0, rx, ry, t); // 椭圆的切线同椭圆的中心不相关\n        // let tangentAngle = -1 * Math.atan((ry * ry * point.x) / (rx * rx * point.y));\n        // if (angle >= 0 && angle <= Math.PI) {\n        //   tangentAngle += Math.PI;\n        // }\n        return util_1.piMod(tangentAngle);\n    },\n};\n//# sourceMappingURL=ellipse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar each_1 = require(\"@antv/util/lib/each\");\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nvar is_string_1 = require(\"@antv/util/lib/is-string\");\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig;\nvar regexDot = /[^\\s\\,]+/ig;\nfunction parsePath(p) {\n    var path = p || [];\n    if (is_array_1.default(path)) {\n        return path;\n    }\n    if (is_string_1.default(path)) {\n        path = path.match(regexTags);\n        each_1.default(path, function (item, index) {\n            // @ts-ignore\n            item = item.match(regexDot);\n            if (item[0].length > 1) {\n                var tag = item[0].charAt(0);\n                // @ts-ignore\n                item.splice(1, 0, item[0].substr(1));\n                // @ts-ignore\n                item[0] = tag;\n            }\n            // @ts-ignore\n            each_1.default(item, function (sub, i) {\n                if (!isNaN(sub)) {\n                    // @ts-ignore\n                    item[i] = +sub;\n                }\n            });\n            // @ts-ignore\n            path[index] = item;\n        });\n        return path;\n    }\n}\nexports.default = parsePath;\n//# sourceMappingURL=parse-path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2;\n    var minX = Math.min(x1, x2);\n    var minY = Math.min(y1, y2);\n    return {\n        x: minX,\n        y: minY,\n        width: Math.abs(x2 - x1),\n        height: Math.abs(y2 - y1),\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=line.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, rx = attrs.rx, ry = attrs.ry;\n    return {\n        x: x - rx,\n        y: y - ry,\n        width: rx * 2,\n        height: ry * 2,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=ellipse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar line_1 = require(\"./line\");\nvar util_1 = require(\"./util\");\nfunction analyzePoints(points) {\n    // 计算每段的长度和总的长度\n    var totalLength = 0;\n    var segments = [];\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        var length_1 = util_1.distance(from[0], from[1], to[0], to[1]);\n        var seg = {\n            from: from,\n            to: to,\n            length: length_1,\n        };\n        segments.push(seg);\n        totalLength += length_1;\n    }\n    return { segments: segments, totalLength: totalLength };\n}\nfunction lengthOfSegment(points) {\n    if (points.length < 2) {\n        return 0;\n    }\n    var totalLength = 0;\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        totalLength += util_1.distance(from[0], from[1], to[0], to[1]);\n    }\n    return totalLength;\n}\nexports.lengthOfSegment = lengthOfSegment;\n/**\n * 按照比例在数据片段中获取点\n * @param {array} points 点的集合\n * @param {number} t 百分比 0-1\n * @return {object} 点的坐标\n */\nfunction pointAtSegments(points, t) {\n    // 边界判断\n    if (t > 1 || t < 0 || points.length < 2) {\n        return null;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // 多个点有可能重合\n    if (totalLength === 0) {\n        return {\n            x: points[0][0],\n            y: points[0][1],\n        };\n    }\n    // 计算比例\n    var startRatio = 0;\n    var point = null;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            var localRatio = (t - startRatio) / currentRatio;\n            point = line_1.default.pointAt(from[0], from[1], to[0], to[1], localRatio);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return point;\n}\nexports.pointAtSegments = pointAtSegments;\n/**\n * 按照比例在数据片段中获取切线的角度\n * @param {array} points 点的集合\n * @param {number} t 百分比 0-1\n */\nfunction angleAtSegments(points, t) {\n    // 边界判断\n    if (t > 1 || t < 0 || points.length < 2) {\n        return 0;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // 计算比例\n    var startRatio = 0;\n    var angle = 0;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return angle;\n}\nexports.angleAtSegments = angleAtSegments;\nfunction distanceAtSegment(points, x, y) {\n    var minDistance = Infinity;\n    for (var i = 0; i < points.length - 1; i++) {\n        var point = points[i];\n        var nextPoint = points[i + 1];\n        var distance_1 = line_1.default.pointDistance(point[0], point[1], nextPoint[0], nextPoint[1], x, y);\n        if (distance_1 < minDistance) {\n            minDistance = distance_1;\n        }\n    }\n    return minDistance;\n}\nexports.distanceAtSegment = distanceAtSegment;\n//# sourceMappingURL=segments.js.map","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n;\n//# sourceMappingURL=interface.js.map","\"use strict\";\n/**\n * @fileoverview 判断点是否在多边形内\n * @author dxq613@gmail.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// 多边形的射线检测，参考：https://blog.csdn.net/WilliamSun0122/article/details/77994526\nvar tolerance = 1e-6;\n// 三态函数，判断两个double在eps精度下的大小关系\nfunction dcmp(x) {\n    if (Math.abs(x) < tolerance) {\n        return 0;\n    }\n    return x < 0 ? -1 : 1;\n}\n// 判断点Q是否在p1和p2的线段上\nfunction onSegment(p1, p2, q) {\n    if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) &&\n        Math.min(p1[0], p2[0]) <= q[0] &&\n        q[0] <= Math.max(p1[0], p2[0]) &&\n        Math.min(p1[1], p2[1]) <= q[1] &&\n        q[1] <= Math.max(p1[1], p2[1])) {\n        return true;\n    }\n    return false;\n}\n// 判断点P在多边形内-射线法\nfunction isInPolygon(points, x, y) {\n    var isHit = false;\n    var n = points.length;\n    if (n <= 2) {\n        // svg 中点小于 3 个时，不显示，也无法被拾取\n        return false;\n    }\n    for (var i = 0; i < n; i++) {\n        var p1 = points[i];\n        var p2 = points[(i + 1) % n];\n        if (onSegment(p1, p2, [x, y])) {\n            // 点在多边形一条边上\n            return true;\n        }\n        // 前一个判断min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n        // 后一个判断被测点 在 射线与边交点 的左边\n        if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 &&\n            dcmp(x - ((y - p1[1]) * (p1[0] - p2[0])) / (p1[1] - p2[1]) - p1[0]) < 0) {\n            isHit = !isHit;\n        }\n    }\n    return isHit;\n}\nexports.default = isInPolygon;\n//# sourceMappingURL=point-in-polygon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isBetween = function (value, min, max) { return value >= min && value <= max; };\nfunction getLineIntersect(p0, p1, p2, p3) {\n    var tolerance = 0.001;\n    var E = {\n        x: p2.x - p0.x,\n        y: p2.y - p0.y,\n    };\n    var D0 = {\n        x: p1.x - p0.x,\n        y: p1.y - p0.y,\n    };\n    var D1 = {\n        x: p3.x - p2.x,\n        y: p3.y - p2.y,\n    };\n    var kross = D0.x * D1.y - D0.y * D1.x;\n    var sqrKross = kross * kross;\n    var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n    var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n    var point = null;\n    if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n        var s = (E.x * D1.y - E.y * D1.x) / kross;\n        var t = (E.x * D0.y - E.y * D0.x) / kross;\n        if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n            point = {\n                x: p0.x + s * D0.x,\n                y: p0.y + s * D0.y,\n            };\n        }\n    }\n    return point;\n}\nexports.default = getLineIntersect;\n;\n//# sourceMappingURL=get-line-intersect.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/g-math/lib/util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return util_1.getBBoxByArray(xArr, yArr);\n}\nexports.default = default_1;\n//# sourceMappingURL=points.js.map","import { IGroup, IShape } from '../dependents';\nimport { assign, isArray, each, mix } from '@antv/util';\nimport { breakText } from '../util/common';\nimport ViewLayer from '../base/view-layer';\nimport BBox from '../util/bbox';\n\ninterface TextConfig {\n  leftMargin: number;\n  topMargin: number;\n  rightMargin: number;\n  text: string;\n  style: any;\n  wrapperWidth: number;\n  container: IGroup;\n  theme: any;\n  index: number;\n  plot: ViewLayer;\n  name: string;\n  alignTo?: 'left' | 'right' | 'middle';\n}\n\n/**\n * 图表的文字描述，一般用于生成图表的标题和副标题\n */\n\nexport default class TextDescription {\n  public shape: IShape;\n  public position: string = 'top';\n  public name: string;\n  public destroyed: boolean = false;\n  private container: IGroup;\n  private topMargin: number;\n  private leftMargin: number;\n  private rightMargin: number;\n  private wrapperWidth: number;\n  private alignTo: string;\n  private text: string;\n  private style: any;\n  private index: number;\n  private plot: ViewLayer;\n\n  constructor(cfg: TextConfig) {\n    assign(this as any, cfg);\n    this.init();\n  }\n\n  public getBBox(): BBox | null {\n    if (this.shape) {\n      // @ts-ignore\n      const bbox = this.shape.getBBox();\n      if (this.index === 0) {\n        return BBox.fromBBoxObject(bbox);\n      }\n      const padding = this.plot.theme.description.padding;\n      if (isArray(padding)) {\n        each(padding, (it, index) => {\n          if (typeof padding[index] === 'function') {\n            padding[index] = padding[index](this.plot.options.legend.position);\n          }\n        });\n      }\n      return new BBox(bbox.maxX, bbox.minY, bbox.width, bbox.height + padding[2]);\n    }\n    return null;\n  }\n\n  public clear() {\n    if (this.shape) {\n      // @ts-ignore\n      this.shape.attr('text', '');\n    }\n  }\n\n  public destroy() {\n    if (this.shape) {\n      this.shape.remove();\n    }\n    this.destroyed = true;\n  }\n\n  private init() {\n    const content = this.textWrapper();\n    this.shape = this.container.addShape('text', {\n      attrs: mix(\n        {\n          x: this.leftMargin,\n          y: this.topMargin,\n          text: content,\n        },\n        this.style\n      ),\n    }) as IShape;\n    // @ts-ignore\n    this.shape.name = this.name;\n  }\n\n  protected getPosition() {\n    if (this.alignTo === 'left') {\n      return { x: this.leftMargin, y: this.topMargin };\n    } else if (this.alignTo === 'middle') {\n      return { x: this.leftMargin + this.wrapperWidth / 2, y: this.topMargin };\n    } else {\n      return { x: this.rightMargin, y: this.topMargin };\n    }\n  }\n\n  protected getTextAlign() {\n    if (this.alignTo === 'left') {\n      return 'left';\n    } else if (this.alignTo === 'middle') {\n      return 'center';\n    } else {\n      return 'right';\n    }\n  }\n\n  /**\n   * 当text过长时，默认换行\n   * 1. 注意初始text带换行符的场景\n   */\n  private textWrapper() {\n    const width = this.wrapperWidth;\n    const style = this.style;\n    const textContent: string = this.text;\n    const tShape = this.container.addShape('text', {\n      attrs: {\n        text: '',\n        x: 0,\n        y: 0,\n        ...style,\n      },\n    });\n    const textArr = textContent.split('\\n');\n    const wrappedTextArr = textArr.map((wrappedText) => {\n      let text = '';\n      const chars = wrappedText.split('');\n      const breakIndex: number[] = [];\n      for (let i = 0; i < chars.length; i++) {\n        const item = chars[i];\n        tShape.attr('text', (text += item));\n        const currentWidth = tShape.getBBox().width - 1;\n        if (currentWidth > width) {\n          // 如果是第一个字符就大于宽度不做任何换行处理\n          if (i === 0) {\n            break;\n          }\n          breakIndex.push(i);\n          text = '';\n        }\n      }\n\n      return breakText(chars, breakIndex);\n    });\n\n    tShape.remove();\n    return wrappedTextArr.join('\\n');\n  }\n}\n","import { deepMix, isFunction, get } from '@antv/util';\nimport { ViewLayer } from '../..';\nimport { IBaseAxis } from '../../interface/config';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\nimport { LooseMap } from '../../interface/types';\n\nfunction propertyMapping(source, target, field) {\n  if (source[field]) {\n    target[field] = source[field];\n  }\n}\n\ninterface AxisConfig {\n  plot: ViewLayer;\n  dim: string;\n}\n\nexport default class AxisParser {\n  public config: any = false;\n  protected originConfig: any;\n  private plot: any;\n  private dim: string;\n  private localProps: IBaseAxis;\n  private themeConfig: any;\n\n  constructor(cfg: AxisConfig) {\n    this.plot = cfg.plot;\n    this.dim = cfg.dim;\n    this.init();\n  }\n\n  private init() {\n    this.config = false;\n    const theme = this.plot.getPlotTheme();\n    this.themeConfig = theme && theme.axis && theme.axis[this.dim];\n    if (this._needDraw()) {\n      this._styleParser();\n    }\n  }\n\n  private _styleParser() {\n    this.config = { ...this.localProps };\n    this._isVisible('line') ? this._lineParser() : (this.config.line = null);\n    this._isVisible('grid') ? this._gridParser() : (this.config.grid = null);\n    this._isVisible('tickLine') ? this._tickLineParser() : (this.config.tickLine = null);\n    this._isVisible('label') ? this._labelParser() : (this.config.label = null);\n    this._isVisible('title') ? this._titleParser() : (this.config.title = null);\n\n    propertyMapping(this.localProps, this.config, 'autoHideLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateTitle');\n  }\n\n  private _needDraw() {\n    /** 如果在图表配置项里没有设置坐标轴整体的visibility则去对应的theme取 */\n    const propos = this.plot.options;\n    const propsConfig = propos[`${this.dim}Axis`] ? propos[`${this.dim}Axis`] : {};\n    const config = deepMix({}, this.themeConfig, propsConfig);\n    this.localProps = config;\n    if (config.visible) {\n      return true;\n    }\n    return false;\n  }\n\n  private _lineParser() {\n    this.config.line = this.localProps.line;\n    if (this.localProps.line.style) {\n      this.config.line = { style: this.localProps.line.style };\n    }\n    this.applyThemeConfig('line');\n  }\n\n  private _gridParser() {\n    const gridCfg = this.localProps.grid;\n    const style = this.localProps.grid?.line?.style;\n    const type = this.localProps.grid?.line?.type;\n    const alternateColor = this.localProps.grid?.alternateColor;\n\n    if (isFunction(style)) {\n      this.config.grid = (text: string, index: number, count: number) => {\n        const cfg = style(text, index, count);\n        return {\n          line: {\n            type,\n            style: deepMix({}, get(this.themeConfig, `grid.line.style`), cfg),\n          },\n          alternateColor,\n        };\n      };\n    } else if (style) {\n      this.config.grid = {\n        line: {\n          type,\n          style,\n        },\n        alternateColor,\n      };\n      this.applyThemeConfig('grid');\n    }\n  }\n\n  private _tickLineParser() {\n    this.config.tickLine = this.localProps.tickLine;\n    if (this.localProps.tickLine.style) {\n      this.config.tickLine = { style: this.localProps.tickLine.style };\n    }\n    this.applyThemeConfig('tickLine');\n  }\n\n  private _labelParser() {\n    const { style, ...restLabelProps } = this.localProps.label;\n    const labelConfig: any = { ...restLabelProps };\n    if (style) {\n      labelConfig.style = { ...this.localProps.label.style };\n    }\n    labelConfig.style = deepMix({}, get(this.themeConfig, 'label.style'), labelConfig.style);\n    const formatter = this.parseFormatter(labelConfig);\n    labelConfig.formatter = formatter;\n    this.config.label = labelConfig;\n  }\n\n  private _titleParser() {\n    const titleConfig: any = { ...this.localProps.title };\n    const { visible, style, text } = this.localProps.title;\n    if (!visible) {\n      this.config.showTitle = false;\n    } else {\n      this.config.showTitle = true;\n      if (style) {\n        titleConfig.style = style;\n      }\n      titleConfig.style = deepMix({}, get(this.config, 'title.style'), titleConfig.textStyle);\n\n      if (text) {\n        titleConfig.text = text;\n      }\n    }\n    this.config.title = titleConfig;\n  }\n\n  private _isVisible(name: string) {\n    if (this.localProps[name] && this.localProps[name].visible) {\n      return true;\n    }\n    return false;\n  }\n\n  private applyThemeConfig(type: 'line' | 'grid' | 'tickLine') {\n    this.config[type] = deepMix({}, get(this.themeConfig, `${type}.style`), this.config[type]);\n  }\n\n  protected parseFormatter(labelConfig) {\n    let formatter = combineFormatter(\n      getNoopFormatter(),\n      getPrecisionFormatter(labelConfig.precision),\n      getSuffixFormatter(labelConfig.suffix)\n    );\n    if (labelConfig.formatter) {\n      formatter = combineFormatter(\n        formatter,\n        labelConfig.formatter as (text: string, item: any, idx: number) => string\n      );\n    }\n    return formatter;\n  }\n}\n","import { getScale } from '@antv/scale';\nimport { assign, deepMix, mix, each, isArray, isString, isNumber, contains, toArray, clone } from '@antv/util';\nimport { getMean, getMedian } from '../util/math';\n\nexport default class GuideLine {\n  public config: any;\n  private plot: any;\n  private cfg: any;\n  private values: number[];\n\n  constructor(cfg) {\n    assign(this, cfg);\n    this._init();\n  }\n\n  private _init() {\n    const props = this.plot.options;\n    const defaultStyle = this.getDefaultStyle();\n    const baseConfig: any = {\n      type: 'line',\n      top: true,\n      start: this.cfg.start,\n      end: this.cfg.end,\n    };\n\n    baseConfig.style = deepMix({}, defaultStyle.line.style, this.cfg.lineStyle);\n    baseConfig.text = deepMix({}, defaultStyle.text, this.cfg.text);\n    if (this.cfg.type) {\n      const stateValue = this._getState(this.cfg.type);\n      const scale = this.getYScale();\n      const percent = `${(1.0 - scale.scale(stateValue)) * 100}%`;\n      const start = ['0%', percent];\n      const end = ['100%', percent];\n      this.config = mix(\n        {\n          start,\n          end,\n        },\n        baseConfig\n      );\n    } else {\n      const { start, end } = this.cfg;\n      this.config = clone(baseConfig);\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const startData = clone(start);\n      const endData = clone(end);\n      each(start, (value, index) => {\n        if (!contains(toArray(start[index]), '%') || isNumber(start[index])) {\n          if (index === 0) {\n            startData[index] = `${xScale.scale(start[0]) * 100}%`;\n          } else {\n            startData[index] = `${(1.0 - yScale.scale(start[1])) * 100}%`;\n          }\n        }\n      });\n      each(end, (value, index) => {\n        if (!contains(toArray(end[index]), '%') || isNumber(end[index])) {\n          if (index === 0) {\n            endData[index] = `${xScale.scale(end[0]) * 100}%`;\n          } else {\n            endData[index] = `${(1.0 - yScale.scale(end[1])) * 100}%`;\n          }\n        }\n      });\n      this.config.start = startData;\n      this.config.end = endData;\n    }\n  }\n\n  private getYScale() {\n    const minValue = this._getState('min');\n    const maxValue = this._getState('max');\n    const Scale = getScale('linear');\n    // 重新组织scale并使用scale的min和max来计算guide point的百分比位置，以避免受nice的影响\n    const scale = new Scale(\n      mix(\n        {},\n        {\n          min: this.plot.type === 'column' ? 0 : minValue,\n          max: maxValue,\n          nice: true,\n          values: this.values,\n        },\n        this.plot.config.scales[this.plot.options.yField]\n      )\n    );\n    return scale;\n  }\n\n  private getXScale() {\n    const values = this.extractXValue();\n    if (isString(values[0])) {\n      const Scale = getScale('cat');\n      const scale = new Scale(\n        mix(\n          {},\n          {\n            values: values,\n          },\n          this.plot.config.scales[this.plot.options.xField]\n        )\n      );\n      return scale;\n    } else {\n      const min = Math.min(...values);\n      const max = Math.max(...values);\n      const Scale = getScale('linear');\n      const scale = new Scale(\n        mix(\n          {},\n          {\n            min: min,\n            max: max,\n            nice: true,\n            values: values,\n          },\n          this.plot.config.scales[this.plot.options.xField]\n        )\n      );\n      return scale;\n    }\n  }\n\n  private _getState(type) {\n    this.values = this._extractValues();\n    if (type === 'median') {\n      return getMedian(this.values);\n    }\n    if (type === 'mean') {\n      return getMean(this.values);\n    }\n    if (type === 'max') {\n      return Math.max(...this.values);\n    }\n    if (type === 'min') {\n      return Math.min(...this.values);\n    }\n  }\n\n  private _extractValues() {\n    const props = this.plot.options;\n    const field = props.yField;\n    const values = [];\n    const data = this.plot.processData(props.data);\n    each(data, (d) => {\n      if (isArray(d[field])) {\n        values.push(...d[field]);\n      } else {\n        values.push(d[field]);\n      }\n    });\n    return values;\n  }\n\n  private extractXValue() {\n    const props = this.plot.options;\n    const field = props.xField;\n    const values = [];\n    const data = this.plot.processData(props.data);\n    each(data, (d) => {\n      if (isArray(d[field])) {\n        values.push(...d[field]);\n      } else {\n        values.push(d[field]);\n      }\n    });\n    return values;\n  }\n\n  private getDefaultStyle() {\n    this.getDefaultTextAlign();\n    return {\n      line: {\n        style: {\n          lineWidth: 2,\n          stroke: '#333333',\n          opacity: 0.7,\n          lineDash: [0, 0],\n        },\n      },\n      text: {\n        offsetY: -5,\n        style: {\n          fontSize: 14,\n          stroke: 'white',\n          lineWidth: 2,\n          textAlign: this.getDefaultTextAlign(),\n        },\n      },\n    };\n  }\n\n  private getDefaultTextAlign() {\n    const textConfig = this.cfg.text;\n    if (textConfig) {\n      if (!textConfig.position || textConfig.position === 'start') {\n        return 'left';\n      }\n      if (textConfig.position === 'center') {\n        return 'center';\n      }\n      if (textConfig.position === 'end') {\n        return 'right';\n      }\n    }\n  }\n}\n","import { assign, isFunction, deepMix, get, each, has } from '@antv/util';\nimport { Label } from '../../interface/config';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\nimport { LooseMap } from '../../interface/types';\n\nexport default class LabelParser {\n  public config: LooseMap = {};\n  protected plot: any;\n  protected originConfig: Label;\n\n  constructor(cfg) {\n    const { plot, ...rest } = cfg;\n    this.plot = plot;\n    this.originConfig = rest;\n    this.init(cfg);\n  }\n\n  public getConfig() {\n    return this.config;\n  }\n\n  protected init(cfg) {\n    assign(this.config, cfg);\n    this.config.callback = (val, ...restArgs: any[]) => {\n      return this.parseCallBack(val, ...restArgs);\n    };\n  }\n\n  protected parseCallBack(val, ...restArgs: any[]) {\n    const labelProps = this.originConfig;\n    const theme = this.plot.getPlotTheme();\n    const config: LooseMap = { ...labelProps };\n    this.parseOffset(labelProps, config);\n    if (labelProps.position) {\n      if (isFunction(labelProps.position)) {\n        config.position = labelProps.position(val);\n      } else {\n        config.position = labelProps.position;\n      }\n    }\n    this.parseFormatter(config, val, ...restArgs);\n    if (labelProps.style) {\n      if (isFunction(labelProps.style)) {\n        config.textStyle = labelProps.style(val);\n      } else {\n        config.textStyle = labelProps.style;\n      }\n    }\n    config.textStyle = deepMix({}, get(theme, 'label.style'), config.textStyle);\n    if (labelProps.autoRotate) {\n      config.autoRotate = labelProps.autoRotate;\n    }\n\n    return config;\n  }\n\n  protected parseOffset(props, config) {\n    const mapper = ['offset', 'offsetX', 'offsetY'];\n    let count = 0;\n    each(mapper, (m) => {\n      if (has(props, m)) {\n        config[m] = props[m];\n        count++;\n      }\n    });\n    // 如用户没有设置offset，而label position又为middle时，则默认设置offset为0\n    if (count === 0 && get(props, 'position') === 'middle') {\n      config.offset = 0;\n    }\n  }\n\n  protected parseFormatter(config: LooseMap, ...values: any[]) {\n    const labelProps = this.originConfig;\n    config.content = (data, mappingData, index) => {\n      // @ts-ignore\n      const text = data[labelProps.fields[0]];\n      return combineFormatter(\n        getNoopFormatter(),\n        getPrecisionFormatter(labelProps.precision),\n        getSuffixFormatter(labelProps.suffix),\n        (labelProps.formatter as (text: string, item: any, idx: number) => string)\n          ? labelProps.formatter\n          : getNoopFormatter()\n      )(text, data, index);\n    };\n  }\n}\n","import { each, clone, isObject, isFunction } from '@antv/util';\n// import { compare } from '../../base/controller/state';\n\n// 对axis label和label样式进行缓存\nlet labels;\nlet originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n  each(labels, (label, index) => {\n    const { labelData, con } = beforeCompare(label, condition);\n    if (compare(labelData, con)) {\n      const originAttr = originAttrs[index];\n      const disableStyle = labelActiveStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n  each(labels, (label, index) => {\n    const { labelData, con } = beforeCompare(label, condition);\n    if (compare(labelData, con)) {\n      const originAttr = originAttrs[index];\n      const disableStyle = labelDisableStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllAxisLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  const axes = plot.view.getController('axis').getComponents();\n  each(axes, (axisComponentOption) => {\n    const axis = axisComponentOption.component;\n    const labelArr = [];\n    const scale = getScale(plot, axis);\n    const labelShapes = axis\n      .get('labelRenderer')\n      .get('group')\n      .get('children');\n    each(labelShapes, (shape) => {\n      if (shape.type === 'text') {\n        labelArr.push({ shape });\n        originAttrs.push(shape.attr());\n      }\n    });\n    if (scale) {\n      // 取到scale values作为原始数据，避免被label format的影响\n      const { ticks, field } = scale;\n      each(labelArr, (label, index) => {\n        label.value = ticks[index];\n        label.scaleField = field;\n        label.type = scale.type;\n      });\n    }\n    labels.push(...labelArr);\n  });\n}\n\n// 获取坐标轴对应的scale\nfunction getScale(plot, axis) {\n  const props = plot.options;\n  let dim = 'y';\n  const position = axis.get('position');\n  if (position === 'bottom' || position === 'top') {\n    dim = 'x';\n  }\n  const scaleField = props[`${dim}Field`];\n  return plot.view.get('scales')[scaleField];\n}\n\nfunction beforeCompare(label, condition) {\n  const labelData = { [label.scaleField]: label.value };\n  const con = clone(condition);\n  if (label.type === 'time' && isObject(condition) && !isFunction(con.exp)) {\n    con.exp = new Date(con.exp).getTime();\n  }\n  return { labelData, con };\n}\n\nfunction labelDisableStyle(style) {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.2 };\n}\n\nfunction labelActiveStyle(style) {\n  return { opacity: 1, fontWeight: 600, fill: 'red' };\n}\n\nfunction compare(origin, condition) {\n  if (!isFunction(condition)) {\n    const { name, exp } = condition;\n    if (!origin[name]) {\n      return false;\n    }\n    if (isFunction(exp)) {\n      return exp(origin[name]);\n    }\n    return origin[name] === exp;\n  }\n  return condition(origin);\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable,\n};\n","import { each, mix } from '@antv/util';\nimport { compare } from '../../base/controller/state';\n\n// 对label和label样式进行缓存\nlet labels;\nlet originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n  each(labels, (label, index) => {\n    const origin = label.get('origin');\n    if (compare(origin, condition)) {\n      const originAttr = originAttrs[index];\n      const style = mix({}, originAttr, { opacity: 1 });\n      label.attr(style);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n  each(labels, (label, index) => {\n    const origin = label.get('origin');\n    if (compare(origin, condition)) {\n      const originAttr = originAttrs[index];\n      const disableStyle = labelDisableStyle(originAttr);\n      label.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  const geoms = plot.view.get('elements');\n  each(geoms, (geom) => {\n    const geomLabels = geom.get('labels');\n    if (geomLabels) {\n      each(geomLabels, (label) => {\n        labels.push(label);\n        originAttrs.push(label.attr());\n      });\n    }\n  });\n}\n\nfunction labelDisableStyle(style) {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.2 };\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable,\n};\n","import { each, clone, isFunction, has } from '@antv/util';\nimport { compare } from '../../base/controller/state';\n\nconst POSITION_MAPPER = ['xField', 'yField', 'angleField'];\n\nfunction onActive(plot, condition) {\n  const props = plot.options;\n  // 获取state condition对应在画布的位置，只有在state condition对应字段为位置映射字段时，tooltip才会对齐进行响应\n  if (shouldActive(props, condition)) {\n    const data = props.data;\n    each(data, (d) => {\n      if (compare(d, condition)) {\n        const point = plot.view.getXY(d);\n        // 调用showTooltip方法\n        plot.view.on('tooltip:create', (e) => {\n          processState(condition, e, false);\n        });\n        plot.view.showTooltip(point);\n      }\n    });\n  }\n}\n\nfunction onDisable(plot, condition) {\n  plot.view.on('tooltip:change', (e) => {\n    processState(condition, e, true);\n  });\n}\n\nfunction processState(condition, e, inverse) {\n  const expected = inverse ? false : true;\n  const originItems = clone(e.items);\n  e.items.splice(0);\n  each(originItems, (item) => {\n    const origin = item.point._origin;\n    if (compare(origin, condition) === expected) {\n      e.items.push(item);\n    }\n  });\n}\n\nfunction shouldActive(props, condition) {\n  const fields = getPositionField(props);\n  return !isFunction(condition) && fields.indexOf(condition.name);\n}\n\nfunction getPositionField(props) {\n  const fields = [];\n  each(POSITION_MAPPER, (v) => {\n    if (has(props, v)) {\n      fields.push(v);\n    }\n  });\n  return fields;\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable,\n};\n","import BaseInteraction from './base';\nimport ScrollbarInteraction from './scrollbar';\nimport SliderInteraction from './slider';\n\nBaseInteraction.registerInteraction('slider', SliderInteraction);\nBaseInteraction.registerInteraction('scrollbar', ScrollbarInteraction);\n\nexport * from './base';\nexport default BaseInteraction;\n","import { IGroup, Scrollbar } from '../dependents';\nimport BBox from '../util/bbox';\nimport { Scale } from '@antv/scale';\nimport { clamp, get, isEqual, map, throttle } from '@antv/util';\nimport ViewLayer from '../base/view-layer';\nimport { IScrollbarInteractionConfig } from '../interface/config';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\n\nconst DEFAULT_PADDING: number = 4;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\nconst SCROLL_BAR_Z_INDEX: number = 999;\n\nconst getValidScrollbarConfig = (cfg: IScrollbarInteractionConfig = {}): Required<IScrollbarInteractionConfig> => {\n  const _cfg: Required<IScrollbarInteractionConfig> = {\n    type: 'horizontal',\n    categorySize: DEFAULT_CATEGORY_SIZE,\n    width: DEFAULT_SIZE,\n    height: DEFAULT_SIZE,\n    padding: [0, 0, 0, 0],\n    ...cfg,\n  };\n\n  // default padding\n  if (!cfg.padding) {\n    _cfg.padding =\n      _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  }\n\n  return _cfg;\n};\n\nexport default class ScrollbarInteraction extends BaseInteraction {\n  public static getInteractionRange(layerRange: BBox, interaction: IScrollbarInteractionConfig) {\n    const config: Required<IScrollbarInteractionConfig> = getValidScrollbarConfig(interaction);\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = config.padding;\n\n    if (config.type === 'horizontal') {\n      return new BBox(\n        layerRange.minX,\n        layerRange.maxY - config.height - paddingTop - paddingBottom,\n        layerRange.width,\n        config.height + paddingTop + paddingBottom\n      );\n    } else {\n      return new BBox(\n        layerRange.maxX - config.width - paddingLeft - paddingRight,\n        layerRange.minY,\n        config.width + paddingLeft + paddingRight,\n        layerRange.height\n      );\n    }\n  }\n\n  private container: IGroup;\n  private scrollbar: Scrollbar;\n  private cnt: number;\n  private step: number;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Array<{\n    field: string;\n    type: string;\n    min: number;\n    max: number;\n    ticks: number[];\n    formatter: any;\n  }>;\n  private ratio: number;\n  private thumbOffset: number;\n  private trackLen: number;\n  private thumbLen: number;\n  private onChangeFn = throttle(this.onChange.bind(this), 20, {\n    leading: true,\n  }) as (evt: object) => void;\n\n  protected render(): void {\n    const view = this.view;\n    this.ratio = 0;\n    this.thumbOffset = 0;\n    view.on('afterrender', () => {\n      const padding = this.view.padding;\n      // if we're not in `auto padding` process\n      if (!isEqual([0, 0, 0, 0], padding)) {\n        if (!this.trackLen) {\n          this.measureScrollBar();\n          this.changeViewData(this.getScrollRange());\n        } else {\n          this.renderScrollbar();\n        }\n      }\n    });\n  }\n\n  protected clear(): void {\n    if (this.scrollbar) {\n      this.scrollbar.destroy();\n      this.scrollbar = null;\n    }\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n    this.trackLen = null;\n    this.thumbLen = null;\n  }\n\n  private renderScrollbar(): void {\n    const config: Required<IScrollbarInteractionConfig> = getValidScrollbarConfig(this.getInteractionConfig());\n    const range = this.getRange();\n    const isHorizontal = config.type !== 'vertical';\n    const panelRange = this.view.coordinateBBox;\n    const [paddingTop, , , paddingLeft] = config.padding;\n    const position = isHorizontal\n      ? { x: panelRange.minX + paddingLeft, y: range.minY + paddingTop }\n      : { x: range.minX + paddingLeft, y: panelRange.minY + paddingTop };\n\n    if (!this.scrollbar) {\n      this.container = this.canvas.addGroup();\n      this.scrollbar = new Scrollbar({\n        container: this.container,\n        x: position.x,\n        y: position.y,\n        isHorizontal,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: this.ratio * this.trackLen,\n      });\n      this.scrollbar.init();\n      this.scrollbar.render();\n      this.scrollbar.get('group').set('zIndex', SCROLL_BAR_Z_INDEX);\n      this.scrollbar.on('scrollchange', this.onChangeFn);\n    } else {\n      this.scrollbar.update({\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: this.thumbOffset,\n        x: position.x,\n        y: position.y,\n      });\n      this.scrollbar.render();\n    }\n  }\n\n  private measureScrollBar(): void {\n    const config: Required<IScrollbarInteractionConfig> = getValidScrollbarConfig(this.getInteractionConfig());\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = config.padding;\n    const isHorizontal: boolean = config.type !== 'vertical';\n    const panelRange = this.view.coordinateBBox;\n    const xScale: Scale = this.view.getXScale();\n    const yScales: Scale[] = this.view.getYScales();\n\n    this.cnt = xScale.values.length;\n    this.xScaleCfg = { field: xScale.field, values: xScale.values || [] };\n    this.yScalesCfg = map(yScales, (item) => ({\n      field: item.field,\n      type: item.type,\n      min: item.min,\n      max: item.max,\n      ticks: item.ticks,\n      formatter: item.formatter,\n    }));\n    this.step = Math.floor((isHorizontal ? panelRange.width : panelRange.height) / config.categorySize);\n    this.trackLen = isHorizontal\n      ? panelRange.width - paddingLeft - paddingRight\n      : panelRange.height - paddingTop - paddingBottom;\n    this.thumbLen = Math.max(this.trackLen * clamp(this.step / xScale.values.length, 0, 1), MIN_THUMB_LENGTH);\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step, this.cnt);\n\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number]): void {\n    const config: Required<IScrollbarInteractionConfig> = getValidScrollbarConfig(this.getInteractionConfig());\n    const viewLayer: ViewLayer = this.getViewLayer();\n    const { meta } = viewLayer.options;\n    const origData: object[] = viewLayer.getData();\n    const newData: object[] = getDataByScaleRange(\n      this.xScaleCfg.field,\n      this.xScaleCfg.values,\n      origData,\n      [startIdx, endIdx],\n      config.type === 'vertical'\n    );\n\n    // ScrollBar在滚动过程中保持\b\bY轴上scale配置: min/max/ticks\n    this.yScalesCfg.forEach((cfg) => {\n      const metaCfg = get(meta, cfg.field) || {};\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        ...metaCfg,\n        type: cfg.type as 'linear' | 'cat' | 'log' | 'pow' | 'identity' | 'time',\n        min: cfg.min,\n        max: cfg.max,\n      });\n    });\n    this.view.data(newData);\n    this.view.render();\n  }\n\n  private onChange({ ratio, thumbOffset }: { ratio: number; thumbOffset: number }): void {\n    this.ratio = ratio;\n    this.thumbOffset = thumbOffset;\n\n    const origAnimate = this.view.getOptions().animate;\n    this.view.animate(false);\n    this.changeViewData(this.getScrollRange());\n    this.view.animate(origAnimate);\n  }\n}\n","import { IGroup, Slider } from '../dependents';\nimport BBox from '../util/bbox';\nimport { Scale } from '@antv/scale';\nimport { clamp, head, last, map, size, throttle } from '@antv/util';\nimport { ISliderInteractionConfig } from '../interface/config';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\n\nconst DEFAULT_PADDING: number = 4;\nconst DEFAULT_SIZE: number = 16;\n\nconst getValidSliderConfig = (cfg: ISliderInteractionConfig = {}): Required<ISliderInteractionConfig> => {\n  const _cfg: Required<ISliderInteractionConfig> = {\n    type: 'horizontal',\n    start: 0,\n    end: 1,\n    width: undefined,\n    height: undefined,\n    padding: [0, 0, 0, 0],\n    backgroundStyle: undefined,\n    foregroundStyle: undefined,\n    handlerStyle: undefined,\n    textStyle: undefined,\n    trendCfg: undefined,\n    ...cfg,\n  };\n\n  // default padding\n  if (!cfg.padding) {\n    _cfg.padding =\n      _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  }\n\n  // default size\n  if (!cfg.height) {\n    _cfg.height = DEFAULT_SIZE;\n  }\n  if (!cfg.width) {\n    _cfg.width = DEFAULT_SIZE;\n  }\n\n  // start & end\n  const start = clamp(Math.min(_cfg.start, _cfg.end), 0, 1);\n  const end = clamp(Math.max(_cfg.start, _cfg.end), 0, 1);\n  _cfg.start = start;\n  _cfg.end = end;\n\n  return _cfg;\n};\n\nexport default class SliderInteraction extends BaseInteraction {\n  public static getInteractionRange(layerRange: BBox, interaction: ISliderInteractionConfig): BBox {\n    const config: ISliderInteractionConfig = getValidSliderConfig(interaction);\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = config.padding || [0, 0, 0, 0];\n\n    if (config.type === 'horizontal') {\n      const bbox = new BBox(\n        layerRange.minX,\n        layerRange.maxY - config.height - paddingTop - paddingBottom,\n        layerRange.width,\n        config.height + paddingTop + paddingBottom\n      );\n      return bbox;\n    } else {\n      return new BBox(\n        layerRange.maxX - config.width - paddingLeft - paddingRight,\n        layerRange.minY,\n        config.width + paddingLeft + paddingRight,\n        layerRange.height\n      );\n    }\n  }\n\n  private container: IGroup;\n  private slider: Slider;\n  private curStart: number;\n  private curEnd: number;\n  private xScaleCfg:\n    | {\n        field: string;\n        values: string[];\n      }\n    | undefined;\n  private onChangeFn: (range: [number, number]) => void = throttle(this.onChange.bind(this), 20, { leading: true }) as (\n    range: [number, number]\n  ) => void;\n\n  protected render(): void {\n    // 设置初始化的 start/end\n    const config = getValidSliderConfig(this.getInteractionConfig());\n    this.curStart = config.start;\n    this.curEnd = config.end;\n    this.xScaleCfg = undefined;\n    // 等待 view 每次 render 完成后更新 slider 组件\n    this.view.on('afterrender', () => {\n      if (!this.xScaleCfg) {\n        // 初始化配置和数据\n        const xScale: Scale = this.view.getXScale();\n        this.xScaleCfg = {\n          field: xScale.field,\n          values: xScale.values || [],\n        };\n        // 初始化 data\n        this.view.data(this.getSliderData(this.curStart, this.curEnd));\n        this.view.render();\n      } else {\n        this.renderSlider();\n      }\n    });\n  }\n\n  protected clear(): void {\n    if (this.slider) {\n      this.slider.destroy();\n      this.slider = null;\n    }\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n  }\n\n  private renderSlider(): void {\n    if (!this.slider) {\n      this.container = this.canvas.addGroup();\n      this.slider = new Slider({ ...this.getSliderConfig(), container: this.container });\n      this.slider.init();\n      this.slider.render();\n      this.slider.on('sliderchange', this.onChangeFn);\n    } else {\n      this.slider.update(this.getSliderConfig());\n      this.slider.render();\n    }\n  }\n\n  private getSliderConfig() {\n    const view = this.view;\n    const panelRange = view.coordinateBBox;\n    const range = this.getRange();\n    const config: ISliderInteractionConfig | null = getValidSliderConfig(this.getInteractionConfig());\n    const { padding = [0, 0, 0, 0], backgroundStyle, foregroundStyle, handlerStyle, textStyle, trendCfg = {} } =\n      config || {};\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const { minText, maxText } = this.getSliderMinMaxText(this.curStart, this.curEnd);\n    const cfg: any = {\n      x: panelRange.minX + paddingLeft,\n      y: range.minY + paddingTop,\n      width: panelRange.width - paddingLeft - paddingRight,\n      height: range.height - paddingTop - paddingBottom,\n      start: this.curStart,\n      end: this.curEnd,\n      minText,\n      maxText,\n      backgroundStyle,\n      foregroundStyle,\n      handlerStyle,\n      textStyle,\n      trendCfg: {\n        isArea: false,\n        smooth: false,\n        ...trendCfg,\n        data: this.getSliderTrendData(),\n      },\n    };\n\n    return cfg;\n  }\n\n  private getSliderTrendData(): number[] {\n    const { data, yField } = this.getViewLayer().options;\n\n    return map(data, (item) => item[yField]);\n  }\n\n  private getSliderData(start: number, end: number): any[] {\n    const origData = this.getViewLayer().getData();\n    const length = size(this.xScaleCfg.values);\n    const startIdx = Math.round(start * length);\n    const endIdx = Math.max(startIdx + 1, Math.round(end * length));\n\n    return getDataByScaleRange(this.xScaleCfg.field, this.xScaleCfg.values, origData, [startIdx, endIdx]);\n  }\n\n  private getSliderMinMaxText(start: number, end: number): { minText: string; maxText: string } {\n    const { data = [], xField } = this.getViewLayer().options;\n    const length = size(data);\n    const startIdx = Math.round(start * length);\n    const endIdx = Math.max(startIdx + 1, Math.round(end * length));\n    const newData = data.slice(startIdx, endIdx);\n\n    return {\n      minText: head(newData)[xField],\n      maxText: last(newData)[xField],\n    };\n  }\n\n  private onChange(range: [number, number]): void {\n    const view = this.view;\n    const start = clamp(Math.min(range[0], range[1]), 0, 1);\n    const end = clamp(Math.max(range[0], range[1]), 0, 1);\n    const data = this.getSliderData(start, end);\n    const { minText, maxText } = this.getSliderMinMaxText(start, end);\n    this.curStart = start;\n    this.curEnd = end;\n    this.slider.update({\n      start,\n      end,\n      minText,\n      maxText,\n    });\n    this.slider.render();\n    const origAnimate = view.getOptions().animate;\n    view.animate(false);\n    view.changeData(data);\n    view.animate(origAnimate);\n  }\n}\n","import { IElement, View } from '../../dependents';\nimport { filter, each, isArray, clone, has } from '@antv/util';\nimport ViewLayer from '../view-layer';\nimport { MarginPadding } from '../../interface/types';\nimport BBox from '../../util/bbox';\nimport { getAxisShapes, getLegendShapes } from '../../util/common';\n\ninterface ControllerConfig {\n  plot: ViewLayer;\n}\n\n/**\n * 处理图表padding的逻辑：\n * 注册参与padding的自定义组件\n */\n\nexport default class PaddingController {\n  private plot: ViewLayer;\n  private bleeding: number[];\n\n  private innerPaddingComponents: any[] = [];\n  private outerPaddingComponents: any[] = [];\n\n  constructor(cfg: ControllerConfig) {\n    this.plot = cfg.plot;\n  }\n\n  public registerPadding(component: any, type: 'outer' | 'inner' = 'outer', checkIfExist: boolean = false) {\n    if (type === 'inner') {\n      if (checkIfExist) {\n        if (!this.innerPaddingComponents.find((c) => c == component)) {\n          this.innerPaddingComponents.push(component);\n        }\n      } else {\n        this.innerPaddingComponents.push(component);\n      }\n    } else {\n      if (checkIfExist) {\n        if (!this.outerPaddingComponents.find((c) => c == component)) {\n          this.outerPaddingComponents.push(component);\n        }\n      } else {\n        this.outerPaddingComponents.push(component);\n      }\n    }\n  }\n\n  /**\n   * 清除已经注册的元素\n   */\n  public clear() {\n    this.innerPaddingComponents = [];\n    // 一些组件是在view渲染完成之后渲染初始化的\n    // TODO: afterRender的什么时候清除\n    this.outerPaddingComponents = filter(this.outerPaddingComponents, (component) => component.afterRender);\n  }\n\n  public clearOuterComponents() {\n    each(this.outerPaddingComponents, (component) => {\n      if (component.afterRender) {\n        component.destroy();\n      }\n    });\n    this.outerPaddingComponents = [];\n  }\n\n  public getPadding() {\n    const props = this.plot.options;\n    const padding = props.padding ? props.padding : this.plot.config.theme.padding;\n    if (padding === 'auto') {\n      return [0, 0, 0, 0];\n    }\n    return padding;\n  }\n\n  /** view层的padding计算 */\n  public processAutoPadding() {\n    const padding = this._getInnerAutoPadding();\n    this.plot.updateConfig({\n      padding,\n    });\n    this.plot.render();\n  }\n\n  public processOuterPadding() {\n    if (!this.plot.layerBBox) {\n      this.plot.layerBBox = new BBox(this.plot.x, this.plot.y, this.plot.width, this.plot.height);\n    }\n    let viewMinX = this.plot.layerBBox.minX;\n    let viewMaxX = this.plot.layerBBox.maxX;\n    let viewMinY = this.plot.layerBBox.minY;\n    let viewMaxY = this.plot.layerBBox.maxY;\n    each(this.outerPaddingComponents, (component) => {\n      const { position } = component;\n      const { minX, maxX, minY, maxY } = component.getBBox();\n      if (maxY >= viewMinY && maxY <= viewMaxY && position === 'top') {\n        viewMinY = maxY;\n      }\n      if (minY >= viewMinY && minY <= viewMaxY && position === 'bottom') {\n        viewMaxY = minY;\n      }\n      if (maxX > viewMinX && maxX <= viewMaxX && position === 'left') {\n        viewMinX = maxX;\n      }\n      if (minX >= viewMinX && maxX <= viewMaxX && position === 'right') {\n        viewMaxX = minX;\n      }\n    });\n    return new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  }\n\n  private _getInnerAutoPadding() {\n    const props = this.plot.options;\n    const view = this.plot.view;\n    const viewRange: any = clone(view.viewBBox);\n    const { minX, maxX, minY, maxY } = viewRange;\n    const bleeding = this.plot.config.theme.bleeding;\n    if (isArray(bleeding)) {\n      each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](props);\n        }\n      });\n    }\n    this.plot.config.theme.legend.margin = bleeding;\n    this.bleeding = clone(bleeding);\n    // 参与auto padding的components: axis legend\n    let components_bbox;\n    if (has(this.plot.options, 'radius')) {\n      components_bbox = [new BBox(0, viewRange.minY, viewRange.width, viewRange.height)];\n    } else {\n      components_bbox = [new BBox(0, 0, viewRange.width, viewRange.height)];\n    }\n    this._getAxis(view, components_bbox);\n    let box = this._mergeBBox(components_bbox);\n    this._getLegend(view, components_bbox, viewRange, this.plot.options);\n    box = this._mergeBBox(components_bbox);\n    // 参与auto padding的自定义组件\n    const components = this.innerPaddingComponents;\n    each(components, (obj) => {\n      const component = obj;\n      const bbox = component.getBBox();\n      components_bbox.push(bbox);\n    });\n    box = this._mergeBBox(components_bbox);\n    const padding: MarginPadding = [\n      0 - box.minY + this.bleeding[0], // 上面超出的部分\n      box.maxX - maxX + this.bleeding[1], // 右边超出的部分\n      box.maxY - maxY + this.bleeding[2], // 下边超出的部分\n      0 - box.minX + this.bleeding[3],\n    ];\n    //this.adjustAxisPadding(view, padding);\n    // label、annotation等\n    const panelPadding = this._getPanel(view, box);\n    padding[0] += panelPadding[0];\n    padding[1] += panelPadding[1];\n    padding[2] += panelPadding[2];\n    padding[3] += panelPadding[3];\n\n    return padding;\n  }\n\n  private _getAxis(view, bboxes) {\n    const axisShapes = getAxisShapes(view);\n    if (axisShapes.length > 0) {\n      each(axisShapes, (a) => {\n        const bbox = a.getBBox();\n        bboxes.push(bbox);\n      });\n    }\n  }\n\n  private _getLegend(view, bboxes, viewRange, options) {\n    const legendContainer = getLegendShapes(view)[0];\n    if (legendContainer) {\n      const bbox = legendContainer.getBBox();\n      if (options.legend) {\n        const position = options.legend.position.split('-')[0];\n        if (position === 'top') {\n          bboxes.push(new BBox(bbox.minX, -bbox.height, bbox.width, bbox.height));\n        } else if (position === 'bottom') {\n          bboxes.push(new BBox(bbox.minX, bbox.height + viewRange.height, bbox.width, bbox.height));\n        } else if (position === 'left') {\n          bboxes.push(new BBox(bbox.minX - bbox.width, bbox.minY, bbox.width, bbox.height));\n        } else {\n          bboxes.push(new BBox(viewRange.maxX, bbox.minY, bbox.width, bbox.height));\n        }\n      }\n    }\n  }\n\n  private _getPanel(view, box) {\n    const groups = [];\n    const geoms = view.geometries;\n    each(geoms, (geom) => {\n      if (geom.labelsContainer) {\n        groups.push(geom.labelsContainer);\n      }\n    });\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    each(groups, (group) => {\n      const children = group.get('children');\n      children.forEach((child) => {\n        if (child.type === 'group' && child.get('children').length === 0) {\n          return;\n        }\n        const bbox = child.getBBox();\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      });\n    });\n    const panelRange = view.coordinateBBox;\n    //right\n    let rightDist = Math.max(maxX - parseFloat(panelRange.maxX), 0);\n    if (rightDist > 0) {\n      const ratio = panelRange.width / (panelRange.width + rightDist);\n      rightDist *= ratio;\n    }\n    //left\n    let leftDist = Math.max(parseFloat(panelRange.minX) - minX, 0);\n    if (leftDist > 0) {\n      const ratio = panelRange.width / (panelRange.width + leftDist);\n      leftDist *= ratio;\n    }\n    //top\n    let topDist = Math.max(parseFloat(panelRange.minY) - minY, 0);\n    if (topDist > 0) {\n      const ratio = panelRange.height / (panelRange.height + topDist);\n      topDist *= ratio;\n    }\n    //bottom\n    let bottomDist = Math.max(maxY - parseFloat(panelRange.maxY), 0);\n    if (bottomDist > 0) {\n      const ratio = panelRange.height / (panelRange.height + bottomDist);\n      bottomDist *= ratio;\n    }\n\n    return [topDist, rightDist, bottomDist, leftDist];\n  }\n\n  private _mergeBBox(bboxes) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n\n    each(bboxes, (bbox) => {\n      const box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n\n    return { minX, maxX, minY, maxY };\n    // return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  private _adjustLegend(legend, view, box) {\n    const position = legend.get('position').split('-');\n    const container = legend.get('container');\n    const bbox = container.getBBox();\n    const { width, height, maxX, minX, maxY, minY } = view.viewBBox;\n    if (position[0] === 'right') {\n      container.move(width, minY);\n    }\n    if (position[0] === 'left') {\n      container.move(box.minX - bbox.width, minY);\n    }\n    if (position[0] === 'top') {\n      container.move(0, box.minY - bbox.height);\n    }\n    if (position[0] === 'bottom') {\n      container.move(0, Math.max(maxY, box.maxY));\n    }\n  }\n\n  private _getLegendInnerPadding(legend) {\n    const innerPadding = this.plot.theme.legend.innerPadding;\n    const position = legend.get('position').split('-');\n    if (position[0] === 'top') {\n      return [innerPadding[0], 0, 0, 0];\n    }\n    if (position[0] === 'bottom') {\n      return [0, 0, innerPadding[2], 0];\n    }\n    if (position[0] === 'left') {\n      return [0, 0, 0, innerPadding[3]];\n    }\n    if (position[0] === 'right') {\n      return [0, innerPadding[1], 0, 0];\n    }\n  }\n\n  private _mergeBleeding(source) {\n    const target = this.bleeding;\n    if (source.length !== target.length) {\n      return;\n    }\n    for (let i = 0; i < source.length; i++) {\n      target[i] += source[i];\n    }\n  }\n\n  /* private adjustAxisPadding(view: View, padding: MarginPadding) {\n    // 3.6.x Axis组件的 autoRotate padding 修正\n    const xAxis = view.get('axisController').axes[0];\n    if (!xAxis || !xAxis.get('autoRotateLabel') || !xAxis.getOffsetByRotateAngle) {\n      return;\n    }\n    const labelRenderer = xAxis.get('labelRenderer');\n    const labels = labelRenderer.getLabels();\n    const curOffset = xAxis.getOffsetByRotateAngle(xAxis.get('autoRotateAngle'));\n    const curTotalWidth = Math.abs(xAxis.get('end').x - xAxis.get('start').x);\n    // 如果只有一项数据, 平均宽度 = 总宽\n    let curAvgWidth = curTotalWidth;\n    // 当多项数据时，根据 label 位置计算均宽\n    if (labels.length > 1) {\n      curAvgWidth = Math.abs(labels[1].attr('x') - labels[0].attr('x'));\n    }\n    const newTotalWidth = curTotalWidth - padding[1] - padding[3];\n    const newAvgWidth = (curAvgWidth * newTotalWidth) / curTotalWidth;\n    const newOffset = xAxis.getOffsetByRotateAngle(xAxis.getAutoRotateAngleByAvgWidth(newAvgWidth));\n\n    if (newOffset > curOffset) {\n      padding[2] += newOffset - curOffset;\n    }\n  }*/\n}\n","import { DESCRIPTION_BOTTOM_MARGIN, TOP_BLEEDING, BOTTOM_BLEEDING } from './default';\nimport line from '../geoms/line';\n\nexport const DEFAULT_DARK_THEME = {\n  backgroundStyle: {\n    fill: '#262626',\n  },\n  defaultColor: '#5B8FF9',\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fontWeight: 'bold',\n    fill: 'rgba(255,255,255,0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false,\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'rgba(255, 255, 255, 0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false,\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        line: {\n          style: {\n            stroke: 'rgba(255, 255, 255, 0.15)',\n            lineWidth: 1,\n            lineDash: null,\n          },\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 1,\n        },\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5,\n          length: 4,\n        },\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        autoRotate: false,\n        autoHide: true,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.45)',\n          fontSize: 12,\n        },\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom',\n        },\n      },\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        line: {\n          style: {\n            stroke: 'rgba(255, 255, 255, 0.15)',\n            lineWidth: 1,\n            lineDash: null,\n          },\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n        },\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5,\n        },\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n        },\n        offset: 16,\n        autoHide: true,\n        autoRotate: true,\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n        },\n      },\n    },\n    circle: {\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: '#E3E8EC',\n        },\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#BFBFBF',\n        },\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: '#bdc8d3',\n          length: 4,\n          alignWithLabel: true,\n        },\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12,\n        },\n        autoRotate: true,\n        autoHide: true,\n      },\n      title: {\n        offset: 12,\n        style: { fill: '#767b84', fontSize: 12 },\n      },\n    },\n    radius: {\n      label: {\n        offset: 12,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12,\n        },\n      },\n    },\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16],\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: 'rgba(255, 255, 255, 0.65)',\n    },\n    style: {\n      fill: 'rgba(255, 255, 255, 0.65)',\n      lineWidth: 1,\n    },\n  },\n  components: {\n    tooltip: {\n      domStyles: {\n        'g2-tooltip': {\n          backgroundColor: 'rgba(33,33,33, 0.95)',\n          boxShadow: '0px 0px 8px rgba(0,0,0,0.65)',\n          color: 'rgba(255, 255, 255, 0.65)',\n        },\n      },\n    },\n  },\n};\n","import { getGlobalTheme } from './global';\nimport { each, set, has, isEmpty } from '@antv/util';\n\n/**\n * 所有的 plot theme object，每个图类型只会存在一个 theme\n */\nconst PLOT_THEME_MAP: Record<string, any> = {};\n\n/**\n * 将 主题 转换为 G2 主题配置\n * @param type plotType\n */\nfunction convertThemeToG2Theme(type: string, theme: any) {\n  let styleMapShape: object = {\n    lineStyle: 'line.line',\n    columnStyle: 'interval.rect',\n    pointStyle: 'point.circle', // point 可能是其他shape，如square等\n  };\n  const g2Theme = {};\n  if (type === 'area') {\n    styleMapShape = {\n      areaStyle: 'area.area',\n      lineStyle: 'area.line', // todo area-smooth怎么配置\n      pointStyle: 'point.circle',\n    };\n  }\n  const geometryTheme = {};\n  each(theme, (style, styleKey) => {\n    if (has(styleMapShape, styleKey)) {\n      const shapePath = styleMapShape[styleKey];\n      each(style, (v, k) => {\n        set(geometryTheme, `${shapePath}.${[k === 'normal' ? 'default' : k]}.style`, v);\n      });\n    } else {\n      set(g2Theme, styleKey, style);\n    }\n  });\n  if (!isEmpty(geometryTheme)) {\n    set(g2Theme, 'geometries', geometryTheme);\n  }\n  return g2Theme;\n}\n\n/**\n * 注册新的图表主题\n * @param type\n * @param theme\n */\nexport function registerTheme(type: string, theme: object) {\n  PLOT_THEME_MAP[type.toLowerCase()] = convertThemeToG2Theme(type, theme);\n}\n\n/**\n * 根据类型获取主题\n * @param type plotType, such as line, column, bar, pie, bullet, radar and so on\n */\nexport function getTheme(type: string): any {\n  return PLOT_THEME_MAP[type.toLowerCase()] || {};\n}\n","import { clone } from '@antv/util';\n\n/**\n * mutable 的方式修改 axis 配置\n * @param axis\n */\n// function convertToG2Axis(axis: any): void {\n//   if (axis.line && axis.line.style) {\n//     const lineStyle = axis.line.style;\n//     delete axis.line.style;\n//     mix(axis.line, lineStyle);\n//   }\n//   if (axis.tickLine) {\n//     const tickLineStyle = axis.tickLine.style;\n//     delete axis.tickLine.style;\n//     mix(axis.tickLine, tickLineStyle);\n//   }\n//   if (axis.grid) {\n//     const gridStyle = axis.grid.style;\n//     delete axis.grid.style;\n//     mix(axis.grid, gridStyle);\n//   }\n//   if (axis.label) {\n//     if (axis.label.style) {\n//       axis.label.textStyle = axis.label.style;\n//       delete axis.label.style;\n//     }\n//   }\n//   if (axis.title) {\n//     if (axis.title.style) {\n//       axis.title.textStyle = axis.title.style;\n//       delete axis.title.style;\n//     }\n//   }\n// }\n\n/**\n * 将图形主题转换成 g2 theme 格式\n * @param plotTheme\n */\nexport function convertToG2Theme(plotTheme: any): any {\n  const g2Theme = clone(plotTheme);\n  /** tempo: legend margin设置为0 */\n  if (!g2Theme.legend) {\n    g2Theme.legend = {};\n  }\n  return g2Theme;\n}\n","// 存储一些共用部分\nexport const DEFAULT_RESPONSIVE_THEME = {\n  axis: {\n    x: {\n      category: {\n        constraints: [{ name: 'elementDist' }],\n        rules: {\n          elementDist: [\n            {\n              name: 'textWrapper',\n              option: {\n                lineNumber: 2,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 45,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 90,\n              },\n            },\n            {\n              name: 'textAbbreviate',\n              option: {\n                abbreviateBy: 'end',\n              },\n            },\n            {\n              name: 'textHide',\n            },\n          ],\n        },\n      },\n      linear: {\n        constraints: [{ name: 'elementDist' }],\n        rules: {\n          elementDist: [\n            {\n              name: 'nodesResampling',\n              option: {\n                keep: ['end'],\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 45,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 90,\n              },\n            },\n            {\n              name: 'robustAbbrevaite',\n              option: {\n                unit: 'thousand',\n                decimal: 1,\n                abbreviateBy: 'end',\n              },\n            },\n            {\n              name: 'textHide',\n            },\n          ],\n        },\n      },\n      dateTime: {\n        constraints: [{ name: 'elementDist' }],\n        rules: {\n          elementDist: [\n            {\n              name: 'datetimeStringAbbrevaite',\n            },\n            {\n              name: 'nodesResamplingByAbbrevate',\n              option: {\n                keep: ['end'],\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 45,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 90,\n              },\n            },\n            {\n              name: 'nodesResampling',\n            },\n            {\n              name: 'nodesResampling',\n            },\n            {\n              name: 'textHide',\n            },\n          ],\n        },\n      },\n    },\n    y: {\n      linear: {\n        constraints: [{ name: 'elementDistVertical' }, { name: 'elementWidth' }],\n        rules: {\n          elementDistVertical: [{ name: 'nodesResampling' }, { name: 'textHide' }],\n          elementWidth: [{ name: 'digitsAbbreviate' }, { name: 'textHide' }],\n        },\n      }, // linear y axis\n      category: {\n        constraints: [{ name: 'elementDistVertical' }, { name: 'elementWidth' }],\n        rules: {\n          elementDistVertical: [{ name: 'nodesResampling' }, { name: 'textHide' }],\n          elementWidth: [\n            {\n              name: 'textAbbreviate',\n              option: {\n                abbreviateBy: 'end',\n              },\n            },\n            { name: 'textHide' },\n          ],\n        },\n      },\n    }, // categroy y axis， 条形图\n  },\n};\n","import { modifyCSS } from '@antv/dom-util';\nimport { Canvas, SVG, ICanvas } from '../../dependents';\nimport { debounce, get } from '@antv/util';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { getGlobalTheme } from '../../theme/global';\nimport BasePlot from '../plot';\nimport ThemeController from './theme';\n\nexport interface CanvasControllerCfg {\n  readonly containerDOM: HTMLElement;\n  readonly plot: BasePlot;\n}\n\ntype ICanvasCtor = new (...cfg: any) => ICanvas;\n\n/**\n * Canvas controller\n * 1. create G.Canvas, destroy G.Canvas\n * 2. process auto fit container\n * 3. API for G.Canvas\n */\n\nexport default class CanvasController {\n  public width: number;\n  public height: number;\n  public canvas: ICanvas;\n\n  private containerDOM: HTMLElement;\n  private plot: BasePlot; // temp\n  private resizeObserver: any;\n\n  /**\n   * when the container size changed, trigger it after 300ms.\n   */\n  private onResize = debounce(() => {\n    if (this.plot.destroyed) {\n      return;\n    }\n    const { width, height } = this.getCanvasSize();\n    /** height measure不准导致重复 forceFit */\n    if (this.width === width /*&& this.height === height*/) {\n      return;\n    }\n    // got new width, height, re-render the plot\n    this.width = width;\n    this.height = height;\n\n    this.plot.updateConfig({ width, height });\n    this.plot.render();\n  }, 300);\n\n  constructor(cfg: CanvasControllerCfg) {\n    const { containerDOM, plot } = cfg;\n    this.containerDOM = containerDOM;\n    this.plot = plot;\n    this.init();\n  }\n\n  /**\n   * get canvas size from props.\n   * @returns the width, height of canvas\n   */\n  public getCanvasSize() {\n    const theme = getGlobalTheme();\n    let width = this.plot.width ? this.plot.width : theme.width;\n    let height = this.plot.height ? this.plot.height : theme.height;\n\n    // if forceFit = true, then use the container's size as default.\n    if (this.plot.forceFit) {\n      width = this.containerDOM.offsetWidth ? this.containerDOM.offsetWidth : width;\n      height = this.containerDOM.offsetHeight ? this.containerDOM.offsetHeight : height;\n    }\n    return { width, height };\n  }\n\n  /**\n   * get the canvas dom\n   * @returns Canvas DOM\n   */\n  public getCanvasDOM() {\n    return this.canvas.get('container');\n  }\n\n  /**\n   * update the plot size\n   */\n  public updateCanvasSize() {\n    const { width, height } = this.getCanvasSize();\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n    // this.plot.updateRange();\n  }\n\n  /**\n   * 根据主题调整canvas样式\n   */\n  public updateCanvasTheme() {\n    const { theme } = this.plot;\n    const globalTheme = ThemeController.getGlobalTheme(theme);\n    const fill: string = get(globalTheme, 'backgroundStyle.fill');\n    if (fill) {\n      this.updateCanvasStyle({\n        backgroundColor: fill,\n      });\n    }\n  }\n\n  /**\n   * update the canvas dom styles\n   * @param styles\n   */\n  public updateCanvasStyle(styles: Record<string, string | number>) {\n    modifyCSS(this.getCanvasDOM(), styles);\n  }\n\n  /**\n   * destroy the plot, remove resize event.\n   */\n  public destroy() {\n    // remove event\n    if (this.resizeObserver) {\n      this.resizeObserver.unobserve(this.containerDOM);\n      this.resizeObserver.disconnect();\n      this.containerDOM = null;\n    }\n    // remove G.Canvas\n    this.canvas.destroy();\n  }\n\n  /**\n   * when forceFit = true, then bind the event to listen the container size change\n   */\n  private bindForceFit() {\n    const { forceFit } = this.plot;\n\n    // use ResizeObserver to listen the container size change.\n    if (forceFit) {\n      this.resizeObserver = new ResizeObserver(this.onResize);\n      this.resizeObserver.observe(this.containerDOM);\n    }\n  }\n\n  /**\n   * init life circle\n   */\n  private init() {\n    this.initGCanvas();\n\n    this.bindForceFit();\n  }\n\n  /**\n   * init G.Canvas instance\n   */\n  private initGCanvas() {\n    /** 创建canvas */\n    const { renderer = 'canvas', pixelRatio } = this.plot;\n    const { width, height } = this.getCanvasSize();\n\n    const G: ICanvasCtor = renderer === 'canvas' ? Canvas : SVG;\n\n    this.canvas = new G({\n      container: this.containerDOM,\n      width,\n      height,\n      pixelRatio,\n    });\n    this.width = width;\n    this.height = height;\n    this.updateCanvasTheme();\n  }\n}\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { wrapBehavior, each, contains } from '@antv/util';\nimport { IElement, ICanvas, IShape } from '../../dependents';\nimport BBox from '../../util/bbox';\nimport BasePlot from '../plot';\nimport Layer from '../layer';\nimport { Point } from '../../interface/config';\n\ninterface ControllerConfig {\n  canvas: ICanvas;\n  plot: BasePlot;\n}\n\ninterface IEventHandler {\n  target: ICanvas;\n  type: string;\n  handler: Function;\n}\n\ninterface EventObj {\n  x: number;\n  y: number;\n  target: any;\n  event: object;\n}\n\nfunction isSameShape(shape1: IShape, shape2: IShape) {\n  if (shape1 && shape2 && shape1 === shape2) {\n    return true;\n  }\n  return false;\n}\n\nfunction isPointInBBox(point: Point, bbox: BBox) {\n  if (point.x >= bbox.minX && point.x <= bbox.maxX && point.y >= bbox.minY && point.y <= bbox.maxY) {\n    return true;\n  }\n  return false;\n}\n\nexport default class EventController {\n  private plot: BasePlot;\n  private canvas: ICanvas;\n  private pixelRatio: number;\n  private eventHandlers: IEventHandler[];\n  private lastShape: any;\n\n  constructor(cfg: ControllerConfig) {\n    this.plot = cfg.plot;\n    this.canvas = cfg.canvas;\n    this.pixelRatio = this.canvas.get('pixelRatio');\n    this.eventHandlers = [];\n  }\n\n  public bindEvents() {\n    this.addEvent(this.canvas, 'mousedown', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'mousemove', wrapBehavior(this, 'onMove'));\n    this.addEvent(this.canvas, 'mouseup', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'click', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'dblclick', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'contextmenu', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'wheel', wrapBehavior(this, 'onEvents'));\n  }\n\n  public clearEvents() {\n    const eventHandlers = this.eventHandlers;\n    each(eventHandlers, (eh) => {\n      eh.target.off(eh.type, eh.handler);\n    });\n  }\n\n  private addEvent(target: ICanvas, eventType: string, handler: Function) {\n    target.on(eventType, handler);\n    this.eventHandlers.push({ target, type: eventType, handler });\n  }\n\n  private onEvents(ev) {\n    const eventObj = this.getEventObj(ev);\n    const target: any = ev.target;\n    // 判断是否拾取到view以外的shape\n    if (!this.isShapeInView(target) && target.name) {\n      this.plot.emit(`${target.name}:${ev.type}`, ev);\n    }\n    this.plot.emit(`${ev.type}`, eventObj);\n    // layer事件\n    const layers = this.plot.getLayers();\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, ev.type);\n    }\n  }\n\n  private onMove(ev) {\n    const target: any = ev.target;\n    const eventObj = this.getEventObj(ev);\n    // shape的mouseenter, mouseleave和mousemove事件\n    if (!this.isShapeInView(target) && target.name) {\n      this.plot.emit(`${target.name}:${ev.type}`, eventObj);\n      // mouseleave & mouseenter\n      if (this.lastShape && !isSameShape(target, this.lastShape)) {\n        if (this.lastShape) {\n          this.plot.emit(`${this.lastShape.name}:mouseleave`, eventObj);\n        }\n        this.plot.emit(`${target.name}:mouseenter`, eventObj);\n      }\n      this.lastShape = target;\n    }\n    this.plot.emit('mousemove', eventObj);\n    // layer事件\n    const layers = this.plot.getLayers();\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, 'mousemove');\n    }\n  }\n\n  private isShapeInView(shape: IShape) {\n    const groupName = ['frontgroundGroup', 'backgroundGroup', 'panelGroup'];\n    let parent = shape.get('parent');\n    while (parent) {\n      const parentName = parent.get('name');\n      if (parentName && contains(groupName, parentName)) {\n        return true;\n      }\n      parent = parent.get('parent');\n    }\n    return false;\n  }\n\n  private getEventObj(ev) {\n    const obj = {\n      x: ev.x / this.pixelRatio,\n      y: ev.y / this.pixelRatio,\n      target: ev.target,\n      event: ev.event, // g事件的event\n    };\n    return obj;\n  }\n\n  private onLayerEvent(layers: Layer[], eventObj: EventObj, eventName: string) {\n    each(layers, (layer) => {\n      const bbox = layer.getGlobalBBox();\n      if (isPointInBBox({ x: eventObj.x, y: eventObj.y }, bbox)) {\n        layer.emit(`${eventName}`, eventObj);\n        const subLayers = layer.layers;\n        if (subLayers.length > 0) {\n          this.onLayerEvent(subLayers, eventObj, eventName);\n        }\n      }\n    });\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport LineLayer, { LineViewConfig } from './layer';\n\nexport interface LineConfig extends LineViewConfig, PlotConfig {}\n\nexport default class Line extends BasePlot<LineConfig> {\n  public static getDefaultOptions: typeof LineLayer.getDefaultOptions = LineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'line';\n    super.createLayers(layerProps);\n  }\n}\n","import AreaParser from './main';\nimport MiniAreaParser from './mini';\n\nexport default {\n  main: AreaParser,\n  mini: MiniAreaParser,\n};\n","/** 简化折线点 */\nimport { registerShape } from '../../dependents';\nimport { deepMix, each } from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport AreaParser from './main';\nimport { getGlobalTheme } from '../../theme';\n\nregisterShape('area', 'miniArea', {\n  draw(cfg, container) {\n    const opacity = cfg.style ? cfg.style.opacity : null;\n    const path = getPath(cfg, this, false);\n    const style = deepMix(\n      {},\n      {\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      cfg.style\n    );\n    const shape = container.addShape('path', {\n      attrs: {\n        path,\n        fill: parseGradient(cfg.color || getGlobalTheme().defaultColor),\n        opacity: opacity || 0.4,\n      },\n      style,\n    });\n    return shape;\n  },\n});\n\nregisterShape('area', 'miniAreaSmooth', {\n  draw(cfg, container) {\n    const opacity = cfg.style ? cfg.style.opacity : null;\n    const path = getPath(cfg, this, true);\n    const shape = container.addShape('path', {\n      attrs: {\n        path,\n        fill: parseGradient(cfg.color || getGlobalTheme().defaultColor),\n        opacity: opacity || 0.5,\n      },\n    });\n    return shape;\n  },\n});\n\nfunction getPath(cfg, shape, isSmooth) {\n  const constraint = [\n    [0, 0],\n    [1, 1],\n  ];\n  let topLinePoints = [];\n  let bottomLinePoints = [];\n  each(cfg.points, (point) => {\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  });\n  bottomLinePoints = shape.parsePoints(bottomLinePoints.reverse());\n  topLinePoints = lineSimplification(shape.parsePoints(topLinePoints));\n  const topPath = isSmooth ? getSplinePath(topLinePoints, false, constraint) : getStraightPath(topLinePoints);\n  const bottomPath = getStraightPath(bottomLinePoints);\n  bottomPath[0][0] = 'L';\n  const path = topPath.concat(bottomPath);\n\n  return path;\n}\n\nfunction getStraightPath(points) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    const flag = i === 0 ? 'M' : 'L';\n    path.push([flag, p.x, p.y]);\n  }\n  return path;\n}\n\nfunction parseGradient(color) {\n  return `l(90) 0:${color} 1:#ffffff`;\n}\n\nexport default class MiniAreaParser extends AreaParser {\n  public init() {\n    super.init();\n    this.parseShape();\n  }\n\n  private parseShape() {\n    const props = this.plot.options;\n    if (props.smooth) {\n      this.config.shape = { values: ['miniAreaSmooth'] };\n    } else {\n      this.config.shape = { values: ['miniArea'] };\n    }\n  }\n}\n","import IntervalParser from './main';\n\nexport default {\n  main: IntervalParser,\n};\n","import { isString, isFunction, isArray, isObject, get } from '@antv/util';\nimport ElementParser from '../base';\n\nconst COLOR_MAPPER = ['colorField', 'stackField', 'groupField'];\n\nexport default class IntervalParser extends ElementParser {\n  public init() {\n    this.type = 'interval';\n    super.init();\n    const props = this.plot.options;\n    if (this._needParserColor()) {\n      this.parseColor();\n    }\n    if (!this.config.color) {\n      this.config.color = { values: ['#5b8ff9'] };\n    }\n    const sizeProps = this._getSizeProps(props);\n    if (sizeProps) {\n      this.parseSize(sizeProps);\n    }\n    const styleProps = this._getStyleProps(props);\n    if (styleProps) {\n      this.parseStyle(styleProps);\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const colorField = this._getColorMappingField(props);\n    const config: any = {};\n    if (colorField) {\n      config.fields = colorField;\n    }\n    if (props.color) {\n      if (isString(props.color)) {\n        config.values = [props.color];\n      } else if (isFunction(props.color)) {\n        config.callback = props.color;\n      } else if (isArray(props.color)) {\n        config.values = props.color;\n      } else if (isObject(props.color)) {\n        config.fields = colorField;\n        config.callback = (d) => {\n          return props.color[d];\n        };\n      }\n    }\n    this.config.color = config;\n  }\n\n  public parseSize(sizeProps) {\n    const props = this.plot.options;\n    const config: any = {};\n    if (isFunction(props[sizeProps])) {\n      config.fields = [this.config.position.fields];\n      config.callback = props[sizeProps];\n    } else {\n      config.values = [props[sizeProps]];\n    }\n    this.config.size = config;\n  }\n\n  public parseStyle(styleProps) {\n    const style = this.plot.options[styleProps];\n    const config: any = {};\n    if (isFunction(style)) {\n      config.fields = [this.config.color.fields[0]];\n      config.callback = style;\n    } else {\n      config.cfg = style;\n    }\n\n    this.config.style = config;\n  }\n\n  private _getSizeProps(props) {\n    const sizeMapper = ['columnSize', 'barSize'];\n    for (const m of sizeMapper) {\n      if (get(props, m)) {\n        return m;\n      }\n    }\n  }\n\n  private _getStyleProps(props) {\n    const sizeMapper = ['columnStyle', 'barStyle', 'pieStyle', 'ringStyle'];\n    for (const m of sizeMapper) {\n      if (get(props, m)) {\n        return m;\n      }\n    }\n  }\n\n  private _getColorMappingField(props) {\n    /**如果有colorFiled或stackField配置项(后者为堆叠interval)，则参与colorMapping的字段为对应值\n     * 如没有特别设定，则一般是callback中的传参，传入位置映射的字段\n     */\n    for (const m of COLOR_MAPPER) {\n      if (get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n\n  private _needParserColor() {\n    const props = this.plot.options;\n    if (props.color) {\n      return true;\n    }\n    for (const m of COLOR_MAPPER) {\n      if (props[m]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","import GuideLineParser from './guide';\nimport LineParser from './main';\nimport MiniLineParser from './mini';\n\nexport default {\n  main: LineParser,\n  guide: GuideLineParser,\n  mini: MiniLineParser,\n};\n","import { LooseObject } from '../../dependents';\nimport { isString, isFunction, isArray, get } from '@antv/util';\nimport LineParser from './main';\n\nexport default class GuideLineParser extends LineParser {\n  public init() {\n    const props = this.plot.options;\n    if (!props.xField || !props.yField) {\n      return;\n    }\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      tooltip: false,\n    };\n\n    if (this._getColorMappingField() || this._needParseAttribute('color')) {\n      this.parseColor();\n    }\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n    if (props.line.style) {\n      this.parseStyle();\n    }\n\n    if (props.smooth) {\n      this.config.shape = { values: ['smooth'] };\n    }\n  }\n\n  public parseSize() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    if (props.line.size) {\n      config.values = [props.line.size];\n    } else {\n      // line作为辅助图形没有在style里指定size属性的情况下，设置默认值\n      config.values = [2];\n    }\n    this.config.size = config;\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    let colorField = this._getColorMappingField();\n    if (colorField) {\n      config.fields = colorField;\n    }\n    if (props.line.color) {\n      config.values = [props.line.color];\n    } else {\n      if (!colorField) {\n        colorField = this.config.position.fields;\n      }\n      // line作为辅助图形没有在style里指定color属性的情况下，默认接受主体图形的透传\n      if (isString(props.color)) {\n        config.values = [props.color];\n      } else if (isFunction(props.color)) {\n        config.fields = colorField;\n        config.callback = props.color;\n      } else if (isArray(props.color)) {\n        config.fields = colorField;\n        config.values = props.color;\n      }\n    }\n\n    this.config.color = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.line.style;\n    const config: LooseObject = {};\n    if (isFunction(styleProps)) {\n      config.fields = this.config.position.fields;\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _needParseAttribute(attr) {\n    const props = this.plot.options;\n    if (props[attr]) {\n      return true;\n    } else if (props.line[attr]) {\n      return true;\n    }\n    return false;\n  }\n\n  private _getColorMappingField() {\n    const props = this.plot.options;\n    const colorMapper = ['stackField', 'seriesField'];\n    for (const m of colorMapper) {\n      if (get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n}\n","import CircleParser from './circle';\nimport GuidePointParser from './guide';\n\nexport default {\n  guide: GuidePointParser,\n  circle: CircleParser,\n};\n","import { LooseObject } from '../../dependents';\nimport { isArray, isFunction, isString, isEmpty, isNil } from '@antv/util';\nimport ElementParser from '../base';\n\nexport default class CircleParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.style = props.pointStyle;\n    if (!props.xField || !props.yField) {\n      return;\n    }\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n    };\n    this.parseColor();\n    this.parseSize();\n\n    if (props.shape) {\n      this.parseShape(props.shape);\n    }\n    if (props.pointStyle) {\n      this.parseStyle();\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    const colorField = props.colorField;\n    if (colorField) {\n      config.fields = isArray(colorField) ? colorField : [colorField];\n    }\n    if (props.color) {\n      this._parseColor(props, config);\n    }\n    if (!isEmpty(config)) {\n      this.config.color = config;\n    }\n  }\n\n  public parseSize() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    if (props.sizeField) {\n      config.fields = [props.sizeField];\n    }\n    if (props.pointSize) {\n      config.values = isArray(props.pointSize) ? props.pointSize : [props.pointSize];\n    }\n    this.config.size = config;\n  }\n\n  public parseShape(shapeName) {\n    this.config.shape = shapeName;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.pointStyle;\n    const config = {\n      fields: null,\n      callback: null,\n      cfg: null,\n    };\n    const { xField, yField, colorField } = props;\n    if (isFunction(styleProps)) {\n      if (colorField) {\n        config.fields = isArray(colorField)\n          ? [xField, yField, colorField].concat(colorField)\n          : [xField, yField, colorField];\n      } else {\n        config.fields = [xField, yField];\n      }\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n      // opacity 与 fillOpacity 兼容\n      if (!isNil(styleProps.opacity)) {\n        config.cfg.fillOpacity = styleProps.opacity;\n      }\n    }\n    this.config.style = config;\n  }\n\n  private _parseColor(props, config) {\n    if (isString(props.color)) {\n      config.values = [props.color];\n    } else if (isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (isArray(props.color)) {\n      config.values = props.color;\n    }\n  }\n}\n","import { LooseObject } from '../../dependents';\nimport { each, uniq, keys, isFunction, isString, isArray, has, get } from '@antv/util';\nimport ElementParser from '../base';\n\nfunction getValuesByField(field, data) {\n  const values = [];\n  each(data, (d) => {\n    const v = d[field];\n    values.push(v);\n  });\n  return uniq(values);\n}\n\nconst COLOR_MAPPER = ['seriesField', 'stackField'];\n\nexport default class GuidePointParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.style = props.point.style;\n    if (!props.xField || !props.yField) {\n      return;\n    }\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      tooltip: false,\n    };\n    // if (this._needParseAttribute('color')) {\n    this.parseColor();\n    // }\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n    if (props.point.shape) {\n      this.parseShape(props.point.shape);\n    }\n    if (props.point.style) {\n      this.parseStyle();\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    const mappingField = this._getColorMappingField(props);\n    if (mappingField) {\n      this._parseColorByField(props, config, mappingField);\n    } else {\n      if (props.point && props.point.color) {\n        config.values = [props.point.color];\n      } else if (props.color) {\n        this._parseColor(props, config);\n      }\n    }\n    if (keys(config).length > 0) {\n      this.config.color = config;\n    }\n  }\n\n  public parseSize() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    config.values = [props.point.size];\n    this.config.size = config;\n  }\n\n  public parseShape(shapeName) {\n    const config: LooseObject = {\n      values: [shapeName],\n    };\n    this.config.shape = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.point && props.point.style;\n    const config = {\n      fields: null,\n      callback: null,\n      cfg: null,\n    };\n    const field = this._getColorMappingField(props);\n    if (isFunction(styleProps) && field) {\n      config.fields = [field];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _parseColorByField(props, config, field) {\n    config.fields = [field];\n    if (props.point.color) {\n      const count = getValuesByField(field, props.data).length;\n      const values = [];\n      for (let i = 0; i < count; i++) {\n        values.push(props.point.color);\n      }\n      config.values = values;\n    } else if (props.color) {\n      this._parseColor(props, config);\n    }\n  }\n\n  private _parseColor(props, config) {\n    if (isString(props.color)) {\n      config.values = [props.color];\n    } else if (isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (isArray(props.color)) {\n      config.values = props.color;\n    }\n  }\n\n  private _needParseAttribute(attr) {\n    const props = this.plot.options;\n    const condition = props.point && has(props.point, attr);\n    return condition;\n    // const condition = !this.style || this.style[attr];\n    // return condition;\n  }\n\n  private _getColorMappingField(props) {\n    for (const m of COLOR_MAPPER) {\n      if (get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n}\n","import { registerAnimation } from '../../../dependents';\nimport { clone, isFunction } from '@antv/util';\n\nlet plotInfo;\n\nfunction clipingWithData(shape, animateCfg, cfg) {\n  const geometry = shape.get('element').geometry;\n  /** 动画初始状态 */\n  const index = shape.get('index');\n  const coord = geometry.coordinate;\n  const scales = geometry.scales;\n  const yScale = scales[plotInfo.options.yField];\n  const shapeData = clone(shape.get('origin'));\n  setClip(shape, coord);\n  const clip = shape.get('clipShape');\n  const parent = shape.get('parent');\n  const offsetX = 12;\n  let title;\n  if (animateCfg.seriesField) {\n    title = parent.addShape('text', {\n      attrs: {\n        x: coord.start.x + offsetX,\n        y: 0,\n        text: shapeData[0]._origin[animateCfg.seriesField],\n        fill: shape.attr('stroke'),\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    });\n  }\n  const offsetY = title ? 16 : 0;\n  const marker = parent.addShape('text', {\n    attrs: {\n      x: coord.start.x + offsetX,\n      y: offsetY,\n      text: `test${index}`,\n      fill: shape.attr('stroke'),\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle',\n    },\n  });\n  /** 动画执行之后 */\n  animateCfg.callback = () => {\n    if (shape && !shape.get('destroyed')) {\n      shape.setClip(null);\n      clip.remove();\n      marker.animate(\n        {\n          opacity: 0,\n        },\n        300,\n        () => {\n          marker.remove();\n        }\n      );\n      if (title) {\n        marker.animate(\n          {\n            opacity: 0,\n          },\n          300,\n          () => {\n            marker.remove();\n          }\n        );\n      }\n    }\n  };\n  /** 执行动画 */\n  /** 准备动画参数 */\n  let delay = animateCfg.delay;\n  if (isFunction(delay)) {\n    delay = animateCfg.delay(index);\n  }\n  let easing = animateCfg.easing;\n  if (isFunction(easing)) {\n    easing = animateCfg.easing(index);\n  }\n  /** 动起来 */\n  const i = 0;\n  clip.animate(\n    {\n      width: coord.getWidth(),\n    },\n    animateCfg.duration,\n    easing,\n    animateCfg.callback,\n    delay\n  );\n  (animateCfg.onFrame = (ratio) => {\n    const position = getPositionByRatio(ratio, shapeData, coord, i);\n    if (!position) return;\n\n    marker.attr('x', position[0] + offsetX);\n    marker.attr('y', position[1] + offsetY);\n    let yText = getDataByPosition(yScale, position[1], coord);\n\n    // use formatter\n    if (yScale.formatter) {\n      yText = yScale.formatter(yText);\n    }\n\n    marker.attr('text', yText);\n  }),\n    marker.animate(animateCfg.onFrame, {\n      duration: animateCfg.duration,\n      easing,\n      callback: animateCfg.callback,\n      delay,\n    });\n  if (title) {\n    title.animate(\n      {\n        onFrame: (ratio) => {\n          const position = getPositionByRatio(ratio, shapeData, coord, i);\n          if (!position) return;\n          title.attr('x', position[0] + offsetX);\n          title.attr('y', position[1]);\n        },\n      },\n      animateCfg.duration,\n      easing,\n      animateCfg.callback,\n      delay\n    );\n  }\n}\n\nfunction setClip(shape, coord) {\n  const { start, end, width, height } = coord;\n  shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: 0,\n      height,\n    },\n  });\n}\n\nfunction getPositionByRatio(ratio, dataPoints, coord, index) {\n  const { data, points } = dataPoints;\n  const currentX = coord.start.x + coord.getWidth() * ratio;\n  for (let i = 0; i < points.length - 1; i++) {\n    const current = points[i];\n    const next = points[i + 1];\n    if (currentX >= current.x && currentX <= next.x) {\n      const m = (next.y - current.y) / (next.x - current.x); // 斜率\n      const y = current.y + m * (currentX - current.x);\n      return [currentX, y];\n    }\n  }\n}\n\nfunction getDataByPosition(scale, y, coord) {\n  const yRatio = (y - coord.start.y) / (coord.end.y - coord.start.y);\n  return scale.invert(yRatio).toFixed(2);\n}\n\nexport function getPlotOption(option) {\n  plotInfo = option;\n}\n\nregisterAnimation('clipingWithData', clipingWithData);\n","import responsiveAxis from './axis';\nimport responsivePointLabel from './label';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [\n  { name: 'responsiveAxis', method: responsiveAxis },\n  { name: 'responsivePointLabel', method: responsivePointLabel },\n];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport LineLayer from '../layer';\n\nexport default function responsiveAxis(layer: LineLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  const x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  const y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","export interface ColumnWidthCfg {\n  ratio?: number;\n}\n\nfunction columnWidth(node, region, cfg: ColumnWidthCfg = { ratio: 0.6 }) {\n  return region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: columnWidth,\n};\n","import * as MathUtil from '../../math';\n\nfunction elementCollision(a, b) {\n  const polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n  const polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  const dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= 2;\n}\n\nexport default {\n  type: 'group',\n  usage: 'compare',\n  expression: elementCollision,\n};\n","import * as MathUtil from '../../math';\n\nexport interface ElementDistCfg {\n  value: number;\n}\n\nfunction elementDist(a, b, cfg: ElementDistCfg = { value: 4 }) {\n  const polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n  const polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  const dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDist,\n};\n","export interface ElementDistVerticalCfg {\n  value: number;\n}\n\nfunction elementDistVertical(a, b, cfg: ElementDistVerticalCfg = { value: 5 }) {\n  const dist = Math.abs(a.bottom - b.top);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDistVertical,\n};\n","export interface ElementWidthCfg {\n  ratio: number;\n}\n\nfunction elementWidth(node, region, cfg: ElementWidthCfg = { ratio: 0.15 }) {\n  return node.width < region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'compare',\n  expression: elementWidth,\n};\n","function minRingThickness(node, region) {\n  const minThicknessPixel = 2;\n  const minThickness = region.coord.radius / minThicknessPixel;\n  return Math.min(minThickness, node.value);\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: minRingThickness,\n};\n","export interface RingThicknessCfg {\n  ratio: number;\n}\n\nfunction ringThickness(node, region, cfg: RingThicknessCfg = { ratio: 0.8 }) {\n  return region.radius * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: ringThickness,\n};\n","import { IShape } from '@antv/g-base';\nimport { dotProduct2D } from '../../math';\n\n/** 图形在水平或垂直方向抖开 */\nexport default function nodeJitter(shape: IShape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  if (index === nodes.length - 1) {\n    return;\n  }\n  const current = nodes[index];\n  const next = nodes[index + 1];\n  const { dir, distX, distY } = alignDirection(current, next);\n  const startPoint = shape.get('startPoint');\n  if (dir === 'x') {\n    shape.attr('y', startPoint.y + 20);\n  }\n}\n\nfunction alignDirection(nodeA, nodeB) {\n  let dir;\n  /** 计算两个node 中心点向量的角度 */\n  const vector = { x: nodeB.centerX - nodeA.centerX, y: nodeB.centerY - nodeA.centerY };\n  const mag = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\n  const vector_horizontal = { x: 10, y: 0 }; // 水平方向向量\n  /*tslint:disable*/\n  const mag_horizontal = Math.sqrt(\n    vector_horizontal.x * vector_horizontal.x + vector_horizontal.y * vector_horizontal.y\n  );\n  const dot = dotProduct2D(vector, vector_horizontal);\n  let angle = ((dot / (mag * mag_horizontal)) * 180) / Math.PI;\n  if (angle < 0) angle = 360 - angle;\n  angle = adjustAngle(angle); // 将角度从0-360转换到0-90\n\n  /** 计算两个node在x、y两个方向上的距离 */\n  const distX = Math.abs(nodeA.centerX - nodeB.centerX);\n  const distY = Math.abs(nodeA.centerY - nodeB.centerY);\n\n  if (angle > 45) {\n    dir = 'x';\n  } else if (angle < 45) {\n    dir = 'y';\n  }\n\n  return { dir, distX, distY };\n}\n\nfunction adjustAngle(angle) {\n  if (angle > 90 && angle <= 180) {\n    return 180 - angle;\n  }\n  if (angle > 180 && angle < 270) {\n    return angle - 180;\n  }\n  return 360 - angle;\n}\n","import { IShape } from '@antv/g-base';\nimport { each } from '@antv/util';\nimport { isNodeOverlap } from './clear-overlapping';\n\n/** 图形向上抖开并拉线 */\n// todo 允许设置offset和拉线样式\nexport default function nodeJitterUpward(shape: IShape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  if (index === 0) {\n    return;\n  }\n  const current = nodes[index];\n  const previous = nodes[index - 1];\n  if (isNodeOverlap(current, previous)) {\n    const element = cfg.plot.plot.get('elements')[0];\n    const y = previous.top - current.height / 2;\n    const offset = 10;\n    if (y - offset > cfg.region.top) {\n      // 取到label对应的element-shape\n      const origin = current.shape.get('origin');\n      const shapeId = element.getShapeId(origin);\n      const shapes = element.getShapes();\n      const shapeBbox = getShapeById(shapeId, shapes).get('box');\n      const originX = shapeBbox.left + shapeBbox.width / 2;\n      const originY = shapeBbox.top;\n      // 拉线\n      const container = element.get('labelController').labelsContainer;\n      const labelLine = container.addShape('path', {\n        attrs: {\n          path: [\n            ['M', originX, originY],\n            ['L', current.shape.attr('x'), y],\n          ],\n          stroke: '#ccc',\n          lineWidth: 1,\n        },\n      });\n      /** 保存labelLine和label初始位置信息 */\n      const origin_position = { x: shape.attr('x'), y: shape.attr('y') };\n      // 更新标签位置，同步更新node\n      current.shape.attr('y', y - offset);\n      nodes[index] = cfg.nodes.measure(current.shape);\n      nodes[index].line = labelLine;\n      nodes[index].origin_position = origin_position;\n    }\n  }\n}\n\nfunction getShapeById(shapeId, shapes) {\n  let target;\n  each(shapes, (shape) => {\n    const s = shape as IShape;\n    const id = s.get('id');\n    if (id === shapeId) {\n      target = s;\n    }\n  });\n  return target;\n}\n","import { isKeep, NodesResamplingCfg } from './nodes-resampling';\nimport textHide from './text-hide';\n\nexport default function nodesResamplingByAbbrevate(shape, option: NodesResamplingCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n  {\n    const currentText = shape.attr('text');\n    const originText = shape.get('delegateObject').item.name;\n    if (currentText !== originText) {\n      textHide(shape);\n    }\n  }\n}\n","import { IShape } from '@antv/g-base';\nimport { deepMix } from '@antv/util';\nimport textHide from './text-hide';\n\n/** 根据变化进行抽样，保留变化较大的点，类似于点简化算法 */\nexport default function nodesResamplingByChange(shape: IShape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const tolerance = getGlobalTolerance(nodes);\n  if (index <= 1) {\n    return;\n  }\n  const current = nodes[index];\n  // const previous = nodes[index-1];\n  const previous = findPrevious(index, nodes);\n  const distX = previous.centerX - current.centerX;\n  const distY = previous.centerY - current.centerY;\n  const dist = Math.sqrt(distX * distX + distY * distY);\n  if (dist < tolerance) {\n    textHide(shape);\n    shape.set('blank', true);\n  }\n}\n\nfunction findPrevious(index, nodes) {\n  for (let i = index - 1; i > 0; i--) {\n    const node = nodes[i];\n    if (!node.shape.get('blank')) {\n      return node;\n    }\n  }\n}\n\nfunction getGlobalTolerance(nodes) {\n  const nodesClone = deepMix([], nodes);\n  nodesClone.sort((a, b) => {\n    return b.width - a.width;\n  });\n  return Math.round(nodesClone[0].width);\n}\n","import { IShape } from '@antv/g-base';\nimport { each, clone } from '@antv/util';\nimport textHide from './text-hide';\n\nexport default function nodesResamplingByState(shape: IShape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const current = nodes[index];\n  if (current.line) {\n    current.line.remove();\n  }\n\n  const data = cfg.plot.initialProps.data;\n  const field = cfg.plot[cfg.plot.type].label.fields[0];\n  const stateNodes = getStateNodes(data, field, nodes);\n\n  let isState = false;\n  each(stateNodes, (node) => {\n    // @ts-ignore\n    if (node.shape.get('origin') === current.shape.get('origin')) {\n      isState = true;\n    }\n  });\n  if (isState) {\n    if (current.origin_position) {\n      const { x, y } = current.origin_position;\n      shape.attr('x', x);\n      shape.attr('y', y);\n    }\n  } else {\n    textHide(shape);\n  }\n}\n\nfunction getStateNodes(data, field, nodes) {\n  const extract_data = [];\n  each(data, (d) => {\n    extract_data.push(d[field]);\n  });\n  extract_data.sort((a, b) => {\n    return a - b;\n  });\n  const min = extract_data[0];\n  const min_node = getNodeByNumber(nodes, field, min);\n  const max = extract_data[extract_data.length - 1];\n  const max_node = getNodeByNumber(nodes, field, max);\n  const median = getMedian(extract_data);\n  const median_node = getNodeByNumber(nodes, field, median);\n\n  return { min: min_node, max: max_node, median: median_node };\n}\n\nfunction getMedian(array) {\n  const list = clone(array);\n  list.sort((a, b) => {\n    return a - b;\n  });\n\n  const half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return list[half];\n}\n\nfunction getNodeByNumber(nodes, field, num) {\n  for (const node of nodes) {\n    const d = node.shape.get('origin');\n    if (d[field] === num) {\n      return node;\n    }\n  }\n}\n","import { IShape } from '@antv/g-base';\n\nimport datetimeStringAbbrevaite, { isTime } from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport textAbbreviate from './text-abbreviate';\n\ninterface RobustAbbrevaiteCfg {\n  keep?: string[];\n  abbreviateBy?: 'start' | 'middle' | 'end';\n  unit?: 'k' | 'm' | 'b' | 't' | 'auto';\n  decimal?: number;\n}\n\nexport default function robustAbbrevaite(shape: IShape, option: RobustAbbrevaiteCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const text = shape.attr('text');\n  /** 判断text类型： 数字、时间、文本 */\n  const isnum = /^\\d+$/.test(text);\n  if (isnum) {\n    digitsAbbreviate(shape, option, index, nodes);\n  } else if (isTime(text)) {\n    datetimeStringAbbrevaite(shape, option, index, nodes);\n  } else {\n    textAbbreviate(shape, option);\n  }\n}\n","import { IShape } from '@antv/g-base';\n\ninterface TextRotationCfg {\n  degree: number;\n}\n\nexport default function textRotation(shape: IShape, option: TextRotationCfg) {\n  shape.resetMatrix();\n  shape.attr({\n    rotate: 360 - option.degree,\n    textAlign: 'right',\n    textBaseline: 'middle',\n  });\n}\n","import { IShape } from '@antv/g-base';\n\ninterface TextWrapperCfg {\n  lineNumber: number;\n}\n\nexport default function textWrapper(shape: IShape, option: TextWrapperCfg) {\n  const text = shape.attr('text');\n  const step = Math.ceil(text.length / option.lineNumber);\n  let wrapperText = '';\n  for (let i = 1; i < option.lineNumber; i++) {\n    const index = step * i;\n    wrapperText = `${text.slice(0, index)}\\n${text.slice(index)}`;\n  }\n  const fontSize = shape.attr('fontSize');\n  shape.attr({\n    text: wrapperText,\n    lineHeight: fontSize,\n    textAlign: 'center',\n    textBaseline: 'top',\n  });\n}\n","import ApplyResponsiveLabel from '../../../util/responsive/apply/label';\nimport LineLayer from '../layer';\n\nclass ApplyResponsiveLineLabel extends ApplyResponsiveLabel {\n  protected getType() {\n    const props = this.plot.options;\n    if (props.label && props.label.type) {\n      return props.label.type;\n    }\n    return 'point';\n  }\n}\n\nexport default function responsivePointLabel(layer: LineLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const applyResponsiveLineLabel = new ApplyResponsiveLineLabel({\n    plot: layer,\n    responsiveTheme,\n  });\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Line: 'line',\n  Point: 'point',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { IShape } from '../../dependents';\nimport { registerTheme } from '../../theme';\n\nconst LINE_ACTIVE_STYLE = ({ shape }: { shape: IShape }) => {\n  const lineWidth = shape.attr('lineWidth') || 1;\n  return { lineWidth: lineWidth + 1 };\n};\n\nconst LINE_DISABLE_STYLE = ({ shape }: { shape: IShape }) => {\n  const opacity = shape.attr('opacity') || 1;\n  return { opacity: opacity * 0.2 };\n};\n\nconst LINE_SELECTED_STYLE = ({ shape }: { shape: IShape }) => {\n  const lineWidth = shape.attr('lineWidth') || 1;\n  return { lineWidth: lineWidth + 2 };\n};\n\nregisterTheme('line', {\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE,\n  },\n  pointStyle: {\n    normal: {},\n    active: {},\n    disable: {},\n    selected: {},\n  },\n});\n","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n\n/** 组装theme */\nconst lineTheme = {\n  label: {\n    point: {\n      constraints: [{ name: 'elementCollision' }],\n      rules: {\n        elementCollision: [{ name: 'nodesResamplingByChange' }, { name: 'clearOverlapping' }],\n      },\n    },\n  },\n};\nregisterResponsiveTheme('line', lineTheme);\n","import LineActive from './line-active';\nimport LineSelect from './line-select';\n\nexport { LineActive, LineSelect };\n","import { each, filter, get } from '@antv/util';\nimport Interaction from '../../../interaction/core';\nimport { Geometry } from '../../../dependents';\n\nexport default class LineActive extends Interaction {\n  constructor(cfg) {\n    super({\n      /** 没有用 line:mouseenter 和 line:mouseleave 事件，是因为可能在多条折线的情况下，从一条线滑动到另一条会同时触发process和reset，使画面出现闪动 */\n      processEvent: 'mousemove',\n      ...cfg,\n    });\n  }\n\n  public process(ev) {\n    const lines: Geometry[] = filter(this.view.geometries, (geom) => geom.type == 'line');\n    const target = ev.target;\n    if (target.get('name') === 'line') {\n      const data = get(ev, 'data.data');\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('active', element.data === data);\n        });\n      });\n    } else {\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('active', false);\n        });\n      });\n    }\n  }\n}\n","import { get, each, filter } from '@antv/util';\nimport Interaction from '../../../interaction/core';\nimport { Geometry } from '../../../dependents';\n\nexport default class LineSelect extends Interaction {\n  constructor(cfg) {\n    super({\n      endEvent: 'click',\n      ...cfg,\n    });\n  }\n  public end(ev) {\n    const target = ev.target;\n    const lines: Geometry[] = filter(this.view.geometries, (geom) => geom.type == 'line');\n    if (target.get('name') === 'line') {\n      const data = get(ev, 'data.data');\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('inactive', element.data !== data);\n        });\n      });\n      // TODO： 设置z-index\n    } else {\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('inactive', false);\n        });\n      });\n      // TODO: 重置z-index\n    }\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TreemapLayer, { TreemapViewConfig } from './layer';\n\nexport interface TreemapConfig extends TreemapViewConfig, PlotConfig {}\n\nexport default class Treemap extends BasePlot<TreemapConfig> {\n  public static getDefaultOptions: typeof TreemapLayer.getDefaultOptions = TreemapLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'treemap';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, each, hasKey } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport squarify from './layout/squarify';\nimport { INTERACTION_MAP } from './interaction';\nimport * as EventParser from './event';\nimport TreemapLabel from './components/label';\n\nconst PARENT_NODE_OFFSET = 4;\nconst BLOCK_MARGIN = 4;\n\nexport interface TreemapViewConfig extends ViewConfig {\n  data: any;\n  maxLevel?: number;\n  colorField: string;\n  colors?: string[];\n  rectStyle?: any;\n}\n\nexport interface TreemapLayerConfig extends TreemapViewConfig, LayerConfig {}\n\nexport default class TreemapLayer<T extends TreemapLayerConfig = TreemapLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<TreemapLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      maxLevel: 2,\n      padding: [0, 0, 0, 0],\n      tooltip: {\n        visible: false,\n        showTitle: false,\n        showCrosshairs: false,\n        showMarkers: false,\n        shared: false,\n      },\n      legend: {\n        visible: false,\n      },\n      xAxis: {\n        visible: false,\n      },\n      yAxis: {\n        visible: false,\n      },\n      xField: 'x',\n      yField: 'y',\n      label: {\n        visible: true,\n        adjustPosition: true,\n        style: {\n          stroke: 'rgba(0,0,0,0)',\n          lineWidth: 0,\n          fontSize: 12,\n        },\n      },\n      meta: {\n        x: {\n          nice: false,\n        },\n        y: {\n          nice: false,\n        },\n      },\n      interactions: [{ type: 'tooltip' }],\n    });\n  }\n  public type: string = 'treemap';\n  public rootData: any;\n  public rect: any;\n  private isDrilldown: boolean;\n\n  public beforeInit() {\n    super.beforeInit();\n    const { interactions } = this.options;\n    if (interactions) {\n      each(interactions, (interaction) => {\n        if (interaction.type === 'drilldown') {\n          this.isDrilldown = true;\n          this.options.maxLevel = 1;\n        }\n      });\n    }\n    const { data } = this.options;\n    const treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n  }\n\n  public afterRender() {\n    super.afterRender();\n    if (this.options.label && this.options.label.visible) {\n      const label = new TreemapLabel({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    return 'polygon';\n  }\n\n  public getTreemapData(data, level?) {\n    const viewRange = this.getViewRange();\n    const root = squarify(data, viewRange.x, viewRange.y, viewRange.width, viewRange.height);\n    this.recursive(root, 1);\n    const treemapData = [];\n    this.getAllNodes(root, treemapData, level);\n    treemapData.sort((a, b) => {\n      return a.depth - b.depth;\n    });\n    this.options.xField = 'x';\n    this.options.yField = 'y';\n    return treemapData;\n  }\n\n  protected processData() {\n    return this.rootData;\n  }\n\n  protected coord() {}\n\n  protected addGeometry() {\n    const { data, colorField, color } = this.options;\n    const treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n    const isNested = this.isNested(treemapData);\n    this.rect = {\n      type: 'polygon',\n      position: {\n        fields: ['x', 'y'],\n      },\n      color: {\n        fields: [colorField],\n        values: color,\n      },\n      style: {\n        fields: ['depth'],\n        callback: (d) => {\n          const defaultStyle = this.adjustStyleByDepth(d, isNested);\n          return deepMix({}, defaultStyle, this.options.rectStyle);\n        },\n      },\n      tooltip: {\n        fields: ['name', 'value'],\n      },\n    };\n    this.setConfig('geometry', this.rect);\n  }\n\n  protected applyInteractions() {\n    const interactionCfg = this.options.interactions;\n    const interactions = this.view.interactions;\n    each(interactionCfg, (inter) => {\n      const Ctr = INTERACTION_MAP[inter.type];\n      if (Ctr) {\n        const interaction = new Ctr(\n          deepMix(\n            {},\n            {\n              view: this.view,\n              plot: this,\n              startEvent: 'polygon:click',\n            },\n            inter.cfg,\n            Ctr.getInteractionRange(this.layerBBox, inter.cfg)\n          )\n        );\n        interactions[inter.type] = interaction;\n      }\n    });\n  }\n\n  protected animation() {\n    super.animation();\n    if (this.isDrilldown) {\n      this.rect.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private recursive(rows, depth?) {\n    const { colorField } = this.options;\n    each(rows, (r) => {\n      each(r.children, (c) => {\n        c.depth = depth;\n        if (depth > 1) c.parent = r;\n        if (!hasKey(c, colorField)) {\n          c[colorField] = r[colorField];\n        }\n        c.showLabel = true;\n        const leaf = this.isLeaf(c);\n        if (!leaf) {\n          const cliperHeight = Math.abs(c.y1 - c.y0);\n          const labelHeight = this.getLabelHeight();\n          const parentLabelOffset = cliperHeight / 2 > labelHeight ? labelHeight : BLOCK_MARGIN;\n          c.showLabel = parentLabelOffset === BLOCK_MARGIN ? false : true;\n          const c_rows = squarify(\n            c,\n            c.x0 + BLOCK_MARGIN,\n            c.y0 + parentLabelOffset,\n            c.x1 - BLOCK_MARGIN,\n            c.y1 - BLOCK_MARGIN\n          );\n          this.fillColorField(c_rows, colorField, c[colorField]);\n          this.recursive(c_rows, c.depth + 1);\n        }\n      });\n    });\n  }\n\n  private getAllNodes(data, nodes, level?) {\n    const max = level ? level : this.options.maxLevel;\n    const viewRange = this.getViewRange();\n    each(data, (d) => {\n      if (hasKey(d, 'x0') && d.depth <= max) {\n        nodes.push({\n          ...d,\n          x: [d.x0, d.x1, d.x1, d.x0],\n          y: [viewRange.height - d.y1, viewRange.height - d.y1, viewRange.height - d.y0, viewRange.height - d.y0],\n        });\n      }\n      if (hasKey(d, 'children')) {\n        this.getAllNodes(d.children, nodes);\n      }\n    });\n  }\n\n  private fillColorField(rows, fieldName, value) {\n    each(rows, (r) => {\n      if (!hasKey(r, fieldName)) {\n        r[fieldName] = value;\n      }\n    });\n  }\n\n  private getLabelHeight() {\n    const { label } = this.options;\n    const { fontSize } = this.getPlotTheme().label.style;\n    let size = 0;\n    if (label && label.visible) {\n      const labelStyle: any = label.style;\n      size = labelStyle && labelStyle.fontSize ? labelStyle.fontSize : fontSize;\n    }\n    return size + PARENT_NODE_OFFSET * 2;\n  }\n\n  private isLeaf(data) {\n    return !data.children || data.children.length === 0;\n  }\n\n  private isNested(data) {\n    const { maxLevel } = this.options;\n    if (maxLevel === 1) {\n      return false;\n    }\n    let nested = false;\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].children) {\n        nested = true;\n        break;\n      }\n    }\n    return nested;\n  }\n\n  private adjustStyleByDepth(depth, isNested) {\n    const { maxLevel } = this.options;\n    if (!isNested) {\n      return {\n        lineWidth: 1,\n        stroke: 'rgba(0,0,0,0.9)',\n        opacity: 0.9,\n      };\n    } else if (depth === 1) {\n      return {\n        lineWidth: 1,\n        stroke: 'black',\n        opacity: depth / maxLevel,\n      };\n    } else {\n      return {\n        lineWidth: 1,\n        stroke: 'rgba(0,0,0,0.3)',\n        opacity: depth / maxLevel,\n      };\n    }\n  }\n}\n\nregisterPlotType('treemap', TreemapLayer);\n","import { dice } from './dice';\nimport { slice } from './slice';\n\n//reference: https://github.com/d3/d3-hierarchy/blob/master/src/treemap/squarify.js\n\n// 黄金分割\nconst ratio = (1 + Math.sqrt(5)) / 2;\n\nexport default function squarify(root, x0, y0, x1, y1) {\n  const { children } = root;\n  let value = root.value;\n  children.sort((a, b) => {\n    return b.value - a.value;\n  });\n  const rows = [];\n  let sumValue, maxValue, minValue;\n  let alpha, beta;\n  let newRatio, minRatio;\n  let nodeValue;\n  let i = 0,\n    j = 0;\n\n  // todo: 剔除empty node\n  while (i < children.length) {\n    const width = x1 - x0;\n    const height = y1 - y0;\n    sumValue = children[j++].value;\n    maxValue = sumValue;\n    minValue = sumValue;\n    alpha = Math.max(height / width, width / height) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n    for (; j < children.length; j++) {\n      nodeValue = children[j].value;\n      sumValue += nodeValue;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) {\n        sumValue -= nodeValue;\n        break;\n      }\n      minRatio = newRatio;\n    }\n    const row = { value: sumValue, dice: width < height, children: children.slice(i, j) };\n    rows.push(row);\n    if (row.dice) {\n      const h = value ? (height * sumValue) / value : height;\n      dice(row, x0, y0, x1, y0 + h);\n      if (value) {\n        y0 += h;\n      }\n    } else {\n      const w = value ? (width * sumValue) / value : width;\n      slice(row, x0, y0, x0 + w, y1);\n      if (value) {\n        x0 += w;\n      }\n    }\n    value -= sumValue;\n    i = j;\n  }\n  return rows;\n}\n","import { each } from '@antv/util';\n\nexport function dice(root, x0, y0, x1, y1) {\n  const width = x1 - x0;\n  const { children, value } = root;\n  children.sort((a, b) => {\n    return b.value - a.value;\n  });\n  const k = width / value;\n  let node_x = x0;\n  each(children, (c) => {\n    c.y0 = y0;\n    c.y1 = y1;\n    c.x0 = node_x;\n    node_x += c.value * k;\n    c.x1 = c.x0 + c.value * k;\n  });\n}\n","import { each } from '@antv/util';\n\nexport function slice(root, x0, y0, x1, y1) {\n  const height = y1 - y0;\n  const { children, value } = root;\n  children.sort((a, b) => {\n    return b.value - a.value;\n  });\n  const k = height / value;\n  let node_y = y0;\n  each(children, (c) => {\n    c.x0 = x0;\n    c.x1 = x1;\n    c.y0 = node_y;\n    node_y += c.value * k;\n    c.y1 = c.y0 + c.value * k;\n  });\n}\n","import DrillDownInteraction from './drillDown';\n\nexport const INTERACTION_MAP = {\n  drilldown: DrillDownInteraction,\n};\n","import Breadcrumb from '../../../components/breadcrumb';\nimport BaseInteraction from '../../../interaction/base';\nimport { IGroup } from '@antv/g-base';\nimport BBox from '../../../util/bbox';\nimport TreemapLayer from '../layer';\nimport { each, hasKey, isFunction, clone } from '@antv/util';\nimport { drillingDown, rollingUp } from './animation';\n\nconst DEFAULT_ITEM_WIDTH = 100;\nconst DEFAULT_ITEM_HEIGHT = 30;\nconst PADDING_TOP = 10;\n\ninterface IStartNode {\n  name?: string;\n}\n\ninterface IMapping {\n  [key: string]: IMappingConfig;\n}\n\ninterface IMappingConfig {\n  field: string;\n  values?: string[];\n}\n\ninterface IDrillDownInteractionConfig {\n  x?: number;\n  y?: number;\n  startNode?: IStartNode;\n  itemWidth?: number;\n  itemHeight?: number;\n  padding?: number[];\n  [key: string]: any;\n}\n\nconst getValidBreadcrumbConfig = (cfg: IDrillDownInteractionConfig = {}): Required<IDrillDownInteractionConfig> => {\n  const _cfg: Required<IDrillDownInteractionConfig> = {\n    x: 0,\n    y: 0,\n    startNode: { name: 'root' },\n    itemWidth: DEFAULT_ITEM_WIDTH,\n    itemHeight: DEFAULT_ITEM_HEIGHT,\n    padding: [0, 0, 0, 0],\n    ...cfg,\n  };\n  return _cfg;\n};\n\nexport default class DrillDownInteraction extends BaseInteraction {\n  public static getInteractionRange(layerRange: BBox, interaction: IDrillDownInteractionConfig) {\n    const config: Required<IDrillDownInteractionConfig> = getValidBreadcrumbConfig(interaction);\n    const [paddingTop, paddingBottom] = config.padding;\n    if (layerRange) {\n      return new BBox(\n        layerRange.minX,\n        layerRange.maxY - config.itemHeight - paddingTop - paddingBottom,\n        layerRange.width,\n        config.itemHeight + paddingTop + paddingBottom\n      );\n    }\n  }\n\n  private container: IGroup;\n  private breadcrumb: Breadcrumb;\n  private plot: TreemapLayer;\n  private startNode: IStartNode;\n  private parentNode: any;\n  private currentNode: any;\n  private currentDepth: number;\n  private startNodeName: string;\n  private cache: any;\n  private mapping: IMapping;\n  private originMapping: IMappingConfig;\n  private y: number;\n  private geometry: any;\n\n  public start(ev) {\n    const data = ev.data.data;\n    if (data.children) {\n      this.parentNode = {\n        color: ev.target.attr('fill'),\n        shape: ev.target,\n        data: {\n          name: clone(this.currentNode.name),\n          value: clone(this.currentNode.value),\n        },\n        depth: clone(this.currentDepth),\n      };\n      this.currentDepth++;\n      drillingDown(ev.target, this.view, () => {\n        this.update(data);\n      });\n    }\n  }\n\n  protected update(data) {\n    if (!hasKey(this.cache, data.name)) {\n      this.cache[data.name] = data;\n    }\n    const tempoData = this.plot.getTreemapData(data, data.depth);\n    this.view.changeData(tempoData);\n    this.adjustScale(this.currentDepth);\n    this.currentNode = data;\n    this.render();\n  }\n\n  protected render() {\n    if (this.breadcrumb) {\n      const items = this.getItems();\n      this.breadcrumb.update({\n        items,\n      });\n      this.layout();\n    } else {\n      this.initGeometry();\n      this.cache = {};\n      this.saveOriginMapping();\n      this.container = this.plot.canvas.addGroup();\n      if (!this.startNode) {\n        this.startNode = {\n          name: 'root',\n        };\n      }\n      if (this.startNode.name === 'root') {\n        this.startNodeName = hasKey(this.plot.options.data, 'name') ? this.plot.options.data.name : 'root';\n        this.currentNode = this.plot.options.data;\n        this.currentDepth = 1;\n      } else {\n        this.startNodeName = this.startNode.name;\n        this.currentNode = this.startNode;\n      }\n      this.y = this.view.coordinateBBox.maxY + PADDING_TOP;\n      this.breadcrumb = new Breadcrumb({\n        container: this.container,\n        x: 0,\n        y: this.y,\n        items: this.getItems(),\n      });\n      this.breadcrumb.render();\n      this.plot.canvas.draw();\n      this.layout();\n    }\n    this.onInteraction();\n  }\n\n  protected clear() {}\n\n  private layout() {\n    const currentWidth = this.container.getBBox().width;\n    const x = (this.plot.width - currentWidth) / 2;\n    this.breadcrumb.update({\n      x,\n      y: this.y,\n    });\n  }\n\n  private getItems() {\n    let items = [];\n    if (this.currentNode.name && this.currentNode.name === this.startNodeName) {\n      const rootItem = this.getRootItem();\n      items.push(rootItem);\n    } else {\n      items = [];\n      const parents = [];\n      this.findParent(this.currentNode, parents);\n      items.push(this.getRootItem());\n      each(parents, (p, index) => {\n        items.push({ key: String(index + 2), text: p.name, data: p });\n      });\n      items.push({ key: String(parents.length + 2), text: this.currentNode.name, data: this.currentNode });\n    }\n    return items;\n  }\n\n  private findParent(data, parents) {\n    if (data.parent) {\n      if (hasKey(this.cache, data.parent.name)) {\n        parents.push(this.cache[data.parent.name]);\n      } else {\n        parents.push(data.parent);\n      }\n      this.findParent(data.parent, parents);\n    } else {\n      return;\n    }\n  }\n\n  private onInteraction() {\n    this.container.on('click', (ev) => {\n      const targetParent = ev.target.get('parent');\n      if (targetParent && targetParent.get('class') === 'item-group') {\n        const data = targetParent.get('data');\n        if (data.data) {\n          if (data.text === this.startNodeName) {\n            const targetDepth = 1;\n            //只有前后depth相邻才执行上卷动画，否则直接更新\n            if (this.currentDepth - 1 === targetDepth) {\n              rollingUp(this.currentNode.name, this.view, () => {\n                this.updateRoot(data);\n              });\n            } else {\n              this.updateRoot(data);\n            }\n            this.currentDepth = 1;\n          } else if (this.currentNode === data.data) {\n            return;\n          } else {\n            const previousDepth = clone(this.currentDepth);\n            this.currentDepth = parseInt(data.key);\n            if (previousDepth - 1 === this.currentDepth) {\n              rollingUp(this.currentNode.name, this.view, () => {\n                this.update(data.data);\n              });\n            } else {\n              this.update(data.data);\n            }\n          }\n        }\n      }\n    });\n  }\n\n  private getRootItem() {\n    const rootData = this.plot.options.data;\n    const rootName = hasKey(rootData, 'name') ? rootData.name : 'root';\n    return { key: '1', text: rootName, data: this.plot.rootData };\n  }\n\n  private saveOriginMapping() {\n    const { colorField, colors } = this.plot.options;\n    const mappingInfo = { field: colorField, values: colors };\n    this.originMapping = mappingInfo;\n  }\n\n  private adjustScale(index) {\n    const { view } = this;\n    // 根据当前层级确定mapping配置项\n    if (this.mapping && hasKey(this.mapping, String(index))) {\n      const mappingCfg = clone(this.mapping[index]);\n      if (mappingCfg.values && isFunction(mappingCfg.values)) {\n        const values = mappingCfg.values(this.parentNode, this.currentNode);\n        mappingCfg.values = values;\n      }\n      this.view.geometries[0].color(mappingCfg.field, mappingCfg.values);\n    } else {\n      const mappingCfg = clone(this.originMapping);\n      this.view.geometries[0].color(mappingCfg.field, mappingCfg.values);\n    }\n    view.render();\n  }\n\n  private initGeometry() {\n    this.geometry = this.view.geometries[0];\n    const viewRange = this.view.viewBBox;\n    const container = this.geometry.container;\n    container.setClip({\n      type: 'rect',\n      attrs: {\n        x: viewRange.minX,\n        y: viewRange.minY,\n        width: viewRange.width,\n        height: viewRange.height,\n      },\n    });\n  }\n\n  private updateRoot(data) {\n    this.view.changeData(data.data);\n    this.adjustScale(1);\n    this.currentNode = this.plot.options.data;\n    this.render();\n  }\n}\n\nBaseInteraction.registerInteraction('drilldown', DrillDownInteraction);\n","import BaseComponent, { BaseComponentConfig } from './base';\nimport { IGroup, BBox, IShape } from '../dependents';\nimport { move } from '../util/g-util';\nimport { IStyleConfig, IStyle } from '../interface/config';\n\nexport interface BreadcrumbItem {\n  key: string;\n  text: string;\n}\n\nexport interface BreadcrumbConfig extends BaseComponentConfig {\n  x: number;\n  y: number;\n  items: BreadcrumbItem[];\n  itemPadding?: [number, number, number, number];\n  backgroundStyle?: {\n    fill?: string;\n    stroke?: string;\n    lineWidth?: number;\n    opacity?: number;\n  };\n  itemBackgroundStyle?: {\n    fill?: string;\n    opacity?: number;\n  };\n  itemActiveBackgroundStyle?: {\n    fill?: string;\n    opacity?: number;\n  };\n  separator?: string;\n  separatorStyle?: {\n    fontSize?: number;\n    fill?: string;\n    opacity?: number;\n  };\n  itemWidth?: number;\n  itemHeight?: number;\n  maxItemWidth?: number;\n  textStyle?: {\n    fontSize?: number;\n    fill?: string;\n    opacity?: number;\n  };\n}\n\nexport default class Breadcrumb extends BaseComponent<BreadcrumbConfig> {\n  private x: number;\n  private y: number;\n  private items: BreadcrumbItem[];\n  private itemPadding: [number, number, number, number];\n  private backgroundStyle: {\n    fill?: string;\n    stroke?: string;\n    lineWidth?: number;\n  };\n  private itemBackgroundStyle: {\n    fill?: string;\n    opacity?: number;\n  };\n  private itemActiveBackgroundStyle: {\n    fill?: string;\n    opacity?: number;\n  };\n  private separator: string;\n  private separatorStyle: IStyleConfig;\n  private itemWidth: number | undefined;\n  private itemHeight: number | undefined;\n  private maxItemWidth: number | undefined;\n  private textStyle: IStyleConfig;\n\n  private listeners: { target: IShape | IGroup; event: string; callback: () => void }[] = [];\n\n  public destroy() {\n    this.offEvents();\n    super.destroy();\n  }\n\n  protected init(config: BreadcrumbConfig) {\n    this.x = config.x;\n    this.y = config.y;\n    this.items = config.items || [];\n    this.itemPadding = config.itemPadding || [2, 8, 2, 8];\n    this.backgroundStyle = { lineWidth: 1, stroke: '#ffffff', ...(config.backgroundStyle || {}) };\n    this.itemBackgroundStyle = { fill: '#fff', ...(config.itemBackgroundStyle || {}) };\n    this.itemActiveBackgroundStyle = { fill: '#ccc', opacity: 0.2, ...(config.itemActiveBackgroundStyle || {}) };\n    this.separator = config.separator || '/';\n    this.separatorStyle = { textBaseline: 'top', fill: '#000000', opacity: 0.45, ...(config.separatorStyle || {}) };\n    this.itemWidth = config.itemWidth;\n    this.itemHeight = config.itemHeight;\n    this.maxItemWidth = config.maxItemWidth;\n    this.textStyle = { textBaseline: 'top', fill: '#000000', opacity: 0.45, ...(config.textStyle || {}) };\n  }\n\n  protected renderInner(group: IGroup) {\n    const startX = 0;\n    const startY = 0;\n    this.offEvents();\n    this.renderItems(group, startX, startY);\n    //this.bindEvents(group);\n    move(this.group, this.x, this.y);\n  }\n\n  private renderItems(group: IGroup, startX: number, startY: number) {\n    const [topPadding, rightPadding, bottomPadding, leftPadding] = this.itemPadding;\n    let itemHeight;\n\n    // background\n    const backgroundRect = group.addShape('rect', {\n      class: 'breadcrumb-background',\n      attrs: {\n        x: startX,\n        y: startY,\n        width: 1,\n        height: 1,\n        ...this.backgroundStyle,\n      },\n    });\n\n    this.items.forEach((item: BreadcrumbItem, idx: number) => {\n      // item group\n      const itemGroup: IGroup = group.addGroup({\n        id: `item-group-${item.key}`,\n        // data: item.key,\n        data: item,\n        class: 'item-group',\n        attrs: {\n          cursor: 'pointer',\n        },\n      });\n\n      // background rect\n\n      const rectShape: any = itemGroup.addShape('rect', {\n        id: `item-background-${item.key}`,\n        class: 'item-background',\n        attrs: {\n          x: startX,\n          y: startY,\n          width: leftPadding + rightPadding,\n          height: topPadding + bottomPadding,\n          ...this.itemBackgroundStyle,\n          cursor: 'pointer',\n        },\n      });\n      rectShape.name = 'breadcrumb';\n\n      // text shape\n      const textShape: any = itemGroup.addShape('text', {\n        id: `item-text-${item.key}`,\n        class: 'item-text',\n        attrs: {\n          x: startX + leftPadding,\n          y: startY + topPadding,\n          text: item.text,\n          ...this.textStyle,\n          cursor: 'pointer',\n        },\n      });\n      textShape.name = 'breadcrumb';\n      const textShapeBBox: BBox = textShape.getBBox();\n      itemHeight = this.itemHeight || textShapeBBox.height;\n      let itemWidth = this.itemWidth || textShapeBBox.width;\n      if (this.maxItemWidth) {\n        itemWidth = Math.min(itemWidth, this.maxItemWidth);\n      }\n      // update background rect\n      const backgroundRectAttr = {\n        x: startX,\n        y: startY,\n        width: itemWidth + leftPadding + rightPadding,\n        height: itemHeight + topPadding + bottomPadding,\n      };\n      rectShape.attr('width', backgroundRectAttr.width);\n      rectShape.attr('height', backgroundRectAttr.height);\n      // clip\n      itemGroup.setClip({\n        type: 'rect',\n        attrs: backgroundRectAttr,\n      });\n      startX += backgroundRectAttr.width;\n\n      // separator\n      if (idx !== this.items.length - 1) {\n        const sepShape: any = group.addShape('text', {\n          attrs: {\n            x: startX,\n            y: startY + topPadding,\n            text: this.separator,\n            ...this.separatorStyle,\n          },\n          class: 'separator',\n        });\n        startX += sepShape.getBBox().width;\n      }\n    });\n\n    // update background\n    backgroundRect.attr({\n      width: startX,\n      height: itemHeight + topPadding + bottomPadding,\n    });\n  }\n\n  private bindEvents(group: IGroup) {\n    const items = this.items;\n    const itemGroups = group.get('children').filter((item) => item.get('class') === 'item-group');\n    const callback = (event: string, itemGroup: IGroup, emitEventName: string) => () => {\n      const key: string = itemGroup.get('data');\n      const item = items.find((val) => val.key === key);\n      this.emit(emitEventName, {\n        item,\n      });\n    };\n\n    itemGroups.forEach((itemGroup) => {\n      const clickCallback = callback('click', itemGroup, 'onItemClick');\n      const dblclickCallback = callback('dblclick', itemGroup, 'onItemDblclick');\n      const mouseEnterCallback = this.onItemGroupToggleActive(itemGroup, true);\n      const mouseLeaveCallback = this.onItemGroupToggleActive(itemGroup, false);\n      itemGroup.on('click', clickCallback);\n      itemGroup.on('dblclick', dblclickCallback);\n      itemGroup.on('mouseenter', mouseEnterCallback);\n      itemGroup.on('mouseleave', mouseLeaveCallback);\n      this.listeners.push({ target: itemGroup, event: 'click', callback: clickCallback });\n      this.listeners.push({ target: itemGroup, event: 'dblclick', callback: dblclickCallback });\n      this.listeners.push({ target: itemGroup, event: 'mouseenter', callback: mouseEnterCallback });\n      this.listeners.push({ target: itemGroup, event: 'mouseleave', callback: mouseLeaveCallback });\n    });\n  }\n\n  private onItemGroupToggleActive = (itemGroup: IGroup, active: boolean) => () => {\n    const rectShape = itemGroup.get('children').find((item) => item.get('class') === 'item-background');\n    if (rectShape) {\n      rectShape.attr(active ? this.itemActiveBackgroundStyle : this.itemBackgroundStyle);\n    }\n    this.getCanvas().draw();\n  };\n\n  private offEvents() {\n    if (this.listeners) {\n      this.listeners.forEach(({ target, event, callback }) => {\n        target.off(event, callback);\n      });\n    }\n    this.listeners = [];\n  }\n}\n","import EventEmitter from '@antv/event-emitter';\nimport { Canvas, IGroup, BBox } from '../dependents';\n\nexport interface BaseComponentConfig {\n  container: IGroup;\n}\n\nexport default class BaseComponent<T extends BaseComponentConfig = BaseComponentConfig> extends EventEmitter {\n  protected container: IGroup;\n  protected group: IGroup;\n  protected destroyed: boolean;\n  private config: T;\n\n  public constructor(config: T) {\n    super();\n    this.container = config.container;\n    this.destroyed = false;\n    this.group = this.container.addGroup();\n    this.config = config;\n    this.init(config);\n  }\n\n  public getGroup(): IGroup {\n    return this.group;\n  }\n\n  public getBBox(): BBox {\n    return this.getGroup().getBBox();\n  }\n\n  public render(): void {\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  }\n\n  public update(config: Partial<T>): void {\n    this.config = { ...this.config, ...config };\n    this.init({ ...this.config, config });\n    this.group.clear();\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  }\n\n  public destroy(): void {\n    this.group.remove(true);\n    this.destroyed = true;\n  }\n\n  protected getCanvas(): Canvas {\n    return this.container.get('canvas');\n  }\n\n  protected init(config: T): void {}\n\n  protected renderInner(group: IGroup): void {}\n}\n","import { each, clone, deepMix } from '@antv/util';\nimport { groupTransform, transform } from '../../../util/g-util';\n\nconst ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nconst duration = 400;\nconst easing = 'easeQuadInOut';\n\nexport function drillingDown(target, view, callback) {\n  const rect = getRect(target);\n  const range = getRange(view);\n  const xRatio = range.width / rect.width;\n  const yRatio = range.height / rect.height;\n  const offsetX = (range.minX - rect.minX) * xRatio;\n  const offsetY = (range.minY - rect.minY) * yRatio;\n\n  const transformMatrix = transform([\n    ['s', xRatio, yRatio],\n    ['t', offsetX, offsetY],\n  ]);\n\n  let geometry = view.geometries[0];\n  hideLabel(geometry);\n  const tem_container = view.backgroundGroup.addGroup();\n  tem_container.set('zIndex', -100);\n  tem_container.setClip({\n    type: 'rect',\n    attrs: {\n      x: range.minX,\n      y: range.minY,\n      width: range.width,\n      height: range.height,\n    },\n  });\n  const tem_shapes = getTemShapes(geometry, tem_container);\n  geometry.container.set('visible', false);\n  view.canvas.draw();\n  callback();\n  window.setTimeout(() => {\n    each(tem_shapes, (shape, index) => {\n      if (index === 0) {\n        shape.animate({ matrix: transformMatrix }, duration, easing, () => {\n          tem_container.remove();\n          view.canvas.draw();\n        });\n      } else {\n        shape.animate(transform, duration);\n      }\n    });\n    geometry = view.geometries[0];\n    hideLabel(geometry);\n    const shapes = geometry.getShapes();\n    each(shapes, (shape) => {\n      shape.attr('opacity', 0);\n      shape.animate(\n        {\n          opacity: 1,\n        },\n        duration,\n        easing\n      );\n    });\n    const container = geometry.container;\n    container.stopAnimate();\n    container.set('visible', true);\n    container.attr('matrix', clone(ulMatrix));\n    groupTransform(container, [\n      ['s', rect.width / range.width, rect.height / range.height],\n      ['t', rect.minX, rect.minY],\n    ]);\n    const matrix = clone(ulMatrix);\n    geometry.container.animate(\n      {\n        matrix,\n      },\n      duration,\n      easing,\n      () => {\n        showLabel(geometry);\n      }\n    );\n    view.canvas.draw();\n  }, 16);\n}\n\nfunction getTemShapes(geometry, container) {\n  const shapes = geometry.getShapes();\n  const tem_shapes = [];\n  each(shapes, (shape) => {\n    const s = container.addShape('path', {\n      attrs: deepMix({}, shape.attrs, { capture: false }),\n    });\n    tem_shapes.push(s);\n  });\n  return tem_shapes;\n}\n\nexport function rollingUp(name, view, callback) {\n  let geometry = view.geometries[0];\n  hideLabel(geometry);\n  let container = geometry.container;\n  container.attr('matrix', clone(ulMatrix));\n  const tem_container = view.backgroundGroup.addGroup();\n  tem_container.set('zIndex', -100);\n  const tem_shapes = getTemShapes(geometry, tem_container);\n  container.set('visible', false);\n  view.canvas.draw();\n  callback();\n  geometry = view.geometries[0];\n  hideLabel(geometry);\n  container = geometry.container;\n  const shape = findShapeByName(geometry.getShapes(), name); //根据name获得上一级shape\n  const rect = getRect(shape);\n  const range = getRange(view);\n  const containerParent = container.get('parent');\n  if (!containerParent.get('clipShape')) {\n    container.setClip({\n      type: 'rect',\n      attrs: {\n        x: range.minX,\n        y: range.minY,\n        width: range.width,\n        height: range.height,\n      },\n    });\n  }\n  shrinkTemp(tem_container, tem_shapes, rect, range);\n  const xRatio = range.width / rect.width;\n  const yRatio = range.height / rect.height;\n  const offsetX = (range.minX - rect.minX) * xRatio;\n  const offsetY = (range.minY - rect.minY) * yRatio;\n  const transformMatrix = transform([\n    ['s', xRatio, yRatio],\n    ['t', offsetX, offsetY],\n  ]);\n  container.setMatrix(transformMatrix);\n  container.set('visible', true);\n  container.animate(\n    {\n      matrix: ulMatrix,\n    },\n    duration,\n    easing,\n    () => {\n      showLabel(geometry);\n    }\n  );\n}\n\nfunction findShapeByName(shapes, n) {\n  let shape;\n  each(shapes, (s) => {\n    const { name } = s.get('origin').data;\n    if (name === n) {\n      shape = s;\n    }\n  });\n  return shape;\n}\n\nfunction getRange(view) {\n  const viewRange = view.coordinateBBox;\n  const range = {\n    minX: viewRange.minX,\n    minY: viewRange.minY,\n    centerX: (viewRange.maxX - viewRange.minX) / 2,\n    centerY: (viewRange.maxY - viewRange.minY) / 2,\n    width: viewRange.width,\n    height: viewRange.height,\n  };\n  return range;\n}\n\nfunction getRect(shape) {\n  const path = shape.attr('path');\n  const x0 = path[0][1];\n  const y1 = path[0][2];\n  const x1 = path[1][1];\n  const y0 = path[2][2];\n  const rect = {\n    minX: x0,\n    minY: y0,\n    centerX: (x1 - x0) / 2,\n    centerY: (y1 - y0) / 2,\n    width: Math.abs(x1 - x0),\n    height: Math.abs(y1 - y0),\n  };\n  return rect;\n}\n\nfunction shrinkTemp(container, shapes, rect, range) {\n  const xRatio = rect.width / range.width;\n  const yRatio = rect.height / range.height;\n  const transformMatrix = transform([\n    ['s', xRatio, yRatio],\n    ['t', rect.minX, rect.minY],\n  ]);\n  container.animate({ matrix: transformMatrix }, duration, easing, () => {\n    container.remove();\n  });\n  each(shapes, (shape) => {\n    shape.animate(\n      {\n        opacity: 0,\n      },\n      duration,\n      easing\n    );\n  });\n}\n\nfunction hideLabel(geometry) {\n  const labelContainer = geometry.labelsContainer;\n  labelContainer.set('visible', false);\n}\n\nfunction showLabel(geometry) {\n  const labelContainer = geometry.labelsContainer;\n  labelContainer.set('visible', true);\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Rect: 'polygon',\n  Breadcrumb: 'breadcrumb',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup } from '../../../dependents';\nimport { breakText } from '../../../util/common';\n\nconst LEAF_LABEL_OFFSET = 4;\nconst MIN_FONTSIZE = 8;\n\nfunction isLeaf(data, maxLevel) {\n  return !data.children || data.depth >= maxLevel;\n}\n\nfunction textWrapper(label, width, container) {\n  const fontSize = label.attr('fontSize');\n  const textContent: string = label.attr('text');\n  const tShape = container.addShape('text', {\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize,\n    },\n  });\n  const textArr = textContent.split('\\n');\n  const wrappedTextArr = textArr.map((wrappedText) => {\n    let text = '';\n    const chars = wrappedText.split('');\n    const breakIndex: number[] = [];\n    for (let i = 0; i < chars.length; i++) {\n      const item = chars[i];\n      tShape.attr('text', (text += item));\n      const currentWidth = tShape.getBBox().width - 1;\n      if (currentWidth > width) {\n        // 如果是第一个字符就大于宽度不做任何换行处理\n        if (i === 0) {\n          break;\n        }\n        breakIndex.push(i);\n        text = '';\n      }\n    }\n\n    return breakText(chars, breakIndex);\n  });\n\n  tShape.remove();\n  return wrappedTextArr.join('\\n');\n}\n\nfunction textAbbreviate(text, fontSize, width, container) {\n  const tailShape = container.addShape('text', {\n    attrs: {\n      text: '...',\n      x: 0,\n      y: 0,\n      fontSize,\n    },\n  });\n  const tailWidth = tailShape.getBBox().width;\n  const tShape = container.addShape('text', {\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize,\n    },\n  });\n  let t = '';\n  const abbreviateWidth = width - tailWidth;\n  for (let i = 0; i < text.length; i++) {\n    const item = text[i];\n    tShape.attr('text', (t += item));\n    const currentWidth = tShape.getBBox().width;\n    if (currentWidth >= abbreviateWidth) {\n      const string = t.substr(0, t.length - 1);\n      if (string.length > 0) {\n        return string + '...';\n      }\n    }\n  }\n  tShape.remove();\n  tailShape.remove();\n  return t;\n}\n\nexport interface TreemapLabelConfig {\n  visible?: boolean;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n}\n\nexport interface ILineLabel extends TreemapLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class TreemapLabel {\n  public options: TreemapLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  private container: IGroup;\n\n  constructor(cfg: ILineLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const elements = this.getGeometry().elements;\n    each(elements, (ele) => {\n      const shape = ele.shape;\n      const data = shape.get('origin').data;\n      const isLeafNode = isLeaf(data, this.plot.options.maxLevel);\n      if (data.showLabel) {\n        const style = clone(this.options.style);\n        const position = this.getPosition(shape, isLeafNode);\n        const formatter = this.options.formatter;\n        const content = formatter ? formatter(data.name) : data.name;\n        const textBaseline = this.getTextBaseLine(isLeafNode);\n        const label = this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: position.x,\n            y: position.y,\n            text: content,\n            fill: 'black',\n            textAlign: 'center',\n            textBaseline,\n            fontWeight: isLeafNode ? 300 : 600,\n          }),\n          name: 'label',\n        });\n        this.adjustLabel(label, shape, isLeafNode);\n      }\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  protected getPosition(shape, isLeafNode) {\n    const shapeBbox = shape.getBBox();\n    let x = 0;\n    let y = 0;\n    if (!isLeafNode) {\n      x = shapeBbox.x + shapeBbox.width / 2;\n      y = shapeBbox.y + 4;\n    } else {\n      x = shapeBbox.minX + shapeBbox.width / 2;\n      y = shapeBbox.minY + shapeBbox.height / 2;\n    }\n    return { x, y };\n  }\n\n  protected getTextBaseLine(isLeafNode) {\n    return isLeafNode ? 'middle' : 'top';\n  }\n\n  protected adjustLabel(label, shape, isLeafNode) {\n    if (isLeafNode) {\n      this.adjustLeafLabel(label, shape);\n    } else {\n      this.adjustParentLabel(label, shape);\n    }\n  }\n\n  private adjustLeafLabel(label, shape) {\n    const bbox = shape.getBBox();\n    const labelBBox = label.getBBox();\n    const labelText = clone(label.attr('text'));\n    const sizeOffset = 2;\n    const fontSize = Math.max(label.attr('fontSize') - sizeOffset, MIN_FONTSIZE);\n    const centerX = bbox.x + bbox.width / 2;\n    const centerY = bbox.y + bbox.height / 2;\n    label.attr({\n      x: centerX,\n      y: centerY,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      lineHeight: fontSize,\n      fontSize,\n    });\n    const wrapperWidth = bbox.width - LEAF_LABEL_OFFSET * 2;\n    if (labelBBox.width > bbox.width && labelBBox.height > bbox.height) {\n      label.attr('text', '');\n      return;\n    } else if (wrapperWidth < fontSize) {\n      label.attr('text', '');\n      return;\n    }\n    if (labelBBox.width > bbox.width) {\n      const wrappedText = textWrapper(label, wrapperWidth, this.container);\n      label.attr({\n        lineHeight: label.attr('fontSize'),\n        text: wrappedText,\n      });\n      const tem_bbox = label.getBBox();\n      if (tem_bbox.height > bbox.height) {\n        const text = textAbbreviate(labelText, fontSize, wrapperWidth, this.container);\n        label.attr('text', text);\n      }\n    }\n  }\n\n  private adjustParentLabel(label, shape) {\n    const shapeBbox = shape.getBBox();\n    const wrapperWidth = shapeBbox.width - LEAF_LABEL_OFFSET * 2;\n    if (label.getBBox().width > wrapperWidth) {\n      const text = textAbbreviate(label.attr('text'), label.attr('fontSize'), wrapperWidth, this.container);\n      label.attr('text', text);\n    }\n  }\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      style: clone(labelStyle),\n    };\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'polygon');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { PlotConfig } from '../..';\nimport { StepLineViewConfig, StepLineLayer } from './layer';\nimport BasePlot from '../../base/plot';\n\nexport interface StepLineConfig extends StepLineViewConfig, PlotConfig {}\n\nexport default class StepLine extends BasePlot<StepLineConfig> {\n  public static getDefaultOptions: typeof StepLineLayer.getDefaultOptions = StepLineLayer.getDefaultOptions;\n\n  /**\n   * 复写父类方法\n   * @param props\n   */\n  protected createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'step-line';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\n\nimport LineLayer, { LineLayerConfig, LineViewConfig } from '../line/layer';\nimport { LayerConfig } from '../..';\nimport { registerPlotType } from '../../base/global';\n\nexport interface StepLineViewConfig extends LineViewConfig {\n  readonly step?: 'hv' | 'vh' | 'vhv' | 'hvh'; // 默认为 hv\n}\n\nexport interface StepLineLayerConfig extends StepLineViewConfig, LayerConfig {}\n\nexport class StepLineLayer extends LineLayer<StepLineLayerConfig> {\n  public type: string = 'step-line'; // 覆写父类的 type\n\n  public static getDefaultOptions(): Partial<LineLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      step: 'hv',\n    });\n  }\n}\n\nregisterPlotType('step-line', StepLineLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport BarLayer, { BarViewConfig } from './layer';\n\nexport interface BarConfig extends BarViewConfig, PlotConfig {}\n\nexport default class Bar extends BasePlot<BarConfig> {\n  public static getDefaultOptions: typeof BarLayer.getDefaultOptions = BarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'bar';\n    super.createLayers(layerProps);\n  }\n}\n","import responsiveAxis from './axis';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [{ name: 'responsiveAxis', method: responsiveAxis }];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport BarLayer from '../layer';\n\nexport default function responsiveAxis(layer: BarLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  const x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  const y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onBarClick: 'interval:click',\n  onBarDblclick: 'interval:dblclick',\n  onBarMousemove: 'interval:mousemove',\n  onBarMouseenter: 'interval:mouseenter',\n  onBarMouseleave: 'interval:mouseleave',\n  onBarMousedown: 'interval:mousedown',\n  onBarMouseup: 'interval:mouseup',\n  onBarContextmenu: 'interval:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { registerTheme } from '../../theme';\n\nconst BAR_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst BAR_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('bar', {\n  columnStyle: {\n    normal: {},\n    active: BAR_ACTIVE_STYLE,\n    disable: BAR_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackedBarLayer, { StackedBarViewConfig } from './layer';\n\nexport interface StackedBarConfig extends StackedBarViewConfig, PlotConfig {}\n\nexport default class StackedBar extends BasePlot<StackedBarConfig> {\n  public static getDefaultOptions: typeof StackedBarLayer.getDefaultOptions = StackedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedBar';\n    super.createLayers(layerProps);\n  }\n}\n","import { clone } from '@antv/util';\nimport BarLabel from '../../bar/component/label';\n\nconst DEFAULT_OFFSET = 8;\n\nexport default class StackBarLabel extends BarLabel {\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: DEFAULT_OFFSET,\n      offsetY: 0,\n      style: clone(labelStyle),\n      adjustPosition: true,\n    };\n  }\n\n  protected adjustLabel(label, shape) {\n    if (this.options.adjustPosition) {\n      const labelRange = label.getBBox();\n      const shapeRange = this.getShapeBbox(shape);\n      if (shapeRange.width <= labelRange.width) {\n        // const xPosition = shapeRange.maxX + this.options.offsetX;\n        label.attr('text', '');\n      }\n    }\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GroupedBarLayer, { GroupedBarViewConfig } from './layer';\n\nexport interface GroupedBarConfig extends GroupedBarViewConfig, PlotConfig {}\n\nexport default class GroupedBar extends BasePlot<GroupedBarConfig> {\n  public static getDefaultOptions: typeof GroupedBarLayer.getDefaultOptions = GroupedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedBar';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PercentStackedBarLayer, { PercentStackedBarLayerConfig } from './layer';\n\nexport interface PercentStackedBarConfig extends PercentStackedBarLayerConfig, PlotConfig {}\n\nexport default class PercentStackedBar<T extends PercentStackedBarConfig = PercentStackedBarConfig> extends BasePlot<\n  T\n> {\n  public static getDefaultOptions: typeof PercentStackedBarLayer.getDefaultOptions =\n    PercentStackedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedBar';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RangeBarLayer, { RangeBarViewConfig } from './layer';\n\nexport interface RangeBarConfig extends RangeBarViewConfig, PlotConfig {}\n\nexport default class RangeBar extends BasePlot<RangeBarConfig> {\n  public static getDefaultOptions: typeof RangeBarLayer.getDefaultOptions = RangeBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'rangeBar';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport BaseBarLayer, { BarViewConfig } from '../bar/layer';\nimport RangeBarLabel, { RangeBarLabelConfig } from './component/label';\nimport { setShapeCache } from './animation';\n\nexport interface RangeBarViewConfig extends BarViewConfig {\n  label?: RangeBarLabelConfig;\n}\n\nexport interface RangeBarLayerConfig extends RangeBarViewConfig, LayerConfig {}\n\nexport default class RangeBarLayer extends BaseBarLayer<RangeBarLayerConfig> {\n  public static getDefaultOptions(): Partial<RangeBarViewConfig> {\n    return deepMix(\n      super.getDefaultOptions(),\n      {\n        label: {\n          visible: true,\n          position: 'outer',\n        },\n        xAxis: {\n          visible: true,\n          autoRotateTitle: false,\n          grid: {\n            visible: true,\n          },\n          line: {\n            visible: false,\n          },\n          tickLine: {\n            visible: false,\n          },\n          label: {\n            visible: true,\n            autoRotate: true,\n            autoHide: true,\n          },\n          title: {\n            visible: true,\n            offset: 12,\n          },\n        },\n        yAxis: {\n          visible: true,\n          autoRotateTitle: true,\n          grid: {\n            visible: false,\n          },\n          line: {\n            visible: true,\n          },\n          tickLine: {\n            visible: true,\n          },\n          label: {\n            visible: true,\n            autoHide: true,\n            autoRotate: false,\n          },\n          title: {\n            visible: false,\n            offset: 12,\n          },\n        },\n      },\n      {}\n    );\n  }\n\n  public type: string = 'rangeBar';\n\n  public afterRender() {\n    this.renderLabel();\n    // 为更新动画缓存shape\n    const shapeCaches = [];\n    const geoms = this.view.geometries;\n    each(geoms, (geom) => {\n      const elements = geom.elements;\n      each(elements, (ele) => {\n        shapeCaches.push(ele.shape);\n      });\n    });\n    setShapeCache(shapeCaches);\n    super.afterRender();\n  }\n\n  protected renderLabel() {\n    if (this.options.label && this.options.label.visible) {\n      const label = new RangeBarLabel({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    this.bar.animate = {\n      appear: {\n        animation: 'clipInFromCenter',\n        duration: 600,\n      },\n      update: {\n        animation: 'updateFromCenter',\n        duration: 600,\n      },\n    };\n  }\n}\n\nregisterPlotType('rangeBar', RangeBarLayer);\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup, Geometry } from '../../../dependents';\nimport { rgb2arr } from '../../../util/color';\nimport BBox from '../../../util/bbox';\n\nconst DEFAULT_OFFSET = 8;\n\nfunction mappingColor(band, gray) {\n  let reflect;\n  each(band, (b) => {\n    const map = b;\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\nexport interface RangeBarLabelConfig {\n  visible: boolean;\n  position?: 'outer' | 'inner';\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  leftStyle?: any;\n  rightStyle?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IRangeBarLabel extends RangeBarLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class RangeBarLabel {\n  public options: RangeBarLabelConfig;\n  public destroyed: boolean = false;\n  private plot: any;\n  private view: View;\n  private coord: any;\n  private container: IGroup;\n\n  constructor(cfg: IRangeBarLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    if (!this.options.leftStyle) {\n      this.options.leftStyle = this.options.style;\n    }\n    if (!this.options.rightStyle) {\n      this.options.rightStyle = this.options.style;\n    }\n    this.init();\n  }\n\n  public init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const { elements, coordinate } = this.getGeometry();\n    this.coord = coordinate;\n    each(elements, (ele) => {\n      const { shape } = ele;\n      const positions = this.getPosition(shape);\n      const values = this.getValue(shape);\n      const textAlign = this.getTextAlign();\n      const labels = [];\n      each(positions, (pos, i) => {\n        const style = i === 0 ? this.options.leftStyle : this.options.rightStyle;\n        const color = this.getTextColor(shape, i);\n        if (this.options.position === 'inner' && this.options.adjustColor && color !== 'black') {\n          style.stroke = null;\n        }\n        const formatter = this.options.formatter;\n        const content = formatter ? formatter(values[i]) : values[i];\n        const label = this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: pos.x,\n            y: pos.y,\n            text: content,\n            fill: color,\n            textAlign: textAlign[i],\n            textBaseline: 'middle',\n          }),\n          name: 'label',\n        });\n        labels.push(label);\n        this.doAnimation(label);\n      });\n      shape.set('labelShapes', labels);\n      this.adjustPosition(labels[0], labels[1], shape);\n    });\n    this.plot.canvas.draw();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  protected getShapeBbox(shape) {\n    const points = [];\n    each(shape.get('origin').points, (p) => {\n      points.push(this.coord.convertPoint(p));\n    });\n    const bbox = new BBox(\n      points[0].x,\n      points[1].y,\n      Math.abs(points[2].x - points[0].x),\n      Math.abs(points[0].y - points[1].y)\n    );\n    return bbox;\n  }\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      position: 'outer',\n      offsetX: DEFAULT_OFFSET,\n      offsetY: 0,\n      style: clone(labelStyle),\n      adjustColor: true,\n      adjustPosition: true,\n    };\n  }\n\n  private getPosition(shape) {\n    const bbox = this.getShapeBbox(shape);\n    const { minX, maxX, minY, height, width } = bbox;\n    const { offsetX, offsetY } = this.options;\n    const y = minY + height / 2 + offsetY;\n    let x1, x2;\n    if (this.options.position === 'outer') {\n      x1 = minX - offsetX;\n      x2 = maxX + offsetX;\n    } else {\n      x1 = minX + offsetX;\n      x2 = maxX - offsetX;\n    }\n    return [\n      { x: x1, y },\n      { x: x2, y },\n    ];\n  }\n\n  private getValue(shape) {\n    const { xField } = this.plot.options;\n    return shape.get('origin').data[xField];\n  }\n\n  private getTextAlign() {\n    if (this.options.position === 'outer') {\n      return ['right', 'left'];\n    } else {\n      return ['left', 'right'];\n    }\n  }\n\n  private getTextColor(shape, index) {\n    if (this.options.adjustColor && this.options.position === 'inner') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = index === 0 ? this.options.leftStyle.fill : this.options.rightStyle.fill;\n    return defaultColor;\n  }\n\n  private doAnimation(label) {\n    if (this.plot.animation && this.plot.animation === false) {\n      return;\n    }\n    label.attr('fillOpacity', 0);\n    label.attr('strokeOpacity', 0);\n    label.stopAnimate();\n    label.animate(\n      {\n        fillOpacity: 1,\n        strokeOpacity: 1,\n      },\n      800,\n      'easeLinear',\n      500\n    );\n  }\n\n  private adjustPosition(la, lb, shape) {\n    const origin = shape.get('origin');\n    const shapeMinX = origin.x[0];\n    const shapeMaxX = origin.x[1];\n    const shapeWidth = Math.abs(shapeMaxX - shapeMinX);\n    const panelRange = this.view.coordinateBBox;\n    const boxes = [la.getBBox(), lb.getBBox()];\n    let ax = la.attr('x');\n    let bx = lb.attr('x');\n    if (this.options.adjustPosition && this.options.position === 'inner') {\n      const totalLength = boxes[0].width + boxes[1].width;\n      const isOverlap = boxes[0].maxX - boxes[1].minX > 2;\n      const isTooShort = totalLength > shapeWidth;\n      if (isOverlap || isTooShort) {\n        ax = shapeMinX - this.options.offsetX;\n        la.attr('fill', this.options.leftStyle.fill);\n        la.attr('textAlign', 'right');\n        boxes[0] = la.getBBox();\n        bx = shapeMaxX + this.options.offsetX;\n        lb.attr('fill', this.options.rightStyle.fill);\n        lb.attr('textAlign', 'left');\n        boxes[1] = lb.getBBox();\n      }\n    }\n    if (boxes[0].minX < panelRange.minX) {\n      ax = panelRange.minX + DEFAULT_OFFSET;\n      la.attr('textAlign', 'left');\n    }\n    la.attr('x', ax);\n    lb.attr('x', bx);\n    this.plot.canvas.draw();\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'interval') as Geometry;\n  }\n}\n","import { registerAnimation, IShape } from '../../dependents';\nimport { clone, each } from '@antv/util';\n\n// 记录之前的状态\nlet shapeCache: IShape[];\n\nfunction clipInFromCenter(shape, animateCfg) {\n  const bbox = shape.getBBox();\n  const centerX = bbox.minX + bbox.width / 2;\n  shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: centerX,\n      y: bbox.minY,\n      width: 0,\n      height: bbox.height,\n    },\n  });\n  const cliper = shape.get('clipShape');\n  cliper.animate(\n    {\n      width: bbox.width,\n      x: bbox.minX,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    () => {\n      shape.setClip(null);\n    },\n    animateCfg.delay\n  );\n}\n\nclipInFromCenter.animationName = 'clipInFromCenter';\n\nexport function setShapeCache(shapes) {\n  shapeCache = shapes;\n}\n\nfunction updateFromCenter(shape, animateCfg) {\n  const fromPath = getShapeFromCache(shape).attr('path');\n  const toPath = clone(shape.attr('path'));\n  shape.attr('path', fromPath);\n  shape.animate(\n    {\n      path: toPath,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    animateCfg.callback,\n    100\n  );\n}\n\nfunction getShapeFromCache(shape) {\n  const { id } = shape;\n  let target;\n  each(shapeCache, (s) => {\n    if (s.id === id) {\n      target = s;\n    }\n  });\n  return target;\n}\n\nupdateFromCenter.animationName = 'updateFromCenter';\n\nregisterAnimation('clipInFromCenter', clipInFromCenter);\nregisterAnimation('updateFromCenter', updateFromCenter);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport AreaLayer, { AreaViewConfig } from './layer';\n\nexport interface AreaConfig extends AreaViewConfig, PlotConfig {}\n\nexport default class Area extends BasePlot<AreaConfig> {\n  public static getDefaultOptions: typeof AreaLayer.getDefaultOptions = AreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'area';\n    super.createLayers(layerProps);\n  }\n}\n","import responsiveAxis from './axis';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [{ name: 'responsiveAxis', method: responsiveAxis }];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport AreaLayer from '../layer';\n\nexport default function responsiveAxis(layer: AreaLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  const x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  const y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { registerTheme } from '../../theme';\n\nconst AREA_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst AREA_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst LINE_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_SELECTED_STYLE = (style) => {\n  const lineWidth = style.lineWidth || 1;\n  return { lineWidth: lineWidth + 2 };\n};\n\nconst POINT_ACTIVE_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1,\n  };\n};\n\nconst POINT_SELECTED_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 2,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 2,\n  };\n};\n\nconst POINT_DISABLED_STYLE = (style) => {\n  const opacity = style.opacity || style.fillOpacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('area', {\n  areaStyle: {\n    normal: {},\n    active: AREA_ACTIVE_STYLE,\n    disable: AREA_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: '#333333' },\n  },\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE,\n  },\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    disable: POINT_DISABLED_STYLE,\n    selected: POINT_SELECTED_STYLE,\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackedAreaLayer, { StackedAreaLayerConfig } from './layer';\n\nexport interface StackedAreaConfig extends StackedAreaLayerConfig, PlotConfig {}\n\nexport default class StackedArea extends BasePlot<StackedAreaConfig> {\n  public static getDefaultOptions: typeof StackedAreaLayer.getDefaultOptions = StackedAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedArea';\n    super.createLayers(layerProps);\n  }\n}\n","import AreaLineLabel from './label/line-label';\nimport AreaLabel from './label/area-label';\n\nconst ComponentsInfo = {\n  lineLabel: { Ctr: AreaLineLabel },\n  areaLabel: { Ctr: AreaLabel },\n};\n\nexport function getPlotComponents(plot, type, cfg) {\n  if (plot.options[type] && plot.options[type].visible) {\n    const componentInfo = ComponentsInfo[type];\n    const component = new componentInfo.Ctr(cfg);\n    if (componentInfo.padding) {\n      plot.paddingController.registerPadding(component, componentInfo.padding);\n    }\n    return component;\n  }\n}\n","import { reduce, size } from '@antv/util';\nimport LineLabel from '../../../line/component/label/line-label';\n\n/**\n * 复用扎线图的 label，并修改取值方式\n */\nexport default class AreaLineLabel extends LineLabel {\n  protected getShapeInfo(shape) {\n    const originPoints = shape.get('origin').points;\n    const lastPoint = originPoints[originPoints.length - 1];\n    const color = shape.attr('stroke');\n    const { stackField } = this.plot.options;\n    const name = shape.get('origin').data[0][stackField];\n\n    const y =\n      reduce(\n        lastPoint.y,\n        (r: number, a: number): number => {\n          return r + a;\n        },\n        0\n      ) / size(lastPoint.y);\n\n    return { x: lastPoint.x, y, color, name };\n  }\n}\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup, Geometry } from '../../../../dependents';\n\nconst DEFAULT_SIZE = 12;\nconst TOLERANCE = 0.01;\nconst MAX_ITERATION = 100;\nconst MIN_HEIGHT = 12;\n\nfunction getRange(points) {\n  let maxHeight = -Infinity;\n  let min = Infinity;\n  let max = -Infinity;\n  each(points, (p) => {\n    min = Math.min(p.x, min);\n    max = Math.max(p.x, max);\n    const height = Math.abs(p.y[0] - p.y[1]);\n    maxHeight = Math.max(maxHeight, height);\n  });\n  return {\n    xRange: [min, max],\n    maxHeight,\n  };\n}\n\nfunction interpolateY(x, points, index) {\n  let leftPoint = points[0];\n  let rightPoint = points[points.length - 1];\n  each(points, (p) => {\n    if (p.x === x) {\n      return p.y[index];\n    }\n    if (p.x < x && p.x > leftPoint.x) {\n      leftPoint = p;\n    }\n    if (p.x > x && p.x < rightPoint.x) {\n      rightPoint = p;\n    }\n  });\n  const t = (x - leftPoint.x) / (rightPoint.x - leftPoint.x);\n  return leftPoint.y[index] * (1 - t) + rightPoint.y[index] * t;\n}\n\nfunction getXIndex(data, x) {\n  // tslint:disable-next-line: prefer-for-of\n  let i;\n  for (i = 0; i < data.length; i++) {\n    const d = data[i];\n    if (d.x === x || d.x > x) {\n      break;\n    }\n  }\n  return i;\n}\n\nexport interface AreaLabelConfig {\n  visible: boolean;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  autoScale?: boolean;\n}\n\nexport interface IAreaLabel extends AreaLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class AreaLabel {\n  public options: AreaLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  private container: IGroup;\n  private scaleFactor: number[] = [];\n\n  constructor(cfg: IAreaLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const stackField = this.plot.options.stackField;\n    const groupedPoints = this.getGeometry().dataArray;\n    const labelPoints = [];\n    each(groupedPoints, (pointArray, name) => {\n      const labelPoint = this.drawLabel(pointArray, name);\n      if (labelPoint) {\n        labelPoints.push(deepMix({}, pointArray[0], labelPoint));\n        this.scaleFactor.push(labelPoint.scaleFactor);\n      }\n    });\n    const labelShapes = [];\n    each(labelPoints, (p, index) => {\n      const { style, offsetX, offsetY } = this.options;\n      const labelSize = this.getFontSize(index);\n      const formatter = this.options.formatter;\n      const content = formatter ? formatter(p._origin[stackField]) : p._origin[stackField];\n      const text = this.container.addShape('text', {\n        attrs: deepMix({}, style, {\n          x: p.x + offsetX,\n          y: p.y + offsetY,\n          text: content,\n          fill: p.color,\n          fontSize: labelSize,\n          textAlign: 'center',\n          textBaseline: 'top',\n        }),\n        name: 'label',\n      });\n      labelShapes.push(text);\n    });\n    this.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = clone(theme.label.style);\n    labelStyle.stroke = null;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      style: labelStyle,\n      autoScale: true,\n    };\n  }\n\n  protected drawLabel(points, name) {\n    const { xRange, maxHeight } = getRange(points);\n    // 根据area宽度在x方向各点间做插值\n    const resolution = xRange[1] - xRange[0];\n    const interpolatedPoints = this.getInterpolatedPoints(xRange[0], resolution, points);\n    // 获取label的bbox\n    const bbox = this.getLabelBbox(name);\n    const fitOption = {\n      xRange,\n      aspect: bbox.width / bbox.height,\n      data: interpolatedPoints,\n      justTest: true,\n    };\n    const height = this.bisection(MIN_HEIGHT, maxHeight, this.testFit, fitOption, TOLERANCE, MAX_ITERATION);\n    if (height === null) {\n      return;\n    }\n    fitOption.justTest = false;\n    const fit: any = this.testFit(fitOption);\n    fit.x = fit.x;\n    fit.y = fit.y0 + (fit.y1 - fit.y0) / 2;\n    fit.scaleFactor = (height / bbox.height) * 0.2;\n    return fit;\n  }\n\n  private getInterpolatedPoints(minX, resolution, points) {\n    const interpolatedPoints = [];\n    const step = 2;\n    for (let i = minX; i < resolution; i += step) {\n      const y0 = interpolateY(i, points, 0);\n      const y1 = interpolateY(i, points, 1);\n      interpolatedPoints.push({\n        x: i,\n        y: [y0, y1],\n      });\n    }\n    return interpolatedPoints;\n  }\n\n  private bisection(min, max, test, testOption, tolerance, maxIteration) {\n    for (let i = 0; i < maxIteration; i++) {\n      const middle = (min + max) / 2;\n      const options = testOption;\n      options.height = middle;\n      options.width = middle * options.aspect;\n      const passesTest = test(options);\n      const withinTolerance = (max - min) / 2 < tolerance;\n      if (passesTest && withinTolerance) {\n        return middle;\n      }\n      if (passesTest) {\n        min = middle;\n      } else {\n        max = middle;\n      }\n    }\n    return null;\n  }\n\n  private testFit(option) {\n    const { xRange, width, height, data, justTest } = option;\n    for (let i = 0; i < data.length; i++) {\n      const d = data[i];\n      const x0 = d.x;\n      const x1 = x0 + width;\n      if (x1 > xRange[1]) {\n        break;\n      }\n      const x1_index = getXIndex(data, x1);\n      let ceiling = -Infinity;\n      let ceilingFloor = null; // 保存ceiling时对应的bottom位置，ceil和floor不一定是一对坐标\n      let floor = Infinity;\n      for (let j = i; j < x1_index; j++) {\n        const top = data[j].y[1];\n        const bottom = data[j].y[0];\n        if (bottom < floor) {\n          floor = bottom;\n        }\n        if (top > ceiling) {\n          ceiling = top;\n          ceilingFloor = bottom;\n        }\n        if (floor - ceiling < height) {\n          break;\n        }\n      }\n      if (floor - ceiling >= height) {\n        if (justTest) {\n          return true;\n        }\n        return {\n          x: x0,\n          y0: ceiling,\n          y1: ceilingFloor,\n          width,\n          height,\n        };\n      }\n    }\n    return false;\n  }\n\n  private getLabelBbox(text) {\n    const labelStyle = clone(this.plot.theme.label.textStyle);\n    labelStyle.fontSize = DEFAULT_SIZE;\n    const tShape = this.container.addShape('text', {\n      attrs: {\n        text,\n        x: 0,\n        y: 0,\n        ...labelStyle,\n      },\n    });\n    const bbox = tShape.getBBox();\n    tShape.remove();\n    return bbox;\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'area') as Geometry;\n  }\n\n  protected getFontSize(index) {\n    if (this.options.autoScale) {\n      const scaleFactor = this.scaleFactor[index];\n      return DEFAULT_SIZE * scaleFactor;\n    }\n    return DEFAULT_SIZE;\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PercentStackedAreaLayer, { PercentStackedAreaLayerConfig } from './layer';\n\nexport interface PercentStackedAreaConfig extends PercentStackedAreaLayerConfig, PlotConfig {}\n\nexport default class PercentStackedArea<T extends PercentStackedAreaConfig = PercentStackedAreaConfig> extends BasePlot<\n  T\n> {\n  public static getDefaultOptions: typeof PercentStackedAreaLayer.getDefaultOptions =\n    PercentStackedAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedArea';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport ColumnLayer, { ColumnViewConfig } from './layer';\n\nexport interface ColumnConfig extends ColumnViewConfig, PlotConfig {}\n\nexport default class Column extends BasePlot<ColumnConfig> {\n  public static getDefaultOptions: typeof ColumnLayer.getDefaultOptions = ColumnLayer.getDefaultOptions;\n\n  public createLayers(props: ColumnConfig) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'column';\n    super.createLayers(layerProps);\n  }\n}\n","import responsiveAxis from './axis';\nimport responsiveLabel from './label';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [\n  { name: 'responsiveAxis', method: responsiveAxis },\n  { name: 'responsiveLabel', method: responsiveLabel },\n];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport ColumnLayer from '../layer';\n\nexport default function responsiveAxis(layer: ColumnLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  const x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  const y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import ApplyResponsiveLabel from '../../../util/responsive/apply/label';\nimport ColumnLayer from '../layer';\n\nclass ApplyResponsiveColumnLabel extends ApplyResponsiveLabel {\n  protected getType() {\n    if (this.plot.column.label) {\n      if (!this.plot.column.label.position || this.plot.column.label.position === 'top') {\n        return 'top';\n      }\n    }\n    return 'inner';\n  }\n}\n\nexport default function responsivePointLabel(layer: ColumnLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const applyResponsiveColumnLabel = new ApplyResponsiveColumnLabel({\n    plot: layer,\n    responsiveTheme,\n  });\n}\n","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n\n/** 组装theme */\nconst columnTheme = {\n  label: {\n    top: {\n      constraints: [{ name: 'elementCollision' }],\n      rules: {\n        elementCollision: [\n          { name: 'nodeJitterUpward' },\n          {\n            name: 'nodesResamplingByState',\n            option: {\n              keep: ['min', 'max', 'median'],\n            },\n          },\n          {\n            name: 'textHide',\n          },\n        ],\n      },\n    },\n  },\n};\n\nregisterResponsiveTheme('column', columnTheme);\n","import { registerTheme } from '../../theme';\n\nconst COLUMN_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst COLUMN_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5, fillOpacity: opacity * 0.5 };\n};\n\nregisterTheme('column', {\n  columnStyle: {\n    normal: {},\n    active: COLUMN_ACTIVE_STYLE,\n    disable: COLUMN_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GroupedColumnLayer, { GroupedColumnViewConfig } from './layer';\n\nexport interface GroupedColumnConfig extends GroupedColumnViewConfig, PlotConfig {}\n\nexport default class GroupedColumn extends BasePlot<GroupedColumnConfig> {\n  public static getDefaultOptions: typeof GroupedColumnLayer.getDefaultOptions = GroupedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackedColumnLayer, { StackedColumnViewConfig } from './layer';\n\nexport interface StackedColumnConfig extends StackedColumnViewConfig, PlotConfig {}\n\nexport default class StackedColumn extends BasePlot<StackedColumnConfig> {\n  public static getDefaultOptions: typeof StackedColumnLayer.getDefaultOptions = StackedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedColumn';\n    super.createLayers(layerProps);\n  }\n}\n","/**\n * 区域连接组件，用于堆叠柱状图和堆叠条形图\n */\nimport { each, assign, mix, find } from '@antv/util';\nimport { IGroup, IShape, View } from '../dependents';\nimport { compare } from '../base/controller/state';\n\nfunction parsePoints(shape, coord) {\n  const parsedPoints = [];\n  const points = shape.get('origin').points;\n  each(points, (p) => {\n    parsedPoints.push(coord.convertPoint(p));\n  });\n  return parsedPoints;\n}\n\nfunction getDefaultStyle() {\n  return {\n    areaStyle: {\n      opacity: 0.2,\n    },\n    lineStyle: {\n      lineWidth: 2,\n      opacity: 0.1,\n    },\n  };\n}\n\nexport default class ConnectedArea {\n  private view: View;\n  private container: IGroup;\n  private field: string; // 堆叠字段\n  private areas: IShape[] = [];\n  private lines: IShape[] = [];\n  private areaStyle: any;\n  private _areaStyle: any = {};\n  private lineStyle: any;\n  private _lineStyle: any = {};\n  private triggerOn: string;\n  private animation: boolean;\n\n  constructor(cfg) {\n    assign(this, cfg);\n    this._init();\n  }\n\n  public draw() {\n    const groupedShapes = this._getGroupedShapes();\n    each(groupedShapes, (shapes, name) => {\n      if (shapes.length > 0) {\n        this._drawConnection(shapes, name);\n      }\n    });\n    if (this.triggerOn) {\n      this._addInteraction();\n    } else if (this.animation) {\n      // 如果定义了triggerOn的方式，则组件是响应交互的，初始化为不可见状态，因此无需动画\n      this._initialAnimation();\n    }\n  }\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n    this.areas = [];\n    this.lines = [];\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  public setState(state, condition) {\n    if (state === 'active') {\n      this._onActive(condition);\n    }\n    if (state === 'disabled') {\n      this._onDisabled(condition);\n    }\n    if (state === 'selected') {\n      this._onSelected(condition);\n    }\n  }\n\n  private _init() {\n    const layer = this.view.backgroundGroup;\n    this.container = layer.addGroup();\n    this.draw();\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n  }\n\n  private _getGroupedShapes() {\n    // 根据堆叠字段对shape进行分组\n    const { values } = this.view.getScaleByField(this.field);\n    const geometry = this.view.geometries[0];\n    const shapes = geometry.getShapes();\n    // 创建分组\n    const groups = {};\n    each(values, (v) => {\n      groups[v] = [];\n    });\n    // 执行分组\n    each(shapes, (shape) => {\n      const origin = shape.get('origin').data;\n      const key = origin[this.field];\n      groups[key].push(shape);\n    });\n    return groups;\n  }\n\n  private _drawConnection(shapes, name) {\n    // tslint:disable-next-line: prefer-for-of\n    const originColor = shapes[0].attr('fill');\n    this._areaStyle[name] = this._getShapeStyle(originColor, 'area');\n    this._lineStyle[name] = this._getShapeStyle(originColor, 'line');\n    const coord = this.view.geometries[0].coordinate;\n    for (let i = 0; i < shapes.length - 1; i++) {\n      const current = parsePoints(shapes[i], coord);\n      const next = parsePoints(shapes[i + 1], coord);\n      const areaStyle = mix({}, this._areaStyle[name]);\n      const lineStyle = mix({}, this._lineStyle[name]);\n      if (this.triggerOn) {\n        areaStyle.opacity = 0;\n        lineStyle.opacity = 0;\n      }\n      const area = this.container.addShape('path', {\n        attrs: mix({} as any, areaStyle, {\n          path: [\n            ['M', current[2].x, current[2].y],\n            ['L', next[1].x, next[1].y],\n            ['L', next[0].x, next[0].y],\n            ['L', current[3].x, current[3].y],\n          ],\n        }),\n        name: 'connectedArea',\n      });\n      const line = this.container.addShape('path', {\n        attrs: mix({} as any, lineStyle, {\n          path: [\n            ['M', current[2].x, current[2].y],\n            ['L', next[1].x, next[1].y],\n          ],\n          // stroke: shapes[i].attr('fill'),\n        }),\n        name: 'connectedArea',\n      });\n      // 在辅助图形上记录数据，用以交互和响应状态量\n      const originData = shapes[i].get('origin').data;\n      area.set('data', originData);\n      line.set('data', originData);\n      this.areas.push(area);\n      this.lines.push(line);\n    }\n  }\n\n  private _getShapeStyle(originColor, shapeType) {\n    const styleName = `${shapeType}Style`;\n    // 如果用户自己指定了样式，则不采用默认颜色映射\n    if (this[styleName]) {\n      return this[styleName];\n    }\n    const defaultStyle = getDefaultStyle()[styleName];\n    let mappedStyle: any = { fill: originColor };\n    if (shapeType === 'line') {\n      mappedStyle = { stroke: originColor };\n    }\n\n    return mix(defaultStyle, mappedStyle);\n  }\n\n  private _addInteraction() {\n    const eventName = this.triggerOn;\n    this.view.on(`interval:${eventName}`, (e) => {\n      const origin = e.target.get('origin').data[this.field];\n      this.setState('active', {\n        name: this.field,\n        exp: origin,\n      });\n      this.setState('disabled', {\n        name: this.field,\n        exp: (d) => {\n          return d !== origin;\n        },\n      });\n      this.view.canvas.draw();\n    });\n    // 当鼠标移动到其他区域时取消显示\n    this.view.on('mousemove', (e) => {\n      if (e.gEvent.target.get('name') !== 'interval') {\n        this.setState('disabled', {\n          name: this.field,\n          exp: () => {\n            return true;\n          },\n        });\n      }\n    });\n  }\n\n  private _initialAnimation() {\n    // clipIn动画\n    const { x, y, width, height } = this.view.coordinateBBox;\n    this.container.setClip({\n      type: 'rect',\n      attrs: {\n        x,\n        y,\n        width: 0,\n        height,\n      },\n    });\n    this.container.set('animating', true);\n    this.container.getClip().animate(\n      {\n        width,\n      },\n      600,\n      'easeQuadOut',\n      () => {},\n      400\n    );\n  }\n\n  private _onActive(condition) {\n    each(this.areas, (area) => {\n      const shapeData = area.get('data');\n      const styleField = shapeData[this.field];\n      if (compare(shapeData, condition)) {\n        const opacity = this._areaStyle[styleField].opacity || 1;\n        // area.attr('opacity',this._areaStyle[styleField].opacity || 1);\n        area.stopAnimate();\n        area.animate({ opacity }, 400, 'easeQuadOut');\n      }\n    });\n    each(this.lines, (line) => {\n      const shapeData = line.get('data');\n      const styleField = shapeData[this.field];\n      if (compare(shapeData, condition)) {\n        const opacity = this._lineStyle[styleField].opacity || 1;\n        // line.attr('opacity',this._lineStyle[styleField].opacity || 1);\n        line.stopAnimate();\n        line.animate({ opacity }, 400, 'easeQuadOut');\n      }\n    });\n  }\n\n  private _onDisabled(condition) {\n    each(this.areas, (area) => {\n      const shapeData = area.get('data');\n      if (compare(shapeData, condition)) {\n        // area.attr('opacity',0);\n        area.stopAnimate();\n        area.animate(\n          {\n            opacity: 0,\n          },\n          400,\n          'easeQuadOut'\n        );\n      }\n    });\n    each(this.lines, (line) => {\n      const shapeData = line.get('data');\n      if (compare(shapeData, condition)) {\n        // line.attr('opacity',0);\n        line.stopAnimate();\n        line.animate(\n          {\n            opacity: 0,\n          },\n          400,\n          'easeQuadOut'\n        );\n      }\n    });\n  }\n\n  private _onSelected(condition) {\n    this._onActive(condition);\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'interval');\n  }\n}\n","import { clone } from '@antv/util';\nimport ColumnLabel from '../../column/component/label';\n\nexport default class StackColumnLabel extends ColumnLabel {\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      style: clone(labelStyle),\n      adjustPosition: true,\n    };\n  }\n\n  protected adjustLabel(label, shape) {\n    if (this.options.adjustPosition) {\n      const labelRange = label.getBBox();\n      const shapeRange = this.getShapeBbox(shape);\n      if (shapeRange.height <= labelRange.height) {\n        label.attr('text', '');\n      }\n    }\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RangeColumnLayer, { RangeColumnViewConfig } from './layer';\n\nexport interface RangeColumnConfig extends RangeColumnViewConfig, PlotConfig {}\n\nexport default class RangeColumn extends BasePlot<RangeColumnConfig> {\n  public static getDefaultOptions: typeof RangeColumnLayer.getDefaultOptions = RangeColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'rangeColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport BaseColumnLayer, { ColumnViewConfig } from '../column/layer';\nimport RangeColumnLabel, { RangeColumnLabelConfig } from './component/label';\nimport { setShapeCache } from './animation';\n\nexport interface RangeColumnViewConfig extends ColumnViewConfig {\n  label: RangeColumnLabelConfig;\n}\n\nexport interface RangeColumnLayerConfig extends RangeColumnViewConfig, LayerConfig {}\n\nexport default class RangeColumnLayer extends BaseColumnLayer<RangeColumnLayerConfig> {\n  public static getDefaultOptions(): Partial<RangeColumnViewConfig> {\n    return deepMix(\n      super.getDefaultOptions(),\n      {\n        label: {\n          visible: true,\n          position: 'outer',\n        },\n      },\n      {}\n    );\n  }\n\n  public type: string = 'rangeColumn';\n\n  public afterRender() {\n    this.renderLabel();\n    // 为更新动画缓存shape\n    const shapeCaches = [];\n    const geoms = this.view.geometries;\n    each(geoms, (geom) => {\n      const elements = geom.elements;\n      each(elements, (ele) => {\n        shapeCaches.push(ele.shape);\n      });\n    });\n    setShapeCache(shapeCaches);\n    super.afterRender();\n  }\n\n  protected extractLabel() {}\n\n  protected animation() {\n    super.animation();\n    this.column.animate = {\n      appear: {\n        animation: 'clipInFromCenterVertical',\n        duration: 600,\n      },\n      update: {\n        animation: 'updateFromCenterVertical',\n        duration: 600,\n      },\n    };\n  }\n\n  protected renderLabel() {\n    if (this.options.label && this.options.label.visible) {\n      const label = new RangeColumnLabel({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n}\n\nregisterPlotType('rangeColumn', RangeColumnLayer);\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup, Geometry } from '../../../dependents';\nimport { rgb2arr } from '../../../util/color';\nimport BBox from '../../../util/bbox';\n\nconst DEFAULT_OFFSET = 8;\n\nfunction mappingColor(band, gray) {\n  let reflect;\n  each(band, (b) => {\n    const map = b;\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\nexport interface RangeColumnLabelConfig {\n  visible: boolean;\n  position?: 'outer' | 'inner';\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  topStyle?: any;\n  bottomStyle?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IRangeColumnLabel extends RangeColumnLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class RangeColumnLabel {\n  public options: RangeColumnLabelConfig;\n  public destroyed: boolean = false;\n  private plot: any;\n  private view: View;\n  private coord: any;\n  private container: IGroup;\n\n  constructor(cfg: IRangeColumnLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    if (!this.options.topStyle) {\n      this.options.topStyle = this.options.style;\n    }\n    if (!this.options.bottomStyle) {\n      this.options.bottomStyle = this.options.style;\n    }\n    this.init();\n  }\n\n  public init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const { coordinate, elements } = this.getGeometry();\n    this.coord = coordinate;\n    each(elements, (ele) => {\n      const shape = ele.shape;\n      const positions = this.getPosition(shape);\n      const values = this.getValue(shape);\n      const textBaeline = this.getTextBaseline();\n      const labels = [];\n      each(positions, (pos, i) => {\n        const style = i === 1 ? this.options.topStyle : this.options.bottomStyle;\n        const color = this.getTextColor(shape, i);\n        if (this.options.position === 'inner' && this.options.adjustColor && color !== 'black') {\n          style.stroke = null;\n        }\n        const formatter = this.options.formatter;\n        const content = formatter ? formatter(values[i]) : values[i];\n        const label = this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: pos.x,\n            y: pos.y,\n            text: content,\n            fill: color,\n            textAlign: 'center',\n            textBaseline: textBaeline[i],\n          }),\n          name: 'label',\n        });\n        labels.push(label);\n        this.doAnimation(label);\n      });\n      shape.set('labelShapes', labels);\n      this.adjustPosition(labels[0], labels[1], shape);\n    });\n    this.plot.canvas.draw();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  protected getShapeBbox(shape) {\n    const points = [];\n    each(shape.get('origin').points, (p) => {\n      points.push(this.coord.convertPoint(p));\n    });\n    const bbox = new BBox(\n      points[0].x,\n      points[1].y,\n      Math.abs(points[2].x - points[0].x),\n      Math.abs(points[0].y - points[1].y)\n    );\n    return bbox;\n  }\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      position: 'outer',\n      offsetX: 0,\n      offsetY: DEFAULT_OFFSET,\n      style: clone(labelStyle),\n      adjustColor: true,\n      adjustPosition: true,\n    };\n  }\n\n  private getPosition(shape) {\n    const bbox = this.getShapeBbox(shape);\n    const { minX, maxX, minY, maxY, height, width } = bbox;\n    const { offsetX, offsetY } = this.options;\n    const x = minX + width / 2;\n    let y1, y2;\n    if (this.options.position === 'outer') {\n      y1 = minY - offsetY;\n      y2 = maxY + offsetY;\n    } else {\n      y1 = minY + offsetY;\n      y2 = maxY - offsetY;\n    }\n    return [\n      { x: x, y: y2 },\n      { x: x, y: y1 },\n    ];\n  }\n\n  private getValue(shape) {\n    const { yField } = this.plot.options;\n    return shape.get('origin').data[yField];\n  }\n\n  private getTextBaseline() {\n    if (this.options.position === 'outer') {\n      return ['top', 'bottom'];\n    } else {\n      return ['bottom', 'top'];\n    }\n  }\n\n  private getTextColor(shape, index) {\n    if (this.options.adjustColor && this.options.position === 'inner') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = index === 1 ? this.options.topStyle.fill : this.options.bottomStyle.fill;\n    return defaultColor;\n  }\n\n  private doAnimation(label) {\n    if (this.plot.animation && this.plot.animation === false) {\n      return;\n    }\n    label.attr('fillOpacity', 0);\n    label.attr('strokeOpacity', 0);\n    label.stopAnimate();\n    label.animate(\n      {\n        fillOpacity: 1,\n        strokeOpacity: 1,\n      },\n      800,\n      'easeLinear',\n      500\n    );\n  }\n\n  private adjustPosition(la, lb, shape) {\n    const origin = shape.get('origin');\n    const shapeMinY = origin.y[1];\n    const shapeMaxY = origin.y[0];\n    const bbox = shape.getBBox();\n    const { minX, maxX, minY, height, width } = bbox;\n    const shapeHeight = height;\n    const panelRange = this.view.coordinateBBox;\n    const boxes = [la.getBBox(), lb.getBBox()];\n    let ay = la.attr('y');\n    let by = lb.attr('y');\n    if (this.options.adjustPosition && this.options.position === 'inner') {\n      const totalLength = boxes[0].height + boxes[1].height;\n      const isOverlap = boxes[1].maxY - boxes[0].minY > 2;\n      const isTooShort = totalLength > shapeHeight;\n      if (isOverlap || isTooShort) {\n        by = shapeMinY - this.options.offsetY;\n        lb.attr('fill', this.options.topStyle.fill);\n        lb.attr('textBaseline', 'bottom');\n        ay = shapeMaxY + this.options.offsetY;\n        la.attr('fill', this.options.bottomStyle.fill);\n        la.attr('textBaseline', 'top');\n        boxes[0] = la.getBBox();\n        boxes[1] = lb.getBBox();\n      }\n    }\n    // fixme: textBaseline 取不准bbox\n    if (boxes[0].maxY > panelRange.maxY - DEFAULT_OFFSET) {\n      ay = panelRange.maxY - DEFAULT_OFFSET / 2;\n      la.attr('textBaseline', 'bottom');\n    }\n    la.attr('y', ay);\n    lb.attr('y', by);\n    this.plot.canvas.draw();\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'interval') as Geometry;\n  }\n}\n","import { IShape, registerAnimation } from '../../dependents';\nimport { clone, each } from '@antv/util';\n\n// 记录之前的状态\nlet shapeCache: IShape[];\n\nfunction clipInFromCenterVertical(shape, animateCfg) {\n  const bbox = shape.getBBox();\n  const centerY = bbox.minY + bbox.height / 2;\n  shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: bbox.minX,\n      y: centerY,\n      width: bbox.width,\n      height: 0,\n    },\n  });\n  const cliper = shape.get('clipShape');\n  cliper.animate(\n    {\n      height: bbox.height,\n      y: bbox.minY,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    () => {\n      shape.setClip(null);\n    },\n    animateCfg.delay\n  );\n}\n\nclipInFromCenterVertical.animationName = 'clipInFromCenterVertical';\n\nexport function setShapeCache(shapes) {\n  shapeCache = shapes;\n}\n\nfunction updateFromCenterVertical(shape, animateCfg) {\n  const fromPath = getShapeFromCache(shape).attr('path');\n  const toPath = clone(shape.attr('path'));\n  shape.attr('path', fromPath);\n  shape.animate(\n    {\n      path: toPath,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    animateCfg.callback,\n    100\n  );\n}\n\nfunction getShapeFromCache(shape) {\n  const { id } = shape;\n  let target;\n  each(shapeCache, (s) => {\n    if (s.id === id) {\n      target = s;\n    }\n  });\n  return target;\n}\n\nupdateFromCenterVertical.animationName = 'updateFromCenterVertical';\n\nregisterAnimation('clipInFromCenterVertical', clipInFromCenterVertical);\nregisterAnimation('updateFromCenterVertical', updateFromCenterVertical);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PercentStackedColumnLayer, { PercentStackedColumnLayerConfig } from './layer';\n\nexport interface PercentStackedColumnConfig extends PercentStackedColumnLayerConfig, PlotConfig {}\n\nexport default class PercentStackedColumn<\n  T extends PercentStackedColumnConfig = PercentStackedColumnConfig\n> extends BasePlot<T> {\n  public static getDefaultOptions: typeof PercentStackedColumnLayer.getDefaultOptions =\n    PercentStackedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PieLayer, { PieViewConfig } from './layer';\n\nexport interface PieConfig extends PieViewConfig, PlotConfig {}\n\nexport default class Pie extends BasePlot<PieConfig, PieLayer> {\n  public static getDefaultOptions: typeof PieLayer.getDefaultOptions = PieLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'pie';\n    super.createLayers(layerProps);\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Pie: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { memoize, isString, values, toString } from '@antv/util';\nconst canvas = document.createElement('canvas');\nconst ctx = canvas.getContext('2d');\n\ninterface Font {\n  fontFamily?: string;\n  fontWeight?: string;\n  fontStyle?: string;\n  fontVariant?: string;\n  fontSize?: number;\n}\n\n/**\n * 计算文本在画布中的宽度\n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    ctx.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font) => (font ? [text, ...values(font)].join('') : text)\n);\n\n/**\n * 获取文本的 ... 文本。\n * 算法（减少每次 measureText 的长度，measureText 的性能跟字符串时间相关）：\n * 1. 先通过 STEP 逐步计算，找到最后一个小于 maxWidth 的字符串\n * 2. 然后对最后这个字符串二分计算\n * @param text 需要计算的文本, 由于历史原因 除了支持string，还支持空值,number和数组等\n * @param maxWidth\n * @param font\n * TODO 后续更新省略算法\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font: Font, priority?: string[]) => {\n  const STEP = 16; // 每次 16，调参工程师\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // 最终的分段字符串\n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  // 首先通过 step 计算，找出最大的未超出长度的\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, STEP);\n\n    // 计算宽度\n    currentWidth = measureTextWidth(currentText, font);\n\n    // 超出剩余宽度，则停止\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // 没有超出，则计算剩余宽度\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // 字符串整体没有超出\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  // 最下的最后一个 STEP，使用 1 递增（用二分效果更高）\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, 1);\n\n    // 计算宽度\n    currentWidth = measureTextWidth(currentText, font);\n\n    // 超出剩余宽度，则停止\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // 没有超出，则计算剩余宽度\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n","import { IShape } from '../../../../dependents';\nimport { each, clone } from '@antv/util';\nimport PieBaseLabel, { LabelItem, PieLabelConfig } from './base-label';\nimport { getOverlapInfo } from './utils';\nimport { distBetweenPoints } from '../../../../util/math';\n\nexport function percent2Number(value: string): number {\n  const percentage = Number(value.endsWith('%') ? value.slice(0, -1) : value);\n  return percentage / 100;\n}\n\nexport default class PieInnerLabel extends PieBaseLabel {\n  /** @override 不能大于0 */\n  protected adjustOption(options: PieLabelConfig) {\n    super.adjustOption(options);\n    if (options.offset > 0) {\n      options.offset = 0;\n    }\n  }\n\n  protected adjustItem(item: LabelItem) {\n    item.textAlign = 'middle';\n  }\n\n  /** @override 不绘制拉线 */\n  protected drawLines() {\n    return;\n  }\n\n  protected layout(labels: IShape[], shapeInfos: LabelItem[]) {\n    labels.forEach((label, idx) => {\n      if (idx > 0) {\n        each(labels.slice(0, idx), (prevLabel) => {\n          this.resolveCollision(label, prevLabel, shapeInfos[idx]);\n        });\n      }\n    });\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      offset: '-30%',\n      style: {\n        ...labelStyle,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      },\n    };\n  }\n\n  /** label 碰撞调整 */\n  protected resolveCollision(label: IShape, prev: IShape, shapeInfo: LabelItem): void {\n    const { center } = this.getCoordinate();\n    const angle = shapeInfo.angle;\n    const box = label.getBBox();\n    const prevBBox = prev.getBBox();\n    const pos = { x: (box.minX + box.maxX) / 2, y: (box.minY + box.maxY) / 2 };\n    // 两种调整方案\n    /** 先偏移 x 方向 -> 再计算 y 位置 */\n    const pos1 = clone(pos);\n    /** 先偏移 y 方向 -> 再计算 x 位置 */\n    const pos2 = clone(pos);\n    // check overlap\n    if (prev.get('id') !== label.get('id')) {\n      const { xOverlap, yOverlap } = getOverlapInfo(box, prevBBox);\n      if (xOverlap) {\n        pos1.x = pos.x + xOverlap;\n        pos1.y = pos.y + Math.tan(angle) * xOverlap;\n      }\n      if (yOverlap) {\n        // fix issue-460\n        let yMover = yOverlap;\n        if (pos.y < center.y) {\n          // 上方label优先往上偏移\n          yMover = yMover < 0 ? yMover : prevBBox.minY - box.maxY;\n        } else {\n          // 下方label优先往下偏移\n          yMover = yMover > 0 ? yMover : prevBBox.maxY - box.minY;\n        }\n        pos2.y = pos.y + yMover;\n        pos2.x = pos.x + yMover / Math.tan(angle);\n      }\n\n      const dist1 = distBetweenPoints(pos, pos1);\n      const dist2 = distBetweenPoints(pos, pos2);\n      const actualPos = dist1 < dist2 ? pos1 : pos2;\n      // 取偏移距离最小的\n      label.attr('x', actualPos.x);\n      label.attr('y', actualPos.y);\n    }\n  }\n}\n","import { IShape, BBox } from '../../../../dependents';\nimport { filter, head, last, map } from '@antv/util';\nimport PieBaseLabel, { LabelItem, PieLabelConfig } from './base-label';\nimport { getEndPoint, getOverlapArea, near } from './utils';\n\n// 默认label和element的偏移 16px\nexport const DEFAULT_OFFSET = 16;\n\nexport default class PieOuterLabel extends PieBaseLabel {\n  /** @override 不能大于0 */\n  protected adjustOption(options: PieLabelConfig) {\n    super.adjustOption(options);\n    if (options.offset < 0) {\n      options.offset = 0;\n    }\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      offset: 12,\n      style: {\n        ...labelStyle,\n        textBaseline: 'middle',\n      },\n    };\n  }\n\n  /** label 碰撞调整 */\n  protected layout(labels: IShape[], items: LabelItem[], panel: BBox) {\n    const { center } = this.getCoordinate();\n    const leftHalf = filter(labels, (l) => l.attr('x') <= center.x);\n    const rightHalf = filter(labels, (l) => l.attr('x') > center.x);\n    [rightHalf, leftHalf].forEach((half, isLeft) => {\n      this._antiCollision(half, !isLeft, panel);\n    });\n    this.adjustOverlap(labels, panel);\n  }\n\n  /** 处理标签遮挡问题 */\n  protected adjustOverlap(labels: IShape[], panel: BBox): void {\n    if (this.options.allowOverlap) {\n      return;\n    }\n    // clearOverlap;\n    for (let i = 1; i < labels.length; i++) {\n      const label = labels[i];\n      let overlapArea = 0;\n      for (let j = i - 1; j >= 0; j--) {\n        const prev = labels[j];\n        // fix: start draw point.x is error when textAlign is right\n        const prevBox = prev.getBBox();\n        const currBox = label.getBBox();\n        // if the previous one is invisible, skip\n        if (prev.get('parent').get('visible')) {\n          overlapArea = getOverlapArea(prevBox, currBox);\n          if (!near(overlapArea, 0)) {\n            label.get('parent').set('visible', false);\n            break;\n          }\n        }\n      }\n    }\n    labels.forEach((label) => this.checkInPanel(label, panel));\n  }\n\n  /**\n   * 超出panel边界的标签默认隐藏\n   */\n  protected checkInPanel(label: IShape, panel: BBox): void {\n    const box = label.getBBox();\n    //  横向溢出 暂不隐藏\n    if (!(panel.y <= box.y && panel.y + panel.height >= box.y + box.height)) {\n      label.get('parent').set('visible', false);\n    }\n  }\n\n  /** labels 碰撞处理（重点算法） */\n  private _antiCollision(labels: IShape[], isRight: boolean, panelBox: BBox) {\n    const labelHeight = this.getLabelHeight(labels);\n    const { center, radius } = this.getCoordinate();\n    const offset = this.options.offset;\n    const totalR = radius + offset;\n    const totalHeight = Math.min(panelBox.height, Math.max(totalR * 2 + labelHeight * 2, labels.length * labelHeight));\n    const maxLabelsCount = Math.floor(totalHeight / labelHeight);\n    // fix-bug, maxLabelsCount 之后的labels 在非 allowOverlap 不显示（避免出现尾部label展示，而前置label不展示）\n    if (!this.options.allowOverlap) {\n      labels.slice(maxLabelsCount).forEach((label) => {\n        label.get('parent').set('visible', false);\n      });\n    }\n    labels.splice(maxLabelsCount, labels.length - maxLabelsCount);\n\n    // sort by y DESC\n    labels.sort((a, b) => a.getBBox().y - b.getBBox().y);\n    // adjust y position of labels to avoid overlapping\n    let overlapping = true;\n    let i;\n    let maxY = center.y + totalHeight / 2;\n    let minY = center.y - totalHeight / 2;\n    const boxes = labels.map((label) => {\n      const labelBox = label.getBBox();\n      if (labelBox.maxY > maxY) {\n        maxY = Math.min(panelBox.maxY, labelBox.maxY);\n      }\n      if (labelBox.minY < minY) {\n        minY = Math.max(panelBox.minY, labelBox.minY);\n      }\n      return {\n        text: label.attr('text'),\n        size: labelHeight,\n        pos: labelBox.y,\n        targets: [],\n      };\n    });\n    let j = 0;\n    while (j < boxes.length) {\n      if (j === boxes.length - 1) {\n        boxes[j].targets[0] = maxY;\n      } else {\n        boxes[j].targets[0] = boxes[j + 1].pos - boxes[j + 1].size / 2;\n      }\n      j++;\n    }\n    while (overlapping) {\n      boxes.forEach((box) => {\n        const target = last(box.targets);\n        box.pos = Math.max(minY, Math.min(box.pos, target - box.size));\n      });\n      // detect overlapping and join boxes\n      overlapping = false;\n      i = boxes.length;\n      while (i--) {\n        if (i > 0) {\n          const previousBox = boxes[i - 1];\n          const box = boxes[i];\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets);\n            // overflow, shift up\n            const target = last(previousBox.targets);\n            if (previousBox.pos + previousBox.size > target) {\n              previousBox.pos = target - previousBox.size;\n            }\n            boxes.splice(i, 1); // removing box\n            overlapping = true;\n          } else {\n            // 换掉最后一个\n            previousBox.targets.splice(-1, 1, box.pos);\n          }\n        }\n      }\n    }\n\n    i = 0;\n    // step 4: normalize y and adjust x\n    boxes.forEach((b) => {\n      let posInCompositeBox = labelHeight / 2; // middle of the label\n      b.targets.forEach(() => {\n        labels[i].attr('y', b.pos + posInCompositeBox);\n        posInCompositeBox += labelHeight;\n        i++;\n      });\n    });\n\n    // 调整 x 位置在椭圆轨道上\n    const topLabels = [];\n    const bottomLabels = [];\n    labels.forEach((label, idx) => {\n      const anchor = this.arcPoints[idx];\n      if (anchor.angle >= 0 && anchor.angle <= Math.PI) {\n        bottomLabels.push(label);\n      } else {\n        topLabels.push(label);\n      }\n    });\n    [topLabels, bottomLabels].forEach((adjustLabels, isBottom) => {\n      if (!adjustLabels.length) {\n        return;\n      }\n      let ry = isBottom ? last(adjustLabels).getBBox().maxY - center.y : center.y - head(adjustLabels).getBBox().minY;\n      ry = Math.max(totalR, ry);\n      const distance = offset > 4 ? 4 : 0;\n      const maxLabelWidth =\n        Math.max.apply(\n          0,\n          map(labels, (label) => label.getBBox().width)\n        ) +\n        offset +\n        distance;\n      const rx = Math.max(totalR, Math.min((ry + totalR) / 2, center.x - (panelBox.minX + maxLabelWidth)));\n      const rxPow2 = rx * rx;\n      const ryPow2 = ry * ry;\n      adjustLabels.forEach((label, idx) => {\n        const anchor = this.arcPoints[idx];\n        const box = label.getBBox();\n        const boxCenter = { x: box.minX + box.width / 2, y: box.minY + box.height / 2 };\n        const dyPow2 = Math.pow(boxCenter.y - center.y, 2);\n        const endPoint = getEndPoint(center, anchor.angle, radius);\n        const distance_offset = (isRight ? 1 : -1) * distance * 2;\n        if (dyPow2 > ryPow2) {\n          console.warn('异常(一般不会出现)', label.attr('text'));\n          label.attr('x', endPoint.x + distance_offset);\n        } else {\n          // (x - cx)^2 / rx ^ 2 + (y - cy)^2 / ry ^ 2 = 1\n          // 避免 label的 拉线 在 element 上\n          let xPos = center.x + (isRight ? 1 : -1) * Math.sqrt((1 - dyPow2 / ryPow2) * rxPow2);\n          if (\n            (center.x === endPoint.x && boxCenter.y === endPoint.y) ||\n            (center.y === endPoint.y && xPos === endPoint.x)\n          ) {\n            xPos = endPoint.x;\n          } else {\n            // const k1 = (center.y - endPoint.y) / (center.x - endPoint.x);\n            // const k2 = (boxCenter.y - endPoint.y) / (xPos - endPoint.x);\n            // const theta = Math.atan((k1 - k2) / (1 + k1 * k2));\n            // 切角 < 90度（目前的坐标系 无法精准计算切角）\n            // if (Math.cos(theta) > 0 && (!isRight ? xPos > endPoint.x : xPos < endPoint.x)) {\n            //   xPos = endPoint.x;\n            // }\n          }\n          label.attr('x', xPos + distance_offset);\n        }\n      });\n    });\n  }\n\n  /** 获取label height */\n  private getLabelHeight(labels: IShape[]): number {\n    if (!this.options.labelHeight) {\n      return head(labels) ? head(labels).getBBox().height : 14;\n    }\n    return this.options.labelHeight;\n  }\n}\n","import { IShape, BBox } from '../../../../dependents';\nimport PieBaseLabel, { LabelItem, PieLabelConfig } from './base-label';\nimport { getOverlapArea, near } from './utils';\n\n// 默认label和element的偏移 16px\nexport const DEFAULT_OFFSET = 16;\n\nexport default class PieOuterCenterLabel extends PieBaseLabel {\n  /** @override 不能大于0 */\n  protected adjustOption(options: PieLabelConfig) {\n    super.adjustOption(options);\n    if (options.offset < 0) {\n      options.offset = 0;\n    }\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      offset: 12,\n      style: {\n        ...labelStyle,\n        textBaseline: 'middle',\n      },\n    };\n  }\n\n  protected adjustItem(item: LabelItem): void {\n    const offset = this.options.offset;\n    if (item.textAlign === 'left') {\n      item.x += offset > 4 ? 4 : offset / 2;\n    } else if (item.textAlign === 'right') {\n      item.x -= offset > 4 ? 4 : offset / 2;\n    }\n  }\n\n  /** label 碰撞调整 */\n  protected layout(labels: IShape[], items: LabelItem[], panel: BBox) {\n    this.adjustOverlap(labels, panel);\n  }\n\n  /** 处理标签遮挡问题 */\n  protected adjustOverlap(labels: IShape[], panel: BBox): void {\n    if (this.options.allowOverlap) {\n      return;\n    }\n    // clearOverlap;\n    for (let i = 1; i < labels.length; i++) {\n      const label = labels[i];\n      let overlapArea = 0;\n      for (let j = i - 1; j >= 0; j--) {\n        const prev = labels[j];\n        // fix: start draw point.x is error when textAlign is right\n        const prevBox = prev.getBBox();\n        const currBox = label.getBBox();\n        // if the previous one is invisible, skip\n        if (prev.get('parent').get('visible')) {\n          overlapArea = getOverlapArea(prevBox, currBox);\n          if (!near(overlapArea, 0)) {\n            label.get('parent').set('visible', false);\n            break;\n          }\n        }\n      }\n    }\n    labels.forEach((label) => this.checkInPanel(label, panel));\n  }\n\n  /**\n   * 超出panel边界的标签默认隐藏\n   */\n  protected checkInPanel(label: IShape, panel: BBox): void {\n    const box = label.getBBox();\n    //  横向溢出 暂不隐藏\n    if (!(panel.y <= box.y && panel.y + panel.height >= box.y + box.height)) {\n      label.get('parent').set('visible', false);\n    }\n  }\n}\n","import { View, IGroup, IShape } from '../../../../dependents';\nimport { deepMix, clone, each, isString, mix } from '@antv/util';\nimport { LooseMap } from '../../../../interface/types';\n\nconst ANCHOR_OFFSET = 0; // 锚点偏移量\nconst INFLECTION_OFFSET = 15; // 拐点偏移量\nconst DEFAULT_COLOR = '#CCC';\nconst LABEL1_OFFSETY = 2;\nconst LABEL2_OFFSETY = -2;\nconst ADJUSTOFFSET = 15;\n\ntype IAttrs = LooseMap;\n\ntype Point = { x: number; y: number };\ninterface LabelData {\n  _anchor: Point;\n  _inflection: Point;\n  _data: object;\n  x: number;\n  y: number;\n  r: number;\n  fill: string;\n  textGroup: IGroup;\n  _side?: 'left' | 'right';\n}\n\ninterface SpiderLabelConfig {\n  line?: any;\n  text?: any;\n  formatter?: (text: string, item: OriginLabelItem, index: number) => string | string[];\n  offsetX?: number;\n  offsetY?: number;\n  [field: string]: any;\n}\n\ninterface ISpiderLabel extends SpiderLabelConfig {\n  view: View;\n  fields: string[];\n}\n\nfunction getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n\ninterface OriginLabelItem {\n  /** 原始数据值 */\n  _origin: object;\n  color?: string;\n}\n\nexport default class SpiderLabel {\n  public destroyed: boolean = false;\n  private view: View;\n  private options: ISpiderLabel;\n  private halves: any[][];\n  private container: IGroup;\n  private width: number;\n  private height: number;\n  private coord: any;\n\n  constructor(cfg: ISpiderLabel) {\n    this.view = cfg.view;\n    this.options = deepMix({}, this.getDefaultOptions(), cfg);\n    this._adjustOptions(this.options);\n    this.init();\n  }\n\n  private init() {\n    this.container = this.view.geometries[0].labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n  }\n\n  public render() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    /** 如果有formatter则事先处理数据 */\n    const data = clone(this.view.getData());\n    this.halves = [[], []];\n    const shapes = [];\n    const elements = this.view.geometries[0].elements;\n    each(elements, (ele) => {\n      shapes.push(ele.shape);\n    });\n    this.coord = this.view.geometries[0].coordinate;\n    const angleField = this.options.fields[0];\n    const scale = this.view.getScalesByDim('y')[angleField];\n    const center = this.coord.getCenter();\n    const { startAngle } = this.coord;\n    const radius = this.coord.polarRadius;\n    const { width, height } = this.view.coordinateBBox;\n    this.width = width;\n    this.height = height;\n    let angle = startAngle;\n    // tslint:disable-next-line: prefer-for-of\n    for (let idx = 0; idx < data.length; idx++) {\n      const d = data[idx];\n      // 计算每个切片的middle angle\n      const angleValue = scale.scale(d[angleField]);\n      const targetAngle = angle + Math.PI * 2 * angleValue;\n      const middleAngle = angle + (targetAngle - angle) / 2;\n      angle = targetAngle;\n      // 根据middle angle计算锚点和拐点距离\n      const anchorPoint = getEndPoint(center, middleAngle, radius + ANCHOR_OFFSET);\n      const inflectionPoint = getEndPoint(center, middleAngle, radius + INFLECTION_OFFSET);\n      // 获取对应shape的color\n      let color = DEFAULT_COLOR;\n      if (this.options.fields.length === 2) {\n        const colorField = this.options.fields[1];\n        const colorScale = this.view.geometries[0].scales[colorField];\n        const colorIndex = colorScale.scale(d[colorField]);\n        const shapeIndex = Math.floor(colorIndex * (shapes.length - 1));\n        color = shapes[shapeIndex].attr('fill');\n      }\n      // 组装label数据\n      const label: LabelData = {\n        _anchor: anchorPoint,\n        _inflection: inflectionPoint,\n        _data: d,\n        x: inflectionPoint.x,\n        y: inflectionPoint.y,\n        r: radius + INFLECTION_OFFSET,\n        fill: color,\n        textGroup: null,\n        _side: null,\n      };\n      // 创建label文本\n      let texts = [];\n      each(this.options.fields, (f) => {\n        texts.push(d[f]);\n      });\n      if (this.options.formatter) {\n        let formatted: any = this.options.formatter(d[angleField], { _origin: d, color }, idx);\n        if (isString(formatted)) {\n          formatted = [formatted];\n        }\n        texts = formatted;\n      }\n      const textGroup = this.container.addGroup();\n      const textAttrs: IAttrs = {\n        x: 0,\n        y: 0,\n        fontSize: this.options.text.fontSize,\n        lineHeight: this.options.text.fontSize,\n        fontWeight: this.options.text.fontWeight,\n        fill: this.options.text.fill,\n      };\n      // label1:下部label\n      let lowerText = d[angleField];\n      if (this.options.formatter) {\n        lowerText = texts[0];\n      }\n      const lowerTextAttrs = clone(textAttrs);\n      if (texts.length === 2) {\n        lowerTextAttrs.fontWeight = 700;\n      }\n      const lowerTextShape: any = textGroup.addShape('text', {\n        attrs: mix(\n          {\n            textBaseline: texts.length === 2 ? 'top' : 'middle',\n            text: lowerText,\n          },\n          lowerTextAttrs\n        ),\n        data: d,\n        offsetY: texts.length === 2 ? LABEL1_OFFSETY : 0,\n        name: 'label',\n      });\n      lowerTextShape.name = 'label'; // 用于事件标记 shapeName\n      /** label2:上部label */\n      if (texts.length === 2) {\n        const topTextShape: any = textGroup.addShape('text', {\n          attrs: mix(\n            {\n              textBaseline: 'bottom',\n              text: texts[1],\n            },\n            textAttrs\n          ),\n          data: d,\n          offsetY: LABEL2_OFFSETY,\n          name: 'label',\n        });\n        topTextShape.name = 'label'; // 用于事件标记 shapeName\n      }\n\n      label.textGroup = textGroup;\n\n      /** 将label分组 */\n      if (anchorPoint.x < center.x) {\n        label._side = 'left';\n        this.halves[0].push(label);\n      } else {\n        label._side = 'right';\n        this.halves[1].push(label);\n      }\n    }\n\n    /** 绘制label */\n    const maxCountForOneSide = Math.floor(height / this.options.lineHeight);\n\n    each(this.halves, (half) => {\n      if (half.length > maxCountForOneSide) {\n        half.splice(maxCountForOneSide, half.length - maxCountForOneSide);\n      }\n\n      half.sort((a, b) => {\n        return a.y - b.y;\n      });\n\n      this._antiCollision(half);\n    });\n    this.view.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.view.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.view.canvas.draw();\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  protected getDefaultOptions() {\n    return {\n      text: {\n        fill: 'rgba(0, 0, 0, 0.65)',\n        fontSize: 12,\n      },\n      line: {\n        lineWidth: 0.5,\n        stroke: 'rgba(0, 0, 0, 0.45)',\n      },\n      lineHeight: 32,\n      /** distance between label and edge */\n      sidePadding: 20,\n      // anchorSize: 2,\n    };\n  }\n\n  private _antiCollision(half: LabelData[]) {\n    const { coord } = this;\n    const canvasHeight = coord.getHeight();\n    const { center } = coord;\n    const radius = coord.getRadius();\n    const startY = center.y - radius - INFLECTION_OFFSET - this.options.lineHeight;\n    let overlapping = true;\n    let totalH = canvasHeight;\n    let i;\n\n    let maxY = 0;\n    let minY = Number.MIN_VALUE;\n    let maxLabelWidth = 0;\n    const boxes: any[] = half.map((label) => {\n      const labelY = label.y;\n      if (labelY > maxY) {\n        maxY = labelY;\n      }\n      if (labelY < minY) {\n        minY = labelY;\n      }\n\n      const textGroup = label.textGroup;\n      const labelWidth = textGroup.getBBox().width;\n      if (labelWidth >= maxLabelWidth) {\n        maxLabelWidth = labelWidth;\n      }\n\n      return {\n        size: this.options.lineHeight,\n        targets: [labelY - startY],\n      };\n    });\n    if (maxY - startY > totalH) {\n      totalH = maxY - startY;\n    }\n\n    const iteratorBoxed = function(items) {\n      items.forEach((box) => {\n        const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n        box.pos = Math.min(Math.max(minY, target - box.size / 2), totalH - box.size);\n      });\n    };\n\n    while (overlapping) {\n      iteratorBoxed(boxes);\n      // detect overlapping and join boxes\n      overlapping = false;\n      i = boxes.length;\n      while (i--) {\n        if (i > 0) {\n          const previousBox = boxes[i - 1];\n          const box = boxes[i];\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets);\n\n            // overflow, shift up\n            if (previousBox.pos + previousBox.size > totalH) {\n              previousBox.pos = totalH - previousBox.size;\n            }\n            boxes.splice(i, 1); // removing box\n            overlapping = true;\n          }\n        }\n      }\n    }\n\n    i = 0;\n    boxes.forEach((b) => {\n      let posInCompositeBox = startY; // middle of the label\n      b.targets.forEach(() => {\n        half[i].y = b.pos + posInCompositeBox + this.options.lineHeight / 2;\n        posInCompositeBox += this.options.lineHeight;\n        i++;\n      });\n    });\n\n    const drawnLabels = [];\n    half.forEach((label) => {\n      const textGroup = this._drawLabel(label);\n      this._drawLabelLine(label, maxLabelWidth, textGroup);\n      drawnLabels.push(textGroup);\n    });\n  }\n\n  private _drawLabel(label: LabelData) {\n    const { coord } = this;\n    const center = coord.getCenter();\n    const radius = coord.getRadius();\n\n    const width = this.width;\n    const { y, textGroup } = label;\n    const children = textGroup.get('children');\n    const x_dir = label._side === 'left' ? 1 : -1;\n\n    const textAttrs = {\n      textAlign: label._side === 'left' ? 'right' : 'left',\n      x:\n        label._side === 'left'\n          ? center.x - radius - this.options.sidePadding\n          : center.x + radius + this.options.sidePadding,\n    };\n\n    if (this.options.offsetX) {\n      textAttrs.x += this.options.offsetX * x_dir;\n    }\n\n    children.forEach((child) => {\n      const offsetY = child.get('offsetY');\n      const yPosition = y + offsetY;\n      child.attr(textAttrs);\n      child.attr('y', yPosition);\n    });\n\n    return textGroup;\n  }\n\n  private _drawLabelLine(label: LabelData, maxLabelWidth, container: IGroup): IShape {\n    const _anchor = [label._anchor.x, label._anchor.y];\n    const _inflection = [label._inflection.x, label._inflection.y];\n    const { fill, y, textGroup } = label;\n    if (!textGroup) return;\n    const lastPoint = [label._side === 'left' ? textGroup.getBBox().maxX + 4 : textGroup.getBBox().minX - 4, y];\n\n    let points = [_anchor, _inflection, lastPoint];\n    if (_inflection[1] !== y) {\n      // 展示全部文本文本位置做过调整\n      if (_inflection[1] < y) {\n        // 文本被调整下去了，则添加拐点连接线\n        const point1 = _inflection;\n        const leftPoint = lastPoint[0] + maxLabelWidth + ADJUSTOFFSET;\n        const rightPoint = lastPoint[0] - maxLabelWidth - ADJUSTOFFSET;\n        const point2 = [label._side === 'left' ? leftPoint : rightPoint, _inflection[1]];\n        const point3 = [\n          label._side === 'left' ? lastPoint[0] + maxLabelWidth : lastPoint[0] - maxLabelWidth,\n          lastPoint[1],\n        ];\n\n        points = [_anchor, point1, point2, point3, lastPoint];\n\n        if ((label._side === 'right' && point2[0] < point1[0]) || (label._side === 'left' && point2[0] > point1[0])) {\n          points = [_anchor, point3, lastPoint];\n        }\n      } else {\n        points = [_anchor, [_inflection[0], y], lastPoint];\n      }\n    }\n\n    const path = [];\n    for (let i = 0; i < points.length; i++) {\n      const p = points[i];\n      let starter = 'L';\n      if (i === 0) {\n        starter = 'M';\n      }\n      path.push([starter, p[0], p[1]]);\n    }\n    container.addShape('path', {\n      attrs: {\n        path,\n        lineWidth: this.options.line.lineWidth,\n        stroke: this.options.line.stroke,\n      },\n    });\n\n    // 绘制锚点\n    // container.addShape('circle', {\n    //   attrs: {\n    //     x: _anchor[0],\n    //     y: _anchor[1],\n    //     r: this.config.anchorSize,\n    //     fill,\n    //   },\n    // });\n  }\n\n  private _adjustOptions(config) {\n    if (config.text.fontSize) {\n      config.lineHeight = config.text.fontSize * 3;\n    }\n  }\n}\n","import { registerTheme } from '../../theme';\n\nconst PIE_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { fillOpacity: opacity * 0.8 };\n};\n\nconst PIE_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { fillOpacity: opacity * 0.5 };\n};\n\nregisterTheme('pie', {\n  columnStyle: {\n    normal: {},\n    active: PIE_ACTIVE_STYLE,\n    disable: PIE_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport DensityHeatmapLayer, { DensityHeatmapViewConfig } from './layer';\n\nexport interface DensityHeatmapConfig extends DensityHeatmapViewConfig, PlotConfig {}\n\nexport default class DensityHeatmap extends BasePlot<DensityHeatmapConfig> {\n  public static getDefaultOptions: typeof DensityHeatmapLayer.getDefaultOptions = DensityHeatmapLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'densityHeatmap';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, each, has } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport '../../geoms/heatmap/linear';\nimport { HeatmapLegendConfig } from './components/legend';\nimport { HeatmapBackgroundConfig } from './components/background';\nimport { getPlotComponents } from './components';\nimport * as EventParser from './event';\n\ninterface PointStyle {\n  lineDash?: number[];\n  lineWidth?: number;\n  opacity?: string;\n  fillStyle?: string;\n  strokeStyle?: string;\n}\n\nexport interface DensityHeatmapViewConfig extends ViewConfig {\n  colorField: string;\n  radius?: number;\n  intensity?: number;\n  point?: {\n    visible?: boolean;\n    shape?: string;\n    size?: number;\n    color?: string;\n    style?: PointStyle;\n  };\n  legend?: HeatmapLegendConfig;\n  background?: HeatmapBackgroundConfig;\n}\n\nexport interface DensityHeatmapLayerConfig extends DensityHeatmapViewConfig, LayerConfig {}\n\nexport default class DensityHeatmapLayer<\n  T extends DensityHeatmapLayerConfig = DensityHeatmapLayerConfig\n> extends ViewLayer<T> {\n  public type: string = 'densityHeatmap';\n  protected plotComponents: any[] = [];\n\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        autoRotateTitle: false,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoRotateTitle: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: false,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      tooltip: {\n        visible: true,\n        showCrosshairs: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#000000',\n              lineWidth: 1,\n              opacity: 0.5,\n            },\n          },\n        },\n        showMarkers: false,\n      },\n      legend: {\n        visible: true,\n        position: 'bottom-center',\n      },\n      color: [\n        'rgba(33,102,172,0)',\n        'rgb(103,169,207)',\n        'rgb(209,229,240)',\n        'rgb(253,219,199)',\n        'rgb(239,138,98)',\n        'rgb(178,24,43)',\n      ],\n      interactions: [{ type: 'tooltip' }],\n    });\n  }\n\n  public afterRender() {\n    this.renderPlotComponents();\n    super.afterRender();\n  }\n\n  public destroy() {\n    each(this.plotComponents, (component) => {\n      component.destroy();\n    });\n    super.destroy();\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.xField] = {};\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n    scales[props.yField] = {};\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected geometryParser(dim, type) {\n    return 'heatmap';\n  }\n\n  protected addGeometry() {\n    const config = {\n      type: 'linearheatmap',\n      position: {\n        fields: [this.options.xField, this.options.yField],\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color,\n      },\n      cfg: {\n        intensity: this.options.intensity,\n        radius: this.options.radius,\n      },\n    } as any;\n\n    if (this.options.radius) {\n      config.radius = this.options.radius;\n    }\n\n    if (this.options.intensity) {\n      config.intensity = this.options.intensity;\n    }\n\n    this.setConfig('geometry', config);\n\n    this.addPoint();\n  }\n\n  protected addPoint() {\n    const props = this.options;\n    const defaultConfig = { visible: false, size: 0 };\n    if (props.point && props.point.visible) {\n      props.point = deepMix(defaultConfig, props.point);\n    } else {\n      props.point = defaultConfig;\n    }\n    const point = getGeom('point', 'guide', {\n      plot: this,\n    });\n    point.active = false;\n    // point.label = this.extractLabel();\n    this.setConfig('geometry', point);\n  }\n\n  protected extractLabel() {\n    const props = this.options;\n    const label = props.label;\n    if (label && label.visible === false) {\n      return false;\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.xField, props.yField],\n      position: 'middle',\n      offset: 0,\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  protected legend() {\n    this.setConfig('legends', false);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected renderPlotComponents() {\n    each(this.plotComponents, (component) => {\n      component.destroy();\n    });\n    const componentsType = ['legend', 'background'];\n    each(componentsType, (t) => {\n      const cfg = {\n        view: this.view,\n        plot: this,\n        ...this.options[t],\n      };\n      const component = getPlotComponents(this, t, cfg);\n      if (component) {\n        component.render();\n        this.plotComponents.push(component);\n      }\n    });\n  }\n}\n\nregisterPlotType('densityHeatmap', DensityHeatmapLayer);\n","import { registerGeometry, Geometry, Canvas } from '../../dependents';\nimport { isNumber, get } from '@antv/util';\nimport * as colorUtil from '../../util/color';\n\nconst GAUSS_COEF = 0.3989422804014327;\nconst ZERO = 1.0 / 255.0 / 16.0;\n\nconst ORIGIN_FIELD = '_origin';\n\nclass LinearHeatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n  private intensity: number;\n  private radius: number;\n  private blur: number;\n  private grayScaleCanvas: any;\n  private shadowCanvas: any;\n  private paletteCache: any = {};\n  private imageShape: any;\n\n  constructor(cfg) {\n    super(cfg);\n    this.intensity = cfg.intensity;\n    this.radius = cfg.radius;\n  }\n\n  protected createElements(mappingData, isUpdate: boolean = false) {\n    const range = this.prepareRange(mappingData);\n    this.prepareSize();\n    this.prepareBlur();\n    this.prepareGreyScaleBlurredCircle(this.radius);\n    this.drawWithRange(mappingData, range);\n    return null;\n  }\n\n  public clear() {\n    this.clearShadowCanvasCtx();\n    super.clear();\n  }\n\n  private prepareRange(data) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[ORIGIN_FIELD][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n    if (min === max) {\n      min = max - 1;\n    }\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.radius;\n    if (!this.radius) {\n      radius = this.getDefaultValue('size');\n      if (!isNumber(radius)) {\n        radius = this.getDefaultSize();\n      }\n      this.radius = radius;\n    }\n  }\n\n  private prepareBlur() {\n    let blur = get(this.styleOption, ['style', 'shadowBlur']);\n    if (!isNumber(blur)) {\n      blur = this.radius / 2;\n    }\n    this.blur = blur;\n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coord = this.coordinate;\n    const radius = Math.min(\n      coord.getWidth() / (position.scales[0].ticks.length * 4),\n      coord.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n    return radius;\n  }\n\n  private colorize(img) {\n    const colorAttr = this.getAttribute('color') as any;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (alpha) {\n        let palette;\n        if (paletteCache[alpha]) {\n          palette = paletteCache[alpha];\n        } else {\n          palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n          paletteCache[alpha] = palette;\n        }\n        // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private prepareGreyScaleBlurredCircle(r) {\n    let circleCanvas = this.grayScaleCanvas;\n    if (!circleCanvas) {\n      circleCanvas = document.createElement('canvas');\n      this.grayScaleCanvas = circleCanvas;\n    }\n    const intensity = this.intensity ? this.intensity : 2;\n    const circleRadius = (Math.sqrt(-2.0 * Math.log(ZERO / r / intensity / GAUSS_COEF)) / 3.0) * r;\n    const blur = circleRadius - r;\n    const r2 = circleRadius + blur;\n    const ctx = circleCanvas.getContext('2d');\n    circleCanvas.width = circleCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawGrayScaleBlurredCircle(x, y, r, alpha, ctx) {\n    const circleCanvas = this.grayScaleCanvas;\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(circleCanvas, x - r, y - r);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    const context = canvas.getContext('2d');\n    context.globalCompositeOperation = 'lighter';\n    return context;\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n  }\n\n  private drawWithRange(data, range) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (let i = 0; i < data.length; i++) {\n      const obj = data[i];\n      const cfg = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[ORIGIN_FIELD][valueField]);\n      // @ts-ignore\n      this.drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, this.radius + this.blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const image = new Image();\n    image.src = ctx.canvas.toDataURL('image/png');\n    this.getImageShape();\n    this.imageShape.attr('x', start.x);\n    this.imageShape.attr('y', end.y);\n    this.imageShape.attr('width', width);\n    this.imageShape.attr('height', height);\n    this.imageShape.attr('img', ctx.canvas);\n    this.imageShape.set('origin', this.getShapeInfo(data)); // 存储绘图信息数据\n  }\n\n  private getShapeInfo(mappingData) {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data: this.getData(mappingData),\n    };\n  }\n\n  private getData(mappingData) {\n    return mappingData.map((obj) => {\n      return obj[ORIGIN_FIELD];\n    });\n  }\n}\n\nregisterGeometry('linearHeatmap', LinearHeatmap);\n","import HeatmapBackground from './background';\nimport HeatmapLegend from './legend';\n\nconst ComponentsInfo = {\n  background: { Ctr: HeatmapBackground },\n  legend: { Ctr: HeatmapLegend, padding: 'outer' },\n};\n\nexport function getPlotComponents(plot, type, cfg) {\n  if (plot.options[type] && plot.options[type].visible) {\n    const componentInfo = ComponentsInfo[type];\n    const component = new componentInfo.Ctr(cfg);\n    if (componentInfo.padding) {\n      plot.paddingController.registerPadding(component, componentInfo.padding);\n    }\n    return component;\n  }\n}\n","import { each } from '@antv/util';\nimport { View, IGroup } from '../../../dependents';\nimport EventEmitter from '@antv/event-emitter';\n\nexport interface HeatmapBackgroundConfig {\n  visible?: boolean;\n  type?: string;\n  value?: any;\n  src?: string;\n  callback?: Function;\n}\n\nexport interface IHeatmapBackground extends HeatmapBackgroundConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class HeatmapBackground extends EventEmitter {\n  public options: IHeatmapBackground;\n  public container: IGroup;\n  protected view: View;\n  protected x: number;\n  protected y: number;\n  protected width: number;\n  protected height: number;\n\n  constructor(cfg: IHeatmapBackground) {\n    super();\n    this.options = cfg;\n    this.view = this.options.view;\n    this.init();\n  }\n\n  public init() {\n    const coord = this.getCoordinate();\n    this.width = coord.getWidth();\n    this.height = coord.getHeight();\n    this.x = coord.start.x;\n    this.y = coord.end.y;\n    this.container = this.view.backgroundGroup.addGroup({});\n  }\n\n  public render() {\n    if (this.options.type === 'color') {\n      this.renderColorBackground();\n    } else if (this.options.type === 'image') {\n      this.renderImageBackground();\n    } else if (this.options.callback) {\n      const callbackCfg = {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        container: this.container,\n      };\n      this.options.callback(callbackCfg);\n    }\n  }\n\n  public renderColorBackground() {\n    this.container.addShape('rect', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        fill: this.options.value,\n      },\n      name: 'heatmap-background',\n    });\n  }\n\n  public renderImageBackground() {\n    this.container.addShape('image', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        img: this.options.src,\n      },\n      name: 'heatmap-background',\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n      this.emit('background:clear');\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n      // 使用callback定制的html background需要自己监听销毁事件自行销毁\n      this.emit('background:destroy');\n    }\n  }\n\n  private getCoordinate() {\n    let coordinate;\n    each(this.view.geometries, (geom) => {\n      if (geom.type === 'heatmap') {\n        coordinate = geom.coordinate;\n      }\n    });\n    return coordinate;\n  }\n}\n","import { each, isArray, isFunction, deepMix, clone } from '@antv/util';\nimport { View, IGroup } from '../../../dependents';\nimport BBox from '../../../util/bbox';\n\nconst LABEL_MARGIN = 4;\nconst ACTIVE_OPACITY = 1;\nconst DEACTIVE_OPACITY = 0.1;\n\nexport interface HeatmapLegendConfig {\n  visible?: boolean;\n  position?: string;\n  width?: number;\n  height?: number;\n  text?: {\n    style?: any;\n    formatter?: () => string;\n  };\n  gridlineStyle?: any;\n  triggerOn?: string;\n}\n\nexport interface IHeatmapLegend extends HeatmapLegendConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class HeatmapLegend {\n  public options: IHeatmapLegend;\n  public container: IGroup;\n  public afterRender: boolean;\n  public destroyed: boolean = false;\n  protected view: View;\n  protected layout: string;\n  protected width: number;\n  protected height: number;\n  protected position: string;\n  protected x: number;\n  protected y: number;\n  protected dataSlides: any = {};\n  protected colorScale: any;\n\n  constructor(cfg: IHeatmapLegend) {\n    let defaultOptions = this.getDefaultOptions();\n    if (cfg.plot.options.theme && cfg.plot.options.theme === 'dark') {\n      defaultOptions = this.getDarkOptions();\n    }\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  public init() {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    const plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  }\n\n  public render() {\n    const scales = this.getScales();\n    const colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    const { min, max } = this.colorScale;\n    const { color } = this.options.plot.options;\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n    this.legendLayout();\n    this.addInteraction();\n    this.options.plot.canvas.draw();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    const origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  }\n\n  protected renderVertical(min, max, colors) {\n    const gridWidth = this.width;\n    const gridHeight = this.height / colors.length;\n    const gridLineContainer = this.container.addGroup();\n    const gridColors = clone(colors).reverse();\n    const valueStep = (max - min) / colors.length;\n    // 绘制色彩格子\n    each(gridColors, (c, i) => {\n      const y = gridHeight * i;\n      // 记录每个grid代表的区间信息用于legend交互\n      const appendInfo = { to: max - valueStep * i, from: max - valueStep * (i + 1) };\n      const rect = this.container.addShape('rect', {\n        attrs: {\n          x: 0,\n          y,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: ACTIVE_OPACITY,\n          cursor: 'pointer',\n        },\n        name: 'legend',\n      });\n      rect.set('info', appendInfo);\n      const dataSlide = this.getDataSlide(appendInfo);\n      this.dataSlides[`${appendInfo.from}-${appendInfo.to}`] = { mode: 'active', data: dataSlide };\n      const line = gridLineContainer.addShape('path', {\n        attrs: {\n          path: [\n            ['M', 0, y + gridHeight],\n            ['L', gridWidth, y + gridHeight],\n          ],\n          ...this.options.gridlineStyle,\n        },\n      });\n    });\n    // 绘制两边的label\n    const textMax = this.container.addShape('text', {\n      attrs: {\n        text: max,\n        x: gridWidth / 2,\n        y: -LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'bottom',\n        ...this.options.text.style,\n      },\n      name: 'legend-label',\n    });\n    const textMin = this.container.addShape('text', {\n      attrs: {\n        text: min,\n        x: gridWidth / 2,\n        y: this.height + LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'top',\n        ...this.options.text.style,\n        name: 'legend-label',\n      },\n    });\n    // 绘制包围线\n    const path = gridLineContainer.addShape('path', {\n      attrs: {\n        path: [\n          ['M', 0, 0],\n          ['L', this.width, 0],\n          ['L', this.width, this.height],\n          ['L', 0, this.height],\n          ['L', 0, 0],\n        ],\n        ...this.options.gridlineStyle,\n      },\n    });\n  }\n\n  protected renderHorizontal(min, max, colors) {\n    const gridWidth = this.width / colors.length;\n    const gridHeight = this.height;\n    const gridLineContainer = this.container.addGroup();\n    const valueStep = (max - min) / colors.length;\n    // 绘制色彩格子\n    each(colors, (c, i) => {\n      const x = gridWidth * i;\n      // 记录每个grid代表的区间信息用于legend交互\n      const appendInfo = { from: valueStep * i, to: valueStep * (i + 1) };\n      const rect = this.container.addShape('rect', {\n        attrs: {\n          x,\n          y: 0,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: 0.8,\n          cursor: 'pointer',\n        },\n        name: 'legend',\n      });\n      rect.set('info', appendInfo);\n      const line = gridLineContainer.addShape('path', {\n        attrs: {\n          path: [\n            ['M', x + gridWidth, 0],\n            ['L', x + gridWidth, gridHeight],\n          ],\n          ...this.options.gridlineStyle,\n        },\n      });\n    });\n    // 绘制两边的label\n    this.container.addShape('text', {\n      attrs: {\n        text: min,\n        x: -LABEL_MARGIN,\n        y: gridHeight / 2,\n        ...this.options.text.style,\n        textAlign: 'right',\n        textBaseline: 'middle',\n      },\n      name: 'legend-label',\n    });\n    this.container.addShape('text', {\n      attrs: {\n        text: max,\n        x: this.width + LABEL_MARGIN,\n        y: gridHeight / 2,\n        textAlign: 'left',\n        textBaseline: 'middle',\n        ...this.options.text.style,\n      },\n      name: 'legend-label',\n    });\n    // 绘制包围线\n    gridLineContainer.addShape('path', {\n      attrs: {\n        path: [\n          ['M', 0, 0],\n          ['L', this.width, 0],\n          ['L', this.width, this.height],\n          ['L', 0, this.height],\n          ['L', 0, 0],\n        ],\n        ...this.options.gridlineStyle,\n      },\n    });\n  }\n\n  protected getLayout() {\n    const positions = this.options.position.split('-');\n    this.position = positions[0];\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n    return 'horizontal';\n  }\n\n  protected getDefaultWidth() {\n    if (this.layout === 'horizontal') {\n      const { width } = this.options.plot.options;\n      return width * 0.5;\n    }\n    return 10;\n  }\n\n  protected getDefaultHeight() {\n    if (this.layout === 'vertical') {\n      const { height } = this.options.plot.options;\n      return height * 0.5;\n    }\n    return 10;\n  }\n\n  protected legendLayout() {\n    const { bleeding } = this.options.plot.getPlotTheme();\n    if (isArray(bleeding)) {\n      each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](this.options.plot.options);\n        }\n      });\n    }\n    const bbox = this.container.getBBox();\n    let x = 0;\n    let y = 0;\n    const positions = this.options.position.split('-');\n    const plotWidth = this.options.plot.width;\n    const plotHeight = this.options.plot.height;\n    // 先确定x\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      x = (plotWidth - bbox.width) / 2;\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    }\n    // 再确定y\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = this.getTopPosition(bleeding);\n    } else if (positions[1] === 'center') {\n      y = (plotHeight - bbox.height) / 2;\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n\n    this.container.translate(x, y);\n  }\n\n  protected getDefaultOptions() {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)',\n        },\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.45)',\n      },\n    };\n  }\n\n  protected getDarkOptions() {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(255, 255, 255, 0.45)',\n        },\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(255, 255, 255, 0.25)',\n      },\n    };\n  }\n\n  protected addInteraction() {\n    const { colorField, data } = this.options.plot.options;\n    this.container.on('click', (ev) => {\n      const { target } = ev;\n      if (target.get('name') === 'legend') {\n        const appendInfo = target.get('info');\n        const targetInfo = `${appendInfo.from}-${appendInfo.to}`;\n        const relativeData = this.dataSlides[targetInfo];\n        if (relativeData.mode === 'active') {\n          relativeData.mode = 'deactive';\n          target.stopAnimate();\n          target.animate(\n            {\n              opacity: DEACTIVE_OPACITY,\n            },\n            200\n          );\n        } else {\n          relativeData.mode = 'active';\n          target.stopAnimate();\n          target.animate(\n            {\n              opacity: ACTIVE_OPACITY,\n            },\n            200\n          );\n        }\n        const filteredData = this.getFilteredData();\n        if (filteredData.length > 0) {\n          this.view.changeData(filteredData);\n          //this.view.set('data', filteredData);\n          this.view.scale(colorField, {\n            min: this.colorScale.min,\n            max: this.colorScale.max,\n            nice: this.colorScale.nice,\n          } as any);\n          this.view.render();\n        }\n      }\n    });\n  }\n\n  protected getFilteredData() {\n    const filteredData = [];\n    each(this.dataSlides, (s) => {\n      if (s.mode == 'active') {\n        filteredData.push(...s.data);\n      }\n    });\n    return filteredData;\n  }\n\n  //预先对数据进行分组\n  protected getDataSlide(range) {\n    const slide = [];\n    const { colorField, data } = this.options.plot.options;\n    each(data, (d) => {\n      const value = d[colorField];\n      if (value >= range.from && value < range.to) {\n        slide.push(d);\n      }\n    });\n    return slide;\n  }\n\n  private getTopPosition(bleeding) {\n    if (this.options.plot.description) {\n      const bbox = this.options.plot.description.getBBox();\n      return bbox.maxY + 10;\n    } else if (this.options.plot.title) {\n      const bbox = this.options.plot.title.getBBox();\n      return bbox.maxY + 10;\n    }\n    return bleeding[0];\n  }\n\n  private getScales() {\n    let scales;\n    each(this.view.geometries, (geom) => {\n      if (geom.type === 'heatmap') {\n        scales = geom.scales;\n      }\n    });\n    return scales;\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Heatmap: 'heatmap',\n  LegendLabel: 'legend-label',\n  HeatmapBackground: 'heatmap-background',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport HeatmapLayer, { HeatmapLayerConfig } from './layer';\n\nexport interface HeatmapConfig extends HeatmapLayerConfig, PlotConfig {}\n\nexport default class Heatmap extends BasePlot<HeatmapConfig> {\n  public static getDefaultOptions: typeof HeatmapLayer.getDefaultOptions = HeatmapLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'heatmap';\n    super.createLayers(layerProps);\n  }\n\n  public changeShape(type: string) {\n    const layer: any = this.layers[0];\n    layer.changeShape(type);\n  }\n\n  public mappingSize(field: string) {\n    const layer: any = this.layers[0];\n    layer.mappingSize(field);\n  }\n\n  public disableMappingSize() {\n    const layer: any = this.layers[0];\n    layer.disableMappingSize();\n  }\n}\n","import { deepMix, valuesOfKey, each } from '@antv/util';\nimport BBox from '../../util/bbox';\nimport { getScale } from '@antv/scale';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { MatrixLegendConfig } from './component/legend';\nimport { getRectPath, getCirclePath, getCircleCurve } from './shape';\nimport { getPlotComponents } from './component';\n\nexport interface HeatmapViewConfig extends ViewConfig {\n  sizeField?: string;\n  colorField?: string;\n  shapeSize?: number[];\n  shapeType?: string;\n  color?: string[];\n  legend?: MatrixLegendConfig;\n}\n\nexport interface HeatmapLayerConfig extends HeatmapViewConfig, LayerConfig {}\n\nexport default class HeatmapLayer<T extends HeatmapLayerConfig = HeatmapLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      shapeType: 'rect',\n      legend: {\n        visible: true,\n        position: 'right-center',\n      },\n      tooltip: {\n        shared: false,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      xAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        line: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: true,\n        },\n      },\n      yAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true,\n          align: 'center',\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      color: ['#9ae3d5', '#66cdbb', '#e7a744', '#f1e066', '#f27664', '#e7c1a2'],\n      label: {\n        visible: true,\n        adjustColor: true,\n        adjustPosition: true,\n        offset: 0,\n        style: {\n          stroke: 'rgba(255,255,255,0)',\n          lineWidth: 0,\n        },\n      },\n      interactions: [{ type: 'tooltip' }],\n    });\n  }\n\n  public type: string = 'heatmap';\n  protected gridSize: number[] = [];\n  protected plotComponents: any[] = [];\n\n  public afterRender() {\n    this.renderPlotComponents();\n    super.afterRender();\n  }\n\n  public changeShape(type: string) {\n    if (this.options.shapeType === type) {\n      return;\n    }\n    this.options.shapeType = type;\n    if (type === 'rect') {\n      const shapes = this.getShapes();\n      this.circleToRect(shapes);\n    } else if (type === 'circle') {\n      const shapes = this.getShapes();\n      this.rectToCircle(shapes);\n    }\n  }\n\n  public mappingSize(field: string) {\n    if (this.options.sizeField && this.options.sizeField === field) {\n      return;\n    }\n    this.options.sizeField = field;\n    // 创建scale\n    const values = valuesOfKey(this.options.data, field);\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const LinearScale = getScale('linear');\n    const scale = new LinearScale({\n      min,\n      max,\n    });\n    const shapes = this.getShapes();\n    if (this.options.shapeType === 'rect') {\n      this.rectSizeMapping(shapes, scale, field);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleSizeMapping(shapes, scale, field);\n    }\n  }\n\n  public disableMappingSize() {\n    const shapes = this.getShapes();\n    if (this.options.shapeType === 'rect') {\n      this.rectDisableSizeMapping(shapes);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleDisableSizeMapping(shapes);\n    }\n  }\n\n  public destroy() {\n    each(this.plotComponents, (component) => {\n      component.destroy();\n    });\n    super.destroy();\n  }\n\n  protected geometryParser() {\n    return '';\n  }\n\n  protected coord() {}\n\n  protected legend() {\n    this.setConfig('legends', false);\n  }\n\n  protected addGeometry() {\n    this.gridSize = this.getGridSize();\n    if (this.options.shapeType === 'rect') {\n      const rect = this.addRect();\n      this.setConfig('geometry', rect);\n    } else {\n      const circle = this.addCircle();\n      this.setConfig('geometry', circle);\n    }\n  }\n\n  protected addRect() {\n    // 如果用户设置了size，将size数值转换为[0,1]区间\n    const size = [0.3, 0.9];\n    if (this.options.shapeSize) {\n      size[0] = this.options.shapeSize[0] / this.gridSize[0];\n      size[1] = this.options.shapeSize[1] / this.gridSize[1];\n    }\n    const rect: any = {\n      type: 'polygon',\n      position: {\n        fields: [this.options.xField, this.options.yField],\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color,\n      },\n      shape: {\n        values: ['rect'],\n      },\n      label: false,\n    };\n    if (this.options.sizeField) {\n      rect.size = {\n        fields: [this.options.sizeField],\n        values: size,\n      };\n    } else {\n      rect.size = {\n        values: [1],\n      };\n    }\n    return rect;\n  }\n\n  protected addCircle() {\n    let size = [0.3, 0.9];\n    if (this.options.shapeSize) {\n      size = this.options.shapeSize;\n    } else {\n      size[0] = this.gridSize[0] * size[0] * 0.5;\n      size[1] = this.gridSize[1] * size[1] * 0.5;\n    }\n    const circle: any = {\n      type: 'point',\n      position: {\n        fields: [this.options.xField, this.options.yField],\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color,\n      },\n      shape: {\n        values: ['curvePoint'],\n      },\n      label: false,\n    };\n    if (this.options.sizeField) {\n      circle.size = {\n        fields: [this.options.sizeField],\n        values: size,\n      };\n    } else {\n      circle.size = {\n        values: [Math.min(this.gridSize[0], this.gridSize[1]) * 0.5 * 0.9],\n      };\n    }\n    return circle;\n  }\n\n  private getGridSize() {\n    if (this.options.padding === 'auto') {\n      return [0, 0];\n    } else {\n      const viewRange = this.getViewRange();\n      const { padding, xField, yField, data } = this.options;\n      const width = viewRange.width - padding[1] - padding[3];\n      const height = viewRange.height - padding[0] - padding[2];\n      const xCount = valuesOfKey(data, xField).length;\n      const yCount = valuesOfKey(data, yField).length;\n      return [width / xCount, height / yCount];\n    }\n  }\n\n  private circleToRect(shapes) {\n    const gridSize = this.gridSize;\n    each(shapes, (shape) => {\n      const { x, y, size } = shape.get('origin');\n      let sizeRatio = (size * 2) / Math.min(gridSize[0], gridSize[1]);\n      if (!this.options.sizeField) {\n        sizeRatio = 1;\n      }\n      const curvePath = getCircleCurve(x, y, size);\n      const rectPath = getRectPath(x, y, gridSize[0], gridSize[1], sizeRatio);\n      shape.stopAnimate();\n      shape.attr('path', curvePath);\n      shape.animate(\n        {\n          path: rectPath,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private rectToCircle(shapes) {\n    each(shapes, (shape) => {\n      const coord = shape.get('coord');\n      const { points } = shape.get('origin');\n      const ps = [];\n      each(points, (p) => {\n        ps.push(coord.convertPoint(p));\n      });\n      const bbox = shape.getBBox();\n      const width = bbox.width;\n      const height = bbox.height;\n      const centerX = bbox.minX + width / 2;\n      const centerY = bbox.minY + height / 2;\n      const offsetRatio = this.options.sizeField ? 1 : 0.9;\n      const curvePath = getCircleCurve(centerX, centerY, (Math.min(width, height) / 2) * offsetRatio);\n      const circlePath = getCirclePath(centerX, centerY, (Math.min(width, height) / 2) * offsetRatio);\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: curvePath,\n        },\n        500,\n        'easeLinear',\n        () => {\n          shape.attr('path', circlePath);\n        }\n      );\n    });\n  }\n\n  private rectSizeMapping(shapes, scale, field) {\n    each(shapes, (shape) => {\n      const data = shape.get('origin').data;\n      const ratio = 0.3 + scale.scale(data[field]) * 0.6;\n      shape.get('origin').size = ratio;\n      const bbox = shape.getBBox();\n      const width = bbox.width;\n      const height = bbox.height;\n      const centerX = bbox.minX + width / 2;\n      const centerY = bbox.minY + height / 2;\n      const path = getRectPath(centerX, centerY, width, height, ratio);\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private circleSizeMapping(shapes, scale, field) {\n    each(shapes, (shape) => {\n      const data = shape.get('origin').data;\n      const ratio = 0.3 + scale.scale(data[field]) * 0.6;\n      const { x, y, size } = shape.get('origin');\n      const path = getCirclePath(x, y, size * ratio);\n      shape.get('origin').size = size * ratio;\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private circleDisableSizeMapping(shapes) {\n    this.options.sizeField = null;\n    each(shapes, (shape) => {\n      const { x, y } = shape.get('origin');\n      const size = Math.min(this.gridSize[0], this.gridSize[1]) * 0.9;\n      shape.get('origin').size = size / 2;\n      const path = getCirclePath(x, y, size / 2);\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private rectDisableSizeMapping(shapes) {\n    this.options.sizeField = null;\n    each(shapes, (shape) => {\n      const bbox = shape.getBBox();\n      const width = bbox.width;\n      const height = bbox.height;\n      const centerX = bbox.minX + width / 2;\n      const centerY = bbox.minY + height / 2;\n      const path = getRectPath(centerX, centerY, this.gridSize[0], this.gridSize[1], 1);\n      shape.get('origin').size = 1;\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private getShapes() {\n    const elements = this.view.geometries[0].elements;\n    const shapes = [];\n    each(elements, (ele) => {\n      shapes.push(ele.shape);\n    });\n    return shapes;\n  }\n\n  protected renderPlotComponents() {\n    each(this.plotComponents, (component) => {\n      component.destroy();\n    });\n    this.plotComponents = [];\n    const componentsType = ['label', 'legend'];\n    each(componentsType, (t) => {\n      const cfg = {\n        view: this.view,\n        plot: this,\n        ...this.options[t],\n      };\n      const component = getPlotComponents(this, t, cfg);\n      if (component) {\n        component.render();\n        this.plotComponents.push(component);\n      }\n    });\n  }\n}\n\nregisterPlotType('heatmap', HeatmapLayer);\n","import { registerShape } from '../../dependents';\n\nexport function getRectPath(cx, cy, width, height, size) {\n  const w = width * size;\n  const h = height * size;\n  const path = [\n    ['M', cx - w / 2, cy + h / 2],\n    ['Q', cx - w / 2, cy, cx - w / 2, cy - h / 2],\n    ['Q', cx, cy - h / 2, cx + w / 2, cy - h / 2],\n    ['Q', cx + w / 2, cy, cx + w / 2, cy + h / 2],\n    ['Q', cx, cy + h / 2, cx - w / 2, cy + h / 2],\n    ['Z'],\n  ];\n  return path;\n}\n\nexport function getCirclePath(x, y, size) {\n  const path = [\n    ['M', x, y],\n    ['l', -size, 0],\n    ['a', size, size, 0, 1, 0, size * 2, 0],\n    ['a', size, size, 0, 1, 0, -(size * 2), 0],\n    ['Z'],\n  ];\n  return path;\n}\n\nexport function getCircleCurve(x, y, size) {\n  // 计算四个角和中点\n  const path = [\n    ['M', x - size, y],\n    ['Q', x - size, y - size, x, y - size],\n    ['Q', x + size, y - size, x + size, y],\n    ['Q', x + size, y + size, x, y + size],\n    ['Q', x - size, y + size, x - size, y],\n    ['Z'],\n  ];\n  return path;\n}\n\nregisterShape('polygon', 'rect', {\n  draw(cfg, container) {\n    const points = this.parsePoints(cfg.points);\n    const width = points[2].x - points[0].x;\n    const height = points[0].y - points[1].y;\n    const centerX = points[0].x + width / 2;\n    const centerY = points[1].y + height / 2;\n    /*\n        const path = [\n          ['M', centerX - w / 2, centerY + h / 2],\n          ['L', centerX - w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY + h / 2],\n          ['Z'],\n        ];\n        */\n    const path = getRectPath(centerX, centerY, width, height, cfg.size);\n    return container.addShape('path', {\n      attrs: {\n        path,\n        fill: cfg.color,\n        opacity: 1,\n      },\n    });\n  },\n});\n\nregisterShape('point', 'curvePoint', {\n  draw(cfg, container) {\n    const path = getCirclePath(cfg.x, cfg.y, cfg.size);\n    return container.addShape('path', {\n      attrs: {\n        path,\n        fill: cfg.color,\n        opacity: 1,\n      },\n    });\n  },\n});\n","import MatrixLabel from './label';\nimport MatrixLegend from './legend';\n\nconst ComponentsInfo = {\n  label: { Ctr: MatrixLabel },\n  legend: { Ctr: MatrixLegend, padding: 'outer' },\n};\n\nexport function getPlotComponents(plot, type, cfg) {\n  if (plot.options[type] && plot.options[type].visible) {\n    const componentInfo = ComponentsInfo[type];\n    const component = new componentInfo.Ctr(cfg);\n    if (componentInfo.padding) {\n      plot.paddingController.registerPadding(component, componentInfo.padding);\n    }\n    return component;\n  }\n}\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup } from '../../../dependents';\nimport { rgb2arr, mappingColor } from '../../../util/color';\n\nexport interface MatrixLabelConfig {\n  visible: boolean;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IMatrixLabel extends MatrixLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class MatrixLabel {\n  public options: MatrixLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  private container: IGroup;\n\n  constructor(cfg: IMatrixLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.view.geometries[0].labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const elements = this.view.geometries[0].elements;\n    each(elements, (ele) => {\n      const { shape } = ele;\n      const { style, offsetX, offsetY } = this.options;\n      const formatter = this.options.formatter;\n      const content = formatter ? formatter(this.getContent(shape)) : this.getContent(shape);\n      const position = this.getPosition(shape);\n      const color = this.getTextColor(shape);\n      const label = this.container.addShape('text', {\n        attrs: deepMix({}, style, {\n          x: position.x + offsetX,\n          y: position.y + offsetY,\n          text: content,\n          fill: color,\n          textAlign: 'center',\n          textBaseline: 'middle',\n        }),\n        name: 'label',\n      });\n      if (this.options.adjustPosition) {\n        this.adjustLabel(label, shape);\n      }\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      style: clone(labelStyle),\n    };\n  }\n\n  protected getContent(shape) {\n    const data = shape.get('origin').data;\n    const field = this.plot.options.colorField;\n    return data[field];\n  }\n\n  protected getPosition(shape) {\n    const bbox = shape.getBBox();\n    return {\n      x: bbox.minX + bbox.width / 2,\n      y: bbox.minY + bbox.height / 2,\n    };\n  }\n\n  protected getTextColor(shape) {\n    if (this.options.adjustColor) {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = this.options.style.fill;\n    return defaultColor;\n  }\n\n  protected adjustLabel(label, shape) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (labelRange.width > shapeRange.width || labelRange.height > shapeRange.height) {\n      label.attr('text', '');\n    }\n  }\n}\n","import { each, isArray, deepMix } from '@antv/util';\nimport BBox from '../../../util/bbox';\nimport { View, IGroup, IShape } from '../../../dependents';\n\nconst LABEL_MARGIN = 4;\n\nexport interface MatrixLegendConfig {\n  visible?: boolean;\n  position?: string;\n  width?: number;\n  height?: number;\n  text?: {\n    style?: any;\n    formatter?: () => string;\n  };\n  ticklineStyle?: any;\n  anchorStyle?: any;\n  triggerOn?: string;\n}\n\nexport interface IMatrixLegend extends MatrixLegendConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class MatrixLegend {\n  public options: IMatrixLegend;\n  public container: IGroup;\n  public anchor: IShape;\n  public afterRender: boolean;\n  public destroyed: boolean = false;\n  protected view: View;\n  protected layout: string;\n  protected width: number;\n  protected height: number;\n  protected position: string;\n  protected x: number;\n  protected y: number;\n  protected dataSlides: any = {};\n  protected colorScale: any;\n  private interactiveEvents: any = {};\n\n  constructor(cfg: IMatrixLegend) {\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  public init() {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    const plotContainer = this.options.plot.container;\n    if (this.container) {\n      this.container.remove();\n    }\n    this.container = plotContainer.addGroup();\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.options.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const scales = this.view.geometries[0].scales;\n    const colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    const { min, max } = this.colorScale;\n    const { color } = this.options.plot.options;\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n    this.legendLayout();\n    this.addInteraction();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      const children = this.container.get('children');\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.offEvent();\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    const origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  }\n\n  protected renderVertical(min: number, max: number, colors: string[]) {\n    const valueStep = (max - min) / (colors.length - 1);\n    const colorStep = 1 / (colors.length - 1);\n    const tickStep = this.height / (colors.length - 1);\n    let gradientColor = 'l(90)';\n    each(colors, (c, index) => {\n      const stepNum = colorStep * index;\n      gradientColor += `${stepNum}:${c} `;\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor,\n      },\n      name: 'legend',\n    });\n    // draw tick and label\n    each(colors, (c, index) => {\n      // tick\n      const step = tickStep * index;\n      this.container.addShape('path', {\n        attrs: {\n          path: [\n            ['M', 0, step],\n            ['L', this.width, step],\n          ],\n          ...this.options.ticklineStyle,\n        },\n      });\n      // value\n      const value = Math.round(valueStep * index);\n      this.container.addShape('text', {\n        attrs: {\n          text: value,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          x: this.width + LABEL_MARGIN,\n          y: step,\n          ...this.options.text.style,\n        },\n        name: 'legend-label',\n      });\n    });\n    //anchor\n    const tri_width = 10;\n    const tri_height = 14;\n    const tri_path = [['M', -tri_width, -tri_height / 2], ['L', 0, 0], ['L', -tri_width, tri_height / 2], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: {\n        path: tri_path,\n        ...this.options.anchorStyle,\n      },\n    });\n    this.anchor.set('visible', false);\n  }\n\n  protected renderHorizontal(min: number, max: number, colors: string[]) {\n    const valueStep = (max - min) / (colors.length - 1);\n    const colorStep = 1 / (colors.length - 1);\n    const tickStep = this.width / (colors.length - 1);\n    let gradientColor = 'l(0)';\n    each(colors, (c, index) => {\n      const stepNum = colorStep * index;\n      gradientColor += `${stepNum}:${c} `;\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor,\n      },\n      name: 'legend',\n    });\n    // draw tick and label\n    each(colors, (c, index) => {\n      // tick\n      const step = tickStep * index;\n      this.container.addShape('path', {\n        attrs: {\n          path: [\n            ['M', step, 0],\n            ['L', step, this.height],\n          ],\n          ...this.options.ticklineStyle,\n        },\n        name: 'legend-label',\n      });\n      // value\n      const value = Math.round(valueStep * index);\n      this.container.addShape('text', {\n        attrs: {\n          text: value,\n          textAlign: 'center',\n          textBaseline: 'top',\n          x: step,\n          y: this.height + LABEL_MARGIN,\n          ...this.options.text.style,\n        },\n      });\n    });\n    //anchor\n    const tri_width = 14;\n    const tri_height = 10;\n    const tri_path = [['M', 0, 0], ['L', -tri_width / 2, -tri_height], ['L', tri_width / 2, -tri_height], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: {\n        path: tri_path,\n        ...this.options.anchorStyle,\n      },\n    });\n    this.anchor.set('visible', false);\n  }\n\n  protected getLayout() {\n    const positions = this.options.position.split('-');\n    this.position = positions[0];\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n    return 'horizontal';\n  }\n\n  protected getDefaultWidth() {\n    if (this.layout === 'horizontal') {\n      const width = this.view.coordinateBBox.width;\n      return width;\n    }\n    return 10;\n  }\n\n  protected getDefaultHeight() {\n    if (this.layout === 'vertical') {\n      const height = this.view.coordinateBBox.height;\n      return height;\n    }\n    return 10;\n  }\n\n  protected legendLayout() {\n    const panelRange = this.view.coordinateBBox;\n    const { bleeding } = this.options.plot.getPlotTheme();\n    if (isArray(bleeding)) {\n      each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](this.options.plot.options);\n        }\n      });\n    }\n    const bbox = this.container.getBBox();\n    let x = 0;\n    let y = 0;\n    const positions = this.options.position.split('-');\n    const plotWidth = this.options.plot.width;\n    const plotHeight = this.options.plot.height;\n    // 先确定x\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.width === panelRange.width) {\n        x = panelRange.x;\n      } else {\n        x = (plotWidth - bbox.width) / 2;\n      }\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    }\n    // 再确定y\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = this.getTopPosition(bleeding);\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.height === panelRange.height) {\n        y = panelRange.y;\n      } else {\n        //用户自行设定\n        y = (plotHeight - bbox.height) / 2;\n      }\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n\n    this.container.translate(x, y);\n  }\n\n  protected getDefaultOptions() {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)',\n        },\n      },\n      ticklineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.8)',\n      },\n      anchorStyle: {\n        fill: 'rgba(0,0,0,0.5)',\n      },\n      triggerOn: 'mousemove',\n    };\n  }\n\n  protected addInteraction() {\n    let geomType;\n    if (this.options.plot.options.shapeType === 'rect') {\n      geomType = 'polygon';\n    } else {\n      geomType = 'point';\n    }\n\n    const eventName = `${geomType}:${this.options.triggerOn}`;\n    const labelEventName = `label:${this.options.triggerOn}`;\n    const field = this.options.plot.options.colorField;\n    const { min, max } = this.colorScale;\n\n    const geomEventHandler = (ev) => {\n      const value = ev.data.data[field];\n      const ratio = (value - min) / (max - min);\n      this.moveAnchor(ratio);\n    };\n    this.view.on(eventName, geomEventHandler);\n    this.interactiveEvents[eventName] = {\n      target: this.view,\n      handler: geomEventHandler,\n    };\n\n    /*this.view.on(labelEventName, (ev) => {\n      const value = ev.data[field];\n      const ratio = (value - min) / (max - min);\n      this.moveAnchor(ratio);\n    });*/\n\n    const mouseleaveHandler = (ev) => {\n      this.anchor.set('visible', false);\n    };\n    this.options.plot.canvas.on('mouseleave', mouseleaveHandler);\n    this.interactiveEvents.mouseleave = {\n      target: this.options.plot.canvas,\n      handler: mouseleaveHandler,\n    };\n  }\n\n  private moveAnchor(ratio: number) {\n    this.anchor.set('visible', true);\n    if (this.layout === 'vertical') {\n      const pos = this.height * ratio;\n      const ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[7] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate(\n        {\n          matrix: ulMatrix,\n        },\n        400,\n        'easeLinear'\n      );\n    } else {\n      const pos = this.width * ratio;\n      const ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[6] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate(\n        {\n          matrix: ulMatrix,\n        },\n        400,\n        'easeLinear'\n      );\n    }\n  }\n\n  private getTopPosition(bleeding) {\n    if (this.options.plot.description) {\n      const bbox = this.options.plot.description.getBBox();\n      return bbox.maxY + 10;\n    } else if (this.options.plot.title) {\n      const bbox = this.options.plot.title.getBBox();\n      return bbox.maxY + 10;\n    }\n    return bleeding[0];\n  }\n\n  private offEvent() {\n    each(this.interactiveEvents, (event, key) => {\n      const { target, handler } = event;\n      target.off(key, handler);\n    });\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport WordCloudLayer, { WordCloudViewConfig } from './layer';\nimport { registerPlotType } from '../../base/global';\n\nexport interface WordCloudPlotConfig extends PlotConfig {\n  container?: HTMLDivElement;\n}\nexport interface WordCloudConfig extends WordCloudViewConfig, WordCloudPlotConfig {}\n\nexport default class WordCloud extends BasePlot<WordCloudConfig> {\n  constructor(container: HTMLElement, props: WordCloudConfig) {\n    // only canvas works for now\n    props.renderer = 'canvas';\n    super(container, props);\n  }\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'wordCloud';\n    layerProps.container = this.containerDOM;\n    super.createLayers(layerProps);\n  }\n}\nregisterPlotType('wordCloud', WordCloudLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { LayerConfig } from '../..';\nimport { get, deepMix } from '@antv/util';\nimport Layer from '../../base/layer';\nimport WordCloudTooltips from './word-cloud-tooltips';\n\nimport WordCloud from './wordcloud2';\nimport { WordCloudPlotConfig } from './index';\n\nexport type CloudShape =\n  | 'circle'\n  | 'square'\n  | 'cardioid'\n  | 'diamond'\n  | 'triangle'\n  | 'triangle-forward'\n  | 'triangle-backward'\n  | 'triangle-up'\n  | 'triangle-down'\n  | 'pentagon'\n  | 'star';\nexport type Dimension = {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n};\n\ntype MaskImage = {\n  maskImageCanvas: HTMLCanvasElement;\n  maskImageContext: CanvasRenderingContext2D;\n};\n\nexport type WordCloudData = {\n  word: string;\n  weight: number;\n  id: number; // index in data array. treat as unique id\n  color?: string; // cloud's color\n};\n\n/**\n * Inner start function, refresh canvas immediately(no any delay draw all 'cloud'\n * nearly at same time) with specific id\n */\nexport type InnerStartFunction = (selected: number) => void;\n\nexport type Active = {\n  shadowColor?: string;\n  shadowBlur?: number;\n};\n\nexport type WordStyle = {\n  fontFamily?: string;\n  // normal, lighter, bold, bolder, 100~900\n  fontWeight?: string | ((word: string, weight: number) => string);\n  color?: string | ((word: string, weight: number) => string);\n\n  active?: Active;\n  animatable?: boolean;\n\n  // [min, max] ->  random by steps(each step (max - min) / steps))\n  rotation?: [number, number];\n  rotationSteps?: number;\n  // the ratio of rotate\n  rotateRatio?: number;\n\n  // font's max and min size(determine by cloud's weight)\n  fontSize?: [number, number];\n\n  gridSize?: number;\n  drawOutOfBound?: boolean;\n\n  // scale 1/4 font weight each time till fit in\n  // shrinkToFit?: boolean;\n  // reset cloud's [x,y]\n  // origin?: [number, number];\n};\n\nexport interface WordCloudViewConfig extends WordCloudPlotConfig {\n  data: Array<WordCloudData> | Function;\n  // mask image, black-white pixel image will be better\n  maskImage?: string;\n  backgroundColor?: string;\n  wordStyle?: WordStyle;\n  shuffle?: boolean;\n  selected?: number;\n  tooltip?: {\n    visible: boolean;\n  };\n  shape?: CloudShape | Function;\n\n  onWordCloudHover?: (item: WordCloudData, dimension: Dimension, evt: MouseEvent, start: InnerStartFunction) => {};\n  onWordCloudClick?: (item: WordCloudData, dimension: Dimension, evt: MouseEvent) => {};\n\n  // clear before start\n  // clearCanvas?: boolean;\n  // wait milliseconds before next item show\n  // wait?: number;\n  // If the call with in the loop takes more than x milliseconds (and blocks the browser), abort immediately.\n  // abortThreshold?: number;\n  // abort callback\n  // abort?: () => {};\n  // shape's ellipticity [0,1]\n  // ellipticity?: number;\n  // ONLY FOR DEBUG, DON'T USE US\n  // drawMask?: boolean;\n  // maskColor?: string;\n  // maskGapWidth?: number;\n  // hide for now\n  // classes?: (word: string, weight: number) => string;\n}\n\ninterface WordCloudLayerConfig extends WordCloudViewConfig, LayerConfig {}\n\nexport default class WordCloudLayer extends Layer<WordCloudLayerConfig> {\n  private _targetCanvas: HTMLCanvasElement;\n  private _toolTips: WordCloudTooltips;\n  private readonly _configHoverAction: Function;\n  private readonly _enableToolTips: boolean;\n\n  constructor(props: WordCloudLayerConfig) {\n    super(props);\n    this._configHoverAction = props.onWordCloudHover;\n    this._enableToolTips = get(props, 'tooltip.visible', true);\n    this.options = deepMix(\n      {},\n      {\n        width: 400,\n        height: 400,\n        enableToolTips: true,\n      },\n      props,\n      // replace use config's hover action if needed, and trigger later\n      {\n        onWordCloudHover: this._enableToolTips ? this._toolTipsAction : this._configHoverAction,\n      }\n    );\n  }\n\n  public init() {\n    super.init();\n    this._initToolTips();\n  }\n\n  public render() {\n    super.render();\n    this._render();\n  }\n\n  private _toolTipsAction = (item: WordCloudData, dimension: Dimension, evt: MouseEvent, start: InnerStartFunction) => {\n    if (dimension) {\n      this._toolTips.update({\n        items: [\n          {\n            color: item.color || 'red',\n            name: item.word,\n            value: item.weight,\n          },\n        ],\n        x: evt.offsetX,\n        y: evt.offsetY,\n      });\n      this._toolTips.show();\n    } else {\n      this._toolTips.hide();\n    }\n    this._toolTips.render();\n    this._configHoverAction && this._configHoverAction(item, dimension, evt, start);\n  };\n\n  private _initToolTips() {\n    this._toolTips = new WordCloudTooltips({\n      showTitle: false,\n      visible: false,\n      parent: this.options.container,\n      follow: true,\n      inPanel: false, // must be false\n      items: [],\n    });\n    this._toolTips.init();\n  }\n\n  private _render() {\n    this._targetCanvas = this.canvas.get('el');\n    if (this.options.maskImage) {\n      this._handleMaskImage();\n    } else {\n      // mask image not exist\n      this._start();\n    }\n  }\n\n  private _handleMaskImage() {\n    const image = new Image();\n    image.src = this.options.maskImage + '?' + new Date().getTime();\n    image.crossOrigin = 'Anonymous';\n    image.onload = () => {\n      if (image.naturalHeight + image.naturalWidth === 0 || image.width + image.height === 0) {\n        this._start();\n      } else {\n        // handle no-zero image silhouette\n        this._startWithMaskImage(image);\n      }\n    };\n    image.onerror = () => {\n      console.error('image %s load failed !!!', this.options.maskImage);\n      // load image error, ignore this mask\n      this._start();\n    };\n  }\n\n  private _start() {\n    this._handleG2PlotConfig();\n    const targetCtx = this._targetCanvas.getContext('2d');\n    // it's a trick, because 「g」 use context to scale canvas by pixelRatio,\n    // but here i need scale it back\n    const pixelRatio = this.canvas.get('width') / this.canvas.get('el').width;\n    targetCtx.scale(pixelRatio, pixelRatio);\n    WordCloud(this._targetCanvas, this.options);\n  }\n\n  private _handleG2PlotConfig() {\n    const fontSize = this.options.wordStyle.fontSize || [10, 60];\n    const rotation = this.options.wordStyle.rotation || [-Math.PI / 2, Math.PI / 2];\n    let active, shadowColor, shadowBlur;\n    if (this.options.wordStyle.active) {\n      active = true;\n      shadowColor = this.options.wordStyle.active.shadowColor || '#333';\n      shadowBlur = this.options.wordStyle.active.shadowBlur || 10;\n    } else {\n      active = false;\n    }\n    this.options = deepMix({}, this.options, {\n      minFontSize: fontSize[0],\n      maxFontSize: fontSize[1],\n      minRotation: rotation[0],\n      maxRotation: rotation[1],\n      active,\n      shadowColor,\n      shadowBlur,\n    });\n  }\n\n  private _startWithMaskImage(image: HTMLImageElement) {\n    const { maskImageCanvas, maskImageContext } = this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(image));\n    /* Determine bgPixel by creating\n     another canvas and fill the specified background color. */\n    const bctx = document.createElement('canvas').getContext('2d');\n\n    bctx.fillStyle = this.options.backgroundColor || '#fff';\n    bctx.fillRect(0, 0, 1, 1);\n    const bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n\n    const imageData = maskImageContext.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    const newImageData = maskImageContext.createImageData(imageData);\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      if (imageData.data[i + 3] > 128) {\n        // keep this area's data the same as pixel color\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = bgPixel[3];\n      } else {\n        // This color must not be the same as the bgPixel.\n        // check wordcloud2.js#1192 's condition\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = 254; // just for not same as the bg color\n      }\n    }\n\n    maskImageContext.putImageData(newImageData, 0, 0);\n\n    const targetCtx = this._targetCanvas.getContext('2d');\n    targetCtx.drawImage(maskImageCanvas, 0, 0);\n    this.options = deepMix({}, this.options, { clearCanvas: false });\n\n    this._start();\n  }\n\n  private _scaleMaskImageCanvas(maskImageCanvas: HTMLCanvasElement): MaskImage {\n    const maskCanvasScaled = document.createElement('canvas');\n    // get real canvas determined by pixelRatio\n    maskCanvasScaled.width = this.canvas.get('width');\n    maskCanvasScaled.height = this.canvas.get('height');\n    const ctx = maskCanvasScaled.getContext('2d');\n    // keep scale smooth\n    ctx.imageSmoothingEnabled = true;\n    // ctx.mozImageSmoothingEnabled = true;\n    // ctx.webkitImageSmoothingEnabled = true;\n    // ctx.msImageSmoothingEnabled = true;\n    ctx.drawImage(\n      maskImageCanvas,\n      0,\n      0,\n      maskImageCanvas.width,\n      maskImageCanvas.height,\n      0,\n      0,\n      maskCanvasScaled.width,\n      maskCanvasScaled.height\n    );\n    return {\n      maskImageCanvas: maskCanvasScaled,\n      maskImageContext: ctx,\n    };\n  }\n\n  private _transformWhite2BlackPixels(image: HTMLImageElement): HTMLCanvasElement {\n    const maskImageCanvas = document.createElement('canvas');\n    maskImageCanvas.width = image.width;\n    maskImageCanvas.height = image.height;\n    const ctx = maskImageCanvas.getContext('2d');\n    ctx.drawImage(image, 0, 0, image.width, image.height);\n    const imageData = ctx.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    const SINGLE_COMPONENT_SIZE = 4;\n    const BLACK_PIXEL = 0;\n    const FULL_PIXEL = 255;\n    // R - G - B - A\n    for (let i = 0; i < imageData.data.length; i += SINGLE_COMPONENT_SIZE) {\n      const rgb = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n      const alpha = imageData.data[i + 3];\n\n      if (alpha < 128 || rgb > 250 * 3) {\n        // white area(not to draw)\n        imageData.data[i] = FULL_PIXEL;\n        imageData.data[i + 1] = FULL_PIXEL;\n        imageData.data[i + 2] = FULL_PIXEL;\n        imageData.data[i + 3] = BLACK_PIXEL;\n      } else {\n        // black area wait to draw(image black silhouette)\n        imageData.data[i] = BLACK_PIXEL;\n        imageData.data[i + 1] = BLACK_PIXEL;\n        imageData.data[i + 2] = BLACK_PIXEL;\n        imageData.data[i + 3] = FULL_PIXEL;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return maskImageCanvas;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip, TooltipCfg } from '../../dependents';\n\nexport default class WordCloudTooltips extends HtmlTooltip {\n  constructor(cfg: TooltipCfg) {\n    const newCfg = deepMix(\n      {},\n      cfg,\n      {\n        itemTpl: `<div data-index={index}>\n        <span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>\n        {name}<span class=\"g2-tooltip-value\">{value}</span></div>`,\n      },\n      cfg\n    );\n    super(newCfg);\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\n/* eslint-disable */\n// @ts-nocheck\n\n// TODO rewrite with typescript @brucetoo\n\n/*!\n * wordcloud2.js\n * http://timdream.org/wordcloud2.js/\n *\n * Copyright 2011 - 2013 Tim Chien\n * Released under the MIT license\n */\n\n'use strict';\n\n// setImmediate\nif (!window.setImmediate) {\n  window.setImmediate = (function setupSetImmediate() {\n    return (\n      window.msSetImmediate ||\n      window.webkitSetImmediate ||\n      window.mozSetImmediate ||\n      window.oSetImmediate ||\n      (function setupSetZeroTimeout() {\n        if (!window.postMessage || !window.addEventListener) {\n          return null;\n        }\n\n        var callbacks = [undefined];\n        var message = 'zero-timeout-message';\n\n        // Like setTimeout, but only takes a function argument.  There's\n        // no time argument (always zero) and no arguments (you have to\n        // use a closure).\n        var setZeroTimeout = function setZeroTimeout(callback) {\n          var id = callbacks.length;\n          callbacks.push(callback);\n          window.postMessage(message + id.toString(36), '*');\n\n          return id;\n        };\n\n        window.addEventListener(\n          'message',\n          function setZeroTimeoutMessage(evt) {\n            // Skipping checking event source, retarded IE confused this window\n            // object with another in the presence of iframe\n            if (\n              typeof evt.data !== 'string' ||\n              evt.data.substr(0, message.length) !== message /* ||\n            evt.source !== window */\n            ) {\n              return;\n            }\n\n            evt.stopImmediatePropagation();\n\n            var id = parseInt(evt.data.substr(message.length), 36);\n            if (!callbacks[id]) {\n              return;\n            }\n\n            callbacks[id]();\n            callbacks[id] = undefined;\n          },\n          true\n        );\n\n        /* specify clearImmediate() here since we need the scope */\n        window.clearImmediate = function clearZeroTimeout(id) {\n          if (!callbacks[id]) {\n            return;\n          }\n\n          callbacks[id] = undefined;\n        };\n\n        return setZeroTimeout;\n      })() ||\n      // fallback\n      function setImmediateFallback(fn) {\n        window.setTimeout(fn, 0);\n      }\n    );\n  })();\n}\n\nif (!window.clearImmediate) {\n  window.clearImmediate = (function setupClearImmediate() {\n    return (\n      window.msClearImmediate ||\n      window.webkitClearImmediate ||\n      window.mozClearImmediate ||\n      window.oClearImmediate ||\n      // \"clearZeroTimeout\" is implement on the previous block ||\n      // fallback\n      function clearImmediateFallback(timer) {\n        window.clearTimeout(timer);\n      }\n    );\n  })();\n}\n\n// Check if WordCloud can run on this browser\nvar isSupported = (function isSupported() {\n  var canvas = document.createElement('canvas');\n  if (!canvas || !canvas.getContext) {\n    return false;\n  }\n\n  var ctx = canvas.getContext('2d');\n  if (!ctx.getImageData) {\n    return false;\n  }\n  if (!ctx.fillText) {\n    return false;\n  }\n\n  if (!Array.prototype.some) {\n    return false;\n  }\n  if (!Array.prototype.push) {\n    return false;\n  }\n\n  return true;\n})();\n\n// Find out if the browser impose minium font size by\n// drawing small texts on a canvas and measure it's width.\nvar minFontSize = (function getMinFontSize() {\n  if (!isSupported) {\n    return;\n  }\n\n  var ctx = document.createElement('canvas').getContext('2d');\n\n  // start from 20\n  var size = 20;\n\n  // two sizes to measure\n  var hanWidth, mWidth;\n\n  while (size) {\n    ctx.font = size.toString(10) + 'px sans-serif';\n    if (ctx.measureText('\\uFF37').width === hanWidth && ctx.measureText('m').width === mWidth) {\n      return size + 1;\n    }\n\n    hanWidth = ctx.measureText('\\uFF37').width;\n    mWidth = ctx.measureText('m').width;\n\n    size--;\n  }\n\n  return 0;\n})();\n\n// Based on http://jsfromhell.com/array/shuffle\nvar shuffleArray = function shuffleArray(arr) {\n  for (var j, x, i = arr.length; i; j = Math.floor(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x) {}\n  return arr;\n};\n\nvar WordCloud = function WordCloud(elements, options) {\n  if (!isSupported) {\n    return;\n  }\n\n  if (!Array.isArray(elements)) {\n    elements = [elements];\n  }\n\n  elements.forEach(function(el, i) {\n    if (typeof el === 'string') {\n      elements[i] = document.getElementById(el);\n      if (!elements[i]) {\n        throw 'The element id specified is not found.';\n      }\n    } else if (!el.tagName && !el.appendChild) {\n      throw 'You must pass valid HTML elements, or ID of the element.';\n    }\n  });\n\n  /* Default values to be overwritten by options object */\n  var settings = {\n    data: [],\n    fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", ' + '\"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n    fontWeight: 'normal',\n    color: 'random-dark',\n    animatable: true,\n\n    minFontSize: minFontSize, // browser's min font size default\n    maxFontSize: 60, // max font size default is 60\n\n    clearCanvas: true,\n    backgroundColor: '#fff', // opaque white = rgba(255, 255, 255, 1)\n\n    gridSize: 8,\n    drawOutOfBound: false,\n    origin: null,\n\n    drawMask: false,\n    maskColor: 'rgba(255,0,0,0.3)',\n    maskGapWidth: 0.3,\n\n    wait: 0,\n    abortThreshold: 0, // disabled\n    abort: function noop() {},\n\n    minRotation: -Math.PI / 2,\n    maxRotation: Math.PI / 2,\n    rotateRatio: 0.5,\n    rotationSteps: 1,\n\n    shuffle: true,\n\n    shape: 'circle',\n    ellipticity: 1,\n\n    active: true,\n    animatable: true,\n    selected: -1,\n    shadowColor: '#333',\n    shadowBlur: 10,\n\n    classes: null,\n\n    onWordCloudHover: null,\n    onWordCloudClick: null,\n  };\n\n  const interactionItems = [];\n\n  if (options) {\n    for (var key in options) {\n      if (key === 'wordStyle') {\n        for (let fontKey in options[key]) {\n          if (fontKey in settings) {\n            settings[fontKey] = options[key][fontKey];\n          }\n        }\n      } else {\n        if (key in settings) {\n          settings[key] = options[key];\n        }\n      }\n    }\n  }\n\n  if (settings.minFontSize < minFontSize) {\n    // can't less than browse's min font size\n    settings.minFontSize = minFontSize;\n  }\n\n  if (settings.minFontSize > settings.maxFontSize) {\n    console.error('minSize cant bigger than maxSize');\n    return;\n  }\n\n  let maxWeight = 0;\n  for (let i = 0; i < settings.data.length; i++) {\n    if (maxWeight < settings.data[i].weight) {\n      maxWeight = settings.data[i].weight;\n    }\n  }\n\n  var getRealFontSize = function getRealFontSize(weight) {\n    return Math.min(Math.max(settings.minFontSize, (settings.maxFontSize * weight) / maxWeight), settings.maxFontSize);\n  };\n\n  var isCardioid = false;\n  /* Convert shape into a function */\n  if (typeof settings.shape !== 'function') {\n    switch (settings.shape) {\n      case 'circle':\n      /* falls through */\n      default:\n        // 'circle' is the default and a shortcut in the code loop.\n        settings.shape = 'circle';\n        break;\n\n      case 'cardioid':\n        // https://baike.baidu.com/item/%E5%BF%83%E8%84%8F%E7%BA%BF/10323843?fromtitle=%E5%BF%83%E5%BD%A2%E7%BA%BF&fromid=10018818\n        settings.shape = function shapeCardioid(theta) {\n          return 1 - Math.sin(theta);\n        };\n        isCardioid = true;\n        break;\n\n      /*\n      To work out an X-gon, one has to calculate \"m\",\n      where 1/(cos(2*PI/X)+m*sin(2*PI/X)) = 1/(cos(0)+m*sin(0))\n      http://www.wolframalpha.com/input/?i=1%2F%28cos%282*PI%2FX%29%2Bm*sin%28\n      2*PI%2FX%29%29+%3D+1%2F%28cos%280%29%2Bm*sin%280%29%29\n      Copy the solution into polar equation r = 1/(cos(t') + m*sin(t'))\n      where t' equals to mod(t, 2PI/X);\n      */\n\n      case 'diamond':\n        settings.shape = function shapeSquare(theta) {\n          const thetaPrime = theta % ((2 * Math.PI) / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n        break;\n      case 'square':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+PI%2F2%29%29%2Bsin%28mod+%28t%2C+PI%2F2%29%29%29%2C+t+%3D\n        // +0+..+2*PI\n        settings.shape = function shapeSquare(theta) {\n          const thetaPrime = (theta + Math.PI / 4) % ((2 * Math.PI) / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'triangle-forward':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+2*PI%2F3%29%29%2Bsqrt%283%29sin%28mod+%28t%2C+2*PI%2F3%29\n        // %29%29%2C+t+%3D+0+..+2*PI\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = theta % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'triangle-backward':\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = (theta + Math.PI) % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'triangle':\n      case 'triangle-up':\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = (theta + (Math.PI * 3) / 2) % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n      case 'triangle-down':\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = (theta + (Math.PI * 5) / 2) % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'pentagon':\n        settings.shape = function shapePentagon(theta) {\n          const thetaPrime = (theta + 0.955) % ((2 * Math.PI) / 5);\n          return 1 / (Math.cos(thetaPrime) + 0.726543 * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'star':\n        settings.shape = function shapeStar(theta) {\n          const thetaPrime = (theta + 0.955) % ((2 * Math.PI) / 10);\n          if (((theta + 0.955) % ((2 * Math.PI) / 5)) - (2 * Math.PI) / 10 >= 0) {\n            return (\n              1 / (Math.cos((2 * Math.PI) / 10 - thetaPrime) + 3.07768 * Math.sin((2 * Math.PI) / 10 - thetaPrime))\n            );\n          } else {\n            return 1 / (Math.cos(thetaPrime) + 3.07768 * Math.sin(thetaPrime));\n          }\n        };\n        break;\n    }\n  }\n\n  /* Make sure gridSize is a whole number and is not smaller than 4px */\n  settings.gridSize = Math.max(Math.floor(settings.gridSize), 4);\n\n  /* shorthand */\n  var g = settings.gridSize;\n  var maskRectWidth = g - settings.maskGapWidth;\n\n  /* normalize rotation settings */\n  var rotationRange = Math.abs(settings.maxRotation - settings.minRotation);\n  var minRotation = Math.min(settings.maxRotation, settings.minRotation);\n  var rotationSteps = settings.rotationSteps;\n\n  /* information/object available to all functions, set when start() */\n  var grid, // 2d array containing filling information\n    ngx,\n    ngy, // width and height of the grid\n    center, // position of the center of the cloud\n    maxRadius;\n\n  /* timestamp for measuring each putWord() action */\n  var escapeTime;\n\n  /* function for getting the color of the text */\n  var getTextColor;\n  function random_hsl_color(min, max) {\n    return (\n      'hsl(' +\n      (Math.random() * 360).toFixed() +\n      ',' +\n      (Math.random() * 30 + 70).toFixed() +\n      '%,' +\n      (Math.random() * (max - min) + min).toFixed() +\n      '%)'\n    );\n  }\n  switch (settings.color) {\n    case 'random-dark':\n      getTextColor = function getRandomDarkColor() {\n        return random_hsl_color(10, 50);\n      };\n      break;\n\n    case 'random-light':\n      getTextColor = function getRandomLightColor() {\n        return random_hsl_color(50, 90);\n      };\n      break;\n\n    default:\n      if (typeof settings.color === 'function') {\n        getTextColor = settings.color;\n      }\n      break;\n  }\n\n  /* function for getting the classes of the text */\n  var getTextClasses = null;\n  if (typeof settings.classes === 'function') {\n    getTextClasses = settings.classes;\n  }\n\n  /* Interactive */\n  var interactive = false;\n  var infoGrid = [];\n  var hovered;\n\n  var getInfoGridFromMouseTouchEvent = function getInfoGridFromMouseTouchEvent(evt) {\n    var canvas = evt.currentTarget;\n    var rect = canvas.getBoundingClientRect();\n    var clientX;\n    var clientY;\n    /** Detect if touches are available */\n    if (evt.touches) {\n      clientX = evt.touches[0].clientX;\n      clientY = evt.touches[0].clientY;\n    } else {\n      clientX = evt.clientX;\n      clientY = evt.clientY;\n    }\n    var eventX = clientX - rect.left;\n    var eventY = clientY - rect.top;\n\n    var x = Math.floor((eventX * (canvas.width / rect.width || 1)) / g);\n    var y = Math.floor((eventY * (canvas.height / rect.height || 1)) / g);\n\n    return infoGrid && infoGrid[x] && infoGrid[x][y];\n  };\n\n  var defaultHoverAction = function defaultHoverAction(item, dimension, evt, start) {\n    if (item) {\n      start(item.id);\n    } else {\n      start(-1);\n    }\n  };\n\n  var wordcloudhover = function wordcloudhover(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n\n    if (hovered === info) {\n      return;\n    }\n\n    if (!info) {\n      settings.onWordCloudHover(undefined, undefined, evt, start);\n      if (settings.active) {\n        defaultHoverAction(undefined, undefined, evt, start);\n      }\n      return;\n    }\n\n    settings.onWordCloudHover(info.item, info.dimension, evt, start);\n    if (settings.active) {\n      defaultHoverAction(info.item, info.dimension, evt, start);\n    }\n    hovered = info;\n  };\n\n  var wordcloudclick = function wordcloudclick(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n    if (!info) {\n      return;\n    }\n\n    settings.onWordCloudClick(info.item, info.dimension, evt);\n    evt.preventDefault();\n  };\n\n  /* Get points on the grid for a given radius away from the center */\n  var pointsAtRadius = [];\n  var getPointsAtRadius = function getPointsAtRadius(radius) {\n    if (pointsAtRadius[radius]) {\n      return pointsAtRadius[radius];\n    }\n\n    // Look for these number of points on each radius\n    var T = radius * 8;\n\n    // Getting all the points at this radius\n    var t = T;\n    var points = [];\n\n    if (radius === 0) {\n      points.push([center[0], center[1], 0]);\n    }\n\n    while (t--) {\n      // distort the radius to put the cloud in shape\n      var rx = 1;\n      if (settings.shape !== 'circle') {\n        rx = settings.shape((t / T) * 2 * Math.PI); // 0 to 1\n      }\n\n      // Push [x, y, t]; t is used solely for getTextColor()\n      points.push([\n        center[0] + radius * rx * Math.cos((-t / T) * 2 * Math.PI),\n        center[1] + radius * rx * Math.sin((-t / T) * 2 * Math.PI) * settings.ellipticity,\n        (t / T) * 2 * Math.PI,\n      ]);\n    }\n\n    pointsAtRadius[radius] = points;\n    return points;\n  };\n\n  /* Return true if we had spent too much time */\n  var exceedTime = function exceedTime() {\n    return settings.abortThreshold > 0 && new Date().getTime() - escapeTime > settings.abortThreshold;\n  };\n\n  /* Get the deg of rotation according to settings, and luck. */\n  var getRotateDeg = function getRotateDeg() {\n    if (settings.rotateRatio === 0) {\n      return 0;\n    }\n\n    if (Math.random() > settings.rotateRatio) {\n      return 0;\n    }\n\n    if (rotationRange === 0) {\n      return minRotation;\n    }\n\n    // return minRotation + Math.round(Math.random() * rotationRange / rotationSteps) * rotationSteps;\n\n    if (rotationSteps > 0) {\n      // Min rotation + zero or more steps * span of one step\n      return minRotation + (Math.floor(Math.random() * rotationSteps) * rotationRange) / rotationSteps;\n    } else {\n      return minRotation + Math.random() * rotationRange;\n    }\n  };\n\n  var getTextInfo = function getTextInfo(word, weight, rotateDeg) {\n    // calculate the acutal font size\n    // fontSize === 0 means wants the text skipped,\n    // and size < minSize means we cannot draw the text\n    var debug = false;\n    var fontSize = getRealFontSize(weight);\n    if (fontSize <= 0) {\n      return false;\n    }\n\n    // Scale factor here is to make sure fillText is not limited by\n    // the minium font size set by browser.\n    // It will always be 1 or 2n.\n    var mu = 1;\n    if (fontSize < minFontSize) {\n      mu = (function calculateScaleFactor() {\n        var mu = 2;\n        while (mu * fontSize < minFontSize) {\n          mu += 2;\n        }\n        return mu;\n      })();\n    }\n\n    var fcanvas = document.createElement('canvas');\n    var fctx = fcanvas.getContext('2d', { willReadFrequently: true });\n\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n    // Estimate the dimension of the text with measureText().\n    var fw = fctx.measureText(word).width / mu;\n    var fh = Math.max(fontSize * mu, fctx.measureText('m').width, fctx.measureText('\\uFF37').width) / mu;\n\n    // Create a boundary box that is larger than our estimates,\n    // so text don't get cut of (it sill might)\n    var boxWidth = fw + fh * 2;\n    var boxHeight = fh * 3;\n    var fgw = Math.ceil(boxWidth / g);\n    var fgh = Math.ceil(boxHeight / g);\n    boxWidth = fgw * g;\n    boxHeight = fgh * g;\n\n    // Calculate the proper offsets to make the text centered at\n    // the preferred position.\n\n    // This is simply half of the width.\n    var fillTextOffsetX = -fw / 2;\n    // Instead of moving the box to the exact middle of the preferred\n    // position, for Y-offset we move 0.4 instead, so Latin alphabets look\n    // vertical centered.\n    var fillTextOffsetY = -fh * 0.4;\n\n    // Calculate the actual dimension of the canvas, considering the rotation.\n    var cgh = Math.ceil((boxWidth * Math.abs(Math.sin(rotateDeg)) + boxHeight * Math.abs(Math.cos(rotateDeg))) / g);\n    var cgw = Math.ceil((boxWidth * Math.abs(Math.cos(rotateDeg)) + boxHeight * Math.abs(Math.sin(rotateDeg))) / g);\n    var width = cgw * g;\n    var height = cgh * g;\n\n    fcanvas.setAttribute('width', width);\n    fcanvas.setAttribute('height', height);\n\n    if (debug) {\n      // Attach fcanvas to the DOM\n      document.body.appendChild(fcanvas);\n      // Save it's state so that we could restore and draw the grid correctly.\n      fctx.save();\n    }\n\n    // Scale the canvas with |mu|.\n    fctx.scale(1 / mu, 1 / mu);\n    fctx.translate((width * mu) / 2, (height * mu) / 2);\n    fctx.rotate(-rotateDeg);\n\n    // Once the width/height is set, ctx info will be reset.\n    // Set it again here.\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n    // Fill the text into the fcanvas.\n    // XXX: We cannot because textBaseline = 'top' here because\n    // Firefox and Chrome uses different default line-height for canvas.\n    // Please read https://bugzil.la/737852#c6.\n    // Here, we use textBaseline = 'middle' and draw the text at exactly\n    // 0.5 * fontSize lower.\n    fctx.fillStyle = '#000';\n    fctx.textBaseline = 'middle';\n    fctx.fillText(word, fillTextOffsetX * mu, (fillTextOffsetY + fontSize * 0.5) * mu);\n\n    // Get the pixels of the text\n    var imageData;\n    try {\n      imageData = fctx.getImageData(0, 0, width, height).data;\n    } catch (e) {\n      // data not long type\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    }\n\n    if (debug) {\n      // Draw the box of the original estimation\n      fctx.strokeRect(fillTextOffsetX * mu, fillTextOffsetY, fw * mu, fh * mu);\n      fctx.restore();\n    }\n\n    // Read the pixels and save the information to the occupied array\n    var occupied = [];\n    var gx = cgw,\n      gy,\n      x,\n      y;\n    var bounds = [cgh / 2, cgw / 2, cgh / 2, cgw / 2];\n    while (gx--) {\n      gy = cgh;\n      while (gy--) {\n        y = g;\n        singleGridLoop: {\n          while (y--) {\n            x = g;\n            while (x--) {\n              if (imageData[((gy * g + y) * width + (gx * g + x)) * 4 + 3]) {\n                occupied.push([gx, gy]);\n\n                if (gx < bounds[3]) {\n                  bounds[3] = gx;\n                }\n                if (gx > bounds[1]) {\n                  bounds[1] = gx;\n                }\n                if (gy < bounds[0]) {\n                  bounds[0] = gy;\n                }\n                if (gy > bounds[2]) {\n                  bounds[2] = gy;\n                }\n\n                if (debug) {\n                  fctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n                  fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n                }\n                break singleGridLoop;\n              }\n            }\n          }\n          if (debug) {\n            fctx.fillStyle = 'rgba(0, 0, 255, 0.5)';\n            fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n          }\n        }\n      }\n    }\n\n    if (debug) {\n      // real bounds\n      fctx.fillStyle = 'rgba(0, 255, 0, 0.5)';\n      fctx.fillRect(bounds[3] * g, bounds[0] * g, (bounds[1] - bounds[3] + 1) * g, (bounds[2] - bounds[0] + 1) * g);\n    }\n\n    // Return information needed to create the text on the real canvas\n    return {\n      mu: mu,\n      occupied: occupied,\n      bounds: bounds,\n      gw: cgw,\n      gh: cgh,\n      fillTextOffsetX: fillTextOffsetX,\n      fillTextOffsetY: fillTextOffsetY,\n      fillTextWidth: fw,\n      fillTextHeight: fh,\n      fontSize: fontSize,\n    };\n  };\n\n  /* Determine if there is room available in the given dimension */\n  var canFitText = function canFitText(gx, gy, gw, gh, occupied) {\n    // Go through the occupied points,\n    // return false if the space is not available.\n    var i = occupied.length;\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        if (!settings.drawOutOfBound) {\n          return false;\n        }\n        continue;\n      }\n\n      if (!grid[px][py]) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /* Actually draw the text on the grid */\n  var drawText = function drawText(gx, gy, info, word, weight, distance, theta, rotateDeg, attributes, id, refresh) {\n    var fontSize = info.fontSize;\n    var color = settings.color;\n    var classes = settings.classes;\n    if (!refresh) {\n      if (getTextColor) {\n        color = getTextColor(word, weight, fontSize, distance, theta);\n      } else {\n        color = settings.color;\n      }\n\n      if (getTextClasses) {\n        classes = getTextClasses(word, weight, fontSize, distance, theta);\n      } else {\n        classes = settings.classes;\n      }\n    } else {\n      const find = getInteractionItemById(id);\n      color = find ? find.color : settings.color;\n    }\n\n    var dimension;\n    var bounds = info.bounds;\n    dimension = {\n      x: (gx + bounds[3]) * g,\n      y: (gy + bounds[0]) * g,\n      w: (bounds[1] - bounds[3] + 1) * g,\n      h: (bounds[2] - bounds[0] + 1) * g,\n    };\n\n    elements.forEach(function(el) {\n      if (el.getContext) {\n        var ctx = el.getContext('2d');\n        var mu = info.mu;\n\n        // Save the current state before messing it\n        ctx.save();\n        const font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n        ctx.scale(1 / mu, 1 / mu);\n\n        ctx.font = font;\n        ctx.fillStyle = color;\n\n        // Translate the canvas position to the origin coordinate of where\n        // the text should be put.\n        let transX = (gx + info.gw / 2) * g * mu;\n        let transY = (gy + info.gh / 2) * g * mu;\n        ctx.translate(transX, transY);\n\n        if (rotateDeg !== 0) {\n          ctx.rotate(-rotateDeg);\n        }\n\n        // Finally, fill the text.\n\n        // XXX: We cannot because textBaseline = 'top' here because\n        // Firefox and Chrome uses different default line-height for canvas.\n        // Please read https://bugzil.la/737852#c6.\n        // Here, we use textBaseline = 'middle' and draw the text at exactly\n        // 0.5 * fontSize lower.\n        ctx.textBaseline = 'middle';\n        if (settings.selected === id) {\n          ctx.shadowColor = settings.shadowColor;\n          ctx.shadowBlur = settings.shadowBlur;\n        }\n        ctx.fillText(word, info.fillTextOffsetX * mu, (info.fillTextOffsetY + fontSize * 0.5) * mu);\n\n        // The below box is always matches how <span>s are positioned\n        // ctx.strokeRect(info.fillTextOffsetX, info.fillTextOffsetY,\n        //   info.fillTextWidth, info.fillTextHeight);\n\n        if (!refresh) {\n          interactionItems.push({\n            gx: gx,\n            gy: gy,\n            info: info,\n            word: word,\n            weight: weight,\n            distance: distance,\n            theta: theta,\n            rotateDeg: rotateDeg,\n            attributes: attributes,\n            id: id,\n            color: color,\n          });\n        }\n        // Restore the state.\n        ctx.restore();\n      } else {\n        // drawText on DIV element\n        var span = document.createElement('span');\n        var transformRule = '';\n        transformRule = 'rotate(' + (-rotateDeg / Math.PI) * 180 + 'deg) ';\n        if (info.mu !== 1) {\n          transformRule += 'translateX(-' + info.fillTextWidth / 4 + 'px) ' + 'scale(' + 1 / info.mu + ')';\n        }\n        var styleRules = {\n          position: 'absolute',\n          display: 'block',\n          font: settings.fontWeight + ' ' + fontSize * info.mu + 'px ' + settings.fontFamily,\n          left: (gx + info.gw / 2) * g + info.fillTextOffsetX + 'px',\n          top: (gy + info.gh / 2) * g + info.fillTextOffsetY + 'px',\n          width: info.fillTextWidth + 'px',\n          height: info.fillTextHeight + 'px',\n          lineHeight: fontSize + 'px',\n          whiteSpace: 'nowrap',\n          transform: transformRule,\n          webkitTransform: transformRule,\n          msTransform: transformRule,\n          transformOrigin: '50% 40%',\n          webkitTransformOrigin: '50% 40%',\n          msTransformOrigin: '50% 40%',\n        };\n        if (color) {\n          styleRules.color = color;\n        }\n        span.textContent = word;\n        for (var cssProp in styleRules) {\n          span.style[cssProp] = styleRules[cssProp];\n        }\n        if (attributes) {\n          for (var attribute in attributes) {\n            span.setAttribute(attribute, attributes[attribute]);\n          }\n        }\n        if (classes) {\n          span.className += classes;\n        }\n        el.appendChild(span);\n      }\n    });\n  };\n\n  /* Help function to updateGrid */\n  var fillGridAt = function fillGridAt(x, y, drawMask, dimension, item) {\n    if (x >= ngx || y >= ngy || x < 0 || y < 0) {\n      return;\n    }\n\n    grid[x][y] = false;\n\n    if (drawMask) {\n      var ctx = elements[0].getContext('2d');\n      ctx.fillRect(x * g, y * g, maskRectWidth, maskRectWidth);\n    }\n\n    if (interactive) {\n      infoGrid[x][y] = { item: item, dimension: dimension };\n    }\n  };\n\n  /* Update the filling information of the given space with occupied points.\n     Draw the mask on the canvas if necessary. */\n  var updateGrid = function updateGrid(gx, gy, gw, gh, info) {\n    var occupied = info.occupied;\n    var drawMask = settings.drawMask;\n    var ctx;\n    if (drawMask) {\n      ctx = elements[0].getContext('2d');\n      ctx.save();\n      ctx.fillStyle = settings.maskColor;\n    }\n\n    var dimension;\n    if (interactive) {\n      var bounds = info.bounds;\n      dimension = {\n        x: (gx + bounds[3]) * g,\n        y: (gy + bounds[0]) * g,\n        w: (bounds[1] - bounds[3] + 1) * g,\n        h: (bounds[2] - bounds[0] + 1) * g,\n      };\n    }\n\n    var i = occupied.length;\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        continue;\n      }\n\n      // save item's color from info\n      const find = getInteractionItemById(info.item.id);\n      if (find) {\n        info.item.color = find.color;\n      }\n      fillGridAt(px, py, drawMask, dimension, info.item);\n    }\n\n    if (drawMask) {\n      ctx.restore();\n    }\n  };\n\n  var tryToPutWordAtPoint = function tryToPutWordAtPoint(gxy, info, word, weight, distance, rotateDeg, attributes, id) {\n    var gx = Math.floor(gxy[0] - info.gw / 2);\n    var gy = Math.floor(gxy[1] - info.gh / 2);\n    var gw = info.gw;\n    var gh = info.gh;\n\n    // If we cannot fit the text at this position, return false\n    // and go to the next position.\n    if (!canFitText(gx, gy, gw, gh, info.occupied)) {\n      return false;\n    }\n\n    // Actually put the text on the canvas\n    drawText(gx, gy, info, word, weight, distance, gxy[2], rotateDeg, attributes, id, false);\n\n    // Mark the spaces on the grid as filled\n    updateGrid(gx, gy, gw, gh, info);\n\n    return {\n      gx: gx,\n      gy: gy,\n      rot: rotateDeg,\n      info: info,\n    };\n  };\n\n  /* putWord() processes each item on the list,\n     calculate it's size and determine it's position, and actually\n     put it on the canvas. */\n  var putWord = function putWord(item) {\n    var word, weight, attributes, id;\n    if (Array.isArray(item)) {\n      word = item[0];\n      weight = item[1];\n    } else {\n      word = item.word;\n      weight = item.weight;\n      attributes = item.attributes;\n      id = item.id;\n    }\n    var rotateDeg = getRotateDeg();\n\n    // get info needed to put the text onto the canvas\n    var info = getTextInfo(word, weight, rotateDeg);\n    if (info) {\n      info['item'] = item;\n    }\n\n    // not getting the info means we shouldn't be drawing this one.\n    if (!info) {\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    }\n\n    // If drawOutOfBound is set to false,\n    // skip the loop if we have already know the bounding box of\n    // word is larger than the canvas.\n    if (!settings.drawOutOfBound) {\n      var bounds = info.bounds;\n      if (bounds[1] - bounds[3] + 1 > ngx || bounds[2] - bounds[0] + 1 > ngy) {\n        return false;\n      }\n    }\n\n    // Determine the position to put the text by\n    // start looking for the nearest points\n    var r = maxRadius + 1;\n\n    while (r--) {\n      var points = getPointsAtRadius(maxRadius - r);\n\n      if (settings.shuffle) {\n        points = [].concat(points);\n        shuffleArray(points);\n      }\n\n      // Try to fit the words by looking at each point.\n      // array.some() will stop and return true\n      // when putWordAtPoint() returns true.\n      for (var i = 0; i < points.length; i++) {\n        var res = tryToPutWordAtPoint(points[i], info, word, weight, maxRadius - r, rotateDeg, attributes, id);\n        if (res) {\n          return res;\n        }\n      }\n\n      // var drawn = points.some(tryToPutWordAtPoint);\n      // if (drawn) {\n      //   // leave putWord() and return true\n      //   return true;\n      // }\n    }\n    // we tried all distances but text won't fit, return null\n    return null;\n  };\n\n  /* Send DOM event to all elements. Will stop sending event and return\n     if the previous one is canceled (for cancelable events). */\n  var sendEvent = function sendEvent(type, cancelable, detail) {\n    if (cancelable) {\n      return !elements.some(function(el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        return !el.dispatchEvent(evt);\n      }, this);\n    } else {\n      elements.forEach(function(el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        el.dispatchEvent(evt);\n      }, this);\n    }\n  };\n\n  var getInteractionItemById = function getInteractionItemById(id) {\n    for (let i = 0; i < interactionItems.length; i++) {\n      const find = interactionItems[i];\n      if (interactionItems[i].id === id) {\n        return find;\n      }\n    }\n    return undefined;\n  };\n\n  /* Start drawing on a canvas */\n  var start = function start(selected) {\n    if (selected !== undefined) {\n      // re-refresh canvas with selected\n      // work in canvas only for now\n      if (settings.selected !== selected && elements[0].getContext) {\n        settings.selected = selected;\n        const ctx = elements[0].getContext('2d');\n        // draw background\n        ctx.fillStyle = settings.backgroundColor;\n        ctx.clearRect(0, 0, elements[0].width, elements[0].height);\n        ctx.fillRect(0, 0, elements[0].width, elements[0].height);\n\n        // draw text\n        for (let i = 0; i < interactionItems.length; i++) {\n          const find = interactionItems[i];\n          drawText(\n            find.gx,\n            find.gy,\n            find.info,\n            find.word,\n            find.weight,\n            find.distance,\n            find.theta,\n            find.rotateDeg,\n            find.attributes,\n            find.id,\n            true\n          );\n        }\n      }\n      return;\n    }\n    // For dimensions, clearCanvas etc.,\n    // we only care about the first element.\n    var canvas = elements[0];\n\n    if (canvas.getContext) {\n      ngx = Math.ceil(canvas.width / g);\n      ngy = Math.ceil(canvas.height / g);\n    } else {\n      var rect = canvas.getBoundingClientRect();\n      ngx = Math.ceil(rect.width / g);\n      ngy = Math.ceil(rect.height / g);\n    }\n\n    // Sending a wordcloudstart event which cause the previous loop to stop.\n    // Do nothing if the event is canceled.\n    if (!sendEvent('wordcloudstart', true)) {\n      return;\n    }\n\n    // Determine the center of the word cloud\n    center = settings.origin ? [settings.origin[0] / g, settings.origin[1] / g] : [ngx / 2, ngy / (isCardioid ? 4 : 2)];\n\n    // Maxium radius to look for space\n    maxRadius = Math.floor(Math.sqrt(ngx * ngx + ngy * ngy));\n\n    /* Clear the canvas only if the clearCanvas is set,\n       if not, update the grid to the current canvas state */\n    grid = [];\n\n    var gx, gy, i;\n    if (!canvas.getContext || settings.clearCanvas) {\n      elements.forEach(function(el) {\n        if (el.getContext) {\n          var ctx = el.getContext('2d');\n          ctx.fillStyle = settings.backgroundColor;\n          ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n          ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n        } else {\n          el.textContent = '';\n          el.style.backgroundColor = settings.backgroundColor;\n          el.style.position = 'relative';\n        }\n      });\n\n      /* fill the grid with empty state */\n      gx = ngx;\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n        while (gy--) {\n          grid[gx][gy] = true;\n        }\n      }\n    } else {\n      /* Determine bgPixel by creating\n         another canvas and fill the specified background color. */\n      var bctx = document.createElement('canvas').getContext('2d');\n\n      bctx.fillStyle = settings.backgroundColor;\n      bctx.fillRect(0, 0, 1, 1);\n      var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n\n      /* Read back the pixels of the canvas we got to tell which part of the\n         canvas is empty.\n         (no clearCanvas only works with a canvas, not divs) */\n      var imageData = canvas.getContext('2d').getImageData(0, 0, ngx * g, ngy * g).data;\n\n      gx = ngx;\n      var x, y;\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n        while (gy--) {\n          y = g;\n          singleGridLoop: while (y--) {\n            x = g;\n            while (x--) {\n              i = 4;\n              while (i--) {\n                if (imageData[((gy * g + y) * ngx * g + (gx * g + x)) * 4 + i] !== bgPixel[i]) {\n                  grid[gx][gy] = false;\n                  break singleGridLoop;\n                }\n              }\n            }\n          }\n          if (grid[gx][gy] !== false) {\n            grid[gx][gy] = true;\n          }\n        }\n      }\n\n      imageData = bctx = bgPixel = undefined;\n    }\n\n    // fill the infoGrid with empty state if we need it\n    if (settings.onWordCloudHover || settings.onWordCloudClick) {\n      interactive = true;\n\n      /* fill the grid with empty state */\n      gx = ngx + 1;\n      while (gx--) {\n        infoGrid[gx] = [];\n      }\n\n      if (settings.onWordCloudHover) {\n        canvas.addEventListener('mousemove', wordcloudhover);\n      }\n\n      if (settings.onWordCloudClick) {\n        canvas.addEventListener('click', wordcloudclick);\n        canvas.addEventListener('touchstart', wordcloudclick);\n        canvas.addEventListener('touchend', function(e) {\n          e.preventDefault();\n        });\n        canvas.style.webkitTapHighlightColor = 'rgba(0, 0, 0, 0)';\n      }\n\n      canvas.addEventListener('wordcloudstart', function stopInteraction() {\n        canvas.removeEventListener('wordcloudstart', stopInteraction);\n\n        canvas.removeEventListener('mousemove', wordcloudhover);\n        canvas.removeEventListener('click', wordcloudclick);\n        hovered = undefined;\n      });\n    }\n\n    if (!settings.animatable) {\n      for (let i = 0; i < settings.data.length; i++) {\n        putWord(settings.data[i]);\n      }\n    } else {\n      i = 0;\n      var loopingFunction, stoppingFunction;\n      if (settings.wait !== 0) {\n        loopingFunction = window.setTimeout;\n        stoppingFunction = window.clearTimeout;\n      } else {\n        loopingFunction = window.setImmediate;\n        stoppingFunction = window.clearImmediate;\n      }\n\n      var addEventListener = function addEventListener(type, listener) {\n        elements.forEach(function (el) {\n          el.addEventListener(type, listener);\n        }, this);\n      };\n\n      var removeEventListener = function removeEventListener(type, listener) {\n        elements.forEach(function (el) {\n          el.removeEventListener(type, listener);\n        }, this);\n      };\n\n      var anotherWordCloudStart = function anotherWordCloudStart() {\n        removeEventListener('wordcloudstart', anotherWordCloudStart);\n        stoppingFunction(timer);\n      };\n\n      addEventListener('wordcloudstart', anotherWordCloudStart);\n\n      var timer = loopingFunction(function loop() {\n        if (i >= settings.data.length) {\n          stoppingFunction(timer);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n\n          return;\n        }\n        escapeTime = new Date().getTime();\n        var drawn = putWord(settings.data[i]);\n        var canceled = !sendEvent('wordclouddrawn', true, {\n          item: settings.data[i],\n          drawn: drawn,\n        });\n        if (exceedTime() || canceled) {\n          stoppingFunction(timer);\n          settings.abort();\n          sendEvent('wordcloudabort', false);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n          return;\n        }\n        i++;\n        timer = loopingFunction(loop, settings.wait);\n      }, settings.wait);\n    }\n  };\n\n  // All set, start the drawing\n  start();\n};\n\nWordCloud.isSupported = isSupported;\nWordCloud.minFontSize = minFontSize;\n\nexport default WordCloud;\n","/**\n * Create By Bruce Too\n * On 2020-02-17\n */\nimport { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RoseLayer, { RoseViewConfig } from './layer';\n\nexport interface RoseConfig extends RoseViewConfig, PlotConfig {}\n\n// TODO label的优化，可能要重新参考 https://github.com/antvis/G2Plot/blob/master/src/plots/rose/component/label/rose-label.ts\nexport default class Rose extends BasePlot<RoseConfig> {\n  public static getDefaultOptions: typeof RoseLayer.getDefaultOptions = RoseLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'rose';\n    super.createLayers(layerProps);\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Rose: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport FunnelLayer, { FunnelViewConfig } from './layer';\n\nexport interface FunnelConfig extends FunnelViewConfig, PlotConfig {}\n\nexport default class Funnel extends BasePlot<FunnelConfig> {\n  public static getDefaultOptions: typeof FunnelLayer.getDefaultOptions = FunnelLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'funnel';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, contains, isFunction, get, findIndex, isEqual, each, set, isArray, assign } from '@antv/util';\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { IGroup, IShape, HtmlTooltipTheme, TooltipCssConst, DEFAULT_ANIMATE_CFG } from '../../dependents';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, DataItem } from '../../interface/config';\nimport responsiveMethods from './apply-responsive';\nimport './theme';\nimport './geometry/shape/funnel-basic-rect';\nimport './geometry/shape/funnel-dynamic-rect';\nimport './animation/funnel-scale-in-x';\nimport './animation/funnel-scale-in-y';\nimport { mappingColor, rgb2arr } from '../../util/color';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'funnel',\n};\n\nexport interface FunnelStyle {\n  [k: string]: any;\n}\n\nexport interface FunnelViewConfig extends ViewConfig {\n  funnelStyle?: FunnelStyle | ((...args: any[]) => FunnelStyle);\n  percentage?: Partial<{\n    visible: boolean;\n    line: Partial<{\n      visible: boolean;\n      style: {};\n    }>;\n    text: Partial<{\n      visible: boolean;\n      content: string;\n      style: {};\n    }>;\n    value: Partial<{\n      visible: boolean;\n      style: {};\n      formatter: (yValueUpper: any, yValueLower: any) => string;\n    }>;\n    offsetX: number;\n    offsetY: number;\n    spacing: number;\n  }>;\n  transpose?: boolean;\n  dynamicHeight?: boolean;\n  compareField?: string;\n  compareText?: Partial<{\n    visible: boolean;\n    offsetX: number;\n    offsetY: number;\n    style: {};\n  }>;\n}\n\nexport interface FunnelLayerConfig extends FunnelViewConfig, LayerConfig {}\n\nexport default class FunnelLayer<T extends FunnelLayerConfig = FunnelLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(props?: Partial<FunnelViewConfig>): Partial<FunnelViewConfig> {\n    const cfg: Partial<FunnelViewConfig> = {\n      label: {\n        visible: true,\n        adjustColor: true,\n        formatter:\n          props && (props.compareField || props.transpose)\n            ? (xValue, item, idx, yValue, yValueTop) => `${yValue}`\n            : (xValue, item, idx, yValue, yValueTop) => `${xValue} ${yValue}`,\n      },\n      percentage: {\n        visible: true,\n        offsetX: props.transpose ? 0 : 40,\n        offsetY: props.transpose ? 40 : 0,\n        spacing: 4,\n        line: {\n          visible: true,\n          style: {\n            lineWidth: 1,\n            stroke: 'rgba(0, 0, 0, 0.15)',\n          },\n        },\n        text: {\n          content: '转化率',\n          style: {\n            fill: 'rgba(0, 0, 0, 0.65)',\n          },\n        },\n        value: {\n          visible: true,\n          style: {\n            fill: 'black',\n          },\n          formatter: (yValueUpper, yValueLower) => `${((100 * yValueLower) / yValueUpper).toFixed(2)}%`,\n        },\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showTitle: false,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      animation: deepMix({}, DEFAULT_ANIMATE_CFG, {\n        appear: {\n          duration: 800,\n        },\n      }),\n      dynamicHeight: false,\n      compareText: {\n        visible: true,\n        offsetX: -16,\n        offsetY: -16,\n        style: {\n          fill: 'black',\n        },\n      },\n      legend: {\n        position: 'bottom',\n      },\n      interactions: [{ type: 'tooltip' }, { type: 'legend-filter' }],\n    };\n    return deepMix({}, super.getDefaultOptions(), cfg);\n  }\n\n  public readonly type: string = 'funnel';\n  public funnel: any;\n\n  private _animationAppearTimeoutHandler: any;\n  private _shouldResetPercentages: boolean = true;\n  private _shouldResetLabels: boolean = true;\n  private _shouldResetCompareTexts: boolean = true;\n  private _legendsListenerAttached: boolean = false;\n\n  constructor(props: T) {\n    super(props);\n    this.adjustProps(this.options);\n\n    if (props.dynamicHeight) {\n      this._genCustomFieldForDynamicHeight(this.getData());\n    }\n\n    if (props.compareField) {\n      this.options.data = this._reduceDataForCompare(this.getData());\n    }\n  }\n\n  public beforeInit() {\n    super.beforeInit();\n    const props = this.options;\n    /** 响应式图形 */\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig = {\n      actions: props.transpose\n        ? props.dynamicHeight\n          ? [['transpose'], ['scale', 1, -1]]\n          : [['scale', 1, -1]]\n        : props.dynamicHeight\n        ? []\n        : [['transpose'], ['scale', 1, -1]],\n    };\n    // @ts-ignore\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected axis(): void {\n    this.setConfig('axes', false);\n  }\n\n  protected adjustFunnel(funnel: ElementOption) {\n    const props = this.options;\n\n    // @ts-ignore\n    funnel.shape = props.dynamicHeight ? 'funnel-dynamic-rect' : 'funnel-basic-rect';\n\n    funnel.color = {\n      fields: [props.xField],\n      values: props.color && (Array.isArray(props.color) ? props.color : [props.color]),\n    };\n\n    if (isFunction(props.funnelStyle)) {\n      // @ts-ignore\n      funnel.style = { callback: props.funnelStyle };\n    } else {\n      // @ts-ignore\n      funnel.style = { cfg: props.funnelStyle };\n    }\n\n    funnel.adjust = [\n      {\n        type: props.dynamicHeight ? 'stack' : 'symmetric',\n      },\n    ];\n  }\n\n  protected tooltip() {\n    const props = this.options;\n\n    if (props.compareField) {\n      deepMix(props.tooltip, {\n        htmlContent: (title, items) => {\n          let clss, el, color, elMarker;\n\n          clss = TooltipCssConst.CONTAINER_CLASS;\n          el = createDom(`<div class=\"${clss}\"></div>`);\n          modifyCSS(el, HtmlTooltipTheme[clss]);\n          const elRoot = el;\n\n          if (title) {\n            clss = TooltipCssConst.TITLE_CLASS;\n            el = createDom(`<div class=\"${clss}\"></div>`);\n            modifyCSS(el, HtmlTooltipTheme[clss]);\n            elRoot.appendChild(el);\n            const elTitle = el;\n\n            clss = TooltipCssConst.MARKER_CLASS;\n            el = createDom(`<span class=\"${clss}\"></span>`);\n            modifyCSS(el, HtmlTooltipTheme[clss]);\n            modifyCSS(el, { width: '10px', height: '10px' });\n            elTitle.appendChild(el);\n            elMarker = el;\n\n            el = createDom(`<span>${title}</span>`);\n            elTitle.appendChild(el);\n          }\n\n          if (items) {\n            clss = TooltipCssConst.LIST_CLASS;\n            el = createDom(`<ul class=\"${clss}\"></ul>`);\n            modifyCSS(el, HtmlTooltipTheme[clss]);\n            elRoot.appendChild(el);\n            const elList = el;\n\n            items\n              .reduce((pairs, item) => {\n                if (!color) {\n                  color = item.color;\n                }\n                const compareValues = get(item, 'point._origin.__compare__.compareValues');\n                const yValues = get(item, 'point._origin.__compare__.yValues');\n                yValues.forEach((yValue, i) => pairs.push([compareValues[i], yValue]));\n                return pairs;\n              }, [])\n              .forEach(([compareValue, yValue], index) => {\n                clss = TooltipCssConst.LIST_ITEM_CLASS;\n                el = createDom(`<li class=\"${clss}\" data-index=${index}></li>`);\n                modifyCSS(el, HtmlTooltipTheme[clss]);\n                elList.appendChild(el);\n                const elListItem = el;\n\n                clss = TooltipCssConst.NAME_CLASS;\n                el = createDom(`<span class=\"${clss}\">${compareValue}</span>`);\n                modifyCSS(el, HtmlTooltipTheme[clss]);\n                elListItem.appendChild(el);\n\n                clss = TooltipCssConst.VALUE_CLASS;\n                el = createDom(`<span class=\"${clss}\">${yValue}</span>`);\n                modifyCSS(el, HtmlTooltipTheme[clss]);\n                elListItem.appendChild(el);\n              });\n          }\n\n          if (color && elMarker) {\n            modifyCSS(elMarker, { backgroundColor: color });\n          }\n\n          return elRoot;\n        },\n      });\n    }\n\n    super.tooltip();\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const funnel = getGeom('interval', 'main', {\n      positionFields: [props.dynamicHeight ? '_' : props.xField, props.yField],\n      plot: this,\n    });\n    this.adjustFunnel(funnel);\n    this.funnel = funnel;\n    this.setConfig('geometry', funnel);\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.funnel.animate = false;\n    } else {\n      const data = this.getData();\n      const appearDuration = get(props, 'animation.appear.duration');\n      const appearDurationEach = appearDuration / (data.length || 1);\n\n      if (this._animationAppearTimeoutHandler) {\n        clearTimeout(this._animationAppearTimeoutHandler);\n        delete this._animationAppearTimeoutHandler;\n      }\n      this._animationAppearTimeoutHandler = setTimeout(() => {\n        this.fadeInPercentages(appearDurationEach);\n        if (props.compareField) {\n          this.fadeInCompareTexts(appearDurationEach);\n        }\n        delete this._animationAppearTimeoutHandler;\n      }, appearDuration);\n\n      this.funnel.animate = deepMix({}, props.animation, {\n        appear: {\n          animation: props.transpose ? 'funnelScaleInX' : 'funnelScaleInY',\n          duration: appearDurationEach,\n          delay: (datum) => findIndex(data, (o) => isEqual(o, datum)) * appearDurationEach,\n          callback: (shape) => {\n            this.fadeInLabels(shape, 0.5 * appearDurationEach);\n          },\n        },\n        enter: {\n          animation: 'fade-in',\n        },\n      });\n    }\n  }\n\n  public afterRender() {\n    const props = this.options;\n    /** 响应式 */\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    this.resetLabels();\n    this.resetPercentages();\n    if (props.compareField) {\n      this.resetCompareTexts();\n    }\n\n    if (props.padding == 'auto') {\n      const percentageContainer = this._findPercentageContainer();\n      if (percentageContainer) {\n        this.paddingController.registerPadding(percentageContainer, 'inner', true);\n      }\n      const compareTextContainer = this._findCompareTextContainer();\n      if (compareTextContainer) {\n        this.paddingController.registerPadding(compareTextContainer, 'inner', true);\n      }\n    }\n\n    super.afterRender();\n\n    if (props.animation === false) {\n      this.fadeInLabels();\n      this.fadeInPercentages();\n      if (props.compareField) {\n        this.fadeInCompareTexts();\n      }\n    }\n\n    if (!this._legendsListenerAttached) {\n      this._legendsListenerAttached = true;\n      // @ts-ignore\n      const legendContainer = this.view.getController('legend').container;\n      legendContainer.on('mousedown', this._onLegendContainerMouseDown);\n    }\n  }\n\n  public updateConfig(cfg: Partial<T>): void {\n    cfg = this.adjustProps(cfg);\n    super.updateConfig(cfg);\n    this._legendsListenerAttached = false;\n  }\n\n  public changeData(data: DataItem[]): void {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      this._shouldResetPercentages = false;\n      this._shouldResetLabels = false;\n    }\n\n    if (props.dynamicHeight) {\n      const checkedData = this._findCheckedDataInNewData(data);\n      this._genCustomFieldForDynamicHeight(checkedData);\n    }\n\n    if (props.compareField) {\n      data = this._reduceDataForCompare(data);\n      const checkedData = this._findCheckedDataInNewData(data);\n      this._updateDataForCompare(checkedData);\n    }\n\n    super.changeData(data);\n\n    this.refreshPercentages();\n    this.refreshLabels();\n    if (props.compareField) {\n      this.fadeInCompareTexts();\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r;\n      responsive.method(this);\n    });\n  }\n\n  protected adjustProps(props: Partial<T>) {\n    if (props.compareField) {\n      props.dynamicHeight = false;\n    }\n\n    if (props.dynamicHeight) {\n      set(props, `meta.${props.yField}.nice`, false);\n      set(props, 'tooltip.shared', false);\n    }\n    return props;\n  }\n\n  protected resetPercentages() {\n    if (!this._shouldResetPercentages) return;\n\n    const props = this.options;\n    const {\n      offsetX,\n      offsetY,\n      spacing,\n      line: percentageLine = {},\n      text: percentageText = {},\n      value: percentageValue = {},\n    } = props.percentage || {};\n\n    const adjustTimestamp = Date.now();\n    const container = this._findPercentageContainer(true);\n\n    this._eachShape((shape, index, datumLower, datumUpper) => {\n      if (index > 0) {\n        const { minX, maxX, maxY, minY } = shape.getBBox();\n        const x1 = props.transpose ? minX : maxX;\n        const y1 = props.transpose ? (props.compareField ? maxY : minY) : minY;\n\n        const { line, text, value } = this._findPercentageMembersInContainerByIndex(container, index, true);\n\n        const eachProcs = [\n          (x, y, line, text, value) => {\n            if (line) {\n              line.attr(\n                deepMix({}, percentageLine.style, {\n                  x1: x,\n                  y1: y,\n                  x2: props.transpose ? x + offsetX : x - offsetX,\n                  y2: props.transpose ? y - offsetY : y + offsetY,\n                  opacity: 0,\n                })\n              );\n              line.set('adjustTimestamp', adjustTimestamp);\n            }\n\n            let textWidth = 0;\n            let valueWidth = 0;\n\n            const textProc = () => {\n              if (text) {\n                text.attr(\n                  deepMix({}, percentageText.style, {\n                    x: props.transpose ? x + offsetX : x - offsetX - spacing - valueWidth - spacing,\n                    y: props.transpose ? y - offsetY - spacing : y + offsetY,\n                    opacity: 0,\n                    text: percentageText.content,\n                    textAlign: props.transpose ? 'left' : 'right',\n                    textBaseline: props.transpose ? 'bottom' : 'middle',\n                  })\n                );\n                text.set('adjustTimestamp', adjustTimestamp);\n                textWidth = text.getBBox().width;\n              }\n            };\n\n            const valueProc = () => {\n              if (value) {\n                value.attr(\n                  deepMix({}, percentageValue.style, {\n                    x: props.transpose ? x + offsetX + textWidth + spacing : x - offsetX - spacing,\n                    y: props.transpose ? y - offsetY - spacing : y + offsetY,\n                    opacity: 0,\n                    text: isFunction(percentageValue.formatter)\n                      ? props.compareField\n                        ? percentageValue.formatter(\n                            get(datumUpper, '__compare__.yValues.0'),\n                            get(datumLower, '__compare__.yValues.0')\n                          )\n                        : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField])\n                      : '',\n                    textAlign: props.transpose ? 'left' : 'right',\n                    textBaseline: props.transpose ? 'bottom' : 'middle',\n                  })\n                );\n                value.set('adjustTimestamp', adjustTimestamp);\n                valueWidth = value.getBBox().width;\n              }\n            };\n\n            if (props.transpose) {\n              textProc();\n              valueProc();\n            } else {\n              valueProc();\n              textProc();\n            }\n          },\n          (x, y, line, text, value) => {\n            if (line) {\n              line.attr(\n                deepMix({}, percentageLine.style, {\n                  x1: x,\n                  y1: y,\n                  x2: x + offsetX,\n                  y2: props.transpose ? (props.compareField ? y + offsetY : y - offsetY) : y + offsetY,\n                  opacity: 0,\n                })\n              );\n              line.set('adjustTimestamp', adjustTimestamp);\n            }\n\n            let textWidth = 0;\n            if (text) {\n              text.attr(\n                deepMix({}, percentageText.style, {\n                  x: props.transpose ? x + offsetX : x + offsetX + spacing,\n                  y: props.transpose\n                    ? props.compareField\n                      ? y + offsetY + spacing\n                      : y - offsetY - spacing\n                    : y + offsetY,\n                  opacity: 0,\n                  text: percentageText.content,\n                  textAlign: 'left',\n                  textBaseline: props.transpose ? (props.compareField ? 'top' : 'bottom') : 'middle',\n                })\n              );\n              text.set('adjustTimestamp', adjustTimestamp);\n              textWidth = text.getBBox().width;\n            }\n\n            if (value) {\n              value.attr(\n                deepMix({}, percentageValue.style, {\n                  x: props.transpose ? x + offsetX + textWidth + spacing : x + offsetX + spacing + textWidth + spacing,\n                  y: props.transpose\n                    ? props.compareField\n                      ? y + offsetY + spacing\n                      : y - offsetY - spacing\n                    : y + offsetY,\n                  opacity: 0,\n                  text: isFunction(percentageValue.formatter)\n                    ? props.compareField\n                      ? percentageValue.formatter(\n                          get(datumUpper, `__compare__.yValues.1`),\n                          get(datumLower, `__compare__.yValues.1`)\n                        )\n                      : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField])\n                    : '',\n                  textAlign: 'left',\n                  textBaseline: props.transpose ? (props.compareField ? 'top' : 'bottom') : 'middle',\n                })\n              );\n              value.set('adjustTimestamp', adjustTimestamp);\n            }\n          },\n        ];\n\n        if (props.compareField) {\n          const [x0, y0] = [minX, minY];\n          [\n            [x0, y0],\n            [x1, y1],\n          ].forEach(([x, y], i) => eachProcs[i](x, y, line && line[i], text && text[i], value && value[i]));\n        } else {\n          eachProcs[1](x1, y1, line, text, value);\n        }\n      }\n      datumUpper = datumLower;\n      index++;\n    });\n\n    container.get('children').forEach((child) => {\n      if (child.get('adjustTimestamp') != adjustTimestamp) {\n        child.attr({ opacity: 0 });\n        container.set(child.get('id'), null);\n        setTimeout(() => child.remove(), 0);\n      }\n    });\n  }\n\n  protected fadeInPercentages(duration?, callback?) {\n    const props = this.options;\n    const container = this._findPercentageContainer();\n\n    const eachProc = (i?) => {\n      const lastBBox = { minX: Infinity, maxX: -Infinity, minY: Infinity, maxY: -Infinity };\n      this._eachShape((shape, index) => {\n        const members = this._findPercentageMembersInContainerByIndex(container, index);\n\n        const currBBox = { minX: Infinity, maxX: -Infinity, minY: Infinity, maxY: -Infinity };\n        const eachCalc = (member) => {\n          if (member && member.get('type') == 'text') {\n            const { minX, maxX, minY, maxY } = member.getBBox();\n            if (minX < currBBox.minX) currBBox.minX = minX;\n            if (maxX > currBBox.maxX) currBBox.maxX = maxX;\n            if (minY < currBBox.minY) currBBox.minY = minY;\n            if (maxY > currBBox.maxY) currBBox.maxY = maxY;\n          }\n        };\n        each(members, (member) => (isArray(member) ? eachCalc(member[i]) : eachCalc(member)));\n\n        if (\n          currBBox.minX > lastBBox.maxX ||\n          currBBox.maxX < lastBBox.minX ||\n          currBBox.minY > lastBBox.maxY ||\n          currBBox.maxY < lastBBox.minY\n        ) {\n          const eachShow = (member) => {\n            if (member) {\n              const attrs = {\n                opacity: 1,\n              };\n              duration ? member.animate(attrs, duration) : member.attr(attrs);\n            }\n          };\n          each(members, (member) => (isArray(member) ? eachShow(member[i]) : eachShow(member)));\n          assign(lastBBox, currBBox);\n        }\n      });\n    };\n\n    props.compareField ? [0, 1].forEach(eachProc) : eachProc();\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected fadeOutPercentages(duration?, callback?) {\n    const container = this._findPercentageContainer();\n\n    this._eachShape((shape, index) => {\n      const members = this._findPercentageMembersInContainerByIndex(container, index);\n\n      const eachProc = (member) => {\n        if (member) {\n          const attrs = {\n            opacity: 0,\n          };\n          duration ? member.animate(attrs, duration) : member.attr(attrs);\n        }\n      };\n      each(members, (member) => (isArray(member) ? member.forEach(eachProc) : eachProc(member)));\n    });\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected refreshPercentages(callback?) {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      const { fadeOutDuration, fadeInDuration } = this._calcRefreshFadeDurations();\n\n      this._shouldResetPercentages = false;\n      this.fadeOutPercentages(fadeOutDuration, () => {\n        this._shouldResetPercentages = true;\n        this.resetPercentages();\n        this.fadeInPercentages(fadeInDuration, callback);\n      });\n    }\n  }\n\n  private _findPercentageContainer(createIfNotFound: boolean = false): IGroup | undefined {\n    const { middleGroup } = this.view;\n\n    let percentageContainer = middleGroup.get('percentageContainer');\n    if (!percentageContainer && createIfNotFound) {\n      percentageContainer = middleGroup.addGroup();\n      middleGroup.set('percentageContainer', percentageContainer);\n    }\n\n    return percentageContainer;\n  }\n\n  private _findPercentageMembersInContainerByIndex(\n    container: IGroup,\n    index: number,\n    createIfNotFound: boolean = false\n  ) {\n    const props = this.options;\n    const { visible, line: percentageLine = {}, text: percentageText = {}, value: percentageValue = {} } =\n      props.percentage || {};\n\n    const members = {\n      line: undefined,\n      text: undefined,\n      value: undefined,\n    };\n\n    if (visible === false || !container) {\n      return members;\n    }\n\n    if (percentageLine.visible !== false) {\n      const find = (i) => {\n        const lineId = `_percentage-line-${index}-${i}`;\n        let line = container.get(lineId);\n        if (!line && createIfNotFound) {\n          line = container.addShape({ id: lineId, type: 'line', attrs: {} });\n          container.set(lineId, line);\n        }\n        return line;\n      };\n      const line = props.compareField ? [0, 1].map(find) : find(0);\n      members.line = line;\n    }\n\n    if (percentageText.visible !== false) {\n      const find = (i) => {\n        const textId = `_percentage-text-${index}-${i}`;\n        let text = container.get(textId);\n        if (!text && createIfNotFound) {\n          text = container.addShape({ id: textId, type: 'text', attrs: {} });\n          container.set(textId, text);\n        }\n        return text;\n      };\n      const text = props.compareField ? [0, 1].map(find) : find(0);\n      members.text = text;\n    }\n\n    if (percentageValue.visible !== false) {\n      const find = (i) => {\n        const valueId = `_percentage-value-${index}-${i}`;\n        let value = container.get(valueId);\n        if (!value && createIfNotFound) {\n          value = container.addShape({ id: valueId, type: 'text', attrs: {} });\n          container.set(valueId, value);\n        }\n        return value;\n      };\n      const value = props.compareField ? [0, 1].map(find) : find(0);\n      members.value = value;\n    }\n\n    return members;\n  }\n\n  private _calcRefreshFadeDurations() {\n    const props = this.options;\n\n    const updateDuration = get(props, 'animation.update.duration');\n    const enterDuration = get(props, 'animation.enter.duration');\n    const fadeInDuration = Math.min(enterDuration, updateDuration) * 0.6;\n    const fadeOutDuration = Math.max(enterDuration, updateDuration) * 1.2;\n\n    return { fadeInDuration, fadeOutDuration };\n  }\n\n  protected resetLabels() {\n    if (!this._shouldResetLabels) return;\n\n    const props = this.options;\n    const { xField, yField } = props;\n\n    const adjustTimestamp = Date.now();\n    const { labelsContainer } = this._getGeometry();\n\n    const labelProps = props.label || {};\n    const labelStyle = deepMix(\n      {\n        ...this.theme.label,\n      },\n      props.label.style,\n      {\n        opacity: 0,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      }\n    );\n    const { formatter } = labelProps;\n\n    let datumTop;\n    let compareTop;\n    this._eachShape((shape, index, datum) => {\n      if (index == 0) {\n        datumTop = datum;\n        compareTop = datumTop.__compare__;\n      }\n\n      const { minX, maxX, minY, maxY } = shape.getBBox();\n      const xValue = datum[xField];\n      const yValue = datum[yField];\n\n      if (labelProps.adjustColor) {\n        labelStyle.fill = this._getAdjustedTextFillByShape(shape);\n      }\n\n      const compare = datum.__compare__;\n      let content;\n      if (compare) {\n        content = [0, 1]\n          .map((i) => formatter(xValue, shape, index, compare.yValues[i], compareTop.yValues[i]))\n          .join(props.transpose ? '\\n\\n' : '    ');\n      } else {\n        content = formatter(xValue, shape, index, yValue, datumTop[yField]);\n      }\n\n      const label = this._findLabelInContainerByIndex(labelsContainer, index, true);\n      const ratio = compare ? compare.yValues[0] / (compare.yValues[0] + compare.yValues[1]) : 0.5;\n      label.attr({\n        ...labelStyle,\n        x: lerp(minX, maxX, !props.transpose ? ratio : 0.5),\n        y: lerp(minY, maxY, props.transpose ? ratio : 0.5),\n        text: content,\n      });\n\n      label.set('adjustTimestamp', adjustTimestamp);\n    });\n\n    labelsContainer.get('children').forEach((label) => {\n      if (label.get('adjustTimestamp') != adjustTimestamp) {\n        label.attr({ opacity: 0 });\n        labelsContainer.set(label.get('id'), null);\n        setTimeout(() => label.remove());\n      }\n    });\n  }\n\n  protected fadeInLabels(targetShape?, duration?, callback?) {\n    const { labelsContainer } = this._getGeometry();\n    this._eachShape((shape, index) => {\n      if (!targetShape || targetShape == shape) {\n        const label = this._findLabelInContainerByIndex(labelsContainer, index);\n        if (label) {\n          const shapeBBox = shape.getBBox();\n          const labelBBox = label.getBBox();\n          if (\n            labelBBox.minX >= shapeBBox.minX &&\n            labelBBox.maxX <= shapeBBox.maxX &&\n            labelBBox.minY >= shapeBBox.minY &&\n            labelBBox.maxY <= shapeBBox.maxY\n          ) {\n            const attrs = {\n              opacity: 1,\n            };\n            duration ? label.animate(attrs, duration) : label.attr(attrs);\n          }\n        }\n      }\n    });\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected fadeOutLabels(targetShape?, duration?, callback?) {\n    const { labelsContainer } = this._getGeometry();\n    this._eachShape((shape, index) => {\n      if (!targetShape || targetShape == shape) {\n        const label = this._findLabelInContainerByIndex(labelsContainer, index);\n        if (label) {\n          const attrs = {\n            opacity: 0,\n          };\n          duration ? label.animate(attrs, duration) : label.attr(attrs);\n        }\n      }\n    });\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected refreshLabels(callback?) {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      const { fadeOutDuration, fadeInDuration } = this._calcRefreshFadeDurations();\n\n      this._shouldResetLabels = false;\n      this.fadeOutLabels(null, fadeOutDuration, () => {\n        this._shouldResetLabels = true;\n        this.resetLabels();\n        this.fadeInLabels(null, fadeInDuration, callback);\n      });\n    }\n  }\n\n  private _findLabelInContainerByIndex(container: IGroup, index: number, createIfNotFound: boolean = false) {\n    const props = this.options;\n\n    let label;\n\n    if (props.label?.visible === false) {\n      return label;\n    }\n\n    const labelId = `_label-${index}`;\n    label = container.get(labelId);\n    if (!label && createIfNotFound) {\n      label = container.addShape({\n        id: labelId,\n        type: 'text',\n        attrs: {},\n      });\n      container.set(labelId, label);\n    }\n\n    return label;\n  }\n\n  protected resetCompareTexts() {\n    if (!this._shouldResetCompareTexts) return;\n\n    const props = this.options;\n\n    let shapeParentBBox;\n    let compare;\n    this._eachShape((shape, index, datum) => {\n      if (index == 0) {\n        shapeParentBBox = shape.get('parent').getBBox();\n        compare = get(datum, '__compare__');\n      }\n    });\n\n    if (shapeParentBBox && compare && get(props, 'compareText.visible') !== false) {\n      const container = this._findCompareTextContainer(true);\n      const { yValuesMax, compareValues } = compare;\n      const { minX, maxX, minY, maxY } = shapeParentBBox;\n\n      const compareTexts = container.get('children');\n      [0, 1].forEach((i) => {\n        let compareText = compareTexts[i];\n        if (!compareText) {\n          compareText = container.addShape({ type: 'text' });\n        }\n        compareText.attr(\n          deepMix({}, get(props, 'compareText.style'), {\n            text: props.transpose ? compareValues[i] : i ? `  ${compareValues[i]}` : `${compareValues[i]}  `,\n            x: props.transpose\n              ? minX + get(props, 'compareText.offsetX')\n              : lerp(minX, maxX, yValuesMax[0] / (yValuesMax[0] + yValuesMax[1])),\n            y: props.transpose\n              ? lerp(minY, maxY, yValuesMax[0] / (yValuesMax[0] + yValuesMax[1])) + (i ? 8 : -8)\n              : minY + get(props, 'compareText.offsetY'),\n            opacity: 0,\n            textAlign: props.transpose ? 'right' : i ? 'left' : 'right',\n            textBaseline: props.transpose ? (i ? 'top' : 'bottom') : 'bottom',\n          })\n        );\n      });\n    }\n  }\n\n  protected fadeInCompareTexts(duration?, callback?) {\n    const container = this._findCompareTextContainer();\n    if (container) {\n      const compareTexts = container.get('children');\n      [0, 1].forEach((i) => {\n        const compareText = compareTexts[i];\n\n        if (compareText) {\n          const attrs = {\n            opacity: 1,\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected fadeOutCompareTexts(duration?, callback?) {\n    const container = this._findCompareTextContainer();\n    if (container) {\n      const compareTexts = container.get('children');\n      [0, 1].forEach((i) => {\n        const compareText = compareTexts[i];\n\n        if (compareText) {\n          const attrs = {\n            opacity: 0,\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected refreshCompareTexts(callback?) {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      const { fadeInDuration, fadeOutDuration } = this._calcRefreshFadeDurations();\n\n      this._shouldResetCompareTexts = false;\n      this.fadeOutCompareTexts(fadeOutDuration, () => {\n        this._shouldResetCompareTexts = true;\n        this.resetCompareTexts();\n        this.fadeInCompareTexts(fadeInDuration, callback);\n      });\n    }\n  }\n\n  private _findCompareTextContainer(createIfNotFound: boolean = false) {\n    const { middleGroup } = this.view;\n\n    let compareTextContainer = middleGroup.get('compareTextContainer');\n    if (!compareTextContainer && createIfNotFound) {\n      compareTextContainer = middleGroup.addGroup();\n      middleGroup.set('compareTextContainer', compareTextContainer);\n    }\n\n    return compareTextContainer;\n  }\n\n  private _eachShape(fn: (shape: IShape | IGroup, index: number, datumLower: any, datumUpper: any) => void) {\n    const data = this._findCheckedData(this.getData());\n    const dataLen = data.length;\n    let index = 0;\n    let datumUpper;\n    this._getGeometry()?.elements.forEach((element) => {\n      const { shape } = element;\n      const datumLower = data[index];\n      if (index < dataLen) {\n        fn(shape, index, datumLower, datumUpper);\n      }\n      datumUpper = datumLower;\n      index++;\n    });\n  }\n\n  private _getGeometry() {\n    return this.view.geometries[0];\n  }\n\n  private _getAdjustedTextFillByShape(shape: IShape | IGroup) {\n    const shapeColor = shape.attr('fill');\n    const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n    const rgb = rgb2arr(shapeColor);\n    const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n    const colorBand = [\n      { from: 0, to: 85, color: 'white' },\n      { from: 85, to: 170, color: '#F6F6F6' },\n      { from: 170, to: 255, color: 'black' },\n    ];\n    const reflect = mappingColor(colorBand, gray);\n    return reflect;\n  }\n\n  private _genCustomFieldForDynamicHeight(data: any[]) {\n    const props = this.options;\n\n    const total = data.reduce((total, datum) => total + datum[props.yField], 0);\n\n    let ratioUpper = 1;\n    data.forEach((datum, index) => {\n      const value = datum[props.yField];\n      const share = value / total;\n      const ratioLower = ratioUpper - share;\n\n      datum['__custom__'] = {\n        datumIndex: index,\n        dataLength: data.length,\n        ratioUpper,\n        ratioLower,\n        reverse: props.transpose,\n      };\n\n      ratioUpper = ratioLower;\n    });\n  }\n\n  private _findCheckedDataByMouseDownLegendItem(legendItem: IGroup) {\n    const props = this.options;\n\n    const flags = legendItem\n      .get('parent')\n      .get('children')\n      .map((legendItem) => !legendItem.get('unchecked'));\n\n    const data = this.getData().filter((datum, index) => flags[index]);\n\n    return data;\n  }\n\n  private _findCheckedDataInNewData(newData: any[]) {\n    const props = this.options;\n\n    // @ts-ignore\n    const legendContainer = this.view.getController('legend').container;\n\n    const uncheckedXValues = legendContainer\n      .findAll((shape) => shape.get('name') == 'legend-item')\n      .filter((legendItem) => legendItem.get('unchecked'))\n      .map((legendItem) => legendItem.get('id').replace('-legend-item-', ''));\n\n    const checkedData = newData.filter((datum) => !contains(uncheckedXValues, datum[props.xField]));\n\n    return checkedData;\n  }\n\n  private _findCheckedData(data: any[]) {\n    const props = this.options;\n\n    // @ts-ignore\n    const legendContainer = this.view.getController('legend').container;\n\n    const checkedXValues = legendContainer\n      .findAll((shape) => shape.get('name') == 'legend-item')\n      .filter((legendItem) => !legendItem.get('unchecked'))\n      .map((legendItem) => legendItem.get('id').replace('-legend-item-', ''));\n\n    const checkedData = data.filter((datum) => contains(checkedXValues, datum[props.xField]));\n\n    return checkedData;\n  }\n\n  private _reduceDataForCompare(data: any[]) {\n    const props = this.options;\n\n    let compareValueFirstVisited;\n    const yValuesMax = [-Infinity, -Infinity];\n    data = data.reduce((newData, datum) => {\n      const xValue = datum[props.xField];\n      const yValue = datum[props.yField];\n      const compareValue = datum[props.compareField];\n      if (!compareValueFirstVisited) compareValueFirstVisited = compareValue;\n\n      let newDatum = newData.find((newDatum) => newDatum[props.xField] == xValue);\n      if (!newDatum) {\n        newDatum = {\n          [props.xField]: xValue,\n          [props.yField]: 0,\n          ['__compare__']: {\n            compareValues: [],\n            yValues: [],\n            yValuesMax: [],\n            yValuesNext: undefined,\n            transpose: props.transpose,\n          },\n        };\n        newData.push(newDatum);\n      }\n      const idx = compareValue == compareValueFirstVisited ? 0 : 1;\n      newDatum['__compare__'].yValues[idx] = yValue;\n      if (yValuesMax[idx] < yValue) {\n        yValuesMax[idx] = yValue as number;\n      }\n      newDatum['__compare__'].compareValues[idx] = compareValue;\n\n      return newData;\n    }, []);\n\n    data.forEach((datum, index) => {\n      datum[props.yField] = get(datum, '__compare__.yValues', []).reduce((yTotal, yValue) => (yTotal += yValue), 0);\n      set(datum, '__compare__.yValuesMax', yValuesMax);\n      set(datum, '__compare__.yValuesNext', get(data, `${index + 1}.__compare__.yValues`));\n    });\n\n    return data;\n  }\n\n  private _updateDataForCompare(data: any[]) {\n    const yValuesMax = [-Infinity, -Infinity];\n    data.forEach((datum) => {\n      const yValues = get(datum, '__compare__.yValues');\n      [0, 1].forEach((i) => {\n        if (yValues[i] > yValuesMax[i]) {\n          yValuesMax[i] = yValues[i];\n        }\n      });\n    });\n\n    data.forEach((datum, index) => {\n      set(datum, '__compare__.yValuesMax', yValuesMax);\n      set(datum, '__compare__.yValuesNext', get(data, `${index + 1}.__compare__.yValues`));\n    });\n  }\n\n  private _onLegendContainerMouseDown = (e) => {\n    const props = this.options;\n\n    const targetName = e.target.get('name');\n    if (targetName.startsWith('legend-item')) {\n      const legendItem = e.target.get('parent');\n      legendItem.set('unchecked', !legendItem.get('unchecked'));\n\n      this.refreshPercentages();\n      this.refreshLabels();\n\n      if (props.dynamicHeight) {\n        const data = this._findCheckedDataByMouseDownLegendItem(legendItem);\n        this._genCustomFieldForDynamicHeight(data);\n      }\n\n      if (props.compareField) {\n        const data = this._findCheckedDataByMouseDownLegendItem(legendItem);\n        this._updateDataForCompare(data);\n        this.refreshCompareTexts();\n      }\n    }\n  };\n}\n\nregisterPlotType('funnel', FunnelLayer);\n","import responsiveAxis from './axis';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [{ name: 'responsiveAxis', method: responsiveAxis }];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport FunnelLayer from '../layer';\n\nexport default function responsiveAxis(layer: FunnelLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  const x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  const y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import { registerTheme } from '../../theme';\n\nconst BAR_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst BAR_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('bar', {\n  columnStyle: {\n    normal: {},\n    active: BAR_ACTIVE_STYLE,\n    disable: BAR_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n});\n","import { get, isNil, isArray } from '@antv/util';\nimport { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { ShapeMarkerCfg, ShapePoint, ShapeInfo } from '@antv/g2/lib/interface';\nimport { getStyle } from '@antv/g2/lib/geometry/shape/util/get-style';\n\n// 根据数据点生成矩形的四个关键点\nfunction _getRectPoints(cfg, isPyramid = false) {\n  const { x, y, y0, size } = cfg;\n  // 有 4 种情况，\n  // 1. x, y 都不是数组\n  // 2. y是数组，x不是\n  // 3. x是数组，y不是\n  // 4. x, y 都是数组\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    xMin = x[0];\n    xMax = x[1];\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  if (isPyramid) {\n    // 绘制尖底漏斗图\n    // 金字塔漏斗图的关键点\n    // 1\n    // |   2\n    // 0\n    points.push({\n      x: xMax,\n      y: (yMax + yMin) / 2,\n    });\n  } else {\n    // 矩形的四个关键点，结构如下（左下角顺时针连接）\n    // 1 ---- 2\n    // |      |\n    // 0 ---- 3\n    points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n  }\n\n  return points;\n}\n\n// 根据关键点绘制漏斗图的 path\nfunction _getFunnelPath(cfg, compare) {\n  const path = [];\n  const { points, nextPoints } = cfg;\n\n  if (compare) {\n    // 对比漏斗\n    const { yValues, yValuesMax, yValuesNext } = compare;\n    const originY = (points[0].y + points[1].y) / 2;\n\n    const yValueTotal = yValues[0] + yValues[1];\n    const yRatios = yValues.map((yValue) => yValue / yValueTotal / 0.5);\n    const yOffset = (yValuesMax[0] / (yValuesMax[0] + yValuesMax[1]) - 0.5) * 0.9;\n    const spacing = 0.001;\n\n    if (!isNil(nextPoints)) {\n      const yValueTotalNext = yValuesNext[0] + yValuesNext[1];\n      const yRatiosNext = yValuesNext.map((yValueNext) => yValueNext / yValueTotalNext / 0.5);\n      path.push(\n        ['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY - spacing],\n        ['L', points[1].x, yOffset + originY - spacing],\n        ['L', nextPoints[1].x, yOffset + originY - spacing],\n        ['L', nextPoints[0].x, yOffset + (nextPoints[3].y - originY) * yRatiosNext[0] + originY - spacing],\n        ['Z']\n      );\n      path.push(\n        ['M', points[0].x, yOffset + originY + spacing],\n        ['L', points[1].x, yOffset + (points[1].y - originY) * yRatios[1] + originY + spacing],\n        ['L', nextPoints[1].x, yOffset + (nextPoints[2].y - originY) * yRatiosNext[1] + originY + spacing],\n        ['L', nextPoints[0].x, yOffset + originY + spacing],\n        ['Z']\n      );\n    } else {\n      path.push(\n        ['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY],\n        ['L', points[1].x, yOffset + originY],\n        ['L', points[2].x, yOffset + originY],\n        ['L', points[3].x, yOffset + (points[3].y - originY) * yRatios[0] + originY],\n        ['Z']\n      );\n      path.push(\n        ['M', points[0].x, yOffset + 0.002 + originY],\n        ['L', points[1].x, yOffset + 0.002 + (points[1].y - originY) * yRatios[1] + originY],\n        ['L', points[2].x, yOffset + 0.002 + (points[2].y - originY) * yRatios[1] + originY],\n        ['L', points[3].x, yOffset + 0.002 + originY],\n        ['Z']\n      );\n    }\n  } else {\n    // 标准漏斗\n    if (!isNil(nextPoints)) {\n      path.push(\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['L', nextPoints[1].x, nextPoints[1].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n        ['Z']\n      );\n    } else {\n      path.push(\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['L', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['Z']\n      );\n    }\n  }\n\n  return path;\n}\n\nregisterShape('interval', 'funnel-basic-rect', {\n  getPoints(pointInfo: ShapePoint) {\n    pointInfo.size = pointInfo.size * 1.8; // 调整面积\n    return _getRectPoints(pointInfo);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const compare = get(cfg, 'data.__compare__');\n    const path = this.parsePath(_getFunnelPath(cfg, compare));\n\n    return container.addShape('path', {\n      name: 'interval',\n      attrs: {\n        ...style,\n        path,\n      },\n      ['__compare__']: compare,\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { get } from '@antv/util';\nimport { IGroup } from '@antv/g-canvas';\nimport { registerShape } from '@antv/g2';\nimport { ShapeMarkerCfg, ShapeInfo } from '@antv/g2/lib/interface';\nimport { getStyle } from '@antv/g2/lib/geometry/shape/util/get-style';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\n// 根据矩形关键点绘制 path\nfunction _getRectPath(points, { reverse, ratioUpper, ratioLower }) {\n  const path = [];\n  const firstPoint = points[0];\n\n  const originX = (points[1].x + points[2].x) / 2;\n  const factorTop = 1.2;\n  const factorBottom = 0.6;\n\n  if (reverse) {\n    const tmp = ratioLower;\n    ratioLower = ratioUpper;\n    ratioUpper = tmp;\n  }\n\n  const firstPointX = (firstPoint.x - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n  path.push(['M', firstPointX, firstPoint.y]);\n\n  for (let i = 1, len = points.length; i < len; i++) {\n    let pointX = points[i].x;\n    switch (i) {\n      case 1:\n      case 2:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioUpper) + originX;\n        break;\n\n      case 3:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n        break;\n    }\n    path.push(['L', pointX, points[i].y]);\n  }\n  path.push(['L', firstPointX, firstPoint.y]); // 需要闭合\n  path.push(['z']);\n  return path;\n}\n\nregisterShape('interval', 'funnel-dynamic-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const custom = get(cfg, 'data.__custom__');\n    const path = this.parsePath(_getRectPath(cfg.points, custom));\n\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    return {\n      symbol: isInPolar ? 'circle' : 'square',\n      style: {\n        r: isInPolar ? 4.5 : 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { transform } from '@antv/matrix-util';\nimport { registerAnimation } from '@antv/g2';\n\nfunction funnelScaleInX(shape, animateCfg) {\n  const { duration = 200, delay, easing, callback, reverse } = animateCfg || {};\n\n  const bbox = shape.getBBox();\n  const originX = reverse ? bbox.maxX : bbox.minX;\n  const originY = (bbox.minY + bbox.maxY) / 2;\n\n  const clip = shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: bbox.x,\n      y: bbox.y,\n      width: bbox.width,\n      height: bbox.height,\n    },\n  });\n  const clipTargetAttrs = {\n    matrix: [1, 0, 0, 0, 1, 0, 0, 0, 1],\n  };\n  clip.setMatrix(\n    transform(clip.getMatrix(), [\n      ['t', -originX, -originY],\n      ['s', 0, 1],\n      ['t', originX, originY],\n    ])\n  );\n\n  const shapeTargetAttrs = {\n    fillOpacity: shape.attr('fillOpacity'),\n    strokeOpacity: shape.attr('strokeOpacity'),\n    opacity: shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n\n  clip.animate(clipTargetAttrs, {\n    duration: 200,\n    easing,\n    callback() {\n      shape.setClip(null);\n      clip.remove();\n    },\n    delay,\n  });\n\n  shape.animate(shapeTargetAttrs, { duration, easing, delay });\n\n  callback && setTimeout(() => callback(shape), duration + delay);\n}\n\nfunnelScaleInX.animationName = 'funnelScaleInX';\nregisterAnimation('funnelScaleInX', funnelScaleInX);\n","import { transform } from '@antv/matrix-util';\nimport { registerAnimation } from '@antv/g2';\n\nfunction funnelScaleInY(shape, animateCfg) {\n  const { duration = 200, delay, easing, callback, reverse } = animateCfg || {};\n\n  const bbox = shape.getBBox();\n  const originX = (bbox.minX + bbox.maxX) / 2;\n  const originY = reverse ? bbox.maxY : bbox.minY;\n\n  const clip = shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: bbox.x,\n      y: bbox.y,\n      width: bbox.width,\n      height: bbox.height,\n    },\n  });\n  const clipTargetAttrs = {\n    matrix: [1, 0, 0, 0, 1, 0, 0, 0, 1],\n  };\n  clip.setMatrix(\n    transform(clip.getMatrix(), [\n      ['t', -originX, -originY],\n      ['s', 1, 0],\n      ['t', originX, originY],\n    ])\n  );\n\n  const shapeTargetAttrs = {\n    fillOpacity: shape.attr('fillOpacity'),\n    strokeOpacity: shape.attr('strokeOpacity'),\n    opacity: shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n\n  clip.animate(clipTargetAttrs, {\n    duration: 200,\n    easing,\n    callback() {\n      shape.setClip(null);\n      clip.remove();\n    },\n    delay,\n  });\n\n  shape.animate(shapeTargetAttrs, { duration, easing, delay });\n\n  callback && setTimeout(() => callback(shape), duration + delay);\n}\n\nfunnelScaleInY.animationName = 'funnelScaleInY';\nregisterAnimation('funnelScaleInY', funnelScaleInY);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackedRoseLayer, { StackedRoseViewConfig } from './layer';\n\nexport interface StackedRoseConfig extends StackedRoseViewConfig, PlotConfig {}\n\nexport default class StackedRose extends BasePlot<StackedRoseConfig> {\n  public static getDefaultOptions: typeof StackedRoseLayer.getDefaultOptions = StackedRoseLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedRose';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport RoseLayer, { RoseViewConfig } from '../rose/layer';\n\nexport interface StackedRoseViewConfig extends RoseViewConfig {\n  stackField: string;\n}\n\nexport interface StackedRoseLayerConfig extends StackedRoseViewConfig, LayerConfig {}\n\nexport default class StackedRoseLayer<T extends StackedRoseLayerConfig = StackedRoseLayerConfig> extends RoseLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          alignTick: false,\n          style: {\n            lineWidth: 0.5,\n          },\n        },\n        label: {\n          offset: 5,\n          autoRotate: true,\n        },\n      },\n      yAxis: {\n        visible: false,\n      },\n    });\n  }\n\n  public type: string = 'stackedRose';\n\n  protected adjustRoseAdjust() {\n    return [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n}\n\nregisterPlotType('stackedRose', StackedRoseLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GroupedRoseLayer, { GroupedRoseViewConfig } from './layer';\n\nexport interface GroupedRoseConfig extends GroupedRoseViewConfig, PlotConfig {}\n\nexport default class GroupedRose extends BasePlot<GroupedRoseConfig> {\n  public static getDefaultOptions: typeof GroupedRoseLayer.getDefaultOptions = GroupedRoseLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedRose';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport RoseLayer, { RoseViewConfig } from '../rose/layer';\n\nexport interface GroupedRoseViewConfig extends RoseViewConfig {\n  groupField: string;\n}\n\nexport interface GroupedRoseLayerConfig extends GroupedRoseViewConfig, LayerConfig {}\n\nexport default class GroupedRoseLayer<T extends GroupedRoseLayerConfig = GroupedRoseLayerConfig> extends RoseLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          alignTick: false,\n          style: {\n            lineWidth: 0.5,\n          },\n        },\n        label: {\n          offset: 5,\n          autoRotate: true,\n        },\n      },\n      yAxis: {\n        visible: false,\n      },\n    });\n  }\n\n  public type: string = 'groupedRose';\n\n  protected adjustRoseAdjust() {\n    return [\n      {\n        type: 'dodge',\n        marginRatio: 1,\n      },\n    ];\n  }\n}\n\nregisterPlotType('groupedRose', GroupedRoseLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RadarLayer, { RadarViewConfig } from './layer';\n\nexport interface RadarConfig extends RadarViewConfig, PlotConfig {}\n\nexport default class Radar extends BasePlot<RadarConfig> {\n  public static getDefaultOptions: typeof RadarLayer.getDefaultOptions = RadarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'radar';\n    super.createLayers(layerProps);\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { deepMix, has } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport * as EventParser from './event';\nimport { PointStyle, LineStyle } from '../line/layer';\nimport { IValueAxis, ICatAxis, ITimeAxis } from '../../interface/config';\nimport './theme';\n\ninterface FillStyle {\n  fill?: string;\n  opacity?: string;\n}\n\nexport interface RadarViewConfig extends ViewConfig {\n  /** 角度字段 */\n  angleField: string;\n  /** 径向字段 */\n  radiusField: string;\n  /** 分组字段 */\n  seriesField?: string;\n  /** 是否平滑 */\n  smooth?: boolean;\n  /** 折线图形样式 */\n  line?: {\n    visible?: boolean;\n    size?: number;\n    color?: string;\n    style?: LineStyle | ((...args: any[]) => LineStyle);\n  };\n  /** 数据点图形样式 */\n  point?: {\n    visible?: boolean;\n    shape?: string;\n    size?: number;\n    color?: string;\n    style?: PointStyle | ((...args: any[]) => PointStyle);\n  };\n  /** area图形样式 */\n  area?: {\n    visible?: boolean;\n    style?: FillStyle | ((...args: any[]) => FillStyle);\n  };\n  /** 角度轴配置 */\n  angleAxis?: ICatAxis | ITimeAxis;\n  /** 径向轴配置 */\n  radiusAxis?: IValueAxis;\n  /** 雷达图半径 */\n  radius?: number;\n}\n\nexport interface RadarLayerConfig extends RadarViewConfig, LayerConfig {}\n\nconst GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point',\n};\n\nexport default class RadarLayer extends ViewLayer<RadarLayerConfig> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      smooth: false,\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1,\n        },\n      },\n      area: {\n        visible: true,\n        style: {\n          opacity: 0.25,\n        },\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point',\n        style: {\n          opacity: 1,\n        },\n      },\n      angleAxis: {\n        visible: true,\n        autoRotateTitle: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          line: {\n            style: {\n              lineDash: [0, 0],\n            },\n          },\n        },\n        label: {\n          visible: true,\n          offset: 16,\n          autoRotate: true,\n          autoHide: true,\n        },\n        title: {\n          visible: false,\n        },\n      },\n      radiusAxis: {\n        min: 0,\n        visible: true,\n        /** G2 4.0 默认 nice 不生效，需要手动添加 */\n        nice: true,\n        autoRotateTitle: true,\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        gridType: 'line',\n        grid: {\n          visible: true,\n          line: {\n            style: {\n              lineDash: [0, 0],\n            },\n          },\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: true,\n        },\n        title: {\n          visible: false,\n        },\n      },\n      label: {\n        visible: false,\n        type: 'point',\n      },\n      legend: {\n        visible: true,\n        position: 'left-top',\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: false,\n      },\n    });\n  }\n  public type: string = 'radar';\n  public line: any;\n  public point: any;\n  public area: any;\n  public baseElement: any;\n  public lineElement: any; // 保存line、area、point的配置项，用于后续的label、tooltip\n  public pointElement: any;\n  public areaElement: any;\n\n  public init() {\n    const props = this.options;\n    props.xField = props.angleField;\n    props.yField = props.radiusField;\n    super.init();\n  }\n\n  protected geometryParser(dim, type) {\n    return GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.angleField] = {};\n    if (has(props, 'angleAxis')) {\n      extractScale(scales[props.angleField], props.angleAxis);\n    }\n    /** 配置y-scale */\n    scales[props.radiusField] = {};\n    if (has(props, 'radiusAxis')) {\n      extractScale(scales[props.radiusField], props.radiusAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig: any = {\n      type: 'polar',\n      cfg: {\n        radius: props.radius,\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected axis(): void {\n    const props = this.options;\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'angle',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'radius',\n    });\n    const axesConfig = {};\n    axesConfig[props.angleField] = xAxis_parser;\n    axesConfig[props.radiusField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    /** 配置面积 */\n    if (props.area.visible) {\n      const area = getGeom('area', 'main', {\n        plot: this,\n      });\n      this.setConfig('geometry', area);\n      this.area = area;\n    }\n    /** 配置线 */\n    if (props.line && props.line.visible) {\n      const line = getGeom('line', 'guide', {\n        plot: this,\n      });\n      this.setConfig('geometry', line);\n      this.line = line;\n    }\n    /** 配置点 */\n    if (props.point && props.point.visible) {\n      const point = getGeom('point', 'guide', {\n        plot: this,\n      });\n      this.setConfig('geometry', point);\n      this.point = point;\n    }\n    if (props.label) {\n      this.label();\n    }\n  }\n\n  protected label() {\n    const props = this.options;\n\n    if (props.label.visible === false) {\n      if (this.point) {\n        this.point.label = false;\n      }\n      if (this.line) {\n        this.line.label = false;\n      }\n      if (this.area) {\n        this.area.label = false;\n      }\n      return;\n    }\n\n    // @Todo 雷达图标签布局算法后续补充\n    const label = getComponent('label', {\n      fields: [props.radiusField],\n      cfg: {\n        type: 'polar',\n        autoRotate: false,\n      },\n      plot: this,\n      ...props.label,\n    });\n\n    if (this.point) {\n      this.point.label = label;\n    } else if (this.line) {\n      this.line.label = label;\n    } else if (this.area) {\n      this.area.label = label;\n    }\n  }\n\n  protected annotation() {}\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      // 关闭动画\n      if (this.area) this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('radar', RadarLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Area: 'area',\n  Line: 'line',\n  Point: 'point',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { registerTheme } from '../../theme';\n\nconst AREA_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst AREA_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst LINE_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_SELECTED_STYLE = (style) => {\n  const lineWidth = style.lineWidth || 1;\n  return { lineWidth: lineWidth + 2 };\n};\n\nconst POINT_ACTIVE_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1,\n  };\n};\n\nconst POINT_SELECTED_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 2,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 2,\n  };\n};\n\nconst POINT_DISABLED_STYLE = (style) => {\n  const opacity = style.opacity || style.fillOpacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('radar', {\n  areaStyle: {\n    normal: {},\n    active: AREA_ACTIVE_STYLE,\n    disable: AREA_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: '#333333' },\n  },\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE,\n  },\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    disable: POINT_DISABLED_STYLE,\n    selected: POINT_SELECTED_STYLE,\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport LiquidLayer, { LiquidViewConfig } from './layer';\n\nexport interface LiquidConfig extends LiquidViewConfig, PlotConfig {}\n\nexport default class Liquid extends BasePlot<LiquidConfig> {\n  public static getDefaultOptions: typeof LiquidLayer.getDefaultOptions = LiquidLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'liquid';\n    super.createLayers(layerProps);\n  }\n\n  public changeValue(value: number, all: boolean = false) {\n    if (all) {\n      this.eachLayer((layer) => {\n        if (layer instanceof LiquidLayer) {\n          layer.changeValue(value);\n        }\n      });\n    } else {\n      const layer: any = this.layers[0];\n      if (layer instanceof LiquidLayer) {\n        layer.changeValue(value);\n      }\n    }\n  }\n}\n","import { deepMix, isFunction, get, forIn, isNumber } from '@antv/util';\nimport BBox from '../../util/bbox';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport { DataItem } from '../../interface/config';\nimport { rgb2arr } from '../../util/color';\nimport * as EventParser from './event';\nimport './geometry/shape/liquid';\nimport './animation/liquid-move-in';\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'liquid',\n};\n\nexport interface LiquidStyle {}\n\nexport interface LiquidViewConfig extends Partial<ViewConfig> {\n  statistic?: {\n    visible?: boolean;\n    adjustColor?: boolean;\n    style?: {};\n    formatter?: (value) => string;\n  };\n  min: number;\n  max: number;\n  value: number;\n  liquidStyle?: LiquidStyle | ((...args: any[]) => LiquidStyle);\n  type?: string;\n  showValue?: boolean;\n}\n\nexport interface LiquidLayerConfig extends LiquidViewConfig, LayerConfig {\n  data: DataItem[];\n}\n\nexport default class LiquidLayer<T extends LiquidLayerConfig = LiquidLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<LiquidViewConfig> {\n    const cfg: Partial<LiquidViewConfig> = {\n      animation: {\n        factor: 0.4,\n        easing: 'easeExpOut',\n        duration: 800,\n      },\n      liquidStyle: {\n        lineWidth: 2,\n      },\n      color: '#6a99f9',\n      interactions: [],\n    };\n    return deepMix({}, super.getDefaultOptions(), cfg);\n  }\n\n  public liquid: any;\n  public type: string = 'liquid';\n  private shouldFadeInAnnotation: boolean = true;\n\n  public beforeInit() {\n    const { min, max, value } = this.options;\n    if (!isNumber(min)) {\n      throw new Error('The min value of Liquid is required, and the type of min must be Number.');\n    }\n    if (!isNumber(max)) {\n      throw new Error('The max value of Liquid is required, and the type of max must be Number.');\n    }\n    if (!isNumber(value)) {\n      throw new Error('The value of Liquid is required, and the type of value must be Number.');\n    }\n  }\n\n  public init() {\n    this.options.data = [{}];\n    super.init();\n  }\n\n  protected coord() {}\n\n  protected scale() {\n    const props = this.options;\n    const { min, max } = props;\n    const scales = {\n      value: {},\n    };\n    extractScale(scales.value, {\n      min: Math.min(min, max),\n      max: Math.max(min, max),\n    });\n    // @ts-ignore\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected axis(): void {\n    this.setConfig('axes', false);\n  }\n\n  protected adjustLiquid(liquid) {\n    const { options: props } = this;\n\n    liquid.shape = {\n      values: ['liquid-fill-gauge'],\n    };\n\n    liquid.tooltip = false;\n\n    let liquidStyle = props.liquidStyle;\n    if (isFunction(liquidStyle)) liquidStyle = liquidStyle();\n    if (liquidStyle) {\n      liquid.style = liquidStyle;\n    }\n  }\n\n  protected addGeometry(): void {\n    const liquid = getGeom('interval', 'main', {\n      positionFields: [1, 'value'],\n      plot: this,\n    });\n    this.adjustLiquid(liquid);\n    this.liquid = liquid;\n    this.setConfig('geometry', liquid);\n  }\n\n  protected animation() {\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.liquid.animate = false;\n    } else {\n      const factor = get(props, 'animation.factor');\n      const easing = get(props, 'animation.easing');\n      const duration = get(props, 'animation.duration');\n      this.liquid.animate = {\n        appear: {\n          animation: 'liquidMoveIn',\n          factor,\n          easing,\n          duration,\n        },\n      };\n    }\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected annotation() {\n    const annotationConfigs = [];\n\n    const statisticConfig = this.extractStatistic();\n    annotationConfigs.push(statisticConfig);\n\n    this.setConfig('annotations', annotationConfigs);\n  }\n\n  protected extractStatistic() {\n    const props = this.options;\n    const statistic = props.statistic || {};\n\n    let content;\n    if (isFunction(statistic.formatter)) {\n      content = statistic.formatter(props.value);\n    } else {\n      content = `${props.value}`;\n    }\n\n    let fontSize;\n    let shadowBlur;\n    if (content) {\n      let contentWidth;\n      if (props.width < props.height) {\n        contentWidth = props.width * 0.8;\n      } else {\n        contentWidth = props.height;\n      }\n      fontSize = (0.8 * contentWidth) / content.length;\n      shadowBlur = Math.max(1, Math.ceil(0.025 * fontSize));\n    }\n\n    let opacity;\n    if (statistic.visible === false) {\n      opacity = 0;\n    }\n\n    const statisticConfig = deepMix(\n      {\n        style: {\n          fontSize,\n          shadowBlur,\n        },\n      },\n      statistic,\n      {\n        top: true,\n        content,\n        type: 'text',\n        position: ['50%', '50%'],\n        style: {\n          opacity: 1,\n          fill: 'transparent',\n          shadowColor: 'transparent',\n          textAlign: 'center',\n        },\n      }\n    );\n\n    delete statisticConfig.visible;\n    delete statisticConfig.formatter;\n    delete statisticConfig.adjustColor;\n    return statisticConfig;\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  public afterRender() {\n    this.fadeInAnnotation();\n    const { options } = this;\n    const padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n    /** autopadding */\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    const props = this.options;\n    return [{ _: '_', value: props.value }];\n  }\n\n  public changeValue(value: number): void {\n    const props = this.options;\n    props.value = value;\n    this.changeData([]);\n  }\n\n  protected fadeInAnnotation() {\n    const props = this.options;\n    const textShape = this.view.foregroundGroup.findAll((el) => {\n      return el.get('name') === 'annotation-text';\n    })[0];\n    const animation = props.animation || {};\n    const colorStyle = this.calcAnnotationColorStyle();\n    if (this.shouldFadeInAnnotation) {\n      textShape.animate(colorStyle, animation.duration * Math.min(1, 1.5 * animation.factor), null, () => {\n        this.shouldFadeInAnnotation = false;\n      });\n    } else {\n      forIn(colorStyle, (v, k) => textShape.attr(k, v));\n    }\n  }\n\n  protected calcAnnotationColorStyle() {\n    const { options: props } = this;\n\n    const lightColorStyle = { fill: '#f6f6f6', shadowColor: 'black' };\n    const darkColorStyle = { fill: '#303030', shadowColor: 'white' };\n\n    if (get(props, 'statistic.adjustColor') === false) {\n      return {\n        fill: get(props, 'statistic.style.fill', darkColorStyle.fill),\n        shadowColor: get(props, 'statistic.style.shadowColor', darkColorStyle.shadowColor),\n      };\n    }\n\n    let { min, max } = props;\n    const { value } = props;\n    min = Math.min(min, max);\n    max = Math.max(min, max);\n    let percent;\n    if (min == max) {\n      percent = 1;\n    } else {\n      percent = (value - min) / (max - min);\n    }\n\n    if (percent > 0.55) {\n      const waveColor = this.options.color;\n      const waveOpacity = 0.8;\n      const rgb = rgb2arr(waveColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / waveOpacity;\n      return gray < 156 ? lightColorStyle : darkColorStyle;\n    }\n\n    return darkColorStyle;\n  }\n\n  public updateConfig(cfg: Partial<T>): void {\n    super.updateConfig(cfg);\n    this.shouldFadeInAnnotation = true;\n  }\n\n  protected getViewRange() {\n    const viewRange = super.getViewRange();\n    const liquidStyle: any = this.options.liquidStyle;\n    const strokeWidth = liquidStyle.lineWidth ? liquidStyle.lineWidth : 2;\n    const { minX, minY, width, height } = viewRange;\n    const size = Math.min(width, height) - strokeWidth * 2;\n    const cx = minX + width / 2;\n    const cy = minY + height / 2;\n    const x = cx - size / 2;\n    const y = cy - size / 2;\n    return new BBox(x, y, size, size);\n  }\n}\n\nregisterPlotType('liquid', LiquidLayer);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Liquid: 'intervl',\n  Statistic: 'annotation-text',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { registerShape } from '../../../../dependents';\nimport { isArray, each, isNumber, mix } from '@antv/util';\nimport { getGlobalTheme } from '../../../../theme';\nimport { transform } from '../../../../util/g-util';\n\nconst globalTheme = getGlobalTheme();\n\nconst ShapeUtil = {\n  splitPoints(obj) {\n    const points = [];\n    const x = obj.x;\n    let y = obj.y;\n    y = isArray(y) ? y : [y];\n    each(y, (yItem, index) => {\n      const point = {\n        x: isArray(x) ? x[index] : x,\n        y: yItem,\n      };\n      points.push(point);\n    });\n    return points;\n  },\n  addFillAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.fill) {\n      attrs.fill = cfg.color;\n    }\n    if (isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  },\n  addStrokeAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.stroke) {\n      attrs.stroke = cfg.color;\n    }\n    if (isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n    }\n  },\n};\n\nconst ValueUtil = {\n  lerp(a, b, factor) {\n    return (1 - factor) * a + factor * b;\n  },\n};\n\nconst getFillAttrs = (cfg) => {\n  const defaultAttrs = {\n    lineWidth: 0,\n    fill: globalTheme.color,\n    fillOpacity: 0.85,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n  ShapeUtil.addFillAttrs(attrs, cfg);\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n  return attrs;\n};\n\nconst getLineAttrs = (cfg) => {\n  const defaultAttrs = {\n    fill: '#fff',\n    stroke: globalTheme.color,\n    fillOpacity: 0,\n    lineWidth: 2,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n  ShapeUtil.addStrokeAttrs(attrs, cfg);\n  return attrs;\n};\n\n/**\n * 用贝塞尔曲线模拟正弦波\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param {number} x          x position of the left-most point (a)\n * @param {number} stage      0-3, stating which part of the wave it is\n * @param {number} waveLength wave length of the sine wave\n * @param {number} amplitude  wave amplitude\n * @return {Array} 正弦片段曲线\n */\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * 获取水波路径\n * @param  {number} radius          半径\n * @param  {number} waterLevel      水位\n * @param  {number} waveLength      波长\n * @param  {number} phase           相位\n * @param  {number} amplitude       震幅\n * @param  {number} cx              圆心x\n * @param  {number} cy              圆心y\n * @return {Array}  path            路径\n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 2;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * 添加水波\n * @param {number} x           中心x\n * @param {number} y           中心y\n * @param {number} level       水位等级 0～1\n * @param {number} waveCount   水波数\n * @param {number} colors      色值\n * @param {number} group       图组\n * @param {number} clip        用于剪切的图形\n * @param {number} radius      绘制图形的高度\n */\nfunction addWaterWave(x, y, level, waveCount, color, group, clip, radius) {\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n  const duration = 5000;\n  for (let i = 0; i < waveCount; i++) {\n    const factor = waveCount <= 1 ? 0 : i / (waveCount - 1);\n    const wave = group.addShape('path', {\n      attrs: {\n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          width / 4,\n          0,\n          width / ValueUtil.lerp(56, 64, factor),\n          x,\n          y\n        ),\n        fill: color,\n        opacity: ValueUtil.lerp(0.6, 0.3, factor),\n      },\n    });\n    /*wave.setClip({\n      type:'circle',\n      attrs: clip.attrs\n    })*/\n    // FIXME wave animation error in svg\n    // if (Global.renderer === 'canvas') {\n    const matrix = transform([['t', width / 2, 0]]);\n    wave.animate(\n      { matrix },\n      {\n        duration: ValueUtil.lerp(duration, 0.7 * duration, factor),\n        repeat: true,\n      }\n    );\n    //}\n  }\n}\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container) {\n    const cy = 0.5;\n    let sumX = 0;\n    let minX = Infinity;\n    each(cfg.points, (p: any) => {\n      if (p.x < minX) {\n        minX = p.x;\n      }\n      sumX += p.x;\n    });\n    const cx = sumX / cfg.points.length;\n    const cp = this.parsePoint({ x: cx, y: cy });\n    const minP = this.parsePoint({ x: minX, y: 0.5 });\n    const xWidth = cp.x - minP.x;\n    const radius = Math.min(xWidth, minP.y);\n    const { fill } = getFillAttrs(cfg);\n    const waves = container.addGroup({\n      name: 'waves',\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n      },\n    });\n    waves.setClip({\n      type: 'circle',\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        r: radius,\n      },\n    });\n    const clipCircle = waves.get('clipShape');\n    addWaterWave(\n      cp.x,\n      cp.y,\n      1 - cfg.points[1].y, // cfg.y / (2 * cp.y),\n      3,\n      fill,\n      waves,\n      clipCircle,\n      radius * 4\n    );\n    const warpRing = container.addShape('circle', {\n      name: 'wrap',\n      attrs: mix(getLineAttrs(cfg), {\n        x: cp.x,\n        y: cp.y,\n        r: radius,\n        fill: 'transparent',\n      }),\n    });\n    return waves[0];\n  },\n});\n","import { registerAnimation } from '../../../dependents';\nimport { get, clone } from '@antv/util';\nimport { transform } from '../../../util/g-util';\n\nfunction liquidMoveIn(shape, animateCfg) {\n  const container = shape.get('parent');\n  const box = container.getBBox();\n  const factor = Math.min(Math.max(0, get(animateCfg, 'factor', 0.5)), 1);\n  const delay = get(animateCfg, 'delay', 0);\n  const duration = get(animateCfg, 'duration', 800);\n  const { callback } = animateCfg;\n\n  const originX = (box.minX + box.maxX) / 2;\n  const originY = box.maxY;\n\n  const wrap = container.find((shape) => shape.get('name') == 'wrap');\n  const wrapTargetOpacity = wrap.attr('opacity');\n  wrap.attr('opacity', 0);\n  wrap.animate({ opacity: wrapTargetOpacity }, duration * factor, 'easeLinear', null, delay);\n  const waves = container.find((shape) => shape.get('name') == 'waves');\n  const wavesTargetMatrix = clone(waves.attr('matrix')) || [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  const transformMatrix = transform(wavesTargetMatrix, [\n    ['t', -originX, -originY],\n    ['s', 1, 0],\n    ['t', originX, originY],\n  ]);\n  waves.setMatrix(transformMatrix);\n  waves.animate(\n    { matrix: wavesTargetMatrix },\n    duration,\n    animateCfg.easing,\n    () => callback && callback(container, wrap, waves),\n    delay\n  );\n}\nliquidMoveIn.animationName = 'liquidMoveIn';\nregisterAnimation('liquidMoveIn', liquidMoveIn);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport HistogramLayer, { HistogramViewConfig } from './layer';\n\nexport interface HistogramConfig extends HistogramViewConfig, PlotConfig {}\n\nexport default class Histogram extends BasePlot<HistogramConfig> {\n  public static getDefaultOptions: typeof HistogramLayer.getDefaultOptions = HistogramLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'histogram';\n    super.createLayers(layerProps);\n  }\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { sturges } from '../../util/math';\nimport Column, { ColumnViewConfig } from '../column/layer';\nimport { DataItem } from '../../interface/config';\n\nexport interface HistogramViewConfig extends ColumnViewConfig {\n  binField: string;\n  binWidth?: number;\n  binNumber?: number;\n}\n\nexport interface HistogramLayerConfig extends HistogramViewConfig, LayerConfig {}\n\nexport default class HistogramLayer extends Column<HistogramLayerConfig> {\n  public type: string = 'histogram';\n\n  public init() {\n    this.options.xField = 'range';\n    this.options.yField = 'count';\n    super.init();\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const { binField, binWidth, binNumber } = this.options;\n    const originData_copy = clone(originData);\n    // 根据binField value对源数据进行排序\n    sortBy(originData_copy, binField);\n    // 获取源数据binField values的range\n    const values = valuesOfKey(originData_copy, binField);\n    const range = getRange(values);\n    const rangeWidth = range.max - range.min;\n    // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n    let _binWidth = binWidth;\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    }\n    // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n    if (!binWidth && !binNumber) {\n      const _defaultBinNumber = sturges(values);\n      _binWidth = rangeWidth / _defaultBinNumber;\n    }\n    const bins = {};\n    each(originData_copy, (data) => {\n      const value = data[binField];\n      const bin = this.getBin(value, _binWidth);\n      const binName = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binName)) {\n        bins[binName] = { name: binName, range: bin, count: 0, data: [] };\n      }\n      bins[binName].data.push(data);\n      bins[binName].count += 1;\n    });\n    // 将分箱数据转换为plotData\n    const plotData = [];\n    each(bins, (bin) => {\n      plotData.push(bin);\n    });\n    return plotData;\n  }\n\n  protected scale() {\n    super.scale();\n    // fixme: 类型定义\n    const range = this.config.scales.range as any;\n    range.nice = false;\n    range.type = 'linear';\n  }\n\n  private getBin(value, binWidth) {\n    const index = Math.floor(value / binWidth);\n    return [binWidth * index, binWidth * (index + 1)];\n  }\n}\n\nregisterPlotType('histogram', HistogramLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport DensityLayer, { DensityViewConfig } from './layer';\n\nexport interface DensityConfig extends DensityViewConfig, PlotConfig {}\n\nexport default class Density extends BasePlot<DensityConfig> {\n  public static getDefaultOptions: typeof DensityLayer.getDefaultOptions = DensityLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'density';\n    super.createLayers(layerProps);\n  }\n}\n","import { getScale } from '@antv/scale';\nimport { clone, deepMix, sortBy, valuesOfKey, getRange, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { sturges } from '../../util/math';\nimport Area, { AreaViewConfig } from '../area/layer';\nimport { DataItem } from '../../interface/config';\nimport { LooseMap } from '../../interface/types';\n\nexport interface DensityViewConfig extends AreaViewConfig {\n  binField: string;\n  binWidth?: number;\n  binNumber?: number;\n  kernel?: 'uniform' | 'triangle' | 'epanechnikov' | 'quartic' | 'triweight' | 'gaussian' | 'cosinus';\n}\n\nexport interface DensityLayerConfig extends DensityViewConfig, LayerConfig {}\n\nconst kernels = {\n  epanechnikov: (dist: number) => {\n    return Math.abs(dist) <= 1 ? 0.75 * (1 - dist * dist) : 0;\n  },\n  gaussian: (dist: number) => {\n    return (1 / Math.sqrt(Math.PI * 2)) * Math.exp(-0.5 * Math.pow(dist, 2));\n  },\n  uniform: (dist: number) => {\n    return Math.abs(dist) <= 1 ? 0.5 : 0;\n  },\n  triangle: (dist: number) => {\n    return Math.abs(dist) <= 1 ? 1 - Math.abs(dist) : 0;\n  },\n  quartic: (dist: number) => {\n    const v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? (15 / 16) * v * v : 0;\n  },\n  triweight: (dist: number) => {\n    const v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? (15 / 16) * Math.pow(v, 3) : 0;\n  },\n  cosinus: (dist: number) => {\n    const v = (Math.PI / 4) * Math.cos(0.5 * Math.PI * dist);\n    return Math.abs(dist) <= 1 ? v : 0;\n  },\n};\n\nexport default class DensityLayer<T extends DensityLayerConfig = DensityLayerConfig> extends Area<T> {\n  public type: string = 'density';\n\n  public init() {\n    const originXAxisConfig = this.options.xAxis ? clone(this.options.xAxis) : {};\n    this.options.xField = 'value';\n    this.options.yField = 'density';\n    this.options.xAxis = deepMix({}, originXAxisConfig, { type: 'linear' });\n    this.options.smooth = true;\n    super.init();\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const { binField, binWidth, binNumber, kernel } = this.options;\n    const _kernel = kernel ? kernel : 'epanechnikov';\n    const kernelFunc = kernels[_kernel];\n    const originDataCopy = clone(originData);\n    sortBy(originDataCopy, binField);\n    // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n    const values = valuesOfKey(originDataCopy, binField);\n    const range = getRange(values);\n    const rangeWidth = range.max - range.min;\n    let _binNumber = binNumber;\n    let _binWidth = binWidth;\n    if (!binNumber && binWidth) {\n      _binNumber = Math.floor(rangeWidth / binWidth);\n    }\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    }\n    // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n    if (!binNumber && !binWidth) {\n      _binNumber = sturges(values);\n      _binWidth = rangeWidth / binNumber;\n    }\n    // 根据binNumber获取samples\n    const LinearScale = getScale('linear');\n    const scale = new LinearScale({\n      min: range.min,\n      max: range.max,\n      tickCount: _binNumber,\n      nice: false,\n    });\n    const samples = scale.getTicks();\n    // 计算KDE\n    const densities = [];\n    each(samples, (s) => {\n      const density = this.kernelDensityEstimator(_binWidth, kernelFunc, s, values);\n      densities.push({ value: s.text, density });\n    });\n\n    return densities;\n  }\n\n  private kernelDensityEstimator(\n    binWidth: number,\n    kernelFunc: (dist: number) => number,\n    x: LooseMap,\n    values: number[]\n  ) {\n    let sum = 0;\n    each(values, (v) => {\n      const dist = (x.tickValue - v) / binWidth;\n      sum += kernelFunc(dist);\n    });\n    return values.length === 0 ? 0 : sum / values.length;\n  }\n}\n\nregisterPlotType('density', DensityLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport DonutLayer, { DonutViewConfig } from './layer';\n\nexport interface DonutConfig extends DonutViewConfig, PlotConfig {}\n\nexport default class Donut extends BasePlot<DonutConfig> {\n  public static getDefaultOptions: typeof DonutLayer.getDefaultOptions = DonutLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'donut';\n    super.createLayers(layerProps);\n  }\n}\n","import responsiveRing from './geometry';\n\nconst preRenderResponsive = [{ name: 'responsiveRing', method: responsiveRing }];\n\nconst afterRenderResponsive = [];\n\nexport default {\n  preRender: preRenderResponsive,\n};\n","import { getCoordinate } from '@antv/coord';\nimport VariableNodes from '../../../util/responsive/node/variable-node';\nimport Responsive from '../../../util/responsive/responsive';\nimport RingLayer from '../layer';\n\nexport default function responsiveRing(layer: RingLayer) {\n  const props = layer.options;\n  const responsiveTheme = layer.getResponsiveTheme();\n  const padding = props.padding;\n  const radius = props.radius ? props.radius : 1;\n  const { width, height } = layer;\n  /** 创建坐标系 */\n  const polar = getCoordinate('polar');\n  const coord = new polar({\n    radius,\n    start: { x: padding[3], y: padding[0] },\n    end: { x: width - padding[1], y: height - padding[2] },\n  });\n  const region = {\n    radius,\n    coord,\n  };\n  const nodes = new VariableNodes({\n    nodes: [{ name: 'innerRadius', value: 0 }],\n  });\n\n  const { constraints } = responsiveTheme.ring;\n  new Responsive({\n    nodes,\n    constraints,\n    region,\n    plot: layer,\n    onEnd: () => {\n      props.innerRadius = nodes.nodes[0].value;\n    },\n  });\n}\n","import { assign } from '@antv/util';\n\ninterface NodesCfg {\n  nodes: IVariableNode[];\n}\n\ninterface IVariableNode {\n  name: string;\n  value: any;\n}\n\nexport default class VariableNodes {\n  public nodes: IVariableNode[];\n  public type: string = 'variable';\n  constructor(cfg: NodesCfg) {\n    assign(this, cfg);\n  }\n  public normalize() {}\n}\n","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n\n/** 组装theme\n * 其实这个应该是扩展自pie的，anyway，先这样写\n */\nconst ringTheme = {\n  ring: {\n    constraints: [{ name: 'ringThickness' }, { name: 'minRingThickness' }],\n  },\n};\n\nregisterResponsiveTheme('ring', ringTheme);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Ring: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { View } from '../../../dependents';\nimport StatisticHtml, { IStaticticHtml } from './statistic';\nimport * as statisticTemplate from './statistic-template';\nimport { debounce, each, isString, isObject, isFunction, keys } from '@antv/util';\nimport { LooseMap } from '../../../interface/types';\nimport Ring, { DonutViewConfig } from '../layer';\n\ninterface IRingStatictic extends IStaticticHtml {\n  view: View;\n  plot: any;\n}\n\nexport default class RingStatistic extends StatisticHtml {\n  protected view: View;\n  protected plot: Ring;\n  protected statisticClass: string;\n  protected options: DonutViewConfig['statistic'];\n\n  constructor(cfg: IRingStatictic) {\n    super(cfg);\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    this.statisticClass = cfg.statisticClass;\n    this.adjustOptions();\n  }\n\n  public triggerOn() {\n    const triggerOnEvent = this.options.triggerOn;\n    this.view.on(\n      `interval:${triggerOnEvent}`,\n      debounce((e) => {\n        const displayData = this.parseStatisticData(e.data.data);\n        const htmlString = this.getStatisticHtmlString(displayData);\n        this.updateHtml(htmlString);\n      }, 150)\n    );\n    const triggerOffEvent = this.options.triggerOff ? this.options.triggerOff : 'mouseleave';\n    this.view.on(\n      `interval:${triggerOffEvent}`,\n      debounce((e) => {\n        const totalValue = this.getTotalValue();\n        const displayData = this.parseStatisticData(totalValue);\n        const htmlString = this.getStatisticHtmlString(displayData);\n        this.updateHtml(htmlString);\n      }, 150)\n    );\n  }\n\n  protected adjustOptions() {\n    let displayData;\n    if (this.options.content) {\n      displayData = this.options.content;\n    } else {\n      /** 用户没有指定文本内容时，默认显示总计 */\n      const data = this.getTotalValue();\n      displayData = this.parseStatisticData(data);\n    }\n    /** 中心文本显示 */\n    let htmlString;\n    if (this.options.htmlContent) {\n      htmlString = this.options.htmlContent(displayData);\n    } else {\n      htmlString = this.getStatisticTemplate(displayData);\n    }\n\n    this.html = htmlString;\n\n    const { minX, minY, width, height } = this.view.coordinateBBox;\n    this.x = minX + width / 2;\n    this.y = minY + height / 2;\n  }\n\n  private getTotalValue() {\n    let total = 0;\n    const { angleField, colorField } = this.plot.options;\n    const { totalLabel } = this.options;\n    each(this.plot.options.data, (item) => {\n      if (typeof item[angleField] === 'number') {\n        total += item[angleField];\n      }\n    });\n    const data = {\n      [angleField]: total,\n      [colorField]: totalLabel,\n    };\n    return data;\n  }\n\n  private parseStatisticData(data) {\n    const { angleField, colorField } = this.plot.options;\n    return colorField ? { name: data[colorField], value: data[angleField] } : data[angleField];\n  }\n\n  private getStatisticTemplate(data) {\n    const size = this.getStatisticSize();\n    let htmlString;\n    /** 如果文本内容为string或单条数据 */\n    if (isString(data)) {\n      htmlString = statisticTemplate.getSingleDataTemplate(data, this.statisticClass, size);\n    } else if (isObject(data) && keys(data).length === 2) {\n      /** 如果文本内容为两条数据 */\n      const content = data as LooseMap;\n      htmlString = statisticTemplate.getTwoDataTemplate(content.name, content.value, this.statisticClass, size);\n    }\n    /** 更为复杂的文本要求用户自行制定html模板 */\n    return htmlString;\n  }\n\n  private getStatisticSize() {\n    const radius = (this.view.getCoordinate() as any).getRadius();\n    const { radius: radiusCfg, innerRadius: innerRadiusCfg } = this.plot.options;\n    return (radius / radiusCfg) * innerRadiusCfg * 2;\n  }\n\n  private getStatisticHtmlString(data): string {\n    const triggerOnConfig = this.options.triggerOn;\n    let htmlString: string;\n    if (isString(triggerOnConfig)) {\n      htmlString = this.getStatisticTemplate(data);\n    }\n    if (isFunction(triggerOnConfig)) {\n      htmlString = triggerOnConfig(data);\n      htmlString = `<div class=\"ring-guide-html ${this.statisticClass}\">${htmlString}</div>`;\n    }\n    return htmlString;\n  }\n}\n","import { each, deepMix, clone, find, isElement } from '@antv/util';\nimport { createDom, modifyCSS, getOuterWidth, getOuterHeight } from '@antv/dom-util';\n\nexport interface IStaticticHtml {\n  x?: number;\n  y?: number;\n  html?: string;\n  [key: string]: any;\n  alignX?: string;\n  alignY?: string;\n  container?: any;\n  statisticClass?: string;\n}\n\nexport default class StatisticHtml {\n  public wrapperNode: HTMLElement;\n  protected x: number;\n  protected y: number;\n  protected html: string;\n  protected container: any;\n  protected options: any;\n\n  constructor(cfg: IStaticticHtml) {\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.x = this.options.x;\n    this.y = this.options.y;\n    this.html = this.options.html;\n    this.container = this.options.container;\n  }\n\n  protected render() {\n    if (isElement(this.container)) {\n      this.wrapperNode = createDom('<div class=\"g2plot-htmlStatistic\"></div>');\n      this.container.appendChild(this.wrapperNode);\n      modifyCSS(this.wrapperNode, {\n        position: 'absolute',\n      });\n      const htmlNode = createDom(this.html);\n      this.wrapperNode.appendChild(htmlNode);\n      this.setDomPosition(this.x, this.y);\n    }\n  }\n\n  public updateHtml(content: string) {\n    this.wrapperNode.innerHTML = content;\n  }\n\n  public updatePosition(x, y) {\n    this.setDomPosition(x, y);\n  }\n\n  public destory() {\n    this.container.removeChild(this.wrapperNode);\n  }\n\n  protected getDefaultOptions() {\n    return {\n      x: 0,\n      y: 0,\n      html: '',\n      container: null,\n      alignX: 'middle',\n      alignY: 'middle',\n    };\n  }\n\n  protected setDomPosition(x: number, y: number) {\n    let xPosition = x;\n    let yPosition = y;\n    const width = getOuterWidth(this.wrapperNode);\n    const height = getOuterHeight(this.wrapperNode);\n    if (this.options.alignX === 'middle') {\n      xPosition = x - width / 2;\n    }\n    if (this.options.alignY === 'middle') {\n      yPosition = y - height / 2;\n    }\n    modifyCSS(this.wrapperNode, {\n      top: `${Math.round(yPosition)}px`,\n      left: `${Math.round(xPosition)}px`,\n    });\n  }\n}\n","/*tslint:disable*/\nconst containerStyle =\n  \"color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;\";\n\nconst nameStyle = 'font-weight:300;';\n\nconst valueStyle = 'font-size:32px;font-weight:bold;color:#4D4D4D';\n\nfunction getSingleDataTemplate(value, classId, size) {\n  const domStyle = `${containerStyle}width:${size}px;`;\n  return `<div class=\"ring-guide-html ${classId}\" style=${domStyle}><span class=\"ring-guide-value\" style=${valueStyle}>${value}</span></div>`;\n}\n\nfunction getTwoDataTemplate(name, value, classId, size) {\n  const domStyle = `${containerStyle}width:${size}px;`;\n  return `<div class=\"ring-guide-html ${classId}\" style=${domStyle}><span class=\"ring-guide-name\" style=${nameStyle}>${name}</span><br/><span class=\"ring-guide-value\" style=${valueStyle}>${value}</span></div>`;\n}\n\nexport { getSingleDataTemplate, getTwoDataTemplate };\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport WaterfallLayer, { WaterfallViewConfig } from './layer';\n\nexport interface WaterfallConfig extends WaterfallViewConfig, PlotConfig {}\n\nexport default class Waterfall extends BasePlot<WaterfallConfig> {\n  public static getDefaultOptions: typeof WaterfallLayer.getDefaultOptions = WaterfallLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'waterfall';\n    super.createLayers(layerProps);\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { get } from '@antv/util';\nimport { IGroup, registerShape, Point, ShapeInfo } from '../../../../dependents';\n\nfunction getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean) {\n  const { style, defaultStyle, color } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      attrs.stroke = color;\n    }\n    if (isFill) {\n      attrs.fill = color;\n    }\n  }\n  return attrs;\n}\n\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n  path.push(['z']);\n  return path;\n}\n\n// @ts-ignore\nregisterShape('interval', 'waterfall', {\n  // @ts-ignore\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    const leaderLine = get(cfg.style, 'leaderLine');\n    if (leaderLine && leaderLine.visible) {\n      const lineStyle = leaderLine.style || {};\n      // 2. 虚线连线\n      if (cfg.nextPoints) {\n        let linkPath = [\n          // @ts-ignore\n          ['M', cfg.points[2].x, cfg.points[2].y],\n          // @ts-ignore\n          ['L', cfg.nextPoints[0].x, cfg.nextPoints[0].y],\n        ];\n        linkPath = this.parsePath(linkPath);\n        container.addShape('path', {\n          attrs: {\n            path: linkPath,\n            stroke: '#d3d3d3',\n            lineDash: [4, 2],\n            lineWidth: 1,\n            ...lineStyle,\n          },\n          name: 'leader-line',\n        });\n      }\n    }\n    return shape;\n  },\n});\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\n/**\n * @file events of waterfall chart is equal to column chart\n */\nexport { EVENT_MAP, onEvent } from '../column/event';\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { mix, clone, each, isArray } from '@antv/util';\nimport { VALUE_FIELD, IS_TOTAL } from '../../layer';\nimport { IGroup, View, VIEW_LIFE_CIRCLE } from '../../../../dependents';\n\nexport interface DiffLabelcfg {\n  view: View;\n  fields: string[];\n  formatter: (text: string, item: object, idx: number) => string;\n  style?: {\n    fill?: string;\n    stroke?: string;\n    strokeOpacity?: number;\n    [k: string]: any;\n  };\n}\n\nfunction getDefaultCfg() {\n  return {\n    fill: '#fff',\n    fontSize: 12,\n    lineHeight: 12,\n    stroke: 'rgba(0, 0, 0, 0.45)',\n  };\n}\n\nexport default class DiffLabel {\n  private view: View;\n  private fields: string[];\n  private container: IGroup;\n  private formatter: (text: string, item: object, idx: number) => string;\n  private textAttrs: object = {};\n\n  constructor(cfg: DiffLabelcfg) {\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.textAttrs = mix(getDefaultCfg(), cfg.style);\n\n    this._init();\n  }\n\n  /** 绘制辅助labels */\n  public draw() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    const data = clone(this.view.getData());\n    this.container = this.view.foregroundGroup.addGroup();\n    const shapes = this.view.geometries[0].elements.map((value) => value.shape);\n    each(shapes, (shape, idx) => {\n      if (!shape.cfg.origin) return;\n      const _origin = shape.cfg.origin.data;\n      const shapeBox = shape.getBBox();\n      const values = _origin[VALUE_FIELD];\n      let diff = values;\n      if (isArray(values)) {\n        diff = values[1] - values[0];\n      }\n      diff = diff > 0 ? `+${diff}` : diff;\n      /** is total, total do not need `+` sign */\n      if (_origin[IS_TOTAL]) {\n        diff = values[0] - values[1];\n      }\n      let formattedText = diff;\n      if (this.formatter) {\n        const color = shapes[idx].attr('fill');\n        formattedText = this.formatter(`${diff}`, { _origin: data[idx], color }, idx);\n      }\n      const text = this.container.addShape('text', {\n        attrs: {\n          text: formattedText,\n          textBaseline: 'middle',\n          textAlign: 'center',\n          x: (shapeBox.minX + shapeBox.maxX) / 2,\n          y: (shapeBox.minY + shapeBox.maxY) / 2,\n          ...this.textAttrs,\n        },\n        name: 'dill-label',\n      });\n      if (text.getBBox().height > shapeBox.height) {\n        text.set('visible', false);\n      }\n    });\n    this.view.getCanvas().draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  private _init() {\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, () => {\n      this.clear();\n    });\n\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n      this.draw();\n    });\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport ScatterLayer, { ScatterViewConfig } from './layer';\n\nexport interface ScatterConfig extends ScatterViewConfig, PlotConfig {}\n\nexport default class Scatter extends BasePlot<ScatterConfig> {\n  public static getDefaultOptions: typeof ScatterLayer.getDefaultOptions = ScatterLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'scatter';\n    super.createLayers(layerProps);\n  }\n}\n","import { each, isArray, isFunction, deepMix } from '@antv/util';\nimport BBox from '../../../util/bbox';\nimport { View, IGroup } from '../../../dependents';\n\ninterface ILabel {\n  position?: string;\n  text: string[] | Function;\n  offset?: number | Function;\n  style?: any;\n}\n\nexport interface QuadrantConfig {\n  visible?: boolean;\n  xBaseline?: number;\n  yBaseline?: number;\n  regionStyle?: any[] | any;\n  lineStyle?: any;\n  label?: ILabel;\n}\n\nexport interface IQuadrant extends QuadrantConfig {\n  view: View;\n  plotOptions: any;\n}\n\nexport default class Quadrant {\n  public options: IQuadrant;\n  protected view: View;\n  protected quadrantGroups: IGroup[] = [];\n  protected container: IGroup;\n  protected regionData: any[] = [];\n  protected lineData: any[] = [];\n\n  constructor(cfg: IQuadrant) {\n    this.options = cfg;\n    this.view = this.options.view;\n    this.init();\n  }\n\n  public init() {\n    const { xBaseline, yBaseline } = this.options;\n    const coord = this.view.getCoordinate();\n    // TODO: xBaseline和yBaseline支持百分比\n    // 根据 xBaseline 和 yBaseline 分割象限\n    const xScale = this.view.getScaleByField(this.options.plotOptions.xField);\n    const yScale = this.view.getScaleByField(this.options.plotOptions.yField);\n    // 先进行 x 方向的分割\n    let xRegion;\n    if (xBaseline > xScale.min && xBaseline < xScale.max) {\n      const ratio = (xBaseline - xScale.min) / (xScale.max - xScale.min);\n      xRegion = [\n        new BBox(coord.start.x, coord.end.y, coord.getWidth() * ratio, coord.getHeight()),\n        new BBox(\n          coord.start.x + coord.getWidth() * ratio,\n          coord.end.y,\n          coord.getWidth() * (1 - ratio),\n          coord.getHeight()\n        ),\n      ];\n      const verticalLineData = {\n        start: { x: coord.start.x + coord.getWidth() * ratio, y: coord.end.y },\n        end: { x: coord.start.x + coord.getWidth() * ratio, y: coord.start.y },\n      };\n      this.lineData.push(verticalLineData);\n    } else {\n      xRegion = [new BBox(coord.start.x, coord.end.y, coord.getWidth(), coord.getHeight())];\n    }\n    // 再进行 y 方向的分割\n    if (yBaseline > yScale.min && yBaseline < yScale.max) {\n      const ratio = (yBaseline - yScale.min) / (yScale.max - yScale.min);\n      const horizontalLineData = {\n        start: { x: coord.start.x, y: coord.start.y - coord.getHeight() * ratio },\n        end: { x: coord.end.x, y: coord.start.y - coord.getHeight() * ratio },\n      };\n      this.lineData.push(horizontalLineData);\n      const topQuadrant = {\n        name: xBaseline <= xScale.min ? 'top-right' : 'top-left',\n        bbox: new BBox(xRegion[0].minX, xRegion[0].minY, xRegion[0].width, xRegion[0].height * (1 - ratio)),\n        index: xBaseline <= xScale.min ? 2 : 0,\n      };\n      this.regionData.push(topQuadrant);\n      const bottomQuadrant = {\n        name: xBaseline <= xScale.min ? 'bottom-right' : 'bottom-left',\n        bbox: new BBox(\n          xRegion[0].minX,\n          xRegion[0].minY + xRegion[0].height * (1 - ratio),\n          xRegion[0].width,\n          xRegion[0].height * ratio\n        ),\n        index: xBaseline <= xScale.min ? 3 : 1,\n      };\n      this.regionData.push(bottomQuadrant);\n      // 四象限齐全\n      if (xRegion.length > 1) {\n        const rightTopQuadrant = {\n          name: 'top-right',\n          bbox: new BBox(xRegion[1].minX, xRegion[1].minY, xRegion[1].width, xRegion[1].height * (1 - ratio)),\n          index: 2,\n        };\n        this.regionData.push(rightTopQuadrant);\n        const rightBottomQuadrant = {\n          name: 'bottom-right',\n          bbox: new BBox(\n            xRegion[1].minX,\n            xRegion[1].minY + xRegion[1].height * (1 - ratio),\n            xRegion[1].width,\n            xRegion[1].height * ratio\n          ),\n          index: 3,\n        };\n        this.regionData.push(rightBottomQuadrant);\n      }\n    } else if (xRegion.length === 2) {\n      if (yBaseline <= yScale.min) {\n        const leftTopQuadrant = {\n          name: 'top-left',\n          bbox: xRegion[0],\n          index: 0,\n        };\n        this.regionData.push(leftTopQuadrant);\n        const rightTopQuadrant = {\n          name: 'top-right',\n          bbox: xRegion[1],\n          index: 2,\n        };\n        this.regionData.push(rightTopQuadrant);\n      } else {\n        const leftBottomQuadrant = {\n          name: 'bottom-left',\n          bbox: xRegion[0],\n          index: 1,\n        };\n        this.regionData.push(leftBottomQuadrant);\n        const rightBottomQuadrant = {\n          name: 'bottom-right',\n          bbox: xRegion[1],\n          index: 3,\n        };\n        this.regionData.push(rightBottomQuadrant);\n      }\n    } else {\n      // 当前绘制区域全部在一个象限中\n      if (xBaseline <= xScale.min) {\n        if (yBaseline <= yScale.min) {\n          const rightTopQuadrant = {\n            name: 'top-right',\n            bbox: xRegion[0],\n            index: 2,\n          };\n          this.regionData.push(rightTopQuadrant);\n        } else {\n          const rightBottomQuadrant = {\n            name: 'bottom-right',\n            bbox: xRegion[0],\n            index: 3,\n          };\n          this.regionData.push(rightBottomQuadrant);\n        }\n      } else {\n        if (yBaseline <= yScale.min) {\n          const leftTopQuadrant = {\n            name: 'top-left',\n            bbox: xRegion[0],\n            index: 0,\n          };\n          this.regionData.push(leftTopQuadrant);\n        } else {\n          const leftBottomQuadrant = {\n            name: 'bottom-left',\n            bbox: xRegion[0],\n            index: 1,\n          };\n          this.regionData.push(leftBottomQuadrant);\n        }\n      }\n    }\n    // 创建container\n    this.container = this.view.backgroundGroup.addGroup();\n  }\n\n  public render() {\n    if (this.regionData.length > 0) {\n      const defaultStyle = this.getDefaultStyle();\n      const regionStyle = this.getRegionStyle(this.regionData);\n      each(this.regionData, (d) => {\n        const { index } = d;\n        const group = this.container.addGroup();\n        const rect = group.addShape('rect', {\n          attrs: {\n            x: d.bbox.minX,\n            y: d.bbox.minY,\n            width: d.bbox.width,\n            height: d.bbox.height,\n            ...regionStyle[index],\n          },\n          name: 'quadrant',\n        });\n        if (this.options.label && this.options.label.text) {\n          const labelOptions = deepMix({}, defaultStyle.label, this.options.label);\n          const labelCfg = this.getLabelConfig(d, labelOptions);\n          const label = group.addShape('text', {\n            attrs: {\n              ...labelCfg,\n            },\n            name: 'quadrant-label',\n          });\n        }\n        // rect.setSilent('data', d);\n        rect.set('data', d);\n        this.quadrantGroups.push(group);\n      });\n\n      // 绘制象限辅助线\n      const lineStyle = deepMix({}, defaultStyle.line, this.options.lineStyle);\n      each(this.lineData, (d) => {\n        this.container.addShape('path', {\n          attrs: {\n            path: [\n              ['M', d.start.x, d.start.y],\n              ['L', d.end.x, d.end.y],\n            ],\n            ...lineStyle,\n          },\n          name: 'quadrant-line',\n        });\n      });\n      this.view.canvas.draw();\n    }\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  protected getDefaultStyle() {\n    return {\n      line: {\n        stroke: '#9ba29a',\n        lineWidth: 1,\n      },\n      regionStyle: [\n        { fill: '#000000', opacity: 0.05 },\n        { fill: '#ffffff', opacity: 0 },\n        { fill: '#ffffff', opacity: 0 },\n        { fill: '#000000', opacity: 0.05 },\n      ],\n      label: {\n        position: 'outter-inner',\n        offset: 10,\n        style: {\n          fontSize: 14,\n          fill: '#ccc',\n          // fontWeight: 100\n        },\n      },\n    };\n  }\n\n  private getRegionStyle(regionData) {\n    const defaultStyle = this.getDefaultStyle();\n    let style = defaultStyle.regionStyle;\n    if (this.options.regionStyle) {\n      const { regionStyle } = this.options;\n      if (isArray(regionStyle)) {\n        style = style.map((s, index) => {\n          if (regionStyle.length > index && regionStyle[index]) {\n            return regionStyle[index];\n          }\n          return s;\n        });\n      } else if (isFunction(regionStyle)) {\n        each(regionData, (d, index) => {\n          style[index] = regionStyle(d);\n        });\n      }\n    }\n\n    return style;\n  }\n\n  private getLabelConfig(region, labelOptions) {\n    const { index } = region;\n    let x = 0;\n    let y = 0;\n    let style: any = {};\n    let text = labelOptions.text;\n    if (isFunction(text)) {\n      text = text(region);\n    } else if (isArray(text)) {\n      text = text[index];\n    }\n    const { position } = labelOptions;\n    const pos = position.split('-');\n    const dim = region.name.split('-');\n    // x方向\n    if (dim[1] === 'left') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n      if (pos[0] === 'outter') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n    } else if (dim[1] === 'right') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n      if (pos[0] === 'outter') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n    }\n    // y方向\n    if (dim[0] === 'top') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n      if (pos[1] === 'outter') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n    } else if (dim[0] === 'bottom') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n      if (pos[1] === 'outter') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n    }\n    style = deepMix({}, labelOptions.style, style);\n    style.lineHeight = style.fontSize;\n    return {\n      x,\n      y,\n      text,\n      ...style,\n    };\n  }\n}\n","import { each, deepMix, minBy, maxBy } from '@antv/util';\nimport { View, IGroup, IShape } from '../../../dependents';\nimport { getScale } from '@antv/scale';\nimport {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\n\nimport { getSplinePath } from '../../../util/path';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\nexport interface TrendlineConfig {\n  visible?: boolean;\n  type?: string;\n  style?: any;\n  showConfidence?: boolean;\n  confidenceStyle?: any;\n}\n\nexport interface ITrendline extends TrendlineConfig {\n  view: View;\n  plotOptions: any;\n}\n\nfunction se95(p, n) {\n  return Math.sqrt((p * (1 - p)) / n) * 1.96;\n}\n\nexport default class TrendLine {\n  public data: { trendlineData: any[]; confidenceData: any[] };\n  protected options: any;\n  protected view: View;\n  protected container: IGroup;\n  protected shape: IShape;\n\n  constructor(cfg: ITrendline) {\n    const defaultOptions = {\n      type: 'linear',\n      style: {\n        stroke: '#9ba29a',\n        lineWidth: 2,\n        opacity: 0.5,\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      showConfidence: false,\n      confidenceStyle: {\n        fill: '#ccc',\n        opacity: 0.1,\n      },\n    };\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.init();\n  }\n\n  public init() {\n    // 处理数据\n    const { xField, yField, data } = this.options.plotOptions;\n    const reg = REGRESSION_MAP[this.options.type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    this.data = this.processData(reg(data));\n    // 创建container\n    this.container = this.view.backgroundGroup.addGroup();\n  }\n\n  public render() {\n    const xscale_view = this.view.getScaleByField(this.options.plotOptions.xField);\n    const yscale_view = this.view.getScaleByField(this.options.plotOptions.yField);\n    const coord = this.view.getCoordinate();\n    const { trendlineData } = this.data;\n    // 创建图形绘制的scale\n    const LinearScale = getScale('linear');\n    const xRange = this.adjustScale(xscale_view, trendlineData, 'x');\n    const xScale = new LinearScale({\n      min: xRange.min,\n      max: xRange.max,\n      // nice: xscale_view.nice,\n    });\n    const yRange = this.adjustScale(yscale_view, trendlineData, 'y');\n    const yScale = new LinearScale({\n      min: yRange.min,\n      max: yRange.max,\n      // nice: yscale_view.nice,\n    });\n    // 绘制置信区间曲线\n    if (this.options.showConfidence) {\n      const confidencePath = this.getConfidencePath(xScale, yScale, coord);\n      this.container.addShape('path', {\n        attrs: {\n          path: confidencePath,\n          ...this.options.confidenceStyle,\n        },\n        name: 'confidence',\n      });\n    }\n    // 绘制trendline\n    const points = this.getTrendlinePoints(xScale, yScale, coord);\n    const constraint = [\n      [0, 0],\n      [1, 1],\n    ];\n    const path = getSplinePath(points, false, constraint);\n    this.shape = this.container.addShape('path', {\n      attrs: {\n        path,\n        ...this.options.style,\n      },\n      name: 'trendline',\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.destroy();\n    }\n  }\n\n  private processData(data) {\n    const trendline = [];\n    const confidence = [];\n    each(data, (d) => {\n      trendline.push({ x: d[0], y: d[1] });\n      const conf = se95(data.rSquared, d[1]);\n      confidence.push({ x: d[0], y0: d[1] - conf, y1: d[1] + conf });\n    });\n    return { trendlineData: trendline, confidenceData: confidence };\n  }\n\n  private getTrendlinePoints(xScale, yScale, coord) {\n    const points = [];\n    each(this.data.trendlineData, (d) => {\n      const xRatio = xScale.scale(d.x);\n      const yRatio = yScale.scale(d.y);\n      const x = coord.start.x + coord.width * xRatio;\n      const y = coord.start.y - coord.height * yRatio;\n      points.push({ x, y });\n    });\n    return points;\n  }\n\n  private getConfidencePath(xScale, yScale, coord) {\n    const upperPoints = [];\n    const lowerPoints = [];\n    const path = [];\n    each(this.data.confidenceData, (d) => {\n      const xRatio = xScale.scale(d.x);\n      const y0Ratio = yScale.scale(d.y0);\n      const y1Ratio = yScale.scale(d.y1);\n      const x = coord.start.x + coord.width * xRatio;\n      const y0 = coord.start.y - coord.height * y0Ratio;\n      const y1 = coord.start.y - coord.height * y1Ratio;\n      upperPoints.push({ x, y: y0 });\n      lowerPoints.push({ x, y: y1 });\n    });\n    for (let i = 0; i < upperPoints.length; i++) {\n      const flag = i === 0 ? 'M' : 'L';\n      const p = upperPoints[i];\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push([flag, p.x, p.y]);\n      }\n    }\n    for (let j = lowerPoints.length - 1; j > 0; j--) {\n      const p = lowerPoints[j];\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push(['L', p.x, p.y]);\n      }\n    }\n    return path;\n  }\n\n  private adjustScale(viewScale, trendlineData, dim) {\n    // 处理用户自行配置min max的情况\n    const { min, max } = viewScale;\n    const { data, xField, yField } = this.options.plotOptions;\n    const field = dim === 'x' ? xField : yField;\n    const dataMin = minBy(data, field)[field];\n    const dataMax = maxBy(data, field)[field];\n    const minRatio = (min - dataMin) / (dataMax - dataMin);\n    const maxRatio = (max - dataMax) / (dataMax - dataMin);\n    const trendMin = minBy(trendlineData, dim)[dim];\n    const trendMax = maxBy(trendlineData, dim)[dim];\n    return {\n      min: trendMin + minRatio * (trendMax - trendMin),\n      max: trendMax + maxRatio * (trendMax - trendMin),\n    };\n  }\n}\n","import { registerTheme } from '../../theme';\n\nconst POINT_ACTIVE_STYLE = (style) => {\n  const stroke = style.stroke || '#000';\n  return {\n    stroke,\n  };\n};\n\nconst POINT_SELECTED_STYLE = (style) => {\n  const stroke = style.stroke || '#000';\n  const lineWidth = style.lineWidth || 2;\n  return {\n    stroke,\n    lineWidth,\n  };\n};\n\nconst POINT_INACTIVE_STYLE = (style) => {\n  const fillOpacity = style.fillOpacity || style.opacity || 0.3;\n  return {\n    fillOpacity,\n  };\n};\n\nregisterTheme('scatter', {\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    selected: POINT_SELECTED_STYLE,\n    inactive: POINT_INACTIVE_STYLE,\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport BubbleLayer, { BubbleViewConfig } from './layer';\n\nexport interface BubbleConfig extends BubbleViewConfig, PlotConfig {}\n\nexport default class Bubble extends BasePlot<BubbleConfig> {\n  public static getDefaultOptions: typeof BubbleLayer.getDefaultOptions = BubbleLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'bubble';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport * as EventParser from '../scatter/event';\nimport ScatterLayer, { ScatterViewConfig } from '../scatter/layer';\nimport './shape';\nimport './theme';\n\nexport interface BubbleViewConfig extends ScatterViewConfig {\n  /** 气泡大小 */\n  pointSize?: [number, number];\n  /** 气泡大小字段 */\n  sizeField?: string;\n}\n\nexport interface BubbleLayerConfig extends BubbleViewConfig, LayerConfig {}\n\nexport default class BubbleLayer<T extends BubbleLayerConfig = BubbleLayerConfig> extends ScatterLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      // 直径 min 4px；max 64px\n      pointSize: [2, 32],\n      pointStyle: {\n        stroke: null,\n        strokeOpacity: 1,\n        fillOpacity: 0.5,\n      },\n      label: {\n        position: 'middle',\n        style: {\n          stroke: '#fff',\n          lineWidth: 1,\n        },\n      },\n      shape: 'bubble-point',\n    });\n  }\n\n  public type: string = 'bubble';\n\n  protected legend() {\n    super.legend();\n    this.setConfig('legends', {\n      [this.options.sizeField]: false,\n    });\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('bubble', BubbleLayer);\n","import { registerShape } from '@antv/g2';\nimport { drawPoints } from '@antv/g2/lib/geometry/shape/point/util';\nimport { ShapeInfo, ShapeMarkerCfg } from '@antv/g2/lib/interface';\nimport { IGroup } from '@antv/g-base';\n\nregisterShape('point', 'bubble-point', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const point = drawPoints(this, cfg, container, 'circle', false);\n    // 如果用户未配置 stroke，气泡图 stroke 默认用 fill 颜色\n    if (!cfg.style.stroke) {\n      const fill = point.attr('fill');\n      point.attr('stroke', fill);\n    }\n    return point;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { registerTheme } from '../../theme';\n\nconst POINT_ACTIVE_STYLE = (style) => {\n  const stroke = style.stroke || '#000';\n  const fillOpacity = style.fillOpacity || style.opacity || 0.95;\n  return {\n    stroke,\n    fillOpacity,\n  };\n};\n\nconst POINT_SELECTED_STYLE = (style) => {\n  const stroke = style.stroke || '#000';\n  const lineWidth = style.lineWidth || 2;\n  return {\n    stroke,\n    lineWidth,\n  };\n};\n\nconst POINT_INACTIVE_STYLE = (style) => {\n  const fillOpacity = style.fillOpacity || style.opacity || 0.3;\n  return {\n    fillOpacity,\n  };\n};\n\nregisterTheme('bubble', {\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    selected: POINT_SELECTED_STYLE,\n    inactive: POINT_INACTIVE_STYLE,\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport BulletLayer, { BulletViewConfig } from './layer';\n\nexport interface BulletConfig extends BulletViewConfig, PlotConfig {}\n\nexport default class Bullet extends BasePlot<BulletConfig> {\n  public static getDefaultOptions: typeof BulletLayer.getDefaultOptions = BulletLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'bullet';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, has } from '@antv/util';\nimport * as EventParser from './event';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { LayerConfig } from '../../base/layer';\nimport { registerPlotType } from '../../base/global';\nimport BulletRect from './component/bulletRect';\nimport BulletTarget from './component/bulletTarget';\nimport './theme';\n\nconst G2_GEOM_MAP = {\n  bullet: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'bullet',\n};\n\nexport const STACK_FIELD = '$$stackField$$';\nexport const X_FIELD = '$$xField$$';\nexport const Y_FIELD = '$$yField$$';\n\nexport interface BulletAxis {\n  visible: boolean;\n  position?: 'before' | 'after';\n  style?: {\n    fontSize?: number;\n    lineHeight?: number;\n  };\n  tickCount?: number;\n  tickLine?: {\n    visible: boolean;\n    lineWidth?: number;\n    lineDash?: number[];\n  };\n  formatter?: (text: string, idx: number) => string;\n}\n\nexport interface BulletViewConfig extends ViewConfig {\n  data: {\n    /** 子弹图标题 */\n    title?: string;\n    /** 进度值，array类型。支持阶段性的进度值（即堆叠） */\n    measures: number[];\n    /** 进度条的色条范围区间，相对数值：[0, 1] */\n    ranges?: number[];\n    /** 目标值，array类型。支持多目标设置 */\n    targets: number[];\n  }[];\n  /** 进度条的色条范围区间的最大值 */\n  rangeMax: number;\n  /** 实际进度条大小设置 */\n  measureSize?: number;\n  measureColors?: string[];\n  /** 区间背景条大小设置。ratio number, relative to measureSize */\n  rangeSize?: number;\n  /** 进度条背景颜色 */\n  rangeColors?: string[];\n  /** 目标值 marker 大小设置。ratio number, relative to measureSize */\n  markerSize?: number;\n  /** marker 的填充色 */\n  markerColors?: string[];\n  markerStyle?: {\n    /** marker 的宽度，default: 1 */\n    width?: number;\n    /** marker 的填充色, 若存在 markerColors, 优先取 markerColors */\n    fill?: string;\n    [k: string]: any;\n  };\n  /** 进度条刻度轴设置 */\n  axis?: BulletAxis;\n  stackField?: string;\n}\n\nexport interface BulletLayerConfig extends BulletViewConfig, LayerConfig {}\n\nexport default abstract class BulletLayer extends ViewLayer<BulletViewConfig> {\n  public bullet;\n  protected bulletRect;\n  protected bulletTarget;\n  public type: string = 'bullet';\n  public static getDefaultOptions(): Partial<BulletViewConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      data: [],\n      stackField: STACK_FIELD,\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      rangeColors: ['rgba(91, 143, 249, 0.45)'],\n      measureSize: 12,\n      rangeSize: 2,\n      markerSize: 2,\n      markerColors: [],\n      markerStyle: {\n        width: 2,\n        fill: '#5B8FF9',\n        lineWidth: 0,\n      },\n      axis: {\n        visible: false,\n        position: 'before',\n        tickCount: 6,\n        formatter: (text, idx) => `${idx}`,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.25)',\n          textBaseline: 'middle',\n          textAlign: 'center',\n          fontSize: 12,\n          lineHeight: 16,\n        },\n        tickLine: {\n          visible: true,\n          lineWidth: 1,\n          stroke: '#FFF',\n          lineDash: [4, 2],\n        },\n      },\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        visible: false,\n        nice: false,\n      },\n      tooltip: {\n        visible: false,\n        trigger: 'item',\n        crosshairs: false,\n      },\n      label: {\n        visible: true,\n        offset: 4,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.45)',\n          stroke: '#fff',\n          lineWidth: 1,\n        },\n      },\n    });\n  }\n\n  public afterRender() {\n    super.afterRender();\n    this.view.removeInteraction('legend-filter');\n  }\n\n  protected scale() {\n    const options = this.options;\n    const scales = {};\n    /** 配置y-scale */\n    scales[options.yField] = {};\n    if (has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n    /** 配置x-scale */\n    scales[options.xField] = {\n      type: 'cat',\n    };\n    if (has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  public getOptions(props: BulletViewConfig) {\n    const options = super.getOptions(props);\n    this.adjustOptions(options);\n    return options;\n  }\n\n  public afterInit() {\n    super.afterInit();\n    const options = this.options;\n    const ranges = options.data.map((d) => d.ranges);\n    const targets = options.data.map((d) => d.targets);\n    this.bulletRect = new BulletRect(this.view, {\n      ranges,\n      rangeMax: options.rangeMax,\n      yField: options.yField,\n      rangeSize: options.rangeSize,\n      rangeColors: options.rangeColors || [],\n      axis: options.axis,\n    });\n    this.bulletTarget = new BulletTarget(this.view, {\n      targets,\n      yField: options.yField,\n      markerSize: options.markerSize,\n      markerColors: options.markerColors || [],\n      markerStyle: options.markerStyle,\n    });\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected coord() {\n    this.setConfig('coordinate', {\n      actions: [['transpose']],\n    });\n  }\n\n  /** 自定义子弹图图例 */\n  protected legend() {\n    const options = this.options;\n    const markerColor = options.markerStyle.fill;\n    const measureColors = options.measureColors || this.theme.colors;\n    const items = [\n      {\n        name: '实际进度', // 图例项的文本内容\n        value: '实际进度',\n        marker: {\n          symbol: 'square', // 该图例项 marker 的形状，参见 marker 参数的说明\n          style: {\n            fill: measureColors[0], // 该图例项 marker 的填充颜色\n          },\n        },\n      },\n      {\n        name: '目标值', // 图例项的文本内容\n        value: '目标值',\n        marker: {\n          symbol: 'line', // 该图例项 marker 的形状，参见 marker 参数的说明\n          style: {\n            stroke: markerColor, // 该图例项 marker 的填充颜色\n            lineWidth: 2, // 该图例项 marker 的填充颜色\n          },\n        },\n      },\n    ];\n    const legendOptions = {\n      custom: true,\n      position: 'bottom',\n      items,\n      ...options.legend,\n    };\n    // @ts-ignore\n    this.setConfig('legends', legendOptions);\n  }\n\n  protected addGeometry() {\n    const options = this.options;\n    const bullet = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this,\n    });\n    bullet.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n    if (options.label) {\n      bullet.label = this.extractLabel();\n    }\n    this.bullet = bullet;\n    this.setConfig('geometry', bullet);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected extractLabel() {\n    const options = this.options;\n    const label = deepMix({}, options.label);\n    if (label.visible === false) {\n      return false;\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'barLabel',\n      fields: [options.yField],\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  protected adjustOptions(options): void {\n    options.barSize = options.measureSize || 12;\n    this.adjustYAxisOptions(options);\n  }\n\n  protected adjustYAxisOptions(options): void {\n    const values = [];\n    options.data.forEach((d) => values.push(d.measures.reduce((a, b) => a + b, 0)));\n    values.push(options.rangeMax);\n    options.yAxis.max = Math.max.apply([], values);\n  }\n\n  protected processData(dataOptions: BulletViewConfig['data']) {\n    const options = this.options;\n    const data = [];\n    dataOptions.forEach((dataItem, dataIdx) => {\n      for (let valueIdx = 0; valueIdx < dataItem.measures.length; valueIdx += 1) {\n        const value = dataItem.measures[valueIdx];\n        const xField = dataItem.title || `${dataIdx}`;\n        data.push({\n          [options.xField]: xField,\n          [options.yField]: value,\n          [options.stackField]: `${valueIdx}`,\n        });\n      }\n    });\n    return data;\n  }\n}\n\nregisterPlotType('bullet', BulletLayer);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Bullet: 'interval',\n  BulletTarget: 'bullet-target',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { IGroup, View, Geometry } from '../../../dependents';\nimport { find, map, get } from '@antv/util';\nimport { BulletAxis } from '../layer';\nimport BBox from '../../../util/bbox';\n\nexport interface BulletRectCfg {\n  /** 背景区间的区间范围 */\n  ranges: number[][];\n  yField: string;\n  rangeColors: string[];\n  rangeMax: number;\n  rangeSize: number;\n  axis?: BulletAxis;\n  style?: {\n    fill?: string;\n    stroke?: string;\n    strokeOpacity?: number;\n    [k: string]: any;\n  };\n}\n\nexport default class BulletRect {\n  private view: View;\n  private container: IGroup;\n  private cfg: BulletRectCfg;\n\n  constructor(view: View, cfg: BulletRectCfg) {\n    this.view = view;\n    this.cfg = cfg;\n    this._init();\n  }\n\n  /** 绘制辅助labels */\n  public draw() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    this.container = this.view.middleGroup.addGroup();\n    this.container.set('name', 'rectGroups');\n    this.container.setZIndex(-100);\n    const geometry = this.getGeometry();\n    const shapes = map(geometry?.elements, (element) => element.shape);\n    for (let i = 0; i < this.cfg.ranges.length; i += 1) {\n      const shapeBox = shapes[i].getBBox();\n      const widthRatio = shapeBox.width / shapes[i].get('origin').data[this.cfg.yField];\n      this.drawRect(shapeBox, this.cfg.ranges[i] || [0, 1], widthRatio);\n    }\n    this.view.canvas.draw();\n  }\n\n  protected drawRect(box: BBox, ranges: number[], widthRatio: number) {\n    const options = this.cfg;\n    const rangeColors = options.rangeColors;\n    let xPos = box.minX;\n    const yPos = box.minY - (box.height * (options.rangeSize - 1)) / 2;\n    let rect;\n    for (let i = 1; i < ranges.length; i += 1) {\n      const width = (ranges[i] - ranges[i - 1]) * options.rangeMax * widthRatio;\n      rect = this.container\n        .addShape('rect', {\n          name: 'bullet-rect',\n          attrs: {\n            width,\n            height: box.height * options.rangeSize,\n            x: xPos,\n            y: yPos,\n            fill: rangeColors[(i - 1) % rangeColors.length],\n            fillOpacity: 0.25,\n          },\n        })\n        .set('zIndex', -1);\n      xPos += width;\n    }\n    if (options.axis && options.axis.visible) {\n      const tickInterval = options.rangeMax / (options.axis.tickCount - 1);\n      const rangeBox = new BBox(box.x, yPos, xPos, box.height * options.rangeSize);\n      this.drawBulletTicks(rangeBox, tickInterval, widthRatio);\n    }\n  }\n\n  /** 添加 ticks  */\n  protected drawBulletTicks(box: BBox, tickInterval: number, widthRatio: number) {\n    const options = this.cfg;\n    const ticksStyle = options.axis.style;\n    const tickCount = options.axis.tickCount;\n    const tickPosition = options.axis.position;\n    const tickOffset = get(ticksStyle, 'lineHeight', 0) - ticksStyle.fontSize / 2;\n    for (let tickIdx = 0; tickIdx < tickCount; tickIdx += 1) {\n      const x = box.minX + tickInterval * tickIdx * widthRatio;\n      let tickText = `${tickInterval * tickIdx}`;\n      if (options.axis.formatter) {\n        tickText = options.axis.formatter(tickText, tickIdx);\n      }\n      const tickShape = this.container.addShape('text', {\n        name: 'tick',\n        attrs: {\n          x,\n          y: tickPosition === 'before' ? box.minY - tickOffset : box.maxY + tickOffset,\n          text: `${tickText}`,\n          ...ticksStyle,\n        },\n      });\n      if (options.axis.tickLine && options.axis.tickLine.visible) {\n        const tickLineCfg = options.axis.tickLine;\n        if (tickIdx > 0 && tickIdx !== tickCount - 1) {\n          this.container\n            .addShape('path', {\n              attrs: {\n                path: [\n                  ['M', x, box.minY],\n                  ['L', x, box.maxY],\n                ],\n                ...tickLineCfg,\n              },\n            })\n            .set('zIndex', -1);\n        }\n      }\n    }\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  private _init() {\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n\n    this.view.on('afterrender', () => {\n      this.draw();\n    });\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geometry) => geometry.type === 'interval');\n  }\n}\n","import BBox from '../../../util/bbox';\nimport { View, Geometry, IGroup, IElement } from '../../../dependents';\nimport { find, map } from '@antv/util';\n\nexport interface BulletTargetCfg {\n  targets: number[][];\n  markerSize: number;\n  yField: string;\n  markerColors: string[];\n  markerStyle?: {\n    fill?: string;\n    stroke?: string;\n    strokeOpacity?: number;\n    [k: string]: any;\n  };\n}\n\nexport default class BulletTarget {\n  private view: View;\n  private container: IGroup;\n  private cfg: BulletTargetCfg;\n\n  constructor(view: View, cfg: BulletTargetCfg) {\n    this.view = view;\n    this.cfg = cfg;\n    this._init();\n  }\n\n  /** 绘制辅助labels */\n  public draw() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    this.container = this.view.foregroundGroup.addGroup();\n    this.container.set('name', 'targetGroups');\n    const shapes = map(this.getGeometry().elements, (element: any) => element.shape);\n    for (let i = 0; i < this.cfg.targets.length; i += 1) {\n      const shapeBox = shapes[i].getBBox();\n      const widthRatio = shapeBox.width / shapes[i].get('origin').data[this.cfg.yField];\n      this.drawTarget(shapeBox, this.cfg.targets[i], widthRatio);\n    }\n    this.view.canvas.draw();\n  }\n\n  protected drawTarget(box: BBox, targets: number[], widthRatio: number) {\n    const options = this.cfg;\n    const colors = options.markerColors;\n    /** 添加目标值 */\n    targets.forEach((target: number, i) => {\n      const markerStyle = options.markerStyle;\n      const targetRect = this.container.addShape('rect', {\n        name: 'bullet-target',\n        attrs: {\n          width: markerStyle.width,\n          height: box.height * options.markerSize - markerStyle.width / 2,\n          x: box.minX + target * widthRatio,\n          y: box.minY - (box.height * (options.markerSize - 1)) / 2,\n          ...markerStyle,\n          fill: colors[i % colors.length] || markerStyle.fill,\n        },\n      });\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  private _init() {\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n\n    this.view.on('afterrender', () => {\n      this.draw();\n    });\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geometry) => geometry.type === 'interval') as Geometry;\n  }\n}\n","import { registerTheme } from '../../theme';\n\nconst BULLET_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5, lineWidth: 0 };\n};\n\nconst BULLET_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('bullet', {\n  columnStyle: {\n    normal: {},\n    active: BULLET_ACTIVE_STYLE,\n    disable: BULLET_DISABLE_STYLE,\n    selected: {},\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport CalenderLayer from './layer';\n\n// 注册日历图的自定义 shape\nimport './shape';\n\nexport type CalendarConfig = PlotConfig;\n\n/**\n * 日历图\n */\nexport default class Calendar extends BasePlot<any> {\n  public static getDefaultOptions: typeof CalenderLayer.getDefaultOptions = CalenderLayer.getDefaultOptions;\n\n  /**\n   * 复写父类方法\n   * @param props\n   */\n  protected createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'calendar';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, isNil, map, get } from '@antv/util';\nimport fecha from 'fecha';\nimport { DataItem, Label, LayerConfig, ViewConfig } from '../..';\nimport ViewLayer from '../../base/view-layer';\nimport { DAY_FIELD, FORMATTER, MONTHS, WEEK_FIELD, WEEKS } from './constant';\nimport { generateCalendarData, getMonthCenterWeek } from './util';\nimport { registerPlotType } from '../../base/global';\nimport { getDateRange } from '../../util/date';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\n\n/** 日历图配置定义 */\nexport interface CalendarViewConfig extends ViewConfig {\n  /** 字段信息 */\n  readonly dateField: string; // YYYY-MM-DD\n  /** 映射的颜色值字段 */\n  readonly valueField: string;\n  /** 日历图的起止时间：[2019-10, 2020-03] */\n  readonly dateRange?: string[];\n  // 映射的颜色色板\n  readonly colors?: string[] | string;\n  // 对应的月份枚举\n  readonly months?: string[];\n  // 对应的星期枚举值\n  readonly weeks?: string[];\n}\n\ninterface CalendarLayerConfig extends CalendarViewConfig, LayerConfig {}\n\n/**\n * 日历图\n */\nexport default class CalendarLayer extends ViewLayer<CalendarLayerConfig> {\n  public type: string = 'calendar';\n\n  public static getDefaultOptions(): Partial<CalendarLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        line: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoRotate: false,\n          autoHide: false,\n        },\n      },\n      yAxis: {\n        line: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoRotate: false,\n          autoHide: false,\n        },\n      },\n      legend: { visible: false },\n      meta: {\n        [DAY_FIELD]: {\n          type: 'cat',\n          alias: 'Day',\n          values: [0, 1, 2, 3, 4, 5, 6],\n        },\n        [WEEK_FIELD]: {\n          type: 'cat',\n          alias: 'Month',\n        },\n      },\n      tooltip: {\n        visible: true,\n        showTitle: true,\n        showCrosshairs: false,\n        showMarkers: false,\n        title: 'date',\n      },\n    });\n  }\n\n  /**\n   * 复写父类的数据处理类，主要完成：\n   * 1. 生成 polygon 的 x y field（虚拟的，无需用户传入）\n   *\n   * @param data\n   */\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    const { dateField } = this.options;\n    let { dateRange } = this.options;\n\n    // 给与默认值是当前这一年\n    if (isNil(dateRange)) {\n      const dates = map(data, (datum: DataItem) => fecha.parse(`${datum[dateField]}`, FORMATTER));\n      dateRange = getDateRange(dates);\n    }\n\n    return generateCalendarData(data, dateRange, dateField);\n  }\n\n  protected addGeometry(): void {\n    const { valueField, colors } = this.options;\n    const polygonConfig: any = {\n      type: 'polygon',\n      position: {\n        fields: [WEEK_FIELD, DAY_FIELD],\n      },\n      shape: {\n        values: ['calendar-polygon'],\n      },\n      color: {\n        fields: [valueField],\n        values: colors,\n      },\n      label: this.extractLabel(),\n    };\n\n    this.setConfig('geometry', polygonConfig);\n  }\n\n  private extractLabel() {\n    const props = this.options;\n    const label = props.label;\n    if (label && label.visible === false) {\n      return false;\n    }\n    const { valueField } = this.options;\n\n    return getComponent('label', {\n      plot: this,\n      fields: [valueField],\n      position: 'top',\n      offset: 0,\n      ...label,\n    });\n  }\n\n  /**\n   * 写入坐标系配置，默认增加镜像\n   */\n  protected coord(): void {\n    // 默认做镜像处理\n    const coordinateConfig = {\n      type: 'rect',\n      cfg: {},\n      actions: [['reflect', 'y']],\n    } as any;\n    this.setConfig('coordinate', coordinateConfig);\n  }\n\n  /**\n   * 无需 geometry parser，直接使用 polygon 即可\n   */\n  protected geometryParser(dim: string, type: string): string {\n    return '';\n  }\n\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    const axesConfig = {};\n    axesConfig[WEEK_FIELD] = xAxis_parser;\n    axesConfig[DAY_FIELD] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected scale(): void {\n    super.scale();\n\n    const monthWeek = getMonthCenterWeek(this.options.dateRange);\n\n    // 拿出 scale 二次加工，主要是配置 x y 中的标题显示\n    const scales = this.config.scales;\n    const { weeks = WEEKS, months = MONTHS } = this.options;\n\n    const x = scales[WEEK_FIELD];\n    const y = scales[DAY_FIELD];\n    // 1. 设置 formatter\n    x.formatter = (v) => {\n      const m = monthWeek[v];\n      return m !== undefined ? months[m] : '';\n    };\n\n    y.formatter = (v) => weeks[v] || '';\n\n    // 2. 设置 alias\n    const { xAxis, yAxis } = this.options;\n    x.alias = get(xAxis, ['title', 'text'], x.alias);\n    y.alias = get(yAxis, ['title', 'text'], y.alias);\n\n    this.setConfig('scales', scales);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n}\n\n// 注册到池子中\nregisterPlotType('calendar', CalendarLayer);\n","import fecha from 'fecha';\nimport { head, last, find } from '@antv/util';\nimport { DataItem } from '../..';\nimport { DATE_FIELD, DAY_FIELD, FORMATTER, WEEK_FIELD } from './constant';\nimport { advanceBy, DAY_MS, getDay, getWeek } from '../../util/date';\n\n/**\n * 解析日期\n * @param dateRange\n */\nfunction parseDateRange(dateRange: string[]): Date[] {\n  const [from, to] = dateRange;\n\n  let fromDate = fecha.parse(from, FORMATTER);\n  let toDate = fecha.parse(to, FORMATTER);\n\n  // 交换顺序\n  if (fromDate > toDate) {\n    [toDate, fromDate] = [fromDate, toDate];\n  }\n\n  return [fromDate, toDate];\n}\n\n/**\n * 根据 range 补齐日历图的数据\n * @param data 传入数据\n * @param dateRange 日期区间\n * @param dateField 日期字段\n */\nexport function generateCalendarData(data: DataItem[], dateRange: string[], dateField: string): DataItem[] {\n  const all = [];\n\n  const [fromDate, toDate] = parseDateRange(dateRange);\n  // copy 一份\n  const curr = new Date(fromDate);\n  while (curr <= toDate) {\n    const dateString = fecha.format(curr, FORMATTER);\n    // 找到对应的数据\n    const datum = find(data, (datum: DataItem) => datum[dateField] === dateString);\n\n    all.push({\n      [DAY_FIELD]: getDay(curr),\n      [WEEK_FIELD]: `${getWeek(curr)}`,\n      [dateField]: dateString,\n      [DATE_FIELD]: new Date(curr), // copy\n      ...datum,\n    });\n\n    // 向前移动一天\n    advanceBy(curr, DAY_MS);\n  }\n\n  return all;\n}\n\n/**\n * 计算每个月的中间周。\n */\nexport function getMonthCenterWeek(dateRange: string[]): Record<number, number> {\n  const [fromDate, toDate] = parseDateRange(dateRange);\n\n  const monthWeekMap = new Map<number, number[]>();\n\n  function append(current: Date) {\n    const month = current.getMonth(); // 从 0 开始\n    const week = getWeek(current);\n\n    if (!monthWeekMap.has(month)) {\n      monthWeekMap.set(month, []);\n    }\n\n    monthWeekMap.get(month).push(week);\n  }\n\n  // copy 一份\n  const curr = new Date(fromDate);\n  while (curr <= toDate) {\n    // 设置到 map 中\n    append(curr);\n\n    // 向前移动 7 天（一周）\n    advanceBy(curr, DAY_MS * 7);\n  }\n\n  // 增加最后一个日期的计算\n  if (toDate < curr) {\n    append(toDate);\n  }\n\n  // 处理数据，返回结果\n  const result: Record<number, number> = {}; // week -> month\n\n  monthWeekMap.forEach((v: number[], k: number) => {\n    const w = Math.ceil((head(v) + last(v)) / 2); // 取平均值\n    result[w] = k;\n  });\n\n  return result;\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Rect: 'polygon',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { isEmpty } from '@antv/util';\nimport { registerShape } from '@antv/g2';\nimport { DATE_FIELD } from './constant';\nimport { isLastDayOfMonth, isLastWeekOfMonth } from '../../util/date';\nimport { Point } from '../..';\n\n/**\n * 注册自定义日历图的 shape\n * code from https://g2.antv.vision/zh/examples/heatmap/heatmap#calendar-horizontal\n */\nregisterShape('polygon', 'calendar-polygon', {\n  draw(cfg, container) {\n    if (!isEmpty(cfg.points)) {\n      const points = cfg.points as Point[];\n      // rect path\n      let path = [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['L', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['Z'],\n      ];\n      path = this.parsePath(path);\n\n      const attrs = {\n        stroke: '#fff',\n        lineWidth: 1,\n        fill: cfg.color,\n        ...cfg.style,\n        path,\n      };\n\n      const polygon = container.addShape('path', {\n        attrs,\n      });\n\n      const date: Date = cfg.data[DATE_FIELD];\n\n      if (isLastWeekOfMonth(date)) {\n        const linePath = [\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n        ];\n        // 最后一周的多边形添加右侧边框\n        container.addShape('path', {\n          zIndex: 1,\n          attrs: {\n            path: this.parsePath(linePath),\n            lineWidth: 1,\n            stroke: '#404040',\n          },\n        });\n        if (isLastDayOfMonth(date)) {\n          container.addShape('path', {\n            zIndex: 1,\n            attrs: {\n              path: this.parsePath([\n                ['M', points[1].x, points[1].y],\n                ['L', points[2].x, points[2].y],\n              ]),\n              lineWidth: 1,\n              stroke: '#404040',\n            },\n          });\n        }\n      }\n\n      container.sort();\n\n      return polygon;\n    }\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GaugeLayer, { GaugeLayerConfig } from './layer';\n\nexport interface GaugeConfig extends GaugeLayerConfig, PlotConfig {}\n\nexport default class Gauge extends BasePlot<GaugeConfig> {\n  public static getDefaultOptions: typeof GaugeLayer.getDefaultOptions = GaugeLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'gauge';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerTheme } from '../../theme';\n\nregisterTheme('gauge', {\n  stripWidth: 30,\n  stripBackColor: '#ddd',\n  tickInterval: 20,\n  tickLabelPos: 'inner',\n  tickLabelSize: 16,\n  tickLabelColor: '#aaa',\n  tickLineColor: '#aaa',\n  subTickCount: 4,\n  labelPos: ['50%', '80%'],\n  labelColor: '#666',\n  labelSize: 30,\n});\n","/**\n * @author linhuiw\n * @description 仪表盘定义文件\n */\nimport { ViewConfig } from '../../base/view-layer';\n\ninterface GaugeStyle {\n  fontColor?: string;\n  fontOpacity?: number;\n  fontSize?: number;\n  borderOpacity?: number;\n  borderWidth?: number;\n  colors?: string[];\n  size?: number;\n  tickLabelOffset?: number[];\n  pointerColor?: string;\n}\n\nexport interface GaugeViewConfig extends ViewConfig {\n  startAngle?: number;\n  endAngle?: number;\n  min?: number;\n  max?: number;\n  value?: number;\n  showValue?: boolean;\n  format?: (...args: any[]) => string;\n  gaugeStyle?: GaugeStyle;\n  range?: number[];\n  styleMix?: any;\n  valueText?: string;\n  statistic?: any;\n}\n\n/**\n * 仪表盘默认配置\n */\nexport const DEFAULT_GAUGE_CONFIG = {\n  style: 'standard',\n  startAngle: -7 / 6,\n  endAngle: 1 / 6,\n  gaugeStyle: {\n    tickLineColor: 'rgba(0,0,0,0)',\n    pointerColor: '#bfbfbf',\n  },\n  statistic: {\n    position: ['50%', '80%'],\n  },\n};\n","/**\n * @author linhuiw\n * @description 仪表盘形状\n */\nimport { get } from '@antv/util';\nimport { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { GaugeViewConfig } from '../../options';\nimport { getGlobalTheme } from '../../../../theme';\nimport { sortedLastIndex } from '../../../../util/common';\n\ninterface PointerStyle {\n  /** 指针颜色 */\n  fill: string;\n  /** 指针粗细 */\n  thickness: number;\n  /** 指针长度  */\n  radius: number;\n}\n\ninterface AxisStyle {\n  /** 数目 */\n  amount: number;\n  /** 偏移量 */\n  offset: number;\n  /** 刻度线长度 */\n  length: number;\n  /** 刻度线厚度 */\n  thickness: number;\n  /** 刻度线颜色 */\n  color: string;\n}\n\ninterface RingStyle {\n  /** 环高亮颜色 */\n  color: string;\n  /** 环底色 */\n  background: string;\n  /** 圆环粗细  */\n  thickness: number;\n  /** 圆环半径  */\n  radius: number;\n  /** 角度  */\n  angle: number;\n  /** 刻度线样式 */\n  axis: AxisStyle;\n}\n\n/**\n * 仪表盘指针图形\n * 指针主体由梯形和一大一小圆形组成，\n * 中心处由灰色圆底和小白圆加以装饰\n */\nexport class GaugeShape {\n  uid: any;\n\n  ringRadius: number;\n\n  center: any;\n\n  group: any;\n\n  options: GaugeViewConfig;\n\n  ringStyle: RingStyle;\n\n  pointerStyle: PointerStyle;\n\n  type: string;\n\n  constructor(uid: any) {\n    this.uid = uid;\n  }\n\n  setOption(type, options: GaugeViewConfig, pointerStyle: PointerStyle, ringStyle: RingStyle) {\n    this.type = type;\n    this.options = options;\n    this.pointerStyle = pointerStyle;\n    this.ringStyle = ringStyle;\n  }\n\n  render() {\n    const Gauge = this; // eslint-disable-line\n    registerShape('point', 'gauge', {\n      draw(cfg: any, group: IGroup) {\n        this.gauge = {} as any;\n        this.gauge.options = Gauge.options;\n        this.gauge.pointerStyle = Gauge.pointerStyle;\n        this.gauge.ringStyle = Gauge.ringStyle;\n        this.gauge.type = Gauge.type;\n        const gauge = this.gauge;\n        const type = this.gauge.type;\n        const point = cfg.points[0];\n        const center = this.parsePoint({\n          x: 0,\n          y: 0,\n        });\n\n        const target = this.parsePoint({\n          x: point.x || 0,\n          y: 1,\n        });\n\n        gauge.center = center;\n        gauge.group = group;\n\n        const r = { x: center.x - target.x, y: center.y - target.y };\n        this.gauge.ringRadius = Math.sqrt(r.x * r.x + r.y * r.y) - 10;\n\n        const { starAngle, endAngle } = this.getAngleRange();\n        const currentAngle = point.x * (endAngle - starAngle) + starAngle;\n\n        switch (type) {\n          case 'meterGauge':\n            this.drawBarGauge(currentAngle);\n            this.drawInSideAxis();\n            break;\n          case 'fanGauge':\n            this.drawGauge(currentAngle);\n            this.drawOutSideAxis();\n            break;\n          case 'standardGauge':\n          default:\n            this.drawGauge(currentAngle);\n            this.drawAxis();\n            break;\n        }\n\n        // 绘制指针\n        this.drawPoniter(cfg, group);\n      },\n\n      drawGauge(currentAngle: number) {\n        const { range } = this.gauge.options;\n        this.drawBottomRing(); // 绘制灰底色\n\n        if (range && range.length) {\n          this.drawRangeColor();\n        } else {\n          this.drawCurrentRing(currentAngle);\n        }\n      },\n\n      drawRangeColor() {\n        const { min, max, range, styleMix, color } = this.gauge.options;\n        const colors = color || getGlobalTheme().colors;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        for (let i = 0; i < range.length; i++) {\n          const start = this.valueToAngle(range[i], config);\n          const end = this.valueToAngle(range[i + 1], config);\n\n          if (end >= start) {\n            const path2 = this.getPath(start, end);\n            this.drawRing(path2, colors[i]);\n          }\n        }\n      },\n\n      drawBottomRing() {\n        const { starAngle, endAngle } = this.getAngleRange();\n        const { background } = this.gauge.ringStyle;\n        const path = this.getPath(starAngle, endAngle);\n        this.drawRing(path, background);\n      },\n\n      drawCurrentRing(current: number) {\n        const { starAngle } = this.getAngleRange();\n        const { color } = this.gauge.ringStyle;\n        const path3 = this.getPath(starAngle, current);\n        this.drawRing(path3, color);\n      },\n\n      drawInSideAxis() {\n        const { axis } = this.gauge.ringStyle;\n        const { amount } = axis;\n\n        const { min, max } = this.gauge.options;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        const interval = (max - min) / amount;\n        for (let i = 0; i < amount; i++) {\n          const startValue = min + i * interval;\n          const angle = this.valueToAngle(startValue + interval / 2, config);\n\n          this.drawRect(angle);\n        }\n      },\n\n      drawAxis() {\n        const { axis } = this.gauge.ringStyle;\n        const { amount, length, thickness } = axis;\n        const { min, max } = this.gauge.options;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        const interval = (max - min) / (amount - 1);\n        for (let i = 0; i < amount; i++) {\n          const startValue = min + i * interval;\n          const angle = this.valueToAngle(startValue, config);\n\n          this.drawRect(angle, {\n            length: i % 5 === 0 ? length : length / 2,\n            thickness: i % 5 === 0 ? thickness : thickness / 2,\n          });\n        }\n      },\n\n      drawOutSideAxis() {\n        const { axis } = this.gauge.ringStyle;\n        const { amount } = axis;\n        const { min, max } = this.gauge.options;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        const interval = (max - min) / (amount - 1);\n        for (let i = 0; i < amount; i++) {\n          const startValue = min + i * interval;\n          const angle = this.valueToAngle(startValue, config);\n\n          this.drawRect(angle);\n        }\n      },\n\n      drawBarGauge(current: number) {\n        const { min, max, range, styleMix } = this.gauge.options;\n        const colors = styleMix.colors || getGlobalTheme().colors;\n        const { color, background } = this.gauge.ringStyle;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        const interval = (endAngle - starAngle) / (50 - 1);\n        const offset = interval / 3;\n\n        // 由50个柱子组成\n        for (let i = 0; i < 50; i++) {\n          const start = starAngle + i * interval;\n          const path2 = this.getPath(start - offset / 2, start + offset - offset / 2);\n\n          let fillColor = background;\n          if (range && range.length) {\n            const result1 = range.map((item: any) => {\n              return this.valueToAngle(item, config);\n            });\n\n            const index = sortedLastIndex(result1, start);\n            /** 最后一个值也在最后一个区间内 */\n            const colorIndex = Math.min(index, range.length - 1);\n            fillColor = colors[colorIndex - 1] || background;\n          } else {\n            fillColor = current >= start ? color : background;\n          }\n\n          this.drawRing(path2, fillColor);\n        }\n      },\n\n      getAngleRange() {\n        const { angle } = this.gauge.ringStyle;\n        const angleValue = 90 - (360 - angle) * 0.5;\n        const starAngle = ((270 - 90 - angleValue) * Math.PI) / 180;\n        const endAngle = ((270 + 90 + angleValue) * Math.PI) / 180;\n\n        return { starAngle, endAngle };\n      },\n\n      valueToAngle(value: number, config: any) {\n        const { min, max, starAngle, endAngle } = config;\n        if (value === max) {\n          return endAngle;\n        }\n        if (value === min) {\n          return starAngle;\n        }\n        let ratio = (value - min) / (max - min);\n        if (max === min) {\n          ratio = 1;\n        }\n        let angle = ratio * (endAngle - starAngle) + starAngle;\n        angle = Math.max(angle, starAngle);\n        angle = Math.min(angle, endAngle);\n\n        return angle;\n      },\n\n      drawRing(path: string, color: string) {\n        this.gauge.group.addShape('path', {\n          attrs: {\n            path,\n            fill: color,\n          },\n        });\n      },\n\n      drawRect(angle: number, param?: any) {\n        const { axis } = this.gauge.ringStyle;\n        const config = { ...axis, ...param };\n        const { offset, length, thickness, color } = config;\n        const center = this.gauge.center;\n        const radius = this.gauge.ringRadius + offset;\n\n        const xA1 = radius * Math.cos(angle) + center.x;\n        const yA1 = radius * Math.sin(angle) + center.y;\n\n        const xB1 = (radius + length) * Math.cos(angle) + center.x;\n        const yB1 = (radius + length) * Math.sin(angle) + center.y;\n\n        this.gauge.group.addShape('line', {\n          attrs: {\n            x1: xA1,\n            y1: yA1,\n            x2: xB1,\n            y2: yB1,\n            stroke: color,\n            lineWidth: thickness,\n          },\n        });\n      },\n\n      getPath(starAngle: number, endAngle: number) {\n        const gauge = (this as any).gauge;\n        const type = this.gauge.type;\n        const height = get(gauge, 'options.height');\n        const width = get(gauge, 'options.width');\n        const center = this.gauge.center;\n        const length = this.gauge.ringRadius;\n        const { thickness, minThickness, minThickCanvsSize, miniThickness, bigThickness } = this.gauge.ringStyle;\n        let thick;\n        const size = Math.min(width, height);\n        if (type === 'fan' && size < minThickCanvsSize) {\n          thick = length - minThickness;\n        } else {\n          thick = thickness;\n        }\n\n        const xA1 = length * Math.cos(starAngle) + center.x;\n        const yA1 = length * Math.sin(starAngle) + center.y;\n        const xA2 = (length - thick) * Math.cos(starAngle) + center.x;\n        const yA2 = (length - thick) * Math.sin(starAngle) + center.y;\n        const xB1 = length * Math.cos(endAngle) + center.x;\n        const yB1 = length * Math.sin(endAngle) + center.y;\n        const xB2 = (length - thick) * Math.cos(endAngle) + center.x;\n        const yB2 = (length - thick) * Math.sin(endAngle) + center.y;\n\n        const largeArcFlag = Math.abs(starAngle - endAngle) > Math.PI ? 1 : 0;\n        return [\n          ['M', xA1, yA1],\n          ['A', length, length, 0, largeArcFlag, 1, xB1, yB1],\n          ['L', xB2, yB2],\n          ['A', length - thick, length - thick, 0, largeArcFlag, 0, xA2, yA2],\n          ['Z'],\n        ];\n      },\n\n      drawPoniter(cfg: any) {\n        const { starAngle, endAngle } = this.getAngleRange();\n\n        const { color, circleColorTop, circleColorBottom, radius, thickness } = this.gauge.pointerStyle;\n        const bigCircle = thickness;\n        const smCircle = thickness / 2.5;\n        const group = this.gauge.group;\n        const point = cfg.points[0];\n        const center = this.parsePoint({\n          x: 0,\n          y: 0,\n        });\n\n        // *radius\n        const current = point.x * (endAngle - starAngle) + starAngle;\n        const x = this.gauge.ringRadius * radius * Math.cos(current) + this.gauge.center.x;\n        const y = this.gauge.ringRadius * radius * Math.sin(current) + this.gauge.center.y;\n\n        const target = {\n          x,\n          y,\n        };\n\n        // 外底色灰圆\n        group.addShape('circle', {\n          attrs: {\n            x: center.x,\n            y: center.y,\n            r: bigCircle * 2.2,\n            fill: circleColorBottom,\n          },\n        });\n\n        const dirVec = { x: center.x - target.x, y: center.y - target.y };\n\n        const length = Math.sqrt(dirVec.x * dirVec.x + dirVec.y * dirVec.y);\n        dirVec.x *= 1 / length;\n        dirVec.y *= 1 / length;\n\n        const angle1 = -Math.PI / 2;\n        const x1 = Math.cos(angle1) * dirVec.x - Math.sin(angle1) * dirVec.y;\n        const y1 = Math.sin(angle1) * dirVec.x + Math.cos(angle1) * dirVec.y;\n\n        const angle2 = Math.PI / 2;\n        const x2 = Math.cos(angle2) * dirVec.x - Math.sin(angle2) * dirVec.y;\n        const y2 = Math.sin(angle2) * dirVec.x + Math.cos(angle2) * dirVec.y;\n        const path = [\n          ['M', target.x + x1 * smCircle, target.y + y1 * smCircle],\n          ['L', center.x + x1 * bigCircle, center.y + y1 * bigCircle],\n          ['L', center.x + x2 * bigCircle, center.y + y2 * bigCircle],\n          ['L', target.x + x2 * smCircle, target.y + y2 * smCircle],\n          ['Z'],\n        ];\n\n        group.addShape('path', {\n          attrs: {\n            path,\n            fill: color,\n            stroke: color,\n          },\n        });\n        group.addShape('circle', {\n          attrs: {\n            x: target.x,\n            y: target.y,\n            r: smCircle,\n            fill: color,\n          },\n        });\n        group.addShape('circle', {\n          attrs: {\n            x: center.x,\n            y: center.y,\n            r: bigCircle,\n            fill: color,\n          },\n        });\n\n        // 内部白色小圆\n        group.addShape('circle', {\n          attrs: {\n            x: center.x,\n            y: center.y,\n            r: smCircle / 1.2,\n            fill: circleColorTop,\n          },\n        });\n      },\n    } as any);\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  Range: 'point',\n  Statistic: 'annotation-text',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport FanGaugeLayer, { FanGaugeLayerConfig } from './layer';\n\nexport interface FanGaugeConfig extends FanGaugeLayerConfig, PlotConfig {}\n\nexport default class FanGauge extends BasePlot<FanGaugeConfig> {\n  public static getDefaultOptions: typeof FanGaugeLayer.getDefaultOptions = FanGaugeLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'fanGauge';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport GaugeLayer from '../gauge/layer';\nimport { GaugeViewConfig } from '../gauge/options';\nimport { getOptions } from '../gauge/geometry/shape/options';\nimport { getGlobalTheme } from '../../theme';\n\nexport interface FanGaugeViewConfig extends GaugeViewConfig {\n  stackField: string;\n  connectedArea?: any;\n}\n\nexport interface FanGaugeLayerConfig extends FanGaugeViewConfig, LayerConfig {}\n\nexport default class FanGaugeLayer<T extends FanGaugeLayerConfig = FanGaugeLayerConfig> extends GaugeLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      legend: {\n        visible: true,\n        position: 'right-top',\n      },\n      label: {\n        visible: false,\n        position: 'middle',\n        offset: 0,\n        adjustColor: true,\n      },\n      connectedArea: {\n        visible: false,\n        triggerOn: 'mouseenter',\n      },\n    });\n  }\n\n  public type: string = 'fanGauge';\n\n  protected getCustomStyle() {\n    const { theme, styleMix } = this.options;\n    const colors = styleMix.colors || getGlobalTheme().colors;\n\n    return getOptions('fan', theme, colors);\n  }\n\n  protected axis() {\n    const axesConfig: any = {\n      value: false,\n      1: false,\n    };\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected annotation() {\n    const { statistic, style } = this.options;\n    const annotationConfigs = [];\n    // @ts-ignore\n    if (statistic && statistic.visible) {\n      const statistics = this.renderStatistic();\n      annotationConfigs.push(statistics);\n    }\n    const siderTexts = this.renderSideText();\n    const allAnnotations = annotationConfigs.concat(siderTexts);\n    this.setConfig('annotations', allAnnotations);\n  }\n\n  protected renderSideText() {\n    const { max, min, styleMix, format, style } = this.options;\n    const ringStyle = this.getCustomStyle().ringStyle;\n    const OFFSET_Y = 12;\n    return [min, max].map((value, index) => {\n      return {\n        type: 'text',\n        top: true,\n        position: ['50%', '50%'],\n        content: format(value),\n        style: {\n          fill: styleMix.labelColor, // 文本颜色\n          fontSize: styleMix.tickLabelSize, // 文本大小\n          textAlign: 'center',\n        },\n        offsetX: !index ? -ringStyle.thickness : ringStyle.thickness,\n        offsetY: OFFSET_Y,\n      };\n    });\n  }\n}\n\nregisterPlotType('fanGauge', FanGaugeLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport MeterGaugeLayer, { MeterGaugeLayerConfig } from './layer';\n\nexport interface MeterGaugeConfig extends MeterGaugeLayerConfig, PlotConfig {}\n\nexport default class MeterGauge extends BasePlot<MeterGaugeConfig> {\n  public static getDefaultOptions: typeof MeterGaugeLayer.getDefaultOptions = MeterGaugeLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'meterGauge';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, uniqueId } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport GaugeLayer from '../gauge/layer';\nimport { GaugeViewConfig } from '../gauge/options';\nimport { getOptions } from '../gauge/geometry/shape/options';\nimport { getGlobalTheme } from '../../theme';\n\nexport interface MeterGaugeViewConfig extends GaugeViewConfig {}\n\nexport interface MeterGaugeLayerConfig extends MeterGaugeViewConfig, LayerConfig {}\n\nexport default class MeterGaugeLayer<T extends MeterGaugeLayerConfig = MeterGaugeLayerConfig> extends GaugeLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {});\n  }\n\n  public type: string = 'meterGauge';\n\n  protected getCustomStyle() {\n    const { theme, styleMix } = this.options;\n    const colors = styleMix.colors || getGlobalTheme().colors;\n    return getOptions('meter', theme, colors);\n  }\n}\n\nregisterPlotType('meterGauge', MeterGaugeLayer);\n","// 兼容 0.x的图表类型\nexport { default as Ring, RingConfig } from './ring';\nexport { default as GroupColumn, GroupColumnConfig } from './group-column';\nexport { default as GroupBar, GroupBarConfig } from './group-bar';\nexport { default as PercentageStackArea, PercentageStackAreaConfig } from './percentage-stack-area';\nexport { default as PercentageStackBar, PercentageStackBarConfig } from './percentage-stack-bar';\nexport { default as PercentageStackColumn, PercentageStackColumnConfig } from './percentage-stack-column';\nexport { default as StackArea, StackAreaConfig } from './stack-area';\nexport { default as StackBar, StackBarConfig } from './stack-bar';\nexport { default as StackColumn, StackColumnConfig } from './stack-column';\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport DonutLayer, { DonutViewConfig } from '../../donut/layer';\n\nexport interface RingConfig extends DonutViewConfig, PlotConfig {}\n\nexport default class Ring extends BasePlot<RingConfig> {\n  public static getDefaultOptions: typeof DonutLayer.getDefaultOptions = DonutLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'donut';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"Donut\" instead of \"Ring\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport GroupedColumnLayer, { GroupedColumnViewConfig } from '../../grouped-column/layer';\n\nexport interface GroupColumnConfig extends GroupedColumnViewConfig, PlotConfig {}\n\nexport default class GroupColumn extends BasePlot<GroupColumnConfig> {\n  public static getDefaultOptions: typeof GroupedColumnLayer.getDefaultOptions = GroupedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedColumn';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"GroupedColumn\" instead of \"GroupColumn\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport GroupedBarLayer, { GroupedBarViewConfig } from '../../grouped-bar/layer';\n\nexport interface GroupBarConfig extends GroupedBarViewConfig, PlotConfig {}\n\nexport default class GroupBar extends BasePlot<GroupBarConfig> {\n  public static getDefaultOptions: typeof GroupedBarLayer.getDefaultOptions = GroupedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedBar';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"GroupedBar\" instead of \"GroupBar\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport PercentStackedAreaLayer, { PercentStackedAreaViewConfig } from '../../percent-stacked-area/layer';\n\nexport interface PercentageStackAreaConfig extends PercentStackedAreaViewConfig, PlotConfig {}\n\nexport default class PercentageStackArea extends BasePlot<PercentageStackAreaConfig> {\n  public static getDefaultOptions: typeof PercentStackedAreaLayer.getDefaultOptions =\n    PercentStackedAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedArea';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"PercentStackedArea\" instead of \"PercentageStackArea\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport PercentStackedBarLayer, { PercentStackedBarViewConfig } from '../../percent-stacked-bar/layer';\n\nexport interface PercentageStackBarConfig extends PercentStackedBarViewConfig, PlotConfig {}\n\nexport default class PercentageStackBar extends BasePlot<PercentageStackBarConfig> {\n  public static getDefaultOptions: typeof PercentStackedBarLayer.getDefaultOptions =\n    PercentStackedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedBar';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"PercentStackedBar\" instead of \"PercentageStackBar\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport PercentStackedColumnLayer, { PercentStackedColumnViewConfig } from '../../percent-stacked-column/layer';\n\nexport interface PercentageStackColumnConfig extends PercentStackedColumnViewConfig, PlotConfig {}\n\nexport default class PercentageStackColumn extends BasePlot<PercentageStackColumnConfig> {\n  public static getDefaultOptions: typeof PercentStackedColumnLayer.getDefaultOptions =\n    PercentStackedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedColumn';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"PercentStackedColumn\" instead of \"PercentageStackColumn\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport StackedAreaLayer, { StackedAreaViewConfig } from '../../stacked-area/layer';\n\nexport interface StackAreaConfig extends StackedAreaViewConfig, PlotConfig {}\n\nexport default class StackArea extends BasePlot<StackAreaConfig> {\n  public static getDefaultOptions: typeof StackedAreaLayer.getDefaultOptions = StackedAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedArea';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"StackedArea\" instead of \"StackArea\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport StackedBarLayer, { StackedBarViewConfig } from '../../stacked-bar/layer';\n\nexport interface StackBarConfig extends StackedBarViewConfig, PlotConfig {}\n\nexport default class StackBar extends BasePlot<StackBarConfig> {\n  public static getDefaultOptions: typeof StackedBarLayer.getDefaultOptions = StackedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedBar';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"StackedBar\" instead of \"StackBar\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport StackedColumnLayer, { StackedColumnViewConfig } from '../../stacked-column/layer';\n\nexport interface StackColumnConfig extends StackedColumnViewConfig, PlotConfig {}\n\nexport default class StackColumn extends BasePlot<StackColumnConfig> {\n  public static getDefaultOptions: typeof StackedColumnLayer.getDefaultOptions = StackedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedColumn';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"StackedColumn\" instead of \"StackColumn\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyPlot from '../tiny-plot';\nimport ProgressLayer, { ProgressViewConfig } from './layer';\n\nexport interface ProgressConfig extends ProgressViewConfig, PlotConfig {}\n\nexport default class Progress extends BasePlot<ProgressConfig> {\n  public static getDefaultOptions: typeof ProgressLayer.getDefaultOptions = ProgressLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'progress';\n    super.createLayers(layerProps);\n  }\n\n  public update(value: number, style?) {\n    const layer = this.layers[0] as any;\n    layer.update(value, style);\n  }\n}\n","import { assign, deepMix } from '@antv/util';\nimport { View, IGroup, IShape, Canvas } from '../../../dependents';\n\nexport interface MarkerConfig {\n  view?: View;\n  canvas?: Canvas;\n  progressSize?: number;\n  value: number;\n  style?: any;\n}\n\nexport default class Marker<T extends MarkerConfig = MarkerConfig> {\n  public canvas: Canvas;\n  public view: View;\n  public progressSize: number;\n  public value: number;\n  public style: any;\n  protected coord: any; //fixme: 类型定义\n  protected container: IGroup;\n  protected shape: IShape;\n\n  constructor(cfg) {\n    assign(this, cfg);\n    this.init();\n  }\n\n  public destroy() {\n    if (this.shape) {\n      this.shape.destroy();\n    }\n  }\n\n  public update(cfg: MarkerConfig, duration: number, easing: string) {\n    let updateCfg: any = {};\n    assign(this, cfg);\n    this.coord = this.view.geometries[0].coordinate;\n    if (cfg.value) {\n      const x = this.coord.convert({ x: 0, y: this.value }).x;\n      const matrix = [1, 0, 0, 0, 1, 0, x, 0, 1];\n      updateCfg.matrix = matrix;\n    }\n    if (cfg.style) {\n      const shape: any = this.shape;\n      const origin_attr = shape.attrs;\n      const attrs = deepMix({}, origin_attr, cfg.style);\n      updateCfg = deepMix({}, attrs, updateCfg);\n    }\n    this.shape.stopAnimate();\n    this.shape.animate(updateCfg, duration, easing);\n  }\n\n  protected init() {\n    this.coord = this.view.geometries[0].coordinate;\n    this.container = this.view.foregroundGroup.addGroup();\n    const x = this.coord.convert({ x: 0, y: this.value }).x; // progress坐标系是转置坐标系\n    const y0 = this.coord.center.y - this.progressSize / 2 - 2;\n    const y1 = this.coord.center.y + this.progressSize / 2 + 2;\n    const style = deepMix({}, { stroke: 'grey', lineWidth: 1 }, this.style);\n    this.shape = this.container.addShape('path', {\n      attrs: {\n        path: [\n          ['M', 0, y0],\n          ['L', 0, y1],\n        ],\n        ...style,\n      },\n      name: 'progress-marker',\n    });\n    this.shape.move(x, 0);\n    this.canvas.draw();\n  }\n}\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onProgressClick: 'interval:click',\n  onProgressDblclick: 'interval:dblclick',\n  onProgressMousemove: 'interval:mousemove',\n  onProgressMousedown: 'interval:mousedown',\n  onProgressMouseup: 'interval:mouseup',\n  onProgressMouseenter: 'progress:mouseenter',\n  onProgressMouseleave: 'progress:mouseleave',\n  onProgressContextmenu: 'interval:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyPlot from '../tiny-plot';\nimport RingProgressLayer, { RingProgressViewConfig } from './layer';\n\nexport interface RingProgressConfig extends RingProgressViewConfig, PlotConfig {}\n\nexport default class RingProgress extends BasePlot<RingProgressConfig> {\n  public static getDefaultOptions: typeof RingProgressLayer.getDefaultOptions = RingProgressLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'ringProgress';\n    super.createLayers(layerProps);\n  }\n\n  public update(value: number) {\n    const layer = this.layers[0] as any;\n    layer.update(value);\n  }\n}\n","import { mix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport ProgressLayer, { ProgressViewConfig } from '../progress/layer';\nimport * as EventParser from './event';\n\nconst DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nexport type RingProgressViewConfig = ProgressViewConfig;\nexport interface RingProgressLayerConfig extends RingProgressViewConfig, LayerConfig {}\n\nexport default class RingProgressLayer extends ProgressLayer<RingProgressLayerConfig> {\n  public ring: any;\n  public type: string = 'ringProgrsss';\n\n  public processProps() {\n    let props = this.options;\n    props.data = this.processData();\n    const cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR,\n    } as any;\n    props = mix(props, cfg);\n  }\n\n  protected coord() {\n    const coordConfig: any = {\n      type: 'theta',\n      cfg: {\n        radius: 1.0,\n        innerRadius: this.getThickness(this.options.size),\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected annotation() {}\n\n  protected addGeometry() {\n    const props = this.options;\n    this.ring = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this,\n    });\n    this.ring.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n    this.setConfig('geometry', this.ring);\n  }\n\n  protected animation() {\n    this.ring.animate = {\n      appear: {\n        duration: 1000,\n      },\n    };\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private getThickness(value?: number): number {\n    const width = this.width;\n    const height = this.height;\n    const size = Math.min(width, height);\n\n    if (value) {\n      return 1.0 - value / size;\n    }\n\n    if (size >= 60) {\n      return 1.0 - 20 / size;\n    }\n    return 1.0 - 10 / size;\n  }\n}\n\nregisterPlotType('ringProgress', RingProgressLayer);\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onRingProgressClick: 'interval:click',\n  onRingProgressDblclick: 'interval:dblclick',\n  onRingProgressMousemove: 'interval:mousemove',\n  onRingProgressMousedown: 'interval:mousedown',\n  onRingProgressMouseup: 'interval:mouseup',\n  onRingProgressMouseenter: 'interval:mouseenter',\n  onRingProgressMouseleave: 'interval:mouseleave',\n  onRingProgressContextmenu: 'interval:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyColumnLayer, { TinyColumnLayerConfig } from './layer';\n\nexport interface TinyColumnConfig extends TinyColumnLayerConfig, PlotConfig {}\n\nexport default class TinyColumn extends BasePlot<TinyColumnConfig> {\n  public static getDefaultOptions: typeof TinyColumnLayer.getDefaultOptions = TinyColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'tinyColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import { mix, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyLayerConfig, TinyViewConfig } from '../tiny-layer';\nimport * as EventParser from './event';\nimport { IStyle } from '../../interface/config';\n\nconst WIDTH_RATIO = 0.6;\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'column',\n};\n\nexport interface TinyColumnViewConfig extends TinyViewConfig {\n  columnStyle?: IStyle;\n}\nexport interface TinyColumnLayerConfig extends TinyColumnViewConfig, LayerConfig {}\n\nexport default class TinyColumnLayer extends TinyLayer<TinyColumnLayerConfig> {\n  public line: any;\n  public area: any;\n  public type: string = 'tinyColumn';\n\n  public init() {\n    this.processProps();\n    super.init();\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const { options } = this;\n    const scales = {};\n    /** 配置x-scale */\n    scales[options.xField] = { type: 'cat' };\n    this.setConfig('scales', scales);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const column = getGeom('interval', 'main', {\n      positionFields: [props.xField, props.yField],\n      plot: this,\n    });\n    this.setConfig('geometry', column);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private processProps() {\n    let props = this.options;\n    const cfg = {\n      padding: [0, 0, 0, 0],\n      columnSize: this.getSize(),\n    } as any;\n    props = mix(props, cfg);\n  }\n\n  private getSize() {\n    const props = this.options;\n    const columnNumber = this.getColumnNum(props.data, props.xField);\n    const width = this.width;\n    return (width / columnNumber) * WIDTH_RATIO;\n  }\n\n  private getColumnNum(data, field) {\n    const values = [];\n    each(data, (d) => {\n      const v = d[field];\n      if (values.indexOf(v) < 0) {\n        values.push(v);\n      }\n    });\n    return values.length;\n  }\n}\n\nregisterPlotType('tinyColumn', TinyColumnLayer);\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnContextmenu: 'interval:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyAreaLayer, { TinyAreaViewConfig } from './layer';\n\nexport interface TinyAreaConfig extends TinyAreaViewConfig, PlotConfig {}\n\nexport default class TinyArea extends BasePlot<TinyAreaConfig> {\n  public static getDefaultOptions: typeof TinyAreaLayer.getDefaultOptions = TinyAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'tinyArea';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport * as EventParser from './event';\nimport { IStyle } from '../../interface/config';\n\nconst GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n};\n\nexport interface TinyAreaViewConfig extends TinyViewConfig {\n  areaStyle?: IStyle;\n  lineStyle?: IStyle;\n  smooth?: boolean;\n}\n\nexport interface TinyAreaLayerConfig extends TinyAreaViewConfig, LayerConfig {}\n\nexport default class TinyAreaLayer extends TinyLayer<TinyAreaLayerConfig> {\n  public line: any;\n  public area: any;\n  public type: string = 'tinyArea';\n\n  protected geometryParser(dim: string, type: string): string {\n    return GEOM_MAP[type];\n  }\n\n  protected addGeometry() {\n    this.area = getGeom('area', 'mini', {\n      plot: this,\n    });\n    this.setConfig('geometry', this.area);\n\n    this.line = getGeom('line', 'mini', {\n      plot: this,\n    });\n    this.setConfig('geometry', this.line);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('tinyArea', TinyAreaLayer);\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyLineLayer, { TinyLineViewConfig } from './layer';\n\nexport interface TinyLineConfig extends TinyLineViewConfig, PlotConfig {}\n\nexport default class TinyLine extends BasePlot<TinyLineConfig> {\n  public static getDefaultOptions: typeof TinyLineLayer.getDefaultOptions = TinyLineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'tinyLine';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport * as EventParser from './event';\nimport { IStyle } from '../../interface/config';\n\nconst GEOM_MAP = {\n  line: 'line',\n};\n\nexport interface TinyLineViewConfig extends TinyViewConfig {\n  lineStyle?: IStyle;\n  smooth?: boolean;\n}\nexport interface TinyLineLayerConfig extends TinyLineViewConfig, LayerConfig {}\n\nexport default class TinyLineLayer extends TinyLayer<TinyLineLayerConfig> {\n  public line: any;\n  public type: string = 'tinyLine';\n\n  protected geometryParser(dim: string, type: string): string {\n    return GEOM_MAP[type];\n  }\n\n  protected addGeometry() {\n    this.line = getGeom('line', 'mini', {\n      plot: this,\n    });\n    this.setConfig('geometry', this.line);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('tinyLine', TinyLineLayer);\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import ComboPlot, { ComboPlotConfig } from './base';\nimport { IGroup } from '@antv/g-base';\nimport * as _ from '@antv/util';\nimport { getPlotType } from '../base/global';\nimport Layer from '../base/layer';\nimport '../plots/index';\nimport * as ComboUtil from './util';\nimport { getOverlappingPadding } from './util/padding';\nimport { getGlobalTheme } from '../theme/global';\nimport { ViewLayer } from '..';\n\nexport type OverlappedComboPlotConfig = ComboPlotConfig;\n\nexport default class OverlappedComboPlot<\n  T extends OverlappedComboPlotConfig = OverlappedComboPlotConfig\n> extends ComboPlot<T> {\n  protected isOverlapped: boolean;\n  protected topLayer: Layer;\n  protected backLayer: Layer;\n  protected legendInfo: any[];\n  protected axisInfo: any[];\n  protected legendContainer: IGroup;\n  protected paddingComponents: any[];\n  protected globalOptions: any;\n  protected globalComponents: any[];\n  protected singleGeomCount: number;\n\n  public getDefaultOptions() {\n    return {\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n        colorMapping: true,\n        synchroTick: true,\n      },\n      label: {\n        visible: false,\n      },\n      tooltip: {\n        visible: true,\n        sort: true,\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n      },\n    };\n  }\n\n  constructor(container: HTMLElement, props: T) {\n    super(container, props);\n    this.options = props;\n  }\n\n  protected createComboLayers() {\n    super.createComboLayers();\n    this.legendInfo = [];\n    this.axisInfo = [];\n    this.paddingComponents = [];\n    this.globalComponents = [];\n    this.singleGeomCount = 0;\n\n    this.backLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height,\n    });\n\n    if (this.options.layers.length > 0) {\n      /** create layers */\n      _.each(this.options.layers, (layerCfg) => {\n        const overlapConfig = this.getOverlappedConfig(layerCfg);\n        const viewLayerCtr = getPlotType(layerCfg.type);\n        const viewLayerProps: T = _.deepMix(\n          {},\n          layerCfg,\n          {\n            canvas: this.canvas,\n            x: 0,\n            y: 0,\n            width: this.width,\n            height: this.height,\n            tooltip: {\n              domStyles: {\n                'g2-tooltip': {\n                  display: 'none',\n                },\n              },\n            },\n          },\n          overlapConfig\n        );\n        const viewLayer = new viewLayerCtr(viewLayerProps);\n        viewLayer.render();\n        viewLayer.hide();\n        this.axisInfo.push(...ComboUtil.getAxisData(viewLayer, viewLayerProps, this.globalOptions));\n        this.legendInfo.push(...ComboUtil.getLegendData(viewLayer, viewLayerProps));\n        this.addLayer(viewLayer);\n      });\n    }\n\n    /** add top layer for legend & tooltip */\n    this.topLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height,\n    });\n    this.topLayer.render();\n  }\n\n  /** 图层叠加时的layer config */\n  protected getOverlappedConfig(layerCfg) {\n    const colorCfg = ComboUtil.getColorConfig(layerCfg.type, layerCfg, this.singleGeomCount);\n    if (colorCfg && colorCfg.single) {\n      this.singleGeomCount++;\n    }\n    return _.deepMix(\n      {},\n      {\n        xAxis: {\n          visible: false,\n        },\n        yAxis: {\n          visible: false,\n        },\n        legend: {\n          visible: false,\n        },\n        /* tooltip: {\n          visible: false,\n        },*/\n        padding: [0, 0, 0, 0],\n        color: colorCfg ? colorCfg.color : null,\n      }\n    );\n  }\n\n  protected overlappingLegend() {\n    const legendItems = ComboUtil.mergeLegendData(this.legendInfo);\n    this.legendContainer = this.topLayer.container.addGroup();\n    return ComboUtil.createLegend(\n      legendItems,\n      this.width,\n      this.height,\n      this.getCanvas(),\n      this.globalOptions.legend.position\n    );\n  }\n\n  public render() {\n    this.doDestroy();\n    this.createComboLayers();\n    const { bleeding } = getGlobalTheme();\n    if (this.globalOptions.legend.visible) {\n      const legend = this.overlappingLegend();\n      this.globalComponents.push({ type: 'legend', component: legend.component });\n      this.paddingComponents.push(legend);\n    }\n    // 先获取legend的padding\n    const legendPadding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n    const axisComponents = ComboUtil.axesLayout(\n      this.globalOptions,\n      this.axisInfo,\n      legendPadding,\n      this.layers[0],\n      this.width,\n      this.height,\n      this.getCanvas()\n    );\n    this.paddingComponents.push(...axisComponents);\n    _.each(axisComponents, (axis) => {\n      this.globalComponents.push({ type: 'axis', component: axis.component });\n    });\n    // 计算padding\n    const padding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n    if (!this.globalOptions.xAxis.visible) {\n      padding[2] += bleeding[2];\n    }\n    // 更新layers\n    _.each(this.layers, (layer) => {\n      layer.updateConfig({\n        padding,\n      });\n\n      layer.render();\n      layer.show();\n    });\n\n    //补画坐标轴grid\n    if (this.globalOptions.yAxis.grid.visible) {\n      const leftAxis = axisComponents[0].component;\n      const containerLayer = this.layers[0] as ViewLayer;\n      const coord = containerLayer.view.geometries[0].coordinate;\n      const container = containerLayer.view.backgroundGroup;\n      ComboUtil.drawYGrid(leftAxis, coord, container, this.globalOptions);\n    }\n\n    this.canvas.draw();\n\n    if (this.globalOptions.tooltip.visible) {\n      const tooltip = ComboUtil.showTooltip(this.canvas, this.layers, this.globalOptions.tooltip);\n      this.globalComponents.push({ type: 'tooltip', component: tooltip });\n    }\n  }\n\n  protected doDestroy() {\n    this.clearComponents();\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    this.layers = [];\n  }\n\n  protected clearComponents() {\n    _.each(this.globalComponents, (c) => {\n      if (c.type === 'legend' || c.type === 'tooltip') {\n        c.component.destroy();\n      }\n      if (c.type === 'axis') {\n        c.component.clear();\n      }\n    });\n    this.paddingComponents = [];\n    this.globalComponents = [];\n  }\n}\n","import Plot, { PlotConfig } from '../base/plot';\nimport { deepMix } from '@antv/util';\nimport { ViewLayerConfig } from '../base/view-layer';\n\ninterface ComboPlotLayerConfig extends ViewLayerConfig {\n  type: string;\n}\n\nexport interface ComboPlotConfig extends PlotConfig {\n  layers: ComboPlotLayerConfig[];\n}\n\nexport default class ComboPlot<T extends ComboPlotConfig = ComboPlotConfig> extends Plot<T> {\n  public options: any;\n  protected globalOptions: any;\n\n  public getDefaultOptions() {\n    return {};\n  }\n\n  protected getGlobalOptions(props) {\n    return {\n      xAxis: props.xAxis,\n      yAxis: props.yAxis,\n      theme: props.theme,\n      legend: props.legend,\n    };\n  }\n\n  protected createComboLayers() {\n    this.globalOptions = deepMix({}, this.getDefaultOptions(), this.getGlobalOptions(this.options));\n  }\n}\n","export { getColorConfig } from './adjustColorConfig';\nexport { getLegendData, mergeLegendData, createLegend } from './globalLegend';\nexport { getAxisData, mergeAxisScale, createAxis, axesLayout, drawYGrid } from './globalAxis';\nexport { showTooltip } from './globalTooltip';\n","import { Legend } from '../../dependents';\nimport BBox from '../../util/bbox';\nimport * as _ from '@antv/util';\nimport ViewLayer from '../../base/view-layer';\nimport { getGlobalTheme } from '../../theme/global';\n\nexport function getLegendData(viewLayer: ViewLayer, props) {\n  const legendItems = [];\n  const view = viewLayer.view;\n  const geometry = view.geometries[0];\n  const colorAttr = geometry.attributes.color; // color和shape决定cat legend的生成，暂时先不考虑shape\n  const markerCfg: any = {\n    isInCircle: false,\n    color: colorAttr.values[0],\n  };\n\n  let marker = {\n    symbol: 'circle',\n    style: {\n      r: 4,\n      fill: markerCfg.fill,\n    },\n  };\n  // @ts-ignore\n  if (geometry.shapeFactory) {\n    // @ts-ignore\n    marker = geometry.shapeFactory.getMarker(geometry.type, markerCfg);\n  }\n  /** 处理default不生成图例的场景 */\n  if (colorAttr.scales.length === 1 && colorAttr.scales[0].type == 'identity') {\n    legendItems.push({\n      value: props.name,\n      checked: true,\n      marker,\n      isSingle: true,\n      layer: viewLayer,\n      name: props.name || geometry.type,\n    });\n  } else {\n    /** 正常生成图例 */\n    const values = colorAttr.scales[0].values;\n    _.each(values, (v, index) => {\n      const markerColor = colorAttr.values[index];\n      const markerValue = v;\n      const cfg: any = {\n        isInCircle: false,\n        color: markerColor,\n      };\n      let marker = {\n        symbol: 'circle',\n        style: {\n          r: 4,\n          fill: markerCfg.color,\n        },\n      };\n      // @ts-ignore\n      if (geometry.shapeFactory) {\n        // @ts-ignore\n        marker = geometry.shapeFactory.getMarker(geometry.type, cfg);\n      }\n      legendItems.push({\n        field: colorAttr.scales[0].field,\n        value: markerValue,\n        checked: true,\n        marker,\n        isSingle: false,\n        layer: viewLayer,\n        name: markerValue,\n      });\n    });\n  }\n\n  return legendItems;\n}\n\nexport function mergeLegendData(items) {\n  return items;\n}\n\nexport function createLegend(items, width, height, canvas, position) {\n  const legendTheme = getGlobalTheme().legend;\n  const positions = position.split('-');\n  let layout = 'horizontal';\n  if (positions[0] === 'left' || positions[0] === 'right') {\n    layout = 'vertical';\n  }\n  const container = canvas.addGroup();\n  const legendCfg = {\n    type: 'category-legend',\n    items,\n    maxSize: width,\n    container,\n    group: container,\n    layout: layout,\n    textStyle: {\n      fill: '#8C8C8C',\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle',\n      lineHeight: 20,\n    }, // 图例项目文本样式\n    titleDistance: 10, // 标题和图例项的间距\n    autoWrap: true, // 图例项是否自动换行\n    itemMarginBottom: 4, // 图例项之间的底部间距\n    backgroundPadding: 0, // 背景内边距\n    maxLength: width, // 图例的最大高度或者宽度\n  };\n  const legend = new Legend.Category(legendCfg as any);\n  legendLayout(width, height, legend, position);\n  addLegendInteraction(legend);\n  /** return legend as a padding component */\n  const bbox = legend.get('container').getBBox();\n  let paddingBbox;\n  // merge legend inner padding\n  const { innerPadding } = legendTheme;\n\n  if (positions[0] === 'left') {\n    paddingBbox = new BBox(legend.get('x') + innerPadding[3], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'right') {\n    paddingBbox = new BBox(legend.get('x') - innerPadding[1], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'top') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') + innerPadding[0], bbox.width, bbox.height);\n  } else if (positions[0] === 'bottom') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') - innerPadding[2], bbox.width, bbox.height);\n  }\n  return {\n    position: positions[0],\n    component: legend,\n    getBBox: () => {\n      return paddingBbox;\n    },\n  };\n}\n\nfunction addLegendInteraction(legend) {\n  const filteredValue = [];\n  legend.get('group').on('click', (ev) => {\n    const item = ev.target.get('delegateObject').item;\n    // 如果是单图例模式\n    if (item.isSingle) {\n      if (item.checked) {\n        ev.target.get('parent').attr('opacity', 0.3);\n        item.layer.hide();\n        item.checked = false;\n      } else {\n        ev.target.get('parent').attr('opacity', 1);\n        item.layer.show();\n        item.checked = true;\n      }\n    } else {\n      // 正常的图例筛选数据逻辑\n      const view = item.layer.view;\n      if (item.checked) {\n        ev.target.get('parent').attr('opacity', 0.3);\n        filteredValue.push(item.value);\n        view.filter(item.field, (f) => {\n          return !_.contains(filteredValue, f);\n        });\n        view.render();\n        const filteredData = view.filteredData;\n        if (filteredData.length === 0) {\n          item.layer.hide();\n        } else if (!item.layer.visibility) {\n          item.layer.show();\n        }\n        item.checked = false;\n      } else {\n        ev.target.get('parent').attr('opacity', 1);\n        _.pull(filteredValue, item.value);\n        view.filter(item.value, (f) => {\n          return !_.contains(filteredValue, f);\n        });\n        view.render();\n        if (!item.layer.visibility) {\n          item.layer.show();\n        }\n        item.checked = true;\n      }\n    }\n  });\n}\n\nfunction legendLayout(width, height, legend, position) {\n  const { bleeding } = getGlobalTheme();\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, (it, index) => {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n  const bbox = legend.get('container').getBBox();\n  let x = 0;\n  let y = 0;\n  const positions = position.split('-');\n  // 先确定x\n  if (positions[0] === 'left') {\n    x = bleeding[3];\n  } else if (positions[0] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  } else if (positions[1] === 'center') {\n    x = (width - bbox.width) / 2;\n  } else if (positions[1] === 'left') {\n    x = bleeding[3];\n  } else if (positions[1] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  }\n  // 再确定y\n  if (positions[0] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  } else if (positions[0] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'center') {\n    y = (height - bbox.height) / 2;\n  } else if (positions[1] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  }\n  //legend.moveTo(x, y);\n  legend.setLocation({ x, y });\n  legend.render();\n  //legend.draw();\n}\n","import BBox from '../../util/bbox';\nimport { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport ViewLayer from '../../base/view-layer';\nimport { getGlobalTheme } from '../../theme';\nimport { isSingleGraph } from './adjustColorConfig';\nimport { getOverlappingPadding } from './padding';\nimport { getComponent } from '../../components/factory';\nimport { translate } from '../../util/g-util';\nimport { Axis } from '../../dependents';\n\nconst AXIS_GAP = 4;\n\nexport function getAxisData(viewLayer: ViewLayer, props, globalOptions) {\n  const { view } = viewLayer;\n  const scales = view.geometries[0].scales;\n  const scalesInfo = [];\n  const singleGraph = isSingleGraph(viewLayer.type, props);\n  // get xscale info\n  if (props.xField) {\n    const xscale = scales[props.xField];\n    const scaleInfo = {\n      dim: 'x',\n      scale: xscale,\n      originalData: props.data,\n    };\n    scalesInfo.push(scaleInfo);\n  }\n  // get yscale info\n  if (props.yField) {\n    const yscale = scales[props.yField];\n    const scaleInfo = {\n      dim: 'y',\n      scale: yscale,\n      originalData: props.data,\n      color: singleGraph && globalOptions.yAxis.colorMapping ? props.color : null,\n      layer: viewLayer,\n    };\n    scalesInfo.push(scaleInfo);\n  }\n  return scalesInfo;\n}\n\nexport function mergeAxisScale(axisInfo, dim, axisOptions?) {\n  if (dim === 'x') {\n    const xAxisInfo = axisInfo.filter((axis) => {\n      if (axis.dim === 'x') {\n        return axis;\n      }\n    });\n    return mergeXAxis(xAxisInfo);\n  } else {\n    const yAxisInfo = axisInfo.filter((axis) => {\n      if (axis.dim === 'y') {\n        return axis;\n      }\n    });\n    return mergeYAxis(yAxisInfo, axisOptions.synchroTick);\n  }\n}\n\nfunction mergeXAxis(axisInfo) {\n  // 判断是否能够合并度量\n  const isSameScale = sameScaleTest(axisInfo);\n  if (!isSameScale) {\n    return [axisInfo[0].scale];\n  }\n  if (axisInfo[0].scale.type === 'cat') {\n    return getCatScale(axisInfo);\n  } else {\n    return getLinearScale(axisInfo, 5);\n  }\n}\n\nfunction mergeYAxis(axisInfo, synchroTick: boolean) {\n  const isSameScale = sameScaleTest(axisInfo);\n  // 默认全部采用左轴的tickCount，具体标度对齐逻辑留待以后优化\n  const tickCount = axisInfo[0].scale.tickCount;\n  const LinearScale = getScale('linear');\n  if (!isSameScale) {\n    return axisInfo.map((axis) => {\n      const scale = axis.scale;\n      const values = calValues(scale, tickCount);\n      if (synchroTick) {\n        const linearScale: any = new LinearScale({\n          min: scale.min,\n          max: scale.max,\n          ticks: values,\n          tickCount,\n          color: axis.color,\n        } as any);\n        linearScale.layer = axis.layer;\n        return linearScale;\n      } else {\n        scale.layer = axis.layer;\n        scale.color = axis.color;\n        return scale;\n      }\n    });\n  } else {\n    return getLinearScale(axisInfo, tickCount);\n  }\n}\n\nfunction getLinearScale(axisInfo, tickCount) {\n  let scaleMin = axisInfo[0].scale.min;\n  let scaleMax = axisInfo[0].scale.max;\n  for (const axis of axisInfo) {\n    scaleMin = Math.min(scaleMin, axis.scale.min);\n    scaleMax = Math.max(scaleMax, axis.scale.max);\n  }\n  const LinearScale = getScale('linear');\n  const scale = new LinearScale({\n    min: scaleMin,\n    max: scaleMax,\n    tickCount,\n  });\n\n  return scale;\n}\n\nfunction getCatScale(axisInfo) {\n  const scaleValues = [];\n  for (const axis of axisInfo) {\n    scaleValues.push(...axis.scale.values);\n  }\n  // todo: time cat 重新排序\n  const CatScale = getScale('cat');\n  const scale = new CatScale({\n    values: _.uniq(scaleValues),\n  });\n\n  return scale;\n}\n\nfunction sameScaleTest(axisInfo) {\n  const sampleDataSource = axisInfo[0].originalData;\n  const sampleField = axisInfo[0].scale.field;\n  for (const axis of axisInfo) {\n    const data = axis.originalData;\n    const field = axis.scale.field;\n    // 判断数据源和scale字段\n    if (data !== sampleDataSource || field !== sampleField) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function createAxis(scale, dim, canvas, cfg, globalOptions) {\n  const theme = getTheme(globalOptions);\n  const isVertical = dim === 'x' ? false : true;\n  let group;\n  if (scale.layer) {\n    group = scale.layer.container.addGroup();\n  } else {\n    group = canvas.addGroup();\n  }\n  const ticks = getAxisTicks(scale, dim);\n  const parser = getComponent('axis', {\n    dim,\n    plot: {\n      options: globalOptions,\n      getPlotTheme: () => {\n        return getGlobalTheme();\n      },\n    } as any,\n  });\n  let defaultStyle = theme.axis && theme.axis[dim] ? toAxisStyle(theme.axis[dim]) : {};\n  if (scale.color) {\n    defaultStyle = adjustColorStyle(scale.color, parser);\n  }\n\n  const axisConfig = _.deepMix(\n    {},\n    parser,\n    {\n      type: 'line',\n      group,\n      canvas,\n      start: cfg.start,\n      end: cfg.end,\n      isVertical,\n      verticalFactor: cfg.factor,\n      ticks,\n      label(text) {\n        return {\n          text,\n          textStyle: parser.label.textStyle,\n        };\n      },\n    },\n    defaultStyle\n  );\n  const axis: any = new Axis.Line(axisConfig as any);\n  axis.layer = scale.layer;\n  axis.render();\n  return axis;\n}\n\nfunction getAxisTicks(scale, dim) {\n  const tickValues = [];\n  const { ticks, range } = scale;\n  const step = (range[1] - range[0]) / (ticks.length - 1);\n  _.each(ticks, (tick, index) => {\n    const value = dim === 'y' ? 1.0 - (range[0] + step * index) : range[0] + step * index;\n    tickValues.push({ name: tick, value });\n  });\n\n  return tickValues;\n}\n\nfunction calValues(scale, tickCount) {\n  const values = [];\n  const { min, max } = scale;\n  const step = (max - min) / tickCount;\n  for (let i = 0; i < tickCount; i++) {\n    const value = min + step * i;\n    values.push(value);\n  }\n  return values;\n}\n\nexport function axesLayout(globalOptions, axisInfo, padding, layer, width, height, canvas) {\n  const { bleeding } = getGlobalTheme();\n  // merge padding and bleeding by zero value\n  _.each(padding, (p, index) => {\n    if (p === 0) {\n      padding[index] = bleeding[index];\n    }\n  });\n  const paddingComponents = [];\n  // 创建axis\n  const axes = [];\n  let xAxisScale;\n  let xAxis;\n  let xAxisHeight = 0;\n  if (globalOptions.xAxis.visible) {\n    xAxisScale = mergeAxisScale(axisInfo, 'x');\n    xAxis = createAxis(\n      xAxisScale[0],\n      'x',\n      canvas,\n      {\n        start: { x: 0, y: 0 },\n        end: { x: width, y: 0 },\n        factor: -1,\n      },\n      globalOptions\n    );\n    xAxisHeight += xAxis.get('group').getBBox().height;\n  }\n\n  if (globalOptions.yAxis.visible) {\n    const yAxisScale = mergeAxisScale(axisInfo, 'y', globalOptions.yAxis);\n    _.each(yAxisScale, (scale, index) => {\n      const factor = index === 0 ? -1 : 1;\n      const axis = createAxis(\n        scale,\n        'y',\n        canvas,\n        {\n          start: { x: 0, y: padding[0] },\n          end: { x: 0, y: height - xAxisHeight - padding[2] },\n          factor,\n        },\n        globalOptions\n      );\n      if (index === 0) {\n        translate(axis.get('group'), padding[3], 0);\n      }\n      axes.push(axis);\n    });\n\n    axisLayout(axes, paddingComponents, width, padding);\n  }\n\n  if (globalOptions.xAxis.visible) {\n    const axisPadding = getOverlappingPadding(layer, paddingComponents);\n    const ypos = axes.length === 0 ? height - xAxisHeight - padding[2] : axes[0].get('group').getBBox().maxY;\n    xAxis.destroy();\n    xAxis = createAxis(\n      xAxisScale[0],\n      'x',\n      canvas,\n      {\n        start: { x: axisPadding[3], y: ypos },\n        end: { x: width - axisPadding[1], y: ypos },\n        factor: -1,\n      },\n      globalOptions\n    );\n    paddingComponents.push({\n      position: 'bottom',\n      component: xAxis,\n      getBBox: () => {\n        const container = xAxis.get('group');\n        const bbox = container.getBBox();\n        return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n      },\n    });\n  }\n\n  return paddingComponents;\n}\n\nfunction axisLayout(axes, paddingComponents, width, padding) {\n  // 先处理最左边的\n  const leftAxis = axes[0];\n  const leftContainer = leftAxis.get('group');\n  const leftBbox = leftContainer.getBBox();\n  translate(leftContainer, leftBbox.width, 0);\n  paddingComponents.push({\n    position: 'left',\n    component: leftAxis,\n    getBBox: () => {\n      const matrix = leftContainer.attr('matrix');\n      return new BBox(leftBbox.minX + matrix[6], leftBbox.minY, leftBbox.width, leftBbox.height);\n    },\n  });\n  let temp_width = padding[1];\n  // 处理右边的\n  for (let i = axes.length - 1; i > 0; i--) {\n    const axis = axes[i];\n    const container = axis.get('group');\n    const bbox = container.getBBox();\n    translate(container, width - temp_width - bbox.width, 0);\n    temp_width += bbox.width + AXIS_GAP;\n    const component = {\n      position: 'right',\n      component: axis,\n      getBBox: () => {\n        const matrix = container.attr('matrix');\n        return new BBox(bbox.minX + matrix[6], bbox.minY, bbox.width, bbox.height);\n      },\n    };\n    paddingComponents.push(component);\n  }\n}\n\nfunction adjustColorStyle(color, options) {\n  return {\n    line: options.line\n      ? {\n          stroke: color,\n          lineWidth: 1,\n        }\n      : null,\n    tickLine: options.tickLine\n      ? {\n          stroke: color,\n          lineWidth: 1,\n          length: 5,\n        }\n      : null,\n    label: options.label\n      ? {\n          textStyle: {\n            fill: color,\n          },\n        }\n      : null,\n  };\n}\n\nexport function drawYGrid(axis, coord, container, globalOptions) {\n  const theme = getTheme(globalOptions);\n  const gridCfg = globalOptions.yAxis.grid;\n  const defaultStyle = theme.axis.y.grid.style;\n  const style = _.deepMix({}, defaultStyle, gridCfg.style);\n  const gridGroup = container.addGroup();\n  const labelItems = axis.get('labelItems');\n  _.each(labelItems, (item, index) => {\n    if (index > 0) {\n      gridGroup.addShape('path', {\n        attrs: {\n          path: [\n            ['M', coord.start.x, item.point.y],\n            ['L', coord.end.x, item.point.y],\n          ],\n          ...style,\n        },\n      });\n    }\n  });\n}\n\nfunction toAxisStyle(theme) {\n  const style = {};\n  _.each(theme, (t, key) => {\n    if (_.hasKey(t, 'style')) {\n      style[key] = t.style;\n    }\n  });\n  return style;\n}\n\nfunction getTheme(options) {\n  let theme = getGlobalTheme();\n  if (options.theme) {\n    if (_.isString(options.theme)) {\n      theme = getGlobalTheme(options.theme);\n    } else if (_.isObject(options.theme)) {\n      theme = options.theme;\n    }\n  }\n  return theme;\n}\n","import { each, contains, isArray, isObject, indexOf, isNil, has, keys } from '@antv/util';\nimport { Tooltip, getShapeFactory } from '../../dependents';\nimport { getGlobalTheme } from '../../theme/global';\n\nconst TYPE_SHOW_MARKERS = ['line', 'area', 'path', 'areaStack'];\n\nexport function showTooltip(canvas, layers, tooltipCfg) {\n  const tooltip = renderTooltip(layers[0], canvas);\n  tooltip.init();\n  canvas.on('mousemove', (ev) => {\n    const tooltipItems = [];\n    const point = { x: ev.x, y: ev.y };\n    each(layers, (layer) => {\n      const { view } = layer;\n      if (view && layer.visibility) {\n        //const coord = view.geometries[0].coordinate;\n        //const geoms = view.geometries;\n        tooltipItems.push(...view.getTooltipItems(point));\n        /*each(geoms, (geom) => {\n          const type = geom.type;\n          const dataArray = geom.dataArray;\n          if (contains(['area', 'line', 'path', 'interval'], type)) {\n            const items = getTooltipItems(point, geom, type, dataArray, coord);\n            tooltipItems.push(...items);\n          } else {s\n            const shapeContainer = geom.container;\n            const shapes = getShapeByX(shapeContainer, point.x);\n            each(shapes, (shape) => {\n              if (shape.get('visible') && shape.get('origin')) {\n                const items = geom.getTooltipItems(shape.get('origin'), null);\n                tooltipItems.push(...items);\n              }\n            });\n          }\n        });*/\n      }\n    });\n    //adjustItems(tooltipItems, ev.target, tooltipCfg);\n    if (tooltipItems.length > 0) {\n      tooltip.setLocation(point);\n      tooltip.update({\n        items: getUniqueItems(tooltipItems),\n        domStyles: {\n          'g2-tooltip': {\n            opacity: 1,\n          },\n        },\n      });\n      tooltip.show();\n    } else if (tooltip.get('visible')) {\n      tooltip.hide();\n    }\n  });\n\n  return tooltip;\n}\n\nfunction getTooltipItems(point, geom, type, dataArray, coord) {\n  const items = [];\n  each(dataArray, (data) => {\n    const items = geom.findItemsFromView(geom.view, point);\n    const subItems = geom.getTooltipItems(point, null);\n    each(subItems, (v) => {\n      // tslint:disable-next-line: no-shadowed-variable\n      let point = v.point;\n      if (!isNil(point) && !isNil(point.x) && !isNil(point.y)) {\n        const x = isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n        const y = isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n        point = coord.applyMatrix(x, y, 1);\n        v.x = point[0];\n        v.y = point[1];\n        v.showMarker = true;\n        const itemMarker = getItemMarker(geom, v.color);\n        v.marker = itemMarker;\n        if (indexOf(TYPE_SHOW_MARKERS, type) !== -1) {\n          items.push(v);\n        }\n      }\n    });\n    items.push(...subItems);\n  });\n  return items;\n}\n\nfunction renderTooltip(layer, canvas) {\n  const tooltipTheme = getGlobalTheme().tooltip;\n  const options = {\n    parent: layer.canvas.get('container'),\n    panelGroup: layer.view.middleGroup,\n    panelRange: layer.view.coodinateBBox,\n    capture: false,\n    canvas,\n    frontgroundGroup: layer.view.frontgroundGroup,\n    theme: tooltipTheme,\n    backgroundGroup: layer.view.backgroundGroup,\n    items: [{ name: 0, value: 0 }],\n    domStyles: {\n      'g2-tooltip': {\n        opacity: 0,\n      },\n    },\n  };\n\n  return new Tooltip.Html(options);\n}\n\nfunction getItemMarker(geom, color) {\n  const shapeType = geom.get('shapeType') || 'point';\n  const shape = geom.getDefaultValue('shape') || 'circle';\n  const shapeObject = getShapeFactory(shapeType);\n  const cfg = { color, isInPolar: false };\n  const marker = shapeObject.getMarker(shape, cfg);\n  return marker;\n}\n\nfunction getUniqueItems(items) {\n  const tmp = [];\n  each(items, (item) => {\n    const index = indexOfArray(tmp, item);\n    if (index === -1) {\n      tmp.push(item);\n    }\n  });\n  return tmp;\n}\n\nfunction indexOfArray(items, item) {\n  let rst = -1;\n  each(items, (sub, index: number) => {\n    let isEqual = true;\n    for (const key in item) {\n      if (has(item, key)) {\n        if (!isObject(item[key]) && item[key] !== sub[key]) {\n          isEqual = false;\n          break;\n        }\n      }\n    }\n    if (isEqual) {\n      rst = index;\n      return false;\n    }\n  });\n  return rst;\n}\n\nfunction adjustItems(items, target, cfg) {\n  if (target.get('origin')) {\n    let data;\n    if (isArray(target.get('origin'))) {\n      data = getDataByTitle(items[0].title, target.get('origin')).data;\n    } else {\n      data = target.get('origin')._origin;\n    }\n    each(items, (item) => {\n      if (item.point._origin !== data) {\n        item.color = '#ccc';\n      }\n    });\n  }\n  if (cfg.sort) {\n    items.sort((a, b) => {\n      return parseFloat(b.value) - parseFloat(a.value);\n    });\n  }\n}\n\nfunction getDataByTitle(title, data) {\n  for (const i in data) {\n    const d = data[i]._origin;\n    const ks = keys(d);\n    for (const j in ks) {\n      const key = ks[j];\n      if (d[key] === title) {\n        return { data: d, key };\n      }\n    }\n  }\n}\n\nfunction getShapeByX(container, x) {\n  const shapes = [];\n  const children = container.get('children');\n  each(children, (c) => {\n    const bbox = c.getBBox();\n    if (bbox.minX < x && bbox.maxX > x) {\n      shapes.push(c);\n    }\n  });\n  return shapes;\n}\n","// Given a dataset, x- and y-accessors, the sum of the y values, and a predict function,\n// return the coefficient of determination, or R squared.\nexport function determination(data, x, y, Y, predict){\n  const n = data.length;\n  \n  let SSE = 0,\n      SST = 0;\n  \n  for (let i = 0; i < n; i++){\n    const d = data[i],\n        dx = x(d),\n        dy = y(d),\n        yComp = predict(dx);\n\n    SSE += Math.pow(dy - yComp, 2);\n    SST += Math.pow(dy - Y / n, 2);\n  }\n\n  return 1 - SSE / SST;\n}","// Returns the angle of a line in degrees.\nexport function angle(line){\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n}\n\n// Returns the midpoint of a line.\nexport function midpoint(line){\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}","import { angle, midpoint } from \"./geometry\";\n\n// Given a start point, an end point, and a prediciton function,\n// returns a smooth line.\nexport function interpose(minX, maxX, predict){\n  const precision = .01, maxIter = 1e4;\n  let points = [px(minX), px(maxX)], iter = 0;\n\n  while (find(points) && iter < maxIter);\n\n  return points;\n  \n  function px(x){\n    return [x, predict(x)];\n  }\n\n  function find(points){\n    iter++;\n    const n = points.length;\n    let found = false;\n    \n    for (let i = 0; i < n - 1; i++){\n      const p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n      \n      if (a > precision){\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n    \n    return found;\n  }\n}","// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nexport function visitPoints(data, x, y, cb){\n  let iterations = 0;\n\n  for (let i = 0, n = data.length; i < n; i++) {\n    const d = data[i],\n          dx = x(d),\n          dy = y(d);\n    \n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n   \n  function exponential(data){\n    let n = 0,\n        Y = 0,\n        X2Y = 0,\n        YLY = 0,\n        XYLY = 0,\n        XY = 0,\n        minX = domain ? +domain[0] : Infinity,\n        maxX = domain ? +domain[1] : -Infinity;\n\n    visitPoints(data, x, y, (dx, dy) => {\n      n++;\n      Y += dy;\n      X2Y += dx * dx * dy;\n      YLY += dy * Math.log(dy)\n      XYLY += dx * dy * Math.log(dy);\n      XY += dx * dy;\n\n      if (!domain){\n        if (dx < minX) minX = dx;\n        if (dx > maxX) maxX = dx;\n      }\n    });\n    \n    const denominator = Y * X2Y - XY * XY,\n        a = Math.exp((X2Y * YLY - XY * XYLY) / denominator),\n        b = (Y * XYLY - XY * YLY) / denominator,\n        fn = x => a * Math.exp(b * x),\n        out = interpose(minX, maxX, fn);\n    \n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    \n    return out;  \n  }\n\n  exponential.domain = function(arr){\n    return arguments.length ? (domain = arr, exponential) : domain;\n  }  \n  \n  exponential.x = function(fn){\n    return arguments.length ? (x = fn, exponential) : x;\n  }\n\n  exponential.y = function(fn){\n    return arguments.length ? (y = fn, exponential) : y;\n  }\n  \n  return exponential;\n}","import { determination } from \"./utils/determination\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function(){\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n\n  function linear(data){\n    let n = 0,\n        X = 0, // sum of x\n        Y = 0, // sum of y\n        XY = 0, // sum of x * y\n        X2 = 0, // sum of x * x\n        minX = domain ? +domain[0] : Infinity,\n        maxX = domain ? +domain[1] : -Infinity;\n\n    visitPoints(data, x, y, (dx, dy) => {\n      ++n;\n      X += dx;\n      Y += dy;\n      XY += dx * dy;\n      X2 += dx * dx;\n      if (!domain){\n        if (dx < minX) minX = dx;\n        if (dx > maxX) maxX = dx;\n      }\n    });\n\n    const slope = (n * XY - X * Y) / (n * X2 - X * X),\n        intercept = (Y - slope * X) / n,\n        fn = x => slope * x + intercept,\n        out = [[minX, fn(minX)], [maxX, fn(maxX)]];\n    \n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n\n    return out;\n  }\n\n  linear.domain = function(arr){\n    return arguments.length ? (domain = arr, linear) : domain;\n  }\n\n  linear.x = function(fn){\n    return arguments.length ? (x = fn, linear) : x;\n  }\n\n  linear.y = function(fn){\n    return arguments.length ? (y = fn, linear) : y;\n  }\n\n  return linear;\n}\n","// Returns the medium value of an array of numbers.\nexport function median(arr){\n  arr.sort((a, b) => a - b);\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}","import {median} from \"./utils/median\";\nimport {sort} from \"./utils/sort\";\n\n// Adapted from science.js by Jason Davies\n// Source: https://github.com/jasondavies/science.js/blob/master/src/stats/loess.js\n// License: https://github.com/jasondavies/science.js/blob/master/LICENSE\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      bandwidth = .3,\n      robustnessIters = 2,\n      accuracy = 1e-12;\n\n  function loess(data) {\n    const n = data.length,\n          bw = Math.max(2, ~~(bandwidth * n)), // # Nearest neighbors\n          xval = [],\n          yval = [],\n          yhat = [],\n          residuals = [],\n          robustWeights = [];\n\n    // Slice before sort to avoid modifying input\n    sort(data = data.slice(), x);\n\n    for (let i = 0, j = 0; i < n; ++i) {\n      const d = data[i],\n            xi = x(d, i, data),\n            yi = y(d, i, data);\n\n      // Filter out points with invalid x or y values\n      if (xi != null && isFinite(xi) && yi != null && isFinite(yi)) {\n        xval[j] = xi;\n        yval[j] = yi;\n        yhat[j] = 0;\n        residuals[j] = 0;\n        robustWeights[j] = 1;\n        ++j;\n      }\n    }\n\n    const m = xval.length; // # LOESS input points\n\n    for (let iter = -1; ++iter <= robustnessIters; ) {\n      const interval = [0, bw - 1];\n\n      for (let i = 0; i < m; ++i) {\n        const dx = xval[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = (dx - xval[i0]) > (xval[i1] - dx) ? i0 : i1;\n\n        let sumWeights = 0, sumX = 0, sumXSquared = 0, sumY = 0, sumXY = 0,\n            denom = 1 / Math.abs(xval[edge] - dx || 1); // Avoid singularity!\n\n        for (let k = i0; k <= i1; ++k) {\n          const xk = xval[k],\n                yk = yval[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n\n          sumWeights += w;\n          sumX += xkw;\n          sumXSquared += xk * xkw;\n          sumY += yk * w;\n          sumXY += yk * xkw;\n        }\n\n        // Linear regression fit\n        const meanX = sumX / sumWeights,\n              meanY = sumY / sumWeights,\n              meanXY = sumXY / sumWeights,\n              meanXSquared = sumXSquared / sumWeights,\n              beta = (Math.sqrt(Math.abs(meanXSquared - meanX * meanX)) < accuracy) ? 0 : ((meanXY - meanX * meanY) / (meanXSquared - meanX * meanX)),\n              alpha = meanY - beta * meanX;\n\n        yhat[i] = beta * dx + alpha;\n        residuals[i] = Math.abs(yval[i] - yhat[i]);\n\n        updateInterval(xval, i + 1, interval);\n      }\n\n      if (iter === robustnessIters) {\n        break;\n      }\n\n      const medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < accuracy) break;\n\n      for (let i = 0, arg, w; i < m; ++i){\n        arg = residuals[i] / (6 * medianResidual);\n        // Default to accuracy epsilon (rather than zero) for large deviations\n        // keeping weights tiny but non-zero prevents singularites\n        robustWeights[i] = (arg >= 1) ? accuracy : ((w = 1 - arg * arg) * w);\n      }\n    }\n\n    return output(xval, yhat);\n  }\n\n  loess.bandwidth = function(bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function(fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function(fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n}\n\n// Weighting kernel for local regression\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n}\n\n// Advance sliding window interval of nearest neighbors\nfunction updateInterval(xval, i, interval) {\n  let val = xval[i],\n      left = interval[0],\n      right = interval[1] + 1;\n\n  if (right >= xval.length) return;\n\n  // Step right if distance to new right edge is <= distance to old left edge.\n  // Step when distance is equal to ensure movement over duplicate x values.\n  while (i > left && (xval[right] - val) <= (val - xval[left])) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n}\n\n// Generate smoothed output points.\n// Average points with repeated x values.\nfunction output(xval, yhat) {\n  const n = xval.length,\n        out = [];\n\n  for (let i=0, cnt=0, prev=[], v; i<n; ++i) {\n    v = xval[i];\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / (++cnt);\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n  return out;\n}","// Sort an array using an accessor.\nexport function sort(arr, fn){\n  return arr.sort((a, b) => fn(a) - fn(b));\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n  \n  function logarithmic(data){\n    let n = 0,\n        XL = 0,\n        XLY = 0,\n        Y = 0,\n        XL2 = 0,\n        minX = domain ? +domain[0] : Infinity,\n        maxX = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      ++n;\n      XL += Math.log(dx);\n      XLY += dy * Math.log(dx);\n      Y += dy;\n      XL2 += Math.pow(Math.log(dx), 2);\n      \n      if (!domain){\n        if (dx < minX) minX = dx;\n        if (dx > maxX) maxX = dx;\n      }\n    });\n    \n    const a = (n * XLY - Y * XL) / (n * XL2 - XL * XL),\n        b = (Y - a * XL) / n,\n        fn = x => a * Math.log(x) + b,\n        out = interpose(minX, maxX, fn);\n        \n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n\n    return out; \n  }\n  \n  logarithmic.domain = function(arr){\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  }\n\n  logarithmic.x = function(fn){\n    return arguments.length ? (x = fn, logarithmic) : x;\n  }\n\n  logarithmic.y = function(fn){\n    return arguments.length ? (y = fn, logarithmic) : y;\n  }\n  \n  return logarithmic;\n}","import {determination} from \"./utils/determination\";\nimport {interpose} from \"./utils/interpose\";\n\nexport default function(){\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n  \n  function quadratic(data){\n    let n = data.length,\n        valid = 0,\n        xSum = 0,\n        ySum = 0,\n        x2Sum = 0,\n        x3Sum = 0,\n        x4Sum = 0,\n        xySum = 0,\n        x2ySum = 0,\n        minX = domain ? +domain[0] : Infinity,\n        maxX = domain ? +domain[1] : -Infinity;\n\n    for (let i = 0; i < n; i++){\n      const d = data[i],\n          dx = x(d, i, data),\n          dy = y(d, i, data),\n          x2Val = Math.pow(dx, 2);\n      \n      // Filter out points with invalid x or y values\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        valid++;\n        xSum += dx;\n        ySum += dy;\n        x2Sum += x2Val;\n        x3Sum += Math.pow(dx, 3);\n        x4Sum += Math.pow(dx, 4);\n        xySum += dx * dy;\n        x2ySum += x2Val * dy;\n        \n        if (!domain){\n          if (dx < minX) minX = dx;\n          if (dx > maxX) maxX = dx;\n        }\n      }\n    }\n\n    // Update n in case there were invalid x or y values\n    n = valid;\n\n    const sumXX = x2Sum - (Math.pow(xSum, 2) / n),\n        sumXY = xySum - (xSum * ySum / n),\n        sumXX2 = x3Sum - (x2Sum * xSum / n),\n        sumX2Y = x2ySum - (x2Sum * ySum / n),\n        sumX2X2 = x4Sum - (Math.pow(x2Sum, 2) / n),\n        a = (sumX2Y * sumXX - sumXY * sumXX2) / (sumXX * sumX2X2 - Math.pow(sumXX2, 2)),\n        b = (sumXY * sumX2X2 - sumX2Y * sumXX2) / (sumXX * sumX2X2 - Math.pow(sumXX2, 2)),\n        c = (ySum / n) - (b * (xSum / n)) - (a * (x2Sum / n)),\n        fn = x => a * Math.pow(x, 2) + b * x + c,\n        out = interpose(minX, maxX, fn);\n\n    out.a = a;\n    out.b = b;\n    out.c = c;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, ySum, fn);\n\n    return out;\n  }\n  \n  quadratic.domain = function(arr){\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  }\n\n  quadratic.x = function(fn){\n    return arguments.length ? (x = fn, quadratic) : x;\n  }\n\n  quadratic.y = function(fn){\n    return arguments.length ? (y = fn, quadratic) : y;\n  }\n  \n  return quadratic;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport linear from \"./linear\";\nimport quad from \"./quadratic\";\n\n// Adapted from regression-js by Tom Alexander\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\nexport default function(){\n  let x = d => d[0],\n      y = d => d[1],\n      order = 3,\n      domain;\n  \n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      const o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a; delete o.b;\n      return o;\n    }\n    if (order === 2) {\n      const o = quad().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.c, o.b, o.a];\n      delete o.a; delete o.b; delete o.c;\n      return o;\n    }\n\n    // First pass through the data\n    let arr = [],\n        ySum = 0,\n        minX = domain ? +domain[0] : Infinity,\n        maxX = domain ? +domain[1] : -Infinity,\n        n = data.length;\n    \n    for (let i = 0; i < n; i++){\n      const d = data[i],\n          dx = x(d, i, data),\n          dy = y(d, i, data);\n      \n      // Filter out points with invalid x or y values\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        arr[i] = [dx, dy];\n        ySum += dy;\n        \n        if (!domain){\n          if (dx < minX) minX = dx;\n          if (dx > maxX) maxX = dx;\n        }\n      }\n    }\n\n    // Update n in case there were invalid x or y values\n    n = arr.length;\n\n    // Calculate the coefficients\n    const lhs = [],\n        rhs = [],\n        k = order + 1;\n    \n    let a = 0,\n        b = 0;\n    \n    for (let i = 0; i < k; i++) { \n      for (let l = 0; l < n; l++) {\n        a += Math.pow(arr[l][0], i) * arr[l][1];\n      }\n\n      lhs.push(a);\n      a = 0;\n\n      const c = [];\n      for (let j = 0; j < k; j++) {\n        for (let l = 0; l < n; l++) {\n          b += Math.pow(arr[l][0], i + j);\n        }\n        c[j] = b;\n        b = 0;\n      }\n      rhs.push(c);\n    }\n    rhs.push(lhs);\n\n    const coefficients = gaussianElimination(rhs, k),\n        fn = x => coefficients.reduce((sum, coeff, power) => sum + (coeff * Math.pow(x, power)), 0),\n        out = interpose(minX, maxX, fn);\n    \n    out.coefficients = coefficients;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, ySum, fn);\n    return out;\n  }\n\n  polynomial.domain = function(arr){\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  }\n\n  polynomial.x = function(fn){\n    return arguments.length ? (x = fn, polynomial) : x;\n  }\n\n  polynomial.y = function(fn){\n    return arguments.length ? (y = fn, polynomial) : y;\n  }\n\n  polynomial.order = function(n){\n    return arguments.length ? (order = n, polynomial) : order;\n  }\n  \n  return polynomial;\n}\n\n// Given an array representing a two-dimensional matrix,\n// and an order parameter representing how many degrees to solve for,\n// determine the solution of a system of linear equations A * x = b using\n// Gaussian elimination.\nfunction gaussianElimination(matrix, order) {\n  const n = matrix.length - 1,\n      coefficients = [order];\n\n  for (let i = 0; i < n; i++) {\n    let maxrow = i;\n    for (let j = i + 1; j < n; j++) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][maxrow])) {\n        maxrow = j;\n      }\n    }\n\n    for (let k = i; k < n + 1; k++) {\n      const tmp = matrix[k][i];\n      matrix[k][i] = matrix[k][maxrow];\n      matrix[k][maxrow] = tmp;\n    }\n\n    for (let j = i + 1; j < n; j++) {\n      for (let k = n; k >= i; k--) {\n        matrix[k][j] -= (matrix[k][i] * matrix[i][j]) / matrix[i][i];\n      }\n    }\n  }\n\n  for (let j = n - 1; j >= 0; j--) {\n    let total = 0;\n    for (let k = j + 1; k < n; k++) {\n      total += matrix[k][j] * coefficients[k];\n    }\n\n    coefficients[j] = (matrix[n][j] - total) / matrix[j][j];\n  }\n\n  return coefficients;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n  \n  function power(data){\n    let n = 0,\n        XL = 0,\n        XLYL = 0,\n        YL = 0,\n        XL2 = 0,\n        Y = 0,\n        minX = domain ? +domain[0] : Infinity,\n        maxX = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      n++;\n      XL += Math.log(dx);\n      XLYL += Math.log(dy) * Math.log(dx);\n      YL += Math.log(dy);\n      XL2 += Math.pow(Math.log(dx), 2);\n      Y += dy;\n\n      if (!domain){\n        if (dx < minX) minX = dx;\n        if (dx > maxX) maxX = dx;\n      }\n    });\n\n    const b = (n * XLYL - XL * YL) / (n * XL2 - Math.pow(XL, 2)),\n        a = Math.exp((YL - b * XL) / n),\n        fn = x => a * Math.pow(x, b),\n        out = interpose(minX, maxX, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n\n    return out; \n  }\n  \n  power.domain = function(arr){\n    return arguments.length ? (domain = arr, power) : domain;\n  }\n\n  power.x = function(fn){\n    return arguments.length ? (x = fn, power) : x;\n  }\n\n  power.y = function(fn){\n    return arguments.length ? (y = fn, power) : y;\n  }\n  \n  return power;\n}","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n"],"sourceRoot":""}