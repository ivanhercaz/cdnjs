!function(r){function d(t){return 4<Math.abs(t)}function i(t,e){var a=t.find("."+l+"-active"),n=e<0,r=a.prevAll().length+1+(n?1:-1),d=t.find("."+f).eq(r-1);return d.length||(d=t.find("."+f)[n?"first":"last"]()),[a,d,r-1]}var l="carousel",s=l+"-active",f=l+"-item";r(document).bind(l+".dragmove",function(t,e){if((!e||d(e.deltaX))&&"slide"===r(t.target).attr("data-transition")){var a=i(r(t.target),e.deltaX);a[0].css("left",e.deltaX+"px"),a[1].css("left",e.deltaX<0?e.w+e.deltaX+"px":-e.w+e.deltaX+"px")}}).bind(l+".dragend",function(t,e){if(!e||d(e.deltaX)){var a=i(r(t.target),e.deltaX),n=45<Math.abs(e.deltaX);"slide"===r(t.target).attr("data-transition")?(r(t.target).one(navigator.userAgent.indexOf("AppleWebKit")?"webkitTransitionEnd":"transitionEnd",function(){a[0].add(a[1]).css("left",""),r(t.target).trigger("goto."+l,a[n?1:0])}),n?(a[0].removeClass(s).css("left",0<e.deltaX?e.w+"px":-e.w+"px"),a[1].addClass(s).css("left",0)):(a[0].css("left",0),a[1].css("left",0<e.deltaX?-e.w+"px":e.w+"px"))):n&&r(t.target)[l](0<e.deltaX?"prev":"next")}})}(jQuery);