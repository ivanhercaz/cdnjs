!function(P,W){var O="snapper",s=O+"_nav_item-selected";W.fn[O]=function(T){var e,L,y=arguments;function C(e){var t=W(e[0].target).closest("."+O),n=t.find("."+O+"_nav");for(i in e){var a=e[i],r=t.find("a[href='#"+a.target.id+"']");a.isIntersecting&&.75<=a.intersectionRatio?(a.target.classList.add(O+"_item-active"),W(a.target).trigger(O+".active"),n.length&&(r[0].classList.add(s),n[0].scrollTo?n[0].scrollTo({left:r[0].offsetLeft,behavior:"smooth"}):n[0].scrollLeft=r[0].offsetLeft)):(a.target.classList.remove(O+"_item-active"),W(a.target).trigger(O+".inactive"),r.length&&r[0].classList.remove(s))}}function w(e){return W(e).find("."+O+"_item-active")}function k(e){if(W(e).closest("[data-snapper-loop], [data-loop]").length){var t=e.scrollWidth,n=e.scrollLeft,a=W(e).find("."+O+"_items"),r=a.children(),i=e.offsetWidth;if(n<i){var s=(o=r.last()).width();a.prepend(o),e.scrollLeft=n+s}else if(t-n-i<=0){var o;s=(o=r.first()).width();a.append(o),e.scrollLeft=n-s}}}function D(e){if(!e.closest("[data-snapper-loop], [data-loop]").length){var t=e.find(".snapper_pane"),n=e.find(".snapper_nextprev_next"),a=e.find(".snapper_nextprev_prev"),r=t[0].scrollLeft,i=t[0].scrollWidth,s=t.width(),o=s===i;i-s-3<=r||o?n.addClass("snapper_nextprev-disabled").attr("tabindex",-1):n.removeClass("snapper_nextprev-disabled").attr("tabindex",0),3<r&&!o?a.removeClass("snapper_nextprev-disabled").attr("tabindex",0):a.addClass("snapper_nextprev-disabled").attr("tabindex",-1),o?e.addClass("snapper-hide-nav"):e.removeClass("snapper-hide-nav")}}function I(e,t,n){e.scrollTo?e.scrollTo({left:t,behavior:"smooth"}):e.scrollLeft=t;var a=w(e);W(e).trigger(O+".after-goto",{activeSlides:a[0]}),n&&n()}return e=this.each(function(){if(void 0===L){var n,a=this,t=W(a),e=t.is("[data-"+O+"-nextprev]"),r=W("."+O+"_pane",a);r.attr("tabindex","0");var i=r.find("."+O+"_items");i.children().each(function(){void 0===W(this).attr("id")&&W(this).attr("id",(new Date).getTime())});var s=i.children();s.addClass(O+"_item");var o=s.length;if("string"!=typeof T){if(!t.attr("data-"+O+"-enhanced")){var l,p,d,c,f;if(l=r[0],p=new IntersectionObserver(C,{root:l,threshold:.75}),W(l).find("."+O+"_item").each(function(){p.observe(this)}),p.takeRecords(),e){var v=W('<ul class="snapper_nextprev"><li class="snapper_nextprev_item"><a href="#prev" class="snapper_nextprev_prev">Prev</a></li><li class="snapper_nextprev_item"><a href="#next" class="snapper_nextprev_next">Next</a></li></ul>'),u=W(".snapper_nextprev_contain",a);u.length||(u=W(a)),v.appendTo(u)}W("a",this).bind("click",function(e){clearTimeout(n);var t=W(this).attr("href");return W(this).is(".snapper_nextprev_next")?(e.preventDefault(),x(!0)):W(this).is(".snapper_nextprev_prev")?(e.preventDefault(),x(!1)):void(0===t.indexOf("#")&&1<t.length&&(e.preventDefault(),m(t)))}),W(this).bind("keydown",function(e){37!==e.keyCode&&38!==e.keyCode||(clearTimeout(n),e.preventDefault(),e.stopImmediatePropagation(),x(!1)),39!==e.keyCode&&40!==e.keyCode||(clearTimeout(n),e.preventDefault(),e.stopImmediatePropagation(),x(!0))}),W(P).bind("resize",function(){clearTimeout(d),c=c||w(r).first(),d=setTimeout(function(){m(c.attr("id")),c=null,D(t)},300)}),r.bind("pointerdown click mouseenter focus",function(){clearTimeout(n)}),r.bind("scroll",function(){window.clearTimeout(f),f=setTimeout(function(){k(r[0]),D(t)},66)}),k(r[0]),D(t),function t(e){e&&(n=setTimeout(function(){var e=b();e&&(x(!0),t(e))},e))}(b()),t.attr("data-"+O+"-enhanced",!0)}}else{var h,_=Array.prototype.slice.call(y,1);switch(T){case"goto":h=_[0]%o;var g=i.children().eq(h)[0].offsetLeft;I(r[0],g,function(){"function"==typeof _[1]&&_[1]()});break;case"getIndex":L=w(r).index()}}}function m(e,t){var n=W(e,a);n.length&&I(r[0],n[0].offsetLeft,function(){t&&t()})}function x(e){var t,n;e?(n=w(r).first().next()).length&&m("#"+n.attr("id"),function(){r.trigger(O+".after-next")}):(t=w(r).first().prev()).length&&m("#"+t.attr("id"),function(){r.trigger(O+".after-prev")})}function b(){var e=w(r).last().attr("data-snapper-autoplay")||t.attr("data-snapper-autoplay");return e=e&&(parseInt(e,10)||5e3)}}),void 0!==L?L:e}}(this,jQuery);