!function(I,W){var O="snapper",s=O+"_nav_item-selected";W.fn[O]=function(b){var e,L,T=arguments;function w(e){var t=W(e[0].target).closest("."+O),n=t.find("."+O+"_nav");for(i in e){var r=e[i],a=t.find("a[href='#"+r.target.id+"']");r.isIntersecting&&.75<=r.intersectionRatio?(r.target.classList.add(O+"_item-active"),W(r.target).trigger(O+".active"),n.length&&(a[0].classList.add(s),n[0].scrollTo?n[0].scrollTo({left:a[0].offsetLeft,behavior:"smooth"}):n[0].scrollLeft=a[0].offsetLeft)):(r.target.classList.remove(O+"_item-active"),W(r.target).trigger(O+".inactive"),a.length&&a[0].classList.remove(s))}}function y(e){return W(e).find("."+O+"_item-active")}function C(e){if(W(e).closest("[data-snapper-loop], [data-loop]").length){var t=e.scrollWidth,n=e.scrollLeft,r=W(e).find("."+O+"_items"),a=r.children(),i=e.offsetWidth;if(n<i){var s=(o=a.last()).width();r.prepend(o),e.scrollLeft=n+s}else if(t-n-i<=0){var o;s=(o=a.first()).width();r.append(o),e.scrollLeft=n-s}}}function k(e){if(!e.closest("[data-snapper-loop], [data-loop]").length){var t=e.find(".snapper_pane"),n=e.find(".snapper_nextprev_next"),r=e.find(".snapper_nextprev_prev"),a=t[0].scrollLeft,i=t[0].scrollWidth,s=t.width(),o=s===i;i-s-3<=a||o?n.addClass("snapper_nextprev-disabled").attr("tabindex",-1):n.removeClass("snapper_nextprev-disabled").attr("tabindex",0),3<a&&!o?r.removeClass("snapper_nextprev-disabled").attr("tabindex",0):r.addClass("snapper_nextprev-disabled").attr("tabindex",-1),o?e.addClass("snapper-hide-nav"):e.removeClass("snapper-hide-nav")}}function D(e,t,n){e.scrollTo?e.scrollTo({left:t,behavior:"smooth"}):e.scrollLeft=t;var r=y(e);W(e).trigger(O+".after-goto",{activeSlides:r[0]}),n&&n()}return e=this.each(function(){if(void 0===L){var n,r=this,t=W(r),e=t.is("[data-"+O+"-nextprev]"),a=W("."+O+"_pane",r),i=a.find("."+O+"_items"),s=i.children();s.addClass(O+"_item");var o=s.length;W("."+O+"_nav",r);if("string"!=typeof b){if(!t.attr("data-"+O+"-enhanced")){var l,p,c,f;if(a.find("."+O+"_items").children().each(function(){void 0===W(this).attr("id")&&W(this).attr("id",(new Date).getTime())}),l=a[0],p=new IntersectionObserver(w,{root:l,threshold:.75}),W(l).find("."+O+"_item").each(function(){p.observe(this)}),p.takeRecords(),e){var d=W('<ul class="snapper_nextprev"><li class="snapper_nextprev_item"><a href="#prev" class="snapper_nextprev_prev">Prev</a></li><li class="snapper_nextprev_item"><a href="#next" class="snapper_nextprev_next">Next</a></li></ul>'),v=W(".snapper_nextprev_contain",r);v.length||(v=W(r)),d.appendTo(v)}W("a",this).bind("click",function(e){clearTimeout(n);var t=W(this).attr("href");return W(this).is(".snapper_nextprev_next")?(e.preventDefault(),x(!0)):W(this).is(".snapper_nextprev_prev")?(e.preventDefault(),x(!1)):void(0===t.indexOf("#")&&1<t.length&&(e.preventDefault(),g(t)))}),W(I).bind("resize",function(){clearTimeout(c),c=setTimeout(function(){a[0].scrollBy(1,0),k(t)},100)}),a.bind("pointerdown click mouseenter focus",function(){clearTimeout(n)}),a.bind("scroll",function(){window.clearTimeout(f),f=setTimeout(function(){C(a[0]),k(t)},66)}),C(a[0]),k(t),function t(e){e&&(n=setTimeout(function(){var e=m();e&&(x(!0),t(e))},e))}(m()),t.attr("data-"+O+"-enhanced",!0)}}else{var h,u=Array.prototype.slice.call(T,1);switch(b){case"goto":h=u[0]%o;var _=i.children().eq(h)[0].offsetLeft;D(a[0],_,function(){"function"==typeof u[1]&&u[1]()});break;case"getIndex":L=y(a).index()}}}function g(e,t){var n=W(e,r);n.length&&D(a[0],n[0].offsetLeft,function(){t&&t()})}function x(e){var t,n;e?(n=y(a).first().next()).length&&g("#"+n.attr("id"),function(){a.trigger(O+".after-next")}):(t=y(a).first().prev()).length&&g("#"+t.attr("id"),function(){a.trigger(O+".after-prev")})}function m(){var e=y(a).last().attr("data-snapper-autoplay")||t.attr("data-snapper-autoplay");return e=e&&(parseInt(e,10)||5e3)}}),void 0!==L?L:e}}(this,jQuery);