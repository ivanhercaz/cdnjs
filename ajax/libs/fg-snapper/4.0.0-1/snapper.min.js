!function(I,P){var W="snapper",s=W+"_nav_item-selected";P.fn[W]=function(b){var e,T,L=arguments;function y(e){var t=P(e[0].target).closest("."+W),n=t.find("."+W+"_nav");for(i in e){var a=e[i],r=t.find("a[href='#"+a.target.id+"']");a.isIntersecting&&.75<=a.intersectionRatio?(a.target.classList.add(W+"_item-active"),P(a.target).trigger(W+".active"),n.length&&(r[0].classList.add(s),n[0].scrollTo?n[0].scrollTo({left:r[0].offsetLeft,behavior:"smooth"}):n[0].scrollLeft=r[0].offsetLeft)):(a.target.classList.remove(W+"_item-active"),P(a.target).trigger(W+".inactive"),r.length&&r[0].classList.remove(s))}}function C(e){return P(e).find("."+W+"_item-active")}function w(e){if(P(e).closest("[data-snapper-loop], [data-loop]").length){var t=e.scrollWidth,n=e.scrollLeft,a=P(e).find("."+W+"_items"),r=a.children(),i=e.offsetWidth;if(n<i){var s=(o=r.last()).width();a.prepend(o),e.scrollLeft=n+s}else if(t-n-i<=0){var o;s=(o=r.first()).width();a.append(o),e.scrollLeft=n-s}}}function k(e){if(!e.closest("[data-snapper-loop], [data-loop]").length){var t=e.find(".snapper_pane"),n=e.find(".snapper_nextprev_next"),a=e.find(".snapper_nextprev_prev"),r=t[0].scrollLeft,i=t[0].scrollWidth,s=t.width(),o=s===i;i-s-3<=r||o?n.addClass("snapper_nextprev-disabled").attr("tabindex",-1):n.removeClass("snapper_nextprev-disabled").attr("tabindex",0),3<r&&!o?a.removeClass("snapper_nextprev-disabled").attr("tabindex",0):a.addClass("snapper_nextprev-disabled").attr("tabindex",-1),o?e.addClass("snapper-hide-nav"):e.removeClass("snapper-hide-nav")}}function D(e,t,n){e.scrollTo?e.scrollTo({left:t,behavior:"smooth"}):e.scrollLeft=t;var a=C(e);P(e).trigger(W+".after-goto",{activeSlides:a[0]}),n&&n()}return e=this.each(function(){if(void 0===T){var n,a=this,t=P(a),e=t.is("[data-"+W+"-nextprev]"),r=P("."+W+"_pane",a);r.attr("tabindex","0");var i=r.find("."+W+"_items");i.children().each(function(){void 0===P(this).attr("id")&&P(this).attr("id",(new Date).getTime())});var s=i.children();s.addClass(W+"_item");var o=s.length;if("string"!=typeof b){if(!t.attr("data-"+W+"-enhanced")){var l,p,c,d;if(l=r[0],p=new IntersectionObserver(y,{root:l,threshold:.75}),P(l).find("."+W+"_item").each(function(){p.observe(this)}),p.takeRecords(),e){var f=P('<ul class="snapper_nextprev"><li class="snapper_nextprev_item"><a href="#prev" class="snapper_nextprev_prev">Prev</a></li><li class="snapper_nextprev_item"><a href="#next" class="snapper_nextprev_next">Next</a></li></ul>'),v=P(".snapper_nextprev_contain",a);v.length||(v=P(a)),f.appendTo(v)}P("a",this).bind("click",function(e){clearTimeout(n);var t=P(this).attr("href");return P(this).is(".snapper_nextprev_next")?(e.preventDefault(),m(!0)):P(this).is(".snapper_nextprev_prev")?(e.preventDefault(),m(!1)):void(0===t.indexOf("#")&&1<t.length&&(e.preventDefault(),g(t)))}),P(this).bind("keydown",function(e){37!==e.keyCode&&38!==e.keyCode||(clearTimeout(n),e.preventDefault(),e.stopImmediatePropagation(),m(!1)),39!==e.keyCode&&40!==e.keyCode||(clearTimeout(n),e.preventDefault(),e.stopImmediatePropagation(),m(!0))}),P(I).bind("resize",function(){clearTimeout(c),c=setTimeout(function(){r[0].scrollBy(1,0),k(t)},100)}),r.bind("pointerdown click mouseenter focus",function(){clearTimeout(n)}),r.bind("scroll",function(){window.clearTimeout(d),d=setTimeout(function(){w(r[0]),k(t)},66)}),w(r[0]),k(t),function t(e){e&&(n=setTimeout(function(){var e=x();e&&(m(!0),t(e))},e))}(x()),t.attr("data-"+W+"-enhanced",!0)}}else{var u,h=Array.prototype.slice.call(L,1);switch(b){case"goto":u=h[0]%o;var _=i.children().eq(u)[0].offsetLeft;D(r[0],_,function(){"function"==typeof h[1]&&h[1]()});break;case"getIndex":T=C(r).index()}}}function g(e,t){var n=P(e,a);n.length&&D(r[0],n[0].offsetLeft,function(){t&&t()})}function m(e){var t,n;e?(n=C(r).first().next()).length&&g("#"+n.attr("id"),function(){r.trigger(W+".after-next")}):(t=C(r).first().prev()).length&&g("#"+t.attr("id"),function(){r.trigger(W+".after-prev")})}function x(){var e=C(r).last().attr("data-snapper-autoplay")||t.attr("data-snapper-autoplay");return e=e&&(parseInt(e,10)||5e3)}}),void 0!==T?T:e}}(this,jQuery);