!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactMarkdownEditorLite=e(require("react")):t.ReactMarkdownEditorLite=e(t.React)}(window,function(n){return i={},r.m=o=[function(t,e){t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);n(11),e.default=function(t){return o.createElement("i",{className:"rmel-iconfont rmel-icon-"+t.type})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),r=n(17),i=n(18),a=(l.prototype.setUp=function(){var t,e,n;"undefined"!=typeof window&&(e="enUS",navigator.language&&(e=(t=navigator.language.split("-"))[0],1!==t.length&&(e+=t[t.length-1].toUpperCase())),navigator.browserLanguage&&(e=(n=navigator.browserLanguage.split("-"))[0],n[1]&&(e+=n[1].toUpperCase())),this.current!==e&&this.isAvaliable(e)&&(this.current=e,o.default.emit(o.default.EVENT_LANG_CHANGE,this,e,this.langs[e])))},l.prototype.isAvaliable=function(t){return void 0!==this.langs[t]},l.prototype.add=function(t,e){this.langs[t]=e},l.prototype.setCurrent=function(t){if(!this.isAvaliable(t))throw new Error("Language "+t+" is not exists");this.current!==t&&(this.current=t,o.default.emit(o.default.EVENT_LANG_CHANGE,this,t,this.langs[t]))},l.prototype.get=function(t,e){var n=this.langs[this.current][t]||"";return e&&Object.keys(e).forEach(function(t){n=n.replace(new RegExp("\\{"+t+"\\}","g"),e[t])}),n},l.prototype.getCurrent=function(){return this.current},new l);function l(){this.langs={enUS:r.default,zhCN:i.default},this.current="enUS",this.setUp()}e.default=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=(i=n(0).Component,r(l,i),Object.defineProperty(l.prototype,"editor",{get:function(){return this.props.editor},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"editorConfig",{get:function(){return this.props.editorConfig},enumerable:!0,configurable:!0}),l.prototype.getConfig=function(t,e){return void 0!==this.props.config[t]&&null!==this.props.config[t]?this.props.config[t]:e},l.pluginName="",l.align="left",l.defaultConfig={},l);function l(t){return i.call(this,t)||this}e.PluginComponent=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=function t(e){if(!e||"object"!=typeof e)return e;var n=Array.isArray(e)?[]:{};if(e&&"object"==typeof e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(e[o]&&"object"==typeof e[o]?n[o]=t(e[o]):n[o]=e[o]);return n},e.isEmpty=function(t){return null==t||""===t},e.isPromise=function(t){return t&&(t instanceof Promise||("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then)},e.repeat=function(t,e){for(var n="",o=e;o--;)n+=t;return n},e.isKeyMatch=function(t,e,n,o){if(o&&0<o.length)for(var r=0,i=o;r<i.length;r++){var a=i[r];if(void 0!==t[a]&&!t[a])return!1}else if(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return!1;return t.key?t.key===n:t.keyCode===e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});for(var o=n(4),r={bold:["**","**"],italic:["*","*"],underline:["++","++"],strikethrough:["~~","~~"],quote:["\n> ","\n"],inlinecode:["`","`"],code:["\n```\n","\n```\n"]},i=1;i<=6;i++)r["h"+i]=["\n"+o.repeat("#",i)+" ","\n"];function a(t,e){var n=e;if(0!==n.indexOf("\n")&&(n="\n"+n),"unordered"===t)return n.replace(/\n/g,"\n* ")+"\n";var o=1;return n.replace(/\n/g,function(){return"\n"+o+++". "})+"\n"}e.default=function(t,e,n){if(void 0!==r[e])return{text:""+r[e][0]+t+r[e][1],selection:{start:r[e][0].length,end:r[e][0].length+t.length}};switch(e){case"unordered":return{text:a("unordered",t)};case"order":return{text:a("order",t)};case"hr":return{text:"\n---\n"};case"table":return{text:function(t){for(var e=t.row,n=void 0===e?2:e,o=t.col,r=void 0===o?2:o,i=["|"],a=["|"],l=["|"],s="",u=1;u<=r;u++)i.push(" Head |"),l.push(" --- |"),a.push(" Data |");for(var c=1;c<=n;c++)s+="\n"+a.join("");return"\n"+i.join("")+"\n"+l.join("")+s+"\n"}(n)};case"image":return{text:"!["+(t||n.target)+"]("+(n.imageUrl||"")+")",selection:{start:2,end:t.length+2}};case"link":return{text:"["+t+"]("+(n.linkUrl||"")+")",selection:{start:1,end:t.length+1}}}return{text:t,selection:{start:0,end:t.length}}}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);n(31);var a,l=(a=i.Component,r(s,a),s.prototype.handleClose=function(t){t.stopPropagation();var e=this.props.onClose;"function"==typeof e&&e()},s.prototype.render=function(){return i.createElement("div",{className:"drop-wrap "+(this.props.show?"show":"hidden"),onClick:this.handleClose},this.props.children)},s);function s(t){var e=a.call(this,t)||this;return e.handleClose=e.handleClose.bind(e),e}e.default=l},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=(i=n(16).EventEmitter,r(l,i),new l);function l(){var t=null!==i&&i.apply(this,arguments)||this;return t.EVENT_CHANGE="a1",t.EVENT_FULL_SCREEN="a2",t.EVENT_VIEW_CHANGE="a3",t.EVENT_KEY_DOWN="a4",t.EVENT_LANG_CHANGE="b1",t}e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),a=n(5),l=n(4);e.default=function(o,r){return{placeholder:a.default("","image",{target:"Uploading_"+i(),imageUrl:""}).text,uploaded:new Promise(function(e){function t(t){e(a.default("","image",{target:o.name,imageUrl:t}).text)}var n=r(o,t);l.isPromise(n)&&n.then(t)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),r=n(27),i=n(28),a=n(29),l=n(30),s=n(34),u=n(36),c=n(37),d=n(39),p=n(40),f=n(43);o.default.use(l.default),o.default.use(i.default),o.default.use(p.default),o.default.use(s.default),o.default.use(u.default),o.default.use(r.default),o.default.use(c.default),o.default.use(d.default),o.default.use(a.default);var h=n(3);e.PluginComponent=h.PluginComponent;var y=n(5);e.getDecorated=y.default;var g=n(6);e.DropList=g.default,e.Plugins={Header:l.default,Fonts:i.default,Table:p.default,Image:s.default,Link:u.default,Clear:r.default,Logger:c.default,ModeToggle:d.default,FullScreen:a.default,AutoResize:f.default},e.default=o.default},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var o=Array(t),r=0,e=0;e<n;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,r++)o[r]=i[a];return o};Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),s=n(1),u=n(12),c=n(14),d=n(2),p=n(7),f=n(19),h=n(5),y=n(20),g=n(4),m=n(8),v=n(24);n(25);var b,_=n(26),w=(b=l.Component,r(C,b),C.use=function(t,e){void 0===e&&(e={}),C.plugins.push({comp:t,config:e})},C.prototype.componentDidMount=function(){this.renderHTML(this.props.value||""),p.default.on(p.default.EVENT_LANG_CHANGE,this.handleLocaleUpdate),d.default.setUp()},C.prototype.componentWillUnmount=function(){p.default.off(p.default.EVENT_LANG_CHANGE,this.handleLocaleUpdate)},C.prototype.componentDidUpdate=function(t){var e;t.value!==this.props.value&&this.props.value!==this.state.text&&("string"!=typeof(e=this.props.value)&&(e=String(e).toString()),e=e.replace(/\u21b5/g,"\n"),this.setState({text:e}),this.renderHTML(e)),t.plugins!==this.props.plugins&&this.setState({plugins:this.getPlugins()})},C.prototype.getPlugins=function(){var e=this,t=[],t=this.props.plugins?this.props.plugins.map(function(t){for(var e=0,n=C.plugins;e<n.length;e++){var o=n[e];if(o.comp.pluginName===t)return o}}).filter(function(t){return!!t}):a(C.plugins),n={};return t.forEach(function(t){void 0===n[t.comp.align]&&(n[t.comp.align]=[]),n[t.comp.align].push(l.createElement(t.comp,{editor:e,editorConfig:e.config,config:i(i({},t.comp.defaultConfig||{}),t.config||{}),key:t.comp.pluginName}))}),n},C.prototype.handleSyncScroll=function(t){var e,n=this;t!==this.shouldSyncScroll||(void 0===(e=this.config.syncScrollMode)?[]:e).includes("input"===t?"rightFollowLeft":"leftFollowRight")&&(this.hasContentChanged&&this.nodeMdText.current&&this.nodeMdPreview.current&&(this.scrollScale=this.nodeMdText.current.scrollHeight/this.nodeMdPreview.current.getHeight(),this.hasContentChanged=!1),this.isSyncingScroll||(this.isSyncingScroll=!0,requestAnimationFrame(function(){n.nodeMdText.current&&n.nodeMdPreviewWraper.current&&("input"===t?n.nodeMdPreviewWraper.current.scrollTop=n.nodeMdText.current.scrollTop/n.scrollScale:n.nodeMdText.current.scrollTop=n.nodeMdPreviewWraper.current.scrollTop*n.scrollScale),n.isSyncingScroll=!1})))},C.prototype.renderHTML=function(t){var e=this;if(!this.props.renderHTML)return Promise.resolve();var n=this.props.renderHTML(t);return g.isPromise(n)?n.then(function(t){return e.setHtml(t)}):"function"==typeof n?this.setHtml(n()):this.setHtml(n)},C.prototype.setHtml=function(e){var n=this;return new Promise(function(t){n.setState({html:e},t)})},C.prototype.handleToggleMenu=function(){this.setView({menu:!this.state.view.menu})},C.prototype.handleChange=function(t){t.persist();var e=t.target.value;this.hasContentChanged||(this.hasContentChanged=!0),this.setText(e,t)},C.prototype.handlePaste=function(t){var e;this.config.allowPasteImage&&this.config.onImageUpload&&(e=(t.nativeEvent.clipboardData||window.clipboardData).items)&&(t.preventDefault(),this.uploadWithDataTransfer(e))},C.prototype.handleDrop=function(t){var e,n;this.config.onImageUpload&&(!(e=t.nativeEvent).dataTransfer||(n=e.dataTransfer.items)&&(t.preventDefault(),this.uploadWithDataTransfer(n)))},C.prototype.handleLocaleUpdate=function(){this.forceUpdate()},C.prototype.getMdElement=function(){return this.nodeMdText.current},C.prototype.getHtmlElement=function(){return this.nodeMdPreviewWraper.current},C.prototype.clearSelection=function(){this.nodeMdText.current&&this.nodeMdText.current.setSelectionRange(0,0,"none")},C.prototype.getSelection=function(){var t=this.nodeMdText.current;if(!t)return i({},f.initialSelection);var e=t.selectionStart,n=t.selectionEnd;return{start:e,end:n,text:(t.value||"").slice(e,n)}},C.prototype.setSelection=function(t){this.nodeMdText.current&&(this.nodeMdText.current.setSelectionRange(t.start,t.end,"forward"),this.nodeMdText.current.focus())},C.prototype.insertMarkdown=function(t,e){void 0===e&&(e={});var n=this.getSelection(),o=e?i({},e):{};"image"===t&&(o=i(i({},o),{target:e.target||n.text||"",imageUrl:e.imageUrl||this.config.imageUrl})),"link"===t&&(o=i(i({},o),{linkUrl:this.config.linkUrl}));var r=h.default(n.text,t,o);this.insertText(r.text,!0,r.selection)},C.prototype.insertPlaceholder=function(n,t){var o=this;this.insertText(n,!0),t.then(function(t){var e=o.getMdValue().replace(n,t);o.setText(e)})},C.prototype.insertText=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=!1);var o=this.state.text,r=void 0===o?"":o,i=this.getSelection(),a=r.slice(0,i.start),l=r.slice(e?i.end:i.start,r.length);this.setText(a+t+l,void 0,n?{start:n.start+a.length,end:n.end+a.length}:{start:a.length,end:a.length})},C.prototype.setText=function(t,e,n){var o=this;void 0===t&&(t="");var r=t.replace(/\u21b5/g,"\n");this.state.text!==t&&(this.setState({text:t},function(){p.default.emit(p.default.EVENT_CHANGE,t,e,void 0===e),n&&setTimeout(function(){return o.setSelection(n)})}),this.renderHTML(r).then(function(){o.props.onChange&&o.props.onChange({text:r,html:o.getHtmlValue()},e)}))},C.prototype.getMdValue=function(){return this.state.text},C.prototype.getHtmlValue=function(){return"string"==typeof this.state.html?this.state.html:this.nodeMdPreview.current?this.nodeMdPreview.current.getHtml():""},C.prototype.onKeyboard=function(t){this.keyboardListeners.includes(t)||this.keyboardListeners.push(t)},C.prototype.offKeyboard=function(t){var e=this.keyboardListeners.indexOf(t);0<=e&&this.keyboardListeners.splice(e,1)},C.prototype.handleKeyDown=function(t){for(var e=0,n=this.keyboardListeners;e<n.length;e++){var o=n[e];if(g.isKeyMatch(t,o.keyCode,o.key,o.withKey))return t.preventDefault(),void o.callback(t)}p.default.emit(p.default.EVENT_KEY_DOWN,t)},C.prototype.getEventType=function(t){switch(t){case"change":return p.default.EVENT_CHANGE;case"fullscreen":return p.default.EVENT_FULL_SCREEN;case"viewchange":return p.default.EVENT_VIEW_CHANGE;case"keydown":return p.default.EVENT_KEY_DOWN}},C.prototype.on=function(t,e){var n=this.getEventType(t);n&&p.default.on(n,e)},C.prototype.off=function(t,e){var n=this.getEventType(t);n&&p.default.off(n,e)},C.prototype.setView=function(t){var e=i(i({},this.state.view),t);this.setState({view:e},function(){p.default.emit(p.default.EVENT_VIEW_CHANGE,e)})},C.prototype.getView=function(){return i({},this.state.view)},C.prototype.fullScreen=function(t){this.state.fullScreen!==t&&this.setState({fullScreen:t},function(){p.default.emit(p.default.EVENT_FULL_SCREEN,t)})},C.prototype.isFullScreen=function(){return this.state.fullScreen},C.prototype.uploadWithDataTransfer=function(t){var n,i=this,o=this.config.onImageUpload;o&&(n=[],Array.prototype.forEach.call(t,function(e){var t,r;"file"===e.kind&&e.type.includes("image")?(t=e.getAsFile())&&(r=m.default(t,o),n.push(Promise.resolve(r.placeholder)),r.uploaded.then(function(t){var e=i.getMdValue().replace(r.placeholder,t),n=t.length-r.placeholder.length,o=i.getSelection();i.setText(e,void 0,{start:o.start+n,end:o.start+n})})):"string"===e.kind&&"text/plain"===e.type&&n.push(new Promise(function(t){return e.getAsString(t)}))}),Promise.all(n).then(function(t){var e=t.join(""),n=i.getSelection();i.insertText(e,!0,{start:n.start===n.end?e.length:0,end:e.length})}))},C.prototype.render=function(){function t(t){return e.state.plugins[t]||[]}var e=this,n=this.config.canView&&!0===this.config.canView.hideMenu,o=this.state,r=o.view,i=o.fullScreen,a=!!r.menu;return l.createElement("div",{className:"rc-md-editor "+(i?"full":""),style:this.props.style,onKeyDown:this.handleKeyDown,onDrop:this.handleDrop},l.createElement(u.default,{visible:a,left:t("left"),right:t("right")}),l.createElement("div",{className:"editor-container"},n&&l.createElement(c.default,null,l.createElement("span",{className:"button button-type-menu",title:a?"hidden menu":"show menu",onClick:this.handleToggleMenu},l.createElement(s.default,{type:"expand-"+(a?"less":"more")}))),l.createElement("section",{className:"section sec-md "+(r.md?"visible":"in-visible")},l.createElement("textarea",{id:"textarea",ref:this.nodeMdText,name:this.props.name||"textarea",placeholder:this.props.placeholder,value:this.state.text,className:"section-container input "+(this.config.markdownClass||""),wrap:"hard",onChange:this.handleChange,onScroll:this.handleInputScroll,onMouseOver:function(){return e.shouldSyncScroll="input"},onPaste:this.handlePaste})),l.createElement("section",{className:"section sec-html "+(r.html?"visible":"in-visible")},l.createElement("div",{className:"section-container html-wrap",ref:this.nodeMdPreviewWraper,onMouseOver:function(){return e.shouldSyncScroll="preview"},onScroll:this.handlePreviewScroll},l.createElement(_.HtmlRender,{html:this.state.html,className:this.config.htmlClass,ref:this.nodeMdPreview})))))},C.defaultProps={value:""},C.plugins=[],C.addLocale=d.default.add.bind(d.default),C.useLocale=d.default.setCurrent.bind(d.default),C.getLocale=d.default.getCurrent.bind(d.default),C);function C(t){var e=b.call(this,t)||this;return e.nodeMdText=l.createRef(),e.nodeMdPreview=l.createRef(),e.nodeMdPreviewWraper=l.createRef(),e.hasContentChanged=!0,e.scrollScale=1,e.isSyncingScroll=!1,e.shouldSyncScroll="input",e.keyboardListeners=[],e.config=y.default(v.default,e.props.config,e.props),e.state={text:(e.props.value||"").replace(/\u21b5/g,"\n"),html:"",view:e.config.view||v.default.view,fullScreen:!1,table:e.config.table||v.default.table,plugins:e.getPlugins()},e.nodeMdText=l.createRef(),e.nodeMdPreviewWraper=l.createRef(),e.handleChange=e.handleChange.bind(e),e.handlePaste=e.handlePaste.bind(e),e.handleDrop=e.handleDrop.bind(e),e.handleToggleMenu=e.handleToggleMenu.bind(e),e.handleKeyDown=e.handleKeyDown.bind(e),e.handleLocaleUpdate=e.handleLocaleUpdate.bind(e),e.handleInputScroll=e.handleSyncScroll.bind(e,"input"),e.handlePreviewScroll=e.handleSyncScroll.bind(e,"preview"),e}e.default=w},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);n(13),e.default=function(t){return o.createElement("div",{className:"rc-md-navigation "+(t.visible?"visible":"in-visible")},o.createElement("div",{className:"navigation-nav left"},o.createElement("div",{className:"button-wrap"},t.left)),o.createElement("div",{className:"navigation-nav right"},o.createElement("div",{className:"button-wrap"},t.right)))}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);n(15),e.default=function(t){return o.createElement("div",{className:"tool-bar",style:t.style},t.children)}},function(t,e,n){},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty,f="~";function r(){}function l(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,n,o,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new l(n,o||t,r),a=f?f+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],i]:t._events[a].push(i):(t._events[a]=i,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(f=!1)),a.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)o.call(t,e)&&n.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=f?f+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,i=new Array(r);o<r;o++)i[o]=n[o].fn;return i},a.prototype.listenerCount=function(t){var e=f?f+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,o,r,i){var a=f?f+t:t;if(!this._events[a])return!1;var l,s=this._events[a],u=arguments.length;if(s.fn){switch(s.once&&this.removeListener(t,s.fn,void 0,!0),u){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,e),!0;case 3:return s.fn.call(s.context,e,n),!0;case 4:return s.fn.call(s.context,e,n,o),!0;case 5:return s.fn.call(s.context,e,n,o,r),!0;case 6:return s.fn.call(s.context,e,n,o,r,i),!0}for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];s.fn.apply(s.context,l)}else for(var c,d=s.length,p=0;p<d;p++)switch(s[p].once&&this.removeListener(t,s[p].fn,void 0,!0),u){case 1:s[p].fn.call(s[p].context);break;case 2:s[p].fn.call(s[p].context,e);break;case 3:s[p].fn.call(s[p].context,e,n);break;case 4:s[p].fn.call(s[p].context,e,n,o);break;default:if(!l)for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];s[p].fn.apply(s[p].context,l)}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,n,o){var r=f?f+t:t;if(!this._events[r])return this;if(!e)return u(this,r),this;var i=this._events[r];if(i.fn)i.fn!==e||o&&!i.once||n&&i.context!==n||u(this,r);else{for(var a=0,l=[],s=i.length;a<s;a++)(i[a].fn!==e||o&&!i[a].once||n&&i[a].context!==n)&&l.push(i[a]);l.length?this._events[r]=1===l.length?l[0]:l:u(this,r)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=f?f+t:t,this._events[e]&&u(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=f,a.EventEmitter=a,t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={clearTip:"Are you sure you want to clear all contents?",btnHeader:"Header",btnClear:"Clear",btnBold:"Bold",btnItalic:"Italic",btnUnderline:"Underline",btnStrikethrough:"Strikethrough",btnUnordered:"Unordered list",btnOrdered:"Ordered list",btnQuote:"Quote",btnLineBreak:"Line break",btnInlineCode:"Inline code",btnCode:"Code",btnTable:"Table",btnImage:"Image",btnLink:"Link",btnUndo:"Undo",btnRedo:"Redo",btnFullScreen:"Full screen",btnExitFullScreen:"Exit full screen",btnModeEditor:"Only display editor",btnModePreview:"Only display preview",btnModeAll:"Display both editor and preview"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={clearTip:"您确定要清空所有内容吗？",btnHeader:"标题",btnClear:"清空",btnBold:"加粗",btnItalic:"斜体",btnUnderline:"下划线",btnStrikethrough:"删除线",btnUnordered:"无序列表",btnOrdered:"有序列表",btnQuote:"引用",btnLineBreak:"换行",btnInlineCode:"行内代码",btnCode:"代码块",btnTable:"表格",btnImage:"图片",btnLink:"链接",btnUndo:"撤销",btnRedo:"重做",btnFullScreen:"全屏",btnExitFullScreen:"退出全屏",btnModeEditor:"仅显示编辑器",btnModePreview:"仅显示预览",btnModeAll:"显示编辑器与预览"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initialSelection={start:0,end:0,text:""}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=r({},t);return e.forEach(function(t){"object"==typeof t&&Object.entries(t).forEach(function(t){t[0]in o&&(o[t[0]]=t[1])})}),o}},function(t,e,n){var a=n(22),l=n(23);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var i=0;i<16;++i)e[o+i]=r[i];return e||l(r)}},function(t,e){var n,o,r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);r?(n=new Uint8Array(16),t.exports=function(){return r(n),n}):(o=new Array(16),t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o})},function(t,e){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={theme:"default",view:{menu:!0,md:!0,html:!0},canView:{menu:!0,md:!0,html:!0,fullScreen:!0,hideMenu:!0},htmlClass:"",markdownClass:"",syncScrollMode:["rightFollowLeft","leftFollowRight"],imageUrl:"",imageAccept:"",linkUrl:"",table:{maxRow:4,maxCol:6},allowPasteImage:!0,onImageUpload:void 0,onCustomImageUpload:void 0}},function(t,e,n){},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=(i=a.Component,r(s,i),s.prototype.getElement=function(){return this.el.current},s.prototype.getHeight=function(){return this.el.current?this.el.current.offsetHeight:0},s);function s(t){var e=i.call(this,t)||this;return e.el=a.createRef(),e}e.Preview=l;var u,c=(r(d,u=l),d.prototype.getHtml=function(){return"string"==typeof this.props.html?this.props.html:this.el.current?this.el.current.innerHTML:""},d.prototype.render=function(){return"string"==typeof this.props.html?a.createElement("div",{ref:this.el,dangerouslySetInnerHTML:{__html:this.props.html},className:this.props.className||"custom-html-style"}):a.createElement("div",{ref:this.el,className:this.props.className||"custom-html-style"},this.props.html)},d);function d(){return null!==u&&u.apply(this,arguments)||this}e.HtmlRender=c,e.default=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=n(1),s=n(2),u=(i=n(3).PluginComponent,r(c,i),c.prototype.handleClick=function(){""!==this.editor.getMdValue()&&window.confirm&&"function"==typeof window.confirm&&window.confirm(s.default.get("clearTip"))&&this.editor.setText("")},c.prototype.render=function(){return a.createElement("span",{className:"button button-type-clear",title:s.default.get("btnClear"),onClick:this.handleClick},a.createElement(l.default,{type:"delete"}))},c.pluginName="clear",c);function c(t){var e=i.call(this,t)||this;return e.handleClick=e.handleClick.bind(e),e}e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=n(1),s=n(2),u=(i=n(3).PluginComponent,r(c,i),c.prototype.render=function(){var t=this;return a.createElement(a.Fragment,null,a.createElement("span",{className:"button button-type-bold",title:s.default.get("btnBold"),onClick:function(){return t.editor.insertMarkdown("bold")}},a.createElement(l.default,{type:"bold"})),a.createElement("span",{className:"button button-type-italic",title:s.default.get("btnItalic"),onClick:function(){return t.editor.insertMarkdown("italic")}},a.createElement(l.default,{type:"italic"})),a.createElement("span",{className:"button button-type-underline",title:s.default.get("btnUnderline"),onClick:function(){return t.editor.insertMarkdown("underline")}},a.createElement(l.default,{type:"underline"})),a.createElement("span",{className:"button button-type-strikethrough",title:s.default.get("btnStrikethrough"),onClick:function(){return t.editor.insertMarkdown("strikethrough")}},a.createElement(l.default,{type:"strikethrough"})),a.createElement("span",{className:"button button-type-unordered",title:s.default.get("btnUnordered"),onClick:function(){return t.editor.insertMarkdown("unordered")}},a.createElement(l.default,{type:"list-unordered"})),a.createElement("span",{className:"button button-type-ordered",title:s.default.get("btnOrdered"),onClick:function(){return t.editor.insertMarkdown("order")}},a.createElement(l.default,{type:"list-ordered"})),a.createElement("span",{className:"button button-type-quote",title:s.default.get("btnQuote"),onClick:function(){return t.editor.insertMarkdown("quote")}},a.createElement(l.default,{type:"quote"})),a.createElement("span",{className:"button button-type-hr",title:s.default.get("btnLineBreak"),onClick:function(){return t.editor.insertMarkdown("hr")}},a.createElement(l.default,{type:"wrap"})),a.createElement("span",{className:"button button-type-inlinecode",title:s.default.get("btnInlineCode"),onClick:function(){return t.editor.insertMarkdown("inlinecode")}},a.createElement(l.default,{type:"code"})),a.createElement("span",{className:"button button-type-code",title:s.default.get("btnCode"),onClick:function(){return t.editor.insertMarkdown("code")}},a.createElement(l.default,{type:"code-block"})))},c.pluginName="fonts",c);function c(){return null!==i&&i.apply(this,arguments)||this}e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=n(1),s=n(2),u=(i=n(3).PluginComponent,r(c,i),c.prototype.handleClick=function(){this.editor.fullScreen(!this.state.enable)},c.prototype.handleChange=function(t){this.setState({enable:t})},c.prototype.componentDidMount=function(){this.editor.on("fullscreen",this.handleChange)},c.prototype.componentWillUnmount=function(){this.editor.off("fullscreen",this.handleChange)},c.prototype.render=function(){if(this.editorConfig.canView&&this.editorConfig.canView.fullScreen){var t=this.state.enable;return a.createElement("span",{className:"button button-type-fullscreen",title:s.default.get(t?"btnExitFullScreen":"btnFullScreen"),onClick:this.handleClick},a.createElement(l.default,{type:t?"fullscreen-exit":"fullscreen"}))}return null},c.pluginName="full-screen",c.align="right",c);function c(t){var e=i.call(this,t)||this;return e.handleClick=e.handleClick.bind(e),e.handleChange=e.handleChange.bind(e),e.state={enable:e.editor.isFullScreen()},e}e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=n(6),s=n(1),u=n(2),c=n(3),d=n(32),p=(i=c.PluginComponent,r(f,i),f.prototype.show=function(){this.setState({show:!0})},f.prototype.hide=function(){this.setState({show:!1})},f.prototype.render=function(){var e=this;return a.createElement("span",{className:"button button-type-header",title:u.default.get("btnHeader"),onMouseEnter:this.show,onMouseLeave:this.hide},a.createElement(s.default,{type:"font-size"}),a.createElement(l.default,{show:this.state.show,onClose:this.hide},a.createElement(d.default,{onSelectHeader:function(t){return e.editor.insertMarkdown(t)}})))},f.pluginName="header",f);function f(t){var e=i.call(this,t)||this;return e.show=e.show.bind(e),e.hide=e.hide.bind(e),e.state={show:!1},e}e.default=p},function(t,e,n){},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);n(33);var a,l=(a=i.Component,r(s,a),s.prototype.handleHeader=function(t){var e=this.props.onSelectHeader;"function"==typeof e&&e(t)},s.prototype.render=function(){return i.createElement("ul",{className:"header-list"},i.createElement("li",{className:"list-item"},i.createElement("h1",{onClick:this.handleHeader.bind(this,"h1")},"H1")),i.createElement("li",{className:"list-item"},i.createElement("h2",{onClick:this.handleHeader.bind(this,"h2")},"H2")),i.createElement("li",{className:"list-item"},i.createElement("h3",{onClick:this.handleHeader.bind(this,"h3")},"H3")),i.createElement("li",{className:"list-item"},i.createElement("h4",{onClick:this.handleHeader.bind(this,"h4")},"H4")),i.createElement("li",{className:"list-item"},i.createElement("h5",{onClick:this.handleHeader.bind(this,"h5")},"H5")),i.createElement("li",{className:"list-item"},i.createElement("h6",{onClick:this.handleHeader.bind(this,"h6")},"H6")))},s);function s(){return null!==a&&a.apply(this,arguments)||this}e.default=l},function(t,e,n){},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=n(1),s=n(2),u=n(3),c=n(4),d=n(8),p=n(35),f=(i=u.PluginComponent,r(h,i),h.prototype.handleImageUpload=function(){"function"==typeof this.editorConfig.onImageUpload?this.inputFile.current&&this.inputFile.current.click():this.editor.insertMarkdown("image")},h.prototype.onImageChanged=function(t){var e,n=this.editorConfig.onImageUpload;n&&(e=d.default(t,n),this.editor.insertPlaceholder(e.placeholder,e.uploaded))},h.prototype.handleCustomImageUpload=function(t){var e,n=this,o=this.editorConfig.onCustomImageUpload;o&&(e=o.call(this,t),c.isPromise(e)&&e.then(function(t){t&&t.url&&n.editor.insertMarkdown("image",{target:t.text,imageUrl:t.url})}))},h.prototype.render=function(){var e=this;return this.editorConfig.onCustomImageUpload?a.createElement("span",{className:"button button-type-image",title:s.default.get("btnImage"),onClick:this.handleCustomImageUpload},a.createElement(l.default,{type:"image"})):a.createElement("span",{className:"button button-type-image",title:s.default.get("btnImage"),onClick:this.handleImageUpload,style:{position:"relative"}},a.createElement(l.default,{type:"image"}),a.createElement(p.default,{accept:this.editorConfig.imageAccept||"",ref:this.inputFile,onChange:function(t){t.persist(),t.target.files&&0<t.target.files.length&&e.onImageChanged(t.target.files[0])}}))},h.pluginName="image",h);function h(t){var e=i.call(this,t)||this;return e.inputFile=a.createRef(),e.onImageChanged=e.onImageChanged.bind(e),e.handleCustomImageUpload=e.handleCustomImageUpload.bind(e),e.handleImageUpload=e.handleImageUpload.bind(e),e.state={show:!1},e}e.default=f},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=(i=a.Component,r(s,i),s.prototype.click=function(){var t=this;!this.locked&&this.input.current&&(this.locked=!0,this.input.current.value="",this.input.current.click(),this.timerId&&window.clearTimeout(this.timerId),this.timerId=window.setTimeout(function(){t.locked=!1,window.clearTimeout(t.timerId),t.timerId=void 0},200))},s.prototype.componentWillUnmount=function(){this.timerId&&window.clearTimeout(this.timerId)},s.prototype.render=function(){return a.createElement("input",{type:"file",ref:this.input,accept:this.props.accept,style:{position:"absolute",zIndex:-1,left:0,top:0,width:0,height:0,opacity:0},onChange:this.props.onChange})},s);function s(t){var e=i.call(this,t)||this;return e.timerId=void 0,e.locked=!1,e.input=a.createRef(),e}e.default=l},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=n(1),s=n(2),u=(i=n(3).PluginComponent,r(c,i),c.prototype.render=function(){var t=this;return a.createElement("span",{className:"button button-type-link",title:s.default.get("btnLink"),onClick:function(){return t.editor.insertMarkdown("link")}},a.createElement(l.default,{type:"link"}))},c.pluginName="link",c);function c(){return null!==i&&i.apply(this,arguments)||this}e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=n(1),s=n(2),u=n(3),c=n(38),d=(i=u.PluginComponent,r(p,i),p.prototype.handleUndo=function(){var t=this.logger.undo(this.editor.getMdValue());void 0!==t&&(this.pause(),this.lastPop=t,this.editor.setText(t),this.forceUpdate())},p.prototype.handleRedo=function(){var t=this.logger.redo();void 0!==t&&(this.lastPop=t,this.editor.setText(t),this.forceUpdate())},p.prototype.handleChange=function(t,e,n){var o=this;if(this.logger.getLast()!==t&&(null===this.lastPop||this.lastPop!==t)){if(this.logger.cleanRedo(),n)return this.logger.push(t),this.lastPop=null,void this.forceUpdate();this.timerId&&(window.clearTimeout(this.timerId),this.timerId=0),this.timerId=window.setTimeout(function(){o.logger.getLast()!==t&&(o.logger.push(t),o.lastPop=null,o.forceUpdate()),window.clearTimeout(o.timerId),o.timerId=0},600)}},p.prototype.componentDidMount=function(){var e=this;this.editor.on("change",this.handleChange),this.handleKeyboards.forEach(function(t){return e.editor.onKeyboard(t)}),this.logger.initValue=this.editor.getMdValue(),this.forceUpdate()},p.prototype.componentWillUnmount=function(){var e=this;this.editor.off("change",this.handleChange),this.handleKeyboards.forEach(function(t){return e.editor.offKeyboard(t)})},p.prototype.pause=function(){this.timerId&&(clearInterval(this.timerId),this.timerId=void 0)},p.prototype.render=function(){var t=1<this.logger.getUndoCount()||this.logger.initValue!==this.editor.getMdValue(),e=0<this.logger.getRedoCount();return a.createElement(a.Fragment,null,a.createElement("span",{className:"button button-type-undo "+(t?"":"disabled"),title:s.default.get("btnUndo"),onClick:this.handleUndo},a.createElement(l.default,{type:"undo"})),a.createElement("span",{className:"button button-type-redo "+(e?"":"disabled"),title:s.default.get("btnRedo"),onClick:this.handleRedo},a.createElement(l.default,{type:"redo"})))},p.pluginName="logger",p);function p(t){var e=i.call(this,t)||this;return e.handleKeyboards=[],e.lastPop=null,e.handleChange=e.handleChange.bind(e),e.handleRedo=e.handleRedo.bind(e),e.handleUndo=e.handleUndo.bind(e),e.handleKeyboards=[{key:"y",keyCode:89,withKey:["ctrlKey"],callback:e.handleRedo},{key:"z",keyCode:90,withKey:["metaKey","shiftKey"],callback:e.handleRedo},{key:"z",keyCode:90,withKey:["ctrlKey"],callback:e.handleUndo},{key:"z",keyCode:90,withKey:["metaKey"],callback:e.handleUndo}],e.logger=new c.default,e}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(r.prototype.push=function(t){for(var e=this.record.push(t);100<this.record.length;)this.record.shift();return e},r.prototype.get=function(){return this.record},r.prototype.getLast=function(){var t=this.record.length;return this.record[t-1]},r.prototype.undo=function(t){var e=this.record.pop();if(void 0===e)return this.initValue;if(e!==t)return this.recycle.push(e),e;var n=this.record.pop();return void 0===n?(this.recycle.push(e),this.initValue):(this.recycle.push(e),n)},r.prototype.redo=function(){var t=this.recycle.pop();if(void 0!==t)return this.push(t),t},r.prototype.cleanRedo=function(){this.recycle=[]},r.prototype.getUndoCount=function(){return this.undo.length},r.prototype.getRedoCount=function(){return this.recycle.length},r);function r(){this.record=[],this.recycle=[],this.initValue=""}e.default=o},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a,l=n(0),s=n(1),u=n(2),c=n(3);(a=i=i||{})[a.SHOW_ALL=0]="SHOW_ALL",a[a.SHOW_MD=1]="SHOW_MD",a[a.SHOW_HTML=2]="SHOW_HTML";var d,p=(d=c.PluginComponent,r(f,d),Object.defineProperty(f.prototype,"isDisplay",{get:function(){return!!this.editorConfig.canView&&this.editorConfig.canView.html&&this.editorConfig.canView.md},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"next",{get:function(){var t=this.state.view;return t.html&&t.md?i.SHOW_MD:this.state.view.html?i.SHOW_ALL:i.SHOW_HTML},enumerable:!0,configurable:!0}),f.prototype.handleClick=function(){switch(this.next){case i.SHOW_ALL:this.editor.setView({html:!0,md:!0});break;case i.SHOW_HTML:this.editor.setView({html:!0,md:!1});break;case i.SHOW_MD:this.editor.setView({html:!1,md:!0})}},f.prototype.handleChange=function(t){this.setState({view:t})},f.prototype.componentDidMount=function(){this.editor.on("viewchange",this.handleChange)},f.prototype.componentWillUnmount=function(){this.editor.off("viewchange",this.handleChange)},f.prototype.getDisplayInfo=function(){switch(this.next){case i.SHOW_ALL:return{icon:"view-split",title:"All"};case i.SHOW_HTML:return{icon:"visibility",title:"Preview"};default:return{icon:"keyboard",title:"Editor"}}},f.prototype.render=function(){if(this.isDisplay){var t=this.getDisplayInfo();return l.createElement("span",{className:"button button-type-mode",title:u.default.get("btnMode"+t.title),onClick:this.handleClick},l.createElement(s.default,{type:t.icon}))}return null},f.pluginName="mode-toggle",f.align="right",f);function f(t){var e=d.call(this,t)||this;return e.handleClick=e.handleClick.bind(e),e.handleChange=e.handleChange.bind(e),e.state={view:e.editor.getView()},e}e.default=p},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(0),l=n(6),s=n(1),u=n(2),c=n(3),d=n(41),p=(i=c.PluginComponent,r(f,i),f.prototype.show=function(){this.setState({show:!0})},f.prototype.hide=function(){this.setState({show:!1})},f.prototype.render=function(){var e=this,t=this.editorConfig.table||this.props.config;return a.createElement("span",{className:"button button-type-table",title:u.default.get("btnTable"),onMouseEnter:this.show,onMouseLeave:this.hide},a.createElement(s.default,{type:"grid"}),a.createElement(l.default,{show:this.state.show,onClose:this.hide},a.createElement(d.default,{visiblity:this.state.show,maxRow:t.maxRow,maxCol:t.maxCol,onSetTable:function(t){return e.editor.insertMarkdown("table",t)}})))},f.pluginName="table",f.defaultConfig={maxRow:6,maxCol:6},f);function f(t){var e=i.call(this,t)||this;return e.show=e.show.bind(e),e.hide=e.hide.bind(e),e.state={show:!1},e}e.default=p},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);n(42);var a,l=(a=i.Component,r(s,a),s.prototype.formatTableModel=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),new Array(t).fill(void 0).map(function(t){return new Array(e).fill(0)})},s.prototype.calcWrapStyle=function(){var t=this.state,e=t.maxRow,n=t.maxCol,o=this.config,r=o.width,i=o.height,a=o.padding;return{width:(r+a)*n-a+"px",height:(i+a)*e-a+"px"}},s.prototype.calcItemStyle=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.config,o=n.width,r=n.height,i=n.padding;return{top:(r+i)*t+"px",left:(o+i)*e+"px"}},s.prototype.getList=function(o,r){return this.state.list.map(function(t,n){return t.map(function(t,e){return n<=o&&e<=r?1:0})})},s.prototype.handleHover=function(t,e){this.setState({list:this.getList(t,e)})},s.prototype.handleSetTable=function(t,e){var n=this.props.onSetTable;"function"==typeof n&&n({row:t+1,col:e+1})},s.prototype.componentDidUpdate=function(t){!1===this.props.visiblity&&t.visiblity!==this.props.visiblity&&this.setState({list:this.getList(-1,-1)})},s.prototype.render=function(){var o=this;return i.createElement("ul",{className:"table-list wrap",style:this.calcWrapStyle()},this.state.list.map(function(t,n){return t.map(function(t,e){return i.createElement("li",{className:"list-item "+(1===t?"active":""),key:n+"-"+e,style:o.calcItemStyle(n,e),onMouseOver:o.handleHover.bind(o,n,e),onClick:o.handleSetTable.bind(o,n,e)})})}))},s);function s(t){var e=a.call(this,t)||this;e.config={padding:3,width:20,height:20};var n=t.maxRow,o=void 0===n?5:n,r=t.maxCol,i=void 0===r?6:r;return e.state={maxRow:o,maxCol:i,list:e.formatTableModel(o,i)},e}e.default=l},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function o(r){return i.useEffect(function(){function t(){var t,e,n=r.editor.getMdElement();n&&(n.style.height="auto",t=Math.min(Math.max(r.config.min,n.scrollHeight),r.config.max),n.style.height=t+"px",(e=r.editor.getHtmlElement())&&(e.style.height=t+"px")),o=null}function e(){null===o&&(o=n?window.setTimeout(t):requestAnimationFrame(t))}var o=null,n="undefined"==typeof requestAnimationFrame;return r.editor.on("change",e),e(),function(){null!==o&&n&&(window.clearTimeout(o),o=null)}},[]),i.createElement("span",null)}var i=n(0);o.defaultConfig={min:200,max:1/0},o.align="left",o.pluginName="auto-resize",e.default=o}],r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9);function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var o,i});