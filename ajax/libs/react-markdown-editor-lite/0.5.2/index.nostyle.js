/*!
 *  react-markdown-editor-lite v0.5.2
 *  https://github.com/HarryChen0506/react-markdown-editor-lite
 *  MIT License
 * 
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["react","react-dom"],t);else{var n="object"==typeof exports?t(require("react"),require("react-dom")):t(e.react,e["react-dom"]);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,(function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a={};function l(e,t,n){for(var o=0;o<t.length;o++){var r={css:t[o][1],media:t[o][2],sourceMap:t[o][3]};a[e][o]?a[e][o](r):a[e].push(m(r,n))}}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,s=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=s(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function h(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,d=0;function m(e,t){var n,o,r;if(t.singleton){var i=d++;n=p||(p=c(t)),o=f.bind(null,n,i,!1),r=f.bind(null,n,i,!0)}else n=c(t),o=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t,n){return(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=r()),e=n.base?e+n.base:e,t=t||[],a[e]||(a[e]=[]),l(e,t,n),function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){a[e]||(a[e]=[]),l(e,t,n);for(var o=t.length;o<a[e].length;o++)a[e][o]();a[e].length=t.length,0===a[e].length&&delete a[e]}}}},function(e,n){e.exports=t},function(e,t,n){var o=n(1),r=n(4);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(e.i,r,i),r.locals?r.locals:{});e.exports=a},function(e,t,n){},function(e,t,n){var o=n(1),r=n(6);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(e.i,r,i),r.locals?r.locals:{});e.exports=a},function(e,t,n){},function(e,t,n){var o=n(1),r=n(8);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(e.i,r,i),r.locals?r.locals:{});e.exports=a},function(e,t,n){},function(e,t,n){var o=n(1),r=n(10);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(e.i,r,i),r.locals?r.locals:{});e.exports=a},function(e,t,n){},function(e,t,n){var o=n(1),r=n(12);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(e.i,r,i),r.locals?r.locals:{});e.exports=a},function(e,t,n){},function(e,t,n){var o=n(1),r=n(14);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(e.i,r,i),r.locals?r.locals:{});e.exports=a},function(e,t,n){},function(e,t,n){var o=n(1),r=n(16);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(e.i,r,i),r.locals?r.locals:{});e.exports=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(2),a=n.n(i);function l(e,t){var n=(new Date).getTime();return function(){(new Date).getTime()-n>=t&&(e.apply(this,arguments),n=(new Date).getTime())}}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"name","logger"),u(this,"record",[]),u(this,"recycle",[])}var t,n,o;return t=e,(n=[{key:"pushRecord",value:function(e){return this.record.push(e)}},{key:"getRecord",value:function(){return this.record}},{key:"getLastRecord",value:function(){var e=this.record.length;return this.record[e-1]}},{key:"undo",value:function(e){var t=this.record.pop();this.recycle.push(t),"function"==typeof e&&e(this.getLastRecord())}},{key:"redo",value:function(e){if(this.recycle.length>0){var t=this.recycle.pop();this.record.push(t),"function"==typeof e&&e(this.getLastRecord())}}},{key:"cleanRedoList",value:function(e){this.recycle=[],"function"==typeof e&&e()}}])&&c(t.prototype,n),o&&c(t,o),e}();function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"name","selection decoration"),h(this,"target",""),h(this,"type",""),h(this,"option",{}),h(this,"result",""),this.target=t}var t,n,o;return t=e,(n=[{key:"getDecoratedText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.type=e,this.option=t,this.result=this.calcDecorateText(this.type,t)}},{key:"calcDecorateText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"h1":return"\n# ".concat(this.target," \n");case"h2":return"\n## ".concat(this.target," \n");case"h3":return"\n### ".concat(this.target," \n");case"h4":return"\n#### ".concat(this.target," \n");case"h5":return"\n##### ".concat(this.target," \n");case"h6":return"\n###### ".concat(this.target," \n");case"bold":return"**".concat(this.target,"**");case"italic":return"*".concat(this.target,"*");case"underline":return"++".concat(this.target,"++");case"strikethrough":return"~~".concat(this.target,"~~");case"unordered":return"\n- ".concat(this.target,"\n");case"order":return"\n1. ".concat(this.target,"\n");case"quote":return"\n> ".concat(this.target,"\n");case"hr":return"\n---\n";case"inlinecode":return"`".concat(this.target,"`");case"code":return"\n```\n".concat(this.target,"\n```\n");case"table":return this.formatTableText(this.target,t);case"image":return"![".concat(t.target,"](").concat(t.imageUrl||"",")");case"link":return"[".concat(this.target,"](").concat(t.linkUrl||"",")");default:return"".concat(this.target)}}},{key:"formatTableText",value:function(e,t){for(var n=t.row,o=void 0===n?2:n,r=t.col,i=void 0===r?2:r,a=["|"],l=["|"],c=["|"],u="",s=0;s<=i;s++)a.push(" Head |"),c.push(" --- |"),l.push(" Data |");for(var f=0;f<=o;f++)u=u+"\n"+l.join("");return"\n"+a.join("")+"\n"+c.join("")+u+"\n"}}])&&f(t.prototype,n),o&&f(t,o),e}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,b(t).call(this,e))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.a.createElement("div",{className:"rc-md-navigation"},r.a.createElement("div",{className:"navigation-nav left"},this.props.left),r.a.createElement("div",{className:"navigation-nav middle"},this.props.middle),r.a.createElement("div",{className:"navigation-nav right"},this.props.right))}}])&&m(n.prototype,o),i&&m(n,i),t}(o.Component);n(3);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=k(t).call(this,e))||"object"!==w(r)&&"function"!=typeof r?S(o):r).handleClose=n._handleClose.bind(S(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(o=[{key:"_handleClose",value:function(e){e.stopPropagation();var t=this.props.onClose;"function"==typeof t&&t()}},{key:"render",value:function(){return r.a.createElement("div",{className:"drop-wrap ".concat(this.props.show?"show":"hidden"),onClick:this.handleClose},"function"==typeof this.props.render&&this.props.render())}}])&&E(n.prototype,o),i&&E(n,i),t}(o.Component);n(5);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,x(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(o=[{key:"handleHeader",value:function(e){var t=this.props.onSelectHeader;"function"==typeof t&&t(e)}},{key:"render",value:function(){return r.a.createElement("ul",{className:"header-list"},r.a.createElement("li",{className:"list-item"},r.a.createElement("h1",{onClick:this.handleHeader.bind(this,"h1")},"H1")),r.a.createElement("li",{className:"list-item"},r.a.createElement("h2",{onClick:this.handleHeader.bind(this,"h2")},"H2")),r.a.createElement("li",{className:"list-item"},r.a.createElement("h3",{onClick:this.handleHeader.bind(this,"h3")},"H3")),r.a.createElement("li",{className:"list-item"},r.a.createElement("h4",{onClick:this.handleHeader.bind(this,"h4")},"H4")),r.a.createElement("li",{className:"list-item"},r.a.createElement("h5",{onClick:this.handleHeader.bind(this,"h5")},"H5")),r.a.createElement("li",{className:"list-item"},r.a.createElement("h6",{onClick:this.handleHeader.bind(this,"h6")},"H6")))}}])&&T(n.prototype,o),i&&T(n,i),t}(o.Component);n(7);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(e){var n,o,r,i,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=!(r=H(t).call(this,e))||"object"!==N(r)&&"function"!=typeof r?I(o):r,i=I(n),l={padding:3,width:20,height:20},(a="config")in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l;var c=e.maxRow,u=void 0===c?5:c,s=e.maxCol,f=void 0===s?6:s;return n.state={maxRow:u,maxCol:f,list:n.formatTableModel(u,f)},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(o=[{key:"formatTableModel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Array(e).fill();return n.map((function(){return new Array(t).fill(0)}))}},{key:"calcWrapStyle",value:function(){var e=this.state,t=e.maxRow,n=e.maxCol,o=this.config,r=o.width,i=o.height,a=o.padding,l=(i+a)*t-a;return{width:"".concat((r+a)*n-a,"px"),height:"".concat(l,"px")}}},{key:"calcItemStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.config,o=n.width,r=n.height,i=n.padding,a=(r+i)*e,l=(o+i)*t;return{top:"".concat(a,"px"),left:"".concat(l,"px")}}},{key:"handleHover",value:function(e,t){var n=this.state.list.map((function(n,o){return n.map((function(n,r){return o<=e&&r<=t?1:0}))}));this.setState({list:n})}},{key:"handleSetTable",value:function(e,t){var n=this.props.onSetTable;"function"==typeof n&&n({row:e,col:t})}},{key:"render",value:function(){var e=this,t=this.state.list;return r.a.createElement("ul",{className:"table-list wrap",style:this.calcWrapStyle()},t.map((function(t,n){return t.map((function(t,o){return r.a.createElement("li",{className:"list-item ".concat(1===t?"active":""),key:"".concat(n,"-").concat(o),style:e.calcItemStyle(n,o),onMouseOver:e.handleHover.bind(e,n,o),onClick:e.handleSetTable.bind(e,n,o)})}))})))}}])&&D(n.prototype,o),i&&D(n,i),t}(o.Component);n(9);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,W(t).call(this,e))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(o=[{key:"click",value:function(){var e=this;this.locked||(this.locked=!0,this.input.value="",this.input.click(),this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){e.locked=!1}),200))}},{key:"componentWillUnmount",value:function(){this.timerId&&clearTimeout(this.timerId)}},{key:"render",value:function(){var e=this;return r.a.createElement("input",{type:"file",ref:function(t){e.input=t},accept:this.props.accept,style:{position:"absolute",zIndex:-1,left:0,top:0,width:0,height:0,opacity:0},onChange:this.props.onChange})}}])&&V(n.prototype,o),i&&V(n,i),t}(o.Component);n(11);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),z(this,G(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.a.createElement("span",{className:"rmel-"+this.props.type})}}])&&K(n.prototype,o),i&&K(n,i),t}(o.Component);n(13);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Z(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,$(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.a.createElement("div",{className:"tool-bar",style:this.props.style},this.props.children)}}])&&Y(n.prototype,o),i&&Y(n,i),t}(o.Component),ne={theme:"default",view:{menu:!0,md:!0,html:!0,fullScreen:!0},htmlClass:"",markdownClass:"",logger:{interval:3e3},syncScrollMode:["rightFollowLeft","leftFollowRight"],imageUrl:"",imageAccept:"",linkUrl:"",table:{maxRow:4,maxCol:6},clearTip:"Are you sure you want to clear your markdown ?"};n(15);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ue(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),e}function se(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?fe(e):t}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(){return le(this,t),se(this,he(t).apply(this,arguments))}return pe(t,e),ue(t,[{key:"render",value:function(){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.html},className:"custom-html-style ".concat(this.props.className||"")})}}]),t}(o.Component),ye=function(e){function t(){return le(this,t),se(this,he(t).apply(this,arguments))}return pe(t,e),ue(t,[{key:"render",value:function(){return r.a.createElement("textarea",{className:"html-code ".concat(this.props.className||""),value:this.props.html,onChange:function(){}})}}]),t}(o.Component),be=function(e){function t(e){var n;return le(this,t),ae(fe(n=se(this,he(t).call(this,e))),"config",{}),ae(fe(n),"logger",{}),ae(fe(n),"loggerTimerId",null),ae(fe(n),"mdjs",null),ae(fe(n),"nodeMdText",null),ae(fe(n),"nodeMdPreview",null),ae(fe(n),"nodeMdPreviewWraper",null),ae(fe(n),"inputFile",null),ae(fe(n),"scale",0),ae(fe(n),"willScrollEle",""),ae(fe(n),"hasContentChanged",!0),ae(fe(n),"initialSelection",{isSelected:!1,start:0,end:0,text:""}),ae(fe(n),"selection",ie({},n.initialSelection)),n.config=n.initConfig(),n.state={text:(n.formatString(n.props.value)||"").replace(/↵/g,"\n"),html:"",view:n.config.view,htmlType:"render",dropButton:{header:!1,table:!1},fullScreen:!1,table:n.config.table},n.handleChange=n._handleChange.bind(fe(n)),n.handleInputSelect=n._handleInputSelect.bind(fe(n)),n.handleImageUpload=n._handleImageUpload.bind(fe(n)),n.handleCustomImageUpload=n._handleCustomImageUpload.bind(fe(n)),n.handleEmpty=n._handleEmpty.bind(fe(n)),n.handleUndo=n._handleUndo.bind(fe(n)),n.handleRedo=n._handleRedo.bind(fe(n)),n.handleToggleFullScreen=n._handleToggleFullScreen.bind(fe(n)),n.handleToggleMenu=n._handleToggleMenu.bind(fe(n)),n.handleToggleView=n._handleToggleView.bind(fe(n)),n.handleMdPreview=n._handleMdPreview.bind(fe(n)),n.handleHtmlPreview=n._handleHtmlPreview.bind(fe(n)),n.handleToggleHtmlType=n._handleToggleHtmlType.bind(fe(n)),n.handleonKeyDown=n._handleonKeyDown.bind(fe(n)),n.handleInputScroll=l((function(e){var t=n.config.syncScrollMode;(void 0===t?[]:t).includes("rightFollowLeft")&&(e.persist(),"md"===n.willScrollEle&&(n.hasContentChanged&&n._setScrollValue(),n.nodeMdPreviewWraper&&n.nodeMdText&&(n.nodeMdPreviewWraper.scrollTop=n.nodeMdText.scrollTop/n.scale)))}),1e3/60),n.handlePreviewScroll=l((function(e){var t=n.config.syncScrollMode;(void 0===t?[]:t).includes("leftFollowRight")&&(e.persist(),"html"===n.willScrollEle&&(n.hasContentChanged&&n._setScrollValue(),n.nodeMdText&&n.nodeMdPreviewWraper&&(n.nodeMdText.scrollTop=n.nodeMdPreviewWraper.scrollTop*n.scale)))}),1e3/60),n}return pe(t,e),ue(t,[{key:"componentDidMount",value:function(){var e=this;this.renderHTML(this.props.value||"").then((function(t){e.setState({html:t})})),this.initLogger()}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.value!==this.props.value){var n=e.value;n=(n=this.formatString(n))&&n.replace(/↵/g,"\n"),this.renderHTML(n).then((function(e){t.setState({text:n,html:e})}))}}},{key:"componentWillUnmount",value:function(){this.endLogger()}},{key:"formatString",value:function(e){return"string"!=typeof this.props.value?(console&&console.error&&console.error('The type of "value" must be String!'),String(e).toString()):e}},{key:"initConfig",value:function(){return ie({},ne,{},this.props.config)}},{key:"initLogger",value:function(){this.logger=new s,this.startLogger(),this.logger.pushRecord(this.state.text)}},{key:"startLogger",value:function(){var e=this;this.loggerTimerId||(this.loggerTimerId=setInterval((function(){var t=e.state.text;e.logger.getLastRecord()!==t&&e.logger.pushRecord(t)}),this.config.logger.interval)),this.logger.cleanRedoList()}},{key:"endLogger",value:function(){this.loggerTimerId&&(clearInterval(this.loggerTimerId),this.loggerTimerId=null)}},{key:"handleGetLogger",value:function(){console.log("handleGetLogger",this.logger)}},{key:"_handleUndo",value:function(){var e=this;this.logger.undo((function(t){e.endLogger(),e._setMdText(t)}))}},{key:"_handleRedo",value:function(){var e=this;this.logger.redo((function(t){e._setMdText(t)}))}},{key:"handleDecorate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["h1","h2","h3","h4","h5","h6","bold","italic","underline","strikethrough","unordered","order","quote","hr","inlinecode","code","table","image","link"];if(n.indexOf(e)>-1){if(!this.selection.isSelected)return;var o=this._getDecoratedText(e,t);this._setMdText(o),this._clearSelection()}else{var r=this._getDecoratedText(e,t);this._setMdText(r)}}},{key:"_getDecoratedText",value:function(e,t){var n=this.state.text,o=void 0===n?"":n,r=this.selection,i=o.slice(0,r.start),a=o.slice(r.end,o.length),l=new p(r.text),c="";return c="image"===e?l.getDecoratedText(e,{target:t.target||"",imageUrl:t.imageUrl||this.config.imageUrl}):"link"===e?l.getDecoratedText(e,{linkUrl:this.config.linkUrl}):l.getDecoratedText(e,t),i+"".concat(c)+a}},{key:"renderHTML",value:function(e){if(this.props.renderHTML){var t=this.props.renderHTML(e);return"string"==typeof t?Promise.resolve(t):"function"==typeof t?Promise.resolve(t()):("object"===oe(t)&&t.then,t)}console.error("renderHTML props must be required!")}},{key:"_handleToggleFullScreen",value:function(){this.setState({fullScreen:!this.state.fullScreen})}},{key:"changeView",value:function(e){var t=Object.assign({},this.state.view,e);this.setState({view:t})}},{key:"_handleToggleMenu",value:function(){this.changeView({menu:!this.state.view.menu})}},{key:"_handleToggleView",value:function(e){"md"===e?this.changeView({md:!1,html:!0}):this.changeView({md:!0,html:!1})}},{key:"_handleMdPreview",value:function(){this.changeView({html:!this.state.view.html})}},{key:"_handleHtmlPreview",value:function(){this.changeView({md:!this.state.view.md})}},{key:"_handleToggleHtmlType",value:function(){var e=this.state.htmlType;"render"===e?e="source":"source"===e&&(e="render"),this.setState({htmlType:e})}},{key:"_handleEmpty",value:function(e){var t=this,n=this.props.onBeforeClear;if("function"==typeof n){var o=n.call(this,e);"object"===oe(o)&&"function"==typeof o.then?o.then((function(e){e&&t.setState({text:"",html:""})})):!0===o&&this.setState({text:"",html:""})}}},{key:"_handleImageUpload",value:function(){"function"==typeof this.props.onImageUpload?this.inputFile&&this.inputFile.click():this.handleDecorate("image")}},{key:"_handleCustomImageUpload",value:function(e){var t=this,n=this.props.onCustomImageUpload;if("function"==typeof n){var o=n.call(this,e);"object"===oe(o)&&"function"==typeof o.then&&o.then((function(e){var n=e.url;n&&t.handleDecorate("image",{imageUrl:n})}))}}},{key:"onImageChanged",value:function(e){var t=this;(0,this.props.onImageUpload)(e,(function(n){t.handleDecorate("image",{target:e.name,imageUrl:n})}))}},{key:"_handleChange",value:function(e){e.persist(),this.startLogger();var t=e.target.value;this.hasContentChanged||(this.hasContentChanged=!0),this._setMdText(t,e)}},{key:"_handleInputSelect",value:function(e){e.persist(),this.selection=Object.assign({},this.selection,{isSelected:!0},this._getSelectionInfo(e))}},{key:"handleScrollEle",value:function(e){this.willScrollEle=e}},{key:"_setScrollValue",value:function(){var e=this.nodeMdText,t=this.nodeMdPreview,n=this.nodeMdPreviewWraper;e&&t&&n&&(this.scale=(e.scrollHeight-e.offsetHeight+35)/(t.offsetHeight-n.offsetHeight+35),this.hasContentChanged=!1)}},{key:"_clearSelection",value:function(){this.selection=Object.assign({},this.initialSelection)}},{key:"_getSelectionInfo",value:function(e){var t=e.srcElement||e.target,n=t.selectionStart,o=t.selectionEnd;return{start:n,end:o,text:(t.value||"").slice(n,o)}}},{key:"_setMdText",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,o=t.replace(/↵/g,"\n");this.setState({text:t}),this.renderHTML(o).then((function(t){e.setState({html:t}),e.onEmit({text:o,html:t},n)}))}},{key:"_isKeyMatch",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.ctrlKey===o&&(e.key?e.key===t:e.keyCode===n)}},{key:"_handleonKeyDown",value:function(e){this._isKeyMatch(e,"z",90,!0)&&(this._handleUndo(),e.preventDefault()),this._isKeyMatch(e,"y",89,!0)&&(this._handleRedo(),e.preventDefault())}},{key:"onEmit",value:function(e,t){var n=this.props.onChange;"function"==typeof n&&n(e,t)}},{key:"getMdValue",value:function(){return this.state.text}},{key:"getHtmlValue",value:function(){return this.state.html}},{key:"showDropList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"header",t=arguments.length>1?arguments[1]:void 0,n=this.state.dropButton;this.setState({dropButton:ie({},n,ae({},e,t))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.view,o=t.dropButton,i=t.fullScreen,l=t.table;return r.a.createElement("div",{className:"rc-md-editor ".concat(i?"full":""),style:this.props.style,onKeyDown:this.handleonKeyDown},n.menu&&r.a.createElement(v,{left:r.a.createElement("div",{className:"button-wrap"},r.a.createElement("span",{className:"button button-type-header",title:"Header",onMouseEnter:function(){return e.showDropList("header",!0)},onMouseLeave:function(){return e.showDropList("header",!1)}},r.a.createElement(Q,{type:"icon-header"}),r.a.createElement(O,{show:o.header,onClose:function(){e.showDropList("header",!1)},render:function(){return r.a.createElement(M,{onSelectHeader:function(t){e.handleDecorate(t)}})}})),r.a.createElement("span",{className:"button button-type-bold",title:"Bold",onClick:function(){return e.handleDecorate("bold")}},r.a.createElement(Q,{type:"icon-bold"})),r.a.createElement("span",{className:"button button-type-italic",title:"Italic",onClick:function(){return e.handleDecorate("italic")}},r.a.createElement(Q,{type:"icon-italic"})),r.a.createElement("span",{className:"button button-type-underline",title:"Underline",onClick:function(){return e.handleDecorate("underline")}},r.a.createElement(Q,{type:"icon-underline"})),r.a.createElement("span",{className:"button button-type-strikethrough",title:"Strikethrough",onClick:function(){return e.handleDecorate("strikethrough")}},r.a.createElement(Q,{type:"icon-strikethrough"})),r.a.createElement("span",{className:"button button-type-unordered",title:"Unordered list",onClick:function(){return e.handleDecorate("unordered")}},r.a.createElement(Q,{type:"icon-list-ul"})),r.a.createElement("span",{className:"button button-type-ordered",title:"Ordered list",onClick:function(){return e.handleDecorate("order")}},r.a.createElement(Q,{type:"icon-list-ol"})),r.a.createElement("span",{className:"button button-type-quote",title:"Quote",onClick:function(){return e.handleDecorate("quote")}},r.a.createElement(Q,{type:"icon-quote-left"})),r.a.createElement("span",{className:"button button-type-hr",title:"Line break",onClick:function(){return e.handleDecorate("hr")}},r.a.createElement(Q,{type:"icon-window-minimize"})),r.a.createElement("span",{className:"button button-type-inlinecode",title:"Inline code",onClick:function(){return e.handleDecorate("inlinecode")}},r.a.createElement(Q,{type:"icon-embed"})),r.a.createElement("span",{className:"button button-type-code",title:"Block code",onClick:function(){return e.handleDecorate("code")}},r.a.createElement(Q,{type:"icon-embed2"})),r.a.createElement("span",{className:"button button-type-table",title:"Table",onMouseEnter:function(){return e.showDropList("table",!0)},onMouseLeave:function(){return e.showDropList("table",!1)}},r.a.createElement(Q,{type:"icon-table"}),r.a.createElement(O,{show:o.table,onClose:function(){e.showDropList("table",!1)},render:function(){return r.a.createElement(R,{maxRow:l.maxRow,maxCol:l.maxCol,onSetTable:function(t){e.handleDecorate("table",t)}})}})),e.props.onCustomImageUpload?r.a.createElement("span",{className:"button button-type-image",title:"Image",onClick:e.handleCustomImageUpload},r.a.createElement(Q,{type:"icon-photo"})):r.a.createElement("span",{className:"button button-type-image",title:"Image",onClick:e.handleImageUpload,style:{position:"relative"}},r.a.createElement(Q,{type:"icon-photo"}),r.a.createElement(B,{accept:e.config.imageAccept||"",ref:function(t){e.inputFile=t},onChange:function(t){t.persist();var n=t.target.files[0];e.onImageChanged(n)}})),r.a.createElement("span",{className:"button button-type-link",title:"Link",onClick:function(){return e.handleDecorate("link")}},r.a.createElement(Q,{type:"icon-link"})),r.a.createElement("span",{className:"button button-type-clear",title:"Clear",onClick:e.handleEmpty},r.a.createElement(Q,{type:"icon-trash"})),r.a.createElement("span",{className:"button button-type-undo",title:"Undo",onClick:e.handleUndo},r.a.createElement(Q,{type:"icon-reply"})),r.a.createElement("span",{className:"button button-type-redo",title:"Redo",onClick:e.handleRedo},r.a.createElement(Q,{type:"icon-share"}))),right:r.a.createElement("div",{className:"button-wrap"},n.fullScreen&&r.a.createElement("span",{className:"button button-type-fullscreen",title:"Full screen",onClick:e.handleToggleFullScreen},i?r.a.createElement(Q,{type:"icon-shrink"}):r.a.createElement(Q,{type:"icon-enlarge"})))}),r.a.createElement("div",{className:"editor-container"},function(){var t=e.state,n=t.html,o=t.text,i=t.view,l=t.htmlType,c=[];return i.md&&c.push(r.a.createElement("section",{className:"sec-md",key:"md"},r.a.createElement(te,null,r.a.createElement("span",{className:"button button-type-menu",title:i.menu?"Hide menu":"Show menu",onClick:e.handleToggleMenu},i.menu?r.a.createElement(Q,{type:"icon-chevron-up"}):r.a.createElement(Q,{type:"icon-chevron-down"})),r.a.createElement("span",{className:"button button-type-preview",title:i.html?"Hide preview":"Show preview",onClick:e.handleMdPreview},i.html?r.a.createElement(Q,{type:"icon-desktop"}):r.a.createElement(Q,{type:"icon-columns"})),r.a.createElement("span",{className:"button button-type-md",title:"Preview",onClick:function(){return e.handleToggleView("md")}},r.a.createElement(Q,{type:"icon-refresh"}))),r.a.createElement("textarea",{id:"textarea",name:e.props.name||"textarea",ref:function(t){return e.nodeMdText=t},value:o,className:"input ".concat(e.config.markdownClass||""),wrap:"hard",onChange:e.handleChange,onSelect:e.handleInputSelect,onScroll:e.handleInputScroll,onMouseOver:function(){return e.handleScrollEle("md")}}))),i.html&&c.push(r.a.createElement("section",{className:"sec-html",key:"html"},r.a.createElement(te,{style:{right:"20px"}},r.a.createElement("span",{className:"button button-type-menu",title:i.menu?"hidden menu":"show menu",onClick:e.handleToggleMenu},i.menu?r.a.createElement(Q,{type:"icon-chevron-up"}):r.a.createElement(Q,{type:"icon-chevron-down"})),r.a.createElement("span",{className:"button button-type-editor",title:i.md?"Hide editor":"Show editor",onClick:e.handleHtmlPreview},i.md?r.a.createElement(Q,{type:"icon-desktop"}):r.a.createElement(Q,{type:"icon-columns"})),r.a.createElement("span",{className:"button button-type-toggle",title:"Toggle",onClick:function(){return e.handleToggleView("html")}},r.a.createElement(Q,{type:"icon-refresh"})),r.a.createElement("span",{className:"button button-type-html",title:"Show HTML",onClick:e.handleToggleHtmlType},"render"===l?r.a.createElement(Q,{type:"icon-embed"}):r.a.createElement(Q,{type:"icon-eye"}))),"render"===l?r.a.createElement("div",{className:"html-wrap",ref:function(t){return e.nodeMdPreviewWraper=t},onMouseOver:function(){return e.handleScrollEle("html")},onScroll:e.handlePreviewScroll},r.a.createElement(me,{html:n,className:e.config.htmlClass,ref:function(t){return e.nodeMdPreview=a.a.findDOMNode(t)}})):r.a.createElement("div",{className:"html-code-wrap",ref:function(t){return e.nodeMdPreviewWraper=a.a.findDOMNode(t)},onScroll:e.handlePreviewScroll},r.a.createElement(ye,{html:n,className:e.config.htmlClass,ref:function(t){return e.nodeMdPreview=a.a.findDOMNode(t)}})))),c}()))}}]),t}(o.Component);ae(be,"defaultProps",{onBeforeClear:function(){var e=this;return new Promise((function(t){window.confirm&&"function"==typeof window.confirm?t(!!window.confirm(e.config.clearTip)):t(!0)}))}}),be.HtmlRender=me;n.d(t,"MdEditor",(function(){return be})),n.d(t,"HtmlRender",(function(){return me}));t.default=be}])}));