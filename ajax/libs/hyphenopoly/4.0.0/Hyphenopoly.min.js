(e=>{"use strict";const n=String.fromCharCode(173);function t(){return Object.create(null)}function o(e,n){return{configurable:(4&n)>0,enumerable:(2&n)>0,writable:(1&n)>0,value:e}}(e=>{const r=Object.create(null,{defaultLanguage:o("en-us",2),dontHyphenate:o((()=>{const e=t();return"abbr,acronym,audio,br,button,code,img,input,kbd,label,math,option,pre,samp,script,style,sub,sup,svg,textarea,var,video".split(",").forEach(n=>{e[n]=!0}),e})(),2),dontHyphenateClass:o("donthyphenate",2),exceptions:o(t(),2),keepAlive:o(!0,2),normalize:o(!1,2),safeCopy:o(!0,2),timeout:o(1e3,2)}),a=Object.create(r),l=Object.create(null,{compound:o("hyphen",2),hyphen:o(n,2),leftmin:o(0,2),leftminPerLang:o(0,2),minWordLength:o(6,2),mixedCase:o(!0,2),orphanControl:o(1,2),rightmin:o(0,2),rightminPerLang:o(0,2)});Object.keys(e.setup).forEach(n=>{if("selectors"===n){const n=Object.keys(e.setup.selectors);Object.defineProperty(a,"selectors",o(n,2)),n.forEach(n=>{const r=t();Object.keys(e.setup.selectors[n]).forEach(t=>{r[t]=o(e.setup.selectors[n][t],2)}),Object.defineProperty(a,n,o(Object.create(l,r),2))})}else if("dontHyphenate"===n){const l=t();Object.keys(e.setup.dontHyphenate).forEach(n=>{l[n]=o(e.setup.dontHyphenate[n],2)}),Object.defineProperty(a,n,o(Object.create(r.dontHyphenate,l),3))}else Object.defineProperty(a,n,o(e.setup[n],3))}),e.c=a})(Hyphenopoly),(n=>{n.events=new Map,n.createEventPromise=((e,t)=>{const o=n.defProm();n.events.set(e,o),t&&o.resolve(e)});const t=new Set(["afterElementHyphenation","beforeElementHyphenation","engineReady","error","hyphenopolyEnd","hyphenopolyStart"]);var o,r;n.createEventPromise("error"),n.events.get("error").then(e=>{e.runDefault=!0,e.preventDefault=(()=>{e.runDefault=!1})}),n.handleEvent&&(o=n.handleEvent,r=(e=>{t.has(e)?(n.events.has(e)||n.createEventPromise(e),n.events.get(e).then(t=>{n.handleEvent[e](t)})):"tearDown"!==e&&"polyfill"!==e&&n.events.get("error").resolve({lvl:"warn",msg:`unknown Event "${e}" discarded`})}),Object.keys(o).forEach(r)),n.events.get("error").then(n=>{if(n.runDefault)switch(n.lvl){case"info":e.console.info(n.msg);break;case"warn":e.console.warn(n.msg);break;default:e.console.error(n.msg)}})})(Hyphenopoly),(r=>{const a=r.c;let l=null;function s(e){r.events.delete(e),r.createEventPromise(e),r.events.get(e).then(n=>{r.handleEvent[e](n)})}function c(e,n){try{return e.getAttribute("lang")?e.getAttribute("lang").toLowerCase():"html"===e.tagName.toLowerCase()?n?l:null:c(e.parentNode,n)}catch(e){return null}}r.events.has("hyphenopolyStart")&&r.events.get("hyphenopolyStart").resolve("hyphenopolyStart");const h=new Map;const i=new Map;function p(e,n,t){const o=r.languages.get(e),l=a[n],c=l.minWordLength,p=a.normalize&&Boolean(String.prototype.normalize),g=e+"-"+n,u=h.has(g)?h.get(g):function e(n,t,o){const l=a[o],s=l.hyphen;function c(a){let c=n.cache.get(o).get(a);var h;return!l.mixedCase&&(h=a,Array.prototype.map.call(h,function(e){return e===e.toLowerCase()}).some(function(e,n,t){return e!==t[0]}))&&(c=a),c||(n.exceptions.has(a)?c=n.exceptions.get(a).replace(/-/g,l.hyphen):-1===a.indexOf("-")?a.length>61?(r.events.get("error").resolve({lvl:"warn",msg:"found word longer than 61 characters"}),c=a):c=n.hyphenateFunction(a,s.charCodeAt(0),l.leftminPerLang[t],l.rightminPerLang[t]):c=function(r){const a=String.fromCharCode(8203);let s=null,c=null;return"auto"===l.compound||"all"===l.compound?(c=e(n,t,o),s=r.split("-").map(e=>e.length>=l.minWordLength?c(e):e),r="auto"===l.compound?s.join("-"):s.join("-"+a)):r=r.replace("-","-"+a),r}(a),n.cache.get(o).set(a,c)),c}return n.cache.set(o,new Map),h.set(t+"-"+o,c),c}(o,e,n),m=i.has(n)?i.get(n):function(e){function n(n,t,o,r){const l=a[e];let s=l.hyphen;return-1!==".\\+*?[^]$(){}=!<>|:-".indexOf(l.hyphen)&&(s="\\"+l.hyphen),3===l.orphanControl&&" "===t&&(t=String.fromCharCode(160)),t+o.replace(new RegExp(s,"g"),"")+r}return i.set(e,n),n}(n),d=o.genRegExps.get(n);function f(e){let n=null;return n=p?e.normalize("NFC").replace(d,u):e.replace(d,u),1!==l.orphanControl&&(n=n.replace(/(\u0020*)(\S+)(\s*)$/,m)),n}let y=null;var v;return"string"==typeof t?y=f(t):t instanceof HTMLElement&&(v=t,r.events.has("beforeElementHyphenation")&&(r.events.get("beforeElementHyphenation").resolve({el:v,lang:e}),s("beforeElementHyphenation")),v.childNodes.forEach(e=>{3===e.nodeType&&e.data.length>=c&&(e.data=f(e.data))}),r.res.get("elements").then(e=>{e.counter[0]-=1}),r.events.has("afterElementHyphenation")&&(r.events.get("afterElementHyphenation").resolve({el:v,lang:e}),s("afterElementHyphenation"))),y}function g(n,t){t?t.forEach(e=>{p(n,e.selector,e.element)}):r.events.get("error").resolve({lvl:"warn",msg:`engine for language '${n}' loaded, but no elements found.`}),r.res.get("elements").then(n=>{0===n.counter[0]&&(e.clearTimeout(a.timeOutHandler),0!==a.hide&&r.hiding(1,null),r.events.has("hyphenopolyEnd")&&r.events.get("hyphenopolyEnd").resolve("hyphenopolyEnd"),a.keepAlive||(window.Hyphenopoly=null))})}function u(e,n,l,s,c){l=l.replace(/-/g,"");const h=function(e){return r.languages||(r.languages=new Map),r.languages.has(e)||r.languages.set(e,t()),r.languages.get(e)}(e);h.engineReady||(h.cache=new Map,a.exceptions.global&&(a.exceptions[e]?a.exceptions[e]+=", "+a.exceptions.global:a.exceptions[e]=a.exceptions.global),a.exceptions[e]?(h.exceptions=function(e){const n=new Map;return e.split(", ").forEach(e=>{const t=e.replace(/-/g,"");n.set(t,e)}),n}(a.exceptions[e]),delete a.exceptions[e]):h.exceptions=new Map,h.genRegExps=new Map,h.hyphenateFunction=n,a.selectors.forEach(n=>{const r=a[n];0===r.leftminPerLang&&Object.defineProperty(r,"leftminPerLang",o(t(),2)),0===r.rightminPerLang&&Object.defineProperty(r,"rightminPerLang",o(t(),2)),r.leftminPerLang[e]=Math.max(s,r.leftmin,Number(r.leftminPerLang[e])||0),r.rightminPerLang[e]=Math.max(c,r.rightmin,Number(r.rightminPerLang[e])||0),h.genRegExps.set(n,new RegExp(`[\\w${l}${String.fromCharCode(8204)}-]{${r.minWordLength},}`,"gi"))}),h.engineReady=!0,r.hyphenators[e].resolve(r.createHyphenator(e))),r.events.has("engineReady")&&r.events.get("engineReady").resolve(e),Promise.all([h,r.res.get("elements")]).then(n=>{g(e,n[1].list.get(e))})}r.createHyphenator=(e=>(n,t=".hyphenate")=>p(e,t,n)),r.unhyphenate=(()=>{r.res.get("elements").then(e=>{e.each((e,n)=>{n.forEach(e=>{const n=e.element.firstChild,t=a[e.selector].hyphen;n.data=n.data.replace(new RegExp(t,"g"),"")})})})});const m=(()=>{const e=new TextDecoder("utf-16le");return n=>e.decode(n)})();r.res.get("DOM").then(()=>{(l=c(e.document.documentElement,!1))||""===a.defaultLanguage||(l=a.defaultLanguage),function(){const t=function(){const e=new Map,n=[0];return{add:function(t,o,r){const a={element:t,selector:r};return e.has(o)||e.set(o,[]),e.get(o).push(a),n[0]+=1,a},counter:n,each:function(n){e.forEach((e,t)=>{n(t,e)})},list:e,rem:function(t){let o=0;e.has(t)&&(o=e.get(t).length,e.delete(t),n[0]-=o,0===n[0]&&(r.events.has("hyphenopolyEnd")&&r.events.get("hyphenopolyEnd").resolve("hyphenopolyEnd"),a.keepAlive||(window.Hyphenopoly=null)))}}}(),o=(()=>{let e="."+a.dontHyphenateClass,n=null;for(n in a.dontHyphenate)a.dontHyphenate[n]&&(e+=","+n);return e})(),l=a.selectors.join(",")+","+o;function s(o,h,i,p=!1){const g=function(e,n){return e.lang&&"string"==typeof e.lang?e.lang.toLowerCase():n&&""!==n?n.toLowerCase():c(e,!0)}(o,h);"H9Y"===r.cf.langs[g]?(t.add(o,g,i),!p&&a.safeCopy&&o.addEventListener("copy",t=>{t.preventDefault();const o=e.getSelection(),r=o.getRangeAt(0).cloneContents(),a=document.createElement("div");a.appendChild(r);const l=a.innerHTML,s=o.toString();t.clipboardData.setData("text/plain",s.replace(new RegExp(n,"g"),"")),t.clipboardData.setData("text/html",l.replace(new RegExp(n,"g"),""))},!0)):r.cf.langs[g]||r.events.get("error").resolve({lvl:"warn",msg:`Element with '${g}' found, but '${g}.hpb' not loaded. Check language tags!`}),o.childNodes.forEach(e=>{1!==e.nodeType||function(e,n){return e.matches||(e.matches=e.msMatchesSelector||e.webkitMatchesSelector),e.matches(n)}(e,l)||s(e,g,i,!0)})}a.selectors.forEach(n=>{e.document.querySelectorAll(n).forEach(e=>{s(e,c(e,!0),n,!1)})}),r.res.set("elements",Promise.resolve(t))}(),r.res.get("elements").then(e=>{e.each((e,n)=>{r.languages&&r.languages.has(e)&&r.languages.get(e).engineReady&&g(e,n)})})}),r.res.get("he").forEach((e,n)=>{!function(e,n){const t=window.WebAssembly;function o(e){const o=e.instance.exports,r=o.conv(),a={buf:o.mem.buffer,hw:t.Global?o.hwo.value:o.hwo,lm:t.Global?o.lmi.value:o.lmi,rm:t.Global?o.rmi.value:o.rmi,wo:t.Global?o.uwo.value:o.uwo};u(n,function(e,n){const t=new Uint16Array(e.buf,e.wo,64),o=new Uint16Array(e.buf,e.hw,128);return t[0]=95,(e,r,a,l)=>{let s=0,c=e.charCodeAt(s);for(;c;)t[s+=1]=c,c=e.charCodeAt(s);return t[s+1]=95,t[s+2]=0,1===n(a,l,r)&&(e=m(o.subarray(1,o[0]+1))),e}}(a,o.hyphenate),m(new Uint16Array(o.mem.buffer,770,r-1)),a.lm,a.rm)}e.then(e=>{e.ok?t.instantiateStreaming&&"application/wasm"===e.headers.get("Content-Type")?t.instantiateStreaming(e).then(o):e.arrayBuffer().then(e=>{window.WebAssembly.instantiate(e).then(o)}):(r.res.get("elements").then(e=>{e.rem(n)}),r.hyphenators[n].catch(e=>{r.events.get("error").resolve({lvl:"warn",msg:e.msg})}),r.hyphenators[n].reject({lvl:"warn",msg:`1 File ${n}.wasm can't be loaded from ${r.paths.patterndir}`}))})}(e,n)})})(Hyphenopoly)})(window);