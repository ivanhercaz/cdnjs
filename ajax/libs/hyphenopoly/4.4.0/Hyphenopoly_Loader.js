/**
 * @license Hyphenopoly_Loader 4.4.0 - client side hyphenation
 * ©2020  Mathias Nater, Güttingen (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 */
((e,t,s,n)=>{"use strict";const a=sessionStorage,r="Hyphenopoly_Loader.js",o=new Map,i="appendChild",l="createElement",p="createTextNode";s.cacheFeatureTests&&a.getItem(r)?(s.cf=new Map(JSON.parse(a.getItem(r))),s.cf.set("langs",new Map(s.cf.get("langs")))):s.cf=new Map([["langs",new Map],["pf",!1]]),(()=>{const e=t.currentScript.src.replace(r,""),n=e+"patterns/";s.paths?(s.paths.maindir=s.paths.maindir||e,s.paths.patterndir=s.paths.patterndir||n):s.paths={maindir:e,patterndir:n}})(),s.setup?(s.setup.CORScredentials=s.setup.CORScredentials||"include",s.setup.hide=s.setup.hide||"all",s.setup.selectors=s.setup.selectors||{".hyphenate":{}},s.setup.timeout=s.setup.timeout||1e3):s.setup={CORScredentials:"include",hide:"all",selectors:{".hyphenate":{}},timeout:1e3},s.setup.hide=new Map([["all",1],["element",2],["text",3]]).get(s.setup.hide)||0,(()=>{const e=new Map(n.entries(s.require)),t=s.fallbacks?new Map(n.entries(s.fallbacks)):new Map;e.forEach((e,s)=>{const n=t.get(s)||s;o.set(s.toLowerCase(),new Map([["fn",n],["wo",e]]))})})(),s.defProm=()=>{let e=null,t=null;const s=new Promise((s,n)=>{e=s,t=n});return s.resolve=e,s.reject=t,s},s.hide=(e,a)=>{const r="H9Y_Styles";if(0===e){const e=t.getElementById(r);e&&e.remove()}else{const e="{visibility:hidden!important}",h=t[l]("style");let d="";h.id=r,1===a?d="html"+e:(o=s.setup.selectors,c=t=>{d+=2===a?t+e:t+"{color:transparent!important}"},n.keys(o).forEach(c)),h[i](t[p](d)),t.head[i](h)}var o,c};const c=(()=>{let e=null;const n="hyphens:auto",a=`visibility:hidden;-webkit-${n};-ms-${n};${n};width:48px;font-size:12px;line-height:12px;border:none;padding:0;word-wrap:normal`;return{ap:()=>e?(t.documentElement[i](e),e):null,cl:()=>{e&&e.remove()},cr:n=>{if(s.cf.get("langs").get(n))return;e=e||t[l]("body");const r=t[l]("div");r.lang=n,r.style.cssText=a,r[i](t[p](o.get(n).get("wo").toLowerCase())),e[i](r)}}})();s.res=new Map([["he",new Map]]);const h=new Map;function d(t){const n=o.get(t).get("fn")+".wasm";if(s.cf.set("pf",!0),s.cf.get("langs").set(t,"H9Y"),h.has(n)){const e=s.res.get("he").get(h.get(n));e.c+=1,s.res.get("he").set(t,e)}else s.res.get("he").set(t,{c:1,w:e.fetch(s.paths.patterndir+n,{credentials:s.setup.CORScredentials})}),h.set(n,t)}o.forEach((e,t)=>{"FORCEHYPHENOPOLY"===e.get("wo")||"H9Y"===s.cf.get("langs").get(t)?d(t):c.cr(t)});const g=c.ap();if(g){g.querySelectorAll("div").forEach(e=>{var t;"auto"===((t=e.style).hyphens||t.webkitHyphens||t.msHyphens)&&e.offsetHeight>12?s.cf.get("langs").set(e.lang,"CSS"):d(e.lang)}),c.cl()}const u=s.handleEvent;if(s.cf.get("pf")){s.res.set("DOM",new Promise(e=>{"loading"===t.readyState?t.addEventListener("DOMContentLoaded",e,{once:!0,passive:!0}):e()})),1===s.setup.hide&&s.hide(1,1),0!==s.setup.hide&&(s.timeOutHandler=e.setTimeout(()=>{s.hide(0,null),console.info(r+" timed out.")},s.setup.timeout)),s.res.get("DOM").then(()=>{s.setup.hide>1&&s.hide(1,s.setup.hide)});const n=t[l]("script");n.src=s.paths.maindir+"Hyphenopoly.js",t.head[i](n),s.hy6ors=new Map,s.cf.get("langs").forEach((e,t)=>{"H9Y"===e&&s.hy6ors.set(t,s.defProm())}),s.hy6ors.set("HTML",s.defProm()),s.hyphenators=new Proxy(s.hy6ors,{get:(e,t)=>e.get(t),set:()=>!0}),u&&u.polyfill&&u.polyfill()}else u&&u.tearDown&&u.tearDown(),e.Hyphenopoly=null;(()=>{if(s.cacheFeatureTests){const e=[...s.cf.get("langs").entries()];a.setItem(r,JSON.stringify([["langs",e],["pf",s.cf.get("pf")]]))}})()})(window,document,Hyphenopoly,Object);