!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.infamous=e():t.infamous=e()}(this,function(){return r={},i.m=n=[function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.components=e.html=e.core=e.utils=e.PushMenuLayout=e.Plane=e.Molecule=e.Grid=e.DoubleSidedPlane=e.Calendar=void 0;var s=r(i(2)),o=r(i(111)),a=r(i(109)),l=r(i(95)),u=r(i(112)),h=r(i(115)),c=n(i(103)),f=n(i(152)),d=n(i(245)),p=n(i(248));e.Calendar=s.default,e.DoubleSidedPlane=o.default,e.Grid=a.default,e.Molecule=l.default,e.Plane=u.default,e.PushMenuLayout=h.default,e.utils=c,e.core=f,e.html=d,e.components=p,e.version="17.0.4"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Calendar=void 0;var r,s=n(i(3)),o=n(i(29)),a=n(i(30)),l=n(i(34)),u=n(i(81)),h=n(i(89)),c=n(i(90)),f=n(i(94)),d=n(i(95)),p=n(i(109)),_=n(i(111)),v=n(i(110)),m=e.Calendar=(r=d.default,(0,u.default)(g,r),(0,a.default)(g,[{key:"_createGrid",value:function(){var t=new p.default(this.columnsRows[0],this.columnsRows[1],this.options.size);(0,v.default)(this.columnsRows[0]*this.columnsRows[1],function(t){var e=new _.default({properties:{background:"teal"}});this.planes.push(e)}.bind(this)),t.setChildren(this.planes),this.add(t)}},{key:"_initializeTransitions",value:function(){this.transitions={flipDiagonal:function(){this.flipSide=+!this.flipSide;var i,n=0;this.columnsRows.forEach(function(t,e){t<this.columnsRows[n]&&(n=e)}.bind(this)),i=+!n,(0,v.default)(this.columnsRows[0]+this.columnsRows[1]-1,function(e){(0,v.default)(this.columnsRows[n],function(t){0<=e-t&&e-t<this.columnsRows[i]&&function(t,e){void 0===t.__targetRotation&&(t.__targetRotation=new c.default(0));var i=new c.default(t.__targetRotation.get());t.__targetRotation.set(t.__targetRotation.get()+Math.PI),t.children[0].get().transformFrom(function(){return h.default.rotateY(i.get())}),t.children[1].get().transformFrom(function(){return h.default.rotateY(i.get()+Math.PI)}),setTimeout(function(){i.set(t.__targetRotation.get(),{duration:2e3,curve:f.default.outExpo})},0+50*e)}(this.planes[e-t+this.columnsRows[i]*t],e)}.bind(this))}.bind(this))}.bind(this)}}}]),g);function g(t,e){(0,o.default)(this,g);var i=(0,l.default)(this,(g.__proto__||(0,s.default)(g)).call(this,{size:t}));return i.transition=e,i.flipSide=0,i.columnsRows=[7,6],i.planes=[],i._initializeTransitions(),i._createGrid(),setTimeout(function(){this.transitions[this.transition](),setInterval(this.transitions[this.transition],2e3)}.bind(i),800),i}e.default=m},function(t,e,i){t.exports={default:i(4),__esModule:!0}},function(t,e,i){i(5),t.exports=i(16).Object.getPrototypeOf},function(t,e,i){var n=i(6),r=i(8);i(14)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(7);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(9),r=i(6),s=i(10)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(11)("keys"),r=i(13);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(12),r="__core-js_shared__",s=n[r]||(n[r]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var r=i(15),s=i(16),o=i(25);t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],n={};n[t]=e(i),r(r.S+r.F*o(function(){i(1)}),"Object",n)}},function(t,e,i){var _=i(12),v=i(16),m=i(17),g=i(19),y="prototype",b=function(t,e,i){var n,r,s,o=t&b.F,a=t&b.G,l=t&b.S,u=t&b.P,h=t&b.B,c=t&b.W,f=a?v:v[e]||(v[e]={}),d=f[y],p=a?_:l?_[e]:(_[e]||{})[y];for(n in a&&(i=e),i)(r=!o&&p&&void 0!==p[n])&&n in f||(s=r?p[n]:i[n],f[n]=a&&"function"!=typeof p[n]?i[n]:h&&r?m(s,_):c&&p[n]==s?function(n){function t(t,e,i){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,i)}return n.apply(this,arguments)}return t[y]=n[y],t}(s):u&&"function"==typeof s?m(Function.call,s):s,u&&((f.virtual||(f.virtual={}))[n]=s,t&b.R&&d&&!d[n]&&g(d,n,s)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,t.exports=b},function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(t,e,i){var s=i(18);t.exports=function(n,r,t){if(s(n),void 0===r)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)}}return function(){return n.apply(r,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(20),r=i(28);t.exports=i(24)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(21),r=i(23),s=i(27),o=Object.defineProperty;e.f=i(24)?Object.defineProperty:function(t,e,i){if(n(t),e=s(e,!0),n(i),r)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(22);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(24)&&!i(25)(function(){return 7!=Object.defineProperty(i(26)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){t.exports=!i(25)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n=i(22),r=i(12).document,s=n(r)&&n(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},function(t,e,i){var r=i(22);t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){"use strict";e.__esModule=!0;var n,r=i(31),s=(n=r)&&n.__esModule?n:{default:n};function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(t,n.key,n)}}e.default=function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}},function(t,e,i){t.exports={default:i(32),__esModule:!0}},function(t,e,i){i(33);var n=i(16).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(15);n(n.S+n.F*!i(24),"Object",{defineProperty:i(20).f})},function(t,e,i){"use strict";e.__esModule=!0;var n,r=i(35),s=(n=r)&&n.__esModule?n:{default:n};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,s.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(i(36)),s=n(i(65)),o="function"==typeof s.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,i){t.exports={default:i(37),__esModule:!0}},function(t,e,i){i(38),i(60),t.exports=i(64).f("iterator")},function(t,e,i){"use strict";var n=i(39)(!0);i(41)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){var l=i(40),u=i(7);t.exports=function(a){return function(t,e){var i,n,r=String(u(t)),s=l(e),o=r.length;return s<0||o<=s?a?"":void 0:(i=r.charCodeAt(s))<55296||56319<i||s+1===o||(n=r.charCodeAt(s+1))<56320||57343<n?a?r.charAt(s):i:a?r.slice(s,s+2):n-56320+(i-55296<<10)+65536}}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:i)(t)}},function(t,e,i){"use strict";function y(){return this}var b=i(42),x=i(15),w=i(43),S=i(19),k=i(9),M=i(44),O=i(45),C=i(58),P=i(8),E=i(59)("iterator"),T=!([].keys&&"next"in[].keys()),A="values";t.exports=function(t,e,i,n,r,s,o){O(i,e,n);function a(t){if(!T&&t in p)return p[t];switch(t){case"keys":case A:return function(){return new i(this,t)}}return function(){return new i(this,t)}}var l,u,h,c=e+" Iterator",f=r==A,d=!1,p=t.prototype,_=p[E]||p["@@iterator"]||r&&p[r],v=_||a(r),m=r?f?a("entries"):v:void 0,g="Array"==e&&p.entries||_;if(g&&((h=P(g.call(new t)))!==Object.prototype&&(C(h,c,!0),b||k(h,E)||S(h,E,y))),f&&_&&_.name!==A&&(d=!0,v=function(){return _.call(this)}),b&&!o||!T&&!d&&p[E]||S(p,E,v),M[e]=v,M[c]=y,r)if(l={values:f?v:a(A),keys:s?v:a("keys"),entries:m},o)for(u in l)u in p||w(p,u,l[u]);else x(x.P+x.F*(T||d),e,l);return l}},function(t,e){t.exports=!0},function(t,e,i){t.exports=i(19)},function(t,e){t.exports={}},function(t,e,i){"use strict";var n=i(46),r=i(28),s=i(58),o={};i(19)(o,i(59)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(o,{next:r(1,i)}),s(t,e+" Iterator")}},function(t,e,n){function r(){}var s=n(21),o=n(47),a=n(56),l=n(10)("IE_PROTO"),u="prototype",h=function(){var t,e=n(26)("iframe"),i=a.length;for(e.style.display="none",n(57).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;i--;)delete h[u][a[i]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(r[u]=s(t),i=new r,r[u]=null,i[l]=t):i=h(),void 0===e?i:o(i,e)}},function(t,e,i){var o=i(20),a=i(21),l=i(48);t.exports=i(24)?Object.defineProperties:function(t,e){a(t);for(var i,n=l(e),r=n.length,s=0;s<r;)o.f(t,i=n[s++],e[i]);return t}},function(t,e,i){var n=i(49),r=i(56);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var o=i(9),a=i(50),l=i(53)(!1),u=i(10)("IE_PROTO");t.exports=function(t,e){var i,n=a(t),r=0,s=[];for(i in n)i!=u&&o(n,i)&&s.push(i);for(;e.length>r;)o(n,i=e[r++])&&(~l(s,i)||s.push(i));return s}},function(t,e,i){var n=i(51),r=i(7);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(52);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var l=i(50),u=i(54),h=i(55);t.exports=function(a){return function(t,e,i){var n,r=l(t),s=u(r.length),o=h(i,s);if(a&&e!=e){for(;o<s;)if((n=r[o++])!=n)return!0}else for(;o<s;o++)if((a||o in r)&&r[o]===e)return a||o||0;return!a&&-1}}},function(t,e,i){var n=i(40),r=Math.min;t.exports=function(t){return 0<t?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(40),r=Math.max,s=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):s(t,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){t.exports=i(12).document&&document.documentElement},function(t,e,i){var n=i(20).f,r=i(9),s=i(59)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},function(t,e,i){var n=i(11)("wks"),r=i(13),s=i(12).Symbol,o="function"==typeof s;(t.exports=function(t){return n[t]||(n[t]=o&&s[t]||(o?s:r)("Symbol."+t))}).store=n},function(t,e,i){i(61);for(var n=i(12),r=i(19),s=i(44),o=i(59)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var u=a[l],h=n[u],c=h&&h.prototype;c&&!c[o]&&r(c,o,u),s[u]=s.Array}},function(t,e,i){"use strict";var n=i(62),r=i(63),s=i(44),o=i(50);t.exports=i(41)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){e.f=i(59)},function(t,e,i){t.exports={default:i(66),__esModule:!0}},function(t,e,i){i(67),i(78),i(79),i(80),t.exports=i(16).Symbol},function(t,e,i){"use strict";function n(t){var e=W[t]=E(N[U]);return e._k=t,e}function r(t,e){M(t);for(var i,n=S(e=O(e)),r=0,s=n.length;r<s;)$(t,i=n[r++],e[i]);return t}function s(t){var e=B.call(this,t=C(t,!0));return!(this===X&&h(W,t)&&!h(q,t))&&(!(e||!h(this,t)||!h(W,t)||h(this,G)&&this[G][t])||e)}function o(t,e){if(t=O(t),e=C(e,!0),t!==X||!h(W,e)||h(q,e)){var i=L(t,e);return!i||!h(W,e)||h(t,G)&&t[G][e]||(i.enumerable=!0),i}}function a(t){for(var e,i=j(O(t)),n=[],r=0;i.length>r;)h(W,e=i[r++])||e==G||e==p||n.push(e);return n}function l(t){for(var e,i=t===X,n=j(i?q:O(t)),r=[],s=0;n.length>s;)!h(W,e=n[s++])||i&&!h(X,e)||r.push(W[e]);return r}var u=i(12),h=i(9),c=i(24),f=i(15),d=i(43),p=i(68).KEY,_=i(25),v=i(11),m=i(58),g=i(13),y=i(59),b=i(64),x=i(69),w=i(70),S=i(71),k=i(74),M=i(21),O=i(50),C=i(27),P=i(28),E=i(46),T=i(75),A=i(77),R=i(20),F=i(48),L=A.f,z=R.f,j=T.f,N=u.Symbol,I=u.JSON,D=I&&I.stringify,U="prototype",G=y("_hidden"),V=y("toPrimitive"),B={}.propertyIsEnumerable,H=v("symbol-registry"),W=v("symbols"),q=v("op-symbols"),X=Object[U],Y="function"==typeof N,Z=u.QObject,Q=!Z||!Z[U]||!Z[U].findChild,J=c&&_(function(){return 7!=E(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=L(X,e);n&&delete X[e],z(t,e,i),n&&t!==X&&z(X,e,n)}:z,K=Y&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},$=function(t,e,i){return t===X&&$(q,e,i),M(t),e=C(e,!0),M(i),h(W,e)?(i.enumerable?(h(t,G)&&t[G][e]&&(t[G][e]=!1),i=E(i,{enumerable:P(0,!1)})):(h(t,G)||z(t,G,P(1,{})),t[G][e]=!0),J(t,e,i)):z(t,e,i)};Y||(d((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=g(0<arguments.length?arguments[0]:void 0),i=function(t){this===X&&i.call(q,t),h(this,G)&&h(this[G],e)&&(this[G][e]=!1),J(this,e,P(1,t))};return c&&Q&&J(X,e,{configurable:!0,set:i}),n(e)})[U],"toString",function(){return this._k}),A.f=o,R.f=$,i(76).f=T.f=a,i(73).f=s,i(72).f=l,c&&!i(42)&&d(X,"propertyIsEnumerable",s,!0),b.f=function(t){return n(y(t))}),f(f.G+f.W+f.F*!Y,{Symbol:N});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)y(tt[et++]);for(tt=F(y.store),et=0;tt.length>et;)x(tt[et++]);f(f.S+f.F*!Y,"Symbol",{for:function(t){return h(H,t+="")?H[t]:H[t]=N(t)},keyFor:function(t){if(K(t))return w(H,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),f(f.S+f.F*!Y,"Object",{create:function(t,e){return void 0===e?E(t):r(E(t),e)},defineProperty:$,defineProperties:r,getOwnPropertyDescriptor:o,getOwnPropertyNames:a,getOwnPropertySymbols:l}),I&&f(f.S+f.F*(!Y||_(function(){var t=N();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!K(t)){for(var e,i,n=[t],r=1;r<arguments.length;)n.push(arguments[r++]);return"function"==typeof(e=n[1])&&(i=e),!i&&k(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!K(e))return e}),n[1]=e,D.apply(I,n)}}}),N[U][V]||i(19)(N[U],V,N[U].valueOf),m(N,"Symbol"),m(Math,"Math",!0),m(u.JSON,"JSON",!0)},function(t,e,i){function n(t){a(t,r,{value:{i:"O"+ ++l,w:{}}})}var r=i(13)("meta"),s=i(22),o=i(9),a=i(20).f,l=0,u=Object.isExtensible||function(){return!0},h=!i(25)(function(){return u(Object.preventExtensions({}))}),c=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";n(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;n(t)}return t[r].w},onFreeze:function(t){return h&&c.NEED&&u(t)&&!o(t,r)&&n(t),t}}},function(t,e,i){var n=i(12),r=i(16),s=i(42),o=i(64),a=i(20).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=!s&&n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},function(t,e,i){var a=i(48),l=i(50);t.exports=function(t,e){for(var i,n=l(t),r=a(n),s=r.length,o=0;o<s;)if(n[i=r[o++]]===e)return i}},function(t,e,i){var a=i(48),l=i(72),u=i(73);t.exports=function(t){var e=a(t),i=l.f;if(i)for(var n,r=i(t),s=u.f,o=0;r.length>o;)s.call(t,n=r[o++])&&e.push(n);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(52);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(50),r=i(76).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?function(t){try{return r(t)}catch(t){return o.slice()}}(t):r(n(t))}},function(t,e,i){var n=i(49),r=i(56).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(73),r=i(28),s=i(50),o=i(27),a=i(9),l=i(23),u=Object.getOwnPropertyDescriptor;e.f=i(24)?u:function(t,e){if(t=s(t),e=o(e,!0),l)try{return u(t,e)}catch(t){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e){},function(t,e,i){i(69)("asyncIterator")},function(t,e,i){i(69)("observable")},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(i(82)),s=n(i(86)),o=n(i(35));e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,i){t.exports={default:i(83),__esModule:!0}},function(t,e,i){i(84),t.exports=i(16).Object.setPrototypeOf},function(t,e,i){var n=i(15);n(n.S,"Object",{setPrototypeOf:i(85).set})},function(t,e,r){function s(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var i=r(22),n=r(21);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,n){try{(n=r(17)(Function.call,r(77).f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return s(t,e),i?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:s}},function(t,e,i){t.exports={default:i(87),__esModule:!0}},function(t,e,i){i(88);var n=i(16).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(15);n(n.S,"Object",{create:i(46)})},function(t,e){function g(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function y(t){return Math.sqrt(g(t))}function b(t){return t<0?-1:1}var x={precision:1e-6,identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],multiply4x4:function(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]},multiply:function(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2],t[1]*e[0]+t[5]*e[1]+t[9]*e[2],t[2]*e[0]+t[6]*e[1]+t[10]*e[2],0,t[0]*e[4]+t[4]*e[5]+t[8]*e[6],t[1]*e[4]+t[5]*e[5]+t[9]*e[6],t[2]*e[4]+t[6]*e[5]+t[10]*e[6],0,t[0]*e[8]+t[4]*e[9]+t[8]*e[10],t[1]*e[8]+t[5]*e[9]+t[9]*e[10],t[2]*e[8]+t[6]*e[9]+t[10]*e[10],0,t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],1]},thenMove:function(t,e){return e[2]||(e[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+e[0],t[13]+e[1],t[14]+e[2],1]},moveThen:function(t,e){t[2]||(t[2]=0);var i=t[0]*e[0]+t[1]*e[4]+t[2]*e[8],n=t[0]*e[1]+t[1]*e[5]+t[2]*e[9],r=t[0]*e[2]+t[1]*e[6]+t[2]*e[10];return x.thenMove(e,[i,n,r])},translate:function(t,e,i){return void 0===i&&(i=0),[1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1]},thenScale:function(t,e){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],0,e[0]*t[4],e[1]*t[5],e[2]*t[6],0,e[0]*t[8],e[1]*t[9],e[2]*t[10],0,e[0]*t[12],e[1]*t[13],e[2]*t[14],1]},scale:function(t,e,i){return void 0===i&&(i=1),void 0===e&&(e=t),[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1]},rotateX:function(t){var e=Math.cos(t),i=Math.sin(t);return[1,0,0,0,0,e,i,0,0,-i,e,0,0,0,0,1]},rotateY:function(t){var e=Math.cos(t),i=Math.sin(t);return[e,0,-i,0,0,1,0,0,i,0,e,0,0,0,0,1]},rotateZ:function(t){var e=Math.cos(t),i=Math.sin(t);return[e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1]},rotate:function(t,e,i){var n=Math.cos(t),r=Math.sin(t),s=Math.cos(e),o=Math.sin(e),a=Math.cos(i),l=Math.sin(i);return[s*a,n*l+r*o*a,r*l-n*o*a,0,-s*l,n*a-r*o*l,r*a+n*o*l,0,o,-r*s,n*s,0,0,0,0,1]},rotateAxis:function(t,e){var i=Math.sin(e),n=Math.cos(e),r=1-n,s=t[0]*t[0]*r,o=t[0]*t[1]*r,a=t[0]*t[2]*r,l=t[1]*t[1]*r,u=t[1]*t[2]*r,h=t[2]*t[2]*r,c=t[0]*i,f=t[1]*i,d=t[2]*i;return[s+n,o+d,a-f,0,o-d,l+n,u+c,0,a+f,u-c,h+n,0,0,0,0,1]},aboutOrigin:function(t,e){var i=t[0]-(t[0]*e[0]+t[1]*e[4]+t[2]*e[8]),n=t[1]-(t[0]*e[1]+t[1]*e[5]+t[2]*e[9]),r=t[2]-(t[0]*e[2]+t[1]*e[6]+t[2]*e[10]);return x.thenMove(e,[i,n,r])},skew:function(t,e,i){return[1,Math.tan(e),0,0,Math.tan(i),1,0,0,0,Math.tan(t),1,0,0,0,0,1]},skewX:function(t){return[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1]},skewY:function(t){return[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1]},perspective:function(t){return[1,0,0,0,0,1,0,0,0,0,1,-1/t,0,0,0,1]},getTranslate:function(t){return[t[12],t[13],t[14]]},inverse:function(t){var e=t[5]*t[10]-t[6]*t[9],i=t[4]*t[10]-t[6]*t[8],n=t[4]*t[9]-t[5]*t[8],r=t[1]*t[10]-t[2]*t[9],s=t[0]*t[10]-t[2]*t[8],o=t[0]*t[9]-t[1]*t[8],a=t[1]*t[6]-t[2]*t[5],l=t[0]*t[6]-t[2]*t[4],u=t[0]*t[5]-t[1]*t[4],h=1/(t[0]*e-t[1]*i+t[2]*n),c=[h*e,-h*r,h*a,0,-h*i,h*s,-h*l,0,h*n,-h*o,h*u,0,0,0,0,1];return c[12]=-t[12]*c[0]-t[13]*c[4]-t[14]*c[8],c[13]=-t[12]*c[1]-t[13]*c[5]-t[14]*c[9],c[14]=-t[12]*c[2]-t[13]*c[6]-t[14]*c[10],c},transpose:function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},interpret:function(t){var e=[t[0],t[1],t[2]],i=b(e[0]),n=y(e),r=[e[0]+i*n,e[1],e[2]],s=2/g(r);if(1/0<=s)return{translate:x.getTranslate(t),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];o[0]=1-s*r[0]*r[0],o[5]=1-s*r[1]*r[1],o[10]=1-s*r[2]*r[2],o[1]=-s*r[0]*r[1],o[2]=-s*r[0]*r[2],o[6]=-s*r[1]*r[2],o[4]=o[1],o[8]=o[2],o[9]=o[6];var a=x.multiply(o,t),l=[a[5],a[6]],u=b(l[0]),h=y(l),c=[l[0]+u*h,l[1]],f=2/g(c),d=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];d[5]=1-f*c[0]*c[0],d[10]=1-f*c[1]*c[1],d[6]=-f*c[0]*c[1],d[9]=d[6];var p=x.multiply(d,o),_=x.multiply(p,t),v=x.scale(_[0]<0?-1:1,_[5]<0?-1:1,_[10]<0?-1:1);_=x.multiply(_,v),p=x.multiply(v,p);var m={};return m.translate=x.getTranslate(t),m.rotate=[Math.atan2(-p[6],p[10]),Math.asin(p[2]),Math.atan2(-p[1],p[0])],m.rotate[0]||(m.rotate[0]=0,m.rotate[2]=Math.atan2(p[4],p[5])),m.scale=[_[0],_[5],_[10]],m.skew=[Math.atan2(_[9],m.scale[2]),Math.atan2(_[8],m.scale[2]),Math.atan2(_[4],m.scale[0])],Math.abs(m.rotate[0])+Math.abs(m.rotate[2])>1.5*Math.PI&&(m.rotate[1]=Math.PI-m.rotate[1],m.rotate[1]>Math.PI&&(m.rotate[1]-=2*Math.PI),m.rotate[1]<-Math.PI&&(m.rotate[1]+=2*Math.PI),m.rotate[0]<0?m.rotate[0]+=Math.PI:m.rotate[0]-=Math.PI,m.rotate[2]<0?m.rotate[2]+=Math.PI:m.rotate[2]-=Math.PI),m},average:function(t,e,i){i=void 0===i?.5:i;for(var n=x.interpret(t),r=x.interpret(e),s={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},o=0;o<3;o++)s.translate[o]=(1-i)*n.translate[o]+i*r.translate[o],s.rotate[o]=(1-i)*n.rotate[o]+i*r.rotate[o],s.scale[o]=(1-i)*n.scale[o]+i*r.scale[o],s.skew[o]=(1-i)*n.skew[o]+i*r.skew[o];return x.build(s)},build:function(t){var e=x.scale(t.scale[0],t.scale[1],t.scale[2]),i=x.skew(t.skew[0],t.skew[1],t.skew[2]),n=x.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return x.thenMove(x.multiply(x.multiply(n,i),e),t.translate)},equals:function(t,e){return!x.notEquals(t,e)},notEquals:function(t,e){return!(t===e||t&&e&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10])},normalizeRotation:function(t){var e=t.slice(0);for(e[0]!==.5*Math.PI&&e[0]!==.5*-Math.PI||(e[0]=-e[0],e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]>.5*Math.PI&&(e[0]=e[0]-Math.PI,e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]<.5*-Math.PI&&(e[0]=e[0]+Math.PI,e[1]=-Math.PI-e[1],e[2]-=Math.PI);e[1]<-Math.PI;)e[1]+=2*Math.PI;for(;e[1]>=Math.PI;)e[1]-=2*Math.PI;for(;e[2]<-Math.PI;)e[2]+=2*Math.PI;for(;e[2]>=Math.PI;)e[2]-=2*Math.PI;return e},inFront:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,.001,1],behind:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-.001,1]};t.exports=x},function(t,e,i){function n(t){this.currentAction=null,this.actionQueue=[],this.callbackQueue=[],this.state=0,this.velocity=void 0,this._callback=void 0,this._engineInstance=null,this._currentMethod=null,this.set(t)}var s=i(91),o=i(93),a={};n.register=function(t){var e=!0;for(var i in t)n.registerMethod(i,t[i])||(e=!1);return e},n.registerMethod=function(t,e){return!(t in a||(a[t]=e,0))},n.unregisterMethod=function(t){return t in a&&(delete a[t],!0)},n.prototype.set=function(t,e,i){if(!e)return this.reset(t),i&&i(),this;var n=[t,e];return this.actionQueue.push(n),this.callbackQueue.push(i),this.currentAction||function t(){if(this._callback){var e=this._callback;this._callback=void 0,e()}if(this.actionQueue.length<=0)this.set(this.get());else{this.currentAction=this.actionQueue.shift(),this._callback=this.callbackQueue.shift();var i=null,n=this.currentAction[0],r=this.currentAction[1];r instanceof Object&&r.method?"string"==typeof(i=r.method)&&(i=a[i]):i=o,this._currentMethod!==i&&(!(n instanceof Object)||!0===i.SUPPORTS_MULTIPLE||n.length<=i.SUPPORTS_MULTIPLE?this._engineInstance=new i:this._engineInstance=new s(i),this._currentMethod=i),this._engineInstance.reset(this.state,this.velocity),void 0!==this.velocity&&(r.velocity=this.velocity),this._engineInstance.set(n,r,t.bind(this))}}.call(this),this},n.prototype.reset=function(t,e){this._currentMethod=null,this._engineInstance=null,this._callback=void 0,this.state=t,this.velocity=e,this.currentAction=null,this.actionQueue=[],this.callbackQueue=[]},n.prototype.delay=function(t,e){var i;return i=this.actionQueue.length?this.actionQueue[this.actionQueue.length-1][0]:this.currentAction?this.currentAction[0]:this.get(),this.set(i,{duration:t,curve:function(){return 0}},e)},n.prototype.get=function(t){return this._engineInstance&&(this._engineInstance.getVelocity&&(this.velocity=this._engineInstance.getVelocity()),this.state=this._engineInstance.get(t)),this.state},n.prototype.isActive=function(){return!!this.currentAction},n.prototype.halt=function(){return this.set(this.get())},t.exports=n},function(t,e,i){function n(t){this.method=t,this._instances=[],this.state=[]}var s=i(92);n.SUPPORTS_MULTIPLE=!0,n.prototype.get=function(){for(var t=0;t<this._instances.length;t++)this.state[t]=this._instances[t].get();return this.state},n.prototype.set=function(t,e,i){for(var n=s.after(t.length,i),r=0;r<t.length;r++)this._instances[r]||(this._instances[r]=new this.method),this._instances[r].set(t[r],e,n)},n.prototype.reset=function(t){for(var e=0;e<t.length;e++)this._instances[e]||(this._instances[e]=new this.method),this._instances[e].reset(t[e])},t.exports=n},function(t,e){var r={Direction:{X:0,Y:1,Z:2},after:function(t,e){var i=t;return function(){0===--i&&e.apply(this,arguments)}},loadURL:function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&e&&e(this.responseText)},i.open("GET",t),i.send()},createDocumentFragmentFromHTML:function(t){var e=document.createElement("div");e.innerHTML=t;for(var i=document.createDocumentFragment();e.hasChildNodes();)i.appendChild(e.firstChild);return i},clone:function(t){var e;if("object"==typeof t)for(var i in e=t instanceof Array?[]:{},t)if("object"==typeof t[i]&&null!==t[i])if(t[i]instanceof Array){e[i]=new Array(t[i].length);for(var n=0;n<t[i].length;n++)e[i][n]=r.clone(t[i][n])}else e[i]=r.clone(t[i]);else e[i]=t[i];else e=t;return e}};t.exports=r},function(t,e){function u(t){this.options=Object.create(u.DEFAULT_OPTIONS),t&&this.setOptions(t),this._startTime=0,this._startValue=0,this._updateTime=0,this._endValue=0,this._curve=void 0,this._duration=0,this._active=!1,this._callback=void 0,this.state=0,this.velocity=void 0}function s(t,e,i){return(1-i)*t+i*e}function h(t){return t instanceof Object?t instanceof Array?t.slice(0):Object.create(t):t}function r(t,e,i,n,r){var s,o=(i(r)-i(r-1e-7))/1e-7;if(t instanceof Array){s=[];for(var a=0;a<t.length;a++)"number"==typeof t[a]?s[a]=o*(t[a]-e[a])/n:s[a]=0}else s=o*(t-e)/n;return s}u.Curves={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return t<=.5?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}},u.SUPPORTS_MULTIPLE=!0,u.DEFAULT_OPTIONS={curve:u.Curves.linear,duration:500,speed:0};var i={};u.registerCurve=function(t,e){return!i[t]&&(i[t]=e,!0)},u.unregisterCurve=function(t){return!!i[t]&&(delete i[t],!0)},u.getCurve=function(t){var e=i[t];if(void 0!==e)return e;throw new Error("curve not registered")},u.getCurves=function(){return i},u.prototype.setOptions=function(t){void 0!==t.curve&&(this.options.curve=t.curve),void 0!==t.duration&&(this.options.duration=t.duration),void 0!==t.speed&&(this.options.speed=t.speed)},u.prototype.set=function(t,e,i){if(!e)return this.reset(t),void(i&&i());if(this._startValue=h(this.get()),o=e,a=this.options,l={curve:a.curve},a.duration&&(l.duration=a.duration),a.speed&&(l.speed=a.speed),o instanceof Object&&(void 0!==o.duration&&(l.duration=o.duration),o.curve&&(l.curve=o.curve),o.speed&&(l.speed=o.speed)),"string"==typeof l.curve&&(l.curve=u.getCurve(l.curve)),(e=l).speed){var n=this._startValue;if(n instanceof Object){var r=0;for(var s in n)r+=(t[s]-n[s])*(t[s]-n[s]);e.duration=Math.sqrt(r)/e.speed}else e.duration=Math.abs(t-n)/e.speed}var o,a,l;this._startTime=Date.now(),this._endValue=h(t),this._startVelocity=h(e.velocity),this._duration=e.duration,this._curve=e.curve,this._active=!0,this._callback=i},u.prototype.reset=function(t,e){if(this._callback){var i=this._callback;this._callback=void 0,i()}this.state=h(t),this.velocity=h(e),this._startTime=0,this._duration=0,this._updateTime=0,this._startValue=this.state,this._startVelocity=this.velocity,this._endValue=this.state,this._active=!1},u.prototype.getVelocity=function(){return this.velocity},u.prototype.get=function(t){return this.update(t),this.state},u.prototype.update=function(t){if(this._active){if(t=t||Date.now(),!(this._updateTime>=t)){var e=(this._updateTime=t)-this._startTime;if(e>=this._duration)this.state=this._endValue,this.velocity=r(this.state,this._startValue,this._curve,this._duration,1),this._active=!1;else if(e<0)this.state=this._startValue,this.velocity=this._startVelocity;else{var i=e/this._duration;this.state=function(t,e,i){var n;if(t instanceof Array){n=[];for(var r=0;r<t.length;r++)"number"==typeof t[r]?n[r]=s(t[r],e[r],i):n[r]=t[r]}else n=s(t,e,i);return n}(this._startValue,this._endValue,this._curve(i)),this.velocity=r(this.state,this._startValue,this._curve,this._duration,i)}}}else if(this._callback){var n=this._callback;this._callback=void 0,n()}},u.prototype.isActive=function(){return this._active},u.prototype.halt=function(){this.reset(this.get())},u.registerCurve("linear",u.Curves.linear),u.registerCurve("easeIn",u.Curves.easeIn),u.registerCurve("easeOut",u.Curves.easeOut),u.registerCurve("easeInOut",u.Curves.easeInOut),u.registerCurve("easeOutBounce",u.Curves.easeOutBounce),u.registerCurve("spring",u.Curves.spring),u.customCurve=function(e,i){return e=e||0,i=i||0,function(t){return e*t+(-2*e-i+3)*t*t+(e+i-2)*t*t*t}},t.exports=u},function(t,e){var i={inQuad:function(t){return t*t},outQuad:function(t){return- --t*t+1},inOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},inQuart:function(t){return t*t*t*t},outQuart:function(t){return-(--t*t*t*t-1)},inOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return--t*t*t*t*t+1},inOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inSine:function(t){return-1*Math.cos(t*(Math.PI/2))+1},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},inExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},outExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},inOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},inCirc:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t){var e=1.70158,i=0;return 0===t?0:1===t?1:(e=(i=i||.3)/(2*Math.PI)*Math.asin(1),-(Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/i)))},outElastic:function(t){var e=1.70158,i=0;return 0===t?0:1===t?1:(e=(i=i||.3)/(2*Math.PI)*Math.asin(1),Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},inOutElastic:function(t){var e=1.70158,i=0;return 0===t?0:2==(t/=.5)?1:(e=(i=i||.3*1.5)/(2*Math.PI)*Math.asin(1),t<1?Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/i)*-.5:Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},inBack:function(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)},outBack:function(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1},inOutBack:function(t,e){return void 0===e&&(e=1.70158),(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},inBounce:function(t){return 1-i.outBounce(1-t)},outBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOutBounce:function(t){return t<.5?.5*i.inBounce(2*t):.5*i.outBounce(2*t-1)+.5}};t.exports=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Molecule=void 0;var r=n(i(3)),s=n(i(29)),o=n(i(30)),a=n(i(34)),l=n(i(81)),u=n(i(96)),h=n(i(98)),c=n(i(97)),f=n(i(101)),d=i(103);i(108);var p,_=e.Molecule=(p=h.default,(0,l.default)(v,p),(0,o.default)(v,[{key:"setOptions",value:function(t){for(var e in void 0!==t&&"Object"==t.constructor.name||(t={}),t)u.default.prototype[e+"From"]&&this.modifier[e+"From"](t[e]),this._.options[e]=t[e]}},{key:"resetOptions",value:function(){this.modifier=new u.default,this.set(this.modifier),this.setOptions(this._.defaultOptions)}},{key:"pipe",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.options.handler.pipe.apply(this.options.handler,t)}},{key:"unpipe",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.options.handler.unpipe.apply(this.options.handler,t)}},{key:"on",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.options.handler.on.apply(this.options.handler,t)}},{key:"off",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.options.handler.on.apply(this.options.handler,t)}},{key:"options",set:function(t){this.resetOptions(),this.setOptions(t)},get:function(){return this._.options}},{key:"transform",set:function(t){this.setOptions({transform:t})},get:function(){return this.options.transform}}]),v);function v(t){(0,s.default)(this,v);var e=(0,a.default)(this,(v.__proto__||(0,r.default)(v)).call(this));return e._={options:{},defaultOptions:{}},(0,d.simpleExtend)(e._.defaultOptions,{align:[.5,.5],origin:[.5,.5],transform:new c.default,handler:new f.default}),e.options=t,e}e.default=_},function(t,e,i){function n(t){this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null,this._legacyStates={},this._output={transform:r.identity,opacity:1,origin:null,align:null,size:null,proportions:null,target:null},t&&(t.transform&&this.transformFrom(t.transform),void 0!==t.opacity&&this.opacityFrom(t.opacity),t.origin&&this.originFrom(t.origin),t.align&&this.alignFrom(t.align),t.size&&this.sizeFrom(t.size),t.proportions&&this.proportionsFrom(t.proportions))}var r=i(89),s=i(90),o=i(97);n.prototype.transformFrom=function(t){return t instanceof Function?this._transformGetter=t:t instanceof Object&&t.get?this._transformGetter=t.get.bind(t):(this._transformGetter=null,this._output.transform=t),this},n.prototype.opacityFrom=function(t){return t instanceof Function?this._opacityGetter=t:t instanceof Object&&t.get?this._opacityGetter=t.get.bind(t):(this._opacityGetter=null,this._output.opacity=t),this},n.prototype.originFrom=function(t){return t instanceof Function?this._originGetter=t:t instanceof Object&&t.get?this._originGetter=t.get.bind(t):(this._originGetter=null,this._output.origin=t),this},n.prototype.alignFrom=function(t){return t instanceof Function?this._alignGetter=t:t instanceof Object&&t.get?this._alignGetter=t.get.bind(t):(this._alignGetter=null,this._output.align=t),this},n.prototype.sizeFrom=function(t){return t instanceof Function?this._sizeGetter=t:t instanceof Object&&t.get?this._sizeGetter=t.get.bind(t):(this._sizeGetter=null,this._output.size=t),this},n.prototype.proportionsFrom=function(t){return t instanceof Function?this._proportionGetter=t:t instanceof Object&&t.get?this._proportionGetter=t.get.bind(t):(this._proportionGetter=null,this._output.proportions=t),this},n.prototype.setTransform=function(t,e,i){return e||this._legacyStates.transform?(this._legacyStates.transform||(this._legacyStates.transform=new o(this._output.transform)),this._transformGetter||this.transformFrom(this._legacyStates.transform),this._legacyStates.transform.set(t,e,i),this):this.transformFrom(t)},n.prototype.setOpacity=function(t,e,i){return e||this._legacyStates.opacity?(this._legacyStates.opacity||(this._legacyStates.opacity=new s(this._output.opacity)),this._opacityGetter||this.opacityFrom(this._legacyStates.opacity),this._legacyStates.opacity.set(t,e,i)):this.opacityFrom(t)},n.prototype.setOrigin=function(t,e,i){return e||this._legacyStates.origin?(this._legacyStates.origin||(this._legacyStates.origin=new s(this._output.origin||[0,0])),this._originGetter||this.originFrom(this._legacyStates.origin),this._legacyStates.origin.set(t,e,i),this):this.originFrom(t)},n.prototype.setAlign=function(t,e,i){return e||this._legacyStates.align?(this._legacyStates.align||(this._legacyStates.align=new s(this._output.align||[0,0])),this._alignGetter||this.alignFrom(this._legacyStates.align),this._legacyStates.align.set(t,e,i),this):this.alignFrom(t)},n.prototype.setSize=function(t,e,i){return t&&(e||this._legacyStates.size)?(this._legacyStates.size||(this._legacyStates.size=new s(this._output.size||[0,0])),this._sizeGetter||this.sizeFrom(this._legacyStates.size),this._legacyStates.size.set(t,e,i),this):this.sizeFrom(t)},n.prototype.setProportions=function(t,e,i){return t&&(e||this._legacyStates.proportions)?(this._legacyStates.proportions||(this._legacyStates.proportions=new s(this._output.proportions||[0,0])),this._proportionGetter||this.proportionsFrom(this._legacyStates.proportions),this._legacyStates.proportions.set(t,e,i),this):this.proportionsFrom(t)},n.prototype.halt=function(){this._legacyStates.transform&&this._legacyStates.transform.halt(),this._legacyStates.opacity&&this._legacyStates.opacity.halt(),this._legacyStates.origin&&this._legacyStates.origin.halt(),this._legacyStates.align&&this._legacyStates.align.halt(),this._legacyStates.size&&this._legacyStates.size.halt(),this._legacyStates.proportions&&this._legacyStates.proportions.halt(),this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null},n.prototype.getTransform=function(){return this._transformGetter()},n.prototype.getFinalTransform=function(){return this._legacyStates.transform?this._legacyStates.transform.getFinal():this._output.transform},n.prototype.getOpacity=function(){return this._opacityGetter()},n.prototype.getOrigin=function(){return this._originGetter()},n.prototype.getAlign=function(){return this._alignGetter()},n.prototype.getSize=function(){return this._sizeGetter?this._sizeGetter():this._output.size},n.prototype.getProportions=function(){return this._proportionGetter?this._proportionGetter():this._output.proportions},n.prototype.modify=function(t){return function(){this._transformGetter&&(this._output.transform=this._transformGetter()),this._opacityGetter&&(this._output.opacity=this._opacityGetter()),this._originGetter&&(this._output.origin=this._originGetter()),this._alignGetter&&(this._output.align=this._alignGetter()),this._sizeGetter&&(this._output.size=this._sizeGetter()),this._proportionGetter&&(this._output.proportions=this._proportionGetter())}.call(this),this._output.target=t,this._output},t.exports=n},function(t,e,i){function n(t){this._final=l.identity.slice(),this._finalTranslate=[0,0,0],this._finalRotate=[0,0,0],this._finalSkew=[0,0,0],this._finalScale=[1,1,1],this.translate=[],this.rotate=[],this.skew=[],this.scale=[];for(var e=0;e<3;e+=1)this.translate[e]=new r(this._finalTranslate[e]),this.rotate[e]=new r(this._finalRotate[e]),this.skew[e]=new r(this._finalSkew[e]),this.scale[e]=new r(this._finalScale[e]);t&&this.set(t)}function o(){return l.build({translate:this._finalTranslate,rotate:this._finalRotate,skew:this._finalSkew,scale:this._finalScale})}function a(t,e){for(var i=0,n=0;n<t.length;n+=1)typeof t[n]==e+""&&(i+=1);return i}var r=i(90),l=i(89),u=i(92);n.prototype.setTranslate=function(t,e,i){for(var n=a(t,"number"),r=i?u.after(n,i):null,s=0;s<t.length;s+=1)"number"==typeof t[s]&&(this.translate[s].set(t[s],e,r),this._finalTranslate[s]=t[s]);return this._final=o.call(this),this},n.prototype.setTranslateX=function(t,e,i){return this.translate[0].set(t,e,i),this._finalTranslate[0]=t,this._final=o.call(this),this},n.prototype.setTranslateY=function(t,e,i){return this.translate[1].set(t,e,i),this._finalTranslate[1]=t,this._final=o.call(this),this},n.prototype.setTranslateZ=function(t,e,i){return this.translate[2].set(t,e,i),this._finalTranslate[2]=t,this._final=o.call(this),this},n.prototype.setScale=function(t,e,i){for(var n=a(t,"number"),r=i?u.after(n,i):null,s=0;s<t.length;s+=1)"number"==typeof t[s]&&(this.scale[s].set(t[s],e,r),this._finalScale[s]=t[s]);return this._final=o.call(this),this},n.prototype.setScaleX=function(t,e,i){return this.scale[0].set(t,e,i),this._finalScale[0]=t,this._final=o.call(this),this},n.prototype.setScaleY=function(t,e,i){return this.scale[1].set(t,e,i),this._finalScale[1]=t,this._final=o.call(this),this},n.prototype.setScaleZ=function(t,e,i){return this.scale[2].set(t,e,i),this._finalScale[2]=t,this._final=o.call(this),this},n.prototype.setRotate=function(t,e,i){for(var n=a(t,"number"),r=i?u.after(n,i):null,s=0;s<t.length;s+=1)"number"==typeof t[s]&&(this.rotate[s].set(t[s],e,r),this._finalRotate[s]=t[s]);return this._final=o.call(this),this},n.prototype.setRotateX=function(t,e,i){return this.rotate[0].set(t,e,i),this._finalRotate[0]=t,this._final=o.call(this),this},n.prototype.setRotateY=function(t,e,i){return this.rotate[1].set(t,e,i),this._finalRotate[1]=t,this._final=o.call(this),this},n.prototype.setRotateZ=function(t,e,i){return this.rotate[2].set(t,e,i),this._finalRotate[2]=t,this._final=o.call(this),this},n.prototype.setSkew=function(t,e,i){for(var n=a(t,"number"),r=i?u.after(n,i):null,s=0;s<t.length;s+=1)"number"==typeof t[s]&&(this.skew[s].set(t[s],e,r),this._finalSkew[s]=t[s]);return this._final=o.call(this),this},n.prototype.setSkewX=function(t,e,i){return this.skew[0].set(t,e,i),this._finalSkew[0]=t,this._final=o.call(this),this},n.prototype.setSkewY=function(t,e,i){return this.skew[1].set(t,e,i),this._finalSkew[1]=t,this._final=o.call(this),this},n.prototype.setSkewZ=function(t,e,i){return this.skew[2].set(t,e,i),this._finalSkew[2]=t,this._final=o.call(this),this},n.prototype.set=function(t,e,i){var n=l.interpret(t);this._finalTranslate=n.translate,this._finalRotate=n.rotate,this._finalSkew=n.skew,this._finalScale=n.scale,this._final=t;for(var r=i?u.after(12,i):null,s=0;s<3;s+=1)this.translate[s].set(n.translate[s],e,r),this.rotate[s].set(n.rotate[s],e,r),this.skew[s].set(n.skew[s],e,r),this.scale[s].set(n.scale[s],e,r);return this},n.prototype.setDefaultTransition=function(t){for(var e=0;e<3;e+=1)this.translate[e].setDefault(t),this.rotate[e].setDefault(t),this.skew[e].setDefault(t),this.scale[e].setDefault(t)},n.prototype.get=function(){return this.isActive()?function(){return l.build({translate:[this.translate[0].get(),this.translate[1].get(),this.translate[2].get()],rotate:[this.rotate[0].get(),this.rotate[1].get(),this.rotate[2].get()],skew:[this.skew[0].get(),this.skew[1].get(),this.skew[2].get()],scale:[this.scale[0].get(),this.scale[1].get(),this.scale[2].get()]})}.call(this):this._final},n.prototype.getFinal=function(){return this._final},n.prototype.isActive=function(){for(var t=!1,e=0;e<3;e+=1)if(this.translate[e].isActive()||this.rotate[e].isActive()||this.skew[e].isActive()||this.scale[e].isActive()){t=!0;break}return t},n.prototype.halt=function(){for(var t=0;t<3;t+=1)this.translate[t].halt(),this.rotate[t].halt(),this.skew[t].halt(),this.scale[t].halt(),this._finalTranslate[t]=this.translate[t].get(),this._finalRotate[t]=this.rotate[t].get(),this._finalSkew[t]=this.skew[t].get(),this._finalScale[t]=this.scale[t].get();return this._final=this.get(),this},t.exports=n},function(t,e,i){function n(t){this._object=null,this._child=null,this._hasMultipleChildren=!1,this._isRenderable=!1,this._isModifier=!1,this._resultCache={},this._prevResults={},this._childResult=null,t&&this.set(t)}var c=i(99),f=i(100);n.prototype.add=function(t){var e=t instanceof n?t:new n(t);return this._child instanceof Array?this._child.push(e):this._child?(this._child=[this._child,e],this._hasMultipleChildren=!0,this._childResult=[]):this._child=e,e},n.prototype.get=function(){return this._object||(!this._hasMultipleChildren&&this._child?this._child.get():null)},n.prototype.set=function(t){return this._childResult=null,this._hasMultipleChildren=!1,this._isRenderable=!!t.render,this._isModifier=!!t.modify,this._object=t,this._child=null,t instanceof n?t:this},n.prototype.getSize=function(){var t=null,e=this.get();return e&&e.getSize&&(t=e.getSize()),!t&&this._child&&this._child.getSize&&(t=this._child.getSize()),t},n.prototype.commit=function(t){for(var e=Object.keys(this._prevResults),i=0;i<e.length;i++){var n=e[i];if(void 0===this._resultCache[n]){var r=c.get(n);r.cleanup&&r.cleanup(t.allocator)}}this._prevResults=this._resultCache,this._resultCache={},function t(e,i,n){for(var r=f.parse(e,i),s=Object.keys(r),o=0;o<s.length;o++){var a=s[o],l=c.get(a),u=r[a];u.allocator=i.allocator;var h=l.commit(u);h?t(h,i,n):n[a]=u}}(this.render(),t,this._resultCache)},n.prototype.render=function(){if(this._isRenderable)return this._object.render();var t=null;if(this._hasMultipleChildren){t=this._childResult;for(var e=this._child,i=0;i<e.length;i++)t[i]=e[i].render()}else this._child&&(t=this._child.render());return this._isModifier?this._object.modify(t):t},t.exports=n},function(t,e){function i(t,e){n[t]=e}var n=[];t.exports={register:function(t){var e=n.length;return i(e,t),e},unregister:function(t){i(t,null)},get:function(t){return n[t]},set:i}},function(t,e,i){function n(){this.result={}}function p(t,e){return[t[0]*e[0]+t[1]*e[4]+t[2]*e[8],t[0]*e[1]+t[1]*e[5]+t[2]*e[9],t[0]*e[2]+t[1]*e[6]+t[2]*e[10]]}var _=i(89);n._instance=new n,n.parse=function(t,e){return n._instance.parse(t,e)},n.prototype.parse=function(t,e){return this.reset(),this._parseSpec(t,e,_.identity),this.result},n.prototype.reset=function(){this.result={}};var v=[0,0];n.prototype._parseSpec=function(t,e,i){var n,r,s,o,a,l,u;if("number"==typeof t){if(n=t,s=e.transform,l=e.align||v,e.size&&l&&(l[0]||l[1])){var h=[l[0]*e.size[0],l[1]*e.size[1],0];s=_.thenMove(s,p(h,i))}this.result[n]={transform:s,opacity:e.opacity,origin:e.origin||v,align:e.align||v,size:e.size}}else{if(!t)return;if(t instanceof Array)for(var c=0;c<t.length;c++)this._parseSpec(t[c],e,i);else{r=t.target,s=e.transform,o=e.opacity,a=e.origin,l=e.align,u=e.size;var f=i;if(void 0!==t.opacity&&(o=e.opacity*t.opacity),t.transform&&(s=_.multiply(e.transform,t.transform)),t.origin&&(a=t.origin,f=e.transform),t.align&&(l=t.align),t.size||t.proportions){var d=u;u=[u[0],u[1]],t.size&&(void 0!==t.size[0]&&(u[0]=t.size[0]),void 0!==t.size[1]&&(u[1]=t.size[1])),t.proportions&&(void 0!==t.proportions[0]&&(u[0]=u[0]*t.proportions[0]),void 0!==t.proportions[1]&&(u[1]=u[1]*t.proportions[1])),d&&(l&&(l[0]||l[1])&&(s=_.thenMove(s,p([l[0]*d[0],l[1]*d[1],0],i))),a&&(a[0]||a[1])&&(s=_.moveThen([-a[0]*u[0],-a[1]*u[1],0],s))),f=e.transform,l=a=null}this._parseSpec(r,{transform:s,opacity:o,origin:a,align:l,size:u},f)}}},t.exports=n},function(t,e,i){function n(){r.apply(this,arguments),this.downstream=[],this.downstreamFn=[],this.upstream=[],this.upstreamListeners={}}var r=i(102);((n.prototype=Object.create(r.prototype)).constructor=n).setInputHandler=function(t,e){t.trigger=e.trigger.bind(e),e.subscribe&&e.unsubscribe&&(t.subscribe=e.subscribe.bind(e),t.unsubscribe=e.unsubscribe.bind(e))},n.setOutputHandler=function(t,e){e instanceof n&&e.bindThis(t),t.pipe=e.pipe.bind(e),t.unpipe=e.unpipe.bind(e),t.on=e.on.bind(e),t.addListener=t.on,t.removeListener=e.removeListener.bind(e)},n.prototype.trigger=n.prototype.emit=function(t,e){r.prototype.emit.apply(this,arguments);var i=0;for(i=0;i<this.downstream.length;i++)this.downstream[i].trigger&&this.downstream[i].trigger(t,e);for(i=0;i<this.downstreamFn.length;i++)this.downstreamFn[i](t,e);return this},n.prototype.pipe=function(t){if(t.subscribe instanceof Function)return t.subscribe(this);var e=t instanceof Function?this.downstreamFn:this.downstream;return e.indexOf(t)<0&&e.push(t),t instanceof Function?t("pipe",null):t.trigger&&t.trigger("pipe",null),t},n.prototype.unpipe=function(t){if(t.unsubscribe instanceof Function)return t.unsubscribe(this);var e=t instanceof Function?this.downstreamFn:this.downstream,i=e.indexOf(t);return 0<=i&&(e.splice(i,1),t instanceof Function?t("unpipe",null):t.trigger&&t.trigger("unpipe",null),t)},n.prototype.addListener=n.prototype.on=function(t,e){if(r.prototype.on.apply(this,arguments),!(t in this.upstreamListeners)){var i=this.trigger.bind(this,t);this.upstreamListeners[t]=i;for(var n=0;n<this.upstream.length;n++)this.upstream[n].on(t,i)}return this},n.prototype.subscribe=function(t){if(this.upstream.indexOf(t)<0)for(var e in this.upstream.push(t),this.upstreamListeners)t.on(e,this.upstreamListeners[e]);return this},n.prototype.unsubscribe=function(t){var e=this.upstream.indexOf(t);if(0<=e)for(var i in this.upstream.splice(e,1),this.upstreamListeners)t.removeListener(i,this.upstreamListeners[i]);return this},t.exports=n},function(t,e){function i(){this.listeners={},this._owner=this}i.prototype.emit=function(t,e){var i=this.listeners[t];if(i)for(var n=0;n<i.length;n++)i[n].call(this._owner,e);return this},i.prototype.addListener=i.prototype.on=function(t,e){return t in this.listeners||(this.listeners[t]=[]),this.listeners[t].indexOf(e)<0&&this.listeners[t].push(e),this},i.prototype.removeListener=function(t,e){var i=this.listeners[t];if(void 0!==i){var n=i.indexOf(e);0<=n&&i.splice(n,1)}return this},i.prototype.bindThis=function(t){this._owner=t},t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contextWithPerspective=function(t){var e=s.default.createContext();return e.setPerspective(t),e},e.simpleExtend=function(i){for(var t=arguments.length,e=Array(1<t?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];e.forEach(function(t){for(var e in t)i[e]=t[e]})};var n,r=i(104),s=(n=r)&&n.__esModule?n:{default:n}},function(t,e,i){function n(){x.runLoop?(f.step(),window.requestAnimationFrame(n)):g=!1}function r(t){for(var e=0;e<d.length;e++)d[e].emit("resize");b.emit("resize")}function s(){window.addEventListener("touchmove",function(t){t.preventDefault()},!0),o()}function o(){return document.body?(document.body.classList.add("famous-root"),void document.documentElement.classList.add("famous-root")):void f.nextTick(o)}var a,l,u=i(105),h=i(101),c=i(107),f={},d=[],p=[],_=0,v=[],m=Date.now(),g=!0,y={},b=new h,x={containerType:"div",containerClass:"famous-container",fpsCap:void 0,runLoop:!0,appMode:!0},w=new c(x);f.step=function(){++_;var t=Date.now();if(!(l&&t-m<l)){var e=0;a=t-m,m=t,b.emit("prerender");for(var i=p.length;i--;)p.shift()(_);for(;v.length&&Date.now()-t<10;)v.shift().call(this);for(e=0;e<d.length;e++)d[e].update();b.emit("postrender")}},window.requestAnimationFrame(n),window.addEventListener("resize",r,!1),r();f.pipe=function(t){return t.subscribe instanceof Function?t.subscribe(f):b.pipe(t)},f.unpipe=function(t){return t.unsubscribe instanceof Function?t.unsubscribe(f):b.unpipe(t)},f.on=function(t,e){return t in y||(y[t]=b.emit.bind(b,t),function(t,e){document.body?document.body.addEventListener(t,e):f.nextTick(addEventListener.bind(this,t,e))}(t,y[t])),b.on(t,e)},f.emit=function(t,e){return b.emit(t,e)},f.removeListener=function(t,e){return b.removeListener(t,e)},f.getFPS=function(){return 1e3/a},f.setFPSCap=function(t){l=Math.floor(1e3/t)},f.getOptions=function(t){return w.getOptions(t)},f.setOptions=function(t){return w.setOptions.apply(w,arguments)},f.createContext=function(t){x.appMode&&f.nextTick(s);var e=!1;t||((t=document.createElement(x.containerType)).classList.add(x.containerClass),e=!0);var i=new u(t);return f.registerContext(i),e&&function t(e,i){return document.body?(document.body.appendChild(i),void e.emit("resize")):void f.nextTick(t.bind(this,e,i))}(i,t),i},f.registerContext=function(t){return d.push(t),t},f.getContexts=function(){return d},f.deregisterContext=function(t){var e=d.indexOf(t);0<=e&&d.splice(e,1)},f.nextTick=function(t){p.push(t)},f.defer=function(t){v.push(t)},w.on("change",function(t){"fpsCap"===t.id?f.setFPSCap(t.value):"runLoop"===t.id&&!g&&t.value&&(g=!0,window.requestAnimationFrame(n))}),t.exports=f},function(t,e,i){function n(){var t=this.container;return[t.clientWidth,t.clientHeight]}function r(t){this.container=t,this._allocator=new a(t),this._node=new s,this._eventOutput=new o,this._size=n.call(this),this._perspectiveState=new u(0),this._perspective=void 0,this._nodeContext={allocator:this._allocator,transform:l.identity,opacity:1,origin:h,align:h,size:this._size},this._eventOutput.on("resize",function(){this.setSize(n.call(this))}.bind(this))}var s=i(98),o=i(101),a=i(106),l=i(89),u=i(90),h=[0,0],c=!("perspective"in document.documentElement.style)?function(t,e){t.style.webkitPerspective=e?e.toFixed()+"px":""}:function(t,e){t.style.perspective=e?e.toFixed()+"px":""};r.prototype.getAllocator=function(){return this._allocator},r.prototype.add=function(t){return this._node.add(t)},r.prototype.migrate=function(t){t!==this.container&&(this.container=t,this._allocator.migrate(t))},r.prototype.getSize=function(){return this._size},r.prototype.setSize=function(t){t=t||n.call(this),this._size[0]=t[0],this._size[1]=t[1]},r.prototype.update=function(t){t&&(t.transform&&(this._nodeContext.transform=t.transform),t.opacity&&(this._nodeContext.opacity=t.opacity),t.origin&&(this._nodeContext.origin=t.origin),t.align&&(this._nodeContext.align=t.align),t.size&&(this._nodeContext.size=t.size));var e=this._perspectiveState.get();e!==this._perspective&&(c(this.container,e),this._perspective=e),this._node.commit(this._nodeContext)},r.prototype.getPerspective=function(){return this._perspectiveState.get()},r.prototype.setPerspective=function(t,e,i){return this._perspectiveState.set(t,e,i)},r.prototype.emit=function(t,e){return this._eventOutput.emit(t,e)},r.prototype.on=function(t,e){return this._eventOutput.on(t,e)},r.prototype.removeListener=function(t,e){return this._eventOutput.removeListener(t,e)},r.prototype.pipe=function(t){return this._eventOutput.pipe(t)},r.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},t.exports=r},function(t,e){function i(t){t=t||document.createDocumentFragment(),this.container=t,this.detachedNodes={},this.nodeCount=0}i.prototype.migrate=function(t){var e=this.container;if(t!==e){if(e instanceof DocumentFragment)t.appendChild(e);else for(;e.hasChildNodes();)t.appendChild(e.firstChild);this.container=t}},i.prototype.allocate=function(t){(t=t.toLowerCase())in this.detachedNodes||(this.detachedNodes[t]=[]);var e,i=this.detachedNodes[t];return 0<i.length?e=i.pop():(e=document.createElement(t),this.container.appendChild(e)),this.nodeCount++,e},i.prototype.deallocate=function(t){var e=t.nodeName.toLowerCase();this.detachedNodes[e].push(t),this.nodeCount--},i.prototype.getNodeCount=function(){return this.nodeCount},t.exports=i},function(t,e,i){function r(t){this._value=t,this.eventOutput=null}function n(){this.eventOutput=new s,this.eventOutput.bindThis(this),s.setOutputHandler(this,this.eventOutput)}var s=i(101);r.patch=function(t,e){for(var i=new r(t),n=1;n<arguments.length;n++)i.patch(arguments[n]);return t},r.prototype.setOptions=r.prototype.patch=function(){for(var t=this._value,e=0;e<arguments.length;e++){var i=arguments[e];for(var n in i)n in t&&i[n]&&i[n].constructor===Object&&t[n]&&t[n].constructor===Object?(t.hasOwnProperty(n)||(t[n]=Object.create(t[n])),this.key(n).patch(i[n]),this.eventOutput&&this.eventOutput.emit("change",{id:n,value:this.key(n).value()})):this.set(n,i[n])}return this},r.prototype.key=function(t){var e=new r(this._value[t]);return e._value instanceof Object&&!(e._value instanceof Array)||(e._value={}),e},r.prototype.getOptions=r.prototype.get=function(t){return t?this._value[t]:this._value},r.prototype.set=function(t,e){var i=this.get(t);return this._value[t]=e,this.eventOutput&&e!==i&&this.eventOutput.emit("change",{id:t,value:e}),this},r.prototype.on=function(){return n.call(this),this.on.apply(this,arguments)},r.prototype.removeListener=function(){return n.call(this),this.removeListener.apply(this,arguments)},r.prototype.pipe=function(){return n.call(this),this.pipe.apply(this,arguments)},r.prototype.unpipe=function(){return n.call(this),this.unpipe.apply(this,arguments)},t.exports=r},function(t,e){"use strict";!function(){}.name&&Object.defineProperty(Function.prototype,"name",{get:function(){var t=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:t}),t}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Grid=void 0;var r,s=n(i(3)),o=n(i(29)),a=n(i(30)),l=n(i(34)),u=n(i(81)),h=n(i(96)),c=n(i(89)),f=n(i(95)),d=n(i(110)),p=e.Grid=(r=f.default,(0,u.default)(_,r),(0,a.default)(_,[{key:"_createGridCell",value:function(t){var e=t%this.columns,i=Math.floor(t/this.columns),n=null;void 0!==this.options.size[0]&&void 0!==this.options.size[1]&&((n=[])[0]=this.options.size[0]/this.columns,n[1]=this.options.size[1]/this.rows);var r=new h.default({align:[0,0],origin:[0,0],size:n?[n[0],n[1]]:[void 0,void 0],transform:c.default.translate(e*n[0],i*n[1],0)}),s=new h.default({align:[.5,.5],origin:[.5,.5]});this.cellNodes.push(this.add(r).add(s))}},{key:"setChildren",value:function(e){return(0,d.default)(this.columns*this.rows,function(t){this.cellNodes[t].add(e[t])}.bind(this)),this}}]),_);function _(t,e,i){(0,o.default)(this,_);var n=(0,l.default)(this,(_.__proto__||(0,s.default)(_)).call(this,{size:i}));return n.columns=t,n.rows=e,n.cellNodes=[],void 0===n.options.size&&n.setOptions({size:[void 0,void 0]}),(0,d.default)(n.columns*n.rows,n._createGridCell.bind(n)),n}e.default=p},function(t,e){"use strict";function i(t,e){for(var i=0;i<t;i+=1)e(i)}e.forLength=i,e.default=i,e.__esModule=!0},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DoubleSidedPlane=void 0;var r,s=n(i(3)),o=n(i(29)),a=n(i(30)),l=n(i(34)),u=n(i(81)),h=n(i(89)),c=n(i(95)),f=n(i(112)),d=e.DoubleSidedPlane=(r=c.default,(0,u.default)(p,r),(0,a.default)(p,[{key:"getContent",value:function(){return[this.plane1.getContent(),this.plane2.getContent()]}},{key:"setContent",value:function(t){this.plane1.setContent(t[0]),this.plane2.setContent(t[1])}}]),p);function p(t){(0,o.default)(this,p);var e=(0,l.default)(this,(p.__proto__||(0,s.default)(p)).call(this,t));return e.children=[],e.plane1=new f.default(e.options),e.plane1.transform.set(h.default.rotate(0,0,0)),e.setOptions({properties:{background:"orange"}}),e.plane2=new f.default(e.options),e.plane2.transform.set(h.default.rotate(0,Math.PI,0)),e.children.push(e.plane1),e.children.push(e.plane2),e.add(e.plane2),e.add(e.plane1),e.plane1.pipe(e.options.handler),e.plane2.pipe(e.options.handler),e}e.default=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Plane=void 0;var r,s=n(i(3)),o=n(i(29)),a=n(i(30)),l=n(i(34)),u=n(i(81)),h=n(i(113)),c=n(i(95)),f=e.Plane=(r=c.default,(0,u.default)(d,r),(0,a.default)(d,[{key:"getContent",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.surface.getContent.apply(this.surface,t)}},{key:"setContent",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.surface.setContent.apply(this.surface,t)}}]),d);function d(t){(0,o.default)(this,d);var e=(0,l.default)(this,(d.__proto__||(0,s.default)(d)).call(this,t));return e.surface=new h.default(e.options),e.add(e.surface),e.surface.pipe(e.options.handler),e}e.default=f},function(t,e,i){function n(t){c.call(this),this.options={},this.properties={},this.attributes={},this.content="",this.classList=[],this.size=null,this._classesDirty=!0,this._stylesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._trueSizeCheck=!0,this._dirtyClasses=[],t&&this.setOptions(t),this._currentTarget=null}function h(t){for(var e=0;e<this._dirtyClasses.length;e++)t.classList.remove(this._dirtyClasses[e]);this._dirtyClasses=[]}var c=i(114);((n.prototype=Object.create(c.prototype)).constructor=n).prototype.elementType="div",n.prototype.elementClass="famous-surface",n.prototype.setAttributes=function(t){for(var e in t){if("style"===e)throw new Error('Cannot set styles via "setAttributes" as it will break Famo.us.  Use "setProperties" instead.');this.attributes[e]=t[e]}this._attributesDirty=!0},n.prototype.getAttributes=function(){return this.attributes},n.prototype.setProperties=function(t){for(var e in t)this.properties[e]=t[e];return this._stylesDirty=!0,this},n.prototype.getProperties=function(){return this.properties},n.prototype.addClass=function(t){return this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0),this},n.prototype.removeClass=function(t){var e=this.classList.indexOf(t);return 0<=e&&(this._dirtyClasses.push(this.classList.splice(e,1)[0]),this._classesDirty=!0),this},n.prototype.toggleClass=function(t){return 0<=this.classList.indexOf(t)?this.removeClass(t):this.addClass(t),this},n.prototype.setClasses=function(t){var e=0,i=[];for(e=0;e<this.classList.length;e++)t.indexOf(this.classList[e])<0&&i.push(this.classList[e]);for(e=0;e<i.length;e++)this.removeClass(i[e]);for(e=0;e<t.length;e++)this.addClass(t[e]);return this},n.prototype.getClassList=function(){return this.classList},n.prototype.setContent=function(t){return this.content!==t&&(this.content=t,this._contentDirty=!0),this},n.prototype.getContent=function(){return this.content},n.prototype.setOptions=function(t){return t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.attributes&&this.setAttributes(t.attributes),t.content&&this.setContent(t.content),this},n.prototype.setup=function(t){var e=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var i=0;i<this.elementClass.length;i++)e.classList.add(this.elementClass[i]);else e.classList.add(this.elementClass);e.style.display="",this.attach(e),this._opacity=null,this._currentTarget=e,this._stylesDirty=!0,this._classesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._originDirty=!0,this._transformDirty=!0},n.prototype.commit=function(t){this._currentTarget||this.setup(t.allocator);var e,i,n=this._currentTarget,r=t.size;if(this._classesDirty){h.call(this,n);for(var s=this.getClassList(),o=0;o<s.length;o++)n.classList.add(s[o]);this._classesDirty=!1,this._trueSizeCheck=!0}if(this._stylesDirty&&(function(t){for(var e in this.properties)t.style[e]=this.properties[e]}.call(this,n),this._stylesDirty=!1,this._trueSizeCheck=!0),this._attributesDirty&&(function(t){for(var e in this.attributes)t.setAttribute(e,this.attributes[e])}.call(this,n),this._attributesDirty=!1,this._trueSizeCheck=!0),this.size){var a=t.size;if(void 0===(r=[this.size[0],this.size[1]])[0]&&(r[0]=a[0]),void 0===r[1]&&(r[1]=a[1]),!0===r[0]||!0===r[1]){if(!0===r[0])if(this._trueSizeCheck||0===this._size[0]){var l=n.offsetWidth;this._size&&this._size[0]!==l&&(this._size[0]=l,this._sizeDirty=!0),r[0]=l}else this._size&&(r[0]=this._size[0]);if(!0===r[1])if(this._trueSizeCheck||0===this._size[1]){var u=n.offsetHeight;this._size&&this._size[1]!==u&&(this._size[1]=u,this._sizeDirty=!0),r[1]=u}else this._size&&(r[1]=this._size[1]);this._trueSizeCheck=!1}}e=this._size,i=r,(e&&i?e[0]!==i[0]||e[1]!==i[1]:e!==i)&&(this._size||(this._size=[0,0]),this._size[0]=r[0],this._size[1]=r[1],this._sizeDirty=!0),this._sizeDirty&&(this._size&&(n.style.width=this.size&&!0===this.size[0]?"":this._size[0]+"px",n.style.height=this.size&&!0===this.size[1]?"":this._size[1]+"px"),this._eventOutput.emit("resize")),this._contentDirty&&(this.deploy(n),this._eventOutput.emit("deploy"),this._contentDirty=!1,this._trueSizeCheck=!0),c.prototype.commit.call(this,t)},n.prototype.cleanup=function(t){var e=0,i=this._currentTarget;this._eventOutput.emit("recall"),this.recall(i),i.style.display="none",i.style.opacity="",i.style.width="",i.style.height="",function(t){for(var e in this.properties)t.style[e]=""}.call(this,i),function(t){for(var e in this.attributes)t.removeAttribute(e)}.call(this,i);var n=this.getClassList();for(h.call(this,i),e=0;e<n.length;e++)i.classList.remove(n[e]);if(this.elementClass)if(this.elementClass instanceof Array)for(e=0;e<this.elementClass.length;e++)i.classList.remove(this.elementClass[e]);else i.classList.remove(this.elementClass);this.detach(i),this._currentTarget=null,t.deallocate(i)},n.prototype.deploy=function(t){var e=this.getContent();if(e instanceof Node){for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}else t.innerHTML=e},n.prototype.recall=function(t){for(var e=document.createDocumentFragment();t.hasChildNodes();)e.appendChild(t.firstChild);this.setContent(e)},n.prototype.getSize=function(){return this._size?this._size:this.size},n.prototype.setSize=function(t){return this.size=t?[t[0],t[1]]:null,this._sizeDirty=!0,this},t.exports=n},function(t,e,i){function n(t){this._matrix=null,this._opacity=1,this._origin=null,this._size=null,this._eventOutput=new a,this._eventOutput.bindThis(this),this.eventForwarder=function(t){this._eventOutput.emit(t.type,t)}.bind(this),this.id=o.register(this),this._element=null,this._sizeDirty=!1,this._originDirty=!1,this._transformDirty=!1,this._invisible=!1,t&&this.attach(t)}function r(t){t[12]=Math.round(t[12]*c)/c,t[13]=Math.round(t[13]*c)/c;for(var e="matrix3d(",i=0;i<15;i++)e+=t[i]<1e-6&&-1e-6<t[i]?"0,":t[i]+",";return e+(t[15]+")")}function s(t){return 100*t[0]+"% "+100*t[1]+"%"}var l,o=i(99),a=i(101),u=i(89),h=!("transform"in document.documentElement.style),c=window.devicePixelRatio||1;n.prototype.on=function(t,e){this._element&&this._element.addEventListener(t,this.eventForwarder),this._eventOutput.on(t,e)},n.prototype.removeListener=function(t,e){this._eventOutput.removeListener(t,e)},n.prototype.emit=function(t,e){e&&!e.origin&&(e.origin=this);var i=this._eventOutput.emit(t,e);return i&&e&&e.stopPropagation&&e.stopPropagation(),i},n.prototype.pipe=function(t){return this._eventOutput.pipe(t)},n.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},n.prototype.render=function(){return this.id},l=h?function(t,e){t.style.webkitTransform=r(e)}:function(t,e){t.style.transform=r(e)};var f=h?function(t,e){t.style.webkitTransformOrigin=s(e)}:function(t,e){t.style.transformOrigin=s(e)},d=h?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0};n.prototype.commit=function(t){var e,i,n=this._element;if(n){var r=t.transform,s=t.opacity,o=t.origin;if(t.size,!r&&this._matrix)return this._matrix=null,this._opacity=0,void d(n);if(e=this._origin,i=o,(e&&i?e[0]!==i[0]||e[1]!==i[1]:e!==i)&&(this._originDirty=!0),u.notEquals(this._matrix,r)&&(this._transformDirty=!0),this._invisible&&(this._invisible=!1,this._element.style.display=""),this._opacity!==s&&(this._opacity=s,n.style.opacity=1<=s?"0.999999":s),this._transformDirty||this._originDirty||this._sizeDirty){this._sizeDirty&&(this._sizeDirty=!1),this._originDirty&&(o?(this._origin||(this._origin=[0,0]),this._origin[0]=o[0],this._origin[1]=o[1]):this._origin=null,f(n,this._origin),this._originDirty=!1),r=r||u.identity,this._matrix=r;var a=this._size?u.thenMove(r,[-this._size[0]*o[0],-this._size[1]*o[1],0]):r;l(n,a),this._transformDirty=!1}}},n.prototype.cleanup=function(){this._element&&(this._invisible=!0,this._element.style.display="none")},n.prototype.attach=function(t){this._element=t,function(t){for(var e in this._eventOutput.listeners)t.addEventListener(e,this.eventForwarder)}.call(this,t)},n.prototype.detach=function(){var t=this._element;return t&&(function(t){for(var e in this._eventOutput.listeners)t.removeEventListener(e,this.eventForwarder)}.call(this,t),this._invisible&&(this._invisible=!1,this._element.style.display="")),this._element=null,t},t.exports=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PushMenuLayout=void 0;var r,s=n(i(3)),o=n(i(29)),a=n(i(30)),l=n(i(34)),u=n(i(116)),h=n(i(81)),c=n(i(120)),f=n(i(113)),d=n(i(90)),p=n(i(94)),_=n(i(148)),v=n(i(150)),m=n(i(112)),g=n(i(95)),y=i(103),b=n(i(151)),x=e.PushMenuLayout=(r=g.default,(0,h.default)(w,r),(0,a.default)(w,[{key:"setOptions",value:function(t){(0,u.default)(w.prototype.__proto__||(0,s.default)(w.prototype),"setOptions",this).call(this,t)}},{key:"resetOptions",value:function(){(0,u.default)(w.prototype.__proto__||(0,s.default)(w.prototype),"resetOptions",this).call(this)}},{key:"_createComponents",value:function(){var e=this;this.touchSync=new v.default(["touch"]),this.alignment="left"==this.options.menuSide?0:1,this.animationTransition=new d.default(0),this.mainMol=new g.default,this.menuMol=new g.default({size:[this.options.menuWidth,void 0]}),this.menuMol.oldTransform=this.menuMol.transform,this.menuMol.transform=function(){var t=e.animationTransition.get();switch(e.options.animationType){case"foldDown":this.oldTransform.setTranslateX("left"==e.options.menuSide?t*(e.options.menuWidth-e.options.menuHintSize)-(e.options.menuWidth-e.options.menuHintSize):t*-(e.options.menuWidth-e.options.menuHintSize)+(e.options.menuWidth-e.options.menuHintSize));break;case"moveBack":this.oldTransform.setTranslateX("left"==e.options.menuSide?t*(e.options.menuWidth-e.options.menuHintSize)-(e.options.menuWidth-e.options.menuHintSize):t*-(e.options.menuWidth-e.options.menuHintSize)+(e.options.menuWidth-e.options.menuHintSize))}return this.oldTransform.get()}.bind(this.menuMol),this.menuContentMol=new g.default,this.contentMol=new g.default({size:[this.contentWidth,void 0]}),this.contentMol.oldTransform=this.contentMol.transform,this.contentMol.transform=function(){var t=e.animationTransition.get();switch(e.options.animationType){case"foldDown":this.oldTransform.setTranslateX("left"==e.options.menuSide?t*(e.options.menuWidth-e.options.menuHintSize)+e.options.menuHintSize:t*-(e.options.menuWidth-e.options.menuHintSize)-e.options.menuHintSize),this.oldTransform.setRotateY("left"==e.options.menuSide?t*Math.PI/8:t*-Math.PI/8);break;case"moveBack":this.oldTransform.setTranslateX("left"==e.options.menuSide?e.options.menuHintSize:-e.options.menuHintSize),this.oldTransform.setTranslateZ(-100*t)}return this.oldTransform.get()}.bind(this.contentMol),this.menuTouchPlane=new m.default({size:[this.options.menuWidth+this.options.pushAreaWidth-this.options.menuHintSize,void 0],properties:{zIndex:"-1000"}}),this.mainMol.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.menuMol.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.contentMol.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.menuTouchPlane.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.menuContentMol.transform.setTranslateZ(2),this.menuTouchPlane.transform.setTranslateZ(2),this.updateStyles=function(){var t,e;switch(this.options.animationType){case"foldDown":t=this.options.fadeStartColor,e=this.options.fadeEndColor;break;case"moveBack":t=e=this.options.fadeEndColor}var i={".infamous-fadeLeft":{background:[e,"-moz-linear-gradient(left, "+e+" 0%, "+t+" 100%)","-webkit-gradient(left top, right top, color-stop(0%, "+e+"), color-stop(100%, "+t+"))","-webkit-linear-gradient(left, "+e+" 0%, "+t+" 100%)","-o-linear-gradient(left, "+e+" 0%, "+t+" 100%)","-ms-linear-gradient(left, "+e+" 0%, "+t+" 100%)","linear-gradient(to right, "+e+" 0%, "+t+" 100%)"],filter:"progid:DXImageTransform.Microsoft.gradient( startColorstr='#cc000000', endColorstr='#4d000000', GradientType=1 )"},".infamous-fadeRight":{background:[t,"-moz-linear-gradient(left, "+t+" 0%, "+e+" 100%)","-webkit-gradient(left top, right top, color-stop(0%, "+t+"), color-stop(100%, "+e+"))","-webkit-linear-gradient(left, "+t+" 0%, "+e+" 100%)","-o-linear-gradient(left, "+t+" 0%, "+e+" 100%)","-ms-linear-gradient(left, "+t+" 0%, "+e+" 100%)","linear-gradient(to right, "+t+" 0%, "+e+" 100%)"],filter:"progid:DXImageTransform.Microsoft.gradient( startColorstr='#4d000000', endColorstr='#cc000000', GradientType=1 )"}};this.fadeStylesheet&&this.fadeStylesheet.detach(),this.fadeStylesheet=c.default.createStyleSheet(i),this.fadeStylesheet.attach()},this.options.fade&&(this.updateStyles(),this.fadePlane=new m.default({size:[void 0,void 0],classes:["left"==this.options.menuSide?"infamous-fadeRight":"infamous-fadeLeft"],properties:{zIndex:"1000",pointerEvents:"none"}}),this.fadePlane.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.fadePlane.transform.setTranslateZ(1),this.fadePlane.setOptions({opacity:this.animationTransition}),this.contentMol.add(this.fadePlane)),this.add(this.mainMol),this.mainMol.add(this.contentMol),this.menuMol.add(this.menuTouchPlane),this.menuMol.add(this.menuContentMol),this.mainMol.add(this.menuMol)}},{key:"_initializeEvents",value:function(){this.options.handler.on("update",function(t){this.isBeingDragged=!0,this._haltAnimation(!0);var e=this.animationTransition.get();switch(this.options.animationType){case"foldDown":this.animationTransition.set(e+t.delta[0]/(this.options.menuWidth-this.options.menuHintSize));break;case"moveBack":this.animationTransition.set(e+t.delta[0]/(this.options.menuWidth-this.options.menuHintSize))}1<(e=this.animationTransition.get())?this.animationTransition.set(1):e<0&&this.animationTransition.set(0)}.bind(this)),this.options.handler.on("end",function(t){this.isBeingDragged=!1,this.animationTransition.get()<.5?this.closeMenu():this.openMenu()}.bind(this)),window.addEventListener("resize",function(t){this.contentWidth=document.body.clientWidth-this.options.menuHintSize,this.contentMol.setOptions({size:[this.contentWidth,void 0]})}.bind(this)),this.menuTouchPlane.pipe(this.touchSync),this.menuTouchPlane.on("mouseenter",function(){this.isOpening||this.openMenu()}.bind(this)),this.menuTouchPlane.on("mouseleave",function(){this.isClosing||this.closeMenu()}.bind(this)),this.touchSync.pipe(this.options.handler)}},{key:"setContent",value:function(t){this.contentMol.add(t)}},{key:"setMenu",value:function(t){this.menuContentMol.add(t),t instanceof g.default&&(t.pipe(this.touchSync),t.on("mouseenter",function(){this.isOpening||this.openMenu()}.bind(this)),t.on("mouseleave",function(){this.isClosing||this.closeMenu()}.bind(this)))}},{key:"openMenu",value:function(t,e){this._haltAnimation(e),this.isClosing=!1,this.isOpening=!0,this._animate("open",t)}},{key:"closeMenu",value:function(t,e){this._haltAnimation(e),this.isClosing=!0,this.isOpening=!1,this._animate("close",t)}},{key:"toggleMenu",value:function(t,e){this.isOpen||this.isOpening?this.closeMenu(t,e):this.isOpen&&!this.isClosing||this.openMenu(t,e)}},{key:"_animate",value:function(t,e){this.isAnimating=!0,this.transitionCallback=e;var i,n,r=this;n=1,i=(0,b.default)(n,function(){r.isAnimating=r.isOpening=r.isClosing=!1,r.isOpen="open"==t,"function"==typeof r.transitionCallback&&r.transitionCallback(),r.transitionCallback=void 0}.bind(r)),"open"==t?this.animationTransition.set(1,{duration:this.options.animationDuration,curve:p.default.outExpo},i):"close"==t&&this.animationTransition.set(0,{duration:this.options.animationDuration,curve:p.default.outExpo},i)}},{key:"_haltAnimation",value:function(t){this.isAnimating&&(t||"function"!=typeof this.transitionCallback||this.transitionCallback(),this.transitionCallback=void 0,this.animationTransition.halt())}},{key:"render",value:function(){if(this.options.blur&&this.options.fade&&"moveBack"==this.options.animationType){var t=this.animationTransition.get()*this.options.blurRadius,e={"-webkit-filter":"blur("+t+"px)","-moz-filter":"blur("+t+"px)","-ms-filter":"blur("+t+"px)","-o-filter":"blur("+t+"px)",filter:"blur("+t+"px)"};this.contentMol._child[1].get()instanceof f.default?this.contentMol.get().setProperties(e):this.contentMol._child[1]instanceof m.default&&this.contentMol._child[1].surface.setProperties(e)}return(0,u.default)(w.prototype.__proto__||(0,s.default)(w.prototype),"render",this).call(this)}}]),w);function w(t){(0,o.default)(this,w);var e=(0,l.default)(this,(w.__proto__||(0,s.default)(w)).call(this,t));return(0,y.simpleExtend)(e._.defaultOptions,{menuSide:"left",menuWidth:200,menuHintSize:10,pushAreaWidth:40,animationDuration:1e3,animationType:"foldDown",fade:!0,fadeStartColor:"rgba(255,255,255,0)",fadeEndColor:"rgba(255,255,255,1)",blur:!1,blurRadius:5}),e.options=t,e.contentWidth=document.body.clientWidth-e.options.menuHintSize,e.isOpen=!1,e.isOpening=!1,e.isClosing=!1,e.isAnimating=!1,e.isBeingDragged=!1,e.transitionCallback=void 0,v.default.register({touch:_.default}),e._createComponents(),e._initializeEvents(),e}e.default=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var a=n(i(3)),l=n(i(117));e.default=function t(e,i,n){null===e&&(e=Function.prototype);var r=(0,l.default)(e,i);if(void 0===r){var s=(0,a.default)(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}},function(t,e,i){t.exports={default:i(118),__esModule:!0}},function(t,e,i){i(119);var n=i(16).Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},function(t,e,i){var n=i(50),r=i(77).f;i(14)("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(121)),s=n(i(136)),o=n(i(137)),a=n(i(138)),l=n(i(139)),u=n(i(146)),h=n(i(147)),c=r.default.create();c.use((0,s.default)()),c.use((0,o.default)()),c.use((0,a.default)()),c.use((0,l.default)()),c.use((0,u.default)()),c.use((0,h.default)()),e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Rule=e.StyleSheet=e.Jss=void 0;var r=n(i(122)),s=n(i(123)),o=n(i(126)),a=new r.default;t.exports=e=a,e.Jss=r.default,e.StyleSheet=s.default,e.Rule=o.default,e.default=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(t,e,i){return e&&_(t.prototype,e),i&&_(t,i),t},a=n(i(123)),l=n(i(134)),u=n(i(135)),h=i(124),c=n(i(125)),f=n(i(131)),d=(o(p,[{key:"create",value:function(){return new p}},{key:"createStyleSheet",value:function(t,e){var i=new a.default(t,s({},e,{jss:this}));return this.sheets.add(i),i}},{key:"createRule",value:function(t,e,i){"object"==(void 0===t?"undefined":r(t))&&(i=e,e=t,t=null);var n=(0,c.default)(t,e,s({},i,{jss:this,Renderer:(0,f.default)(i)}));return this.plugins.run(n),n}},{key:"use",value:function(){for(var e=this,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(function(t){return e.plugins.use(t)}),this}}]),p);function p(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,p),this.sheets=new u.default,this.plugins=new l.default,this.uid=h.uid,this.version="3.11.1"}function _(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=function(t,e,i){return e&&c(t.prototype,e),i&&c(t,i),t},o=i(124),a=n(i(125)),l=n(i(131)),u=(s(h,[{key:"attach",value:function(){return this.attached||(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0),this}},{key:"detach",value:function(){return this.attached&&(this.renderer.detach(),this.attached=!1),this}},{key:"addRule",value:function(t,e){var i=this.createRule(t,e);if(this.deployed){var n=this.renderer.insertRule(i);this.options.link&&(i.renderable=n)}return i}},{key:"addRules",value:function(t){var e=[];for(var i in t)e.push(this.addRule(i,t[i]));return e}},{key:"getRule",value:function(t){return this.rules[t]}},{key:"toString",value:function(t){var e=this.rules,i=Object.create(null),n="";for(var r in e){var s=e[r];i[s.id]||s.style&&(0,o.isEmptyObject)(s.style)||s.rules&&(0,o.isEmptyObject)(s.rules)||(n&&(n+="\n"),n+=s.toString(t),i[s.id]=!0)}return n}},{key:"createRule",value:function(t,e,i){null==(i=r({},i,{sheet:this,jss:this.options.jss,Renderer:this.options.Renderer})).named&&(i.named=this.options.named);var n=(0,a.default)(t,e,i);return this.registerRule(n),i.jss.plugins.run(n),n}},{key:"registerRule",value:function(t){return t.options.parent?t.name&&t.className&&(this.classes[t.name]=t.className):(t.name&&(this.rules[t.name]=t).className&&(this.classes[t.name]=t.className),t.selector&&(this.rules[t.selector]=t)),this}},{key:"unregisterRule",value:function(t){return t.options.parent||(delete this.rules[t.name],delete this.rules[t.selector]),delete this.classes[t.name],this}},{key:"deploy",value:function(){return this.renderer.deploy(this),this.deployed=!0,this}},{key:"link",value:function(){var t=this.renderer.getRules();for(var e in t){var i=this.rules[e];i&&(i.renderable=t[e])}return this.linked=!0,this}}]),h);function h(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,h),this.options=r({},e),null==this.options.named&&(this.options.named=!0),this.rules=Object.create(null),this.classes=Object.create(null),this.attached=!1,this.deployed=!1;var i=(this.linked=!1,l.default)(this.options);for(var n in this.options.Renderer=i,this.renderer=new i(this.options),t)this.createRule(n,t[n])}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=u},function(t,o){(function(r){"use strict";function l(t,e){for(var i="",n=0;n<t;n++)i+="  ";return i+e}Object.defineProperty(o,"__esModule",{value:!0}),o.clone=function(t){return s(e(t))},o.isEmptyObject=function(t){for(var e in t)return!1;return!0},o.toCSS=function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=i.indentationLevel||0,r="";for(var s in!1!==i.selector&&(r+=l(n,t+" {"),n++),e){var o=e[s];if(Array.isArray(o))for(var a=0;a<o.length;a++)r+="\n"+l(n,s+": "+o[a]+";");else r+="\n"+l(n,s+": "+o+";")}return!1!==i.selector&&(r+="\n"+l(--n,"}")),r};var i,n,e=JSON.stringify,s=JSON.parse;o.uid=function(){var t="undefined"==typeof window?r:window,e="__JSS_VERSION_COUNTER__";null==t[e]&&(t[e]=0);var i=t[e]++,n=0;return{get:function(){return"jss-"+i+"-"+n++},reset:function(){n=0}}}(),o.findClassNames=(i=/[.]/g,n=/[.][^ ,]+/g,function(t){var e=t.match(n);return e?e.join(" ").replace(i,""):""})}).call(o,function(){return this}())},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(t&&"@"===t[0]){var n=h.exec(t)[0];return new u[n](t,e,i)}return null==i.named&&(i.named=!0),new r.default(t,e,i)};var r=n(i(126)),s=n(i(127)),o=n(i(128)),a=n(i(129)),l=n(i(130)),u={"@charset":s.default,"@import":s.default,"@namespace":s.default,"@keyframes":o.default,"@media":a.default,"@supports":a.default,"@font-face":l.default},h=/^@[^ ]+/},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t},s=i(124),o=(r(a,[{key:"prop",value:function(t,e){var i=this.options.Renderer.style;return null!=e?(this.style[t]=e,this.renderable&&i(this.renderable,t,e),this):(this.renderable&&null==this.style[t]&&(this.style[t]=i(this.renderable,t)),this.style[t])}},{key:"applyTo",value:function(t){for(var e in this.style){var i=this.style[e],n=this.options.Renderer.style;if(Array.isArray(i))for(var r=0;r<i.length;r++)n(t,e,i[r]);else n(t,e,i)}return this}},{key:"toJSON",value:function(){var t=Object.create(null);for(var e in this.style)"object"!=n(this.style[e])&&(t[e]=this.style[e]);return t}},{key:"toString",value:function(t){return(0,s.toCSS)(this.selector,this.style,t)}},{key:"selector",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options,i=e.Renderer,n=e.sheet;if(n&&n.unregisterRule(this),this.selectorText=t,this.className=(0,s.findClassNames)(t),this.renderable)return i.setSelector(this.renderable,t)?void n.registerRule(this):(delete this.renderable,void n.registerRule(this).deploy().link());n&&n.registerRule(this)},get:function(){return this.renderable?this.options.Renderer.getSelector(this.renderable):this.selectorText}}]),a);function a(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,a),this.id=s.uid.get(),this.type="regular",this.options=i,this.selectorText=t||"",this.className=i.className||"",this.originalStyle=e,this.style=(0,s.clone)(e),i.named&&(this.name=t,this.className||(this.className=this.name?this.name+"--"+this.id:this.id),this.selectorText="."+this.className)}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t},r=i(124),s=(n(o,[{key:"toString",value:function(){if(Array.isArray(this.value)){for(var t="",e=0;e<this.value.length;e++)t+=this.name+" "+this.value[e]+";",this.value[e+1]&&(t+="\n");return t}return this.name+" "+this.value+";"}}]),o);function o(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=r.uid.get(),this.type="simple",this.name=t,this.value=e,this.options=i}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},n=function(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t},s=i(124),o=(n(a,[{key:"formatFrames",value:function(t){var e=Object.create(null);for(var i in t){var n=r({},this.options,{named:!1,parent:this});e[i]=this.options.jss.createRule(i,t[i],n)}return e}},{key:"toString",value:function(){var t=this.selector+" {\n",e={indentationLevel:1};for(var i in this.frames)t+=this.frames[i].toString(e)+"\n";return t+"}"}}]),a);function a(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,a),this.id=s.uid.get(),this.type="keyframe",this.selector=t,this.options=i,this.frames=this.formatFrames(e)}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t},r=i(124),s=(n(o,[{key:"createRule",value:function(t,e,i){var n=u({},this.options,{parent:this}),r=n.sheet,s=n.jss,o=r&&r.getRule(t),a=o?o.className:null;(a||i)&&(n=u({},n,{className:a},i));var l=(r||s).createRule(t,e,n);return this.rules[t]=l}},{key:"toString",value:function(){var t=this.selector+" {\n";for(var e in this.rules){var i=this.rules[e];i.style&&(0,r.isEmptyObject)(i.style)||(t+=i.toString({indentationLevel:1})+"\n")}return t+"}"}}]),o);function o(t,e,i){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.id=r.uid.get(),this.type="conditional",this.selector=t,this.options=i,this.rules=Object.create(null),e)this.createRule(n,e[n])}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t},r=i(124),s=(n(o,[{key:"toString",value:function(t){if(Array.isArray(this.style)){for(var e="",i=0;i<this.style.length;i++)e+=(0,r.toCSS)(this.selector,this.style[i],t),this.style[i+1]&&(e+="\n");return e}return(0,r.toCSS)(this.selector,this.style,t)}}]),o);function o(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=r.uid.get(),this.type="font-face",this.options=i,this.selector=t,this.style=e}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t.Renderer?t.Renderer:t.virtual||"undefined"==typeof document?s.default:r.default};var r=n(i(132)),s=n(i(133))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t},n=(i(r,null,[{key:"style",value:function(t,e,i){try{if(null==i)return t.style[e];t.style[e]=i}catch(t){return!1}return!0}},{key:"setSelector",value:function(t,e){return t.selectorText=e,t.selectorText===e}},{key:"getSelector",value:function(t){return t.selectorText}}]),i(r,[{key:"attach",value:function(){this.element.parendNode||this.head.appendChild(this.element)}},{key:"detach",value:function(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function(t){var e="\n"+t.toString()+"\n";"sheet"in this.element?this.element.innerHTML=e:"styleSheet"in this.element&&(this.element.styleSheet.cssText=e)}},{key:"insertRule",value:function(t){var e=this.element.sheet||this.element.styleSheet,i=e.cssRules||e.rules,n=i.length;return e.insertRule?e.insertRule(t.toString(),n):e.addRule(t.selector,t.toString({selector:!1}),n),i[n]}},{key:"getRules",value:function(){for(var t=this.element.sheet||this.element.styleSheet,e=t.rules||t.cssRules,i=Object.create(null),n=0;n<e.length;n++){var r=e[n];i[r.selectorText]=r}return i}}]),r);function r(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.head=document.head||document.getElementsByTagName("head")[0],this.element=t.element||document.createElement("style"),this.element.type="text/css",t.media&&this.element.setAttribute("media",t.media),t.meta&&this.element.setAttribute("data-meta",t.meta)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}(n,[{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"deploy",value:function(){}},{key:"insertRule",value:function(){}},{key:"getRules",value:function(){return{}}}],[{key:"style",value:function(){}},{key:"setSelector",value:function(){}},{key:"getSelector",value:function(){}}]),n);function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}(n,[{key:"use",value:function(t){this.registry.push(t)}},{key:"run",value:function(t){for(var e=0;e<this.registry.length;e++)this.registry[e](t)}}]),n);function n(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.registry=[]}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}(n,[{key:"add",value:function(t){this.registry.push(t)}},{key:"toString",value:function(e){return this.registry.map(function(t){return t.toString(e)}).join("\n")}}]),n);function n(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.registry=[]}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=function(){return function(t){if("regular"===t.type){var e=t.options,i=e.sheet,n=e.jss,r=e.parent,s=i||n,o=void 0;for(var a in r&&"conditional"===r.type&&(s=r),t.style)if("&"===a[0]){o=o||u({},t.options,{named:!1});var l=a.replace(h,t.selector);s.createRule(l,t.style[a],o),delete t.style[a]}}}};var h=/&/g},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return function(t){t.style&&t.style.extend&&(t.style=function t(e,i,n){if("string"==typeof n.extend){if(e.options&&e.options.sheet){var r=e.options.sheet.getRule(n.extend);r&&t(e,i,r.originalStyle)}}else if(Array.isArray(n.extend))for(var s=0;s<n.extend.length;s++)t(e,i,n.extend[s]);else for(var o in n.extend)"extend"===o?t(e,i,n.extend.extend):i[o]=n.extend[o];for(var a in n)"extend"!==a&&(i[a]=n[a]);return i}(t,{},t.style))}}},function(t,e){"use strict";e.__esModule=!0,e.default=function(){return function(t){var e=t.style;if(e)for(var i in e)n[i]||"number"!=typeof e[i]||(e[i]+="px")}};var n={"animation-iteration-count":!0,"box-ordinal-group":!0,"column-count":!0,"fill-opacity":!0,flex:!0,"flex-grow":!0,"flex-order":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"stop-opacity":!0,"tab-size":1,widows:!0,"z-index":!0,zoom:!0};t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(){return function(t){if("keyframe"!==t.type){if("regular"===t.type)for(var e in t.style){var i=t.style[e],n=!1,r=a.supportedProperty(e);r&&r!==e&&(n=!0);var s=!1,o=a.supportedValue(r,i);o&&o!==i&&(s=!0),(n||s)&&(n&&delete t.style[e],t.style[r||e]=o||i)}}else t.selector="@"+a.prefix.css+"keyframes"+t.selector.substr(10)}};var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(140));t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.supportedValue=e.supportedProperty=e.prefix=void 0;var r=n(i(141)),s=n(i(143)),o=n(i(145));e.default={prefix:r.default,supportedProperty:s.default,supportedValue:o.default},e.prefix=r.default,e.supportedProperty=s.default,e.supportedValue=o.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(142),s="",o="";if(((n=r)&&n.__esModule?n:{default:n}).default){var a={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},l=document.createElement("p").style;for(var u in a)if(u+"Transform"in l){o=a[s=u];break}}e.default={js:s,css:o}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=e.isBrowser="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType;e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return a?(null!=l[t]||((0,o.default)(t)in a.style?l[t]=t:s.default.js+(0,o.default)("-"+t)in a.style?l[t]=s.default.css+t:l[t]=!1),l[t]):t};var r=n(i(142)),s=n(i(141)),o=n(i(144)),a=void 0,l={};if(r.default){a=document.createElement("p");var u=window.getComputedStyle(document.documentElement,"");for(var h in u)isNaN(h)||(l[u[h]]=u[h])}},function(t,e){"use strict";function i(t,e){return e?e.toUpperCase():""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(n,i)};var n=/[-\s]+(.)?/g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!a)return e;if("string"!=typeof e||!isNaN(parseInt(e,10)))return e;var i=t+e;if(null!=o[i])return o[i];try{a.style[t]=e}catch(t){return o[i]=!1}return""!==a.style[t]?o[i]=e:("-ms-flex"===(e=s.default.css+e)&&(e="-ms-flexbox"),a.style[t]=e,""!==a.style[t]&&(o[i]=e)),o[i]||(o[i]=!1),a.style[t]="",o[i]};var r=n(i(142)),s=n(i(141)),o={},a=void 0;r.default&&(a=document.createElement("p"))},function(t,e){"use strict";function r(t){return"-"+t.toLowerCase()}function n(t){var e={};for(var i in t){var n=t[i];e[i=i.replace(s,r)]=n}return e}Object.defineProperty(e,"__esModule",{value:!0});var s=/([A-Z])/g;e.default=function(){return function(t){var e=t.style;if(e)if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]=n(e[i]);else t.style=n(e)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function o(t,e){return t.length>e.length}return function(t){var e=t.style,i=t.type;if(e&&"regular"===i){var n={},r=Object.keys(e).sort(o);for(var s in r)n[r[s]]=e[r[s]];t.style=n}}}},function(t,e,i){function g(t){this.options=Object.create(g.DEFAULT_OPTIONS),this._optionsManager=new s(this.options),t&&this.setOptions(t),this._eventOutput=new r,this._touchTracker=new n({touchLimit:this.options.touchLimit}),r.setOutputHandler(this,this._eventOutput),r.setInputHandler(this,this._touchTracker),this._touchTracker.on("trackstart",function(t){var e,i;i=void 0!==this.options.direction?(this._position=0,e=0):(this._position=[0,0],e=[0,0],[0,0]);var n=this._payload;n.delta=i,n.position=this._position,n.velocity=e,n.clientX=t.x,n.clientY=t.y,n.count=t.count,n.touch=t.identifier,this._eventOutput.emit("start",n)}.bind(this)),this._touchTracker.on("trackmove",function(t){var e=t.history,i=e[e.length-1],n=e[e.length-2],r=e[e.length-this.options.velocitySampleLength]?e[e.length-this.options.velocitySampleLength]:e[e.length-2],s=r.timestamp,o=i.timestamp,a=i.x-n.x,l=i.y-n.y,u=i.x-r.x,h=i.y-r.y;this.options.rails&&(Math.abs(a)>Math.abs(l)?l=0:a=0,Math.abs(u)>Math.abs(h)?h=0:u=0);var c,f,d=Math.max(o-s,y),p=u/d,_=h/d,v=this.options.scale;this.options.direction===g.DIRECTION_X?(f=v*a,c=v*p,this._position+=f):this.options.direction===g.DIRECTION_Y?(f=v*l,c=v*_,this._position+=f):(f=[v*a,v*l],c=[v*p,v*_],this._position[0]+=f[0],this._position[1]+=f[1]);var m=this._payload;m.delta=f,m.velocity=c,m.position=this._position,m.clientX=t.x,m.clientY=t.y,m.count=t.count,m.touch=t.identifier,this._eventOutput.emit("update",m)}.bind(this)),this._touchTracker.on("trackend",function(t){this._payload.count=t.count,this._eventOutput.emit("end",this._payload)}.bind(this)),this._payload={delta:null,position:null,velocity:null,clientX:void 0,clientY:void 0,count:0,touch:void 0},this._position=null}var n=i(149),r=i(101),s=i(107);g.DEFAULT_OPTIONS={direction:void 0,rails:!1,touchLimit:1,velocitySampleLength:10,scale:1},g.DIRECTION_X=0,g.DIRECTION_Y=1;var y=8;g.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},g.prototype.getOptions=function(){return this.options},t.exports=g},function(t,e,i){function s(t,e,i){return{x:t.clientX,y:t.clientY,identifier:t.identifier,origin:e.origin,timestamp:a(),count:e.touches.length,history:i}}function n(t){if(this.isTouched){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=this.touchHistory[i.identifier];if(n){var r=s(i,t,n);this.eventOutput.emit("trackend",r),delete this.touchHistory[i.identifier]}}this.isTouched=!1}}function r(t){this.selective=t.selective,this.touchLimit=t.touchLimit||1,this.touchHistory={},this.eventInput=new o,this.eventOutput=new o,o.setInputHandler(this,this.eventInput),o.setOutputHandler(this,this.eventOutput),this.eventInput.on("touchstart",function(t){if(!(t.touches.length>this.touchLimit)){this.isTouched=!0;for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=s(i,t,null);this.eventOutput.emit("trackstart",n),this.selective||this.touchHistory[i.identifier]||this.track(n)}}}.bind(this)),this.eventInput.on("touchmove",function(t){if(!(t.touches.length>this.touchLimit))for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=this.touchHistory[i.identifier];if(n){var r=s(i,t,n);this.touchHistory[i.identifier].push(r),this.eventOutput.emit("trackmove",r)}}}.bind(this)),this.eventInput.on("touchend",n.bind(this)),this.eventInput.on("touchcancel",n.bind(this)),this.eventInput.on("unpipe",function(){for(var t in this.touchHistory){var e=this.touchHistory[t];this.eventOutput.emit("trackend",{touch:e[e.length-1].touch,timestamp:Date.now(),count:0,history:e}),delete this.touchHistory[t]}}.bind(this)),this.isTouched=!1}var o=i(101),a=Date.now;r.prototype.track=function(t){this.touchHistory[t.identifier]=[t]},t.exports=r},function(t,e,i){function n(t,e){this._eventInput=new s,this._eventOutput=new s,s.setInputHandler(this,this._eventInput),s.setOutputHandler(this,this._eventOutput),this._syncs={},t&&this.addSync(t),e&&this.setOptions(e)}function r(t,e){o[t]&&(this._syncs[t]=new o[t](e),this.pipeSync(t))}var s=i(101);n.DIRECTION_X=0,n.DIRECTION_Y=1,n.DIRECTION_Z=2;var o={};n.register=function(t){for(var e in t)if(o[e]){if(o[e]!==t[e])throw new Error("Conflicting sync classes for key: "+e)}else o[e]=t[e]},n.prototype.setOptions=function(t){for(var e in this._syncs)this._syncs[e].setOptions(t)},n.prototype.pipeSync=function(t){var e=this._syncs[t];this._eventInput.pipe(e),e.pipe(this._eventOutput)},n.prototype.unpipeSync=function(t){var e=this._syncs[t];this._eventInput.unpipe(e),e.unpipe(this._eventOutput)},n.prototype.addSync=function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)r.call(this,t[e]);else if(t instanceof Object)for(var i in t)r.call(this,i,t[i])},t.exports=n},function(t,e){"use strict";function i(t,e){var i=0;return function(){++i==t&&"function"==typeof e&&e.apply(this,arguments)}}e.callAfter=i,e.default=i,e.__esModule=!0},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Utility=e.XYZValues=e.TreeNode=e.Transformable=e.Sizeable=e.Scene=e.Node=e.Motor=e.ElementManager=void 0;var r=n(i(153)),s=n(i(223)),o=n(i(154)),a=n(i(235)),l=n(i(214)),u=n(i(172)),h=n(i(217)),c=n(i(185)),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(186));e.ElementManager=r.default,e.Motor=s.default,e.Node=o.default,e.Scene=a.default,e.Sizeable=l.default,e.Transformable=u.default,e.TreeNode=h.default,e.XYZValues=c.default,e.Utility=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(29)),s=n(i(30)),o=n(i(154)),a=n(i(223)),l=((0,s.default)(u,[{key:"setClasses",value:function(){var t;return arguments.length&&(t=this.element.classList).add.apply(t,arguments),this}},{key:"applyStyle",value:function(t,e){this.element.style[t]=e}},{key:"addChild",value:function(t){this.element.appendChild(t.element)}},{key:"removeChild",value:function(t){t.element.parentNode===this.element&&this.element.removeChild(t.element)}},{key:"connectChildElement",value:function(t){(!t._elementManager.element.parentNode||t._elementManager.element.parentElement&&t._elementManager.element.parentElement!==this.element)&&this.addChild(t._elementManager)}},{key:"disconnectChildElement",value:function(t){t._elementManager.element.parentNode&&this.removeChild(t._elementManager)}},{key:"applyTransform",value:function(t){var e="matrix3d(\n            "+t.m11+",\n            "+t.m12+",\n            "+t.m13+",\n            "+t.m14+",\n            "+t.m21+",\n            "+t.m22+",\n            "+t.m23+",\n            "+t.m24+",\n            "+t.m31+",\n            "+t.m32+",\n            "+t.m33+",\n            "+t.m34+",\n            "+t.m41+",\n            "+t.m42+",\n            "+t.m43+",\n            "+t.m44+"\n        )";this.applyStyle("transform",e)}},{key:"applySize",value:function(t){var e=t.x,i=t.y;this.applyStyle("width",e+"px"),this.applyStyle("height",i+"px")}},{key:"applyOpacity",value:function(t){this.applyStyle("opacity",t)}},{key:"applyImperativeNodeProperties",value:function(t){t instanceof o.default&&(this.applyOpacity(t._properties.opacity),this.applyTransform(t._properties.transform)),this.applySize(t._calculatedSize)}},{key:"shouldRender",value:function(){var t=this,e=a.default.addRenderTask(function(){t.applyStyle("display","block"),a.default.removeRenderTask(e)})}},{key:"shouldNotRender",value:function(){var t=this,e=a.default.addRenderTask(function(){t.applyStyle("display","none"),a.default.removeRenderTask(e)})}}]),u);function u(t){(0,r.default)(this,u),this.element=t}e.default=l},function(t,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=r(n(155)),o=r(n(3)),a=r(n(29)),l=r(n(30)),u=r(n(34)),h=r(n(81));n(171);var c=r(n(172)),f=n(234),d=r(f),p=r(n(241)),_=r(n(235));(0,f.initImperativeBase)();var v,m=(v=d.default.mixin(c.default),(0,h.default)(g,v),(0,l.default)(g,[{key:"_waitForMountThenResolveMountPromise",value:function(){var t=this;if(this._awaitingScenePromise)return s.default.resolve();this._awaitingScenePromise=!0;var i=void 0;return this._getScenePromise().then(function(){return t._scene.mountPromise}).then(function(){t._mounted=!0,t._resolveMountPromise(),t._elementManager.shouldRender()}).catch(function(){"mountcancel"!=e&&(i=e)}).then(function(){if(t._awaitingScenePromise=!1,i)throw i})}},{key:"_makeElement",value:function(){return new p.default}},{key:"_getScenePromise",value:function(){var i=this;return this._scenePromise||(this._scenePromise=new s.default(function(t,e){i._resolveScenePromise=t})),this._scene&&this._resolveScenePromise(),this._scenePromise}},{key:"_giveSceneRefToChildren",value:function(){for(var t=this._children,e=0,i=t.length;e<i;e+=1){var n=t[e];n._scene=this._scene,n._resolveScenePromise&&n._resolveScenePromise(n._scene),n._giveSceneRefToChildren()}}},{key:"_resetSceneRef",value:function(){this._scene=null,this._scenePromise=null,this._resolveScenePromise=null;for(var t=this._children,e=0,i=t.length;e<i;e+=1)t[e]._resetSceneRef()}},{key:"scene",get:function(){return this._scene||!this._parent||(this._parent._scene?this._scene=this._parent._scene:this._parent instanceof _.default?this._scene=this._parent:this._scene=this._parent.scene),this._scene}}]),g);function g(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,g);var e=(0,u.default)(this,(g.__proto__||(0,o.default)(g)).call(this,t));return e._scene=null,e._scenePromise=null,e._resolveScenePromise=null,e._onParentSizeChange=function(){"proportional"!==e._properties.sizeMode.x&&"proportional"!==e._properties.sizeMode.y&&"proportional"!==e._properties.sizeMode.z&&0===e._properties.align.x&&0===e._properties.align.y&&0===e._properties.align.z||(e._calcSize(),e._needsToBeRendered())},e._calcSize(),e._needsToBeRendered(),e}i.default=m},function(t,e,i){t.exports={default:i(156),__esModule:!0}},function(t,e,i){i(78),i(38),i(60),i(157),t.exports=i(16).Promise},function(t,e,i){"use strict";function n(){}function r(t,e){return t===e||t===P&&e===f}function h(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e}function s(t){return new(r(P,t)?A:c)(t)}function u(t){try{t()}catch(t){return{error:t}}}function o(u,i){if(!u._n){u._n=!0;var n=u._c;k(function(){for(var a=u._v,l=1==u._s,t=0,e=function(t){var e,i,n=l?t.ok:t.fail,r=t.resolve,s=t.reject,o=t.domain;try{n?(l||(2==u._h&&L(u),u._h=1),!0===n?e=a:(o&&o.enter(),e=n(a),o&&o.exit()),e===t.promise?s(O("Promise-chain cycle")):(i=h(e))?i.call(e,r,s):r(e)):s(a)}catch(t){s(t)}};n.length>t;)e(n[t++]);u._c=[],u._n=!1,i&&!u._h&&R(u)})}}function a(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),o(e,!0))}var l,c,f,d=i(42),p=i(12),_=i(17),v=i(158),m=i(15),g=i(22),y=i(18),b=i(159),x=i(160),w=i(164),S=i(165).set,k=i(167)(),M="Promise",O=p.TypeError,C=p.process,P=p[M],E="process"==v(C=p.process),T=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[i(59)("species")]=function(t){t(n,n)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(n)instanceof e}catch(t){}}(),A=c=function(t){var i,n;this.promise=new t(function(t,e){if(void 0!==i||void 0!==n)throw O("Bad Promise constructor");i=t,n=e}),this.resolve=y(i),this.reject=y(n)},R=function(r){S.call(p,function(){var t,e,i,n=r._v;if(F(r)&&(t=u(function(){E?C.emit("unhandledRejection",n,r):(e=p.onunhandledrejection)?e({promise:r,reason:n}):(i=p.console)&&i.error&&i.error("Unhandled promise rejection",n)}),r._h=E||F(r)?2:1),r._a=void 0,t)throw t.error})},F=function(t){if(1==t._h)return!1;for(var e,i=t._a||t._c,n=0;i.length>n;)if((e=i[n++]).fail||!F(e.promise))return!1;return!0},L=function(e){S.call(p,function(){var t;E?C.emit("rejectionHandled",e):(t=p.onrejectionhandled)&&t({promise:e,reason:e._v})})},z=function(t){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw O("Promise can't be resolved itself");(i=h(t))?k(function(){var e={_w:n,_d:!1};try{i.call(t,_(z,e,1),_(a,e,1))}catch(t){a.call(e,t)}}):(n._v=t,n._s=1,o(n,!1))}catch(t){a.call({_w:n,_d:!1},t)}}};T||(P=function(t){b(this,P,M,"_h"),y(t),l.call(this);try{t(_(z,this,1),_(a,this,1))}catch(t){a.call(this,t)}},(l=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(168)(P.prototype,{then:function(t,e){var i=s(w(this,P));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=E?C.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&o(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),A=function(){var t=new l;this.promise=t,this.resolve=_(z,t,1),this.reject=_(a,t,1)}),m(m.G+m.W+m.F*!T,{Promise:P}),i(58)(P,M),i(169)(M),f=i(16)[M],m(m.S+m.F*!T,M,{reject:function(t){var e=s(this);return(0,e.reject)(t),e.promise}}),m(m.S+m.F*(d||!T),M,{resolve:function(t){if(t instanceof P&&r(t.constructor,this))return t;var e=s(this);return(0,e.resolve)(t),e.promise}}),m(m.S+m.F*!(T&&i(170)(function(t){P.all(t).catch(n)})),M,{all:function(t){var o=this,e=s(o),a=e.resolve,l=e.reject,i=u(function(){var n=[],r=0,s=1;x(t,!1,function(t){var e=r++,i=!1;n.push(void 0),s++,o.resolve(t).then(function(t){i||(i=!0,n[e]=t,--s||a(n))},l)}),--s||a(n)});return i&&l(i.error),e.promise},race:function(t){var e=this,i=s(e),n=i.reject,r=u(function(){x(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r&&n(r.error),i.promise}})},function(t,e,i){var r=i(52),s=i(59)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?i:o?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var f=i(17),d=i(161),p=i(162),_=i(21),v=i(54),m=i(163),g={},y={};(e=t.exports=function(t,e,i,n,r){var s,o,a,l,u=r?function(){return t}:m(t),h=f(i,n,e?2:1),c=0;if("function"!=typeof u)throw TypeError(t+" is not iterable!");if(p(u)){for(s=v(t.length);c<s;c++)if((l=e?h(_(o=t[c])[0],o[1]):h(t[c]))===g||l===y)return l}else for(a=u.call(t);!(o=a.next()).done;)if((l=d(a,h,o.value,e))===g||l===y)return l}).BREAK=g,e.RETURN=y},function(t,e,i){var s=i(21);t.exports=function(t,e,i,n){try{return n?e(s(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&s(r.call(t)),e}}},function(t,e,i){var n=i(44),r=i(59)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||s[r]===t)}},function(t,e,i){var n=i(158),r=i(59)("iterator"),s=i(44);t.exports=i(16).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||s[n(t)]}},function(t,e,i){var r=i(21),s=i(18),o=i(59)("species");t.exports=function(t,e){var i,n=r(t).constructor;return void 0===n||null==(i=r(n)[o])?e:s(i)}},function(t,e,i){function n(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}}function r(t){n.call(t.data)}var s,o,a,l=i(17),u=i(166),h=i(57),c=i(26),f=i(12),d=f.process,p=f.setImmediate,_=f.clearImmediate,v=f.MessageChannel,m=0,g={},y="onreadystatechange";p&&_||(p=function(t){for(var e=[],i=1;i<arguments.length;)e.push(arguments[i++]);return g[++m]=function(){u("function"==typeof t?t:Function(t),e)},s(m),m},_=function(t){delete g[t]},"process"==i(52)(d)?s=function(t){d.nextTick(l(n,t,1))}:v?(a=(o=new v).port2,o.port1.onmessage=r,s=l(a.postMessage,a,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(s=function(t){f.postMessage(t+"","*")},f.addEventListener("message",r,!1)):s=y in c("script")?function(t){h.appendChild(c("script"))[y]=function(){h.removeChild(this),n.call(t)}}:function(t){setTimeout(l(n,t,1),0)}),t.exports={set:p,clear:_}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var a=i(12),l=i(165).set,u=a.MutationObserver||a.WebKitMutationObserver,h=a.process,c=a.Promise,f="process"==i(52)(h);t.exports=function(){function t(){var t,e;for(f&&(t=h.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?r():n=void 0,t}}n=void 0,t&&t.enter()}var i,n,r;if(f)r=function(){h.nextTick(t)};else if(u){var e=!0,s=document.createTextNode("");new u(t).observe(s,{characterData:!0}),r=function(){s.data=e=!e}}else if(c&&c.resolve){var o=c.resolve();r=function(){o.then(t)}}else r=function(){l.call(a,t)};return function(t){var e={fn:t,next:void 0};n&&(n.next=e),i||(i=e,r()),n=e}}},function(t,e,i){var r=i(19);t.exports=function(t,e,i){for(var n in e)i&&t[n]?t[n]=e[n]:r(t,n,e[n]);return t}},function(t,e,i){"use strict";var n=i(12),r=i(16),s=i(20),o=i(24),a=i(59)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:n[t];o&&e&&!e[a]&&s.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,i){var s=i(59)("iterator"),o=!1;try{var n=[7][s]();n.return=function(){o=!0},Array.from(n,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var n=[7],r=n[s]();r.next=function(){return{done:i=!0}},n[s]=function(){return r},t(n)}catch(t){}return i}},function(t,e,i){t.exports=function(i){function n(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var r={};return n.m=i,n.c=r,n.p="",n(0)}([function(t,l,u){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(l,"__esModule",{value:!0});var i=u(1),n=e(i),r=u(2),s=e(r),o=u(4),a=null;"undefined"!=typeof window?a=window:void 0!==t&&(a=t),a&&(a.DOMMatrix=n.default,a.DOMMatrixReadOnly=s.default,a.DOMPoint=o.DOMPoint,a.DOMPointReadOnly=o.DOMPointReadOnly),l.DOMMatrix=n.default,l.DOMMatrixReadOnly=s.default,l.DOMPoint=o.DOMPoint,l.DOMPointReadOnly=o.DOMPointReadOnly}).call(l,function(){return this}())},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),r=function(t,e,i){for(var n=!0;n;){var r=t,s=e,o=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,s);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,i=o,n=!0,a=u=void 0}},s=i(2),o=function(t){return t&&t.__esModule?t:{default:t}}(s),a=i(3),l=function(t){function o(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=arguments.length;if(0===e)r(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,[1,0,0,1,0,0]);else{if(1!==e)throw new Error("Wrong number of arguments to DOMMatrix constructor.");if("string"==typeof t)throw new Error("CSS transformList arg not yet implemented.");t instanceof o?r(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,t._matrix):(t instanceof Float32Array||t instanceof Float64Array||t instanceof Array)&&r(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,t)}}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,t),n(o,[{key:"multiplySelf",value:function(t){if(!(t instanceof o))throw new Error("The argument to multiplySelf must be an instance of DOMMatrix");return(0,a.multiplyAndApply)(this,t,this),t.is2D||(this._is2D=!1),this}},{key:"preMultiplySelf",value:function(t){if(!(t instanceof o))throw new Error("The argument to multiplySelf must be an instance of DOMMatrix");return(0,a.multiplyAndApply)(t,this,this),t.is2D||(this._is2D=!1),this}},{key:"translateSelf",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(1===arguments.length)throw new Error("The first two arguments (X and Y translation values) are required (the third, Z translation, is optional).");var n=new o([1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1]);return this.multiplySelf(n),0!=i&&(this._is2D=!1),this}},{key:"scaleSelf",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return this.translateSelf(e,i),this.multiplySelf(new o([t,0,0,t,0,0])),this.translateSelf(-e,-i),this}},{key:"scale3dSelf",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return this.translateSelf(e,i,n),this.multiplySelf(new o([t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1])),this.translateSelf(-e,-i,-n),this}},{key:"scaleNonUniformSelf",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?1:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3],r=arguments.length<=4||void 0===arguments[4]?0:arguments[4],s=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return this.translateSelf(n,r,s),this.multiplySelf(new o([t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1])),this.translateSelf(-n,-r,-s),1===i&&0===s||(this._is2D=!1),this}},{key:"rotateSelf",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];this.translateSelf(e,i);return this.rotateAxisAngleSelf(0,0,1,t),this.translateSelf(-e,-i),this}},{key:"rotateFromVectorSelf",value:function(t,e){throw new Error("rotateFromVectorSelf is not implemented yet.")}},{key:"rotateAxisAngleSelf",value:function(t,e,i,n){var r=new o((0,a.rotateAxisAngleArray)(t,e,i,n));return this.multiplySelf(r),this}},{key:"skewXSelf",value:function(t){throw new Error("skewXSelf is not implemented yet.")}},{key:"skewYSelf",value:function(t){throw new Error("skewYSelf is not implemented yet.")}},{key:"invertSelf",value:function(){throw new Error("invertSelf is not implemented yet.")}},{key:"setMatrixValue",value:function(t){throw new Error("setMatrixValue is not implemented yet.")}},{key:"a",get:function(){return this.m11},set:function(t){this.m11=t}},{key:"b",get:function(){return this.m12},set:function(t){this.m12=t}},{key:"c",get:function(){return this.m21},set:function(t){this.m21=t}},{key:"d",get:function(){return this.m22},set:function(t){this.m22=t}},{key:"e",get:function(){return this.m41},set:function(t){this.m41=t}},{key:"f",get:function(){return this.m42},set:function(t){this.m42=t}},{key:"m11",get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}},{key:"m12",get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}},{key:"m13",get:function(){return this._matrix[8]},set:function(t){this._matrix[8]=t}},{key:"m14",get:function(){return this._matrix[12]},set:function(t){this._matrix[12]=t}},{key:"m21",get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}},{key:"m22",get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}},{key:"m23",get:function(){return this._matrix[9]},set:function(t){this._matrix[9]=t}},{key:"m24",get:function(){return this._matrix[13]},set:function(t){this._matrix[13]=t}},{key:"m31",get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}},{key:"m32",get:function(){return this._matrix[6]},set:function(t){this._matrix[6]=t}},{key:"m33",get:function(){return this._matrix[10]},set:function(t){this._matrix[10]=t}},{key:"m34",get:function(){return this._matrix[14]},set:function(t){this._matrix[14]=t}},{key:"m41",get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}},{key:"m42",get:function(){return this._matrix[7]},set:function(t){this._matrix[7]=t}},{key:"m43",get:function(){return this._matrix[11]},set:function(t){this._matrix[11]=t}},{key:"m44",get:function(){return this._matrix[15]},set:function(t){this._matrix[15]=t}}]),o}(o.default);e.default=l,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),r=i(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=i(3),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],l=function(){function i(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),!(this instanceof o.default))throw new TypeError("DOMMatrixReadOnly can't be instantiated directly. Use DOMMatrix instead.");var e=t.length;if(void 0===e||6!==e&&16!==e)throw new TypeError('DOMMatrix constructor argument "numberSequence" must be an array-like with 6 or 16 numbers.');this._matrix=new Float64Array(a),this._isIdentity=!0,this._is2D=6===e,(0,s.applyArrayValuesToDOMMatrix)(t,this)}return n(i,[{key:"translate",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new o.default(this).translateSelf(t,e,i)}},{key:"scale",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new o.default(this).scaleSelf(t,e,i)}},{key:"scale3d",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return new o.default(this).scale3dSelf(t,e,i,n)}},{key:"scaleNonUniform",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?1:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3],r=arguments.length<=4||void 0===arguments[4]?0:arguments[4],s=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return new o.default(this).scaleNonUniformSelf(t,e,i,n,r,s)}},{key:"rotate",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new o.default(this).rotateSelf(t,e,i)}},{key:"rotateFromVector",value:function(t,e){throw new Error("rotateFromVector is not implemented yet.")}},{key:"rotateAxisAngle",value:function(t,e,i,n){return new o.default(this).rotateAxisAngleSelf(t,e,i,n)}},{key:"skewX",value:function(t){throw new Error("skewX is not implemented yet.")}},{key:"skewY",value:function(t){throw new Error("skewY is not implemented yet.")}},{key:"multiply",value:function(t){return new o.default(this).multiplySelf(t)}},{key:"flipX",value:function(){throw new Error("flipX is not implemented yet.")}},{key:"flipY",value:function(){throw new Error("flipY is not implemented yet.")}},{key:"inverse",value:function(){throw new Error("inverse is not implemented yet.")}},{key:"transformPoint",value:function(t){throw new Error("transformPoint is not implemented yet.")}},{key:"toFloat32Array",value:function(){return Float32Array.from(this._matrix)}},{key:"toFloat64Array",value:function(){return Float64Array.from(this._matrix)}},{key:"is2D",get:function(){return this._is2D}},{key:"isIdentity",get:function(){for(var t=0,e=this._matrix.length;t<e;t+=1)if(this._matrix[t]!=a[t])return this._isIdentity=!1;return this._isIdentity=!0}},{key:"a",get:function(){return this.m11}},{key:"b",get:function(){return this.m12}},{key:"c",get:function(){return this.m21}},{key:"d",get:function(){return this.m22}},{key:"e",get:function(){return this.m41}},{key:"f",get:function(){return this.m42}},{key:"m11",get:function(){return this._matrix[0]}},{key:"m12",get:function(){return this._matrix[4]}},{key:"m13",get:function(){return this._matrix[8]}},{key:"m14",get:function(){return this._matrix[12]}},{key:"m21",get:function(){return this._matrix[1]}},{key:"m22",get:function(){return this._matrix[5]}},{key:"m23",get:function(){return this._matrix[9]}},{key:"m24",get:function(){return this._matrix[13]}},{key:"m31",get:function(){return this._matrix[2]}},{key:"m32",get:function(){return this._matrix[6]}},{key:"m33",get:function(){return this._matrix[10]}},{key:"m34",get:function(){return this._matrix[14]}},{key:"m41",get:function(){return this._matrix[3]}},{key:"m42",get:function(){return this._matrix[7]}},{key:"m43",get:function(){return this._matrix[11]}},{key:"m44",get:function(){return this._matrix[15]}}]),i}();e.default=l,t.exports=e.default},function(t,e){"use strict";function n(t,e){var i=t.length;6===i?(e.m11=t[0],e.m12=t[1],e.m21=t[2],e.m22=t[3],e.m41=t[4],e.m42=t[5]):16===i&&(e.m11=t[0],e.m12=t[1],e.m13=t[2],e.m14=t[3],e.m21=t[4],e.m22=t[5],e.m23=t[6],e.m24=t[7],e.m31=t[8],e.m32=t[9],e.m33=t[10],e.m34=t[11],e.m41=t[12],e.m42=t[13],e.m43=t[14],e.m44=t[15])}Object.defineProperty(e,"__esModule",{value:!0}),e.multiplyAndApply=function(t,e,i){r[0]=t.m11*e.m11+t.m21*e.m12+t.m31*e.m13+t.m41*e.m14,r[4]=t.m11*e.m21+t.m21*e.m22+t.m31*e.m23+t.m41*e.m24,r[8]=t.m11*e.m31+t.m21*e.m32+t.m31*e.m33+t.m41*e.m34,r[12]=t.m11*e.m41+t.m21*e.m42+t.m31*e.m43+t.m41*e.m44,r[1]=t.m12*e.m11+t.m22*e.m12+t.m32*e.m13+t.m42*e.m14,r[5]=t.m12*e.m21+t.m22*e.m22+t.m32*e.m23+t.m42*e.m24,r[9]=t.m12*e.m31+t.m22*e.m32+t.m32*e.m33+t.m42*e.m34,r[13]=t.m12*e.m41+t.m22*e.m42+t.m32*e.m43+t.m42*e.m44,r[2]=t.m13*e.m11+t.m23*e.m12+t.m33*e.m13+t.m43*e.m14,r[6]=t.m13*e.m21+t.m23*e.m22+t.m33*e.m23+t.m43*e.m24,r[10]=t.m13*e.m31+t.m23*e.m32+t.m33*e.m33+t.m43*e.m34,r[14]=t.m13*e.m41+t.m23*e.m42+t.m33*e.m43+t.m43*e.m44,r[3]=t.m14*e.m11+t.m24*e.m12+t.m34*e.m13+t.m44*e.m14,r[7]=t.m14*e.m21+t.m24*e.m22+t.m34*e.m23+t.m44*e.m24,r[11]=t.m14*e.m31+t.m24*e.m32+t.m34*e.m33+t.m44*e.m34,r[15]=t.m14*e.m41+t.m24*e.m42+t.m34*e.m43+t.m44*e.m44,n(r,i)},e.applyArrayValuesToDOMMatrix=n,e.rotateAxisAngleArray=function(t,e,i,n){var r=Math.sin,s=Math.cos,o=Math.pow,a=(l=n/2,Math.PI/180*l);var l;return[1-2*(e*e+i*i)*o(r(a),2),2*(t*e*o(r(a),2)+i*r(a)*s(a)),2*(t*i*o(r(a),2)-e*r(a)*s(a)),0,2*(t*e*o(r(a),2)-i*r(a)*s(a)),1-2*(t*t+i*i)*o(r(a),2),2*(e*i*o(r(a),2)+t*r(a)*s(a)),0,2*(t*i*o(r(a),2)+e*r(a)*s(a)),2*(e*i*o(r(a),2)-t*r(a)*s(a)),1-2*(t*t+e*e)*o(r(a),2),0,0,0,0,1]};var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),n=void 0,o=function(t){if(n){var e=n.get(t);return void 0===e&&(e={},n.set(t,e)),e}n=new WeakMap;var e={};return n.set(t,e),e},r=function(){function r(t,e,i,n){if(s(this,r),1===arguments.length){if(!function(t){return"object"==typeof t&&"x"in t&&"y"in t&&"z"in t&&"w"in t}(t))throw new TypeError("Expected an object with x, y, z, and w properties");o(this).x=t.x,o(this).y=t.y,o(this).z=t.z,o(this).w=t.w}else{if(4!==arguments.length)throw new TypeError("Expected 1 or 4 arguments");o(this).x=t||0,o(this).y=e||0,o(this).z=i||0,o(this).w=n||0}}return i(r,[{key:"matrixTransform",value:function(t){var e=new this.constructor(this);return e}},{key:"x",get:function(){return o(this).x}},{key:"y",get:function(){return o(this).y}},{key:"z",get:function(){return o(this).z}},{key:"w",get:function(){return o(this).w}}],[{key:"fromPoint",value:function(t){return new this(t)}}]),r}(),a=function(t){function e(){s(this,e),function(t,e,i){for(var n=!0;n;){var r=t,s=e,o=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,s);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,i=o,n=!0,a=u=void 0}}(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"x",set:function(t){o(this).x=t}},{key:"y",set:function(t){o(this).y=t}},{key:"z",set:function(t){o(this).z=t}},{key:"w",set:function(t){o(this).w=t}}]),e}(e.DOMPointReadOnly=r);e.DOMPoint=a,e.default=a}])},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(t){var e,n=(e=y.default.mixin(t),(0,v.default)(i,e),(0,f.default)(i,[{key:"_setDefaultProperties",value:function(){(0,_.default)(i.prototype.__proto__||(0,h.default)(i.prototype),"_setDefaultProperties",this).call(this),(0,u.default)(this._properties,{position:new g.default(0,0,0),rotation:new g.default(0,0,0),scale:new g.default(1,1,1),origin:new g.default(.5,.5,.5),align:new g.default(0,0,0),mountPoint:new g.default(0,0,0),opacity:1,transform:new window.DOMMatrix})}},{key:"_setPropertyObservers",value:function(){var t=this;(0,_.default)(i.prototype.__proto__||(0,h.default)(i.prototype),"_setPropertyObservers",this).call(this),this._properties.position.on("valuechanged",function(){return t.triggerEvent("propertychange","position")}),this._properties.rotation.on("valuechanged",function(){return t.triggerEvent("propertychange","rotation")}),this._properties.scale.on("valuechanged",function(){return t.triggerEvent("propertychange","scale")}),this._properties.origin.on("valuechanged",function(){return t.triggerEvent("propertychange","origin")}),this._properties.align.on("valuechanged",function(){return t.triggerEvent("propertychange","align")}),this._properties.mountPoint.on("valuechanged",function(){return t.triggerEvent("propertychange","mountPoint")})}},{key:"_calculateMatrix",value:function(){var t=new window.DOMMatrix,e=this._properties,i=[0,0,0];if(this._parent){var n=this._parent._calculatedSize,r=e.align;i[0]=n.x*r.x,i[1]=n.y*r.y,i[2]=n.z*r.z}var s=[0,0,0],o=this._calculatedSize,a=e.mountPoint;s[0]=o.x*a.x,s[1]=o.y*a.y,s[2]=o.z*a.z;var l=[],u=e.position;l[0]=u.x+i[0]-s[0],l[1]=u.y+i[1]-s[1],l[2]=u.z+i[2]-s[2],t.translateSelf(l[0],l[1],l[2]);var h=e.rotation;return t.rotateAxisAngleSelf(1,0,0,h.x),t.rotateAxisAngleSelf(0,1,0,h.y),t.rotateAxisAngleSelf(0,0,1,h.z),t}},{key:"_calculateWorldMatricesInSubtree",value:function(){this._calculateWorldMatrixFromParent();for(var t=this._children,e=0,i=t.length;e<i;e+=1)t[e]._calculateWorldMatricesInSubtree()}},{key:"_calculateWorldMatrixFromParent",value:function(){var t=this._parent;this._worldMatrix=t instanceof i?this._properties.transform.multiply(t._worldMatrix):this._properties.transform}},{key:"_render",value:function(){(0,_.default)(i.prototype.__proto__||(0,h.default)(i.prototype),"_render",this).call(this),this._properties.transform=this._calculateMatrix()}},{key:"position",set:function(t){this._setPropertyXYZ(i,"position",t)},get:function(){return this._properties.position}},{key:"rotation",set:function(t){this._setPropertyXYZ(i,"rotation",t)},get:function(){return this._properties.rotation}},{key:"scale",set:function(t){this._setPropertyXYZ(i,"scale",t)},get:function(){return this._properties.scale}},{key:"opacity",set:function(t){var e;"number"==typeof(e=t)&&!(0,s.default)(e,NaN)&&!(0,s.default)(e,1/0)||(t=void 0),this._setPropertySingle(i,"opacity",t,"number")},get:function(){return this._properties.opacity}},{key:"align",set:function(t){this._setPropertyXYZ(i,"align",t)},get:function(){return this._properties.align}},{key:"mountPoint",set:function(t){this._setPropertyXYZ(i,"mountPoint",t)},get:function(){return this._properties.mountPoint}},{key:"properties",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,p.default)(i.prototype.__proto__||(0,h.default)(i.prototype),"properties",t,this),t.position&&(this.position=t.position),t.rotation&&(this.rotation=t.rotation),t.scale&&(this.scale=t.scale),t.origin&&(this.origin=t.origin),t.align&&(this.align=t.align),t.mountPoint&&(this.mountPoint=t.mountPoint),t.opacity&&(this.opacity=t.opacity)}}]),i);function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(this,i);var e=(0,d.default)(this,(i.__proto__||(0,h.default)(i)).call(this,t));return e._worldMatrix=null,e}return(0,l.default)(n,a.default,{value:function(t){if(this!==n)return(0,h.default)(n)[a.default].call(this,t);for(var e=t;e;){var i=(0,o.default)(e,"constructor");if(i&&i.value&&i.value.hasOwnProperty(x))return!0;e=(0,h.default)(e)}return!1}}),n[x]=!0,(0,b.makeLowercaseSetterAliases)(n.prototype),(0,b.makeAccessorsEnumerable)(n.prototype),n}var s=n(i(173)),o=n(i(117)),a=n(i(177)),l=n(i(31)),u=n(i(180)),h=n(i(3)),c=n(i(29)),f=n(i(30)),d=n(i(34)),p=n(i(184)),_=n(i(116)),v=n(i(81)),m=n(i(65)),g=n(i(185)),y=n(i(214)),b=i(186),x=(0,m.default)("instanceofSymbol"),w=r(function t(){(0,c.default)(this,t)});w.mixin=r,e.default=w},function(t,e,i){t.exports={default:i(174),__esModule:!0}},function(t,e,i){i(175),t.exports=i(16).Object.is},function(t,e,i){var n=i(15);n(n.S,"Object",{is:i(176)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){t.exports={default:i(178),__esModule:!0}},function(t,e,i){i(179),t.exports=i(64).f("hasInstance")},function(t,e,i){"use strict";var n=i(22),r=i(8),s=i(59)("hasInstance"),o=Function.prototype;s in o||i(20).f(o,s,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){t.exports={default:i(181),__esModule:!0}},function(t,e,i){i(182),t.exports=i(16).Object.assign},function(t,e,i){var n=i(15);n(n.S+n.F,"Object",{assign:i(183)})},function(t,e,i){"use strict";var f=i(48),d=i(72),p=i(73),_=i(6),v=i(51),r=Object.assign;t.exports=!r||i(25)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=r({},t)[i]||Object.keys(r({},e)).join("")!=n})?function(t,e){for(var i=_(t),n=arguments.length,r=1,s=d.f,o=p.f;r<n;)for(var a,l=v(arguments[r++]),u=s?f(l).concat(s(l)):f(l),h=u.length,c=0;c<h;)o.call(l,a=u[c++])&&(i[a]=l[a]);return i}:r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var l=n(i(3)),u=n(i(117));e.default=function t(e,i,n,r){var s=(0,u.default)(e,i);if(void 0===s){var o=(0,l.default)(e);null!==o&&t(o,i,n,r)}else if("value"in s&&s.writable)s.value=n;else{var a=s.set;void 0!==a&&a.call(r,n)}return n}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=n(i(3)),o=n(i(29)),a=n(i(30)),l=n(i(34)),u=n(i(81)),h=i(186),c=n(i(213)),f=(r=c.default,(0,u.default)(d,r),(0,a.default)(d,[{key:"x",set:function(t){this._x=t,this.triggerEvent("valuechanged",{x:t})},get:function(){return this._x}},{key:"y",set:function(t){this._y=t,this.triggerEvent("valuechanged",{y:t})},get:function(){return this._y}},{key:"z",set:function(t){this._z=t,this.triggerEvent("valuechanged",{z:t})},get:function(){return this._z}}]),d);function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;(0,o.default)(this,d);var n=(0,l.default)(this,(d.__proto__||(0,s.default)(d)).call(this));return n._x=t,n._y=e,n._z=i,n}(0,h.makeAccessorsEnumerable)(f.prototype),e.default=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.traverse=e.getAncestorShadowRoot=e.hasShadowDomV1=e.hasShadowDomV0=e.getShadowRootVersion=e.observeChildren=e.makeAccessorsEnumerable=e.makeLowercaseSetterAliases=e.animationFrame=e.applyCSSLabel=e.epsilon=void 0;var F=n(i(187)),L=n(i(190)),r=n(i(197)),z=n(i(198)),h=n(i(31)),c=n(i(117)),j=n(i(194)),f=n(i(209)),s=n(i(155)),N=(n(i(212)),null),o=null,a="function"==typeof Element.prototype.createShadowRoot&&"function"==typeof HTMLContentElement,l="function"==typeof Element.prototype.attachShadow&&"function"==typeof HTMLSlotElement,u=!0;e.epsilon=function(t){return Math.abs(t)<1e-6?0:t},e.applyCSSLabel=function(t,e){return 0===t?"0px":"%"===e?100*t+"%":"px"===e?t+"px":void 0},e.animationFrame=function(){var e=null,t=new s.default(function(t){return e=t});return window.requestAnimationFrame(e),t},e.makeLowercaseSetterAliases=function(t){var e=(0,f.default)(t),i=!0,n=!1,r=void 0;try{for(var s,o=(0,j.default)(e);!(i=(s=o.next()).done);i=!0){var a=s.value,l=a.toLowerCase();if(l!=a){var u=(0,c.default)(t,a);0<=(0,f.default)(u).indexOf("set")&&(0,h.default)(t,l,u)}}}catch(t){n=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}},e.makeAccessorsEnumerable=function(t){var e=(0,f.default)(t),i=!0,n=!1,r=void 0;try{for(var s,o=(0,j.default)(e);!(i=(s=o.next()).done);i=!0){var a=s.value,l=(0,c.default)(t,a);l&&(l.set||l.get)&&(l.enumerable=!0,(0,h.default)(t,a,l))}}catch(t){n=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}},e.observeChildren=function(t,e,i){return N=N||new z.default,o=o||function(){var R=this;return new MutationObserver(function(){var e=(0,r.default)(F.default.mark(function t(e){var i,n,r,s,o,a,l,u,h,c,f,d,p,_,v,m,g,y,b,x,w,S,k,M,O,C,P,E,T,A;return F.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=new z.default,n=0,r=e.length;case 2:if(!(n<r)){t.next=15;break}if("childList"!=(s=e[n]).type)return t.abrupt("continue",12);t.next=6;break;case 6:for(i.has(s.target)||i.set(s.target,new z.default),o=i.get(s.target),a=s.addedNodes,l=a.length,u=0;u<l;u+=1)o.set(a[u],(o.get(a[u])||0)+1);for(h=s.removedNodes,c=h.length,f=0;f<c;f+=1)o.set(h[f],(o.get(h[f])||0)-1);case 12:n+=1,t.next=2;break;case 15:p=!(d=!0),_=void 0,t.prev=18,v=(0,j.default)(i);case 20:if(d=(m=v.next()).done){t.next=45;break}for(g=(0,L.default)(m.value,2),y=g[0],b=g[1],x=N.get(y),w=x.onConnect,S=x.onDisconnect,M=!(k=!0),O=void 0,t.prev=26,C=(0,j.default)(b);!(k=(P=C.next()).done);k=!0)E=(0,L.default)(P.value,2),T=E[0],0<(A=E[1])&&"function"==typeof w?w.call(y,T):A<0&&"function"==typeof S&&S.call(y,T);t.next=34;break;case 30:t.prev=30,t.t0=t.catch(26),M=!0,O=t.t0;case 34:t.prev=34,t.prev=35,!k&&C.return&&C.return();case 37:if(t.prev=37,M)throw O;t.next=40;break;case 40:return t.finish(37);case 41:return t.finish(34);case 42:d=!0,t.next=20;break;case 45:t.next=51;break;case 47:t.prev=47,t.t1=t.catch(18),p=!0,_=t.t1;case 51:t.prev=51,t.prev=52,!d&&v.return&&v.return();case 54:if(t.prev=54,p)throw _;t.next=57;break;case 57:return t.finish(54);case 58:return t.finish(51);case 59:case"end":return t.stop()}},t,R,[[18,47,51,59],[26,30,34,42],[35,,37,41],[52,,54,58]])}));return function(t){return e.apply(this,arguments)}}())}(),N.set(t,{onConnect:e,onDisconnect:i}),o.observe(t,{childList:!0}),!0},e.getShadowRootVersion=function(t){if(console.log("getShadowRootVersion"),!t)return null;var e=document.createElement("slot");t.appendChild(e),e.appendChild(document.createElement("div"));var i=e.assignedNodes({flatten:!0});return e.remove(),console.log("hmm",i.length,0<i.length?"v1":"v0"),0<i.length?"v1":"v0"},e.hasShadowDomV0=a,e.hasShadowDomV1=l,e.getAncestorShadowRoot=function(t){for(var e=t;e&&!(e instanceof ShadowRoot);)e=e.parentNode;return e},e.traverse=function t(e,i){console.log(i?"distributedNode:":"node:",e);for(var n=e.children,r=n.length,s=0;s<r;s+=1)u&&n[s]._elementManager.element._isPossiblyDistributed||t(n[s]);var o=e._elementManager.element._shadowChildren;if(u&&o)for(var a=o.length,l=0;l<a;l+=1)t(o[l].imperativeCounterpart,!0)}},function(t,e,i){t.exports=i(188)},function(r,t,s){(function(t){var e="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,i=e.regeneratorRuntime&&0<=Object.getOwnPropertyNames(e).indexOf("regeneratorRuntime"),n=i&&e.regeneratorRuntime;if(e.regeneratorRuntime=void 0,r.exports=s(189),i)e.regeneratorRuntime=n;else try{delete e.regeneratorRuntime}catch(t){e.regeneratorRuntime=void 0}}).call(t,function(){return this}())},function(R,t){(function(t){!function(t){"use strict";function s(t,e,i,n){var s,o,a,l,r=e&&e.prototype instanceof f?e:f,u=Object.create(r.prototype),h=new p(n||[]);return u._invoke=(s=t,o=i,a=h,l=S,function(t,e){if(l===M)throw new Error("Generator is already running");if(l===O){if("throw"===t)throw e;return _()}for(a.method=t,a.arg=e;;){var i=a.delegate;if(i){var n=d(i,a);if(n){if(n===C)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===S)throw l=O,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l=M;var r=c(s,o,a);if("normal"===r.type){if(l=a.done?O:k,r.arg===C)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(l=O,a.method="throw",a.arg=r.arg)}}),u}function c(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function f(){}function i(){}function e(){}function n(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function o(a){function l(t,e,i,n){var r=c(a[t],a,e);if("throw"!==r.type){var s=r.arg,o=s.value;return o&&"object"==typeof o&&v.call(o,"__await")?Promise.resolve(o.__await).then(function(t){l("next",t,i,n)},function(t){l("throw",t,i,n)}):Promise.resolve(o).then(function(t){s.value=t,i(s)},n)}n(r.arg)}var e;"object"==typeof t.process&&t.process.domain&&(l=t.process.domain.bind(l)),this._invoke=function(i,n){function t(){return new Promise(function(t,e){l(i,n,t,e)})}return e=e?e.then(t,t):t()}}function d(t,e){var i=t.iterator[e.method];if(i===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,d(t,e),"throw"===e.method))return C;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var n=c(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,C;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,C):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function r(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function a(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(r,this),this.reset(!0)}function l(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(v.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=u,t.done=!0,t};return n.next=n}}return{next:_}}function _(){return{value:u,done:!0}}var u,h=Object.prototype,v=h.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",y=m.asyncIterator||"@@asyncIterator",b=m.toStringTag||"@@toStringTag",x="object"==typeof R,w=t.regeneratorRuntime;if(w)x&&(R.exports=w);else{(w=t.regeneratorRuntime=x?R.exports:{}).wrap=s;var S="suspendedStart",k="suspendedYield",M="executing",O="completed",C={},P={};P[g]=function(){return this};var E=Object.getPrototypeOf,T=E&&E(E(l([])));T&&T!==h&&v.call(T,g)&&(P=T);var A=e.prototype=f.prototype=Object.create(P);i.prototype=A.constructor=e,e.constructor=i,e[b]=i.displayName="GeneratorFunction",w.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},w.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,e):(t.__proto__=e,b in t||(t[b]="GeneratorFunction")),t.prototype=Object.create(A),t},w.awrap=function(t){return{__await:t}},n(o.prototype),o.prototype[y]=function(){return this},w.AsyncIterator=o,w.async=function(t,e,i,n){var r=new o(s(t,e,i,n));return w.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},n(A),A[b]="Generator",A[g]=function(){return this},A.toString=function(){return"[object Generator]"},w.keys=function(i){var n=[];for(var t in i)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in i)return t.value=e,t.done=!1,t}return t.done=!0,t}},w.values=l,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(a),!t)for(var e in this)"t"===e.charAt(0)&&v.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(i){function t(t,e){return s.type="throw",s.arg=i,n.next=t,e&&(n.method="next",n.arg=u),!!e}if(this.done)throw i;for(var n=this,e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],s=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=v.call(r,"catchLoc"),a=v.call(r,"finallyLoc");if(o&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),a(i),C}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;a(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:l(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=u),C}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}())},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(i(191)),l=n(i(194));e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=(0,l.default)(t);!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,i){t.exports={default:i(192),__esModule:!0}},function(t,e,i){i(60),i(38),t.exports=i(193)},function(t,e,i){var n=i(158),r=i(59)("iterator"),s=i(44);t.exports=i(16).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||s.hasOwnProperty(n(e))}},function(t,e,i){t.exports={default:i(195),__esModule:!0}},function(t,e,i){i(60),i(38),t.exports=i(196)},function(t,e,i){var n=i(21),r=i(163);t.exports=i(16).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){"use strict";e.__esModule=!0;var n,r=i(155),l=(n=r)&&n.__esModule?n:{default:n};e.default=function(t){return function(){var a=t.apply(this,arguments);return new l.default(function(s,o){return function e(t,i){try{var n=a[t](i),r=n.value}catch(t){return void o(t)}return n.done?void s(r):l.default.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)})}("next")})}}},function(t,e,i){t.exports={default:i(199),__esModule:!0}},function(t,e,i){i(78),i(38),i(60),i(200),i(206),t.exports=i(16).Map},function(t,e,i){"use strict";var n=i(201);t.exports=i(202)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(this,t);return e&&e.v},set:function(t,e){return n.def(this,0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";function o(t,e){var i,n=_(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i}var a=i(20).f,l=i(46),u=i(168),h=i(17),c=i(159),f=i(7),d=i(160),n=i(41),r=i(63),s=i(169),p=i(24),_=i(68).fastKey,v=p?"_s":"size";t.exports={getConstructor:function(t,i,n,r){var s=t(function(t,e){c(t,s,i,"_i"),t._i=l(null),t._f=void 0,t._l=void 0,t[v]=0,null!=e&&d(e,n,t[r],t)});return u(s.prototype,{clear:function(){for(var t=this._i,e=this._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete t[e.i];this._f=this._l=void 0,this[v]=0},delete:function(t){var e=o(this,t);if(e){var i=e.n,n=e.p;delete this._i[e.i],e.r=!0,n&&(n.n=i),i&&(i.p=n),this._f==e&&(this._f=i),this._l==e&&(this._l=n),this[v]--}return!!e},forEach:function(t){c(this,s,"forEach");for(var e,i=h(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!o(this,t)}}),p&&a(s.prototype,"size",{get:function(){return f(this[v])}}),s},def:function(t,e,i){var n,r,s=o(t,e);return s?s.v=i:(t._l=s={i:r=_(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=s),n&&(n.n=s),t[v]++,"F"!==r&&(t._i[r]=s)),t},getEntry:o,setStrong:function(t,e,i){n(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?r(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,r(1))},i?"entries":"values",!i,!0),s(e)}}},function(t,e,i){"use strict";var c=i(12),f=i(15),d=i(68),p=i(25),_=i(19),v=i(168),m=i(160),g=i(159),y=i(22),b=i(58),x=i(20).f,w=i(203)(0),S=i(24);t.exports=function(i,t,e,n,r,s){var o=c[i],a=o,l=r?"set":"add",u=a&&a.prototype,h={};return S&&"function"==typeof a&&(s||u.forEach&&!p(function(){(new a).entries().next()}))?(a=t(function(t,e){g(t,a,i,"_c"),t._c=new o,null!=e&&m(e,r,t[l],t)}),w("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(n){var r="add"==n||"set"==n;n in u&&(!s||"clear"!=n)&&_(a.prototype,n,function(t,e){if(g(this,a,n),!r&&s&&!y(t))return"get"==n&&void 0;var i=this._c[n](0===t?0:t,e);return r?this:i})}),"size"in u&&x(a.prototype,"size",{get:function(){return this._c.size}})):(a=n.getConstructor(t,i,r,l),v(a.prototype,e),d.NEED=!0),b(a,i),h[i]=a,f(f.G+f.W+f.F,h),s||n.setStrong(a,i,r),a}},function(t,e,i){var y=i(17),b=i(51),x=i(6),w=i(54),n=i(204);t.exports=function(c,t){var f=1==c,d=2==c,p=3==c,_=4==c,v=6==c,m=5==c||v,g=t||n;return function(t,e,i){for(var n,r,s=x(t),o=b(s),a=y(e,i,3),l=w(o.length),u=0,h=f?g(t,l):d?g(t,0):void 0;u<l;u++)if((m||u in o)&&(r=a(n=o[u],u,s),c))if(f)h[u]=r;else if(r)switch(c){case 3:return!0;case 5:return n;case 6:return u;case 2:h.push(n)}else if(_)return!1;return v?-1:p||_?_:h}}},function(t,e,i){var n=i(205);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){var n=i(22),r=i(74),s=i(59)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&(null===(e=e[s])&&(e=void 0))),void 0===e?Array:e}},function(t,e,i){var n=i(15);n(n.P+n.R,"Map",{toJSON:i(207)("Map")})},function(t,e,i){var n=i(158),r=i(208);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,i){var n=i(160);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e,i){t.exports={default:i(210),__esModule:!0}},function(t,e,i){i(211);var n=i(16).Object;t.exports=function(t){return n.getOwnPropertyNames(t)}},function(t,e,i){i(14)("getOwnPropertyNames",function(){return i(75).f})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r,s=n(i(187)),o=n(i(155)),a=n(i(197));e.default=(r=(0,a.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("complete"!==document.readyState)return t.next=3,new o.default(function(t){window.addEventListener("load",t)});t.next=3;break;case 3:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(t){var e,n=(e=t,(0,d.default)(i,e),(0,c.default)(i,[{key:"on",value:function(t,e){if(this._eventMap||(this._eventMap=new l.default),this._eventMap.has(t)||this._eventMap.set(t,[]),"function"!=typeof e)throw new Error("Expected a function in callback argument of Observable#on.");this._eventMap.get(t).push(e)}},{key:"off",value:function(t,e){if(this._eventMap&&this._eventMap.has(t)){var i=this._eventMap.get(t);-1!==i.indexOf(e)&&(i.splice(i.indexOf(e),1),0===i.length&&this._eventMap.delete(t),0===this._eventMap.size&&(this._eventMap=null))}}},{key:"triggerEvent",value:function(t,e){if(this._eventMap&&this._eventMap.has(t))for(var i=this._eventMap.get(t),n=0,r=i.length;n<r;n+=1)i[n](e)}}]),i);function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,h.default)(this,i),(0,f.default)(this,(i.__proto__||(0,u.default)(i)).call(this,t))}return(0,a.default)(n,o.default,{value:function(t){if(this!==n)return(0,u.default)(n)[o.default].call(this,t);for(var e=t;e;){var i=(0,s.default)(e,"constructor");if(i&&i.value&&i.value.hasOwnProperty(p))return!0;e=(0,u.default)(e)}return!1}}),n[p]=!0,n}var s=n(i(117)),o=n(i(177)),a=n(i(31)),l=n(i(198)),u=n(i(3)),h=n(i(29)),c=n(i(30)),f=n(i(34)),d=n(i(81)),p=(0,n(i(65)).default)("instanceofSymbol"),_=r(function t(){(0,h.default)(this,t)});_.mixin=r,e.default=_},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(117)),s=n(i(177)),o=n(i(31)),a=n(i(35)),l=n(i(198)),u=n(i(215)),h=n(i(216)),c=n(i(180)),f=n(i(3)),d=n(i(29)),p=n(i(30)),_=n(i(34)),v=n(i(81)),m=n(i(65)),g=i(186),y=n(i(217)),b=n(i(185)),x=n(i(213)),w=n(i(223));void 0===document.createElement("div").style.transform&&Object.defineProperty(CSSStyleDeclaration.prototype,"transform",{set:function(t){this.webkitTransform=t},get:function(){return this.webkitTransform},enumerable:!0});function S(t){var e,n=(e=y.default.mixin(x.default.mixin(t)),(0,v.default)(i,e),(0,p.default)(i,[{key:"_setDefaultProperties",value:function(){(0,c.default)(this._properties,{sizeMode:new b.default("absolute","absolute","absolute"),absoluteSize:new b.default(0,0,0),proportionalSize:new b.default(1,1,1)})}},{key:"_setPropertyObservers",value:function(){var t=this;this._properties.sizeMode.on("valuechanged",function(){return t.triggerEvent("propertychange","sizeMode")}),this._properties.absoluteSize.on("valuechanged",function(){return t.triggerEvent("propertychange","absoluteSize")}),this._properties.proportionalSize.on("valuechanged",function(){return t.triggerEvent("propertychange","proportionalSize")})}},{key:"_calcSize",value:function(){var t=this._calculatedSize,e=(0,h.default)(t,[]),i=this._properties,n=this._getParentSize();"absolute"==i.sizeMode._x?t.x=i.absoluteSize._x:t.x=n.x*i.proportionalSize._x,"absolute"==i.sizeMode._y?t.y=i.absoluteSize._y:t.y=n.y*i.proportionalSize._y,"absolute"==i.sizeMode._z?t.z=i.absoluteSize._z:t.z=n.z*i.proportionalSize._z,e.x===t.x&&e.y===t.y&&e.z===t.z||this.triggerEvent("sizechange",(0,u.default)({},t))}},{key:"_getParentSize",value:function(){return this._parent?this._parent._calculatedSize:{x:0,y:0,z:0}}},{key:"_setPropertyXYZ",value:function(t,i,n){var r=this;if(!(n instanceof Object||n instanceof Array||n instanceof Function))throw new TypeError("Invalid value for "+t.name+"#"+i+".");var e=!1;n instanceof Function?(this._propertyFunctions||(this._propertyFunctions=new l.default),this._propertyFunctions.has(i)&&w.default.removeRenderTask(this._propertyFunctions.get(i)),this._propertyFunctions.set(i,w.default.addRenderTask(function(t){var e=n(r._properties[i]._x,r._properties[i]._y,r._properties[i]._z,t);return!1===e?(r._propertyFunctions.delete(i),!1):void(r[i]=e)}))):n instanceof Array?(void 0!==n[0]&&(this._properties[i]._x=n[0],e=!0),void 0!==n[1]&&(this._properties[i]._y=n[1],e=!0),void 0!==n[2]&&(this._properties[i]._z=n[2],e=!0)):(void 0!==n.x&&(this._properties[i]._x=n.x,e=!0),void 0!==n.y&&(this._properties[i]._y=n.y,e=!0),void 0!==n.z&&(this._properties[i]._z=n.z,e=!0)),e&&this.triggerEvent("propertychange",i)}},{key:"_setPropertySingle",value:function(t,i,n,e){var r=this;if(!((void 0===n?"undefined":(0,a.default)(n))==e||n instanceof Function))throw new TypeError("Invalid value for "+t.name+"#"+i+".");n instanceof Function?w.default.addRenderTask(function(t){var e=n(r._properties[i],t);return!1!==e&&void(r[i]=e)}):(this._properties[i]=n,this.triggerEvent("propertychange",i))}},{key:"_render",value:function(){}},{key:"sizeMode",set:function(t){this._setPropertyXYZ(i,"sizeMode",t)},get:function(){return this._properties.sizeMode}},{key:"absoluteSize",set:function(t){this._setPropertyXYZ(i,"absoluteSize",t)},get:function(){return this._properties.absoluteSize}},{key:"actualSize",get:function(){var t=this._calculatedSize;return{x:t.x,y:t.y,z:t.z}}},{key:"proportionalSize",set:function(t){this._setPropertyXYZ(i,"proportionalSize",t)},get:function(){return this._properties.proportionalSize}},{key:"properties",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t.sizeMode&&(this.sizeMode=t.sizeMode),t.absoluteSize&&(this.absoluteSize=t.absoluteSize),t.proportionalSize&&(this.proportionalSize=t.proportionalSize)}}]),i);function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,d.default)(this,i);var e=(0,_.default)(this,(i.__proto__||(0,f.default)(i)).call(this,t));return e._propertyFunctions=null,e._calculatedSize={x:0,y:0,z:0},e._properties={},e._setDefaultProperties(),e._setPropertyObservers(),e.properties=t,e}return(0,o.default)(n,s.default,{value:function(t){if(this!==n)return(0,f.default)(n)[s.default].call(this,t);for(var e=t;e;){var i=(0,r.default)(e,"constructor");if(i&&i.value&&i.value.hasOwnProperty(k))return!0;e=(0,f.default)(e)}return!1}}),n[k]=!0,(0,g.makeLowercaseSetterAliases)(n.prototype),(0,g.makeAccessorsEnumerable)(n.prototype),n}var k=(0,m.default)("instanceofSymbol"),M=S(function t(){(0,d.default)(this,t)});M.mixin=S,e.default=M},function(t,e,i){"use strict";e.__esModule=!0;var n,r=i(180),s=(n=r)&&n.__esModule?n:{default:n};e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){var i={};for(var n in t)0<=e.indexOf(n)||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(t){var e,n=(e=t,(0,d.default)(i,e),(0,c.default)(i,[{key:"addChild",value:function(t){if(!(t instanceof i))throw new TypeError("TreeNode.addChild expects the childNode argument to be a TreeNode instance.");if(t._parent===this)throw new ReferenceError("childNode is already a child of this parent.");return t._parent&&t._parent.removeChild(t),(t._parent=this)._children.push(t),this}},{key:"addChildren",value:function(t){var e=this;return t.forEach(function(t){return e.addChild(t)}),this}},{key:"removeChild",value:function(t){if(!(t instanceof i))throw new Error("\n                    TreeNode.removeChild expects the childNode argument to be an\n                    instance of TreeNode. There should only be TreeNodes in the\n                    tree.\n                ");if(t._parent!==this)throw new ReferenceError("childNode is not a child of this parent.");return t._parent=null,this._children.splice(this._children.indexOf(t),1),this}},{key:"removeChildren",value:function(t){var e=this;return t.forEach(function(t){return e.removeChild(t)}),this}},{key:"removeAllChildren",value:function(){return this.removeChildren(this._children),this}},{key:"parent",get:function(){return this._parent}},{key:"children",get:function(){return[].concat((0,l.default)(this._children))}},{key:"childCount",get:function(){return this._children.length}}]),i);function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,h.default)(this,i);var e=(0,f.default)(this,(i.__proto__||(0,u.default)(i)).call(this,t));return e._parent=null,e._children=[],e}return(0,a.default)(n,o.default,{value:function(t){if(this!==n)return(0,u.default)(n)[o.default].call(this,t);for(var e=t;e;){var i=(0,s.default)(e,"constructor");if(i&&i.value&&i.value.hasOwnProperty(p))return!0;e=(0,u.default)(e)}return!1}}),n[p]=!0,n}var s=n(i(117)),o=n(i(177)),a=n(i(31)),l=n(i(218)),u=n(i(3)),h=n(i(29)),c=n(i(30)),f=n(i(34)),d=n(i(81)),p=(0,n(i(65)).default)("instanceofSymbol"),_=r(function t(){(0,h.default)(this,t)});_.mixin=r,e.default=_},function(t,e,i){"use strict";e.__esModule=!0;var n,r=i(219),s=(n=r)&&n.__esModule?n:{default:n};e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,s.default)(t)}},function(t,e,i){t.exports={default:i(220),__esModule:!0}},function(t,e,i){i(38),i(221),t.exports=i(16).Array.from},function(t,e,i){"use strict";var f=i(17),n=i(15),d=i(6),p=i(161),_=i(162),v=i(54),m=i(222),g=i(163);n(n.S+n.F*!i(170)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,n,r,s=d(t),o="function"==typeof this?this:Array,a=arguments.length,l=1<a?arguments[1]:void 0,u=void 0!==l,h=0,c=g(s);if(u&&(l=f(l,2<a?arguments[2]:void 0,2)),null==c||o==Array&&_(c))for(i=new o(e=v(s.length));h<e;h++)m(i,h,u?l(s[h],h):s[h]);else for(r=c.call(s),i=new o;!(n=r.next()).done;h++)m(i,h,u?p(r,l,[n.value,h],!0):n.value);return i.length=h,i}})},function(t,e,i){"use strict";var n=i(20),r=i(28);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(155)),s=n(i(29)),o=n(i(30)),a=n(i(224)),p=n(i(172)),_=n(i(225));i(186);var l=!1,v=null,u=((0,o.default)(h,[{key:"_startAnimationLoop",value:function(){var i=this;if(this._animationLoopStarted)return r.default.resolve();function t(){i._rAF=requestAnimationFrame(function t(e){i._inFrame=!0,i._runRenderTasks(e),i._renderNodes(e),i._allRenderTasks.length?i._rAF=requestAnimationFrame(t):(i._rAF=null,i._animationLoopStarted=!1),i._inFrame=!1})}return this._animationLoopStarted=!0,l?(t(),r.default.resolve()):(0,a.default)().then(function(){l=!0,t()})}},{key:"addRenderTask",value:function(t){if("function"!=typeof t)throw new Error("Render task must be a function.");if(!this._allRenderTasks.includes(t))return this._allRenderTasks.push(t),this._numberOfTasks+=1,this._animationLoopStarted||this._startAnimationLoop(),t}},{key:"removeRenderTask",value:function(t){var e=this._allRenderTasks.indexOf(t);-1!=e&&(this._allRenderTasks.splice(e,1),--this._numberOfTasks,--this._taskIterationIndex)}},{key:"_runRenderTasks",value:function(t){for(this._taskIterationIndex=0;this._taskIterationIndex<this._numberOfTasks;this._taskIterationIndex+=1){var e=this._allRenderTasks[this._taskIterationIndex];!1===e(t)&&this.removeRenderTask(e)}}},{key:"_setNodeToBeRendered",value:function(t){this._nodesToBeRendered.includes(t)||(this._nodesToBeRendered.push(t),this._inFrame||this._startAnimationLoop())}},{key:"_renderNodes",value:function(t){if(this._nodesToBeRendered.length){for(var e=0,i=this._nodesToBeRendered.length;e<i;e+=1){var n=this._nodesToBeRendered[e];n._render(t),!(n instanceof p.default)||n._getAncestorToBeRendered()instanceof p.default||this._worldMatrixRootNodes.includes(n)||this._worldMatrixRootNodes.push(n),n._scene&&!this._modifiedScenes.includes(n._scene)&&this._modifiedScenes.push(n._scene)}for(var r=this._worldMatrixRootNodes,s=0,o=r.length;s<o;s+=1)r[s]._calculateWorldMatricesInSubtree();r.length=0;for(var a=this._modifiedScenes,l=0,u=a.length;l<u;l+=1){var h=a[l].element;h.webglEnabled&&(v=v||(0,_.default)())&&v.drawScene(h)}a.length=0;for(var c=this._nodesToBeRendered,f=0,d=c.length;f<d;f+=1)c[f]._willBeRendered=!1;c.length=0}}}]),h);function h(){(0,s.default)(this,h),this._inFrame=!1,this._rAF=null,this._animationLoopStarted=!1,this._allRenderTasks=[],this._taskIterationIndex=0,this._numberOfTasks=0,this._nodesToBeRendered=[],this._modifiedScenes=[],this._worldMatrixRootNodes=[]}e.default=new u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r,s=n(i(187)),o=n(i(155)),a=n(i(197));e.default=(r=(0,a.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("loading"===document.readyState)return t.next=3,new o.default(function(t){document.addEventListener("DOMContentLoaded",t)});t.next=3;break;case 3:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var g=n(i(219)),h=n(i(218)),r=n(i(29)),s=n(i(30));e.default=function(){return a||(a=new o)};function f(t){var e=[parseFloat(getComputedStyle(t.gl.canvas).width)*window.devicePixelRatio,parseFloat(getComputedStyle(t.gl.canvas).height)*window.devicePixelRatio,1e3];y.setGlResolution.apply(void 0,[t.gl].concat(e)),t.projectionMatrix=y.m4.perspective(45,e[0]/e[1],1,2e3)}var y=i(226),o=((0,s.default)(l,[{key:"initGl",value:function(t){var e=(0,y.createWebGLContext)(t),i=t.webGlRendererState;(i.gl=e)||console.log("You need WebGL.");var n=(0,y.createShader)(e,e.VERTEX_SHADER,y.vertShaderSource),r=(0,y.createShader)(e,e.FRAGMENT_SHADER,y.fragShaderSource),s=(0,y.createProgram)(e,n,r);e.useProgram(s),i.colorsBuffer=e.createBuffer(),i.colorAttributeLocation=e.getAttribLocation(s,"a_color"),e.enableVertexAttribArray(i.colorAttributeLocation),i.vertexBuffer=e.createBuffer(),i.vertexAttributeLocation=e.getAttribLocation(s,"a_vertexPosition"),e.enableVertexAttribArray(i.vertexAttributeLocation),i.normalsBuffer=e.createBuffer(),i.normalAttributeLocation=e.getAttribLocation(s,"a_normal"),e.enableVertexAttribArray(i.normalAttributeLocation),i.textureCoordinatesBuffer=e.createBuffer(),i.textureCoordinateLocation=e.getAttribLocation(s,"a_textureCoordinate"),e.enable(e.DEPTH_TEST),e.blendFunc(e.SRC_ALPHA,e.ONE),e.enable(e.BLEND),i.projectionMatrix=y.m4.identity,f(i),t.on("parentsizechange",function(){return f(i)}),i.worldViewProjectionMatrixLocation=e.getUniformLocation(s,"u_worldViewProjectionMatrix"),i.worldMatrixLocation=e.getUniformLocation(s,"u_worldMatrix"),i.lightWorldPositionLocation=e.getUniformLocation(s,"u_lightWorldPosition"),i.cameraWorldPositionLocation=e.getUniformLocation(s,"u_cameraWorldPosition");var o=e.getUniformLocation(s,"u_shininess"),a=e.getUniformLocation(s,"u_lightColor"),l=e.getUniformLocation(s,"u_specularColor");i.textureLocation=e.getUniformLocation(s,"u_texture"),i.hasTextureLocation=e.getUniformLocation(s,"u_hasTexture"),e.uniform1f(o,200);var u=[1,1,1],h=u;e.uniform3fv(a,y.v3.normalize(h));var c=u;e.uniform3fv(l,y.v3.normalize(c)),i.lightAnimParam=0,i.lightWorldPosition=[20,30,50],i.cameraAngle=0,i.cameraRadius=200}},{key:"drawScene",value:function(t){var e=t.webGlRendererState,i=e.gl;e.lightAnimParam+=.05,e.lightWorldPosition=[300*Math.sin(e.lightAnimParam),300*Math.sin(2*e.lightAnimParam),Math.abs(300*Math.cos(e.lightAnimParam))],i.uniform3fv(e.lightWorldPositionLocation,e.lightWorldPosition);var n=t.getAttribute("background");n="string"==typeof n?n.split(" ").map(function(t){return parseFloat(t)}):[0,0,0,0],i.clearColor.apply(i,(0,h.default)(n)),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT);var r=y.m4.identity;r=y.m4.multiply(r,y.m4.yRotation(e.cameraAngle)),r=y.m4.multiply(r,y.m4.translation(0,0,1.5*e.cameraRadius));var s=y.m4.inverse(r);e.viewProjectionMatrix=y.m4.multiply(e.projectionMatrix,s);var o=[r[12],r[13],r[14]];i.uniform3fv(e.cameraWorldPositionLocation,o);for(var a=t.imperativeCounterpart._children,l=0,u=a.length;l<u;l+=1)this.drawNodeAndRecurse(e,a[l])}},{key:"drawNodeAndRecurse",value:function(t,e){var i=t.gl,n=e.element.getAttribute("mesh");if(n){var r=e._calculatedSize,s=(0,g.default)(e.element.children).find(function(t){return t instanceof SVGSVGElement}),o=!!s;if("cube"==n)e.__shape instanceof y.Cube||(e.__shape=new y.Cube(0,0,r.x));else if("quad"==n){if(e.__shape instanceof y.Quad?(e.__shape.width=r.x,e.__shape.height=r.y,e.__shape._calcVerts()):e.__shape=new y.Quad(r.x,r.y),o){e.__texture||(e.__shape.textureCoordinates=new Float32Array([0,0,1,0,1,1,1,1,0,1,0,0]),e.__texture=i.createTexture()),e.__two||(e.__two=new Two({type:Two.Types.webgl,fullscreen:!1,autostart:!1}),e.__two.interpret(s)),e.__two.update();var a=e.__two.renderer.domElement,l=function(t){return 0==(t&t-1)};i.bindTexture(i.TEXTURE_2D,e.__texture),i.texImage2D(i.TEXTURE_2D,0,i.RGB,i.RGB,i.UNSIGNED_BYTE,a),l(a.width)&&l(a.height)?(i.generateMipmap(i.TEXTURE_2D),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_LINEAR)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR))}}else"isotriangle"==n?e.__shape instanceof y.IsoscelesTriangle||(e.__shape=new y.IsoscelesTriangle(r.x,r.y)):"pyramid4"==n?e.__shape instanceof y.FourSidedPyramid||(e.__shape=new y.FourSidedPyramid(r.x,r.y)):"symtrap"==n?e.__shape instanceof y.SymmetricTrapezoid?(e.__shape.baseWidth=r.x/2,e.__shape.topWidth=r.x,e.__shape.height=r.y,e.__shape._calcVerts()):e.__shape=new y.SymmetricTrapezoid(r.x/2,r.x,r.y):(e.__shape instanceof y.Quad?(e.__shape.width=r.x,e.__shape.height=r.y,e.__shape._calcVerts()):e.__shape=new y.Quad(r.x,r.y),o&&(e.__shape.textureCoordinates=new Float32Array([0,0,1,0,1,1,1,1,0,1,0,0])));if(e.__shape){e.__shape.color=e.element.getAttribute("color"),i.bindBuffer(i.ARRAY_BUFFER,t.colorsBuffer),i.bufferData(i.ARRAY_BUFFER,e.__shape._colors,i.STATIC_DRAW);var u=i.FLOAT;i.vertexAttribPointer(t.colorAttributeLocation,4,u,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,t.vertexBuffer),i.bufferData(i.ARRAY_BUFFER,e.__shape.verts,i.STATIC_DRAW);var h=i.FLOAT;i.vertexAttribPointer(t.vertexAttributeLocation,3,h,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,t.normalsBuffer),i.bufferData(i.ARRAY_BUFFER,e.__shape.normals,i.STATIC_DRAW);var c=i.FLOAT;if(i.vertexAttribPointer(t.normalAttributeLocation,3,c,!1,0,0),o){i.uniform1i(t.hasTextureLocation,1),i.bindBuffer(i.ARRAY_BUFFER,t.textureCoordinatesBuffer),i.bufferData(i.ARRAY_BUFFER,e.__shape.textureCoordinates,i.STATIC_DRAW);var f=i.FLOAT;i.enableVertexAttribArray(t.textureCoordinateLocation),i.vertexAttribPointer(t.textureCoordinateLocation,2,f,!1,0,0),i.uniform1i(t.textureLocation,0)}else i.uniform1i(t.hasTextureLocation,0),i.disableVertexAttribArray(t.textureCoordinateLocation);i.uniformMatrix4fv(t.worldMatrixLocation,!1,e._worldMatrix.toFloat32Array());var d=y.m4.multiply(t.viewProjectionMatrix,e._worldMatrix.toFloat32Array());i.uniformMatrix4fv(t.worldViewProjectionMatrixLocation,!1,d);var p=e.__shape.verts.length/3;i.drawArrays(i.TRIANGLES,0,p)}}for(var _=e._children,v=0,m=_.length;v<m;v+=1)this.drawNodeAndRecurse(t,_[v])}}]),l),a=null;function l(){(0,r.default)(this,l)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t){var e=b.get(t);t.removeChild(e.canvas)}function l(t){return t*Math.PI/180}Object.defineProperty(e,"__esModule",{value:!0}),e.fragShaderSource=e.vertShaderSource=e.m4=e.m3=e.FourSidedPyramid=e.ThreeSidedPyramid=e.Cube=e.Quad=e.SymmetricTrapezoid=e.IsoscelesTriangle=e.v3=void 0;var r=n(i(227)),s=n(i(3)),o=n(i(34)),u=n(i(116)),h=n(i(81)),c=n(i(29)),f=n(i(30)),d=n(i(230));e.createWebGLContext=function(t,e){var i,n,r,s=(n=i="100%",function(t,e,i){t.style.width=e,t.style.height=i}(r=document.createElement("canvas"),i,n),r),o=function(t,e){var i=void 0;if(t instanceof HTMLCanvasElement&&(i=t),i=i||document.querySelector(t),!(i instanceof HTMLCanvasElement))return!1;if(1==e||null==e)e="";else{if(2!=e)throw new Error("Invalid WebGL version.");e="2"}return i.getContext("webgl"+e)}(s,e);return o&&(b.has(t)&&a(t),t.appendChild(s),b.set(t,o)),o},e.removeWebGLContext=a,e.setGlResolution=function(t,e,i){var n,r,s;n=t.canvas,r=e,s=i,n.width=r,n.height=s,t.viewport(0,0,e,i)},e.createShader=function(t,e,i){var n=t.createShader(e);if(t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))return n;var r=new Error("*** Error compiling shader '"+n+"':"+t.getShaderInfoLog(n));throw t.deleteShader(n),r},e.createProgram=function(t,e,i){var n=t.createProgram();return t.attachShader(n,e),t.attachShader(n,i),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)?n:(console.log(" --- Error making program. GL Program Info Log:",t.getProgramInfoLog(n)),void t.deleteProgram(n))};var p,_,v,m,g,y,b=new d.default,x=e.v3={cross:function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},subtract:function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},add:function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]},normalize:function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return 1e-5<e?[t[0]/e,t[1]/e,t[2]/e]:[0,0,0]}},w=((0,f.default)(T,[{key:"_init",value:function(){this.verts=null,this.normals=null,this._colors=null,this._color=null,this._calcVerts(),this.color=[.5,.5,.5]}},{key:"color",set:function(t){if(t){var e;e="string"==typeof(this._color=t)?t.trim().split(" ").map(function(t){return parseFloat(t)}):t;for(var i=this.verts.length,n=i+i/3,r=this._colors=new Float32Array(n),s=0;s<n;s+=4)r[s+0]=e[0],r[s+1]=e[1],r[s+2]=e[2],r[s+3]=void 0===e[3]?1:e[3]}},get:function(){return this._color}}]),T),S=(e.IsoscelesTriangle=(y=w,(0,h.default)(E,y),(0,f.default)(E,[{key:"_init",value:function(t,e){this.width=t,this.height=e,(0,u.default)(E.prototype.__proto__||(0,s.default)(E.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){for(var t=this.width,e=this.height,i=this.verts=new Float32Array([-t/2,0,0,t/2,0,0,0,e,0]),n=[0,0,1],r=this.normals=new Float32Array(i.length),s=0,o=i.length;s<o;s+=3)r[s+0]=n[0],r[s+1]=n[1],r[s+2]=n[2]}}]),E),e.SymmetricTrapezoid=(g=w,(0,h.default)(P,g),(0,f.default)(P,[{key:"_init",value:function(t,e,i){this.baseWidth=t,this.topWidth=e,this.height=i,(0,u.default)(P.prototype.__proto__||(0,s.default)(P.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){for(var t=this.baseWidth,e=this.topWidth,i=this.height,n=this.verts=new Float32Array([-t/2,0,0,t/2,0,0,e/2,i,0,e/2,i,0,-e/2,i,0,-t/2,0,0]),r=[0,0,1],s=this.normals=new Float32Array(n.length),o=0,a=n.length;o<a;o+=3)s[o+0]=r[0],s[o+1]=r[1],s[o+2]=r[2]}}]),P),e.Quad=(m=w,(0,h.default)(C,m),(0,f.default)(C,[{key:"_init",value:function(t,e){this.width=t,this.height=e,(0,u.default)(C.prototype.__proto__||(0,s.default)(C.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){for(var t=this.width,e=this.height,i=this.verts=new Float32Array([-t/2,-e/2,0,t/2,-e/2,0,t/2,e/2,0,t/2,e/2,0,-t/2,e/2,0,-t/2,-e/2,0]),n=[0,0,1],r=this.normals=new Float32Array(i.length),s=0,o=i.length;s<o;s+=3)r[s+0]=n[0],r[s+1]=n[1],r[s+2]=n[2]}}]),C),e.Cube=(v=w,(0,h.default)(O,v),(0,f.default)(O,[{key:"_init",value:function(t,e,i){this.x=t,this.y=e,this.width=i,(0,u.default)(O.prototype.__proto__||(0,s.default)(O.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){for(var t=this.x,e=this.y,i=this.width,n=t+i,r=e+i,s=this.verts=new Float32Array([t,e,0,n,e,0,n,r,0,n,r,0,t,r,0,t,e,0,t,e,0,t,e,-i,t,r,-i,t,r,-i,t,r,0,t,e,0,n,e,0,n,e,-i,n,r,-i,n,r,-i,n,r,0,n,e,0,t,e,-i,n,e,-i,n,r,-i,n,r,-i,t,r,-i,t,e,-i,t,e,0,t,e,-i,n,e,-i,n,e,-i,n,e,0,t,e,0,t,r,0,t,r,-i,n,r,-i,n,r,-i,n,r,0,t,r,0]),o=[[0,0,1],[-1,0,0],[1,0,0],[0,0,-1],[0,-1,0],[0,1,0]],a=this.normals=new Float32Array(s.length),l=0,u=0,h=s.length;u<h;u+=18,l+=1)a[u+0]=o[l][0],a[u+1]=o[l][1],a[u+2]=o[l][2],a[u+3]=o[l][0],a[u+4]=o[l][1],a[u+5]=o[l][2],a[u+6]=o[l][0],a[u+7]=o[l][1],a[u+8]=o[l][2],a[u+9]=o[l][0],a[u+10]=o[l][1],a[u+11]=o[l][2],a[u+12]=o[l][0],a[u+13]=o[l][1],a[u+14]=o[l][2],a[u+15]=o[l][0],a[u+16]=o[l][1],a[u+17]=o[l][2]}}]),O),e.ThreeSidedPyramid=(_=w,(0,h.default)(M,_),(0,f.default)(M,[{key:"_init",value:function(t,e){this.base=t,this.height=e,(0,u.default)(M.prototype.__proto__||(0,s.default)(M.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){var t=this.base,e=this.height;this.verts=new Float32Array([0,0,0,t,0,0,t/2,0,-Math.sin(l(60))*t,t,0,0,0,0,0,t/2,e,Math.sin(l(60))*t/(t/2)*(t/2),0,0,0,t/2,0,-Math.sin(l(60))*t,t/2,e,Math.sin(l(60))*t/(t/2)*(t/2),t/2,0,-Math.sin(l(60))*t,t,0,0,t/2,e,Math.sin(l(60))*t/(t/2)*(t/2)])}}]),M),e.FourSidedPyramid=(p=w,(0,h.default)(k,p),(0,f.default)(k,[{key:"_init",value:function(){(0,u.default)(k.prototype.__proto__||(0,s.default)(k.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){this.verts=new Float32Array([-100,.087303,-100,100,.087303,-100,100,.087303,100,-100,.087303,100,100,.087303,100,100,.087303,-100,0,200.087,0,100,.087303,-100,-100,.087303,-100,0,200.087,0,-100,.087303,-100,-100,.087303,100,0,200.087,0,-100,.087303,100,100,.087303,100,0,200.087,0]),this.normals=new Float32Array([0,-1,0,0,-1,0,0,-1,0,0,-1,0,.894427,.447214,0,.894427,.447214,0,.894427,.447214,0,0,.447214,-.894427,0,.447214,-.894427,0,.447214,-.894427,-.894427,.447214,0,-.894427,.447214,0,-.894427,.447214,0,0,.447214,.894427,0,.447214,.894427,0,.447214,.894427])}}]),k),e.m3={identity:(0,r.default)([1,0,0,0,1,0,0,0,1]),translation:function(t,e){return[1,0,0,0,1,0,t,e,1]},rotation:function(t){var e=Math.cos(t),i=Math.sin(t);return[e,-i,0,i,e,0,0,0,1]},scaling:function(t,e){return[t,0,0,0,e,0,0,0,1]},projection:function(t,e){var i=S.identity;return i=S.multiply(S.scaling(1/t,1/e),i),i=S.multiply(S.scaling(2,2),i),i=S.multiply(S.translation(-1,-1),i),S.multiply(S.scaling(1,-1),i)},multiply:function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],c=e[0],f=e[1],d=e[2],p=e[3],_=e[4],v=e[5],m=e[6],g=e[7],y=e[8];return[c*i+f*s+d*l,c*n+f*o+d*u,c*r+f*a+d*h,p*i+_*s+v*l,p*n+_*o+v*u,p*r+_*a+v*h,m*i+g*s+y*l,m*n+g*o+y*u,m*r+g*a+y*h]}});function k(){return(0,c.default)(this,k),(0,o.default)(this,(k.__proto__||(0,s.default)(k)).apply(this,arguments))}function M(){return(0,c.default)(this,M),(0,o.default)(this,(M.__proto__||(0,s.default)(M)).apply(this,arguments))}function O(){return(0,c.default)(this,O),(0,o.default)(this,(O.__proto__||(0,s.default)(O)).apply(this,arguments))}function C(){return(0,c.default)(this,C),(0,o.default)(this,(C.__proto__||(0,s.default)(C)).apply(this,arguments))}function P(){return(0,c.default)(this,P),(0,o.default)(this,(P.__proto__||(0,s.default)(P)).apply(this,arguments))}function E(){return(0,c.default)(this,E),(0,o.default)(this,(E.__proto__||(0,s.default)(E)).apply(this,arguments))}function T(){(0,c.default)(this,T),this._init.apply(this,arguments)}e.m4={identity:(0,r.default)([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),translation:function(t,e,i){return[1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1]},xRotation:function(t){var e=l(t),i=Math.cos(e),n=Math.sin(e);return[1,0,0,0,0,i,n,0,0,-n,i,0,0,0,0,1]},yRotation:function(t){var e=l(t),i=Math.cos(e),n=Math.sin(e);return[i,0,-n,0,0,1,0,0,n,0,i,0,0,0,0,1]},zRotation:function(t){var e=l(t),i=Math.cos(e),n=Math.sin(e);return[i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1]},scaling:function(t,e,i){return[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1]},inverse:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],h=t[9],c=t[10],f=t[11],d=t[12],p=t[13],_=t[14],v=t[15],m=c*v,g=_*f,y=a*v,b=_*l,x=a*f,w=c*l,S=n*v,k=_*r,M=n*f,O=c*r,C=n*l,P=a*r,E=u*p,T=d*h,A=s*p,R=d*o,F=s*h,L=u*o,z=e*p,j=d*i,N=e*h,I=u*i,D=e*o,U=s*i,G=m*o+b*h+x*p-(g*o+y*h+w*p),V=g*i+S*h+O*p-(m*i+k*h+M*p),B=y*i+k*o+C*p-(b*i+S*o+P*p),H=w*i+M*o+P*h-(x*i+O*o+C*h),W=1/(e*G+s*V+u*B+d*H);return[W*G,W*V,W*B,W*H,W*(g*s+y*u+w*d-(m*s+b*u+x*d)),W*(m*e+k*u+M*d-(g*e+S*u+O*d)),W*(b*e+S*s+P*d-(y*e+k*s+C*d)),W*(x*e+O*s+C*u-(w*e+M*s+P*u)),W*(E*l+R*f+F*v-(T*l+A*f+L*v)),W*(T*r+z*f+I*v-(E*r+j*f+N*v)),W*(A*r+j*l+D*v-(R*r+z*l+U*v)),W*(L*r+N*l+U*f-(F*r+I*l+D*f)),W*(A*c+L*_+T*a-(F*_+E*a+R*c)),W*(N*_+E*n+j*c-(z*c+I*_+T*n)),W*(z*a+U*_+R*n-(D*_+A*n+j*a)),W*(D*c+F*n+I*a-(N*a+U*c+L*n))]},transpose:function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},projection:function(t,e,i){return[2/t,0,0,0,0,-2/e,0,0,0,0,2/i,0,-1,1,0,1]},orthographic:function(t,e,i,n,r,s){return[2/(e-t),0,0,0,0,2/(i-n),0,0,0,0,2/(r-s),0,(t+e)/(t-e),(n+i)/(n-i),(r+s)/(r-s),1]},perspective:function(t,e,i,n){var r=l(t),s=Math.tan(.5*Math.PI-.5*r),o=1/(i-n);return[s/e,0,0,0,0,s,0,0,0,0,(i+n)*o,-1,0,0,i*n*o*2,0]},lookAt:function(t,e,i){var n=x.normalize(x.subtract(t,e)),r=x.cross(i,n),s=x.cross(n,r);return[r[0],r[1],r[2],0,s[0],s[1],s[2],0,n[0],n[1],n[2],0,t[0],t[1],t[2],1]},multiply:function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],c=t[9],f=t[10],d=t[11],p=t[12],_=t[13],v=t[14],m=t[15],g=e[0],y=e[1],b=e[2],x=e[3],w=e[4],S=e[5],k=e[6],M=e[7],O=e[8],C=e[9],P=e[10],E=e[11],T=e[12],A=e[13],R=e[14],F=e[15];return[g*i+y*o+b*h+x*p,g*n+y*a+b*c+x*_,g*r+y*l+b*f+x*v,g*s+y*u+b*d+x*m,w*i+S*o+k*h+M*p,w*n+S*a+k*c+M*_,w*r+S*l+k*f+M*v,w*s+S*u+k*d+M*m,O*i+C*o+P*h+E*p,O*n+C*a+P*c+E*_,O*r+C*l+P*f+E*v,O*s+C*u+P*d+E*m,T*i+A*o+R*h+F*p,T*n+A*a+R*c+F*_,T*r+A*l+R*f+F*v,T*s+A*u+R*d+F*m]}},e.vertShaderSource="\n    attribute vec4 a_vertexPosition;\n    uniform mat4 u_worldViewProjectionMatrix;\n\n    // TODO: awaiting on transpose() method for DOMMatrix\n    //uniform mat4 u_worldInverseTransposeMatrix; // used for correct lighting normals\n\n    attribute vec4 a_color;\n    varying vec4 v_fragColor;\n\n    attribute vec3 a_normal;\n    varying vec3 v_vertNormal;\n\n    uniform mat4 u_worldMatrix;\n\n    uniform vec3 u_lightWorldPosition;\n    varying vec3 v_surfaceToLightVector;\n\n    uniform vec3 u_cameraWorldPosition;\n    varying vec3 v_surfaceToCameraVector;\n\n    attribute vec2 a_textureCoordinate;\n    varying vec2 v_textureCoordinate;\n\n    void main() {\n        vec3 surfaceWorldPosition = (u_worldMatrix * a_vertexPosition).xyz;\n\n        // compute the vector of the surface to the pointLight\n        // and pass it to the fragment shader\n        v_surfaceToLightVector = u_lightWorldPosition - surfaceWorldPosition;\n\n        // compute the vector of the surface to the camera\n        // and pass it to the fragment shader\n        v_surfaceToCameraVector = u_cameraWorldPosition - surfaceWorldPosition;\n\n        gl_Position = u_worldViewProjectionMatrix * a_vertexPosition;\n\n        v_fragColor = a_color;\n        //v_fragColor = gl_Position * 0.5 + 0.5;\n\n        // orient the normals and pass to the fragment shader\n        //v_vertNormal = mat3(u_worldInverseTransposeMatrix) * a_normal; // TODO waiting for transpose() method on DOMMatrix\n        //alternate: v_vertNormal = (u_worldInverseTransposeMatrix * vec4(a_normal, 0)).xyz;\n        v_vertNormal = mat3(u_worldMatrix) * a_normal;\n\n        v_textureCoordinate = a_textureCoordinate;\n    }\n",e.fragShaderSource="\n    // TODO: detect highp support, see\n    // https://github.com/greggman/webgl-fundamentals/issues/80#issuecomment-306746556\n    //precision mediump float;\n    precision highp float;\n\n    varying vec4 v_fragColor;\n    varying vec3 v_vertNormal;\n\n    varying vec3 v_surfaceToLightVector;\n\n    //// TODO: use this for directional lighting (f.e. sunlight or moonlight).\n    //uniform vec3 reverseLightDirection;\n\n    varying vec3 v_surfaceToCameraVector;\n\n    uniform float u_shininess;\n    uniform vec3 u_lightColor;\n    uniform vec3 u_specularColor;\n\n    varying vec2 v_textureCoordinate;\n    uniform sampler2D u_texture;\n    uniform bool u_hasTexture;\n\n    void main(void) {\n\n        // because v_vertNormal is a varying it's interpolated\n        // so it will not be a unit vector. Normalizing it\n        // will make it a unit vector again.\n        vec3 normal = normalize(v_vertNormal);\n\n        vec3 surfaceToCameraDirection = normalize(v_surfaceToCameraVector);\n\n        vec3 surfaceToLightDirection = normalize(v_surfaceToLightVector);\n\n        // represents the unit vector oriented at half of the angle between\n        // surfaceToLightDirection and surfaceToCameraDirection.\n        vec3 halfVector = normalize(surfaceToLightDirection + surfaceToCameraDirection);\n\n        float pointLight = dot(normal, surfaceToLightDirection);\n        float pointLightIntensity = 1.0; // TODO make configurable\n        //float directionalLight = dot(normal, reverseLightDirection); // TODO make configurable\n\n        //float specular = dot(normal, halfVector);\n        float specular = 0.0;\n        if (pointLight > 0.0) {\n            specular = pow(dot(normal, halfVector), u_shininess);\n        }\n\n        // TODO make configurable\n        //vec3 ambientLight = vec3(0.361, 0.184, 0.737); // teal\n        vec3 ambientLight = vec3(1.0, 1.0, 1.0); // white\n        float ambientLightIntensity = 0.3;\n\n        // TODO: user can choose color or texture, default to a color if no texture, etc.\n        // TODO: blend texture on top of color, if texture has alpha.\n        gl_FragColor = v_fragColor;\n        if (u_hasTexture) {\n            gl_FragColor = texture2D(u_texture, v_textureCoordinate);\n        }\n\n        // Lets multiply just the color portion (not the alpha) of\n        // gl_FragColor by the pointLight + directionalLight\n        //gl_FragColor.rgb *= pointLight * u_lightColor; // point light only.\n        //gl_FragColor.rgb *= directionalLight; // directional light only.\n        //gl_FragColor.rgb *= ambientLight; // ambient light only.\n        gl_FragColor.rgb *=\n            //clamp(directionalLight, 0.0, 1.0) +\n            clamp(pointLight, 0.0, 1.0) * u_lightColor * pointLightIntensity +\n            ambientLight * ambientLightIntensity;\n\n        // Just add in the specular\n        gl_FragColor.rgb += specular * u_specularColor;\n\n        //gl_FragColor.a = 0.5;\n    }\n"},function(t,e,i){t.exports={default:i(228),__esModule:!0}},function(t,e,i){i(229),t.exports=i(16).Object.freeze},function(t,e,i){var n=i(22),r=i(68).onFreeze;i(14)("freeze",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},function(t,e,i){t.exports={default:i(231),__esModule:!0}},function(t,e,i){i(78),i(60),i(232),t.exports=i(16).WeakMap},function(t,e,i){"use strict";function n(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}var s,r=i(203)(0),o=i(43),a=i(68),l=i(183),u=i(233),h=i(22),c=a.getWeak,f=Object.isExtensible,d=u.ufstore,p={},_={get:function(t){if(h(t)){var e=c(t);return!0===e?d(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(this,t,e)}},v=t.exports=i(202)("WeakMap",n,_,u,!0,!0);7!=(new v).set((Object.freeze||Object)(p),7).get(p)&&(l((s=u.getConstructor(n)).prototype,_),a.NEED=!0,r(["delete","has","get","set"],function(n){var t=v.prototype,r=t[n];o(t,n,function(t,e){if(!h(t)||f(t))return r.call(this,t,e);this._f||(this._f=new s);var i=this._f[n](t,e);return"set"==n?this:i})}))},function(t,e,i){"use strict";function o(t){return t._l||(t._l=new v)}function n(t,e){return d(t.a,function(t){return t[0]===e})}var a=i(168),l=i(68).getWeak,r=i(21),u=i(22),h=i(159),c=i(160),s=i(203),f=i(9),d=s(5),p=s(6),_=0,v=function(){this.a=[]};v.prototype={get:function(t){var e=n(this,t);if(e)return e[1]},has:function(t){return!!n(this,t)},set:function(t,e){var i=n(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,i,n,r){var s=t(function(t,e){h(t,s,i,"_i"),t._i=_++,t._l=void 0,null!=e&&c(e,n,t[r],t)});return a(s.prototype,{delete:function(t){if(!u(t))return!1;var e=l(t);return!0===e?o(this).delete(t):e&&f(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=l(t);return!0===e?o(this).has(t):e&&f(e,this._i)}}),s},def:function(t,e,i){var n=l(r(e),!0);return!0===n?o(t).set(e,i):n[t._i]=i,t},ufstore:o}},function(t,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function s(){if(!y){var s=(0,g.default)("instanceofSymbol"),t=function(t){var i,n=(i=t,(0,m.default)(r,i),(0,d.default)(r,[{key:"_makeElement",value:function(){throw new Error("Subclasses need to override ImperativeBase#_makeElement.")}},{key:"_waitForMountThenResolveMountPromise",value:function(){}},{key:"addChild",value:function(t){if(t instanceof r){if(t instanceof w.default)throw new Error("\n                        A Scene cannot be added to another Node or Scene (at\n                        least for now). To place a Scene in a Node, just mount\n                        a new Scene onto a MotorHTMLNode with Scene.mount().\n                    ");return(0,v.default)(r.prototype.__proto__||(0,c.default)(r.prototype),"addChild",this).call(this,t),(t._scene||t.scene)&&(t._resolveScenePromise&&t._resolveScenePromise(t._scene),t._giveSceneRefToChildren()),t._calcSize(),t._needsToBeRendered(),this.on("sizechange",t._onParentSizeChange),this._elementManager.connectChildElement(t),this}}},{key:"removeChild",value:function(t){t instanceof x.default&&((0,v.default)(r.prototype.__proto__||(0,c.default)(r.prototype),"removeChild",this).call(this,t),this.off("sizechange",t._onParentSizeChange),t._resetSceneRef(),t._mountPromise&&t._rejectMountPromise("mountcancel"),t._mounted&&t._elementManager.shouldNotRender(),t._resetMountPromise(),this._elementManager.disconnectChildElement(t))}},{key:"_resetMountPromise",value:function(){this._mounted=!1,this._mountPromise=null,this._resolveMountPromise=null,this._rejectMountPromise=null;for(var t=this._children,e=0,i=t.length;e<i;e+=1)t[e]._resetMountPromise()}},{key:"_needsToBeRendered",value:function(){var t=this;if(this._awaitingMountPromiseToRender)return h.default.resolve();function i(){t._willBeRendered=!0,S.default._setNodeToBeRendered(t)}if(this._mounted)return i(),h.default.resolve();this._awaitingMountPromiseToRender=!0;var n=void 0;return this.mountPromise.then(i).catch(function(){"mountcancel"!=e&&(n=e)}).then(function(){if(t._awaitingMountPromiseToRender=!1,n)throw n})}},{key:"_getAncestorToBeRendered",value:function(){for(var t=this._parent;t;){if(t._willBeRendered)return t;t=t._parent}return!1}},{key:"_render",value:function(t){(0,v.default)(r.prototype.__proto__||(0,c.default)(r.prototype),"_render",this).call(this),this._elementManager.applyImperativeNodeProperties(this)}},{key:"mountPromise",get:function(){var i=this;return this._mountPromise||(this._mountPromise=new h.default(function(t,e){i._resolveMountPromise=t,i._rejectMountPromise=e})),this._mounted?this._mounted&&this._resolveMountPromise():this._waitForMountThenResolveMountPromise(),this._mountPromise}},{key:"element",get:function(){return this._elementManager.element}},{key:"properties",set:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,_.default)(r.prototype.__proto__||(0,c.default)(r.prototype),"properties",e,this),e.classes&&(t=this._elementManager).setClasses.apply(t,(0,u.default)(e.classes))}}]),r);function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,f.default)(this,r);var e=t._motorHtmlCounterpart,i=(0,p.default)(this,(r.__proto__||(0,c.default)(r)).call(this,t));return i._willBeRendered=!1,i._elementManager=new b.default(e||i._makeElement()),i._elementManager.element._associateImperativeNode(i),i._mounted=!1,i._mountPromise=null,i._resolveMountPromise=null,i._rejectMountPromise=null,i._awaitingMountPromiseToRender=!1,i._waitingForMountConditions=!1,i.on("propertychange",function(t){"sizeMode"!=t&&"absoluteSize"!=t&&"proportionalSize"!=t||i._calcSize(),i._needsToBeRendered()}),i}return(0,l.default)(n,a.default,{value:function(t){if(this!==n)return(0,c.default)(n)[a.default].call(this,t);for(var e=t;e;){var i=(0,o.default)(e,"constructor");if(i&&i.value&&i.value.hasOwnProperty(s))return!0;e=(0,c.default)(e)}return!1}}),n[s]=!0,n};i.default=y=t(function t(){(0,f.default)(this,t)}),y.mixin=t}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=r(n(117)),a=r(n(177)),l=r(n(31)),u=r(n(218)),h=r(n(155)),c=r(n(3)),f=r(n(29)),d=r(n(30)),p=r(n(34)),_=r(n(184)),v=r(n(116)),m=r(n(81)),g=r(n(65));i.initImperativeBase=s;var y,b=r(n(153)),x=r(n(154)),w=r(n(235)),S=r(n(223));s(),i.default=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(155)),s=n(i(180)),o=n(i(3)),a=n(i(29)),l=n(i(30)),u=n(i(34)),h=n(i(184)),c=n(i(116)),f=n(i(81)),d=i(186),p=(n(i(172)),i(214)),_=n(p),v=i(234),m=n(v),g=n(i(185)),y=n(i(236)),b=n(i(224));(0,v.initImperativeBase)();var x,w=(x=m.default.mixin(_.default),(0,f.default)(S,x),(0,l.default)(S,[{key:"_setDefaultProperties",value:function(){(0,c.default)(S.prototype.__proto__||(0,o.default)(S.prototype),"_setDefaultProperties",this).call(this),(0,s.default)(this._properties,{sizeMode:new g.default("proportional","proportional","absolute")})}},{key:"_startOrStopSizePolling",value:function(){!this._mounted||"proportional"!=this._properties.sizeMode.x&&"proportional"!=this._properties.sizeMode.y&&"proportional"!=this._properties.sizeMode.z?this._stopSizePolling():this._startSizePolling()}},{key:"_startSizePolling",value:function(){this._elementManager&&(this._elementManager.element._startSizePolling(),this._elementManager.element.on("parentsizechange",this._onElementParentSizeChange))}},{key:"_stopSizePolling",value:function(){this._elementManager&&(this._elementManager.element.off("parentsizechange",this._onElementParentSizeChange),this._elementManager.element._stopSizePolling())}},{key:"_getParentSize",value:function(){return this._mounted?this._elementParentSize:{x:0,y:0,z:0}}},{key:"_makeElement",value:function(){return new y.default}},{key:"mount",value:function(t){function e(){if(void 0===t?t=document.body:"string"==typeof t&&(t=document.querySelector(t)),!(t instanceof window.HTMLElement))throw new Error("Invalid mount point specified in Scene.mount() call. Pass a selector, an actual HTMLElement, or don't pass anything to mount to <body>.");i._mounted&&i.unmount(),t!==i._elementManager.element.parentNode&&t.appendChild(i._elementManager.element),i._mounted=!0,i._mountPromise&&i._resolveMountPromise(),i._elementManager.shouldRender(),i._startOrStopSizePolling()}var i=this;return"loading"==document.readyState?(0,b.default)().then(e):(e(),r.default.resolve())}},{key:"unmount",value:function(){this._mounted&&(this._elementManager.shouldNotRender(),this._stopSizePolling(),this._elementManager.element.parentNode&&this._elementManager.element.parentNode.removeChild(this._elementManager.element),this._mountPromise&&this._rejectMountPromise("mountcancel"),this._resetMountPromise())}},{key:"sizeMode",set:function(t){(0,h.default)(S.prototype.__proto__||(0,o.default)(S.prototype),"sizeMode",t,this),this._startOrStopSizePolling()},get:function(){return(0,c.default)(S.prototype.__proto__||(0,o.default)(S.prototype),"sizeMode",this)}}]),S);function S(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,S);var e=(0,u.default)(this,(S.__proto__||(0,o.default)(S)).call(this,t));return e._elementParentSize={x:0,y:0,z:0},e._onElementParentSizeChange=function(t){e._elementParentSize=t,e._calcSize(),e._needsToBeRendered()},e._calcSize(),e._needsToBeRendered(),e}(0,d.makeAccessorsEnumerable)(w.prototype),e.default=w},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i(215)),r=n(i(3)),o=n(i(29)),a=n(i(30)),l=n(i(34)),u=n(i(116)),h=n(i(81)),c=n(i(230)),f=n(i(237)),d=n(i(223)),p=n(i(235)),_=n(i(213)),v=n(i(214)),m=n(i(225)),g=i(239),y=n(g),b=(n(i(243)),i(244));n(b),i(242),(0,g.initMotorHTMLBase)();var x,w=(new c.default,x=_.default.mixin(y.default),(0,h.default)(S,x),(0,a.default)(S,[{key:"createdCallback",value:function(){var t=this;(0,u.default)(S.prototype.__proto__||(0,r.default)(S.prototype),"createdCallback",this).call(this),this._sizePollTask=null,this._parentSize={x:0,y:0,z:0},this._imperativeCounterpartPromise.then(function(){t.imperativeCounterpart._mounted||t.parentNode&&t.imperativeCounterpart.mount(t.parentNode)}),this.initWebGl()}},{key:"initWebGl",value:function(){var t=this;this.mountPromise.then(function(){t.webglEnabled=!!t.getAttribute("webglenabled"),t.webglEnabled&&(t.webGlRendererState={},(0,m.default)().initGl(t))})}},{key:"_startSizePolling",value:function(){this._sizePollTask||(this._sizePollTask=d.default.addRenderTask(this._checkSize.bind(this)))}},{key:"_checkSize",value:function(){var t=this.parentNode,e=this._parentSize,i=getComputedStyle(t),n=parseFloat(i.width),r=parseFloat(i.height);e.x==n&&e.y==r||(e.x=n,e.y=r,this.triggerEvent("parentsizechange",(0,s.default)({},e)))}},{key:"_makeImperativeCounterpart",value:function(){return new p.default({_motorHtmlCounterpart:this})}},{key:"getStyles",value:function(){return f.default}},{key:"deinit",value:function(){(0,u.default)(S.prototype.__proto__||(0,r.default)(S.prototype),"deinit",this).call(this),this.imperativeCounterpart.unmount()}},{key:"_stopSizePolling",value:function(){d.default.removeRenderTask(this._sizePollTask),this._sizePollTask=null}}]),S);function S(){return(0,o.default)(this,S),(0,l.default)(this,(S.__proto__||(0,r.default)(S)).apply(this,arguments))}(0,g.proxyGettersSetters)(v.default,w),e.default=w=document.registerElement("motor-scene",w),e.default=w},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(215)),s=n(i(238));e.default=(0,r.default)({},s.default,{position:"relative",overflow:"hidden",width:"100%",height:"100%",perspective:1e3})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={display:"none",boxSizing:"border-box",position:"absolute",top:0,left:0,transformOrigin:"50% 50% 0",transformStyle:"preserve-3d"}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(u){return function(){var t=this.shadowRoot,e=null;try{for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];e=u.call.apply(u,[this].concat(n))}catch(t){throw t}if(this instanceof y){this._hasShadowRoot=!0,t&&function(t){S.get(t).disconnect(),S.delete(t);var e=0,i=t.childNodes,n=!0,r=!1,s=void 0;try{for(var o,a=(0,m.default)(i);!(n=(o=a.next()).done);n=!0){var l=o.value;l instanceof y&&(this.imperativeCounterpart.removeChild(l.imperativeCounterpart),t.insertBefore(l,i[e])),e+=1}}catch(t){r=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}}.call(this,t);var s=(0,w.observeChildren)(e,function(t){t instanceof y?this.imperativeCounterpart.addChild(t.imperativeCounterpart):w.hasShadowDomV0&&t instanceof HTMLContentElement||w.hasShadowDomV1&&t instanceof HTMLSlotElement&&(t.addEventListener("slotchange",this),this._handleDistributedChildren(t))}.bind(this),function(t){t instanceof y?this.imperativeCounterpart.removeChild(t.imperativeCounterpart):w.hasShadowDomV0&&t instanceof HTMLContentElement||w.hasShadowDomV1&&t instanceof HTMLSlotElement&&(t.removeEventListener("slotchange",this),this._handleDistributedChildren(t),this._slotElementsAssignedNodes.delete(t))}.bind(this));S.set(e,s);for(var o=this.children,a=o.length,l=0;l<a;l+=1)o[l]instanceof y&&(o[l]._isPossiblyDistributed=!0)}return e}}function s(){function f(){return(0,l.default)(this,f),(0,p.default)(this,(f.__proto__||(0,a.default)(f)).apply(this,arguments))}var t;y||(e.default=(t=(0,b.default)(window.HTMLElement),(0,v.default)(f,t),(0,u.default)(f,[{key:"createdCallback",value:function(){var t=this;(0,_.default)(f.prototype.__proto__||(0,a.default)(f.prototype),"createdCallback",this).call(this),this.imperativeCounterpart=null,this._hasShadowRoot=!1,this._isPossiblyDistributed=!1,this._slotElementsAssignedNodes=new g.default,this._shadowParent=null,this._shadowChildren=null,this._imperativeCounterpartPromise=o.default.resolve().then(function(){return t._associateImperativeNode()}),this.mountPromise=this._imperativeCounterpartPromise.then(function(){return t.imperativeCounterpart.mountPromise})}},{key:"_associateImperativeNode",value:function(t){this.imperativeCounterpart||(this.imperativeCounterpart=t||this._makeImperativeCounterpart())}},{key:"_makeImperativeCounterpart",value:function(){throw new TypeError("This method should be implemented by classes extending DeclarativeBase.")}},{key:"childConnectedCallback",value:function(t){if(t instanceof x.default){if(this._hasShadowRoot&&(t._isPossiblyDistributed=!0),t.imperativeCounterpart._parent)return;this.imperativeCounterpart.addChild(t.imperativeCounterpart)}else w.hasShadowDomV0&&t instanceof HTMLContentElement&&(0,w.getAncestorShadowRoot)(this)||w.hasShadowDomV1&&t instanceof HTMLSlotElement&&(0,w.getAncestorShadowRoot)(this)&&(t.addEventListener("slotchange",this),this._handleDistributedChildren(t))}},{key:"handleEvent",value:function(t){if("slotchange"==t.type){var e=t.target;this._handleDistributedChildren(e)}}},{key:"_handleDistributedChildren",value:function(t){for(var e=this._getDistributedChildDifference(t),i=e.added,n=i.length,r=0;r<n;r+=1){var s=i[r];if(s instanceof f){var o=s._shadowParent;if(o&&o._shadowChildren){var a=o._shadowChildren;a.splice(a.indexOf(s),1),a.length||(o._shadowChildren=null)}(s._shadowParent=this)._shadowChildren||(this._shadowChildren=[]),this._shadowChildren.add(s)}}for(var l=e.removed,u=l.length,h=0;h<u;h+=1){var c=l[h];c instanceof f&&(c._shadowParent=null,this._shadowChildren.delete(c),this._shadowChildren.size||(this._shadowChildren=null))}}},{key:"_getDistributedChildDifference",value:function(t){var e;e=this._slotElementsAssignedNodes.has(t)?this._slotElementsAssignedNodes.get(t):[];var i=t.assignedNodes({flatten:!0});this._slotElementsAssignedNodes.set(t,i);for(var n={removed:[]},r=0,s=e.length;r<s;r+=1){var o=e[r];0<=i.indexOf(o)?i.splice(r,1):n.removed.push(o)}return n.added=i,n}},{key:"childDisconnectedCallback",value:function(t){if(t instanceof x.default){if(t._isPossiblyDistributed=!1,!t.imperativeCounterpart._parent)return;this.imperativeCounterpart.removeChild(t.imperativeCounterpart)}else w.hasShadowDomV0&&t instanceof HTMLContentElement&&(0,w.getAncestorShadowRoot)(this)||w.hasShadowDomV1&&t instanceof HTMLSlotElement&&(0,w.getAncestorShadowRoot)(this)&&(t.removeEventListener("slotchange",this),this._handleDistributedChildren(t),this._slotElementsAssignedNodes.delete(t))}},{key:"setAttribute",value:function(t,e){(0,_.default)(f.prototype.__proto__||(0,a.default)(f.prototype),"setAttribute",this).call(this,t,e)}}]),y=f))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=n(i(31)),c=n(i(180)),f=n(i(117)),d=n(i(209)),o=n(i(155)),a=n(i(3)),l=n(i(29)),u=n(i(30)),p=n(i(34)),_=n(i(116)),v=n(i(81)),m=n(i(194)),g=n(i(230));e.initMotorHTMLBase=s,e.proxyGettersSetters=function(n,r){var s=["constructor","parent","children","element","scene","addChild","addChildren","removeChild","removeChildren"],t=(0,d.default)(n.prototype),e=!0,i=!1,o=void 0;try{for(var a,l=function(){var e=a.value;if(0<=s.indexOf(e)||0==e.indexOf("_")||r.prototype.hasOwnProperty(e))return"continue";var t={},i=(0,f.default)(n.prototype,e);i.set&&(0,c.default)(t,{set:function(t){this.imperativeCounterpart[e]=t}}),i.get&&(0,c.default)(t,{get:function(){return this.imperativeCounterpart[e]}}),(0,h.default)(r.prototype,e,t)},u=(0,m.default)(t);!(e=(a=u.next()).done);e=!0)l()}catch(n){i=!0,o=n}finally{try{!e&&u.return&&u.return()}finally{if(i)throw o}}};var y,b=n(i(240)),x=n(i(241)),w=i(186),S=new g.default;HTMLElement.prototype.createShadowRoot instanceof Function&&(HTMLElement.prototype.createShadowRoot=r(HTMLElement.prototype.createShadowRoot)),HTMLElement.prototype.attachShadow instanceof Function&&(HTMLElement.prototype.attachShadow=r(HTMLElement.prototype.attachShadow)),s(),e.default=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(155)),o=n(i(3)),a=n(i(29)),l=n(i(30)),u=n(i(34)),h=n(i(116)),c=n(i(81)),r=n(i(198));e.default=function(t){if(!function t(e){return!!e&&(e===HTMLElement||t(e.prototype.__proto__?e.prototype.__proto__.constructor:null))}(t=t||HTMLElement))throw new TypeError("The argument to WebComponentMixin must be a constructor that extends from or is HTMLElement.");if(_.has(t))return _.get(t);var e,i=(e=t,(0,c.default)(r,e),(0,l.default)(r,[{key:"createdCallback",value:function(){this._attached=!1,this._initialized=!1,this._initialAttributeChange=!1,this._childObserver=null,this._style=null}},{key:"childConnectedCallback",value:function(t){}},{key:"childDisconnectedCallback",value:function(t){}},{key:"connectedCallback",value:function(){(0,h.default)(r.prototype.__proto__||(0,o.default)(r.prototype),"connectedCallback",this)&&(0,h.default)(r.prototype.__proto__||(0,o.default)(r.prototype),"connectedCallback",this).call(this),this._attached=!0,this._initialized||(this.init(),this._initialized=!0)}},{key:"attachedCallback",value:function(){this.connectedCallback()}},{key:"_createStyles",value:function(){var t=d.default.createRule(this.getStyles());return t.applyTo(this),t}},{key:"disconnectedCallback",value:function(){var t=this;(0,h.default)(r.prototype.__proto__||(0,o.default)(r.prototype),"disconnectedCallback",this)&&(0,h.default)(r.prototype.__proto__||(0,o.default)(r.prototype),"disconnectedCallback",this).call(this),this._attached=!1,s.default.resolve().then(function(){!t._attached&&t._initialized&&t.deinit()})}},{key:"detachedCallback",value:function(){this.disconnectedCallback()}},{key:"getStyles",value:function(){return{}}},{key:"init",value:function(){var i=this;if(this._style||(this._style=this._createStyles()),!this._childObserver){var n=this.childNodes;n.length&&setTimeout(function(){for(var t=n.length,e=0;e<t;e+=1)i.childConnectedCallback(n[e])},5),this._childObserver=(0,f.observeChildren)(this,this.childConnectedCallback,this.childDisconnectedCallback)}if(!this._initialAttributeChange&&this.hasAttributes())for(var t=this.attributes,e=t.length,r=0;r<e;r+=1)this.attributeChangedCallback(t[r].name,null,t[r].value)}},{key:"attributeChangedCallback",value:function(){for(var t,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];(0,h.default)(r.prototype.__proto__||(0,o.default)(r.prototype),"attributeChangedCallback",this)&&(t=(0,h.default)(r.prototype.__proto__||(0,o.default)(r.prototype),"attributeChangedCallback",this)).call.apply(t,[this].concat(i)),this._initialAttributeChange=!0}},{key:"deinit",value:function(){this._initialized=!1}}]),r);function r(){(0,a.default)(this,r);var t=(0,u.default)(this,(r.__proto__||(0,o.default)(r)).call(this));if("registerElement"in document&&!("customElements"in window))throw new Error("\n                    You cannot instantiate this class directly without first registering it\n                    with `document.registerElement(...)`. See an example at http://....\n                ");if(!("registerElement"in document||"customElements"in window))throw new Error("\n                    Your browser does not support the Custom Elements API. You'll\n                    need to install a polyfill. See how at http://....\n                ");return t.createdCallback(),t}return _.set(t,i),i};var f=i(186),d=n(i(120));if("function"!=typeof window.HTMLElement){var p=function(){};p.prototype=window.HTMLElement.prototype,window.HTMLElement=p}var _=new r.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){!function(t){if(!t.match(/^\s*(((\s*(-|\+)?((\.\d+)|(\d+\.\d+)|(\d+)|(\d+(\.\d+)?e(-|\+)?(\d+)))\s*,){0,2}(\s*(-|\+)?((\.\d+)|(\d+\.\d+)|(\d+)|(\d+(\.\d+)?e(-|\+)?(\d+)))))|((\s*(-|\+)?((\.\d+)|(\d+\.\d+)|(\d+)|(\d+(\.\d+)?e(-|\+)?(\d+)))\s){0,2}(\s*(-|\+)?((\.\d+)|(\d+\.\d+)|(\d+)|(\d+(\.\d+)?e(-|\+)?(\d+))))))\s*$/g))throw new Error('Attribute must be a comma- or space-separated sequence of up to three numbers, for example "1 2.5 3". Yours was "'+t+'".')}(t);var e=t.trim().split(/(?:\s*,\s*)|(?:\s+)/g),i=e.length;return 0<i&&(e[0]=window.parseFloat(e[0])),1<i&&(e[1]=window.parseFloat(e[1])),2<i&&(e[2]=window.parseFloat(e[2])),e}function s(t){!function(t){if(!t.match(/^\s*(((\s*([a-zA-Z]+)\s*,){0,2}(\s*([a-zA-Z]+)))|((\s*([a-zA-Z]+)\s*){1,3}))\s*$/g))throw new Error('Attribute must be a comma- or space-separated sequence of up to three strings, for example "absolute absolute". Yours was "'+t+'".')}(t);var e=t.trim().toLowerCase().split(/(?:\s*,\s*)|(?:\s+)/g),i=e.length;return 0<i&&(e[0]=e[0]),1<i&&(e[1]=e[1]),2<i&&(e[2]=e[2]),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i(3)),a=n(i(29)),l=n(i(30)),u=n(i(34)),h=n(i(116)),c=n(i(81)),f=n(i(238)),d=n(i(154)),p=n(i(172)),_=n(i(214)),v=i(239),m=n(v);i(242),(0,v.initMotorHTMLBase)();var g,y=(g=m.default,(0,c.default)(b,g),(0,l.default)(b,[{key:"getStyles",value:function(){return f.default}},{key:"_makeImperativeCounterpart",value:function(){return new d.default({_motorHtmlCounterpart:this})}},{key:"attributeChangedCallback",value:function(){for(var t,e=this,i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];(t=(0,h.default)(b.prototype.__proto__||(0,o.default)(b.prototype),"attributeChangedCallback",this)).call.apply(t,[this].concat(n)),this._imperativeCounterpartPromise.then(function(){e._updateNodeProperty.apply(e,n)})}},{key:"_updateNodeProperty",value:function(t,e,i){i!==e&&(t.match(/opacity/i)?this.imperativeCounterpart[t]=window.parseFloat(i):t.match(/sizeMode/i)?this.imperativeCounterpart[t]=s(i):(t.match(/rotation/i)||t.match(/scale/i)||t.match(/position/i)||t.match(/absoluteSize/i)||t.match(/proportionalSize/i)||t.match(/align/i)||t.match(/mountPoint/i)||t.match(/origin/i)||t.match(/skew/i))&&(this.imperativeCounterpart[t]=r(i)))}}]),b);function b(){return(0,a.default)(this,b),(0,u.default)(this,(b.__proto__||(0,o.default)(b)).apply(this,arguments))}(0,v.proxyGettersSetters)(p.default,y),(0,v.proxyGettersSetters)(_.default,y),e.default=y=document.registerElement("motor-node",y),e.default=y},function(t,e){!function(t,c,i,e){"use strict";function f(t,e){for(var i=0,n=t.length;i<n;i++)s(t[i],e)}function d(e){return function(t){$(t)&&(s(t,e),f(t.querySelectorAll(j),e))}}function p(t){var e=nt.call(t,"is"),i=t.nodeName.toUpperCase(),n=I.call(L,e?A+e.toUpperCase():T+i);return e&&-1<n&&!_(i,e)?-1:n}function _(t,e){return-1<j.indexOf(t+'[is="'+e+'"]')}function a(t){var e=t.currentTarget,i=t.attrChange,n=t.attrName,r=t.target;!pt||r&&r!==e||!e.attributeChangedCallback||"style"===n||t.prevValue===t.newValue||e.attributeChangedCallback(n,i===t[M]?null:t.prevValue,i===t[C]?null:t.newValue)}function v(t){var e=d(t);return function(t){y.push(e,t.target)}}function m(t){dt&&(dt=!1,t.currentTarget.removeEventListener(E,m)),f((t.target||c).querySelectorAll(j),t.detail===k?k:S),K&&function(){for(var t,e=0,i=tt.length;e<i;e++)t=tt[e],N.contains(t)||(i--,tt.splice(e--,1),s(t,k))}()}function n(t,e){ot.call(this,t,e),o.call(this,{target:this})}function r(t,e){Z(t,e),b?b.observe(t,lt):(ft&&(t.setAttribute=n,t[w]=u(t),t.addEventListener("DOMSubtreeModified",o)),t.addEventListener(P,a)),t.createdCallback&&pt&&(t.created=!0,t.createdCallback(),t.created=!1)}function g(t){throw new Error("A "+t+" type is already registered")}function s(t,e){var i,n=p(t);-1<n&&(h(t,z[n]),n=0,e!==S||t[S]?e!==k||t[k]||(t[S]=!1,t[k]=!0,n=1):(t[k]=!1,t[S]=!0,n=1,K&&I.call(tt,t)<0&&tt.push(t)),n&&(i=t[e+"Callback"])&&i.call(t))}if(!(e in c)){var y,o,l,u,b,h,x,w="__"+e+(1e5*Math.random()>>0),S="attached",k="detached",M="ADDITION",O="MODIFICATION",C="REMOVAL",P="DOMAttrModified",E="DOMContentLoaded",T="<",A="=",R=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,F=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],L=[],z=[],j="",N=c.documentElement,I=L.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},D=i.prototype,U=D.hasOwnProperty,G=D.isPrototypeOf,V=i.defineProperty,B=i.getOwnPropertyDescriptor,H=i.getOwnPropertyNames,W=i.getPrototypeOf,q=i.setPrototypeOf,X=!!i.__proto__,Y=i.create||function t(e){return e?(t.prototype=e,new t):this},Z=q||(X?function(t,e){return t.__proto__=e,t}:H&&B?function(t,e){for(;bt(t,e),(e=W(e))&&!G.call(e,t););return t}:function(t,e){for(var i in e)t[i]=e[i];return t}),Q=t.MutationObserver||t.WebKitMutationObserver,J=(t.HTMLElement||t.Element||t.Node).prototype,K=!G.call(J,N),$=K?function(t){return 1===t.nodeType}:function(t){return G.call(J,t)},tt=K&&[],et=J.cloneNode,it=J.dispatchEvent,nt=J.getAttribute,rt=J.hasAttribute,st=J.removeAttribute,ot=J.setAttribute,at=c.createElement,lt=Q&&{attributes:!0,characterData:!0,attributeOldValue:!0},ut=Q||function(t){ft=!1,N.removeEventListener(P,ut)},ht=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},ct=!1,ft=!0,dt=!0,pt=!0;x=q||X?(h=function(t,e){G.call(e,t)||r(t,e)},r):h=function(t,e){t[w]||(t[w]=i(!0),r(t,e))},K?(ft=!1,gt=B(J,"addEventListener"),yt=gt.value,gt.value=function(t,e,i){t===P&&this.attributeChangedCallback&&this.setAttribute!==vt&&(this[w]={className:{name:"class",value:this.className}},this.setAttribute=vt,this.removeAttribute=_t,yt.call(this,"propertychange",mt)),yt.call(this,t,e,i)},V(J,"addEventListener",gt)):Q||(N.addEventListener(P,ut),N.setAttribute(w,1),N.removeAttribute(w),ft&&(o=function(t){var e,i,n;if(this===t.target){for(n in e=this[w],this[w]=i=u(this),i){if(!(n in e))return l(0,this,n,e[n],i[n],M);if(i[n]!==e[n])return l(1,this,n,e[n],i[n],O)}for(n in e)if(!(n in i))return l(2,this,n,e[n],i[n],C)}},l=function(t,e,i,n,r,s){var o={attrChange:t,currentTarget:e,attrName:i,prevValue:n,newValue:r};o[s]=t,a(o)},u=function(t){for(var e,i,n={},r=t.attributes,s=0,o=r.length;s<o;s++)"setAttribute"!==(i=(e=r[s]).name)&&(n[i]=e.value);return n})),c[e]=function(t,e){if(n=t.toUpperCase(),ct||(ct=!0,Q?(a=d(S),l=d(k),(b=new Q(function(t){for(var e,i,n,r=0,s=t.length;r<s;r++)"childList"===(e=t[r]).type?(o(e.addedNodes,a),o(e.removedNodes,l)):(i=e.target,pt&&i.attributeChangedCallback&&"style"!==e.attributeName&&(n=nt.call(i,e.attributeName))!==e.oldValue&&i.attributeChangedCallback(e.attributeName,e.oldValue,n))})).observe(c,{childList:!0,subtree:!0})):(y=[],ht(function t(){for(;y.length;)y.shift().call(null,y.shift());ht(t)}),c.addEventListener("DOMNodeInserted",v(S)),c.addEventListener("DOMNodeRemoved",v(k))),c.addEventListener(E,m),c.addEventListener("readystatechange",m),c.createElement=function(t,e){var i="string"==typeof e?e:"",n=i?at.call(c,t,i):at.call(c,t),r=""+t,s=I.call(L,(i?A:T)+(i||r).toUpperCase()),o=-1<s;return i&&(n.setAttribute("is",i=i.toLowerCase()),o=o&&_(r.toUpperCase(),i)),pt=!c.createElement.innerHTMLHelper,o&&x(n,z[s]),n},J.cloneNode=function(t){var e=et.call(this,!!t),i=p(e);return-1<i&&x(e,z[i]),t&&function(t){for(var e,i=0,n=t.length;i<n;i++)e=t[i],x(e,z[p(e)])}(e.querySelectorAll(j)),e}),-2<I.call(L,A+n)+I.call(L,T+n)&&g(t),!R.test(n)||-1<I.call(F,n))throw new Error("The type "+t+" is invalid");function o(t,e){for(var i=0,n=t.length;i<n;e(t[i++]));}function i(){return u?c.createElement(h,n):c.createElement(h)}var a,l,n,r,s=e||D,u=U.call(s,"extends"),h=u?e.extends.toUpperCase():n;return u&&-1<I.call(L,T+h)&&g(h),r=L.push((u?A:T)+n)-1,j=j.concat(j.length?",":"",u?h+'[is="'+t.toLowerCase()+'"]':h),i.prototype=z[r]=U.call(s,"prototype")?s.prototype:Y(J),f(c.querySelectorAll(j),S),i}}function _t(t){var e=new CustomEvent(P,{bubbles:!0});e.attrName=t,e.prevValue=nt.call(this,t),e.newValue=null,e[C]=e.attrChange=2,st.call(this,t),it.call(this,e)}function vt(t,e){var i=rt.call(this,t),n=i&&nt.call(this,t),r=new CustomEvent(P,{bubbles:!0});ot.call(this,t,e),r.attrName=t,r.prevValue=i?n:null,r.newValue=e,i?r[O]=r.attrChange=1:r[M]=r.attrChange=0,it.call(this,r)}function mt(t){var e,i=t.currentTarget,n=i[w],r=t.propertyName;n.hasOwnProperty(r)&&(n=n[r],(e=new CustomEvent(P,{bubbles:!0})).attrName=n.name,e.prevValue=n.value||null,e.newValue=n.value=i[r]||null,null==e.prevValue?e[M]=e.attrChange=0:e[O]=e.attrChange=1,it.call(i,e))}var gt,yt;function bt(t,e){for(var i,n=H(e),r=0,s=n.length;r<s;r++)i=n[r],U.call(t,i)||V(t,i,B(e,i))}}(window,document,Object,"registerElement")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(155),s=(n=r)&&n.__esModule?n:{default:n};e.default=function(t){var e=null,i=new s.default(function(t){return e=t});return setTimeout(e,t),i}},function(Gt,Vt,t){var Bt;(function(t){var l,u,r,h,s,o,d,a,p,i,c,f,n,_,v,m,g,y,x,w,S,k,M,e,O,C,P,E,T,A,R,F,L,z,j,N,I,D,U,G,V,B,H,W,q,X,Y,Z,Q,J,K,$,tt,et,it,nt,rt,st,ot,at,lt,ut,ht,ct,ft,dt,pt,_t,vt,mt,gt,yt,bt,xt,wt,St,kt,Mt,Ot,Ct,Pt,Et,Tt,At,Rt,Ft,Lt,zt,jt,Nt,It;function Dt(t,e){for(;t<0;)t+=e;return t%e}function Ut(t){return 1==t[0]&&0==t[3]&&0==t[1]&&1==t[4]&&0==t[2]&&0==t[5]}this.Two=function(t){function r(){var t=document.body.getBoundingClientRect(),e=this.width=t.width,i=this.height=t.height;this.renderer.setSize(e,i,this.ratio),this.trigger(tt.Events.resize,e,i)}function o(){O(o);for(var t=0;t<tt.Instances.length;t++){var e=tt.Instances[t];e.playing&&e.update()}}var a=this,K={_indexAmount:0,natural:{slice:Array.prototype.slice,indexOf:Array.prototype.indexOf,keys:Object.keys,bind:Function.prototype.bind,create:Object.create},identity:function(t){return t},isArguments:function(t){return"[object Arguments]"===toString.call(t)},isFunction:function(t){return"[object Function]"===toString.call(t)},isString:function(t){return"[object String]"===toString.call(t)},isNumber:function(t){return"[object Number]"===toString.call(t)},isDate:function(t){return"[object Date]"===toString.call(t)},isRegExp:function(t){return"[object RegExp]"===toString.call(t)},isError:function(t){return"[object Error]"===toString.call(t)},isFinite:function(t){return isFinite(t)&&!isNaN(parseFloat(t))},isNaN:function(t){return K.isNumber(t)&&t!==+t},isBoolean:function(t){return!0===t||!1===t||"[object Boolean]"===toString.call(t)},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isEmpty:function(t){return null==t||(v&&(K.isArray(t)||K.isString(t)||K.isArguments(t))?0===t.length:0===K.keys(t).length)},isElement:function(t){return!(!t||1!==t.nodeType)},isArray:Array.isArray||function(t){return"[object Array]"===toString.call(t)},isObject:function(t){var e=typeof t;return"function"==e||"object"==e&&!!t},toArray:function(t){return t?K.isArray(t)?p.call(t):v(t)?K.map(t,K.identity):K.values(t):[]},range:function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),s=0;s<n;s++,t+=i)r[s]=t;return r},indexOf:function(t,e){if(K.natural.indexOf)return K.natural.indexOf.call(t,e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},has:function(t,e){return null!=t&&hasOwnProperty.call(t,e)},bind:function(t,e){var i=K.natural.bind;if(i&&t.bind===i)return i.apply(t,p.call(arguments,1));var n=p.call(arguments,2);return function(){t.apply(e,n)}},extend:function(t){for(var e=p.call(arguments,1),i=0;i<e.length;i++){var n=e[i];for(var r in n)t[r]=n[r]}return t},defaults:function(t){for(var e=p.call(arguments,1),i=0;i<e.length;i++){var n=e[i];for(var r in n)void 0===t[r]&&(t[r]=n[r])}return t},keys:function(t){if(!K.isObject(t))return[];if(K.natural.keys)return K.natural.keys(t);var e=[];for(var i in t)K.has(t,i)&&e.push(i);return e},values:function(t){for(var e=K.keys(t),i=[],n=0;n<e.length;n++){var r=e[n];i.push(t[r])}return i},each:function(t,e,i){for(var n=i||this,r=!v(t)&&K.keys(t),s=(r||t).length,o=0;o<s;o++){var a=r?r[o]:o;e.call(n,t[a],a,t)}return t},map:function(t,e,i){for(var n=i||this,r=!v(t)&&K.keys(t),s=(r||t).length,o=[],a=0;a<s;a++){var l=r?r[a]:a;o[a]=e.call(n,t[l],l,t)}return o},once:function(t){var e=!1;return function(){return e?t:(e=!0,t.apply(this,arguments))}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},uniqueId:function(t){var e=++K._indexAmount+"";return t?t+e:e}},l=Math.sin,u=Math.cos,s=Math.atan2,m=Math.sqrt,h=(Math.round,Math.abs,Math.PI),c=h/2,$=Math.pow,f=Math.min,d=Math.max,e=0,p=K.natural.slice,_=a.performance&&a.performance.now?a.performance:Date,n=Math.pow(2,53)-1,v=function(t){var e,i=null==(e=t)?void 0:e.length;return"number"==typeof i&&0<=i&&i<=n},g={temp:a.document?a.document.createElement("div"):{},hasEventListeners:K.isFunction(a.addEventListener),bind:function(t,e,i,n){return this.hasEventListeners?t.addEventListener(e,i,!!n):t.attachEvent("on"+e,i),g},unbind:function(t,e,i,n){return g.hasEventListeners?t.removeEventListeners(e,i,!!n):t.detachEvent("on"+e,i),g},getRequestAnimationFrame:function(){var t,s=0,e=["ms","moz","webkit","o"],i=a.requestAnimationFrame;if(!i){for(var n=0;n<e.length;n++)i=a[e[n]+"RequestAnimationFrame"]||i,t=a[e[n]+"CancelAnimationFrame"]||a[e[n]+"CancelRequestAnimationFrame"]||t;i=i||function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-s)),r=a.setTimeout(function(){t(i+n)},n);return s=i+n,r}}return i.init=K.once(o),i}},tt=a.Two=function(t){var e=K.defaults(t||{},{fullscreen:!1,width:640,height:480,type:tt.Types.svg,autostart:!1});if(K.each(e,function(t,e){"fullscreen"!==e&&"autostart"!==e&&(this[e]=t)},this),K.isElement(e.domElement)){var i=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+i)||(this.type=tt.Types[i])}if(this.renderer=new tt[this.type](this),tt.Utils.setPlaying.call(this,e.autostart),this.frameCount=0,e.fullscreen){var n=K.bind(r,this);K.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),K.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),g.bind(a,"resize",n),n()}else K.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height);this.scene=this.renderer.scene,tt.Instances.push(this),O.init()};K.extend(tt,{Array:a.Float32Array||Array,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.7.0",Identifier:"two_",Properties:{hierarchy:"hierarchy",demotion:"demotion"},Events:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"},Commands:{move:"M",line:"L",curve:"C",close:"Z"},Resolution:8,Instances:[],noConflict:function(){return a.Two=t,this},uniqueId:function(){var t=e;return e++,t},Utils:K.extend(K,{performance:_,defineProperty:function(t){var e="_"+t,i="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[i]=!0}})},release:function(t){K.isObject(t)&&(K.isFunction(t.unbind)&&t.unbind(),t.vertices&&(K.isFunction(t.vertices.unbind)&&t.vertices.unbind(),K.each(t.vertices,function(t){K.isFunction(t.unbind)&&t.unbind()})),t.children&&K.each(t.children,function(t){tt.Utils.release(t)}))},xhr:function(t,e){var i=new XMLHttpRequest;return i.open("GET",t),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(i.responseText)},i.send(),i},Curve:{CollinearityEpsilon:$(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:.01},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},devicePixelRatio:a.devicePixelRatio||1,getBackingStoreRatio:function(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},getRatio:function(t){return tt.Utils.devicePixelRatio/S(t)},setPlaying:function(t){return this.playing=!!t,this},getComputedMatrix:function(t,i){i=i&&i.identity()||new tt.Matrix;for(var e=t,n=[];e&&e._matrix;)n.push(e._matrix),e=e.parent;return n.reverse(),K.each(n,function(t){var e=t.elements;i.multiply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9])}),i},deltaTransformPoint:function(t,e,i){var n=e*t.a+i*t.c,r=e*t.b+i*t.d;return new tt.Vector(n,r)},decomposeMatrix:function(t){var e=tt.Utils.deltaTransformPoint(t,0,1),i=tt.Utils.deltaTransformPoint(t,1,0),n=180/Math.PI*Math.atan2(e.y,e.x)-90,r=180/Math.PI*Math.atan2(i.y,i.x);return{translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),skewX:n,skewY:r,rotation:n}},applySvgAttributes:function(t,e){var i,n,r,s,o={},a={};if(getComputedStyle){var l=getComputedStyle(t);for(i=l.length;i--;)void 0!==(r=l[n=l[i]])&&(a[n]=r)}for(i=t.attributes.length;i--;)o[(s=t.attributes[i]).nodeName]=s.value;for(n in K.isUndefined(a.opacity)||(a["stroke-opacity"]=a.opacity,a["fill-opacity"]=a.opacity),K.extend(a,o),a.visible=!(K.isUndefined(a.display)&&"none"===a.display)||K.isUndefined(a.visibility)&&"hidden"===a.visibility,a)switch(r=a[n],n){case"transform":if("none"===r)break;if(null===(t.getCTM?t.getCTM():null))break;var u=tt.Utils.decomposeMatrix(t.getCTM());e.translation.set(u.translateX,u.translateY),e.rotation=u.rotation,e.scale=u.scaleX;var h=parseFloat((a.x+"").replace("px")),c=parseFloat((a.y+"").replace("px"));h&&(e.translation.x=h),c&&(e.translation.y=c);break;case"visible":e.visible=r;break;case"stroke-linecap":e.cap=r;break;case"stroke-linejoin":e.join=r;break;case"stroke-miterlimit":e.miter=r;break;case"stroke-width":e.linewidth=parseFloat(r);break;case"stroke-opacity":case"fill-opacity":case"opacity":e.opacity=parseFloat(r);break;case"fill":case"stroke":/url\(\#.*\)/i.test(r)?e[n]=this.getById(r.replace(/url\(\#(.*)\)/i,"$1")):e[n]="none"===r?"transparent":r;break;case"id":e.id=r;break;case"class":e.classList=r.split(" ")}return e},read:{svg:function(){return tt.Utils.read.g.apply(this,arguments)},g:function(t){var e=new tt.Group;tt.Utils.applySvgAttributes.call(this,t,e);for(var i=0,n=t.childNodes.length;i<n;i++){var r=t.childNodes[i],s=r.nodeName;if(!s)return;var o=s.replace(/svg\:/gi,"").toLowerCase();if(o in tt.Utils.read){var a=tt.Utils.read[o].call(e,r);e.add(a)}}return e},polygon:function(t,e){var i=t.getAttribute("points"),n=[];i.replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(t,e,i){n.push(new tt.Anchor(parseFloat(e),parseFloat(i)))});var r=new tt.Path(n,!e).noStroke();return r.fill="black",tt.Utils.applySvgAttributes.call(this,t,r)},polyline:function(t){return tt.Utils.read.polygon.call(this,t,!0)},path:function(t){var W,q,e=t.getAttribute("d"),X=new tt.Anchor,Y=!1,Z=!1,c=e.match(/[a-df-z][^a-df-z]*/gi),Q=c.length-1;K.each(c.slice(0),function(t,e){var i,n=t[0],r=n.toLowerCase(),s=t.slice(1).trim().split(/[\s,]+|(?=\s?[+\-])/),o=[];switch(e<=0&&(c=[]),r){case"h":case"v":1<s.length&&(i=1);break;case"m":case"l":case"t":2<s.length&&(i=2);break;case"s":case"q":4<s.length&&(i=4);break;case"c":6<s.length&&(i=6)}if(i){for(var a=0,l=s.length,u=0;a<l;a+=i){var h=n;if(0<u)switch(n){case"m":h="l";break;case"M":h="L"}o.push([h].concat(s.slice(a,a+i)).join(" ")),u++}c=Array.prototype.concat.apply(c,o)}else c.push(t)});var J=[];if(K.each(c,function(t,e){var i,n,r,s,o,a,l,u,h,c,f,d,p=t[0],_=p.toLowerCase();switch(q=(q=(q=t.slice(1).trim()).replace(/(-?\d+(?:\.\d*)?)[eE]([+\-]?\d+)/g,function(t,e,i){return parseFloat(e)*$(10,i)})).split(/[\s,]+|(?=\s?[+\-])/),Z=p===_,_){case"z":Q<=e?Y=!0:(n=X.x,r=X.y,i=new tt.Anchor(n,r,void 0,void 0,void 0,void 0,tt.Commands.close));break;case"m":case"l":n=parseFloat(q[0]),r=parseFloat(q[1]),i=new tt.Anchor(n,r,void 0,void 0,void 0,void 0,"m"===_?tt.Commands.move:tt.Commands.line),Z&&i.addSelf(X),X=i;break;case"h":case"v":var v="x"===(L="h"===_?"x":"y")?"y":"x";(i=new tt.Anchor(void 0,void 0,void 0,void 0,void 0,void 0,tt.Commands.line))[L]=parseFloat(q[0]),i[v]=X[v],Z&&(i[L]+=X[L]),X=i;break;case"c":case"s":s=X.x,o=X.y,W=W||new tt.Vector,f="c"===_?(a=parseFloat(q[0]),l=parseFloat(q[1]),u=parseFloat(q[2]),h=parseFloat(q[3]),c=parseFloat(q[4]),parseFloat(q[5])):(a=(d=it(X,W,Z)).x,l=d.y,u=parseFloat(q[0]),h=parseFloat(q[1]),c=parseFloat(q[2]),parseFloat(q[3])),Z&&(a+=s,l+=o,u+=s,h+=o,c+=s,f+=o),K.isObject(X.controls)||tt.Anchor.AppendCurveProperties(X),X.controls.right.set(a-X.x,l-X.y),i=new tt.Anchor(c,f,u-c,h-f,void 0,void 0,tt.Commands.curve),W=(X=i).controls.left;break;case"t":case"q":s=X.x,o=X.y,(W=W||new tt.Vector).isZero()?(a=s,l=o):(a=W.x,o=W.y),f="q"===_?(u=parseFloat(q[0]),h=parseFloat(q[1]),c=parseFloat(q[1]),parseFloat(q[2])):(u=(d=it(X,W,Z)).x,h=d.y,c=parseFloat(q[0]),parseFloat(q[1])),Z&&(a+=s,l+=o,u+=s,h+=o,c+=s,f+=o),K.isObject(X.controls)||tt.Anchor.AppendCurveProperties(X),X.controls.right.set(a-X.x,l-X.y),i=new tt.Anchor(c,f,u-c,h-f,void 0,void 0,tt.Commands.curve),W=(X=i).controls.left;break;case"a":s=X.x,o=X.y;var m=parseFloat(q[0]),g=parseFloat(q[1]),y=parseFloat(q[2])*Math.PI/180,b=parseFloat(q[3]),x=parseFloat(q[4]);c=parseFloat(q[5]),f=parseFloat(q[6]),Z&&(c+=s,f+=o);var w=(c-s)/2,S=(f-o)/2,k=w*Math.cos(y)+S*Math.sin(y),M=-w*Math.sin(y)+S*Math.cos(y),O=m*m,C=g*g,P=k*k,E=M*M,T=P/O+E/C;1<T&&(m*=Math.sqrt(T),g*=Math.sqrt(T));var A=Math.sqrt((O*C-O*E-C*P)/(O*E+C*P));K.isNaN(A)?A=0:b!=x&&0<A&&(A*=-1);function R(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function F(t,e){return(t[0]*e[0]+t[1]*e[1])/(R(t)*R(e))}var L,z=A*m*M/g,j=-A*g*k/m,N=z*Math.cos(y)-j*Math.sin(y)+(s+c)/2,I=z*Math.sin(y)+j*Math.cos(y)+(o+f)/2,D=(L=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(F(t,e))})([1,0],[(k-z)/m,(M-j)/g]),U=[(k-z)/m,(M-j)/g],G=[(-k-z)/m,(-M-j)/g],V=L(U,G);F(U,G)<=-1&&(V=Math.PI),1<=F(U,G)&&(V=0),b&&(V=et(V,2*Math.PI)),x&&0<V&&(V-=2*Math.PI);var B=tt.Resolution,H=(new tt.Matrix).translate(N,I).rotate(y);(i=K.map(K.range(B),function(t){var e=(1-t/(B-1))*V+D,i=m*Math.cos(e),n=g*Math.sin(e),r=H.multiply(i,n,1);return new tt.Anchor(r.x,r.y,!1,!1,!1,!1,tt.Commands.line)})).push(new tt.Anchor(c,f,!1,!1,!1,!1,tt.Commands.line)),X=i[i.length-1],W=X.controls.left}i&&(K.isArray(i)?J=J.concat(i):J.push(i))}),!(J.length<=1)){var i=new tt.Path(J,Y,void 0,!0).noStroke();return i.fill="black",tt.Utils.applySvgAttributes.call(this,t,i)}},circle:function(t){var e=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy")),n=parseFloat(t.getAttribute("r")),r=new tt.Circle(e,i,n).noStroke();return r.fill="black",tt.Utils.applySvgAttributes.call(this,t,r)},ellipse:function(t){var e=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy")),n=parseFloat(t.getAttribute("rx")),r=parseFloat(t.getAttribute("ry")),s=new tt.Ellipse(e,i,n,r).noStroke();return s.fill="black",tt.Utils.applySvgAttributes.call(this,t,s)},rect:function(t){var e=parseFloat(t.getAttribute("x"))||0,i=parseFloat(t.getAttribute("y"))||0,n=parseFloat(t.getAttribute("width")),r=parseFloat(t.getAttribute("height")),s=n/2,o=r/2,a=new tt.Rectangle(e+s,i+o,n,r).noStroke();return a.fill="black",tt.Utils.applySvgAttributes.call(this,t,a)},line:function(t){var e=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),n=parseFloat(t.getAttribute("x2")),r=parseFloat(t.getAttribute("y2")),s=new tt.Line(e,i,n,r).noFill();return tt.Utils.applySvgAttributes.call(this,t,s)},lineargradient:function(t){for(var e=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),n=parseFloat(t.getAttribute("x2")),r=parseFloat(t.getAttribute("y2")),s=(n+e)/2,o=(r+i)/2,a=[],l=0;l<t.children.length;l++){var u,h=t.children[l],c=parseFloat(h.getAttribute("offset")),f=h.getAttribute("stop-color"),d=h.getAttribute("stop-opacity"),p=h.getAttribute("style");if(K.isNull(f))f=(u=p.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/))&&1<u.length?u[1]:void 0;if(K.isNull(d))d=(u=p.match(/stop\-opacity\:\s?([0-9\.\-]*)/))&&1<u.length?parseFloat(u[1]):1;a.push(new tt.Gradient.Stop(c,f,d))}var _=new tt.LinearGradient(e-s,i-o,n-s,r-o,a);return tt.Utils.applySvgAttributes.call(this,t,_)},radialgradient:function(t){var e=parseFloat(t.getAttribute("cx"))||0,i=parseFloat(t.getAttribute("cy"))||0,n=parseFloat(t.getAttribute("r")),r=parseFloat(t.getAttribute("fx")),s=parseFloat(t.getAttribute("fy"));K.isNaN(r)&&(r=e),K.isNaN(s)&&(s=i);for(var o=Math.abs(e+r)/2,a=Math.abs(i+s)/2,l=[],u=0;u<t.children.length;u++){var h,c=t.children[u],f=parseFloat(c.getAttribute("offset")),d=c.getAttribute("stop-color"),p=c.getAttribute("stop-opacity"),_=c.getAttribute("style");if(K.isNull(d))d=(h=_.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/))&&1<h.length?h[1]:void 0;if(K.isNull(p))p=(h=_.match(/stop\-opacity\:\s?([0-9\.\-]*)/))&&1<h.length?parseFloat(h[1]):1;l.push(new tt.Gradient.Stop(f,d,p))}var v=new tt.RadialGradient(e-o,i-a,n,l,r-o,s-a);return tt.Utils.applySvgAttributes.call(this,t,v)}},subdivide:function(r,s,o,a,l,u,h,c,t){var f=(t=t||tt.Utils.Curve.RecursionLimit)+1;return r===h&&s===c?[new tt.Anchor(h,c)]:K.map(K.range(0,f),function(t){var e=t/f,i=k(e,r,o,l,h),n=k(e,s,a,u,c);return new tt.Anchor(i,n)})},getPointOnCubicBezier:function(t,e,i,n,r){var s=1-t;return s*s*s*e+3*s*s*t*i+3*s*t*t*n+t*t*t*r},getCurveLength:function(t,e,i,n,r,s,o,a,l){if(t===i&&e===n&&r===o&&s===a){var u=o-t,h=a-e;return m(u*u+h*h)}var c=9*(i-r)+3*(o-t),f=6*(t+r)-12*i,d=3*(i-t),p=9*(n-s)+3*(a-e),_=6*(e+s)-12*n,v=3*(n-e);return M(function(t){var e=(c*t+f)*t+d,i=(p*t+_)*t+v;return m(e*e+i*i)},0,1,l||tt.Utils.Curve.RecursionLimit)},integrate:function(t,e,i,n){for(var r=tt.Utils.Curve.abscissas[n-2],s=tt.Utils.Curve.weights[n-2],o=.5*(i-e),a=o+e,l=0,u=n+1>>1,h=1&n?s[l++]*t(a):0;l<u;){var c=o*r[l];h+=s[l++]*(t(a+c)+t(a-c))}return o*h},getCurveFromPoints:function(t,e){for(var i=t.length,n=i-1,r=0;r<i;r++){var s=t[r];K.isObject(s.controls)||tt.Anchor.AppendCurveProperties(s);var o=e?et(r-1,i):d(r-1,0),a=e?et(r+1,i):f(r+1,n),l=t[o],u=s,h=t[a];w(l,u,h),u._command=0===r?tt.Commands.move:tt.Commands.curve,u.controls.left.x=K.isNumber(u.controls.left.x)?u.controls.left.x:u.x,u.controls.left.y=K.isNumber(u.controls.left.y)?u.controls.left.y:u.y,u.controls.right.x=K.isNumber(u.controls.right.x)?u.controls.right.x:u.x,u.controls.right.y=K.isNumber(u.controls.right.y)?u.controls.right.y:u.y}},getControlPoints:function(t,e,i){var n=x(t,e),r=x(i,e),s=b(t,e),o=b(i,e),a=(n+r)/2;return e.u=K.isObject(e.controls.left)?e.controls.left:new tt.Vector(0,0),e.v=K.isObject(e.controls.right)?e.controls.right:new tt.Vector(0,0),s<1e-4||o<1e-4?e._relative||(e.controls.left.copy(e),e.controls.right.copy(e)):(s*=.33,o*=.33,r<n?a+=c:a-=c,e.controls.left.x=u(a)*s,e.controls.left.y=l(a)*s,a-=h,e.controls.right.x=u(a)*o,e.controls.right.y=l(a)*o,e._relative||(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y)),e},getReflection:function(t,e,i){return new tt.Vector(2*t.x-(e.x+t.x)-(i?t.x:0),2*t.y-(e.y+t.y)-(i?t.y:0))},getAnchorsFromArcData:function(t,e,o,a,l,u,h){var c=((new tt.Matrix).translate(t.x,t.y).rotate(e),tt.Resolution);return K.map(K.range(c),function(t){var e=(t+1)/c;h&&(e=1-e);var i=e*u+l,n=o*Math.cos(i),r=a*Math.sin(i),s=new tt.Anchor(n,r);return tt.Anchor.AppendCurveProperties(s),s.command=tt.Commands.line,s})},ratioBetween:function(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())},angleBetween:function(t,e){var i,n;return n=4<=arguments.length?(i=t-arguments[2],e-arguments[3]):(i=t.x-e.x,t.y-e.y),s(n,i)},distanceBetweenSquared:function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},distanceBetween:function(t,e){return m(i(t,e))},lerp:function(t,e,i){return i*(e-t)+t},toFixed:function(t){return Math.floor(1e3*t)/1e3},mod:function(t,e){for(;t<0;)t+=e;return t%e},Collection:function(){Array.call(this),1<arguments.length?Array.prototype.push.apply(this,arguments):arguments[0]&&Array.isArray(arguments[0])&&Array.prototype.push.apply(this,arguments[0])},Error:function(t){this.name="two.js",this.message=t},Events:{on:function(t,e){return this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push(e),this},off:function(t,e){if(!this._events)return this;if(!t&&!e)return this._events={},this;for(var i=t?[t]:K.keys(this._events),n=0,r=i.length;n<r;n++){t=i[n];var s=this._events[t];if(s){var o=[];if(e)for(var a=0,l=s.length;a<l;a++){var u=s[a];u=u.callback?u.callback:u,e&&e!==u&&o.push(u)}this._events[t]=o}}return this},trigger:function(t){if(!this._events)return this;var e=p.call(arguments,1),i=this._events[t];return i&&y(this,i,e),this},listen:function(t,e,i){var n=this;if(t){function r(){i.apply(n,arguments)}r.obj=t,r.name=e,r.callback=i,t.on(e,r)}return this},ignore:function(t,e,i){return t.off(e,i),this}}})}),tt.Utils.Events.bind=tt.Utils.Events.on,tt.Utils.Events.unbind=tt.Utils.Events.off;var y=function(e,i,n){var t;switch(n.length){case 0:t=function(t){i[t].call(e,n[0])};break;case 1:t=function(t){i[t].call(e,n[0],n[1])};break;case 2:t=function(t){i[t].call(e,n[0],n[1],n[2])};break;case 3:t=function(t){i[t].call(e,n[0],n[1],n[2],n[3])};break;default:t=function(t){i[t].apply(e,n)}}for(var r=0;r<i.length;r++)t(r)};tt.Utils.Error.prototype=new Error,tt.Utils.Error.prototype.constructor=tt.Utils.Error,tt.Utils.Collection.prototype=new Array,tt.Utils.Collection.prototype.constructor=tt.Utils.Collection,K.extend(tt.Utils.Collection.prototype,tt.Utils.Events,{pop:function(){var t=Array.prototype.pop.apply(this,arguments);return this.trigger(tt.Events.remove,[t]),t},shift:function(){var t=Array.prototype.shift.apply(this,arguments);return this.trigger(tt.Events.remove,[t]),t},push:function(){var t=Array.prototype.push.apply(this,arguments);return this.trigger(tt.Events.insert,arguments),t},unshift:function(){var t=Array.prototype.unshift.apply(this,arguments);return this.trigger(tt.Events.insert,arguments),t},splice:function(){var t,e=Array.prototype.splice.apply(this,arguments);return this.trigger(tt.Events.remove,e),2<arguments.length&&(t=this.slice(arguments[0],arguments[0]+arguments.length-2),this.trigger(tt.Events.insert,t),this.trigger(tt.Events.order)),e},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(tt.Events.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(tt.Events.order),this}});var b=tt.Utils.distanceBetween,i=(tt.Utils.getAnchorsFromArcData,tt.Utils.distanceBetweenSquared),x=(tt.Utils.ratioBetween,tt.Utils.angleBetween),w=tt.Utils.getControlPoints,et=(tt.Utils.getCurveFromPoints,tt.Utils.solveSegmentIntersection,tt.Utils.decoupleShapes,tt.Utils.mod),S=tt.Utils.getBackingStoreRatio,k=tt.Utils.getPointOnCubicBezier,M=(tt.Utils.getCurveLength,tt.Utils.integrate),it=tt.Utils.getReflection;K.extend(tt.prototype,tt.Utils.Events,{appendTo:function(t){return t.appendChild(this.renderer.domElement),this},play:function(){return tt.Utils.setPlaying.call(this,!0),this.trigger(tt.Events.play)},pause:function(){return this.playing=!1,this.trigger(tt.Events.pause)},update:function(){var t=!!this._lastFrame,e=_.now();this.frameCount++,t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e;var i=this.width,n=this.height,r=this.renderer;return i===r.width&&n===r.height||r.setSize(i,n,this.ratio),this.trigger(tt.Events.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(tt.Events.render,this.frameCount)},add:function(t){var e=t;return e instanceof Array||(e=K.toArray(arguments)),this.scene.add(e),this},remove:function(t){var e=t;return e instanceof Array||(e=K.toArray(arguments)),this.scene.remove(e),this},clear:function(){return this.scene.remove(K.toArray(this.scene.children)),this},makeLine:function(t,e,i,n){var r=new tt.Line(t,e,i,n);return this.scene.add(r),r},makeRectangle:function(t,e,i,n){var r=new tt.Rectangle(t,e,i,n);return this.scene.add(r),r},makeRoundedRectangle:function(t,e,i,n,r){var s=new tt.RoundedRectangle(t,e,i,n,r);return this.scene.add(s),s},makeCircle:function(t,e,i){var n=new tt.Circle(t,e,i);return this.scene.add(n),n},makeEllipse:function(t,e,i,n){var r=new tt.Ellipse(t,e,i,n);return this.scene.add(r),r},makeStar:function(t,e,i,n,r){var s=new tt.Star(t,e,i,n,r);return this.scene.add(s),s},makeCurve:function(t){var e=arguments.length,i=t;if(!K.isArray(t)){i=[];for(var n=0;n<e;n+=2){var r=arguments[n];if(!K.isNumber(r))break;var s=arguments[n+1];i.push(new tt.Anchor(r,s))}}var o=arguments[e-1],a=new tt.Path(i,!(K.isBoolean(o)&&o),!0),l=a.getBoundingClientRect();return a.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(a),a},makePolygon:function(t,e,i,n){var r=new tt.Polygon(t,e,i,n);return this.scene.add(r),r},makeArcSegment:function(t,e,i,n,r,s,o){var a=new tt.ArcSegment(t,e,i,n,r,s,o);return this.scene.add(a),a},makePath:function(t){var e=arguments.length,i=t;if(!K.isArray(t)){i=[];for(var n=0;n<e;n+=2){var r=arguments[n];if(!K.isNumber(r))break;var s=arguments[n+1];i.push(new tt.Anchor(r,s))}}var o=arguments[e-1],a=new tt.Path(i,!(K.isBoolean(o)&&o)),l=a.getBoundingClientRect();return a.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(a),a},makeText:function(t,e,i,n){var r=new tt.Text(t,e,i,n);return this.add(r),r},makeLinearGradient:function(t,e,i,n){var r=p.call(arguments,4),s=new tt.LinearGradient(t,e,i,n,r);return this.add(s),s},makeRadialGradient:function(t,e,i){var n=p.call(arguments,3),r=new tt.RadialGradient(t,e,i,n);return this.add(r),r},makeSprite:function(t,e,i,n,r,s,o){var a=new tt.Sprite(t,e,i,n,r,s);return o&&a.play(),this.add(a),a},makeImageSequence:function(t,e,i,n,r){var s=new tt.ImageSequence(t,e,i,n);return r&&s.play(),this.add(s),s},makeTexture:function(t,e){return new tt.Texture(t,e)},makeGroup:function(t){var e=t;e instanceof Array||(e=K.toArray(arguments));var i=new tt.Group;return this.scene.add(i),i.add(e),i},interpret:function(t,e){var i=t.tagName.toLowerCase();if(!(i in tt.Utils.read))return null;var n=tt.Utils.read[i].call(this,t);return e&&n instanceof tt.Group?this.add(n.children):this.add(n),n},load:function(t,e){var i,n,r=[];if(/.*\.svg/gi.test(t))return tt.Utils.xhr(t,K.bind(function(t){for(g.temp.innerHTML=t,n=0;n<g.temp.children.length;n++)i=g.temp.children[n],r.push(this.interpret(i));e(r.length<=1?r[0]:r,g.temp.children.length<=1?g.temp.children[0]:g.temp.children)},this)),this;for(g.temp.innerHTML=t,n=0;n<g.temp.children.length;n++)i=g.temp.children[n],r.push(this.interpret(i));return e(r.length<=1?r[0]:r,g.temp.children.length<=1?g.temp.children[0]:g.temp.children),this}});var O=g.getRequestAnimationFrame();return void 0===(Bt=function(){return tt}.apply(Vt,[]))||(Gt.exports=Bt),tt}((void 0!==t?t:this).Two),jt=(void 0!==t?t:this).Two,Nt=jt.Utils,It=jt.Registry=function(){this.map={}},Nt.extend(It,{}),Nt.extend(It.prototype,{add:function(t,e){return this.map[t]=e,this},remove:function(t){return delete this.map[t],this},get:function(t){return this.map[t]},contains:function(t){return t in this.map}}),function(i){var t=i.Utils,e=i.Vector=function(t,e){this.x=t||0,this.y=e||0};t.extend(e,{zero:new i.Vector}),t.extend(e.prototype,i.Utils.Events,{set:function(t,e){return this.x=t,this.y=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new e(this.x,this.y)},add:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addSelf:function(t){return this.x+=t.x,this.y+=t.y,this},sub:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},subSelf:function(t){return this.x-=t.x,this.y-=t.y,this},multiplySelf:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divideScalar:function(t){return t?(this.x/=t,this.y/=t):this.set(0,0),this},negate:function(){return this.multiplyScalar(-1)},dot:function(t){return this.x*t.x+this.y*t.y},lengthSquared:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSquared())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e=void 0===e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){var i=(t.x-this.x)*e+this.x,n=(t.y-this.y)*e+this.y;return this.set(i,n)},isZero:function(t){return t=void 0===t?1e-4:t,this.length()<t},toString:function(){return this.x+", "+this.y},toObject:function(){return{x:this.x,y:this.y}},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this.x=this.x*e-this.y*i,this.y=this.x*i+this.y*e,this}});var n={set:function(t,e){return this._x=t,this._y=e,this.trigger(i.Events.change)},copy:function(t){return this._x=t.x,this._y=t.y,this.trigger(i.Events.change)},clear:function(){return this._x=0,this._y=0,this.trigger(i.Events.change)},clone:function(){return new e(this._x,this._y)},add:function(t,e){return this._x=t.x+e.x,this._y=t.y+e.y,this.trigger(i.Events.change)},addSelf:function(t){return this._x+=t.x,this._y+=t.y,this.trigger(i.Events.change)},sub:function(t,e){return this._x=t.x-e.x,this._y=t.y-e.y,this.trigger(i.Events.change)},subSelf:function(t){return this._x-=t.x,this._y-=t.y,this.trigger(i.Events.change)},multiplySelf:function(t){return this._x*=t.x,this._y*=t.y,this.trigger(i.Events.change)},multiplyScalar:function(t){return this._x*=t,this._y*=t,this.trigger(i.Events.change)},divideScalar:function(t){return t?(this._x/=t,this._y/=t,this.trigger(i.Events.change)):this.clear()},negate:function(){return this.multiplyScalar(-1)},dot:function(t){return this._x*t.x+this._y*t.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},length:function(){return Math.sqrt(this.lengthSquared())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this._x-t.x,i=this._y-t.y;return e*e+i*i},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e=void 0===e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){var i=(t.x-this._x)*e+this._x,n=(t.y-this._y)*e+this._y;return this.set(i,n)},isZero:function(t){return t=void 0===t?1e-4:t,this.length()<t},toString:function(){return this._x+", "+this._y},toObject:function(){return{x:this._x,y:this._y}},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this._x=this._x*e-this._y*i,this._y=this._x*i+this._y*e,this}},r={enumerable:!0,get:function(){return this._x},set:function(t){this._x=t,this.trigger(i.Events.change,"x")}},s={enumerable:!0,get:function(){return this._y},set:function(t){this._y=t,this.trigger(i.Events.change,"y")}};i.Vector.prototype.bind=i.Vector.prototype.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,"x",r),Object.defineProperty(this,"y",s),t.extend(this,n),this._bound=!0),i.Utils.Events.bind.apply(this,arguments),this}}((void 0!==t?t:this).Two),function(a){var l=a.Commands,u=a.Utils,h=a.Anchor=function(t,e,i,n,r,s,o){return a.Vector.call(this,t,e),this._broadcast=u.bind(function(){this.trigger(a.Events.change)},this),this._command=o||l.move,this._relative=!0,o?(h.AppendCurveProperties(this),u.isNumber(i)&&(this.controls.left.x=i),u.isNumber(n)&&(this.controls.left.y=n),u.isNumber(r)&&(this.controls.right.x=r),void(u.isNumber(s)&&(this.controls.right.y=s))):this};u.extend(h,{AppendCurveProperties:function(t){t.controls={left:new a.Vector(0,0),right:new a.Vector(0,0)}}});var t={listen:function(){return u.isObject(this.controls)||h.AppendCurveProperties(this),this.controls.left.bind(a.Events.change,this._broadcast),this.controls.right.bind(a.Events.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(a.Events.change,this._broadcast),this.controls.right.unbind(a.Events.change,this._broadcast),this},clone:function(){var t=this.controls,e=new a.Anchor(this.x,this.y,t&&t.left.x,t&&t.left.y,t&&t.right.x,t&&t.right.y,this.command);return e.relative=this._relative,e},toObject:function(){var t={x:this.x,y:this.y};return this._command&&(t.command=this._command),this._relative&&(t.relative=this._relative),this.controls&&(t.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),t},toString:function(){return this.controls?[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y].join(", "):[this._x,this._y].join(", ")}};Object.defineProperty(h.prototype,"command",{enumerable:!0,get:function(){return this._command},set:function(t){return this._command=t,this._command!==l.curve||u.isObject(this.controls)||h.AppendCurveProperties(this),this.trigger(a.Events.change)}}),Object.defineProperty(h.prototype,"relative",{enumerable:!0,get:function(){return this._relative},set:function(t){return this._relative==t?this:(this._relative=!!t,this.trigger(a.Events.change))}}),u.extend(h.prototype,a.Vector.prototype,t),a.Anchor.prototype.bind=a.Anchor.prototype.on=function(){a.Vector.prototype.bind.apply(this,arguments),u.extend(this,t)},a.Anchor.prototype.unbind=a.Anchor.prototype.off=function(){a.Vector.prototype.unbind.apply(this,arguments),u.extend(this,t)}}((void 0!==t?t:this).Two),Tt=(void 0!==t?t:this).Two,At=Math.cos,Rt=Math.sin,Ft=Math.tan,Lt=Tt.Utils,zt=Tt.Matrix=function(t,e,i,n,r,s){this.elements=new Tt.Array(9);var o=t;Lt.isArray(o)||(o=Lt.toArray(arguments)),this.identity().set(o)},Lt.extend(zt,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(t,e,i){if(e.length<=3){var n=e[0]||0,r=e[1]||0,s=e[2]||0;return{x:t[0]*n+t[1]*r+t[2]*s,y:t[3]*n+t[4]*r+t[5]*s,z:t[6]*n+t[7]*r+t[8]*s}}var o=t[0],a=t[1],l=t[2],u=t[3],h=t[4],c=t[5],f=t[6],d=t[7],p=t[8],_=e[0],v=e[1],m=e[2],g=e[3],y=e[4],b=e[5],x=e[6],w=e[7],S=e[8];return(i=i||new Tt.Array(9))[0]=o*_+a*g+l*x,i[1]=o*v+a*y+l*w,i[2]=o*m+a*b+l*S,i[3]=u*_+h*g+c*x,i[4]=u*v+h*y+c*w,i[5]=u*m+h*b+c*S,i[6]=f*_+d*g+p*x,i[7]=f*v+d*y+p*w,i[8]=f*m+d*b+p*S,i}}),Lt.extend(zt.prototype,Tt.Utils.Events,{set:function(t){var e=t;return Lt.isArray(e)||(e=Lt.toArray(arguments)),Lt.extend(this.elements,e),this.trigger(Tt.Events.change)},identity:function(){return this.set(zt.Identity),this},multiply:function(i,t,e,n,r,s,o,a,l){var u=arguments,h=u.length;if(h<=1)return Lt.each(this.elements,function(t,e){this.elements[e]=t*i},this),this.trigger(Tt.Events.change);if(h<=3)return i=i||0,t=t||0,e=e||0,{x:(r=this.elements)[0]*i+r[1]*t+r[2]*e,y:r[3]*i+r[4]*t+r[5]*e,z:r[6]*i+r[7]*t+r[8]*e};var c=this.elements,f=c[0],d=c[1],p=c[2],_=c[3],v=c[4],m=c[5],g=c[6],y=c[7],b=c[8],x=u[0],w=u[1],S=u[2],k=u[3],M=u[4],O=u[5],C=u[6],P=u[7],E=u[8];return this.elements[0]=f*x+d*k+p*C,this.elements[1]=f*w+d*M+p*P,this.elements[2]=f*S+d*O+p*E,this.elements[3]=_*x+v*k+m*C,this.elements[4]=_*w+v*M+m*P,this.elements[5]=_*S+v*O+m*E,this.elements[6]=g*x+y*k+b*C,this.elements[7]=g*w+y*M+b*P,this.elements[8]=g*S+y*O+b*E,this.trigger(Tt.Events.change)},inverse:function(t){var e=this.elements;t=t||new Tt.Matrix;var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],c=h*o-a*u,f=-h*s+a*l,d=u*s-o*l,p=i*c+n*f+r*d;return p?(p=1/p,t.elements[0]=c*p,t.elements[1]=(-h*n+r*u)*p,t.elements[2]=(a*n-r*o)*p,t.elements[3]=f*p,t.elements[4]=(h*i-r*l)*p,t.elements[5]=(-a*i+r*s)*p,t.elements[6]=d*p,t.elements[7]=(-u*i+n*l)*p,t.elements[8]=(o*i-n*s)*p,t):null},scale:function(t,e){return arguments.length<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)},rotate:function(t){var e=At(t),i=Rt(t);return this.multiply(e,-i,0,i,e,0,0,0,1)},translate:function(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)},skewX:function(t){var e=Ft(t);return this.multiply(1,e,0,0,1,0,0,0,1)},skewY:function(t){var e=Ft(t);return this.multiply(1,0,0,e,1,0,0,0,1)},toString:function(t){var e=[];return this.toArray(t,e),e.join(" ")},toArray:function(t,e){var i=this.elements,n=!!e,r=parseFloat(i[0].toFixed(3)),s=parseFloat(i[1].toFixed(3)),o=parseFloat(i[2].toFixed(3)),a=parseFloat(i[3].toFixed(3)),l=parseFloat(i[4].toFixed(3)),u=parseFloat(i[5].toFixed(3));if(t){var h=parseFloat(i[6].toFixed(3)),c=parseFloat(i[7].toFixed(3)),f=parseFloat(i[8].toFixed(3));return n?(e[0]=r,e[1]=a,e[2]=h,e[3]=s,e[4]=l,e[5]=c,e[6]=o,e[7]=u,void(e[8]=f)):[r,a,h,s,l,c,o,u,f]}return n?(e[0]=r,e[1]=a,e[2]=s,e[3]=l,e[4]=o,void(e[5]=u)):[r,a,s,l,o,u]},clone:function(){var t,e,i,n,r,s,o,a,l;return t=this.elements[0],e=this.elements[1],i=this.elements[2],n=this.elements[3],r=this.elements[4],s=this.elements[5],o=this.elements[6],a=this.elements[7],l=this.elements[8],new Tt.Matrix(t,e,i,n,r,s,o,a,l)}}),kt=(void 0!==t?t:this).Two,Mt=kt.Utils.mod,Ot=kt.Utils.toFixed,Ct=kt.Utils,Pt={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){var i=t,n=document.createElementNS(this.ns,i);return"svg"===i&&(e=Ct.defaults(e||{},{version:this.version})),Ct.isEmpty(e)||Pt.setAttributes(n,e),n},setAttributes:function(t,e){for(var i=Object.keys(e),n=0;n<i.length;n++)t.setAttribute(i[n],e[i[n]]);return this},removeAttributes:function(t,e){for(var i in e)t.removeAttribute(i);return this},toString:function(t,e){for(var i,n=t.length,r=n-1,s="",o=0;o<n;o++){var a,l,u,h,c,f,d,p,_,v=t[o],m=e?Mt(o-1,n):Math.max(o-1,0),g=e?Mt(o+1,n):Math.min(o+1,r),y=t[m],b=t[g],x=Ot(v._x),w=Ot(v._y);switch(v._command){case kt.Commands.close:a=kt.Commands.close;break;case kt.Commands.curve:f=y.controls&&y.controls.right||kt.Vector.zero,d=v.controls&&v.controls.left||kt.Vector.zero,u=y._relative?(l=Ot(f.x+y.x),Ot(f.y+y.y)):(l=Ot(f.x),Ot(f.y)),c=v._relative?(h=Ot(d.x+v.x),Ot(d.y+v.y)):(h=Ot(d.x),Ot(d.y)),a=(0===o?kt.Commands.move:kt.Commands.curve)+" "+l+" "+u+" "+h+" "+c+" "+x+" "+w;break;case kt.Commands.move:i=v,a=kt.Commands.move+" "+x+" "+w;break;default:a=v._command+" "+x+" "+w}r<=o&&e&&(v._command===kt.Commands.curve&&(b=i,p=v.controls&&v.controls.right||v,_=b.controls&&b.controls.left||b,u=v._relative?(l=Ot(p.x+v.x),Ot(p.y+v.y)):(l=Ot(p.x),Ot(p.y)),c=b._relative?(h=Ot(_.x+b.x),Ot(_.y+b.y)):(h=Ot(_.x),Ot(_.y)),a+=" C "+l+" "+u+" "+h+" "+c+" "+(x=Ot(b.x))+" "+(w=Ot(b.y))),a+=" Z"),s+=a+" "}return s},getClip:function(t){var e=t._renderer.clip;if(!e){for(var i=t;i.parent;)i=i.parent;e=t._renderer.clip=Pt.createElement("clipPath"),i.defs.appendChild(e)}return e},group:{appendChild:function(t){var e=t._renderer.elem;if(e){var i=e.nodeName;!i||/(radial|linear)gradient/i.test(i)||t._clip||this.elem.appendChild(e)}},removeChild:function(t){var e=t._renderer.elem;e&&e.parentNode==this.elem&&e.nodeName&&(t._clip||this.elem.removeChild(e))},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){Pt[t._renderer.type].render.call(t,this)},render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;this._renderer.elem||(this._renderer.elem=Pt.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));var e=this._matrix.manual||this._flagMatrix,i={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(var n=0;n<this.children.length;n++){var r=this.children[n];Pt[r._renderer.type].render.call(r,t)}return this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagAdditions&&this.additions.forEach(Pt.group.appendChild,i),this._flagSubtractions&&this.subtractions.forEach(Pt.group.removeChild,i),this._flagOrder&&this.children.forEach(Pt.group.orderChild,i),this._flagMask&&(this._mask?this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")"):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},path:{render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagVertices){var i=Pt.toString(this._vertices,this._closed);e.d=i}if(this._fill&&this._fill._renderer&&(this._fill._update(),Pt[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Pt[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this._renderer.elem?Pt.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=Pt.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){var n=Pt.getClip(this),r=this._renderer.elem;this._clip?(r.removeAttribute("id"),n.setAttribute("id",this.id),n.appendChild(r)):(n.removeAttribute("id"),r.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(r))}return this.flagReset()}},text:{render:function(t){this._update();var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=Pt.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),Pt[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Pt[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._renderer.elem?Pt.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=Pt.createElement("text",e),t.defs.appendChild(this._renderer.elem)),this._flagClip){var i=Pt.getClip(this),n=this._renderer.elem;this._clip?(n.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(n)):(i.removeAttribute("id"),n.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(n))}return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();var i={};if(this._flagEndPoints&&(i.x1=this.left._x,i.y1=this.left._y,i.x2=this.right._x,i.y2=this.right._y),this._flagSpread&&(i.spreadMethod=this._spread),this._renderer.elem?Pt.setAttributes(this._renderer.elem,i):(i.id=this.id,i.gradientUnits="userSpaceOnUse",this._renderer.elem=Pt.createElement("linearGradient",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){var n=this._renderer.elem.childNodes.length!==this.stops.length;n&&(this._renderer.elem.childNodes.length=0);for(var r=0;r<this.stops.length;r++){var s=this.stops[r],o={};s._flagOffset&&(o.offset=100*s._offset+"%"),s._flagColor&&(o["stop-color"]=s._color),s._flagOpacity&&(o["stop-opacity"]=s._opacity),s._renderer.elem?Pt.setAttributes(s._renderer.elem,o):s._renderer.elem=Pt.createElement("stop",o),n&&this._renderer.elem.appendChild(s._renderer.elem),s.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();var i={};if(this._flagCenter&&(i.cx=this.center._x,i.cy=this.center._y),this._flagFocal&&(i.fx=this.focal._x,i.fy=this.focal._y),this._flagRadius&&(i.r=this._radius),this._flagSpread&&(i.spreadMethod=this._spread),this._renderer.elem?Pt.setAttributes(this._renderer.elem,i):(i.id=this.id,i.gradientUnits="userSpaceOnUse",this._renderer.elem=Pt.createElement("radialGradient",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){var n=this._renderer.elem.childNodes.length!==this.stops.length;n&&(this._renderer.elem.childNodes.length=0);for(var r=0;r<this.stops.length;r++){var s=this.stops[r],o={};s._flagOffset&&(o.offset=100*s._offset+"%"),s._flagColor&&(o["stop-color"]=s._color),s._flagOpacity&&(o["stop-opacity"]=s._opacity),s._renderer.elem?Pt.setAttributes(s._renderer.elem,o):s._renderer.elem=Pt.createElement("stop",o),n&&this._renderer.elem.appendChild(s._renderer.elem),s.flagReset()}}return this.flagReset()}},texture:{render:function(t,e){e||this._update();var i={},n={},r=this.image;if(this._flagLoaded&&this.loaded)switch(n.x=0,n.y=0,n.width=r.width,n.height=r.height,r.nodeName.toLowerCase()){case"canvas":n.href=r.toDataURL("image/png");break;case"img":case"image":n.href=this.src}return(this._flagOffset||this._flagLoaded||this._flagScale)&&(i.x=this._offset.x,i.y=this._offset.y,r&&(i.x-=r.width/2,i.y-=r.height/2,this._scale instanceof kt.Vector?(i.x*=this._scale.x,i.y*=this._scale.y):(i.x*=this._scale,i.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(i.width=0,i.height=0,r&&(this._scale instanceof kt.Vector?(i.width=r.width*this._scale.x,i.height=r.height*this._scale.y):(i.width=r.width*this._scale,i.height=r.height*this._scale)),n.width=i.width,n.height=i.height),(this._flagScale||this._flagLoaded)&&(this._renderer.image?Ct.isEmpty(n)||Pt.setAttributes(this._renderer.image,n):this._renderer.image=Pt.createElement("image",n)),this._renderer.elem?Ct.isEmpty(i)||Pt.setAttributes(this._renderer.elem,i):(i.id=this.id,i.patternUnits="userSpaceOnUse",this._renderer.elem=Pt.createElement("pattern",i),t.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},Et=kt[kt.Types.svg]=function(t){this.domElement=t.domElement||Pt.createElement("svg"),this.scene=new kt.Group,(this.scene.parent=this).defs=Pt.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"},Ct.extend(Et,{Utils:Pt}),Ct.extend(Et.prototype,kt.Utils.Events,{setSize:function(t,e){return this.width=t,this.height=e,Pt.setAttributes(this.domElement,{width:t,height:e}),this},render:function(){return Pt.group.render.call(this.scene,this.domElement),this}}),mt=(void 0!==t?t:this).Two,gt=mt.Utils.mod,yt=mt.Utils.toFixed,bt=mt.Utils.getRatio,xt=mt.Utils,wt={isHidden:/(none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t){return t.tagName="canvas",t.nodeType=1,t},group:{renderChild:function(t){wt[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){this._update();var e=this._matrix.elements,i=this.parent;this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1);var n=Ut(e),r=this._mask;this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,n||(t.save(),t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),r&&wt[r._renderer.type].render.call(r,t,!0);for(var s=0;s<this.children.length;s++){var o=this.children[s];wt[o._renderer.type].render.call(o,t)}return n||t.restore(),this.flagReset()}},path:{render:function(t,e,i){var n,r,s,o,a,l,u,h,c,f,d,p,_,v,m,g,y,b,x,w,S,k,M,O,C,P,E,T,A,R,F,L;if(this._update(),n=this._matrix.elements,r=this._stroke,s=this._linewidth,o=this._fill,a=this._opacity*this.parent._renderer.opacity,l=this._visible,u=this._cap,h=this._join,c=this._miter,f=this._closed,_=(p=(d=this._vertices).length)-1,F=Ut(n),R=this._clip,!e&&(!l||R))return this;F||(t.save(),t.transform(n[0],n[3],n[1],n[4],n[2],n[5])),o&&(xt.isString(o)?t.fillStyle=o:(wt[o._renderer.type].render.call(o,t),t.fillStyle=o._renderer.effect)),r&&(xt.isString(r)?t.strokeStyle=r:(wt[r._renderer.type].render.call(r,t),t.strokeStyle=r._renderer.effect)),s&&(t.lineWidth=s),c&&(t.miterLimit=c),h&&(t.lineJoin=h),u&&(t.lineCap=u),xt.isNumber(a)&&(t.globalAlpha=a),t.beginPath();for(var z=0;z<d.length;z++)switch(y=d[z],T=yt(y._x),A=yt(y._y),y._command){case mt.Commands.close:t.closePath();break;case mt.Commands.curve:m=f?gt(z-1,p):Math.max(z-1,0),v=f?gt(z+1,p):Math.min(z+1,_),g=d[m],b=d[v],O=g.controls&&g.controls.right||mt.Vector.zero,C=y.controls&&y.controls.left||mt.Vector.zero,M=g._relative?(k=O.x+yt(g._x),O.y+yt(g._y)):(k=yt(O.x),yt(O.y)),S=y._relative?(w=C.x+yt(y._x),C.y+yt(y._y)):(w=yt(C.x),yt(C.y)),t.bezierCurveTo(k,M,w,S,T,A),_<=z&&f&&(b=x,P=y.controls&&y.controls.right||mt.Vector.zero,E=b.controls&&b.controls.left||mt.Vector.zero,M=y._relative?(k=P.x+yt(y._x),P.y+yt(y._y)):(k=yt(P.x),yt(P.y)),S=b._relative?(w=E.x+yt(b._x),E.y+yt(b._y)):(w=yt(E.x),yt(E.y)),T=yt(b._x),A=yt(b._y),t.bezierCurveTo(k,M,w,S,T,A));break;case mt.Commands.line:t.lineTo(T,A);break;case mt.Commands.move:x=y,t.moveTo(T,A)}return f&&t.closePath(),R||i||(wt.isHidden.test(o)||((L=o._renderer&&o._renderer.offset)&&(t.save(),t.translate(-o._renderer.offset.x,-o._renderer.offset.y),t.scale(o._renderer.scale.x,o._renderer.scale.y)),t.fill(),L&&t.restore()),wt.isHidden.test(r)||((L=r._renderer&&r._renderer.offset)&&(t.save(),t.translate(-r._renderer.offset.x,-r._renderer.offset.y),t.scale(r._renderer.scale.x,r._renderer.scale.y),t.lineWidth=s/r._renderer.scale.x),t.stroke(),L&&t.restore())),F||t.restore(),R&&!i&&t.clip(),this.flagReset()}},text:{render:function(t,e,i){this._update();var n,r,s,o,a,l,u,h=this._matrix.elements,c=this._stroke,f=this._linewidth,d=this._fill,p=this._opacity*this.parent._renderer.opacity,_=this._visible,v=Ut(h),m=d._renderer&&d._renderer.offset&&c._renderer&&c._renderer.offset,g=this._clip;return e||_&&!g?(v||(t.save(),t.transform(h[0],h[3],h[1],h[4],h[2],h[5])),m||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=wt.alignments[this._alignment]||this._alignment,t.textBaseline=this._baseline,d&&(xt.isString(d)?t.fillStyle=d:(wt[d._renderer.type].render.call(d,t),t.fillStyle=d._renderer.effect)),c&&(xt.isString(c)?t.strokeStyle=c:(wt[c._renderer.type].render.call(c,t),t.strokeStyle=c._renderer.effect)),f&&(t.lineWidth=f),xt.isNumber(p)&&(t.globalAlpha=p),g||i||(wt.isHidden.test(d)||(d._renderer&&d._renderer.offset?(l=yt(d._renderer.scale.x),u=yt(d._renderer.scale.y),t.save(),t.translate(-yt(d._renderer.offset.x),-yt(d._renderer.offset.y)),t.scale(l,u),n=this._size/d._renderer.scale.y,r=this._leading/d._renderer.scale.y,t.font=[this._style,this._weight,yt(n)+"px/",yt(r)+"px",this._family].join(" "),s=d._renderer.offset.x/d._renderer.scale.x,o=d._renderer.offset.y/d._renderer.scale.y,t.fillText(this.value,yt(s),yt(o)),t.restore()):t.fillText(this.value,0,0)),wt.isHidden.test(c)||(c._renderer&&c._renderer.offset?(l=yt(c._renderer.scale.x),u=yt(c._renderer.scale.y),t.save(),t.translate(-yt(c._renderer.offset.x),-yt(c._renderer.offset.y)),t.scale(l,u),n=this._size/c._renderer.scale.y,r=this._leading/c._renderer.scale.y,t.font=[this._style,this._weight,yt(n)+"px/",yt(r)+"px",this._family].join(" "),s=c._renderer.offset.x/c._renderer.scale.x,o=c._renderer.offset.y/c._renderer.scale.y,a=f/c._renderer.scale.x,t.lineWidth=yt(a),t.strokeText(this.value,yt(s),yt(o)),t.restore()):t.strokeText(this.value,0,0))),v||t.restore(),g&&!i&&t.clip(),this.flagReset()):this}},"linear-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var e=0;e<this.stops.length;e++){var i=this.stops[e];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}},"radial-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var e=0;e<this.stops.length;e++){var i=this.stops[e];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}},texture:{render:function(t){this._update();var e=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage)&&this.loaded)&&(this._renderer.effect=t.createPattern(this.image,"repeat")),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof mt.Vector||(this._renderer.offset=new mt.Vector),this._renderer.offset.x=this._offset.x,this._renderer.offset.y=this._offset.y,e&&(this._renderer.offset.x-=e.width/2,this._renderer.offset.y-=e.height/2,this._scale instanceof mt.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof mt.Vector||(this._renderer.scale=new mt.Vector),this._scale instanceof mt.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},St=mt[mt.Types.canvas]=function(t){var e=!1!==t.smoothing;this.domElement=t.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=t.overdraw||!1,xt.isUndefined(this.ctx.imageSmoothingEnabled)||(this.ctx.imageSmoothingEnabled=e),this.scene=new mt.Group,this.scene.parent=this},xt.extend(St,{Utils:wt}),xt.extend(St.prototype,mt.Utils.Events,{setSize:function(t,e,i){return this.width=t,this.height=e,this.ratio=xt.isUndefined(i)?bt(this.ctx):i,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,this.domElement.style&&xt.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this},render:function(){var t=1===this.ratio;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),wt.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}}),function(j){var a=j.Matrix.Multiply,N=j.Utils.mod,s=[1,0,0,0,1,0,0,0,1],l=new j.Array(9),r=j.Utils.getRatio,I=(j.Utils.getComputedMatrix,j.Utils.toFixed),D=j.Utils,U={isHidden:/(none|transparent)/i,canvas:this.document?this.document.createElement("canvas"):{getContext:D.identity},alignments:{left:"start",middle:"center",right:"end"},matrix:new j.Matrix,uv:new j.Array([0,0,1,0,0,1,0,1,1,0,1,1]),group:{removeChild:function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)U.group.removeChild(t.children[i],e);else e.deleteTexture(t._renderer.texture),delete t._renderer.texture},renderChild:function(t){U[t._renderer.type].render.call(t,this.gl,this.program)},render:function(t,e){this._update();var i=this.parent,n=i._matrix&&i._matrix.manual||i._flagMatrix,r=this._matrix.manual||this._flagMatrix;if((n||r)&&(this._renderer.matrix||(this._renderer.matrix=new j.Array(9)),this._matrix.toArray(!0,l),a(l,i._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*i._renderer.scale,n&&(this._flagMatrix=!0)),this._mask&&(t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,1),t.colorMask(!1,!1,!1,!0),t.stencilOp(t.KEEP,t.KEEP,t.INCR),U[this._mask._renderer.type].render.call(this._mask,t,e,this),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)),this._flagOpacity=i._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1),this._flagSubtractions)for(var s=0;s<this.subtractions.length;s++)U.group.removeChild(this.subtractions[s],t);return this.children.forEach(U.group.renderChild,{gl:t,program:e}),this._mask&&(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),U[this._mask._renderer.type].render.call(this._mask,t,e,this),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.disable(t.STENCIL_TEST)),this.flagReset()}},path:{updateCanvas:function(t){var e,i,n,r,s,o,a,l,u,h,c,f,d,p,_,v=t._vertices,m=this.canvas,g=this.ctx,y=t._renderer.scale,x=t._stroke,w=t._linewidth,S=t._fill,k=t._renderer.opacity||t._opacity,M=t._cap,O=t._join,C=t._miter,P=t._closed,E=v.length,T=E-1;m.width=Math.max(Math.ceil(t._renderer.rect.width*y),1),m.height=Math.max(Math.ceil(t._renderer.rect.height*y),1);var A,R=t._renderer.rect.centroid,F=R.x,L=R.y;g.clearRect(0,0,m.width,m.height),S&&(D.isString(S)?g.fillStyle=S:(U[S._renderer.type].render.call(S,g,t),g.fillStyle=S._renderer.effect)),x&&(D.isString(x)?g.strokeStyle=x:(U[x._renderer.type].render.call(x,g,t),g.strokeStyle=x._renderer.effect)),w&&(g.lineWidth=w),C&&(g.miterLimit=C),O&&(g.lineJoin=O),M&&(g.lineCap=M),D.isNumber(k)&&(g.globalAlpha=k),g.save(),g.scale(y,y),g.translate(F,L),g.beginPath();for(var z=0;z<v.length;z++)switch(b=v[z],d=I(b._x),p=I(b._y),b._command){case j.Commands.close:g.closePath();break;case j.Commands.curve:i=P?N(z-1,E):Math.max(z-1,0),e=P?N(z+1,E):Math.min(z+1,T),n=v[i],r=v[e],u=n.controls&&n.controls.right||j.Vector.zero,h=b.controls&&b.controls.left||j.Vector.zero,l=n._relative?(a=I(u.x+n._x),I(u.y+n._y)):(a=I(u.x),I(u.y)),o=b._relative?(s=I(h.x+b._x),I(h.y+b._y)):(s=I(h.x),I(h.y)),g.bezierCurveTo(a,l,s,o,d,p),T<=z&&P&&(r=A,c=b.controls&&b.controls.right||j.Vector.zero,f=r.controls&&r.controls.left||j.Vector.zero,l=b._relative?(a=I(c.x+b._x),I(c.y+b._y)):(a=I(c.x),I(c.y)),o=r._relative?(s=I(f.x+r._x),I(f.y+r._y)):(s=I(f.x),I(f.y)),d=I(r._x),p=I(r._y),g.bezierCurveTo(a,l,s,o,d,p));break;case j.Commands.line:g.lineTo(d,p);break;case j.Commands.move:A=b,g.moveTo(d,p)}P&&g.closePath(),U.isHidden.test(S)||((_=S._renderer&&S._renderer.offset)&&(g.save(),g.translate(-S._renderer.offset.x,-S._renderer.offset.y),g.scale(S._renderer.scale.x,S._renderer.scale.y)),g.fill(),_&&g.restore()),U.isHidden.test(x)||((_=x._renderer&&x._renderer.offset)&&(g.save(),g.translate(-x._renderer.offset.x,-x._renderer.offset.y),g.scale(x._renderer.scale.x,x._renderer.scale.y),g.lineWidth=w/x._renderer.scale.x),g.stroke(),_&&g.restore()),g.restore()},getBoundingClientRect:function(t,e,i){var n,r,h=1/0,c=-1/0,f=1/0,d=-1/0;t.forEach(function(t){var e,i,n,r,s,o,a=t.x,l=t.y,u=t.controls;f=Math.min(l,f),h=Math.min(a,h),c=Math.max(a,c),d=Math.max(l,d),t.controls&&(s=u.left,o=u.right,s&&o&&(e=t._relative?s.x+a:s.x,i=t._relative?s.y+l:s.y,n=t._relative?o.x+a:o.x,r=t._relative?o.y+l:o.y,e&&i&&n&&r&&(f=Math.min(i,r,f),h=Math.min(e,n,h),c=Math.max(e,n,c),d=Math.max(i,r,d))))}),D.isNumber(e)&&(f-=e,h-=e,c+=e,d+=e),n=c-h,r=d-f,i.top=f,i.left=h,i.right=c,i.bottom=d,i.width=n,i.height=r,i.centroid||(i.centroid={}),i.centroid.x=-h,i.centroid.y=-f},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();var n=this.parent,r=n._matrix.manual||n._flagMatrix,s=this._matrix.manual||this._flagMatrix,o=this._flagVertices||this._flagFill||this._fill instanceof j.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof j.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof j.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof j.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof j.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof j.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||n._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||!this._renderer.texture;return(r||s)&&(this._renderer.matrix||(this._renderer.matrix=new j.Array(9)),this._matrix.toArray(!0,l),a(l,n._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*n._renderer.scale),o&&(this._renderer.rect||(this._renderer.rect={}),this._renderer.triangles||(this._renderer.triangles=new j.Array(12)),this._renderer.opacity=this._opacity*n._renderer.opacity,U.path.getBoundingClientRect(this._vertices,this._linewidth,this._renderer.rect),U.getTriangles(this._renderer.rect,this._renderer.triangles),U.updateBuffer.call(U,t,this,e),U.updateTexture.call(U,t,this)),!this._clip||i?(t.bindBuffer(t.ARRAY_BUFFER,this._renderer.textureCoordsBuffer),t.vertexAttribPointer(e.textureCoords,2,t.FLOAT,!1,0,0),t.bindTexture(t.TEXTURE_2D,this._renderer.texture),t.uniformMatrix3fv(e.matrix,!1,this._renderer.matrix),t.bindBuffer(t.ARRAY_BUFFER,this._renderer.buffer),t.vertexAttribPointer(e.position,2,t.FLOAT,!1,0,0),t.drawArrays(t.TRIANGLES,0,6),this.flagReset()):void 0}},text:{updateCanvas:function(t){var e=this.canvas,i=this.ctx,n=t._renderer.scale,r=t._stroke,s=t._linewidth*n,o=t._fill,a=t._renderer.opacity||t._opacity;e.width=Math.max(Math.ceil(t._renderer.rect.width*n),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*n),1);var l,u,h,c,f,d,p,_=t._renderer.rect.centroid,v=_.x,m=_.y,g=o._renderer&&o._renderer.offset&&r._renderer&&r._renderer.offset;i.clearRect(0,0,e.width,e.height),g||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",o&&(D.isString(o)?i.fillStyle=o:(U[o._renderer.type].render.call(o,i,t),i.fillStyle=o._renderer.effect)),r&&(D.isString(r)?i.strokeStyle=r:(U[r._renderer.type].render.call(r,i,t),i.strokeStyle=r._renderer.effect)),s&&(i.lineWidth=s),D.isNumber(a)&&(i.globalAlpha=a),i.save(),i.scale(n,n),i.translate(v,m),U.isHidden.test(o)||(o._renderer&&o._renderer.offset?(d=I(o._renderer.scale.x),p=I(o._renderer.scale.y),i.save(),i.translate(-I(o._renderer.offset.x),-I(o._renderer.offset.y)),i.scale(d,p),l=t._size/o._renderer.scale.y,u=t._leading/o._renderer.scale.y,i.font=[t._style,t._weight,I(l)+"px/",I(u)+"px",t._family].join(" "),h=o._renderer.offset.x/o._renderer.scale.x,c=o._renderer.offset.y/o._renderer.scale.y,i.fillText(t.value,I(h),I(c)),i.restore()):i.fillText(t.value,0,0)),U.isHidden.test(r)||(r._renderer&&r._renderer.offset?(d=I(r._renderer.scale.x),p=I(r._renderer.scale.y),i.save(),i.translate(-I(r._renderer.offset.x),-I(r._renderer.offset.y)),i.scale(d,p),l=t._size/r._renderer.scale.y,u=t._leading/r._renderer.scale.y,i.font=[t._style,t._weight,I(l)+"px/",I(u)+"px",t._family].join(" "),h=r._renderer.offset.x/r._renderer.scale.x,c=r._renderer.offset.y/r._renderer.scale.y,f=s/r._renderer.scale.x,i.lineWidth=I(f),i.strokeText(t.value,I(h),I(c)),i.restore()):i.strokeText(t.value,0,0)),i.restore()},getBoundingClientRect:function(t,e){var i=U.ctx;i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),i.textAlign="center",i.textBaseline=t._baseline;var n=i.measureText(t._value).width,r=Math.max(t._size||t._leading);this._linewidth&&!U.isHidden.test(this._stroke)&&(r+=this._linewidth);var s=n/2,o=r/2;switch(U.alignments[t._alignment]||t._alignment){case U.alignments.left:e.left=0,e.right=n;break;case U.alignments.right:e.left=-n,e.right=0;break;default:e.left=-s,e.right=s}switch(t._baseline){case"bottom":e.top=-r,e.bottom=0;break;case"top":e.top=0,e.bottom=r;break;default:e.top=-o,e.bottom=o}e.width=n,e.height=r,e.centroid||(e.centroid={}),e.centroid.x=s,e.centroid.y=o},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();var n=this.parent,r=n._matrix.manual||n._flagMatrix,s=this._matrix.manual||this._flagMatrix,o=this._flagVertices||this._flagFill||this._fill instanceof j.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof j.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof j.Texture&&this._fill._flagLoaded&&this._fill.loaded||this._stroke instanceof j.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof j.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._texture instanceof j.Texture&&this._texture._flagLoaded&&this._texture.loaded||this._flagStroke||this._flagLinewidth||this._flagOpacity||n._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||!this._renderer.texture;return(r||s)&&(this._renderer.matrix||(this._renderer.matrix=new j.Array(9)),this._matrix.toArray(!0,l),a(l,n._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*n._renderer.scale),o&&(this._renderer.rect||(this._renderer.rect={}),this._renderer.triangles||(this._renderer.triangles=new j.Array(12)),this._renderer.opacity=this._opacity*n._renderer.opacity,U.text.getBoundingClientRect(this,this._renderer.rect),U.getTriangles(this._renderer.rect,this._renderer.triangles),U.updateBuffer.call(U,t,this,e),U.updateTexture.call(U,t,this)),!this._clip||i?(t.bindBuffer(t.ARRAY_BUFFER,this._renderer.textureCoordsBuffer),t.vertexAttribPointer(e.textureCoords,2,t.FLOAT,!1,0,0),t.bindTexture(t.TEXTURE_2D,this._renderer.texture),t.uniformMatrix3fv(e.matrix,!1,this._renderer.matrix),t.bindBuffer(t.ARRAY_BUFFER,this._renderer.buffer),t.vertexAttribPointer(e.position,2,t.FLOAT,!1,0,0),t.drawArrays(t.TRIANGLES,0,6),this.flagReset()):void 0}},"linear-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var i=0;i<this.stops.length;i++){var n=this.stops[i];this._renderer.effect.addColorStop(n._offset,n._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var i=0;i<this.stops.length;i++){var n=this.stops[i];this._renderer.effect.addColorStop(n._offset,n._color)}}return this.flagReset()}}},texture:{render:function(t,e){if(t.canvas.getContext("2d")){this._update();var i=this.image;return(!this._renderer.effect||this._flagLoaded&&this.loaded)&&(this._renderer.effect=t.createPattern(this.image,"repeat")),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof j.Vector||(this._renderer.offset=new j.Vector),this._renderer.offset.x=this._offset.x,this._renderer.offset.y=this._offset.y,i&&(this._renderer.offset.x-=i.width/2,this._renderer.offset.y-=i.height/2,this._scale instanceof j.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof j.Vector||(this._renderer.scale=new j.Vector),this._scale instanceof j.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},getTriangles:function(t,e){var i=t.top,n=t.left,r=t.right,s=t.bottom;e[0]=n,e[1]=i,e[2]=r,e[3]=i,e[4]=n,e[5]=s,e[6]=n,e[7]=s,e[8]=r,e[9]=i,e[10]=r,e[11]=s},updateTexture:function(t,e){this[e._renderer.type].updateCanvas.call(U,e),e._renderer.texture&&t.deleteTexture(e._renderer.texture),t.bindBuffer(t.ARRAY_BUFFER,e._renderer.textureCoordsBuffer),e._renderer.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.canvas.width<=0||this.canvas.height<=0||t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},updateBuffer:function(t,e,i){D.isObject(e._renderer.buffer)&&t.deleteBuffer(e._renderer.buffer),e._renderer.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._renderer.buffer),t.enableVertexAttribArray(i.position),t.bufferData(t.ARRAY_BUFFER,e._renderer.triangles,t.STATIC_DRAW),D.isObject(e._renderer.textureCoordsBuffer)&&t.deleteBuffer(e._renderer.textureCoordsBuffer),e._renderer.textureCoordsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._renderer.textureCoordsBuffer),t.enableVertexAttribArray(i.textureCoords),t.bufferData(t.ARRAY_BUFFER,this.uv,t.STATIC_DRAW)},program:{create:function(e,t){var i,n;if(i=e.createProgram(),D.each(t,function(t){e.attachShader(i,t)}),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw n=e.getProgramInfoLog(i),e.deleteProgram(i),new j.Utils.Error("unable to link program: "+n);return i}},shaders:{create:function(t,e,i){var n,r;if(n=t.createShader(t[i]),t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw r=t.getShaderInfoLog(n),t.deleteShader(n),new j.Utils.Error("unable to compile shader "+n+": "+r);return n},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},vertex:["attribute vec2 a_position;","attribute vec2 a_textureCoords;","","uniform mat3 u_matrix;","uniform vec2 u_resolution;","","varying vec2 v_textureCoords;","","void main() {","   vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;","   vec2 normal = projected / u_resolution;","   vec2 clipspace = (normal * 2.0) - 1.0;","","   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);","   v_textureCoords = a_textureCoords;","}"].join("\n"),fragment:["precision mediump float;","","uniform sampler2D u_image;","varying vec2 v_textureCoords;","","void main() {","  gl_FragColor = texture2D(u_image, v_textureCoords);","}"].join("\n")},TextureRegistry:new j.Registry};U.ctx=U.canvas.getContext("2d");var t=j[j.Types.webgl]=function(t){var e,i,n,r;if(this.domElement=t.domElement||document.createElement("canvas"),this.scene=new j.Group,(this.scene.parent=this)._renderer={matrix:new j.Array(s),scale:1,opacity:1},this._flagMatrix=!0,e=D.defaults(t||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,i=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new j.Utils.Error("unable to create a webgl context. Try using another renderer.");n=U.shaders.create(i,U.shaders.vertex,U.shaders.types.vertex),r=U.shaders.create(i,U.shaders.fragment,U.shaders.types.fragment),this.program=U.program.create(i,[n,r]),i.useProgram(this.program),this.program.position=i.getAttribLocation(this.program,"a_position"),this.program.matrix=i.getUniformLocation(this.program,"u_matrix"),this.program.textureCoords=i.getAttribLocation(this.program,"a_textureCoords"),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA)};D.extend(t,{Utils:U}),D.extend(t.prototype,j.Utils.Events,{setSize:function(t,e,i){this.width=t,this.height=e,this.ratio=D.isUndefined(i)?r(this.ctx):i,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,D.extend(this.domElement.style,{width:t+"px",height:e+"px"}),t*=this.ratio,e*=this.ratio,this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,this.ctx.viewport(0,0,t,e);var n=this.ctx.getUniformLocation(this.program,"u_resolution");return this.ctx.uniform2f(n,t,e),this},render:function(){var t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),U.group.render.call(this.scene,t,this.program),this._flagMatrix=!1,this}})}((void 0!==t?t:this).Two),pt=(void 0!==t?t:this).Two,_t=pt.Utils,vt=pt.Shape=function(){this._renderer={},this._renderer.flagMatrix=_t.bind(vt.FlagMatrix,this),this.isShape=!0,this.id=pt.Identifier+pt.uniqueId(),this.classList=[],this._matrix=new pt.Matrix,this.translation=new pt.Vector,this.rotation=0,this.scale=1},_t.extend(vt,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(t){Object.defineProperty(t,"translation",{enumerable:!0,get:function(){return this._translation},set:function(t){this._translation&&this._translation.unbind(pt.Events.change,this._renderer.flagMatrix),this._translation=t,this._translation.bind(pt.Events.change,this._renderer.flagMatrix),vt.FlagMatrix.call(this)}}),Object.defineProperty(t,"rotation",{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}}),Object.defineProperty(t,"scale",{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof pt.Vector&&this._scale.unbind(pt.Events.change,this._renderer.flagMatrix),this._scale=t,this._scale instanceof pt.Vector&&this._scale.bind(pt.Events.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}})}}),_t.extend(vt.prototype,pt.Utils.Events,{_flagMatrix:!0,_flagScale:!1,_rotation:0,_scale:1,_translation:null,addTo:function(t){return t.add(this),this},clone:function(){var e=new vt;return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,_t.each(vt.Properties,function(t){e[t]=this[t]},this),e._update()},_update:function(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.translation.x,this.translation.y),this._scale instanceof pt.Vector?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation)),t&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagMatrix=this._flagScale=!1,this}}),vt.MakeObservable(vt.prototype),function(w){function a(t,e,i){var n,r,s,o,a,l,u,h,c=e.controls&&e.controls.right,f=t.controls&&t.controls.left;return n=e.x,a=e.y,r=(c||e).x,l=(c||e).y,s=(f||t).x,u=(f||t).y,o=t.x,h=t.y,c&&e._relative&&(r+=e.x,l+=e.y),f&&t._relative&&(s+=t.x,u+=t.y),w.Utils.getCurveLength(n,a,r,l,s,u,o,h,i)}function l(t,e,i){var n,r,s,o,a,l,u,h,c=e.controls&&e.controls.right,f=t.controls&&t.controls.left;return n=e.x,a=e.y,r=(c||e).x,l=(c||e).y,s=(f||t).x,u=(f||t).y,o=t.x,h=t.y,c&&e._relative&&(r+=e.x,l+=e.y),f&&t._relative&&(s+=t.x,u+=t.y),w.Utils.subdivide(n,a,r,l,s,u,o,h,i)}var f=Math.min,d=Math.max,s=Math.round,p=w.Utils.getComputedMatrix,i={},S=w.Utils;S.each(w.Commands,function(t,e){i[e]=new RegExp(t)});var r=w.Path=function(t,e,i,n){w.Shape.call(this),this._renderer.type="path",this._renderer.flagVertices=S.bind(r.FlagVertices,this),this._renderer.bindVertices=S.bind(r.BindVertices,this),this._renderer.unbindVertices=S.bind(r.UnbindVertices,this),this._renderer.flagFill=S.bind(r.FlagFill,this),this._renderer.flagStroke=S.bind(r.FlagStroke,this),this._closed=!!e,this._curved=!!i,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this._vertices=[],this.vertices=t,this.automatic=!n};S.extend(r,{Properties:["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"],FlagVertices:function(){this._flagVertices=!0,this._flagLength=!0},BindVertices:function(t){for(var e=t.length;e--;)t[e].bind(w.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},UnbindVertices:function(t){for(var e=t.length;e--;)t[e].unbind(w.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(t){w.Shape.MakeObservable(t),S.each(r.Properties.slice(2,8),w.Utils.defineProperty,t),Object.defineProperty(t,"fill",{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof w.Gradient||this._fill instanceof w.LinearGradient||this._fill instanceof w.RadialGradient||this._fill instanceof w.Texture)&&this._fill.unbind(w.Events.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof w.Gradient||this._fill instanceof w.LinearGradient||this._fill instanceof w.RadialGradient||this._fill instanceof w.Texture)&&this._fill.bind(w.Events.change,this._renderer.flagFill)}}),Object.defineProperty(t,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof w.Gradient||this._stroke instanceof w.LinearGradient||this._stroke instanceof w.RadialGradient||this._stroke instanceof w.Texture)&&this._stroke.unbind(w.Events.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof w.Gradient||this._stroke instanceof w.LinearGradient||this._stroke instanceof w.RadialGradient||this._stroke instanceof w.Texture)&&this._stroke.bind(w.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(t,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(t,"closed",{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}}),Object.defineProperty(t,"curved",{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}}),Object.defineProperty(t,"automatic",{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t!==this._automatic){this._automatic=!!t;var e=this._automatic?"ignore":"listen";S.each(this.vertices,function(t){t[e]()})}}}),Object.defineProperty(t,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}}),Object.defineProperty(t,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}}),Object.defineProperty(t,"vertices",{enumerable:!0,get:function(){return this._collection},set:function(t){var e=(this._renderer.flagVertices,this._renderer.bindVertices),i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(w.Events.insert,e).unbind(w.Events.remove,i),this._collection=new w.Utils.Collection((t||[]).slice(0)),this._collection.bind(w.Events.insert,e).bind(w.Events.remove,i),e(this._collection)}}),Object.defineProperty(t,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}})}}),S.extend(r.prototype,w.Shape.prototype,{_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagClip:!1,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_clip:!1,clone:function(t){t=t||this.parent;var e=S.map(this.vertices,function(t){return t.clone()}),i=new r(e,this.closed,this.curved,!this.automatic);return S.each(w.Path.Properties,function(t){i[t]=this[t]},this),i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,t&&t.add(i),i},toObject:function(){var e={vertices:S.map(this.vertices,function(t){return t.toObject()})};return S.each(w.Shape.Properties,function(t){e[t]=this[t]},this),e.translation=this.translation.toObject,e.rotation=this.rotation,e.scale=this.scale,e},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke="transparent",this},corner:function(){var e=this.getBoundingClientRect(!0);return e.centroid={x:e.left+e.width/2,y:e.top+e.height/2},S.each(this.vertices,function(t){t.addSelf(e.centroid)}),this},center:function(){var e=this.getBoundingClientRect(!0);return e.centroid={x:e.left+e.width/2,y:e.top+e.height/2},S.each(this.vertices,function(t){t.subSelf(e.centroid)}),this},remove:function(){return this.parent&&this.parent.remove(this),this},getBoundingClientRect:function(t){var e,i,n,r,s,o,a,l=1/0,u=-1/0,h=1/0,c=-1/0;if(this._update(!0),e=t?this._matrix:p(this),i=this.linewidth/2,(n=this._vertices.length)<=0)return{top:(a=e.multiply(0,0,1)).y,left:a.x,right:a.x,bottom:a.y,width:0,height:0};for(o=0;o<n;o++)r=(a=this._vertices[o]).x,s=a.y,a=e.multiply(r,s,1),h=f(a.y-i,h),l=f(a.x-i,l),u=d(a.x+i,u),c=d(a.y+i,c);return{top:h,left:l,right:u,bottom:c,width:u-l,height:c-h}},getPointAt:function(t,e){for(var i,n,r,s,o,a,l,u,h,c,f,d,p=this.length*Math.min(Math.max(t,0),1),_=this.vertices.length,v=_-1,m=null,g=null,y=0,b=this._lengths.length,x=0;y<b;y++){if(x+this._lengths[y]>p){m=this.vertices[this.closed?w.Utils.mod(y,_):y],g=this.vertices[Math.min(Math.max(y-1,0),v)],t=(p-=x)/this._lengths[y];break}x+=this._lengths[y]}return S.isNull(m)||S.isNull(g)?null:(d=g.controls&&g.controls.right,f=m.controls&&m.controls.left,n=g.x,l=g.y,r=(d||g).x,u=(d||g).y,s=(f||m).x,h=(f||m).y,o=m.x,c=m.y,d&&g._relative&&(r+=g.x,u+=g.y),f&&m._relative&&(s+=m.x,h+=m.y),i=w.Utils.getPointOnCubicBezier(t,n,r,s,o),a=w.Utils.getPointOnCubicBezier(t,l,u,h,c),S.isObject(e)?(e.x=i,e.y=a,e):new w.Vector(i,a))},plot:function(){if(this.curved)return w.Utils.getCurveFromPoints(this._vertices,this.closed),this;for(var t=0;t<this._vertices.length;t++)this._vertices[t]._command=0===t?w.Commands.move:w.Commands.line;return this},subdivide:function(n){this._update();var r=this.vertices.length-1,s=this.vertices[r],o=this._closed||this.vertices[r]._command===w.Commands.close,a=[];return S.each(this.vertices,function(t,e){if(e<=0&&!o)s=t;else{if(t.command===w.Commands.move)return a.push(new w.Anchor(s.x,s.y)),0<e&&(a[a.length-1].command=w.Commands.line),void(s=t);var i=l(t,s,n);a=a.concat(i),S.each(i,function(t,e){e<=0&&s.command===w.Commands.move?t.command=w.Commands.move:t.command=w.Commands.line}),r<=e&&(this._closed&&this._automatic?(i=l(s=t,s,n),a=a.concat(i),S.each(i,function(t,e){e<=0&&s.command===w.Commands.move?t.command=w.Commands.move:t.command=w.Commands.line})):o&&a.push(new w.Anchor(t.x,t.y)),a[a.length-1].command=o?w.Commands.close:w.Commands.line),s=t}},this),this._automatic=!1,this._curved=!1,this.vertices=a,this},_updateLength:function(i){this._update();var n=this.vertices.length-1,r=this.vertices[n],s=this._closed||this.vertices[n]._command===w.Commands.close,o=0;return S.isUndefined(this._lengths)&&(this._lengths=[]),S.each(this.vertices,function(t,e){return e<=0&&!s||t.command===w.Commands.move?(r=t,void(this._lengths[e]=0)):(this._lengths[e]=a(t,r,i),o+=this._lengths[e],n<=e&&s&&(r=t,this._lengths[e+1]=a(t,r,i),o+=this._lengths[e+1]),void(r=t))},this),this._length=o,this},_update:function(){if(this._flagVertices){var t,e=this.vertices.length-1,i=s(this._beginning*e),n=s(this._ending*e);this._vertices.length=0;for(var r=i;r<n+1;r++)t=this.vertices[r],this._vertices.push(t);this._automatic&&this.plot()}return w.Shape.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,w.Shape.prototype.flagReset.call(this),this}}),r.MakeObservable(r.prototype)}((void 0!==t?t:this).Two),ht=(void 0!==t?t:this).Two,ct=ht.Path,ft=ht.Utils,dt=ht.Line=function(t,e,i,n){var r=(i-t)/2,s=(n-e)/2;ct.call(this,[new ht.Anchor(-r,-s),new ht.Anchor(r,s)]),this.translation.set(t+r,e+s)},ft.extend(dt.prototype,ct.prototype),ct.MakeObservable(dt.prototype),ot=(void 0!==t?t:this).Two,at=ot.Path,lt=ot.Utils,ut=ot.Rectangle=function(t,e,i,n){at.call(this,[new ot.Anchor,new ot.Anchor,new ot.Anchor,new ot.Anchor],!0),this.width=i,this.height=n,this._update(),this.translation.set(t,e)},lt.extend(ut,{Properties:["width","height"],MakeObservable:function(t){at.MakeObservable(t),lt.each(ut.Properties,ot.Utils.defineProperty,t)}}),lt.extend(ut.prototype,at.prototype,{_width:0,_height:0,_flagWidth:0,_flagHeight:0,_update:function(){if(this._flagWidth||this._flagHeight){var t=this._width/2,e=this._height/2;this.vertices[0].set(-t,-e),this.vertices[1].set(t,-e),this.vertices[2].set(t,e),this.vertices[3].set(-t,e)}return at.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,at.prototype.flagReset.call(this),this}}),ut.MakeObservable(ut.prototype),$=(void 0!==t?t:this).Two,tt=$.Path,et=2*Math.PI,it=Math.cos,nt=Math.sin,rt=$.Utils,st=$.Ellipse=function(t,e,i,n){rt.isNumber(n)||(n=i);var r=$.Resolution,s=rt.map(rt.range(r),function(t){return new $.Anchor},this);tt.call(this,s,!0,!0),this.width=2*i,this.height=2*n,this._update(),this.translation.set(t,e)},rt.extend(st,{Properties:["width","height"],MakeObservable:function(t){tt.MakeObservable(t),rt.each(st.Properties,$.Utils.defineProperty,t)}}),rt.extend(st.prototype,tt.prototype,{_width:0,_height:0,_flagWidth:!1,_flagHeight:!1,_update:function(){if(this._flagWidth||this._flagHeight)for(var t=0,e=this.vertices.length;t<e;t++){var i=t/e*et,n=this._width*it(i)/2,r=this._height*nt(i)/2;this.vertices[t].set(n,r)}return tt.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,tt.prototype.flagReset.call(this),this}}),st.MakeObservable(st.prototype),q=(void 0!==t?t:this).Two,X=q.Path,Y=2*Math.PI,Z=Math.cos,Q=Math.sin,J=q.Utils,K=q.Circle=function(t,e,i){var n=q.Resolution,r=J.map(J.range(n),function(t){return new q.Anchor},this);X.call(this,r,!0,!0),this.radius=i,this._update(),this.translation.set(t,e)},J.extend(K,{Properties:["radius"],MakeObservable:function(t){X.MakeObservable(t),J.each(K.Properties,q.Utils.defineProperty,t)}}),J.extend(K.prototype,X.prototype,{_radius:0,_flagRadius:!1,_update:function(){if(this._flagRadius)for(var t=0,e=this.vertices.length;t<e;t++){var i=t/e*Y,n=this._radius*Z(i),r=this._radius*Q(i);this.vertices[t].set(n,r)}return X.prototype._update.call(this),this},flagReset:function(){return this._flagRadius=!1,X.prototype.flagReset.call(this),this}}),K.MakeObservable(K.prototype),D=(void 0!==t?t:this).Two,U=D.Path,G=2*Math.PI,V=Math.cos,B=Math.sin,H=D.Utils,W=D.Polygon=function(t,e,i,n){n=Math.max(n||0,3);var r=H.map(H.range(n),function(t){return new D.Anchor});U.call(this,r,!0),this.width=2*i,this.height=2*i,this.sides=n,this._update(),this.translation.set(t,e)},H.extend(W,{Properties:["width","height","sides"],MakeObservable:function(t){U.MakeObservable(t),H.each(W.Properties,D.Utils.defineProperty,t)}}),H.extend(W.prototype,U.prototype,{_width:0,_height:0,_sides:0,_flagWidth:!1,_flagHeight:!1,_flagSides:!1,_update:function(){if(this._flagWidth||this._flagHeight||this._flagSides){var t=this._sides,e=this.vertices.length;t<e&&this.vertices.splice(t-1,e-t);for(var i=0;i<t;i++){var n=G*((i+.5)/t)+Math.PI/2,r=this._width*V(n),s=this._height*B(n);e<=i?this.vertices.push(new D.Anchor(r,s)):this.vertices[i].set(r,s)}}return U.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagSides=!1,U.prototype.flagReset.call(this),this}}),W.MakeObservable(W.prototype),F=(void 0!==t?t:this).Two,L=F.Path,Math.PI,z=2*Math.PI,j=Math.PI/2,Math.cos,Math.sin,Math.abs,N=F.Utils,I=F.ArcSegment=function(t,e,i,n,r,s,o){var a=N.map(N.range(o||3*F.Resolution),function(){return new F.Anchor});L.call(this,a,!1,!1,!0),this.innerRadius=i,this.outerRadius=n,this.startAngle=r,this.endAngle=s,this._update(),this.translation.set(t,e)},N.extend(I,{Properties:["startAngle","endAngle","innerRadius","outerRadius"],MakeObservable:function(t){L.MakeObservable(t),N.each(I.Properties,F.Utils.defineProperty,t)}}),N.extend(I.prototype,L.prototype,{_flagStartAngle:!1,_flagEndAngle:!1,_flagInnerRadius:!1,_flagOuterRadius:!1,_startAngle:0,_endAngle:z,_innerRadius:0,_outerRadius:0,_update:function(){if(this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var t,e=this._startAngle,i=this._endAngle,n=this._innerRadius,r=this._outerRadius,s=Dt(e,z)===Dt(i,z),o=0<n,a=this.vertices,l=o?a.length/2:a.length,u=0;s?l--:o||(l-=2);for(var h=0,c=l-1;h<l;h++){var f=h/c,d=a[u],p=f*(i-e)+e,_=(i-e)/l,v=r*Math.cos(p),m=r*Math.sin(p);switch(h){case 0:t=F.Commands.move;break;default:t=F.Commands.curve}if(d.command=t,d.x=v,d.y=m,d.controls.left.clear(),d.controls.right.clear(),d.command===F.Commands.curve){var g=r*_/Math.PI;d.controls.left.x=g*Math.cos(p-j),d.controls.left.y=g*Math.sin(p-j),d.controls.right.x=g*Math.cos(p+j),d.controls.right.y=g*Math.sin(p+j),1===h&&d.controls.left.multiplyScalar(2),h===c&&d.controls.right.multiplyScalar(2)}u++}if(o)for(s?(a[u].command=F.Commands.close,u++):c=--l-1,h=0;h<l;h++)f=h/c,d=a[u],p=(1-f)*(i-e)+e,_=(i-e)/l,v=n*Math.cos(p),m=n*Math.sin(p),t=F.Commands.curve,h<=0&&(t=s?F.Commands.move:F.Commands.line),d.command=t,d.x=v,d.y=m,d.controls.left.clear(),d.controls.right.clear(),d.command===F.Commands.curve&&(g=n*_/Math.PI,d.controls.left.x=g*Math.cos(p+j),d.controls.left.y=g*Math.sin(p+j),d.controls.right.x=g*Math.cos(p-j),d.controls.right.y=g*Math.sin(p-j),1===h&&d.controls.left.multiplyScalar(2),h===c&&d.controls.right.multiplyScalar(2)),u++;else s||(a[u].command=F.Commands.line,a[u].x=0,a[u].y=0,u++);a[u].command=F.Commands.close}return L.prototype._update.call(this),this},flagReset:function(){return L.prototype.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}}),I.MakeObservable(I.prototype),O=(void 0!==t?t:this).Two,C=O.Path,P=2*Math.PI,E=Math.cos,T=Math.sin,A=O.Utils,R=O.Star=function(t,e,i,n,r){A.isNumber(n)||(n=i/2),(!A.isNumber(r)||r<=0)&&(r=5);var s=2*r,o=A.map(A.range(s),function(t){return new O.Anchor});C.call(this,o,!0),this.innerRadius=n,this.outerRadius=i,this.sides=r,this._update(),this.translation.set(t,e)},A.extend(R,{Properties:["innerRadius","outerRadius","sides"],MakeObservable:function(t){C.MakeObservable(t),A.each(R.Properties,O.Utils.defineProperty,t)}}),A.extend(R.prototype,C.prototype,{_innerRadius:0,_outerRadius:0,_sides:0,_flagInnerRadius:!1,_flagOuterRadius:!1,_flagSides:!1,_update:function(){if(this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var t=2*this._sides,e=this.vertices.length;t<e&&this.vertices.splice(t-1,e-t);for(var i=0;i<t;i++){var n=P*((i+.5)/t),r=i%2?this._innerRadius:this._outerRadius,s=r*E(n),o=r*T(n);e<=i?this.vertices.push(new O.Anchor(s,o)):this.vertices[i].set(s,o)}}return C.prototype._update.call(this),this},flagReset:function(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,C.prototype.flagReset.call(this),this}}),R.MakeObservable(R.prototype),S=(void 0!==t?t:this).Two,k=S.Path,M=S.Utils,e=S.RoundedRectangle=function(t,e,i,n,r){M.isNumber(r)||(r=Math.floor(Math.min(i,n)/12));var s=M.map(M.range(10),function(t){return new S.Anchor(0,0,0,0,0,0,0===t?S.Commands.move:S.Commands.curve)});s[s.length-1].command=S.Commands.close,k.call(this,s,!1,!1,!0),this.width=i,this.height=n,this.radius=r,this._update(),this.translation.set(t,e)},M.extend(e,{Properties:["width","height","radius"],MakeObservable:function(t){k.MakeObservable(t),M.each(e.Properties,S.Utils.defineProperty,t)}}),M.extend(e.prototype,k.prototype,{_width:0,_height:0,_radius:0,_flagWidth:!1,_flagHeight:!1,_flagRadius:!1,_update:function(){if(this._flagWidth||this._flagHeight||this._flagRadius){var t,e=this._width,i=this._height,n=Math.min(Math.max(this._radius,0),Math.min(e,i)),r=e/2,s=i/2;(t=this.vertices[0]).x=-(r-n),t.y=-s,(t=this.vertices[1]).x=r-n,t.y=-s,t.controls.left.clear(),t.controls.right.x=n,t.controls.right.y=0,(t=this.vertices[2]).x=r,t.y=-(s-n),t.controls.right.clear(),t.controls.left.clear(),(t=this.vertices[3]).x=r,t.y=s-n,t.controls.left.clear(),t.controls.right.x=0,t.controls.right.y=n,(t=this.vertices[4]).x=r-n,t.y=s,t.controls.right.clear(),t.controls.left.clear(),(t=this.vertices[5]).x=-(r-n),t.y=s,t.controls.left.clear(),t.controls.right.x=-n,t.controls.right.y=0,(t=this.vertices[6]).x=-r,t.y=s-n,t.controls.left.clear(),t.controls.right.clear(),(t=this.vertices[7]).x=-r,t.y=-(s-n),t.controls.left.clear(),t.controls.right.x=0,t.controls.right.y=-n,(t=this.vertices[8]).x=-(r-n),t.y=-s,t.controls.left.clear(),t.controls.right.clear(),(t=this.vertices[9]).copy(this.vertices[8])}return k.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,k.prototype.flagReset.call(this),this}}),e.MakeObservable(e.prototype),function(r){var i=r.Utils.getComputedMatrix,s=r.Utils,o=((this.document?this.document.createElement("canvas"):{getContext:s.identity}).getContext("2d"),r.Text=function(t,e,i,n){return r.Shape.call(this),this._renderer.type="text",this._renderer.flagFill=s.bind(o.FlagFill,this),this._renderer.flagStroke=s.bind(o.FlagStroke,this),this.value=t,s.isNumber(e)&&(this.translation.x=e),s.isNumber(i)&&(this.translation.y=i),s.isObject(n)?void s.each(r.Text.Properties,function(t){t in n&&(this[t]=n[t])},this):this});s.extend(r.Text,{Properties:["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","fill","stroke"],FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(t){r.Shape.MakeObservable(t),s.each(r.Text.Properties.slice(0,12),r.Utils.defineProperty,t),Object.defineProperty(t,"fill",{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof r.Gradient||this._fill instanceof r.LinearGradient||this._fill instanceof r.RadialGradient||this._fill instanceof r.Texture)&&this._fill.unbind(r.Events.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof r.Gradient||this._fill instanceof r.LinearGradient||this._fill instanceof r.RadialGradient||this._fill instanceof r.Texture)&&this._fill.bind(r.Events.change,this._renderer.flagFill)}}),Object.defineProperty(t,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof r.Gradient||this._stroke instanceof r.LinearGradient||this._stroke instanceof r.RadialGradient||this._stroke instanceof r.Texture)&&this._stroke.unbind(r.Events.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof r.Gradient||this._stroke instanceof r.LinearGradient||this._stroke instanceof r.RadialGradient||this._stroke instanceof r.Texture)&&this._stroke.bind(r.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(t,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}})}}),s.extend(r.Text.prototype,r.Shape.prototype,{_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagClip:!1,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_visible:!0,_clip:!1,remove:function(){return this.parent&&this.parent.remove(this),this},clone:function(t){t=t||this.parent;var e=new r.Text(this.value);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,s.each(r.Text.Properties,function(t){e[t]=this[t]},this),t&&t.add(e),e},toObject:function(){var e={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return s.each(r.Text.Properties,function(t){e[t]=this[t]},this),e},noStroke:function(){return this.stroke="transparent",this},noFill:function(){return this.fill="transparent",this},getBoundingClientRect:function(t){var e;return this._update(!0),{top:(e=(t?this._matrix:i(this)).multiply(0,0,1)).x,left:e.y,right:e.x,bottom:e.y,width:0,height:0}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpaicty=this._flagVisible=this._flagClip=this._flagDecoration=this._flagBaseline=!1,r.Shape.prototype.flagReset.call(this),this}}),r.Text.MakeObservable(r.Text.prototype)}((void 0!==t?t:this).Two),function(n){var r=n.Utils,s=n.Stop=function(t,e,i){this._renderer={},this._renderer.type="stop",this.offset=r.isNumber(t)?t:s.Index<=0?0:1,this.opacity=r.isNumber(i)?i:1,this.color=r.isString(e)?e:s.Index<=0?"#fff":"#000",s.Index=(s.Index+1)%2};r.extend(s,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(t){r.each(s.Properties,function(t){var e="_"+t,i="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[i]=!0,this.parent&&(this.parent._flagStops=!0)}})},t)}}),r.extend(s.prototype,n.Utils.Events,{clone:function(){var e=new s;return r.each(s.Properties,function(t){e[t]=this[t]},this),e},toObject:function(){var e={};return r.each(s.Properties,function(t){e[t]=this[t]},this),e},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),s.MakeObservable(s.prototype);var o=n.Gradient=function(t){this._renderer={},this._renderer.type="gradient",this.id=n.Identifier+n.uniqueId(),this.classList=[],this._renderer.flagStops=r.bind(o.FlagStops,this),this._renderer.bindStops=r.bind(o.BindStops,this),this._renderer.unbindStops=r.bind(o.UnbindStops,this),this.spread="pad",this.stops=t};r.extend(o,{Stop:s,Properties:["spread"],MakeObservable:function(t){r.each(o.Properties,n.Utils.defineProperty,t),Object.defineProperty(t,"stops",{enumerable:!0,get:function(){return this._stops},set:function(t){var e=(this._renderer.flagStops,this._renderer.bindStops),i=this._renderer.unbindStops;this._stops&&this._stops.unbind(n.Events.insert,e).unbind(n.Events.remove,i),this._stops=new n.Utils.Collection((t||[]).slice(0)),this._stops.bind(n.Events.insert,e).bind(n.Events.remove,i),e(this._stops)}})},FlagStops:function(){this._flagStops=!0},BindStops:function(t){for(var e=t.length;e--;)t[e].bind(n.Events.change,this._renderer.flagStops),t[e].parent=this;this._renderer.flagStops()},UnbindStops:function(t){for(var e=t.length;e--;)t[e].unbind(n.Events.change,this._renderer.flagStops),delete t[e].parent;this._renderer.flagStops()}}),r.extend(o.prototype,n.Utils.Events,{_flagStops:!1,_flagSpread:!1,clone:function(t){t=t||this.parent;var e=r.map(this.stops,function(t){return t.clone()}),i=new o(e);return r.each(n.Gradient.Properties,function(t){i[t]=this[t]},this),t&&t.add(i),i},toObject:function(){var e={stops:r.map(this.stops,function(t){return t.toObject()})};return r.each(o.Properties,function(t){e[t]=this[t]},this),e},_update:function(){return(this._flagSpread||this._flagStops)&&this.trigger(n.Events.change),this},flagReset:function(){return this._flagSpread=this._flagStops=!1,this}}),o.MakeObservable(o.prototype)}((void 0!==t?t:this).Two),y=(void 0!==t?t:this).Two,x=y.Utils,w=y.LinearGradient=function(t,e,i,n,r){y.Gradient.call(this,r),this._renderer.type="linear-gradient";var s=x.bind(w.FlagEndPoints,this);this.left=(new y.Vector).bind(y.Events.change,s),this.right=(new y.Vector).bind(y.Events.change,s),x.isNumber(t)&&(this.left.x=t),x.isNumber(e)&&(this.left.y=e),x.isNumber(i)&&(this.right.x=i),x.isNumber(n)&&(this.right.y=n)},x.extend(w,{Stop:y.Gradient.Stop,MakeObservable:function(t){y.Gradient.MakeObservable(t)},FlagEndPoints:function(){this._flagEndPoints=!0}}),x.extend(w.prototype,y.Gradient.prototype,{_flagEndPoints:!1,clone:function(t){t=t||this.parent;var e=x.map(this.stops,function(t){return t.clone()}),i=new w(this.left._x,this.left._y,this.right._x,this.right._y,e);return x.each(y.Gradient.Properties,function(t){i[t]=this[t]},this),t&&t.add(i),i},toObject:function(){var t=y.Gradient.prototype.toObject.call(this);return t.left=this.left.toObject(),t.right=this.right.toObject(),t},_update:function(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(y.Events.change),this},flagReset:function(){return this._flagEndPoints=!1,y.Gradient.prototype.flagReset.call(this),this}}),w.MakeObservable(w.prototype),v=(void 0!==t?t:this).Two,m=v.Utils,g=v.RadialGradient=function(t,e,i,n,r,s){v.Gradient.call(this,n),this._renderer.type="radial-gradient",this.center=(new v.Vector).bind(v.Events.change,m.bind(function(){this._flagCenter=!0},this)),this.radius=m.isNumber(i)?i:20,this.focal=(new v.Vector).bind(v.Events.change,m.bind(function(){this._flagFocal=!0},this)),m.isNumber(t)&&(this.center.x=t),m.isNumber(e)&&(this.center.y=e),this.focal.copy(this.center),m.isNumber(r)&&(this.focal.x=r),m.isNumber(s)&&(this.focal.y=s)},m.extend(g,{Stop:v.Gradient.Stop,Properties:["radius"],MakeObservable:function(t){v.Gradient.MakeObservable(t),m.each(g.Properties,v.Utils.defineProperty,t)}}),m.extend(g.prototype,v.Gradient.prototype,{_flagRadius:!1,_flagCenter:!1,_flagFocal:!1,clone:function(t){t=t||this.parent;var e=m.map(this.stops,function(t){return t.clone()}),i=new g(this.center._x,this.center._y,this._radius,e,this.focal._x,this.focal._y);return m.each(v.Gradient.Properties.concat(g.Properties),function(t){i[t]=this[t]},this),t&&t.add(i),i},toObject:function(){var e=v.Gradient.prototype.toObject.call(this);return m.each(g.Properties,function(t){e[t]=this[t]},this),e.center=this.center.toObject(),e.focal=this.focal.toObject(),e},_update:function(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(v.Events.change),this},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,v.Gradient.prototype.flagReset.call(this),this}}),g.MakeObservable(g.prototype),c=(void 0!==t?t:this).Two,f=c.Utils,n={video:/\.(mp4|webm)$/i,image:/\.(jpe?g|png|gif|tiff)$/i},_=c.Texture=function(t,e){if(this._renderer={},this._renderer.type="texture",this._renderer.flagOffset=f.bind(_.FlagOffset,this),this._renderer.flagScale=f.bind(_.FlagScale,this),this.id=c.Identifier+c.uniqueId(),this.classList=[],this.offset=new c.Vector,f.isFunction(e)){var i=f.bind(function(){this.unbind(c.Events.load,i),f.isFunction(e)&&e()},this);this.bind(c.Events.load,i)}f.isString(t)?this.src=t:f.isElement(t)&&(this.image=t),this._update()},f.extend(_,{Properties:["src","image","loaded"],ImageRegistry:new c.Registry,getImage:function(t){return _.ImageRegistry.contains(t)?_.ImageRegistry.get(t):((e=n.video.test(t)?document.createElement("video"):document.createElement("img")).crossOrigin="anonymous",e);var e},Register:{canvas:function(t,e){t._src="#"+t.id,_.ImageRegistry.add(t.src,t.image),f.isFunction(e)&&e()},img:function(e,i){var n=function(t){e.image.removeEventListener("load",n,!1),e.image.removeEventListener("error",r,!1),f.isFunction(i)&&i()},r=function(t){throw e.image.removeEventListener("load",n,!1),e.image.removeEventListener("error",r,!1),new c.Utils.Error("unable to load "+e.src)};e.image.addEventListener("load",n,!1),e.image.addEventListener("error",r,!1),e.image.setAttribute("two-src",e.src),_.ImageRegistry.add(e.src,e.image),e.image.src=e.src},video:function(e,i){var n=function(t){e.image.removeEventListener("load",n,!1),e.image.removeEventListener("error",r,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,e.image.play(),f.isFunction(i)&&i()},r=function(t){throw e.image.removeEventListener("load",n,!1),e.image.removeEventListener("error",r,!1),new c.Utils.Error("unable to load "+e.src)};e.image.addEventListener("canplaythrough",n,!1),e.image.addEventListener("error",r,!1),e.image.setAttribute("two-src",e.src),_.ImageRegistry.add(e.src,e.image),e.image.src=e.src,e.image.loop=!0,e.image.load()}},load:function(t,e){var i=(t.src,t.image),n=i&&i.nodeName.toLowerCase();t._flagImage&&(/canvas/i.test(n)?_.Register.canvas(t,e):(t._src=i.getAttribute("two-src")||i.src,_.Register[n](t,e))),t._flagSrc&&(i||(t.image=_.getImage(t.src)),n=t.image.nodeName.toLowerCase(),_.Register[n](t,e))},FlagOffset:function(){this._flagOffset=!0},FlagScale:function(){this._flagScale=!0},MakeObservable:function(t){f.each(_.Properties,c.Utils.defineProperty,t),Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset&&this._offset.unbind(c.Events.change,this._renderer.flagOffset),this._offset=t,this._offset.bind(c.Events.change,this._renderer.flagOffset),this._flagOffset=!0}}),Object.defineProperty(t,"scale",{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof c.Vector&&this._scale.unbind(c.Events.change,this._renderer.flagScale),this._scale=t,this._scale instanceof c.Vector&&this._scale.bind(c.Events.change,this._renderer.flagScale),this._flagScale=!0}})}}),f.extend(_.prototype,c.Utils.Events,c.Shape.prototype,{_flagSrc:!1,_flagImage:!1,_flagLoaded:!1,_flagOffset:!1,_flagScale:!1,_src:"",_image:null,_loaded:!1,_scale:1,_offset:null,clone:function(){return new _(this.src)},toObject:function(){return{src:this.src,image:this.image}},_update:function(){return(this._flagSrc||this._flagImage)&&(this.trigger(c.Events.change),this.loaded=!1,_.load(this,f.bind(function(){this.loaded=!0,this.trigger(c.Events.change).trigger(c.Events.load)},this))),4<=this.image.readyState&&(this._flagImage=!0),this},flagReset:function(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagScale=this._flagOffset=!1,this}}),_.MakeObservable(_.prototype),o=(void 0!==t?t:this).Two,d=o.Utils,a=o.Path,p=o.Rectangle,i=o.Sprite=function(t,e,i,n,r,s){a.call(this,[new o.Anchor,new o.Anchor,new o.Anchor,new o.Anchor],!0),this.noStroke(),this.noFill(),t instanceof o.Texture?this.texture=t:d.isString(t)&&(this.texture=new o.Texture(t)),this._update(),this.translation.set(e||0,i||0),d.isNumber(n)&&(this.columns=n),d.isNumber(r)&&(this.rows=r),d.isNumber(s)&&(this.frameRate=s)},d.extend(i,{Properties:["texture","columns","rows","frameRate"],MakeObservable:function(t){p.MakeObservable(t),d.each(i.Properties,o.Utils.defineProperty,t)}}),d.extend(i.prototype,p.prototype,{_flagTexture:!1,_flagColumns:!1,_flagRows:!1,_flagFrameRate:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_texture:null,_columns:1,_rows:1,_frameRate:0,play:function(t,e,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=d.performance.now(),d.isNumber(t)&&(this._firstFrame=t),d.isNumber(e)&&(this._lastFrame=e),d.isFunction(i)?this._onLastFrame=i:delete this._onLastFrame,this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(t){t=t||this.parent;var e=new i(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e},_update:function(){var t,e,i,n,r,s,o,a,l=this._texture,u=this._columns,h=this._rows;if((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=this._texture),this._texture.loaded){t=(o=l.image.width)/u,e=(a=l.image.height)/h,n=this._amount,this.width!==t&&(this.width=t),this.height!==e&&(this.height=e),this._playing&&0<this._frameRate&&(d.isNaN(this._lastFrame)&&(this._lastFrame=n-1),i=d.performance.now()-this._startTime,r=1e3*(this._lastFrame-this._firstFrame)/this._frameRate,this._loop?i%=r:i=Math.min(i,r),s=d.lerp(this._firstFrame,this._lastFrame,i/r),(s=Math.floor(s))!==this._index&&((this._index=s)>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));var c=(o-t)/2+t*(this._index%u+1),f=e*Math.floor(this._index/u)-(a-e)/2;c!==l.offset.x&&(l.offset.x=c),f!==l.offset.y&&(l.offset.y=f)}return p.prototype._update.call(this),this},flagReset:function(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,p.prototype.flagReset.call(this),this}}),i.MakeObservable(i.prototype),l=(void 0!==t?t:this).Two,u=l.Utils,r=l.Path,h=l.Rectangle,s=l.ImageSequence=function(t,e,i,n){r.call(this,[new l.Anchor,new l.Anchor,new l.Anchor,new l.Anchor],!0),this._renderer.flagTextures=u.bind(s.FlagTextures,this),this._renderer.bindTextures=u.bind(s.BindTextures,this),this._renderer.unbindTextures=u.bind(s.UnbindTextures,this),this.noStroke(),this.noFill(),this.textures=u.map(t,s.GenerateTexture,this),this._update(),this.translation.set(e||0,i||0),u.isNumber(n)?this.frameRate=n:this.frameRate=s.DefaultFrameRate},u.extend(s,{Properties:["frameRate"],DefaultFrameRate:30,FlagTextures:function(){this._flagTextures=!0},BindTextures:function(t){for(var e=t.length;e--;)t[e].bind(l.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},UnbindTextures:function(t){for(var e=t.length;e--;)t[e].unbind(l.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},MakeObservable:function(t){h.MakeObservable(t),u.each(s.Properties,l.Utils.defineProperty,t),Object.defineProperty(t,"textures",{enumerable:!0,get:function(){return this._textures},set:function(t){var e=(this._renderer.flagTextures,this._renderer.bindTextures),i=this._renderer.unbindTextures;this._textures&&this._textures.unbind(l.Events.insert,e).unbind(l.Events.remove,i),this._textures=new l.Utils.Collection((t||[]).slice(0)),this._textures.bind(l.Events.insert,e).bind(l.Events.remove,i),e(this._textures)}})},GenerateTexture:function(t){return t instanceof l.Texture?t:u.isString(t)?new l.Texture(t):void 0}}),u.extend(s.prototype,h.prototype,{_flagTextures:!1,_flagFrameRate:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_textures:null,_frameRate:0,play:function(t,e,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=u.performance.now(),u.isNumber(t)&&(this._firstFrame=t),u.isNumber(e)&&(this._lastFrame=e),u.isFunction(i)?this._onLastFrame=i:delete this._onLastFrame,this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(t){t=t||this.parent;var e=new s(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e},_update:function(){var t,e,i,n,r,s,o,a=this._textures;return this._flagTextures&&(this._amount=a.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&0<this._frameRate?(n=this._amount,u.isNaN(this._lastFrame)&&(this._lastFrame=n-1),i=u.performance.now()-this._startTime,r=1e3*(this._lastFrame-this._firstFrame)/this._frameRate,this._loop?i%=r:i=Math.min(i,r),o=u.lerp(this._firstFrame,this._lastFrame,i/r),(o=Math.floor(o))!==this._index&&(this._index=o,(s=a[this._index]).loaded&&(t=s.image.width,e=s.image.height,this.width!==t&&(this.width=t),this.height!==e&&(this.height=e),this.fill=s,o>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):this.fill instanceof l.Texture||(s=a[this._index]).loaded&&(t=s.image.width,e=s.image.height,this.width!==t&&(this.width=t),this.height!==e&&(this.height=e),this.fill=s),h.prototype._update.call(this),this},flagReset:function(){return this._flagTextures=this._flagFrameRate=!1,h.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype),function(s){function i(t,e){var i,n=t.parent;return n===e?(this.additions.push(t),void(this._flagAdditions=!0)):(n&&n.children.ids[t.id]&&(i=u.indexOf(n.children,t),n.children.splice(i,1),0<=(i=u.indexOf(n.additions,t))?n.additions.splice(i,1):(n.subtractions.push(t),n._flagSubtractions=!0)),e?(t.parent=e,this.additions.push(t),void(this._flagAdditions=!0)):(0<=(i=u.indexOf(this.additions,t))?this.additions.splice(i,1):(this.subtractions.push(t),this._flagSubtractions=!0),void delete t.parent))}var a=Math.min,l=Math.max,u=s.Utils,r=function(){s.Utils.Collection.apply(this,arguments),Object.defineProperty(this,"_events",{value:{},enumerable:!1}),this.ids={},this.on(s.Events.insert,this.attach),this.on(s.Events.remove,this.detach),r.prototype.attach.apply(this,arguments)};r.prototype=new s.Utils.Collection,r.prototype.constructor=r,u.extend(r.prototype,{attach:function(t){for(var e=0;e<t.length;e++)this.ids[t[e].id]=t[e];return this},detach:function(t){for(var e=0;e<t.length;e++)delete this.ids[t[e].id];return this}});var o=s.Group=function(){s.Shape.call(this,!0),this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=arguments};u.extend(o,{Children:r,InsertChildren:function(t){for(var e=0;e<t.length;e++)i.call(this,t[e],this)},RemoveChildren:function(t){for(var e=0;e<t.length;e++)i.call(this,t[e])},OrderChildren:function(t){this._flagOrder=!0},MakeObservable:function(t){var e=s.Path.Properties.slice(0),i=u.indexOf(e,"opacity");0<=i&&(e.splice(i,1),Object.defineProperty(t,"opacity",{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!=t,this._opacity=t}})),s.Shape.MakeObservable(t),o.MakeGetterSetters(t,e),Object.defineProperty(t,"children",{enumerable:!0,get:function(){return this._children},set:function(t){var e=u.bind(o.InsertChildren,this),i=u.bind(o.RemoveChildren,this),n=u.bind(o.OrderChildren,this);this._children&&this._children.unbind(),this._children=new r(t),this._children.bind(s.Events.insert,e),this._children.bind(s.Events.remove,i),this._children.bind(s.Events.order,n)}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,t.clip||(t.clip=!0)}})},MakeGetterSetters:function(e,t){u.isArray(t)||(t=[t]),u.each(t,function(t){o.MakeGetterSetter(e,t)})},MakeGetterSetter:function(t,i){var n="_"+i;Object.defineProperty(t,i,{enumerable:!0,get:function(){return this[n]},set:function(e){this[n]=e,u.each(this.children,function(t){t[i]=e})}})}}),u.extend(o.prototype,s.Shape.prototype,{_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagMask:!1,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_mask:null,clone:function(t){t=t||this.parent;var e=new o,i=u.map(this.children,function(t){return t.clone(e)});return e.add(i),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,t&&t.add(e),e},toObject:function(){var i={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale,opacity:this.opacity,mask:this.mask?this.mask.toObject():null};return u.each(this.children,function(t,e){i.children[e]=t.toObject()},this),i},corner:function(){var t=this.getBoundingClientRect(!0),e={x:t.left,y:t.top};return this.children.forEach(function(t){t.translation.subSelf(e)}),this},center:function(){var e=this.getBoundingClientRect(!0);return e.centroid={x:e.left+e.width/2,y:e.top+e.height/2},this.children.forEach(function(t){t.isShape&&t.translation.subSelf(e.centroid)}),this},getById:function(t){var r=function(t,e){if(t.id===e)return t;if(t.children)for(var i=t.children.length;i--;){var n=r(t.children[i],e);if(n)return n}};return r(this,t)||null},getByClassName:function(t){var i=[],n=function(t,e){return-1!=t.classList.indexOf(e)?i.push(t):t.children&&t.children.forEach(function(t){n(t,e)}),i};return n(this,t)},getByType:function(t){var n=[],r=function(t,e){for(var i in t.children)t.children[i]instanceof e?n.push(t.children[i]):t.children[i]instanceof s.Group&&r(t.children[i],e);return n};return r(this,t)},add:function(t){t=t instanceof Array?t.slice():u.toArray(arguments);for(var e=0;e<t.length;e++)t[e]&&t[e].id&&this.children.push(t[e]);return this},remove:function(t){var e=arguments.length,i=this.parent;if(e<=0&&i)return i.remove(this),this;t=t instanceof Array?t.slice():u.toArray(arguments);for(var n=0;n<t.length;n++)t[n]&&this.children.ids[t[n].id]&&this.children.splice(u.indexOf(this.children,t[n]),1);return this},getBoundingClientRect:function(e){var i;this._update(!0);var n=1/0,r=-1/0,s=1/0,o=-1/0;return this.children.forEach(function(t){/(linear-gradient|radial-gradient|gradient)/.test(t._renderer.type)||(i=t.getBoundingClientRect(e),u.isNumber(i.top)&&u.isNumber(i.left)&&u.isNumber(i.right)&&u.isNumber(i.bottom)&&(s=a(i.top,s),n=a(i.left,n),r=l(i.right,r),o=l(i.bottom,o)))},this),{top:s,left:n,right:r,bottom:o,width:r-n,height:o-s}},noFill:function(){return this.children.forEach(function(t){t.noFill()}),this},noStroke:function(){return this.children.forEach(function(t){t.noStroke()}),this},subdivide:function(){var e=arguments;return this.children.forEach(function(t){t.subdivide.apply(t,e)}),this},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=!1,s.Shape.prototype.flagReset.call(this),this}}),o.MakeObservable(o.prototype)}((void 0!==t?t:this).Two)}).call(Vt,function(){return this}())},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WebComponent=e.MotorHTMLScene=e.MotorHTMLPushPaneLayout=e.MotorHTMLNode=e.MotorHTMLBase=void 0;var r=n(i(239)),s=n(i(241)),o=n(i(246)),a=n(i(236)),l=n(i(240));e.MotorHTMLBase=r.default,e.MotorHTMLNode=s.default,e.MotorHTMLPushPaneLayout=o.default,e.MotorHTMLScene=a.default,e.WebComponent=l.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=n(i(3)),o=n(i(29)),a=n(i(30)),l=n(i(34)),u=n(i(116)),h=n(i(81)),c=n(i(241)),f=n(i(247)),d=(r=c.default,(0,h.default)(p,r),(0,a.default)(p,[{key:"createdCallback",value:function(){console.log(" -- MotorHTMLPushPaneLayout created"),(0,u.default)(p.prototype.__proto__||(0,s.default)(p.prototype),"createdCallback",this).call(this)}},{key:"_makeImperativeCounterpart",value:function(){return new f.default({},this)}}]),p);function p(){return(0,o.default)(this,p),(0,l.default)(this,(p.__proto__||(0,s.default)(p)).apply(this,arguments))}e.default=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r,s=n(i(3)),o=n(i(29)),a=n(i(34)),l=n(i(81)),u=n(i(154)),h=(r=u.default,(0,l.default)(c,r),c);function c(){var t;(0,o.default)(this,c),console.log(" -- PushPaneLayout created");for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return(0,a.default)(this,(t=c.__proto__||(0,s.default)(c)).call.apply(t,[this].concat(i)))}e.default=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PushPaneLayout=e.Cube=void 0;var r=n(i(249)),s=n(i(247));e.Cube=r.default,e.PushPaneLayout=s.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Cube=void 0;var r,s=n(i(215)),o=n(i(3)),a=n(i(29)),l=n(i(30)),u=n(i(34)),h=n(i(81)),c=n(i(110)),f=n(i(154)),d=e.Cube=(r=f.default,(0,h.default)(p,r),(0,l.default)(p,[{key:"_createCubeSide",value:function(t){var e=new f.default({align:[.5,.5],mountPoint:[.5,.5]}),i=new f.default({align:[.5,.5],mountPoint:[.5,.5],absoluteSize:[this.size,this.size]});this.sides.push(i),e.addChild(i),t<4?e.rotation.y=90*t:e.rotation.x=90*(t%2?-1:1),i.position.z=this.size/2,this.addChild(e)}},{key:"setContent",value:function(e){var i=this;return(0,c.default)(6,function(t){i.sides[t].addChild(e[t])}),this}}]),p);function p(t,e){(0,a.default)(this,p);var i=(0,u.default)(this,(p.__proto__||(0,o.default)(p)).call(this,(0,s.default)({absoluteSize:[t,t,t]},e)));return i.size=t,i.sides=[],(0,c.default)(6,function(t){return i._createCubeSide(t)}),i}e.default=d}],i.c=r,i.p="",i(0);function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var n,r});