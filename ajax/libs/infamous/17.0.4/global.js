!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.infamous=e():t.infamous=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.components=e.html=e.core=e.utils=e.PushMenuLayout=e.Plane=e.Molecule=e.Grid=e.DoubleSidedPlane=e.Calendar=void 0;var o=n(2),s=r(o),a=n(111),l=r(a),u=n(109),c=r(u),h=n(95),f=r(h),d=n(112),p=r(d),_=n(115),v=r(_),m=n(103),g=i(m),y=n(152),b=i(y),x=n(245),w=i(x),S=n(248),k=i(S);e.Calendar=s.default,e.DoubleSidedPlane=l.default,e.Grid=c.default,e.Molecule=f.default,e.Plane=p.default,e.PushMenuLayout=v.default,e.utils=g,e.core=b,e.html=w,e.components=k;e.version="17.0.4"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Calendar=void 0;var r=n(3),o=i(r),s=n(29),a=i(s),l=n(30),u=i(l),c=n(34),h=i(c),f=n(81),d=i(f),p=n(89),_=i(p),v=n(90),m=i(v),g=n(94),y=i(g),b=n(95),x=i(b),w=n(109),S=i(w),k=n(111),M=i(k),O=n(110),C=i(O),P=e.Calendar=function(t){function e(t,n){(0,a.default)(this,e);var i=(0,h.default)(this,(e.__proto__||(0,o.default)(e)).call(this,{size:t}));return i.transition=n,i.flipSide=0,i.columnsRows=[7,6],i.planes=[],i._initializeTransitions(),i._createGrid(),setTimeout(function(){this.transitions[this.transition](),setInterval(this.transitions[this.transition],2e3)}.bind(i),800),i}return(0,d.default)(e,t),(0,u.default)(e,[{key:"_createGrid",value:function(){var t=new S.default(this.columnsRows[0],this.columnsRows[1],this.options.size);(0,C.default)(this.columnsRows[0]*this.columnsRows[1],function(t){var e=new M.default({properties:{background:"teal"}});this.planes.push(e)}.bind(this)),t.setChildren(this.planes),this.add(t)}},{key:"_initializeTransitions",value:function(){this.transitions={flipDiagonal:function(){function t(t,e){"undefined"==typeof t.__targetRotation&&(t.__targetRotation=new m.default(0));var n=new m.default(t.__targetRotation.get());t.__targetRotation.set(t.__targetRotation.get()+Math.PI),t.children[0].get().transformFrom(function(){return _.default.rotateY(n.get())}),t.children[1].get().transformFrom(function(){return _.default.rotateY(n.get()+Math.PI)}),setTimeout(function(){n.set(t.__targetRotation.get(),{duration:2e3,curve:y.default.outExpo})},0+50*e)}this.flipSide=+!this.flipSide;var e=0,n=void 0;this.columnsRows.forEach(function(t,n){t<this.columnsRows[e]&&(e=n)}.bind(this)),n=+!e,(0,C.default)(this.columnsRows[0]+this.columnsRows[1]-1,function(i){(0,C.default)(this.columnsRows[e],function(e){if(i-e>=0&&i-e<this.columnsRows[n]){var r=this.planes[i-e+this.columnsRows[n]*e];t(r,i)}}.bind(this))}.bind(this))}.bind(this)}}}]),e}(x.default);e.default=P},function(t,e,n){t.exports={default:n(4),__esModule:!0}},function(t,e,n){n(5),t.exports=n(16).Object.getPrototypeOf},function(t,e,n){var i=n(6),r=n(8);n(14)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(7);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(9),r=n(6),o=n(10)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(11)("keys"),r=n(13);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(12),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(15),r=n(16),o=n(25);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(t,e,n){var i=n(12),r=n(16),o=n(17),s=n(19),a="prototype",l=function(t,e,n){var u,c,h,f=t&l.F,d=t&l.G,p=t&l.S,_=t&l.P,v=t&l.B,m=t&l.W,g=d?r:r[e]||(r[e]={}),y=g[a],b=d?i:p?i[e]:(i[e]||{})[a];d&&(n=e);for(u in n)c=!f&&b&&void 0!==b[u],c&&u in g||(h=c?b[u]:n[u],g[u]=d&&"function"!=typeof b[u]?n[u]:v&&c?o(h,i):m&&b[u]==h?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[a]=t[a],e}(h):_&&"function"==typeof h?o(Function.call,h):h,_&&((g.virtual||(g.virtual={}))[u]=h,t&l.R&&y&&!y[u]&&s(y,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(18);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(20),r=n(28);t.exports=n(24)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(21),r=n(23),o=n(27),s=Object.defineProperty;e.f=n(24)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(22);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(24)&&!n(25)(function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(25)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(22),r=n(12).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(22);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(31),o=i(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){t.exports={default:n(32),__esModule:!0}},function(t,e,n){n(33);var i=n(16).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(15);i(i.S+i.F*!n(24),"Object",{defineProperty:n(20).f})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(35),o=i(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(36),o=i(r),s=n(65),a=i(s),l="function"==typeof a.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};e.default="function"==typeof a.default&&"symbol"===l(o.default)?function(t){return"undefined"==typeof t?"undefined":l(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":"undefined"==typeof t?"undefined":l(t)}},function(t,e,n){t.exports={default:n(37),__esModule:!0}},function(t,e,n){n(38),n(60),t.exports=n(64).f("iterator")},function(t,e,n){"use strict";var i=n(39)(!0);n(41)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(40),r=n(7);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),l=i(n),u=a.length;return l<0||l>=u?t?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):(o-55296<<10)+(s-56320)+65536)}}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){"use strict";var i=n(42),r=n(15),o=n(43),s=n(19),a=n(9),l=n(44),u=n(45),c=n(58),h=n(8),f=n(59)("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",_="keys",v="values",m=function(){return this};t.exports=function(t,e,n,g,y,b,x){u(n,e,g);var w,S,k,M=function(t){if(!d&&t in E)return E[t];switch(t){case _:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=e+" Iterator",C=y==v,P=!1,E=t.prototype,T=E[f]||E[p]||y&&E[y],A=T||M(y),R=y?C?M("entries"):A:void 0,F="Array"==e?E.entries||T:T;if(F&&(k=h(F.call(new t)),k!==Object.prototype&&(c(k,O,!0),i||a(k,f)||s(k,f,m))),C&&T&&T.name!==v&&(P=!0,A=function(){return T.call(this)}),i&&!x||!d&&!P&&E[f]||s(E,f,A),l[e]=A,l[O]=m,y)if(w={values:C?A:M(v),keys:b?A:M(_),entries:R},x)for(S in w)S in E||o(E,S,w[S]);else r(r.P+r.F*(d||P),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(19)},function(t,e){t.exports={}},function(t,e,n){"use strict";var i=n(46),r=n(28),o=n(58),s={};n(19)(s,n(59)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(21),r=n(47),o=n(56),s=n(10)("IE_PROTO"),a=function(){},l="prototype",u=function(){var t,e=n(26)("iframe"),i=o.length,r="<",s=">";for(e.style.display="none",n(57).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+s+"document.F=Object"+r+"/script"+s),t.close(),u=t.F;i--;)delete u[l][o[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[l]=i(t),n=new a,a[l]=null,n[s]=t):n=u(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(20),r=n(21),o=n(48);t.exports=n(24)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,l=0;a>l;)i.f(t,n=s[l++],e[n]);return t}},function(t,e,n){var i=n(49),r=n(56);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(9),r=n(50),o=n(53)(!1),s=n(10)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var i=n(51),r=n(7);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(52);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(50),r=n(54),o=n(55);t.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){for(;u>c;)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(40),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(40),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(12).document&&document.documentElement},function(t,e,n){var i=n(20).f,r=n(9),o=n(59)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(11)("wks"),r=n(13),o=n(12).Symbol,s="function"==typeof o,a=t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))};a.store=i},function(t,e,n){n(61);for(var i=n(12),r=n(19),o=n(44),s=n(59)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var u=a[l],c=i[u],h=c&&c.prototype;h&&!h[s]&&r(h,s,u),o[u]=o.Array}},function(t,e,n){"use strict";var i=n(62),r=n(63),o=n(44),s=n(50);t.exports=n(41)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(59)},function(t,e,n){t.exports={default:n(66),__esModule:!0}},function(t,e,n){n(67),n(78),n(79),n(80),t.exports=n(16).Symbol},function(t,e,n){"use strict";var i=n(12),r=n(9),o=n(24),s=n(15),a=n(43),l=n(68).KEY,u=n(25),c=n(11),h=n(58),f=n(13),d=n(59),p=n(64),_=n(69),v=n(70),m=n(71),g=n(74),y=n(21),b=n(50),x=n(27),w=n(28),S=n(46),k=n(75),M=n(77),O=n(20),C=n(48),P=M.f,E=O.f,T=k.f,A=i.Symbol,R=i.JSON,F=R&&R.stringify,L="prototype",z=d("_hidden"),j=d("toPrimitive"),N={}.propertyIsEnumerable,I=c("symbol-registry"),D=c("symbols"),U=c("op-symbols"),G=Object[L],V="function"==typeof A,B=i.QObject,H=!B||!B[L]||!B[L].findChild,W=o&&u(function(){return 7!=S(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=P(G,e);i&&delete G[e],E(t,e,n),i&&t!==G&&E(G,e,i)}:E,q=function(t){var e=D[t]=S(A[L]);return e._k=t,e},X=V&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},Y=function(t,e,n){return t===G&&Y(U,e,n),y(t),e=x(e,!0),y(n),r(D,e)?(n.enumerable?(r(t,z)&&t[z][e]&&(t[z][e]=!1),n=S(n,{enumerable:w(0,!1)})):(r(t,z)||E(t,z,w(1,{})),t[z][e]=!0),W(t,e,n)):E(t,e,n)},Z=function(t,e){y(t);for(var n,i=m(e=b(e)),r=0,o=i.length;o>r;)Y(t,n=i[r++],e[n]);return t},Q=function(t,e){return void 0===e?S(t):Z(S(t),e)},J=function(t){var e=N.call(this,t=x(t,!0));return!(this===G&&r(D,t)&&!r(U,t))&&(!(e||!r(this,t)||!r(D,t)||r(this,z)&&this[z][t])||e)},K=function(t,e){if(t=b(t),e=x(e,!0),t!==G||!r(D,e)||r(U,e)){var n=P(t,e);return!n||!r(D,e)||r(t,z)&&t[z][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=T(b(t)),i=[],o=0;n.length>o;)r(D,e=n[o++])||e==z||e==l||i.push(e);return i},tt=function(t){for(var e,n=t===G,i=T(n?U:b(t)),o=[],s=0;i.length>s;)!r(D,e=i[s++])||n&&!r(G,e)||o.push(D[e]);return o};V||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(U,n),r(this,z)&&r(this[z],t)&&(this[z][t]=!1),W(this,t,w(1,n))};return o&&H&&W(G,t,{configurable:!0,set:e}),q(t)},a(A[L],"toString",function(){return this._k}),M.f=K,O.f=Y,n(76).f=k.f=$,n(73).f=J,n(72).f=tt,o&&!n(42)&&a(G,"propertyIsEnumerable",J,!0),p.f=function(t){return q(d(t))}),s(s.G+s.W+s.F*!V,{Symbol:A});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var et=C(d.store),nt=0;et.length>nt;)_(et[nt++]);s(s.S+s.F*!V,"Symbol",{for:function(t){return r(I,t+="")?I[t]:I[t]=A(t)},keyFor:function(t){if(X(t))return v(I,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!V,"Object",{create:Q,defineProperty:Y,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),R&&s(s.S+s.F*(!V||u(function(){var t=A();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!X(t)){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);return e=i[1],"function"==typeof e&&(n=e),!n&&g(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!X(e))return e}),i[1]=e,F.apply(R,i)}}}),A[L][j]||n(19)(A[L],j,A[L].valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){var i=n(13)("meta"),r=n(22),o=n(9),s=n(20).f,a=0,l=Object.isExtensible||function(){return!0},u=!n(25)(function(){return l(Object.preventExtensions({}))}),c=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},f=function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},d=function(t){return u&&p.NEED&&l(t)&&!o(t,i)&&c(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},function(t,e,n){var i=n(12),r=n(16),o=n(42),s=n(64),a=n(20).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var i=n(48),r=n(50);t.exports=function(t,e){for(var n,o=r(t),s=i(o),a=s.length,l=0;a>l;)if(o[n=s[l++]]===e)return n}},function(t,e,n){var i=n(48),r=n(72),o=n(73);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),l=o.f,u=0;a.length>u;)l.call(t,s=a[u++])&&e.push(s);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(52);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(50),r=n(76).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(i(t))}},function(t,e,n){var i=n(49),r=n(56).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(73),r=n(28),o=n(50),s=n(27),a=n(9),l=n(23),u=Object.getOwnPropertyDescriptor;e.f=n(24)?u:function(t,e){if(t=o(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(69)("asyncIterator")},function(t,e,n){n(69)("observable")},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(82),o=i(r),s=n(86),a=i(s),l=n(35),u=i(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,u.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){t.exports={default:n(83),__esModule:!0}},function(t,e,n){n(84),t.exports=n(16).Object.setPrototypeOf},function(t,e,n){var i=n(15);i(i.S,"Object",{setPrototypeOf:n(85).set})},function(t,e,n){var i=n(22),r=n(21),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(17)(Function.call,n(77).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(87),__esModule:!0}},function(t,e,n){n(88);var i=n(16).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(15);i(i.S,"Object",{create:n(46)})},function(t,e){function n(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function i(t){return Math.sqrt(n(t))}function r(t){return t<0?-1:1}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var o={};o.precision=1e-6,o.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o.multiply4x4=function(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]},o.multiply=function(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2],t[1]*e[0]+t[5]*e[1]+t[9]*e[2],t[2]*e[0]+t[6]*e[1]+t[10]*e[2],0,t[0]*e[4]+t[4]*e[5]+t[8]*e[6],t[1]*e[4]+t[5]*e[5]+t[9]*e[6],t[2]*e[4]+t[6]*e[5]+t[10]*e[6],0,t[0]*e[8]+t[4]*e[9]+t[8]*e[10],t[1]*e[8]+t[5]*e[9]+t[9]*e[10],t[2]*e[8]+t[6]*e[9]+t[10]*e[10],0,t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],1]},o.thenMove=function(t,e){return e[2]||(e[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+e[0],t[13]+e[1],t[14]+e[2],1]},o.moveThen=function(t,e){t[2]||(t[2]=0);var n=t[0]*e[0]+t[1]*e[4]+t[2]*e[8],i=t[0]*e[1]+t[1]*e[5]+t[2]*e[9],r=t[0]*e[2]+t[1]*e[6]+t[2]*e[10];return o.thenMove(e,[n,i,r])},o.translate=function(t,e,n){return void 0===n&&(n=0),[1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1]},o.thenScale=function(t,e){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],0,e[0]*t[4],e[1]*t[5],e[2]*t[6],0,e[0]*t[8],e[1]*t[9],e[2]*t[10],0,e[0]*t[12],e[1]*t[13],e[2]*t[14],1]},o.scale=function(t,e,n){return void 0===n&&(n=1),void 0===e&&(e=t),[t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1]},o.rotateX=function(t){var e=Math.cos(t),n=Math.sin(t);return[1,0,0,0,0,e,n,0,0,-n,e,0,0,0,0,1]},o.rotateY=function(t){var e=Math.cos(t),n=Math.sin(t);return[e,0,-n,0,0,1,0,0,n,0,e,0,0,0,0,1]},o.rotateZ=function(t){var e=Math.cos(t),n=Math.sin(t);return[e,n,0,0,-n,e,0,0,0,0,1,0,0,0,0,1]},o.rotate=function(t,e,n){var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),s=Math.sin(e),a=Math.cos(n),l=Math.sin(n),u=[o*a,i*l+r*s*a,r*l-i*s*a,0,-o*l,i*a-r*s*l,r*a+i*s*l,0,s,-r*o,i*o,0,0,0,0,1];return u},o.rotateAxis=function(t,e){var n=Math.sin(e),i=Math.cos(e),r=1-i,o=t[0]*t[0]*r,s=t[0]*t[1]*r,a=t[0]*t[2]*r,l=t[1]*t[1]*r,u=t[1]*t[2]*r,c=t[2]*t[2]*r,h=t[0]*n,f=t[1]*n,d=t[2]*n,p=[o+i,s+d,a-f,0,s-d,l+i,u+h,0,a+f,u-h,c+i,0,0,0,0,1];return p},o.aboutOrigin=function(t,e){var n=t[0]-(t[0]*e[0]+t[1]*e[4]+t[2]*e[8]),i=t[1]-(t[0]*e[1]+t[1]*e[5]+t[2]*e[9]),r=t[2]-(t[0]*e[2]+t[1]*e[6]+t[2]*e[10]);return o.thenMove(e,[n,i,r])},o.skew=function(t,e,n){return[1,Math.tan(e),0,0,Math.tan(n),1,0,0,0,Math.tan(t),1,0,0,0,0,1]},o.skewX=function(t){return[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1]},o.skewY=function(t){return[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1]},o.perspective=function(t){return[1,0,0,0,0,1,0,0,0,0,1,-1/t,0,0,0,1]},o.getTranslate=function(t){return[t[12],t[13],t[14]]},o.inverse=function(t){var e=t[5]*t[10]-t[6]*t[9],n=t[4]*t[10]-t[6]*t[8],i=t[4]*t[9]-t[5]*t[8],r=t[1]*t[10]-t[2]*t[9],o=t[0]*t[10]-t[2]*t[8],s=t[0]*t[9]-t[1]*t[8],a=t[1]*t[6]-t[2]*t[5],l=t[0]*t[6]-t[2]*t[4],u=t[0]*t[5]-t[1]*t[4],c=t[0]*e-t[1]*n+t[2]*i,h=1/c,f=[h*e,-h*r,h*a,0,-h*n,h*o,-h*l,0,h*i,-h*s,h*u,0,0,0,0,1];return f[12]=-t[12]*f[0]-t[13]*f[4]-t[14]*f[8],f[13]=-t[12]*f[1]-t[13]*f[5]-t[14]*f[9],f[14]=-t[12]*f[2]-t[13]*f[6]-t[14]*f[10],f},o.transpose=function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},o.interpret=function(t){var e=[t[0],t[1],t[2]],s=r(e[0]),a=i(e),l=[e[0]+s*a,e[1],e[2]],u=2/n(l);if(u>=1/0)return{translate:o.getTranslate(t),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];c[0]=1-u*l[0]*l[0],c[5]=1-u*l[1]*l[1],c[10]=1-u*l[2]*l[2],c[1]=-u*l[0]*l[1],c[2]=-u*l[0]*l[2],c[6]=-u*l[1]*l[2],c[4]=c[1],c[8]=c[2],c[9]=c[6];var h=o.multiply(c,t),f=[h[5],h[6]],d=r(f[0]),p=i(f),_=[f[0]+d*p,f[1]],v=2/n(_),m=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];m[5]=1-v*_[0]*_[0],m[10]=1-v*_[1]*_[1],m[6]=-v*_[0]*_[1],m[9]=m[6];var g=o.multiply(m,c),y=o.multiply(g,t),b=o.scale(y[0]<0?-1:1,y[5]<0?-1:1,y[10]<0?-1:1);y=o.multiply(y,b),g=o.multiply(b,g);var x={};return x.translate=o.getTranslate(t),x.rotate=[Math.atan2(-g[6],g[10]),Math.asin(g[2]),Math.atan2(-g[1],g[0])],x.rotate[0]||(x.rotate[0]=0,x.rotate[2]=Math.atan2(g[4],g[5])),x.scale=[y[0],y[5],y[10]],x.skew=[Math.atan2(y[9],x.scale[2]),Math.atan2(y[8],x.scale[2]),Math.atan2(y[4],x.scale[0])],Math.abs(x.rotate[0])+Math.abs(x.rotate[2])>1.5*Math.PI&&(x.rotate[1]=Math.PI-x.rotate[1],x.rotate[1]>Math.PI&&(x.rotate[1]-=2*Math.PI),x.rotate[1]<-Math.PI&&(x.rotate[1]+=2*Math.PI),x.rotate[0]<0?x.rotate[0]+=Math.PI:x.rotate[0]-=Math.PI,x.rotate[2]<0?x.rotate[2]+=Math.PI:x.rotate[2]-=Math.PI),x},o.average=function(t,e,n){n=void 0===n?.5:n;for(var i=o.interpret(t),r=o.interpret(e),s={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},a=0;a<3;a++)s.translate[a]=(1-n)*i.translate[a]+n*r.translate[a],s.rotate[a]=(1-n)*i.rotate[a]+n*r.rotate[a],s.scale[a]=(1-n)*i.scale[a]+n*r.scale[a],s.skew[a]=(1-n)*i.skew[a]+n*r.skew[a];return o.build(s)},o.build=function(t){var e=o.scale(t.scale[0],t.scale[1],t.scale[2]),n=o.skew(t.skew[0],t.skew[1],t.skew[2]),i=o.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return o.thenMove(o.multiply(o.multiply(i,n),e),t.translate)},o.equals=function(t,e){return!o.notEquals(t,e)},o.notEquals=function(t,e){return t!==e&&(!(t&&e)||t[12]!==e[12]||t[13]!==e[13]||t[14]!==e[14]||t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[4]!==e[4]||t[5]!==e[5]||t[6]!==e[6]||t[8]!==e[8]||t[9]!==e[9]||t[10]!==e[10])},o.normalizeRotation=function(t){var e=t.slice(0);for(e[0]!==.5*Math.PI&&e[0]!==.5*-Math.PI||(e[0]=-e[0],e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]>.5*Math.PI&&(e[0]=e[0]-Math.PI,e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]<.5*-Math.PI&&(e[0]=e[0]+Math.PI,e[1]=-Math.PI-e[1],e[2]-=Math.PI);e[1]<-Math.PI;)e[1]+=2*Math.PI;for(;e[1]>=Math.PI;)e[1]-=2*Math.PI;for(;e[2]<-Math.PI;)e[2]+=2*Math.PI;for(;e[2]>=Math.PI;)e[2]-=2*Math.PI;return e},o.inFront=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,.001,1],o.behind=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-.001,1],t.exports=o},function(t,e,n){function i(t){this.currentAction=null,this.actionQueue=[],this.callbackQueue=[],this.state=0,this.velocity=void 0,this._callback=void 0,this._engineInstance=null,this._currentMethod=null,this.set(t)}function r(){if(this._callback){var t=this._callback;this._callback=void 0,t()}if(this.actionQueue.length<=0)return void this.set(this.get());this.currentAction=this.actionQueue.shift(),this._callback=this.callbackQueue.shift();var e=null,n=this.currentAction[0],i=this.currentAction[1];i instanceof Object&&i.method?(e=i.method,"string"==typeof e&&(e=a[e])):e=s,this._currentMethod!==e&&(!(n instanceof Object)||e.SUPPORTS_MULTIPLE===!0||n.length<=e.SUPPORTS_MULTIPLE?this._engineInstance=new e:this._engineInstance=new o(e),this._currentMethod=e),this._engineInstance.reset(this.state,this.velocity),void 0!==this.velocity&&(i.velocity=this.velocity),this._engineInstance.set(n,i,r.bind(this))}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: david@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var o=n(91),s=n(93),a={};i.register=function(t){var e=!0;for(var n in t)i.registerMethod(n,t[n])||(e=!1);return e},i.registerMethod=function(t,e){return!(t in a)&&(a[t]=e,!0)},i.unregisterMethod=function(t){return t in a&&(delete a[t],!0)},i.prototype.set=function(t,e,n){if(!e)return this.reset(t),n&&n(),this;var i=[t,e];return this.actionQueue.push(i),this.callbackQueue.push(n),this.currentAction||r.call(this),this},i.prototype.reset=function(t,e){this._currentMethod=null,this._engineInstance=null,this._callback=void 0,this.state=t,this.velocity=e,this.currentAction=null,this.actionQueue=[],this.callbackQueue=[]},i.prototype.delay=function(t,e){var n;return n=this.actionQueue.length?this.actionQueue[this.actionQueue.length-1][0]:this.currentAction?this.currentAction[0]:this.get(),this.set(n,{duration:t,curve:function(){return 0}},e)},i.prototype.get=function(t){return this._engineInstance&&(this._engineInstance.getVelocity&&(this.velocity=this._engineInstance.getVelocity()),this.state=this._engineInstance.get(t)),this.state},i.prototype.isActive=function(){return!!this.currentAction},i.prototype.halt=function(){return this.set(this.get())},t.exports=i},function(t,e,n){function i(t){this.method=t,this._instances=[],this.state=[]}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: david@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var r=n(92);i.SUPPORTS_MULTIPLE=!0,i.prototype.get=function(){for(var t=0;t<this._instances.length;t++)this.state[t]=this._instances[t].get();return this.state},i.prototype.set=function(t,e,n){for(var i=r.after(t.length,n),o=0;o<t.length;o++)this._instances[o]||(this._instances[o]=new this.method),this._instances[o].set(t[o],e,i)},i.prototype.reset=function(t){for(var e=0;e<t.length;e++)this._instances[e]||(this._instances[e]=new this.method),this._instances[e].reset(t[e])},t.exports=i},function(t,e){/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var n={};n.Direction={X:0,Y:1,Z:2},n.after=function(t,e){var n=t;return function(){n--,0===n&&e.apply(this,arguments)}},n.loadURL=function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===this.readyState&&e&&e(this.responseText)},n.open("GET",t),n.send()},n.createDocumentFragmentFromHTML=function(t){var e=document.createElement("div");e.innerHTML=t;for(var n=document.createDocumentFragment();e.hasChildNodes();)n.appendChild(e.firstChild);return n},n.clone=function(t){var e;if("object"==typeof t){e=t instanceof Array?[]:{};for(var i in t)if("object"==typeof t[i]&&null!==t[i])if(t[i]instanceof Array){e[i]=new Array(t[i].length);for(var r=0;r<t[i].length;r++)e[i][r]=n.clone(t[i][r])}else e[i]=n.clone(t[i]);else e[i]=t[i]}else e=t;return e},t.exports=n},function(t,e){/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: david@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
function n(t){this.options=Object.create(n.DEFAULT_OPTIONS),t&&this.setOptions(t),this._startTime=0,this._startValue=0,this._updateTime=0,this._endValue=0,this._curve=void 0,this._duration=0,this._active=!1,this._callback=void 0,this.state=0,this.velocity=void 0}function i(t,e,n){return(1-n)*t+n*e}function r(t){return t instanceof Object?t instanceof Array?t.slice(0):Object.create(t):t}function o(t,e){var i={curve:e.curve};return e.duration&&(i.duration=e.duration),e.speed&&(i.speed=e.speed),t instanceof Object&&(void 0!==t.duration&&(i.duration=t.duration),t.curve&&(i.curve=t.curve),t.speed&&(i.speed=t.speed)),"string"==typeof i.curve&&(i.curve=n.getCurve(i.curve)),i}function s(t,e,n,i,r){var o,s=1e-7,a=(n(r)-n(r-s))/s;if(t instanceof Array){o=[];for(var l=0;l<t.length;l++)"number"==typeof t[l]?o[l]=a*(t[l]-e[l])/i:o[l]=0}else o=a*(t-e)/i;return o}function a(t,e,n){var r;if(t instanceof Array){r=[];for(var o=0;o<t.length;o++)"number"==typeof t[o]?r[o]=i(t[o],e[o],n):r[o]=t[o]}else r=i(t,e,n);return r}n.Curves={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return t<=.5?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}},n.SUPPORTS_MULTIPLE=!0,n.DEFAULT_OPTIONS={curve:n.Curves.linear,duration:500,speed:0};var l={};n.registerCurve=function(t,e){return!l[t]&&(l[t]=e,!0)},n.unregisterCurve=function(t){return!!l[t]&&(delete l[t],!0)},n.getCurve=function(t){var e=l[t];if(void 0!==e)return e;throw new Error("curve not registered")},n.getCurves=function(){return l},n.prototype.setOptions=function(t){void 0!==t.curve&&(this.options.curve=t.curve),void 0!==t.duration&&(this.options.duration=t.duration),void 0!==t.speed&&(this.options.speed=t.speed)},n.prototype.set=function(t,e,n){if(!e)return this.reset(t),void(n&&n());if(this._startValue=r(this.get()),e=o(e,this.options),e.speed){var i=this._startValue;if(i instanceof Object){var s=0;for(var a in i)s+=(t[a]-i[a])*(t[a]-i[a]);e.duration=Math.sqrt(s)/e.speed}else e.duration=Math.abs(t-i)/e.speed}this._startTime=Date.now(),this._endValue=r(t),this._startVelocity=r(e.velocity),this._duration=e.duration,this._curve=e.curve,this._active=!0,this._callback=n},n.prototype.reset=function(t,e){if(this._callback){var n=this._callback;this._callback=void 0,n()}this.state=r(t),this.velocity=r(e),this._startTime=0,this._duration=0,this._updateTime=0,this._startValue=this.state,this._startVelocity=this.velocity,this._endValue=this.state,this._active=!1},n.prototype.getVelocity=function(){return this.velocity},n.prototype.get=function(t){return this.update(t),this.state},n.prototype.update=function(t){if(this._active){if(t||(t=Date.now()),!(this._updateTime>=t)){this._updateTime=t;var e=t-this._startTime;if(e>=this._duration)this.state=this._endValue,this.velocity=s(this.state,this._startValue,this._curve,this._duration,1),this._active=!1;else if(e<0)this.state=this._startValue,this.velocity=this._startVelocity;else{var n=e/this._duration;this.state=a(this._startValue,this._endValue,this._curve(n)),this.velocity=s(this.state,this._startValue,this._curve,this._duration,n)}}}else if(this._callback){var i=this._callback;this._callback=void 0,i()}},n.prototype.isActive=function(){return this._active},n.prototype.halt=function(){this.reset(this.get())},n.registerCurve("linear",n.Curves.linear),n.registerCurve("easeIn",n.Curves.easeIn),n.registerCurve("easeOut",n.Curves.easeOut),n.registerCurve("easeInOut",n.Curves.easeInOut),n.registerCurve("easeOutBounce",n.Curves.easeOutBounce),n.registerCurve("spring",n.Curves.spring),n.customCurve=function(t,e){return t=t||0,e=e||0,function(n){return t*n+(-2*t-e+3)*n*n+(t+e-2)*n*n*n}},t.exports=n},function(t,e){/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: david@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var n={inQuad:function(t){return t*t},outQuad:function(t){return-(t-=1)*t+1},inOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},inQuart:function(t){return t*t*t*t},outQuart:function(t){return-(--t*t*t*t-1)},inOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return--t*t*t*t*t+1},inOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inSine:function(t){return-1*Math.cos(t*(Math.PI/2))+1},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},inExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},outExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},inOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},inCirc:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),e=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},outElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},inOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2===(t/=.5)?1:(n||(n=.3*1.5),e=n/(2*Math.PI)*Math.asin(1/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},inBack:function(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)},outBack:function(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1},inOutBack:function(t,e){return void 0===e&&(e=1.70158),(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},inBounce:function(t){return 1-n.outBounce(1-t)},outBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOutBounce:function(t){return t<.5?.5*n.inBounce(2*t):.5*n.outBounce(2*t-1)+.5}};t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Molecule=void 0;var r=n(3),o=i(r),s=n(29),a=i(s),l=n(30),u=i(l),c=n(34),h=i(c),f=n(81),d=i(f),p=n(96),_=i(p),v=n(98),m=i(v),g=n(97),y=i(g),b=n(101),x=i(b),w=n(103);n(108);var S=e.Molecule=function(t){function e(t){(0,a.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,o.default)(e)).call(this));return n._={options:{},defaultOptions:{}},(0,w.simpleExtend)(n._.defaultOptions,{align:[.5,.5],origin:[.5,.5],transform:new y.default,handler:new x.default}),n.options=t,n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"setOptions",value:function(t){"undefined"!=typeof t&&"Object"==t.constructor.name||(t={});for(var e in t)_.default.prototype[""+e+"From"]&&this.modifier[""+e+"From"](t[e]),this._.options[e]=t[e]}},{key:"resetOptions",value:function(){this.modifier=new _.default,this.set(this.modifier),this.setOptions(this._.defaultOptions)}},{key:"pipe",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.options.handler.pipe.apply(this.options.handler,t)}},{key:"unpipe",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.options.handler.unpipe.apply(this.options.handler,t)}},{key:"on",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.options.handler.on.apply(this.options.handler,t)}},{key:"off",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.options.handler.on.apply(this.options.handler,t)}},{key:"options",set:function(t){this.resetOptions(),this.setOptions(t)},get:function(){return this._.options}},{key:"transform",set:function(t){this.setOptions({transform:t})},get:function(){return this.options.transform}}]),e}(m.default);e.default=S},function(t,e,n){function i(t){this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null,this._legacyStates={},this._output={transform:o.identity,opacity:1,origin:null,align:null,size:null,proportions:null,target:null},t&&(t.transform&&this.transformFrom(t.transform),void 0!==t.opacity&&this.opacityFrom(t.opacity),t.origin&&this.originFrom(t.origin),t.align&&this.alignFrom(t.align),t.size&&this.sizeFrom(t.size),t.proportions&&this.proportionsFrom(t.proportions))}function r(){this._transformGetter&&(this._output.transform=this._transformGetter()),this._opacityGetter&&(this._output.opacity=this._opacityGetter()),this._originGetter&&(this._output.origin=this._originGetter()),this._alignGetter&&(this._output.align=this._alignGetter()),this._sizeGetter&&(this._output.size=this._sizeGetter()),this._proportionGetter&&(this._output.proportions=this._proportionGetter())}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var o=n(89),s=n(90),a=n(97);i.prototype.transformFrom=function(t){return t instanceof Function?this._transformGetter=t:t instanceof Object&&t.get?this._transformGetter=t.get.bind(t):(this._transformGetter=null,this._output.transform=t),this},i.prototype.opacityFrom=function(t){return t instanceof Function?this._opacityGetter=t:t instanceof Object&&t.get?this._opacityGetter=t.get.bind(t):(this._opacityGetter=null,this._output.opacity=t),this},i.prototype.originFrom=function(t){return t instanceof Function?this._originGetter=t:t instanceof Object&&t.get?this._originGetter=t.get.bind(t):(this._originGetter=null,this._output.origin=t),this},i.prototype.alignFrom=function(t){return t instanceof Function?this._alignGetter=t:t instanceof Object&&t.get?this._alignGetter=t.get.bind(t):(this._alignGetter=null,this._output.align=t),this},i.prototype.sizeFrom=function(t){return t instanceof Function?this._sizeGetter=t:t instanceof Object&&t.get?this._sizeGetter=t.get.bind(t):(this._sizeGetter=null,this._output.size=t),this},i.prototype.proportionsFrom=function(t){return t instanceof Function?this._proportionGetter=t:t instanceof Object&&t.get?this._proportionGetter=t.get.bind(t):(this._proportionGetter=null,this._output.proportions=t),this},i.prototype.setTransform=function(t,e,n){return e||this._legacyStates.transform?(this._legacyStates.transform||(this._legacyStates.transform=new a(this._output.transform)),this._transformGetter||this.transformFrom(this._legacyStates.transform),this._legacyStates.transform.set(t,e,n),this):this.transformFrom(t)},i.prototype.setOpacity=function(t,e,n){return e||this._legacyStates.opacity?(this._legacyStates.opacity||(this._legacyStates.opacity=new s(this._output.opacity)),this._opacityGetter||this.opacityFrom(this._legacyStates.opacity),this._legacyStates.opacity.set(t,e,n)):this.opacityFrom(t)},i.prototype.setOrigin=function(t,e,n){return e||this._legacyStates.origin?(this._legacyStates.origin||(this._legacyStates.origin=new s(this._output.origin||[0,0])),this._originGetter||this.originFrom(this._legacyStates.origin),this._legacyStates.origin.set(t,e,n),this):this.originFrom(t)},i.prototype.setAlign=function(t,e,n){return e||this._legacyStates.align?(this._legacyStates.align||(this._legacyStates.align=new s(this._output.align||[0,0])),this._alignGetter||this.alignFrom(this._legacyStates.align),this._legacyStates.align.set(t,e,n),this):this.alignFrom(t)},i.prototype.setSize=function(t,e,n){return t&&(e||this._legacyStates.size)?(this._legacyStates.size||(this._legacyStates.size=new s(this._output.size||[0,0])),this._sizeGetter||this.sizeFrom(this._legacyStates.size),this._legacyStates.size.set(t,e,n),this):this.sizeFrom(t)},i.prototype.setProportions=function(t,e,n){return t&&(e||this._legacyStates.proportions)?(this._legacyStates.proportions||(this._legacyStates.proportions=new s(this._output.proportions||[0,0])),this._proportionGetter||this.proportionsFrom(this._legacyStates.proportions),this._legacyStates.proportions.set(t,e,n),this):this.proportionsFrom(t)},i.prototype.halt=function(){this._legacyStates.transform&&this._legacyStates.transform.halt(),this._legacyStates.opacity&&this._legacyStates.opacity.halt(),this._legacyStates.origin&&this._legacyStates.origin.halt(),this._legacyStates.align&&this._legacyStates.align.halt(),this._legacyStates.size&&this._legacyStates.size.halt(),this._legacyStates.proportions&&this._legacyStates.proportions.halt(),this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null},i.prototype.getTransform=function(){return this._transformGetter()},i.prototype.getFinalTransform=function(){return this._legacyStates.transform?this._legacyStates.transform.getFinal():this._output.transform},i.prototype.getOpacity=function(){return this._opacityGetter()},i.prototype.getOrigin=function(){return this._originGetter()},i.prototype.getAlign=function(){return this._alignGetter()},i.prototype.getSize=function(){return this._sizeGetter?this._sizeGetter():this._output.size},i.prototype.getProportions=function(){return this._proportionGetter?this._proportionGetter():this._output.proportions},i.prototype.modify=function(t){return r.call(this),this._output.target=t,this._output},t.exports=i},function(t,e,n){function i(t){this._final=l.identity.slice(),this._finalTranslate=[0,0,0],this._finalRotate=[0,0,0],this._finalSkew=[0,0,0],this._finalScale=[1,1,1],this.translate=[],this.rotate=[],this.skew=[],this.scale=[];for(var e=0;e<3;e+=1)this.translate[e]=new a(this._finalTranslate[e]),this.rotate[e]=new a(this._finalRotate[e]),this.skew[e]=new a(this._finalSkew[e]),this.scale[e]=new a(this._finalScale[e]);t&&this.set(t)}function r(){return l.build({translate:[this.translate[0].get(),this.translate[1].get(),this.translate[2].get()],rotate:[this.rotate[0].get(),this.rotate[1].get(),this.rotate[2].get()],skew:[this.skew[0].get(),this.skew[1].get(),this.skew[2].get()],scale:[this.scale[0].get(),this.scale[1].get(),this.scale[2].get()]})}function o(){return l.build({translate:this._finalTranslate,rotate:this._finalRotate,skew:this._finalSkew,scale:this._finalScale})}function s(t,e){for(var n=0,i=0;i<t.length;i+=1)typeof t[i]==e+""&&(n+=1);return n}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: david@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var a=n(90),l=n(89),u=n(92);i.prototype.setTranslate=function(t,e,n){for(var i=s(t,"number"),r=n?u.after(i,n):null,a=0;a<t.length;a+=1)"number"==typeof t[a]&&(this.translate[a].set(t[a],e,r),this._finalTranslate[a]=t[a]);return this._final=o.call(this),this},i.prototype.setTranslateX=function(t,e,n){return this.translate[0].set(t,e,n),this._finalTranslate[0]=t,this._final=o.call(this),this},i.prototype.setTranslateY=function(t,e,n){return this.translate[1].set(t,e,n),this._finalTranslate[1]=t,this._final=o.call(this),this},i.prototype.setTranslateZ=function(t,e,n){return this.translate[2].set(t,e,n),this._finalTranslate[2]=t,this._final=o.call(this),this},i.prototype.setScale=function(t,e,n){for(var i=s(t,"number"),r=n?u.after(i,n):null,a=0;a<t.length;a+=1)"number"==typeof t[a]&&(this.scale[a].set(t[a],e,r),this._finalScale[a]=t[a]);return this._final=o.call(this),this},i.prototype.setScaleX=function(t,e,n){return this.scale[0].set(t,e,n),this._finalScale[0]=t,this._final=o.call(this),this},i.prototype.setScaleY=function(t,e,n){return this.scale[1].set(t,e,n),this._finalScale[1]=t,this._final=o.call(this),this},i.prototype.setScaleZ=function(t,e,n){return this.scale[2].set(t,e,n),this._finalScale[2]=t,this._final=o.call(this),this},i.prototype.setRotate=function(t,e,n){for(var i=s(t,"number"),r=n?u.after(i,n):null,a=0;a<t.length;a+=1)"number"==typeof t[a]&&(this.rotate[a].set(t[a],e,r),this._finalRotate[a]=t[a]);return this._final=o.call(this),this},i.prototype.setRotateX=function(t,e,n){return this.rotate[0].set(t,e,n),this._finalRotate[0]=t,this._final=o.call(this),this},i.prototype.setRotateY=function(t,e,n){return this.rotate[1].set(t,e,n),this._finalRotate[1]=t,this._final=o.call(this),this},i.prototype.setRotateZ=function(t,e,n){return this.rotate[2].set(t,e,n),this._finalRotate[2]=t,this._final=o.call(this),this},i.prototype.setSkew=function(t,e,n){for(var i=s(t,"number"),r=n?u.after(i,n):null,a=0;a<t.length;a+=1)"number"==typeof t[a]&&(this.skew[a].set(t[a],e,r),this._finalSkew[a]=t[a]);return this._final=o.call(this),this},i.prototype.setSkewX=function(t,e,n){return this.skew[0].set(t,e,n),this._finalSkew[0]=t,this._final=o.call(this),this},i.prototype.setSkewY=function(t,e,n){return this.skew[1].set(t,e,n),this._finalSkew[1]=t,this._final=o.call(this),this},i.prototype.setSkewZ=function(t,e,n){return this.skew[2].set(t,e,n),this._finalSkew[2]=t,this._final=o.call(this),this},i.prototype.set=function(t,e,n){var i=l.interpret(t);this._finalTranslate=i.translate,this._finalRotate=i.rotate,this._finalSkew=i.skew,this._finalScale=i.scale,this._final=t;for(var r=n?u.after(12,n):null,o=0;o<3;o+=1)this.translate[o].set(i.translate[o],e,r),this.rotate[o].set(i.rotate[o],e,r),this.skew[o].set(i.skew[o],e,r),this.scale[o].set(i.scale[o],e,r);return this},i.prototype.setDefaultTransition=function(t){for(var e=0;e<3;e+=1)this.translate[e].setDefault(t),this.rotate[e].setDefault(t),this.skew[e].setDefault(t),this.scale[e].setDefault(t)},i.prototype.get=function(){return this.isActive()?r.call(this):this._final},i.prototype.getFinal=function(){return this._final},i.prototype.isActive=function t(){for(var t=!1,e=0;e<3;e+=1)if(this.translate[e].isActive()||this.rotate[e].isActive()||this.skew[e].isActive()||this.scale[e].isActive()){t=!0;break}return t},i.prototype.halt=function(){for(var t=0;t<3;t+=1)this.translate[t].halt(),this.rotate[t].halt(),this.skew[t].halt(),this.scale[t].halt(),this._finalTranslate[t]=this.translate[t].get(),this._finalRotate[t]=this.rotate[t].get(),this._finalSkew[t]=this.skew[t].get(),this._finalScale[t]=this.scale[t].get();return this._final=this.get(),this},t.exports=i},function(t,e,n){function i(t){this._object=null,this._child=null,this._hasMultipleChildren=!1,this._isRenderable=!1,this._isModifier=!1,this._resultCache={},this._prevResults={},this._childResult=null,t&&this.set(t)}function r(t,e,n){for(var i=s.parse(t,e),a=Object.keys(i),l=0;l<a.length;l++){var u=a[l],c=o.get(u),h=i[u];h.allocator=e.allocator;var f=c.commit(h);f?r(f,e,n):n[u]=h}}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var o=n(99),s=n(100);i.prototype.add=function(t){var e=t instanceof i?t:new i(t);return this._child instanceof Array?this._child.push(e):this._child?(this._child=[this._child,e],this._hasMultipleChildren=!0,this._childResult=[]):this._child=e,e},i.prototype.get=function(){return this._object||(this._hasMultipleChildren?null:this._child?this._child.get():null)},i.prototype.set=function(t){return this._childResult=null,this._hasMultipleChildren=!1,this._isRenderable=!!t.render,this._isModifier=!!t.modify,this._object=t,this._child=null,t instanceof i?t:this},i.prototype.getSize=function(){var t=null,e=this.get();return e&&e.getSize&&(t=e.getSize()),!t&&this._child&&this._child.getSize&&(t=this._child.getSize()),t},i.prototype.commit=function(t){for(var e=Object.keys(this._prevResults),n=0;n<e.length;n++){var i=e[n];if(void 0===this._resultCache[i]){var s=o.get(i);s.cleanup&&s.cleanup(t.allocator)}}this._prevResults=this._resultCache,this._resultCache={},r(this.render(),t,this._resultCache)},i.prototype.render=function(){if(this._isRenderable)return this._object.render();var t=null;if(this._hasMultipleChildren){t=this._childResult;for(var e=this._child,n=0;n<e.length;n++)t[n]=e[n].render()}else this._child&&(t=this._child.render());return this._isModifier?this._object.modify(t):t},t.exports=i},function(t,e){function n(t){return s[t]}function i(t,e){s[t]=e}function r(t){var e=s.length;return i(e,t),e}function o(t){i(t,null)}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var s=[];t.exports={register:r,unregister:o,get:n,set:i}},function(t,e,n){function i(){this.result={}}function r(t,e){return[t[0]*e[0]+t[1]*e[4]+t[2]*e[8],t[0]*e[1]+t[1]*e[5]+t[2]*e[9],t[0]*e[2]+t[1]*e[6]+t[2]*e[10]]}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var o=n(89);i._instance=new i,i.parse=function(t,e){return i._instance.parse(t,e)},i.prototype.parse=function(t,e){return this.reset(),this._parseSpec(t,e,o.identity),this.result},i.prototype.reset=function(){this.result={}};var s=[0,0];i.prototype._parseSpec=function(t,e,n){var i,a,l,u,c,h,f;if("number"==typeof t){if(i=t,l=e.transform,h=e.align||s,e.size&&h&&(h[0]||h[1])){var d=[h[0]*e.size[0],h[1]*e.size[1],0];l=o.thenMove(l,r(d,n))}this.result[i]={transform:l,opacity:e.opacity,origin:e.origin||s,align:e.align||s,size:e.size}}else{if(!t)return;if(t instanceof Array)for(var p=0;p<t.length;p++)this._parseSpec(t[p],e,n);else{a=t.target,l=e.transform,u=e.opacity,c=e.origin,h=e.align,f=e.size;var _=n;if(void 0!==t.opacity&&(u=e.opacity*t.opacity),t.transform&&(l=o.multiply(e.transform,t.transform)),t.origin&&(c=t.origin,_=e.transform),t.align&&(h=t.align),t.size||t.proportions){var v=f;f=[f[0],f[1]],t.size&&(void 0!==t.size[0]&&(f[0]=t.size[0]),void 0!==t.size[1]&&(f[1]=t.size[1])),t.proportions&&(void 0!==t.proportions[0]&&(f[0]=f[0]*t.proportions[0]),void 0!==t.proportions[1]&&(f[1]=f[1]*t.proportions[1])),v&&(h&&(h[0]||h[1])&&(l=o.thenMove(l,r([h[0]*v[0],h[1]*v[1],0],n))),c&&(c[0]||c[1])&&(l=o.moveThen([-c[0]*f[0],-c[1]*f[1],0],l))),_=e.transform,c=null,h=null}this._parseSpec(a,{transform:l,opacity:u,origin:c,align:h,size:f},_)}}},t.exports=i},function(t,e,n){function i(){r.apply(this,arguments),this.downstream=[],this.downstreamFn=[],this.upstream=[],this.upstreamListeners={}}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var r=n(102);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.setInputHandler=function(t,e){t.trigger=e.trigger.bind(e),e.subscribe&&e.unsubscribe&&(t.subscribe=e.subscribe.bind(e),t.unsubscribe=e.unsubscribe.bind(e))},i.setOutputHandler=function(t,e){e instanceof i&&e.bindThis(t),t.pipe=e.pipe.bind(e),t.unpipe=e.unpipe.bind(e),t.on=e.on.bind(e),t.addListener=t.on,t.removeListener=e.removeListener.bind(e)},i.prototype.emit=function(t,e){r.prototype.emit.apply(this,arguments);var n=0;for(n=0;n<this.downstream.length;n++)this.downstream[n].trigger&&this.downstream[n].trigger(t,e);for(n=0;n<this.downstreamFn.length;n++)this.downstreamFn[n](t,e);return this},i.prototype.trigger=i.prototype.emit,i.prototype.pipe=function(t){if(t.subscribe instanceof Function)return t.subscribe(this);var e=t instanceof Function?this.downstreamFn:this.downstream,n=e.indexOf(t);return n<0&&e.push(t),t instanceof Function?t("pipe",null):t.trigger&&t.trigger("pipe",null),t},i.prototype.unpipe=function(t){if(t.unsubscribe instanceof Function)return t.unsubscribe(this);var e=t instanceof Function?this.downstreamFn:this.downstream,n=e.indexOf(t);return n>=0&&(e.splice(n,1),t instanceof Function?t("unpipe",null):t.trigger&&t.trigger("unpipe",null),t)},i.prototype.on=function(t,e){if(r.prototype.on.apply(this,arguments),!(t in this.upstreamListeners)){var n=this.trigger.bind(this,t);this.upstreamListeners[t]=n;for(var i=0;i<this.upstream.length;i++)this.upstream[i].on(t,n)}return this},i.prototype.addListener=i.prototype.on,i.prototype.subscribe=function(t){var e=this.upstream.indexOf(t);if(e<0){this.upstream.push(t);for(var n in this.upstreamListeners)t.on(n,this.upstreamListeners[n])}return this},i.prototype.unsubscribe=function(t){var e=this.upstream.indexOf(t);if(e>=0){this.upstream.splice(e,1);for(var n in this.upstreamListeners)t.removeListener(n,this.upstreamListeners[n])}return this},t.exports=i},function(t,e){/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
function n(){this.listeners={},this._owner=this}n.prototype.emit=function(t,e){var n=this.listeners[t];if(n)for(var i=0;i<n.length;i++)n[i].call(this._owner,e);return this},n.prototype.on=function(t,e){t in this.listeners||(this.listeners[t]=[]);var n=this.listeners[t].indexOf(e);return n<0&&this.listeners[t].push(e),this},n.prototype.addListener=n.prototype.on,n.prototype.removeListener=function(t,e){var n=this.listeners[t];if(void 0!==n){var i=n.indexOf(e);i>=0&&n.splice(i,1)}return this},n.prototype.bindThis=function(t){this._owner=t},t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=a.default.createContext();return e.setPerspective(t),e}function o(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(e){for(var n in e)t[n]=e[n]})}Object.defineProperty(e,"__esModule",{value:!0}),e.contextWithPerspective=r,e.simpleExtend=o;var s=n(104),a=i(s)},function(t,e,n){function i(){k.runLoop?(p.step(),window.requestAnimationFrame(i)):x=!1}function r(t){for(var e=0;e<_.length;e++)_[e].emit("resize");S.emit("resize")}function o(){window.addEventListener("touchmove",function(t){t.preventDefault()},!0),s()}function s(){return document.body?(document.body.classList.add("famous-root"),void document.documentElement.classList.add("famous-root")):void p.nextTick(s)}function a(t,e){return document.body?void document.body.addEventListener(t,e):void p.nextTick(addEventListener.bind(this,t,e))}function l(t,e){return document.body?(document.body.appendChild(e),void t.emit("resize")):void p.nextTick(l.bind(this,t,e))}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var u,c,h=n(105),f=n(101),d=n(107),p={},_=[],v=[],m=0,g=0,y=[],b=Date.now(),x=!0,w={},S=new f,k={containerType:"div",containerClass:"famous-container",fpsCap:void 0,runLoop:!0,appMode:!0},M=new d(k),O=10;p.step=function(){m++,g=m;var t=Date.now();if(!(c&&t-b<c)){var e=0;u=t-b,b=t,S.emit("prerender");for(var n=v.length;n--;)v.shift()(m);for(;y.length&&Date.now()-t<O;)y.shift().call(this);for(e=0;e<_.length;e++)_[e].update();S.emit("postrender")}},window.requestAnimationFrame(i),window.addEventListener("resize",r,!1),r();var C=!1;p.pipe=function(t){return t.subscribe instanceof Function?t.subscribe(p):S.pipe(t)},p.unpipe=function(t){return t.unsubscribe instanceof Function?t.unsubscribe(p):S.unpipe(t)},p.on=function(t,e){return t in w||(w[t]=S.emit.bind(S,t),a(t,w[t])),S.on(t,e)},p.emit=function(t,e){return S.emit(t,e)},p.removeListener=function(t,e){return S.removeListener(t,e)},p.getFPS=function(){return 1e3/u},p.setFPSCap=function(t){c=Math.floor(1e3/t)},p.getOptions=function(t){return M.getOptions(t)},p.setOptions=function(t){return M.setOptions.apply(M,arguments)},p.createContext=function(t){!C&&k.appMode&&p.nextTick(o);var e=!1;t||(t=document.createElement(k.containerType),t.classList.add(k.containerClass),e=!0);var n=new h(t);return p.registerContext(n),e&&l(n,t),n},p.registerContext=function(t){return _.push(t),t},p.getContexts=function(){return _},p.deregisterContext=function(t){var e=_.indexOf(t);e>=0&&_.splice(e,1)},p.nextTick=function(t){v.push(t)},p.defer=function(t){y.push(t)},M.on("change",function(t){"fpsCap"===t.id?p.setFPSCap(t.value):"runLoop"===t.id&&!x&&t.value&&(x=!0,window.requestAnimationFrame(i))}),t.exports=p},function(t,e,n){function i(){var t=this.container;return[t.clientWidth,t.clientHeight]}function r(t){this.container=t,this._allocator=new a(t),this._node=new o,this._eventOutput=new s,this._size=i.call(this),this._perspectiveState=new u(0),this._perspective=void 0,this._nodeContext={allocator:this._allocator,transform:l.identity,opacity:1,origin:c,align:c,size:this._size},this._eventOutput.on("resize",function(){this.setSize(i.call(this))}.bind(this))}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var o=n(98),s=n(101),a=n(106),l=n(89),u=n(90),c=[0,0],h=!("perspective"in document.documentElement.style),f=h?function(t,e){t.style.webkitPerspective=e?e.toFixed()+"px":""}:function(t,e){t.style.perspective=e?e.toFixed()+"px":""};r.prototype.getAllocator=function(){return this._allocator},r.prototype.add=function(t){return this._node.add(t)},r.prototype.migrate=function(t){t!==this.container&&(this.container=t,this._allocator.migrate(t))},r.prototype.getSize=function(){return this._size},r.prototype.setSize=function(t){t||(t=i.call(this)),this._size[0]=t[0],this._size[1]=t[1]},r.prototype.update=function(t){t&&(t.transform&&(this._nodeContext.transform=t.transform),t.opacity&&(this._nodeContext.opacity=t.opacity),t.origin&&(this._nodeContext.origin=t.origin),t.align&&(this._nodeContext.align=t.align),t.size&&(this._nodeContext.size=t.size));var e=this._perspectiveState.get();e!==this._perspective&&(f(this.container,e),this._perspective=e),this._node.commit(this._nodeContext)},r.prototype.getPerspective=function(){return this._perspectiveState.get()},r.prototype.setPerspective=function(t,e,n){return this._perspectiveState.set(t,e,n)},r.prototype.emit=function(t,e){return this._eventOutput.emit(t,e)},r.prototype.on=function(t,e){return this._eventOutput.on(t,e)},r.prototype.removeListener=function(t,e){return this._eventOutput.removeListener(t,e)},r.prototype.pipe=function(t){return this._eventOutput.pipe(t)},r.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},t.exports=r},function(t,e){/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
function n(t){t||(t=document.createDocumentFragment()),this.container=t,this.detachedNodes={},this.nodeCount=0}n.prototype.migrate=function(t){var e=this.container;if(t!==e){if(e instanceof DocumentFragment)t.appendChild(e);else for(;e.hasChildNodes();)t.appendChild(e.firstChild);this.container=t}},n.prototype.allocate=function(t){t=t.toLowerCase(),t in this.detachedNodes||(this.detachedNodes[t]=[]);var e,n=this.detachedNodes[t];return n.length>0?e=n.pop():(e=document.createElement(t),this.container.appendChild(e)),this.nodeCount++,e},n.prototype.deallocate=function(t){var e=t.nodeName.toLowerCase(),n=this.detachedNodes[e];n.push(t),this.nodeCount--},n.prototype.getNodeCount=function(){return this.nodeCount},t.exports=n},function(t,e,n){function i(t){this._value=t,this.eventOutput=null}function r(){this.eventOutput=new o,this.eventOutput.bindThis(this),o.setOutputHandler(this,this.eventOutput)}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var o=n(101);i.patch=function(t,e){for(var n=new i(t),r=1;r<arguments.length;r++)n.patch(arguments[r]);return t},i.prototype.patch=function(){for(var t=this._value,e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)i in t&&n[i]&&n[i].constructor===Object&&t[i]&&t[i].constructor===Object?(t.hasOwnProperty(i)||(t[i]=Object.create(t[i])),this.key(i).patch(n[i]),this.eventOutput&&this.eventOutput.emit("change",{id:i,value:this.key(i).value()})):this.set(i,n[i])}return this},i.prototype.setOptions=i.prototype.patch,i.prototype.key=function(t){var e=new i(this._value[t]);return e._value instanceof Object&&!(e._value instanceof Array)||(e._value={}),e},i.prototype.get=function(t){return t?this._value[t]:this._value},i.prototype.getOptions=i.prototype.get,i.prototype.set=function(t,e){var n=this.get(t);return this._value[t]=e,this.eventOutput&&e!==n&&this.eventOutput.emit("change",{id:t,value:e}),this},i.prototype.on=function(){return r.call(this),this.on.apply(this,arguments)},i.prototype.removeListener=function(){return r.call(this),this.removeListener.apply(this,arguments)},i.prototype.pipe=function(){return r.call(this),this.pipe.apply(this,arguments)},i.prototype.unpipe=function(){return r.call(this),this.unpipe.apply(this,arguments)},t.exports=i},function(t,e){"use strict";(function(){}).name||Object.defineProperty(Function.prototype,"name",{get:function(){var t=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:t}),t}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Grid=void 0;var r=n(3),o=i(r),s=n(29),a=i(s),l=n(30),u=i(l),c=n(34),h=i(c),f=n(81),d=i(f),p=n(96),_=i(p),v=n(89),m=i(v),g=n(95),y=i(g),b=n(110),x=i(b),w=e.Grid=function(t){function e(t,n,i){(0,a.default)(this,e);var r=(0,h.default)(this,(e.__proto__||(0,o.default)(e)).call(this,{size:i}));return r.columns=t,r.rows=n,r.cellNodes=[],"undefined"==typeof r.options.size&&r.setOptions({size:[void 0,void 0]}),(0,x.default)(r.columns*r.rows,r._createGridCell.bind(r)),r}return(0,d.default)(e,t),(0,u.default)(e,[{key:"_createGridCell",value:function(t){var e=t%this.columns,n=Math.floor(t/this.columns),i=null;"undefined"!=typeof this.options.size[0]&&"undefined"!=typeof this.options.size[1]&&(i=[],i[0]=this.options.size[0]/this.columns,i[1]=this.options.size[1]/this.rows);var r=new _.default({align:[0,0],origin:[0,0],size:i?[i[0],i[1]]:[void 0,void 0],transform:m.default.translate(e*i[0],n*i[1],0)}),o=new _.default({align:[.5,.5],origin:[.5,.5]});this.cellNodes.push(this.add(r).add(o))}},{key:"setChildren",value:function(t){return(0,x.default)(this.columns*this.rows,function(e){this.cellNodes[e].add(t[e])}.bind(this)),this}}]),e}(y.default);e.default=w},function(t,e){"use strict";function n(t,e){for(var n=0;n<t;n+=1)e(n)}e.forLength=n,e.default=n,e.__esModule=!0},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DoubleSidedPlane=void 0;var r=n(3),o=i(r),s=n(29),a=i(s),l=n(30),u=i(l),c=n(34),h=i(c),f=n(81),d=i(f),p=n(89),_=i(p),v=n(95),m=i(v),g=n(112),y=i(g),b=e.DoubleSidedPlane=function(t){function e(t){(0,a.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.children=[],n.plane1=new y.default(n.options),n.plane1.transform.set(_.default.rotate(0,0,0)),n.setOptions({properties:{background:"orange"}}),n.plane2=new y.default(n.options),n.plane2.transform.set(_.default.rotate(0,Math.PI,0)),n.children.push(n.plane1),n.children.push(n.plane2),n.add(n.plane2),n.add(n.plane1),n.plane1.pipe(n.options.handler),n.plane2.pipe(n.options.handler),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"getContent",value:function(){return[this.plane1.getContent(),this.plane2.getContent()]}},{key:"setContent",value:function(t){this.plane1.setContent(t[0]),this.plane2.setContent(t[1])}}]),e}(m.default);e.default=b},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Plane=void 0;var r=n(3),o=i(r),s=n(29),a=i(s),l=n(30),u=i(l),c=n(34),h=i(c),f=n(81),d=i(f),p=n(113),_=i(p),v=n(95),m=i(v),g=e.Plane=function(t){function e(t){(0,a.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.surface=new _.default(n.options),n.add(n.surface),n.surface.pipe(n.options.handler),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"getContent",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.surface.getContent.apply(this.surface,t)}},{key:"setContent",value:function(){var t=Array.prototype.splice.call(arguments,0);return this.surface.setContent.apply(this.surface,t)}}]),e}(m.default);e.default=g},function(t,e,n){function i(t){c.call(this),this.options={},this.properties={},this.attributes={},this.content="",this.classList=[],this.size=null,this._classesDirty=!0,this._stylesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._trueSizeCheck=!0,this._dirtyClasses=[],t&&this.setOptions(t),this._currentTarget=null}function r(t){for(var e=0;e<this._dirtyClasses.length;e++)t.classList.remove(this._dirtyClasses[e]);this._dirtyClasses=[]}function o(t){for(var e in this.properties)t.style[e]=this.properties[e]}function s(t){for(var e in this.properties)t.style[e]=""}function a(t){for(var e in this.attributes)t.setAttribute(e,this.attributes[e])}function l(t){for(var e in this.attributes)t.removeAttribute(e)}function u(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]:t!==e}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var c=n(114);i.prototype=Object.create(c.prototype),i.prototype.constructor=i,i.prototype.elementType="div",i.prototype.elementClass="famous-surface",i.prototype.setAttributes=function(t){for(var e in t){if("style"===e)throw new Error('Cannot set styles via "setAttributes" as it will break Famo.us.  Use "setProperties" instead.');this.attributes[e]=t[e]}this._attributesDirty=!0},i.prototype.getAttributes=function(){return this.attributes},i.prototype.setProperties=function(t){for(var e in t)this.properties[e]=t[e];return this._stylesDirty=!0,this},i.prototype.getProperties=function(){return this.properties},i.prototype.addClass=function(t){return this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0),this},i.prototype.removeClass=function(t){var e=this.classList.indexOf(t);return e>=0&&(this._dirtyClasses.push(this.classList.splice(e,1)[0]),this._classesDirty=!0),this},i.prototype.toggleClass=function(t){var e=this.classList.indexOf(t);return e>=0?this.removeClass(t):this.addClass(t),this},i.prototype.setClasses=function(t){var e=0,n=[];for(e=0;e<this.classList.length;e++)t.indexOf(this.classList[e])<0&&n.push(this.classList[e]);for(e=0;e<n.length;e++)this.removeClass(n[e]);for(e=0;e<t.length;e++)this.addClass(t[e]);return this},i.prototype.getClassList=function(){return this.classList},i.prototype.setContent=function(t){return this.content!==t&&(this.content=t,this._contentDirty=!0),this},i.prototype.getContent=function(){return this.content},i.prototype.setOptions=function(t){return t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.attributes&&this.setAttributes(t.attributes),t.content&&this.setContent(t.content),this},i.prototype.setup=function(t){var e=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var n=0;n<this.elementClass.length;n++)e.classList.add(this.elementClass[n]);else e.classList.add(this.elementClass);e.style.display="",this.attach(e),this._opacity=null,this._currentTarget=e,this._stylesDirty=!0,this._classesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._originDirty=!0,this._transformDirty=!0},i.prototype.commit=function(t){this._currentTarget||this.setup(t.allocator);var e=this._currentTarget,n=t.size;if(this._classesDirty){r.call(this,e);for(var i=this.getClassList(),s=0;s<i.length;s++)e.classList.add(i[s]);this._classesDirty=!1,this._trueSizeCheck=!0}if(this._stylesDirty&&(o.call(this,e),this._stylesDirty=!1,this._trueSizeCheck=!0),this._attributesDirty&&(a.call(this,e),this._attributesDirty=!1,this._trueSizeCheck=!0),this.size){var l=t.size;if(n=[this.size[0],this.size[1]],void 0===n[0]&&(n[0]=l[0]),void 0===n[1]&&(n[1]=l[1]),n[0]===!0||n[1]===!0){if(n[0]===!0)if(this._trueSizeCheck||0===this._size[0]){var h=e.offsetWidth;this._size&&this._size[0]!==h&&(this._size[0]=h,this._sizeDirty=!0),n[0]=h}else this._size&&(n[0]=this._size[0]);if(n[1]===!0)if(this._trueSizeCheck||0===this._size[1]){var f=e.offsetHeight;this._size&&this._size[1]!==f&&(this._size[1]=f,this._sizeDirty=!0),n[1]=f}else this._size&&(n[1]=this._size[1]);this._trueSizeCheck=!1}}u(this._size,n)&&(this._size||(this._size=[0,0]),this._size[0]=n[0],this._size[1]=n[1],this._sizeDirty=!0),this._sizeDirty&&(this._size&&(e.style.width=this.size&&this.size[0]===!0?"":this._size[0]+"px",e.style.height=this.size&&this.size[1]===!0?"":this._size[1]+"px"),this._eventOutput.emit("resize")),this._contentDirty&&(this.deploy(e),this._eventOutput.emit("deploy"),this._contentDirty=!1,this._trueSizeCheck=!0),c.prototype.commit.call(this,t)},i.prototype.cleanup=function(t){var e=0,n=this._currentTarget;this._eventOutput.emit("recall"),this.recall(n),n.style.display="none",n.style.opacity="",n.style.width="",n.style.height="",s.call(this,n),l.call(this,n);var i=this.getClassList();for(r.call(this,n),e=0;e<i.length;e++)n.classList.remove(i[e]);if(this.elementClass)if(this.elementClass instanceof Array)for(e=0;e<this.elementClass.length;e++)n.classList.remove(this.elementClass[e]);else n.classList.remove(this.elementClass);this.detach(n),this._currentTarget=null,t.deallocate(n)},i.prototype.deploy=function(t){var e=this.getContent();if(e instanceof Node){for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}else t.innerHTML=e},i.prototype.recall=function(t){for(var e=document.createDocumentFragment();t.hasChildNodes();)e.appendChild(t.firstChild);this.setContent(e)},i.prototype.getSize=function(){return this._size?this._size:this.size},i.prototype.setSize=function(t){return this.size=t?[t[0],t[1]]:null,this._sizeDirty=!0,this},t.exports=i},function(t,e,n){function i(t){this._matrix=null,this._opacity=1,this._origin=null,this._size=null,this._eventOutput=new c,this._eventOutput.bindThis(this),this.eventForwarder=function(t){this._eventOutput.emit(t.type,t)}.bind(this),this.id=u.register(this),this._element=null,this._sizeDirty=!1,this._originDirty=!1,this._transformDirty=!1,this._invisible=!1,t&&this.attach(t)}function r(t){for(var e in this._eventOutput.listeners)t.addEventListener(e,this.eventForwarder)}function o(t){for(var e in this._eventOutput.listeners)t.removeEventListener(e,this.eventForwarder)}function s(t){t[12]=Math.round(t[12]*d)/d,t[13]=Math.round(t[13]*d)/d;for(var e="matrix3d(",n=0;n<15;n++)e+=t[n]<1e-6&&t[n]>-1e-6?"0,":t[n]+",";return e+=t[15]+")"}function a(t){return 100*t[0]+"% "+100*t[1]+"%"}function l(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]:t!==e}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var u=n(99),c=n(101),h=n(89),f=!("transform"in document.documentElement.style),d=window.devicePixelRatio||1;i.prototype.on=function(t,e){this._element&&this._element.addEventListener(t,this.eventForwarder),this._eventOutput.on(t,e)},i.prototype.removeListener=function(t,e){this._eventOutput.removeListener(t,e)},i.prototype.emit=function(t,e){e&&!e.origin&&(e.origin=this);var n=this._eventOutput.emit(t,e);return n&&e&&e.stopPropagation&&e.stopPropagation(),n},i.prototype.pipe=function(t){return this._eventOutput.pipe(t)},i.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},i.prototype.render=function(){return this.id};var p;p=f?function(t,e){t.style.webkitTransform=s(e)}:function(t,e){t.style.transform=s(e)};var _=f?function(t,e){t.style.webkitTransformOrigin=a(e)}:function(t,e){t.style.transformOrigin=a(e)},v=f?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0};i.prototype.commit=function(t){var e=this._element;if(e){var n=t.transform,i=t.opacity,r=t.origin;t.size;if(!n&&this._matrix)return this._matrix=null,this._opacity=0,void v(e);if(l(this._origin,r)&&(this._originDirty=!0),h.notEquals(this._matrix,n)&&(this._transformDirty=!0),this._invisible&&(this._invisible=!1,this._element.style.display=""),this._opacity!==i&&(this._opacity=i,e.style.opacity=i>=1?"0.999999":i),this._transformDirty||this._originDirty||this._sizeDirty){this._sizeDirty&&(this._sizeDirty=!1),this._originDirty&&(r?(this._origin||(this._origin=[0,0]),this._origin[0]=r[0],this._origin[1]=r[1]):this._origin=null,_(e,this._origin),this._originDirty=!1),n||(n=h.identity),this._matrix=n;var o=this._size?h.thenMove(n,[-this._size[0]*r[0],-this._size[1]*r[1],0]):n;p(e,o),this._transformDirty=!1}}},i.prototype.cleanup=function(){this._element&&(this._invisible=!0,this._element.style.display="none")},i.prototype.attach=function(t){this._element=t,r.call(this,t)},i.prototype.detach=function(){var t=this._element;return t&&(o.call(this,t),this._invisible&&(this._invisible=!1,this._element.style.display="")),this._element=null,t},t.exports=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PushMenuLayout=void 0;var r=n(3),o=i(r),s=n(29),a=i(s),l=n(30),u=i(l),c=n(34),h=i(c),f=n(116),d=i(f),p=n(81),_=i(p),v=n(120),m=i(v),g=n(113),y=i(g),b=n(90),x=i(b),w=n(94),S=i(w),k=n(148),M=i(k),O=n(150),C=i(O),P=n(112),E=i(P),T=n(95),A=i(T),R=n(103),F=n(151),L=i(F),z=e.PushMenuLayout=function(t){function e(t){(0,a.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return(0,R.simpleExtend)(n._.defaultOptions,{menuSide:"left",menuWidth:200,menuHintSize:10,pushAreaWidth:40,animationDuration:1e3,animationType:"foldDown",fade:!0,fadeStartColor:"rgba(255,255,255,0)",fadeEndColor:"rgba(255,255,255,1)",blur:!1,blurRadius:5}),n.options=t,n.contentWidth=document.body.clientWidth-n.options.menuHintSize,n.isOpen=!1,n.isOpening=!1,n.isClosing=!1,n.isAnimating=!1,n.isBeingDragged=!1,n.transitionCallback=void 0,C.default.register({touch:M.default}),n._createComponents(),n._initializeEvents(),n}return(0,_.default)(e,t),(0,u.default)(e,[{key:"setOptions",value:function(t){(0,d.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"setOptions",this).call(this,t)}},{key:"resetOptions",value:function(){(0,d.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"resetOptions",this).call(this)}},{key:"_createComponents",value:function(){var t=this;this.touchSync=new C.default(["touch"]),this.alignment="left"==this.options.menuSide?0:1,this.animationTransition=new x.default(0),this.mainMol=new A.default,this.menuMol=new A.default({size:[this.options.menuWidth,void 0]}),this.menuMol.oldTransform=this.menuMol.transform,this.menuMol.transform=function(){var e=t.animationTransition.get();switch(t.options.animationType){case"foldDown":this.oldTransform.setTranslateX("left"==t.options.menuSide?e*(t.options.menuWidth-t.options.menuHintSize)-(t.options.menuWidth-t.options.menuHintSize):e*-(t.options.menuWidth-t.options.menuHintSize)+(t.options.menuWidth-t.options.menuHintSize));break;case"moveBack":this.oldTransform.setTranslateX("left"==t.options.menuSide?e*(t.options.menuWidth-t.options.menuHintSize)-(t.options.menuWidth-t.options.menuHintSize):e*-(t.options.menuWidth-t.options.menuHintSize)+(t.options.menuWidth-t.options.menuHintSize))}return this.oldTransform.get()}.bind(this.menuMol),this.menuContentMol=new A.default,this.contentMol=new A.default({size:[this.contentWidth,void 0]}),this.contentMol.oldTransform=this.contentMol.transform,this.contentMol.transform=function(){var e=t.animationTransition.get();switch(t.options.animationType){case"foldDown":this.oldTransform.setTranslateX("left"==t.options.menuSide?e*(t.options.menuWidth-t.options.menuHintSize)+t.options.menuHintSize:e*-(t.options.menuWidth-t.options.menuHintSize)-t.options.menuHintSize),this.oldTransform.setRotateY("left"==t.options.menuSide?e*Math.PI/8:e*-Math.PI/8);break;case"moveBack":var n=100;this.oldTransform.setTranslateX("left"==t.options.menuSide?t.options.menuHintSize:-t.options.menuHintSize),this.oldTransform.setTranslateZ(e*-n)}return this.oldTransform.get()}.bind(this.contentMol),this.menuTouchPlane=new E.default({size:[this.options.menuWidth+this.options.pushAreaWidth-this.options.menuHintSize,void 0],properties:{zIndex:"-1000"}}),this.mainMol.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.menuMol.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.contentMol.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.menuTouchPlane.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.menuContentMol.transform.setTranslateZ(2),this.menuTouchPlane.transform.setTranslateZ(2),this.updateStyles=function(){var t,e;switch(this.options.animationType){case"foldDown":t=this.options.fadeStartColor,e=this.options.fadeEndColor;break;case"moveBack":t=e=this.options.fadeEndColor}var n={".infamous-fadeLeft":{background:[e,"-moz-linear-gradient(left, "+e+" 0%, "+t+" 100%)","-webkit-gradient(left top, right top, color-stop(0%, "+e+"), color-stop(100%, "+t+"))","-webkit-linear-gradient(left, "+e+" 0%, "+t+" 100%)","-o-linear-gradient(left, "+e+" 0%, "+t+" 100%)","-ms-linear-gradient(left, "+e+" 0%, "+t+" 100%)","linear-gradient(to right, "+e+" 0%, "+t+" 100%)"],filter:"progid:DXImageTransform.Microsoft.gradient( startColorstr='#cc000000', endColorstr='#4d000000', GradientType=1 )"},".infamous-fadeRight":{background:[t,"-moz-linear-gradient(left, "+t+" 0%, "+e+" 100%)","-webkit-gradient(left top, right top, color-stop(0%, "+t+"), color-stop(100%, "+e+"))","-webkit-linear-gradient(left, "+t+" 0%, "+e+" 100%)","-o-linear-gradient(left, "+t+" 0%, "+e+" 100%)","-ms-linear-gradient(left, "+t+" 0%, "+e+" 100%)","linear-gradient(to right, "+t+" 0%, "+e+" 100%)"],filter:"progid:DXImageTransform.Microsoft.gradient( startColorstr='#4d000000', endColorstr='#cc000000', GradientType=1 )"}};this.fadeStylesheet&&this.fadeStylesheet.detach(),this.fadeStylesheet=m.default.createStyleSheet(n),this.fadeStylesheet.attach()},this.options.fade&&(this.updateStyles(),this.fadePlane=new E.default({size:[void 0,void 0],classes:["left"==this.options.menuSide?"infamous-fadeRight":"infamous-fadeLeft"],properties:{zIndex:"1000",pointerEvents:"none"}}),this.fadePlane.setOptions({origin:[this.alignment,.5],align:[this.alignment,.5]}),this.fadePlane.transform.setTranslateZ(1),this.fadePlane.setOptions({opacity:this.animationTransition}),this.contentMol.add(this.fadePlane)),this.add(this.mainMol),this.mainMol.add(this.contentMol),this.menuMol.add(this.menuTouchPlane),this.menuMol.add(this.menuContentMol),this.mainMol.add(this.menuMol)}},{key:"_initializeEvents",value:function(){this.options.handler.on("update",function(t){this.isBeingDragged=!0,this._haltAnimation(!0);var e=this.animationTransition.get();switch(this.options.animationType){case"foldDown":this.animationTransition.set(e+t.delta[0]/(this.options.menuWidth-this.options.menuHintSize));break;case"moveBack":this.animationTransition.set(e+t.delta[0]/(this.options.menuWidth-this.options.menuHintSize))}e=this.animationTransition.get(),e>1?this.animationTransition.set(1):e<0&&this.animationTransition.set(0)}.bind(this)),this.options.handler.on("end",function(t){this.isBeingDragged=!1;var e=this.animationTransition.get();e<.5?this.closeMenu():this.openMenu()}.bind(this)),window.addEventListener("resize",function(t){this.contentWidth=document.body.clientWidth-this.options.menuHintSize,this.contentMol.setOptions({size:[this.contentWidth,void 0]})}.bind(this)),this.menuTouchPlane.pipe(this.touchSync),this.menuTouchPlane.on("mouseenter",function(){this.isOpening||this.openMenu()}.bind(this)),this.menuTouchPlane.on("mouseleave",function(){this.isClosing||this.closeMenu()}.bind(this)),this.touchSync.pipe(this.options.handler)}},{key:"setContent",value:function(t){this.contentMol.add(t)}},{key:"setMenu",value:function(t){this.menuContentMol.add(t),t instanceof A.default&&(t.pipe(this.touchSync),t.on("mouseenter",function(){this.isOpening||this.openMenu()}.bind(this)),t.on("mouseleave",function(){this.isClosing||this.closeMenu()}.bind(this)))}},{key:"openMenu",value:function(t,e){this._haltAnimation(e),this.isClosing=!1,this.isOpening=!0,this._animate("open",t)}},{key:"closeMenu",value:function(t,e){this._haltAnimation(e),this.isClosing=!0,this.isOpening=!1,this._animate("close",t)}},{key:"toggleMenu",value:function(t,e){this.isOpen||this.isOpening?this.closeMenu(t,e):this.isOpen&&!this.isClosing||this.openMenu(t,e)}},{key:"_animate",value:function(t,e){function n(e){i=(0,L.default)(e,function(){r.isAnimating=r.isOpening=r.isClosing=!1,r.isOpen="open"==t,"function"==typeof r.transitionCallback&&r.transitionCallback(),r.transitionCallback=void 0}.bind(r))}this.isAnimating=!0,this.transitionCallback=e;var i,r=this;n(1),"open"==t?this.animationTransition.set(1,{duration:this.options.animationDuration,curve:S.default.outExpo},i):"close"==t&&this.animationTransition.set(0,{duration:this.options.animationDuration,curve:S.default.outExpo},i)}},{key:"_haltAnimation",value:function(t){this.isAnimating&&(t||"function"!=typeof this.transitionCallback||this.transitionCallback(),this.transitionCallback=void 0,this.animationTransition.halt())}},{key:"render",value:function(){if(this.options.blur&&this.options.fade&&"moveBack"==this.options.animationType){var t=this.animationTransition.get()*this.options.blurRadius,n={"-webkit-filter":"blur("+t+"px)","-moz-filter":"blur("+t+"px)","-ms-filter":"blur("+t+"px)","-o-filter":"blur("+t+"px)",filter:"blur("+t+"px)"};this.contentMol._child[1].get()instanceof y.default?this.contentMol.get().setProperties(n):this.contentMol._child[1]instanceof E.default&&this.contentMol._child[1].surface.setProperties(n)}return(0,d.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"render",this).call(this)}}]),e}(A.default);e.default=z},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(3),o=i(r),s=n(117),a=i(s);e.default=function t(e,n,i){null===e&&(e=Function.prototype);var r=(0,a.default)(e,n);if(void 0===r){var s=(0,o.default)(e);return null===s?void 0:t(s,n,i)}if("value"in r)return r.value;var l=r.get;if(void 0!==l)return l.call(i)}},function(t,e,n){t.exports={default:n(118),__esModule:!0}},function(t,e,n){n(119);var i=n(16).Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var i=n(50),r=n(77).f;n(14)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(121),o=i(r),s=n(136),a=i(s),l=n(137),u=i(l),c=n(138),h=i(c),f=n(139),d=i(f),p=n(146),_=i(p),v=n(147),m=i(v),g=o.default.create();g.use((0,a.default)()),g.use((0,u.default)()),g.use((0,h.default)()),g.use((0,d.default)()),g.use((0,_.default)()),g.use((0,m.default)()),e.default=g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Rule=e.StyleSheet=e.Jss=void 0;var r=n(122),o=i(r),s=n(123),a=i(s),l=n(126),u=i(l),c=new o.default;/**
	 * StyleSheets written in javascript.
	 *
	 * @copyright Oleg Slobodskoi 2014-2016
	 * @website https://github.com/jsstyles/jss
	 * @license MIT
	 */
t.exports=e=c,e.Jss=o.default,e.StyleSheet=a.default,e.Rule=u.default,e.default=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(123),u=i(l),c=n(134),h=i(c),f=n(135),d=i(f),p=n(124),_=n(125),v=i(_),m=n(131),g=i(m),y=function(){function t(){r(this,t),this.sheets=new d.default,this.plugins=new h.default,this.uid=p.uid,this.version="3.11.1"}return a(t,[{key:"create",value:function(){return new t}},{key:"createStyleSheet",value:function(t,e){var n=new u.default(t,s({},e,{jss:this}));return this.sheets.add(n),n}},{key:"createRule",value:function(t,e,n){"object"==("undefined"==typeof t?"undefined":o(t))&&(n=e,e=t,t=null);var i=(0,v.default)(t,e,s({},n,{jss:this,Renderer:(0,g.default)(n)}));return this.plugins.run(i),i}},{key:"use",value:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){return t.plugins.use(e)}),this}}]),t}();e.default=y},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(124),l=n(125),u=i(l),c=n(131),h=i(c),f=function(){function t(e,n){r(this,t),this.options=o({},n),null==this.options.named&&(this.options.named=!0),this.rules=Object.create(null),this.classes=Object.create(null),this.attached=!1,this.deployed=!1,this.linked=!1;var i=(0,h.default)(this.options);this.options.Renderer=i,this.renderer=new i(this.options);for(var s in e)this.createRule(s,e[s])}return s(t,[{key:"attach",value:function(){return this.attached?this:(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0,this)}},{key:"detach",value:function(){return this.attached?(this.renderer.detach(),this.attached=!1,this):this}},{key:"addRule",value:function(t,e){var n=this.createRule(t,e);if(this.deployed){var i=this.renderer.insertRule(n);this.options.link&&(n.renderable=i)}return n}},{key:"addRules",value:function(t){var e=[];for(var n in t)e.push(this.addRule(n,t[n]));return e}},{key:"getRule",value:function(t){return this.rules[t]}},{key:"toString",value:function(t){var e=this.rules,n=Object.create(null),i="";for(var r in e){var o=e[r];n[o.id]||o.style&&(0,a.isEmptyObject)(o.style)||o.rules&&(0,a.isEmptyObject)(o.rules)||(i&&(i+="\n"),i+=o.toString(t),n[o.id]=!0)}return i}},{key:"createRule",value:function(t,e,n){n=o({},n,{sheet:this,jss:this.options.jss,Renderer:this.options.Renderer}),null==n.named&&(n.named=this.options.named);var i=(0,u.default)(t,e,n);return this.registerRule(i),n.jss.plugins.run(i),i}},{key:"registerRule",value:function(t){return t.options.parent?(t.name&&t.className&&(this.classes[t.name]=t.className),this):(t.name&&(this.rules[t.name]=t,t.className&&(this.classes[t.name]=t.className)),t.selector&&(this.rules[t.selector]=t),this)}},{key:"unregisterRule",value:function(t){return t.options.parent||(delete this.rules[t.name],delete this.rules[t.selector]),delete this.classes[t.name],this}},{key:"deploy",value:function(){return this.renderer.deploy(this),this.deployed=!0,this}},{key:"link",value:function(){var t=this.renderer.getRules();for(var e in t){var n=this.rules[e];n&&(n.renderable=t[e])}return this.linked=!0,this}}]),t}();e.default=f},function(t,e){(function(t){"use strict";function n(t){return a(s(t))}function i(t){for(var e in t)return!1;return!0}function r(t,e){for(var n="",i=0;i<t;i++)n+="  ";return n+e}function o(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=n.indentationLevel||0,o="";n.selector!==!1&&(o+=r(i,t+" {"),i++);for(var s in e){var a=e[s];if(Array.isArray(a))for(var l=0;l<a.length;l++)o+="\n"+r(i,s+": "+a[l]+";");else o+="\n"+r(i,s+": "+a+";")}return n.selector!==!1&&(o+="\n"+r(--i,"}")),o}Object.defineProperty(e,"__esModule",{value:!0}),e.clone=n,e.isEmptyObject=i,e.toCSS=o;var s=JSON.stringify,a=JSON.parse;e.uid=function(){function e(){return"jss-"+o+"-"+s++}function n(){s=0}var i="undefined"==typeof window?t:window,r="__JSS_VERSION_COUNTER__";null==i[r]&&(i[r]=0);var o=i[r]++,s=0;return{get:e,reset:n}}(),e.findClassNames=function(){var t=/[.]/g,e=/[.][^ ,]+/g;return function(n){var i=n.match(e);return i?i.join(" ").replace(t,""):""}}()}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(t&&"@"===t[0]){var i=v.exec(t)[0],r=_[i];return new r(t,e,n)}return null==n.named&&(n.named=!0),new s.default(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(126),s=i(o),a=n(127),l=i(a),u=n(128),c=i(u),h=n(129),f=i(h),d=n(130),p=i(d),_={"@charset":l.default,"@import":l.default,"@namespace":l.default,"@keyframes":c.default,"@media":f.default,"@supports":f.default,"@font-face":p.default},v=/^@[^ ]+/},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(124),a=function(){function t(e,n,r){i(this,t),this.id=s.uid.get(),this.type="regular",this.options=r,this.selectorText=e||"",this.className=r.className||"",this.originalStyle=n,this.style=(0,s.clone)(n),r.named&&(this.name=e,this.className||(this.className=this.name?this.name+"--"+this.id:this.id),this.selectorText="."+this.className)}return o(t,[{key:"prop",value:function(t,e){var n=this.options.Renderer.style;return null!=e?(this.style[t]=e,this.renderable&&n(this.renderable,t,e),this):(this.renderable&&null==this.style[t]&&(this.style[t]=n(this.renderable,t)),this.style[t])}},{key:"applyTo",value:function(t){for(var e in this.style){var n=this.style[e],i=this.options.Renderer.style;if(Array.isArray(n))for(var r=0;r<n.length;r++)i(t,e,n[r]);else i(t,e,n)}return this}},{key:"toJSON",value:function(){var t=Object.create(null);for(var e in this.style)"object"!=r(this.style[e])&&(t[e]=this.style[e]);return t}},{key:"toString",value:function(t){return(0,s.toCSS)(this.selector,this.style,t)}},{key:"selector",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options,n=e.Renderer,i=e.sheet;if(i&&i.unregisterRule(this),this.selectorText=t,this.className=(0,s.findClassNames)(t),!this.renderable)return void(i&&i.registerRule(this));var r=n.setSelector(this.renderable,t);return r?void i.registerRule(this):(delete this.renderable,void i.registerRule(this).deploy().link())},get:function(){return this.renderable?this.options.Renderer.getSelector(this.renderable):this.selectorText}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(124),s=function(){function t(e,n,r){i(this,t),this.id=o.uid.get(),this.type="simple",this.name=e,this.value=n,this.options=r}return r(t,[{key:"toString",value:function(){if(Array.isArray(this.value)){for(var t="",e=0;e<this.value.length;e++)t+=this.name+" "+this.value[e]+";",this.value[e+1]&&(t+="\n");return t}return this.name+" "+this.value+";"}}]),t}();e.default=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(124),a=function(){function t(e,n,r){i(this,t),this.id=s.uid.get(),this.type="keyframe",this.selector=e,this.options=r,this.frames=this.formatFrames(n)}return o(t,[{key:"formatFrames",value:function(t){var e=Object.create(null);for(var n in t){var i=r({},this.options,{named:!1,parent:this});e[n]=this.options.jss.createRule(n,t[n],i)}return e}},{key:"toString",value:function(){var t=this.selector+" {\n",e={indentationLevel:1};for(var n in this.frames)t+=this.frames[n].toString(e)+"\n";return t+="}"}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(124),a=function(){function t(e,n,r){i(this,t),this.id=s.uid.get(),this.type="conditional",this.selector=e,this.options=r,this.rules=Object.create(null);for(var o in n)this.createRule(o,n[o])}return o(t,[{key:"createRule",value:function(t,e,n){var i=r({},this.options,{parent:this}),o=i,s=o.sheet,a=o.jss,l=s&&s.getRule(t),u=l?l.className:null;(u||n)&&(i=r({},i,{className:u},n));var c=(s||a).createRule(t,e,i);return this.rules[t]=c,c}},{key:"toString",value:function(){var t=this.selector+" {\n";for(var e in this.rules){var n=this.rules[e];if(!n.style||!(0,s.isEmptyObject)(n.style)){var i=n.toString({indentationLevel:1});t+=i+"\n"}}return t+="}"}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(124),s=function(){function t(e,n,r){i(this,t),this.id=o.uid.get(),this.type="font-face",this.options=r,this.selector=e,this.style=n}return r(t,[{key:"toString",value:function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=(0,o.toCSS)(this.selector,this.style[n],t),this.style[n+1]&&(e+="\n");return e}return(0,o.toCSS)(this.selector,this.style,t)}}]),t}();e.default=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t.Renderer?t.Renderer:t.virtual||"undefined"==typeof document?l.default:s.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(132),s=i(o),a=n(133),l=i(a)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){n(this,t),this.head=document.head||document.getElementsByTagName("head")[0],this.element=e.element||document.createElement("style"),this.element.type="text/css",e.media&&this.element.setAttribute("media",e.media),e.meta&&this.element.setAttribute("data-meta",e.meta)}return i(t,null,[{key:"style",value:function(t,e,n){try{if(null==n)return t.style[e];t.style[e]=n}catch(t){return!1}return!0}},{key:"setSelector",value:function(t,e){return t.selectorText=e,t.selectorText===e}},{key:"getSelector",value:function(t){return t.selectorText}}]),i(t,[{key:"attach",value:function(){this.element.parendNode||this.head.appendChild(this.element)}},{key:"detach",value:function(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function(t){var e="\n"+t.toString()+"\n";"sheet"in this.element?this.element.innerHTML=e:"styleSheet"in this.element&&(this.element.styleSheet.cssText=e)}},{key:"insertRule",value:function(t){var e=this.element.sheet||this.element.styleSheet,n=e.cssRules||e.rules,i=n.length;return e.insertRule?e.insertRule(t.toString(),i):e.addRule(t.selector,t.toString({selector:!1}),i),n[i]}},{key:"getRules",value:function(){for(var t=this.element.sheet||this.element.styleSheet,e=t.rules||t.cssRules,n=Object.create(null),i=0;i<e.length;i++){var r=e[i];n[r.selectorText]=r}return n}}]),t}();e.default=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){n(this,t)}return i(t,[{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"deploy",value:function(){}},{key:"insertRule",value:function(){}},{key:"getRules",value:function(){return{}}}],[{key:"style",value:function(){}},{key:"setSelector",value:function(){}},{key:"getSelector",value:function(){}}]),t}();e.default=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){n(this,t),this.registry=[]}return i(t,[{key:"use",value:function(t){this.registry.push(t)}},{key:"run",value:function(t){for(var e=0;e<this.registry.length;e++)this.registry[e](t)}}]),t}();e.default=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){n(this,t),this.registry=[]}return i(t,[{key:"add",value:function(t){this.registry.push(t)}},{key:"toString",value:function(t){return this.registry.map(function(e){return e.toString(t)}).join("\n")}}]),t}();e.default=r},function(t,e){"use strict";function n(){return function(t){if("regular"===t.type){var e=t.options,n=e.sheet,o=e.jss,s=e.parent,a=n||o,l=void 0;s&&"conditional"===s.type&&(a=s);for(var u in t.style)if("&"===u[0]){l||(l=i({},t.options,{named:!1}));var c=u.replace(r,t.selector);a.createRule(c,t.style[u],l),delete t.style[u]}}}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=n;var r=/&/g},function(t,e){"use strict";function n(){function t(e,n,i){if("string"==typeof i.extend){if(e.options&&e.options.sheet){var r=e.options.sheet.getRule(i.extend);r&&t(e,n,r.originalStyle)}}else if(Array.isArray(i.extend))for(var o=0;o<i.extend.length;o++)t(e,n,i.extend[o]);else for(var s in i.extend)"extend"===s?t(e,n,i.extend.extend):n[s]=i.extend[s];for(var a in i)"extend"!==a&&(n[a]=i[a]);return n}return function(e){e.style&&e.style.extend&&(e.style=t(e,{},e.style))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(){return function(t){var e=t.style;if(e)for(var n in e)i[n]||"number"!=typeof e[n]||(e[n]+="px")}}e.__esModule=!0,e.default=n;var i={"animation-iteration-count":!0,"box-ordinal-group":!0,"column-count":!0,"fill-opacity":!0,flex:!0,"flex-grow":!0,"flex-order":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"stop-opacity":!0,"tab-size":1,widows:!0,"z-index":!0,zoom:!0};t.exports=e.default},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(){return function(t){if("keyframe"===t.type)return void(t.selector="@"+s.prefix.css+"keyframes"+t.selector.substr(10));if("regular"===t.type)for(var e in t.style){var n=t.style[e],i=!1,r=s.supportedProperty(e);r&&r!==e&&(i=!0);var o=!1,a=s.supportedValue(r,n);a&&a!==n&&(o=!0),(i||o)&&(i&&delete t.style[e],t.style[r||e]=a||n)}}}e.__esModule=!0,e.default=r;var o=n(140),s=i(o);t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.supportedValue=e.supportedProperty=e.prefix=void 0;var r=n(141),o=i(r),s=n(143),a=i(s),l=n(145),u=i(l);e.default={prefix:o.default,supportedProperty:a.default,supportedValue:u.default},/**
	    * CSS Vendor prefix detection and property feature testing.
	    *
	    * @copyright Oleg Slobodskoi 2015
	    * @website https://github.com/jsstyles/css-vendor
	    * @license MIT
	    */
e.prefix=o.default,e.supportedProperty=a.default,e.supportedValue=u.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(142),o=i(r),s="",a="";if(o.default){var l={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},u=document.createElement("p").style,c="Transform";for(var h in l)if(h+c in u){s=h,a=l[h];break}}e.default={js:s,css:a}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=e.isBrowser="object"===("undefined"==typeof window?"undefined":n(window))&&"object"===("undefined"==typeof document?"undefined":n(document))&&9===document.nodeType;e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return h?null!=f[t]?f[t]:((0,c.default)(t)in h.style?f[t]=t:l.default.js+(0,c.default)("-"+t)in h.style?f[t]=l.default.css+t:f[t]=!1,f[t]):t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(142),s=i(o),a=n(141),l=i(a),u=n(144),c=i(u),h=void 0,f={};if(s.default){h=document.createElement("p");var d=window.getComputedStyle(document.documentElement,"");for(var p in d)isNaN(p)||(f[d[p]]=d[p])}},function(t,e){"use strict";function n(t){return t.replace(r,i)}function i(t,e){return e?e.toUpperCase():""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=/[-\s]+(.)?/g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!c)return e;if("string"!=typeof e||!isNaN(parseInt(e,10)))return e;var n=t+e;if(null!=u[n])return u[n];try{c.style[t]=e}catch(t){return u[n]=!1,!1}return""!==c.style[t]?u[n]=e:(e=l.default.css+e,"-ms-flex"===e&&(e="-ms-flexbox"),c.style[t]=e,""!==c.style[t]&&(u[n]=e)),u[n]||(u[n]=!1),c.style[t]="",u[n]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(142),s=i(o),a=n(141),l=i(a),u={},c=void 0;s.default&&(c=document.createElement("p"))},function(t,e){"use strict";function n(t){return"-"+t.toLowerCase()}function i(t){var e={};for(var i in t){var o=t[i];i=i.replace(r,n),e[i]=o}return e}Object.defineProperty(e,"__esModule",{value:!0});var r=/([A-Z])/g;e.default=function(){return function(t){var e=t.style;if(e)if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=i(e[n]);else t.style=i(e)}}},function(t,e){"use strict";function n(){function t(t,e){return t.length>e.length}return function(e){var n=e.style,i=e.type;if(n&&"regular"===i){var r={},o=Object.keys(n).sort(t);for(var s in o)r[o[s]]=n[o[s]];e.style=r}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){function i(t){this.options=Object.create(i.DEFAULT_OPTIONS),this._optionsManager=new u(this.options),t&&this.setOptions(t),this._eventOutput=new l,this._touchTracker=new a({touchLimit:this.options.touchLimit}),l.setOutputHandler(this,this._eventOutput),l.setInputHandler(this,this._touchTracker),this._touchTracker.on("trackstart",r.bind(this)),this._touchTracker.on("trackmove",o.bind(this)),this._touchTracker.on("trackend",s.bind(this)),this._payload={delta:null,position:null,velocity:null,clientX:void 0,clientY:void 0,count:0,touch:void 0},this._position=null}function r(t){var e,n;void 0!==this.options.direction?(this._position=0,e=0,n=0):(this._position=[0,0],e=[0,0],n=[0,0]);var i=this._payload;i.delta=n,i.position=this._position,i.velocity=e,i.clientX=t.x,i.clientY=t.y,i.count=t.count,i.touch=t.identifier,this._eventOutput.emit("start",i)}function o(t){var e=t.history,n=e[e.length-1],r=e[e.length-2],o=e[e.length-this.options.velocitySampleLength]?e[e.length-this.options.velocitySampleLength]:e[e.length-2],s=o.timestamp,a=n.timestamp,l=n.x-r.x,u=n.y-r.y,h=n.x-o.x,f=n.y-o.y;this.options.rails&&(Math.abs(l)>Math.abs(u)?u=0:l=0,Math.abs(h)>Math.abs(f)?f=0:h=0);var d,p,_=Math.max(a-s,c),v=h/_,m=f/_,g=this.options.scale;this.options.direction===i.DIRECTION_X?(p=g*l,d=g*v,this._position+=p):this.options.direction===i.DIRECTION_Y?(p=g*u,d=g*m,this._position+=p):(p=[g*l,g*u],d=[g*v,g*m],this._position[0]+=p[0],this._position[1]+=p[1]);var y=this._payload;y.delta=p,y.velocity=d,y.position=this._position,y.clientX=t.x,y.clientY=t.y,y.count=t.count,y.touch=t.identifier,this._eventOutput.emit("update",y)}function s(t){this._payload.count=t.count,this._eventOutput.emit("end",this._payload)}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var a=n(149),l=n(101),u=n(107);i.DEFAULT_OPTIONS={direction:void 0,rails:!1,touchLimit:1,velocitySampleLength:10,scale:1},i.DIRECTION_X=0,i.DIRECTION_Y=1;var c=8;i.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},i.prototype.getOptions=function(){return this.options},t.exports=i},function(t,e,n){function i(t,e,n){return{x:t.clientX,y:t.clientY,identifier:t.identifier,origin:e.origin,timestamp:c(),count:e.touches.length,history:n}}function r(t){if(!(t.touches.length>this.touchLimit)){this.isTouched=!0;for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],r=i(n,t,null);this.eventOutput.emit("trackstart",r),this.selective||this.touchHistory[n.identifier]||this.track(r)}}}function o(t){if(!(t.touches.length>this.touchLimit))for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],r=this.touchHistory[n.identifier];if(r){var o=i(n,t,r);this.touchHistory[n.identifier].push(o),this.eventOutput.emit("trackmove",o)}}}function s(t){if(this.isTouched){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],r=this.touchHistory[n.identifier];if(r){var o=i(n,t,r);this.eventOutput.emit("trackend",o),delete this.touchHistory[n.identifier]}}this.isTouched=!1}}function a(){for(var t in this.touchHistory){var e=this.touchHistory[t];this.eventOutput.emit("trackend",{touch:e[e.length-1].touch,timestamp:Date.now(),count:0,history:e}),delete this.touchHistory[t]}}function l(t){this.selective=t.selective,this.touchLimit=t.touchLimit||1,this.touchHistory={},this.eventInput=new u,this.eventOutput=new u,u.setInputHandler(this,this.eventInput),u.setOutputHandler(this,this.eventOutput),this.eventInput.on("touchstart",r.bind(this)),this.eventInput.on("touchmove",o.bind(this)),this.eventInput.on("touchend",s.bind(this)),this.eventInput.on("touchcancel",s.bind(this)),this.eventInput.on("unpipe",a.bind(this)),this.isTouched=!1}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var u=n(101),c=Date.now;l.prototype.track=function(t){this.touchHistory[t.identifier]=[t]},t.exports=l},function(t,e,n){function i(t,e){this._eventInput=new o,this._eventOutput=new o,o.setInputHandler(this,this._eventInput),o.setOutputHandler(this,this._eventOutput),this._syncs={},t&&this.addSync(t),e&&this.setOptions(e)}function r(t,e){s[t]&&(this._syncs[t]=new s[t](e),this.pipeSync(t))}/* This Source Code Form is subject to the terms of the Mozilla Public
	 * License, v. 2.0. If a copy of the MPL was not distributed with this
	 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
	 *
	 * Owner: mark@famo.us
	 * @license MPL 2.0
	 * @copyright Famous Industries, Inc. 2015
	 */
var o=n(101);i.DIRECTION_X=0,i.DIRECTION_Y=1,i.DIRECTION_Z=2;var s={};i.register=function(t){for(var e in t)if(s[e]){if(s[e]!==t[e])throw new Error("Conflicting sync classes for key: "+e)}else s[e]=t[e]},i.prototype.setOptions=function(t){for(var e in this._syncs)this._syncs[e].setOptions(t)},i.prototype.pipeSync=function(t){var e=this._syncs[t];this._eventInput.pipe(e),e.pipe(this._eventOutput)},i.prototype.unpipeSync=function(t){var e=this._syncs[t];this._eventInput.unpipe(e),e.unpipe(this._eventOutput)},i.prototype.addSync=function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)r.call(this,t[e]);else if(t instanceof Object)for(var n in t)r.call(this,n,t[n])},t.exports=i},function(t,e){"use strict";function n(t,e){var n=0;return function(){++n==t&&"function"==typeof e&&e.apply(this,arguments)}}e.callAfter=n,e.default=n,e.__esModule=!0},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Utility=e.XYZValues=e.TreeNode=e.Transformable=e.Sizeable=e.Scene=e.Node=e.Motor=e.ElementManager=void 0;var o=n(153),s=r(o),a=n(223),l=r(a),u=n(154),c=r(u),h=n(235),f=r(h),d=n(214),p=r(d),_=n(172),v=r(_),m=n(217),g=r(m),y=n(185),b=r(y),x=n(186),w=i(x);e.ElementManager=s.default,e.Motor=l.default,e.Node=c.default,e.Scene=f.default,e.Sizeable=p.default,e.Transformable=v.default,e.TreeNode=g.default,e.XYZValues=b.default,e.Utility=w},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(29),o=i(r),s=n(30),a=i(s),l=n(154),u=i(l),c=n(223),h=i(c),f=function(){function t(e){(0,o.default)(this,t),this.element=e}return(0,a.default)(t,[{key:"setClasses",value:function(){var t;return arguments.length&&(t=this.element.classList).add.apply(t,arguments),this}},{key:"applyStyle",value:function(t,e){this.element.style[t]=e}},{key:"addChild",value:function(t){this.element.appendChild(t.element)}},{key:"removeChild",value:function(t){t.element.parentNode===this.element&&this.element.removeChild(t.element)}},{key:"connectChildElement",value:function(t){(!t._elementManager.element.parentNode||t._elementManager.element.parentElement&&t._elementManager.element.parentElement!==this.element)&&this.addChild(t._elementManager)}},{key:"disconnectChildElement",value:function(t){t._elementManager.element.parentNode&&this.removeChild(t._elementManager)}},{key:"applyTransform",value:function(t){var e="matrix3d(\n            "+t.m11+",\n            "+t.m12+",\n            "+t.m13+",\n            "+t.m14+",\n            "+t.m21+",\n            "+t.m22+",\n            "+t.m23+",\n            "+t.m24+",\n            "+t.m31+",\n            "+t.m32+",\n            "+t.m33+",\n            "+t.m34+",\n            "+t.m41+",\n            "+t.m42+",\n            "+t.m43+",\n            "+t.m44+"\n        )";this.applyStyle("transform",e)}},{key:"applySize",value:function(t){var e=t.x,n=t.y;this.applyStyle("width",e+"px"),this.applyStyle("height",n+"px")}},{key:"applyOpacity",value:function(t){this.applyStyle("opacity",t)}},{key:"applyImperativeNodeProperties",value:function(t){t instanceof u.default&&(this.applyOpacity(t._properties.opacity),this.applyTransform(t._properties.transform)),this.applySize(t._calculatedSize)}},{key:"shouldRender",value:function(){var t=this,e=h.default.addRenderTask(function(){t.applyStyle("display","block"),h.default.removeRenderTask(e)})}},{key:"shouldNotRender",value:function(){var t=this,e=h.default.addRenderTask(function(){t.applyStyle("display","none"),h.default.removeRenderTask(e)})}}]),t}();e.default=f},function(t,n,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(155),s=r(o),a=i(3),l=r(a),u=i(29),c=r(u),h=i(30),f=r(h),d=i(34),p=r(d),_=i(81),v=r(_);i(171);var m=i(172),g=r(m),y=i(234),b=r(y),x=i(241),w=r(x),S=i(235),k=r(S);(0,y.initImperativeBase)();var M=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(this,n);var e=(0,p.default)(this,(n.__proto__||(0,l.default)(n)).call(this,t));return e._scene=null,e._scenePromise=null,e._resolveScenePromise=null,e._onParentSizeChange=function(){"proportional"!==e._properties.sizeMode.x&&"proportional"!==e._properties.sizeMode.y&&"proportional"!==e._properties.sizeMode.z&&0===e._properties.align.x&&0===e._properties.align.y&&0===e._properties.align.z||(e._calcSize(),e._needsToBeRendered())},e._calcSize(),e._needsToBeRendered(),e}return(0,v.default)(n,t),(0,f.default)(n,[{key:"_waitForMountThenResolveMountPromise",value:function(){var t=this;if(this._awaitingScenePromise)return s.default.resolve();var n=function(){t._mounted=!0,t._resolveMountPromise(),t._elementManager.shouldRender()};this._awaitingScenePromise=!0;var i=void 0;return this._getScenePromise().then(function(){return t._scene.mountPromise}).then(n).catch(function(){"mountcancel"!=e&&(i=e)}).then(function(){if(t._awaitingScenePromise=!1,i)throw i})}},{key:"_makeElement",value:function(){return new w.default}},{key:"_getScenePromise",value:function(){var t=this;return this._scenePromise||(this._scenePromise=new s.default(function(e,n){t._resolveScenePromise=e})),this._scene&&this._resolveScenePromise(),this._scenePromise}},{key:"_giveSceneRefToChildren",value:function(){for(var t=this._children,e=0,n=t.length;e<n;e+=1){var i=t[e];i._scene=this._scene,i._resolveScenePromise&&i._resolveScenePromise(i._scene),i._giveSceneRefToChildren()}}},{key:"_resetSceneRef",value:function(){this._scene=null,this._scenePromise=null,this._resolveScenePromise=null;for(var t=this._children,e=0,n=t.length;e<n;e+=1)t[e]._resetSceneRef()}},{key:"scene",get:function(){return this._scene||!this._parent?this._scene:(this._parent._scene?this._scene=this._parent._scene:this._parent instanceof k.default?this._scene=this._parent:this._scene=this._parent.scene,this._scene)}}]),n}(b.default.mixin(g.default));n.default=M},function(t,e,n){t.exports={default:n(156),__esModule:!0}},function(t,e,n){n(78),n(38),n(60),n(157),t.exports=n(16).Promise},function(t,e,n){"use strict";var i,r,o,s=n(42),a=n(12),l=n(17),u=n(158),c=n(15),h=n(22),f=n(18),d=n(159),p=n(160),_=n(164),v=n(165).set,m=n(167)(),g="Promise",y=a.TypeError,b=a.process,x=a[g],b=a.process,w="process"==u(b),S=function(){},k=!!function(){try{var t=x.resolve(1),e=(t.constructor={})[n(59)("species")]=function(t){t(S,S)};return(w||"function"==typeof PromiseRejectionEvent)&&t.then(S)instanceof e}catch(t){}}(),M=function(t,e){return t===e||t===x&&e===o},O=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},C=function(t){return M(x,t)?new P(t):new r(t)},P=r=function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw y("Bad Promise constructor");e=t,n=i}),this.resolve=f(e),this.reject=f(n)},E=function(t){try{t()}catch(t){return{error:t}}},T=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s=r?e.ok:e.fail,a=e.resolve,l=e.reject,u=e.domain;try{s?(r||(2==t._h&&F(t),t._h=1),s===!0?n=i:(u&&u.enter(),n=s(i),u&&u.exit()),n===e.promise?l(y("Promise-chain cycle")):(o=O(n))?o.call(n,a,l):a(n)):l(i)}catch(t){l(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&A(t)})}},A=function(t){v.call(a,function(){var e,n,i,r=t._v;if(R(t)&&(e=E(function(){w?b.emit("unhandledRejection",r,t):(n=a.onunhandledrejection)?n({promise:t,reason:r}):(i=a.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=w||R(t)?2:1),t._a=void 0,e)throw e.error})},R=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if(e=n[i++],e.fail||!R(e.promise))return!1;return!0},F=function(t){v.call(a,function(){var e;w?b.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),T(e,!0))},z=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw y("Promise can't be resolved itself");(e=O(t))?m(function(){var i={_w:n,_d:!1};try{e.call(t,l(z,i,1),l(L,i,1))}catch(t){L.call(i,t)}}):(n._v=t,n._s=1,T(n,!1))}catch(t){L.call({_w:n,_d:!1},t)}}};k||(x=function(t){d(this,x,g,"_h"),f(t),i.call(this);try{t(l(z,this,1),l(L,this,1))}catch(t){L.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(168)(x.prototype,{then:function(t,e){var n=C(_(this,x));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=w?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&T(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),P=function(){var t=new i;this.promise=t,this.resolve=l(z,t,1),this.reject=l(L,t,1)}),c(c.G+c.W+c.F*!k,{Promise:x}),n(58)(x,g),n(169)(g),o=n(16)[g],c(c.S+c.F*!k,g,{reject:function(t){var e=C(this),n=e.reject;return n(t),e.promise}}),c(c.S+c.F*(s||!k),g,{resolve:function(t){if(t instanceof x&&M(t.constructor,this))return t;var e=C(this),n=e.resolve;return n(t),e.promise}}),c(c.S+c.F*!(k&&n(170)(function(t){x.all(t).catch(S)})),g,{all:function(t){var e=this,n=C(e),i=n.resolve,r=n.reject,o=E(function(){var n=[],o=0,s=1;p(t,!1,function(t){var a=o++,l=!1;n.push(void 0),s++,e.resolve(t).then(function(t){l||(l=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o&&r(o.error),n.promise},race:function(t){var e=this,n=C(e),i=n.reject,r=E(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r&&i(r.error),n.promise}})},function(t,e,n){var i=n(52),r=n(59)("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(17),r=n(161),o=n(162),s=n(21),a=n(54),l=n(163),u={},c={},e=t.exports=function(t,e,n,h,f){var d,p,_,v,m=f?function(){return t}:l(t),g=i(n,h,e?2:1),y=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(d=a(t.length);d>y;y++)if(v=e?g(s(p=t[y])[0],p[1]):g(t[y]),v===u||v===c)return v}else for(_=m.call(t);!(p=_.next()).done;)if(v=r(_,g,p.value,e),v===u||v===c)return v};e.BREAK=u,e.RETURN=c},function(t,e,n){var i=n(21);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(44),r=n(59)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(158),r=n(59)("iterator"),o=n(44);t.exports=n(16).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(21),r=n(18),o=n(59)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[o])?e:r(n)}},function(t,e,n){var i,r,o,s=n(17),a=n(166),l=n(57),u=n(26),c=n(12),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,_=0,v={},m="onreadystatechange",g=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){g.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++_]=function(){a("function"==typeof t?t:Function(t),e)},i(_),_},d=function(t){delete v[t]},"process"==n(52)(h)?i=function(t){h.nextTick(s(g,t,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=y,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",y,!1)):i=m in u("script")?function(t){l.appendChild(u("script"))[m]=function(){l.removeChild(this),g.call(t)}}:function(t){setTimeout(s(g,t,1),0)}),t.exports={set:f,clear:d}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(12),r=n(165).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==n(52)(s);t.exports=function(){var t,e,n,u=function(){var i,r;for(l&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(u)};else if(o){var c=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=c=!c}}else if(a&&a.resolve){var f=a.resolve();n=function(){f.then(u)}}else n=function(){r.call(i,u)};return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var i=n(19);t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e,n){"use strict";var i=n(12),r=n(16),o=n(20),s=n(24),a=n(59)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(59)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=i(r),s=n(2),a=i(s),l=n(4),u=null;"undefined"!=typeof window?u=window:"undefined"!=typeof t&&(u=t),u&&(u.DOMMatrix=o.default,u.DOMMatrixReadOnly=a.default,u.DOMPoint=l.DOMPoint,u.DOMPointReadOnly=l.DOMPointReadOnly),e.DOMMatrix=o.default,e.DOMMatrixReadOnly=a.default,e.DOMPoint=l.DOMPoint,e.DOMPointReadOnly=l.DOMPointReadOnly}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=s,i=!0,a=u=void 0}},l=n(2),u=i(l),c=n(3),h=function(t){function e(t){r(this,e);var n=arguments.length;if(0===n)a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,[1,0,0,1,0,0]);else{if(1!==n)throw new Error("Wrong number of arguments to DOMMatrix constructor.");if("string"==typeof t)throw new Error("CSS transformList arg not yet implemented.");t instanceof e?a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t._matrix):(t instanceof Float32Array||t instanceof Float64Array||t instanceof Array)&&a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}}return o(e,t),s(e,[{key:"multiplySelf",value:function(t){if(!(t instanceof e))throw new Error("The argument to multiplySelf must be an instance of DOMMatrix");return(0,c.multiplyAndApply)(this,t,this),t.is2D||(this._is2D=!1),this}},{key:"preMultiplySelf",value:function(t){if(!(t instanceof e))throw new Error("The argument to multiplySelf must be an instance of DOMMatrix");return(0,c.multiplyAndApply)(t,this,this),t.is2D||(this._is2D=!1),this}},{key:"translateSelf",value:function(t,n){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(1===arguments.length)throw new Error("The first two arguments (X and Y translation values) are required (the third, Z translation, is optional).");var r=new e([1,0,0,0,0,1,0,0,0,0,1,0,t,n,i,1]);return this.multiplySelf(r),0!=i&&(this._is2D=!1),this}},{key:"scaleSelf",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return this.translateSelf(n,i),this.multiplySelf(new e([t,0,0,t,0,0])),this.translateSelf(-n,-i),this}},{key:"scale3dSelf",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return this.translateSelf(n,i,r),this.multiplySelf(new e([t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1])),this.translateSelf(-n,-i,-r),this}},{key:"scaleNonUniformSelf",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?1:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3],o=arguments.length<=4||void 0===arguments[4]?0:arguments[4],s=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return this.translateSelf(r,o,s),this.multiplySelf(new e([t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1])),this.translateSelf(-r,-o,-s),1===i&&0===s||(this._is2D=!1),this}},{key:"rotateSelf",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];this.translateSelf(e,n);var i=0,r=0,o=1;return this.rotateAxisAngleSelf(i,r,o,t),this.translateSelf(-e,-n),this}},{key:"rotateFromVectorSelf",value:function(t,e){throw new Error("rotateFromVectorSelf is not implemented yet.")}},{key:"rotateAxisAngleSelf",value:function(t,n,i,r){var o=new e((0,c.rotateAxisAngleArray)(t,n,i,r));return this.multiplySelf(o),this}},{key:"skewXSelf",value:function(t){throw new Error("skewXSelf is not implemented yet.")}},{key:"skewYSelf",value:function(t){throw new Error("skewYSelf is not implemented yet.")}},{key:"invertSelf",value:function(){throw new Error("invertSelf is not implemented yet.")}},{key:"setMatrixValue",value:function(t){throw new Error("setMatrixValue is not implemented yet.")}},{key:"a",get:function(){return this.m11},set:function(t){this.m11=t}},{key:"b",get:function(){return this.m12},set:function(t){this.m12=t}},{key:"c",get:function(){return this.m21},set:function(t){this.m21=t}},{key:"d",get:function(){return this.m22},set:function(t){this.m22=t}},{key:"e",get:function(){return this.m41},set:function(t){this.m41=t}},{key:"f",get:function(){return this.m42},set:function(t){this.m42=t}},{key:"m11",get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}},{key:"m12",get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}},{key:"m13",get:function(){return this._matrix[8]},set:function(t){this._matrix[8]=t}},{key:"m14",get:function(){return this._matrix[12]},set:function(t){this._matrix[12]=t}},{key:"m21",get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}},{key:"m22",get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}},{key:"m23",get:function(){return this._matrix[9]},set:function(t){this._matrix[9]=t}},{key:"m24",get:function(){return this._matrix[13]},set:function(t){this._matrix[13]=t}},{key:"m31",get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}},{key:"m32",get:function(){return this._matrix[6]},set:function(t){this._matrix[6]=t}},{key:"m33",get:function(){return this._matrix[10]},set:function(t){this._matrix[10]=t}},{key:"m34",get:function(){return this._matrix[14]},set:function(t){this._matrix[14]=t}},{key:"m41",get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}},{key:"m42",get:function(){return this._matrix[7]},set:function(t){this._matrix[7]=t}},{key:"m43",get:function(){return this._matrix[11]},set:function(t){this._matrix[11]=t}},{key:"m44",get:function(){return this._matrix[15]},set:function(t){this._matrix[15]=t}}]),e}(u.default);e.default=h,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=i(s),l=n(3),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(r(this,t),!(this instanceof a.default))throw new TypeError("DOMMatrixReadOnly can't be instantiated directly. Use DOMMatrix instead.");var n=e.length;if(void 0===n||6!==n&&16!==n)throw new TypeError('DOMMatrix constructor argument "numberSequence" must be an array-like with 6 or 16 numbers.');this._matrix=new Float64Array(u),this._isIdentity=!0,this._is2D=6===n,(0,l.applyArrayValuesToDOMMatrix)(e,this)}return o(t,[{key:"translate",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new a.default(this).translateSelf(t,e,n)}},{key:"scale",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new a.default(this).scaleSelf(t,e,n)}},{key:"scale3d",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return new a.default(this).scale3dSelf(t,e,n,i)}},{key:"scaleNonUniform",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],i=arguments.length<=3||void 0===arguments[3]?0:arguments[3],r=arguments.length<=4||void 0===arguments[4]?0:arguments[4],o=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return new a.default(this).scaleNonUniformSelf(t,e,n,i,r,o)}},{key:"rotate",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new a.default(this).rotateSelf(t,e,n)}},{key:"rotateFromVector",value:function(t,e){throw new Error("rotateFromVector is not implemented yet.")}},{key:"rotateAxisAngle",value:function(t,e,n,i){return new a.default(this).rotateAxisAngleSelf(t,e,n,i)}},{key:"skewX",value:function(t){throw new Error("skewX is not implemented yet.")}},{key:"skewY",value:function(t){throw new Error("skewY is not implemented yet.")}},{key:"multiply",value:function(t){return new a.default(this).multiplySelf(t)}},{key:"flipX",value:function(){throw new Error("flipX is not implemented yet.")}},{key:"flipY",value:function(){throw new Error("flipY is not implemented yet.")}},{key:"inverse",value:function(){throw new Error("inverse is not implemented yet.")}},{key:"transformPoint",value:function(t){throw new Error("transformPoint is not implemented yet.")}},{key:"toFloat32Array",value:function(){return Float32Array.from(this._matrix)}},{key:"toFloat64Array",value:function(){return Float64Array.from(this._matrix)}},{key:"is2D",get:function(){return this._is2D}},{key:"isIdentity",get:function(){for(var t=0,e=this._matrix.length;t<e;t+=1)if(this._matrix[t]!=u[t])return this._isIdentity=!1;return this._isIdentity=!0}},{key:"a",get:function(){return this.m11}},{key:"b",get:function(){return this.m12}},{key:"c",get:function(){return this.m21}},{key:"d",get:function(){return this.m22}},{key:"e",get:function(){return this.m41}},{key:"f",get:function(){return this.m42}},{key:"m11",get:function(){return this._matrix[0]}},{key:"m12",get:function(){return this._matrix[4]}},{key:"m13",get:function(){return this._matrix[8]}},{key:"m14",get:function(){return this._matrix[12]}},{key:"m21",get:function(){return this._matrix[1]}},{key:"m22",get:function(){return this._matrix[5]}},{key:"m23",get:function(){return this._matrix[9]}},{key:"m24",get:function(){return this._matrix[13]}},{key:"m31",get:function(){return this._matrix[2]}},{key:"m32",get:function(){return this._matrix[6]}},{key:"m33",get:function(){return this._matrix[10]}},{key:"m34",get:function(){return this._matrix[14]}},{key:"m41",get:function(){return this._matrix[3]}},{key:"m42",get:function(){return this._matrix[7]}},{key:"m43",get:function(){return this._matrix[11]}},{key:"m44",get:function(){return this._matrix[15]}}]),t}();e.default=c,t.exports=e.default},function(t,e){"use strict";function n(t,e,n){s[0]=t.m11*e.m11+t.m21*e.m12+t.m31*e.m13+t.m41*e.m14,s[4]=t.m11*e.m21+t.m21*e.m22+t.m31*e.m23+t.m41*e.m24,s[8]=t.m11*e.m31+t.m21*e.m32+t.m31*e.m33+t.m41*e.m34,s[12]=t.m11*e.m41+t.m21*e.m42+t.m31*e.m43+t.m41*e.m44,s[1]=t.m12*e.m11+t.m22*e.m12+t.m32*e.m13+t.m42*e.m14,s[5]=t.m12*e.m21+t.m22*e.m22+t.m32*e.m23+t.m42*e.m24,s[9]=t.m12*e.m31+t.m22*e.m32+t.m32*e.m33+t.m42*e.m34,s[13]=t.m12*e.m41+t.m22*e.m42+t.m32*e.m43+t.m42*e.m44,s[2]=t.m13*e.m11+t.m23*e.m12+t.m33*e.m13+t.m43*e.m14,s[6]=t.m13*e.m21+t.m23*e.m22+t.m33*e.m23+t.m43*e.m24,s[10]=t.m13*e.m31+t.m23*e.m32+t.m33*e.m33+t.m43*e.m34,s[14]=t.m13*e.m41+t.m23*e.m42+t.m33*e.m43+t.m43*e.m44,s[3]=t.m14*e.m11+t.m24*e.m12+t.m34*e.m13+t.m44*e.m14,s[7]=t.m14*e.m21+t.m24*e.m22+t.m34*e.m23+t.m44*e.m24,s[11]=t.m14*e.m31+t.m24*e.m32+t.m34*e.m33+t.m44*e.m34,s[15]=t.m14*e.m41+t.m24*e.m42+t.m34*e.m43+t.m44*e.m44,i(s,n)}function i(t,e){var n=t.length;6===n?(e.m11=t[0],e.m12=t[1],e.m21=t[2],e.m22=t[3],e.m41=t[4],e.m42=t[5]):16===n&&(e.m11=t[0],e.m12=t[1],e.m13=t[2],e.m14=t[3],e.m21=t[4],e.m22=t[5],e.m23=t[6],e.m24=t[7],e.m31=t[8],e.m32=t[9],e.m33=t[10],e.m34=t[11],e.m41=t[12],e.m42=t[13],e.m43=t[14],e.m44=t[15])}function r(t,e,n,i){var r=Math.sin,s=Math.cos,a=Math.pow,l=o(i/2);return[1-2*(e*e+n*n)*a(r(l),2),2*(t*e*a(r(l),2)+n*r(l)*s(l)),2*(t*n*a(r(l),2)-e*r(l)*s(l)),0,2*(t*e*a(r(l),2)-n*r(l)*s(l)),1-2*(t*t+n*n)*a(r(l),2),2*(e*n*a(r(l),2)+t*r(l)*s(l)),0,2*(t*n*a(r(l),2)+e*r(l)*s(l)),2*(e*n*a(r(l),2)-t*r(l)*s(l)),1-2*(t*t+e*e)*a(r(l),2),0,0,0,0,1]}function o(t){return Math.PI/180*t}Object.defineProperty(e,"__esModule",{value:!0}),e.multiplyAndApply=n,e.applyArrayValuesToDOMMatrix=i,e.rotateAxisAngleArray=r;var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},function(t,e){"use strict";function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return"object"==typeof t&&("x"in t&&"y"in t&&"z"in t&&"w"in t)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=s,i=!0,a=u=void 0}},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=void 0,l=function(t){if(a){var e=a.get(t);return void 0===e&&(e={},a.set(t,e)),e}a=new WeakMap;var e={};return a.set(t,e),e},u=function(){function t(e,n,o,s){if(i(this,t),1===arguments.length){if(!r(e))throw new TypeError("Expected an object with x, y, z, and w properties");l(this).x=e.x,l(this).y=e.y,l(this).z=e.z,l(this).w=e.w}else{if(4!==arguments.length)throw new TypeError("Expected 1 or 4 arguments");l(this).x=e||0,l(this).y=n||0,l(this).z=o||0,l(this).w=s||0}}return s(t,[{key:"matrixTransform",value:function(t){var e=new this.constructor(this);return e}},{key:"x",get:function(){return l(this).x}},{key:"y",get:function(){return l(this).y}},{key:"z",get:function(){return l(this).z}},{key:"w",get:function(){return l(this).w}}],[{key:"fromPoint",value:function(t){return new this(t)}}]),t}();e.DOMPointReadOnly=u;var c=function(t){function e(){i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return n(e,t),s(e,[{key:"x",set:function(t){l(this).x=t}},{key:"y",set:function(t){l(this).y=t}},{key:"z",set:function(t){l(this).z=t}},{key:"w",set:function(t){l(this).w=t}}]),e}(u);e.DOMPoint=c,e.default=c}])})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return"number"==typeof t&&!(0,s.default)(t,NaN)&&!(0,s.default)(t,1/0)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(173),s=i(o),a=n(117),l=i(a),u=n(177),c=i(u),h=n(31),f=i(h),d=n(180),p=i(d),_=n(3),v=i(_),m=n(29),g=i(m),y=n(30),b=i(y),x=n(34),w=i(x),S=n(184),k=i(S),M=n(116),O=i(M),C=n(81),P=i(C),E=n(65),T=i(E),A=n(185),R=i(A),F=n(214),L=i(F),z=n(186),j=(0,T.default)("instanceofSymbol"),N=function(t){var e=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.default)(this,e);var n=(0,w.default)(this,(e.__proto__||(0,v.default)(e)).call(this,t));return n._worldMatrix=null,n}return(0,P.default)(e,t),(0,b.default)(e,[{key:"_setDefaultProperties",value:function(){(0,O.default)(e.prototype.__proto__||(0,v.default)(e.prototype),"_setDefaultProperties",this).call(this),(0,p.default)(this._properties,{position:new R.default(0,0,0),rotation:new R.default(0,0,0),scale:new R.default(1,1,1),origin:new R.default(.5,.5,.5),align:new R.default(0,0,0),mountPoint:new R.default(0,0,0),opacity:1,transform:new window.DOMMatrix})}},{key:"_setPropertyObservers",value:function(){var t=this;(0,O.default)(e.prototype.__proto__||(0,v.default)(e.prototype),"_setPropertyObservers",this).call(this),this._properties.position.on("valuechanged",function(){return t.triggerEvent("propertychange","position")}),this._properties.rotation.on("valuechanged",function(){return t.triggerEvent("propertychange","rotation")}),this._properties.scale.on("valuechanged",function(){return t.triggerEvent("propertychange","scale")}),this._properties.origin.on("valuechanged",function(){return t.triggerEvent("propertychange","origin")}),this._properties.align.on("valuechanged",function(){return t.triggerEvent("propertychange","align")}),this._properties.mountPoint.on("valuechanged",function(){return t.triggerEvent("propertychange","mountPoint")})}},{key:"_calculateMatrix",value:function(){var t=new window.DOMMatrix,e=this._properties,n=[0,0,0];if(this._parent){var i=this._parent._calculatedSize,r=e.align;n[0]=i.x*r.x,n[1]=i.y*r.y,n[2]=i.z*r.z}var o=[0,0,0],s=this._calculatedSize,a=e.mountPoint;o[0]=s.x*a.x,o[1]=s.y*a.y,o[2]=s.z*a.z;var l=[],u=e.position;l[0]=u.x+n[0]-o[0],l[1]=u.y+n[1]-o[1],l[2]=u.z+n[2]-o[2],t.translateSelf(l[0],l[1],l[2]);var c=e.rotation;return t.rotateAxisAngleSelf(1,0,0,c.x),t.rotateAxisAngleSelf(0,1,0,c.y),t.rotateAxisAngleSelf(0,0,1,c.z),t}},{key:"_calculateWorldMatricesInSubtree",value:function(){this._calculateWorldMatrixFromParent();for(var t=this._children,e=0,n=t.length;e<n;e+=1)t[e]._calculateWorldMatricesInSubtree();
}},{key:"_calculateWorldMatrixFromParent",value:function(){var t=this._parent;t instanceof e?this._worldMatrix=this._properties.transform.multiply(t._worldMatrix):this._worldMatrix=this._properties.transform}},{key:"_render",value:function(){(0,O.default)(e.prototype.__proto__||(0,v.default)(e.prototype),"_render",this).call(this),this._properties.transform=this._calculateMatrix()}},{key:"position",set:function(t){this._setPropertyXYZ(e,"position",t)},get:function(){return this._properties.position}},{key:"rotation",set:function(t){this._setPropertyXYZ(e,"rotation",t)},get:function(){return this._properties.rotation}},{key:"scale",set:function(t){this._setPropertyXYZ(e,"scale",t)},get:function(){return this._properties.scale}},{key:"opacity",set:function(t){r(t)||(t=void 0),this._setPropertySingle(e,"opacity",t,"number")},get:function(){return this._properties.opacity}},{key:"align",set:function(t){this._setPropertyXYZ(e,"align",t)},get:function(){return this._properties.align}},{key:"mountPoint",set:function(t){this._setPropertyXYZ(e,"mountPoint",t)},get:function(){return this._properties.mountPoint}},{key:"properties",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,k.default)(e.prototype.__proto__||(0,v.default)(e.prototype),"properties",t,this),t.position&&(this.position=t.position),t.rotation&&(this.rotation=t.rotation),t.scale&&(this.scale=t.scale),t.origin&&(this.origin=t.origin),t.align&&(this.align=t.align),t.mountPoint&&(this.mountPoint=t.mountPoint),t.opacity&&(this.opacity=t.opacity)}}]),e}(L.default.mixin(t));return(0,f.default)(e,c.default,{value:function(t){if(this!==e)return(0,v.default)(e)[c.default].call(this,t);for(var n=t;n;){var i=(0,l.default)(n,"constructor");if(i&&i.value&&i.value.hasOwnProperty(j))return!0;n=(0,v.default)(n)}return!1}}),e[j]=!0,(0,z.makeLowercaseSetterAliases)(e.prototype),(0,z.makeAccessorsEnumerable)(e.prototype),e},I=N(function(){function t(){(0,g.default)(this,t)}return t}());I.mixin=N,e.default=I},function(t,e,n){t.exports={default:n(174),__esModule:!0}},function(t,e,n){n(175),t.exports=n(16).Object.is},function(t,e,n){var i=n(15);i(i.S,"Object",{is:n(176)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){t.exports={default:n(178),__esModule:!0}},function(t,e,n){n(179),t.exports=n(64).f("hasInstance")},function(t,e,n){"use strict";var i=n(22),r=n(8),o=n(59)("hasInstance"),s=Function.prototype;o in s||n(20).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){t.exports={default:n(181),__esModule:!0}},function(t,e,n){n(182),t.exports=n(16).Object.assign},function(t,e,n){var i=n(15);i(i.S+i.F,"Object",{assign:n(183)})},function(t,e,n){"use strict";var i=n(48),r=n(72),o=n(73),s=n(6),a=n(51),l=Object.assign;t.exports=!l||n(25)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=s(t),l=arguments.length,u=1,c=r.f,h=o.f;l>u;)for(var f,d=a(arguments[u++]),p=c?i(d).concat(c(d)):i(d),_=p.length,v=0;_>v;)h.call(d,f=p[v++])&&(n[f]=d[f]);return n}:l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(3),o=i(r),s=n(117),a=i(s);e.default=function t(e,n,i,r){var s=(0,a.default)(e,n);if(void 0===s){var l=(0,o.default)(e);null!==l&&t(l,n,i,r)}else if("value"in s&&s.writable)s.value=i;else{var u=s.set;void 0!==u&&u.call(r,i)}return i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(3),o=i(r),s=n(29),a=i(s),l=n(30),u=i(l),c=n(34),h=i(c),f=n(81),d=i(f),p=n(186),_=n(213),v=i(_),m=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,a.default)(this,e);var r=(0,h.default)(this,(e.__proto__||(0,o.default)(e)).call(this));return r._x=t,r._y=n,r._z=i,r}return(0,d.default)(e,t),(0,u.default)(e,[{key:"x",set:function(t){this._x=t,this.triggerEvent("valuechanged",{x:t})},get:function(){return this._x}},{key:"y",set:function(t){this._y=t,this.triggerEvent("valuechanged",{y:t})},get:function(){return this._y}},{key:"z",set:function(t){this._z=t,this.triggerEvent("valuechanged",{z:t})},get:function(){return this._z}}]),e}(v.default);(0,p.makeAccessorsEnumerable)(m.prototype),e.default=m},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return Math.abs(t)<1e-6?0:t}function o(t,e){return 0===t?"0px":"%"===e?100*t+"%":"px"===e?t+"px":void 0}function s(){var t=null,e=new A.default(function(e){return t=e});return window.requestAnimationFrame(t),e}function a(t){var e=(0,E.default)(t),n=!0,i=!1,r=void 0;try{for(var o,s=(0,C.default)(e);!(n=(o=s.next()).done);n=!0){var a=o.value,l=a.toLowerCase();if(l!=a){var u=(0,M.default)(t,a);(0,E.default)(u).indexOf("set")>=0&&(0,S.default)(t,l,u)}}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}function l(t){var e=(0,E.default)(t),n=!0,i=!1,r=void 0;try{for(var o,s=(0,C.default)(e);!(n=(o=s.next()).done);n=!0){var a=o.value,l=(0,M.default)(t,a);l&&(l.set||l.get)&&(l.enumerable=!0,(0,S.default)(t,a,l))}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}function u(t,e,n){return F||(F=new x.default),L||(L=c()),F.set(t,{onConnect:e,onDisconnect:n}),L.observe(t,{childList:!0}),!0}function c(){var t=this;return new MutationObserver(function(){var e=(0,y.default)(_.default.mark(function e(n){var i,r,o,s,a,l,u,c,h,f,d,p,v,g,y,b,w,S,k,M,O,P,E,T,A,R,L,z,j,N;return _.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=new x.default,r=0,o=n.length;case 2:if(!(r<o)){t.next=15;break}if(s=n[r],"childList"==s.type){t.next=6;break}return t.abrupt("continue",12);case 6:for(i.has(s.target)||i.set(s.target,new x.default),a=i.get(s.target),l=s.addedNodes,u=l.length,c=0;c<u;c+=1)a.set(l[c],(a.get(l[c])||0)+1);for(h=s.removedNodes,f=h.length,d=0;d<f;d+=1)a.set(h[d],(a.get(h[d])||0)-1);case 12:r+=1,t.next=2;break;case 15:p=!0,v=!1,g=void 0,t.prev=18,y=(0,C.default)(i);case 20:if(p=(b=y.next()).done){t.next=45;break}for(w=(0,m.default)(b.value,2),S=w[0],k=w[1],M=F.get(S),O=M.onConnect,P=M.onDisconnect,E=!0,T=!1,A=void 0,t.prev=26,R=(0,C.default)(k);!(E=(L=R.next()).done);E=!0)z=(0,m.default)(L.value,2),j=z[0],N=z[1],N>0&&"function"==typeof O?O.call(S,j):N<0&&"function"==typeof P&&P.call(S,j);t.next=34;break;case 30:t.prev=30,t.t0=t.catch(26),T=!0,A=t.t0;case 34:t.prev=34,t.prev=35,!E&&R.return&&R.return();case 37:if(t.prev=37,!T){t.next=40;break}throw A;case 40:return t.finish(37);case 41:return t.finish(34);case 42:p=!0,t.next=20;break;case 45:t.next=51;break;case 47:t.prev=47,t.t1=t.catch(18),v=!0,g=t.t1;case 51:t.prev=51,t.prev=52,!p&&y.return&&y.return();case 54:if(t.prev=54,!v){t.next=57;break}throw g;case 57:return t.finish(54);case 58:return t.finish(51);case 59:case"end":return t.stop()}},e,t,[[18,47,51,59],[26,30,34,42],[35,,37,41],[52,,54,58]])}));return function(t){return e.apply(this,arguments)}}())}function h(t){if(console.log("getShadowRootVersion"),!t)return null;var e=document.createElement("slot");t.appendChild(e),e.appendChild(document.createElement("div"));var n=e.assignedNodes({flatten:!0});return e.remove(),console.log("hmm",n.length,n.length>0?"v1":"v0"),n.length>0?"v1":"v0"}function f(t){for(var e=t;e&&!(e instanceof ShadowRoot);)e=e.parentNode;return e}function d(t,e){console.log(e?"distributedNode:":"node:",t);for(var n=t.children,i=n.length,r=0;r<i;r+=1)N&&n[r]._elementManager.element._isPossiblyDistributed||d(n[r]);var o=t._elementManager.element._shadowChildren;if(N&&o)for(var s=o.length,a=0;a<s;a+=1)d(o[a].imperativeCounterpart,!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.traverse=e.getAncestorShadowRoot=e.hasShadowDomV1=e.hasShadowDomV0=e.getShadowRootVersion=e.observeChildren=e.makeAccessorsEnumerable=e.makeLowercaseSetterAliases=e.animationFrame=e.applyCSSLabel=e.epsilon=void 0;var p=n(187),_=i(p),v=n(190),m=i(v),g=n(197),y=i(g),b=n(198),x=i(b),w=n(31),S=i(w),k=n(117),M=i(k),O=n(194),C=i(O),P=n(209),E=i(P),T=n(155),A=i(T),R=n(212),F=(i(R),null),L=null,z="function"==typeof Element.prototype.createShadowRoot&&"function"==typeof HTMLContentElement,j="function"==typeof Element.prototype.attachShadow&&"function"==typeof HTMLSlotElement,N=!0;e.epsilon=r,e.applyCSSLabel=o,e.animationFrame=s,e.makeLowercaseSetterAliases=a,e.makeAccessorsEnumerable=l,e.observeChildren=u,e.getShadowRootVersion=h,e.hasShadowDomV0=z,e.hasShadowDomV1=j,e.getAncestorShadowRoot=f,e.traverse=d},function(t,e,n){t.exports=n(188)},function(t,e,n){(function(e){var i="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n(189),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}}).call(e,function(){return this}())},function(t,e){(function(e){!function(e){"use strict";function n(t,e,n,i){var o=e&&e.prototype instanceof r?e:r,s=Object.create(o.prototype),a=new d(i||[]);return s._invoke=u(t,n,a),s}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function n(e,r,o,s){var a=i(t[e],t,r);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&g.call(u,"__await")?Promise.resolve(u.__await).then(function(t){n("next",t,o,s)},function(t){n("throw",t,o,s)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},s)}s(a.arg)}function r(t,e){function i(){return new Promise(function(i,r){n(t,e,i,r)})}return o=o?o.then(i,i):i()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=r}function u(t,e,n){var r=M;return function(o,s){if(r===C)throw new Error("Generator is already running");if(r===P){if("throw"===o)throw s;return _()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var l=c(a,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===M)throw r=P,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=C;var u=i(t,e,n);if("normal"===u.type){if(r=n.done?P:O,u.arg===E)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=P,n.method="throw",n.arg=u.arg)}}}function c(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,c(t,e),"throw"===e.method))return E;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,E;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,E):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return i.next=i}}return{next:_}}function _(){return{value:v,done:!0}}var v,m=Object.prototype,g=m.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",x=y.asyncIterator||"@@asyncIterator",w=y.toStringTag||"@@toStringTag",S="object"==typeof t,k=e.regeneratorRuntime;if(k)return void(S&&(t.exports=k));k=e.regeneratorRuntime=S?t.exports:{},k.wrap=n;var M="suspendedStart",O="suspendedYield",C="executing",P="completed",E={},T={};T[b]=function(){return this};var A=Object.getPrototypeOf,R=A&&A(A(p([])));R&&R!==m&&g.call(R,b)&&(T=R);var F=s.prototype=r.prototype=Object.create(T);o.prototype=F.constructor=s,s.constructor=o,s[w]=o.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(F),t},k.awrap=function(t){return{__await:t}},a(l.prototype),l.prototype[x]=function(){return this},k.AsyncIterator=l,k.async=function(t,e,i,r){var o=new l(n(t,e,i,r));return k.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},a(F),F[w]="Generator",F[b]=function(){return this},F.toString=function(){return"[object Generator]"},k.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},k.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,i&&(n.method="next",n.arg=v),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=g.call(r,"catchLoc"),a=g.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&g.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,E):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),E},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),E}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;f(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),E}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(191),o=i(r),s=n(194),a=i(s);e.default=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,l=(0,a.default)(t);!(i=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={default:n(192),__esModule:!0}},function(t,e,n){n(60),n(38),t.exports=n(193)},function(t,e,n){var i=n(158),r=n(59)("iterator"),o=n(44);t.exports=n(16).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(i(e))}},function(t,e,n){t.exports={default:n(195),__esModule:!0}},function(t,e,n){n(60),n(38),t.exports=n(196)},function(t,e,n){var i=n(21),r=n(163);t.exports=n(16).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(155),o=i(r);e.default=function(t){return function(){var e=t.apply(this,arguments);return new o.default(function(t,n){function i(r,s){try{var a=e[r](s),l=a.value}catch(t){return void n(t)}return a.done?void t(l):o.default.resolve(l).then(function(t){i("next",t)},function(t){i("throw",t)})}return i("next")})}}},function(t,e,n){t.exports={default:n(199),__esModule:!0}},function(t,e,n){n(78),n(38),n(60),n(200),n(206),t.exports=n(16).Map},function(t,e,n){"use strict";var i=n(201);t.exports=n(202)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(this,t);return e&&e.v},set:function(t,e){return i.def(this,0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(20).f,r=n(46),o=n(168),s=n(17),a=n(159),l=n(7),u=n(160),c=n(41),h=n(63),f=n(169),d=n(24),p=n(68).fastKey,_=d?"_s":"size",v=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var h=t(function(t,i){a(t,h,e,"_i"),t._i=r(null),t._f=void 0,t._l=void 0,t[_]=0,void 0!=i&&u(i,n,t[c],t)});return o(h.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[_]=0},delete:function(t){var e=this,n=v(e,t);if(n){var i=n.n,r=n.p;delete e._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),e._f==n&&(e._f=i),e._l==n&&(e._l=r),e[_]--}return!!n},forEach:function(t){a(this,h,"forEach");for(var e,n=s(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),d&&i(h.prototype,"size",{get:function(){return l(this[_])}}),h},def:function(t,e,n){var i,r,o=v(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[_]++,"F"!==r&&(t._i[r]=o)),t},getEntry:v,setStrong:function(t,e,n){c(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?h(0,n.k):"values"==e?h(0,n.v):h(0,[n.k,n.v]):(t._t=void 0,h(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var i=n(12),r=n(15),o=n(68),s=n(25),a=n(19),l=n(168),u=n(160),c=n(159),h=n(22),f=n(58),d=n(20).f,p=n(203)(0),_=n(24);t.exports=function(t,e,n,v,m,g){var y=i[t],b=y,x=m?"set":"add",w=b&&b.prototype,S={};return _&&"function"==typeof b&&(g||w.forEach&&!s(function(){(new b).entries().next()}))?(b=e(function(e,n){c(e,b,t,"_c"),e._c=new y,void 0!=n&&u(n,m,e[x],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!g||"clear"!=t)&&a(b.prototype,t,function(n,i){if(c(this,b,t),!e&&g&&!h(n))return"get"==t&&void 0;var r=this._c[t](0===n?0:n,i);return e?this:r})}),"size"in w&&d(b.prototype,"size",{get:function(){return this._c.size}})):(b=v.getConstructor(e,t,m,x),l(b.prototype,n),o.NEED=!0),f(b,t),S[t]=b,r(r.G+r.W+r.F,S),g||v.setStrong(b,t,m),b}},function(t,e,n){var i=n(17),r=n(51),o=n(6),s=n(54),a=n(204);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,f=5==t||h,d=e||a;return function(e,a,p){for(var _,v,m=o(e),g=r(m),y=i(a,p,3),b=s(g.length),x=0,w=n?d(e,b):l?d(e,0):void 0;b>x;x++)if((f||x in g)&&(_=g[x],v=y(_,x,m),t))if(n)w[x]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return x;case 2:w.push(_)}else if(c)return!1;return h?-1:u||c?c:w}}},function(t,e,n){var i=n(205);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(22),r=n(74),o=n(59)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var i=n(15);i(i.P+i.R,"Map",{toJSON:n(207)("Map")})},function(t,e,n){var i=n(158),r=n(208);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var i=n(160);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){t.exports={default:n(210),__esModule:!0}},function(t,e,n){n(211);var i=n(16).Object;t.exports=function(t){return i.getOwnPropertyNames(t)}},function(t,e,n){n(14)("getOwnPropertyNames",function(){return n(75).f})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(187),o=i(r),s=n(155),a=i(s),l=n(197),u=i(l);e.default=function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("complete"===document.readyState){t.next=3;break}return t.next=3,new a.default(function(t){window.addEventListener("load",t)});case 3:case"end":return t.stop()}},t,this)}));return t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(117),o=i(r),s=n(177),a=i(s),l=n(31),u=i(l),c=n(198),h=i(c),f=n(3),d=i(f),p=n(29),_=i(p),v=n(30),m=i(v),g=n(34),y=i(g),b=n(81),x=i(b),w=n(65),S=i(w),k=(0,S.default)("instanceofSymbol"),M=function(t){var e=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,_.default)(this,e),(0,y.default)(this,(e.__proto__||(0,d.default)(e)).call(this,t))}return(0,x.default)(e,t),(0,m.default)(e,[{key:"on",value:function(t,e){if(this._eventMap||(this._eventMap=new h.default),this._eventMap.has(t)||this._eventMap.set(t,[]),"function"!=typeof e)throw new Error("Expected a function in callback argument of Observable#on.");this._eventMap.get(t).push(e)}},{key:"off",value:function(t,e){if(this._eventMap&&this._eventMap.has(t)){var n=this._eventMap.get(t);n.indexOf(e)!==-1&&(n.splice(n.indexOf(e),1),0===n.length&&this._eventMap.delete(t),0===this._eventMap.size&&(this._eventMap=null))}}},{key:"triggerEvent",value:function(t,e){if(this._eventMap&&this._eventMap.has(t))for(var n=this._eventMap.get(t),i=0,r=n.length;i<r;i+=1)n[i](e)}}]),e}(t);return(0,u.default)(e,a.default,{value:function(t){if(this!==e)return(0,d.default)(e)[a.default].call(this,t);for(var n=t;n;){var i=(0,o.default)(n,"constructor");if(i&&i.value&&i.value.hasOwnProperty(k))return!0;n=(0,d.default)(n)}return!1}}),e[k]=!0,e},O=M(function(){function t(){(0,_.default)(this,t)}return t}());O.mixin=M,e.default=O},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(117),o=i(r),s=n(177),a=i(s),l=n(31),u=i(l),c=n(35),h=i(c),f=n(198),d=i(f),p=n(215),_=i(p),v=n(216),m=i(v),g=n(180),y=i(g),b=n(3),x=i(b),w=n(29),S=i(w),k=n(30),M=i(k),O=n(34),C=i(O),P=n(81),E=i(P),T=n(65),A=i(T),R=n(186),F=n(217),L=i(F),z=n(185),j=i(z),N=n(213),I=i(N),D=n(223),U=i(D);"undefined"==typeof document.createElement("div").style.transform&&Object.defineProperty(CSSStyleDeclaration.prototype,"transform",{set:function(t){this.webkitTransform=t},get:function(){return this.webkitTransform},enumerable:!0});var G=(0,A.default)("instanceofSymbol"),V=function(t){var e=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,S.default)(this,e);var n=(0,C.default)(this,(e.__proto__||(0,x.default)(e)).call(this,t));return n._propertyFunctions=null,n._calculatedSize={x:0,y:0,z:0},n._properties={},n._setDefaultProperties(),n._setPropertyObservers(),n.properties=t,n}return(0,E.default)(e,t),(0,M.default)(e,[{key:"_setDefaultProperties",value:function(){(0,y.default)(this._properties,{sizeMode:new j.default("absolute","absolute","absolute"),absoluteSize:new j.default(0,0,0),proportionalSize:new j.default(1,1,1)})}},{key:"_setPropertyObservers",value:function(){var t=this;this._properties.sizeMode.on("valuechanged",function(){return t.triggerEvent("propertychange","sizeMode")}),this._properties.absoluteSize.on("valuechanged",function(){return t.triggerEvent("propertychange","absoluteSize")}),this._properties.proportionalSize.on("valuechanged",function(){return t.triggerEvent("propertychange","proportionalSize")})}},{key:"_calcSize",value:function(){var t=this._calculatedSize,e=(0,m.default)(t,[]),n=this._properties,i=this._getParentSize();"absolute"==n.sizeMode._x?t.x=n.absoluteSize._x:t.x=i.x*n.proportionalSize._x,"absolute"==n.sizeMode._y?t.y=n.absoluteSize._y:t.y=i.y*n.proportionalSize._y,"absolute"==n.sizeMode._z?t.z=n.absoluteSize._z:t.z=i.z*n.proportionalSize._z,e.x===t.x&&e.y===t.y&&e.z===t.z||this.triggerEvent("sizechange",(0,_.default)({},t))}},{key:"_getParentSize",value:function(){return this._parent?this._parent._calculatedSize:{x:0,y:0,z:0}}},{key:"_setPropertyXYZ",value:function(t,e,n){var i=this;if(!(n instanceof Object||n instanceof Array||n instanceof Function))throw new TypeError("Invalid value for "+t.name+"#"+e+".");var r=!1;n instanceof Function?(this._propertyFunctions||(this._propertyFunctions=new d.default),this._propertyFunctions.has(e)&&U.default.removeRenderTask(this._propertyFunctions.get(e)),this._propertyFunctions.set(e,U.default.addRenderTask(function(t){var r=n(i._properties[e]._x,i._properties[e]._y,i._properties[e]._z,t);return r===!1?(i._propertyFunctions.delete(e),!1):void(i[e]=r)}))):n instanceof Array?("undefined"!=typeof n[0]&&(this._properties[e]._x=n[0],r=!0),"undefined"!=typeof n[1]&&(this._properties[e]._y=n[1],r=!0),"undefined"!=typeof n[2]&&(this._properties[e]._z=n[2],r=!0)):("undefined"!=typeof n.x&&(this._properties[e]._x=n.x,r=!0),"undefined"!=typeof n.y&&(this._properties[e]._y=n.y,r=!0),"undefined"!=typeof n.z&&(this._properties[e]._z=n.z,r=!0)),r&&this.triggerEvent("propertychange",e)}},{key:"_setPropertySingle",value:function(t,e,n,i){var r=this;if(!(("undefined"==typeof n?"undefined":(0,h.default)(n))==i||n instanceof Function))throw new TypeError("Invalid value for "+t.name+"#"+e+".");n instanceof Function?U.default.addRenderTask(function(t){var i=n(r._properties[e],t);return i!==!1&&void(r[e]=i)}):(this._properties[e]=n,this.triggerEvent("propertychange",e))}},{key:"_render",value:function(){}},{key:"sizeMode",set:function(t){this._setPropertyXYZ(e,"sizeMode",t)},get:function(){return this._properties.sizeMode}},{key:"absoluteSize",set:function(t){this._setPropertyXYZ(e,"absoluteSize",t)},get:function(){return this._properties.absoluteSize}},{key:"actualSize",get:function(){var t=this._calculatedSize,e=t.x,n=t.y,i=t.z;return{x:e,y:n,z:i}}},{key:"proportionalSize",set:function(t){this._setPropertyXYZ(e,"proportionalSize",t)},get:function(){return this._properties.proportionalSize}},{key:"properties",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.sizeMode&&(this.sizeMode=t.sizeMode),t.absoluteSize&&(this.absoluteSize=t.absoluteSize),t.proportionalSize&&(this.proportionalSize=t.proportionalSize)}}]),e}(L.default.mixin(I.default.mixin(t)));return(0,u.default)(e,a.default,{value:function(t){if(this!==e)return(0,x.default)(e)[a.default].call(this,t);for(var n=t;n;){var i=(0,o.default)(n,"constructor");if(i&&i.value&&i.value.hasOwnProperty(G))return!0;n=(0,x.default)(n)}return!1}}),e[G]=!0,(0,R.makeLowercaseSetterAliases)(e.prototype),(0,R.makeAccessorsEnumerable)(e.prototype),e},B=V(function(){function t(){(0,S.default)(this,t)}return t}());B.mixin=V,e.default=B},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(180),o=i(r);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(117),o=i(r),s=n(177),a=i(s),l=n(31),u=i(l),c=n(218),h=i(c),f=n(3),d=i(f),p=n(29),_=i(p),v=n(30),m=i(v),g=n(34),y=i(g),b=n(81),x=i(b),w=n(65),S=i(w),k=(0,S.default)("instanceofSymbol"),M=function(t){var e=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_.default)(this,e);var n=(0,y.default)(this,(e.__proto__||(0,d.default)(e)).call(this,t));return n._parent=null,n._children=[],n}return(0,x.default)(e,t),(0,m.default)(e,[{key:"addChild",value:function(t){if(!(t instanceof e))throw new TypeError("TreeNode.addChild expects the childNode argument to be a TreeNode instance.");if(t._parent===this)throw new ReferenceError("childNode is already a child of this parent.");return t._parent&&t._parent.removeChild(t),t._parent=this,this._children.push(t),this}},{key:"addChildren",value:function(t){var e=this;return t.forEach(function(t){return e.addChild(t)}),this}},{key:"removeChild",value:function(t){if(!(t instanceof e))throw new Error("\n                    TreeNode.removeChild expects the childNode argument to be an\n                    instance of TreeNode. There should only be TreeNodes in the\n                    tree.\n                ");if(t._parent!==this)throw new ReferenceError("childNode is not a child of this parent.");return t._parent=null,this._children.splice(this._children.indexOf(t),1),this}},{key:"removeChildren",value:function(t){var e=this;return t.forEach(function(t){return e.removeChild(t)}),this}},{key:"removeAllChildren",value:function(){return this.removeChildren(this._children),this}},{key:"parent",get:function(){return this._parent}},{key:"children",get:function(){return[].concat((0,h.default)(this._children))}},{key:"childCount",get:function(){return this._children.length}}]),e}(t);return(0,u.default)(e,a.default,{value:function(t){if(this!==e)return(0,d.default)(e)[a.default].call(this,t);for(var n=t;n;){var i=(0,o.default)(n,"constructor");if(i&&i.value&&i.value.hasOwnProperty(k))return!0;n=(0,d.default)(n)}return!1}}),e[k]=!0,e},O=M(function(){function t(){(0,_.default)(this,t)}return t}());O.mixin=M,e.default=O},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(219),o=i(r);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},function(t,e,n){t.exports={default:n(220),__esModule:!0}},function(t,e,n){n(38),n(221),t.exports=n(16).Array.from},function(t,e,n){"use strict";var i=n(17),r=n(15),o=n(6),s=n(161),a=n(162),l=n(54),u=n(222),c=n(163);r(r.S+r.F*!n(170)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,_=p>1?arguments[1]:void 0,v=void 0!==_,m=0,g=c(f);if(v&&(_=i(_,p>2?arguments[2]:void 0,2)),void 0==g||d==Array&&a(g))for(e=l(f.length),n=new d(e);e>m;m++)u(n,m,v?_(f[m],m):f[m]);else for(h=g.call(f),n=new d;!(r=h.next()).done;m++)u(n,m,v?s(h,_,[r.value,m],!0):r.value);return n.length=m,n}})},function(t,e,n){"use strict";var i=n(20),r=n(28);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){
"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(155),o=i(r),s=n(29),a=i(s),l=n(30),u=i(l),c=n(224),h=i(c),f=n(172),d=i(f),p=n(225),_=i(p);n(186);var v=!1,m=null,g=function(){function t(){(0,a.default)(this,t),this._inFrame=!1,this._rAF=null,this._animationLoopStarted=!1,this._allRenderTasks=[],this._taskIterationIndex=0,this._numberOfTasks=0,this._nodesToBeRendered=[],this._modifiedScenes=[],this._worldMatrixRootNodes=[]}return(0,u.default)(t,[{key:"_startAnimationLoop",value:function(){var t=this;if(this._animationLoopStarted)return o.default.resolve();this._animationLoopStarted=!0;var e=function(){var e=function e(n){t._inFrame=!0,t._runRenderTasks(n),t._renderNodes(n),t._allRenderTasks.length?t._rAF=requestAnimationFrame(e):(t._rAF=null,t._animationLoopStarted=!1),t._inFrame=!1};t._rAF=requestAnimationFrame(e)};return v?(e(),o.default.resolve()):(0,h.default)().then(function(){v=!0,e()})}},{key:"addRenderTask",value:function(t){if("function"!=typeof t)throw new Error("Render task must be a function.");if(!this._allRenderTasks.includes(t))return this._allRenderTasks.push(t),this._numberOfTasks+=1,this._animationLoopStarted||this._startAnimationLoop(),t}},{key:"removeRenderTask",value:function(t){var e=this._allRenderTasks.indexOf(t);e!=-1&&(this._allRenderTasks.splice(e,1),this._numberOfTasks-=1,this._taskIterationIndex-=1)}},{key:"_runRenderTasks",value:function(t){for(this._taskIterationIndex=0;this._taskIterationIndex<this._numberOfTasks;this._taskIterationIndex+=1){var e=this._allRenderTasks[this._taskIterationIndex];e(t)===!1&&this.removeRenderTask(e)}}},{key:"_setNodeToBeRendered",value:function(t){this._nodesToBeRendered.includes(t)||(this._nodesToBeRendered.push(t),this._inFrame||this._startAnimationLoop())}},{key:"_renderNodes",value:function(t){if(this._nodesToBeRendered.length){for(var e=0,n=this._nodesToBeRendered.length;e<n;e+=1){var i=this._nodesToBeRendered[e];i._render(t),!(i instanceof d.default)||i._getAncestorToBeRendered()instanceof d.default||this._worldMatrixRootNodes.includes(i)||this._worldMatrixRootNodes.push(i),i._scene&&!this._modifiedScenes.includes(i._scene)&&this._modifiedScenes.push(i._scene)}for(var r=this._worldMatrixRootNodes,o=0,s=r.length;o<s;o+=1){var a=r[o];a._calculateWorldMatricesInSubtree()}r.length=0;for(var l=this._modifiedScenes,u=0,c=l.length;u<c;u+=1){var h=l[u].element;h.webglEnabled&&(m||(m=(0,_.default)()))&&m.drawScene(h)}l.length=0;for(var f=this._nodesToBeRendered,p=0,v=f.length;p<v;p+=1)f[p]._willBeRendered=!1;f.length=0}}}]),t}();e.default=new g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(187),o=i(r),s=n(155),a=i(s),l=n(197),u=i(l);e.default=function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("loading"!==document.readyState){t.next=3;break}return t.next=3,new a.default(function(t){document.addEventListener("DOMContentLoaded",t)});case 3:case"end":return t.stop()}},t,this)}));return t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){return v?v:v=new _}Object.defineProperty(e,"__esModule",{value:!0});var o=n(219),s=i(o),a=n(218),l=i(a),u=n(29),c=i(u),h=n(30),f=i(h);e.default=r;var d=n(226),p=function(t){var e=[parseFloat(getComputedStyle(t.gl.canvas).width)*window.devicePixelRatio,parseFloat(getComputedStyle(t.gl.canvas).height)*window.devicePixelRatio,1e3];d.setGlResolution.apply(void 0,[t.gl].concat(e)),t.projectionMatrix=d.m4.perspective(45,e[0]/e[1],1,2e3)},_=function(){function t(){(0,c.default)(this,t)}return(0,f.default)(t,[{key:"initGl",value:function(t){var e=(0,d.createWebGLContext)(t),n=t.webGlRendererState;n.gl=e,e||console.log("You need WebGL.");var i=(0,d.createShader)(e,e.VERTEX_SHADER,d.vertShaderSource),r=(0,d.createShader)(e,e.FRAGMENT_SHADER,d.fragShaderSource),o=(0,d.createProgram)(e,i,r);e.useProgram(o),n.colorsBuffer=e.createBuffer(),n.colorAttributeLocation=e.getAttribLocation(o,"a_color"),e.enableVertexAttribArray(n.colorAttributeLocation),n.vertexBuffer=e.createBuffer(),n.vertexAttributeLocation=e.getAttribLocation(o,"a_vertexPosition"),e.enableVertexAttribArray(n.vertexAttributeLocation),n.normalsBuffer=e.createBuffer(),n.normalAttributeLocation=e.getAttribLocation(o,"a_normal"),e.enableVertexAttribArray(n.normalAttributeLocation),n.textureCoordinatesBuffer=e.createBuffer(),n.textureCoordinateLocation=e.getAttribLocation(o,"a_textureCoordinate"),e.enable(e.DEPTH_TEST),e.blendFunc(e.SRC_ALPHA,e.ONE),e.enable(e.BLEND),n.projectionMatrix=d.m4.identity,p(n),t.on("parentsizechange",function(){return p(n)}),n.worldViewProjectionMatrixLocation=e.getUniformLocation(o,"u_worldViewProjectionMatrix"),n.worldMatrixLocation=e.getUniformLocation(o,"u_worldMatrix"),n.lightWorldPositionLocation=e.getUniformLocation(o,"u_lightWorldPosition"),n.cameraWorldPositionLocation=e.getUniformLocation(o,"u_cameraWorldPosition");var s=e.getUniformLocation(o,"u_shininess"),a=e.getUniformLocation(o,"u_lightColor"),l=e.getUniformLocation(o,"u_specularColor");n.textureLocation=e.getUniformLocation(o,"u_texture"),n.hasTextureLocation=e.getUniformLocation(o,"u_hasTexture");var u=200;e.uniform1f(s,u);var c=[1,1,1],h=c;e.uniform3fv(a,d.v3.normalize(h));var f=c;e.uniform3fv(l,d.v3.normalize(f)),n.lightAnimParam=0,n.lightWorldPosition=[20,30,50],n.cameraAngle=0,n.cameraRadius=200}},{key:"drawScene",value:function(t){var e=t.webGlRendererState,n=e.gl;e.lightAnimParam+=.05,e.lightWorldPosition=[300*Math.sin(e.lightAnimParam),300*Math.sin(2*e.lightAnimParam),Math.abs(300*Math.cos(e.lightAnimParam))],n.uniform3fv(e.lightWorldPositionLocation,e.lightWorldPosition);var i=t.getAttribute("background");i="string"==typeof i?i.split(" ").map(function(t){return parseFloat(t)}):[0,0,0,0],n.clearColor.apply(n,(0,l.default)(i)),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT);var r=d.m4.identity;r=d.m4.multiply(r,d.m4.yRotation(e.cameraAngle)),r=d.m4.multiply(r,d.m4.translation(0,0,1.5*e.cameraRadius));var o=d.m4.inverse(r);e.viewProjectionMatrix=d.m4.multiply(e.projectionMatrix,o);var s=[r[12],r[13],r[14]];n.uniform3fv(e.cameraWorldPositionLocation,s);for(var a=t.imperativeCounterpart._children,u=0,c=a.length;u<c;u+=1)this.drawNodeAndRecurse(e,a[u])}},{key:"drawNodeAndRecurse",value:function(t,e){var n=t.gl,i=e.element.getAttribute("mesh");if(i){var r=e._calculatedSize,o=(0,s.default)(e.element.children).find(function(t){return t instanceof SVGSVGElement}),a=!!o;if("cube"==i)e.__shape instanceof d.Cube||(e.__shape=new d.Cube(0,0,r.x));else if("quad"==i){if(e.__shape instanceof d.Quad?(e.__shape.width=r.x,e.__shape.height=r.y,e.__shape._calcVerts()):e.__shape=new d.Quad(r.x,r.y),a){e.__texture||(e.__shape.textureCoordinates=new Float32Array([0,0,1,0,1,1,1,1,0,1,0,0]),e.__texture=n.createTexture()),e.__two||(e.__two=new Two({type:Two.Types.webgl,fullscreen:!1,autostart:!1}),e.__two.interpret(o)),e.__two.update();var l=e.__two.renderer.domElement,u=function(t){return 0==(t&t-1)};n.bindTexture(n.TEXTURE_2D,e.__texture),n.texImage2D(n.TEXTURE_2D,0,n.RGB,n.RGB,n.UNSIGNED_BYTE,l),u(l.width)&&u(l.height)?(n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR))}}else"isotriangle"==i?e.__shape instanceof d.IsoscelesTriangle||(e.__shape=new d.IsoscelesTriangle(r.x,r.y)):"pyramid4"==i?e.__shape instanceof d.FourSidedPyramid||(e.__shape=new d.FourSidedPyramid(r.x,r.y)):"symtrap"==i?e.__shape instanceof d.SymmetricTrapezoid?(e.__shape.baseWidth=r.x/2,e.__shape.topWidth=r.x,e.__shape.height=r.y,e.__shape._calcVerts()):e.__shape=new d.SymmetricTrapezoid(r.x/2,r.x,r.y):(e.__shape instanceof d.Quad?(e.__shape.width=r.x,e.__shape.height=r.y,e.__shape._calcVerts()):e.__shape=new d.Quad(r.x,r.y),a&&(e.__shape.textureCoordinates=new Float32Array([0,0,1,0,1,1,1,1,0,1,0,0])));if(e.__shape){e.__shape.color=e.element.getAttribute("color"),n.bindBuffer(n.ARRAY_BUFFER,t.colorsBuffer),n.bufferData(n.ARRAY_BUFFER,e.__shape._colors,n.STATIC_DRAW);var c=4,h=n.FLOAT,f=!1,p=0,_=0;n.vertexAttribPointer(t.colorAttributeLocation,c,h,f,p,_),n.bindBuffer(n.ARRAY_BUFFER,t.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,e.__shape.verts,n.STATIC_DRAW);var v=3,m=n.FLOAT,g=!1,y=0,b=0;n.vertexAttribPointer(t.vertexAttributeLocation,v,m,g,y,b),n.bindBuffer(n.ARRAY_BUFFER,t.normalsBuffer),n.bufferData(n.ARRAY_BUFFER,e.__shape.normals,n.STATIC_DRAW);var x=3,w=n.FLOAT,S=!1,k=0,M=0;if(n.vertexAttribPointer(t.normalAttributeLocation,x,w,S,k,M),a){n.uniform1i(t.hasTextureLocation,1),n.bindBuffer(n.ARRAY_BUFFER,t.textureCoordinatesBuffer),n.bufferData(n.ARRAY_BUFFER,e.__shape.textureCoordinates,n.STATIC_DRAW);var O=2,C=n.FLOAT,P=!1,E=0,T=0;n.enableVertexAttribArray(t.textureCoordinateLocation),n.vertexAttribPointer(t.textureCoordinateLocation,O,C,P,E,T),n.uniform1i(t.textureLocation,0)}else n.uniform1i(t.hasTextureLocation,0),n.disableVertexAttribArray(t.textureCoordinateLocation);n.uniformMatrix4fv(t.worldMatrixLocation,!1,e._worldMatrix.toFloat32Array());var A=d.m4.multiply(t.viewProjectionMatrix,e._worldMatrix.toFloat32Array());n.uniformMatrix4fv(t.worldViewProjectionMatrixLocation,!1,A);var R=e.__shape.verts.length/3;n.drawArrays(n.TRIANGLES,b,R)}}for(var F=e._children,L=0,z=F.length;L<z;L+=1)this.drawNodeAndRecurse(t,F[L])}}]),t}(),v=null},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=s("100%","100%"),i=c(n,e);return i&&(T.has(t)&&o(t),t.appendChild(n),T.set(t,i)),i}function o(t){var e=T.get(t);t.removeChild(e.canvas)}function s(t,e){var n=document.createElement("canvas");return a(n,t,e),n}function a(t,e,n){t.style.width=e,t.style.height=n}function l(t,e,n){u(t.canvas,e,n),t.viewport(0,0,e,n)}function u(t,e,n){t.width=e,t.height=n}function c(t,e){var n=void 0;if(t instanceof HTMLCanvasElement&&(n=t),n||(n=document.querySelector(t)),!(n instanceof HTMLCanvasElement))return!1;if(1==e||void 0==e)e="";else{if(2!=e)throw new Error("Invalid WebGL version.");e="2"}return n.getContext("webgl"+e)}function h(t,e,n){var i=t.createShader(e);t.shaderSource(i,n),t.compileShader(i);var r=t.getShaderParameter(i,t.COMPILE_STATUS);if(r)return i;var o=new Error("*** Error compiling shader '"+i+"':"+t.getShaderInfoLog(i));throw t.deleteShader(i),o}function f(t,e,n){var i=t.createProgram();t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i);var r=t.getProgramParameter(i,t.LINK_STATUS);return r?i:(console.log(" --- Error making program. GL Program Info Log:",t.getProgramInfoLog(i)),void t.deleteProgram(i))}function d(t){return t*Math.PI/180}Object.defineProperty(e,"__esModule",{value:!0}),e.fragShaderSource=e.vertShaderSource=e.m4=e.m3=e.FourSidedPyramid=e.ThreeSidedPyramid=e.Cube=e.Quad=e.SymmetricTrapezoid=e.IsoscelesTriangle=e.v3=void 0;var p=n(227),_=i(p),v=n(3),m=i(v),g=n(34),y=i(g),b=n(116),x=i(b),w=n(81),S=i(w),k=n(29),M=i(k),O=n(30),C=i(O),P=n(230),E=i(P);e.createWebGLContext=r,e.removeWebGLContext=o,e.setGlResolution=l,e.createShader=h,e.createProgram=f;var T=new E.default,A=e.v3={cross:function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},subtract:function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},add:function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]},normalize:function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return e>1e-5?[t[0]/e,t[1]/e,t[2]/e]:[0,0,0]}},R=function(){function t(){(0,M.default)(this,t),this._init.apply(this,arguments)}return(0,C.default)(t,[{key:"_init",value:function(){this.verts=null,this.normals=null,this._colors=null,this._color=null,this._calcVerts(),this.color=[.5,.5,.5]}},{key:"color",set:function(t){if(t){this._color=t;var e=null;e="string"==typeof t?t.trim().split(" ").map(function(t){return parseFloat(t)}):t;for(var n=this.verts.length,i=n+n/3,r=this._colors=new Float32Array(i),o=0;o<i;o+=4)r[o+0]=e[0],r[o+1]=e[1],r[o+2]=e[2],r[o+3]="undefined"==typeof e[3]?1:e[3]}},get:function(){return this._color}}]),t}(),F=(e.IsoscelesTriangle=function(t){function e(){return(0,M.default)(this,e),(0,y.default)(this,(e.__proto__||(0,m.default)(e)).apply(this,arguments))}return(0,S.default)(e,t),(0,C.default)(e,[{key:"_init",value:function(t,n){this.width=t,this.height=n,(0,x.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){for(var t=this.width,e=this.height,n=this.verts=new Float32Array([-t/2,0,0,t/2,0,0,0,e,0]),i=[0,0,1],r=this.normals=new Float32Array(n.length),o=0,s=n.length;o<s;o+=3)r[o+0]=i[0],r[o+1]=i[1],r[o+2]=i[2]}}]),e}(R),e.SymmetricTrapezoid=function(t){function e(){return(0,M.default)(this,e),(0,y.default)(this,(e.__proto__||(0,m.default)(e)).apply(this,arguments))}return(0,S.default)(e,t),(0,C.default)(e,[{key:"_init",value:function(t,n,i){this.baseWidth=t,this.topWidth=n,this.height=i,(0,x.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){for(var t=this.baseWidth,e=this.topWidth,n=this.height,i=this.verts=new Float32Array([-t/2,0,0,t/2,0,0,e/2,n,0,e/2,n,0,-e/2,n,0,-t/2,0,0]),r=[0,0,1],o=this.normals=new Float32Array(i.length),s=0,a=i.length;s<a;s+=3)o[s+0]=r[0],o[s+1]=r[1],o[s+2]=r[2]}}]),e}(R),e.Quad=function(t){function e(){return(0,M.default)(this,e),(0,y.default)(this,(e.__proto__||(0,m.default)(e)).apply(this,arguments))}return(0,S.default)(e,t),(0,C.default)(e,[{key:"_init",value:function(t,n){this.width=t,this.height=n,(0,x.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){for(var t=this.width,e=this.height,n=this.verts=new Float32Array([-t/2,-e/2,0,t/2,-e/2,0,t/2,e/2,0,t/2,e/2,0,-t/2,e/2,0,-t/2,-e/2,0]),i=[0,0,1],r=this.normals=new Float32Array(n.length),o=0,s=n.length;o<s;o+=3)r[o+0]=i[0],r[o+1]=i[1],r[o+2]=i[2]}}]),e}(R),e.Cube=function(t){function e(){return(0,M.default)(this,e),(0,y.default)(this,(e.__proto__||(0,m.default)(e)).apply(this,arguments))}return(0,S.default)(e,t),(0,C.default)(e,[{key:"_init",value:function(t,n,i){this.x=t,this.y=n,this.width=i,(0,x.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){for(var t=this.x,e=this.y,n=this.width,i=t+n,r=e+n,o=this.verts=new Float32Array([t,e,0,i,e,0,i,r,0,i,r,0,t,r,0,t,e,0,t,e,0,t,e,-n,t,r,-n,t,r,-n,t,r,0,t,e,0,i,e,0,i,e,-n,i,r,-n,i,r,-n,i,r,0,i,e,0,t,e,-n,i,e,-n,i,r,-n,i,r,-n,t,r,-n,t,e,-n,t,e,0,t,e,-n,i,e,-n,i,e,-n,i,e,0,t,e,0,t,r,0,t,r,-n,i,r,-n,i,r,-n,i,r,0,t,r,0]),s=[[0,0,1],[-1,0,0],[1,0,0],[0,0,-1],[0,-1,0],[0,1,0]],a=this.normals=new Float32Array(o.length),l=0,u=0,c=o.length;u<c;u+=18,l+=1)a[u+0]=s[l][0],a[u+1]=s[l][1],a[u+2]=s[l][2],a[u+3]=s[l][0],a[u+4]=s[l][1],a[u+5]=s[l][2],a[u+6]=s[l][0],a[u+7]=s[l][1],a[u+8]=s[l][2],a[u+9]=s[l][0],a[u+10]=s[l][1],a[u+11]=s[l][2],a[u+12]=s[l][0],a[u+13]=s[l][1],a[u+14]=s[l][2],a[u+15]=s[l][0],a[u+16]=s[l][1],a[u+17]=s[l][2]}}]),e}(R),e.ThreeSidedPyramid=function(t){function e(){return(0,M.default)(this,e),(0,y.default)(this,(e.__proto__||(0,m.default)(e)).apply(this,arguments))}return(0,S.default)(e,t),(0,C.default)(e,[{key:"_init",value:function(t,n){this.base=t,this.height=n,(0,x.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){var t=this.base,e=this.height;this.verts=new Float32Array([0,0,0,t,0,0,t/2,0,-Math.sin(d(60))*t,t,0,0,0,0,0,t/2,e,Math.sin(d(60))*t/(t/2)*(t/2),0,0,0,t/2,0,-Math.sin(d(60))*t,t/2,e,Math.sin(d(60))*t/(t/2)*(t/2),t/2,0,-Math.sin(d(60))*t,t,0,0,t/2,e,Math.sin(d(60))*t/(t/2)*(t/2)])}}]),e}(R),e.FourSidedPyramid=function(t){function e(){return(0,M.default)(this,e),(0,y.default)(this,(e.__proto__||(0,m.default)(e)).apply(this,arguments))}return(0,S.default)(e,t),(0,C.default)(e,[{key:"_init",value:function(){(0,x.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"_init",this).call(this)}},{key:"_calcVerts",value:function(){this.verts=new Float32Array([-100,.087303,-100,100,.087303,-100,100,.087303,100,-100,.087303,100,100,.087303,100,100,.087303,-100,0,200.087,0,100,.087303,-100,-100,.087303,-100,0,200.087,0,-100,.087303,-100,-100,.087303,100,0,200.087,0,-100,.087303,100,100,.087303,100,0,200.087,0]),this.normals=new Float32Array([0,-1,0,0,-1,0,0,-1,0,0,-1,0,.894427,.447214,0,.894427,.447214,0,.894427,.447214,0,0,.447214,-.894427,0,.447214,-.894427,0,.447214,-.894427,-.894427,.447214,0,-.894427,.447214,0,-.894427,.447214,0,0,.447214,.894427,0,.447214,.894427,0,.447214,.894427])}}]),e}(R),e.m3={identity:(0,_.default)([1,0,0,0,1,0,0,0,1]),translation:function(t,e){return[1,0,0,0,1,0,t,e,1]},rotation:function(t){var e=Math.cos(t),n=Math.sin(t);return[e,-n,0,n,e,0,0,0,1]},scaling:function(t,e){return[t,0,0,0,e,0,0,0,1]},projection:function(t,e){var n=F.identity;return n=F.multiply(F.scaling(1/t,1/e),n),n=F.multiply(F.scaling(2,2),n),n=F.multiply(F.translation(-1,-1),n),n=F.multiply(F.scaling(1,-1),n)},multiply:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=e[0],f=e[1],d=e[2],p=e[3],_=e[4],v=e[5],m=e[6],g=e[7],y=e[8];return[h*n+f*o+d*l,h*i+f*s+d*u,h*r+f*a+d*c,p*n+_*o+v*l,p*i+_*s+v*u,p*r+_*a+v*c,m*n+g*o+y*l,m*i+g*s+y*u,m*r+g*a+y*c]}});e.m4={identity:(0,_.default)([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),translation:function(t,e,n){return[1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1]},xRotation:function(t){var e=d(t),n=Math.cos(e),i=Math.sin(e);return[1,0,0,0,0,n,i,0,0,-i,n,0,0,0,0,1]},yRotation:function(t){var e=d(t),n=Math.cos(e),i=Math.sin(e);return[n,0,-i,0,0,1,0,0,i,0,n,0,0,0,0,1]},zRotation:function(t){var e=d(t),n=Math.cos(e),i=Math.sin(e);return[n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1]},scaling:function(t,e,n){return[t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1]},inverse:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],u=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],_=t[14],v=t[15],m=h*v,g=_*f,y=a*v,b=_*l,x=a*f,w=h*l,S=i*v,k=_*r,M=i*f,O=h*r,C=i*l,P=a*r,E=u*p,T=d*c,A=o*p,R=d*s,F=o*c,L=u*s,z=e*p,j=d*n,N=e*c,I=u*n,D=e*s,U=o*n,G=m*s+b*c+x*p-(g*s+y*c+w*p),V=g*n+S*c+O*p-(m*n+k*c+M*p),B=y*n+k*s+C*p-(b*n+S*s+P*p),H=w*n+M*s+P*c-(x*n+O*s+C*c),W=1/(e*G+o*V+u*B+d*H);return[W*G,W*V,W*B,W*H,W*(g*o+y*u+w*d-(m*o+b*u+x*d)),W*(m*e+k*u+M*d-(g*e+S*u+O*d)),W*(b*e+S*o+P*d-(y*e+k*o+C*d)),W*(x*e+O*o+C*u-(w*e+M*o+P*u)),W*(E*l+R*f+F*v-(T*l+A*f+L*v)),W*(T*r+z*f+I*v-(E*r+j*f+N*v)),W*(A*r+j*l+D*v-(R*r+z*l+U*v)),W*(L*r+N*l+U*f-(F*r+I*l+D*f)),W*(A*h+L*_+T*a-(F*_+E*a+R*h)),W*(N*_+E*i+j*h-(z*h+I*_+T*i)),W*(z*a+U*_+R*i-(D*_+A*i+j*a)),W*(D*h+F*i+I*a-(N*a+U*h+L*i))]},transpose:function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},projection:function(t,e,n){return[2/t,0,0,0,0,-2/e,0,0,0,0,2/n,0,-1,1,0,1]},orthographic:function(t,e,n,i,r,o){return[2/(e-t),0,0,0,0,2/(n-i),0,0,0,0,2/(r-o),0,(t+e)/(t-e),(i+n)/(i-n),(r+o)/(r-o),1]},perspective:function(t,e,n,i){var r=d(t),o=Math.tan(.5*Math.PI-.5*r),s=1/(n-i);return[o/e,0,0,0,0,o,0,0,0,0,(n+i)*s,-1,0,0,n*i*s*2,0]},lookAt:function(t,e,n){var i=A.normalize(A.subtract(t,e)),r=A.cross(n,i),o=A.cross(i,r);return[r[0],r[1],r[2],0,o[0],o[1],o[2],0,i[0],i[1],i[2],0,t[0],t[1],t[2],1]},multiply:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=t[9],f=t[10],d=t[11],p=t[12],_=t[13],v=t[14],m=t[15],g=e[0],y=e[1],b=e[2],x=e[3],w=e[4],S=e[5],k=e[6],M=e[7],O=e[8],C=e[9],P=e[10],E=e[11],T=e[12],A=e[13],R=e[14],F=e[15];return[g*n+y*s+b*c+x*p,g*i+y*a+b*h+x*_,g*r+y*l+b*f+x*v,g*o+y*u+b*d+x*m,w*n+S*s+k*c+M*p,w*i+S*a+k*h+M*_,w*r+S*l+k*f+M*v,w*o+S*u+k*d+M*m,O*n+C*s+P*c+E*p,O*i+C*a+P*h+E*_,O*r+C*l+P*f+E*v,O*o+C*u+P*d+E*m,T*n+A*s+R*c+F*p,T*i+A*a+R*h+F*_,T*r+A*l+R*f+F*v,T*o+A*u+R*d+F*m]}},e.vertShaderSource="\n    attribute vec4 a_vertexPosition;\n    uniform mat4 u_worldViewProjectionMatrix;\n\n    // TODO: awaiting on transpose() method for DOMMatrix\n    //uniform mat4 u_worldInverseTransposeMatrix; // used for correct lighting normals\n\n    attribute vec4 a_color;\n    varying vec4 v_fragColor;\n\n    attribute vec3 a_normal;\n    varying vec3 v_vertNormal;\n\n    uniform mat4 u_worldMatrix;\n\n    uniform vec3 u_lightWorldPosition;\n    varying vec3 v_surfaceToLightVector;\n\n    uniform vec3 u_cameraWorldPosition;\n    varying vec3 v_surfaceToCameraVector;\n\n    attribute vec2 a_textureCoordinate;\n    varying vec2 v_textureCoordinate;\n\n    void main() {\n        vec3 surfaceWorldPosition = (u_worldMatrix * a_vertexPosition).xyz;\n\n        // compute the vector of the surface to the pointLight\n        // and pass it to the fragment shader\n        v_surfaceToLightVector = u_lightWorldPosition - surfaceWorldPosition;\n\n        // compute the vector of the surface to the camera\n        // and pass it to the fragment shader\n        v_surfaceToCameraVector = u_cameraWorldPosition - surfaceWorldPosition;\n\n        gl_Position = u_worldViewProjectionMatrix * a_vertexPosition;\n\n        v_fragColor = a_color;\n        //v_fragColor = gl_Position * 0.5 + 0.5;\n\n        // orient the normals and pass to the fragment shader\n        //v_vertNormal = mat3(u_worldInverseTransposeMatrix) * a_normal; // TODO waiting for transpose() method on DOMMatrix\n        //alternate: v_vertNormal = (u_worldInverseTransposeMatrix * vec4(a_normal, 0)).xyz;\n        v_vertNormal = mat3(u_worldMatrix) * a_normal;\n\n        v_textureCoordinate = a_textureCoordinate;\n    }\n",e.fragShaderSource="\n    // TODO: detect highp support, see\n    // https://github.com/greggman/webgl-fundamentals/issues/80#issuecomment-306746556\n    //precision mediump float;\n    precision highp float;\n\n    varying vec4 v_fragColor;\n    varying vec3 v_vertNormal;\n\n    varying vec3 v_surfaceToLightVector;\n\n    //// TODO: use this for directional lighting (f.e. sunlight or moonlight).\n    //uniform vec3 reverseLightDirection;\n\n    varying vec3 v_surfaceToCameraVector;\n\n    uniform float u_shininess;\n    uniform vec3 u_lightColor;\n    uniform vec3 u_specularColor;\n\n    varying vec2 v_textureCoordinate;\n    uniform sampler2D u_texture;\n    uniform bool u_hasTexture;\n\n    void main(void) {\n\n        // because v_vertNormal is a varying it's interpolated\n        // so it will not be a unit vector. Normalizing it\n        // will make it a unit vector again.\n        vec3 normal = normalize(v_vertNormal);\n\n        vec3 surfaceToCameraDirection = normalize(v_surfaceToCameraVector);\n\n        vec3 surfaceToLightDirection = normalize(v_surfaceToLightVector);\n\n        // represents the unit vector oriented at half of the angle between\n        // surfaceToLightDirection and surfaceToCameraDirection.\n        vec3 halfVector = normalize(surfaceToLightDirection + surfaceToCameraDirection);\n\n        float pointLight = dot(normal, surfaceToLightDirection);\n        float pointLightIntensity = 1.0; // TODO make configurable\n        //float directionalLight = dot(normal, reverseLightDirection); // TODO make configurable\n\n        //float specular = dot(normal, halfVector);\n        float specular = 0.0;\n        if (pointLight > 0.0) {\n            specular = pow(dot(normal, halfVector), u_shininess);\n        }\n\n        // TODO make configurable\n        //vec3 ambientLight = vec3(0.361, 0.184, 0.737); // teal\n        vec3 ambientLight = vec3(1.0, 1.0, 1.0); // white\n        float ambientLightIntensity = 0.3;\n\n        // TODO: user can choose color or texture, default to a color if no texture, etc.\n        // TODO: blend texture on top of color, if texture has alpha.\n        gl_FragColor = v_fragColor;\n        if (u_hasTexture) {\n            gl_FragColor = texture2D(u_texture, v_textureCoordinate);\n        }\n\n        // Lets multiply just the color portion (not the alpha) of\n        // gl_FragColor by the pointLight + directionalLight\n        //gl_FragColor.rgb *= pointLight * u_lightColor; // point light only.\n        //gl_FragColor.rgb *= directionalLight; // directional light only.\n        //gl_FragColor.rgb *= ambientLight; // ambient light only.\n        gl_FragColor.rgb *=\n            //clamp(directionalLight, 0.0, 1.0) +\n            clamp(pointLight, 0.0, 1.0) * u_lightColor * pointLightIntensity +\n            ambientLight * ambientLightIntensity;\n\n        // Just add in the specular\n        gl_FragColor.rgb += specular * u_specularColor;\n\n        //gl_FragColor.a = 0.5;\n    }\n"},function(t,e,n){t.exports={default:n(228),__esModule:!0}},function(t,e,n){n(229),t.exports=n(16).Object.freeze},function(t,e,n){var i=n(22),r=n(68).onFreeze;n(14)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){t.exports={default:n(231),__esModule:!0}},function(t,e,n){n(78),n(60),n(232),t.exports=n(16).WeakMap},function(t,e,n){"use strict";var i,r=n(203)(0),o=n(43),s=n(68),a=n(183),l=n(233),u=n(22),c=s.getWeak,h=Object.isExtensible,f=l.ufstore,d={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(t){if(u(t)){var e=c(t);return e===!0?f(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(this,t,e)}},v=t.exports=n(202)("WeakMap",p,_,l,!0,!0);7!=(new v).set((Object.freeze||Object)(d),7).get(d)&&(i=l.getConstructor(p),a(i.prototype,_),s.NEED=!0,r(["delete","has","get","set"],function(t){var e=v.prototype,n=e[t];o(e,t,function(e,r){if(u(e)&&!h(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var i=n(168),r=n(68).getWeak,o=n(21),s=n(22),a=n(159),l=n(160),u=n(203),c=n(9),h=u(5),f=u(6),d=0,p=function(t){return t._l||(t._l=new _)},_=function(){this.a=[]},v=function(t,e){return h(t.a,function(t){return t[0]===e})};_.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var u=t(function(t,i){a(t,u,e,"_i"),t._i=d++,t._l=void 0,void 0!=i&&l(i,n,t[o],t)});return i(u.prototype,{delete:function(t){if(!s(t))return!1;var e=r(t);return e===!0?p(this).delete(t):e&&c(e,this._i)&&delete e[this._i]},has:function(t){if(!s(t))return!1;var e=r(t);return e===!0?p(this).has(t):e&&c(e,this._i)}}),u},def:function(t,e,n){var i=r(o(e),!0);return i===!0?p(t).set(e,n):i[t._i]=n,t},ufstore:p}},function(t,n,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){if(!R){var t=(0,A.default)("instanceofSymbol"),i=function(n){var i=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,y.default)(this,n);var e=t._motorHtmlCounterpart,i=(0,S.default)(this,(n.__proto__||(0,m.default)(n)).call(this,t));return i._willBeRendered=!1,i._elementManager=new L.default(e||i._makeElement()),i._elementManager.element._associateImperativeNode(i),i._mounted=!1,i._mountPromise=null,i._resolveMountPromise=null,i._rejectMountPromise=null,i._awaitingMountPromiseToRender=!1,i._waitingForMountConditions=!1,i.on("propertychange",function(t){"sizeMode"!=t&&"absoluteSize"!=t&&"proportionalSize"!=t||i._calcSize(),i._needsToBeRendered()}),i}return(0,E.default)(n,t),(0,x.default)(n,[{key:"_makeElement",value:function(){throw new Error("Subclasses need to override ImperativeBase#_makeElement.")}},{key:"_waitForMountThenResolveMountPromise",value:function(){}},{key:"addChild",value:function(t){if(t instanceof n){if(t instanceof I.default)throw new Error("\n                        A Scene cannot be added to another Node or Scene (at\n                        least for now). To place a Scene in a Node, just mount\n                        a new Scene onto a MotorHTMLNode with Scene.mount().\n                    ");return(0,C.default)(n.prototype.__proto__||(0,m.default)(n.prototype),"addChild",this).call(this,t),(t._scene||t.scene)&&(t._resolveScenePromise&&t._resolveScenePromise(t._scene),t._giveSceneRefToChildren()),t._calcSize(),t._needsToBeRendered(),this.on("sizechange",t._onParentSizeChange),this._elementManager.connectChildElement(t),this}}},{key:"removeChild",value:function(t){t instanceof j.default&&((0,C.default)(n.prototype.__proto__||(0,m.default)(n.prototype),"removeChild",this).call(this,t),this.off("sizechange",t._onParentSizeChange),t._resetSceneRef(),t._mountPromise&&t._rejectMountPromise("mountcancel"),t._mounted&&t._elementManager.shouldNotRender(),t._resetMountPromise(),this._elementManager.disconnectChildElement(t))}},{key:"_resetMountPromise",value:function(){this._mounted=!1,this._mountPromise=null,this._resolveMountPromise=null,this._rejectMountPromise=null;for(var t=this._children,e=0,n=t.length;e<n;e+=1)t[e]._resetMountPromise()}},{key:"_needsToBeRendered",value:function(){var t=this;if(this._awaitingMountPromiseToRender)return _.default.resolve();var n=function(){t._willBeRendered=!0,U.default._setNodeToBeRendered(t)};if(!this._mounted){this._awaitingMountPromiseToRender=!0;var i=void 0;return this.mountPromise.then(n).catch(function(){"mountcancel"!=e&&(i=e)}).then(function(){if(t._awaitingMountPromiseToRender=!1,i)throw i})}return n(),_.default.resolve()}},{key:"_getAncestorToBeRendered",value:function(){for(var t=this._parent;t;){if(t._willBeRendered)return t;t=t._parent}return!1}},{key:"_render",value:function(t){(0,C.default)(n.prototype.__proto__||(0,m.default)(n.prototype),"_render",this).call(this),this._elementManager.applyImperativeNodeProperties(this)}},{key:"mountPromise",get:function(){var t=this;return this._mountPromise||(this._mountPromise=new _.default(function(e,n){t._resolveMountPromise=e,t._rejectMountPromise=n})),this._mounted?this._mounted&&this._resolveMountPromise():this._waitForMountThenResolveMountPromise(),this._mountPromise}},{key:"element",get:function(){return this._elementManager.element}},{key:"properties",set:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.default)(n.prototype.__proto__||(0,m.default)(n.prototype),"properties",e,this),e.classes&&(t=this._elementManager).setClasses.apply(t,(0,d.default)(e.classes))}}]),n}(n);return(0,h.default)(i,u.default,{value:function(e){if(this!==i)return(0,m.default)(i)[u.default].call(this,e);for(var n=e;n;){var r=(0,a.default)(n,"constructor");if(r&&r.value&&r.value.hasOwnProperty(t))return!0;n=(0,m.default)(n)}return!1}}),i[t]=!0,i};n.default=R=i(function(){function t(){(0,y.default)(this,t)}return t}()),R.mixin=i}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=i(117),a=r(s),l=i(177),u=r(l),c=i(31),h=r(c),f=i(218),d=r(f),p=i(155),_=r(p),v=i(3),m=r(v),g=i(29),y=r(g),b=i(30),x=r(b),w=i(34),S=r(w),k=i(184),M=r(k),O=i(116),C=r(O),P=i(81),E=r(P),T=i(65),A=r(T);n.initImperativeBase=o;var R,F=i(153),L=r(F),z=i(154),j=r(z),N=i(235),I=r(N),D=i(223),U=r(D);o(),n.default=R},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(155),o=i(r),s=n(180),a=i(s),l=n(3),u=i(l),c=n(29),h=i(c),f=n(30),d=i(f),p=n(34),_=i(p),v=n(184),m=i(v),g=n(116),y=i(g),b=n(81),x=i(b),w=n(186),S=n(172),k=(i(S),n(214)),M=i(k),O=n(234),C=i(O),P=n(185),E=i(P),T=n(236),A=i(T),R=n(224),F=i(R);(0,O.initImperativeBase)();var L=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.default)(this,e);var n=(0,_.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n._elementParentSize={x:0,y:0,z:0},n._onElementParentSizeChange=function(t){n._elementParentSize=t,n._calcSize(),
n._needsToBeRendered()},n._calcSize(),n._needsToBeRendered(),n}return(0,x.default)(e,t),(0,d.default)(e,[{key:"_setDefaultProperties",value:function(){(0,y.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"_setDefaultProperties",this).call(this),(0,a.default)(this._properties,{sizeMode:new E.default("proportional","proportional","absolute")})}},{key:"_startOrStopSizePolling",value:function(){!this._mounted||"proportional"!=this._properties.sizeMode.x&&"proportional"!=this._properties.sizeMode.y&&"proportional"!=this._properties.sizeMode.z?this._stopSizePolling():this._startSizePolling()}},{key:"_startSizePolling",value:function(){this._elementManager&&(this._elementManager.element._startSizePolling(),this._elementManager.element.on("parentsizechange",this._onElementParentSizeChange))}},{key:"_stopSizePolling",value:function(){this._elementManager&&(this._elementManager.element.off("parentsizechange",this._onElementParentSizeChange),this._elementManager.element._stopSizePolling())}},{key:"_getParentSize",value:function(){return this._mounted?this._elementParentSize:{x:0,y:0,z:0}}},{key:"_makeElement",value:function(){return new A.default}},{key:"mount",value:function(t){var e=this,n=function(){if(void 0===t?t=document.body:"string"==typeof t&&(t=document.querySelector(t)),!(t instanceof window.HTMLElement))throw new Error("Invalid mount point specified in Scene.mount() call. Pass a selector, an actual HTMLElement, or don't pass anything to mount to <body>.");e._mounted&&e.unmount(),t!==e._elementManager.element.parentNode&&t.appendChild(e._elementManager.element),e._mounted=!0,e._mountPromise&&e._resolveMountPromise(),e._elementManager.shouldRender(),e._startOrStopSizePolling()};return"loading"==document.readyState?(0,F.default)().then(n):(n(),o.default.resolve())}},{key:"unmount",value:function(){this._mounted&&(this._elementManager.shouldNotRender(),this._stopSizePolling(),this._elementManager.element.parentNode&&this._elementManager.element.parentNode.removeChild(this._elementManager.element),this._mountPromise&&this._rejectMountPromise("mountcancel"),this._resetMountPromise())}},{key:"sizeMode",set:function(t){(0,m.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"sizeMode",t,this),this._startOrStopSizePolling()},get:function(){return(0,y.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"sizeMode",this)}}]),e}(C.default.mixin(M.default));(0,w.makeAccessorsEnumerable)(L.prototype),e.default=L},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(215),o=i(r),s=n(3),a=i(s),l=n(29),u=i(l),c=n(30),h=i(c),f=n(34),d=i(f),p=n(116),_=i(p),v=n(81),m=i(v),g=n(230),y=i(g),b=n(237),x=i(b),w=n(223),S=i(w),k=n(235),M=i(k),O=n(213),C=i(O),P=n(214),E=i(P),T=n(225),A=i(T),R=n(239),F=i(R),L=n(243),z=(i(L),n(244));i(z);n(242),(0,R.initMotorHTMLBase)();var j=(new y.default,function(t){function e(){return(0,u.default)(this,e),(0,d.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"createdCallback",value:function(){var t=this;(0,_.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"createdCallback",this).call(this),this._sizePollTask=null,this._parentSize={x:0,y:0,z:0},this._imperativeCounterpartPromise.then(function(){t.imperativeCounterpart._mounted||t.parentNode&&t.imperativeCounterpart.mount(t.parentNode)}),this.initWebGl()}},{key:"initWebGl",value:function(){var t=this;this.mountPromise.then(function(){t.webglEnabled=!!t.getAttribute("webglenabled"),t.webglEnabled&&(t.webGlRendererState={},(0,A.default)().initGl(t))})}},{key:"_startSizePolling",value:function(){this._sizePollTask||(this._sizePollTask=S.default.addRenderTask(this._checkSize.bind(this)))}},{key:"_checkSize",value:function(){var t=this.parentNode,e=this._parentSize,n=getComputedStyle(t),i=parseFloat(n.width),r=parseFloat(n.height);e.x==i&&e.y==r||(e.x=i,e.y=r,this.triggerEvent("parentsizechange",(0,o.default)({},e)))}},{key:"_makeImperativeCounterpart",value:function(){return new M.default({_motorHtmlCounterpart:this})}},{key:"getStyles",value:function(){return x.default}},{key:"deinit",value:function(){(0,_.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"deinit",this).call(this),this.imperativeCounterpart.unmount()}},{key:"_stopSizePolling",value:function(){S.default.removeRenderTask(this._sizePollTask),this._sizePollTask=null}}]),e}(C.default.mixin(F.default)));(0,R.proxyGettersSetters)(E.default,j),e.default=j=document.registerElement("motor-scene",j),e.default=j},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(215),o=i(r),s=n(238),a=i(s);e.default=(0,o.default)({},a.default,{position:"relative",overflow:"hidden",width:"100%",height:"100%",perspective:1e3})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={display:"none",boxSizing:"border-box",position:"absolute",top:0,left:0,transformOrigin:"50% 50% 0",transformStyle:"preserve-3d"}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(){var e=this.shadowRoot,n=null;try{for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];n=t.call.apply(t,[this].concat(r))}catch(t){throw t}if(this instanceof j){this._hasShadowRoot=!0,e&&a.call(this,e);var u=(0,G.observeChildren)(n,o.bind(this),s.bind(this));V.set(n,u);for(var c=this.children,h=c.length,f=0;f<h;f+=1)c[f]instanceof j&&(c[f]._isPossiblyDistributed=!0)}return n}}function o(t){t instanceof j?this.imperativeCounterpart.addChild(t.imperativeCounterpart):G.hasShadowDomV0&&t instanceof HTMLContentElement||G.hasShadowDomV1&&t instanceof HTMLSlotElement&&(t.addEventListener("slotchange",this),this._handleDistributedChildren(t))}function s(t){t instanceof j?this.imperativeCounterpart.removeChild(t.imperativeCounterpart):G.hasShadowDomV0&&t instanceof HTMLContentElement||G.hasShadowDomV1&&t instanceof HTMLSlotElement&&(t.removeEventListener("slotchange",this),this._handleDistributedChildren(t),this._slotElementsAssignedNodes.delete(t))}function a(t){V.get(t).disconnect(),V.delete(t);var e=0,n=t.childNodes,i=!0,r=!1,o=void 0;try{for(var s,a=(0,F.default)(n);!(i=(s=a.next()).done);i=!0){var l=s.value;l instanceof j?(this.imperativeCounterpart.removeChild(l.imperativeCounterpart),t.insertBefore(l,n[e]),e+=1):e+=1}}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}}function l(){j||(e.default=j=function(t){function e(){return(0,S.default)(this,e),(0,C.default)(this,(e.__proto__||(0,x.default)(e)).apply(this,arguments))}return(0,A.default)(e,t),(0,M.default)(e,[{key:"createdCallback",value:function(){var t=this;(0,E.default)(e.prototype.__proto__||(0,x.default)(e.prototype),"createdCallback",this).call(this),this.imperativeCounterpart=null,this._hasShadowRoot=!1,this._isPossiblyDistributed=!1,this._slotElementsAssignedNodes=new z.default,this._shadowParent=null,this._shadowChildren=null,this._imperativeCounterpartPromise=y.default.resolve().then(function(){return t._associateImperativeNode()}),this.mountPromise=this._imperativeCounterpartPromise.then(function(){return t.imperativeCounterpart.mountPromise})}},{key:"_associateImperativeNode",value:function(t){this.imperativeCounterpart||(t?this.imperativeCounterpart=t:this.imperativeCounterpart=this._makeImperativeCounterpart())}},{key:"_makeImperativeCounterpart",value:function(){throw new TypeError("This method should be implemented by classes extending DeclarativeBase.")}},{key:"childConnectedCallback",value:function(t){if(t instanceof U.default){if(this._hasShadowRoot&&(t._isPossiblyDistributed=!0),t.imperativeCounterpart._parent)return;this.imperativeCounterpart.addChild(t.imperativeCounterpart)}else G.hasShadowDomV0&&t instanceof HTMLContentElement&&(0,G.getAncestorShadowRoot)(this)||G.hasShadowDomV1&&t instanceof HTMLSlotElement&&(0,G.getAncestorShadowRoot)(this)&&(t.addEventListener("slotchange",this),this._handleDistributedChildren(t))}},{key:"handleEvent",value:function(t){if("slotchange"==t.type){var e=t.target;this._handleDistributedChildren(e)}}},{key:"_handleDistributedChildren",value:function(t){for(var n=this._getDistributedChildDifference(t),i=n.added,r=i.length,o=0;o<r;o+=1){var s=i[o];if(s instanceof e){var a=s._shadowParent;if(a&&a._shadowChildren){var l=a._shadowChildren;l.splice(l.indexOf(s),1),l.length||(a._shadowChildren=null)}s._shadowParent=this,this._shadowChildren||(this._shadowChildren=[]),this._shadowChildren.add(s)}}for(var u=n.removed,c=u.length,h=0;h<c;h+=1){var f=u[h];f instanceof e&&(f._shadowParent=null,this._shadowChildren.delete(f),this._shadowChildren.size||(this._shadowChildren=null))}}},{key:"_getDistributedChildDifference",value:function(t){var e=void 0;e=this._slotElementsAssignedNodes.has(t)?this._slotElementsAssignedNodes.get(t):[];var n=t.assignedNodes({flatten:!0});this._slotElementsAssignedNodes.set(t,n);for(var i={removed:[]},r=0,o=e.length;r<o;r+=1){var s=e[r],a=n.indexOf(s);a>=0?n.splice(r,1):i.removed.push(s)}return i.added=n,i}},{key:"childDisconnectedCallback",value:function(t){if(t instanceof U.default){if(t._isPossiblyDistributed=!1,!t.imperativeCounterpart._parent)return;this.imperativeCounterpart.removeChild(t.imperativeCounterpart)}else G.hasShadowDomV0&&t instanceof HTMLContentElement&&(0,G.getAncestorShadowRoot)(this)||G.hasShadowDomV1&&t instanceof HTMLSlotElement&&(0,G.getAncestorShadowRoot)(this)&&(t.removeEventListener("slotchange",this),this._handleDistributedChildren(t),this._slotElementsAssignedNodes.delete(t))}},{key:"setAttribute",value:function(t,n){(0,E.default)(e.prototype.__proto__||(0,x.default)(e.prototype),"setAttribute",this).call(this,t,n)}}]),e}((0,I.default)(window.HTMLElement)))}function u(t,e){var n=["constructor","parent","children","element","scene","addChild","addChildren","removeChild","removeChildren"],i=(0,m.default)(t.prototype),r=!0,o=!1,s=void 0;try{for(var a,l=function(){var i=a.value;if(n.indexOf(i)>=0||0==i.indexOf("_")||e.prototype.hasOwnProperty(i))return"continue";var r={},o=(0,_.default)(t.prototype,i);o.set&&(0,d.default)(r,{set:function(t){this.imperativeCounterpart[i]=t}}),o.get&&(0,d.default)(r,{get:function(){return this.imperativeCounterpart[i]}}),(0,h.default)(e.prototype,i,r)},u=(0,F.default)(i);!(r=(a=u.next()).done);r=!0){l()}}catch(t){o=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=n(31),h=i(c),f=n(180),d=i(f),p=n(117),_=i(p),v=n(209),m=i(v),g=n(155),y=i(g),b=n(3),x=i(b),w=n(29),S=i(w),k=n(30),M=i(k),O=n(34),C=i(O),P=n(116),E=i(P),T=n(81),A=i(T),R=n(194),F=i(R),L=n(230),z=i(L);e.initMotorHTMLBase=l,e.proxyGettersSetters=u;var j,N=n(240),I=i(N),D=n(241),U=i(D),G=n(186),V=new z.default;HTMLElement.prototype.createShadowRoot instanceof Function&&(HTMLElement.prototype.createShadowRoot=r(HTMLElement.prototype.createShadowRoot)),HTMLElement.prototype.attachShadow instanceof Function&&(HTMLElement.prototype.attachShadow=r(HTMLElement.prototype.attachShadow)),l(),e.default=j},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return!!t&&(t===HTMLElement||r(t.prototype.__proto__?t.prototype.__proto__.constructor:null))}function o(t){if(t||(t=HTMLElement),!r(t))throw new TypeError("The argument to WebComponentMixin must be a constructor that extends from or is HTMLElement.");if(O.has(t))return O.get(t);var e=function(t){function e(){(0,h.default)(this,e);var t=(0,_.default)(this,(e.__proto__||(0,u.default)(e)).call(this));if("registerElement"in document&&!("customElements"in window))throw new Error("\n                    You cannot instantiate this class directly without first registering it\n                    with `document.registerElement(...)`. See an example at http://....\n                ");if(!("registerElement"in document||"customElements"in window))throw new Error("\n                    Your browser does not support the Custom Elements API. You'll\n                    need to install a polyfill. See how at http://....\n                ");return t.createdCallback(),t}return(0,y.default)(e,t),(0,d.default)(e,[{key:"createdCallback",value:function(){this._attached=!1,this._initialized=!1,this._initialAttributeChange=!1,this._childObserver=null,this._style=null}},{key:"childConnectedCallback",value:function(t){}},{key:"childDisconnectedCallback",value:function(t){}},{key:"connectedCallback",value:function(){(0,m.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"connectedCallback",this)&&(0,m.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"connectedCallback",this).call(this),this._attached=!0,this._initialized||(this.init(),this._initialized=!0)}},{key:"attachedCallback",value:function(){this.connectedCallback()}},{key:"_createStyles",value:function(){var t=k.default.createRule(this.getStyles());return t.applyTo(this),t}},{key:"disconnectedCallback",value:function(){var t=this;(0,m.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"disconnectedCallback",this)&&(0,m.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"disconnectedCallback",this).call(this),this._attached=!1,a.default.resolve().then(function(){!t._attached&&t._initialized&&t.deinit()})}},{key:"detachedCallback",value:function(){this.disconnectedCallback()}},{key:"getStyles",value:function(){return{}}},{key:"init",value:function(){var t=this;if(this._style||(this._style=this._createStyles()),!this._childObserver){var e=this.childNodes;e.length&&setTimeout(function(){for(var n=e.length,i=0;i<n;i+=1)t.childConnectedCallback(e[i])},5),this._childObserver=(0,w.observeChildren)(this,this.childConnectedCallback,this.childDisconnectedCallback)}if(!this._initialAttributeChange&&this.hasAttributes())for(var n=this.attributes,i=n.length,r=0;r<i;r+=1)this.attributeChangedCallback(n[r].name,null,n[r].value)}},{key:"attributeChangedCallback",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];(0,m.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"attributeChangedCallback",this)&&(t=(0,m.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"attributeChangedCallback",this)).call.apply(t,[this].concat(i)),this._initialAttributeChange=!0}},{key:"deinit",value:function(){this._initialized=!1}}]),e}(t);return O.set(t,e),e}Object.defineProperty(e,"__esModule",{value:!0});var s=n(155),a=i(s),l=n(3),u=i(l),c=n(29),h=i(c),f=n(30),d=i(f),p=n(34),_=i(p),v=n(116),m=i(v),g=n(81),y=i(g),b=n(198),x=i(b);e.default=o;var w=n(186),S=n(120),k=i(S);if("function"!=typeof window.HTMLElement){var M=function(){};M.prototype=window.HTMLElement.prototype,window.HTMLElement=M}var O=new x.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){s(t);var e=t.trim().split(/(?:\s*,\s*)|(?:\s+)/g),n=e.length;return n>0&&(e[0]=window.parseFloat(e[0])),n>1&&(e[1]=window.parseFloat(e[1])),n>2&&(e[2]=window.parseFloat(e[2])),e}function o(t){a(t);var e=t.trim().toLowerCase().split(/(?:\s*,\s*)|(?:\s+)/g),n=e.length;return n>0&&(e[0]=e[0]),n>1&&(e[1]=e[1]),n>2&&(e[2]=e[2]),e}function s(t){if(!t.match(/^\s*(((\s*(-|\+)?((\.\d+)|(\d+\.\d+)|(\d+)|(\d+(\.\d+)?e(-|\+)?(\d+)))\s*,){0,2}(\s*(-|\+)?((\.\d+)|(\d+\.\d+)|(\d+)|(\d+(\.\d+)?e(-|\+)?(\d+)))))|((\s*(-|\+)?((\.\d+)|(\d+\.\d+)|(\d+)|(\d+(\.\d+)?e(-|\+)?(\d+)))\s){0,2}(\s*(-|\+)?((\.\d+)|(\d+\.\d+)|(\d+)|(\d+(\.\d+)?e(-|\+)?(\d+))))))\s*$/g))throw new Error('Attribute must be a comma- or space-separated sequence of up to three numbers, for example "1 2.5 3". Yours was "'+t+'".')}function a(t){if(!t.match(/^\s*(((\s*([a-zA-Z]+)\s*,){0,2}(\s*([a-zA-Z]+)))|((\s*([a-zA-Z]+)\s*){1,3}))\s*$/g))throw new Error('Attribute must be a comma- or space-separated sequence of up to three strings, for example "absolute absolute". Yours was "'+t+'".')}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=n(3),u=i(l),c=n(29),h=i(c),f=n(30),d=i(f),p=n(34),_=i(p),v=n(116),m=i(v),g=n(81),y=i(g),b=n(238),x=i(b),w=n(154),S=i(w),k=n(172),M=i(k),O=n(214),C=i(O),P=n(239),E=i(P);n(242),(0,P.initMotorHTMLBase)();var T=function(t){function e(){return(0,h.default)(this,e),(0,_.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,y.default)(e,t),(0,d.default)(e,[{key:"getStyles",value:function(){return x.default}},{key:"_makeImperativeCounterpart",value:function(){return new S.default({_motorHtmlCounterpart:this})}},{key:"attributeChangedCallback",value:function(){for(var t,n=this,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];(t=(0,m.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"attributeChangedCallback",this)).call.apply(t,[this].concat(r)),this._imperativeCounterpartPromise.then(function(){n._updateNodeProperty.apply(n,r)})}},{key:"_updateNodeProperty",value:function(t,e,n){n!==e&&(t.match(/opacity/i)?this.imperativeCounterpart[t]=window.parseFloat(n):t.match(/sizeMode/i)?this.imperativeCounterpart[t]=o(n):(t.match(/rotation/i)||t.match(/scale/i)||t.match(/position/i)||t.match(/absoluteSize/i)||t.match(/proportionalSize/i)||t.match(/align/i)||t.match(/mountPoint/i)||t.match(/origin/i)||t.match(/skew/i))&&(this.imperativeCounterpart[t]=r(n)))}}]),e}(E.default);(0,P.proxyGettersSetters)(M.default,T),(0,P.proxyGettersSetters)(C.default,T),e.default=T=document.registerElement("motor-node",T),e.default=T},function(t,e){/*! (C) WebReflection Mit Style License */
!function(t,e,n,i){"use strict";function r(t,e){for(var n=0,i=t.length;n<i;n++)v(t[n],e)}function o(t){for(var e,n=0,i=t.length;n<i;n++)e=t[n],S(e,D[a(e)])}function s(t){return function(e){it(e)&&(v(e,t),r(e.querySelectorAll(U),t))}}function a(t){var e=at.call(t,"is"),n=t.nodeName.toUpperCase(),i=V.call(I,e?z+e.toUpperCase():L+n);return e&&-1<i&&!l(n,e)?-1:i}function l(t,e){return-1<U.indexOf(t+'[is="'+e+'"]')}function u(t){var e=t.currentTarget,n=t.attrChange,i=t.attrName,r=t.target;gt&&(!r||r===e)&&e.attributeChangedCallback&&"style"!==i&&t.prevValue!==t.newValue&&e.attributeChangedCallback(i,n===t[P]?null:t.prevValue,n===t[T]?null:t.newValue)}function c(t){var e=s(t);return function(t){m.push(e,t.target)}}function h(t){mt&&(mt=!1,t.currentTarget.removeEventListener(R,h)),r((t.target||e).querySelectorAll(U),t.detail===O?O:M),nt&&p()}function f(t,e){var n=this;ct.call(n,t,e),g.call(n,{target:n})}function d(t,e){$(t,e),x?x.observe(t,ft):(vt&&(t.setAttribute=f,t[k]=b(t),t.addEventListener(F,g)),t.addEventListener(A,u)),t.createdCallback&&gt&&(t.created=!0,t.createdCallback(),t.created=!1)}function p(){for(var t,e=0,n=rt.length;e<n;e++)t=rt[e],G.contains(t)||(n--,rt.splice(e--,1),v(t,O))}function _(t){throw new Error("A "+t+" type is already registered")}function v(t,e){var n,i=a(t);-1<i&&(w(t,D[i]),i=0,e!==M||t[M]?e===O&&!t[O]&&(t[M]=!1,t[O]=!0,i=1):(t[O]=!1,t[M]=!0,i=1,nt&&V.call(rt,t)<0&&rt.push(t)),i&&(n=t[e+"Callback"])&&n.call(t))}if(!(i in e)){var m,g,y,b,x,w,S,k="__"+i+(1e5*Math.random()>>0),M="attached",O="detached",C="extends",P="ADDITION",E="MODIFICATION",T="REMOVAL",A="DOMAttrModified",R="DOMContentLoaded",F="DOMSubtreeModified",L="<",z="=",j=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,N=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],I=[],D=[],U="",G=e.documentElement,V=I.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},B=n.prototype,H=B.hasOwnProperty,W=B.isPrototypeOf,q=n.defineProperty,X=n.getOwnPropertyDescriptor,Y=n.getOwnPropertyNames,Z=n.getPrototypeOf,Q=n.setPrototypeOf,J=!!n.__proto__,K=n.create||function t(e){return e?(t.prototype=e,new t):this},$=Q||(J?function(t,e){return t.__proto__=e,t}:Y&&X?function(){function t(t,e){for(var n,i=Y(e),r=0,o=i.length;r<o;r++)n=i[r],H.call(t,n)||q(t,n,X(e,n))}return function(e,n){do t(e,n);while((n=Z(n))&&!W.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),tt=t.MutationObserver||t.WebKitMutationObserver,et=(t.HTMLElement||t.Element||t.Node).prototype,nt=!W.call(et,G),it=nt?function(t){return 1===t.nodeType}:function(t){return W.call(et,t)},rt=nt&&[],ot=et.cloneNode,st=et.dispatchEvent,at=et.getAttribute,lt=et.hasAttribute,ut=et.removeAttribute,ct=et.setAttribute,ht=e.createElement,ft=tt&&{attributes:!0,characterData:!0,attributeOldValue:!0},dt=tt||function(t){vt=!1,G.removeEventListener(A,dt)},pt=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},_t=!1,vt=!0,mt=!0,gt=!0;Q||J?(w=function(t,e){W.call(e,t)||d(t,e)},S=d):(w=function(t,e){t[k]||(t[k]=n(!0),d(t,e))},S=w),nt?(vt=!1,function(){var t=X(et,"addEventListener"),e=t.value,n=function(t){var e=new CustomEvent(A,{bubbles:!0});e.attrName=t,e.prevValue=at.call(this,t),e.newValue=null,e[T]=e.attrChange=2,ut.call(this,t),st.call(this,e)},i=function(t,e){var n=lt.call(this,t),i=n&&at.call(this,t),r=new CustomEvent(A,{bubbles:!0});ct.call(this,t,e),r.attrName=t,r.prevValue=n?i:null,r.newValue=e,n?r[E]=r.attrChange=1:r[P]=r.attrChange=0,st.call(this,r)},r=function(t){var e,n=t.currentTarget,i=n[k],r=t.propertyName;i.hasOwnProperty(r)&&(i=i[r],e=new CustomEvent(A,{bubbles:!0}),e.attrName=i.name,e.prevValue=i.value||null,e.newValue=i.value=n[r]||null,null==e.prevValue?e[P]=e.attrChange=0:e[E]=e.attrChange=1,st.call(n,e))};t.value=function(t,o,s){t===A&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[k]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=n,e.call(this,"propertychange",r)),e.call(this,t,o,s)},q(et,"addEventListener",t)}()):tt||(G.addEventListener(A,dt),G.setAttribute(k,1),G.removeAttribute(k),vt&&(g=function(t){var e,n,i,r=this;if(r===t.target){e=r[k],r[k]=n=b(r);for(i in n){if(!(i in e))return y(0,r,i,e[i],n[i],P);if(n[i]!==e[i])return y(1,r,i,e[i],n[i],E)}for(i in e)if(!(i in n))return y(2,r,i,e[i],n[i],T)}},y=function(t,e,n,i,r,o){var s={attrChange:t,currentTarget:e,attrName:n,prevValue:i,newValue:r};s[o]=t,u(s)},b=function(t){for(var e,n,i={},r=t.attributes,o=0,s=r.length;o<s;o++)e=r[o],n=e.name,"setAttribute"!==n&&(i[n]=e.value);return i})),e[i]=function(t,n){if(i=t.toUpperCase(),_t||(_t=!0,tt?(x=function(t,e){function n(t,e){for(var n=0,i=t.length;n<i;e(t[n++]));}return new tt(function(i){for(var r,o,s,a=0,l=i.length;a<l;a++)r=i[a],"childList"===r.type?(n(r.addedNodes,t),n(r.removedNodes,e)):(o=r.target,gt&&o.attributeChangedCallback&&"style"!==r.attributeName&&(s=at.call(o,r.attributeName),s!==r.oldValue&&o.attributeChangedCallback(r.attributeName,r.oldValue,s)))})}(s(M),s(O)),x.observe(e,{childList:!0,subtree:!0})):(m=[],pt(function t(){for(;m.length;)m.shift().call(null,m.shift());pt(t)}),e.addEventListener("DOMNodeInserted",c(M)),e.addEventListener("DOMNodeRemoved",c(O))),e.addEventListener(R,h),e.addEventListener("readystatechange",h),e.createElement=function(t,n){var i="string"==typeof n?n:"",r=i?ht.call(e,t,i):ht.call(e,t),o=""+t,s=V.call(I,(i?z:L)+(i||o).toUpperCase()),a=-1<s;return i&&(r.setAttribute("is",i=i.toLowerCase()),a&&(a=l(o.toUpperCase(),i))),gt=!e.createElement.innerHTMLHelper,a&&S(r,D[s]),r},et.cloneNode=function(t){var e=ot.call(this,!!t),n=a(e);return-1<n&&S(e,D[n]),t&&o(e.querySelectorAll(U)),e}),-2<V.call(I,z+i)+V.call(I,L+i)&&_(t),!j.test(i)||-1<V.call(N,i))throw new Error("The type "+t+" is invalid");var i,u,f=function(){return p?e.createElement(v,i):e.createElement(v)},d=n||B,p=H.call(d,C),v=p?n[C].toUpperCase():i;return p&&-1<V.call(I,L+v)&&_(v),u=I.push((p?z:L)+i)-1,U=U.concat(U.length?",":"",p?v+'[is="'+t.toLowerCase()+'"]':v),f.prototype=D[u]=H.call(d,"prototype")?d.prototype:K(et),r(e.querySelectorAll(U),M),f}}}(window,document,Object,"registerElement")},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=null,n=new s.default(function(t){return e=t});return setTimeout(e,t),n}Object.defineProperty(e,"__esModule",{value:!0});var o=n(155),s=i(o);e.default=r},function(t,e,n){var i,r;(function(n){this.Two=function(n){function o(){var t=document.body.getBoundingClientRect(),e=this.width=t.width,n=this.height=t.height;this.renderer.setSize(e,n,this.ratio),this.trigger(M.Events.resize,e,n)}function s(){j(s);for(var t=0;t<M.Instances.length;t++){var e=M.Instances[t];e.playing&&e.update()}}var a=this,l={_indexAmount:0,natural:{slice:Array.prototype.slice,indexOf:Array.prototype.indexOf,keys:Object.keys,bind:Function.prototype.bind,create:Object.create},identity:function(t){return t},isArguments:function(t){return"[object Arguments]"===toString.call(t)},isFunction:function(t){return"[object Function]"===toString.call(t)},isString:function(t){return"[object String]"===toString.call(t)},isNumber:function(t){return"[object Number]"===toString.call(t)},isDate:function(t){return"[object Date]"===toString.call(t)},isRegExp:function(t){return"[object RegExp]"===toString.call(t)},isError:function(t){return"[object Error]"===toString.call(t)},isFinite:function(t){return isFinite(t)&&!isNaN(parseFloat(t))},isNaN:function(t){return l.isNumber(t)&&t!==+t},isBoolean:function(t){return t===!0||t===!1||"[object Boolean]"===toString.call(t)},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isEmpty:function(t){return null==t||(S&&(l.isArray(t)||l.isString(t)||l.isArguments(t))?0===t.length:0===l.keys(t).length)},isElement:function(t){return!(!t||1!==t.nodeType)},isArray:Array.isArray||function(t){return"[object Array]"===toString.call(t)},isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},toArray:function(t){return t?l.isArray(t)?y.call(t):S(t)?l.map(t,l.identity):l.values(t):[]},range:function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},indexOf:function(t,e){if(l.natural.indexOf)return l.natural.indexOf.call(t,e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},has:function(t,e){return null!=t&&hasOwnProperty.call(t,e)},bind:function(t,e){var n=l.natural.bind;if(n&&t.bind===n)return n.apply(t,y.call(arguments,1));var i=y.call(arguments,2);return function(){t.apply(e,i)}},extend:function(t){for(var e=y.call(arguments,1),n=0;n<e.length;n++){var i=e[n];for(var r in i)t[r]=i[r]}return t},defaults:function(t){for(var e=y.call(arguments,1),n=0;n<e.length;n++){var i=e[n];for(var r in i)void 0===t[r]&&(t[r]=i[r])}return t},keys:function(t){if(!l.isObject(t))return[];if(l.natural.keys)return l.natural.keys(t);var e=[];for(var n in t)l.has(t,n)&&e.push(n);return e},values:function(t){for(var e=l.keys(t),n=[],i=0;i<e.length;i++){var r=e[i];n.push(t[r])}return n},each:function(t,e,n){for(var i=n||this,r=!S(t)&&l.keys(t),o=(r||t).length,s=0;s<o;s++){var a=r?r[s]:s;e.call(i,t[a],a,t)}return t},map:function(t,e,n){for(var i=n||this,r=!S(t)&&l.keys(t),o=(r||t).length,s=[],a=0;a<o;a++){var u=r?r[a]:a;s[a]=e.call(i,t[u],u,t)}return s},once:function(t){var e=!1;return function(){return e?t:(e=!0,t.apply(this,arguments))}},after:function(t,e){return function(){for(;--t<1;)return e.apply(this,arguments)}},uniqueId:function(t){var e=++l._indexAmount+"";return t?t+e:e}},u=Math.sin,c=Math.cos,h=Math.atan2,f=Math.sqrt,d=(Math.round,Math.abs,Math.PI),p=d/2,_=Math.pow,v=Math.min,m=Math.max,g=0,y=l.natural.slice,b=a.performance&&a.performance.now?a.performance:Date,x=Math.pow(2,53)-1,w=function(t){return null==t?void 0:t.length},S=function(t){var e=w(t);return"number"==typeof e&&e>=0&&e<=x},k={temp:a.document?a.document.createElement("div"):{},hasEventListeners:l.isFunction(a.addEventListener),bind:function(t,e,n,i){return this.hasEventListeners?t.addEventListener(e,n,!!i):t.attachEvent("on"+e,n),k},unbind:function(t,e,n,i){return k.hasEventListeners?t.removeEventListeners(e,n,!!i):t.detachEvent("on"+e,n),k},getRequestAnimationFrame:function(){var t,e=0,n=["ms","moz","webkit","o"],i=a.requestAnimationFrame;if(!i){for(var r=0;r<n.length;r++)i=a[n[r]+"RequestAnimationFrame"]||i,t=a[n[r]+"CancelAnimationFrame"]||a[n[r]+"CancelRequestAnimationFrame"]||t;i=i||function(t,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),o=a.setTimeout(function(){t(i+r)},r);return e=i+r,o}}return i.init=l.once(s),i}},M=a.Two=function(t){var e=l.defaults(t||{},{fullscreen:!1,width:640,height:480,type:M.Types.svg,autostart:!1});if(l.each(e,function(t,e){"fullscreen"!==e&&"autostart"!==e&&(this[e]=t)},this),l.isElement(e.domElement)){var n=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+n)||(this.type=M.Types[n])}if(this.renderer=new M[this.type](this),M.Utils.setPlaying.call(this,e.autostart),this.frameCount=0,e.fullscreen){var i=l.bind(o,this);l.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),l.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),k.bind(a,"resize",i),i()}else l.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height);this.scene=this.renderer.scene,M.Instances.push(this),j.init()};l.extend(M,{Array:a.Float32Array||Array,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.7.0",Identifier:"two_",Properties:{hierarchy:"hierarchy",demotion:"demotion"},Events:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"},Commands:{move:"M",line:"L",curve:"C",close:"Z"},Resolution:8,Instances:[],noConflict:function(){return a.Two=n,this},uniqueId:function(){var t=g;return g++,t},Utils:l.extend(l,{performance:b,defineProperty:function(t){var e=this,n="_"+t,i="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(e,t,{enumerable:!0,get:function(){return this[n]},set:function(t){this[n]=t,this[i]=!0}})},release:function(t){l.isObject(t)&&(l.isFunction(t.unbind)&&t.unbind(),t.vertices&&(l.isFunction(t.vertices.unbind)&&t.vertices.unbind(),l.each(t.vertices,function(t){l.isFunction(t.unbind)&&t.unbind()})),t.children&&l.each(t.children,function(t){M.Utils.release(t)}))},xhr:function(t,e){var n=new XMLHttpRequest;return n.open("GET",t),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&e(n.responseText)},n.send(),n},Curve:{CollinearityEpsilon:_(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:.01},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},devicePixelRatio:a.devicePixelRatio||1,getBackingStoreRatio:function(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},getRatio:function(t){return M.Utils.devicePixelRatio/R(t)},setPlaying:function(t){return this.playing=!!t,this},getComputedMatrix:function(t,e){e=e&&e.identity()||new M.Matrix;for(var n=t,i=[];n&&n._matrix;)i.push(n._matrix),n=n.parent;return i.reverse(),l.each(i,function(t){var n=t.elements;e.multiply(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9])}),e},deltaTransformPoint:function(t,e,n){var i=e*t.a+n*t.c+0,r=e*t.b+n*t.d+0;return new M.Vector(i,r)},decomposeMatrix:function(t){var e=M.Utils.deltaTransformPoint(t,0,1),n=M.Utils.deltaTransformPoint(t,1,0),i=180/Math.PI*Math.atan2(e.y,e.x)-90,r=180/Math.PI*Math.atan2(n.y,n.x);return{translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),skewX:i,skewY:r,rotation:i}},applySvgAttributes:function(t,e){var n,i,r,o,s={},a={};if(getComputedStyle){var u=getComputedStyle(t);for(n=u.length;n--;)i=u[n],r=u[i],void 0!==r&&(a[i]=r)}for(n=t.attributes.length;n--;)o=t.attributes[n],s[o.nodeName]=o.value;l.isUndefined(a.opacity)||(a["stroke-opacity"]=a.opacity,a["fill-opacity"]=a.opacity),l.extend(a,s),a.visible=!(l.isUndefined(a.display)&&"none"===a.display)||l.isUndefined(a.visibility)&&"hidden"===a.visibility;for(i in a)switch(r=a[i],i){case"transform":if("none"===r)break;var c=t.getCTM?t.getCTM():null;if(null===c)break;var h=M.Utils.decomposeMatrix(t.getCTM());e.translation.set(h.translateX,h.translateY),e.rotation=h.rotation,e.scale=h.scaleX;var f=parseFloat((a.x+"").replace("px")),d=parseFloat((a.y+"").replace("px"));f&&(e.translation.x=f),d&&(e.translation.y=d);break;case"visible":e.visible=r;break;case"stroke-linecap":e.cap=r;break;case"stroke-linejoin":e.join=r;break;case"stroke-miterlimit":e.miter=r;break;case"stroke-width":e.linewidth=parseFloat(r);break;case"stroke-opacity":case"fill-opacity":case"opacity":e.opacity=parseFloat(r);break;case"fill":case"stroke":/url\(\#.*\)/i.test(r)?e[i]=this.getById(r.replace(/url\(\#(.*)\)/i,"$1")):e[i]="none"===r?"transparent":r;break;case"id":e.id=r;break;case"class":e.classList=r.split(" ")}return e},read:{svg:function(){return M.Utils.read.g.apply(this,arguments)},g:function(t){var e=new M.Group;M.Utils.applySvgAttributes.call(this,t,e);for(var n=0,i=t.childNodes.length;n<i;n++){var r=t.childNodes[n],o=r.nodeName;if(!o)return;var s=o.replace(/svg\:/gi,"").toLowerCase();if(s in M.Utils.read){var a=M.Utils.read[s].call(e,r);e.add(a)}}return e},polygon:function(t,e){var n=t.getAttribute("points"),i=[];n.replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(t,e,n){i.push(new M.Anchor(parseFloat(e),parseFloat(n)))});var r=new M.Path(i,!e).noStroke();return r.fill="black",M.Utils.applySvgAttributes.call(this,t,r)},polyline:function(t){return M.Utils.read.polygon.call(this,t,!0)},path:function(t){var e,n,i=t.getAttribute("d"),r=new M.Anchor,o=!1,s=!1,a=i.match(/[a-df-z][^a-df-z]*/gi),u=a.length-1;l.each(a.slice(0),function(t,e){var n,i=t[0],r=i.toLowerCase(),o=t.slice(1).trim().split(/[\s,]+|(?=\s?[+\-])/),s=[];switch(e<=0&&(a=[]),r){case"h":case"v":o.length>1&&(n=1);break;case"m":case"l":case"t":o.length>2&&(n=2);break;case"s":case"q":o.length>4&&(n=4);break;case"c":o.length>6&&(n=6);break;case"a":}if(n){for(var l=0,u=o.length,c=0;l<u;l+=n){var h=i;if(c>0)switch(i){case"m":h="l";break;case"M":h="L"}s.push([h].concat(o.slice(l,l+n)).join(" ")),c++}a=Array.prototype.concat.apply(a,s)}else a.push(t)});var c=[];if(l.each(a,function(t,i){var a,h,f,d=t[0],p=d.toLowerCase();n=t.slice(1).trim(),n=n.replace(/(-?\d+(?:\.\d*)?)[eE]([+\-]?\d+)/g,function(t,e,n){return parseFloat(e)*_(10,n)}),n=n.split(/[\s,]+|(?=\s?[+\-])/),s=d===p;var v,m,g,y,b,x,w,S,k;switch(p){case"z":i>=u?o=!0:(h=r.x,f=r.y,a=new M.Anchor(h,f,void 0,void 0,void 0,void 0,M.Commands.close));break;case"m":case"l":h=parseFloat(n[0]),f=parseFloat(n[1]),a=new M.Anchor(h,f,void 0,void 0,void 0,void 0,"m"===p?M.Commands.move:M.Commands.line),s&&a.addSelf(r),r=a;break;case"h":case"v":var O="h"===p?"x":"y",C="x"===O?"y":"x";a=new M.Anchor(void 0,void 0,void 0,void 0,void 0,void 0,M.Commands.line),a[O]=parseFloat(n[0]),a[C]=r[C],s&&(a[O]+=r[O]),r=a;break;case"c":case"s":v=r.x,m=r.y,e||(e=new M.Vector),"c"===p?(g=parseFloat(n[0]),y=parseFloat(n[1]),b=parseFloat(n[2]),x=parseFloat(n[3]),w=parseFloat(n[4]),S=parseFloat(n[5])):(k=z(r,e,s),g=k.x,y=k.y,b=parseFloat(n[0]),x=parseFloat(n[1]),w=parseFloat(n[2]),S=parseFloat(n[3])),s&&(g+=v,y+=m,b+=v,x+=m,w+=v,S+=m),l.isObject(r.controls)||M.Anchor.AppendCurveProperties(r),r.controls.right.set(g-r.x,y-r.y),a=new M.Anchor(w,S,b-w,x-S,void 0,void 0,M.Commands.curve),r=a,e=a.controls.left;break;case"t":case"q":v=r.x,m=r.y,e||(e=new M.Vector),e.isZero()?(g=v,y=m):(g=e.x,m=e.y),"q"===p?(b=parseFloat(n[0]),x=parseFloat(n[1]),w=parseFloat(n[1]),S=parseFloat(n[2])):(k=z(r,e,s),b=k.x,x=k.y,w=parseFloat(n[0]),S=parseFloat(n[1])),s&&(g+=v,y+=m,b+=v,x+=m,w+=v,S+=m),l.isObject(r.controls)||M.Anchor.AppendCurveProperties(r),r.controls.right.set(g-r.x,y-r.y),a=new M.Anchor(w,S,b-w,x-S,void 0,void 0,M.Commands.curve),r=a,e=a.controls.left;break;case"a":v=r.x,m=r.y;var P=parseFloat(n[0]),E=parseFloat(n[1]),T=parseFloat(n[2])*Math.PI/180,R=parseFloat(n[3]),F=parseFloat(n[4]);w=parseFloat(n[5]),S=parseFloat(n[6]),s&&(w+=v,S+=m);var L=(w-v)/2,j=(S-m)/2,N=L*Math.cos(T)+j*Math.sin(T),I=-L*Math.sin(T)+j*Math.cos(T),D=P*P,U=E*E,G=N*N,V=I*I,B=G/D+V/U;B>1&&(P*=Math.sqrt(B),E*=Math.sqrt(B));var H=Math.sqrt((D*U-D*V-U*G)/(D*V+U*G));l.isNaN(H)?H=0:R!=F&&H>0&&(H*=-1);var W=H*P*I/E,q=-H*E*N/P,X=W*Math.cos(T)-q*Math.sin(T)+(v+w)/2,Y=W*Math.sin(T)+q*Math.cos(T)+(m+S)/2,Z=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},Q=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(Z(t)*Z(e))},O=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Q(t,e))},J=O([1,0],[(N-W)/P,(I-q)/E]),K=[(N-W)/P,(I-q)/E],$=[(-N-W)/P,(-I-q)/E],tt=O(K,$);Q(K,$)<=-1&&(tt=Math.PI),Q(K,$)>=1&&(tt=0),R&&(tt=A(tt,2*Math.PI)),F&&tt>0&&(tt-=2*Math.PI);var et=M.Resolution,nt=(new M.Matrix).translate(X,Y).rotate(T);a=l.map(l.range(et),function(t){var e=1-t/(et-1),n=e*tt+J,i=P*Math.cos(n),r=E*Math.sin(n),o=nt.multiply(i,r,1);return new M.Anchor(o.x,o.y,!1,!1,!1,!1,M.Commands.line)}),a.push(new M.Anchor(w,S,!1,!1,!1,!1,M.Commands.line)),r=a[a.length-1],e=r.controls.left}a&&(l.isArray(a)?c=c.concat(a):c.push(a))}),!(c.length<=1)){var h=new M.Path(c,o,void 0,!0).noStroke();return h.fill="black",M.Utils.applySvgAttributes.call(this,t,h)}},circle:function(t){var e=parseFloat(t.getAttribute("cx")),n=parseFloat(t.getAttribute("cy")),i=parseFloat(t.getAttribute("r")),r=new M.Circle(e,n,i).noStroke();return r.fill="black",M.Utils.applySvgAttributes.call(this,t,r)},ellipse:function(t){var e=parseFloat(t.getAttribute("cx")),n=parseFloat(t.getAttribute("cy")),i=parseFloat(t.getAttribute("rx")),r=parseFloat(t.getAttribute("ry")),o=new M.Ellipse(e,n,i,r).noStroke();return o.fill="black",M.Utils.applySvgAttributes.call(this,t,o)},rect:function(t){var e=parseFloat(t.getAttribute("x"))||0,n=parseFloat(t.getAttribute("y"))||0,i=parseFloat(t.getAttribute("width")),r=parseFloat(t.getAttribute("height")),o=i/2,s=r/2,a=new M.Rectangle(e+o,n+s,i,r).noStroke();return a.fill="black",M.Utils.applySvgAttributes.call(this,t,a)},line:function(t){var e=parseFloat(t.getAttribute("x1")),n=parseFloat(t.getAttribute("y1")),i=parseFloat(t.getAttribute("x2")),r=parseFloat(t.getAttribute("y2")),o=new M.Line(e,n,i,r).noFill();return M.Utils.applySvgAttributes.call(this,t,o)},lineargradient:function(t){for(var e=parseFloat(t.getAttribute("x1")),n=parseFloat(t.getAttribute("y1")),i=parseFloat(t.getAttribute("x2")),r=parseFloat(t.getAttribute("y2")),o=(i+e)/2,s=(r+n)/2,a=[],u=0;u<t.children.length;u++){var c=t.children[u],h=parseFloat(c.getAttribute("offset")),f=c.getAttribute("stop-color"),d=c.getAttribute("stop-opacity"),p=c.getAttribute("style");if(l.isNull(f)){var _=p.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/);f=_&&_.length>1?_[1]:void 0}if(l.isNull(d)){var _=p.match(/stop\-opacity\:\s?([0-9\.\-]*)/);d=_&&_.length>1?parseFloat(_[1]):1}a.push(new M.Gradient.Stop(h,f,d))}var v=new M.LinearGradient(e-o,n-s,i-o,r-s,a);return M.Utils.applySvgAttributes.call(this,t,v)},radialgradient:function(t){var e=parseFloat(t.getAttribute("cx"))||0,n=parseFloat(t.getAttribute("cy"))||0,i=parseFloat(t.getAttribute("r")),r=parseFloat(t.getAttribute("fx")),o=parseFloat(t.getAttribute("fy"));l.isNaN(r)&&(r=e),l.isNaN(o)&&(o=n);for(var s=Math.abs(e+r)/2,a=Math.abs(n+o)/2,u=[],c=0;c<t.children.length;c++){var h=t.children[c],f=parseFloat(h.getAttribute("offset")),d=h.getAttribute("stop-color"),p=h.getAttribute("stop-opacity"),_=h.getAttribute("style");if(l.isNull(d)){var v=_.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/);d=v&&v.length>1?v[1]:void 0}if(l.isNull(p)){var v=_.match(/stop\-opacity\:\s?([0-9\.\-]*)/);p=v&&v.length>1?parseFloat(v[1]):1}u.push(new M.Gradient.Stop(f,d,p))}var m=new M.RadialGradient(e-s,n-a,i,u,r-s,o-a);return M.Utils.applySvgAttributes.call(this,t,m)}},subdivide:function(t,e,n,i,r,o,s,a,u){u=u||M.Utils.Curve.RecursionLimit;var c=u+1;return t===s&&e===a?[new M.Anchor(s,a)]:l.map(l.range(0,c),function(l){var u=l/c,h=F(u,t,n,r,s),f=F(u,e,i,o,a);return new M.Anchor(h,f)})},getPointOnCubicBezier:function(t,e,n,i,r){var o=1-t;return o*o*o*e+3*o*o*t*n+3*o*t*t*i+t*t*t*r},getCurveLength:function(t,e,n,i,r,o,s,a,l){if(t===n&&e===i&&r===s&&o===a){var u=s-t,c=a-e;return f(u*u+c*c)}var h=9*(n-r)+3*(s-t),d=6*(t+r)-12*n,p=3*(n-t),_=9*(i-o)+3*(a-e),v=6*(e+o)-12*i,m=3*(i-e),g=function(t){var e=(h*t+d)*t+p,n=(_*t+v)*t+m;return f(e*e+n*n)};return L(g,0,1,l||M.Utils.Curve.RecursionLimit)},integrate:function(t,e,n,i){for(var r=M.Utils.Curve.abscissas[i-2],o=M.Utils.Curve.weights[i-2],s=.5*(n-e),a=s+e,l=0,u=i+1>>1,c=1&i?o[l++]*t(a):0;l<u;){var h=s*r[l];c+=o[l++]*(t(a+h)+t(a-h))}return s*c},getCurveFromPoints:function(t,e){for(var n=t.length,i=n-1,r=0;r<n;r++){var o=t[r];l.isObject(o.controls)||M.Anchor.AppendCurveProperties(o);var s=e?A(r-1,n):m(r-1,0),a=e?A(r+1,n):v(r+1,i),u=t[s],c=o,h=t[a];T(u,c,h),c._command=0===r?M.Commands.move:M.Commands.curve,c.controls.left.x=l.isNumber(c.controls.left.x)?c.controls.left.x:c.x,c.controls.left.y=l.isNumber(c.controls.left.y)?c.controls.left.y:c.y,c.controls.right.x=l.isNumber(c.controls.right.x)?c.controls.right.x:c.x,c.controls.right.y=l.isNumber(c.controls.right.y)?c.controls.right.y:c.y}},getControlPoints:function(t,e,n){var i=E(t,e),r=E(n,e),o=C(t,e),s=C(n,e),a=(i+r)/2;return e.u=l.isObject(e.controls.left)?e.controls.left:new M.Vector(0,0),e.v=l.isObject(e.controls.right)?e.controls.right:new M.Vector(0,0),o<1e-4||s<1e-4?(e._relative||(e.controls.left.copy(e),e.controls.right.copy(e)),e):(o*=.33,s*=.33,r<i?a+=p:a-=p,e.controls.left.x=c(a)*o,e.controls.left.y=u(a)*o,a-=d,e.controls.right.x=c(a)*s,e.controls.right.y=u(a)*s,e._relative||(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)},getReflection:function(t,e,n){return new M.Vector(2*t.x-(e.x+t.x)-(n?t.x:0),2*t.y-(e.y+t.y)-(n?t.y:0))},getAnchorsFromArcData:function(t,e,n,i,r,o,s){var a=((new M.Matrix).translate(t.x,t.y).rotate(e),M.Resolution);return l.map(l.range(a),function(t){var e=(t+1)/a;s&&(e=1-e);var l=e*o+r,u=n*Math.cos(l),c=i*Math.sin(l),h=new M.Anchor(u,c);return M.Anchor.AppendCurveProperties(h),h.command=M.Commands.line,h})},ratioBetween:function(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())},angleBetween:function(t,e){var n,i;return arguments.length>=4?(n=arguments[0]-arguments[2],i=arguments[1]-arguments[3],h(i,n)):(n=t.x-e.x,i=t.y-e.y,h(i,n))},distanceBetweenSquared:function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},distanceBetween:function(t,e){return f(P(t,e))},lerp:function(t,e,n){return n*(e-t)+t},toFixed:function(t){return Math.floor(1e3*t)/1e3},mod:function(t,e){for(;t<0;)t+=e;return t%e},Collection:function(){Array.call(this),arguments.length>1?Array.prototype.push.apply(this,arguments):arguments[0]&&Array.isArray(arguments[0])&&Array.prototype.push.apply(this,arguments[0])},Error:function(t){this.name="two.js",this.message=t},Events:{on:function(t,e){this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push(e),this},off:function(t,e){if(!this._events)return this;if(!t&&!e)return this._events={},this;for(var n=t?[t]:l.keys(this._events),i=0,r=n.length;i<r;i++){var t=n[i],o=this._events[t];if(o){var s=[];if(e)for(var a=0,u=o.length;a<u;a++){var c=o[a];c=c.callback?c.callback:c,e&&e!==c&&s.push(c)}this._events[t]=s}}return this},trigger:function(t){if(!this._events)return this;var e=y.call(arguments,1),n=this._events[t];return n&&O(this,n,e),this},listen:function(t,e,n){var i=this;if(t){var r=function(){n.apply(i,arguments)};r.obj=t,r.name=e,r.callback=n,t.on(e,r)}return this},ignore:function(t,e,n){return t.off(e,n),this}}})}),M.Utils.Events.bind=M.Utils.Events.on,M.Utils.Events.unbind=M.Utils.Events.off;var O=function(t,e,n){var i;switch(n.length){case 0:i=function(i){e[i].call(t,n[0])};break;case 1:i=function(i){e[i].call(t,n[0],n[1])};break;case 2:i=function(i){e[i].call(t,n[0],n[1],n[2])};break;case 3:i=function(i){e[i].call(t,n[0],n[1],n[2],n[3])};break;default:i=function(i){e[i].apply(t,n)}}for(var r=0;r<e.length;r++)i(r)};M.Utils.Error.prototype=new Error,M.Utils.Error.prototype.constructor=M.Utils.Error,M.Utils.Collection.prototype=new Array,M.Utils.Collection.prototype.constructor=M.Utils.Collection,l.extend(M.Utils.Collection.prototype,M.Utils.Events,{pop:function(){var t=Array.prototype.pop.apply(this,arguments);return this.trigger(M.Events.remove,[t]),t},shift:function(){var t=Array.prototype.shift.apply(this,arguments);return this.trigger(M.Events.remove,[t]),t},push:function(){var t=Array.prototype.push.apply(this,arguments);return this.trigger(M.Events.insert,arguments),t},unshift:function(){var t=Array.prototype.unshift.apply(this,arguments);return this.trigger(M.Events.insert,arguments),t},splice:function(){var t,e=Array.prototype.splice.apply(this,arguments);return this.trigger(M.Events.remove,e),arguments.length>2&&(t=this.slice(arguments[0],arguments[0]+arguments.length-2),this.trigger(M.Events.insert,t),this.trigger(M.Events.order)),e},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(M.Events.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(M.Events.order),this}});var C=M.Utils.distanceBetween,P=(M.Utils.getAnchorsFromArcData,M.Utils.distanceBetweenSquared),E=(M.Utils.ratioBetween,M.Utils.angleBetween),T=M.Utils.getControlPoints,A=(M.Utils.getCurveFromPoints,M.Utils.solveSegmentIntersection,M.Utils.decoupleShapes,M.Utils.mod),R=M.Utils.getBackingStoreRatio,F=M.Utils.getPointOnCubicBezier,L=(M.Utils.getCurveLength,M.Utils.integrate),z=M.Utils.getReflection;l.extend(M.prototype,M.Utils.Events,{appendTo:function(t){return t.appendChild(this.renderer.domElement),this},play:function(){return M.Utils.setPlaying.call(this,!0),this.trigger(M.Events.play)},pause:function(){return this.playing=!1,this.trigger(M.Events.pause)},update:function(){var t=!!this._lastFrame,e=b.now();this.frameCount++,t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e;var n=this.width,i=this.height,r=this.renderer;return n===r.width&&i===r.height||r.setSize(n,i,this.ratio),this.trigger(M.Events.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(M.Events.render,this.frameCount)},add:function(t){var e=t;return e instanceof Array||(e=l.toArray(arguments)),this.scene.add(e),this},remove:function(t){var e=t;return e instanceof Array||(e=l.toArray(arguments)),this.scene.remove(e),this},clear:function(){return this.scene.remove(l.toArray(this.scene.children)),this},makeLine:function(t,e,n,i){var r=new M.Line(t,e,n,i);return this.scene.add(r),r},makeRectangle:function(t,e,n,i){var r=new M.Rectangle(t,e,n,i);return this.scene.add(r),r},makeRoundedRectangle:function(t,e,n,i,r){var o=new M.RoundedRectangle(t,e,n,i,r);return this.scene.add(o),o},makeCircle:function(t,e,n){var i=new M.Circle(t,e,n);return this.scene.add(i),i},makeEllipse:function(t,e,n,i){var r=new M.Ellipse(t,e,n,i);return this.scene.add(r),r},makeStar:function(t,e,n,i,r){var o=new M.Star(t,e,n,i,r);return this.scene.add(o),
o},makeCurve:function(t){var e=arguments.length,n=t;if(!l.isArray(t)){n=[];for(var i=0;i<e;i+=2){var r=arguments[i];if(!l.isNumber(r))break;var o=arguments[i+1];n.push(new M.Anchor(r,o))}}var s=arguments[e-1],a=new M.Path(n,!(l.isBoolean(s)?s:void 0),!0),u=a.getBoundingClientRect();return a.center().translation.set(u.left+u.width/2,u.top+u.height/2),this.scene.add(a),a},makePolygon:function(t,e,n,i){var r=new M.Polygon(t,e,n,i);return this.scene.add(r),r},makeArcSegment:function(t,e,n,i,r,o,s){var a=new M.ArcSegment(t,e,n,i,r,o,s);return this.scene.add(a),a},makePath:function(t){var e=arguments.length,n=t;if(!l.isArray(t)){n=[];for(var i=0;i<e;i+=2){var r=arguments[i];if(!l.isNumber(r))break;var o=arguments[i+1];n.push(new M.Anchor(r,o))}}var s=arguments[e-1],a=new M.Path(n,!(l.isBoolean(s)?s:void 0)),u=a.getBoundingClientRect();return a.center().translation.set(u.left+u.width/2,u.top+u.height/2),this.scene.add(a),a},makeText:function(t,e,n,i){var r=new M.Text(t,e,n,i);return this.add(r),r},makeLinearGradient:function(t,e,n,i){var r=y.call(arguments,4),o=new M.LinearGradient(t,e,n,i,r);return this.add(o),o},makeRadialGradient:function(t,e,n){var i=y.call(arguments,3),r=new M.RadialGradient(t,e,n,i);return this.add(r),r},makeSprite:function(t,e,n,i,r,o,s){var a=new M.Sprite(t,e,n,i,r,o);return s&&a.play(),this.add(a),a},makeImageSequence:function(t,e,n,i,r){var o=new M.ImageSequence(t,e,n,i);return r&&o.play(),this.add(o),o},makeTexture:function(t,e){var n=new M.Texture(t,e);return n},makeGroup:function(t){var e=t;e instanceof Array||(e=l.toArray(arguments));var n=new M.Group;return this.scene.add(n),n.add(e),n},interpret:function(t,e){var n=t.tagName.toLowerCase();if(!(n in M.Utils.read))return null;var i=M.Utils.read[n].call(this,t);return e&&i instanceof M.Group?this.add(i.children):this.add(i),i},load:function(t,e){var n,i,r=[];if(/.*\.svg/gi.test(t))return M.Utils.xhr(t,l.bind(function(t){for(k.temp.innerHTML=t,i=0;i<k.temp.children.length;i++)n=k.temp.children[i],r.push(this.interpret(n));e(r.length<=1?r[0]:r,k.temp.children.length<=1?k.temp.children[0]:k.temp.children)},this)),this;for(k.temp.innerHTML=t,i=0;i<k.temp.children.length;i++)n=k.temp.children[i],r.push(this.interpret(n));return e(r.length<=1?r[0]:r,k.temp.children.length<=1?k.temp.children[0]:k.temp.children),this}});var j=k.getRequestAnimationFrame();return i=[],r=function(){return M}.apply(e,i),!(void 0!==r&&(t.exports=r)),M}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils,n=t.Registry=function(){this.map={}};e.extend(n,{}),e.extend(n.prototype,{add:function(t,e){return this.map[t]=e,this},remove:function(t){return delete this.map[t],this},get:function(t){return this.map[t]},contains:function(t){return t in this.map}})}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils,n=t.Vector=function(t,e){this.x=t||0,this.y=e||0};e.extend(n,{zero:new t.Vector}),e.extend(n.prototype,t.Utils.Events,{set:function(t,e){return this.x=t,this.y=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new n(this.x,this.y)},add:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addSelf:function(t){return this.x+=t.x,this.y+=t.y,this},sub:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},subSelf:function(t){return this.x-=t.x,this.y-=t.y,this},multiplySelf:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divideScalar:function(t){return t?(this.x/=t,this.y/=t):this.set(0,0),this},negate:function(){return this.multiplyScalar(-1)},dot:function(t){return this.x*t.x+this.y*t.y},lengthSquared:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSquared())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e="undefined"==typeof e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){var n=(t.x-this.x)*e+this.x,i=(t.y-this.y)*e+this.y;return this.set(n,i)},isZero:function(t){return t="undefined"==typeof t?1e-4:t,this.length()<t},toString:function(){return this.x+", "+this.y},toObject:function(){return{x:this.x,y:this.y}},rotate:function(t){var e=Math.cos(t),n=Math.sin(t);return this.x=this.x*e-this.y*n,this.y=this.x*n+this.y*e,this}});var i={set:function(e,n){return this._x=e,this._y=n,this.trigger(t.Events.change)},copy:function(e){return this._x=e.x,this._y=e.y,this.trigger(t.Events.change)},clear:function(){return this._x=0,this._y=0,this.trigger(t.Events.change)},clone:function(){return new n(this._x,this._y)},add:function(e,n){return this._x=e.x+n.x,this._y=e.y+n.y,this.trigger(t.Events.change)},addSelf:function(e){return this._x+=e.x,this._y+=e.y,this.trigger(t.Events.change)},sub:function(e,n){return this._x=e.x-n.x,this._y=e.y-n.y,this.trigger(t.Events.change)},subSelf:function(e){return this._x-=e.x,this._y-=e.y,this.trigger(t.Events.change)},multiplySelf:function(e){return this._x*=e.x,this._y*=e.y,this.trigger(t.Events.change)},multiplyScalar:function(e){return this._x*=e,this._y*=e,this.trigger(t.Events.change)},divideScalar:function(e){return e?(this._x/=e,this._y/=e,this.trigger(t.Events.change)):this.clear()},negate:function(){return this.multiplyScalar(-1)},dot:function(t){return this._x*t.x+this._y*t.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},length:function(){return Math.sqrt(this.lengthSquared())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this._x-t.x,n=this._y-t.y;return e*e+n*n},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e="undefined"==typeof e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){var n=(t.x-this._x)*e+this._x,i=(t.y-this._y)*e+this._y;return this.set(n,i)},isZero:function(t){return t="undefined"==typeof t?1e-4:t,this.length()<t},toString:function(){return this._x+", "+this._y},toObject:function(){return{x:this._x,y:this._y}},rotate:function(t){var e=Math.cos(t),n=Math.sin(t);return this._x=this._x*e-this._y*n,this._y=this._x*n+this._y*e,this}},r={enumerable:!0,get:function(){return this._x},set:function(e){this._x=e,this.trigger(t.Events.change,"x")}},o={enumerable:!0,get:function(){return this._y},set:function(e){this._y=e,this.trigger(t.Events.change,"y")}};t.Vector.prototype.bind=t.Vector.prototype.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,"x",r),Object.defineProperty(this,"y",o),e.extend(this,i),this._bound=!0),t.Utils.Events.bind.apply(this,arguments),this}}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Commands,n=t.Utils,i=t.Anchor=function(r,o,s,a,l,u,c){return t.Vector.call(this,r,o),this._broadcast=n.bind(function(){this.trigger(t.Events.change)},this),this._command=c||e.move,this._relative=!0,c?(i.AppendCurveProperties(this),n.isNumber(s)&&(this.controls.left.x=s),n.isNumber(a)&&(this.controls.left.y=a),n.isNumber(l)&&(this.controls.right.x=l),void(n.isNumber(u)&&(this.controls.right.y=u))):this};n.extend(i,{AppendCurveProperties:function(e){e.controls={left:new t.Vector(0,0),right:new t.Vector(0,0)}}});var r={listen:function(){return n.isObject(this.controls)||i.AppendCurveProperties(this),this.controls.left.bind(t.Events.change,this._broadcast),this.controls.right.bind(t.Events.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(t.Events.change,this._broadcast),this.controls.right.unbind(t.Events.change,this._broadcast),this},clone:function(){var e=this.controls,n=new t.Anchor(this.x,this.y,e&&e.left.x,e&&e.left.y,e&&e.right.x,e&&e.right.y,this.command);return n.relative=this._relative,n},toObject:function(){var t={x:this.x,y:this.y};return this._command&&(t.command=this._command),this._relative&&(t.relative=this._relative),this.controls&&(t.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),t},toString:function(){return this.controls?[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y].join(", "):[this._x,this._y].join(", ")}};Object.defineProperty(i.prototype,"command",{enumerable:!0,get:function(){return this._command},set:function(r){return this._command=r,this._command!==e.curve||n.isObject(this.controls)||i.AppendCurveProperties(this),this.trigger(t.Events.change)}}),Object.defineProperty(i.prototype,"relative",{enumerable:!0,get:function(){return this._relative},set:function(e){return this._relative==e?this:(this._relative=!!e,this.trigger(t.Events.change))}}),n.extend(i.prototype,t.Vector.prototype,r),t.Anchor.prototype.bind=t.Anchor.prototype.on=function(){t.Vector.prototype.bind.apply(this,arguments),n.extend(this,r)},t.Anchor.prototype.unbind=t.Anchor.prototype.off=function(){t.Vector.prototype.unbind.apply(this,arguments),n.extend(this,r)}}(("undefined"!=typeof n?n:this).Two),function(t){var e=Math.cos,n=Math.sin,i=Math.tan,r=t.Utils,o=t.Matrix=function(e,n,i,o,s,a){this.elements=new t.Array(9);var l=e;r.isArray(l)||(l=r.toArray(arguments)),this.identity().set(l)};r.extend(o,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(e,n,i){if(n.length<=3){var r,o,s,a=e,l=n[0]||0,u=n[1]||0,c=n[2]||0;return r=a[0]*l+a[1]*u+a[2]*c,o=a[3]*l+a[4]*u+a[5]*c,s=a[6]*l+a[7]*u+a[8]*c,{x:r,y:o,z:s}}var h=e[0],f=e[1],d=e[2],p=e[3],_=e[4],v=e[5],m=e[6],g=e[7],y=e[8],b=n[0],x=n[1],w=n[2],S=n[3],k=n[4],M=n[5],O=n[6],C=n[7],P=n[8];return i=i||new t.Array(9),i[0]=h*b+f*S+d*O,i[1]=h*x+f*k+d*C,i[2]=h*w+f*M+d*P,i[3]=p*b+_*S+v*O,i[4]=p*x+_*k+v*C,i[5]=p*w+_*M+v*P,i[6]=m*b+g*S+y*O,i[7]=m*x+g*k+y*C,i[8]=m*w+g*M+y*P,i}}),r.extend(o.prototype,t.Utils.Events,{set:function(e){var n=e;return r.isArray(n)||(n=r.toArray(arguments)),r.extend(this.elements,n),this.trigger(t.Events.change)},identity:function(){return this.set(o.Identity),this},multiply:function(e,n,i,o,s,a,l,u,c){var h=arguments,f=h.length;if(f<=1)return r.each(this.elements,function(t,n){this.elements[n]=t*e},this),this.trigger(t.Events.change);if(f<=3){var d,p,_;return e=e||0,n=n||0,i=i||0,s=this.elements,d=s[0]*e+s[1]*n+s[2]*i,p=s[3]*e+s[4]*n+s[5]*i,_=s[6]*e+s[7]*n+s[8]*i,{x:d,y:p,z:_}}var v=this.elements,m=h,g=v[0],y=v[1],b=v[2],x=v[3],w=v[4],S=v[5],k=v[6],M=v[7],O=v[8],C=m[0],P=m[1],E=m[2],T=m[3],A=m[4],R=m[5],F=m[6],L=m[7],z=m[8];return this.elements[0]=g*C+y*T+b*F,this.elements[1]=g*P+y*A+b*L,this.elements[2]=g*E+y*R+b*z,this.elements[3]=x*C+w*T+S*F,this.elements[4]=x*P+w*A+S*L,this.elements[5]=x*E+w*R+S*z,this.elements[6]=k*C+M*T+O*F,this.elements[7]=k*P+M*A+O*L,this.elements[8]=k*E+M*R+O*z,this.trigger(t.Events.change)},inverse:function(e){var n=this.elements;e=e||new t.Matrix;var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],u=n[6],c=n[7],h=n[8],f=h*a-l*c,d=-h*s+l*u,p=c*s-a*u,_=i*f+r*d+o*p;return _?(_=1/_,e.elements[0]=f*_,e.elements[1]=(-h*r+o*c)*_,e.elements[2]=(l*r-o*a)*_,e.elements[3]=d*_,e.elements[4]=(h*i-o*u)*_,e.elements[5]=(-l*i+o*s)*_,e.elements[6]=p*_,e.elements[7]=(-c*i+r*u)*_,e.elements[8]=(a*i-r*s)*_,e):null},scale:function(t,e){var n=arguments.length;return n<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)},rotate:function(t){var i=e(t),r=n(t);return this.multiply(i,-r,0,r,i,0,0,0,1)},translate:function(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)},skewX:function(t){var e=i(t);return this.multiply(1,e,0,0,1,0,0,0,1)},skewY:function(t){var e=i(t);return this.multiply(1,0,0,e,1,0,0,0,1)},toString:function(t){var e=[];return this.toArray(t,e),e.join(" ")},toArray:function(t,e){var n=this.elements,i=!!e,r=parseFloat(n[0].toFixed(3)),o=parseFloat(n[1].toFixed(3)),s=parseFloat(n[2].toFixed(3)),a=parseFloat(n[3].toFixed(3)),l=parseFloat(n[4].toFixed(3)),u=parseFloat(n[5].toFixed(3));if(t){var c=parseFloat(n[6].toFixed(3)),h=parseFloat(n[7].toFixed(3)),f=parseFloat(n[8].toFixed(3));return i?(e[0]=r,e[1]=a,e[2]=c,e[3]=o,e[4]=l,e[5]=h,e[6]=s,e[7]=u,void(e[8]=f)):[r,a,c,o,l,h,s,u,f]}return i?(e[0]=r,e[1]=a,e[2]=o,e[3]=l,e[4]=s,void(e[5]=u)):[r,a,o,l,s,u]},clone:function(){var e,n,i,r,o,s,a,l,u;return e=this.elements[0],n=this.elements[1],i=this.elements[2],r=this.elements[3],o=this.elements[4],s=this.elements[5],a=this.elements[6],l=this.elements[7],u=this.elements[8],new t.Matrix(e,n,i,r,o,s,a,l,u)}})}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils.mod,n=t.Utils.toFixed,i=t.Utils,r={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){var n=t,o=document.createElementNS(this.ns,n);return"svg"===n&&(e=i.defaults(e||{},{version:this.version})),i.isEmpty(e)||r.setAttributes(o,e),o},setAttributes:function(t,e){for(var n=Object.keys(e),i=0;i<n.length;i++)t.setAttribute(n[i],e[n[i]]);return this},removeAttributes:function(t,e){for(var n in e)t.removeAttribute(n);return this},toString:function(i,r){for(var o,s=i.length,a=s-1,l="",u=0;u<s;u++){var c,h,f,d,p,_,v,m,g,y=i[u],b=r?e(u-1,s):Math.max(u-1,0),x=r?e(u+1,s):Math.min(u+1,a),w=i[b],S=i[x],k=n(y._x),M=n(y._y);switch(y._command){case t.Commands.close:c=t.Commands.close;break;case t.Commands.curve:_=w.controls&&w.controls.right||t.Vector.zero,v=y.controls&&y.controls.left||t.Vector.zero,w._relative?(h=n(_.x+w.x),f=n(_.y+w.y)):(h=n(_.x),f=n(_.y)),y._relative?(d=n(v.x+y.x),p=n(v.y+y.y)):(d=n(v.x),p=n(v.y)),c=(0===u?t.Commands.move:t.Commands.curve)+" "+h+" "+f+" "+d+" "+p+" "+k+" "+M;break;case t.Commands.move:o=y,c=t.Commands.move+" "+k+" "+M;break;default:c=y._command+" "+k+" "+M}u>=a&&r&&(y._command===t.Commands.curve&&(S=o,m=y.controls&&y.controls.right||y,g=S.controls&&S.controls.left||S,y._relative?(h=n(m.x+y.x),f=n(m.y+y.y)):(h=n(m.x),f=n(m.y)),S._relative?(d=n(g.x+S.x),p=n(g.y+S.y)):(d=n(g.x),p=n(g.y)),k=n(S.x),M=n(S.y),c+=" C "+h+" "+f+" "+d+" "+p+" "+k+" "+M),c+=" Z"),l+=c+" "}return l},getClip:function(t){var e=t._renderer.clip;if(!e){for(var n=t;n.parent;)n=n.parent;e=t._renderer.clip=r.createElement("clipPath"),n.defs.appendChild(e)}return e},group:{appendChild:function(t){var e=t._renderer.elem;if(e){var n=e.nodeName;!n||/(radial|linear)gradient/i.test(n)||t._clip||this.elem.appendChild(e)}},removeChild:function(t){var e=t._renderer.elem;if(e&&e.parentNode==this.elem){var n=e.nodeName;n&&(t._clip||this.elem.removeChild(e))}},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){r[t._renderer.type].render.call(t,this)},render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;this._renderer.elem||(this._renderer.elem=r.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));var e=this._matrix.manual||this._flagMatrix,n={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(var i=0;i<this.children.length;i++){var o=this.children[i];r[o._renderer.type].render.call(o,t)}return this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagAdditions&&this.additions.forEach(r.group.appendChild,n),this._flagSubtractions&&this.subtractions.forEach(r.group.removeChild,n),this._flagOrder&&this.children.forEach(r.group.orderChild,n),this._flagMask&&(this._mask?this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")"):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},path:{render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;var e={},n=this._matrix.manual||this._flagMatrix;if(n&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagVertices){var i=r.toString(this._vertices,this._closed);e.d=i}if(this._fill&&this._fill._renderer&&(this._fill._update(),r[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),r[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this._renderer.elem?r.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=r.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){var o=r.getClip(this),s=this._renderer.elem;this._clip?(s.removeAttribute("id"),o.setAttribute("id",this.id),o.appendChild(s)):(o.removeAttribute("id"),s.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(s))}return this.flagReset()}},text:{render:function(t){this._update();var e={},n=this._matrix.manual||this._flagMatrix;if(n&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=r.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),r[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),r[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._renderer.elem?r.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=r.createElement("text",e),t.defs.appendChild(this._renderer.elem)),this._flagClip){var i=r.getClip(this),o=this._renderer.elem;this._clip?(o.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(o)):(i.removeAttribute("id"),o.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(o))}return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();var n={};if(this._flagEndPoints&&(n.x1=this.left._x,n.y1=this.left._y,n.x2=this.right._x,n.y2=this.right._y),this._flagSpread&&(n.spreadMethod=this._spread),this._renderer.elem?r.setAttributes(this._renderer.elem,n):(n.id=this.id,n.gradientUnits="userSpaceOnUse",this._renderer.elem=r.createElement("linearGradient",n),t.defs.appendChild(this._renderer.elem)),this._flagStops){var i=this._renderer.elem.childNodes.length!==this.stops.length;i&&(this._renderer.elem.childNodes.length=0);for(var o=0;o<this.stops.length;o++){var s=this.stops[o],a={};s._flagOffset&&(a.offset=100*s._offset+"%"),s._flagColor&&(a["stop-color"]=s._color),s._flagOpacity&&(a["stop-opacity"]=s._opacity),s._renderer.elem?r.setAttributes(s._renderer.elem,a):s._renderer.elem=r.createElement("stop",a),i&&this._renderer.elem.appendChild(s._renderer.elem),s.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();var n={};if(this._flagCenter&&(n.cx=this.center._x,n.cy=this.center._y),this._flagFocal&&(n.fx=this.focal._x,n.fy=this.focal._y),this._flagRadius&&(n.r=this._radius),this._flagSpread&&(n.spreadMethod=this._spread),this._renderer.elem?r.setAttributes(this._renderer.elem,n):(n.id=this.id,n.gradientUnits="userSpaceOnUse",this._renderer.elem=r.createElement("radialGradient",n),t.defs.appendChild(this._renderer.elem)),this._flagStops){var i=this._renderer.elem.childNodes.length!==this.stops.length;i&&(this._renderer.elem.childNodes.length=0);for(var o=0;o<this.stops.length;o++){var s=this.stops[o],a={};s._flagOffset&&(a.offset=100*s._offset+"%"),s._flagColor&&(a["stop-color"]=s._color),s._flagOpacity&&(a["stop-opacity"]=s._opacity),s._renderer.elem?r.setAttributes(s._renderer.elem,a):s._renderer.elem=r.createElement("stop",a),i&&this._renderer.elem.appendChild(s._renderer.elem),s.flagReset()}}return this.flagReset()}},texture:{render:function(e,n){n||this._update();var o={},s={},a=this.image;if(this._flagLoaded&&this.loaded)switch(s.x=0,s.y=0,s.width=a.width,s.height=a.height,a.nodeName.toLowerCase()){case"canvas":s.href=a.toDataURL("image/png");break;case"img":case"image":s.href=this.src}return(this._flagOffset||this._flagLoaded||this._flagScale)&&(o.x=this._offset.x,o.y=this._offset.y,a&&(o.x-=a.width/2,o.y-=a.height/2,this._scale instanceof t.Vector?(o.x*=this._scale.x,o.y*=this._scale.y):(o.x*=this._scale,o.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(o.width=0,o.height=0,a&&(this._scale instanceof t.Vector?(o.width=a.width*this._scale.x,o.height=a.height*this._scale.y):(o.width=a.width*this._scale,o.height=a.height*this._scale)),s.width=o.width,s.height=o.height),(this._flagScale||this._flagLoaded)&&(this._renderer.image?i.isEmpty(s)||r.setAttributes(this._renderer.image,s):this._renderer.image=r.createElement("image",s)),this._renderer.elem?i.isEmpty(o)||r.setAttributes(this._renderer.elem,o):(o.id=this.id,o.patternUnits="userSpaceOnUse",this._renderer.elem=r.createElement("pattern",o),e.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},o=t[t.Types.svg]=function(e){this.domElement=e.domElement||r.createElement("svg"),this.scene=new t.Group,this.scene.parent=this,this.defs=r.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"};i.extend(o,{Utils:r}),i.extend(o.prototype,t.Utils.Events,{setSize:function(t,e){return this.width=t,this.height=e,r.setAttributes(this.domElement,{width:t,height:e}),this},render:function(){return r.group.render.call(this.scene,this.domElement),this}})}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils.mod,n=t.Utils.toFixed,i=t.Utils.getRatio,r=t.Utils,o=function(t){return 1==t[0]&&0==t[3]&&0==t[1]&&1==t[4]&&0==t[2]&&0==t[5]},s={isHidden:/(none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t){return t.tagName="canvas",t.nodeType=1,t},group:{renderChild:function(t){s[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){this._update();var e=this._matrix.elements,n=this.parent;this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);var i=o(e),r=this._mask;this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,i||(t.save(),t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),r&&s[r._renderer.type].render.call(r,t,!0);for(var a=0;a<this.children.length;a++){var l=this.children[a];s[l._renderer.type].render.call(l,t)}return i||t.restore(),this.flagReset()}},path:{render:function(i,a,l){var u,c,h,f,d,p,_,v,m,g,y,b,x,w,S,k,M,O,C,P,E,T,A,R,F,L,z,j,N,I,D,U;if(this._update(),u=this._matrix.elements,c=this._stroke,h=this._linewidth,f=this._fill,d=this._opacity*this.parent._renderer.opacity,p=this._visible,_=this._cap,v=this._join,m=this._miter,g=this._closed,y=this._vertices,b=y.length,x=b-1,D=o(u),I=this._clip,!a&&(!p||I))return this;D||(i.save(),i.transform(u[0],u[3],u[1],u[4],u[2],u[5])),f&&(r.isString(f)?i.fillStyle=f:(s[f._renderer.type].render.call(f,i),i.fillStyle=f._renderer.effect)),c&&(r.isString(c)?i.strokeStyle=c:(s[c._renderer.type].render.call(c,i),i.strokeStyle=c._renderer.effect)),h&&(i.lineWidth=h),m&&(i.miterLimit=m),v&&(i.lineJoin=v),_&&(i.lineCap=_),r.isNumber(d)&&(i.globalAlpha=d),i.beginPath();for(var G=0;G<y.length;G++)switch(M=y[G],j=n(M._x),N=n(M._y),M._command){case t.Commands.close:i.closePath();break;case t.Commands.curve:S=g?e(G-1,b):Math.max(G-1,0),w=g?e(G+1,b):Math.min(G+1,x),k=y[S],O=y[w],R=k.controls&&k.controls.right||t.Vector.zero,F=M.controls&&M.controls.left||t.Vector.zero,k._relative?(T=R.x+n(k._x),A=R.y+n(k._y)):(T=n(R.x),A=n(R.y)),M._relative?(P=F.x+n(M._x),E=F.y+n(M._y)):(P=n(F.x),E=n(F.y)),i.bezierCurveTo(T,A,P,E,j,N),G>=x&&g&&(O=C,L=M.controls&&M.controls.right||t.Vector.zero,z=O.controls&&O.controls.left||t.Vector.zero,M._relative?(T=L.x+n(M._x),A=L.y+n(M._y)):(T=n(L.x),A=n(L.y)),O._relative?(P=z.x+n(O._x),E=z.y+n(O._y)):(P=n(z.x),E=n(z.y)),j=n(O._x),N=n(O._y),i.bezierCurveTo(T,A,P,E,j,N));break;case t.Commands.line:i.lineTo(j,N);break;case t.Commands.move:C=M,i.moveTo(j,N)}return g&&i.closePath(),I||l||(s.isHidden.test(f)||(U=f._renderer&&f._renderer.offset,U&&(i.save(),i.translate(-f._renderer.offset.x,-f._renderer.offset.y),i.scale(f._renderer.scale.x,f._renderer.scale.y)),i.fill(),U&&i.restore()),s.isHidden.test(c)||(U=c._renderer&&c._renderer.offset,U&&(i.save(),i.translate(-c._renderer.offset.x,-c._renderer.offset.y),i.scale(c._renderer.scale.x,c._renderer.scale.y),i.lineWidth=h/c._renderer.scale.x),i.stroke(),U&&i.restore())),D||i.restore(),I&&!l&&i.clip(),this.flagReset()}},text:{render:function(t,e,i){this._update();var a,l,u,c,h,f,d,p=this._matrix.elements,_=this._stroke,v=this._linewidth,m=this._fill,g=this._opacity*this.parent._renderer.opacity,y=this._visible,b=o(p),x=m._renderer&&m._renderer.offset&&_._renderer&&_._renderer.offset,w=this._clip;return e||y&&!w?(b||(t.save(),t.transform(p[0],p[3],p[1],p[4],p[2],p[5])),x||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=s.alignments[this._alignment]||this._alignment,t.textBaseline=this._baseline,m&&(r.isString(m)?t.fillStyle=m:(s[m._renderer.type].render.call(m,t),t.fillStyle=m._renderer.effect)),_&&(r.isString(_)?t.strokeStyle=_:(s[_._renderer.type].render.call(_,t),t.strokeStyle=_._renderer.effect)),v&&(t.lineWidth=v),r.isNumber(g)&&(t.globalAlpha=g),w||i||(s.isHidden.test(m)||(m._renderer&&m._renderer.offset?(f=n(m._renderer.scale.x),d=n(m._renderer.scale.y),t.save(),t.translate(-n(m._renderer.offset.x),-n(m._renderer.offset.y)),t.scale(f,d),a=this._size/m._renderer.scale.y,l=this._leading/m._renderer.scale.y,t.font=[this._style,this._weight,n(a)+"px/",n(l)+"px",this._family].join(" "),u=m._renderer.offset.x/m._renderer.scale.x,c=m._renderer.offset.y/m._renderer.scale.y,t.fillText(this.value,n(u),n(c)),t.restore()):t.fillText(this.value,0,0)),s.isHidden.test(_)||(_._renderer&&_._renderer.offset?(f=n(_._renderer.scale.x),d=n(_._renderer.scale.y),t.save(),t.translate(-n(_._renderer.offset.x),-n(_._renderer.offset.y)),t.scale(f,d),a=this._size/_._renderer.scale.y,l=this._leading/_._renderer.scale.y,t.font=[this._style,this._weight,n(a)+"px/",n(l)+"px",this._family].join(" "),u=_._renderer.offset.x/_._renderer.scale.x,c=_._renderer.offset.y/_._renderer.scale.y,h=v/_._renderer.scale.x,t.lineWidth=n(h),t.strokeText(this.value,n(u),n(c)),t.restore()):t.strokeText(this.value,0,0))),b||t.restore(),w&&!i&&t.clip(),this.flagReset()):this}},"linear-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var e=0;e<this.stops.length;e++){var n=this.stops[e];this._renderer.effect.addColorStop(n._offset,n._color)}}return this.flagReset()}},"radial-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var e=0;e<this.stops.length;e++){var n=this.stops[e];this._renderer.effect.addColorStop(n._offset,n._color)}}return this.flagReset()}},texture:{render:function(e){this._update();var n=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,"repeat")),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof t.Vector||(this._renderer.offset=new t.Vector),this._renderer.offset.x=this._offset.x,this._renderer.offset.y=this._offset.y,n&&(this._renderer.offset.x-=n.width/2,this._renderer.offset.y-=n.height/2,this._scale instanceof t.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},a=t[t.Types.canvas]=function(e){var n=e.smoothing!==!1;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,r.isUndefined(this.ctx.imageSmoothingEnabled)||(this.ctx.imageSmoothingEnabled=n),this.scene=new t.Group,this.scene.parent=this};r.extend(a,{Utils:s}),r.extend(a.prototype,t.Utils.Events,{setSize:function(t,e,n){return this.width=t,this.height=e,this.ratio=r.isUndefined(n)?i(this.ctx):n,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,this.domElement.style&&r.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this},render:function(){var t=1===this.ratio;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),s.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}})}(("undefined"!=typeof n?n:this).Two),function(t){var e=this,n=t.Matrix.Multiply,i=t.Utils.mod,r=[1,0,0,0,1,0,0,0,1],o=new t.Array(9),s=t.Utils.getRatio,a=(t.Utils.getComputedMatrix,t.Utils.toFixed),l=t.Utils,u={isHidden:/(none|transparent)/i,canvas:e.document?e.document.createElement("canvas"):{getContext:l.identity},alignments:{left:"start",middle:"center",right:"end"},matrix:new t.Matrix,uv:new t.Array([0,0,1,0,0,1,0,1,1,0,1,1]),group:{removeChild:function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)u.group.removeChild(t.children[n],e);else e.deleteTexture(t._renderer.texture),delete t._renderer.texture},renderChild:function(t){u[t._renderer.type].render.call(t,this.gl,this.program)},render:function(e,i){this._update();var r=this.parent,s=r._matrix&&r._matrix.manual||r._flagMatrix,a=this._matrix.manual||this._flagMatrix;if((s||a)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toArray(!0,o),n(o,r._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*r._renderer.scale,s&&(this._flagMatrix=!0)),this._mask&&(e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,1),e.colorMask(!1,!1,!1,!0),e.stencilOp(e.KEEP,e.KEEP,e.INCR),u[this._mask._renderer.type].render.call(this._mask,e,i,this),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,1),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)),this._flagOpacity=r._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(r&&r._renderer?r._renderer.opacity:1),this._flagSubtractions)for(var l=0;l<this.subtractions.length;l++)u.group.removeChild(this.subtractions[l],e);return this.children.forEach(u.group.renderChild,{gl:e,program:i}),this._mask&&(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),u[this._mask._renderer.type].render.call(this._mask,e,i,this),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,1),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.disable(e.STENCIL_TEST)),this.flagReset()}},path:{updateCanvas:function(e){var n,r,o,s,c,h,f,d,p,_,v,m,g,y,x,w=e._vertices,S=this.canvas,k=this.ctx,M=e._renderer.scale,O=e._stroke,C=e._linewidth,P=e._fill,E=e._renderer.opacity||e._opacity,T=e._cap,A=e._join,R=e._miter,F=e._closed,L=w.length,z=L-1;
S.width=Math.max(Math.ceil(e._renderer.rect.width*M),1),S.height=Math.max(Math.ceil(e._renderer.rect.height*M),1);var j=e._renderer.rect.centroid,N=j.x,I=j.y;k.clearRect(0,0,S.width,S.height),P&&(l.isString(P)?k.fillStyle=P:(u[P._renderer.type].render.call(P,k,e),k.fillStyle=P._renderer.effect)),O&&(l.isString(O)?k.strokeStyle=O:(u[O._renderer.type].render.call(O,k,e),k.strokeStyle=O._renderer.effect)),C&&(k.lineWidth=C),R&&(k.miterLimit=R),A&&(k.lineJoin=A),T&&(k.lineCap=T),l.isNumber(E)&&(k.globalAlpha=E);var D;k.save(),k.scale(M,M),k.translate(N,I),k.beginPath();for(var U=0;U<w.length;U++)switch(b=w[U],g=a(b._x),y=a(b._y),b._command){case t.Commands.close:k.closePath();break;case t.Commands.curve:r=F?i(U-1,L):Math.max(U-1,0),n=F?i(U+1,L):Math.min(U+1,z),o=w[r],s=w[n],p=o.controls&&o.controls.right||t.Vector.zero,_=b.controls&&b.controls.left||t.Vector.zero,o._relative?(f=a(p.x+o._x),d=a(p.y+o._y)):(f=a(p.x),d=a(p.y)),b._relative?(c=a(_.x+b._x),h=a(_.y+b._y)):(c=a(_.x),h=a(_.y)),k.bezierCurveTo(f,d,c,h,g,y),U>=z&&F&&(s=D,v=b.controls&&b.controls.right||t.Vector.zero,m=s.controls&&s.controls.left||t.Vector.zero,b._relative?(f=a(v.x+b._x),d=a(v.y+b._y)):(f=a(v.x),d=a(v.y)),s._relative?(c=a(m.x+s._x),h=a(m.y+s._y)):(c=a(m.x),h=a(m.y)),g=a(s._x),y=a(s._y),k.bezierCurveTo(f,d,c,h,g,y));break;case t.Commands.line:k.lineTo(g,y);break;case t.Commands.move:D=b,k.moveTo(g,y)}F&&k.closePath(),u.isHidden.test(P)||(x=P._renderer&&P._renderer.offset,x&&(k.save(),k.translate(-P._renderer.offset.x,-P._renderer.offset.y),k.scale(P._renderer.scale.x,P._renderer.scale.y)),k.fill(),x&&k.restore()),u.isHidden.test(O)||(x=O._renderer&&O._renderer.offset,x&&(k.save(),k.translate(-O._renderer.offset.x,-O._renderer.offset.y),k.scale(O._renderer.scale.x,O._renderer.scale.y),k.lineWidth=C/O._renderer.scale.x),k.stroke(),x&&k.restore()),k.restore()},getBoundingClientRect:function(t,e,n){var i,r,o=1/0,s=-(1/0),a=1/0,u=-(1/0);t.forEach(function(t){var e,n,i,r,l,c,h=t.x,f=t.y,d=t.controls;a=Math.min(f,a),o=Math.min(h,o),s=Math.max(h,s),u=Math.max(f,u),t.controls&&(l=d.left,c=d.right,l&&c&&(e=t._relative?l.x+h:l.x,n=t._relative?l.y+f:l.y,i=t._relative?c.x+h:c.x,r=t._relative?c.y+f:c.y,e&&n&&i&&r&&(a=Math.min(n,r,a),o=Math.min(e,i,o),s=Math.max(e,i,s),u=Math.max(n,r,u))))}),l.isNumber(e)&&(a-=e,o-=e,s+=e,u+=e),i=s-o,r=u-a,n.top=a,n.left=o,n.right=s,n.bottom=u,n.width=i,n.height=r,n.centroid||(n.centroid={}),n.centroid.x=-o,n.centroid.y=-a},render:function(e,i,r){if(!this._visible||!this._opacity)return this;this._update();var s=this.parent,a=s._matrix.manual||s._flagMatrix,l=this._matrix.manual||this._flagMatrix,c=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof t.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof t.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||!this._renderer.texture;return(a||l)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toArray(!0,o),n(o,s._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*s._renderer.scale),c&&(this._renderer.rect||(this._renderer.rect={}),this._renderer.triangles||(this._renderer.triangles=new t.Array(12)),this._renderer.opacity=this._opacity*s._renderer.opacity,u.path.getBoundingClientRect(this._vertices,this._linewidth,this._renderer.rect),u.getTriangles(this._renderer.rect,this._renderer.triangles),u.updateBuffer.call(u,e,this,i),u.updateTexture.call(u,e,this)),!this._clip||r?(e.bindBuffer(e.ARRAY_BUFFER,this._renderer.textureCoordsBuffer),e.vertexAttribPointer(i.textureCoords,2,e.FLOAT,!1,0,0),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(i.matrix,!1,this._renderer.matrix),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.buffer),e.vertexAttribPointer(i.position,2,e.FLOAT,!1,0,0),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()):void 0}},text:{updateCanvas:function(t){var e=this.canvas,n=this.ctx,i=t._renderer.scale,r=t._stroke,o=t._linewidth*i,s=t._fill,c=t._renderer.opacity||t._opacity;e.width=Math.max(Math.ceil(t._renderer.rect.width*i),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*i),1);var h,f,d,p,_,v,m,g=t._renderer.rect.centroid,y=g.x,b=g.y,x=s._renderer&&s._renderer.offset&&r._renderer&&r._renderer.offset;n.clearRect(0,0,e.width,e.height),x||(n.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),n.textAlign="center",n.textBaseline="middle",s&&(l.isString(s)?n.fillStyle=s:(u[s._renderer.type].render.call(s,n,t),n.fillStyle=s._renderer.effect)),r&&(l.isString(r)?n.strokeStyle=r:(u[r._renderer.type].render.call(r,n,t),n.strokeStyle=r._renderer.effect)),o&&(n.lineWidth=o),l.isNumber(c)&&(n.globalAlpha=c),n.save(),n.scale(i,i),n.translate(y,b),u.isHidden.test(s)||(s._renderer&&s._renderer.offset?(v=a(s._renderer.scale.x),m=a(s._renderer.scale.y),n.save(),n.translate(-a(s._renderer.offset.x),-a(s._renderer.offset.y)),n.scale(v,m),h=t._size/s._renderer.scale.y,f=t._leading/s._renderer.scale.y,n.font=[t._style,t._weight,a(h)+"px/",a(f)+"px",t._family].join(" "),d=s._renderer.offset.x/s._renderer.scale.x,p=s._renderer.offset.y/s._renderer.scale.y,n.fillText(t.value,a(d),a(p)),n.restore()):n.fillText(t.value,0,0)),u.isHidden.test(r)||(r._renderer&&r._renderer.offset?(v=a(r._renderer.scale.x),m=a(r._renderer.scale.y),n.save(),n.translate(-a(r._renderer.offset.x),-a(r._renderer.offset.y)),n.scale(v,m),h=t._size/r._renderer.scale.y,f=t._leading/r._renderer.scale.y,n.font=[t._style,t._weight,a(h)+"px/",a(f)+"px",t._family].join(" "),d=r._renderer.offset.x/r._renderer.scale.x,p=r._renderer.offset.y/r._renderer.scale.y,_=o/r._renderer.scale.x,n.lineWidth=a(_),n.strokeText(t.value,a(d),a(p)),n.restore()):n.strokeText(t.value,0,0)),n.restore()},getBoundingClientRect:function(t,e){var n=u.ctx;n.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),n.textAlign="center",n.textBaseline=t._baseline;var i=n.measureText(t._value).width,r=Math.max(t._size||t._leading);this._linewidth&&!u.isHidden.test(this._stroke)&&(r+=this._linewidth);var o=i/2,s=r/2;switch(u.alignments[t._alignment]||t._alignment){case u.alignments.left:e.left=0,e.right=i;break;case u.alignments.right:e.left=-i,e.right=0;break;default:e.left=-o,e.right=o}switch(t._baseline){case"bottom":e.top=-r,e.bottom=0;break;case"top":e.top=0,e.bottom=r;break;default:e.top=-s,e.bottom=s}e.width=i,e.height=r,e.centroid||(e.centroid={}),e.centroid.x=o,e.centroid.y=s},render:function(e,i,r){if(!this._visible||!this._opacity)return this;this._update();var s=this.parent,a=s._matrix.manual||s._flagMatrix,l=this._matrix.manual||this._flagMatrix,c=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof t.Texture&&this._fill._flagLoaded&&this._fill.loaded||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._texture instanceof t.Texture&&this._texture._flagLoaded&&this._texture.loaded||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||!this._renderer.texture;return(a||l)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toArray(!0,o),n(o,s._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*s._renderer.scale),c&&(this._renderer.rect||(this._renderer.rect={}),this._renderer.triangles||(this._renderer.triangles=new t.Array(12)),this._renderer.opacity=this._opacity*s._renderer.opacity,u.text.getBoundingClientRect(this,this._renderer.rect),u.getTriangles(this._renderer.rect,this._renderer.triangles),u.updateBuffer.call(u,e,this,i),u.updateTexture.call(u,e,this)),!this._clip||r?(e.bindBuffer(e.ARRAY_BUFFER,this._renderer.textureCoordsBuffer),e.vertexAttribPointer(i.textureCoords,2,e.FLOAT,!1,0,0),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(i.matrix,!1,this._renderer.matrix),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.buffer),e.vertexAttribPointer(i.position,2,e.FLOAT,!1,0,0),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()):void 0}},"linear-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var n=0;n<this.stops.length;n++){var i=this.stops[n];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var n=0;n<this.stops.length;n++){var i=this.stops[n];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}}},texture:{render:function(e,n){if(e.canvas.getContext("2d")){this._update();var i=this.image;return(!this._renderer.effect||this._flagLoaded&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,"repeat")),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof t.Vector||(this._renderer.offset=new t.Vector),this._renderer.offset.x=this._offset.x,this._renderer.offset.y=this._offset.y,i&&(this._renderer.offset.x-=i.width/2,this._renderer.offset.y-=i.height/2,this._scale instanceof t.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},getTriangles:function(t,e){var n=t.top,i=t.left,r=t.right,o=t.bottom;e[0]=i,e[1]=n,e[2]=r,e[3]=n,e[4]=i,e[5]=o,e[6]=i,e[7]=o,e[8]=r,e[9]=n,e[10]=r,e[11]=o},updateTexture:function(t,e){this[e._renderer.type].updateCanvas.call(u,e),e._renderer.texture&&t.deleteTexture(e._renderer.texture),t.bindBuffer(t.ARRAY_BUFFER,e._renderer.textureCoordsBuffer),e._renderer.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.canvas.width<=0||this.canvas.height<=0||t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},updateBuffer:function(t,e,n){l.isObject(e._renderer.buffer)&&t.deleteBuffer(e._renderer.buffer),e._renderer.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._renderer.buffer),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,e._renderer.triangles,t.STATIC_DRAW),l.isObject(e._renderer.textureCoordsBuffer)&&t.deleteBuffer(e._renderer.textureCoordsBuffer),e._renderer.textureCoordsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._renderer.textureCoordsBuffer),t.enableVertexAttribArray(n.textureCoords),t.bufferData(t.ARRAY_BUFFER,this.uv,t.STATIC_DRAW)},program:{create:function(e,n){var i,r,o;if(i=e.createProgram(),l.each(n,function(t){e.attachShader(i,t)}),e.linkProgram(i),r=e.getProgramParameter(i,e.LINK_STATUS),!r)throw o=e.getProgramInfoLog(i),e.deleteProgram(i),new t.Utils.Error("unable to link program: "+o);return i}},shaders:{create:function(e,n,i){var r,o,s;if(r=e.createShader(e[i]),e.shaderSource(r,n),e.compileShader(r),o=e.getShaderParameter(r,e.COMPILE_STATUS),!o)throw s=e.getShaderInfoLog(r),e.deleteShader(r),new t.Utils.Error("unable to compile shader "+r+": "+s);return r},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},vertex:["attribute vec2 a_position;","attribute vec2 a_textureCoords;","","uniform mat3 u_matrix;","uniform vec2 u_resolution;","","varying vec2 v_textureCoords;","","void main() {","   vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;","   vec2 normal = projected / u_resolution;","   vec2 clipspace = (normal * 2.0) - 1.0;","","   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);","   v_textureCoords = a_textureCoords;","}"].join("\n"),fragment:["precision mediump float;","","uniform sampler2D u_image;","varying vec2 v_textureCoords;","","void main() {","  gl_FragColor = texture2D(u_image, v_textureCoords);","}"].join("\n")},TextureRegistry:new t.Registry};u.ctx=u.canvas.getContext("2d");var c=t[t.Types.webgl]=function(e){var n,i,o,s;if(this.domElement=e.domElement||document.createElement("canvas"),this.scene=new t.Group,this.scene.parent=this,this._renderer={matrix:new t.Array(r),scale:1,opacity:1},this._flagMatrix=!0,n=l.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=n.overdraw,i=this.ctx=this.domElement.getContext("webgl",n)||this.domElement.getContext("experimental-webgl",n),!this.ctx)throw new t.Utils.Error("unable to create a webgl context. Try using another renderer.");o=u.shaders.create(i,u.shaders.vertex,u.shaders.types.vertex),s=u.shaders.create(i,u.shaders.fragment,u.shaders.types.fragment),this.program=u.program.create(i,[o,s]),i.useProgram(this.program),this.program.position=i.getAttribLocation(this.program,"a_position"),this.program.matrix=i.getUniformLocation(this.program,"u_matrix"),this.program.textureCoords=i.getAttribLocation(this.program,"a_textureCoords"),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA)};l.extend(c,{Utils:u}),l.extend(c.prototype,t.Utils.Events,{setSize:function(t,e,n){this.width=t,this.height=e,this.ratio=l.isUndefined(n)?s(this.ctx):n,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,l.extend(this.domElement.style,{width:t+"px",height:e+"px"}),t*=this.ratio,e*=this.ratio,this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,this.ctx.viewport(0,0,t,e);var i=this.ctx.getUniformLocation(this.program,"u_resolution");return this.ctx.uniform2f(i,t,e),this},render:function(){var t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),u.group.render.call(this.scene,t,this.program),this._flagMatrix=!1,this}})}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils,n=t.Shape=function(){this._renderer={},this._renderer.flagMatrix=e.bind(n.FlagMatrix,this),this.isShape=!0,this.id=t.Identifier+t.uniqueId(),this.classList=[],this._matrix=new t.Matrix,this.translation=new t.Vector,this.rotation=0,this.scale=1};e.extend(n,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(e){Object.defineProperty(e,"translation",{enumerable:!0,get:function(){return this._translation},set:function(e){this._translation&&this._translation.unbind(t.Events.change,this._renderer.flagMatrix),this._translation=e,this._translation.bind(t.Events.change,this._renderer.flagMatrix),n.FlagMatrix.call(this)}}),Object.defineProperty(e,"rotation",{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}}),Object.defineProperty(e,"scale",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof t.Vector&&this._scale.unbind(t.Events.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof t.Vector&&this._scale.bind(t.Events.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}})}}),e.extend(n.prototype,t.Utils.Events,{_flagMatrix:!0,_flagScale:!1,_rotation:0,_scale:1,_translation:null,addTo:function(t){return t.add(this),this},clone:function(){var t=new n;return t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,e.each(n.Properties,function(e){t[e]=this[e]},this),t._update()},_update:function(e){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.translation.x,this.translation.y),this._scale instanceof t.Vector?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation)),e&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagMatrix=this._flagScale=!1,this}}),n.MakeObservable(n.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){function e(e,n,i){var r,o,s,a,l,u,c,h,f=n.controls&&n.controls.right,d=e.controls&&e.controls.left;return r=n.x,l=n.y,o=(f||n).x,u=(f||n).y,s=(d||e).x,c=(d||e).y,a=e.x,h=e.y,f&&n._relative&&(o+=n.x,u+=n.y),d&&e._relative&&(s+=e.x,c+=e.y),t.Utils.getCurveLength(r,l,o,u,s,c,a,h,i)}function n(e,n,i){var r,o,s,a,l,u,c,h,f=n.controls&&n.controls.right,d=e.controls&&e.controls.left;return r=n.x,l=n.y,o=(f||n).x,u=(f||n).y,s=(d||e).x,c=(d||e).y,a=e.x,h=e.y,f&&n._relative&&(o+=n.x,u+=n.y),d&&e._relative&&(s+=e.x,c+=e.y),t.Utils.subdivide(r,l,o,u,s,c,a,h,i)}var i=Math.min,r=Math.max,o=Math.round,s=t.Utils.getComputedMatrix,a={},l=t.Utils;l.each(t.Commands,function(t,e){a[e]=new RegExp(t)});var u=t.Path=function(e,n,i,r){t.Shape.call(this),this._renderer.type="path",this._renderer.flagVertices=l.bind(u.FlagVertices,this),this._renderer.bindVertices=l.bind(u.BindVertices,this),this._renderer.unbindVertices=l.bind(u.UnbindVertices,this),this._renderer.flagFill=l.bind(u.FlagFill,this),this._renderer.flagStroke=l.bind(u.FlagStroke,this),this._closed=!!n,this._curved=!!i,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this._vertices=[],this.vertices=e,this.automatic=!r};l.extend(u,{Properties:["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"],FlagVertices:function(){this._flagVertices=!0,this._flagLength=!0},BindVertices:function(e){for(var n=e.length;n--;)e[n].bind(t.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},UnbindVertices:function(e){for(var n=e.length;n--;)e[n].unbind(t.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){t.Shape.MakeObservable(e),l.each(u.Properties.slice(2,8),t.Utils.defineProperty,e),Object.defineProperty(e,"fill",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.unbind(t.Events.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.bind(t.Events.change,this._renderer.flagFill)}}),Object.defineProperty(e,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.unbind(t.Events.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.bind(t.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(e,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(e,"closed",{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}}),Object.defineProperty(e,"curved",{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}}),Object.defineProperty(e,"automatic",{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t!==this._automatic){this._automatic=!!t;var e=this._automatic?"ignore":"listen";l.each(this.vertices,function(t){t[e]()})}}}),Object.defineProperty(e,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}}),Object.defineProperty(e,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}}),Object.defineProperty(e,"vertices",{enumerable:!0,get:function(){return this._collection},set:function(e){var n=(this._renderer.flagVertices,this._renderer.bindVertices),i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(t.Events.insert,n).unbind(t.Events.remove,i),this._collection=new t.Utils.Collection((e||[]).slice(0)),this._collection.bind(t.Events.insert,n).bind(t.Events.remove,i),n(this._collection)}}),Object.defineProperty(e,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}})}}),l.extend(u.prototype,t.Shape.prototype,{_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagClip:!1,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_clip:!1,clone:function(e){e=e||this.parent;var n=l.map(this.vertices,function(t){return t.clone()}),i=new u(n,this.closed,this.curved,!this.automatic);return l.each(t.Path.Properties,function(t){i[t]=this[t]},this),i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,e&&e.add(i),i},toObject:function(){var e={vertices:l.map(this.vertices,function(t){return t.toObject()})};return l.each(t.Shape.Properties,function(t){e[t]=this[t]},this),e.translation=this.translation.toObject,e.rotation=this.rotation,e.scale=this.scale,e},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke="transparent",this},corner:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2,y:t.top+t.height/2},l.each(this.vertices,function(e){e.addSelf(t.centroid)}),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2,y:t.top+t.height/2},l.each(this.vertices,function(e){e.subSelf(t.centroid)}),this},remove:function(){return this.parent?(this.parent.remove(this),this):this},getBoundingClientRect:function(t){var e,n,o,a,l,u,c,h=1/0,f=-(1/0),d=1/0,p=-(1/0);if(this._update(!0),e=t?this._matrix:s(this),n=this.linewidth/2,o=this._vertices.length,o<=0)return c=e.multiply(0,0,1),{top:c.y,left:c.x,right:c.x,bottom:c.y,width:0,height:0};for(u=0;u<o;u++)c=this._vertices[u],a=c.x,l=c.y,c=e.multiply(a,l,1),d=i(c.y-n,d),h=i(c.x-n,h),f=r(c.x+n,f),p=r(c.y+n,p);return{top:d,left:h,right:f,bottom:p,width:f-h,height:p-d}},getPointAt:function(e,n){for(var i,r,o,s,a,u,c,h,f,d,p,_,v=this.length*Math.min(Math.max(e,0),1),m=this.vertices.length,g=m-1,y=null,b=null,x=0,w=this._lengths.length,S=0;x<w;x++){if(S+this._lengths[x]>v){y=this.vertices[this.closed?t.Utils.mod(x,m):x],b=this.vertices[Math.min(Math.max(x-1,0),g)],v-=S,e=v/this._lengths[x];break}S+=this._lengths[x]}return l.isNull(y)||l.isNull(b)?null:(_=b.controls&&b.controls.right,p=y.controls&&y.controls.left,r=b.x,c=b.y,o=(_||b).x,h=(_||b).y,s=(p||y).x,f=(p||y).y,a=y.x,d=y.y,_&&b._relative&&(o+=b.x,h+=b.y),p&&y._relative&&(s+=y.x,f+=y.y),i=t.Utils.getPointOnCubicBezier(e,r,o,s,a),u=t.Utils.getPointOnCubicBezier(e,c,h,f,d),l.isObject(n)?(n.x=i,n.y=u,n):new t.Vector(i,u))},plot:function(){if(this.curved)return t.Utils.getCurveFromPoints(this._vertices,this.closed),this;for(var e=0;e<this._vertices.length;e++)this._vertices[e]._command=0===e?t.Commands.move:t.Commands.line;return this},subdivide:function(e){this._update();var i=this.vertices.length-1,r=this.vertices[i],o=this._closed||this.vertices[i]._command===t.Commands.close,s=[];return l.each(this.vertices,function(a,u){if(u<=0&&!o)return void(r=a);if(a.command===t.Commands.move)return s.push(new t.Anchor(r.x,r.y)),u>0&&(s[s.length-1].command=t.Commands.line),void(r=a);var c=n(a,r,e);s=s.concat(c),l.each(c,function(e,n){n<=0&&r.command===t.Commands.move?e.command=t.Commands.move:e.command=t.Commands.line}),u>=i&&(this._closed&&this._automatic?(r=a,c=n(a,r,e),s=s.concat(c),l.each(c,function(e,n){n<=0&&r.command===t.Commands.move?e.command=t.Commands.move:e.command=t.Commands.line})):o&&s.push(new t.Anchor(a.x,a.y)),s[s.length-1].command=o?t.Commands.close:t.Commands.line),r=a},this),this._automatic=!1,this._curved=!1,this.vertices=s,this},_updateLength:function(n){this._update();var i=this.vertices.length-1,r=this.vertices[i],o=this._closed||this.vertices[i]._command===t.Commands.close,s=0;return l.isUndefined(this._lengths)&&(this._lengths=[]),l.each(this.vertices,function(a,l){return l<=0&&!o||a.command===t.Commands.move?(r=a,void(this._lengths[l]=0)):(this._lengths[l]=e(a,r,n),s+=this._lengths[l],l>=i&&o&&(r=a,this._lengths[l+1]=e(a,r,n),s+=this._lengths[l+1]),void(r=a))},this),this._length=s,this},_update:function(){if(this._flagVertices){var e,n=this.vertices.length,i=n-1,r=o(this._beginning*i),s=o(this._ending*i);this._vertices.length=0;for(var a=r;a<s+1;a++)e=this.vertices[a],this._vertices.push(e);this._automatic&&this.plot()}return t.Shape.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,t.Shape.prototype.flagReset.call(this),this}}),u.MakeObservable(u.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Path,n=t.Utils,i=t.Line=function(n,i,r,o){var s=r-n,a=o-i,l=s/2,u=a/2;e.call(this,[new t.Anchor(-l,-u),new t.Anchor(l,u)]),this.translation.set(n+l,i+u)};n.extend(i.prototype,e.prototype),e.MakeObservable(i.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Path,n=t.Utils,i=t.Rectangle=function(n,i,r,o){e.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0),this.width=r,this.height=o,this._update(),this.translation.set(n,i)};n.extend(i,{Properties:["width","height"],MakeObservable:function(r){e.MakeObservable(r),n.each(i.Properties,t.Utils.defineProperty,r)}}),n.extend(i.prototype,e.prototype,{_width:0,_height:0,_flagWidth:0,_flagHeight:0,_update:function(){if(this._flagWidth||this._flagHeight){var t=this._width/2,n=this._height/2;this.vertices[0].set(-t,-n),this.vertices[1].set(t,-n),this.vertices[2].set(t,n),this.vertices[3].set(-t,n)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,e.prototype.flagReset.call(this),this}}),i.MakeObservable(i.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Path,n=2*Math.PI,i=Math.cos,r=Math.sin,o=t.Utils,s=t.Ellipse=function(n,i,r,s){o.isNumber(s)||(s=r);var a=t.Resolution,l=o.map(o.range(a),function(e){return new t.Anchor},this);e.call(this,l,!0,!0),this.width=2*r,this.height=2*s,this._update(),this.translation.set(n,i)};o.extend(s,{Properties:["width","height"],MakeObservable:function(n){e.MakeObservable(n),o.each(s.Properties,t.Utils.defineProperty,n)}}),o.extend(s.prototype,e.prototype,{_width:0,_height:0,_flagWidth:!1,_flagHeight:!1,_update:function(){if(this._flagWidth||this._flagHeight)for(var t=0,o=this.vertices.length;t<o;t++){var s=t/o,a=s*n,l=this._width*i(a)/2,u=this._height*r(a)/2;this.vertices[t].set(l,u)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,e.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Path,n=2*Math.PI,i=Math.cos,r=Math.sin,o=t.Utils,s=t.Circle=function(n,i,r){var s=t.Resolution,a=o.map(o.range(s),function(e){return new t.Anchor},this);e.call(this,a,!0,!0),this.radius=r,this._update(),this.translation.set(n,i)};o.extend(s,{Properties:["radius"],MakeObservable:function(n){e.MakeObservable(n),o.each(s.Properties,t.Utils.defineProperty,n)}}),o.extend(s.prototype,e.prototype,{_radius:0,_flagRadius:!1,_update:function(){if(this._flagRadius)for(var t=0,o=this.vertices.length;t<o;t++){var s=t/o,a=s*n,l=this._radius*i(a),u=this._radius*r(a);this.vertices[t].set(l,u)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagRadius=!1,e.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Path,n=2*Math.PI,i=Math.cos,r=Math.sin,o=t.Utils,s=t.Polygon=function(n,i,r,s){s=Math.max(s||0,3);var a=o.map(o.range(s),function(e){return new t.Anchor});e.call(this,a,!0),this.width=2*r,this.height=2*r,this.sides=s,this._update(),this.translation.set(n,i)};o.extend(s,{Properties:["width","height","sides"],MakeObservable:function(n){e.MakeObservable(n),o.each(s.Properties,t.Utils.defineProperty,n)}}),o.extend(s.prototype,e.prototype,{_width:0,_height:0,_sides:0,_flagWidth:!1,_flagHeight:!1,_flagSides:!1,_update:function(){if(this._flagWidth||this._flagHeight||this._flagSides){var o=this._sides,s=this.vertices.length;s>o&&this.vertices.splice(o-1,s-o);for(var a=0;a<o;a++){var l=(a+.5)/o,u=n*l+Math.PI/2,c=this._width*i(u),h=this._height*r(u);a>=s?this.vertices.push(new t.Anchor(c,h)):this.vertices[a].set(c,h)}}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagSides=!1,e.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){function e(t,e){for(;t<0;)t+=e;return t%e}var n=t.Path,i=(Math.PI,2*Math.PI),r=Math.PI/2,o=(Math.cos,Math.sin,Math.abs,t.Utils),s=t.ArcSegment=function(e,i,r,s,a,l,u){var c=o.map(o.range(u||3*t.Resolution),function(){return new t.Anchor});n.call(this,c,!1,!1,!0),this.innerRadius=r,this.outerRadius=s,this.startAngle=a,this.endAngle=l,this._update(),this.translation.set(e,i)};o.extend(s,{Properties:["startAngle","endAngle","innerRadius","outerRadius"],MakeObservable:function(e){n.MakeObservable(e),o.each(s.Properties,t.Utils.defineProperty,e)}}),o.extend(s.prototype,n.prototype,{_flagStartAngle:!1,_flagEndAngle:!1,_flagInnerRadius:!1,_flagOuterRadius:!1,_startAngle:0,_endAngle:i,_innerRadius:0,_outerRadius:0,_update:function(){if(this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var o,s=this._startAngle,a=this._endAngle,l=this._innerRadius,u=this._outerRadius,c=e(s,i)===e(a,i),h=l>0,f=this.vertices,d=h?f.length/2:f.length,p=0;c?d--:h||(d-=2);for(var _=0,v=d-1;_<d;_++){
var m=_/v,g=f[p],y=m*(a-s)+s,b=(a-s)/d,x=u*Math.cos(y),w=u*Math.sin(y);switch(_){case 0:o=t.Commands.move;break;default:o=t.Commands.curve}if(g.command=o,g.x=x,g.y=w,g.controls.left.clear(),g.controls.right.clear(),g.command===t.Commands.curve){var S=u*b/Math.PI;g.controls.left.x=S*Math.cos(y-r),g.controls.left.y=S*Math.sin(y-r),g.controls.right.x=S*Math.cos(y+r),g.controls.right.y=S*Math.sin(y+r),1===_&&g.controls.left.multiplyScalar(2),_===v&&g.controls.right.multiplyScalar(2)}p++}if(h)for(c?(f[p].command=t.Commands.close,p++):(d--,v=d-1),_=0;_<d;_++)m=_/v,g=f[p],y=(1-m)*(a-s)+s,b=(a-s)/d,x=l*Math.cos(y),w=l*Math.sin(y),o=t.Commands.curve,_<=0&&(o=c?t.Commands.move:t.Commands.line),g.command=o,g.x=x,g.y=w,g.controls.left.clear(),g.controls.right.clear(),g.command===t.Commands.curve&&(S=l*b/Math.PI,g.controls.left.x=S*Math.cos(y+r),g.controls.left.y=S*Math.sin(y+r),g.controls.right.x=S*Math.cos(y-r),g.controls.right.y=S*Math.sin(y-r),1===_&&g.controls.left.multiplyScalar(2),_===v&&g.controls.right.multiplyScalar(2)),p++;else c||(f[p].command=t.Commands.line,f[p].x=0,f[p].y=0,p++);f[p].command=t.Commands.close}return n.prototype._update.call(this),this},flagReset:function(){return n.prototype.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}}),s.MakeObservable(s.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Path,n=2*Math.PI,i=Math.cos,r=Math.sin,o=t.Utils,s=t.Star=function(n,i,r,s,a){o.isNumber(s)||(s=r/2),(!o.isNumber(a)||a<=0)&&(a=5);var l=2*a,u=o.map(o.range(l),function(e){return new t.Anchor});e.call(this,u,!0),this.innerRadius=s,this.outerRadius=r,this.sides=a,this._update(),this.translation.set(n,i)};o.extend(s,{Properties:["innerRadius","outerRadius","sides"],MakeObservable:function(n){e.MakeObservable(n),o.each(s.Properties,t.Utils.defineProperty,n)}}),o.extend(s.prototype,e.prototype,{_innerRadius:0,_outerRadius:0,_sides:0,_flagInnerRadius:!1,_flagOuterRadius:!1,_flagSides:!1,_update:function(){if(this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var o=2*this._sides,s=this.vertices.length;s>o&&this.vertices.splice(o-1,s-o);for(var a=0;a<o;a++){var l=(a+.5)/o,u=n*l,c=a%2?this._innerRadius:this._outerRadius,h=c*i(u),f=c*r(u);a>=s?this.vertices.push(new t.Anchor(h,f)):this.vertices[a].set(h,f)}}return e.prototype._update.call(this),this},flagReset:function(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,e.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Path,n=t.Utils,i=t.RoundedRectangle=function(i,r,o,s,a){n.isNumber(a)||(a=Math.floor(Math.min(o,s)/12));var l=10,u=n.map(n.range(l),function(e){return new t.Anchor(0,0,0,0,0,0,0===e?t.Commands.move:t.Commands.curve)});u[u.length-1].command=t.Commands.close,e.call(this,u,!1,!1,!0),this.width=o,this.height=s,this.radius=a,this._update(),this.translation.set(i,r)};n.extend(i,{Properties:["width","height","radius"],MakeObservable:function(r){e.MakeObservable(r),n.each(i.Properties,t.Utils.defineProperty,r)}}),n.extend(i.prototype,e.prototype,{_width:0,_height:0,_radius:0,_flagWidth:!1,_flagHeight:!1,_flagRadius:!1,_update:function(){if(this._flagWidth||this._flagHeight||this._flagRadius){var t,n=this._width,i=this._height,r=Math.min(Math.max(this._radius,0),Math.min(n,i)),o=n/2,s=i/2;t=this.vertices[0],t.x=-(o-r),t.y=-s,t=this.vertices[1],t.x=o-r,t.y=-s,t.controls.left.clear(),t.controls.right.x=r,t.controls.right.y=0,t=this.vertices[2],t.x=o,t.y=-(s-r),t.controls.right.clear(),t.controls.left.clear(),t=this.vertices[3],t.x=o,t.y=s-r,t.controls.left.clear(),t.controls.right.x=0,t.controls.right.y=r,t=this.vertices[4],t.x=o-r,t.y=s,t.controls.right.clear(),t.controls.left.clear(),t=this.vertices[5],t.x=-(o-r),t.y=s,t.controls.left.clear(),t.controls.right.x=-r,t.controls.right.y=0,t=this.vertices[6],t.x=-o,t.y=s-r,t.controls.left.clear(),t.controls.right.clear(),t=this.vertices[7],t.x=-o,t.y=-(s-r),t.controls.left.clear(),t.controls.right.x=0,t.controls.right.y=-r,t=this.vertices[8],t.x=-(o-r),t.y=-s,t.controls.left.clear(),t.controls.right.clear(),t=this.vertices[9],t.copy(this.vertices[8])}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,e.prototype.flagReset.call(this),this}}),i.MakeObservable(i.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=this,n=t.Utils.getComputedMatrix,i=t.Utils,r=e.document?e.document.createElement("canvas"):{getContext:i.identity},o=(r.getContext("2d"),t.Text=function(e,n,r,s){return t.Shape.call(this),this._renderer.type="text",this._renderer.flagFill=i.bind(o.FlagFill,this),this._renderer.flagStroke=i.bind(o.FlagStroke,this),this.value=e,i.isNumber(n)&&(this.translation.x=n),i.isNumber(r)&&(this.translation.y=r),i.isObject(s)?void i.each(t.Text.Properties,function(t){t in s&&(this[t]=s[t])},this):this});i.extend(t.Text,{Properties:["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","fill","stroke"],FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){t.Shape.MakeObservable(e),i.each(t.Text.Properties.slice(0,12),t.Utils.defineProperty,e),Object.defineProperty(e,"fill",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.unbind(t.Events.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.bind(t.Events.change,this._renderer.flagFill)}}),Object.defineProperty(e,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.unbind(t.Events.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.bind(t.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(e,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}})}}),i.extend(t.Text.prototype,t.Shape.prototype,{_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagClip:!1,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_visible:!0,_clip:!1,remove:function(){return this.parent?(this.parent.remove(this),this):this},clone:function(e){var e=e||this.parent,n=new t.Text(this.value);return n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,i.each(t.Text.Properties,function(t){n[t]=this[t]},this),e&&e.add(n),n},toObject:function(){var e={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return i.each(t.Text.Properties,function(t){e[t]=this[t]},this),e},noStroke:function(){return this.stroke="transparent",this},noFill:function(){return this.fill="transparent",this},getBoundingClientRect:function(t){var e,i;return this._update(!0),e=t?this._matrix:n(this),i=e.multiply(0,0,1),{top:i.x,left:i.y,right:i.x,bottom:i.y,width:0,height:0}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpaicty=this._flagVisible=this._flagClip=this._flagDecoration=this._flagBaseline=!1,t.Shape.prototype.flagReset.call(this),this}}),t.Text.MakeObservable(t.Text.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils,n=t.Stop=function(t,i,r){this._renderer={},this._renderer.type="stop",this.offset=e.isNumber(t)?t:n.Index<=0?0:1,this.opacity=e.isNumber(r)?r:1,this.color=e.isString(i)?i:n.Index<=0?"#fff":"#000",n.Index=(n.Index+1)%2};e.extend(n,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(t){e.each(n.Properties,function(t){var e=this,n="_"+t,i="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(e,t,{enumerable:!0,get:function(){return this[n]},set:function(t){this[n]=t,this[i]=!0,this.parent&&(this.parent._flagStops=!0)}})},t)}}),e.extend(n.prototype,t.Utils.Events,{clone:function(){var t=new n;return e.each(n.Properties,function(e){t[e]=this[e]},this),t},toObject:function(){var t={};return e.each(n.Properties,function(e){t[e]=this[e]},this),t},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),n.MakeObservable(n.prototype);var i=t.Gradient=function(n){this._renderer={},this._renderer.type="gradient",this.id=t.Identifier+t.uniqueId(),this.classList=[],this._renderer.flagStops=e.bind(i.FlagStops,this),this._renderer.bindStops=e.bind(i.BindStops,this),this._renderer.unbindStops=e.bind(i.UnbindStops,this),this.spread="pad",this.stops=n};e.extend(i,{Stop:n,Properties:["spread"],MakeObservable:function(n){e.each(i.Properties,t.Utils.defineProperty,n),Object.defineProperty(n,"stops",{enumerable:!0,get:function(){return this._stops},set:function(e){var n=(this._renderer.flagStops,this._renderer.bindStops),i=this._renderer.unbindStops;this._stops&&this._stops.unbind(t.Events.insert,n).unbind(t.Events.remove,i),this._stops=new t.Utils.Collection((e||[]).slice(0)),this._stops.bind(t.Events.insert,n).bind(t.Events.remove,i),n(this._stops)}})},FlagStops:function(){this._flagStops=!0},BindStops:function(e){for(var n=e.length;n--;)e[n].bind(t.Events.change,this._renderer.flagStops),e[n].parent=this;this._renderer.flagStops()},UnbindStops:function(e){for(var n=e.length;n--;)e[n].unbind(t.Events.change,this._renderer.flagStops),delete e[n].parent;this._renderer.flagStops()}}),e.extend(i.prototype,t.Utils.Events,{_flagStops:!1,_flagSpread:!1,clone:function(n){n=n||this.parent;var r=e.map(this.stops,function(t){return t.clone()}),o=new i(r);return e.each(t.Gradient.Properties,function(t){o[t]=this[t]},this),n&&n.add(o),o},toObject:function(){var t={stops:e.map(this.stops,function(t){return t.toObject()})};return e.each(i.Properties,function(e){t[e]=this[e]},this),t},_update:function(){return(this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagSpread=this._flagStops=!1,this}}),i.MakeObservable(i.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils,n=t.LinearGradient=function(i,r,o,s,a){t.Gradient.call(this,a),this._renderer.type="linear-gradient";var l=e.bind(n.FlagEndPoints,this);this.left=(new t.Vector).bind(t.Events.change,l),this.right=(new t.Vector).bind(t.Events.change,l),e.isNumber(i)&&(this.left.x=i),e.isNumber(r)&&(this.left.y=r),e.isNumber(o)&&(this.right.x=o),e.isNumber(s)&&(this.right.y=s)};e.extend(n,{Stop:t.Gradient.Stop,MakeObservable:function(e){t.Gradient.MakeObservable(e)},FlagEndPoints:function(){this._flagEndPoints=!0}}),e.extend(n.prototype,t.Gradient.prototype,{_flagEndPoints:!1,clone:function(i){i=i||this.parent;var r=e.map(this.stops,function(t){return t.clone()}),o=new n(this.left._x,this.left._y,this.right._x,this.right._y,r);return e.each(t.Gradient.Properties,function(t){o[t]=this[t]},this),i&&i.add(o),o},toObject:function(){var e=t.Gradient.prototype.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e},_update:function(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagEndPoints=!1,t.Gradient.prototype.flagReset.call(this),this}}),n.MakeObservable(n.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils,n=t.RadialGradient=function(n,i,r,o,s,a){t.Gradient.call(this,o),this._renderer.type="radial-gradient",this.center=(new t.Vector).bind(t.Events.change,e.bind(function(){this._flagCenter=!0},this)),this.radius=e.isNumber(r)?r:20,this.focal=(new t.Vector).bind(t.Events.change,e.bind(function(){this._flagFocal=!0},this)),e.isNumber(n)&&(this.center.x=n),e.isNumber(i)&&(this.center.y=i),this.focal.copy(this.center),e.isNumber(s)&&(this.focal.x=s),e.isNumber(a)&&(this.focal.y=a)};e.extend(n,{Stop:t.Gradient.Stop,Properties:["radius"],MakeObservable:function(i){t.Gradient.MakeObservable(i),e.each(n.Properties,t.Utils.defineProperty,i)}}),e.extend(n.prototype,t.Gradient.prototype,{_flagRadius:!1,_flagCenter:!1,_flagFocal:!1,clone:function(i){i=i||this.parent;var r=e.map(this.stops,function(t){return t.clone()}),o=new n(this.center._x,this.center._y,this._radius,r,this.focal._x,this.focal._y);return e.each(t.Gradient.Properties.concat(n.Properties),function(t){o[t]=this[t]},this),i&&i.add(o),o},toObject:function(){var i=t.Gradient.prototype.toObject.call(this);return e.each(n.Properties,function(t){i[t]=this[t]},this),i.center=this.center.toObject(),i.focal=this.focal.toObject(),i},_update:function(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,t.Gradient.prototype.flagReset.call(this),this}}),n.MakeObservable(n.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils,n={video:/\.(mp4|webm)$/i,image:/\.(jpe?g|png|gif|tiff)$/i},i=t.Texture=function(n,r){if(this._renderer={},this._renderer.type="texture",this._renderer.flagOffset=e.bind(i.FlagOffset,this),this._renderer.flagScale=e.bind(i.FlagScale,this),this.id=t.Identifier+t.uniqueId(),this.classList=[],this.offset=new t.Vector,e.isFunction(r)){var o=e.bind(function(){this.unbind(t.Events.load,o),e.isFunction(r)&&r()},this);this.bind(t.Events.load,o)}e.isString(n)?this.src=n:e.isElement(n)&&(this.image=n),this._update()};e.extend(i,{Properties:["src","image","loaded"],ImageRegistry:new t.Registry,getImage:function(t){if(i.ImageRegistry.contains(t))return i.ImageRegistry.get(t);var e;return e=n.video.test(t)?document.createElement("video"):document.createElement("img"),e.crossOrigin="anonymous",e},Register:{canvas:function(t,n){t._src="#"+t.id,i.ImageRegistry.add(t.src,t.image),e.isFunction(n)&&n()},img:function(n,r){var o=function(t){n.image.removeEventListener("load",o,!1),n.image.removeEventListener("error",s,!1),e.isFunction(r)&&r()},s=function(e){throw n.image.removeEventListener("load",o,!1),n.image.removeEventListener("error",s,!1),new t.Utils.Error("unable to load "+n.src)};n.image.addEventListener("load",o,!1),n.image.addEventListener("error",s,!1),n.image.setAttribute("two-src",n.src),i.ImageRegistry.add(n.src,n.image),n.image.src=n.src},video:function(n,r){var o=function(t){n.image.removeEventListener("load",o,!1),n.image.removeEventListener("error",s,!1),n.image.width=n.image.videoWidth,n.image.height=n.image.videoHeight,n.image.play(),e.isFunction(r)&&r()},s=function(e){throw n.image.removeEventListener("load",o,!1),n.image.removeEventListener("error",s,!1),new t.Utils.Error("unable to load "+n.src)};n.image.addEventListener("canplaythrough",o,!1),n.image.addEventListener("error",s,!1),n.image.setAttribute("two-src",n.src),i.ImageRegistry.add(n.src,n.image),n.image.src=n.src,n.image.loop=!0,n.image.load()}},load:function(t,e){var n=(t.src,t.image),r=n&&n.nodeName.toLowerCase();t._flagImage&&(/canvas/i.test(r)?i.Register.canvas(t,e):(t._src=n.getAttribute("two-src")||n.src,i.Register[r](t,e))),t._flagSrc&&(n||(t.image=i.getImage(t.src)),r=t.image.nodeName.toLowerCase(),i.Register[r](t,e))},FlagOffset:function(){this._flagOffset=!0},FlagScale:function(){this._flagScale=!0},MakeObservable:function(n){e.each(i.Properties,t.Utils.defineProperty,n),Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(t.Events.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(t.Events.change,this._renderer.flagOffset),this._flagOffset=!0}}),Object.defineProperty(n,"scale",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof t.Vector&&this._scale.unbind(t.Events.change,this._renderer.flagScale),this._scale=e,this._scale instanceof t.Vector&&this._scale.bind(t.Events.change,this._renderer.flagScale),this._flagScale=!0}})}}),e.extend(i.prototype,t.Utils.Events,t.Shape.prototype,{_flagSrc:!1,_flagImage:!1,_flagLoaded:!1,_flagOffset:!1,_flagScale:!1,_src:"",_image:null,_loaded:!1,_scale:1,_offset:null,clone:function(){return new i(this.src)},toObject:function(){return{src:this.src,image:this.image}},_update:function(){return(this._flagSrc||this._flagImage)&&(this.trigger(t.Events.change),this.loaded=!1,i.load(this,e.bind(function(){this.loaded=!0,this.trigger(t.Events.change).trigger(t.Events.load)},this))),this.image.readyState>=4&&(this._flagImage=!0),this},flagReset:function(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagScale=this._flagOffset=!1,this}}),i.MakeObservable(i.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils,n=t.Path,i=t.Rectangle,r=t.Sprite=function(i,r,o,s,a,l){n.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0),this.noStroke(),this.noFill(),i instanceof t.Texture?this.texture=i:e.isString(i)&&(this.texture=new t.Texture(i)),this._update(),this.translation.set(r||0,o||0),e.isNumber(s)&&(this.columns=s),e.isNumber(a)&&(this.rows=a),e.isNumber(l)&&(this.frameRate=l)};e.extend(r,{Properties:["texture","columns","rows","frameRate"],MakeObservable:function(n){i.MakeObservable(n),e.each(r.Properties,t.Utils.defineProperty,n)}}),e.extend(r.prototype,i.prototype,{_flagTexture:!1,_flagColumns:!1,_flagRows:!1,_flagFrameRate:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_texture:null,_columns:1,_rows:1,_frameRate:0,play:function(t,n,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=e.performance.now(),e.isNumber(t)&&(this._firstFrame=t),e.isNumber(n)&&(this._lastFrame=n),e.isFunction(i)?this._onLastFrame=i:delete this._onLastFrame,this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(t){t=t||this.parent;var e=new r(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e},_update:function(){var t,n,r,o,s,a,l,u,c=this._texture,h=this._columns,f=this._rows;if((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=this._texture),this._texture.loaded){l=c.image.width,u=c.image.height,t=l/h,n=u/f,o=this._amount,this.width!==t&&(this.width=t),this.height!==n&&(this.height=n),this._playing&&this._frameRate>0&&(e.isNaN(this._lastFrame)&&(this._lastFrame=o-1),r=e.performance.now()-this._startTime,s=1e3*(this._lastFrame-this._firstFrame)/this._frameRate,this._loop?r%=s:r=Math.min(r,s),a=e.lerp(this._firstFrame,this._lastFrame,r/s),a=Math.floor(a),a!==this._index&&(this._index=a,a>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));var d=(l-t)/2+t*(this._index%h+1),p=n*Math.floor(this._index/h)-(u-n)/2;d!==c.offset.x&&(c.offset.x=d),p!==c.offset.y&&(c.offset.y=p)}return i.prototype._update.call(this),this},flagReset:function(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,i.prototype.flagReset.call(this),this}}),r.MakeObservable(r.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){var e=t.Utils,n=t.Path,i=t.Rectangle,r=t.ImageSequence=function(i,o,s,a){n.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0),this._renderer.flagTextures=e.bind(r.FlagTextures,this),this._renderer.bindTextures=e.bind(r.BindTextures,this),this._renderer.unbindTextures=e.bind(r.UnbindTextures,this),this.noStroke(),this.noFill(),this.textures=e.map(i,r.GenerateTexture,this),this._update(),this.translation.set(o||0,s||0),e.isNumber(a)?this.frameRate=a:this.frameRate=r.DefaultFrameRate};e.extend(r,{Properties:["frameRate"],DefaultFrameRate:30,FlagTextures:function(){this._flagTextures=!0},BindTextures:function(e){for(var n=e.length;n--;)e[n].bind(t.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},UnbindTextures:function(e){for(var n=e.length;n--;)e[n].unbind(t.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},MakeObservable:function(n){i.MakeObservable(n),e.each(r.Properties,t.Utils.defineProperty,n),Object.defineProperty(n,"textures",{enumerable:!0,get:function(){return this._textures},set:function(e){var n=(this._renderer.flagTextures,this._renderer.bindTextures),i=this._renderer.unbindTextures;this._textures&&this._textures.unbind(t.Events.insert,n).unbind(t.Events.remove,i),this._textures=new t.Utils.Collection((e||[]).slice(0)),this._textures.bind(t.Events.insert,n).bind(t.Events.remove,i),n(this._textures)}})},GenerateTexture:function(n){return n instanceof t.Texture?n:e.isString(n)?new t.Texture(n):void 0}}),e.extend(r.prototype,i.prototype,{_flagTextures:!1,_flagFrameRate:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_textures:null,_frameRate:0,play:function(t,n,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=e.performance.now(),e.isNumber(t)&&(this._firstFrame=t),e.isNumber(n)&&(this._lastFrame=n),e.isFunction(i)?this._onLastFrame=i:delete this._onLastFrame,this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(t){t=t||this.parent;var e=new r(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e},_update:function(){var n,r,o,s,a,l,u,c=this._textures;return this._flagTextures&&(this._amount=c.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(s=this._amount,e.isNaN(this._lastFrame)&&(this._lastFrame=s-1),o=e.performance.now()-this._startTime,a=1e3*(this._lastFrame-this._firstFrame)/this._frameRate,this._loop?o%=a:o=Math.min(o,a),u=e.lerp(this._firstFrame,this._lastFrame,o/a),u=Math.floor(u),u!==this._index&&(this._index=u,l=c[this._index],l.loaded&&(n=l.image.width,r=l.image.height,this.width!==n&&(this.width=n),this.height!==r&&(this.height=r),this.fill=l,u>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):this.fill instanceof t.Texture||(l=c[this._index],l.loaded&&(n=l.image.width,r=l.image.height,this.width!==n&&(this.width=n),this.height!==r&&(this.height=r),this.fill=l)),i.prototype._update.call(this),this},flagReset:function(){return this._flagTextures=this._flagFrameRate=!1,i.prototype.flagReset.call(this),this}}),r.MakeObservable(r.prototype)}(("undefined"!=typeof n?n:this).Two),function(t){function e(t,e){var n,i=t.parent;return i===e?(this.additions.push(t),void(this._flagAdditions=!0)):(i&&i.children.ids[t.id]&&(n=r.indexOf(i.children,t),i.children.splice(n,1),n=r.indexOf(i.additions,t),n>=0?i.additions.splice(n,1):(i.subtractions.push(t),i._flagSubtractions=!0)),e?(t.parent=e,this.additions.push(t),void(this._flagAdditions=!0)):(n=r.indexOf(this.additions,t),n>=0?this.additions.splice(n,1):(this.subtractions.push(t),this._flagSubtractions=!0),void delete t.parent))}var n=Math.min,i=Math.max,r=t.Utils,o=function(){t.Utils.Collection.apply(this,arguments),Object.defineProperty(this,"_events",{value:{},enumerable:!1}),this.ids={},this.on(t.Events.insert,this.attach),this.on(t.Events.remove,this.detach),o.prototype.attach.apply(this,arguments)};o.prototype=new t.Utils.Collection,o.prototype.constructor=o,r.extend(o.prototype,{attach:function(t){for(var e=0;e<t.length;e++)this.ids[t[e].id]=t[e];return this},detach:function(t){for(var e=0;e<t.length;e++)delete this.ids[t[e].id];return this}});var s=t.Group=function(){t.Shape.call(this,!0),this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=arguments};r.extend(s,{Children:o,InsertChildren:function(t){for(var n=0;n<t.length;n++)e.call(this,t[n],this)},RemoveChildren:function(t){for(var n=0;n<t.length;n++)e.call(this,t[n])},OrderChildren:function(t){this._flagOrder=!0},MakeObservable:function(e){var n=t.Path.Properties.slice(0),i=r.indexOf(n,"opacity");i>=0&&(n.splice(i,1),Object.defineProperty(e,"opacity",{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!=t,this._opacity=t}})),t.Shape.MakeObservable(e),s.MakeGetterSetters(e,n),Object.defineProperty(e,"children",{enumerable:!0,get:function(){return this._children},set:function(e){var n=r.bind(s.InsertChildren,this),i=r.bind(s.RemoveChildren,this),a=r.bind(s.OrderChildren,this);this._children&&this._children.unbind(),this._children=new o(e),this._children.bind(t.Events.insert,n),this._children.bind(t.Events.remove,i),this._children.bind(t.Events.order,a)}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,t.clip||(t.clip=!0)}})},MakeGetterSetters:function(t,e){r.isArray(e)||(e=[e]),r.each(e,function(e){s.MakeGetterSetter(t,e)})},MakeGetterSetter:function(t,e){var n="_"+e;Object.defineProperty(t,e,{enumerable:!0,get:function(){return this[n]},set:function(t){this[n]=t,r.each(this.children,function(n){n[e]=t})}})}}),r.extend(s.prototype,t.Shape.prototype,{_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagMask:!1,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_mask:null,clone:function(t){t=t||this.parent;var e=new s,n=r.map(this.children,function(t){return t.clone(e)});return e.add(n),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,t&&t.add(e),e},toObject:function(){var t={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale,opacity:this.opacity,mask:this.mask?this.mask.toObject():null};return r.each(this.children,function(e,n){t.children[n]=e.toObject()},this),t},corner:function(){var t=this.getBoundingClientRect(!0),e={x:t.left,y:t.top};return this.children.forEach(function(t){t.translation.subSelf(e)}),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2,y:t.top+t.height/2},this.children.forEach(function(e){e.isShape&&e.translation.subSelf(t.centroid)}),this},getById:function(t){var e=function(t,n){if(t.id===n)return t;if(t.children)for(var i=t.children.length;i--;){var r=e(t.children[i],n);if(r)return r}};return e(this,t)||null},getByClassName:function(t){var e=[],n=function(t,i){return t.classList.indexOf(i)!=-1?e.push(t):t.children&&t.children.forEach(function(t){n(t,i)}),e};return n(this,t)},getByType:function(e){var n=[],i=function(e,r){for(var o in e.children)e.children[o]instanceof r?n.push(e.children[o]):e.children[o]instanceof t.Group&&i(e.children[o],r);return n};return i(this,e)},add:function(t){t=t instanceof Array?t.slice():r.toArray(arguments);for(var e=0;e<t.length;e++)t[e]&&t[e].id&&this.children.push(t[e]);return this},remove:function(t){var e=arguments.length,n=this.parent;if(e<=0&&n)return n.remove(this),this;t=t instanceof Array?t.slice():r.toArray(arguments);for(var i=0;i<t.length;i++)t[i]&&this.children.ids[t[i].id]&&this.children.splice(r.indexOf(this.children,t[i]),1);return this},getBoundingClientRect:function(t){var e;this._update(!0);var o=1/0,s=-(1/0),a=1/0,l=-(1/0);return this.children.forEach(function(u){/(linear-gradient|radial-gradient|gradient)/.test(u._renderer.type)||(e=u.getBoundingClientRect(t),r.isNumber(e.top)&&r.isNumber(e.left)&&r.isNumber(e.right)&&r.isNumber(e.bottom)&&(a=n(e.top,a),o=n(e.left,o),s=i(e.right,s),l=i(e.bottom,l)))},this),{top:a,left:o,right:s,bottom:l,width:s-o,height:l-a}},noFill:function(){return this.children.forEach(function(t){t.noFill()}),this},noStroke:function(){return this.children.forEach(function(t){t.noStroke()}),this},subdivide:function(){var t=arguments;return this.children.forEach(function(e){e.subdivide.apply(e,t)}),this},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=!1,t.Shape.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}(("undefined"!=typeof n?n:this).Two)}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WebComponent=e.MotorHTMLScene=e.MotorHTMLPushPaneLayout=e.MotorHTMLNode=e.MotorHTMLBase=void 0;var r=n(239),o=i(r),s=n(241),a=i(s),l=n(246),u=i(l),c=n(236),h=i(c),f=n(240),d=i(f);e.MotorHTMLBase=o.default,e.MotorHTMLNode=a.default,e.MotorHTMLPushPaneLayout=u.default,e.MotorHTMLScene=h.default,e.WebComponent=d.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(3),o=i(r),s=n(29),a=i(s),l=n(30),u=i(l),c=n(34),h=i(c),f=n(116),d=i(f),p=n(81),_=i(p),v=n(241),m=i(v),g=n(247),y=i(g),b=function(t){function e(){return(0,a.default)(this,e),(0,h.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,_.default)(e,t),(0,u.default)(e,[{key:"createdCallback",value:function(){console.log(" -- MotorHTMLPushPaneLayout created"),(0,d.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"createdCallback",this).call(this)}},{key:"_makeImperativeCounterpart",value:function(){return new y.default({},this)}}]),e}(m.default);e.default=b},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=i(r),s=n(29),a=i(s),l=n(34),u=i(l),c=n(81),h=i(c),f=n(154),d=i(f),p=function(t){function e(){var t;(0,a.default)(this,e),console.log(" -- PushPaneLayout created");for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(0,u.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(i)))}return(0,h.default)(e,t),e}(d.default);e.default=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PushPaneLayout=e.Cube=void 0;var r=n(249),o=i(r),s=n(247),a=i(s);e.Cube=o.default,e.PushPaneLayout=a.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Cube=void 0;var r=n(215),o=i(r),s=n(3),a=i(s),l=n(29),u=i(l),c=n(30),h=i(c),f=n(34),d=i(f),p=n(81),_=i(p),v=n(110),m=i(v),g=n(154),y=i(g),b=e.Cube=function(t){function e(t,n){(0,u.default)(this,e);var i=(0,d.default)(this,(e.__proto__||(0,a.default)(e)).call(this,(0,o.default)({absoluteSize:[t,t,t]},n)));return i.size=t,i.sides=[],(0,m.default)(6,function(t){return i._createCubeSide(t)}),i}return(0,_.default)(e,t),(0,h.default)(e,[{key:"_createCubeSide",value:function(t){var e=new y.default({align:[.5,.5],mountPoint:[.5,.5]}),n=new y.default({align:[.5,.5],mountPoint:[.5,.5],absoluteSize:[this.size,this.size]});this.sides.push(n),e.addChild(n),t<4?e.rotation.y=90*t:e.rotation.x=90*(t%2?-1:1),n.position.z=this.size/2,this.addChild(e);
}},{key:"setContent",value:function(t){var e=this;return(0,m.default)(6,function(n){e.sides[n].addChild(t[n])}),this}}]),e}(y.default);e.default=b}])});
//# sourceMappingURL=global.js.map