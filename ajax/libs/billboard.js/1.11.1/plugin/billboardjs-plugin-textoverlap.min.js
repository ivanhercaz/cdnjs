/*!
 * Copyright (c) 2017 ~ present NAVER Corp.
 * billboard.js project is licensed under the MIT license
 * 
 * billboard.js, JavaScript chart library
 * http://naver.github.io/billboard.js/
 * 
 * @version 1.11.1
 * @requires billboard.js
 * @summary billboard.js plugin
 */
!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("d3-selection"),require("d3-voronoi"),require("d3-polygon")):"function"==typeof define&&define.amd?define("textoverlap",["d3-selection","d3-voronoi","d3-polygon"],t):"object"==typeof exports?exports.textoverlap=t(require("d3-selection"),require("d3-voronoi"),require("d3-polygon")):(e.bb=e.bb||{},e.bb.plugin=e.bb.plugin||{},e.bb.plugin.textoverlap=t(e.d3,e.d3,e.d3))}(this,function(r,n,o){return(u={},__webpack_require__.m=i=[function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,"default",function(){return _classCallCheck})},function(e,t,r){"use strict";function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}r.r(t),r.d(t,"default",function(){return _createClass})},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return _possibleConstructorReturn});var n=r(3),o=r(4);function _possibleConstructorReturn(e,t){return!t||"object"!==Object(n.default)(t)&&"function"!=typeof t?Object(o.default)(e):t}},function(e,t,r){"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(e){return typeof e}:function _typeof2(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function _typeof(e){return _typeof2(e)}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}r.r(t),r.d(t,"default",function(){return _typeof})},function(e,t,r){"use strict";function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.r(t),r.d(t,"default",function(){return _assertThisInitialized})},function(e,t,r){"use strict";function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.r(t),r.d(t,"default",function(){return _getPrototypeOf})},,,,,function(e,t){e.exports=r},,,,function(e,t){e.exports=n},function(e,t){e.exports=o},,function(e,t,r){"use strict";function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.r(t);function Ba(){return Object(n.default)(this,Ba),{selector:".bb-texts text",extent:1,area:0}}var n=r(0),o=r(1),i=r(2),u=r(5),a=r(4),c=r(18),f=r(14),y=r(15),d=r(10),l=r(19);r.d(t,"default",function(){return _});var _=function(e){function TextOverlap(e){var t;return Object(n.default)(this,TextOverlap),(t=Object(i.default)(this,Object(u.default)(TextOverlap).call(this,e))).config=new Ba,Object(i.default)(t,Object(a.default)(t))}return Object(c.default)(TextOverlap,e),Object(o.default)(TextOverlap,[{key:"$init",value:function $init(){this.$$.loadConfig.bind(this)(this.options)}},{key:"$redraw",value:function $redraw(){var e=Object(d.selectAll)(this.config.selector);e.empty()||this.preventLabelOverlap(e)}},{key:"generateVoronoi",value:function generateVoronoi(e){var t=this.$$,r=_slicedToArray(["x","y"].map(function(e){return t[e].domain()}),2),n=r[0],o=r[1],i=[o[0],n[1]];return n[1]=i[0],o[0]=i[1],Object(f.voronoi)().extent([n,o]).polygons(e)}},{key:"preventLabelOverlap",value:function preventLabelOverlap(e){var t=this.config,_=t.extent,p=t.area,s=this.generateVoronoi(e.data().map(function(e){return[e.x,e.value]})),b=0;e.each(function(){var e=s[b++];if(e&&this){var t=_slicedToArray(e.data,2),r=t[0],n=t[1],o=_slicedToArray(Object(y.polygonCentroid)(e),2),i=o[0],u=o[1],a=Math.round(Math.atan2(u-n,i-r)/Math.PI*2),c=_*(0===a?1:-1),f=-1===a?-_:_+5,l=1===Math.abs(a)?"middle":0===a?"start":"end";Object(d.select)(this).attr("display",Object(y.polygonArea)(e)<p?"none":null).attr("text-anchor",l).attr("dy","0.".concat(1===a?71:35,"em")).attr("transform","translate(".concat(c,", ").concat(f,")"))}})}}]),TextOverlap}(l.default)},function(e,t,r){"use strict";function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}r.r(t),r.d(t,"default",function(){return _inherits})},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(1);r.d(t,"default",function(){return i});var i=function(){function Plugin(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(n.default)(this,Plugin),this.options=e}return Object(o.default)(Plugin,[{key:"$beforeInit",value:function $beforeInit(){}},{key:"$init",value:function $init(){}},{key:"$afterInit",value:function $afterInit(){}},{key:"$redraw",value:function $redraw(){}},{key:"$willDestroy",value:function $willDestroy(){var t=this;Object.keys(this).forEach(function(e){t[e]=null,delete t[e]})}}]),Plugin}();!function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(i,"version","1.11.1")}],__webpack_require__.c=u,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)__webpack_require__.d(r,n,function(e){return t[e]}.bind(null,n));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=17)).default;function __webpack_require__(e){if(u[e])return u[e].exports;var t=u[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}var i,u});