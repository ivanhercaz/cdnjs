{"version":3,"sources":["tabletop.js"],"names":["inNodeJS","process","browser","axios","require","supportsCORS","inLegacyIE","XMLHttpRequest","withCredentials","window","e","ttIndexOf","array","item","i","l","length","indexOfProto","indexOf","Array","prototype","Tabletop","options","this","key","callback","error","wanted","simpleSheet","parseNumbers","wait","reverse","postProcess","debug","query","orderby","endpoint","singleton","simpleUrl","simple_url","authkey","sheetPrivacy","callbackContext","prettyColumnNames","proxy","replace","parameterize","log","test","match","models","modelNames","model_names","baseJsonPath","fetch","callbacks","init","sheets","self","Promise","resolve","reject","requestData","loadSheets","path","encounteredError","serverSideFetch","protocol","split","shift","location","injectScript","xhrFetch","xhr","XDomainRequest","open","onload","json","JSON","parse","responseText","console","call","addEventListener","send","callbackName","script","document","createElement","loadSheet","Date","Math","floor","random","args","slice","arguments","apply","parentNode","removeChild","url","src","encodeURIComponent","getElementsByTagName","appendChild","get","then","response","data","catch","err","isWanted","sheetName","all","addWanted","sheet","push","ilen","toLoad","googleSheetName","feed","title","$t","foundSheetNames","entry","content","linkIdx","link","sheetId","href","pop","jsonPath","toLowerCase","sheetsToLoad","sheetReady","model","name","doCallback","that","Model","tabletop","onReady","Function","j","jlen","columnNames","column_names","elements","raw","originalColumns","ready","original_columns","source","element","cell","isNaN","undefined","rowNumber","fetchPrettyColumns","cellurl","loadPrettyColumns","beforeReady","prettyColumns","pretty_columns","prettifyElements","prettyElements","orderedPrettyNames","newElement","toArray","row","module","exports","define","amd"],"mappings":"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"}