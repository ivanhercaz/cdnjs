{"version":3,"sources":["tabletop.js"],"names":["inNodeJS","process","browser","request","Error","require","supportsCORS","inLegacyIE","XMLHttpRequest","withCredentials","window","e","ttIndexOf","array","item","i","l","length","indexOfProto","indexOf","Array","prototype","Tabletop","options","this","key","callback","error","wanted","simpleSheet","parseNumbers","wait","reverse","postProcess","debug","query","orderby","endpoint","singleton","simpleUrl","simple_url","authkey","sheetPrivacy","callbackContext","prettyColumnNames","proxy","replace","parameterize","log","test","match","models","modelNames","model_names","baseJsonPath","fetch","callbacks","init","sheets","self","Promise","resolve","reject","requestData","loadSheets","path","encounteredError","serverSideFetch","protocol","split","shift","location","injectScript","xhrFetch","xhr","XDomainRequest","open","onload","json","JSON","parse","responseText","console","call","addEventListener","send","callbackName","script","document","createElement","loadSheet","Date","Math","floor","random","args","slice","arguments","apply","parentNode","removeChild","url","src","encodeURIComponent","getElementsByTagName","appendChild","err","resp","body","isWanted","sheetName","data","all","addWanted","sheet","push","ilen","toLoad","googleSheetName","feed","title","$t","foundSheetNames","entry","content","linkIdx","link","sheetId","href","pop","jsonPath","toLowerCase","sheetsToLoad","sheetReady","model","name","doCallback","that","Model","tabletop","onReady","Function","j","jlen","columnNames","column_names","elements","raw","originalColumns","ready","original_columns","source","element","cell","isNaN","undefined","rowNumber","fetchPrettyColumns","cellurl","loadPrettyColumns","beforeReady","prettyColumns","pretty_columns","prettifyElements","prettyElements","orderedPrettyNames","newElement","toArray","row","module","exports","define","amd"],"mappings":"CAAA,WACE,aAEA,IAAIA,EAA8B,oBAAZC,UAA4BA,QAAQC,QAEtDC,EAAU,WACZ,MAAM,IAAIC,MAAM,kEAEfJ,IACDG,EAAUE,QAAQ,YAGpB,IAAIC,GAAe,EACfC,GAAa,EACjB,SAEyC,KADzB,IAAIC,gBACCC,gBACjBH,GAAe,EAEX,mBAAoBI,SAEtBH,EADAD,GAAe,GAInB,MAAOK,IASO,SAAZC,EAAqBC,EAAOC,GAC9B,IAAIC,EAAI,EAAGC,EAAIH,EAAMI,OAErB,GAAIC,GAAgBL,EAAMM,UAAYD,EACpC,OAAOL,EAAMM,QAAQL,GAGvB,KAAOC,EAAIC,EAAGD,IACZ,GAAIF,EAAME,KAAOD,EACf,OAAOC,EAGX,OAAQ,EAbV,IAAIG,EAAeE,MAAMC,UAAUF,QAwB/BG,EAAW,SAASC,GAEtB,OAAIC,MAAUA,gBAAgBF,GAIP,iBAAd,IACPC,EAAU,CAAEE,IAAMF,IAGpBC,KAAKE,SAAWH,EAAQG,SACxBF,KAAKG,MAAQJ,EAAQI,MACrBH,KAAKI,OAASL,EAAQK,QAAU,GAChCJ,KAAKC,IAAMF,EAAQE,IACnBD,KAAKK,cAAgBN,EAAQM,YAC7BL,KAAKM,eAAiBP,EAAQO,aAC9BN,KAAKO,OAASR,EAAQQ,KACtBP,KAAKQ,UAAYT,EAAQS,QACzBR,KAAKS,YAAcV,EAAQU,YAC3BT,KAAKU,QAAUX,EAAQW,MACvBV,KAAKW,MAAQZ,EAAQY,OAAS,GAC9BX,KAAKY,QAAUb,EAAQa,QACvBZ,KAAKa,SAAWd,EAAQc,UAAY,kCACpCb,KAAKc,YAAcf,EAAQe,UAC3Bd,KAAKe,aAAehB,EAAQgB,YAAahB,EAAQiB,YACjDhB,KAAKiB,QAAUlB,EAAQkB,QACvBjB,KAAKkB,aAAelB,KAAKiB,QAAU,UAAY,SAE/CjB,KAAKmB,gBAAkBpB,EAAQoB,gBAE/BnB,KAAKoB,uBAA0D,IAA/BrB,EAAyB,mBAAqBA,EAAQsB,MAAQtB,EAAQqB,uBAEzE,IAAnBrB,EAAa,QAErBC,KAAKa,SAAWd,EAAQsB,MAAMC,QAAQ,MAAM,IAC5CtB,KAAKe,WAAY,EACjBf,KAAKc,WAAY,EAGjBhC,GAAe,GAGjBkB,KAAKuB,aAAexB,EAAQwB,eAAgB,EAExCvB,KAAKc,iBAC4B,IAAxBhB,EAAkB,WAC3BE,KAAKwB,IAAI,+CAEX1B,EAASgB,UAAYd,MAInB,OAAOyB,KAAKzB,KAAKC,OACnBD,KAAKwB,IAAI,sEACTxB,KAAKC,IAAMD,KAAKC,IAAIyB,MAAM,oBAAoB,IAG5C,UAAUD,KAAKzB,KAAKC,OACtBD,KAAKwB,IAAI,6EACTxB,KAAKC,IAAMD,KAAKC,IAAIyB,MAAM,uBAAuB,IAGhD,kBAAkBD,KAAKzB,KAAKC,OAC7BD,KAAKwB,IAAI,kGACTxB,KAAKC,IAAMD,KAAKC,IAAIyB,MAAM,cAAe,IAGtC1B,KAAKC,KAKVD,KAAKwB,IAAI,yBAA2BxB,KAAKC,KAEzCD,KAAK2B,OAAS,GACd3B,KAAK4B,WAAa,GAClB5B,KAAK6B,YAAc7B,KAAK4B,WAExB5B,KAAK8B,aAAe,qBAAuB9B,KAAKC,IAAM,IAAMD,KAAKkB,aAAc,cAG7ElB,KAAK8B,cADHtD,GAAYM,EACO,OAEA,iBAGnBkB,KAAKO,UAAT,EACSP,KAAK+B,cAnBZ/B,KAAKwB,IAAI,qCAjEF,IAAI1B,EAASC,IAyFxBD,EAASkC,UAAY,GAGrBlC,EAASmC,KAAO,SAASlC,GACvB,OAAO,IAAID,EAASC,IAGtBD,EAASoC,OAAS,WAChBlC,KAAKwB,IAAI,oIAGX1B,EAASD,UAAY,CAEnBkC,MAAO,SAAS7B,GACd,IAAIiC,EAAOnC,KACX,OAAO,IAAIoC,QAAQ,SAASC,EAASC,QACV,IAAf,IACRH,EAAKjC,SAAWA,GAEbiC,EAAKjC,WACRiC,EAAKjC,SAAWmC,GAEbF,EAAKhC,QACRgC,EAAKhC,MAAQmC,GAEfH,EAAKI,YAAYJ,EAAKL,aAAcK,EAAKK,eAS7CD,YAAa,SAASE,EAAMvC,GAG1B,GAFAF,KAAKwB,IAAI,aAAciB,GACvBzC,KAAK0C,kBAAmB,EACpBlE,EACFwB,KAAK2C,gBAAgBF,EAAMvC,OACtB,CAGL,IAAI0C,EAAW5C,KAAKa,SAASgC,MAAM,MAAMC,SAAW,QAChDhE,GAAkBC,GAAc6D,IAAaG,SAASH,SAGxD5C,KAAKgD,aAAaP,EAAMvC,GAFxBF,KAAKiD,SAASR,EAAMvC,KAU1B+C,SAAU,SAASR,EAAMvC,GAEvB,IAAIgD,EAAMnE,EAAa,IAAIoE,eAAmB,IAAInE,eAClDkE,EAAIE,KAAK,MAAOpD,KAAKa,SAAW4B,GAChC,IAAIN,EAAOnC,KACXkD,EAAIG,OAAS,WACX,IAAIC,EACJ,IACEA,EAAOC,KAAKC,MAAMN,EAAIO,cACtB,MAAOtE,GACPuE,QAAQvD,MAAMhB,GAEhBe,EAASyD,KAAKxB,EAAMmB,IAEnBtD,KAAKG,OACN+C,EAAIU,iBAAiB,QAAS5D,KAAKG,OAErC+C,EAAIW,QAUNb,aAAc,SAASP,EAAMvC,GAC3B,IACI4D,EADAC,EAASC,SAASC,cAAc,UAGpC,GAAIjE,KAAKc,UACHZ,IAAaF,KAAKwC,WACpBsB,EAAe,gCACN5D,IAAaF,KAAKkE,YAC3BJ,EAAe,oCAEZ,CACL,IAAI3B,EAAOnC,KACX8D,EAAe,OAAS,IAAIK,KAAWC,KAAKC,MAAoB,IAAdD,KAAKE,UAGvDxE,EAASkC,UAAW8B,GAAiB,WACnC,IAAIS,EAAO3E,MAAMC,UAAU2E,MAAMb,KAAMc,UAAW,GAClDvE,EAASwE,MAAMvC,EAAMoC,GACrBR,EAAOY,WAAWC,YAAYb,UACvBjE,EAASkC,UAAU8B,IAE5BA,EAAe,sBAAwBA,EAGzC,IAAIe,EAAMpC,EAAO,aAAeqB,EAE5B9D,KAAKe,WAGwB,IAA5B0B,EAAK9C,QAAQ,UACdoE,EAAOe,IAAM9E,KAAKa,SAAW,IAAMb,KAAKC,IAAM,IAAMwC,EAAKI,MAAM,KAAK,GAEpEkB,EAAOe,IAAM9E,KAAKa,SAAW,IAAMb,KAAKC,IAG1C8D,EAAOe,IAAM9E,KAAKa,SAAWgE,EAG3B7E,KAAKuB,eACPwC,EAAOe,IAAM9E,KAAKuB,aAAewD,mBAAmBhB,EAAOe,MAG7D9E,KAAKwB,IAAI,YAAauC,EAAOe,KAE7Bd,SAASgB,qBAAqB,UAAU,GAAGL,WAAWM,YAAYlB,IAMpEpB,gBAAiB,SAASF,EAAMvC,GAC9B,IAAIiC,EAAOnC,KAEXA,KAAKwB,IAAI,WAAYxB,KAAKa,SAAW4B,GACrC9D,EAAQ,CAACkG,IAAK7E,KAAKa,SAAW4B,EAAMa,MAAM,GAAO,SAAS4B,EAAKC,EAAMC,GACnE,GAAIF,EACF,OAAOxB,QAAQvD,MAAM+E,GAEvBhF,EAASyD,KAAKxB,EAAMiD,MASxBC,SAAU,SAASC,GACjB,OAA2B,IAAvBtF,KAAKI,OAAOX,SAGiC,IAAvCL,EAAUY,KAAKI,OAAQkF,IASnCC,KAAM,WAGJ,GAA+B,IAA3BvF,KAAK4B,WAAWnC,OAGpB,OAAIO,KAAKK,aACsB,EAAzBL,KAAK4B,WAAWnC,QAAcO,KAAKU,OACrCV,KAAKwB,IAAI,mHAEJxB,KAAK2B,OAAO3B,KAAK4B,WAAW,IAAI4D,OAEhCxF,KAAK2B,QAOhB8D,UAAW,SAASC,IACoB,IAAnCtG,EAAUY,KAAKI,OAAQsF,IACxB1F,KAAKI,OAAOuF,KAAKD,IAYrBlD,WAAY,SAAS+C,GACnB,IAAIhG,EAAGqG,EACHC,EAAS,GACb,IACE7F,KAAK8F,gBAAkBP,EAAKQ,KAAKC,MAAMC,GACvC,MAAMf,GAEN,YADAlF,KAAKG,MAAM+E,GAKb,IAFAlF,KAAKkG,gBAAkB,GAElB3G,EAAI,EAAGqG,EAAOL,EAAKQ,KAAKI,MAAM1G,OAAQF,EAAIqG,EAAOrG,IAGpD,GAFAS,KAAKkG,gBAAgBP,KAAKJ,EAAKQ,KAAKI,MAAM5G,GAAGyG,MAAMC,IAE/CjG,KAAKqF,SAASE,EAAKQ,KAAKI,MAAM5G,GAAG6G,QAAQH,IAAK,CAChD,IAAII,EAAUd,EAAKQ,KAAKI,MAAM5G,GAAG+G,KAAK7G,OAAO,EACzC8G,EAAUhB,EAAKQ,KAAKI,MAAM5G,GAAG+G,KAAKD,GAASG,KAAK3D,MAAM,KAAK4D,MAC3DC,EAAW,eAAiB1G,KAAKC,IAAM,IAAMsG,EAAU,IAAMvG,KAAKkB,aAAe,eAEnFwF,GADElI,GAAYM,EACF,OAEA,iBAEVkB,KAAKW,QAEP+F,GAAY,OAAS1G,KAAKW,OAExBX,KAAKY,UACP8F,GAAY,mBAAqB1G,KAAKY,QAAQ+F,eAE5C3G,KAAKQ,UACPkG,GAAY,iBAEdb,EAAOF,KAAKe,GAKhB,IADA1G,KAAK4G,aAAef,EAAOpG,OACvBF,EAAI,EAAGqG,EAAOC,EAAOpG,OAAQF,EAAIqG,EAAMrG,IACzCS,KAAKuC,YAAYsD,EAAOtG,GAAIS,KAAKkE,YASrChC,OAAQ,SAASoD,GACf,YAAyB,IAAdA,EACFtF,KAAK2B,YAE2B,IAA5B3B,KAAK2B,OAAO2D,QAErB,EAEOtF,KAAK2B,OAAO2D,IAKzBuB,WAAY,SAASC,GACnB9G,KAAK2B,OAAOmF,EAAMC,MAAQD,GACsB,IAA5C1H,EAAUY,KAAK4B,WAAYkF,EAAMC,OACnC/G,KAAK4B,WAAW+D,KAAKmB,EAAMC,MAG7B/G,KAAK4G,eACqB,IAAtB5G,KAAK4G,cACP5G,KAAKgH,cAST9C,UAAW,SAASqB,GAClB,IAAI0B,EAAOjH,KACX,IAAIF,EAASoH,MAAM,CACjB3B,KAAMA,EACNjF,aAAcN,KAAKM,aACnBG,YAAaT,KAAKS,YAClB0G,SAAUnH,KACVoB,kBAAmBpB,KAAKoB,kBACxBgG,QAAS,WACPH,EAAKJ,WAAW7G,UAUtBgH,WAAY,WACe,IAAtBhH,KAAK4G,cACN5G,KAAKE,SAASwE,MAAM1E,KAAKmB,iBAAmBnB,KAAM,CAACA,KAAKuF,OAAQvF,QAIpEwB,IAAK,WACAxB,KAAKU,OACgB,oBAAZgD,cAAkD,IAAhBA,QAAQlC,KAClD6F,SAASxH,UAAU6E,MAAMA,MAAMhB,QAAQlC,IAAK,CAACkC,QAASe,cAa9D3E,EAASoH,MAAQ,SAASnH,GACxB,IAAIR,EAAG+H,EAAG1B,EAAM2B,EAShB,GARAvH,KAAKwH,YAAc,GACnBxH,KAAKyH,aAAezH,KAAKwH,YACzBxH,KAAK+G,KAAOhH,EAAQwF,KAAKQ,KAAKC,MAAMC,GACpCjG,KAAKmH,SAAWpH,EAAQoH,SACxBnH,KAAK0H,SAAW,GAChB1H,KAAKoH,QAAUrH,EAAQqH,QACvBpH,KAAK2H,IAAM5H,EAAQwF,UAEqB,IAA7BxF,EAAQwF,KAAKQ,KAAU,MAKhC,OAJAhG,EAAQoH,SAAS3F,IAAI,oBAAsBxB,KAAK+G,KAAO,gDACvD/G,KAAK4H,gBAAkB,GACvB5H,KAAK0H,SAAW,QAChB1H,KAAK6H,QAIP,IAAK,IAAI5H,KAAOF,EAAQwF,KAAKQ,KAAKI,MAAM,GAClC,OAAO1E,KAAKxB,IACdD,KAAKwH,YAAY7B,KAAK1F,EAAIqB,QAAQ,OAAO,KAO7C,IAHAtB,KAAK4H,gBAAkB5H,KAAKwH,YAC5BxH,KAAK8H,iBAAmB9H,KAAK4H,gBAExBrI,EAAI,EAAGqG,EAAQ7F,EAAQwF,KAAKQ,KAAKI,MAAM1G,OAASF,EAAIqG,EAAMrG,IAAK,CAClE,IAAIwI,EAAShI,EAAQwF,KAAKQ,KAAKI,MAAM5G,GACjCyI,EAAU,GACd,IAAKV,EAAI,EAAGC,EAAOvH,KAAKwH,YAAY/H,OAAQ6H,EAAIC,EAAOD,IAAK,CAC1D,IAAIW,EAAOF,EAAO,OAAS/H,KAAKwH,YAAYF,SACvB,IAAX,EACJvH,EAAQO,cAA4B,KAAZ2H,EAAKhC,KAAciC,MAAMD,EAAKhC,IACxD+B,EAAQhI,KAAKwH,YAAYF,KAAOW,EAAKhC,GAErC+B,EAAQhI,KAAKwH,YAAYF,IAAMW,EAAKhC,GAGtC+B,EAAQhI,KAAKwH,YAAYF,IAAM,QAGTa,IAAtBH,EAAQI,YACVJ,EAAQI,UAAY7I,EAAI,GAG1BS,KAAK0H,SAAS/B,KAAKqC,GAGjBjI,EAAQqB,kBACVpB,KAAKqI,qBAELrI,KAAK6H,SAIT/H,EAASoH,MAAMrH,UAAY,CAIzB2F,IAAK,WACH,OAAOxF,KAAK0H,UAGdW,mBAAoB,WAClB,IAAKrI,KAAK2H,IAAI5B,KAAKO,KAAK,GACtB,OAAOtG,KAAK6H,QAGd,IAAIS,EAAUtI,KAAK2H,IAAI5B,KAAKO,KAAK,GAAGE,KAAKlF,QAAQ,eAAgB,iBAAiBA,QAAQ,kCAAmC,IACzH2F,EAAOjH,KACXA,KAAKmH,SAAS5E,YAAY+F,EAAS,SAAS/C,GAC1C0B,EAAKsB,kBAAkBhD,MAI3BiD,YAAa,WACX,GAAGxI,KAAKS,YACN,IAAKlB,EAAI,EAAGqG,KAAO5F,KAAK0H,SAASjI,OAAQF,EAAIqG,KAAMrG,IACjDS,KAAKS,YAAYuH,UAKvBH,MAAO,WACL7H,KAAKwI,cACLxI,KAAKoH,QAAQzD,KAAK3D,OAQpBuI,kBAAmB,SAAShD,GAQ1B,IAPA,IAAIkD,EAAgB,GAEhBjB,EAAcxH,KAAKwH,YAEnBjI,EAAI,EACJC,EAAIgI,EAAY/H,OAEbF,EAAIC,EAAGD,SACiC,IAAlCgG,EAAKQ,KAAKI,MAAM5G,GAAG6G,QAAQH,GACpCwC,EAAcjB,EAAYjI,IAAMgG,EAAKQ,KAAKI,MAAM5G,GAAG6G,QAAQH,GAE3DwC,EAAcjB,EAAYjI,IAAMiI,EAAYjI,GAIhDS,KAAKyI,cAAgBA,EACrBzI,KAAK0I,eAAiB1I,KAAKyI,cAC3BzI,KAAK2I,mBACL3I,KAAK6H,SAQPc,iBAAkB,WAChB,IAEIpJ,EAAG+H,EAAG1B,EAAM2B,EAFZqB,EAAiB,GACjBC,EAAqB,GAGzB,IAAKvB,EAAI,EAAGC,EAAOvH,KAAKwH,YAAY/H,OAAQ6H,EAAIC,EAAOD,IACrDuB,EAAmBlD,KAAK3F,KAAKyI,cAAczI,KAAKwH,YAAYF,KAG9D,IAAK/H,EAAI,EAAGqG,EAAO5F,KAAK0H,SAASjI,OAAQF,EAAIqG,EAAMrG,IAAK,CACtD,IAAIuJ,EAAa,GACjB,IAAKxB,EAAI,EAAGC,EAAOvH,KAAKwH,YAAY/H,OAAQ6H,EAAIC,EAAOD,IAAK,CAE1DwB,EADoB9I,KAAKyI,cAAczI,KAAKwH,YAAYF,KAC5BtH,KAAK0H,SAASnI,GAAGS,KAAKwH,YAAYF,IAEhEsB,EAAejD,KAAKmD,GAEtB9I,KAAK0H,SAAWkB,EAChB5I,KAAKwH,YAAcqB,GAMrBE,QAAS,WACP,IACIxJ,EAAG+H,EAAG1B,EAAM2B,EADZlI,EAAQ,GAEZ,IAAKE,EAAI,EAAGqG,EAAO5F,KAAK0H,SAASjI,OAAQF,EAAIqG,EAAMrG,IAAK,CACtD,IAAIyJ,EAAM,GACV,IAAK1B,EAAI,EAAGC,EAAOvH,KAAKwH,YAAY/H,OAAQ6H,EAAIC,EAAOD,IACrD0B,EAAIrD,KAAK3F,KAAK0H,SAASnI,GAAIS,KAAKwH,YAAYF,KAE9CjI,EAAMsG,KAAKqD,GAGb,OAAO3J,IAIU,oBAAX4J,QAA0BA,OAAOC,QACzCD,OAAOC,QAAUpJ,EACU,mBAAXqJ,QAAyBA,OAAOC,IAChDD,OAAO,WACL,OAAOrJ,IAGTZ,OAAOY,SAAWA,EApnBtB"}