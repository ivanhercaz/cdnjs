"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_utils=require("@material-ui/utils"),_formControlState=_interopRequireDefault(require("../FormControl/formControlState")),_FormControlContext=_interopRequireWildcard(require("../FormControl/FormControlContext")),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_capitalize=_interopRequireDefault(require("../utils/capitalize")),_useForkRef=_interopRequireDefault(require("../utils/useForkRef")),_TextareaAutosize=_interopRequireDefault(require("../TextareaAutosize")),_utils2=require("./utils"),styles=function(e){var t="light"===e.palette.type,r={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},o={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{from:{}},"@keyframes mui-auto-fill-cancel":{from:{}}},root:(0,_extends2.default)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1875em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1875em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}};exports.styles=styles;var useEnhancedEffect="undefined"==typeof window?_react.default.useEffect:_react.default.useLayoutEffect,InputBase=_react.default.forwardRef(function(e,t){var r=e["aria-describedby"],o=e.autoComplete,a=e.autoFocus,n=e.classes,l=e.className,u=(e.color,e.defaultValue),i=e.disabled,p=e.endAdornment,d=(e.error,e.fullWidth),s=void 0!==d&&d,f=e.id,c=e.inputComponent,m=void 0===c?"input":c,y=e.inputProps,_=void 0===y?{}:y,b=e.inputRef,h=(e.margin,e.multiline),T=void 0!==h&&h,g=e.name,x=e.onBlur,C=e.onChange,v=e.onClick,w=e.onFocus,q=e.onKeyDown,R=e.onKeyUp,E=e.placeholder,F=e.readOnly,D=e.renderSuffix,k=e.rows,S=e.rowsMax,M=e.rowsMin,A=e.startAdornment,N=e.type,z=void 0===N?"text":N,B=e.value,O=(0,_objectWithoutProperties2.default)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),W=null!=_.value?_.value:B,I=_react.default.useRef(null!=W).current,P=_react.default.useRef(),K=_react.default.useCallback(function(e){"production"!==process.env.NODE_ENV&&(!e||e instanceof HTMLInputElement||e.focus||console.error(["Material-UI: you have provided a `inputComponent` to the input component","that does not correctly handle the `inputRef` prop.","Make sure the `inputRef` prop is called with a HTMLInputElement."].join("\n")))},[]),j=(0,_useForkRef.default)(_.ref,K),L=(0,_useForkRef.default)(b,j),V=(0,_useForkRef.default)(P,L),H=_react.default.useState(!1),U=H[0],$=H[1],G=(0,_FormControlContext.useFormControl)();"production"!==process.env.NODE_ENV&&_react.default.useEffect(function(){if(G)return G.registerEffect()},[G]);var J=(0,_formControlState.default)({props:e,muiFormControl:G,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});J.focused=G?G.focused:U,_react.default.useEffect(function(){!G&&i&&U&&($(!1),x&&x())},[G,i,U,x]);var Q=G&&G.onFilled,X=G&&G.onEmpty,Y=_react.default.useCallback(function(e){(0,_utils2.isFilled)(e)?Q&&Q():X&&X()},[Q,X]);useEnhancedEffect(function(){I&&Y({value:W})},[W,Y,I]);_react.default.useEffect(function(){Y(P.current)},[]);var Z=m,ee=(0,_extends2.default)({},_,{ref:V});"string"!=typeof Z?ee=(0,_extends2.default)({inputRef:V,type:z},ee,{ref:null}):T?Z=!k||S||M?(ee=(0,_extends2.default)({rows:k,rowsMax:S},ee),_TextareaAutosize.default):"textarea":ee=(0,_extends2.default)({type:z},ee);return _react.default.useEffect(function(){G&&G.setAdornedStart(Boolean(A))},[G,A]),_react.default.createElement("div",(0,_extends2.default)({className:(0,_clsx.default)(n.root,n["color".concat((0,_capitalize.default)(J.color||"primary"))],l,J.disabled&&n.disabled,J.error&&n.error,s&&n.fullWidth,J.focused&&n.focused,G&&n.formControl,T&&n.multiline,A&&n.adornedStart,p&&n.adornedEnd,{dense:n.marginDense}[J.margin]),onClick:function(e){P.current&&e.currentTarget===e.target&&P.current.focus(),v&&v(e)},ref:t},O),A,_react.default.createElement(_FormControlContext.default.Provider,{value:null},_react.default.createElement(Z,(0,_extends2.default)({"aria-invalid":J.error,"aria-describedby":r,autoComplete:o,autoFocus:a,defaultValue:u,disabled:J.disabled,id:f,onAnimationStart:function(e){Y("mui-auto-fill-cancel"===e.animationName?P.current:{value:"x"})},name:g,placeholder:E,readOnly:F,required:J.required,rows:k,value:W,onKeyDown:q,onKeyUp:R},ee,{className:(0,_clsx.default)(n.input,_.className,J.disabled&&n.disabled,T&&n.inputMultiline,J.hiddenLabel&&n.inputHiddenLabel,A&&n.inputAdornedStart,p&&n.inputAdornedEnd,{search:n.inputTypeSearch}[z],{dense:n.inputMarginDense}[J.margin]),onBlur:function(e){x&&x(e),_.onBlur&&_.onBlur(e),G&&G.onBlur?G.onBlur(e):$(!1)},onChange:function(e){if(!I){var t=e.target||P.current;if(null==t)throw new TypeError("Material-UI: Expected valid input target. Did you use a custom `inputComponent` and forget to forward refs? See https://material-ui.com/r/input-component-ref-interface for more info.");Y({value:t.value})}for(var r=arguments.length,o=new Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];_.onChange&&_.onChange.apply(_,[e].concat(o)),C&&C.apply(void 0,[e].concat(o))},onFocus:function(e){J.disabled?e.stopPropagation():(w&&w(e),_.onFocus&&_.onFocus(e),G&&G.onFocus?G.onFocus(e):$(!0))}}))),p,D?D((0,_extends2.default)({},J,{startAdornment:A})):null)});"production"!==process.env.NODE_ENV&&(InputBase.propTypes={"aria-describedby":_propTypes.default.string,autoComplete:_propTypes.default.string,autoFocus:_propTypes.default.bool,classes:_propTypes.default.object.isRequired,className:_propTypes.default.string,color:_propTypes.default.oneOf(["primary","secondary"]),defaultValue:_propTypes.default.any,disabled:_propTypes.default.bool,endAdornment:_propTypes.default.node,error:_propTypes.default.bool,fullWidth:_propTypes.default.bool,id:_propTypes.default.string,inputComponent:_propTypes.default.elementType,inputProps:_propTypes.default.object,inputRef:_utils.refType,margin:_propTypes.default.oneOf(["dense","none"]),multiline:_propTypes.default.bool,name:_propTypes.default.string,onBlur:_propTypes.default.func,onChange:_propTypes.default.func,onClick:_propTypes.default.func,onFocus:_propTypes.default.func,onKeyDown:_propTypes.default.func,onKeyUp:_propTypes.default.func,placeholder:_propTypes.default.string,readOnly:_propTypes.default.bool,renderSuffix:_propTypes.default.func,required:_propTypes.default.bool,rows:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]),rowsMax:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]),rowsMin:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]),startAdornment:_propTypes.default.node,type:_propTypes.default.string,value:_propTypes.default.any});var _default=(0,_withStyles.default)(styles,{name:"MuiInputBase"})(InputBase);exports.default=_default;