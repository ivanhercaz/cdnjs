"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_utils=require("../InputBase/utils"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_capitalize=_interopRequireDefault(require("../utils/capitalize")),_isMuiElement=_interopRequireDefault(require("../utils/isMuiElement")),_FormControlContext=_interopRequireDefault(require("./FormControlContext")),styles={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,zIndex:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};exports.styles=styles;var FormControl=_react.default.forwardRef(function(e,t){var r,o=e.children,i=e.classes,l=e.className,a=e.color,n=void 0===a?"primary":a,u=e.component,s=void 0===u?"div":u,d=e.disabled,p=void 0!==d&&d,f=e.error,c=void 0!==f&&f,_=e.fullWidth,m=void 0!==_&&_,v=e.hiddenLabel,y=void 0!==v&&v,h=e.margin,b=void 0===h?"none":h,q=e.required,T=void 0!==q&&q,g=e.size,x=e.variant,C=void 0===x?"standard":x,D=(0,_objectWithoutProperties2.default)(e,["children","classes","className","color","component","disabled","error","fullWidth","hiddenLabel","margin","required","size","variant"]),E=_react.default.useState(function(){var r=!1;return o&&_react.default.Children.forEach(o,function(e){if((0,_isMuiElement.default)(e,["Input","Select"])){var t=(0,_isMuiElement.default)(e,["Select"])?e.props.input:e;t&&(0,_utils.isAdornedStart)(t.props)&&(r=!0)}}),r}),R=E[0],S=E[1],F=_react.default.useState(function(){var t=!1;return o&&_react.default.Children.forEach(o,function(e){(0,_isMuiElement.default)(e,["Input","Select"])&&(0,_utils.isFilled)(e.props,!0)&&(t=!0)}),t}),W=F[0],N=F[1],I=_react.default.useState(!1),M=I[0],O=I[1];if(p&&M&&O(!1),"production"!==process.env.NODE_ENV){var z=_react.default.useRef(!1);r=function(){return z.current&&console.error(["Material-UI: there are multiple InputBase components inside a FormControl.","This is not supported. It might cause infinite rendering loops.","Only use one InputBase."].join("\n")),z.current=!0,function(){z.current=!1}}}var j=_react.default.useCallback(function(){N(!0)},[]),B={adornedStart:R,setAdornedStart:S,color:n,disabled:p,error:c,filled:W,focused:M,fullWidth:m,hiddenLabel:y,margin:("small"===g?"dense":void 0)||b,onBlur:function(){O(!1)},onEmpty:_react.default.useCallback(function(){N(!1)},[]),onFilled:j,onFocus:function(){O(!0)},registerEffect:r,required:T,variant:C};return _react.default.createElement(_FormControlContext.default.Provider,{value:B},_react.default.createElement(s,(0,_extends2.default)({className:(0,_clsx.default)(i.root,l,"none"!==b&&i["margin".concat((0,_capitalize.default)(b))],m&&i.fullWidth),ref:t},D),o))});"production"!==process.env.NODE_ENV&&(FormControl.propTypes={children:_propTypes.default.node,classes:_propTypes.default.object.isRequired,className:_propTypes.default.string,color:_propTypes.default.oneOf(["primary","secondary"]),component:_propTypes.default.elementType,disabled:_propTypes.default.bool,error:_propTypes.default.bool,fullWidth:_propTypes.default.bool,hiddenLabel:_propTypes.default.bool,margin:_propTypes.default.oneOf(["none","dense","normal"]),required:_propTypes.default.bool,size:_propTypes.default.oneOf(["small","medium"]),variant:_propTypes.default.oneOf(["standard","outlined","filled"])});var _default=(0,_withStyles.default)(styles,{name:"MuiFormControl"})(FormControl);exports.default=_default;