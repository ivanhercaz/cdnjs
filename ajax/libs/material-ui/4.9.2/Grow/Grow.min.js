"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_reactTransitionGroup=require("react-transition-group"),_useTheme=_interopRequireDefault(require("../styles/useTheme")),_utils=require("../transitions/utils"),_useForkRef=_interopRequireDefault(require("../utils/useForkRef"));function getScale(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},Grow=_react.default.forwardRef(function(e,t){var r=e.children,o=e.in,u=e.onEnter,n=e.onExit,a=e.style,i=e.timeout,s=void 0===i?"auto":i,l=(0,_objectWithoutProperties2.default)(e,["children","in","onEnter","onExit","style","timeout"]),p=_react.default.useRef(),f=_react.default.useRef(),d=(0,_useForkRef.default)(r.ref,t),c=(0,_useTheme.default)();return _react.default.useEffect(function(){return function(){clearTimeout(p.current)}},[]),_react.default.createElement(_reactTransitionGroup.Transition,(0,_extends2.default)({appear:!0,in:o,onEnter:function(e,t){(0,_utils.reflow)(e);var r,o=(0,_utils.getTransitionProps)({style:a,timeout:s},{mode:"enter"}),i=o.duration,n=o.delay;"auto"===s?(r=c.transitions.getAutoHeightDuration(e.clientHeight),f.current=r):r=i,e.style.transition=[c.transitions.create("opacity",{duration:r,delay:n}),c.transitions.create("transform",{duration:.666*r,delay:n})].join(","),u&&u(e,t)},onExit:function(e){var t,r=(0,_utils.getTransitionProps)({style:a,timeout:s},{mode:"exit"}),o=r.duration,i=r.delay;"auto"===s?(t=c.transitions.getAutoHeightDuration(e.clientHeight),f.current=t):t=o,e.style.transition=[c.transitions.create("opacity",{duration:t,delay:i}),c.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=getScale(.75),n&&n(e)},addEndListener:function(e,t){"auto"===s&&(p.current=setTimeout(t,f.current||0))},timeout:"auto"===s?null:s},l),function(e,t){return _react.default.cloneElement(r,(0,_extends2.default)({style:(0,_extends2.default)({opacity:0,transform:getScale(.75),visibility:"exited"!==e||o?void 0:"hidden"},styles[e],{},a,{},r.props.style),ref:d},t))})});"production"!==process.env.NODE_ENV&&(Grow.propTypes={children:_propTypes.default.element,in:_propTypes.default.bool,onEnter:_propTypes.default.func,onExit:_propTypes.default.func,style:_propTypes.default.object,timeout:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.shape({enter:_propTypes.default.number,exit:_propTypes.default.number}),_propTypes.default.oneOf(["auto"])])}),Grow.muiSupportAuto=!0;var _default=Grow;exports.default=_default;