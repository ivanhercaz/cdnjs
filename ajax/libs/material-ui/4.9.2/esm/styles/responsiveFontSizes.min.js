import _extends from"@babel/runtime/helpers/esm/extends";import convertLength from"convert-css-length";import{responsiveProperty,alignProperty,fontGrid}from"./cssUtils";function isUnitless(e){return String(parseFloat(e)).length===String(e).length}export default function responsiveFontSizes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.breakpoints,i=void 0===n?["sm","md","lg"]:n,r=t.disableAlign,o=void 0!==r&&r,s=t.factor,l=void 0===s?2:s,a=t.variants,p=void 0===a?["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]:a,h=_extends({},e);h.typography=_extends({},h.typography);var g=h.typography,d=convertLength(g.htmlFontSize),m=i.map(function(e){return h.breakpoints.values[e]});return p.forEach(function(e){var t=g[e],n=parseFloat(d(t.fontSize,"rem"));if(!(n<=1)){var i=n,r=1+(i-1)/l,s=t.lineHeight;if(!isUnitless(s)&&!o)throw new Error(["Material-UI: unsupported non-unitless line height with grid alignment.","Use unitless line heights instead."].join("\n"));isUnitless(s)||(s=parseFloat(d(s,"rem"))/parseFloat(n));var a=null;o||(a=function(e){return alignProperty({size:e,grid:fontGrid({pixels:4,lineHeight:s,htmlFontSize:g.htmlFontSize})})}),g[e]=_extends({},t,{},responsiveProperty({cssProperty:"fontSize",min:r,max:i,unit:"rem",breakpoints:m,transform:a}))}}),h};