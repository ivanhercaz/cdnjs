import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{isFilled,isAdornedStart}from"../InputBase/utils";import withStyles from"../styles/withStyles";import capitalize from"../utils/capitalize";import isMuiElement from"../utils/isMuiElement";import FormControlContext from"./FormControlContext";export var styles={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,zIndex:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};var FormControl=React.forwardRef(function(e,o){var r,t=e.children,i=e.classes,n=e.className,l=e.color,s=void 0===l?"primary":l,a=e.component,p=void 0===a?"div":a,d=e.disabled,c=void 0!==d&&d,m=e.error,u=void 0!==m&&m,f=e.fullWidth,h=void 0!==f&&f,v=e.hiddenLabel,y=void 0!==v&&v,b=e.margin,T=void 0===b?"none":b,g=e.required,P=void 0!==g&&g,C=e.size,E=e.variant,R=void 0===E?"standard":E,x=_objectWithoutProperties(e,["children","classes","className","color","component","disabled","error","fullWidth","hiddenLabel","margin","required","size","variant"]),S=React.useState(function(){var e=!1;return t&&React.Children.forEach(t,function(o){if(isMuiElement(o,["Input","Select"])){var r=isMuiElement(o,["Select"])?o.props.input:o;r&&isAdornedStart(r.props)&&(e=!0)}}),e}),F=S[0],W=S[1],N=React.useState(function(){var e=!1;return t&&React.Children.forEach(t,function(o){isMuiElement(o,["Input","Select"])&&isFilled(o.props,!0)&&(e=!0)}),e}),I=N[0],z=N[1],M=React.useState(!1),O=M[0],B=M[1];if(c&&O&&B(!1),"production"!==process.env.NODE_ENV){var _=React.useRef(!1);r=function(){return _.current&&console.error(["Material-UI: there are multiple InputBase components inside a FormControl.","This is not supported. It might cause infinite rendering loops.","Only use one InputBase."].join("\n")),_.current=!0,function(){_.current=!1}}}var j=React.useCallback(function(){z(!0)},[]),q={adornedStart:F,setAdornedStart:W,color:s,disabled:c,error:u,filled:I,focused:O,fullWidth:h,hiddenLabel:y,margin:("small"===C?"dense":void 0)||T,onBlur:function(){B(!1)},onEmpty:React.useCallback(function(){z(!1)},[]),onFilled:j,onFocus:function(){B(!0)},registerEffect:r,required:P,variant:R};return React.createElement(FormControlContext.Provider,{value:q},React.createElement(p,_extends({className:clsx(i.root,n,"none"!==T&&i["margin".concat(capitalize(T))],h&&i.fullWidth),ref:o},x),t))});"production"!==process.env.NODE_ENV&&(FormControl.propTypes={children:PropTypes.node,classes:PropTypes.object.isRequired,className:PropTypes.string,color:PropTypes.oneOf(["primary","secondary"]),component:PropTypes.elementType,disabled:PropTypes.bool,error:PropTypes.bool,fullWidth:PropTypes.bool,hiddenLabel:PropTypes.bool,margin:PropTypes.oneOf(["none","dense","normal"]),required:PropTypes.bool,size:PropTypes.oneOf(["small","medium"]),variant:PropTypes.oneOf(["standard","outlined","filled"])});export default withStyles(styles,{name:"MuiFormControl"})(FormControl);