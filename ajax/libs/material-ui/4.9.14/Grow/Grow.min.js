"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_reactTransitionGroup=require("react-transition-group"),_useTheme=_interopRequireDefault(require("../styles/useTheme")),_utils=require("../transitions/utils"),_useForkRef=_interopRequireDefault(require("../utils/useForkRef"));function getScale(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},Grow=React.forwardRef(function(e,t){function r(u){return function(e,t){var r,n,o,i;u&&(r=g?[q.current,e]:[e,t],o=(n=(0,_slicedToArray2.default)(r,2))[0],void 0===(i=n[1])?u(o):u(o,i))}}var n=e.children,o=e.disableStrictModeCompat,i=void 0!==o&&o,u=e.in,a=e.onEnter,s=e.onEntered,p=e.onEntering,l=e.onExit,d=e.onExited,c=e.onExiting,f=e.style,_=e.timeout,y=void 0===_?"auto":_,m=e.TransitionComponent,T=void 0===m?_reactTransitionGroup.Transition:m,E=(0,_objectWithoutProperties2.default)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),R=React.useRef(),b=React.useRef(),x=(0,_useTheme.default)(),g=x.unstable_strictMode&&!i,q=React.useRef(null),h=(0,_useForkRef.default)(n.ref,t),v=(0,_useForkRef.default)(g?q:void 0,h),D=r(p),w=r(function(e,t){(0,_utils.reflow)(e);var r,n=(0,_utils.getTransitionProps)({style:f,timeout:y},{mode:"enter"}),o=n.duration,i=n.delay;"auto"===y?(r=x.transitions.getAutoHeightDuration(e.clientHeight),b.current=r):r=o,e.style.transition=[x.transitions.create("opacity",{duration:r,delay:i}),x.transitions.create("transform",{duration:.666*r,delay:i})].join(","),a&&a(e,t)}),S=r(s),j=r(c),G=r(function(e){var t,r=(0,_utils.getTransitionProps)({style:f,timeout:y},{mode:"exit"}),n=r.duration,o=r.delay;"auto"===y?(t=x.transitions.getAutoHeightDuration(e.clientHeight),b.current=t):t=n,e.style.transition=[x.transitions.create("opacity",{duration:t,delay:o}),x.transitions.create("transform",{duration:.666*t,delay:o||.333*t})].join(","),e.style.opacity="0",e.style.transform=getScale(.75),l&&l(e)}),A=r(d);return React.useEffect(function(){return function(){clearTimeout(R.current)}},[]),React.createElement(T,(0,_extends2.default)({appear:!0,in:u,nodeRef:g?q:void 0,onEnter:w,onEntered:S,onEntering:D,onExit:G,onExited:A,onExiting:j,addEndListener:function(e,t){var r=g?e:t;"auto"===y&&(R.current=setTimeout(r,b.current||0))},timeout:"auto"===y?null:y},E),function(e,t){return React.cloneElement(n,(0,_extends2.default)({style:(0,_extends2.default)((0,_extends2.default)((0,_extends2.default)({opacity:0,transform:getScale(.75),visibility:"exited"!==e||u?void 0:"hidden"},styles[e]),f),n.props.style),ref:v},t))})});"production"!==process.env.NODE_ENV&&(Grow.propTypes={children:_propTypes.default.element,disableStrictModeCompat:_propTypes.default.bool,in:_propTypes.default.bool,onEnter:_propTypes.default.func,onEntered:_propTypes.default.func,onEntering:_propTypes.default.func,onExit:_propTypes.default.func,onExited:_propTypes.default.func,onExiting:_propTypes.default.func,style:_propTypes.default.object,timeout:_propTypes.default.oneOfType([_propTypes.default.oneOf(["auto"]),_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})])}),Grow.muiSupportAuto=!0;var _default=Grow;exports.default=Grow;