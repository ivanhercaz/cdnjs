"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_clsx=_interopRequireDefault(require("clsx")),_propTypes=_interopRequireDefault(require("prop-types")),_reactTransitionGroup=require("react-transition-group"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_transitions=require("../styles/transitions"),_utils=require("../transitions/utils"),_useTheme=_interopRequireDefault(require("../styles/useTheme")),_utils2=require("../utils"),styles=function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}};exports.styles=styles;var Collapse=React.forwardRef(function(e,t){var r=e.children,n=e.classes,i=e.className,o=e.collapsedHeight,s=void 0===o?"0px":o,u=e.component,a=void 0===u?"div":u,l=e.disableStrictModeCompat,p=void 0!==l&&l,c=e.in,d=e.onEnter,f=e.onEntered,y=e.onEntering,_=e.onExit,m=e.onExited,h=e.onExiting,T=e.style,g=e.timeout,x=void 0===g?_transitions.duration.standard:g,E=e.TransitionComponent,b=void 0===E?_reactTransitionGroup.Transition:E,R=(0,_objectWithoutProperties2.default)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),v=(0,_useTheme.default)(),q=React.useRef(),D=React.useRef(null),w=React.useRef(),C="number"==typeof s?"".concat(s,"px"):s;React.useEffect(function(){return function(){clearTimeout(q.current)}},[]);function H(s){return function(e,t){var r,n,i,o;s&&(r=N?[S.current,e]:[e,t],i=(n=(0,_slicedToArray2.default)(r,2))[0],o=n[1],s(i,o))}}var N=v.unstable_strictMode&&!p,S=React.useRef(null),j=(0,_utils2.useForkRef)(t,N?S:void 0),A=H(function(e,t){e.style.height=C,d&&d(e,t)}),M=H(function(e,t){var r,n=D.current?D.current.clientHeight:0,i=(0,_utils.getTransitionProps)({style:T,timeout:x},{mode:"enter"}).duration;"auto"===x?(r=v.transitions.getAutoHeightDuration(n),e.style.transitionDuration="".concat(r,"ms"),w.current=r):e.style.transitionDuration="string"==typeof i?i:"".concat(i,"ms"),e.style.height="".concat(n,"px"),y&&y(e,t)}),P=H(function(e,t){e.style.height="auto",f&&f(e,t)}),W=H(function(e){var t=D.current?D.current.clientHeight:0;e.style.height="".concat(t,"px"),_&&_(e)}),O=H(m),G=H(function(e){var t,r=D.current?D.current.clientHeight:0,n=(0,_utils.getTransitionProps)({style:T,timeout:x},{mode:"exit"}).duration;"auto"===x?(t=v.transitions.getAutoHeightDuration(r),e.style.transitionDuration="".concat(t,"ms"),w.current=t):e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms"),e.style.height=C,h&&h(e)});return React.createElement(b,(0,_extends2.default)({in:c,onEnter:A,onEntered:P,onEntering:M,onExit:W,onExited:O,onExiting:G,addEndListener:function(e,t){var r=N?e:t;"auto"===x&&(q.current=setTimeout(r,w.current||0))},nodeRef:N?S:void 0,timeout:"auto"===x?null:x},R),function(e,t){return React.createElement(a,(0,_extends2.default)({className:(0,_clsx.default)(n.container,i,{entered:n.entered,exited:!c&&"0px"===C&&n.hidden}[e]),style:(0,_extends2.default)({minHeight:C},T),ref:j},t),React.createElement("div",{className:n.wrapper,ref:D},React.createElement("div",{className:n.wrapperInner},r)))})});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:_propTypes.default.node,classes:_propTypes.default.object,className:_propTypes.default.string,collapsedHeight:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),component:_propTypes.default.elementType,disableStrictModeCompat:_propTypes.default.bool,in:_propTypes.default.bool,onEnter:_propTypes.default.func,onEntered:_propTypes.default.func,onEntering:_propTypes.default.func,onExit:_propTypes.default.func,onExited:_propTypes.default.func,onExiting:_propTypes.default.func,style:_propTypes.default.object,timeout:_propTypes.default.oneOfType([_propTypes.default.oneOf(["auto"]),_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})])}),Collapse.muiSupportAuto=!0;var _default=(0,_withStyles.default)(styles,{name:"MuiCollapse"})(Collapse);exports.default=_default;