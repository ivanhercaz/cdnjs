import _extends from"@babel/runtime/helpers/esm/extends";import _slicedToArray from"@babel/runtime/helpers/esm/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import useTheme from"../styles/useTheme";import{reflow,getTransitionProps}from"../transitions/utils";import useForkRef from"../utils/useForkRef";function getScale(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},Grow=React.forwardRef(function(e,t){var o=e.children,n=e.disableStrictModeCompat,r=void 0!==n&&n,i=e.in,s=e.onEnter,a=e.onEntered,p=e.onEntering,u=e.onExit,c=e.onExited,d=e.onExiting,l=e.style,m=e.timeout,f=void 0===m?"auto":m,y=e.TransitionComponent,T=void 0===y?Transition:y,E=_objectWithoutProperties(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),P=React.useRef(),g=React.useRef(),x=useTheme(),b=x.unstable_strictMode&&!r,h=React.useRef(null),R=useForkRef(o.ref,t),v=useForkRef(b?h:void 0,R),_=function(e){return function(t,o){if(e){var n=b?[h.current,t]:[t,o],r=_slicedToArray(n,2),i=r[0],s=r[1];void 0===s?e(i):e(i,s)}}},w=_(p),S=_(function(e,t){reflow(e);var o,n=getTransitionProps({style:l,timeout:f},{mode:"enter"}),r=n.duration,i=n.delay;"auto"===f?(o=x.transitions.getAutoHeightDuration(e.clientHeight),g.current=o):o=r,e.style.transition=[x.transitions.create("opacity",{duration:o,delay:i}),x.transitions.create("transform",{duration:.666*o,delay:i})].join(","),s&&s(e,t)}),j=_(a),A=_(d),C=_(function(e){var t,o=getTransitionProps({style:l,timeout:f},{mode:"exit"}),n=o.duration,r=o.delay;"auto"===f?(t=x.transitions.getAutoHeightDuration(e.clientHeight),g.current=t):t=n,e.style.transition=[x.transitions.create("opacity",{duration:t,delay:r}),x.transitions.create("transform",{duration:.666*t,delay:r||.333*t})].join(","),e.style.opacity="0",e.style.transform=getScale(.75),u&&u(e)}),M=_(c);return React.useEffect(function(){return function(){clearTimeout(P.current)}},[]),React.createElement(T,_extends({appear:!0,in:i,nodeRef:b?h:void 0,onEnter:S,onEntered:j,onEntering:w,onExit:C,onExited:M,onExiting:A,addEndListener:function(e,t){var o=b?e:t;"auto"===f&&(P.current=setTimeout(o,g.current||0))},timeout:"auto"===f?null:f},E),function(e,t){return React.cloneElement(o,_extends({style:_extends(_extends(_extends({opacity:0,transform:getScale(.75),visibility:"exited"!==e||i?void 0:"hidden"},styles[e]),l),o.props.style),ref:v},t))})});"production"!==process.env.NODE_ENV&&(Grow.propTypes={children:PropTypes.element,disableStrictModeCompat:PropTypes.bool,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.oneOf(["auto"]),PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])}),Grow.muiSupportAuto=!0;export default Grow;