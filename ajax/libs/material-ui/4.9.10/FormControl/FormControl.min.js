"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_utils=require("../InputBase/utils"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_capitalize=_interopRequireDefault(require("../utils/capitalize")),_isMuiElement=_interopRequireDefault(require("../utils/isMuiElement")),_FormControlContext=_interopRequireDefault(require("./FormControlContext")),styles={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};exports.styles=styles;var FormControl=React.forwardRef(function(e,r){var t,o=e.children,i=e.classes,l=e.className,n=e.color,a=void 0===n?"primary":n,u=e.component,s=void 0===u?"div":u,d=e.disabled,p=void 0!==d&&d,c=e.error,f=void 0!==c&&c,m=e.fullWidth,_=void 0!==m&&m,v=e.focused,y=e.hiddenLabel,h=void 0!==y&&y,b=e.margin,q=void 0===b?"none":b,R=e.required,T=void 0!==R&&R,g=e.size,x=e.variant,C=void 0===x?"standard":x,E=(0,_objectWithoutProperties2.default)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),D=React.useState(function(){var t=!1;return o&&React.Children.forEach(o,function(e){if((0,_isMuiElement.default)(e,["Input","Select"])){var r=(0,_isMuiElement.default)(e,["Select"])?e.props.input:e;r&&(0,_utils.isAdornedStart)(r.props)&&(t=!0)}}),t}),W=D[0],S=D[1],F=React.useState(function(){var r=!1;return o&&React.Children.forEach(o,function(e){(0,_isMuiElement.default)(e,["Input","Select"])&&(0,_utils.isFilled)(e.props,!0)&&(r=!0)}),r}),N=F[0],M=F[1],O=React.useState(!1),I=O[0],j=O[1],z=void 0!==v?v:I;if(p&&z&&j(!1),"production"!==process.env.NODE_ENV){var B=React.useRef(!1);t=function(){return B.current&&console.error(["Material-UI: there are multiple InputBase components inside a FormControl.","This is not supported. It might cause infinite rendering loops.","Only use one InputBase."].join("\n")),B.current=!0,function(){B.current=!1}}}var w=React.useCallback(function(){M(!0)},[]),P={adornedStart:W,setAdornedStart:S,color:a,disabled:p,error:f,filled:N,focused:z,fullWidth:_,hiddenLabel:h,margin:("small"===g?"dense":void 0)||q,onBlur:function(){j(!1)},onEmpty:React.useCallback(function(){M(!1)},[]),onFilled:w,onFocus:function(){j(!0)},registerEffect:t,required:T,variant:C};return React.createElement(_FormControlContext.default.Provider,{value:P},React.createElement(s,(0,_extends2.default)({className:(0,_clsx.default)(i.root,l,"none"!==q&&i["margin".concat((0,_capitalize.default)(q))],_&&i.fullWidth),ref:r},E),o))});"production"!==process.env.NODE_ENV&&(FormControl.propTypes={children:_propTypes.default.node,classes:_propTypes.default.object.isRequired,className:_propTypes.default.string,color:_propTypes.default.oneOf(["primary","secondary"]),component:_propTypes.default.elementType,disabled:_propTypes.default.bool,error:_propTypes.default.bool,focused:_propTypes.default.bool,fullWidth:_propTypes.default.bool,hiddenLabel:_propTypes.default.bool,margin:_propTypes.default.oneOf(["none","dense","normal"]),required:_propTypes.default.bool,size:_propTypes.default.oneOf(["small","medium"]),variant:_propTypes.default.oneOf(["standard","outlined","filled"])});var _default=(0,_withStyles.default)(styles,{name:"MuiFormControl"})(FormControl);exports.default=_default;