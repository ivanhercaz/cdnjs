"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_reactDom=_interopRequireDefault(require("react-dom")),_propTypes=_interopRequireDefault(require("prop-types")),_utils=require("@material-ui/utils"),_setRef=_interopRequireDefault(require("../utils/setRef")),_useForkRef=_interopRequireDefault(require("../utils/useForkRef"));function getContainer(e){return e="function"==typeof e?e():e,_reactDom.default.findDOMNode(e)}var useEnhancedEffect="undefined"!=typeof window?_react.default.useLayoutEffect:_react.default.useEffect,Portal=_react.default.forwardRef(function(e,t){var r=e.children,u=e.container,a=e.disablePortal,n=void 0!==a&&a,o=e.onRendered,f=_react.default.useState(null),l=f[0],i=f[1],p=(0,_useForkRef.default)(_react.default.isValidElement(r)?r.ref:null,t);return useEnhancedEffect(function(){n||i(getContainer(u)||document.body)},[u,n]),useEnhancedEffect(function(){if(l&&!n)return(0,_setRef.default)(t,l),function(){(0,_setRef.default)(t,null)}},[t,l,n]),useEnhancedEffect(function(){o&&(l||n)&&o()},[o,l,n]),n?_react.default.isValidElement(r)?_react.default.cloneElement(r,{ref:p}):r:l?_reactDom.default.createPortal(r,l):l});"production"!==process.env.NODE_ENV&&(Portal.propTypes={children:_propTypes.default.node,container:_propTypes.default.oneOfType([_propTypes.default.func,_propTypes.default.instanceOf(_react.default.Component),_propTypes.default.instanceOf("undefined"==typeof Element?Object:Element)]),disablePortal:_propTypes.default.bool,onRendered:_propTypes.default.func}),"production"!==process.env.NODE_ENV&&(Portal.propTypes=(0,_utils.exactProp)(Portal.propTypes));var _default=Portal;exports.default=_default;