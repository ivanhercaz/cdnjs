import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import React from"react";import clsx from"clsx";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import withStyles from"../styles/withStyles";import{duration}from"../styles/transitions";import{getTransitionProps}from"../transitions/utils";import useTheme from"../styles/useTheme";export var styles=function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}};var Collapse=React.forwardRef(function(e,t){var n=e.children,r=e.classes,o=e.className,i=e.collapsedHeight,s=void 0===i?"0px":i,a=e.component,p=void 0===a?"div":a,c=e.in,u=e.onEnter,l=e.onEntered,m=e.onEntering,y=e.onExit,d=e.onExiting,f=e.style,h=e.timeout,g=void 0===h?duration.standard:h,T=_objectWithoutProperties(e,["children","classes","className","collapsedHeight","component","in","onEnter","onEntered","onEntering","onExit","onExiting","style","timeout"]),E=useTheme(),x=React.useRef(),P=React.useRef(null),v=React.useRef(),b="number"==typeof s?"".concat(s,"px"):s;React.useEffect(function(){return function(){clearTimeout(x.current)}},[]);return React.createElement(Transition,_extends({in:c,onEnter:function(e,t){e.style.height=b,u&&u(e,t)},onEntered:function(e,t){e.style.height="auto",l&&l(e,t)},onEntering:function(e,t){var n=P.current?P.current.clientHeight:0,r=getTransitionProps({style:f,timeout:g},{mode:"enter"}).duration;if("auto"===g){var o=E.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(o,"ms"),v.current=o}else e.style.transitionDuration="string"==typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),m&&m(e,t)},onExit:function(e){var t=P.current?P.current.clientHeight:0;e.style.height="".concat(t,"px"),y&&y(e)},onExiting:function(e){var t=P.current?P.current.clientHeight:0,n=getTransitionProps({style:f,timeout:g},{mode:"exit"}).duration;if("auto"===g){var r=E.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),v.current=r}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=b,d&&d(e)},addEndListener:function(e,t){"auto"===g&&(x.current=setTimeout(t,v.current||0))},timeout:"auto"===g?null:g},T),function(e,i){return React.createElement(p,_extends({className:clsx(r.container,o,{entered:r.entered,exited:!c&&"0px"===b&&r.hidden}[e]),style:_extends({minHeight:b},f),ref:t},i),React.createElement("div",{className:r.wrapper,ref:P},React.createElement("div",{className:r.wrapperInner},n)))})});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:PropTypes.node,classes:PropTypes.object.isRequired,className:PropTypes.string,collapsedHeight:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),component:PropTypes.elementType,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({enter:PropTypes.number,exit:PropTypes.number}),PropTypes.oneOf(["auto"])])}),Collapse.muiSupportAuto=!0;export default withStyles(styles,{name:"MuiCollapse"})(Collapse);