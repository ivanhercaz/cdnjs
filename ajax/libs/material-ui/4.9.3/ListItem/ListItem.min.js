"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_utils=require("@material-ui/utils"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_ButtonBase=_interopRequireDefault(require("../ButtonBase")),_isMuiElement=_interopRequireDefault(require("../utils/isMuiElement")),_useForkRef=_interopRequireDefault(require("../utils/useForkRef")),_ListContext=_interopRequireDefault(require("../List/ListContext")),_reactDom=_interopRequireDefault(require("react-dom")),styles=function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}};exports.styles=styles;var useEnhancedEffect="undefined"==typeof window?_react.default.useEffect:_react.default.useLayoutEffect,ListItem=_react.default.forwardRef(function(e,t){var o=e.alignItems,r=void 0===o?"center":o,a=e.autoFocus,i=void 0!==a&&a,s=e.button,n=void 0!==s&&s,l=e.children,u=e.classes,d=e.className,c=e.component,p=e.ContainerComponent,f=void 0===p?"li":p,_=e.ContainerProps,m=(_=void 0===_?{}:_).className,b=(0,_objectWithoutProperties2.default)(_,["className"]),y=e.dense,v=void 0!==y&&y,h=e.disabled,g=void 0!==h&&h,x=e.disableGutters,C=void 0!==x&&x,q=e.divider,T=void 0!==q&&q,R=e.focusVisibleClassName,D=e.selected,E=void 0!==D&&D,I=(0,_objectWithoutProperties2.default)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),L=_react.default.useContext(_ListContext.default),N={dense:v||L.dense||!1,alignItems:r},k=_react.default.useRef(null);useEnhancedEffect(function(){i&&(k.current?k.current.focus():"production"!==process.env.NODE_ENV&&console.error("Material-UI: unable to set focus to a ListItem whose component has not been rendered."))},[i]);var P=_react.default.Children.toArray(l),w=P.length&&(0,_isMuiElement.default)(P[P.length-1],["ListItemSecondaryAction"]),B=_react.default.useCallback(function(e){k.current=_reactDom.default.findDOMNode(e)},[]),F=(0,_useForkRef.default)(B,t),M=(0,_extends2.default)({className:(0,_clsx.default)(u.root,d,N.dense&&u.dense,!C&&u.gutters,T&&u.divider,g&&u.disabled,n&&u.button,"center"!==r&&u.alignItemsFlexStart,w&&u.secondaryAction,E&&u.selected),disabled:g},I),S=c||"li";return n&&(M.component=c||"div",M.focusVisibleClassName=(0,_clsx.default)(u.focusVisible,R),S=_ButtonBase.default),w?(S=M.component||c?S:"div","li"===f&&("li"===S?S="div":"li"===M.component&&(M.component="div")),_react.default.createElement(_ListContext.default.Provider,{value:N},_react.default.createElement(f,(0,_extends2.default)({className:(0,_clsx.default)(u.container,m),ref:F},b),_react.default.createElement(S,M,P),P.pop()))):_react.default.createElement(_ListContext.default.Provider,{value:N},_react.default.createElement(S,(0,_extends2.default)({ref:F},M),P))});"production"!==process.env.NODE_ENV&&(ListItem.propTypes={alignItems:_propTypes.default.oneOf(["flex-start","center"]),autoFocus:_propTypes.default.bool,button:_propTypes.default.bool,children:(0,_utils.chainPropTypes)(_propTypes.default.node,function(e){for(var t=_react.default.Children.toArray(e.children),o=-1,r=t.length-1;0<=r;--r){var a=t[r];if((0,_isMuiElement.default)(a,["ListItemSecondaryAction"])){o=r;break}}return-1!==o&&o!==t.length-1?new Error("Material-UI: you used an element after ListItemSecondaryAction. For ListItem to detect that it has a secondary action you must pass it as the last child to ListItem."):null}),classes:_propTypes.default.object.isRequired,className:_propTypes.default.string,component:_propTypes.default.elementType,ContainerComponent:_propTypes.default.elementType,ContainerProps:_propTypes.default.object,dense:_propTypes.default.bool,disabled:_propTypes.default.bool,disableGutters:_propTypes.default.bool,divider:_propTypes.default.bool,focusVisibleClassName:_propTypes.default.string,selected:_propTypes.default.bool});var _default=(0,_withStyles.default)(styles,{name:"MuiListItem"})(ListItem);exports.default=_default;