"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=describeConformance;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_chai=require("chai"),_react=_interopRequireDefault(require("react")),_findOutermostIntrinsic=_interopRequireDefault(require("./findOutermostIntrinsic")),_reactTestRenderer=_interopRequireDefault(require("react-test-renderer")),_testRef=_interopRequireDefault(require("./testRef"));function findRootComponent(e,t){var n=t.component,r=(0,_findOutermostIntrinsic.default)(e).getElement();return e.find(n).filterWhere(function(e){return e.contains(r)})}function randomStringValue(){return Math.random().toString(36).slice(2)}function testClassName(r,o){it("applies the className to the root component",function(){var e=o().mount,t=randomStringValue(),n=e(_react.default.cloneElement(r,{className:t}));_chai.assert.strictEqual((0,_findOutermostIntrinsic.default)(n).hasClass(t),!0,"does have a custom `className`")})}function testComponentProp(s,a){describe("prop: component",function(){it("can render another root component with the `component` prop",function(){var e=a(),t=e.classes,n=e.mount,r=e.testComponentPropWith,o=void 0===r?"em":r,i=n(_react.default.cloneElement(s,{component:o}));_chai.assert.strictEqual(findRootComponent(i,{classes:t,component:o}).exists(),!0)})})}function testPropsSpread(a,c){it("spreads props to the root component",function(){var e=c(),t=e.classes,n=e.inheritComponent,r=e.mount,o="data-test-props-spread",i=randomStringValue(),s=findRootComponent(r(_react.default.cloneElement(a,(0,_defineProperty2.default)({},o,i))),{classes:t,component:n});_chai.assert.strictEqual(s.props()[o],i)})}function describeRef(n,i){describe("ref",function(){it("attaches the ref",function(){var e=i(),r=e.inheritComponent,t=e.mount,o=e.refInstanceof;(0,_testRef.default)(n,t,function(e,t){if(_chai.assert.instanceOf(e,o),r&&e instanceof window.Element){var n=(0,_findOutermostIntrinsic.default)(t);_chai.assert.strictEqual(e,n.instance())}})})})}function testRootClass(i,s){it("applies the root class to the root component if it has this class",function(){var e=s(),t=e.classes,n=e.mount;if(null!=t.root){var r=randomStringValue(),o=n(_react.default.cloneElement(i,{className:r}));_chai.assert.strictEqual((0,_findOutermostIntrinsic.default)(o).hasClass(t.root),!0),_chai.assert.strictEqual((0,_findOutermostIntrinsic.default)(o).hasClass(r),!0)}})}function testReactTestRenderer(e){it("should render without errors in ReactTestRenderer",function(){_reactTestRenderer.default.act(function(){_reactTestRenderer.default.create(e,{createNodeMock:function(e){return document.createElement(e.type)}})})})}var fullSuite={componentProp:testComponentProp,mergeClassName:testClassName,propsSpread:testPropsSpread,refForwarding:describeRef,rootClass:testRootClass,reactTestRenderer:testReactTestRenderer};function describeConformance(t,n){var e=n(),r=e.after,o=void 0===r?function(){}:r,i=e.only,s=void 0===i?Object.keys(fullSuite):i,a=e.skip,c=void 0===a?[]:a;describe("Material-UI component API",function(){after(o),Object.keys(fullSuite).filter(function(e){return-1!==s.indexOf(e)&&-1===c.indexOf(e)}).forEach(function(e){(0,fullSuite[e])(t,n)})})}