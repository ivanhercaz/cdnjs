import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import clsx from"clsx";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import withStyles from"../styles/withStyles";import{duration}from"../styles/transitions";import{getTransitionProps}from"../transitions/utils";import useTheme from"../styles/useTheme";export var styles=function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}};var Collapse=React.forwardRef(function(e,t){var n=e.children,o=e.classes,r=e.className,i=e.collapsedHeight,s=void 0===i?"0px":i,p=e.component,a=void 0===p?"div":p,c=e.in,u=e.onEnter,l=e.onEntered,m=e.onEntering,y=e.onExit,d=e.onExiting,f=e.style,h=e.timeout,T=void 0===h?duration.standard:h,g=e.TransitionComponent,E=void 0===g?Transition:g,P=_objectWithoutProperties(e,["children","classes","className","collapsedHeight","component","in","onEnter","onEntered","onEntering","onExit","onExiting","style","timeout","TransitionComponent"]),x=useTheme(),v=React.useRef(),b=React.useRef(null),R=React.useRef(),w="number"==typeof s?"".concat(s,"px"):s;React.useEffect(function(){return function(){clearTimeout(v.current)}},[]);return React.createElement(E,_extends({in:c,onEnter:function(e,t){e.style.height=w,u&&u(e,t)},onEntered:function(e,t){e.style.height="auto",l&&l(e,t)},onEntering:function(e,t){var n=b.current?b.current.clientHeight:0,o=getTransitionProps({style:f,timeout:T},{mode:"enter"}).duration;if("auto"===T){var r=x.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(r,"ms"),R.current=r}else e.style.transitionDuration="string"==typeof o?o:"".concat(o,"ms");e.style.height="".concat(n,"px"),m&&m(e,t)},onExit:function(e){var t=b.current?b.current.clientHeight:0;e.style.height="".concat(t,"px"),y&&y(e)},onExiting:function(e){var t=b.current?b.current.clientHeight:0,n=getTransitionProps({style:f,timeout:T},{mode:"exit"}).duration;if("auto"===T){var o=x.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(o,"ms"),R.current=o}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=w,d&&d(e)},addEndListener:function(e,t){"auto"===T&&(v.current=setTimeout(t,R.current||0))},timeout:"auto"===T?null:T},P),function(e,i){return React.createElement(a,_extends({className:clsx(o.container,r,{entered:o.entered,exited:!c&&"0px"===w&&o.hidden}[e]),style:_extends({minHeight:w},f),ref:t},i),React.createElement("div",{className:o.wrapper,ref:b},React.createElement("div",{className:o.wrapperInner},n)))})});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,collapsedHeight:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),component:PropTypes.elementType,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.oneOf(["auto"]),PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])}),Collapse.muiSupportAuto=!0;export default withStyles(styles,{name:"MuiCollapse"})(Collapse);