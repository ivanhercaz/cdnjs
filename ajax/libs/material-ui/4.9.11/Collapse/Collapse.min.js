"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_clsx=_interopRequireDefault(require("clsx")),_propTypes=_interopRequireDefault(require("prop-types")),_reactTransitionGroup=require("react-transition-group"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_transitions=require("../styles/transitions"),_utils=require("../transitions/utils"),_useTheme=_interopRequireDefault(require("../styles/useTheme")),styles=function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}};exports.styles=styles;var Collapse=React.forwardRef(function(e,r){var n=e.children,i=e.classes,o=e.className,t=e.collapsedHeight,s=void 0===t?"0px":t,a=e.component,u=void 0===a?"div":a,p=e.in,l=e.onEnter,c=e.onEntered,d=e.onEntering,f=e.onExit,y=e.onExiting,_=e.style,h=e.timeout,m=void 0===h?_transitions.duration.standard:h,T=e.TransitionComponent,g=void 0===T?_reactTransitionGroup.Transition:T,x=(0,_objectWithoutProperties2.default)(e,["children","classes","className","collapsedHeight","component","in","onEnter","onEntered","onEntering","onExit","onExiting","style","timeout","TransitionComponent"]),E=(0,_useTheme.default)(),R=React.useRef(),v=React.useRef(null),b=React.useRef(),q="number"==typeof s?"".concat(s,"px"):s;React.useEffect(function(){return function(){clearTimeout(R.current)}},[]);return React.createElement(g,(0,_extends2.default)({in:p,onEnter:function(e,t){e.style.height=q,l&&l(e,t)},onEntered:function(e,t){e.style.height="auto",c&&c(e,t)},onEntering:function(e,t){var r=v.current?v.current.clientHeight:0,n=(0,_utils.getTransitionProps)({style:_,timeout:m},{mode:"enter"}).duration;if("auto"===m){var i=E.transitions.getAutoHeightDuration(r);e.style.transitionDuration="".concat(i,"ms"),b.current=i}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height="".concat(r,"px"),d&&d(e,t)},onExit:function(e){var t=v.current?v.current.clientHeight:0;e.style.height="".concat(t,"px"),f&&f(e)},onExiting:function(e){var t=v.current?v.current.clientHeight:0,r=(0,_utils.getTransitionProps)({style:_,timeout:m},{mode:"exit"}).duration;if("auto"===m){var n=E.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),b.current=n}else e.style.transitionDuration="string"==typeof r?r:"".concat(r,"ms");e.style.height=q,y&&y(e)},addEndListener:function(e,t){"auto"===m&&(R.current=setTimeout(t,b.current||0))},timeout:"auto"===m?null:m},x),function(e,t){return React.createElement(u,(0,_extends2.default)({className:(0,_clsx.default)(i.container,o,{entered:i.entered,exited:!p&&"0px"===q&&i.hidden}[e]),style:(0,_extends2.default)({minHeight:q},_),ref:r},t),React.createElement("div",{className:i.wrapper,ref:v},React.createElement("div",{className:i.wrapperInner},n)))})});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:_propTypes.default.node,classes:_propTypes.default.object,className:_propTypes.default.string,collapsedHeight:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),component:_propTypes.default.elementType,in:_propTypes.default.bool,onEnter:_propTypes.default.func,onEntered:_propTypes.default.func,onEntering:_propTypes.default.func,onExit:_propTypes.default.func,onExiting:_propTypes.default.func,style:_propTypes.default.object,timeout:_propTypes.default.oneOfType([_propTypes.default.oneOf(["auto"]),_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})])}),Collapse.muiSupportAuto=!0;var _default=(0,_withStyles.default)(styles,{name:"MuiCollapse"})(Collapse);exports.default=_default;