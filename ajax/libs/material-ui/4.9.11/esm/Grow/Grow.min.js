import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import useTheme from"../styles/useTheme";import{reflow,getTransitionProps}from"../transitions/utils";import useForkRef from"../utils/useForkRef";function getScale(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},Grow=React.forwardRef(function(e,t){var o=e.children,r=e.in,n=e.onEnter,i=e.onExit,s=e.style,a=e.timeout,p=void 0===a?"auto":a,u=e.TransitionComponent,c=void 0===u?Transition:u,m=_objectWithoutProperties(e,["children","in","onEnter","onExit","style","timeout","TransitionComponent"]),l=React.useRef(),y=React.useRef(),f=useForkRef(o.ref,t),d=useTheme();return React.useEffect(function(){return function(){clearTimeout(l.current)}},[]),React.createElement(c,_extends({appear:!0,in:r,onEnter:function(e,t){reflow(e);var o,r=getTransitionProps({style:s,timeout:p},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===p?(o=d.transitions.getAutoHeightDuration(e.clientHeight),y.current=o):o=i,e.style.transition=[d.transitions.create("opacity",{duration:o,delay:a}),d.transitions.create("transform",{duration:.666*o,delay:a})].join(","),n&&n(e,t)},onExit:function(e){var t,o=getTransitionProps({style:s,timeout:p},{mode:"exit"}),r=o.duration,n=o.delay;"auto"===p?(t=d.transitions.getAutoHeightDuration(e.clientHeight),y.current=t):t=r,e.style.transition=[d.transitions.create("opacity",{duration:t,delay:n}),d.transitions.create("transform",{duration:.666*t,delay:n||.333*t})].join(","),e.style.opacity="0",e.style.transform=getScale(.75),i&&i(e)},addEndListener:function(e,t){"auto"===p&&(l.current=setTimeout(t,y.current||0))},timeout:"auto"===p?null:p},m),function(e,t){return React.cloneElement(o,_extends({style:_extends({opacity:0,transform:getScale(.75),visibility:"exited"!==e||r?void 0:"hidden"},styles[e],{},s,{},o.props.style),ref:f},t))})});"production"!==process.env.NODE_ENV&&(Grow.propTypes={children:PropTypes.element,in:PropTypes.bool,onEnter:PropTypes.func,onExit:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.oneOf(["auto"]),PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])}),Grow.muiSupportAuto=!0;export default Grow;