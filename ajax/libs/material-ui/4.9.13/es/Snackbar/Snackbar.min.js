import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import withStyles from"../styles/withStyles";import{duration}from"../styles/transitions";import ClickAwayListener from"../ClickAwayListener";import useEventCallback from"../utils/useEventCallback";import capitalize from"../utils/capitalize";import createChainedFunction from"../utils/createChainedFunction";import Grow from"../Grow";import SnackbarContent from"../SnackbarContent";export const styles=e=>{const t={top:8},n={bottom:8},o={justifyContent:"flex-end"},r={justifyContent:"flex-start"},s={top:24},i={bottom:24},a={right:24},p={left:24},c={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:_extends(_extends({},t),{},{[e.breakpoints.up("sm")]:_extends(_extends({},s),c)}),anchorOriginBottomCenter:_extends(_extends({},n),{},{[e.breakpoints.up("sm")]:_extends(_extends({},i),c)}),anchorOriginTopRight:_extends(_extends(_extends({},t),o),{},{[e.breakpoints.up("sm")]:_extends(_extends({left:"auto"},s),a)}),anchorOriginBottomRight:_extends(_extends(_extends({},n),o),{},{[e.breakpoints.up("sm")]:_extends(_extends({left:"auto"},i),a)}),anchorOriginTopLeft:_extends(_extends(_extends({},t),r),{},{[e.breakpoints.up("sm")]:_extends(_extends({right:"auto"},s),p)}),anchorOriginBottomLeft:_extends(_extends(_extends({},n),r),{},{[e.breakpoints.up("sm")]:_extends(_extends({right:"auto"},i),p)})}};const Snackbar=React.forwardRef(function(e,t){const{action:n,anchorOrigin:{vertical:o,horizontal:r}={vertical:"bottom",horizontal:"center"},autoHideDuration:s=null,children:i,classes:a,className:p,ClickAwayListenerProps:c,ContentProps:u,disableWindowBlurListener:l=!1,message:d,onClose:m,onEnter:x,onEntered:y,onEntering:f,onExit:T,onExited:b,onExiting:P,onMouseEnter:E,onMouseLeave:h,open:_,resumeHideDuration:g,TransitionComponent:C=Grow,transitionDuration:k={enter:duration.enteringScreen,exit:duration.leavingScreen},TransitionProps:w}=e,L=_objectWithoutPropertiesLoose(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),v=React.useRef(),[R,O]=React.useState(!0),S=useEventCallback((...e)=>{m&&m(...e)}),j=useEventCallback(e=>{m&&null!=e&&(clearTimeout(v.current),v.current=setTimeout(()=>{S(null,"timeout")},e))});React.useEffect(()=>(_&&j(s),()=>{clearTimeout(v.current)}),[_,s,j]);const D=()=>{clearTimeout(v.current)},z=React.useCallback(()=>{null!=s&&j(null!=g?g:.5*s)},[s,g,j]);return React.useEffect(()=>{if(!l&&_)return window.addEventListener("focus",z),window.addEventListener("blur",D),()=>{window.removeEventListener("focus",z),window.removeEventListener("blur",D)}},[l,z,_]),!_&&R?null:React.createElement(ClickAwayListener,_extends({onClickAway:e=>{m&&m(e,"clickaway")}},c),React.createElement("div",_extends({className:clsx(a.root,a[`anchorOrigin${capitalize(o)}${capitalize(r)}`],p),onMouseEnter:e=>{E&&E(e),D()},onMouseLeave:e=>{h&&h(e),z()},ref:t},L),React.createElement(C,_extends({appear:!0,in:_,onEnter:createChainedFunction(()=>{O(!1)},x),onEntered:y,onEntering:f,onExit:T,onExited:createChainedFunction(()=>{O(!0)},b),onExiting:P,timeout:k,direction:"top"===o?"down":"up"},w),i||React.createElement(SnackbarContent,_extends({message:d,action:n},u)))))});"production"!==process.env.NODE_ENV&&(Snackbar.propTypes={action:PropTypes.node,anchorOrigin:PropTypes.shape({horizontal:PropTypes.oneOf(["center","left","right"]).isRequired,vertical:PropTypes.oneOf(["bottom","top"]).isRequired}),autoHideDuration:PropTypes.number,children:PropTypes.element,classes:PropTypes.object,className:PropTypes.string,ClickAwayListenerProps:PropTypes.object,ContentProps:PropTypes.object,disableWindowBlurListener:PropTypes.bool,key:PropTypes.any,message:PropTypes.node,onClose:PropTypes.func,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,onMouseEnter:PropTypes.func,onMouseLeave:PropTypes.func,open:PropTypes.bool,resumeHideDuration:PropTypes.number,TransitionComponent:PropTypes.elementType,transitionDuration:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})]),TransitionProps:PropTypes.object});export default withStyles(styles,{flip:!1,name:"MuiSnackbar"})(Snackbar);