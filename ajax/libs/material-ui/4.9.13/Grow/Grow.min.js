"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_reactTransitionGroup=require("react-transition-group"),_useTheme=_interopRequireDefault(require("../styles/useTheme")),_utils=require("../transitions/utils"),_useForkRef=_interopRequireDefault(require("../utils/useForkRef"));function getScale(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},Grow=React.forwardRef(function(e,t){var r=e.children,o=e.in,u=e.onEnter,n=e.onExit,a=e.style,i=e.timeout,s=void 0===i?"auto":i,p=e.TransitionComponent,l=void 0===p?_reactTransitionGroup.Transition:p,d=(0,_objectWithoutProperties2.default)(e,["children","in","onEnter","onExit","style","timeout","TransitionComponent"]),c=React.useRef(),f=React.useRef(),y=(0,_useForkRef.default)(r.ref,t),_=(0,_useTheme.default)();return React.useEffect(function(){return function(){clearTimeout(c.current)}},[]),React.createElement(l,(0,_extends2.default)({appear:!0,in:o,onEnter:function(e,t){(0,_utils.reflow)(e);var r,o=(0,_utils.getTransitionProps)({style:a,timeout:s},{mode:"enter"}),i=o.duration,n=o.delay;"auto"===s?(r=_.transitions.getAutoHeightDuration(e.clientHeight),f.current=r):r=i,e.style.transition=[_.transitions.create("opacity",{duration:r,delay:n}),_.transitions.create("transform",{duration:.666*r,delay:n})].join(","),u&&u(e,t)},onExit:function(e){var t,r=(0,_utils.getTransitionProps)({style:a,timeout:s},{mode:"exit"}),o=r.duration,i=r.delay;"auto"===s?(t=_.transitions.getAutoHeightDuration(e.clientHeight),f.current=t):t=o,e.style.transition=[_.transitions.create("opacity",{duration:t,delay:i}),_.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=getScale(.75),n&&n(e)},addEndListener:function(e,t){"auto"===s&&(c.current=setTimeout(t,f.current||0))},timeout:"auto"===s?null:s},d),function(e,t){return React.cloneElement(r,(0,_extends2.default)({style:(0,_extends2.default)((0,_extends2.default)((0,_extends2.default)({opacity:0,transform:getScale(.75),visibility:"exited"!==e||o?void 0:"hidden"},styles[e]),a),r.props.style),ref:y},t))})});"production"!==process.env.NODE_ENV&&(Grow.propTypes={children:_propTypes.default.element,in:_propTypes.default.bool,onEnter:_propTypes.default.func,onExit:_propTypes.default.func,style:_propTypes.default.object,timeout:_propTypes.default.oneOfType([_propTypes.default.oneOf(["auto"]),_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})])}),Grow.muiSupportAuto=!0;var _default=Grow;exports.default=Grow;