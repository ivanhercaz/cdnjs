{"version":3,"sources":["single-spa.dev.js"],"names":["global","factory","exports","module","define","amd","self","singleSpa","this","Object","freeze","__proto__","start","ensureJQuerySupport","setBootstrapMaxTime","setMountMaxTime","setUnmountMaxTime","setUnloadMaxTime","registerApplication","getMountedApps","getAppStatus","unloadApplication","checkActivityFunctions","getAppNames","navigateToUrl","triggerAppChange","addErrorHandler","removeErrorHandler","mountRootParcel","NOT_LOADED","LOADING_SOURCE_CODE","NOT_BOOTSTRAPPED","BOOTSTRAPPING","NOT_MOUNTED","MOUNTING","UPDATING","LOAD_ERROR","MOUNTED","UNMOUNTING","SKIP_BECAUSE_BROKEN","NativeCustomEvent","globalThis","window","CustomEvent","customEvent","p","detail","foo","type","e","useNative","document","createEvent","params","initCustomEvent","bubbles","cancelable","createEventObject","Boolean","_typeof","obj","Symbol","iterator","constructor","prototype","errorHandlers","handleAppError","err","app","newStatus","transformedErr","transformErr","length","forEach","handler","setTimeout","Error","formatErrorMessage","push","removedSomething","filter","h","isHandler","code","msg","_len","arguments","args","Array","_key","concat","join","ogErr","appOrParcel","result","errPrefix","objectType","toName","status","message","console","warn","JSON","stringify","appOrParcelName","UNLOADING","isActive","isntActive","isLoaded","isntLoaded","shouldBeActive","activeWhen","location","shouldntBeActive","notSkipped","item","withoutLoadErrors","Date","getTime","loadErrorTime","name","isParcel","unmountThisParcel","assign","i","key","find","arr","func","validLifecycleFn","fn","isArray","flattenFnArray","lifecycle","fns","Promise","resolve","props","reduce","resultPromise","index","then","thisPromise","smellsLikeAPromise","reject","promise","catch","toBootstrapPromise","hardFail","reasonableTime","toUnmountPromise","unmountChildrenParcels","keys","parcels","map","parcelId","all","unmountAppOrParcel","parcelError","parentError","beforeFirstMountFired","firstMountFired","toMountPromise","dispatchEvent","setSkipBecauseBroken","parcelCount","rootParcels","mountParcel","apply","config","customProps","owningAppOrParcel","domElement","externalRepresentation","id","passedConfigLoadingFunction","configLoadingFunction","parcel","parentName","value","resolveUnmount","rejectUnmount","loadPromise","bootstrapPromise","bootstrap","mount","unmount","update","timeouts","ensureValidAppTimeouts","promiseWithoutReturnValue","toUpdatePromise","mountPromise","unmountPromise","getStatus","getProps","bind","unmountSelf","defaultWarningMillis","globalTimeoutConfig","millis","dieOnTimeout","warningMillis","unload","time","timeoutConfig","warningPeriod","finished","errored","val","maybeTimingOut","errMsg","shouldError","error","numWarnings","numMillis","toLoadPromise","loadApp","isUserErr","validationErrMessage","validationErrCode","appOpts","appOptsStr","_unused","devtools","overlays","urlRerouteOnly","isInBrowser","capturedEventListeners","hashchange","popstate","routingEventsListeningTo","url","href","currentTarget","preventDefault","current","parseUri","destination","indexOf","hash","host","pathname","search","history","pushState","callCapturedEventListeners","eventArguments","_this","eventType","listener","urlReroute","reroute","addEventListener","originalAddEventListener","originalRemoveEventListener","removeEventListener","patchedUpdateState","updateState","urlBefore","urlAfter","state","PopStateEvent","evt","initPopStateEvent","createPopStateEvent","eventName","listenerFn","replaceState","singleSpaNavigate","str","anchor","createElement","hasInitialized","jQuery","undefined","$","jquery","originalJQueryOn","on","originalJQueryOff","off","eventString","captureRoutingEvents","call","originalJQueryFunction","nativeFunctionToCall","originalArgs","split","replace","trim","appsToUnload","toUnloadPromise","unloadInfo","finishUnloadingApp","errorUnloadingApp","addAppToUnload","promiseGetter","defineProperty","get","apps","appName","appNameOrConfig","appOrLoadApp","registration","usingObjectAPI","validKeys","invalidKeys","prop","includes","allowsStringAndFunction","every","validateRegisterWithConfig","validateRegisterWithArguments","sanitizeCustomProps","activeWhenArray","activeWhenOrPath","regex","path","lastIndex","inDynamic","regexStr","charIndex","char","startOfDynamic","endOfDynamic","appendToRegex","RegExp","commonStringSubPath","slice","toDynamicPathValidatorRegex","route","origin","test","some","sanitizeActiveWhen","sanitizeArguments","options","selectors","getAppsToLoad","opts","waitForUnmount","App","appUnloadInfo","getAppUnloadInfo","immediatelyUnloadApp","appChangeUnderway","peopleWaitingOnAppChange","pendingPromises","wasNoOp","started","getCustomEventDetail","unloadPromises","unmountUnloadPromises","allUnmountPromises","unmountAllPromise","appsToLoad","loadThenMountPromises","mountPromises","appToMount","callAllEventListeners","finishUpAndReturn","loadPromises","returnValue","appChangeEventName","nextPendingPromises","pendingPromise","originalEvent","getRawAppData","unregisterApplication","appIndex","findIndex","splice","__SINGLE_SPA_DEVTOOLS__","exposedMethods"],"mappings":"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"}