{"version":3,"sources":["single-spa.dev.js"],"names":["singleSpa","Object","freeze","__proto__","start","ensureJQuerySupport","setBootstrapMaxTime","setMountMaxTime","setUnmountMaxTime","setUnloadMaxTime","registerApplication","getMountedApps","getAppStatus","unloadApplication","checkActivityFunctions","getAppNames","navigateToUrl","triggerAppChange","addErrorHandler","removeErrorHandler","mountRootParcel","NOT_LOADED","LOADING_SOURCE_CODE","NOT_BOOTSTRAPPED","BOOTSTRAPPING","NOT_MOUNTED","MOUNTING","UPDATING","LOAD_ERROR","MOUNTED","UNMOUNTING","SKIP_BECAUSE_BROKEN","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","from","o","minLen","n","toString","call","slice","name","test","len","length","i","arr2","TypeError","commonjsGlobal","globalThis","window","global","self","NativeCustomEvent","CustomEvent","useNative","p","detail","foo","type","e","customEvent","document","createEvent","params","initCustomEvent","bubbles","cancelable","createEventObject","Boolean","errorHandlers","handleAppError","err","app","newStatus","transformedErr","transformErr","forEach","handler","setTimeout","Error","formatErrorMessage","push","removedSomething","filter","h","isHandler","code","msg","_len","arguments","args","_key","concat","join","ogErr","appOrParcel","result","errPrefix","objectType","toName","status","message","console","warn","JSON","stringify","appOrParcelName","UNLOADING","isActive","isntActive","isLoaded","isntLoaded","shouldBeActive","activeWhen","location","shouldntBeActive","notSkipped","item","withoutLoadErrors","Date","getTime","loadErrorTime","isParcel","unmountThisParcel","assign","find","func","validLifecycleFn","fn","flattenFnArray","lifecycle","fns","Promise","resolve","props","reduce","resultPromise","index","then","thisPromise","smellsLikeAPromise","reject","promise","catch","toBootstrapPromise","hardFail","reasonableTime","toUnmountPromise","unmountChildrenParcels","keys","parcels","map","parcelId","all","unmountAppOrParcel","parcelError","parentError","beforeFirstMountFired","firstMountFired","toMountPromise","dispatchEvent","setSkipBecauseBroken","toUpdatePromise","parcel","parcelCount","rootParcels","mountParcel","apply","config","customProps","owningAppOrParcel","this","domElement","externalRepresentation","id","passedConfigLoadingFunction","configLoadingFunction","parentName","resolveUnmount","rejectUnmount","loadPromise","bootstrapPromise","bootstrap","mount","unmount","update","timeouts","ensureValidAppTimeouts","promiseWithoutReturnValue","mountPromise","unmountPromise","getStatus","getProps","bind","unmountSelf","defaultWarningMillis","globalTimeoutConfig","millis","dieOnTimeout","warningMillis","unload","time","timeoutConfig","warningPeriod","finished","errored","val","maybeTimingOut","errMsg","shouldError","error","numWarnings","numMillis","toLoadPromise","loadApp","isUserErr","validationErrMessage","validationErrCode","appOpts","appOptsStr","_unused","devtools","overlays","urlRerouteOnly","isInBrowser","capturedEventListeners","hashchange","popstate","routingEventsListeningTo","url","href","currentTarget","preventDefault","current","parseUri","destination","indexOf","hash","host","pathname","search","history","pushState","callCapturedEventListeners","eventArguments","_this","eventType","listener","setUrlRerouteOnly","urlReroute","reroute","addEventListener","originalAddEventListener","originalRemoveEventListener","removeEventListener","patchedUpdateState","updateState","urlBefore","urlAfter","createPopStateEvent","state","PopStateEvent","evt","initPopStateEvent","eventName","listenerFn","replaceState","singleSpaNavigate","str","anchor","createElement","hasInitialized","jQuery","undefined","$","jquery","originalJQueryOn","on","originalJQueryOff","off","eventString","captureRoutingEvents","originalJQueryFunction","nativeFunctionToCall","originalArgs","split","replace","trim","appsToUnload","toUnloadPromise","unloadInfo","finishUnloadingApp","errorUnloadingApp","addAppToUnload","promiseGetter","get","getAppUnloadInfo","appName","getAppsToUnload","apps","getRawAppData","appNameOrConfig","appOrLoadApp","registration","sanitizeArguments","options","selectors","getAppsToLoad","getAppsToUnmount","getAppsToMount","unregisterApplication","appIndex","findIndex","splice","opts","waitForUnmount","App","appUnloadInfo","immediatelyUnloadApp","validateRegisterWithArguments","validateRegisterWithConfig","validKeys","invalidKeys","prop","includes","allowsStringAndFunction","every","sanitizeLoadApp","sanitizeCustomProps","sanitizeActiveWhen","activeWhenArray","activeWhenOrPath","pathToActiveWhen","some","path","regex","toDynamicPathValidatorRegex","route","origin","lastIndex","inDynamic","regexStr","charIndex","char","appendToRegex","RegExp","commonStringSubPath","appChangeUnderway","peopleWaitingOnAppChange","pendingPromises","appsThatChanged","isStarted","getCustomEventDetail","unloadPromises","addChangedApps","unmountUnloadPromises","allUnmountPromises","unmountAllPromise","appsToLoad","loadThenMountPromises","mountPromises","appToMount","callAllEventListeners","finishUpAndReturn","loadPromises","returnValue","appChangeEventName","nextPendingPromises","pendingPromise","_appsByNewStatus","newAppStatuses","appsByNewStatus","totalAppChanges","originalEvent","started","__SINGLE_SPA_DEVTOOLS__","exposedMethods"],"mappings":"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"}