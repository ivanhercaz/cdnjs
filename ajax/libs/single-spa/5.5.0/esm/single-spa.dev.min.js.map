{"version":3,"sources":["single-spa.dev.js"],"names":["singleSpa","Object","freeze","__proto__","start","ensureJQuerySupport","setBootstrapMaxTime","setMountMaxTime","setUnmountMaxTime","setUnloadMaxTime","registerApplication","getMountedApps","getAppStatus","unloadApplication","checkActivityFunctions","getAppNames","pathToActiveWhen","navigateToUrl","triggerAppChange","addErrorHandler","removeErrorHandler","mountRootParcel","NOT_LOADED","LOADING_SOURCE_CODE","NOT_BOOTSTRAPPED","BOOTSTRAPPING","NOT_MOUNTED","MOUNTING","UPDATING","LOAD_ERROR","MOUNTED","UNMOUNTING","SKIP_BECAUSE_BROKEN","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","defineProperty","enumerable","configurable","writable","commonjsGlobal","globalThis","window","global","self","NativeCustomEvent","CustomEvent","useNative","p","detail","foo","type","e","customEvent","document","createEvent","params","initCustomEvent","bubbles","cancelable","createEventObject","Boolean","errorHandlers","handleAppError","err","app","newStatus","transformedErr","transformErr","length","forEach","handler","setTimeout","Error","formatErrorMessage","push","removedSomething","filter","h","isHandler","code","msg","_len","arguments","args","Array","_key","concat","join","ogErr","appOrParcel","result","errPrefix","objectType","toName","status","message","console","warn","JSON","stringify","appOrParcelName","UNLOADING","isActive","shouldBeActive","activeWhen","location","name","isParcel","unmountThisParcel","assign","i","find","arr","func","validLifecycleFn","fn","isArray","item","flattenFnArray","lifecycle","fns","Promise","resolve","props","reduce","resultPromise","index","then","thisPromise","smellsLikeAPromise","reject","promise","catch","toBootstrapPromise","hardFail","reasonableTime","toUnmountPromise","unmountChildrenParcels","keys","parcels","map","parcelId","all","unmountAppOrParcel","parcelError","parentError","beforeFirstMountFired","firstMountFired","toMountPromise","dispatchEvent","setSkipBecauseBroken","toUpdatePromise","parcel","parcelCount","rootParcels","mountParcel","apply","config","customProps","owningAppOrParcel","this","domElement","externalRepresentation","id","passedConfigLoadingFunction","configLoadingFunction","parentName","resolveUnmount","rejectUnmount","loadPromise","bootstrapPromise","bootstrap","mount","unmount","update","timeouts","ensureValidAppTimeouts","promiseWithoutReturnValue","mountPromise","unmountPromise","getStatus","getProps","bind","unmountSelf","defaultWarningMillis","globalTimeoutConfig","millis","dieOnTimeout","warningMillis","unload","time","timeoutConfig","warningPeriod","finished","errored","val","maybeTimingOut","errMsg","shouldError","error","numWarnings","numMillis","toLoadPromise","loadApp","isUserErr","validationErrMessage","validationErrCode","loadErrorTime","appOpts","appOptsStr","_unused","devtools","overlays","Date","getTime","urlRerouteOnly","isInBrowser","capturedEventListeners","hashchange","popstate","routingEventsListeningTo","url","href","currentTarget","preventDefault","current","parseUri","destination","indexOf","hash","host","pathname","search","history","pushState","callCapturedEventListeners","eventArguments","_this","eventType","listener","setUrlRerouteOnly","urlReroute","reroute","patchedUpdateState","updateState","methodName","urlBefore","urlAfter","createPopStateEvent","state","originalMethodName","evt","PopStateEvent","initPopStateEvent","singleSpaTrigger","addEventListener","originalAddEventListener","originalRemoveEventListener","removeEventListener","eventName","listenerFn","replaceState","singleSpaNavigate","str","anchor","createElement","hasInitialized","jQuery","undefined","$","jquery","originalJQueryOn","on","originalJQueryOff","off","eventString","captureRoutingEvents","call","originalJQueryFunction","nativeFunctionToCall","originalArgs","split","replace","trim","appsToUnload","toUnloadPromise","unloadInfo","finishUnloadingApp","errorUnloadingApp","addAppToUnload","promiseGetter","get","getAppUnloadInfo","appName","apps","getAppChanges","appsToUnmount","appsToLoad","appsToMount","currentTime","appShouldBeActive","getRawAppData","appNameOrConfig","appOrLoadApp","registration","sanitizeArguments","options","selectors","unregisterApplication","appIndex","findIndex","splice","opts","waitForUnmount","App","appUnloadInfo","immediatelyUnloadApp","validateRegisterWithArguments","validCustomProps","validateRegisterWithConfig","validKeys","invalidKeys","prop","includes","allowsStringAndFunction","every","sanitizeLoadApp","sanitizeCustomProps","sanitizeActiveWhen","activeWhenArray","activeWhenOrPath","some","path","regex","toDynamicPathValidatorRegex","route","origin","test","lastIndex","inDynamic","regexStr","charIndex","char","appendToRegex","RegExp","commonStringSubPath","slice","appChangeUnderway","peopleWaitingOnAppChange","pendingPromises","appsThatChanged","_getAppChanges","isStarted","getCustomEventDetail","unloadPromises","unmountUnloadPromises","allUnmountPromises","unmountAllPromise","loadThenMountPromises","tryToBootstrapAndMount","mountPromises","appToMount","callAllEventListeners","finishUpAndReturn","loadPromises","returnValue","appChangeEventName","nextPendingPromises","pendingPromise","_appsByNewStatus","isBeforeChanges","newAppStatuses","appsByNewStatus","addApp","totalAppChanges","originalEvent","started","__SINGLE_SPA_DEVTOOLS__","exposedMethods"],"mappings":"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"}