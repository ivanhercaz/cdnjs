{"version":3,"file":"tippy.iife.min.js","sources":["../src/props.ts","../src/browser.ts","../src/constants.ts","../src/bindGlobalEventListeners.ts","../src/reference.ts","../src/utils.ts","../src/popper.ts","../src/plugins.ts","../src/createTippy.ts","../src/index.ts","../src/plugins/sticky.ts","../build/base-iife.js","../src/plugins/followCursor.ts","../src/addons/createSingleton.ts","../src/addons/delegate.ts"],"sourcesContent":["import { Props } from './types'\n\nexport const defaultProps: Props = {\n  allowHTML: true,\n  animateFill: false,\n  animation: 'fade',\n  appendTo: (): Element => document.body,\n  aria: 'describedby',\n  arrow: true,\n  boundary: 'scrollParent',\n  content: '',\n  delay: 0,\n  distance: 10,\n  duration: [300, 250],\n  flip: true,\n  flipBehavior: 'flip',\n  flipOnUpdate: false,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  inertia: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  lazy: true,\n  maxWidth: 350,\n  multiple: false,\n  offset: 0,\n  onCreate(): void {},\n  onDestroy(): void {},\n  onHidden(): void {},\n  onHide(): void | false {},\n  onMount(): void {},\n  onPropsUpdated(): void {},\n  onShow(): void | false {},\n  onShown(): void {},\n  onTrigger(): void {},\n  onUntrigger(): void {},\n  placement: 'top',\n  popperOptions: {},\n  role: 'tooltip',\n  showOnCreate: false,\n  theme: '',\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null,\n  updateDuration: 0,\n  zIndex: 9999,\n}\n\n/**\n * If the setProps() method encounters one of these, the popperInstance must be\n * recreated\n */\nexport const POPPER_INSTANCE_DEPENDENCIES: Array<keyof Props> = [\n  'arrow',\n  'boundary',\n  'distance',\n  'flip',\n  'flipBehavior',\n  'flipOnUpdate',\n  'offset',\n  'placement',\n  'popperOptions',\n]\n","export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined'\n\nconst ua = isBrowser ? navigator.userAgent : ''\n\nexport const isIE = /MSIE |Trident\\//.test(ua)\nexport const isUCBrowser = /UCBrowser\\//.test(ua)\nexport const isIOS = isBrowser && /iPhone|iPad|iPod/.test(navigator.platform)\n","export const PASSIVE = { passive: true }\n\nexport const PREVENT_OVERFLOW_PADDING = 5\n\nexport const ROUND_ARROW_INNER_HTML =\n  '<svg viewBox=\"0 0 18 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z\"/></svg>'\n\nexport const IOS_CLASS = `__NAMESPACE_PREFIX__-iOS`\nexport const POPPER_CLASS = `__NAMESPACE_PREFIX__-popper`\nexport const TOOLTIP_CLASS = `__NAMESPACE_PREFIX__-tooltip`\nexport const CONTENT_CLASS = `__NAMESPACE_PREFIX__-content`\nexport const BACKDROP_CLASS = `__NAMESPACE_PREFIX__-backdrop`\nexport const ARROW_CLASS = `__NAMESPACE_PREFIX__-arrow`\nexport const SVG_ARROW_CLASS = `__NAMESPACE_PREFIX__-svg-arrow`\n\nexport const POPPER_SELECTOR = `.${POPPER_CLASS}`\nexport const TOOLTIP_SELECTOR = `.${TOOLTIP_CLASS}`\nexport const CONTENT_SELECTOR = `.${CONTENT_CLASS}`\nexport const BACKDROP_SELECTOR = `.${BACKDROP_CLASS}`\nexport const ARROW_SELECTOR = `.${ARROW_CLASS}`\nexport const SVG_ARROW_SELECTOR = `.${SVG_ARROW_CLASS}`\n","import { isIOS } from './browser'\nimport { PASSIVE, IOS_CLASS } from './constants'\n\nexport const currentInput = { isTouch: false }\nlet lastMouseMoveTime = 0\n\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\nexport function onDocumentTouchStart(): void {\n  if (currentInput.isTouch) {\n    return\n  }\n\n  currentInput.isTouch = true\n\n  if (isIOS) {\n    document.body.classList.add(IOS_CLASS)\n  }\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove)\n  }\n}\n\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\nexport function onDocumentMouseMove(): void {\n  const now = performance.now()\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false\n\n    document.removeEventListener('mousemove', onDocumentMouseMove)\n\n    if (!isIOS) {\n      document.body.classList.remove(IOS_CLASS)\n    }\n  }\n\n  lastMouseMoveTime = now\n}\n\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\nexport function onWindowBlur(): void {\n  const { activeElement }: { activeElement: any } = document\n  const instance = activeElement._tippy\n\n  if (\n    activeElement &&\n    activeElement.blur &&\n    instance &&\n    !instance.state.isVisible\n  ) {\n    activeElement.blur()\n  }\n}\n\n/**\n * Adds the needed global event listeners\n */\nexport default function bindGlobalEventListeners(): void {\n  document.addEventListener('touchstart', onDocumentTouchStart, {\n    ...PASSIVE,\n    capture: true,\n  })\n  window.addEventListener('blur', onWindowBlur)\n}\n","import { ReferenceElement, Props } from './types'\nimport { defaultProps } from './props'\n\nconst keys = Object.keys(defaultProps)\n\n/**\n * Returns an object of optional props from data-tippy-* attributes\n */\nexport function getDataAttributeProps(reference: ReferenceElement): Props {\n  const props = keys.reduce((acc: any, key): Partial<Props> => {\n    const valueAsString = (\n      reference.getAttribute(`data-tippy-${key}`) || ''\n    ).trim()\n\n    if (!valueAsString) {\n      return acc\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString)\n      } catch (e) {\n        acc[key] = valueAsString\n      }\n    }\n\n    return acc\n  }, {})\n\n  return props\n}\n","import { Props, ReferenceElement, Targets } from './types'\nimport { isUCBrowser } from './browser'\nimport { getDataAttributeProps } from './reference'\nimport { POPPER_CLASS } from './constants'\n\n/**\n * Determines if the value is a reference element\n */\nexport function isReferenceElement(value: any): value is ReferenceElement {\n  return !!(value && value._tippy && !value.classList.contains(POPPER_CLASS))\n}\n\n/**\n * Safe .hasOwnProperty check, for prototype-less objects\n */\nexport function hasOwnProperty(obj: object, key: string): boolean {\n  return {}.hasOwnProperty.call(obj, key)\n}\n\n/**\n * Returns an array of elements based on the value\n */\nexport function getArrayOfElements(value: Targets): Element[] {\n  if (isRealElement(value)) {\n    return [value]\n  }\n\n  if (value instanceof NodeList) {\n    return arrayFrom(value)\n  }\n\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  return arrayFrom(document.querySelectorAll(value))\n}\n\n/**\n * Returns a value at a given index depending on if it's an array or number\n */\nexport function getValueAtIndexOrReturn<T>(\n  value: T | T[],\n  index: number,\n  defaultValue: T | T[],\n): T {\n  if (Array.isArray(value)) {\n    const v = value[index]\n    return v == null\n      ? Array.isArray(defaultValue)\n        ? defaultValue[index]\n        : defaultValue\n      : v\n  }\n\n  return value\n}\n\n/**\n * Prevents errors from being thrown while accessing nested modifier objects\n * in `popperOptions`\n */\nexport function getModifier(obj: any, key: string): any {\n  return obj && obj.modifiers && obj.modifiers[key]\n}\n\n/**\n * Determines if the value is a real element\n */\nexport function isRealElement(value: any): value is Element {\n  return value instanceof Element\n}\n\n/**\n * Firefox extensions don't allow setting .innerHTML directly, this will trick\n * it\n */\nexport function innerHTML(): 'innerHTML' {\n  return 'innerHTML'\n}\n\n/**\n * Evaluates a function if one, or returns the value\n */\nexport function invokeWithArgsOrReturn(value: any, args: any[]): any {\n  return typeof value === 'function' ? value(...args) : value\n}\n\n/**\n * Sets a popperInstance `flip` modifier's enabled state\n */\nexport function setFlipModifierEnabled(modifiers: any[], value: any): void {\n  modifiers.filter((m): boolean => m.name === 'flip')[0].enabled = value\n}\n\n/**\n * Returns a new `div` element\n */\nexport function div(): HTMLDivElement {\n  return document.createElement('div')\n}\n\n/**\n * Applies a transition duration to a list of elements\n */\nexport function setTransitionDuration(\n  els: (HTMLDivElement | null)[],\n  value: number,\n): void {\n  els.forEach((el): void => {\n    if (el) {\n      el.style.transitionDuration = `${value}ms`\n    }\n  })\n}\n\n/**\n * Sets the visibility state to elements so they can begin to transition\n */\nexport function setVisibilityState(\n  els: (HTMLDivElement | null)[],\n  state: 'visible' | 'hidden',\n): void {\n  els.forEach((el): void => {\n    if (el) {\n      el.setAttribute('data-state', state)\n    }\n  })\n}\n\n/**\n * Evaluates the props object by merging data attributes and disabling\n * conflicting props where necessary\n */\nexport function evaluateProps(\n  reference: ReferenceElement,\n  props: Props,\n): Props {\n  const out = {\n    ...props,\n    content: invokeWithArgsOrReturn(props.content, [reference]),\n    ...(props.ignoreAttributes ? {} : getDataAttributeProps(reference)),\n  }\n\n  if (out.animateFill) {\n    out.arrow = false\n  }\n\n  if (out.arrow || isUCBrowser) {\n    out.animateFill = false\n  }\n\n  if (out.interactive) {\n    out.aria = null\n  }\n\n  return out\n}\n\n/**\n * Debounce utility. To avoid bloating bundle size, we're only passing 1\n * argument here, a more generic function would pass all arguments. Only\n * `onMouseMove` uses this which takes the event object for now.\n */\nexport function debounce<T>(\n  fn: (arg: T) => void,\n  ms: number,\n): (arg: T) => void {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn\n  }\n\n  let timeout: any\n\n  return (arg): void => {\n    clearTimeout(timeout)\n    timeout = setTimeout((): void => {\n      fn(arg)\n    }, ms)\n  }\n}\n\n/**\n * Preserves the original function invocation when another function replaces it\n */\nexport function preserveInvocation<T>(\n  originalFn: undefined | ((...args: any) => void),\n  currentFn: undefined | ((...args: any) => void),\n  args: T[],\n): void {\n  if (originalFn && originalFn !== currentFn) {\n    originalFn(...args)\n  }\n}\n\n/**\n * Deletes properties from an object (pure)\n */\nexport function removeProperties<T>(obj: T, keys: Array<keyof T>): Partial<T> {\n  const clone = { ...obj }\n  keys.forEach((key): void => {\n    delete clone[key]\n  })\n  return clone\n}\n\n/**\n * Ponyfill for Array.from - converts iterable values to an array\n */\nexport function arrayFrom(value: ArrayLike<any>): any[] {\n  return [].slice.call(value)\n}\n\n/**\n * Works like Element.prototype.closest, but uses a callback instead\n */\nexport function closestCallback(\n  element: Element | null,\n  callback: Function,\n): Element | null {\n  while (element) {\n    if (callback(element)) {\n      return element\n    }\n\n    element = element.parentElement\n  }\n\n  return null\n}\n\n/**\n * Determines if an array or string includes a string\n */\nexport function includes(a: string[] | string, b: string): boolean {\n  return a.indexOf(b) > -1\n}\n\n/**\n * Creates an array from string of values separated by whitespace\n */\nexport function splitBySpaces(value: string): string[] {\n  return value.split(/\\s+/).filter(Boolean)\n}\n\n/**\n * Returns the `nextValue` if `nextValue` is not `undefined`, otherwise returns\n * `currentValue`\n */\nexport function useIfDefined(nextValue: any, currentValue: any): any {\n  return nextValue !== undefined ? nextValue : currentValue\n}\n\n/**\n * Converts a value that's an array or single value to an array\n */\nexport function normalizeToArray<T>(value: T | T[]): T[] {\n  // @ts-ignore\n  return [].concat(value)\n}\n","import {\n  PopperElement,\n  Props,\n  PopperChildren,\n  BasePlacement,\n  Placement,\n} from './types'\nimport { innerHTML, div, isRealElement, splitBySpaces } from './utils'\nimport { isUCBrowser } from './browser'\nimport {\n  POPPER_CLASS,\n  TOOLTIP_CLASS,\n  BACKDROP_CLASS,\n  CONTENT_CLASS,\n  ARROW_CLASS,\n  SVG_ARROW_CLASS,\n  TOOLTIP_SELECTOR,\n  BACKDROP_SELECTOR,\n  CONTENT_SELECTOR,\n  ARROW_SELECTOR,\n  SVG_ARROW_SELECTOR,\n  ROUND_ARROW_INNER_HTML,\n} from './constants'\n\n/**\n * Sets the innerHTML of an element\n */\nexport function setInnerHTML(element: Element, html: string | Element): void {\n  element[innerHTML()] = isRealElement(html) ? html[innerHTML()] : html\n}\n\n/**\n * Sets the content of a tooltip\n */\nexport function setContent(\n  contentEl: PopperChildren['content'],\n  props: Props,\n): void {\n  if (isRealElement(props.content)) {\n    setInnerHTML(contentEl, '')\n    contentEl.appendChild(props.content)\n  } else if (typeof props.content !== 'function') {\n    const key: 'innerHTML' | 'textContent' = props.allowHTML\n      ? 'innerHTML'\n      : 'textContent'\n    contentEl[key] = props.content\n  }\n}\n\n/**\n * Returns the child elements of a popper element\n */\nexport function getChildren(popper: PopperElement): PopperChildren {\n  return {\n    tooltip: popper.querySelector(TOOLTIP_SELECTOR) as HTMLDivElement,\n    backdrop: popper.querySelector(BACKDROP_SELECTOR),\n    content: popper.querySelector(CONTENT_SELECTOR) as HTMLDivElement,\n    arrow:\n      popper.querySelector(ARROW_SELECTOR) ||\n      popper.querySelector(SVG_ARROW_SELECTOR),\n  }\n}\n\n/**\n * Adds `data-inertia` attribute\n */\nexport function addInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-inertia', '')\n}\n\n/**\n * Removes `data-inertia` attribute\n */\nexport function removeInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-inertia')\n}\n\n/**\n * Creates an arrow element and returns it\n */\nexport function createArrowElement(arrow: Props['arrow']): HTMLDivElement {\n  const arrowElement = div()\n\n  if (arrow === true) {\n    arrowElement.className = ARROW_CLASS\n  } else {\n    arrowElement.className = SVG_ARROW_CLASS\n\n    if (isRealElement(arrow)) {\n      arrowElement.appendChild(arrow)\n    } else {\n      setInnerHTML(\n        arrowElement,\n        arrow === 'round' ? ROUND_ARROW_INNER_HTML : (arrow as string),\n      )\n    }\n  }\n\n  return arrowElement\n}\n\n/**\n * Creates a backdrop element and returns it\n */\nexport function createBackdropElement(isVisible: boolean): HTMLDivElement {\n  const backdrop = div()\n  backdrop.className = BACKDROP_CLASS\n  backdrop.setAttribute('data-state', isVisible ? 'visible' : 'hidden')\n  return backdrop\n}\n\n/**\n * Adds interactive-related attributes\n */\nexport function addInteractive(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-interactive', '')\n}\n\n/**\n * Removes interactive-related attributes\n */\nexport function removeInteractive(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-interactive')\n}\n\n/**\n * Add/remove transitionend listener from tooltip\n */\nexport function updateTransitionEndListener(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  listener: (event: TransitionEvent) => void,\n): void {\n  const eventName =\n    isUCBrowser && document.body.style.webkitTransition !== undefined\n      ? 'webkitTransitionEnd'\n      : 'transitionend'\n  tooltip[\n    (action + 'EventListener') as 'addEventListener' | 'removeEventListener'\n  ](eventName, listener as EventListener)\n}\n\n/**\n * Returns the popper's placement, ignoring shifting (top-start, etc)\n */\nexport function getBasePlacement(placement: Placement): BasePlacement {\n  return placement.split('-')[0] as BasePlacement\n}\n\n/**\n * Triggers reflow\n */\nexport function reflow(popper: PopperElement): void {\n  void popper.offsetHeight\n}\n\n/**\n * Adds/removes theme from tooltip's classList\n */\nexport function updateTheme(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  theme: Props['theme'],\n): void {\n  splitBySpaces(theme).forEach((name): void => {\n    tooltip.classList[action](`${name}-theme`)\n  })\n}\n\n/**\n * Constructs the popper element and returns it\n */\nexport function createPopperElement(id: number, props: Props): PopperElement {\n  const popper = div()\n  popper.className = POPPER_CLASS\n  popper.style.position = 'absolute'\n  popper.style.top = '0'\n  popper.style.left = '0'\n\n  const tooltip = div()\n  tooltip.className = TOOLTIP_CLASS\n  tooltip.id = `__NAMESPACE_PREFIX__-${id}`\n  tooltip.setAttribute('data-state', 'hidden')\n  tooltip.setAttribute('tabindex', '-1')\n\n  updateTheme(tooltip, 'add', props.theme)\n\n  const content = div()\n  content.className = CONTENT_CLASS\n  content.setAttribute('data-state', 'hidden')\n\n  if (props.interactive) {\n    addInteractive(tooltip)\n  }\n\n  if (props.arrow) {\n    tooltip.setAttribute('data-arrow', '')\n    tooltip.appendChild(createArrowElement(props.arrow))\n  }\n\n  if (props.animateFill) {\n    tooltip.appendChild(createBackdropElement(false))\n    tooltip.setAttribute('data-animatefill', '')\n  }\n\n  if (props.inertia) {\n    addInertia(tooltip)\n  }\n\n  setContent(content, props)\n\n  tooltip.appendChild(content)\n  popper.appendChild(tooltip)\n\n  updatePopperElement(popper, props, props, false)\n\n  return popper\n}\n\n/**\n * Updates the popper element based on the new props\n */\nexport function updatePopperElement(\n  popper: PopperElement,\n  prevProps: Props,\n  nextProps: Props,\n  isVisible: boolean,\n): void {\n  const { tooltip, content, backdrop, arrow } = getChildren(popper)\n\n  popper.style.zIndex = '' + nextProps.zIndex\n\n  tooltip.setAttribute('data-animation', nextProps.animation)\n  tooltip.style.maxWidth =\n    nextProps.maxWidth + (typeof nextProps.maxWidth === 'number' ? 'px' : '')\n\n  if (nextProps.role) {\n    tooltip.setAttribute('role', nextProps.role)\n  } else {\n    tooltip.removeAttribute('role')\n  }\n\n  if (prevProps.content !== nextProps.content) {\n    setContent(content, nextProps)\n  }\n\n  // animateFill\n  if (!prevProps.animateFill && nextProps.animateFill) {\n    tooltip.appendChild(createBackdropElement(isVisible))\n    tooltip.setAttribute('data-animatefill', '')\n  } else if (prevProps.animateFill && !nextProps.animateFill) {\n    tooltip.removeChild(backdrop!)\n    tooltip.removeAttribute('data-animatefill')\n  }\n\n  // arrow\n  if (!prevProps.arrow && nextProps.arrow) {\n    // false to true\n    tooltip.appendChild(createArrowElement(nextProps.arrow))\n    tooltip.setAttribute('data-arrow', '')\n  } else if (prevProps.arrow && !nextProps.arrow) {\n    // true to false\n    tooltip.removeChild(arrow!)\n    tooltip.removeAttribute('data-arrow')\n  } else if (prevProps.arrow !== nextProps.arrow) {\n    // true to 'round' or vice-versa\n    tooltip.removeChild(arrow!)\n    tooltip.appendChild(createArrowElement(nextProps.arrow))\n  }\n\n  // interactive\n  if (!prevProps.interactive && nextProps.interactive) {\n    addInteractive(tooltip)\n  } else if (prevProps.interactive && !nextProps.interactive) {\n    removeInteractive(tooltip)\n  }\n\n  // inertia\n  if (!prevProps.inertia && nextProps.inertia) {\n    addInertia(tooltip)\n  } else if (prevProps.inertia && !nextProps.inertia) {\n    removeInertia(tooltip)\n  }\n\n  // theme\n  if (prevProps.theme !== nextProps.theme) {\n    updateTheme(tooltip, 'remove', prevProps.theme)\n    updateTheme(tooltip, 'add', nextProps.theme)\n  }\n}\n\n/**\n * Determines if the mouse cursor is outside of the popper's interactive border\n * region\n */\nexport function isCursorOutsideInteractiveBorder(\n  popperPlacement: BasePlacement,\n  popperRect: ClientRect,\n  event: MouseEvent,\n  props: Props,\n): boolean {\n  if (!popperPlacement) {\n    return true\n  }\n\n  const { clientX: x, clientY: y } = event\n  const { interactiveBorder, distance } = props\n\n  const exceedsTop =\n    popperRect.top - y >\n    (popperPlacement === 'top'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsBottom =\n    y - popperRect.bottom >\n    (popperPlacement === 'bottom'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsLeft =\n    popperRect.left - x >\n    (popperPlacement === 'left'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsRight =\n    x - popperRect.right >\n    (popperPlacement === 'right'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight\n}\n","import { Plugin } from './types'\n\nexport const plugins: Plugin[] = []\n\nexport function use(plugin: Plugin): void {\n  if (plugins.indexOf(plugin) === -1) {\n    plugins.push(plugin)\n  }\n}\n","import Popper from 'popper.js'\nimport {\n  ReferenceElement,\n  PopperInstance,\n  Props,\n  Instance,\n  Content,\n} from './types'\nimport { isIE } from './browser'\nimport { PASSIVE, PREVENT_OVERFLOW_PADDING } from './constants'\nimport { currentInput } from './bindGlobalEventListeners'\nimport { defaultProps, POPPER_INSTANCE_DEPENDENCIES } from './props'\nimport {\n  createPopperElement,\n  updatePopperElement,\n  getChildren,\n  getBasePlacement,\n  updateTransitionEndListener,\n  isCursorOutsideInteractiveBorder,\n  reflow,\n} from './popper'\nimport {\n  hasOwnProperty,\n  getValueAtIndexOrReturn,\n  getModifier,\n  includes,\n  invokeWithArgsOrReturn,\n  setFlipModifierEnabled,\n  evaluateProps,\n  setTransitionDuration,\n  setVisibilityState,\n  debounce,\n  preserveInvocation,\n  closestCallback,\n  splitBySpaces,\n  normalizeToArray,\n} from './utils'\nimport {\n  warnWhen,\n  validateProps,\n  createMemoryLeakWarning,\n  INTERACTIVE_A11Y_WARNING,\n} from './validation'\nimport { plugins } from './plugins'\n\ninterface PaddingObject {\n  top: number\n  right: number\n  bottom: number\n  left: number\n}\n\ninterface Listener {\n  node: Element\n  eventType: string\n  handler: EventListenerOrEventListenerObject\n  options: boolean | object\n}\n\nlet idCounter = 1\n// Workaround for IE11's lack of new MouseEvent constructor\nlet mouseMoveListeners: ((event: MouseEvent) => void)[] = []\n\n/**\n * Creates and returns a Tippy object. We're using a closure pattern instead of\n * a class so that the exposed object API is clean without private members\n * prefixed with `_`.\n */\nexport default function createTippy(\n  reference: ReferenceElement,\n  collectionProps: Props,\n): Instance | null {\n  const props = evaluateProps(reference, collectionProps)\n\n  // If the reference shouldn't have multiple tippys, return null early\n  if (!props.multiple && reference._tippy) {\n    return null\n  }\n\n  /* ======================= 🔒 Private members 🔒 ======================= */\n  let showTimeout: any\n  let hideTimeout: any\n  let scheduleHideAnimationFrame: number\n  let isBeingDestroyed = false\n  let didHideDueToDocumentMouseDown = false\n  let popperUpdates = 0\n  let lastTriggerEvent: Event\n  let currentMountCallback: () => void\n  let currentTransitionEndListener: (event: TransitionEvent) => void\n  let listeners: Listener[] = []\n  let debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce)\n\n  /* ======================= 🔑 Public members 🔑 ======================= */\n  const id = idCounter++\n  const popper = createPopperElement(id, props)\n  const popperChildren = getChildren(popper)\n  const popperInstance: PopperInstance | null = null\n\n  // These two elements are static\n  const { tooltip, content } = popperChildren\n\n  const state = {\n    // The current real placement (`data-placement` attribute)\n    currentPlacement: props.placement,\n    // Does the instance have a pending timeout for show()?\n    isScheduledToShow: false,\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false,\n  }\n\n  const instance: Instance = {\n    // properties\n    id,\n    reference,\n    popper,\n    popperChildren,\n    popperInstance,\n    props,\n    state,\n    // methods\n    clearDelayTimeouts,\n    setProps,\n    setContent,\n    show,\n    hide,\n    enable,\n    disable,\n    destroy,\n  }\n\n  /* ==================== Initial instance mutations =================== */\n  reference._tippy = instance\n  popper._tippy = instance\n\n  const instancePlugins = plugins.map(plugin => plugin(instance))\n\n  invokeHook('onCreate', [instance])\n\n  addListenersToTriggerTarget()\n  handleAriaExpandedAttribute()\n\n  if (!props.lazy) {\n    createPopperInstance()\n  }\n\n  if (props.showOnCreate) {\n    scheduleShow()\n  }\n\n  // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n  popper.addEventListener('mouseenter', (): void => {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts()\n    }\n  })\n  popper.addEventListener('mouseleave', (): void => {\n    if (\n      instance.props.interactive &&\n      includes(instance.props.trigger, 'mouseenter')\n    ) {\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n    }\n  })\n\n  return instance\n\n  /* ======================= 🔒 Private methods 🔒 ======================= */\n  function getNormalizedTouchSettings(): [string | boolean, number] {\n    const { touch } = instance.props\n    return Array.isArray(touch) ? touch : [touch, 0]\n  }\n\n  function getIsCustomTouchBehavior(): boolean {\n    return getNormalizedTouchSettings()[0] === 'hold'\n  }\n\n  function getTransitionableElements(): (HTMLDivElement | null)[] {\n    return [tooltip, content, instance.popperChildren.backdrop]\n  }\n\n  function getCurrentTarget(): Element {\n    return lastTriggerEvent ? (lastTriggerEvent.target as Element) : reference\n  }\n\n  function getDelay(isShow: boolean): number {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    return currentInput.isTouch ||\n      (lastTriggerEvent ? lastTriggerEvent.type === 'focus' : true)\n      ? 0\n      : getValueAtIndexOrReturn(\n          instance.props.delay,\n          isShow ? 0 : 1,\n          defaultProps.delay,\n        )\n  }\n\n  function invokeHook(\n    hook:\n      | 'onCreate'\n      | 'onDestroy'\n      | 'onHidden'\n      | 'onHide'\n      | 'onMount'\n      | 'onPropsUpdated'\n      | 'onShow'\n      | 'onShown'\n      | 'onTrigger'\n      | 'onUntrigger',\n    args: [Instance, (Event | Partial<Props>)?],\n    shouldInvokePropsHook = true,\n  ): void {\n    if (shouldInvokePropsHook) {\n      // @ts-ignore\n      instance.props[hook](...args)\n    }\n\n    instancePlugins.forEach(plugin => {\n      if (hasOwnProperty(plugin, hook)) {\n        // @ts-ignore\n        plugin[hook](...args)\n      }\n    })\n  }\n\n  function handleAriaDescribedByAttribute(): void {\n    const { aria } = instance.props\n\n    if (!aria) {\n      return\n    }\n\n    const attr = `aria-${aria}`\n    const id = tooltip.id\n    const nodes = normalizeToArray(instance.props.triggerTarget || reference)\n\n    nodes.forEach((node): void => {\n      const currentValue = node.getAttribute(attr)\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? `${currentValue} ${id}` : id)\n      } else {\n        const nextValue = currentValue && currentValue.replace(id, '').trim()\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue)\n        } else {\n          node.removeAttribute(attr)\n        }\n      }\n    })\n  }\n\n  function handleAriaExpandedAttribute(): void {\n    const nodes = normalizeToArray(instance.props.triggerTarget || reference)\n\n    nodes.forEach((node): void => {\n      if (instance.props.interactive) {\n        node.setAttribute(\n          'aria-expanded',\n          instance.state.isVisible && node === getCurrentTarget()\n            ? 'true'\n            : 'false',\n        )\n      } else {\n        node.removeAttribute('aria-expanded')\n      }\n    })\n  }\n\n  function cleanupInteractiveMouseListeners(): void {\n    document.body.removeEventListener('mouseleave', scheduleHide)\n    document.removeEventListener('mousemove', debouncedOnMouseMove)\n    mouseMoveListeners = mouseMoveListeners.filter(\n      (listener): boolean => listener !== debouncedOnMouseMove,\n    )\n  }\n\n  function onDocumentMouseDown(event: MouseEvent): void {\n    // Clicked on interactive popper\n    if (\n      instance.props.interactive &&\n      popper.contains(event.target as Element)\n    ) {\n      return\n    }\n\n    // Clicked on the event listeners target\n    if (getCurrentTarget().contains(event.target as Element)) {\n      if (currentInput.isTouch) {\n        return\n      }\n\n      if (\n        instance.state.isVisible &&\n        includes(instance.props.trigger, 'click')\n      ) {\n        return\n      }\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts()\n      instance.hide()\n\n      // `mousedown` event is fired right before `focus`. This lets a tippy with\n      // `focus` trigger know that it should not show\n      didHideDueToDocumentMouseDown = true\n      setTimeout((): void => {\n        didHideDueToDocumentMouseDown = false\n      })\n\n      // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n      if (!instance.state.isMounted) {\n        removeDocumentMouseDownListener()\n      }\n    }\n  }\n\n  function addDocumentMouseDownListener(): void {\n    document.addEventListener('mousedown', onDocumentMouseDown, true)\n  }\n\n  function removeDocumentMouseDownListener(): void {\n    document.removeEventListener('mousedown', onDocumentMouseDown, true)\n  }\n\n  function onTransitionedOut(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, (): void => {\n      if (\n        !instance.state.isVisible &&\n        popper.parentNode &&\n        popper.parentNode.contains(popper)\n      ) {\n        callback()\n      }\n    })\n  }\n\n  function onTransitionedIn(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, callback)\n  }\n\n  function onTransitionEnd(duration: number, callback: () => void): void {\n    /**\n     * Listener added as the `transitionend` handler\n     */\n    function listener(event: TransitionEvent): void {\n      if (event.target === tooltip) {\n        updateTransitionEndListener(tooltip, 'remove', listener)\n        callback()\n      }\n    }\n\n    // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n    if (duration === 0) {\n      return callback()\n    }\n\n    updateTransitionEndListener(tooltip, 'remove', currentTransitionEndListener)\n    updateTransitionEndListener(tooltip, 'add', listener)\n\n    currentTransitionEndListener = listener\n  }\n\n  function on(\n    eventType: string,\n    handler: EventListener,\n    options: boolean | object = false,\n  ): void {\n    const nodes = normalizeToArray(instance.props.triggerTarget || reference)\n    nodes.forEach(node => {\n      node.addEventListener(eventType, handler, options)\n      listeners.push({ node, eventType, handler, options })\n    })\n  }\n\n  function addListenersToTriggerTarget(): void {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, PASSIVE)\n      on('touchend', onMouseLeave as EventListener, PASSIVE)\n    }\n\n    // `click` for keyboard. Mouse uses `mousedown` (onDocumentMouseDown)\n    if (!includes(instance.props.trigger, 'click')) {\n      on('click', (): void => {\n        if (!currentInput.isTouch && instance.props.hideOnClick === true) {\n          instance.hide()\n        }\n      })\n    }\n\n    splitBySpaces(instance.props.trigger).forEach((eventType): void => {\n      if (eventType === 'manual') {\n        return\n      }\n\n      on(eventType, onTrigger)\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave as EventListener)\n          break\n        case 'focus':\n          on(isIE ? 'focusout' : 'blur', onBlur as EventListener)\n          break\n      }\n    })\n  }\n\n  function removeListenersFromTriggerTarget(): void {\n    listeners.forEach(\n      ({ node, eventType, handler, options }: Listener): void => {\n        node.removeEventListener(eventType, handler, options)\n      },\n    )\n    listeners = []\n  }\n\n  function onTrigger(event: Event): void {\n    if (\n      didHideDueToDocumentMouseDown ||\n      !instance.state.isEnabled ||\n      isEventListenerStopped(event)\n    ) {\n      return\n    }\n\n    lastTriggerEvent = event\n\n    handleAriaExpandedAttribute()\n\n    if (!instance.state.isVisible && event instanceof MouseEvent) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach((listener): void => listener(event))\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      instance.props.hideOnClick !== false &&\n      instance.state.isVisible\n    ) {\n      scheduleHide(event)\n    } else {\n      const [value, duration] = getNormalizedTouchSettings()\n\n      if (currentInput.isTouch && value === 'hold' && duration) {\n        // We can hijack the show timeout here, it will be cleared by\n        // `scheduleHide()` when necessary\n        showTimeout = setTimeout((): void => {\n          scheduleShow(event)\n        }, duration)\n      } else {\n        scheduleShow(event)\n      }\n    }\n  }\n\n  function onMouseMove(event: MouseEvent): void {\n    const isCursorOverReferenceOrPopper = closestCallback(\n      event.target as Element,\n      (el: Element): boolean => el === reference || el === popper,\n    )\n\n    if (isCursorOverReferenceOrPopper) {\n      return\n    }\n\n    if (\n      isCursorOutsideInteractiveBorder(\n        getBasePlacement(instance.state.currentPlacement),\n        popper.getBoundingClientRect(),\n        event,\n        instance.props,\n      )\n    ) {\n      cleanupInteractiveMouseListeners()\n      scheduleHide(event)\n    }\n  }\n\n  function onMouseLeave(event: MouseEvent): void {\n    if (isEventListenerStopped(event)) {\n      return\n    }\n\n    if (instance.props.interactive) {\n      document.body.addEventListener('mouseleave', scheduleHide)\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n      mouseMoveListeners.push(debouncedOnMouseMove)\n\n      return\n    }\n\n    scheduleHide(event)\n  }\n\n  function onBlur(event: FocusEvent): void {\n    if (event.target !== getCurrentTarget()) {\n      return\n    }\n\n    // If focus was moved to within the popper\n    if (\n      instance.props.interactive &&\n      event.relatedTarget &&\n      popper.contains(event.relatedTarget as Element)\n    ) {\n      return\n    }\n\n    scheduleHide(event)\n  }\n\n  function isEventListenerStopped(event: Event): boolean {\n    const supportsTouch = 'ontouchstart' in window\n    const isTouchEvent = includes(event.type, 'touch')\n    const isCustomTouch = getIsCustomTouchBehavior()\n\n    return (\n      (supportsTouch &&\n        currentInput.isTouch &&\n        isCustomTouch &&\n        !isTouchEvent) ||\n      (currentInput.isTouch && !isCustomTouch && isTouchEvent)\n    )\n  }\n\n  function createPopperInstance(): void {\n    const { popperOptions } = instance.props\n    const { arrow } = instance.popperChildren\n    const preventOverflowModifier = getModifier(\n      popperOptions,\n      'preventOverflow',\n    )\n\n    function applyMutations(data: Popper.Data): void {\n      instance.state.currentPlacement = data.placement\n\n      if (instance.props.flip && !instance.props.flipOnUpdate) {\n        if (data.flipped) {\n          instance.popperInstance!.options.placement = data.placement\n        }\n\n        setFlipModifierEnabled(instance.popperInstance!.modifiers, false)\n      }\n\n      tooltip.setAttribute('data-placement', data.placement)\n      if (data.attributes['x-out-of-boundaries'] !== false) {\n        tooltip.setAttribute('data-out-of-boundaries', '')\n      } else {\n        tooltip.removeAttribute('data-out-of-boundaries')\n      }\n\n      const basePlacement = getBasePlacement(data.placement)\n      const isVerticalPlacement = includes(['top', 'bottom'], basePlacement)\n      const isSecondaryPlacement = includes(['bottom', 'right'], basePlacement)\n\n      // Apply `distance` prop\n      tooltip.style.top = '0'\n      tooltip.style.left = '0'\n      tooltip.style[\n        isVerticalPlacement ? 'top' : 'left'\n      ] = `${(isSecondaryPlacement ? 1 : -1) * instance.props.distance}px`\n    }\n\n    const config = {\n      eventsEnabled: false,\n      placement: instance.props.placement,\n      ...popperOptions,\n      modifiers: {\n        ...(popperOptions && popperOptions.modifiers),\n        preventOverflow: {\n          boundariesElement: instance.props.boundary,\n          padding: PREVENT_OVERFLOW_PADDING,\n          ...preventOverflowModifier,\n        },\n        // Adds the `distance` calculation to preventOverflow padding\n        tippySetPreventOverflowPadding: {\n          enabled: true,\n          order: 299,\n          fn(data: Popper.Data): Popper.Data {\n            const basePlacement = getBasePlacement(data.placement)\n\n            const padding =\n              preventOverflowModifier &&\n              preventOverflowModifier.padding !== undefined\n                ? preventOverflowModifier.padding\n                : PREVENT_OVERFLOW_PADDING\n\n            const isPaddingNumber = typeof padding === 'number'\n\n            const paddingObject = { top: 0, bottom: 0, left: 0, right: 0 }\n\n            const computedPadding = (Object.keys(paddingObject) as Array<\n              keyof PaddingObject\n            >).reduce((obj: PaddingObject, key): PaddingObject => {\n              obj[key] = isPaddingNumber ? padding : padding[key]\n\n              if (basePlacement === key) {\n                obj[key] = isPaddingNumber\n                  ? padding + instance.props.distance\n                  : (padding[basePlacement] || 0) + instance.props.distance\n              }\n\n              return obj\n            }, paddingObject)\n\n            instance.popperInstance!.modifiers.filter(\n              (m): boolean => m.name === 'preventOverflow',\n            )[0].padding = computedPadding\n\n            return data\n          },\n        },\n        arrow: {\n          element: arrow,\n          enabled: !!arrow,\n          ...getModifier(popperOptions, 'arrow'),\n        },\n        flip: {\n          enabled: instance.props.flip,\n          padding: instance.props.distance + PREVENT_OVERFLOW_PADDING,\n          behavior: instance.props.flipBehavior,\n          ...getModifier(popperOptions, 'flip'),\n        },\n        offset: {\n          offset: instance.props.offset,\n          ...getModifier(popperOptions, 'offset'),\n        },\n      },\n      onCreate(data: Popper.Data): void {\n        applyMutations(data)\n\n        preserveInvocation(\n          popperOptions && popperOptions.onCreate,\n          config.onCreate,\n          [data],\n        )\n\n        runMountCallback()\n      },\n      onUpdate(data: Popper.Data): void {\n        applyMutations(data)\n\n        preserveInvocation(\n          popperOptions && popperOptions.onUpdate,\n          config.onUpdate,\n          [data],\n        )\n\n        runMountCallback()\n      },\n    }\n\n    instance.popperInstance = new Popper(\n      reference,\n      popper,\n      config,\n    ) as PopperInstance\n  }\n\n  function runMountCallback(): void {\n    // Only invoke currentMountCallback after 2 updates\n    // This fixes some bugs in Popper.js (TODO: aim for only 1 update)\n    if (popperUpdates === 0) {\n      popperUpdates++ // 1\n      instance.popperInstance!.update()\n    } else if (currentMountCallback && popperUpdates === 1) {\n      popperUpdates++ // 2\n      reflow(popper)\n      currentMountCallback()\n    }\n  }\n\n  function mount(): void {\n    // The mounting callback (`currentMountCallback`) is only run due to a\n    // popperInstance update/create\n    popperUpdates = 0\n\n    const { appendTo } = instance.props\n\n    let parentNode: any\n\n    // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n    const node = getCurrentTarget()\n\n    if (\n      (instance.props.interactive && appendTo === defaultProps.appendTo) ||\n      appendTo === 'parent'\n    ) {\n      parentNode = node.parentNode\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node])\n    }\n\n    // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper.js needs to read its dimensions\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper)\n    }\n\n    if (__DEV__) {\n      // Accessibility check\n      warnWhen(\n        instance.props.interactive &&\n          appendTo === defaultProps.appendTo &&\n          node.nextElementSibling !== popper,\n        INTERACTIVE_A11Y_WARNING,\n      )\n    }\n\n    if (instance.popperInstance) {\n      setFlipModifierEnabled(\n        instance.popperInstance.modifiers,\n        instance.props.flip,\n      )\n\n      instance.popperInstance.enableEventListeners()\n\n      // Mounting callback invoked in `onUpdate`\n      instance.popperInstance.update()\n    } else {\n      // Mounting callback invoked in `onCreate`\n      createPopperInstance()\n\n      instance.popperInstance!.enableEventListeners()\n    }\n  }\n\n  function scheduleShow(event?: Event): void {\n    instance.clearDelayTimeouts()\n\n    instance.state.isScheduledToShow = true\n\n    if (!instance.popperInstance) {\n      createPopperInstance()\n    }\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event])\n    }\n\n    addDocumentMouseDownListener()\n\n    const delay = getDelay(true)\n\n    if (delay) {\n      showTimeout = setTimeout((): void => {\n        instance.show()\n      }, delay)\n    } else {\n      instance.show()\n    }\n  }\n\n  function scheduleHide(event: Event): void {\n    instance.clearDelayTimeouts()\n\n    invokeHook('onUntrigger', [instance, event])\n\n    if (!instance.state.isVisible) {\n      removeDocumentMouseDownListener()\n\n      return\n    }\n\n    instance.state.isScheduledToShow = false\n\n    const delay = getDelay(false)\n\n    if (delay) {\n      hideTimeout = setTimeout((): void => {\n        if (instance.state.isVisible) {\n          instance.hide()\n        }\n      }, delay)\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame((): void => {\n        instance.hide()\n      })\n    }\n  }\n\n  /* ======================= 🔑 Public methods 🔑 ======================= */\n  function enable(): void {\n    instance.state.isEnabled = true\n  }\n\n  function disable(): void {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide()\n    instance.state.isEnabled = false\n  }\n\n  function clearDelayTimeouts(): void {\n    clearTimeout(showTimeout)\n    clearTimeout(hideTimeout)\n    cancelAnimationFrame(scheduleHideAnimationFrame)\n  }\n\n  function setProps(partialProps: Partial<Props>): void {\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'))\n    }\n\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    if (__DEV__) {\n      validateProps(partialProps)\n    }\n\n    removeListenersFromTriggerTarget()\n\n    const prevProps = instance.props\n    const nextProps = evaluateProps(reference, {\n      ...instance.props,\n      ...partialProps,\n      ignoreAttributes: true,\n    })\n\n    nextProps.ignoreAttributes = hasOwnProperty(\n      partialProps,\n      'ignoreAttributes',\n    )\n      ? partialProps.ignoreAttributes || false\n      : prevProps.ignoreAttributes\n\n    instance.props = nextProps\n\n    addListenersToTriggerTarget()\n\n    cleanupInteractiveMouseListeners()\n    debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce)\n\n    updatePopperElement(popper, prevProps, nextProps, instance.state.isVisible)\n    instance.popperChildren = getChildren(popper)\n\n    // Ensure stale aria-expanded attributes are removed\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach((node): void => {\n        node.removeAttribute('aria-expanded')\n      })\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded')\n    }\n\n    handleAriaExpandedAttribute()\n\n    if (instance.popperInstance) {\n      if (\n        POPPER_INSTANCE_DEPENDENCIES.some((prop): boolean => {\n          return (\n            hasOwnProperty(partialProps, prop) &&\n            partialProps[prop] !== prevProps[prop]\n          )\n        })\n      ) {\n        instance.popperInstance.destroy()\n        createPopperInstance()\n\n        if (instance.state.isVisible) {\n          instance.popperInstance.enableEventListeners()\n        }\n      } else {\n        instance.popperInstance.update()\n      }\n    }\n\n    invokeHook('onPropsUpdated', [instance, partialProps])\n  }\n\n  function setContent(content: Content): void {\n    instance.setProps({ content })\n  }\n\n  function show(\n    duration: number = getValueAtIndexOrReturn(\n      instance.props.duration,\n      0,\n      defaultProps.duration,\n    ),\n    shouldPreventPopperTransition = true,\n  ): void {\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'))\n    }\n\n    // Early bail-out\n    const isAlreadyVisible = instance.state.isVisible\n    const isDestroyed = instance.state.isDestroyed\n    const isDisabled = !instance.state.isEnabled\n    const isTouchAndTouchDisabled =\n      currentInput.isTouch && !instance.props.touch\n\n    if (\n      isAlreadyVisible ||\n      isDestroyed ||\n      isDisabled ||\n      isTouchAndTouchDisabled\n    ) {\n      return\n    }\n\n    // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return\n    }\n\n    const isPrevented = instance.props.onShow(instance) === false\n    invokeHook('onShow', [instance], false)\n\n    if (isPrevented) {\n      return\n    }\n\n    addDocumentMouseDownListener()\n\n    popper.style.visibility = 'visible'\n    instance.state.isVisible = true\n\n    // Prevent a transition of the popper from its previous position and of the\n    // elements at a different placement.\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(\n      shouldPreventPopperTransition\n        ? transitionableElements.concat(popper)\n        : transitionableElements,\n      0,\n    )\n\n    currentMountCallback = (): void => {\n      if (!instance.state.isVisible) {\n        return\n      }\n\n      instance.state.isMounted = true\n      invokeHook('onMount', [instance])\n\n      // The content should fade in after the backdrop has mostly filled the\n      // tooltip element. `clip-path` is the other alternative but is not well-\n      // supported and is buggy on some devices.\n      content.style.transitionDelay = instance.popperChildren.backdrop\n        ? `${Math.round(duration / 12)}ms`\n        : ''\n\n      setTransitionDuration([popper], instance.props.updateDuration)\n      setTransitionDuration(transitionableElements, duration)\n      setVisibilityState(transitionableElements, 'visible')\n\n      handleAriaDescribedByAttribute()\n      handleAriaExpandedAttribute()\n\n      onTransitionedIn(duration, (): void => {\n        instance.state.isShown = true\n        invokeHook('onShown', [instance])\n      })\n    }\n\n    mount()\n  }\n\n  function hide(\n    duration: number = getValueAtIndexOrReturn(\n      instance.props.duration,\n      1,\n      defaultProps.duration,\n    ),\n  ): void {\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'))\n    }\n\n    // Early bail-out\n    const isAlreadyHidden = !instance.state.isVisible && !isBeingDestroyed\n    const isDestroyed = instance.state.isDestroyed\n    const isDisabled = !instance.state.isEnabled && !isBeingDestroyed\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return\n    }\n\n    const isPrevented = instance.props.onHide(instance) === false\n    invokeHook('onHide', [instance], false)\n\n    if (isPrevented && !isBeingDestroyed) {\n      return\n    }\n\n    removeDocumentMouseDownListener()\n\n    popper.style.visibility = 'hidden'\n    instance.state.isVisible = false\n    instance.state.isShown = false\n\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(transitionableElements, duration)\n    setVisibilityState(transitionableElements, 'hidden')\n\n    handleAriaDescribedByAttribute()\n    handleAriaExpandedAttribute()\n\n    onTransitionedOut(duration, (): void => {\n      instance.popperInstance!.disableEventListeners()\n      instance.popperInstance!.options.placement = instance.props.placement\n\n      popper.parentNode!.removeChild(popper)\n\n      instance.state.isMounted = false\n      invokeHook('onHidden', [instance])\n    })\n  }\n\n  function destroy(): void {\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'))\n    }\n\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    isBeingDestroyed = true\n\n    instance.hide(0)\n\n    removeListenersFromTriggerTarget()\n\n    delete reference._tippy\n\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy()\n    }\n\n    isBeingDestroyed = false\n    instance.state.isDestroyed = true\n\n    invokeHook('onDestroy', [instance])\n  }\n}\n","import { version } from '../package.json'\nimport { defaultProps } from './props'\nimport createTippy from './createTippy'\nimport bindGlobalEventListeners, {\n  currentInput,\n} from './bindGlobalEventListeners'\nimport {\n  arrayFrom,\n  isRealElement,\n  getArrayOfElements,\n  isReferenceElement,\n} from './utils'\nimport {\n  warnWhen,\n  validateTargets,\n  validateProps,\n  CONTENT_WARNING,\n} from './validation'\nimport { POPPER_SELECTOR } from './constants'\nimport {\n  Props,\n  Instance,\n  Targets,\n  PopperElement,\n  HideAllOptions,\n} from './types'\nimport { plugins, use } from './plugins'\n\n/**\n * Exported module\n */\nfunction tippy(\n  targets: Targets,\n  optionalProps?: Partial<Props>,\n): Instance | Instance[] {\n  if (__DEV__) {\n    validateTargets(targets)\n    validateProps(optionalProps)\n  }\n\n  bindGlobalEventListeners()\n\n  const props: Props = { ...defaultProps, ...optionalProps }\n\n  const elements = getArrayOfElements(targets)\n\n  if (__DEV__) {\n    const isSingleContentElement = isRealElement(props.content)\n    const isMoreThanOneReferenceElement = elements.length > 1\n    warnWhen(\n      isSingleContentElement && isMoreThanOneReferenceElement,\n      CONTENT_WARNING,\n    )\n  }\n\n  const instances = elements.reduce<Instance[]>(\n    (acc, reference): Instance[] => {\n      const instance = reference && createTippy(reference, props)\n\n      if (instance) {\n        acc.push(instance)\n      }\n\n      return acc\n    },\n    [],\n  )\n\n  return isRealElement(targets) ? instances[0] : instances\n}\n\ntippy.version = version\ntippy.defaultProps = defaultProps\ntippy.setDefaultProps = setDefaultProps\ntippy.currentInput = currentInput\ntippy.plugins = plugins\ntippy.use = use\n\nexport default tippy\n\n/**\n * Mutates the defaultProps object by setting the props specified\n */\nfunction setDefaultProps(partialProps: Partial<Props>): void {\n  if (__DEV__) {\n    validateProps(partialProps)\n  }\n\n  Object.keys(partialProps).forEach((key): void => {\n    // @ts-ignore\n    defaultProps[key] = partialProps[key]\n  })\n}\n\n/**\n * Hides all visible poppers on the document\n */\nexport function hideAll({\n  exclude: excludedReferenceOrInstance,\n  duration,\n}: HideAllOptions = {}): void {\n  arrayFrom(document.querySelectorAll(POPPER_SELECTOR)).forEach(\n    (popper: PopperElement): void => {\n      const instance = popper._tippy\n\n      if (instance) {\n        let isExcluded = false\n        if (excludedReferenceOrInstance) {\n          isExcluded = isReferenceElement(excludedReferenceOrInstance)\n            ? instance.reference === excludedReferenceOrInstance\n            : popper === excludedReferenceOrInstance.popper\n        }\n\n        if (!isExcluded) {\n          instance.hide(duration)\n        }\n      }\n    },\n  )\n}\n","import { Instance, Props, StickyProps } from '../types'\n\ninterface ExtendedInstance extends Instance {\n  props: Props & StickyProps\n}\n\nexport default function sticky(instance: ExtendedInstance): Partial<Props> {\n  const { reference, popper } = instance\n\n  function shouldCheck(value: 'reference' | 'popper'): boolean {\n    return instance.props.sticky === true || instance.props.sticky === value\n  }\n\n  let prevRefRect = shouldCheck('reference')\n    ? reference.getBoundingClientRect()\n    : null\n  let prevPopRect = shouldCheck('popper')\n    ? popper.getBoundingClientRect()\n    : null\n\n  function updatePosition(): void {\n    const currentRefRect = shouldCheck('reference')\n      ? reference.getBoundingClientRect()\n      : null\n    const currentPopRect = shouldCheck('popper')\n      ? popper.getBoundingClientRect()\n      : null\n\n    // Schedule an update if the reference rect has changed\n    if (\n      (shouldCheck('reference') &&\n        areRectsDifferent(prevRefRect, currentRefRect)) ||\n      (shouldCheck('popper') && areRectsDifferent(prevPopRect, currentPopRect))\n    ) {\n      instance.popperInstance!.update()\n    }\n\n    prevRefRect = currentRefRect\n    prevPopRect = currentPopRect\n\n    if (instance.state.isMounted) {\n      requestAnimationFrame(updatePosition)\n    }\n  }\n\n  return {\n    onMount(): void {\n      if (instance.props.sticky) {\n        updatePosition()\n      }\n    },\n  }\n}\n\nfunction areRectsDifferent(\n  rectA: ClientRect | null,\n  rectB: ClientRect | null,\n): boolean {\n  if (rectA && rectB) {\n    return (\n      rectA.top !== rectB.top ||\n      rectA.right !== rectB.right ||\n      rectA.bottom !== rectB.bottom ||\n      rectA.left !== rectB.left\n    )\n  }\n\n  return true\n}\n","import tippy, { hideAll } from '../src'\nimport createSingleton from '../src/addons/createSingleton'\nimport delegate from '../src/addons/delegate'\nimport followCursor from '../src/plugins/followCursor'\nimport sticky from '../src/plugins/sticky'\n\ntippy.use(followCursor)\ntippy.use(sticky)\n\ntippy.createSingleton = createSingleton\ntippy.delegate = delegate\ntippy.hideAll = hideAll\n\nexport default tippy\n","import {\n  Instance,\n  Props,\n  Placement,\n  PopperElement,\n  FollowCursorProps,\n} from '../types'\nimport { includes, closestCallback, useIfDefined } from '../utils'\nimport { getBasePlacement } from '../popper'\nimport { currentInput } from '../bindGlobalEventListeners'\nimport Popper from 'popper.js'\n\ninterface ExtendedInstance extends Instance {\n  props: Props & FollowCursorProps\n}\n\nexport default function followCursor(\n  instance: ExtendedInstance,\n): Partial<Props> {\n  const { reference, popper } = instance\n\n  // Internal state\n  let lastMouseMoveEvent: MouseEvent\n  let firstTriggerEventType: string | null = null\n  let isPopperInstanceCreated = false\n  let normalizedPlacement: Placement\n  let shouldBypassSetPropsHook = false\n\n  // These are controlled by this plugin, so we need to store the user's\n  // original prop value\n  let placement: Props['placement']\n  let flipOnUpdate: Props['flipOnUpdate']\n\n  function setPrivateProps(props: Partial<Props>): void {\n    placement = useIfDefined(props.placement, placement)\n    flipOnUpdate = useIfDefined(props.flipOnUpdate, flipOnUpdate)\n  }\n\n  // Due to `getVirtualOffsets()`, we need to reverse the placement if it's\n  // shifted (start -> end, and vice-versa)\n  function setNormalizedPlacement(): void {\n    const shift = placement.split('-')[1]\n\n    normalizedPlacement = (instance.props.followCursor && shift\n      ? placement.replace(shift, shift === 'start' ? 'end' : 'start')\n      : placement) as Placement\n\n    shouldBypassSetPropsHook = true\n    instance.setProps({ placement: normalizedPlacement })\n    shouldBypassSetPropsHook = false\n  }\n\n  function resetReference(): void {\n    if (instance.popperInstance) {\n      instance.popperInstance.reference = reference\n    }\n  }\n\n  function addListener(): void {\n    document.addEventListener('mousemove', onMouseMove)\n  }\n\n  function removeListener(): void {\n    document.removeEventListener('mousemove', onMouseMove)\n  }\n\n  function onMouseMove(event: MouseEvent): void {\n    if (firstTriggerEventType === 'focus' || !event) {\n      return\n    }\n\n    const { clientX, clientY } = (lastMouseMoveEvent = event)\n\n    if (\n      !instance.props.followCursor ||\n      !instance.popperInstance ||\n      !isPopperInstanceCreated\n    ) {\n      return\n    }\n\n    // If the instance is interactive, avoid updating the position unless it's\n    // over the reference element\n    const isCursorOverReference = closestCallback(\n      event.target as Element,\n      (el: Element): boolean => el === reference,\n    )\n\n    const rect = reference.getBoundingClientRect()\n    const { followCursor } = instance.props\n    const isHorizontal = followCursor === 'horizontal'\n    const isVertical = followCursor === 'vertical'\n    const isVerticalPlacement = includes(\n      ['top', 'bottom'],\n      getBasePlacement(instance.state.currentPlacement),\n    )\n\n    // The virtual reference needs some size to prevent itself from overflowing\n    const { size, x, y } = getVirtualOffsets(popper, isVerticalPlacement)\n\n    if (isCursorOverReference || !instance.props.interactive) {\n      instance.popperInstance.reference = {\n        // These `client` values don't get used by Popper.js if they are 0\n        clientWidth: 0,\n        clientHeight: 0,\n        // This will exist in next Popper.js feature release to fix #532\n        // @ts-ignore\n        referenceNode: reference,\n        getBoundingClientRect: (): DOMRect | ClientRect => ({\n          width: isVerticalPlacement ? size : 0,\n          height: isVerticalPlacement ? 0 : size,\n          top: (isHorizontal ? rect.top : clientY) - y,\n          bottom: (isHorizontal ? rect.bottom : clientY) + y,\n          left: (isVertical ? rect.left : clientX) - x,\n          right: (isVertical ? rect.right : clientX) + x,\n        }),\n      }\n\n      instance.popperInstance.update()\n    }\n\n    // \"initial\" behavior\n    if (\n      currentInput.isTouch ||\n      (instance.props.followCursor === 'initial' && instance.state.isVisible)\n    ) {\n      removeListener()\n    }\n  }\n\n  return {\n    onCreate(): void {\n      setPrivateProps(instance.props)\n      setNormalizedPlacement()\n\n      const { popperOptions } = instance.props\n\n      instance.setProps({\n        popperOptions: {\n          ...popperOptions,\n          // Technically we should try and preserve `onCreate` if `.setProps()`\n          // is called after the instance is created, but before the\n          // popperInstance is created, but this correctness seems extremely\n          // unlikely to be needed\n          onCreate(data: Popper.Data): void {\n            if (popperOptions && popperOptions.onCreate) {\n              popperOptions.onCreate(data)\n            }\n\n            isPopperInstanceCreated = true\n          },\n        },\n      })\n    },\n    onPropsUpdated(_, partialProps): void {\n      if (!shouldBypassSetPropsHook) {\n        setPrivateProps(partialProps)\n\n        if (partialProps.placement !== placement) {\n          setNormalizedPlacement()\n        }\n      }\n\n      onMouseMove(lastMouseMoveEvent)\n\n      if (!instance.props.followCursor) {\n        resetReference()\n      }\n    },\n    onMount(): void {\n      // Popper's scroll listeners make sense for `true`, where the cursor\n      // follows both axes. TODO: somehow keep scroll listeners for vertical\n      // scrolling for \"vertical\", and horizontal scrolling for \"horizontal\".\n      if (\n        // Touch devices always emulate \"initial\"\n        currentInput.isTouch ||\n        (firstTriggerEventType !== 'focus' &&\n          instance.props.followCursor !== true)\n      ) {\n        instance.popperInstance!.disableEventListeners()\n      }\n\n      onMouseMove(lastMouseMoveEvent)\n    },\n    onTrigger(_, event): void {\n      // Tapping on touch devices can trigger `mouseenter` then `focus`\n      if (!firstTriggerEventType) {\n        firstTriggerEventType = event.type\n      }\n\n      if (event instanceof MouseEvent) {\n        lastMouseMoveEvent = event\n      }\n\n      if (firstTriggerEventType === 'focus') {\n        resetReference()\n      }\n\n      if (\n        instance.props.followCursor &&\n        firstTriggerEventType !== 'focus' &&\n        // Touch devices can add two listeners due to `mouseenter` + `focus`\n        !(event.type === 'focus' && currentInput.isTouch) &&\n        !(instance.state.isMounted && instance.props.followCursor === 'initial')\n      ) {\n        // Force `flipOnUpdate: true` in followCursor mode, as it's better UX\n        // and works better with initial flips\n        instance.setProps({ flipOnUpdate: true })\n        addListener()\n      } else {\n        instance.setProps({ flipOnUpdate })\n      }\n    },\n    onUntrigger(): void {\n      // The listener gets added in `onTrigger()`, but due to potential delay(s)\n      // the instance made be untriggered before it shows. `onHidden()` will\n      // therefore never be invoked.\n      if (!instance.state.isVisible) {\n        removeListener()\n      }\n\n      firstTriggerEventType = null\n    },\n    onHidden(): void {\n      // If scheduled to show before unmounting (e.g. delay: [500, 0]), the\n      // listener should not be removed\n      if (!instance.state.isScheduledToShow) {\n        removeListener()\n      }\n\n      instance.popperInstance!.options.placement = normalizedPlacement\n    },\n  }\n}\n\nexport function getVirtualOffsets(\n  popper: PopperElement,\n  isVerticalPlacement: boolean,\n): {\n  size: number\n  x: number\n  y: number\n} {\n  const size = isVerticalPlacement ? popper.offsetWidth : popper.offsetHeight\n\n  return {\n    size,\n    x: isVerticalPlacement ? size : 0,\n    y: isVerticalPlacement ? 0 : size,\n  }\n}\n","import { Instance, Props } from '../types'\nimport tippy from '..'\nimport {\n  invokeWithArgsOrReturn,\n  preserveInvocation,\n  useIfDefined,\n} from '../utils'\nimport { defaultProps } from '../props'\nimport {\n  throwErrorWhen,\n  createInvalidCreateSingletonArgumentError,\n} from '../validation'\n\n/**\n * Re-uses a single tippy element for many different tippy instances.\n * Replaces v4's `tippy.group()`.\n */\nexport default function createSingleton(\n  tippyInstances: Instance[],\n  optionalProps?: Partial<Props>,\n): Instance {\n  if (__DEV__) {\n    throwErrorWhen(\n      !Array.isArray(tippyInstances),\n      createInvalidCreateSingletonArgumentError(String(tippyInstances)),\n    )\n  }\n\n  tippyInstances.forEach(instance => {\n    instance.disable()\n  })\n\n  let currentAria: string | null\n  let currentTarget: Element\n\n  let { aria, onTrigger, onMount, onUntrigger, onPropsUpdated, onDestroy } = {\n    ...defaultProps,\n    ...optionalProps,\n  }\n\n  function handleAriaDescribedByAttribute(\n    id: string,\n    isInteractive: boolean,\n    isShow: boolean,\n  ): void {\n    if (!currentAria) {\n      return\n    }\n\n    if (isShow && !isInteractive) {\n      currentTarget.setAttribute(`aria-${currentAria}`, id)\n    } else {\n      currentTarget.removeAttribute(`aria-${currentAria}`)\n    }\n  }\n\n  const references = tippyInstances.map(instance => instance.reference)\n\n  const singleton = tippy(document.createElement('div'), {\n    aria: null,\n    triggerTarget: references,\n    onMount(instance) {\n      preserveInvocation(onMount, instance.props.onMount, [instance])\n      handleAriaDescribedByAttribute(\n        instance.popperChildren.tooltip.id,\n        instance.props.interactive,\n        true,\n      )\n    },\n    onUntrigger(instance, event): void {\n      preserveInvocation(onUntrigger, instance.props.onUntrigger, [\n        instance,\n        event,\n      ])\n\n      handleAriaDescribedByAttribute(\n        instance.popperChildren.tooltip.id,\n        instance.props.interactive,\n        false,\n      )\n    },\n    onTrigger(instance, event): void {\n      preserveInvocation(onTrigger, instance.props.onTrigger, [instance, event])\n\n      const target = event.currentTarget as Element\n      const index = references.indexOf(target)\n\n      currentTarget = target\n      currentAria = aria\n\n      if (instance.state.isVisible) {\n        handleAriaDescribedByAttribute(\n          instance.popperChildren.tooltip.id,\n          instance.props.interactive,\n          true,\n        )\n      }\n\n      instance.setContent(tippyInstances[index].props.content)\n\n      instance.reference.getBoundingClientRect = (): DOMRect | ClientRect =>\n        target.getBoundingClientRect()\n\n      // @ts-ignore - awaiting popper.js@1.16.0 release\n      instance.reference.referenceNode =\n        instance.props.appendTo === 'parent'\n          ? target.parentNode\n          : invokeWithArgsOrReturn(instance.props.appendTo, [target])\n    },\n    onPropsUpdated(instance, partialProps): void {\n      preserveInvocation(onPropsUpdated, instance.props.onPropsUpdated, [\n        instance,\n      ])\n\n      aria = useIfDefined(partialProps.aria, aria)\n      onTrigger = useIfDefined(partialProps.onTrigger, onTrigger)\n      onMount = useIfDefined(partialProps.onMount, onMount)\n      onUntrigger = useIfDefined(partialProps.onUntrigger, onUntrigger)\n      onPropsUpdated = useIfDefined(partialProps.onPropsUpdated, onPropsUpdated)\n      onDestroy = useIfDefined(partialProps.onDestroy, onDestroy)\n    },\n    onDestroy(instance): void {\n      preserveInvocation(onDestroy, instance.props.onDestroy, [instance])\n\n      tippyInstances.forEach(instance => {\n        instance.enable()\n      })\n    },\n    ...optionalProps,\n  }) as Instance\n\n  return singleton\n}\n","import { Targets, Instance, Props } from '../types'\nimport tippy from '..'\nimport { throwErrorWhen, MISSING_TARGET_WARNING } from '../validation'\nimport { removeProperties, splitBySpaces } from '../utils'\n\ninterface ListenerObj {\n  element: Element\n  eventType: string\n  listener: EventListener\n  options: boolean | object\n}\n\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\nexport default function delegate(\n  targets: Targets,\n  props: Partial<Props> & { target: string },\n): Instance | Instance[] {\n  if (__DEV__) {\n    throwErrorWhen(!props || !props.target, MISSING_TARGET_WARNING)\n  }\n\n  let listeners: ListenerObj[] = []\n  let childTippyInstances: Instance[] = []\n\n  const { target } = props\n  const nativeProps = removeProperties(props, ['target'])\n  const trigger = props.trigger || tippy.defaultProps.trigger\n\n  const returnValue = tippy(targets, { ...nativeProps, trigger: 'manual' })\n\n  function onTrigger(event: Event): void {\n    if (event.target) {\n      const targetNode = (event.target as Element).closest(target)\n\n      if (targetNode) {\n        const instance = tippy(targetNode, {\n          ...nativeProps,\n          showOnCreate: true,\n        })\n\n        if (instance) {\n          childTippyInstances = childTippyInstances.concat(instance)\n        }\n      }\n    }\n  }\n\n  function on(\n    element: Element,\n    eventType: string,\n    listener: EventListener,\n    options: object | boolean = false,\n  ): void {\n    element.addEventListener(eventType, listener, options)\n    listeners.push({ element, eventType, listener, options })\n  }\n\n  function addEventListeners(instance: Instance): void {\n    const { reference } = instance\n\n    splitBySpaces(trigger).forEach((eventType): void => {\n      switch (eventType) {\n        case 'mouseenter': {\n          on(reference, 'mouseover', onTrigger)\n          break\n        }\n        case 'focus': {\n          on(reference, 'focusin', onTrigger)\n          break\n        }\n        case 'click': {\n          on(reference, 'click', onTrigger)\n        }\n      }\n    })\n  }\n\n  function removeEventListeners(): void {\n    listeners.forEach(\n      ({ element, eventType, listener, options }: ListenerObj): void => {\n        element.removeEventListener(eventType, listener, options)\n      },\n    )\n    listeners = []\n  }\n\n  function applyMutations(instance: Instance): void {\n    const originalDestroy = instance.destroy\n    instance.destroy = (shouldDestroyChildInstances = true): void => {\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach((instance): void => {\n          instance.destroy()\n        })\n      }\n\n      childTippyInstances = []\n\n      removeEventListeners()\n      originalDestroy()\n    }\n\n    addEventListeners(instance)\n\n    instance.setProps({ trigger: 'manual' })\n  }\n\n  if (Array.isArray(returnValue)) {\n    returnValue.forEach(applyMutations)\n  } else {\n    applyMutations(returnValue)\n  }\n\n  return returnValue\n}\n"],"names":["defaultProps","allowHTML","animateFill","animation","appendTo","document","body","aria","arrow","boundary","content","delay","distance","duration","flip","flipBehavior","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","interactiveBorder","interactiveDebounce","lazy","maxWidth","multiple","offset","onCreate","onDestroy","onHidden","onHide","onMount","onPropsUpdated","onShow","onShown","onTrigger","onUntrigger","placement","popperOptions","role","showOnCreate","theme","touch","trigger","triggerTarget","updateDuration","zIndex","POPPER_INSTANCE_DEPENDENCIES","isBrowser","window","ua","navigator","userAgent","isIE","test","isUCBrowser","isIOS","platform","PASSIVE","passive","PREVENT_OVERFLOW_PADDING","ROUND_ARROW_INNER_HTML","IOS_CLASS","POPPER_CLASS","TOOLTIP_CLASS","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","POPPER_SELECTOR","TOOLTIP_SELECTOR","CONTENT_SELECTOR","BACKDROP_SELECTOR","ARROW_SELECTOR","SVG_ARROW_SELECTOR","currentInput","isTouch","lastMouseMoveTime","onDocumentTouchStart","classList","add","performance","addEventListener","onDocumentMouseMove","now","removeEventListener","remove","onWindowBlur","activeElement","instance","_tippy","blur","state","isVisible","keys","Object","hasOwnProperty","obj","key","call","getValueAtIndexOrReturn","value","index","defaultValue","Array","isArray","v","getModifier","modifiers","isRealElement","Element","invokeWithArgsOrReturn","args","setFlipModifierEnabled","filter","m","name","enabled","div","createElement","setTransitionDuration","els","forEach","el","style","transitionDuration","setVisibilityState","setAttribute","evaluateProps","reference","props","out","reduce","acc","valueAsString","getAttribute","trim","JSON","parse","e","getDataAttributeProps","debounce","fn","ms","arg","clearTimeout","timeout","setTimeout","preserveInvocation","originalFn","currentFn","arrayFrom","slice","closestCallback","element","callback","parentElement","includes","a","b","indexOf","splitBySpaces","split","Boolean","useIfDefined","nextValue","currentValue","undefined","normalizeToArray","concat","setInnerHTML","html","setContent","contentEl","appendChild","getChildren","popper","tooltip","querySelector","backdrop","addInertia","createArrowElement","arrowElement","className","createBackdropElement","addInteractive","updateTransitionEndListener","action","listener","eventName","webkitTransition","getBasePlacement","updateTheme","createPopperElement","id","position","top","left","updatePopperElement","prevProps","nextProps","removeAttribute","removeChild","removeInteractive","removeInertia","plugins","idCounter","mouseMoveListeners","createTippy","collectionProps","showTimeout","hideTimeout","scheduleHideAnimationFrame","lastTriggerEvent","currentMountCallback","currentTransitionEndListener","isBeingDestroyed","didHideDueToDocumentMouseDown","popperUpdates","listeners","debouncedOnMouseMove","onMouseMove","popperChildren","currentPlacement","isScheduledToShow","isEnabled","isDestroyed","isMounted","isShown","popperInstance","clearDelayTimeouts","cancelAnimationFrame","setProps","partialProps","removeListenersFromTriggerTarget","addListenersToTriggerTarget","cleanupInteractiveMouseListeners","node","handleAriaExpandedAttribute","some","prop","destroy","createPopperInstance","enableEventListeners","update","invokeHook","show","shouldPreventPopperTransition","isAlreadyVisible","isDisabled","isTouchAndTouchDisabled","getCurrentTarget","hasAttribute","isPrevented","addDocumentMouseDownListener","visibility","transitionableElements","getTransitionableElements","transitionDelay","Math","round","handleAriaDescribedByAttribute","onTransitionEnd","onTransitionedIn","parentNode","contains","mount","hide","isAlreadyHidden","removeDocumentMouseDownListener","onTransitionedOut","disableEventListeners","options","enable","disable","instancePlugins","map","plugin","scheduleShow","getNormalizedTouchSettings","getIsCustomTouchBehavior","target","getDelay","isShow","type","hook","shouldInvokePropsHook","attr","replace","scheduleHide","onDocumentMouseDown","event","on","eventType","handler","push","onMouseLeave","onBlur","isEventListenerStopped","MouseEvent","popperPlacement","popperRect","x","clientX","y","clientY","exceedsTop","exceedsBottom","bottom","exceedsLeft","exceedsRight","right","isCursorOutsideInteractiveBorder","getBoundingClientRect","relatedTarget","supportsTouch","isTouchEvent","isCustomTouch","preventOverflowModifier","applyMutations","data","flipped","attributes","basePlacement","isVerticalPlacement","isSecondaryPlacement","config","eventsEnabled","preventOverflow","boundariesElement","padding","tippySetPreventOverflowPadding","order","isPaddingNumber","paddingObject","computedPadding","behavior","runMountCallback","onUpdate","Popper","offsetHeight","reflow","requestAnimationFrame","tippy","targets","optionalProps","capture","instances","NodeList","querySelectorAll","areRectsDifferent","rectA","rectB","version","setDefaultProps","use","lastMouseMoveEvent","normalizedPlacement","firstTriggerEventType","isPopperInstanceCreated","shouldBypassSetPropsHook","setPrivateProps","setNormalizedPlacement","shift","followCursor","resetReference","removeListener","isCursorOverReference","rect","isHorizontal","isVertical","size","offsetWidth","getVirtualOffsets","clientWidth","clientHeight","referenceNode","width","height","_","shouldCheck","sticky","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","createSingleton","tippyInstances","currentAria","currentTarget","isInteractive","references","delegate","childTippyInstances","nativeProps","clone","removeProperties","returnValue","targetNode","closest","originalDestroy","shouldDestroyChildInstances","addEventListeners","hideAll","excludedReferenceOrInstance","exclude","isExcluded"],"mappings":"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"}