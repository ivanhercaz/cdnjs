{"version":3,"file":"tippy.cjs.js","sources":["../src/addons/createSingleton.ts","../src/addons/delegate.ts","../src/plugins/animateFill.ts","../src/plugins/followCursor.ts","../src/plugins/inlinePositioning.ts","../src/plugins/sticky.ts"],"sourcesContent":["import { Instance, Props } from '../types'\nimport tippy from '..'\nimport { preserveInvocation, useIfDefined } from '../utils'\nimport { defaultProps } from '../props'\nimport { throwErrorWhen } from '../validation'\n\n/**\n * Re-uses a single tippy element for many different tippy instances.\n * Replaces v4's `tippy.group()`.\n */\nexport default function createSingleton(\n  tippyInstances: Instance[],\n  optionalProps?: Partial<Props>,\n): Instance {\n  if (__DEV__) {\n    throwErrorWhen(\n      !Array.isArray(tippyInstances),\n      `The first argument passed to createSingleton() must be an array of tippy\n      instances.\n  \n      The passed value was: ${tippyInstances}`,\n    )\n  }\n\n  tippyInstances.forEach(instance => {\n    instance.disable()\n  })\n\n  let currentAria: string | null | undefined\n  let currentTarget: Element\n\n  const userProps: Partial<Props> = {}\n\n  function setUserProps(props: Partial<Props>): void {\n    Object.keys(props).forEach((prop): void => {\n      userProps[prop] = useIfDefined(props[prop], userProps[prop])\n    })\n  }\n\n  setUserProps({ ...defaultProps, ...optionalProps })\n\n  function handleAriaDescribedByAttribute(\n    id: string,\n    isInteractive: boolean,\n    isShow: boolean,\n  ): void {\n    if (!currentAria) {\n      return\n    }\n\n    if (isShow && !isInteractive) {\n      currentTarget.setAttribute(`aria-${currentAria}`, id)\n    } else {\n      currentTarget.removeAttribute(`aria-${currentAria}`)\n    }\n  }\n\n  const references = tippyInstances.map(instance => instance.reference)\n\n  const singleton = tippy(document.createElement('div'), {\n    ...optionalProps,\n    aria: null,\n    triggerTarget: references,\n    onMount(instance) {\n      preserveInvocation(userProps.onMount, instance.props.onMount, [instance])\n      handleAriaDescribedByAttribute(\n        instance.popperChildren.tooltip.id,\n        instance.props.interactive,\n        true,\n      )\n    },\n    onUntrigger(instance, event): void {\n      preserveInvocation(userProps.onUntrigger, instance.props.onUntrigger, [\n        instance,\n        event,\n      ])\n\n      handleAriaDescribedByAttribute(\n        instance.popperChildren.tooltip.id,\n        instance.props.interactive,\n        false,\n      )\n    },\n    onTrigger(instance, event): void {\n      preserveInvocation(userProps.onTrigger, instance.props.onTrigger, [\n        instance,\n        event,\n      ])\n\n      const target = event.currentTarget as Element\n      const index = references.indexOf(target)\n\n      currentTarget = target\n      currentAria = userProps.aria\n\n      if (instance.state.isVisible) {\n        handleAriaDescribedByAttribute(\n          instance.popperChildren.tooltip.id,\n          instance.props.interactive,\n          true,\n        )\n      }\n\n      instance.setContent(tippyInstances[index].props.content)\n\n      // Due to two updates performed upon mount, the second update will use\n      // this object\n      instance.popperInstance!.reference = {\n        // @ts-ignore - awaiting popper.js@1.16.0 release\n        referenceNode: target,\n        clientHeight: 0,\n        clientWidth: 0,\n        getBoundingClientRect(): ClientRect {\n          return target.getBoundingClientRect()\n        },\n      }\n    },\n    onAfterUpdate(instance, partialProps): void {\n      preserveInvocation(\n        userProps.onAfterUpdate,\n        instance.props.onAfterUpdate,\n        [instance],\n      )\n\n      setUserProps(partialProps)\n    },\n    onDestroy(instance): void {\n      preserveInvocation(userProps.onDestroy, instance.props.onDestroy, [\n        instance,\n      ])\n\n      tippyInstances.forEach(instance => {\n        instance.enable()\n      })\n    },\n  }) as Instance\n\n  return singleton\n}\n","import { Targets, Instance, Props } from '../types'\nimport tippy from '..'\nimport { throwErrorWhen } from '../validation'\nimport { removeProperties, splitBySpaces } from '../utils'\nimport { defaultProps } from '../props'\n\ninterface ListenerObj {\n  element: Element\n  eventType: string\n  listener: EventListener\n  options: boolean | object\n}\n\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\nexport default function delegate(\n  targets: Targets,\n  props: Partial<Props> & { target: string },\n): Instance | Instance[] {\n  if (__DEV__) {\n    throwErrorWhen(\n      !props || !props.target,\n      `You must specify a \\`target\\` prop indicating the CSS selector string\n      matching the target elements that should receive a tippy.`,\n    )\n  }\n\n  let listeners: ListenerObj[] = []\n  let childTippyInstances: Instance[] = []\n\n  const { target } = props\n  const nativeProps = removeProperties(props, ['target'])\n  const trigger = props.trigger || defaultProps.trigger\n\n  const returnValue = tippy(targets, { ...nativeProps, trigger: 'manual' })\n\n  function onTrigger(event: Event): void {\n    if (event.target) {\n      const targetNode = (event.target as Element).closest(target)\n\n      if (targetNode) {\n        const instance = tippy(targetNode, {\n          ...nativeProps,\n          showOnCreate: true,\n        })\n\n        if (instance) {\n          childTippyInstances = childTippyInstances.concat(instance)\n        }\n      }\n    }\n  }\n\n  function on(\n    element: Element,\n    eventType: string,\n    listener: EventListener,\n    options: object | boolean = false,\n  ): void {\n    element.addEventListener(eventType, listener, options)\n    listeners.push({ element, eventType, listener, options })\n  }\n\n  function addEventListeners(instance: Instance): void {\n    const { reference } = instance\n\n    splitBySpaces(trigger).forEach((eventType): void => {\n      switch (eventType) {\n        case 'mouseenter': {\n          on(reference, 'mouseover', onTrigger)\n          break\n        }\n        case 'focus': {\n          on(reference, 'focusin', onTrigger)\n          break\n        }\n        case 'click': {\n          on(reference, 'click', onTrigger)\n        }\n      }\n    })\n  }\n\n  function removeEventListeners(): void {\n    listeners.forEach(\n      ({ element, eventType, listener, options }: ListenerObj): void => {\n        element.removeEventListener(eventType, listener, options)\n      },\n    )\n    listeners = []\n  }\n\n  function applyMutations(instance: Instance): void {\n    const originalDestroy = instance.destroy\n    instance.destroy = (shouldDestroyChildInstances = true): void => {\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach((instance): void => {\n          instance.destroy()\n        })\n      }\n\n      childTippyInstances = []\n\n      removeEventListeners()\n      originalDestroy()\n    }\n\n    addEventListeners(instance)\n\n    instance.setProps({ trigger: 'manual' })\n  }\n\n  if (Array.isArray(returnValue)) {\n    returnValue.forEach(applyMutations)\n  } else {\n    applyMutations(returnValue)\n  }\n\n  return returnValue\n}\n","import { LifecycleHooks, AnimateFillInstance } from '../types'\nimport { BACKDROP_CLASS } from '../constants'\nimport { div } from '../utils'\nimport { isUCBrowser } from '../browser'\nimport { warnWhen } from '../validation'\n\nexport default {\n  name: 'animateFill',\n  defaultValue: false,\n  fn(instance: AnimateFillInstance): Partial<LifecycleHooks> {\n    const { tooltip, content } = instance.popperChildren\n\n    const backdrop =\n      instance.props.animateFill && !isUCBrowser\n        ? createBackdropElement()\n        : null\n\n    function addBackdropToPopperChildren(): void {\n      instance.popperChildren.backdrop = backdrop\n    }\n\n    return {\n      onCreate(): void {\n        if (backdrop) {\n          addBackdropToPopperChildren()\n\n          tooltip.insertBefore(backdrop, tooltip.firstElementChild!)\n          tooltip.setAttribute('data-animatefill', '')\n\n          instance.setProps({ animation: 'shift-away', arrow: false })\n        }\n      },\n      onMount(): void {\n        if (backdrop) {\n          const { transitionDuration } = tooltip.style\n          const duration = Number(transitionDuration.replace('ms', ''))\n\n          // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n          //\n          // We don't have access to the real duration that could have been\n          // potentially passed as an argument to `.show()` or `.hide()`.\n          content.style.transitionDelay = `${Math.round(duration / 10)}ms`\n\n          backdrop.style.transitionDuration = transitionDuration\n          setDataState(backdrop, 'visible')\n\n          // Warn if the stylesheets are not loaded\n          if (__DEV__) {\n            warnWhen(\n              getComputedStyle(backdrop).position !== 'absolute',\n              `The \\`tippy.js/dist/backdrop.css\\` stylesheet has not been\n              imported!\n              \n              The \\`animateFill\\` plugin requires this stylesheet to work.`,\n            )\n\n            warnWhen(\n              getComputedStyle(tooltip).transform === 'none',\n              `The \\`tippy.js/animations/shift-away.css\\` stylesheet has not\n              been imported!\n              \n              The \\`animateFill\\` plugin requires this stylesheet to work.`,\n            )\n          }\n        }\n      },\n      onShow(): void {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms'\n        }\n      },\n      onHide(): void {\n        if (backdrop) {\n          setDataState(backdrop, 'hidden')\n        }\n      },\n      onAfterUpdate(): void {\n        // With this type of prop, it's highly unlikely it will be changed\n        // dynamically. We'll leave out the diff/update logic it to save bytes.\n\n        // `popperChildren` is assigned a new object onAfterUpdate\n        addBackdropToPopperChildren()\n      },\n    }\n  },\n}\n\nfunction createBackdropElement(): HTMLDivElement {\n  const backdrop = div()\n  backdrop.className = BACKDROP_CLASS\n  setDataState(backdrop, 'hidden')\n  return backdrop\n}\n\nfunction setDataState(element: Element, value: 'visible' | 'hidden'): void {\n  element.setAttribute('data-state', value)\n}\n","import {\n  Props,\n  PopperElement,\n  LifecycleHooks,\n  Placement,\n  Instance,\n} from '../types'\nimport { includes, closestCallback, useIfDefined } from '../utils'\nimport { getBasePlacement } from '../popper'\nimport { currentInput } from '../bindGlobalEventListeners'\n\nexport default {\n  name: 'followCursor',\n  defaultValue: false,\n  fn(instance: Instance): Partial<LifecycleHooks> {\n    const { reference, popper } = instance\n\n    // Internal state\n    let lastMouseMoveEvent: MouseEvent\n    let triggerEvent: Event | null = null\n    let isInternallySettingControlledProp = false\n\n    // These are controlled by this plugin, so we need to store the user's\n    // original prop value\n    const userProps = instance.props\n\n    function setUserProps(props: Partial<Props>): void {\n      Object.keys(props).forEach((prop): void => {\n        userProps[prop] = useIfDefined(props[prop], userProps[prop])\n      })\n    }\n\n    // Due to `getVirtualOffsets()`, we need to reverse the placement if it's\n    // shifted (start -> end, and vice-versa)\n    function setNormalizedPlacement(): void {\n      const { placement } = userProps\n\n      if (!placement) {\n        return\n      }\n\n      const shift = placement.split('-')[1]\n\n      isInternallySettingControlledProp = true\n\n      instance.setProps({\n        placement: (getIsEnabled() && shift\n          ? placement.replace(shift, shift === 'start' ? 'end' : 'start')\n          : placement) as Placement,\n      })\n\n      isInternallySettingControlledProp = false\n    }\n\n    function getIsEnabled(): boolean {\n      return (\n        instance.props.followCursor &&\n        triggerEvent instanceof MouseEvent &&\n        !(triggerEvent.clientX === 0 && triggerEvent.clientY === 0)\n      )\n    }\n\n    function getIsInitialBehavior(): boolean {\n      return (\n        currentInput.isTouch ||\n        (instance.props.followCursor === 'initial' && instance.state.isVisible)\n      )\n    }\n\n    function resetReference(): void {\n      if (instance.popperInstance) {\n        instance.popperInstance.reference = reference\n      }\n    }\n\n    function handleListeners(): void {\n      if (!instance.popperInstance) {\n        return\n      }\n\n      // Popper's scroll listeners make sense for `true` only. TODO: work out\n      // how to only listen horizontal scroll for \"horizontal\" and vertical\n      // scroll for \"vertical\"\n      if (\n        getIsEnabled() &&\n        (getIsInitialBehavior() || instance.props.followCursor !== true)\n      ) {\n        instance.popperInstance.disableEventListeners()\n      }\n    }\n\n    function triggerLastMouseMove(): void {\n      if (getIsEnabled()) {\n        onMouseMove(lastMouseMoveEvent)\n      }\n    }\n\n    function addListener(): void {\n      document.addEventListener('mousemove', onMouseMove)\n    }\n\n    function removeListener(): void {\n      document.removeEventListener('mousemove', onMouseMove)\n    }\n\n    function onMouseMove(event: MouseEvent): void {\n      const { clientX, clientY } = (lastMouseMoveEvent = event)\n\n      if (!instance.popperInstance || !instance.state.currentPlacement) {\n        return\n      }\n\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      const isCursorOverReference = closestCallback(\n        event.target as Element,\n        (el: Element): boolean => el === reference,\n      )\n\n      const rect = reference.getBoundingClientRect()\n      const { followCursor } = instance.props\n      const isHorizontal = followCursor === 'horizontal'\n      const isVertical = followCursor === 'vertical'\n      const isVerticalPlacement = includes(\n        ['top', 'bottom'],\n        getBasePlacement(instance.state.currentPlacement),\n      )\n\n      // The virtual reference needs some size to prevent itself from overflowing\n      const { size, x, y } = getVirtualOffsets(popper, isVerticalPlacement)\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.popperInstance.reference = {\n          // These `client` values don't get used by Popper.js if they are 0\n          clientWidth: 0,\n          clientHeight: 0,\n          // This will exist in next Popper.js feature release to fix #532\n          // @ts-ignore\n          referenceNode: reference,\n          getBoundingClientRect: (): DOMRect | ClientRect => ({\n            width: isVerticalPlacement ? size : 0,\n            height: isVerticalPlacement ? 0 : size,\n            top: (isHorizontal ? rect.top : clientY) - y,\n            bottom: (isHorizontal ? rect.bottom : clientY) + y,\n            left: (isVertical ? rect.left : clientX) - x,\n            right: (isVertical ? rect.right : clientX) + x,\n          }),\n        }\n\n        instance.popperInstance.update()\n      }\n\n      if (getIsInitialBehavior()) {\n        removeListener()\n      }\n    }\n\n    return {\n      onAfterUpdate(_, partialProps): void {\n        if (!isInternallySettingControlledProp) {\n          setUserProps(partialProps)\n\n          if (partialProps.placement) {\n            setNormalizedPlacement()\n          }\n        }\n\n        // A new placement causes the popperInstance to be recreated\n        if (partialProps.placement) {\n          handleListeners()\n        }\n\n        // Wait for `.update()` to set `instance.state.currentPlacement` to\n        // the new placement\n        setTimeout(triggerLastMouseMove)\n      },\n      onMount(): void {\n        triggerLastMouseMove()\n        handleListeners()\n      },\n      onTrigger(_, event): void {\n        // Tapping on touch devices can trigger `mouseenter` then `focus`\n        if (triggerEvent) {\n          return\n        }\n\n        triggerEvent = event\n\n        if (event instanceof MouseEvent) {\n          lastMouseMoveEvent = event\n        }\n\n        // With \"initial\" behavior, flipping may be incorrect for the first show\n        if (getIsEnabled() && getIsInitialBehavior()) {\n          isInternallySettingControlledProp = true\n          instance.setProps({ flipOnUpdate: true })\n          isInternallySettingControlledProp = false\n        } else {\n          instance.setProps({ flipOnUpdate: userProps.flipOnUpdate })\n        }\n\n        setNormalizedPlacement()\n\n        if (getIsEnabled()) {\n          // Ignore any trigger events fired immediately after the first one\n          // e.g. `focus` can be fired right after `mouseenter` on touch devices\n          if (event === triggerEvent) {\n            addListener()\n          }\n        } else {\n          resetReference()\n        }\n      },\n      onUntrigger(): void {\n        // If untriggered before showing (`onHidden` will never be invoked)\n        if (!instance.state.isVisible) {\n          removeListener()\n          triggerEvent = null\n        }\n      },\n      onHidden(): void {\n        removeListener()\n        triggerEvent = null\n      },\n    }\n  },\n}\n\nexport function getVirtualOffsets(\n  popper: PopperElement,\n  isVerticalPlacement: boolean,\n): {\n  size: number\n  x: number\n  y: number\n} {\n  const size = isVerticalPlacement ? popper.offsetWidth : popper.offsetHeight\n\n  return {\n    size,\n    x: isVerticalPlacement ? size : 0,\n    y: isVerticalPlacement ? 0 : size,\n  }\n}\n","import { Instance, LifecycleHooks, InlinePositioningProps } from '../types'\nimport { arrayFrom } from '../utils'\nimport { getBasePlacement } from '../popper'\n\n// TODO: Work on a \"cursor\" value so it chooses a rect optimal to the cursor\n// position. This will require the `followCursor` plugin's fixes for overflow\n// due to using event.clientX/Y values. (normalizedPlacement, getVirtualOffsets)\nexport default {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn(instance: Instance): Partial<LifecycleHooks> {\n    const { reference } = instance\n\n    function getIsEnabled(): InlinePositioningProps['inlinePositioning'] {\n      return instance.props.inlinePositioning\n    }\n\n    return {\n      onHidden(): void {\n        if (getIsEnabled()) {\n          instance.popperInstance!.reference = reference\n        }\n      },\n      onTrigger(): void {\n        if (!getIsEnabled()) {\n          return\n        }\n\n        instance.popperInstance!.reference = {\n          // @ts-ignore - awaiting popper.js@1.16.0 release\n          referenceNode: reference,\n          clientWidth: 0,\n          clientHeight: 0,\n          getBoundingClientRect(): ClientRect | DOMRect {\n            return getInlineBoundingClientRect(\n              instance.state.currentPlacement &&\n                getBasePlacement(instance.state.currentPlacement),\n              reference.getBoundingClientRect(),\n              arrayFrom(reference.getClientRects()),\n            )\n          },\n        }\n      },\n    }\n  },\n}\n\nexport function getInlineBoundingClientRect(\n  currentBasePlacement: Instance['state']['currentPlacement'],\n  boundingRect: ClientRect,\n  clientRects: ClientRect[],\n): ClientRect {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect\n  }\n\n  let rectToUse: ClientRect\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom': {\n      const firstRect = clientRects[0]\n      const lastRect = clientRects[clientRects.length - 1]\n      const isTop = currentBasePlacement === 'top'\n\n      const top = firstRect.top\n      const bottom = lastRect.bottom\n      const left = isTop ? firstRect.left : lastRect.left\n      const right = isTop ? firstRect.right : lastRect.right\n      const width = right - left\n      const height = bottom - top\n\n      rectToUse = { top, bottom, left, right, width, height }\n\n      break\n    }\n    case 'left':\n    case 'right': {\n      const minLeft = Math.min(...clientRects.map(rects => rects.left))\n      const maxRight = Math.max(...clientRects.map(rects => rects.right))\n      const measureRects = clientRects.filter(rect =>\n        currentBasePlacement === 'left'\n          ? rect.left === minLeft\n          : rect.right === maxRight,\n      )\n\n      const top = measureRects[0].top\n      const bottom = measureRects[measureRects.length - 1].bottom\n      const left = minLeft\n      const right = maxRight\n      const width = right - left\n      const height = bottom - top\n\n      rectToUse = { top, bottom, left, right, width, height }\n\n      break\n    }\n    default: {\n      rectToUse = boundingRect\n    }\n  }\n\n  return rectToUse\n}\n","import { LifecycleHooks, Instance } from '../types'\n\nexport default {\n  name: 'sticky',\n  defaultValue: false,\n  fn(instance: Instance): Partial<LifecycleHooks> {\n    const { reference, popper } = instance\n\n    function shouldCheck(value: 'reference' | 'popper'): boolean {\n      return instance.props.sticky === true || instance.props.sticky === value\n    }\n\n    let prevRefRect: ClientRect | null = null\n    let prevPopRect: ClientRect | null = null\n\n    function updatePosition(): void {\n      const currentRefRect = shouldCheck('reference')\n        ? reference.getBoundingClientRect()\n        : null\n      const currentPopRect = shouldCheck('popper')\n        ? popper.getBoundingClientRect()\n        : null\n\n      // Schedule an update if the reference rect has changed\n      if (\n        (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect)) ||\n        (currentPopRect && areRectsDifferent(prevPopRect, currentPopRect))\n      ) {\n        instance.popperInstance!.update()\n      }\n\n      prevRefRect = currentRefRect\n      prevPopRect = currentPopRect\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition)\n      }\n    }\n\n    return {\n      onMount(): void {\n        if (instance.props.sticky) {\n          updatePosition()\n        }\n      },\n    }\n  },\n}\n\nfunction areRectsDifferent(\n  rectA: ClientRect | null,\n  rectB: ClientRect | null,\n): boolean {\n  if (rectA && rectB) {\n    return (\n      rectA.top !== rectB.top ||\n      rectA.right !== rectB.right ||\n      rectA.bottom !== rectB.bottom ||\n      rectA.left !== rectB.left\n    )\n  }\n\n  return true\n}\n"],"names":["createSingleton","tippyInstances","optionalProps","throwErrorWhen","Array","isArray","forEach","instance","disable","currentAria","currentTarget","userProps","setUserProps","props","Object","keys","prop","useIfDefined","defaultProps","handleAriaDescribedByAttribute","id","isInteractive","isShow","setAttribute","removeAttribute","references","map","reference","singleton","tippy","document","createElement","aria","triggerTarget","onMount","preserveInvocation","popperChildren","tooltip","interactive","onUntrigger","event","onTrigger","target","index","indexOf","state","isVisible","setContent","content","popperInstance","referenceNode","clientHeight","clientWidth","getBoundingClientRect","onAfterUpdate","partialProps","onDestroy","enable","delegate","targets","listeners","childTippyInstances","nativeProps","removeProperties","trigger","returnValue","targetNode","closest","showOnCreate","concat","on","element","eventType","listener","options","addEventListener","push","addEventListeners","splitBySpaces","removeEventListeners","removeEventListener","applyMutations","originalDestroy","destroy","shouldDestroyChildInstances","setProps","name","defaultValue","fn","backdrop","animateFill","isUCBrowser","createBackdropElement","addBackdropToPopperChildren","onCreate","insertBefore","firstElementChild","animation","arrow","transitionDuration","style","duration","Number","replace","transitionDelay","Math","round","setDataState","warnWhen","getComputedStyle","position","transform","onShow","onHide","div","className","BACKDROP_CLASS","value","popper","lastMouseMoveEvent","triggerEvent","isInternallySettingControlledProp","setNormalizedPlacement","placement","shift","split","getIsEnabled","followCursor","MouseEvent","clientX","clientY","getIsInitialBehavior","currentInput","isTouch","resetReference","handleListeners","disableEventListeners","triggerLastMouseMove","onMouseMove","addListener","removeListener","currentPlacement","isCursorOverReference","closestCallback","el","rect","isHorizontal","isVertical","isVerticalPlacement","includes","getBasePlacement","getVirtualOffsets","size","x","y","width","height","top","bottom","left","right","update","_","setTimeout","flipOnUpdate","onHidden","offsetWidth","offsetHeight","inlinePositioning","getInlineBoundingClientRect","arrayFrom","getClientRects","currentBasePlacement","boundingRect","clientRects","length","rectToUse","firstRect","lastRect","isTop","minLeft","min","rects","maxRight","max","measureRects","filter","shouldCheck","sticky","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","areRectsDifferent","isMounted","requestAnimationFrame","rectA","rectB"],"mappings":"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"}