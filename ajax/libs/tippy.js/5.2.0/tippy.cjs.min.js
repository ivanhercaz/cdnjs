"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var index=require("./tippy.chunk.cjs.js");require("popper.js");var createSingleton=function(a,e,t){void 0===e&&(e={}),void 0===t&&(t=[]),"production"!==process.env.NODE_ENV&&index.errorWhen(!Array.isArray(a),["The first argument passed to createSingleton() must be an array of tippy","instances. The passed value was",String(a)].join(" ")),t=e.plugins||t,a.forEach(function(e){e.disable()});var s,l,c=index._extends({},index.defaultProps,{},e).aria,i=!1,p=a.map(function(e){return e.reference}),n={fn:function(r){function o(e){if(s){var t="aria-"+s;e&&!r.props.interactive?l.setAttribute(t,r.popperChildren.tooltip.id):l.removeAttribute(t)}}return{onAfterUpdate:function(e,t){var n=t.aria;void 0!==n&&n!==c&&(i?(i=!0,r.setProps({aria:null}),i=!1):c=n)},onDestroy:function(){a.forEach(function(e){e.enable()})},onMount:function(){o(!0)},onUntrigger:function(){o(!1)},onTrigger:function(e,t){var n=t.currentTarget,i=p.indexOf(n);n!==l&&(l=n,s=c,r.state.isVisible&&o(!0),r.popperInstance.reference=n,r.setContent(a[i].props.content))}}}};return index.tippy(index.div(),index._extends({},e,{plugins:[n].concat(t),aria:null,triggerTarget:p}))},BUBBLING_EVENTS_MAP={mouseover:"mouseenter",focusin:"focus",click:"click"};function delegate(e,r,t){void 0===t&&(t=[]),"production"!==process.env.NODE_ENV&&index.errorWhen(!(r&&r.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" ")),t=r.plugins||t;var o=[],a=[],s=r.target,n=index.removeProperties(r,["target"]),i=index._extends({},n,{plugins:t,trigger:"manual"}),l=index._extends({},n,{plugins:t,showOnCreate:!0}),c=index.tippy(e,i);function p(e){if(e.target){var t=e.target.closest(s);if(t){var n=t.getAttribute("data-tippy-trigger")||r.trigger||index.defaultProps.trigger;if(index.includes(n,BUBBLING_EVENTS_MAP[e.type])){var i=index.tippy(t,l);i&&(a=a.concat(i))}}}}function u(e,t,n,i){void 0===i&&(i=!1),e.addEventListener(t,n,i),o.push({node:e,eventType:t,handler:n,options:i})}return index.normalizeToArray(c).forEach(function(e){var t,n=e.destroy;e.destroy=function(e){void 0===e&&(e=!0),e&&a.forEach(function(e){e.destroy()}),a=[],o.forEach(function(e){var t=e.node,n=e.eventType,i=e.handler,r=e.options;t.removeEventListener(n,i,r)}),o=[],n()},u(t=e.reference,"mouseover",p),u(t,"focusin",p),u(t,"click",p)}),c}var animateFill={name:"animateFill",defaultValue:!1,fn:function(e){var t=e.popperChildren,n=t.tooltip,i=t.content,r=e.props.animateFill&&!index.isUCBrowser?createBackdropElement():null;function o(){e.popperChildren.backdrop=r}return{onCreate:function(){r&&(o(),n.insertBefore(r,n.firstElementChild),n.setAttribute("data-animatefill",""),n.style.overflow="hidden",e.setProps({animation:"shift-away",arrow:!1}))},onMount:function(){if(r){var e=n.style.transitionDuration,t=Number(e.replace("ms",""));i.style.transitionDelay=Math.round(t/10)+"ms",r.style.transitionDuration=e,index.setVisibilityState([r],"visible"),"production"!==process.env.NODE_ENV&&(index.warnWhen("absolute"!==getComputedStyle(r).position,"The `tippy.js/dist/backdrop.css` stylesheet has not been\n              imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."),index.warnWhen("none"===getComputedStyle(n).transform,"The `tippy.js/animations/shift-away.css` stylesheet has not\n              been imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."))}},onShow:function(){r&&(r.style.transitionDuration="0ms")},onHide:function(){r&&index.setVisibilityState([r],"hidden")},onAfterUpdate:function(){o()}}}};function createBackdropElement(){var e=index.div();return e.className=index.BACKDROP_CLASS,index.setVisibilityState([e],"hidden"),e}var followCursor={name:"followCursor",defaultValue:!1,fn:function(g){var h,m=g.reference,v=g.popper,x=null,e=index.getOwnerDocument(g.props.triggerTarget||m),n=null,i=!1,r=g.props;function t(){return"manual"===g.props.trigger.trim()}function o(){var e=!!t()||null!==n&&!(0===n.clientX&&0===n.clientY);return g.props.followCursor&&e}function y(){return index.currentInput.isTouch||"initial"===g.props.followCursor&&g.state.isVisible}function a(){g.popperInstance&&x&&(g.popperInstance.reference=x)}function s(){if(o()||g.props.placement!==r.placement){var e=r.placement,t=e.split("-")[1];i=!0,g.setProps({placement:o()&&t?e.replace(t,"start"===t?"end":"start"):e}),i=!1}}function l(){g.popperInstance&&o()&&(y()||!0!==g.props.followCursor)&&g.popperInstance.disableEventListeners()}function c(){o()?e.addEventListener("mousemove",u):a()}function p(){o()&&u(h)}function b(){e.removeEventListener("mousemove",u)}function u(e){var t=h=e,n=t.clientX,i=t.clientY;if(g.popperInstance&&g.state.currentPlacement){var r=index.closestCallback(e.target,function(e){return e===m}),o=m.getBoundingClientRect(),a=g.props.followCursor,s="horizontal"===a,l="vertical"===a,c=index.includes(["top","bottom"],index.getBasePlacement(g.state.currentPlacement)),p=getVirtualOffsets(v,c),u=p.size,f=p.x,d=p.y;!r&&g.props.interactive||(null===x&&(x=g.popperInstance.reference),g.popperInstance.reference={referenceNode:m,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:c?u:0,height:c?0:u,top:(s?o.top:i)-d,bottom:(s?o.bottom:i)+d,left:(l?o.left:n)-f,right:(l?o.right:n)+f}}},g.popperInstance.update()),y()&&b()}}return{onAfterUpdate:function(e,t){var n;i||(n=t,Object.keys(n).forEach(function(e){r[e]=index.useIfDefined(n[e],r[e])}),t.placement&&s()),t.placement&&l(),requestAnimationFrame(p)},onMount:function(){p(),l()},onShow:function(){t()&&(h=n={clientX:0,clientY:0},s(),c())},onTrigger:function(e,t){n||(index.isMouseEvent(t)&&(n={clientX:t.clientX,clientY:t.clientY},h=t),s(),c())},onUntrigger:function(){g.state.isVisible||(b(),n=null)},onHidden:function(){b(),a(),n=null}}}};function getVirtualOffsets(e,t){var n=t?e.offsetWidth:e.offsetHeight;return{size:n,x:t?n:0,y:t?0:n}}var inlinePositioning={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t=e.reference;function n(){return e.props.inlinePositioning}return{onHidden:function(){n()&&(e.popperInstance.reference=t)},onShow:function(){n()&&(e.popperInstance.reference={referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return getInlineBoundingClientRect(e.state.currentPlacement&&index.getBasePlacement(e.state.currentPlacement),t.getBoundingClientRect(),index.arrayFrom(t.getClientRects()))}})}}}};function getInlineBoundingClientRect(t,e,n){if(n.length<2||null===t)return e;switch(t){case"top":case"bottom":var i=n[0],r=n[n.length-1],o="top"===t,a=i.top,s=r.bottom,l=o?i.left:r.left,c=o?i.right:r.right;return{top:a,bottom:s,left:l,right:c,width:c-l,height:s-a};case"left":case"right":var p=Math.min.apply(Math,n.map(function(e){return e.left})),u=Math.max.apply(Math,n.map(function(e){return e.right})),f=n.filter(function(e){return"left"===t?e.left===p:e.right===u}),d=f[0].top,g=f[f.length-1].bottom;return{top:d,bottom:g,left:p,right:u,width:u-p,height:g-d};default:return e}}var sticky={name:"sticky",defaultValue:!1,fn:function(n){var i=n.reference,r=n.popper;function o(e){return!0===n.props.sticky||n.props.sticky===e}var a=null,s=null;function l(){var e=o("reference")?(n.popperInstance?n.popperInstance.reference:i).getBoundingClientRect():null,t=o("popper")?r.getBoundingClientRect():null;(e&&areRectsDifferent(a,e)||t&&areRectsDifferent(s,t))&&n.popperInstance.update(),a=e,s=t,n.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){n.props.sticky&&l()}}}};function areRectsDifferent(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}exports.createTippyWithPlugins=index.createTippyWithPlugins,exports.default=index.tippy,exports.hideAll=index.hideAll,exports.roundArrow=index.ROUND_ARROW,exports.animateFill=animateFill,exports.createSingleton=createSingleton,exports.delegate=delegate,exports.followCursor=followCursor,exports.inlinePositioning=inlinePositioning,exports.sticky=sticky;