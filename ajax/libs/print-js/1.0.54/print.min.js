!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.printJS=t():e.printJS=t()}(window,function(){return r={},o.m=n={"./src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("./src/sass/index.scss");var r,o=n("./src/js/init.js");var i=((r=o)&&r.__esModule?r:{default:r}).default.init;"undefined"!=typeof window&&(window.printJS=i),t.default=i},"./src/js/browser.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(e){return!!(0<arguments.length&&void 0!==e?e:window).chrome},isSafari:function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")||-1!==navigator.userAgent.toLowerCase().indexOf("safari")}};t.default=r},"./src/js/functions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function u(e,t){var n=document.defaultView||window,r="",o=n.getComputedStyle(e,"");return Object.keys(o).map(function(e){(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(o[e])||function(e,t){for(var n=0;n<e.length;n++)if("object"===(void 0===t?"undefined":i(t))&&-1!==t.indexOf(e[n]))return 1;return}(t.targetStyles,o[e]))&&o.getPropertyValue(o[e])&&(r+=o[e]+":"+o.getPropertyValue(o[e])+";")}),r+="max-width: "+t.maxWidth+"px !important;"+t.font_size+" !important;"}t.addWrapper=function(e,t){return'<div style="font-family:'+t.font+" !important; font-size: "+t.font_size+' !important; width:100%;">'+e+"</div>"},t.capitalizePrint=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.collectStyles=u,t.loopNodesCollectStyles=function e(t,n){for(var r=0;r<t.length;r++){var o=t[r];if(-1===n.ignoreElements.indexOf(o.getAttribute("id"))){var i=o.tagName;if("INPUT"===i||"TEXTAREA"===i||"SELECT"===i){var a=u(o,n),d=o.parentNode,l="SELECT"===i?document.createTextNode(o.options[o.selectedIndex].text):document.createTextNode(o.value),s=document.createElement("div");s.appendChild(l),s.setAttribute("style",a),d.appendChild(s),d.removeChild(o)}else o.setAttribute("style",u(o,n));var c=o.children;c&&c.length&&e(c,n)}else o.parentNode.removeChild(o)}},t.addHeader=function(e,t,n){var r=document.createElement("h1"),o=document.createTextNode(t);r.appendChild(o),r.setAttribute("style",n),e.insertBefore(r,e.childNodes[0])}},"./src/js/html.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./src/js/functions.js"),o=n("./src/js/print.js"),a=(r=o)&&r.__esModule?r:{default:r};t.default={print:function(e,t){var n=document.getElementById(e.printable);if(!n)return window.console.error("Invalid HTML element id: "+e.printable),!1;var r=document.createElement("div");if(r.appendChild(n.cloneNode(!0)),r.setAttribute("style","height:0; overflow:hidden;"),r.setAttribute("id","printJS-html"),n.parentNode.appendChild(r),r=document.getElementById("printJS-html"),!0===e.scanStyles){e.honorMarginPadding&&e.targetStyles.push("margin","padding"),e.honorColor&&e.targetStyles.push("color"),r.setAttribute("style",(0,i.collectStyles)(r,e)+"margin:0 !important;");var o=r.children;(0,i.loopNodesCollectStyles)(o,e)}e.header&&(0,i.addHeader)(r,e.header,e.headerStyle),r.parentNode.removeChild(r),e.htmlData=(0,i.addWrapper)(r.innerHTML,e),a.default.send(e,t)}}},"./src/js/image.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/js/functions.js"),i=n("./src/js/print.js"),a=(r=i)&&r.__esModule?r:{default:r};t.default={print:function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]);var d,l,s,n=document.createElement("div");n.setAttribute("style","width:100%"),d=n,s=[],(l=e).printable.forEach(function(e,t){var n,r,o,i,a=document.createElement("img");a.src=e,s.push((n=d,r=l,o=a,i=t,new Promise(function(t){o.onload=function(){var e=document.createElement("div");e.setAttribute("style",r.imageStyle),o.setAttribute("style","width:100%;"),o.setAttribute("id","printableImage"+i),e.appendChild(o),n.appendChild(e),t()}})))}),Promise.all(s).then(function(){e.header&&(0,o.addHeader)(n,e.header,e.headerStyle),e.htmlData=n.outerHTML,a.default.send(e,t)})}}},"./src/js/init.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=r(n("./src/js/browser.js")),l=r(n("./src/js/modal.js")),s=r(n("./src/js/pdf.js")),c=r(n("./src/js/html.js")),u=r(n("./src/js/image.js")),f=r(n("./src/js/json.js"));function r(e){return e&&e.__esModule?e:{default:e}}var p=["pdf","html","image","json"];t.default={init:function(e,t){var n={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:null,onPdfOpen:null,modalMessage:"Retrieving Document...",frameId:"printJS",htmlData:"",documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],imageStyle:"width:100%;",repeatTableHeader:!0,css:null,style:null,scanStyles:!0},r=e;if(void 0===r)throw new Error("printJS expects at least 1 attribute.");switch(void 0===r?"undefined":a(r)){case"string":n.printable=encodeURI(r),n.fallbackPrintable=n.printable,n.type=t||n.type;break;case"object":n.printable=r.printable,n.fallbackPrintable=void 0!==r.fallbackPrintable?r.fallbackPrintable:n.printable,n.type=void 0!==r.type?r.type:n.type,n.frameId=void 0!==r.frameId?r.frameId:n.frameId,n.header=void 0!==r.header?r.header:n.header,n.headerStyle=void 0!==r.headerStyle?r.headerStyle:n.headerStyle,n.maxWidth=void 0!==r.maxWidth?r.maxWidth:n.maxWidth,n.font=void 0!==r.font?r.font:n.font,n.font_size=void 0!==r.font_size?r.font_size:n.font_size,n.honorMarginPadding=void 0!==r.honorMarginPadding?r.honorMarginPadding:n.honorMarginPadding,n.properties=void 0!==r.properties?r.properties:n.properties,n.gridHeaderStyle=void 0!==r.gridHeaderStyle?r.gridHeaderStyle:n.gridHeaderStyle,n.gridStyle=void 0!==r.gridStyle?r.gridStyle:n.gridStyle,n.showModal=void 0!==r.showModal?r.showModal:n.showModal,n.onError=void 0!==r.onError?r.onError:n.onError,n.onLoadingStart=void 0!==r.onLoadingStart?r.onLoadingStart:n.onLoadingStart,n.onLoadingEnd=void 0!==r.onLoadingEnd?r.onLoadingEnd:n.onLoadingEnd,n.onPrintDialogClose=void 0!==r.onPrintDialogClose?r.onPrintDialogClose:n.onPrintDialogClose,n.onPdfOpen=void 0!==r.onPdfOpen?r.onPdfOpen:n.onPdfOpen,n.modalMessage=void 0!==r.modalMessage?r.modalMessage:n.modalMessage,n.documentTitle=void 0!==r.documentTitle?r.documentTitle:n.documentTitle,n.targetStyle=void 0!==r.targetStyle?r.targetStyle:n.targetStyle,n.targetStyles=void 0!==r.targetStyles?r.targetStyles:n.targetStyles,n.ignoreElements=void 0!==r.ignoreElements?r.ignoreElements:n.ignoreElements,n.imageStyle=void 0!==r.imageStyle?r.imageStyle:n.imageStyle,n.repeatTableHeader=void 0!==r.repeatTableHeader?r.repeatTableHeader:n.repeatTableHeader,n.css=void 0!==r.css?r.css:n.css,n.style=void 0!==r.style?r.style:n.style,n.scanStyles=void 0!==r.scanStyles?r.scanStyles:n.scanStyles;break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+(void 0===r?"undefined":a(r)))}if(!n.printable)throw new Error("Missing printable information.");if(!n.type||"string"!=typeof n.type||-1===p.indexOf(n.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");n.showModal&&l.default.show(n),n.onLoadingStart&&n.onLoadingStart();var o=document.getElementById(n.frameId);o&&o.parentNode.removeChild(o);var i=void 0;switch((i=document.createElement("iframe")).setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute;"),i.setAttribute("id",n.frameId),"pdf"!==n.type&&(i.srcdoc="<html><head><title>"+n.documentTitle+"</title>",null!==n.css&&(Array.isArray(n.css)||(n.css=[n.css]),n.css.forEach(function(e){i.srcdoc+='<link rel="stylesheet" href="'+e+'">'})),i.srcdoc+="</head><body></body></html>"),n.type){case"pdf":if(d.default.isFirefox()||d.default.isEdge()||d.default.isIE())try{console.info("PrintJS currently doesn't support PDF printing in Firefox, Internet Explorer and Edge."),window.open(n.fallbackPrintable,"_blank").focus(),n.onPdfOpen&&n.onPdfOpen()}catch(e){n.onError(e)}finally{n.showModal&&l.default.close(),n.onLoadingEnd&&n.onLoadingEnd()}else s.default.print(n,i);break;case"image":u.default.print(n,i);break;case"html":c.default.print(n,i);break;case"json":f.default.print(n,i)}}}},"./src/js/json.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n("./src/js/functions.js"),i=n("./src/js/print.js"),a=(r=i)&&r.__esModule?r:{default:r};t.default={print:function(t,e){if("object"!==o(t.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof t.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!t.properties||!Array.isArray(t.properties))throw new Error("Invalid properties array for your JSON data.");t.properties=t.properties.map(function(e){return{field:"object"===(void 0===e?"undefined":o(e))?e.field:e,displayName:"object"===(void 0===e?"undefined":o(e))?e.displayName:e,columnSize:"object"===(void 0===e?"undefined":o(e))&&e.columnSize?e.columnSize+";":100/t.properties.length+"%;"}});var n="";t.header&&(n+='<h1 style="'+t.headerStyle+'">'+t.header+"</h1>"),n+=function(e){var t=e.printable,n=e.properties,r='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(r+="<thead>");r+="<tr>";for(var o=0;o<n.length;o++)r+='<th style="width:'+n[o].columnSize+";"+e.gridHeaderStyle+'">'+(0,c.capitalizePrint)(n[o].displayName)+"</th>";r+="</tr>",e.repeatTableHeader&&(r+="</thead>");r+="<tbody>";for(var i=0;i<t.length;i++){r+="<tr>";for(var a=0;a<n.length;a++){var d=t[i],l=n[a].field.split(".");if(1<l.length)for(var s=0;s<l.length;s++)d=d[l[s]];else d=d[n[a].field];r+='<td style="width:'+n[a].columnSize+e.gridStyle+'">'+d+"</td>"}r+="</tr>"}return r+="</tbody></table>"}(t),t.htmlData=(0,c.addWrapper)(n,t),a.default.send(t,e)}}},"./src/js/modal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var r=document.createElement("div");r.setAttribute("class","printClose"),r.setAttribute("id","printClose"),n.appendChild(r);var o=document.createElement("span");o.setAttribute("class","printSpinner"),n.appendChild(o);var i=document.createTextNode(e.modalMessage);n.appendChild(i),t.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",function(){a.close()})},close:function(){var e=document.getElementById("printJS-Modal");e.parentNode.removeChild(e)}};t.default=a},"./src/js/pdf.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/js/print.js"),i=(r=o)&&r.__esModule?r:{default:r};function a(e,t){t.setAttribute("src",e.printable),i.default.send(e,t)}t.default={print:function(t,n){if(t.printable=/^(blob|http)/i.test(t.printable)?t.printable:window.location.origin+("/"!==t.printable.charAt(0)?"/"+t.printable:t.printable),t.showModal||t.onLoadingStart){var r=new window.XMLHttpRequest;r.responseType="arraybuffer",r.addEventListener("load",function(){var e=new window.Blob([r.response],{type:"application/pdf"});e=window.URL.createObjectURL(e),t.printable=e,a(t,n)}),r.open("GET",t.printable,!0),r.send()}else a(t,n)}}},"./src/js/print.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("./src/js/browser.js")),r=o(n("./src/js/modal.js"));function o(e){return e&&e.__esModule?e:{default:e}}var a={send:function(r,e){document.getElementsByTagName("body")[0].appendChild(e);var o=document.getElementById(r.frameId);"pdf"===r.type&&(i.default.isIE()||i.default.isEdge())?o.setAttribute("onload",d(o,r)):e.onload=function(){if("pdf"===r.type)d(o,r);else{var e=o.contentWindow||o.contentDocument;if(e.document&&(e=e.document),e.body.innerHTML=r.htmlData,"pdf"!==r.type&&null!==r.style){var t=document.createElement("style");t.innerHTML=r.style,e.head.appendChild(t)}"image"===r.type?(n=e,i=[],r.printable.forEach(function(e,t){return i.push((r=n,o=t,new Promise(function(n){!function e(){var t=r?r.getElementById("printableImage"+o):null;t&&void 0!==t.naturalWidth&&0!==t.naturalWidth?n():setTimeout(e,500)}()})));var r,o}),Promise.all(i).then(function(){d(o,r)})):d(o,r)}var n,i}}};function d(e,t){try{!function(t){if(t.focus(),i.default.isEdge()||i.default.isIE())try{t.contentWindow.document.execCommand("print",!1,null)}catch(e){t.contentWindow.print()}else t.contentWindow.print()}(e)}catch(e){t.onError(e)}finally{!function(t){if(t.showModal&&r.default.close(),t.onLoadingEnd&&t.onLoadingEnd(),(t.showModal||t.onLoadingStart)&&window.URL.revokeObjectURL(t.printable),t.onPrintDialogClose){var n="mouseover";(i.default.isChrome()||i.default.isFirefox())&&(n="focus");window.addEventListener(n,function e(){window.removeEventListener(n,e),t.onPrintDialogClose()})}}(t)}}t.default=a},"./src/sass/index.scss":function(e,t,n){},0:function(e,t,n){e.exports=n("./src/index.js")}},o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0).default;function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});