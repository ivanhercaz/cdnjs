!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).sinon=e()}}(function(){var define,module,exports;return function i(s,a,c){function u(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[t]={exports:{}};s[t][0].call(o.exports,function(e){return u(s[t][1][e]||e)},o,o.exports,i,s,a,c)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){"use strict";var r=e("./sinon/behavior"),o=e("./sinon/create-sandbox"),i=e("./sinon/util/core/extend"),s=e("./sinon/util/fake-timers"),a=e("./sinon/util/core/format"),c=e("nise"),u=e("./sinon/sandbox"),l=e("./sinon/stub"),f={createSandbox:o,assert:e("./sinon/assert"),match:e("@sinonjs/samsam").createMatcher,restoreObject:e("./sinon/restore-object"),expectation:e("./sinon/mock-expectation"),defaultConfig:e("./sinon/util/core/default-config"),setFormatter:a.setFormatter,timers:s.timers,xhr:c.fakeXhr.xhr,FakeXMLHttpRequest:c.fakeXhr.FakeXMLHttpRequest,fakeServer:c.fakeServer,fakeServerWithClock:c.fakeServerWithClock,createFakeServer:c.fakeServer.create.bind(c.fakeServer),createFakeServerWithClock:c.fakeServerWithClock.create.bind(c.fakeServerWithClock),addBehavior:function(e,t){r.addBehavior(l,e,t)}},p=i(new u,f);t.exports=p},{"./sinon/assert":2,"./sinon/behavior":3,"./sinon/create-sandbox":6,"./sinon/mock-expectation":9,"./sinon/restore-object":15,"./sinon/sandbox":16,"./sinon/stub":19,"./sinon/util/core/default-config":21,"./sinon/util/core/extend":23,"./sinon/util/core/format":24,"./sinon/util/fake-timers":37,"@sinonjs/samsam":80,nise:98}],2:[function(e,t,n){"use strict";var i,r=e("@sinonjs/commons").prototypes.array,o=e("@sinonjs/commons").calledInOrder,s=e("@sinonjs/samsam").createMatcher,a=e("@sinonjs/commons").orderByFirstCall,c=e("./util/core/times-in-words"),u=e("./util/core/format"),l=e("@sinonjs/commons").prototypes.string.slice,f=e("@sinonjs/commons").global,p=r.slice,h=r.concat,d=r.forEach,m=r.join,y=r.splice;function g(){var e=p(arguments);d(e,function(e){e||i.fail("fake is not a spy"),e.proxy&&e.proxy.isSinonProxy?g(e.proxy):("function"!=typeof e&&i.fail(e+" is not a function"),"function"!=typeof e.getCall&&i.fail(e+" is not stubbed"))})}function v(e,t){var n=e||f;(n.fail||i.fail).call(n,t)}function b(n,e,t){var r=t,o=e;2===arguments.length&&(r=e,o=n),i[n]=function(e){g(e);var t=p(arguments,1);!function(e,t){switch(e){case"notCalled":case"called":case"calledOnce":case"calledTwice":case"calledThrice":0!==t.length&&i.fail(e+" takes 1 argument but was called with "+(t.length+1)+" arguments")}}(n,t),("function"==typeof o?!o(e):"function"==typeof e[o]?!e[o].apply(e,t):!e[o])?v(this,(e.printf||e.proxy.printf).apply(e,h([r],t))):i.pass(n)}}i={failException:"AssertError",fail:function(e){var t=new Error(e);throw t.name=this.failException||i.failException,t},pass:function(){},callOrder:function(){g.apply(null,arguments);var e="",t="";if(o(arguments))i.pass("callOrder");else{try{e=m(arguments,", ");for(var n=p(arguments),r=n.length;r;)n[--r].called||y(n,r,1);t=m(a(n),", ")}catch(e){}v(this,"expected "+e+" to be called in order but were called as "+t)}},callCount:function(e,t){if(g(e),e.callCount!==t){var n="expected %n to be called "+c(t)+" but was called %c%C";v(this,e.printf(n))}else i.pass("callCount")},expose:function(r,e){if(!r)throw new TypeError("target is null or undefined");var t=e||{},o=void 0===t.prefix?"assert":t.prefix,i=void 0===t.includeFail||Boolean(t.includeFail),s=this;return d(Object.keys(s),function(e){var t,n;"expose"===e||!i&&/^(fail)/.test(e)||(r[n=e,!(t=o)||/^fail/.test(n)?n:t+l(n,0,1).toUpperCase()+l(n,1)]=s[e])}),r},match:function(e,t){if(s(t).test(e))i.pass("match");else{var n=["expected value to match","    expected = "+u(t),"    actual = "+u(e)];v(this,m(n,"\n"))}}},b("called","expected %n to have been called at least once but was never called"),b("notCalled",function(e){return!e.called},"expected %n to not have been called but was called %c%C"),b("calledOnce","expected %n to be called once but was called %c%C"),b("calledTwice","expected %n to be called twice but was called %c%C"),b("calledThrice","expected %n to be called thrice but was called %c%C"),b("calledOn","expected %n to be called with %1 as this but was called with %t"),b("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t"),b("calledWithNew","expected %n to be called with new"),b("alwaysCalledWithNew","expected %n to always be called with new"),b("calledWith","expected %n to be called with arguments %D"),b("calledWithMatch","expected %n to be called with match %D"),b("alwaysCalledWith","expected %n to always be called with arguments %D"),b("alwaysCalledWithMatch","expected %n to always be called with match %D"),b("calledWithExactly","expected %n to be called with exact arguments %D"),b("calledOnceWithExactly","expected %n to be called once and with exact arguments %D"),b("alwaysCalledWithExactly","expected %n to always be called with exact arguments %D"),b("neverCalledWith","expected %n to never be called with arguments %*%C"),b("neverCalledWithMatch","expected %n to never be called with match %*%C"),b("threw","%n did not throw exception%C"),b("alwaysThrew","%n did not always throw exception%C"),t.exports=i},{"./util/core/format":24,"./util/core/times-in-words":32,"@sinonjs/commons":44,"@sinonjs/samsam":80}],3:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,o=e("./util/core/extend"),a=e("@sinonjs/commons").functionName,c=e("./util/core/next-tick"),u=e("@sinonjs/commons").valueToString,i=e("./util/core/export-async-behaviors"),s=r.concat,l=r.join,f=r.reverse,p=r.slice,h=-1,d=-2;function m(e,t,n){var r=t[e.replace(/sArg/,"ArgAt")];if(r>=n.length)throw new TypeError(e+" failed: "+(r+1)+" arguments required but only "+n.length+" present")}function y(e,t){if("number"==typeof e.callArgAt){m("callsArg",e,t);var n=function(e,t){var n,r=e.callArgAt;if(0<=r)return t[r];r===h&&(n=t),r===d&&(n=f(p(t)));for(var o=e.callArgProp,i=0,s=n.length;i<s;++i){if(!o&&"function"==typeof n[i])return n[i];if(o&&n[i]&&"function"==typeof n[i][o])return n[i][o]}return null}(e,t);if("function"!=typeof n)throw new TypeError((o=n,i=t,(r=e).callArgAt<0?(s=r.callArgProp?a(r.stub)+" expected to yield to '"+u(r.callArgProp)+"', but no object with such a property was passed.":a(r.stub)+" expected to yield, but no callback was passed.",0<i.length&&(s+=" Received ["+l(i,", ")+"]"),s):"argument at index "+r.callArgAt+" is not a function: "+o));if(!e.callbackAsync)return n.apply(e.callbackContext,e.callbackArguments);c(function(){n.apply(e.callbackContext,e.callbackArguments)})}var r,o,i,s}var g={create:function(e){var t=o({},g);return delete t.create,delete t.addBehavior,delete t.createBehavior,(t.stub=e).defaultBehavior&&e.defaultBehavior.promiseLibrary&&(t.promiseLibrary=e.defaultBehavior.promiseLibrary),t},isPresent:function(){return"number"==typeof this.callArgAt||this.exception||this.exceptionCreator||"number"==typeof this.returnArgAt||this.returnThis||"number"==typeof this.resolveArgAt||this.resolveThis||"number"==typeof this.throwArgAt||this.fakeFn||this.returnValueDefined},invoke:function(e,t){var n=y(this,t);if(this.exception)throw this.exception;if(this.exceptionCreator)throw this.exception=this.exceptionCreator(),this.exceptionCreator=void 0,this.exception;if("number"==typeof this.returnArgAt)return m("returnsArg",this,t),t[this.returnArgAt];if(this.returnThis)return e;if("number"==typeof this.throwArgAt)throw m("throwsArg",this,t),t[this.throwArgAt];if(this.fakeFn)return this.fakeFn.apply(e,t);if("number"==typeof this.resolveArgAt)return m("resolvesArg",this,t),(this.promiseLibrary||Promise).resolve(t[this.resolveArgAt]);if(this.resolveThis)return(this.promiseLibrary||Promise).resolve(e);if(this.resolve)return(this.promiseLibrary||Promise).resolve(this.returnValue);if(this.reject)return(this.promiseLibrary||Promise).reject(this.returnValue);if(this.callsThrough)return this.effectiveWrappedMethod().apply(e,t);if(this.callsThroughWithNew){var r=this.effectiveWrappedMethod(),o=p(t);return new(r.bind.apply(r,s([null],o)))}return void 0!==this.returnValue?this.returnValue:"number"==typeof this.callArgAt?n:this.returnValue},effectiveWrappedMethod:function(){for(var e=this.stub;e;e=e.parent)if(e.wrappedMethod)return e.wrappedMethod;throw new Error("Unable to find wrapped method")},onCall:function(e){return this.stub.onCall(e)},onFirstCall:function(){return this.stub.onFirstCall()},onSecondCall:function(){return this.stub.onSecondCall()},onThirdCall:function(){return this.stub.onThirdCall()},withArgs:function(){throw new Error('Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.')}};function v(e){return function(){return this.defaultBehavior=this.defaultBehavior||g.create(this),this.defaultBehavior[e].apply(this.defaultBehavior,arguments),this}}g.addBehavior=function(e,t,n){g[t]=function(){return n.apply(this,s([this],p(arguments))),this.stub||this},e[t]=v(t)},g.createBehavior=v;var b=i(g);t.exports=o.nonEnum({},g,b)},{"./util/core/export-async-behaviors":22,"./util/core/extend":23,"./util/core/next-tick":31,"@sinonjs/commons":44}],4:[function(e,t,n){"use strict";var r=e("./util/core/walk"),o=e("./util/core/get-property-descriptor"),i=e("@sinonjs/commons").prototypes.object.hasOwnProperty,s=e("@sinonjs/commons").prototypes.array.push;t.exports=function(e){var t=[];return r(e,function(e,t,n,r){"function"==typeof o(r,n).value&&i(t,n)&&s(e,t[n])}.bind(null,t,e)),t}},{"./util/core/get-property-descriptor":27,"./util/core/walk":35,"@sinonjs/commons":44}],5:[function(e,t,n){"use strict";var r=e("supports-color");function o(e,t){return!1===r.stdout?e:"["+t+"m"+e+"[0m"}n.red=function(e){return o(e,31)},n.green=function(e){return o(e,32)},n.cyan=function(e){return o(e,96)},n.white=function(e){return o(e,39)},n.bold=function(e){return o(e,1)}},{"supports-color":100}],6:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,i=e("./sandbox"),s=r.forEach,o=r.push;function a(e,t,n,r){r&&(!t.injectInto||n in t.injectInto?o(e.args,r):(t.injectInto[n]=r,o(e.injectedKeys,n)))}t.exports=function(n){if(!n)return new i;var e,t,r=(e=n,t=new i,e.useFakeServer&&("object"==typeof e.useFakeServer&&(t.serverPrototype=e.useFakeServer),t.useFakeServer()),e.useFakeTimers&&("object"==typeof e.useFakeTimers?t.useFakeTimers(e.useFakeTimers):t.useFakeTimers()),t);r.args=r.args||[],r.injectedKeys=[],r.injectInto=n.injectInto;var o=r.inject({});return n.properties?s(n.properties,function(e){var t=o[e]||"sandbox"===e&&r;a(r,n,e,t)}):a(r,n,"sandbox"),r}},{"./sandbox":16,"@sinonjs/commons":44}],7:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,o=e("./util/core/is-property-configurable"),i=e("./util/core/export-async-behaviors"),s=e("./util/core/extend"),a=r.slice;function c(e,t,n){"function"==typeof t?e.exceptionCreator=t:"string"==typeof t?e.exceptionCreator=function(){var e=new Error(n||"");return e.name=t,e}:t?e.exception=t:e.exceptionCreator=function(){return new Error("Error")}}var u={callsFake:function(e,t){e.fakeFn=t},callsArg:function(e,t){if("number"!=typeof t)throw new TypeError("argument index is not number");e.callArgAt=t,e.callbackArguments=[],e.callbackContext=void 0,e.callArgProp=void 0,e.callbackAsync=!1},callsArgOn:function(e,t,n){if("number"!=typeof t)throw new TypeError("argument index is not number");e.callArgAt=t,e.callbackArguments=[],e.callbackContext=n,e.callArgProp=void 0,e.callbackAsync=!1},callsArgWith:function(e,t){if("number"!=typeof t)throw new TypeError("argument index is not number");e.callArgAt=t,e.callbackArguments=a(arguments,2),e.callbackContext=void 0,e.callArgProp=void 0,e.callbackAsync=!1},callsArgOnWith:function(e,t,n){if("number"!=typeof t)throw new TypeError("argument index is not number");e.callArgAt=t,e.callbackArguments=a(arguments,3),e.callbackContext=n,e.callArgProp=void 0,e.callbackAsync=!1},usingPromise:function(e,t){e.promiseLibrary=t},yields:function(e){e.callArgAt=-1,e.callbackArguments=a(arguments,1),e.callbackContext=void 0,e.callArgProp=void 0,e.callbackAsync=!1},yieldsRight:function(e){e.callArgAt=-2,e.callbackArguments=a(arguments,1),e.callbackContext=void 0,e.callArgProp=void 0,e.callbackAsync=!1},yieldsOn:function(e,t){e.callArgAt=-1,e.callbackArguments=a(arguments,2),e.callbackContext=t,e.callArgProp=void 0,e.callbackAsync=!1},yieldsTo:function(e,t){e.callArgAt=-1,e.callbackArguments=a(arguments,2),e.callbackContext=void 0,e.callArgProp=t,e.callbackAsync=!1},yieldsToOn:function(e,t,n){e.callArgAt=-1,e.callbackArguments=a(arguments,3),e.callbackContext=n,e.callArgProp=t,e.callbackAsync=!1},throws:c,throwsException:c,returns:function(e,t){e.returnValue=t,e.resolve=!1,e.reject=!1,e.returnValueDefined=!0,e.exception=void 0,e.exceptionCreator=void 0,e.fakeFn=void 0},returnsArg:function(e,t){if("number"!=typeof t)throw new TypeError("argument index is not number");e.returnArgAt=t},throwsArg:function(e,t){if("number"!=typeof t)throw new TypeError("argument index is not number");e.throwArgAt=t},returnsThis:function(e){e.returnThis=!0},resolves:function(e,t){e.returnValue=t,e.resolve=!0,e.resolveThis=!1,e.reject=!1,e.returnValueDefined=!0,e.exception=void 0,e.exceptionCreator=void 0,e.fakeFn=void 0},resolvesArg:function(e,t){if("number"!=typeof t)throw new TypeError("argument index is not number");e.resolveArgAt=t,e.returnValue=void 0,e.resolve=!0,e.resolveThis=!1,e.reject=!1,e.returnValueDefined=!1,e.exception=void 0,e.exceptionCreator=void 0,e.fakeFn=void 0},rejects:function(e,t,n){var r;return"string"==typeof t?(r=new Error(n||"")).name=t:r=t||new Error("Error"),e.returnValue=r,e.resolve=!1,e.resolveThis=!1,e.reject=!0,e.returnValueDefined=!0,e.exception=void 0,e.exceptionCreator=void 0,e.fakeFn=void 0,e},resolvesThis:function(e){e.returnValue=void 0,e.resolve=!1,e.resolveThis=!0,e.reject=!1,e.returnValueDefined=!1,e.exception=void 0,e.exceptionCreator=void 0,e.fakeFn=void 0},callThrough:function(e){e.callsThrough=!0},callThroughWithNew:function(e){e.callsThroughWithNew=!0},get:function(e,t){var n=e.stub||e;return Object.defineProperty(n.rootObj,n.propName,{get:t,configurable:o(n.rootObj,n.propName)}),e},set:function(e,t){var n=e.stub||e;return Object.defineProperty(n.rootObj,n.propName,{set:t,configurable:o(n.rootObj,n.propName)}),e},value:function(e,t){var n=e.stub||e;return Object.defineProperty(n.rootObj,n.propName,{value:t,enumerable:!0,configurable:o(n.rootObj,n.propName)}),e}},l=i(u);t.exports=s({},u,l)},{"./util/core/export-async-behaviors":22,"./util/core/extend":23,"./util/core/is-property-configurable":30,"@sinonjs/commons":44}],8:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,o=e("./proxy"),i=e("./util/core/next-tick"),s=r.slice;function a(e){return e instanceof Error?e:new Error(e)}var c=0;function u(n){function e(){var e=0<arguments.length?arguments[arguments.length-1]:void 0,t=e&&"function"==typeof e?e:void 0;return r.lastArg=e,r.callback=t,n&&n.apply(this,arguments)}var r;return(r=o(e,n||e)).displayName="fake",r.id="fake#"+c++,r}function l(e){if(0<arguments.length&&"function"!=typeof e)throw new TypeError("Expected f argument to be a Function");return u(e)}function f(t,n){return u(function(){var e=arguments[arguments.length-1];if("function"!=typeof e)throw new TypeError("Expected last argument to be a function");t?i(function(){e.apply(null,n)}):e.apply(null,n)})}l.returns=function(e){return u(function(){return e})},l.throws=function(e){return u(function(){throw a(e)})},l.resolves=function(e){return u(function(){return Promise.resolve(e)})},l.rejects=function(e){return u(function(){return Promise.reject(a(e))})},l.yields=function(){return f(!1,s(arguments))},l.yieldsAsync=function(){return f(!0,s(arguments))},t.exports=l},{"./proxy":14,"./util/core/next-tick":31,"@sinonjs/commons":44}],9:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,o=e("./proxy-invoke"),i=e("./proxy-call").toString,s=e("./util/core/times-in-words"),a=e("./util/core/extend"),c=e("@sinonjs/samsam").createMatcher,u=e("./stub"),l=e("./assert"),f=e("@sinonjs/samsam").deepEqual,p=e("./util/core/format"),h=e("@sinonjs/commons").valueToString,d=r.every,m=r.forEach,y=r.push,g=r.slice;function v(e){return"number"==typeof e.maxCalls&&e.callCount===e.maxCalls}function b(e,t){return c.isMatcher(e)&&e.test(t)||!0}var w={minCalls:1,maxCalls:1,create:function(e){var t=a.nonEnum(u(),w);return delete t.create,t.method=e,t},invoke:function(e,t,n){return this.verifyCallAllowed(t,n),o.apply(this,arguments)},atLeast:function(e){if("number"!=typeof e)throw new TypeError("'"+h(e)+"' is not number");return this.limitsSet||(this.maxCalls=null,this.limitsSet=!0),this.minCalls=e,this},atMost:function(e){if("number"!=typeof e)throw new TypeError("'"+h(e)+"' is not number");return this.limitsSet||(this.minCalls=null,this.limitsSet=!0),this.maxCalls=e,this},never:function(){return this.exactly(0)},once:function(){return this.exactly(1)},twice:function(){return this.exactly(2)},thrice:function(){return this.exactly(3)},exactly:function(e){if("number"!=typeof e)throw new TypeError("'"+h(e)+"' is not a number");return this.atLeast(e),this.atMost(e)},met:function(){return!this.failed&&(!("number"==typeof(e=this).minCalls)||e.callCount>=e.minCalls);var e},verifyCallAllowed:function(e,n){var r=this.expectedArguments;v(this)&&(this.failed=!0,w.fail(this.method+" already called "+s(this.maxCalls))),"expectedThis"in this&&this.expectedThis!==e&&w.fail(this.method+" called with "+h(e)+" as thisValue, expected "+h(this.expectedThis)),"expectedArguments"in this&&(n||w.fail(this.method+" received no arguments, expected "+p(r)),n.length<r.length&&w.fail(this.method+" received too few arguments ("+p(n)+"), expected "+p(r)),this.expectsExactArgCount&&n.length!==r.length&&w.fail(this.method+" received too many arguments ("+p(n)+"), expected "+p(r)),m(r,function(e,t){b(e,n[t])||w.fail(this.method+" received wrong arguments "+p(n)+", didn't match "+String(r)),f(n[t],e)||w.fail(this.method+" received wrong arguments "+p(n)+", expected "+p(r))},this))},allowsCall:function(e,t){var n=this.expectedArguments;if(this.met()&&v(this))return!1;if("expectedThis"in this&&this.expectedThis!==e)return!1;if(!("expectedArguments"in this))return!0;var r=t||[];return!(r.length<n.length)&&((!this.expectsExactArgCount||r.length===n.length)&&d(n,function(e,t){return!!b(e,r[t])&&!!f(r[t],e)}))},withArgs:function(){return this.expectedArguments=g(arguments),this},withExactArgs:function(){return this.withArgs.apply(this,arguments),this.expectsExactArgCount=!0,this},on:function(e){return this.expectedThis=e,this},toString:function(){var e=g(this.expectedArguments||[]);this.expectsExactArgCount||y(e,"[...]");var t,n=i.call({proxy:this.method||"anonymous mock expectation",args:e}).replace(", [...","[, ...")+" "+function(e){var t=e.minCalls,n=e.maxCalls;if("number"!=typeof t||"number"!=typeof n)return"number"==typeof t?"at least "+s(t):"at most "+s(n);var r=s(t);return t!==n&&(r="at least "+r+" and at most "+s(n)),r}(this);return this.met()?"Expectation met: "+n:"Expected "+n+" ("+(0===(t=this.callCount)?"never called":"called "+s(t))+")"},verify:function(){return this.met()?w.pass(String(this)):w.fail(String(this)),!0},pass:function(e){l.pass(e)},fail:function(e){var t=new Error(e);throw t.name="ExpectationError",t}};t.exports=w},{"./assert":2,"./proxy-call":12,"./proxy-invoke":13,"./stub":19,"./util/core/extend":23,"./util/core/format":24,"./util/core/times-in-words":32,"@sinonjs/commons":44,"@sinonjs/samsam":80}],10:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,f=e("./mock-expectation"),p=e("./proxy-call").toString,o=e("./util/core/extend"),h=e("@sinonjs/samsam").deepEqual,i=e("./util/core/wrap-method"),s=e("./util/core/use-promise-library"),a=r.concat,d=r.filter,m=r.forEach,y=r.every,g=r.join,v=r.push,c=r.slice,b=r.unshift;function u(e){return e&&"string"!=typeof e?u.create(e):f.create(e||"Anonymous mock")}function l(e,t){m(e||[],t)}o(u,{create:function(e){if(!e)throw new TypeError("object is null");var t=o.nonEnum({},u,{object:e});return delete t.create,t},expects:function(e){if(!e)throw new TypeError("method is falsy");if(this.expectations||(this.expectations={},this.proxies=[],this.failures=[]),!this.expectations[e]){this.expectations[e]=[];var t=this;i(this.object,e,function(){return t.invokeMethod(e,this,arguments)}),v(this.proxies,e)}var n=f.create(e);return n.wrappedMethod=this.object[e].wrappedMethod,v(this.expectations[e],n),s(this.promiseLibrary,n),n},restore:function(){var t=this.object;l(this.proxies,function(e){"function"==typeof t[e].restore&&t[e].restore()})},verify:function(){var t=this.expectations||{},n=this.failures?c(this.failures):[],r=[];return l(this.proxies,function(e){l(t[e],function(e){e.met()?v(r,String(e)):v(n,String(e))})}),this.restore(),0<n.length?f.fail(g(a(n,r),"\n")):0<r.length&&f.pass(g(a(n,r),"\n")),!0},usingPromise:function(e){return this.promiseLibrary=e,this},invokeMethod:function(e,t,n){var r,o=this.expectations&&this.expectations[e]?this.expectations[e]:[],i=n||[],s=d(o,function(e){var t,n,r=e.expectedArguments||[];return t=r,n=i,(!e.expectsExactArgCount||t.length===n.length)&&y(t,function(e,t){return h(n[t],e)})}),a=d(s,function(e){return!e.met()&&e.allowsCall(t,n)});if(0<a.length)return a[0].apply(t,n);var c=[],u=0;if(m(s,function(e){e.allowsCall(t,n)?r=r||e:u+=1}),r&&0===u)return r.apply(t,n);m(o,function(e){v(c,"    "+String(e))}),b(c,"Unexpected call: "+p.call({proxy:e,args:n}));var l=new Error;if(!l.stack)try{throw l}catch(e){}v(this.failures,"Unexpected call: "+p.call({proxy:e,args:n,stack:l.stack})),f.fail(g(c,"\n"))}}),t.exports=u},{"./mock-expectation":9,"./proxy-call":12,"./util/core/extend":23,"./util/core/use-promise-library":33,"./util/core/wrap-method":36,"@sinonjs/commons":44,"@sinonjs/samsam":80}],11:[function(e,t,n){"use strict";var p=e("@sinonjs/commons").prototypes.array.push;n.incrementCallCount=function(e){e.called=!0,e.callCount+=1,e.notCalled=!1,e.calledOnce=1===e.callCount,e.calledTwice=2===e.callCount,e.calledThrice=3===e.callCount},n.createCallProperties=function(e){e.firstCall=e.getCall(0),e.secondCall=e.getCall(1),e.thirdCall=e.getCall(2),e.lastCall=e.getCall(e.callCount-1)},n.delegateToCalls=function(e,s,a,c,u,l,f){e[s]=function(){if(!this.called)return!!l&&l.apply(this,arguments);if(void 0!==f&&this.callCount!==f)return!1;for(var e,t=0,n=[],r=0,o=this.callCount;r<o;r+=1){var i=(e=this.getCall(r))[c||s].apply(e,arguments);if(p(n,i),i&&(t+=1,a))return!0}return u?n:t===this.callCount}}},{"@sinonjs/commons":44}],12:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,i=e("@sinonjs/samsam").createMatcher,o=e("@sinonjs/samsam").deepEqual,s=e("@sinonjs/commons").functionName,a=e("./util/core/format"),c=e("@sinonjs/commons").valueToString,u=r.concat,l=r.filter,f=r.join,p=r.map,h=r.reduce,d=r.slice;function m(e,t,n){var r=s(e)+t;throw n.length&&(r+=" Received ["+f(d(n),", ")+"]"),new Error(r)}var y={calledOn:function(e){return i.isMatcher(e)?e.test(this.thisValue):this.thisValue===e},calledWith:function(){var r=this,e=d(arguments);return!(e.length>r.args.length)&&h(e,function(e,t,n){return e&&o(r.args[n],t)},!0)},calledWithMatch:function(){var o=this,e=d(arguments);return!(e.length>o.args.length)&&h(e,function(e,t,n){var r=o.args[n];return e&&i(t).test(r)},!0)},calledWithExactly:function(){return arguments.length===this.args.length&&this.calledWith.apply(this,arguments)},notCalledWith:function(){return!this.calledWith.apply(this,arguments)},notCalledWithMatch:function(){return!this.calledWithMatch.apply(this,arguments)},returned:function(e){return o(this.returnValue,e)},threw:function(e){return void 0!==e&&this.exception?this.exception===e||this.exception.name===e:Boolean(this.exception)},calledWithNew:function(){return this.proxy.prototype&&this.thisValue instanceof this.proxy},calledBefore:function(e){return this.callId<e.callId},calledAfter:function(e){return this.callId>e.callId},calledImmediatelyBefore:function(e){return this.callId===e.callId-1},calledImmediatelyAfter:function(e){return this.callId===e.callId+1},callArg:function(e){return this.ensureArgIsAFunction(e),this.args[e]()},callArgOn:function(e,t){return this.ensureArgIsAFunction(e),this.args[e].apply(t)},callArgWith:function(e){return this.callArgOnWith.apply(this,u([e,null],d(arguments,1)))},callArgOnWith:function(e,t){this.ensureArgIsAFunction(e);var n=d(arguments,2);return this.args[e].apply(t,n)},throwArg:function(e){if(e>this.args.length)throw new TypeError("Not enough arguments: "+e+" required but only "+this.args.length+" present");throw this.args[e]},yield:function(){return this.yieldOn.apply(this,u([null],d(arguments,0)))},yieldOn:function(e){var t=d(this.args),n=l(t,function(e){return"function"==typeof e})[0];return n||m(this.proxy," cannot yield since no callback was passed.",t),n.apply(e,d(arguments,1))},yieldTo:function(e){return this.yieldToOn.apply(this,u([e,null],d(arguments,1)))},yieldToOn:function(t,e){var n=d(this.args),r=l(n,function(e){return e&&"function"==typeof e[t]})[0],o=r&&r[t];return o||m(this.proxy," cannot yield to '"+c(t)+"' since no callback was passed.",n),o.apply(e,d(arguments,2))},toString:function(){var e,t=this.proxy?String(this.proxy)+"(":"";return this.args?(e=p(this.args,function(e){return a(e)}),t=t+f(e,", ")+")",void 0!==this.returnValue&&(t+=" => "+a(this.returnValue)),this.exception&&(t+=" !"+this.exception.name,this.exception.message&&(t+="("+this.exception.message+")")),this.stack&&(t+=(this.stack.split("\n")[3]||"unknown").replace(/^\s*(?:at\s+|@)?/," at ")),t):":("},ensureArgIsAFunction:function(e){if("function"!=typeof this.args[e])throw new TypeError("Expected argument at position "+e+" to be a Function, but was "+typeof this.args[e])}};function g(e,t,n,r,o,i,s){if("number"!=typeof i)throw new TypeError("Call id is not a number");var a=Object.create(y),c=0<n.length&&n[n.length-1]||void 0,u=c&&"function"==typeof c?c:void 0;return a.proxy=e,a.thisValue=t,a.args=n,a.lastArg=c,a.callback=u,a.returnValue=r,a.exception=o,a.callId=i,a.errorWithCallStack=s,a}Object.defineProperty(y,"stack",{enumerable:!0,configurable:!0,get:function(){return this.errorWithCallStack&&this.errorWithCallStack.stack||""}}),y.invokeCallback=y.yield,g.toString=y.toString,t.exports=g},{"./util/core/format":24,"@sinonjs/commons":44,"@sinonjs/samsam":80}],13:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,c=e("./proxy-call-util"),u=r.push,l=r.forEach,f=r.concat,p=Error.prototype.constructor,h=Function.prototype.bind,d=0;t.exports=function(e,t,n){var r,o,i=this.matchingFakes(n),s=d++;c.incrementCallCount(this),u(this.thisValues,t),u(this.args,n),u(this.callIds,s),l(i,function(e){c.incrementCallCount(e),u(e.thisValues,t),u(e.args,n),u(e.callIds,s)}),c.createCallProperties(this),l(i,c.createCallProperties);try{this.invoking=!0,this.getCall(this.callCount-1).calledWithNew()?"object"!=typeof(o=new(h.apply(this.func||e,f([t],n))))&&(o=t):o=(this.func||e).apply(t,n)}catch(e){r=e}finally{delete this.invoking}u(this.exceptions,r),u(this.returnValues,o),l(i,function(e){u(e.exceptions,r),u(e.returnValues,o)});var a=new p;try{throw a}catch(e){}if(u(this.errorsWithCallStack,a),l(i,function(e){u(e.errorsWithCallStack,a)}),c.createCallProperties(this),l(i,c.createCallProperties),void 0!==r)throw r;return o}},{"./proxy-call-util":11,"@sinonjs/commons":44}],14:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,o=e("./util/core/extend"),i=e("./util/core/function-to-string"),s=e("./proxy-call"),a=e("./proxy-call-util"),c=e("./proxy-invoke"),u=r.push,l=r.forEach,d=r.slice,f=Object.freeze([]),p={toString:i,named:function(e){this.displayName=e;var t=Object.getOwnPropertyDescriptor(this,"name");return t&&t.configurable&&(t.value=e,Object.defineProperty(this,"name",t)),this},invoke:c,matchingFakes:function(){return f},getCall:function(e){return e<0||e>=this.callCount?null:s(this,this.thisValues[e],this.args[e],this.returnValues[e],this.exceptions[e],this.callIds[e],this.errorsWithCallStack[e])},getCalls:function(){var e,t=[];for(e=0;e<this.callCount;e++)u(t,this.getCall(e));return t},calledBefore:function(e){return!!this.called&&(!e.called||this.callIds[0]<e.callIds[e.callIds.length-1])},calledAfter:function(e){return!(!this.called||!e.called)&&this.callIds[this.callCount-1]>e.callIds[0]},calledImmediatelyBefore:function(e){return!(!this.called||!e.called)&&this.callIds[this.callCount-1]===e.callIds[e.callCount-1]-1},calledImmediatelyAfter:function(e){return!(!this.called||!e.called)&&this.callIds[this.callCount-1]===e.callIds[e.callCount-1]+1},resetHistory:function(){if(this.invoking){var e=new Error("Cannot reset Sinon function while invoking it. Move the call to .resetHistory outside of the callback.");throw e.name="InvalidResetException",e}return this.called=!1,this.notCalled=!0,this.calledOnce=!1,this.calledTwice=!1,this.calledThrice=!1,this.callCount=0,this.firstCall=null,this.secondCall=null,this.thirdCall=null,this.lastCall=null,this.args=[],this.lastArg=null,this.returnValues=[],this.thisValues=[],this.exceptions=[],this.callIds=[],this.errorsWithCallStack=[],this.fakes&&l(this.fakes,function(e){e.resetHistory()}),this}},h=a.delegateToCalls;h(p,"calledOn",!0),h(p,"alwaysCalledOn",!1,"calledOn"),h(p,"calledWith",!0),h(p,"calledOnceWith",!0,"calledWith",!1,void 0,1),h(p,"calledWithMatch",!0),h(p,"alwaysCalledWith",!1,"calledWith"),h(p,"alwaysCalledWithMatch",!1,"calledWithMatch"),h(p,"calledWithExactly",!0),h(p,"calledOnceWithExactly",!0,"calledWithExactly",!1,void 0,1),h(p,"alwaysCalledWithExactly",!1,"calledWithExactly"),h(p,"neverCalledWith",!1,"notCalledWith",!1,function(){return!0}),h(p,"neverCalledWithMatch",!1,"notCalledWithMatch",!1,function(){return!0}),h(p,"threw",!0),h(p,"alwaysThrew",!1,"threw"),h(p,"returned",!0),h(p,"alwaysReturned",!1,"returned"),h(p,"calledWithNew",!0),h(p,"alwaysCalledWithNew",!1,"calledWithNew"),t.exports=function(e,t){var n=function(p,e){var h;switch(e.length){case 0:h=function(){return h.invoke(p,this,d(arguments))};break;case 1:h=function(e){return h.invoke(p,this,d(arguments))};break;case 2:h=function(e,t){return h.invoke(p,this,d(arguments))};break;case 3:h=function(e,t,n){return h.invoke(p,this,d(arguments))};break;case 4:h=function(e,t,n,r){return h.invoke(p,this,d(arguments))};break;case 5:h=function(e,t,n,r,o){return h.invoke(p,this,d(arguments))};break;case 6:h=function(e,t,n,r,o,i){return h.invoke(p,this,d(arguments))};break;case 7:h=function(e,t,n,r,o,i,s){return h.invoke(p,this,d(arguments))};break;case 8:h=function(e,t,n,r,o,i,s,a){return h.invoke(p,this,d(arguments))};break;case 9:h=function(e,t,n,r,o,i,s,a,c){return h.invoke(p,this,d(arguments))};break;case 10:h=function(e,t,n,r,o,i,s,a,c,u){return h.invoke(p,this,d(arguments))};break;case 11:h=function(e,t,n,r,o,i,s,a,c,u,l){return h.invoke(p,this,d(arguments))};break;case 12:h=function(e,t,n,r,o,i,s,a,c,u,l,f){return h.invoke(p,this,d(arguments))};break;default:h=function(){return h.invoke(p,this,d(arguments))}}var t=Object.getOwnPropertyDescriptor(e,"name");t&&t.configurable&&Object.defineProperty(h,"name",t);return o.nonEnum(h,{isSinonProxy:!0,called:!1,notCalled:!0,calledOnce:!1,calledTwice:!1,calledThrice:!1,callCount:0,firstCall:null,secondCall:null,thirdCall:null,lastCall:null,lastArg:null,args:[],returnValues:[],thisValues:[],exceptions:[],callIds:[],errorsWithCallStack:[]}),h}(e,t);return o(n,e),n.prototype=e.prototype,o.nonEnum(n,p),n}},{"./proxy-call":12,"./proxy-call-util":11,"./proxy-invoke":13,"./util/core/extend":23,"./util/core/function-to-string":25,"@sinonjs/commons":44}],15:[function(e,t,n){"use strict";var r=e("./util/core/walk-object");function o(e,t){return e[t].restore&&e[t].restore.sinon}function i(e,t){e[t].restore()}t.exports=function(e){return r(i,e,o)}},{"./util/core/walk-object":34}],16:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,u=e("./collect-own-methods"),l=e("./util/core/get-property-descriptor"),f=e("./util/core/is-es-module"),p=e("./util/core/is-property-configurable"),h=e("./util/core/is-non-existent-own-property"),d=e("@sinonjs/samsam").createMatcher,o=e("./assert"),m=e("./util/fake-timers"),y=e("./mock"),g=e("./spy"),v=e("./stub"),b=e("./fake"),w=e("@sinonjs/commons").valueToString,x=e("nise").fakeServer,k=e("nise").fakeXhr,j=e("./util/core/use-promise-library"),i=r.filter,E=r.filter,T=r.push,A=r.reverse;function C(e,t){var n=i(e,function(e){return"function"==typeof e[t]});E(n,function(e){e[t]()})}function s(){var o,n=this,i=[],s=[];function a(e,t){var n=l(e,t);function r(){Object.defineProperty(e,t,n)}return r.object=e,r.property=t,r}function c(t,n){E(s,function(e){if(e.object===t&&e.property===n)throw new TypeError("Attempted to replace "+n+" which is already replaced")})}n.serverPrototype=x,n.getFakes=function(){return i},n.getRestorers=function(){return s},n.createStubInstance=function(){var e=v.createStubInstance.apply(null,arguments),t=u(e);return E(t,function(e){T(i,e)}),j(o,t),e},n.inject=function(e){return e.spy=function(){return n.spy.apply(null,arguments)},e.stub=function(){return n.stub.apply(null,arguments)},e.mock=function(){return n.mock.apply(null,arguments)},e.createStubInstance=function(){return n.createStubInstance.apply(n,arguments)},e.fake=function(){return n.fake.apply(null,arguments)},e.replace=function(){return n.replace.apply(null,arguments)},e.replaceSetter=function(){return n.replaceSetter.apply(null,arguments)},e.replaceGetter=function(){return n.replaceGetter.apply(null,arguments)},n.clock&&(e.clock=n.clock),n.server&&(e.server=n.server,e.requests=n.server.requests),e.match=d,e},n.mock=function(){var e=y.apply(null,arguments);return T(i,e),j(o,e),e},n.reset=function(){C(i,"reset"),C(i,"resetHistory")},n.resetBehavior=function(){C(i,"resetBehavior")},n.resetHistory=function(){function n(e){var t=e.resetHistory||e.reset;t&&t.call(e)}E(i,function(e){if("function"!=typeof e){var t=[];e.get&&T(t,e.get),e.set&&T(t,e.set),E(t,n)}else n(e)})},n.restore=function(){if(arguments.length)throw new Error("sandbox.restore() does not take any parameters. Perhaps you meant stub.restore()");A(i),C(i,"restore"),i=[],E(s,function(e){e()}),s=[],n.restoreContext()},n.restoreContext=function(){var e=n.injectedKeys,t=n.injectInto;e&&(E(e,function(e){delete t[e]}),e=[])},n.replace=function(e,t,n){var r=l(e,t);if(void 0===r)throw new TypeError("Cannot replace non-existent own property "+w(t));if(void 0===n)throw new TypeError("Expected replacement argument to be defined");if("function"==typeof r.get)throw new Error("Use sandbox.replaceGetter for replacing getters");if("function"==typeof r.set)throw new Error("Use sandbox.replaceSetter for replacing setters");if(typeof e[t]!=typeof n)throw new TypeError("Cannot replace "+typeof e[t]+" with "+typeof n);return c(e,t),T(s,a(e,t)),e[t]=n},n.replaceGetter=function(e,t,n){var r=l(e,t);if(void 0===r)throw new TypeError("Cannot replace non-existent own property "+w(t));if("function"!=typeof n)throw new TypeError("Expected replacement argument to be a function");if("function"!=typeof r.get)throw new Error("`object.property` is not a getter");return c(e,t),T(s,a(e,t)),Object.defineProperty(e,t,{get:n,configurable:p(e,t)}),n},n.replaceSetter=function(e,t,n){var r=l(e,t);if(void 0===r)throw new TypeError("Cannot replace non-existent own property "+w(t));if("function"!=typeof n)throw new TypeError("Expected replacement argument to be a function");if("function"!=typeof r.set)throw new Error("`object.property` is not a setter");return c(e,t),T(s,a(e,t)),Object.defineProperty(e,t,{set:n,configurable:p(e,t)}),n},n.spy=function(){var e=g.apply(g,arguments);return T(i,e),e},n.stub=function(e,t){if(f(e))throw new TypeError("ES Modules cannot be stubbed");if(h(e,t))throw new TypeError("Cannot stub non-existent own property "+w(t));var n=v.apply(null,arguments);if(void 0===t&&"object"==typeof e){var r=u(n);E(r,function(e){T(i,e)}),j(o,r)}else T(i,n),j(o,n);return n},n.fake=function(e){var t=b.apply(b,arguments);return T(i,t),t},E(Object.keys(b),function(e){var t=b[e];"function"==typeof t&&(n.fake[e]=function(){var e=t.apply(t,arguments);return T(i,e),e})}),n.useFakeTimers=function(e){var t=m.useFakeTimers.call(null,e);return n.clock=t,T(i,t),t},n.verify=function(){C(i,"verify")},n.verifyAndRestore=function(){var t;try{n.verify()}catch(e){t=e}if(n.restore(),t)throw t},n.useFakeServer=function(){var e=n.serverPrototype||x;return e&&e.create?(n.server=e.create(),T(i,n.server),n.server):null},n.useFakeXMLHttpRequest=function(){var e=k.useFakeXMLHttpRequest();return T(i,e),e},n.usingPromise=function(e){return o=e,i.promiseLibrary=e,n}}s.prototype.assert=o,s.prototype.match=d,t.exports=s},{"./assert":2,"./collect-own-methods":4,"./fake":8,"./mock":10,"./spy":18,"./stub":19,"./util/core/get-property-descriptor":27,"./util/core/is-es-module":28,"./util/core/is-non-existent-own-property":29,"./util/core/is-property-configurable":30,"./util/core/use-promise-library":33,"./util/fake-timers":37,"@sinonjs/commons":44,"@sinonjs/samsam":80,nise:98}],17:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,p=e("./color"),h=e("@sinonjs/samsam").createMatcher,o=e("./util/core/times-in-words"),d=e("./util/core/format"),m=e("diff"),i=r.join,s=r.map,a=r.push;function y(n){var e=s(n,function(e){var t=e.value;return e.added?t=p.green(t):e.removed&&(t=p.red(t)),2===n.length&&(t+=" "),t});return i(e,"")}t.exports={c:function(e){return o(e.callCount)},n:function(e){return e.toString()},D:function(e,t){for(var n,r,o,i="",s=0,a=e.callCount;s<a;++s){1<a&&(i+="\nCall "+(s+1)+":");for(var c=e.getCall(s).args,u=0;u<c.length||u<t.length;++u){i+="\n";var l=u<c.length?d(c[u]):"";if(h.isMatcher(t[u]))i+=(n=t[u],r=c[u],o=void 0,o=l,n.test(r)||(n.message=p.red(n.message),o=o&&p.green(o)),o+" "+n.message);else{var f=u<t.length?d(t[u]):"";i+=y(m.diffJson(l,f))}}}return i},C:function(e){for(var t=[],n=0,r=e.callCount;n<r;++n){var o="    "+e.getCall(n).toString();/\n/.test(t[n-1])&&(o="\n"+o),a(t,o)}return 0<t.length?"\n"+i(t,"\n"):""},t:function(e){for(var t=[],n=0,r=e.callCount;n<r;++n)a(t,d(e.thisValues[n]));return i(t,", ")},"*":function(e,t){return i(s(t,function(e){return d(e)}),", ")}}},{"./color":5,"./util/core/format":24,"./util/core/times-in-words":32,"@sinonjs/commons":44,"@sinonjs/samsam":80,diff:82}],18:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,o=e("./proxy"),i=e("./util/core/extend"),s=e("@sinonjs/commons").functionName,a=e("./util/core/get-property-descriptor"),c=e("@sinonjs/samsam").deepEqual,u=e("./util/core/is-es-module"),l=e("./proxy-call-util"),f=e("./util/core/walk-object"),p=e("./util/core/wrap-method"),h=e("./util/core/format"),d=e("@sinonjs/commons").valueToString,m=r.forEach,y=r.pop,g=r.push,v=r.slice,b=Array.prototype.filter,w=0;function x(e,t,n){var r=e.matchingArguments;return!!(r.length<=t.length&&c(v(t,0,r.length),r))&&(!n||r.length===t.length)}var k={formatters:e("./spy-formatters"),withArgs:function(){var e=v(arguments),t=y(this.matchingFakes(e,!0));if(t)return t;var n=this,r=this.instantiateFake();return r.matchingArguments=e,r.parent=this,g(this.fakes,r),r.withArgs=function(){return n.withArgs.apply(n,arguments)},m(n.args,function(e,t){x(r,e)&&(l.incrementCallCount(r),g(r.thisValues,n.thisValues[t]),g(r.args,e),g(r.returnValues,n.returnValues[t]),g(r.exceptions,n.exceptions[t]),g(r.callIds,n.callIds[t]))}),l.createCallProperties(r),r},matchingFakes:function(t,n){return b.call(this.fakes,function(e){return x(e,t,n)})},printf:function(e){var n,r=this,o=v(arguments,1);return(e||"").replace(/%(.)/g,function(e,t){return"function"==typeof(n=k.formatters[t])?String(n(r,o)):isNaN(parseInt(t,10))?"%"+t:h(o[t-1])})}},j=l.delegateToCalls;function E(e){var t,n=e;"function"!=typeof n?n=function(){}:t=s(n);var r=o(n,n);return i.nonEnum(r,k),i.nonEnum(r,{displayName:t||"spy",fakes:[],instantiateFake:E,id:"spy#"+w++}),r}function T(e,t,n){var r,o;if(u(e))throw new TypeError("ES Modules cannot be spied");return t||"function"!=typeof e?t||"object"!=typeof e?e||t?n?(r={},o=a(e,t),m(n,function(e){r[e]=E(o[e])}),p(e,t,r)):p(e,t,E(e[t])):E(function(){}):f(T,e):E(e)}j(k,"callArg",!1,"callArgWith",!0,function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),k.callArgWith=k.callArg,j(k,"callArgOn",!1,"callArgOnWith",!0,function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),k.callArgOnWith=k.callArgOn,j(k,"throwArg",!1,"throwArg",!1,function(){throw new Error(this.toString()+" cannot throw arg since it was not yet invoked.")}),j(k,"yield",!1,"yield",!0,function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),k.invokeCallback=k.yield,j(k,"yieldOn",!1,"yieldOn",!0,function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),j(k,"yieldTo",!1,"yieldTo",!0,function(e){throw new Error(this.toString()+" cannot yield to '"+d(e)+"' since it was not yet invoked.")}),j(k,"yieldToOn",!1,"yieldToOn",!0,function(e){throw new Error(this.toString()+" cannot yield to '"+d(e)+"' since it was not yet invoked.")}),i(T,k),t.exports=T},{"./proxy":14,"./proxy-call-util":11,"./spy-formatters":17,"./util/core/extend":23,"./util/core/format":24,"./util/core/get-property-descriptor":27,"./util/core/is-es-module":28,"./util/core/walk-object":34,"./util/core/wrap-method":36,"@sinonjs/commons":44,"@sinonjs/samsam":80}],19:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,o=e("./behavior"),i=e("./default-behaviors"),s=e("./proxy"),a=e("@sinonjs/commons").functionName,c=e("@sinonjs/commons").prototypes.object.hasOwnProperty,u=e("./util/core/is-non-existent-own-property"),l=e("./spy"),f=e("./util/core/extend"),p=e("./util/core/get-property-descriptor"),h=e("./util/core/is-es-module"),d=e("./util/core/wrap-method"),m=e("./throw-on-falsy-object"),y=e("@sinonjs/commons").valueToString,g=e("./util/core/walk-object"),v=r.forEach,b=r.pop,w=r.slice,x=r.sort,k=0;function j(e){var n;function t(){var e=w(arguments),t=n.matchingFakes(e);return A(b(x(t,function(e,t){return e.matchingArguments.length-t.matchingArguments.length}))||n).invoke(this,arguments)}n=s(t,e||t),f.nonEnum(n,l),f.nonEnum(n,E);var r=e?a(e):null;return f.nonEnum(n,{fakes:[],instantiateFake:j,displayName:r||"stub",defaultBehavior:null,behaviors:[],id:"stub#"+k++}),n}function E(e,t){if(2<arguments.length)throw new TypeError("stub(obj, 'meth', fn) has been removed, see documentation");if(h(e))throw new TypeError("ES Modules cannot be stubbed");if(m.apply(null,arguments),u(e,t))throw new TypeError("Cannot stub non-existent own property "+y(t));var n=p(e,t),r="object"==typeof e||"function"==typeof e,o=void 0===t&&r,i=!e&&void 0===t,s=r&&void 0!==t&&(void 0===n||"function"!=typeof n.value)&&"undefined"==typeof descriptor;if(o)return g(E,e);if(i)return j();var a=j("function"==typeof n.value?n.value:null);return f.nonEnum(a,{rootObj:e,propName:t,restore:function(){void 0===n?delete e[t]:Object.defineProperty(e,t,n)}}),s?a:d(e,t,a)}function T(e){return e.defaultBehavior||(t=e).parent&&A(t.parent)||o.create(e);var t}function A(e){var t=e.behaviors[e.callCount-1];return t&&t.isPresent()?t:T(e)}E.createStubInstance=function(e,n){if("function"!=typeof e)throw new TypeError("The constructor should be a function.");var r=E(Object.create(e.prototype));return v(Object.keys(n||{}),function(e){if(!(e in r))throw new Error("Cannot stub "+e+". Property does not exist!");var t=n[e];t&&t.createStubInstance?r[e]=t:r[e].returns(t)}),r};var C={resetBehavior:function(){this.defaultBehavior=null,this.behaviors=[],delete this.returnValue,delete this.returnArgAt,delete this.throwArgAt,delete this.resolveArgAt,delete this.fakeFn,this.returnThis=!1,this.resolveThis=!1,v(this.fakes,function(e){e.resetBehavior()})},reset:function(){this.resetHistory(),this.resetBehavior()},onCall:function(e){return this.behaviors[e]||(this.behaviors[e]=o.create(this)),this.behaviors[e]},onFirstCall:function(){return this.onCall(0)},onSecondCall:function(){return this.onCall(1)},onThirdCall:function(){return this.onCall(2)},withArgs:function(){var e=l.withArgs.apply(this,arguments);return this.defaultBehavior&&this.defaultBehavior.promiseLibrary&&(e.defaultBehavior=e.defaultBehavior||o.create(e),e.defaultBehavior.promiseLibrary=this.defaultBehavior.promiseLibrary),e}};v(Object.keys(o),function(e){c(o,e)&&!c(C,e)&&"create"!==e&&"invoke"!==e&&(C[e]=o.createBehavior(e))}),v(Object.keys(i),function(e){c(i,e)&&!c(C,e)&&o.addBehavior(E,e,i[e])}),f(E,C),t.exports=E},{"./behavior":3,"./default-behaviors":7,"./proxy":14,"./spy":18,"./throw-on-falsy-object":20,"./util/core/extend":23,"./util/core/get-property-descriptor":27,"./util/core/is-es-module":28,"./util/core/is-non-existent-own-property":29,"./util/core/walk-object":34,"./util/core/wrap-method":36,"@sinonjs/commons":44}],20:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").valueToString;t.exports=function(e,t){if(t&&!e){var n=null===e?"null":"undefined";throw new Error("Trying to stub property '"+r(t)+"' of "+n)}}},{"@sinonjs/commons":44}],21:[function(e,t,n){"use strict";t.exports={injectInto:null,properties:["spy","stub","mock","clock","server","requests","fake","replace","replaceSetter","replaceGetter","createStubInstance"],useFakeTimers:!0,useFakeServer:!0}},{}],22:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array.reduce;t.exports=function(n){return r(Object.keys(n),function(e,t){return t.match(/^(callsArg|yields)/)&&!t.match(/Async/)&&(e[t+"Async"]=function(){var e=n[t].apply(this,arguments);return this.callbackAsync=!0,e}),e},{})}},{"@sinonjs/commons":44}],23:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,s=e("@sinonjs/commons").prototypes.object.hasOwnProperty,o=r.join,i=r.push,a=r.slice,c=function(){var e={constructor:function(){return"0"},toString:function(){return"1"},valueOf:function(){return"2"},toLocaleString:function(){return"3"},prototype:function(){return"4"},isPrototypeOf:function(){return"5"},propertyIsEnumerable:function(){return"6"},hasOwnProperty:function(){return"7"},length:function(){return"8"},unique:function(){return"9"}},t=[];for(var n in e)s(e,n)&&i(t,e[n]());return"0123456789"!==o(t,"")}();function u(e,t,n){var r,o,i;for(o=0;o<t.length;o++){for(i in r=t[o])s(r,i)&&n(e,r,i);c&&s(r,"toString")&&r.toString!==e.toString&&(e.toString=r.toString)}return e}t.exports=function(e){return u(e,a(arguments,1),function(e,t,n){e[n]=t[n]})},t.exports.nonEnum=function(e){return u(e,a(arguments,1),function(e,t,n){Object.defineProperty(e,n,{value:t[n],enumerable:!1,configurable:!0,writable:!0})})}},{"@sinonjs/commons":44}],24:[function(e,t,n){"use strict";var r,o=e("@sinonjs/formatio").configure({quoteStrings:!1,limitChildrenCount:250});function i(){return r?r.apply(null,arguments):o.ascii.apply(o,arguments)}i.setFormatter=function(e){if("function"!=typeof e)throw new Error("format.setFormatter must be called with a function");r=e},t.exports=i},{"@sinonjs/formatio":56}],25:[function(e,t,n){"use strict";t.exports=function(){var e,t,n;if(this.getCall&&this.callCount)for(e=this.callCount;e--;)for(t in n=this.getCall(e).thisValue)if(n[t]===this)return t;return this.displayName||"sinon fake"}},{}],26:[function(e,t,n){"use strict";function r(e){setTimeout(e,0)}t.exports=function(e,t){return"object"==typeof e&&"function"==typeof e.nextTick?e.nextTick:"function"==typeof t?t:r}},{}],27:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n,r=e;r&&!(n=Object.getOwnPropertyDescriptor(r,t));)r=Object.getPrototypeOf(r);return n}},{}],28:[function(e,t,n){"use strict";t.exports=function(e){return e&&"undefined"!=typeof Symbol&&"Module"===e[Symbol.toStringTag]&&Object.isSealed(e)}},{}],29:[function(e,t,n){"use strict";t.exports=function(e,t){return e&&void 0!==t&&!(t in e)}},{}],30:[function(e,t,n){"use strict";var r=e("./get-property-descriptor");t.exports=function(e,t){var n=r(e,t);return!n||n.configurable}},{"./get-property-descriptor":27}],31:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").global,o=e("./get-next-tick");t.exports=o(r.process,r.setImmediate)},{"./get-next-tick":26,"@sinonjs/commons":44}],32:[function(e,t,n){"use strict";var r=[null,"once","twice","thrice"];t.exports=function(e){return r[e]||(e||0)+" times"}},{}],33:[function(e,t,n){"use strict";var r=Array.prototype.forEach;t.exports=function e(t,n){void 0!==t&&(Array.isArray(n)?r.call(n,e.bind(null,t)):"function"==typeof n.usingPromise&&n.usingPromise(t))}},{}],34:[function(e,t,n){"use strict";var s=e("@sinonjs/commons").functionName,a=e("./get-property-descriptor"),c=e("./walk");t.exports=function(n,r,o){var i=!1,e=s(n);if(!r)throw new Error("Trying to "+e+" object but received "+String(r));if(c(r,function(e,t){t!==Object.prototype&&"constructor"!==e&&"function"==typeof a(t,e).value&&(o?o(r,e)&&(i=!0,n(r,e)):(i=!0,n(r,e)))}),!i)throw new Error("Expected to "+e+" methods on object but found none");return r}},{"./get-property-descriptor":27,"./walk":35,"@sinonjs/commons":44}],35:[function(e,t,n){"use strict";var c=e("@sinonjs/commons").prototypes.array.forEach;t.exports=function(e,t,n){return function e(n,r,o,i,s){var t,a;if("function"==typeof Object.getOwnPropertyNames)c(Object.getOwnPropertyNames(n),function(e){if(!0!==s[e]){s[e]=!0;var t="function"==typeof Object.getOwnPropertyDescriptor(n,e).get?i:n;r.call(o,e,t)}}),(t=Object.getPrototypeOf(n))&&e(t,r,o,i,s);else for(a in n)r.call(o,n[a],a,n)}(e,t,n,e,{})}},{"@sinonjs/commons":44}],36:[function(e,t,n){"use strict";var p=e("./get-property-descriptor"),h=e("./extend"),d=e("@sinonjs/commons").prototypes.object.hasOwnProperty,m=e("@sinonjs/commons").valueToString;function y(e,t){for(var n in t)d(e,n)||(e[n]=t[n])}var g="keys"in Object;t.exports=function(t,o,n){if(!t)throw new TypeError("Should wrap property of object");if("function"!=typeof n&&"object"!=typeof n)throw new TypeError("Method wrapper should be a function or a property descriptor");function e(e){var t,n;if("function"==typeof(n=e)||Boolean(n&&n.constructor&&n.call&&n.apply)){if(e.restore&&e.restore.sinon)t=new TypeError("Attempted to wrap "+m(o)+" which is already wrapped");else if(e.calledBefore){var r=e.returns?"stubbed":"spied on";t=new TypeError("Attempted to wrap "+m(o)+" which is already "+r)}}else t=new TypeError("Attempted to wrap "+typeof e+" property "+m(o)+" as function");if(t)throw e&&e.stackTraceError&&(t.stack+="\n--------------\n"+e.stackTraceError.stack),t}var r,i,s,a;function c(){e(i=t[o]),(t[o]=n).displayName=o}var u=t.hasOwnProperty?t.hasOwnProperty(o):d(t,o);if(g){var l="function"==typeof n?{value:n}:n;if((a=p(t,o))?a.restore&&a.restore.sinon&&(r=new TypeError("Attempted to wrap "+o+" which is already wrapped")):r=new TypeError("Attempted to wrap "+typeof i+" property "+o+" as function"),r)throw a&&a.stackTraceError&&(r.stack+="\n--------------\n"+a.stackTraceError.stack),r;var f=Object.keys(l);for(s=0;s<f.length;s++)e(i=a[f[s]]);for(y(l,a),s=0;s<f.length;s++)y(l[f[s]],a[f[s]]);Object.defineProperty(t,o,l),"function"==typeof n&&t[o]!==n&&(delete t[o],c())}else c();return h.nonEnum(n,{displayName:o,wrappedMethod:i,stackTraceError:new Error("Stack Trace for original"),restore:function(){if(u)g&&Object.defineProperty(t,o,a);else try{delete t[o]}catch(e){}if(g){var e=p(t,o);e&&e.value===n&&(t[o]=i)}else t[o]===n&&(t[o]=i)}}),n.restore.sinon=!0,g||y(n,i),n}},{"./extend":23,"./get-property-descriptor":27,"@sinonjs/commons":44}],37:[function(e,t,n){"use strict";var i=e("./core/extend"),o=e("lolex"),r=e("@sinonjs/commons").global;function s(e,t){var n=o;null!==t&&"object"==typeof t&&(n=o.withGlobal(t));var r=n.install(e);return r.restore=r.uninstall,r}function a(e,t){var n=r[t];void 0!==n&&(e[t]=n)}n.useFakeTimers=function(e){var t=("number"==typeof e||e instanceof Date)&&1===arguments.length,n=null!==e&&"object"==typeof e&&1===arguments.length;if(!(void 0!==e))return s({now:0});if(t)return s({now:e});if(n){var r=i.nonEnum({},e),o=r.global;return delete r.global,s(r,o)}throw new TypeError("useFakeTimers expected epoch or config object. See https://github.com/sinonjs/sinon")},n.clock={create:function(e){return o.createClock(e)}};var c={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,Date:Date};a(c,"setImmediate"),a(c,"clearImmediate"),n.timers=c},{"./core/extend":23,"@sinonjs/commons":44,lolex:86}],38:[function(e,t,n){"use strict";var r=e("./prototypes/array").every;t.exports=function(e){return r(1<arguments.length?arguments:e,function(e,t,n,r){var o,i,s=!0;return n!==r.length-1&&(s=t.calledBefore(r[n+1])),void 0===(o=e)[(i=t).id]&&(o[i.id]=0),!!(o[i.id]<i.callCount&&s)&&(e[t.id]+=1,!0)}.bind(null,{}))}},{"./prototypes/array":46}],39:[function(e,t,n){"use strict";var r=e("./function-name");t.exports=function(e){return e.constructor&&e.constructor.name||"function"==typeof e.constructor&&r(e.constructor)||null}},{"./function-name":42}],40:[function(e,t,r){"use strict";r.wrap=function(e,t){function n(){return r.printWarning(t),e.apply(this,arguments)}return e.prototype&&(n.prototype=e.prototype),n},r.defaultMsg=function(e,t){return e+"."+t+" is deprecated and will be removed from the public API in a future version of "+e+"."},r.printWarning=function(e){"undefined"!=typeof console&&(console.info?console.info(e):console.log(e))}},{}],41:[function(e,t,n){"use strict";t.exports=function(e,t){var n=!0;try{e.forEach(function(){if(!t.apply(this,arguments))throw new Error})}catch(e){n=!1}return n}},{}],42:[function(e,t,n){"use strict";t.exports=function(e){return e?e.displayName||e.name||(String(e).match(/function ([^\s(]+)/)||[])[1]:""}},{}],43:[function(e,t,n){"use strict";var r;r="undefined"!=typeof global?global:"undefined"!=typeof window?window:self,t.exports=r},{}],44:[function(e,t,n){"use strict";t.exports={global:e("./global"),calledInOrder:e("./called-in-order"),className:e("./class-name"),deprecated:e("./deprecated"),every:e("./every"),functionName:e("./function-name"),orderByFirstCall:e("./order-by-first-call"),prototypes:e("./prototypes"),typeOf:e("./type-of"),valueToString:e("./value-to-string")}},{"./called-in-order":38,"./class-name":39,"./deprecated":40,"./every":41,"./function-name":42,"./global":43,"./order-by-first-call":45,"./prototypes":49,"./type-of":54,"./value-to-string":55}],45:[function(e,t,n){"use strict";var r=e("./prototypes/array").sort,o=e("./prototypes/array").slice;function i(e,t){var n=e.getCall(0),r=t.getCall(0);return(n&&n.callId||-1)<(r&&r.callId||-1)?-1:1}t.exports=function(e){return r(o(e),i)}},{"./prototypes/array":46}],46:[function(e,t,n){"use strict";var r=e("./copy-prototype");t.exports=r(Array.prototype)},{"./copy-prototype":47}],47:[function(e,t,n){"use strict";var r=Function.call;t.exports=function(n){return Object.getOwnPropertyNames(n).reduce(function(e,t){return"size"!==t&&"caller"!==t&&"callee"!==t&&"arguments"!==t&&"function"==typeof n[t]&&(e[t]=r.bind(n[t])),e},Object.create(null))}},{}],48:[function(e,t,n){"use strict";var r=e("./copy-prototype");t.exports=r(Function.prototype)},{"./copy-prototype":47}],49:[function(e,t,n){"use strict";t.exports={array:e("./array"),function:e("./function"),map:e("./map"),object:e("./object"),set:e("./set"),string:e("./string")}},{"./array":46,"./function":48,"./map":50,"./object":51,"./set":52,"./string":53}],50:[function(e,t,n){"use strict";var r=e("./copy-prototype");t.exports=r(Map.prototype)},{"./copy-prototype":47}],51:[function(e,t,n){"use strict";var r=e("./copy-prototype");t.exports=r(Object.prototype)},{"./copy-prototype":47}],52:[function(e,t,n){"use strict";var r=e("./copy-prototype");t.exports=r(Set.prototype)},{"./copy-prototype":47}],53:[function(e,t,n){"use strict";var r=e("./copy-prototype");t.exports=r(String.prototype)},{"./copy-prototype":47}],54:[function(e,t,n){"use strict";var r=e("type-detect");t.exports=function(e){return r(e).toLowerCase()}},{"type-detect":101}],55:[function(e,t,n){"use strict";t.exports=function(e){return e&&e.toString?e.toString():String(e)}},{}],56:[function(e,t,n){"use strict";var g=e("@sinonjs/samsam"),s=e("@sinonjs/commons").functionName,c=e("@sinonjs/commons").typeOf,a={excludeConstructors:["Object",/^.$/],quoteStrings:!0,limitChildrenCount:0},u=[];function v(e,t){var n,r,o=s(t&&t.constructor),i=e.excludeConstructors||a.excludeConstructors;for(n=0,r=i.length;n<r;++n){if("string"==typeof i[n]&&i[n]===o)return"";if(i[n].test&&i[n].test(o))return""}return o}function b(e,t){if("object"!=typeof e)return!1;var n,r;for(n=0,r=t.length;n<r;++n)if(t[n]===e)return!0;return!1}function w(e,t,n,r){if("string"==typeof t){if(0===t.length)return"(empty string)";var o=e.quoteStrings;return n||("boolean"!=typeof o||o)?'"'+t+'"':t}if("symbol"==typeof t)return t.toString();if("function"==typeof t&&!(t instanceof RegExp))return w.func(t);if("bigint"===c(t))return t.toString();var i,s,a=n||[];if(b(t,a))return"[Circular]";if("array"===c(t))return w.array.call(e,t,a);if(!t)return String(1/t==-1/0?"-0":t);if(g.isElement(t))return w.element(t);if("function"==typeof t.toString&&t.toString!==Object.prototype.toString)return t.toString();for(i=0,s=u.length;i<s;i++)if(t===u[i].object)return u[i].value;return g.isSet(t)?w.set.call(e,t,a):t instanceof Map?w.map.call(e,t,a):w.object.call(e,t,a,r)}function r(e){for(var t in e)this[t]=e[t]}"undefined"!=typeof global&&u.push({object:global,value:"[object global]"}),"undefined"!=typeof document&&u.push({object:document,value:"[object HTMLDocument]"}),"undefined"!=typeof window&&u.push({object:window,value:"[object Window]"}),w.func=function(e){return"function "+(s(e)||"")+"() {}"},w.array=function(e,t,n){t.push(e);var r,o,i,s,a=[];for(o=0<this.limitChildrenCount?Math.min(this.limitChildrenCount,e.length):e.length,r=0;r<o;++r)a.push(w(this,e[r],t));return o<e.length&&a.push("[... "+(e.length-o)+" more elements]"),i=a.join(", "),(s=n||["[","]"])[0]+i+s[1]},w.set=function(e,t){return w.array.call(this,Array.from(e),t,["Set {","}"])},w.map=function(e,t){return w.array.call(this,Array.from(e),t,["Map [","]"])},w.object=function(e,t,n){t.push(e);var r,o,i,s,a,c,u,l=n||0,f=[],p=Object.keys(e).sort().concat((r=e,g.isArguments(r)?[]:"function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[])),h=3;for(u=0<this.limitChildrenCount?Math.min(this.limitChildrenCount,p.length):p.length,a=0;a<u;++a)i=b(s=e[o=p[a]],t)?"[Circular]":w(this,s,t,l+2),h+=(i=("string"==typeof o&&/\s/.test(o)?'"'+o+'"':o.toString())+": "+i).length,f.push(i);var d=v(this,e),m=d?"["+d+"] ":"",y="";for(a=0,c=l;a<c;++a)y+=" ";return u<p.length&&f.push("[... "+(p.length-u)+" more elements]"),80<h+l?m+"{\n  "+y+f.join(",\n  "+y)+"\n"+y+"}":m+"{ "+f.join(", ")+" }"},w.element=function(e){var t,n,r,o,i,s=e.tagName.toLowerCase(),a=e.attributes,c=[];for(r=0,o=a.length;r<o;++r)n=(t=a.item(r)).nodeName.toLowerCase().replace("html:",""),i=t.nodeValue,"contenteditable"===n&&"inherit"===i||i&&c.push(n+'="'+i+'"');var u="<"+s+(0<c.length?" ":""),l=e.innerHTML||"";return 20<l.length&&(l=l.substr(0,20)+"[...]"),(u+c.join(" ")+">"+l+"</"+s+">").replace(/ contentEditable="inherit"/,"")},r.prototype={functionName:s,configure:function(e){return new r(e)},constructorName:function(e){return v(this,e)},ascii:function(e,t,n){return w(this,e,t,n)}},t.exports=r.prototype},{"@sinonjs/commons":44,"@sinonjs/samsam":80}],57:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.array,s=e("./deep-equal").use(j),o=e("@sinonjs/commons").every,i=e("@sinonjs/commons").functionName,a=e("lodash.get"),c=e("./iterable-to-string"),u=e("@sinonjs/commons").prototypes.object,l=e("@sinonjs/commons").typeOf,f=e("@sinonjs/commons").valueToString,p=e("./create-matcher/assert-matcher"),h=e("./create-matcher/assert-method-exists"),d=e("./create-matcher/assert-type"),m=e("./create-matcher/is-iterable"),y=e("./create-matcher/is-matcher"),g=e("./create-matcher/matcher-prototype"),v=r.indexOf,b=r.some,w=u.hasOwnProperty,x=u.toString,k=e("./create-matcher/type-map");function j(t,e){var n=Object.create(g),r=l(t);if(void 0!==e&&"string"!=typeof e)throw new TypeError("Message should be a string");if(2<arguments.length)throw new TypeError("Expected 1 or 2 arguments, received "+arguments.length);return r in k?k[r](n,t,e):n.test=function(e){return s(e,t)},n.message||(n.message="match("+f(t)+")"),n}function E(o,i){return function(t,n){d(t,"string","property");var r=1===arguments.length,e=i+'("'+t+'"';return r||(e+=", "+f(n)),j(function(e){return!(null==e||!o(e,t))&&(r||s(e[t],n))},e+=")")}}j.isMatcher=y,j.any=j(function(){return!0},"any"),j.defined=j(function(e){return null!=e},"defined"),j.truthy=j(function(e){return Boolean(e)},"truthy"),j.falsy=j(function(e){return!e},"falsy"),j.same=function(t){return j(function(e){return t===e},"same("+f(t)+")")},j.in=function(e){if("array"!==l(e))throw new TypeError("array expected");return j(function(t){return b(e,function(e){return e===t})},"in("+f(e)+")")},j.typeOf=function(t){return d(t,"string","type"),j(function(e){return l(e)===t},'typeOf("'+t+'")')},j.instanceOf=function(t){return"undefined"==typeof Symbol||void 0===Symbol.hasInstance?d(t,"function","type"):h(t,Symbol.hasInstance,"type","[Symbol.hasInstance]"),j(function(e){return e instanceof t},"instanceOf("+(i(t)||x(t))+")")},j.has=E(function(e,t){return"object"==typeof e?t in e:void 0!==e[t]},"has"),j.hasOwn=E(function(e,t){return w(e,t)},"hasOwn"),j.hasNested=function(t,n){d(t,"string","property");var r=1===arguments.length,e='hasNested("'+t+'"';return r||(e+=", "+f(n)),j(function(e){return null!=e&&void 0!==a(e,t)&&(r||s(a(e,t),n))},e+=")")},j.every=function(n){return p(n),j(function(t){return"object"===l(t)?o(Object.keys(t),function(e){return n.test(t[e])}):m(t)&&o(t,function(e){return n.test(e)})},"every("+n.message+")")},j.some=function(n){return p(n),j(function(t){return"object"===l(t)?!o(Object.keys(t),function(e){return!n.test(t[e])}):m(t)&&!o(t,function(e){return!n.test(e)})},"some("+n.message+")")},(j.array=j.typeOf("array")).deepEquals=function(r){return j(function(e){var t=e.length===r.length;return"array"===l(e)&&t&&o(e,function(e,t){var n=r[t];return"array"===l(n)&&"array"===l(e)?j.array.deepEquals(n).test(e):s(n,e)})},"deepEquals(["+c(r)+"])")},j.array.startsWith=function(e){return j(function(n){return"array"===l(n)&&o(e,function(e,t){return n[t]===e})},"startsWith(["+c(e)+"])")},j.array.endsWith=function(e){return j(function(n){var r=n.length-e.length;return"array"===l(n)&&o(e,function(e,t){return n[r+t]===e})},"endsWith(["+c(e)+"])")},j.array.contains=function(e){return j(function(t){return"array"===l(t)&&o(e,function(e){return-1!==v(t,e)})},"contains(["+c(e)+"])")},(j.map=j.typeOf("map")).deepEquals=function(n){return j(function(e){var t=e.size===n.size;return"map"===l(e)&&t&&o(e,function(e,t){return n.has(t)&&n.get(t)===e})},"deepEquals(Map["+c(n)+"])")},j.map.contains=function(e){return j(function(n){return"map"===l(n)&&o(e,function(e,t){return n.has(t)&&n.get(t)===e})},"contains(Map["+c(e)+"])")},(j.set=j.typeOf("set")).deepEquals=function(n){return j(function(e){var t=e.size===n.size;return"set"===l(e)&&t&&o(e,function(e){return n.has(e)})},"deepEquals(Set["+c(n)+"])")},j.set.contains=function(e){return j(function(t){return"set"===l(t)&&o(e,function(e){return t.has(e)})},"contains(Set["+c(e)+"])")},j.bool=j.typeOf("boolean"),j.number=j.typeOf("number"),j.string=j.typeOf("string"),j.object=j.typeOf("object"),j.func=j.typeOf("function"),j.regexp=j.typeOf("regexp"),j.date=j.typeOf("date"),j.symbol=j.typeOf("symbol"),t.exports=j},{"./create-matcher/assert-matcher":58,"./create-matcher/assert-method-exists":59,"./create-matcher/assert-type":60,"./create-matcher/is-iterable":61,"./create-matcher/is-matcher":62,"./create-matcher/matcher-prototype":64,"./create-matcher/type-map":65,"./deep-equal":66,"./iterable-to-string":78,"@sinonjs/commons":44,"lodash.get":85}],58:[function(e,t,n){"use strict";var r=e("./is-matcher");t.exports=function(e){if(!r(e))throw new TypeError("Matcher expected")}},{"./is-matcher":62}],59:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){if(null===e[t]||void 0===e[t])throw new TypeError("Expected "+n+" to have method "+r)}},{}],60:[function(e,t,n){"use strict";var o=e("@sinonjs/commons").typeOf;t.exports=function(e,t,n){var r=o(e);if(r!==t)throw new TypeError("Expected type of "+n+" to be "+t+", but was "+r)}},{"@sinonjs/commons":44}],61:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").typeOf;t.exports=function(e){return Boolean(e)&&"function"===r(e.forEach)}},{"@sinonjs/commons":44}],62:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.object.isPrototypeOf,o=e("./matcher-prototype");t.exports=function(e){return r(o,e)}},{"./matcher-prototype":64,"@sinonjs/commons":44}],63:[function(e,t,n){"use strict";var s=e("@sinonjs/commons").prototypes.array.every,a=e("@sinonjs/commons").typeOf,c=e("../deep-equal"),u=e("./is-matcher");t.exports=function r(o,i){return null!=o&&s(Object.keys(i),function(e){var t=i[e],n=o[e];if(u(t)){if(!t.test(n))return!1}else if("object"===a(t)){if(!r(n,t))return!1}else if(!c(n,t))return!1;return!0})}},{"../deep-equal":66,"./is-matcher":62,"@sinonjs/commons":44}],64:[function(s,e,t){"use strict";var a={toString:function(){return this.message},or:function(e){var t=s("../create-matcher"),n=t.isMatcher;if(!arguments.length)throw new TypeError("Matcher expected");var r=n(e)?e:t(e),o=this,i=Object.create(a);return i.test=function(e){return o.test(e)||r.test(e)},i.message=o.message+".or("+r.message+")",i},and:function(e){var t=s("../create-matcher"),n=t.isMatcher;if(!arguments.length)throw new TypeError("Matcher expected");var r=n(e)?e:t(e),o=this,i=Object.create(a);return i.test=function(e){return o.test(e)&&r.test(e)},i.message=o.message+".and("+r.message+")",i}};e.exports=a},{"../create-matcher":57}],65:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").functionName,o=e("@sinonjs/commons").prototypes.array.join,i=e("@sinonjs/commons").prototypes.array.map,s=e("@sinonjs/commons").prototypes.string.indexOf,a=e("@sinonjs/commons").valueToString,c=e("./match-object"),u={function:function(e,t,n){e.test=t,e.message=n||"match("+r(t)+")"},number:function(e,t){e.test=function(e){return t==e}},object:function(e,t){var n;return"function"==typeof t.test?(e.test=function(e){return!0===t.test(e)},e.message="match("+r(t.test)+")"):(n=i(Object.keys(t),function(e){return e+": "+a(t[e])}),e.test=function(e){return c(e,t)},e.message="match("+o(n,", ")+")"),e},regexp:function(e,t){e.test=function(e){return"string"==typeof e&&t.test(e)}},string:function(e,t){e.test=function(e){return"string"==typeof e&&-1!==s(e,t)},e.message='match("'+t+'")'}};t.exports=u},{"./match-object":63,"@sinonjs/commons":44}],66:[function(e,t,n){"use strict";var E=e("@sinonjs/commons").valueToString,T=e("@sinonjs/commons").className,r=e("@sinonjs/commons").prototypes.array,o=e("@sinonjs/commons").prototypes.object,A=e("@sinonjs/commons").prototypes.map.forEach,C=e("./get-class"),S=e("./identical"),O=e("./is-arguments"),P=e("./is-date"),I=e("./is-element"),L=e("./is-map"),q=e("./is-nan"),M=e("./is-object"),N=e("./is-set"),R=e("./is-subset"),_=r.concat,F=r.every,D=r.push,H=Date.prototype.getTime,W=o.hasOwnProperty,B=r.indexOf,X=Object.keys,V=Object.getOwnPropertySymbols;function U(e,t,v){var b=[],w=[],x=[],k=[],j={};return function l(f,p,h,d){if(v&&v.isMatcher(p))return v.isMatcher(f)?f===p:p.test(f);var e=typeof f,t=typeof p;if(f===p||q(f)||q(p)||null===f||null===p||void 0===f||void 0===p||"object"!=e||"object"!=t)return S(f,p);if(I(f)||I(p))return!1;var n=P(f),r=P(p);if((n||r)&&(!n||!r||H.call(f)!==H.call(p)))return!1;if(f instanceof RegExp&&p instanceof RegExp&&E(f)!==E(p))return!1;if(f instanceof Error&&p instanceof Error)return f===p;var o=C(f),i=C(p),s=X(f),a=X(p),c=T(f),u=T(p),m="function"==typeof V?V(p):[],y=_(a,m);if(O(f)||O(p)){if(f.length!==p.length)return!1}else if(e!=t||o!==i||s.length!==a.length||c&&u&&c!==u)return!1;if(N(f)||N(p))return!(!N(f)||!N(p)||f.size!==p.size)&&R(f,p,l);if(L(f)||L(p)){if(!L(f)||!L(p)||f.size!==p.size)return!1;var g=!0;return A(f,function(e,t){g=g&&U(e,p.get(t))}),g}return F(y,function(e){if(!W(f,e))return!1;var t=f[e],n=p[e],r=M(t),o=M(n),i=r?B(b,t):-1,s=o?B(w,n):-1,a=-1!==i?x[i]:h+"["+JSON.stringify(e)+"]",c=-1!==s?k[s]:d+"["+JSON.stringify(e)+"]",u=a+c;return!!j[u]||(-1===i&&r&&(D(b,t),D(x,a)),-1===s&&o&&(D(w,n),D(k,c)),r&&o&&(j[u]=!0),l(t,n,a,c))})}(e,t,"$1","$2")}U.use=function(n){return function(e,t){return U(e,t,n)}},t.exports=U},{"./get-class":67,"./identical":68,"./is-arguments":69,"./is-date":70,"./is-element":71,"./is-map":72,"./is-nan":73,"./is-object":75,"./is-set":76,"./is-subset":77,"@sinonjs/commons":44}],67:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.object.toString;t.exports=function(e){return r(e).split(/[ \]]/)[1]}},{"@sinonjs/commons":44}],68:[function(e,t,n){"use strict";var r=e("./is-nan"),o=e("./is-neg-zero");t.exports=function(e,t){return!!(e===t||r(e)&&r(t))&&(0!==e||o(e)===o(t))}},{"./is-nan":73,"./is-neg-zero":74}],69:[function(e,t,n){"use strict";var r=e("./get-class");t.exports=function(e){return"Arguments"===r(e)}},{"./get-class":67}],70:[function(e,t,n){"use strict";t.exports=function(e){return e instanceof Date}},{}],71:[function(e,t,n){"use strict";var r="undefined"!=typeof document&&document.createElement("div");t.exports=function(e){if(!e||1!==e.nodeType||!r)return!1;try{e.appendChild(r),e.removeChild(r)}catch(e){return!1}return!0}},{}],72:[function(e,t,n){"use strict";t.exports=function(e){return"undefined"!=typeof Map&&e instanceof Map}},{}],73:[function(e,t,n){"use strict";t.exports=function(e){return"number"==typeof e&&e!=e}},{}],74:[function(e,t,n){"use strict";t.exports=function(e){return 0===e&&1/e==-1/0}},{}],75:[function(e,t,n){"use strict";t.exports=function(e){return!("object"!=typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Error||e instanceof Number||e instanceof RegExp||e instanceof String)}},{}],76:[function(e,t,n){"use strict";t.exports=function(e){return"undefined"!=typeof Set&&e instanceof Set||!1}},{}],77:[function(e,t,n){"use strict";var s=e("@sinonjs/commons").prototypes.set.forEach;t.exports=function(e,r,o){var i=!0;return s(e,function(t){var n=!1;s(r,function(e){o(e,t)&&(n=!0)}),i=i&&n}),i}},{"@sinonjs/commons":44}],78:[function(e,t,n){"use strict";var r=e("@sinonjs/commons").prototypes.string.slice,o=e("@sinonjs/commons").typeOf,i=e("@sinonjs/commons").valueToString;function s(e){return"string"==typeof e?"'"+e+"'":i(e)}t.exports=function(e){return"map"===o(e)?(n="",e.forEach(function(e,t){n+="["+s(t)+","+s(e)+"],"}),n=r(n,0,-1)):(t="",e.forEach(function(e){t+=s(e)+","}),t=r(t,0,-1));var n,t}},{"@sinonjs/commons":44}],79:[function(e,t,n){"use strict";var o=e("@sinonjs/commons").valueToString,i=e("@sinonjs/commons").prototypes.string.indexOf,r=e("@sinonjs/commons").prototypes.array.forEach,s=e("./deep-equal").use(p),a=e("./get-class"),c=e("./is-date"),u=e("./is-set"),l=e("./is-subset"),f=e("./create-matcher");function p(e,t){if(t&&"function"==typeof t.test)return t.test(e);if("function"==typeof t)return!0===t(e);if("string"==typeof t)return("string"==typeof e||Boolean(e))&&0<=i(o(e).toLowerCase(),t.toLowerCase());if("number"==typeof t)return t===e;if("boolean"==typeof t)return t===e;if("bigint"==typeof t)return t===e;if(void 0===t)return void 0===e;if("symbol"==typeof t)return t===e;if(null===t)return null===e;if(null===e)return!1;if(u(e))return l(t,e,p);if("Array"===a(e)&&"Array"===a(t))return function(e,t,n){if(0===t.length)return!0;var r,o,i,s;for(r=0,o=e.length;r<o;++r)if(n(e[r],t[0])){for(i=0,s=t.length;i<s;++i){if(o<=r+i)return!1;if(!n(e[r+i],t[i]))return!1}return!0}return!1}(e,t,p);if(c(t))return c(e)&&e.getTime()===t.getTime();if(t&&"object"==typeof t){if(t===e)return!0;if("object"!=typeof e)return!1;var n;for(n in t){var r=e[n];if(void 0===r&&"function"==typeof e.getAttribute&&(r=e.getAttribute(n)),null===t[n]||void 0===t[n]){if(r!==t[n])return!1}else if(void 0===r||!s(r,t[n]))return!1}return!0}throw new Error("Matcher was an unknown or unsupported type")}r(Object.keys(f),function(e){p[e]=f[e]}),t.exports=p},{"./create-matcher":57,"./deep-equal":66,"./get-class":67,"./is-date":70,"./is-set":76,"./is-subset":77,"@sinonjs/commons":44}],80:[function(e,t,n){"use strict";var r=e("./identical"),o=e("./is-arguments"),i=e("./is-element"),s=e("./is-neg-zero"),a=e("./is-set"),c=e("./is-map"),u=e("./match"),l=e("./deep-equal").use(u),f=e("./create-matcher");t.exports={createMatcher:f,deepEqual:l,identical:r,isArguments:o,isElement:i,isMap:c,isNegZero:s,isSet:a,match:u}},{"./create-matcher":57,"./deep-equal":66,"./identical":68,"./is-arguments":69,"./is-element":71,"./is-map":72,"./is-neg-zero":74,"./is-set":76,"./match":79}],81:[function(e,t,n){},{}],82:[function(e,t,n){var r,o;r=this,o=function(e){"use strict";function n(){}function y(e,t,n,r,o){for(var i=0,s=t.length,a=0,c=0;i<s;i++){var u=t[i];if(u.removed){if(u.value=e.join(r.slice(c,c+u.count)),c+=u.count,i&&t[i-1].added){var l=t[i-1];t[i-1]=t[i],t[i]=l}}else{if(!u.added&&o){var f=n.slice(a,a+u.count);f=f.map(function(e,t){var n=r[c+t];return n.length>e.length?n:e}),u.value=e.join(f)}else u.value=e.join(n.slice(a,a+u.count));a+=u.count,u.added||(c+=u.count)}}var p=t[s-1];return 1<s&&"string"==typeof p.value&&(p.added||p.removed)&&e.equals("",p.value)&&(t[s-2].value+=p.value,t.pop()),t}n.prototype={diff:function(c,u,e){var t=2<arguments.length&&void 0!==e?e:{},n=t.callback;"function"==typeof t&&(n=t,t={}),this.options=t;var l=this;function f(e){return n?(setTimeout(function(){n(void 0,e)},0),!0):e}c=this.castInput(c),u=this.castInput(u),c=this.removeEmpty(this.tokenize(c));var p=(u=this.removeEmpty(this.tokenize(u))).length,h=c.length,d=1,r=p+h,m=[{newPos:-1,components:[]}],o=this.extractCommon(m[0],u,c,0);if(m[0].newPos+1>=p&&h<=o+1)return f([{value:this.join(u),count:u.length}]);function i(){for(var e=-1*d;e<=d;e+=2){var t=void 0,n=m[e-1],r=m[e+1],o=(r?r.newPos:0)-e;n&&(m[e-1]=void 0);var i=n&&n.newPos+1<p,s=r&&0<=o&&o<h;if(i||s){if(!i||s&&n.newPos<r.newPos?(t={newPos:(a=r).newPos,components:a.components.slice(0)},l.pushComponent(t.components,void 0,!0)):((t=n).newPos++,l.pushComponent(t.components,!0,void 0)),o=l.extractCommon(t,u,c,e),t.newPos+1>=p&&h<=o+1)return f(y(l,t.components,u,c,l.useLongestToken));m[e]=t}else m[e]=void 0}var a;d++}if(n)!function e(){setTimeout(function(){if(r<d)return n();i()||e()},0)}();else for(;d<=r;){var s=i();if(s)return s}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var o=t.length,i=n.length,s=e.newPos,a=s-r,c=0;s+1<o&&a+1<i&&this.equals(t[s+1],n[a+1]);)s++,a++,c++;return c&&e.components.push({count:c}),e.newPos=s,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var r=new n;function o(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,s=/\S/,a=new n;a.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!s.test(e)&&!s.test(t)},a.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&i.test(t[n])&&i.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var c=new n;function u(e,t,n){return c.diff(e,t,n)}c.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var l=new n;l.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var f=new n;function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var h=Object.prototype.toString,d=new n;function m(e,t,n,r,o){var i,s;for(t=t||[],n=n||[],r&&(e=r(o,e)),i=0;i<t.length;i+=1)if(t[i]===e)return n[i];if("[object Array]"===h.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),i=0;i<e.length;i+=1)s[i]=m(e[i],t,n,r,o);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===p(e)&&null!==e){t.push(e),s={},n.push(s);var a,c=[];for(a in e)e.hasOwnProperty(a)&&c.push(a);for(c.sort(),i=0;i<c.length;i+=1)s[a=c[i]]=m(e[a],t,n,r,a);t.pop(),n.pop()}else s=e;return s}d.useLongestToken=!0,d.tokenize=c.tokenize,d.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,o=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(m(e,null,null,o),o,"  ")},d.equals=function(e,t){return n.prototype.equals.call(d,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var g=new n;function I(e){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.split(/\r\n|[\n\v\f\r\x85]/),c=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],u=0;function t(){var e={};for(o.push(e);u<a.length;){var t=a[u];if(/^(\-\-\-|\+\+\+|@@)\s/.test(t))break;var n=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(t);n&&(e.index=n[1]),u++}for(i(e),i(e),e.hunks=[];u<a.length;){var r=a[u];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(r))break;if(/^@@/.test(r))e.hunks.push(l());else{if(r&&s.strict)throw new Error("Unknown line "+(u+1)+" "+JSON.stringify(r));u++}}}function i(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(a[u]);if(t){var n="---"===t[1]?"old":"new",r=t[2].split("\t",2),o=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(o)&&(o=o.substr(1,o.length-2)),e[n+"FileName"]=o,e[n+"Header"]=(r[1]||"").trim(),u++}}function l(){for(var e=u,t=a[u++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),n={oldStart:+t[1],oldLines:+t[2]||1,newStart:+t[3],newLines:+t[4]||1,lines:[],linedelimiters:[]},r=0,o=0;u<a.length&&!(0===a[u].indexOf("--- ")&&u+2<a.length&&0===a[u+1].indexOf("+++ ")&&0===a[u+2].indexOf("@@"));u++){var i=0==a[u].length&&u!=a.length-1?" ":a[u][0];if("+"!==i&&"-"!==i&&" "!==i&&"\\"!==i)break;n.lines.push(a[u]),n.linedelimiters.push(c[u]||"\n"),"+"===i?r++:"-"===i?o++:" "===i&&(r++,o++)}if(r||1!==n.newLines||(n.newLines=0),o||1!==n.oldLines||(n.oldLines=0),s.strict){if(r!==n.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(o!==n.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return n}for(;u<a.length;)t();return o}function L(t,n,r){var o=!0,i=!1,s=!1,a=1;return function e(){if(o&&!s){if(i?a++:o=!1,t+a<=r)return a;s=!0}if(!i)return s||(o=!0),n<=t-a?-a++:(i=!0,e())}}function v(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=I(t)),Array.isArray(t)){if(1<t.length)throw new Error("applyPatch only works with a single input.");t=t[0]}var r,o,s=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,c=n.compareLine||function(e,t,n,r){return t===r},u=0,l=n.fuzzFactor||0,f=0,p=0;function h(e,t){for(var n=0;n<e.lines.length;n++){var r=e.lines[n],o=0<r.length?r[0]:" ",i=0<r.length?r.substr(1):r;if(" "===o||"-"===o){if(!c(t+1,s[t],o,i)&&l<++u)return!1;t++}}return!0}for(var d=0;d<a.length;d++){for(var m=a[d],y=s.length-m.oldLines,g=0,v=p+m.oldStart-1,b=L(v,f,y);void 0!==g;g=b())if(h(m,v+g)){m.offset=p+=g;break}if(void 0===g)return!1;f=m.offset+m.oldStart+m.oldLines}for(var w=0,x=0;x<a.length;x++){var k=a[x],j=k.oldStart+k.offset+w-1;w+=k.newLines-k.oldLines,j<0&&(j=0);for(var E=0;E<k.lines.length;E++){var T=k.lines[E],A=0<T.length?T[0]:" ",C=0<T.length?T.substr(1):T,S=k.linedelimiters[E];if(" "===A)j++;else if("-"===A)s.splice(j,1),i.splice(j,1);else if("+"===A)s.splice(j,0,C),i.splice(j,0,S),j++;else if("\\"===A){var O=k.lines[E-1]?k.lines[E-1][0]:null;"+"===O?r=!0:"-"===O&&(o=!0)}}}if(r)for(;!s[s.length-1];)s.pop(),i.pop();else o&&(s.push(""),i.push("\n"));for(var P=0;P<s.length-1;P++)s[P]=s[P]+i[P];return s.join("")}function b(e,t,p,h,n,r,d){void 0===(d=d||{}).context&&(d.context=4);var m=u(p,h,d);function y(e){return e.map(function(e){return" "+e})}m.push({value:"",lines:[]});for(var g=[],v=0,b=0,w=[],x=1,k=1,o=function(e){var t=m[e],n=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=n,t.added||t.removed){var r;if(!v){var o=m[e-1];v=x,b=k,o&&(w=0<d.context?y(o.lines.slice(-d.context)):[],v-=w.length,b-=w.length)}(r=w).push.apply(r,j(n.map(function(e){return(t.added?"+":"-")+e}))),t.added?k+=n.length:x+=n.length}else{if(v)if(n.length<=2*d.context&&e<m.length-2){var i;(i=w).push.apply(i,j(y(n)))}else{var s,a=Math.min(n.length,d.context);(s=w).push.apply(s,j(y(n.slice(0,a))));var c={oldStart:v,oldLines:x-v+a,newStart:b,newLines:k-b+a,lines:w};if(e>=m.length-2&&n.length<=d.context){var u=/\n$/.test(p),l=/\n$/.test(h),f=0==n.length&&w.length>c.oldLines;!u&&f&&w.splice(c.oldLines,0,"\\ No newline at end of file"),(u||f)&&l||w.push("\\ No newline at end of file")}g.push(c),b=v=0,w=[]}x+=n.length,k+=n.length}},i=0;i<m.length;i++)o(i);return{oldFileName:e,newFileName:t,oldHeader:n,newHeader:r,hunks:g}}function w(e,t,n,r,o,i,s){var a=b(e,t,n,r,o,i,s),c=[];e==t&&c.push("Index: "+e),c.push("==================================================================="),c.push("--- "+a.oldFileName+(void 0===a.oldHeader?"":"\t"+a.oldHeader)),c.push("+++ "+a.newFileName+(void 0===a.newHeader?"":"\t"+a.newHeader));for(var u=0;u<a.hunks.length;u++){var l=a.hunks[u];c.push("@@ -"+l.oldStart+","+l.oldLines+" +"+l.newStart+","+l.newLines+" @@"),c.push.apply(c,l.lines)}return c.join("\n")+"\n"}function x(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function k(e){var t=function r(e){var o=0;var i=0;e.forEach(function(e){if("string"!=typeof e){var t=r(e.mine),n=r(e.theirs);void 0!==o&&(t.oldLines===n.oldLines?o+=t.oldLines:o=void 0),void 0!==i&&(t.newLines===n.newLines?i+=t.newLines:i=void 0)}else void 0===i||"+"!==e[0]&&" "!==e[0]||i++,void 0===o||"-"!==e[0]&&" "!==e[0]||o++});return{oldLines:o,newLines:i}}(e.lines),n=t.oldLines,r=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function E(e,t){if("string"!=typeof e)return e;if(/^@@/m.test(e)||/^Index:/m.test(e))return I(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return b(void 0,void 0,t,e)}function T(e){return e.newFileName&&e.newFileName!==e.oldFileName}function A(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function C(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function S(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function O(e,t,n,r,o){var i={offset:t,lines:n,index:0},s={offset:r,lines:o,index:0};for(N(e,i,s),N(e,s,i);i.index<i.lines.length&&s.index<s.lines.length;){var a=i.lines[i.index],c=s.lines[s.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==c[0]&&"+"!==c[0])if("+"===a[0]&&" "===c[0]){var u;(u=e.lines).push.apply(u,j(_(i)))}else if("+"===c[0]&&" "===a[0]){var l;(l=e.lines).push.apply(l,j(_(s)))}else"-"===a[0]&&" "===c[0]?q(e,i,s):"-"===c[0]&&" "===a[0]?q(e,s,i,!0):a===c?(e.lines.push(a),i.index++,s.index++):M(e,_(i),_(s));else P(e,i,s)}R(e,i),R(e,s),k(e)}function P(e,t,n){var r,o,i=_(t),s=_(n);if(F(i)&&F(s)){var a,c;if(x(i,s)&&D(n,i,i.length-s.length))return void(a=e.lines).push.apply(a,j(i));if(x(s,i)&&D(t,s,s.length-i.length))return void(c=e.lines).push.apply(c,j(s))}else if(o=s,(r=i).length===o.length&&x(r,o)){var u;return void(u=e.lines).push.apply(u,j(i))}M(e,i,s)}function q(e,t,n,r){var o,i=_(t),s=function(e,t){var n=[],r=[],o=0,i=!1,s=!1;for(;o<t.length&&e.index<e.lines.length;){var a=e.lines[e.index],c=t[o];if("+"===c[0])break;if(i=i||" "!==a[0],r.push(c),o++,"+"===a[0])for(s=!0;"+"===a[0];)n.push(a),a=e.lines[++e.index];c.substr(1)===a.substr(1)?(n.push(a),e.index++):s=!0}"+"===(t[o]||"")[0]&&i&&(s=!0);if(s)return n;for(;o<t.length;)r.push(t[o++]);return{merged:r,changes:n}}(n,i);s.merged?(o=e.lines).push.apply(o,j(s.merged)):M(e,r?s:i,r?i:s)}function M(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function N(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}function R(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function _(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;t.push(r),e.index++}return t}function F(e){return e.reduce(function(e,t){return e&&"-"===t[0]},!0)}function D(e,t,n){for(var r=0;r<n;r++){var o=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+o)return!1}return e.index+=n,!0}function H(e){var t=e;return t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}g.tokenize=function(e){return e.slice()},g.join=g.removeEmpty=function(e){return e},e.Diff=n,e.diffChars=function(e,t,n){return r.diff(e,t,n)},e.diffWords=function(e,t,n){return n=o(n,{ignoreWhitespace:!0}),a.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return a.diff(e,t,n)},e.diffLines=u,e.diffTrimmedLines=function(e,t,n){var r=o(n,{ignoreWhitespace:!0});return c.diff(e,t,r)},e.diffSentences=function(e,t,n){return l.diff(e,t,n)},e.diffCss=function(e,t,n){return f.diff(e,t,n)},e.diffJson=function(e,t,n){return d.diff(e,t,n)},e.diffArrays=function(e,t,n){return g.diff(e,t,n)},e.structuredPatch=b,e.createTwoFilesPatch=w,e.createPatch=function(e,t,n,r,o,i){return w(e,e,t,n,r,o,i)},e.applyPatch=v,e.applyPatches=function(e,i){"string"==typeof e&&(e=I(e));var t=0;!function r(){var o=e[t++];if(!o)return i.complete();i.loadFile(o,function(e,t){if(e)return i.complete(e);var n=v(t,o,i);i.patched(o,n,function(e){if(e)return i.complete(e);r()})})}()},e.parsePatch=I,e.merge=function(e,t,n){e=E(e,n),t=E(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index),(e.newFileName||t.newFileName)&&(T(e)?T(t)?(r.oldFileName=A(r,e.oldFileName,t.oldFileName),r.newFileName=A(r,e.newFileName,t.newFileName),r.oldHeader=A(r,e.oldHeader,t.oldHeader),r.newHeader=A(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader)),r.hunks=[];for(var o=0,i=0,s=0,a=0;o<e.hunks.length||i<t.hunks.length;){var c=e.hunks[o]||{oldStart:1/0},u=t.hunks[i]||{oldStart:1/0};if(C(c,u))r.hunks.push(S(c,s)),o++,a+=c.newLines-c.oldLines;else if(C(u,c))r.hunks.push(S(u,a)),i++,s+=u.newLines-u.oldLines;else{var l={oldStart:Math.min(c.oldStart,u.oldStart),oldLines:0,newStart:Math.min(c.newStart+s,u.oldStart+a),newLines:0,lines:[]};O(l,c.oldStart,c.lines,u.oldStart,u.lines),i++,o++,r.hunks.push(l)}}return r},e.convertChangesToDMP=function(e){for(var t,n,r=[],o=0;o<e.length;o++)n=(t=e[o]).added?1:t.removed?-1:0,r.push([n,t.value]);return r},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(H(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")},e.canonicalize=m,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((r=r||self).Diff={})},{}],83:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],84:[function(e,t,n){t.exports=function e(){var t=[].slice.call(arguments);var n=!1;"boolean"==typeof t[0]&&(n=t.shift());var r=t[0];if(!r||"object"!=typeof r&&"function"!=typeof r)throw new Error("extendee must be an object");var o=t.slice(1);var i=o.length;for(var s=0;s<i;s++){var a=o[s];for(var c in a)if(a.hasOwnProperty(c)){var u=a[c];if(n&&(f=u,Array.isArray(f)||"[object Object]"=={}.toString.call(f))){var l=Array.isArray(u)?[]:{};r[c]=e(!0,r.hasOwnProperty(c)?r[c]:l,u)}else r[c]=u}}var f;return r}},{}],85:[function(e,t,n){var r="Expected a function",o="__lodash_hash_undefined__",i=1/0,s="[object Function]",a="[object GeneratorFunction]",c="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,f=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,m="object"==typeof global&&global&&global.Object===Object&&global,y="object"==typeof self&&self&&self.Object===Object&&self,g=m||y||Function("return this")();var v,b=Array.prototype,w=Function.prototype,x=Object.prototype,k=g["__core-js_shared__"],j=(v=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",E=w.toString,T=x.hasOwnProperty,A=x.toString,C=RegExp("^"+E.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=g.Symbol,O=b.splice,P=W(g,"Map"),I=W(Object,"create"),L=S?S.prototype:void 0,q=L?L.toString:void 0;function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function F(e,t){for(var n,r=0,o=(t=function(e,t){if(U(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||z(e))return!0;return l.test(e)||!u.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:U(n=t)?n:B(n)).length;null!=e&&r<o;)e=e[X(t[r++])];return r&&r==o?e:void 0}function D(e){return!(!$(e)||(t=e,j&&j in t))&&((r=$(n=e)?A.call(n):"")==s||r==a||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?C:d).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t,n,r}function H(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function W(e,t){var n,r,o=(r=t,null==(n=e)?void 0:n[r]);return D(o)?o:void 0}M.prototype.clear=function(){this.__data__=I?I(null):{}},M.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},M.prototype.get=function(e){var t=this.__data__;if(I){var n=t[e];return n===o?void 0:n}return T.call(t,e)?t[e]:void 0},M.prototype.has=function(e){var t=this.__data__;return I?void 0!==t[e]:T.call(t,e)},M.prototype.set=function(e,t){return this.__data__[e]=I&&void 0===t?o:t,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(e){var t=this.__data__,n=_(t,e);return!(n<0)&&(n==t.length-1?t.pop():O.call(t,n,1),!0)},N.prototype.get=function(e){var t=this.__data__,n=_(t,e);return n<0?void 0:t[n][1]},N.prototype.has=function(e){return-1<_(this.__data__,e)},N.prototype.set=function(e,t){var n=this.__data__,r=_(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},R.prototype.clear=function(){this.__data__={hash:new M,map:new(P||N),string:new M}},R.prototype.delete=function(e){return H(this,e).delete(e)},R.prototype.get=function(e){return H(this,e).get(e)},R.prototype.has=function(e){return H(this,e).has(e)},R.prototype.set=function(e,t){return H(this,e).set(e,t),this};var B=V(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(z(e))return q?q.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}(t);var o=[];return f.test(e)&&o.push(""),e.replace(p,function(e,t,n,r){o.push(n?r.replace(h,"$1"):t||e)}),o});function X(e){if("string"==typeof e||z(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function V(o,i){if("function"!=typeof o||i&&"function"!=typeof i)throw new TypeError(r);var s=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=s.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return s.cache=n.set(t,r),r};return s.cache=new(V.Cache||R),s}V.Cache=R;var U=Array.isArray;function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function z(e){return"symbol"==typeof e||!!(t=e)&&"object"==typeof t&&A.call(e)==c;var t}t.exports=function(e,t,n){var r=null==e?void 0:F(e,t);return void 0===r?n:r}},{}],86:[function(require,module,exports){"use strict";var globalObject=require("@sinonjs/commons").global;function withGlobal(_global){var userAgent=_global.navigator&&_global.navigator.userAgent,isRunningInIE=userAgent&&-1<userAgent.indexOf("MSIE "),maxTimeout=Math.pow(2,31)-1,NOOP=function(){},NOOP_ARRAY=function(){return[]},timeoutResult=_global.setTimeout(NOOP,0),addTimerReturnsObject="object"==typeof timeoutResult,hrtimePresent=_global.process&&"function"==typeof _global.process.hrtime,hrtimeBigintPresent=hrtimePresent&&"function"==typeof _global.process.hrtime.bigint,nextTickPresent=_global.process&&"function"==typeof _global.process.nextTick,performancePresent=_global.performance&&"function"==typeof _global.performance.now,hasPerformancePrototype=_global.Performance&&(typeof _global.Performance).match(/^(function|object)$/),queueMicrotaskPresent=_global.hasOwnProperty("queueMicrotask"),requestAnimationFramePresent=_global.requestAnimationFrame&&"function"==typeof _global.requestAnimationFrame,cancelAnimationFramePresent=_global.cancelAnimationFrame&&"function"==typeof _global.cancelAnimationFrame,requestIdleCallbackPresent=_global.requestIdleCallback&&"function"==typeof _global.requestIdleCallback,cancelIdleCallbackPresent=_global.cancelIdleCallback&&"function"==typeof _global.cancelIdleCallback,setImmediatePresent=_global.setImmediate&&"function"==typeof _global.setImmediate;isRunningInIE&&(_global.setTimeout=_global.setTimeout,_global.clearTimeout=_global.clearTimeout,_global.setInterval=_global.setInterval,_global.clearInterval=_global.clearInterval,_global.Date=_global.Date),setImmediatePresent&&(_global.setImmediate=_global.setImmediate,_global.clearImmediate=_global.clearImmediate),_global.clearTimeout(timeoutResult);var NativeDate=_global.Date,uniqueTimerId=1;function isNumberFinite(e){return Number.isFinite?Number.isFinite(e):"number"==typeof e&&isFinite(e)}function parseTime(e){if(!e)return 0;var t,n=e.split(":"),r=n.length,o=r,i=0;if(3<r||!/^(\d\d:){0,2}\d\d?$/.test(e))throw new Error("tick only understands numbers, 'm:s' and 'h:m:s'. Each part must be two digits");for(;o--;){if(60<=(t=parseInt(n[o],10)))throw new Error("Invalid time "+e);i+=t*Math.pow(60,r-o-1)}return 1e3*i}function nanoRemainder(e){var t=1e6*e%1e6,n=t<0?1e6+t:t;return Math.floor(n)}function getEpoch(e){if(!e)return 0;if("function"==typeof e.getTime)return e.getTime();if("number"==typeof e)return e;throw new TypeError("now should be milliseconds since UNIX epoch")}function inRange(e,t,n){return n&&n.callAt>=e&&n.callAt<=t}function mirrorDateProperties(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.now?e.now=function(){return e.clock.now}:delete e.now,t.toSource?e.toSource=function(){return t.toSource()}:delete e.toSource,e.toString=function(){return t.toString()},e.prototype=t.prototype,e.parse=t.parse,e.UTC=t.UTC,e.prototype.toUTCString=t.prototype.toUTCString,e}function createDate(){return mirrorDateProperties(function e(t,n,r,o,i,s,a){if(!(this instanceof e))return new NativeDate(e.clock.now).toString();switch(arguments.length){case 0:return new NativeDate(e.clock.now);case 1:return new NativeDate(t);case 2:return new NativeDate(t,n);case 3:return new NativeDate(t,n,r);case 4:return new NativeDate(t,n,r,o);case 5:return new NativeDate(t,n,r,o,i);case 6:return new NativeDate(t,n,r,o,i,s);default:return new NativeDate(t,n,r,o,i,s,a)}},NativeDate)}function enqueueJob(e,t){e.jobs||(e.jobs=[]),e.jobs.push(t)}function runJobs(e){if(e.jobs){for(var t=0;t<e.jobs.length;t++){var n=e.jobs[t];if(n.func.apply(null,n.args),e.loopLimit&&t>e.loopLimit)throw new Error("Aborting after running "+e.loopLimit+" timers, assuming an infinite loop!")}e.jobs=[]}}function addTimer(e,t){if(void 0===t.func)throw new Error("Callback must be provided to timer calls");if(t.type=t.immediate?"Immediate":"Timeout",t.hasOwnProperty("delay")&&(isNumberFinite(t.delay)||(t.delay=0),t.delay=t.delay>maxTimeout?1:t.delay,t.delay=Math.max(0,t.delay)),t.hasOwnProperty("interval")&&(t.type="Interval",t.interval=t.interval>maxTimeout?1:t.interval),t.hasOwnProperty("animation")&&(t.type="AnimationFrame",t.animation=!0),e.timers||(e.timers={}),t.id=uniqueTimerId++,t.createdAt=e.now,t.callAt=e.now+(parseInt(t.delay)||(e.duringTick?1:0)),e.timers[t.id]=t,addTimerReturnsObject){var n={id:t.id,ref:function(){return n},unref:function(){return n},refresh:function(){return n}};return n}return t.id}function compareTimers(e,t){return e.callAt<t.callAt?-1:e.callAt>t.callAt?1:e.immediate&&!t.immediate?-1:!e.immediate&&t.immediate?1:e.createdAt<t.createdAt?-1:e.createdAt>t.createdAt?1:e.id<t.id?-1:e.id>t.id?1:void 0}function firstTimerInRange(e,t,n){var r,o=e.timers,i=null;for(r in o)o.hasOwnProperty(r)&&(!inRange(t,n,o[r])||i&&1!==compareTimers(i,o[r])||(i=o[r]));return i}function firstTimer(e){var t,n=e.timers,r=null;for(t in n)n.hasOwnProperty(t)&&(r&&1!==compareTimers(r,n[t])||(r=n[t]));return r}function lastTimer(e){var t,n=e.timers,r=null;for(t in n)n.hasOwnProperty(t)&&(r&&-1!==compareTimers(r,n[t])||(r=n[t]));return r}function callTimer(clock,timer){"number"==typeof timer.interval?clock.timers[timer.id].callAt+=timer.interval:delete clock.timers[timer.id],"function"==typeof timer.func?timer.func.apply(null,timer.args):eval(timer.func)}function clearTimer(e,t,n){if(t){e.timers||(e.timers={});var r="object"==typeof t?t.id:t;if(e.timers.hasOwnProperty(r)){var o=e.timers[r];if(o.type!==n){var i="AnimationFrame"===n?"cancelAnimationFrame":"clear"+n,s="AnimationFrame"===o.type?"requestAnimationFrame":"set"+o.type;throw new Error("Cannot clear timer: timer created with "+s+"() but cleared with "+i+"()")}delete e.timers[r]}}}function uninstall(t,e,n){var r,o,i;for(o=0,i=t.methods.length;o<i;o++)if("hrtime"===(r=t.methods[o])&&e.process)e.process.hrtime=t._hrtime;else if("nextTick"===r&&e.process)e.process.nextTick=t._nextTick;else if("performance"===r){var s=Object.getOwnPropertyDescriptor(t,"_"+r);s&&s.get&&!s.set?Object.defineProperty(e,r,s):s.configurable&&(e[r]=t["_"+r])}else if(e[r]&&e[r].hadOwnProperty)e[r]=t["_"+r],"clearInterval"===r&&!0===n.shouldAdvanceTime&&e[r](t.attachedInterval);else try{delete e[r]}catch(e){}return t.methods=[],t.timers?Object.keys(t.timers).map(function(e){return t.timers[e]}):[]}function hijackMethod(e,t,n){var r;if(n[t].hadOwnProperty=Object.prototype.hasOwnProperty.call(e,t),n["_"+t]=e[t],"Date"===t){var o=mirrorDateProperties(n[t],e[t]);e[t]=o}else if("performance"===t){var i=Object.getOwnPropertyDescriptor(e,t);if(i&&i.get&&!i.set){Object.defineProperty(n,"_"+t,i);var s=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,s)}else e[t]=n[t]}else for(r in e[t]=function(){return n[t].apply(n,arguments)},n[t])n[t].hasOwnProperty(r)&&(e[t][r]=n[t][r]);e[t].clock=n}function doIntervalTick(e,t){e.tick(t)}var timers={setTimeout:_global.setTimeout,clearTimeout:_global.clearTimeout,setInterval:_global.setInterval,clearInterval:_global.clearInterval,Date:_global.Date};setImmediatePresent&&(timers.setImmediate=_global.setImmediate,timers.clearImmediate=_global.clearImmediate),hrtimePresent&&(timers.hrtime=_global.process.hrtime),nextTickPresent&&(timers.nextTick=_global.process.nextTick),performancePresent&&(timers.performance=_global.performance),requestAnimationFramePresent&&(timers.requestAnimationFrame=_global.requestAnimationFrame),queueMicrotaskPresent&&(timers.queueMicrotask=!0),cancelAnimationFramePresent&&(timers.cancelAnimationFrame=_global.cancelAnimationFrame),requestIdleCallbackPresent&&(timers.requestIdleCallback=_global.requestIdleCallback),cancelIdleCallbackPresent&&(timers.cancelIdleCallback=_global.cancelIdleCallback);var keys=Object.keys||function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},originalSetTimeout=_global.setImmediate||_global.setTimeout;function createClock(a,e){a=Math.floor(getEpoch(a)),e=e||1e3;var v=0,c=[0,0];if(void 0===NativeDate)throw new Error("The global scope doesn't have a `Date` object (see https://github.com/sinonjs/sinon/issues/1852#issuecomment-419622780)");var b={now:a,timeouts:{},Date:createDate(),loopLimit:e};function n(){return 16-(b.now-a)%16}function t(e){var t=b.now-c[0]-a,n=Math.floor(t/1e3),r=1e6*(t-1e3*n)+v-c[1];if(Array.isArray(e)){if(1e9<e[1])throw new TypeError("Number of nanoseconds can't exceed a billion");var o=e[0],i=r-e[1],s=n-o;return i<0&&(i+=1e9,--s),[s,i]}return[n,r]}function r(e,t,n,r){var o="number"==typeof e?e:parseTime(e),i=Math.floor(o),s=nanoRemainder(o),a=v+s,c=b.now+i;if(o<0)throw new TypeError("Negative ticks are not supported");1e6<=a&&(c+=1,a-=1e6),v=a;var u,l,f,p,h,d,m=b.now,y=b.now;function g(){for(u=firstTimerInRange(b,m,c);u&&m<=c;){if(b.timers[u.id]){m=u.callAt,b.now=u.callAt,f=b.now;try{runJobs(b),callTimer(b,u)}catch(e){l=l||e}if(t)return void originalSetTimeout(p);h()}d()}if(f=b.now,runJobs(b),f!==b.now&&(m+=b.now-f,c+=b.now-f),b.duringTick=!1,u=firstTimerInRange(b,m,c))try{b.tick(c-b.now)}catch(e){l=l||e}else b.now=c,v=a;if(l)throw l;if(!t)return b.now;n(b.now)}return b.duringTick=!0,f=b.now,runJobs(b),f!==b.now&&(m+=b.now-f,c+=b.now-f),p=t&&function(){try{h(),d(),g()}catch(e){r(e)}},h=function(){f!==b.now&&(m+=b.now-f,c+=b.now-f,y+=b.now-f)},d=function(){u=firstTimerInRange(b,y,c),y=m},g()}if(b.Date.clock=b,hrtimeBigintPresent&&(t.bigint=function(){var e=t();return BigInt(e[0])*BigInt(1e9)+BigInt(e[1])}),b.requestIdleCallback=function(e,t){var n=0;0<b.countTimers()&&(n=50);var r=addTimer(b,{func:e,args:Array.prototype.slice.call(arguments,2),delay:void 0===t?n:Math.min(t,n)});return r.id||r},b.cancelIdleCallback=function(e){return clearTimer(b,e,"Timeout")},b.setTimeout=function(e,t){return addTimer(b,{func:e,args:Array.prototype.slice.call(arguments,2),delay:t})},b.clearTimeout=function(e){return clearTimer(b,e,"Timeout")},b.nextTick=function(e){return enqueueJob(b,{func:e,args:Array.prototype.slice.call(arguments,1)})},b.queueMicrotask=function(e){return b.nextTick(e)},b.setInterval=function(e,t){return t=parseInt(t,10),addTimer(b,{func:e,args:Array.prototype.slice.call(arguments,2),delay:t,interval:t})},b.clearInterval=function(e){return clearTimer(b,e,"Interval")},setImmediatePresent&&(b.setImmediate=function(e){return addTimer(b,{func:e,args:Array.prototype.slice.call(arguments,1),immediate:!0})},b.clearImmediate=function(e){return clearTimer(b,e,"Immediate")}),b.countTimers=function(){return Object.keys(b.timers||{}).length+(b.jobs||[]).length},b.requestAnimationFrame=function(e){var t=addTimer(b,{func:e,delay:n(),args:[b.now+n()],animation:!0});return t.id||t},b.cancelAnimationFrame=function(e){return clearTimer(b,e,"AnimationFrame")},b.runMicrotasks=function(){runJobs(b)},b.tick=function(e){return r(e,!1)},void 0!==_global.Promise&&(b.tickAsync=function(n){return new _global.Promise(function(e,t){originalSetTimeout(function(){try{r(n,!0,e,t)}catch(e){t(e)}})})}),b.next=function(){runJobs(b);var e=firstTimer(b);if(!e)return b.now;b.duringTick=!0;try{return b.now=e.callAt,callTimer(b,e),runJobs(b),b.now}finally{b.duringTick=!1}},void 0!==_global.Promise&&(b.nextAsync=function(){return new _global.Promise(function(n,r){originalSetTimeout(function(){try{var t,e=firstTimer(b);if(!e)return void n(b.now);b.duringTick=!0,b.now=e.callAt;try{callTimer(b,e)}catch(e){t=e}b.duringTick=!1,originalSetTimeout(function(){t?r(t):n(b.now)})}catch(e){r(e)}})})}),b.runAll=function(){var e;for(runJobs(b),e=0;e<b.loopLimit;e++){if(!b.timers)return b.now;if(0===keys(b.timers).length)return b.now;b.next()}throw new Error("Aborting after running "+b.loopLimit+" timers, assuming an infinite loop!")},b.runToFrame=function(){return b.tick(n())},void 0!==_global.Promise&&(b.runAllAsync=function(){return new _global.Promise(function(t,n){var r=0;!function e(){originalSetTimeout(function(){try{if(r<b.loopLimit)return b.timers?0===Object.keys(b.timers).length?void t(b.now):(b.next(),r++,void e()):void t(b.now);n(new Error("Aborting after running "+b.loopLimit+" timers, assuming an infinite loop!"))}catch(e){n(e)}})}()})}),b.runToLast=function(){var e=lastTimer(b);return e?b.tick(e.callAt-b.now):(runJobs(b),b.now)},void 0!==_global.Promise&&(b.runToLastAsync=function(){return new _global.Promise(function(t,n){originalSetTimeout(function(){try{var e=lastTimer(b);e||t(b.now),t(b.tickAsync(e.callAt))}catch(e){n(e)}})})}),b.reset=function(){v=0,b.timers={},b.jobs=[],b.now=a},b.setSystemTime=function(e){var t,n,r=getEpoch(e),o=r-b.now;for(t in c[0]=c[0]+o,c[1]=c[1]+v,b.now=r,v=0,b.timers)b.timers.hasOwnProperty(t)&&((n=b.timers[t]).createdAt+=o,n.callAt+=o)},performancePresent){if(b.performance=Object.create(null),hasPerformancePrototype){var o=_global.Performance.prototype;Object.getOwnPropertyNames(o).forEach(function(e){0===e.indexOf("getEntries")?b.performance[e]=NOOP_ARRAY:b.performance[e]=NOOP})}b.performance.now=function(){var e=t();return 1e3*e[0]+e[1]/1e6}}return hrtimePresent&&(b.hrtime=t),b}function install(e){if(1<arguments.length||e instanceof Date||Array.isArray(e)||"number"==typeof e)throw new TypeError("lolex.install called with "+String(e)+" lolex 2.0+ requires an object parameter - see https://github.com/sinonjs/lolex");var t,n;(e=void 0!==e?e:{}).shouldAdvanceTime=e.shouldAdvanceTime||!1,e.advanceTimeDelta=e.advanceTimeDelta||20;var r=e.target||_global,o=createClock(e.now,e.loopLimit);for(o.uninstall=function(){return uninstall(o,r,e)},o.methods=e.toFake||[],0===o.methods.length&&(o.methods=keys(timers).filter(function(e){return"nextTick"!==e&&"queueMicrotask"!==e})),t=0,n=o.methods.length;t<n;t++)if("hrtime"===o.methods[t])r.process&&"function"==typeof r.process.hrtime&&hijackMethod(r.process,o.methods[t],o);else if("nextTick"===o.methods[t])r.process&&"function"==typeof r.process.nextTick&&hijackMethod(r.process,o.methods[t],o);else{if("setInterval"===o.methods[t]&&!0===e.shouldAdvanceTime){var i=doIntervalTick.bind(null,o,e.advanceTimeDelta),s=r[o.methods[t]](i,e.advanceTimeDelta);o.attachedInterval=s}hijackMethod(r,o.methods[t],o)}return o}return{timers:timers,createClock:createClock,install:install,withGlobal:withGlobal}}var defaultImplementation=withGlobal(globalObject);exports.timers=defaultImplementation.timers,exports.createClock=defaultImplementation.createClock,exports.install=defaultImplementation.install,exports.withGlobal=withGlobal},{"@sinonjs/commons":44}],87:[function(e,t,n){"use strict";var r=setTimeout;t.exports=function(i){return(i=i||{}).hasOwnProperty("logger")||(i.logger=function(){}),i.hasOwnProperty("useImmediateExceptions")||(i.useImmediateExceptions=!0),i.hasOwnProperty("setTimeout")||(i.setTimeout=r),function(e,t){var n=e+" threw exception: ",r={name:t.name||e,message:t.message||t.toString(),stack:t.stack};function o(){throw r.message=n+r.message,r}i.logger(n+"["+r.name+"] "+r.message),r.stack&&i.logger(r.stack),i.useImmediateExceptions?o():i.setTimeout(o,0)}}},{}],88:[function(e,t,n){"use strict";var r=e("./event");function o(e,t,n){this.initEvent(e,!1,!1,n),this.detail=t.detail||null}(o.prototype=new r).constructor=o,t.exports=o},{"./event":90}],89:[function(e,t,n){"use strict";function i(e){return e!==Object(e)?{capture:Boolean(e),once:!1,passive:!1}:{capture:Boolean(e.capture),once:Boolean(e.once),passive:Boolean(e.passive)}}function s(t,n){return function(e){return e.capture===n&&e.listener===t}}var r={addEventListener:function(e,t,n){var r=i(n);null!=t&&(this.eventListeners=this.eventListeners||{},this.eventListeners[e]=this.eventListeners[e]||[],this.eventListeners[e].some(s(t,r.capture))||this.eventListeners[e].push({listener:t,capture:r.capture,once:r.once}))},removeEventListener:function(e,t,n){if(this.eventListeners&&this.eventListeners[e]){var r,o=i(n);this.eventListeners[e]=this.eventListeners[e].filter((r=s(t,o.capture),function(){return!r.apply(this,arguments)}))}},dispatchEvent:function(n){if(!this.eventListeners||!this.eventListeners[n.type])return Boolean(n.defaultPrevented);var r=this,e=n.type,t=r.eventListeners[e];return r.eventListeners[e]=t.filter(function(e){return!e.once}),t.forEach(function(e){var t=e.listener;"function"==typeof t?t.call(r,n):t.handleEvent(n)}),Boolean(n.defaultPrevented)}};t.exports=r},{}],90:[function(e,t,n){"use strict";function r(e,t,n,r){this.initEvent(e,t,n,r)}r.prototype={initEvent:function(e,t,n,r){this.type=e,this.bubbles=t,this.cancelable=n,this.target=r,this.currentTarget=r},stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}},t.exports=r},{}],91:[function(e,t,n){"use strict";t.exports={Event:e("./event"),ProgressEvent:e("./progress-event"),CustomEvent:e("./custom-event"),EventTarget:e("./event-target")}},{"./custom-event":88,"./event":90,"./event-target":89,"./progress-event":92}],92:[function(e,t,n){"use strict";var r=e("./event");function o(e,t,n){this.initEvent(e,!1,!1,n),this.loaded="number"==typeof t.loaded?t.loaded:null,this.total="number"==typeof t.total?t.total:null,this.lengthComputable=!!t.total}(o.prototype=new r).constructor=o,t.exports=o},{"./event":90}],93:[function(e,t,n){"use strict";var i=e("lolex"),s=e("./index");function r(){}r.prototype=s;var o=new r;o.addRequest=function(e){if(e.async&&("object"==typeof setTimeout.clock?this.clock=setTimeout.clock:(this.clock=i.install(),this.resetClock=!0),!this.longestTimeout)){var n=this.clock.setTimeout,r=this.clock.setInterval,o=this;this.clock.setTimeout=function(e,t){return o.longestTimeout=Math.max(t,o.longestTimeout||0),n.apply(this,arguments)},this.clock.setInterval=function(e,t){return o.longestTimeout=Math.max(t,o.longestTimeout||0),r.apply(this,arguments)}}return s.addRequest.call(this,e)},o.respond=function(){var e=s.respond.apply(this,arguments);return this.clock&&(this.clock.tick(this.longestTimeout||0),this.longestTimeout=0,this.resetClock&&(this.clock.uninstall(),this.resetClock=!1)),e},o.restore=function(){return this.clock&&this.clock.uninstall(),s.restore.apply(this,arguments)},t.exports=o},{"./index":95,lolex:86}],94:[function(e,t,n){"use strict";var r=e("@sinonjs/formatio").configure({quoteStrings:!1,limitChildrenCount:250});t.exports=function(){return r.ascii.apply(r,arguments)}},{"@sinonjs/formatio":56}],95:[function(e,t,n){"use strict";var r=e("../fake-xhr"),o=[].push,i=e("./format"),s=e("../configure-logger"),a=e("path-to-regexp"),c="undefined"!=typeof ArrayBuffer;function u(e){var t=e;if("[object Array]"!==Object.prototype.toString.call(e)&&(t=[200,{},e]),"string"!=typeof t[2]){if(!c)throw new TypeError("Fake server response body should be a string, but was "+typeof t[2]);if(!(t[2]instanceof ArrayBuffer))throw new TypeError("Fake server response body should be a string or ArrayBuffer, but was "+typeof t[2])}return t}function d(){return{host:"localhost",protocol:"http"}}function l(e,t){var n,r,o,i,s,a,c,u="undefined"==typeof window?d():void 0!==window.location?window.location:void 0!==window.window&&void 0!==window.window.location?window.window.location:d(),l=new RegExp("^"+u.protocol+"//"+u.host),f=t.url;if(/^https?:\/\//.test(f)&&!l.test(f)||(f=f.replace(l,"")),n=e,r=this.getHTTPMethod(t),o=f,i=n.method,s=!i||i.toLowerCase()===r.toLowerCase(),a=n.url,c=!a||a===o||"function"==typeof a.test&&a.test(o),s&&c){if("function"!=typeof e.response)return!0;var p=e.url,h=[t].concat(p&&"function"==typeof p.exec?p.exec(f).slice(1):[]);return e.response.apply(e,h)}return!1}var f={create:function(e){var t=Object.create(this);return t.configure(e),this.xhr=r.useFakeXMLHttpRequest(),t.requests=[],t.requestCount=0,t.queue=[],t.responses=[],this.xhr.onCreate=function(e){e.unsafeHeadersEnabled=function(){return!(!1===t.unsafeHeadersEnabled)},t.addRequest(e)},t},configure:function(t){var n=this,r={autoRespond:!0,autoRespondAfter:!0,respondImmediately:!0,fakeHTTPMethods:!0,logger:!0,unsafeHeadersEnabled:!0};t=t||{},Object.keys(t).forEach(function(e){e in r&&(n[e]=t[e])}),n.logError=s(t)},addRequest:function(e){var t=this;o.call(this.requests,e),function(){var e=++this.requestCount;this.requested=!0,this.requestedOnce=1==e,this.requestedTwice=2==e,this.requestedThrice=3==e,this.firstRequest=this.getRequest(0),this.secondRequest=this.getRequest(1),this.thirdRequest=this.getRequest(2),this.lastRequest=this.getRequest(e-1)}.call(this),e.onSend=function(){t.handleRequest(this),t.respondImmediately?t.respond():t.autoRespond&&!t.responding&&(setTimeout(function(){t.responding=!1,t.respond()},t.autoRespondAfter||10),t.responding=!0)}},getHTTPMethod:function(e){if(this.fakeHTTPMethods&&/post/i.test(e.method)){var t=(e.requestBody||"").match(/_method=([^\b;]+)/);return t?t[1]:e.method}return e.method},handleRequest:function(e){e.async?o.call(this.queue,e):this.processRequest(e)},logger:function(){},logError:s({}),log:function(e,t){var n;n="Request:\n"+i(t)+"\n\n",n+="Response:\n"+i(e)+"\n\n","function"==typeof this.logger&&this.logger(n)},respondWith:function(e,t,n){1!==arguments.length||"function"==typeof e?(1===arguments.length&&(n=e,t=e=null),2===arguments.length&&(n=t,t=e,e=null),o.call(this.responses,{method:e,url:"string"==typeof t&&""!==t?a(t):t,response:"function"==typeof n?n:u(n)})):this.response=u(e)},respond:function(){0<arguments.length&&this.respondWith.apply(this,arguments);var e=this.queue||[],t=e.splice(0,e.length),n=this;t.forEach(function(e){n.processRequest(e)})},respondAll:function(){var e;if(!this.respondImmediately)for(this.queue=this.requests.slice(0);e=this.queue.shift();)this.processRequest(e)},processRequest:function(e){try{if(e.aborted)return;var t=this.response||[404,{},""];if(this.responses)for(var n=this.responses.length-1;0<=n;n--)if(l.call(this,this.responses[n],e)){t=this.responses[n].response;break}4!==e.readyState&&(this.log(t,e),e.respond(t[0],t[1],t[2]))}catch(e){this.logError("Fake server request processing",e)}},restore:function(){return this.xhr.restore&&this.xhr.restore.apply(this.xhr,arguments)},getRequest:function(e){return this.requests[e]||null},reset:function(){this.resetBehavior(),this.resetHistory()},resetBehavior:function(){this.responses.length=this.queue.length=0},resetHistory:function(){this.requests.length=this.requestCount=0,this.requestedOnce=this.requestedTwice=this.requestedThrice=this.requested=!1,this.firstRequest=this.secondRequest=this.thirdRequest=this.lastRequest=null}};t.exports=f},{"../configure-logger":87,"../fake-xhr":97,"./format":94,"path-to-regexp":99}],96:[function(e,t,n){"use strict";n.isSupported=function(){try{return!!new Blob}catch(e){return!1}}()},{}],97:[function(e,t,n){"use strict";var r="undefined"!=typeof TextEncoder?TextEncoder:e("@sinonjs/text-encoding").TextEncoder,o=e("@sinonjs/commons").global,l=e("../configure-logger"),f=e("../event"),p=e("just-extend"),h="undefined"!=typeof ProgressEvent,d="undefined"!=typeof CustomEvent,m="undefined"!=typeof FormData,y="undefined"!=typeof ArrayBuffer,g=e("./blob").isSupported;var v={"Accept-Charset":!0,"Access-Control-Request-Headers":!0,"Access-Control-Request-Method":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,DNT:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Origin:!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};function b(){var r=this;["loadstart","progress","abort","error","load","timeout","loadend"].forEach(function(n){r.addEventListener(n,function(e){var t=r["on"+n];t&&"function"==typeof t&&t.call(this,e)})})}function w(e,t){return Object.keys(e).filter(function(e){return e.toLowerCase()===t.toLowerCase()})[0]||null}function x(e){return!/^Set-Cookie2?$/i.test(e)}function k(e,t){return e instanceof ArrayBuffer?e:new r(t||"utf-8").encode(e).buffer}function j(e){return!e||/(text\/xml)|(application\/xml)|(\+xml)/.test(e)}function E(e){""===e.responseType||"text"===e.responseType?e.response=e.responseText="":e.response=e.responseText=null,e.responseXML=null}function i(t){var e,n=t.navigator&&"ReactNative"===t.navigator.product,s={XMLHttpRequest:t.XMLHttpRequest};function a(e){b.call(this),this.readyState=a.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new b,this.responseType="",this.response="",this.logError=l(e),s.supportsTimeout&&(this.timeout=0),s.supportsCORS&&(this.withCredentials=!1),"function"==typeof a.onCreate&&a.onCreate(this)}function c(e){if(e.readyState!==a.OPENED)throw new Error("INVALID_STATE_ERR");if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}s.GlobalXMLHttpRequest=t.XMLHttpRequest,s.GlobalActiveXObject=t.ActiveXObject,s.supportsActiveX=void 0!==s.GlobalActiveXObject,s.supportsXHR=void 0!==s.GlobalXMLHttpRequest,s.workingXHR=void 0!==(e=t).XMLHttpRequest?e.XMLHttpRequest:void 0!==e.ActiveXObject&&function(){return new e.ActiveXObject("MSXML2.XMLHTTP.3.0")},s.supportsTimeout=s.supportsXHR&&"timeout"in new s.GlobalXMLHttpRequest,s.supportsCORS=n||s.supportsXHR&&"withCredentials"in new s.GlobalXMLHttpRequest;function u(e,t,n){switch(n.length){case 0:return e[t]();case 1:return e[t](n[0]);case 2:return e[t](n[0],n[1]);case 3:return e[t](n[0],n[1],n[2]);case 4:return e[t](n[0],n[1],n[2],n[3]);case 5:return e[t](n[0],n[1],n[2],n[3],n[4]);default:throw new Error("Unhandled case")}}function r(e){if(e.readyState!==a.OPENED)throw new Error("INVALID_STATE_ERR - "+e.readyState)}function o(e){E(e),e.errorFlag=!0,e.requestHeaders={},e.responseHeaders={},e.readyState!==a.UNSENT&&e.sendFlag&&e.readyState!==a.DONE&&(e.readyStateChange(a.DONE),e.sendFlag=!1)}a.filters=[],a.addFilter=function(e){this.filters.push(e)},a.defake=function(n,e){var r=new s.workingXHR;["open","setRequestHeader","abort","getResponseHeader","getAllResponseHeaders","addEventListener","overrideMimeType","removeEventListener"].forEach(function(e){n[e]=function(){return u(r,e,arguments)}}),n.send=function(){return r.responseType!==n.responseType&&(r.responseType=n.responseType),u(r,"send",arguments)};function t(e){e.forEach(function(e){n[e]=r[e]})}function o(){n.readyState=r.readyState,r.readyState>=a.HEADERS_RECEIVED&&t(["status","statusText"]),r.readyState>=a.LOADING&&(t(["response"]),""!==r.responseType&&"text"!==r.responseType||t(["responseText"])),r.readyState!==a.DONE||""!==r.responseType&&"document"!==r.responseType||t(["responseXML"])}function i(){n.onreadystatechange&&n.onreadystatechange.call(n,{target:n,currentTarget:n})}r.addEventListener?(r.addEventListener("readystatechange",o),Object.keys(n.eventListeners).forEach(function(t){n.eventListeners[t].forEach(function(e){r.addEventListener(t,e.listener,{capture:e.capture,once:e.once})})}),r.addEventListener("readystatechange",i)):r.onreadystatechange=function(){o(),i()},u(r,"open",e)},a.useFilters=!1,a.parseXML=function(e){if(""!==e)try{if("undefined"!=typeof DOMParser){var t,n=new DOMParser,r="";try{var o=n.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror");o.length&&(r=o[0].namespaceURI)}catch(e){}try{t=n.parseFromString(e,"text/xml")}catch(e){return null}return t.getElementsByTagNameNS(r,"parsererror").length?null:t}var i=new window.ActiveXObject("Microsoft.XMLDOM");return i.async="false",i.loadXML(e),0!==i.parseError.errorCode?null:i}catch(e){}return null},a.statusCodes={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"},p(a.prototype,f.EventTarget,{async:!0,open:function(e,t,n,r,o){if(this.method=e,this.url=t,this.async="boolean"!=typeof n||n,this.username=r,this.password=o,E(this),this.requestHeaders={},!(this.sendFlag=!1)===a.useFilters){var i=arguments;if(a.filters.some(function(e){return e.apply(this,i)}))return void a.defake(this,arguments)}this.readyStateChange(a.OPENED)},readyStateChange:function(e){this.readyState=e;var t,n,r=new f.Event("readystatechange",!1,!1,this);if("function"==typeof this.onreadystatechange)try{this.onreadystatechange(r)}catch(e){this.logError("Fake XHR onreadystatechange handler",e)}this.readyState===a.DONE&&(t=this.timedOut||this.aborted||0===this.status?(n={loaded:0,total:0},(this.timedOut?"timeout":this.aborted&&"abort")||"error"):(n={loaded:100,total:100},"load"),h&&(this.upload.dispatchEvent(new f.ProgressEvent("progress",n,this)),this.upload.dispatchEvent(new f.ProgressEvent(t,n,this)),this.upload.dispatchEvent(new f.ProgressEvent("loadend",n,this))),this.dispatchEvent(new f.ProgressEvent("progress",n,this)),this.dispatchEvent(new f.ProgressEvent(t,n,this)),this.dispatchEvent(new f.ProgressEvent("loadend",n,this))),this.dispatchEvent(r)},setRequestHeader:function(e,t){if("string"!=typeof t)throw new TypeError("By RFC7230, section 3.2.4, header values should be strings. Got "+typeof t);c(this);var n=!0;if("function"==typeof this.unsafeHeadersEnabled&&(n=this.unsafeHeadersEnabled()),n&&(null!==w(v,e)||/^(Sec-|Proxy-)/i.test(e)))throw new Error('Refused to set unsafe header "'+e+'"');t=t.replace(/^[\x09\x0A\x0D\x20]+|[\x09\x0A\x0D\x20]+$/g,"");var r=w(this.requestHeaders,e);r?this.requestHeaders[r]+=", "+t:this.requestHeaders[e]=t},setStatus:function(e){var t="number"==typeof e?e:200;r(this),this.status=t,this.statusText=a.statusCodes[t]},setResponseHeaders:function(t){r(this);var n=this.responseHeaders={};Object.keys(t).forEach(function(e){n[e]=t[e]}),this.async?this.readyStateChange(a.HEADERS_RECEIVED):this.readyState=a.HEADERS_RECEIVED},send:function(e){if(c(this),!/^(head)$/i.test(this.method)){var t=w(this.requestHeaders,"Content-Type");if(this.requestHeaders[t]){var n=this.requestHeaders[t].split(";");this.requestHeaders[t]=n[0]+";charset=utf-8"}else!m||e instanceof FormData||(this.requestHeaders["Content-Type"]="text/plain;charset=utf-8");this.requestBody=e}if(this.errorFlag=!1,this.sendFlag=this.async,E(this),"function"==typeof this.onSend&&this.onSend(this),s.supportsTimeout&&"object"==typeof setInterval.clock&&"object"==typeof Date.clock)var r=Date.now(),o=this,i=setInterval(function(){o.readyState===a.UNSENT||o.readyState===a.DONE?clearInterval(i):"number"==typeof o.timeout&&0<o.timeout&&Date.now()>=r+o.timeout&&(o.triggerTimeout(),clearInterval(i))},1);this.dispatchEvent(new f.Event("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,o(this),this.readyState=a.UNSENT},error:function(){E(this),this.errorFlag=!0,this.requestHeaders={},this.responseHeaders={},this.readyStateChange(a.DONE)},triggerTimeout:function(){s.supportsTimeout&&(this.timedOut=!0,o(this))},getResponseHeader:function(e){return this.readyState<a.HEADERS_RECEIVED?null:/^Set-Cookie2?$/i.test(e)?null:(e=w(this.responseHeaders,e),this.responseHeaders[e]||null)},getAllResponseHeaders:function(){if(this.readyState<a.HEADERS_RECEIVED)return"";var n=this.responseHeaders;return Object.keys(n).filter(x).reduce(function(e,t){return e+(t+": ")+n[t]+"\r\n"},"")},setResponseBody:function(e){!function(e){if(e.readyState===a.DONE)throw new Error("Request done")}(this),function(e){if(e.async&&e.readyState!==a.HEADERS_RECEIVED)throw new Error("No headers received")}(this),function(e,t){var n=null,r="string"==typeof e;if("arraybuffer"===t?r||e instanceof ArrayBuffer||((n=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string or ArrayBuffer.")).name="InvalidBodyException"):r||((n=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.")).name="InvalidBodyException"),n)throw n}(e,this.responseType);var t=this.overriddenMimeType||this.getResponseHeader("Content-Type"),n=""===this.responseType||"text"===this.responseType;if(E(this),this.async)for(var r=this.chunkSize||10,o=0;this.readyStateChange(a.LOADING),n&&(this.responseText=this.response+=e.substring(o,o+r)),(o+=r)<e.length;);this.response=function(e,t,n){if(""===e||"text"===e)return n;if(y&&"arraybuffer"===e)return k(n);if("json"===e)try{return JSON.parse(n)}catch(e){return null}else{if(g&&"blob"===e){var r={};return t&&(r.type=t),new Blob([k(n)],r)}if("document"===e)return j(t)?a.parseXML(n):null}throw new Error("Invalid responseType "+e)}(this.responseType,t,e),n&&(this.responseText=this.response),"document"===this.responseType?this.responseXML=this.response:""===this.responseType&&j(t)&&(this.responseXML=a.parseXML(this.responseText)),this.readyStateChange(a.DONE)},respond:function(e,t,n){this.setStatus(e),this.setResponseHeaders(t||{}),this.setResponseBody(n||"")},uploadProgress:function(e){h&&this.upload.dispatchEvent(new f.ProgressEvent("progress",e,this.upload))},downloadProgress:function(e){h&&this.dispatchEvent(new f.ProgressEvent("progress",e,this))},uploadError:function(e){d&&this.upload.dispatchEvent(new f.CustomEvent("error",{detail:e}))},overrideMimeType:function(e){if(this.readyState>=a.LOADING)throw new Error("INVALID_STATE_ERR");this.overriddenMimeType=e}});var i={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};return p(a,i),p(a.prototype,i),{xhr:s,FakeXMLHttpRequest:a,useFakeXMLHttpRequest:function(){return a.restore=function(e){s.supportsXHR&&(t.XMLHttpRequest=s.GlobalXMLHttpRequest),s.supportsActiveX&&(t.ActiveXObject=s.GlobalActiveXObject),delete a.restore,!0!==e&&delete a.onCreate},s.supportsXHR&&(t.XMLHttpRequest=a),s.supportsActiveX&&(t.ActiveXObject=function(e){return"Microsoft.XMLHTTP"===e||/^Msxml2\.XMLHTTP/i.test(e)?new a:new s.GlobalActiveXObject(e)}),a}}}b.prototype=f.EventTarget,t.exports=p(i(o),{fakeXMLHttpRequestFor:i})},{"../configure-logger":87,"../event":91,"./blob":96,"@sinonjs/commons":44,"@sinonjs/text-encoding":81,"just-extend":84}],98:[function(e,t,n){"use strict";t.exports={fakeServer:e("./fake-server"),fakeServerWithClock:e("./fake-server/fake-server-with-clock"),fakeXhr:e("./fake-xhr")}},{"./fake-server":95,"./fake-server/fake-server-with-clock":93,"./fake-xhr":97}],99:[function(e,t,n){var p=e("isarray");t.exports=a,t.exports.parse=i,t.exports.compile=function(e,t){return r(i(e,t),t)},t.exports.tokensToFunction=r,t.exports.tokensToRegExp=s;var j=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],o=0,i=0,s="",a=t&&t.delimiter||"/";null!=(n=j.exec(e));){var c=n[0],u=n[1],l=n.index;if(s+=e.slice(i,l),i=l+c.length,u)s+=u[1];else{var f=e[i],p=n[2],h=n[3],d=n[4],m=n[5],y=n[6],g=n[7];s&&(r.push(s),s="");var v=null!=p&&null!=f&&f!==p,b="+"===y||"*"===y,w="?"===y||"*"===y,x=n[2]||a,k=d||m;r.push({name:h||o++,prefix:p||"",delimiter:x,optional:w,repeat:b,partial:v,asterisk:!!g,pattern:k?k.replace(/([=!:$\/()])/g,"\\$1"):g?".*":"[^"+E(x)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&r.push(s),r}function h(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function r(l,e){for(var f=new Array(l.length),t=0;t<l.length;t++)"object"==typeof l[t]&&(f[t]=new RegExp("^(?:"+l[t].pattern+")$",m(e)));return function(e,t){for(var n="",r=e||{},o=(t||{}).pretty?h:encodeURIComponent,i=0;i<l.length;i++){var s=l[i];if("string"!=typeof s){var a,c=r[s.name];if(null==c){if(s.optional){s.partial&&(n+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(p(c)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<c.length;u++){if(a=o(c[u]),!f[i].test(a))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(a)+"`");n+=(0===u?s.prefix:s.delimiter)+a}}else{if(a=s.asterisk?encodeURI(c).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):o(c),!f[i].test(a))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+a+'"');n+=s.prefix+a}}else n+=s}return n}}function E(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(e,t){return e.keys=t,e}function m(e){return e&&e.sensitive?"":"i"}function s(e,t,n){p(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",s=0;s<e.length;s++){var a=e[s];if("string"==typeof a)i+=E(a);else{var c=E(a.prefix),u="(?:"+a.pattern+")";t.push(a),a.repeat&&(u+="(?:"+c+u+")*"),i+=u=a.optional?a.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")"}}var l=E(n.delimiter||"/"),f=i.slice(-l.length)===l;return r||(i=(f?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&f?"":"(?="+l+"|$)",d(new RegExp("^"+i,m(n)),t)}function a(e,t,n){return p(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):p(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(a(e[o],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",m(n)),t)}(e,t,n):(r=t,s(i(e,o=n),r,o));var r,o}},{isarray:83}],100:[function(e,t,n){"use strict";t.exports={stdout:!1,stderr:!1}},{}],101:[function(e,t,n){var r,o;r=this,o=function(){"use strict";var o="function"==typeof Promise,i="object"==typeof self?self:global,e="undefined"!=typeof Symbol,s="undefined"!=typeof Map,a="undefined"!=typeof Set,c="undefined"!=typeof WeakMap,u="undefined"!=typeof WeakSet,l="undefined"!=typeof DataView,t=e&&void 0!==Symbol.iterator,f=e&&void 0!==Symbol.toStringTag,n=a&&"function"==typeof Set.prototype.entries,r=s&&"function"==typeof Map.prototype.entries,p=n&&Object.getPrototypeOf((new Set).entries()),h=r&&Object.getPrototypeOf((new Map).entries()),d=t&&"function"==typeof Array.prototype[Symbol.iterator],m=d&&Object.getPrototypeOf([][Symbol.iterator]()),y=t&&"function"==typeof String.prototype[Symbol.iterator],g=y&&Object.getPrototypeOf(""[Symbol.iterator]());return function(e){var t=typeof e;if("object"!=t)return t;if(null===e)return"null";if(e===i)return"global";if(Array.isArray(e)&&(!1==f||!(Symbol.toStringTag in e)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&e===window.location)return"Location";if("object"==typeof window.document&&e===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var n=f&&e[Symbol.toStringTag];if("string"==typeof n)return n;var r=Object.getPrototypeOf(e);return r===RegExp.prototype?"RegExp":r===Date.prototype?"Date":o&&r===Promise.prototype?"Promise":a&&r===Set.prototype?"Set":s&&r===Map.prototype?"Map":u&&r===WeakSet.prototype?"WeakSet":c&&r===WeakMap.prototype?"WeakMap":l&&r===DataView.prototype?"DataView":s&&r===h?"Map Iterator":a&&r===p?"Set Iterator":d&&r===m?"Array Iterator":y&&r===g?"String Iterator":null===r?"Object":Object.prototype.toString.call(e).slice(8,-1)}},"object"==typeof n&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):r.typeDetect=o()},{}]},{},[1])(1)});