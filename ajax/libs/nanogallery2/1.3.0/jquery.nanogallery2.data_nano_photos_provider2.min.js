/* nanogallery2 - v1.3.0 - 2017-05-11 - http://nanogallery2.nanostudio.org */
/**!
 * @preserve nanogallery2 - NANOPHOTOSPROVIDER data provider
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
*/
!function(a){jQuery.nanogallery2.data_nano_photos_provider2=function(a,b){function c(a){return decodeURIComponent(a)}function d(a,b){var d=!1;jQuery.each(b.album_content,function(a,e){var g=e.title,h=f.O.dataProvider.substring(0,f.O.dataProvider.indexOf("nano_photos_provider2.php")),i=h+c(e.src);""!=f.O.thumbnailLabel.get("title")&&(g=GetImageTitle(e.src));var k=e.description,l="image";void 0!==e.kind&&e.kind.length>0&&(l=e.kind);var m=null;void 0!==e.ID&&(m=e.ID);var n=!0;if("album"==l&&(j(g,m)||(n=!1)),n){var o=0;void 0!==e.albumID&&(o=e.albumID,d=!0);var p=NGY2Item.New(f,g,k,m,o,l,"");p.src=i,void 0!==e.dcGIF&&(p.imageDominantColors="data:image/gif;base64,"+e.dcGIF),void 0!==e.dc&&""!==e.dc&&(p.imageDominantColor=e.dc),"album"==l?p.numberItems=e.cnt:(p.imageWidth=e.imgWidth,p.imageHeight=e.imgHeight);for(var q=f.GOM.curNavLevel,r=["xs","sm","me","la","xl"],s=0;s<r.length;s++)p.thumbs.url[q][r[s]]=h+c(e.t_url[s]),p.thumbs.width[q][r[s]]=parseInt(e.t_width[s]),p.thumbs.height[q][r[s]]=parseInt(e.t_height[s]);"function"==typeof f.O.fnProcessData&&f.O.fnProcessData(p,"nanophotosprovider",b)}}),f.I[a].contentIsLoaded=!0}function e(){}var f=a,g=function(a,b,c,e){var g=NGY2Item.GetIdx(f,a),j=f.O.dataProvider+"?albumID="+encodeURIComponent(a);j+="&wxs="+f.tn.settings.width[f.GOM.curNavLevel].xs,j+="&hxs="+f.tn.settings.height[f.GOM.curNavLevel].xs,j+="&wsm="+f.tn.settings.width[f.GOM.curNavLevel].sm,j+="&hsm="+f.tn.settings.height[f.GOM.curNavLevel].sm,j+="&wme="+f.tn.settings.width[f.GOM.curNavLevel].me,j+="&hme="+f.tn.settings.height[f.GOM.curNavLevel].me,j+="&wla="+f.tn.settings.width[f.GOM.curNavLevel].la,j+="&hla="+f.tn.settings.height[f.GOM.curNavLevel].la,j+="&wxl="+f.tn.settings.width[f.GOM.curNavLevel].xl,j+="&hxl="+f.tn.settings.height[f.GOM.curNavLevel].xl,h(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var l=setTimeout(function(){h(!1),i("Could not retrieve AJAX data...")},6e4);jQuery.getJSON(j,function(j,m,n){clearTimeout(l),h(!1),d(g,j),"ok"==j.nano_status?(k(a),null!==b&&void 0!==b&&b(c,e,null)):i(f,"Could not retrieve nanoPhotosProvider data. Error: "+j.nano_status+" - "+j.nano_message)}).fail(function(a,b,c){clearTimeout(l),h(!1);var d="";for(var e in a)d+=e+"="+a[e]+"<br>";i(f,"Could not retrieve nanoPhotosProvider data. Error: "+b+", "+c+" "+d+"<br><br>URL:"+j)})}catch(m){i(f,"Could not retrieve nanoPhotosProvider data. Error: "+m)}},h=NGY2Tools.PreloaderDisplay.bind(f),i=NGY2Tools.NanoAlert,j=(NGY2Tools.GetImageTitleFromURL.bind(f),NGY2Tools.FilterAlbumName.bind(f)),k=NGY2Tools.AlbumPostProcess.bind(f);switch(b){case"GetHiddenAlbums":break;case"AlbumGetContent":g(arguments[2],arguments[3],arguments[4],arguments[5]);break;case"Init":e()}}}(jQuery);