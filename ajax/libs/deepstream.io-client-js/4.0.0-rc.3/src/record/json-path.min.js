"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utils=require("../util/utils"),SPLIT_REG_EXP=/[[\]]/g;function get(e,t,n){const l=tokenize(t);let o=e;for(let e=0;e<l.length;e++){if(void 0===o)return;if("object"!=typeof o)throw new Error("invalid data or path");o=o[l[e]]}return!1!==n?utils.deepCopy(o):o}function setValue(e,t,n){if(null===t)return n;const l=tokenize(t),o=utils.deepCopy(e),r=utils.deepCopy(n);let i,u=o;for(i=0;i<l.length-1;i++){const e=l[i];if(void 0!==u[e]&&null!==u[e]&&"object"==typeof u[e])u=u[e];else if("number"==typeof l[i+1]){const t=new Array(l[i+1]);t.fill(null),u=u[e]=t}else u=u[e]={}}return void 0===n?delete u[l[i]]:u[l[i]]=r,o}function tokenize(e){if(null===e)return[];const t=[],n=e.split(".");for(let e=0;e<n.length;e++){const l=n[e].trim();if(0===l.length)continue;const o=l.split(SPLIT_REG_EXP);if(0!==o.length){t.push(o[0]);for(let e=1;e<o.length;e++)0!==o[e].length&&t.push(Number(o[e]))}}return t}exports.get=get,exports.setValue=setValue;