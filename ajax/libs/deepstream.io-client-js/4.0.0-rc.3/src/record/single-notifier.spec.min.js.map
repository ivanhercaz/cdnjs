{"version":3,"sources":["single-notifier.spec.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","bluebird_1","require","sinon_1","mocks_1","constants_1","message_constants_1","single_notifier_1","describe","action","RECORD_ACTIONS","READ","name","topic","TOPIC","RECORD","services","singleNotifier","callbackSpy","beforeEach","getServicesMock","SingleNotifier","spy","afterEach","verify","it","message","connectionMock","expects","once","withExactArgs","timeoutRegistryMock","request","connection","isConnected","delay","assert","calledOnce","calledWithExactly","EVENT","CLIENT_OFFLINE","MESSAGE_DENIED","isError","recieve","undefined","notCalled","parsedData","some","simulateConnectionLost"],"mappings":"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"}