{"version":3,"sources":["listener.js"],"names":["Object","defineProperty","exports","value","message_constants_1","require","constants_1","Listener","[object Object]","topic","services","this","listeners","Map","stopCallbacks","TOPIC","RECORD","actions","RECORD_ACTIONS","EVENT","EVENT_ACTIONS","connection","onLost","onConnectionLost","bind","onReestablished","onConnectionReestablished","pattern","callback","length","Error","has","logger","warn","action","LISTENER_EXISTS","name","set","sendListen","delete","sendUnlisten","NOT_LISTENING","subscription","sendMessage","LISTEN_ACCEPT","LISTEN_REJECT","message","isAck","timeoutRegistry","remove","SUBSCRIPTION_FOR_PATTERN_FOUND","SUBSCRIPTION_FOR_PATTERN_REMOVED","error","UNSOLICITED_MESSAGE","stopCallback","get","listener","accept","reject","onStop","stop","forEach","clear","LISTEN","add","UNLISTEN"],"mappings":"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"}