"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class TimerRegistry{constructor(t){this.registry=new Map,this.timerIdCounter=0,setInterval(this.triggerTimeouts.bind(this),t)}triggerTimeouts(){const t=Date.now();for(const[e,r]of this.registry)t-r.created>r.duration&&(r.callback.call(r.context,r.data),this.registry.delete(e))}has(t){return this.registry.has(t)}add(t){return this.timerIdCounter++,t.created=Date.now(),this.registry.set(this.timerIdCounter,t),this.timerIdCounter}remove(t){return this.registry.delete(t)}requestIdleCallback(t){setTimeout(t,0)}}exports.TimerRegistry=TimerRegistry;