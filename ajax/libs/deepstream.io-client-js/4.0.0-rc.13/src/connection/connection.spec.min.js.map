{"version":3,"sources":["connection.spec.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","_this","Object","defineProperty","exports","bluebird_1","require","chai_1","sinon_1","connection_1","mocks_1","client_options_1","constants_1","message_constants_1","Emitter","describe","connection","services","options","emitter","emitterMock","socket","socketMock","loggerMock","authCallback","url","authData","password","clientData","name","initialUrl","otherUrl","openConnection","_a","simulateOpen","delay","awaitConnectionAck","expects","once","withExactArgs","EVENT","CONNECTION_STATE_CHANGED","CONNECTION_STATE","AWAITING_CONNECTION","CHALLENGING","expect","to","equal","sendChallenge","topic","TOPIC","CONNECTION","action","CONNECTION_ACTIONS","CHALLENGE","receiveChallengeAccept","AWAITING_AUTHENTICATION","simulateMessages","ACCEPT","receiveChallengeReject","REJECT","sendAuth","AUTHENTICATING","AUTH","AUTH_ACTIONS","REQUEST","parsedData","authenticate","receiveAuthResponse","data","receivedClientData","OPEN","CLIENT_DATA_CHANGED","assign","AUTH_SUCCESSFUL","receiveConnectionError","CONNECTION_ERROR","JSON","stringify","code","simulateError","receiveAuthRejectResponse","AUTH_UNSUCCESSFUL","INVALID_MESSAGE_DATA","loseConnection","RECONNECTING","close","isConnected","getSocketMock","socketService","getSocket","beforeEach","loggerService","getServicesMock","DefaultOptions","heartbeatInterval","reconnectIntervalIncrement","maxReconnectAttempts","maxReconnectInterval","offlineBufferTimeout","mock","Connection","getLogger","spy","afterEach","verify","it","EVENT_ACTIONS","EMIT","sendMessage","CLOSING","closeConnection","CLOSED","simulateRemoteClose","recieveConnectionClose","PONG","PING","HEARTBEAT_TIMEOUT","getTimeSinceLastMessage","REDIRECTING","REDIRECT","receiveRedirect","openConnectionToRedirectedServer","reconnectToInitialServer","CHALLENGE_DENIED","withArgs","IS_CLOSED","assert","callCount","calledOnce","calledWithExactly","reason","INVALID_AUTHENTICATION_DETAILS","TOO_MANY_AUTH_ATTEMPTS","receiveTooManyAuthAttempts","AUTHENTICATION_TIMEOUT","receiveAuthenticationTimeout","sendBadAuthDataAndReceiveError","MAX_RECONNECTION_ATTEMPTS_REACHED","REAUTHENTICATION_FAILURE","receiveChallengeAcceptAndResendAuth","limboSpy","onExitLimbo","isInLimbo"],"mappings":"AAAA,aACA,IAAIA,UAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAC1E,OAAO,IAAWD,EAANA,GAAUE,SAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,IAAW,MAAOG,GAAKL,EAAOK,IACpF,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,IAAW,MAAOG,GAAKL,EAAOK,IACvF,SAASF,EAAKI,GAAUA,EAAOC,KAAOT,EAAQQ,EAAOL,OAAS,IAAIN,EAAE,SAAUG,GAAWA,EAAQQ,EAAOL,SAAWO,KAAKR,EAAWK,GACnIH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,WAGlEO,YAAelB,MAAQA,KAAKkB,aAAgB,SAAUjB,EAASkB,GAC/D,IAAsGC,EAAGC,EAAGC,EAAGC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOK,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEZ,KAAMkB,EAAK,GAAIC,MAASD,EAAK,GAAIE,OAAUF,EAAK,IAAwB,mBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WAAa,OAAOjC,OAAUuB,EACvJ,SAASM,EAAKK,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIhB,EAAG,MAAM,IAAIiB,UAAU,mCAC3B,KAAOb,GAAG,IACN,GAAIJ,EAAI,EAAGC,IAAMC,EAAY,EAARc,EAAG,GAASf,EAAU,OAAIe,EAAG,GAAKf,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEgB,KAAKjB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEgB,KAAKjB,EAAGe,EAAG,KAAKrB,KAAM,OAAOO,EAE3J,OADID,EAAI,EAAGC,IAAGc,EAAK,CAAS,EAARA,EAAG,GAAQd,EAAEb,QACzB2B,EAAG,IACP,KAAK,EAAG,KAAK,EAAGd,EAAIc,EAAI,MACxB,KAAK,EAAc,OAAXZ,EAAEC,QAAgB,CAAEhB,MAAO2B,EAAG,GAAIrB,MAAM,GAChD,KAAK,EAAGS,EAAEC,QAASJ,EAAIe,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKZ,EAAEI,IAAIW,MAAOf,EAAEG,KAAKY,MAAO,SACxC,QACI,KAAkBjB,EAAe,GAA3BA,EAAIE,EAAEG,MAAYa,QAAclB,EAAEA,EAAEkB,OAAS,MAAkB,IAAVJ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEZ,EAAI,EAAG,SACjG,GAAc,IAAVY,EAAG,MAAcd,GAAMc,EAAG,GAAKd,EAAE,IAAMc,EAAG,GAAKd,EAAE,IAAM,CAAEE,EAAEC,MAAQW,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYZ,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIA,EAAIc,EAAI,MAC7D,GAAId,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIE,EAAEI,IAAIa,KAAKL,GAAK,MACvDd,EAAE,IAAIE,EAAEI,IAAIW,MAChBf,EAAEG,KAAKY,MAAO,SAEtBH,EAAKjB,EAAKmB,KAAKrC,EAASuB,GAC1B,MAAOZ,GAAKwB,EAAK,CAAC,EAAGxB,GAAIS,EAAI,EAAK,QAAUD,EAAIE,EAAI,EACtD,GAAY,EAARc,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE3B,MAAO2B,EAAG,GAAKA,EAAG,QAAK,EAAQrB,MAAM,GArB9BL,CAAK,CAACwB,EAAGC,OAwBzDO,MAAQ1C,KACZ2C,OAAOC,eAAeC,QAAS,aAAc,CAAEpC,OAAO,IACtD,IAAIqC,WAAaC,QAAQ,YACrBC,OAASD,QAAQ,QACjBE,QAAUF,QAAQ,SAClBG,aAAeH,QAAQ,gBACvBI,QAAUJ,QAAQ,iBAClBK,iBAAmBL,QAAQ,qBAC3BM,YAAcN,QAAQ,gBACtBO,oBAAsBP,QAAQ,+CAC9BQ,QAAUR,QAAQ,sBACtBS,SAAS,aAAc,WACnB,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAM,kCACNC,EAAW,CAAEC,SAAU,UACvBC,EAAa,CAAEC,KAAM,SAErBC,EAAa,kCACbC,EAAW,kCA2ef,SAASC,IACL,OAAO1E,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAED,OADAqC,EAAOa,eACA,CAAC,EAAa7B,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAK5B,SAASmD,IACL,OAAO9E,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EASD,OARAoC,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBC,qBAC5FvB,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBE,aAC5FrC,OAAOsC,OAAOxB,EAAOI,KAAKqB,GAAGC,MAAMjB,GACnCT,EAAOa,eACA,CAAC,EAAa7B,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAK5B,SAAS+D,IACL,OAAO1F,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EASD,OARAsC,EACKe,QAAQ,qBACRC,OACAC,cAAc,CAAC,CACZU,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmBC,UAC/C7B,IAAKA,KAEN,CAAC,EAAapB,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAK5B,SAASsE,IACL,OAAOjG,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAQD,OAPAoC,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBc,yBAC5FnC,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmBK,UAEhD,CAAC,EAAarD,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAoC5B,SAAS0E,IACL,OAAOrG,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAKD,OAJAqC,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmBO,UAEhD,CAAC,EAAavD,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAK5B,SAAS4E,IACL,OAAOvG,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAaD,OAZAoC,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBoB,gBAC5FxC,EACKe,QAAQ,qBACRC,OACAC,cAAc,CACfU,MAAOpC,oBAAoBqC,MAAMa,KACjCX,OAAQvC,oBAAoBmD,aAAaC,QACzCC,WAAYxC,IAEhBV,EAAWmD,aAAazC,EAAUF,GAC3B,CAAC,EAAanB,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAuC5B,SAASmF,EAAoBC,GACzB,OAAO/G,UAAUC,UAAM,OAAQ,EAAQ,WACnC,IAAI+G,EACJ,OAAO7F,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAaD,OAZAsF,EAAqBD,GAAQzC,EAC7BR,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiB6B,MAC5FnD,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMgC,oBAAqBtE,OAAOuE,OAAO,GAAIH,IAC5EjD,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMa,KACjCX,OAAQvC,oBAAoBmD,aAAaU,gBACzCR,WAAYhE,OAAOuE,OAAO,GAAIH,MAE/B,CAAC,EAAajE,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAmF5B,SAAS0F,IACL,OAAOrH,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAMD,OALAuC,EACKc,QAAQ,SACRC,OACAC,cAAc,CAAEU,MAAOpC,oBAAoBqC,MAAMC,YAAcvC,YAAY4B,MAAMoC,iBAAkBC,KAAKC,UAAU,CAAEC,KAAM,QAC/H1D,EAAO2D,gBACA,CAAC,EAAa3E,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAmD5B,SAASgG,IACL,OAAO3H,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAMD,OALAqC,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMa,KACjCX,OAAQvC,oBAAoBmD,aAAakB,kBACzChB,WAAYrD,oBAAoBmD,aAAamB,wBAE9C,CAAC,EAAa9E,WAAWzC,QAAQuE,MAAM,KAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAK5B,SAASmG,IACL,OAAO9H,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAMD,OALAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiB2C,cAC5FhE,EAAOiE,QACA,CAAC,EAAajF,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAGD,OAFAF,EAAGhD,OACHsB,OAAOsC,OAAO7B,EAAWuE,aAAazC,GAAGC,OAAM,GACxC,CAAC,QAyF5B,SAASyC,IACL,IAAIC,EAAgBxE,EAASyE,YAC7BrE,EAASoE,EAAcpE,OACvBC,EAAamE,EAAcnE,WAj8B/BqE,WAAW,WAm8BX,IACQC,EAn8BJ3E,EAAWP,QAAQmF,kBACnB3E,EAAUhB,OAAOuE,OAAO9D,iBAAiBmF,eAAgB,CACrDC,kBAVgB,GAWhBC,2BARyB,GASzBC,qBARmB,EASnBC,qBARmB,IASnBC,qBARmB,KAUvBhF,EAAU,IAAIL,QACdM,EAAcZ,QAAQ4F,KAAKjF,GAC3BH,EAAa,IAAIP,aAAa4F,WAAWpF,EAAUC,EAASY,EAAYX,GACxEqE,IAw7BII,EAAgB3E,EAASqF,YAC7B/E,EAAaqE,EAAcrE,WAv7B3BC,EAAehB,QAAQ+F,QAE3BC,UAAU,WACNvF,EAASwF,SACTrF,EAAYqF,SACZlF,EAAWkF,WAEfC,GAAG,yBAA0B,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WAC/E,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAAG,MAAO,CAAC,EAAaoD,KAC7B,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KACzB,KAAK,EAED,OADAtB,EAAGhD,OACI,CAAC,EAAa4E,KACzB,KAAK,EAED,OADA5B,EAAGhD,OACI,CAAC,EAAamF,KACzB,KAAK,EAED,OADAnC,EAAGhD,OACI,CAAC,EAgpBxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAMD,OALAqC,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMV,MACjCY,OAAQvC,oBAAoB8F,cAAcC,KAC1C/E,KAAM,YAEP,CAAC,EAAaxB,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QA7pBS4H,IACzB,KAAK,EAED,OADA5E,EAAGhD,OACI,CAAC,EA+pBxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAYD,OAXAoC,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBoE,SAC5FxF,EACKe,QAAQ,qBACRC,OACAC,cAAc,CACfU,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmByD,UAEnD9F,EAAWsE,QACJ,CAAC,EAAajF,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAlrBS8H,IACzB,KAAK,EAED,OADA9E,EAAGhD,OACI,CAAC,EAorBxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EASD,OARAoC,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBsE,QAC5F3F,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmByD,WAEvDzF,EAAO4F,sBACA,CAAC,EAAa5G,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QApsBSiI,IACzB,KAAK,EAED,OADAjF,EAAGhD,OACI,CAAC,UAIxByH,GAAG,iDAAkD,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WACvG,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAAG,MAAO,CAAC,EAAagD,KAC7B,KAAK,EAID,OAHAC,EAAGhD,OAosBfqC,EACKe,QAAQ,qBACRC,OACAC,cAAc,CACfU,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmB8D,OAXnD9F,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmB+D,QA7rBpC,CAAC,UAIxBV,GAAG,sBAAuB,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WAC5E,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAAG,MAAO,CAAC,EAAagD,KAC7B,KAAK,EAED,OADAC,EAAGhD,OACI,CAAC,EAAaoB,WAAWzC,QAAQuE,MAAM4D,OAGlD,KAAK,EAED,OADA9D,EAAGhD,OACI,CAAC,UAIxByH,GAAG,2CAA4C,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WACjG,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAMD,OALAuC,EACKc,QAAQ,SACRC,OACAC,cAAc,CAAEU,MAAOpC,oBAAoBqC,MAAMC,YAAcvC,YAAY4B,MAAM6E,mBACtFhG,EAAOiG,wBAA0B,WAAc,OAAO,KAC/C,CAAC,EAAatF,KACzB,KAAK,EAED,OADAC,EAAGhD,OACI,CAAC,UAIxByH,GAAG,qHAAsH,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WAC3K,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAAG,MAAO,CAAC,EAAaoD,KAC7B,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EA+qBxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAUD,OATAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiB6E,aAC5FlG,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmBmE,SAC/C/F,IAAKM,KAEN,CAAC,EAAa1B,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAhsBSwI,IACzB,KAAK,EAED,OADAxF,EAAGhD,OACI,CAAC,EAksBxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAYD,OAXAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBC,qBAC5FvB,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBE,aAC5F4C,IACAjF,OAAOsC,OAAOxB,EAAOI,KAAKqB,GAAGC,MAAMhB,GACnCV,EAAOa,eACA,CAAC,EAAa7B,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QArtBSyI,IACzB,KAAK,EAED,OADAzF,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KACzB,KAAK,EAED,OADAtB,EAAGhD,OACI,CAAC,EAAamG,KACzB,KAAK,EAED,OADAnD,EAAGhD,OACI,CAAC,EAmvBxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAaD,OAZAsC,EACKe,QAAQ,YACRC,OACLhB,EACKe,QAAQ,qBACRC,OACAC,cAAc,CACfU,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmBC,UAC/C7B,IAAKA,IAETJ,EAAOa,eACA,CAAC,EAAa7B,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAvwBS0I,IACzB,KAAK,EAED,OADA1F,EAAGhD,OACI,CAAC,UAIxByH,GAAG,2BAA4B,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WACjF,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAKD,OAJAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBkF,kBACrF,CAAC,EAAaxF,KACzB,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAa0E,KACzB,KAAK,EAED,OADA1B,EAAGhD,OACI,CAAC,UAIxByH,GAAG,mDAAoD,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WACzG,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EASD,OARAuC,EACKc,QAAQ,SACRC,OACAuF,SAAS,CAAE5E,MAAOpC,oBAAoBqC,MAAMC,YAAcvC,YAAY4B,MAAMsF,WACjF1G,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBkF,kBACrF,CAAC,EAAaxF,KACzB,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAa0E,KACzB,KAAK,EAID,OAHA1B,EAAGhD,OACH+B,EAAWmD,aAAazC,EAAUF,GAClChB,QAAQuH,OAAOC,UAAUxG,EAAc,GAChC,CAAC,EAAanB,WAAWzC,QAAQuE,MAAM,KAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,UAIxByH,GAAG,oCAAqC,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WAC1F,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAAG,MAAO,CAAC,EAAaoD,KAC7B,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KACzB,KAAK,EAED,OADAtB,EAAGhD,OACI,CAAC,EAAa4E,KACzB,KAAK,EAED,OADA5B,EAAGhD,OACI,CAAC,EAAamF,KACzB,KAAK,EAID,OAHAnC,EAAGhD,OACHuB,QAAQuH,OAAOE,WAAWzG,GAC1BhB,QAAQuH,OAAOG,kBAAkB1G,GAAc,EAAMI,GAC9C,CAAC,UAIxB8E,GAAG,kCAAmC,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WACxF,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAKD,OAJAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBc,yBACrF,CAAC,EAAapB,KACzB,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KACzB,KAAK,EAED,OADAtB,EAAGhD,OACI,CAAC,EAAa4E,KACzB,KAAK,EAED,OADA5B,EAAGhD,OACI,CAAC,EAAagG,KACzB,KAAK,EAID,OAHAhD,EAAGhD,OACHuB,QAAQuH,OAAOE,WAAWzG,GAC1BhB,QAAQuH,OAAOG,kBAAkB1G,GAAc,EAAO,CAAE2G,OAAQvH,YAAY4B,MAAM4F,iCAC3E,CAAC,UAIxB1B,GAAG,uCAAwC,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WAC7F,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAKD,OAJAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiB2F,wBACrF,CAAC,EAAajG,KACzB,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KACzB,KAAK,EAED,OADAtB,EAAGhD,OACI,CAAC,EAAa4E,KACzB,KAAK,EAED,OADA5B,EAAGhD,OACI,CAAC,EA2pBxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAKD,OAJAqC,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMa,KACjCX,OAAQvC,oBAAoBmD,aAAaqE,0BAE1C,CAAC,EAAahI,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAvqBSqJ,IACzB,KAAK,EAED,OADArG,EAAGhD,OACI,CAAC,UAIxByH,GAAG,iCAAkC,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WACvF,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAYD,OAXAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiB6F,wBAQrF,CAAC,EAAanG,KACzB,KAAK,EASD,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KACzB,KAAK,EAED,OADAtB,EAAGhD,OACI,CAAC,EAsoBxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAKD,OAJAqC,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmBkF,0BAEhD,CAAC,EAAalI,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAlpBSuJ,IACzB,KAAK,EAED,OADAvG,EAAGhD,OACI,CAAC,UAIxByH,GAAG,0DAA2D,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WAChH,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAAG,MAAO,CAAC,EAAaoD,KAC7B,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KACzB,KAAK,EAED,OADAtB,EAAGhD,OACI,CAAC,EAwUxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAOD,OANAuB,OAAOsC,OAAO,WACV7B,EAAWmD,aAAa,gBAAiB3C,KAC1CsB,GAAGzD,MAAM,yCACZkB,OAAOsC,OAAO,WACV7B,EAAWmD,aAAa,GAAI,mBAC7BrB,GAAGzD,MAAM,6BACL,CAAC,EAAagB,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QAtVSwJ,IACzB,KAAK,EAED,OADAxG,EAAGhD,OACI,CAAC,UAIxByH,GAAG,wHAAyH,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WAC9K,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAaD,OAZAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBoE,SAC5F1F,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiB2C,cAC5FjE,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAM5B,YAAY4B,MAAMkG,mCAAoC,GACpF,CAAC,EAAatG,KACzB,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KAGzB,KAAK,EAGD,OAFAtB,EAAGhD,OAEI,CAAC,EAAa0F,KACzB,KAAK,EAGD,OADA1C,EAAGhD,OACI,CAAC,EAAaoB,WAAWzC,QAAQuE,MAAM,IAGlD,KAAK,EAGD,OAFAF,EAAGhD,OAEI,CAAC,EAAa0F,KACzB,KAAK,EAGD,OADA1C,EAAGhD,OACI,CAAC,EAAaoB,WAAWzC,QAAQuE,MAAM,KAGlD,KAAK,EAGD,OAFAF,EAAGhD,OAEI,CAAC,EAAa0F,KACzB,KAAK,EAGD,OADA1C,EAAGhD,OACI,CAAC,EAAaoB,WAAWzC,QAAQuE,MAAM,KAGlD,KAAK,EAGD,OAFAF,EAAGhD,OAEI,CAAC,EAAa0F,KACzB,KAAK,GAGD,OADA1C,EAAGhD,OACI,CAAC,EAAaoB,WAAWzC,QAAQuE,MAAM,KAClD,KAAK,GAED,OADAF,EAAGhD,OACI,CAAC,UAIxByH,GAAG,0DAA2D,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WAChH,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAKD,OAJAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiB2C,cACrF,CAAC,EAAajD,KACzB,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KACzB,KAAK,EAED,OADAtB,EAAGhD,OACI,CAAC,EAAa0F,KACzB,KAAK,EAED,OADA1C,EAAGhD,OACI,CAAC,UAIxByH,GAAG,gEAAiE,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WACtH,OAAOxB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAaD,OAZAoC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiB2C,cAC5FjE,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBc,yBAC5FpC,EACKiB,QAAQ,QACRC,OACAC,cAAc3B,YAAY4B,MAAMmG,yBAA0B,CAAER,OAAQvH,YAAY4B,MAAM4F,iCACpF,CAAC,EAAahG,KACzB,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAAasE,KACzB,KAAK,EAED,OADAtB,EAAGhD,OACI,CAAC,EAAa4E,KACzB,KAAK,EAED,OADA5B,EAAGhD,OACI,CAAC,EAAamF,KACzB,KAAK,EAED,OADAnC,EAAGhD,OACI,CAAC,EAAa0F,KACzB,KAAK,EAED,OADA1C,EAAGhD,OACI,CAAC,EAAaoB,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,EAAamD,KACzB,KAAK,EAED,OADAH,EAAGhD,OACI,CAAC,EAAa+D,KACzB,KAAK,EAED,OADAf,EAAGhD,OACI,CAAC,EAgHxB,WACI,OAAO3B,UAAUC,UAAM,OAAQ,EAAQ,WACnC,OAAOkB,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAmBD,OAlBAoC,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBc,yBAC5FpC,EAAYiB,QAAQ,QACfC,OACAC,cAAc3B,YAAY4B,MAAMC,yBAA0B7B,YAAY8B,iBAAiBoB,gBAC5FxC,EACKe,QAAQ,qBACRC,OACAC,cAAc,CACfU,MAAOpC,oBAAoBqC,MAAMa,KACjCX,OAAQvC,oBAAoBmD,aAAaC,QACzCC,WAAYxC,IAEhBL,EAAOoC,iBAAiB,CAAC,CACjBR,MAAOpC,oBAAoBqC,MAAMC,WACjCC,OAAQvC,oBAAoBwC,mBAAmBK,UAEhD,CAAC,EAAarD,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,EAED,OADAF,EAAGhD,OACI,CAAC,QA1IS2J,IACzB,KAAK,GAED,OADA3G,EAAGhD,OACI,CAAC,EAAagG,KACzB,KAAK,GAED,OADAhD,EAAGhD,OACI,CAAC,EAAaoB,WAAWzC,QAAQuE,MAAM,IAClD,KAAK,GAGD,OAFAF,EAAGhD,OACHuB,QAAQuH,OAAOE,WAAWzG,GACnB,CAAC,UAIxBkF,GAAG,qCAAsC,WAAc,OAAOpJ,UAAU2C,WAAO,OAAQ,EAAQ,WAC3F,IAAI4I,EACJ,OAAOpK,YAAYlB,KAAM,SAAU0E,GAC/B,OAAQA,EAAGjD,OACP,KAAK,EAAG,MAAO,CAAC,EAAagD,KAC7B,KAAK,EAID,OAHAC,EAAGhD,OACH4J,EAAWrI,QAAQ+F,MACnBvF,EAAW8H,YAAYD,GAChB,CAAC,EAAazD,KACzB,KAAK,EAGD,OAFAnD,EAAGhD,OACHsB,OAAOsC,OAAO7B,EAAW+H,WAAWjG,GAAGC,OAAM,GACtC,CAAC,EAAa1C,WAAWzC,QAAQuE,MAAM,KAClD,KAAK,EAID,OAHAF,EAAGhD,OACHuB,QAAQuH,OAAOE,WAAWY,GAC1BtI,OAAOsC,OAAO7B,EAAW+H,WAAWjG,GAAGC,OAAM,GACtC,CAAC"}