{"version":3,"sources":["event-handler.js"],"names":["Object","defineProperty","exports","value","message_constants_1","require","constants_1","listener_1","Emitter","bulk_subscription_service_1","EventHandler","services","options","listeners","this","emitter","limboQueue","bulkSubscription","BulkSubscriptionService","subscriptionInterval","TOPIC","EVENT","EVENT_ACTIONS","SUBSCRIBE_BULK","SUBSCRIBE","UNSUBSCRIBE_BULK","UNSUBSCRIBE","onBulkSubscriptionSent","bind","Listener","connection","registerHandler","handle","onExitLimbo","onReestablished","onConnectionReestablished","prototype","subscribe","name","callback","length","Error","hasListeners","isConnected","on","unsubscribe","undefined","off","logger","warn","topic","action","NOT_SUBSCRIBED","emit","data","message","EMIT","parsedData","sendMessage","isInLimbo","push","listen","pattern","unlisten","isAck","timeoutRegistry","remove","MESSAGE_DENIED","error","originalAction","MULTIPLE_SUBSCRIPTIONS","assign","SUBSCRIPTION_FOR_PATTERN_FOUND","SUBSCRIPTION_FOR_PATTERN_REMOVED","INVALID_LISTEN_REGEX","UNSOLICITED_MESSAGE","subscribeList","eventNames","i","names","add"],"mappings":"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"}