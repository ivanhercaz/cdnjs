{"version":3,"sources":["rpc-handler.spec.js"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","_this","defineProperty","exports","bluebird_1","require","chai_1","sinon","mocks_1","constants_1","message_constants_1","client_options_1","rpc_handler_1","rpc_response_1","timeout_registry_1","describe","services","rpcHandler","handle","rpcProviderSpy","rpcMakeSpy","data","name","options","DefaultOptions","rpcAcceptTimeout","rpcResponseTimeout","beforeEach","getServicesMock","RPCHandler","getHandle","spy","foo","afterEach","connectionMock","verify","timeoutRegistryMock","loggerMock","it","expect","provide","bind","to","unprovide","make","message","topic","TOPIC","RPC","action","RPC_ACTIONS","PROVIDE","expects","once","withExactArgs","assert","notCalled","twice","simulateConnectionReestablished","REQUEST","parsedData","correlationId","match","any","promise","be","a","callback","promisseError","promisseSuccess","_a","connection","isConnected","catch","delay","calledOnce","calledWithExactly","EVENT","CLIENT_OFFLINE","REJECT","never","PROVIDE_ACK","isAck","expectations","permissionErrProvidingMsg","MESSAGE_PERMISSION_ERROR","originalAction","permissionErrUnprovidingMsg","UNPROVIDE","msgDeniedProving","MESSAGE_DENIED","msgDeniedUnproving","ACCEPT","UNKNOWN_CORRELATION_ID","rpcResponse","RPCResponse","rpcResponseCallback","rpcPromiseResponseSuccess","rpcPromiseResponseFail","correlationIdCallbackRpc","correlationIdPromiseRpc","timeoutRegistry","TimeoutRegistry","getLastMessageSent","handleMessage","ACCEPT_TIMEOUT","RESPONSE_TIMEOUT","NO_RPC_PROVIDER","RESPONSE","error","REQUEST_ERROR","simulateConnectionLost","isInLimbo","simulateExitLimbo"],"mappings":"AAAA,aACA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMb,KAAMO,YAE5BO,UAAad,MAAQA,KAAKc,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,OAAO,IAAWD,EAANA,GAAUE,SAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,IAAW,MAAOG,GAAKL,EAAOK,IACpF,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,IAAW,MAAOG,GAAKL,EAAOK,IACvF,SAASF,EAAKI,GAAUA,EAAOC,KAAOT,EAAQQ,EAAOL,OAAS,IAAIN,EAAE,SAAUG,GAAWA,EAAQQ,EAAOL,SAAWO,KAAKR,EAAWK,GACnIH,GAAMN,EAAYA,EAAUL,MAAME,EAASC,GAAc,KAAKS,WAGlEM,YAAe/B,MAAQA,KAAK+B,aAAgB,SAAUhB,EAASiB,GAC/D,IAAsGC,EAAGC,EAAG/B,EAAGgC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPnC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOoC,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEV,KAAMgB,EAAK,GAAIC,MAASD,EAAK,GAAIE,OAAUF,EAAK,IAAwB,mBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WAAa,OAAO7C,OAAUmC,EACvJ,SAASM,EAAKnC,GAAK,OAAO,SAAUwC,GAAK,OACzC,SAAcC,GACV,GAAId,EAAG,MAAM,IAAIe,UAAU,mCAC3B,KAAOZ,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAM/B,EAAY,EAAR4C,EAAG,GAASb,EAAU,OAAIa,EAAG,GAAKb,EAAS,SAAO/B,EAAI+B,EAAU,SAAM/B,EAAES,KAAKsB,GAAI,GAAKA,EAAET,SAAWtB,EAAIA,EAAES,KAAKsB,EAAGa,EAAG,KAAKlB,KAAM,OAAO1B,EAE3J,OADI+B,EAAI,EAAG/B,IAAG4C,EAAK,CAAS,EAARA,EAAG,GAAQ5C,EAAEoB,QACzBwB,EAAG,IACP,KAAK,EAAG,KAAK,EAAG5C,EAAI4C,EAAI,MACxB,KAAK,EAAc,OAAXX,EAAEC,QAAgB,CAAEd,MAAOwB,EAAG,GAAIlB,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIa,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKX,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkB9C,EAAe,GAA3BA,EAAIiC,EAAEG,MAAY/B,QAAcL,EAAEA,EAAEK,OAAS,MAAkB,IAAVuC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEX,EAAI,EAAG,SACjG,GAAc,IAAVW,EAAG,MAAc5C,GAAM4C,EAAG,GAAK5C,EAAE,IAAM4C,EAAG,GAAK5C,EAAE,IAAM,CAAEiC,EAAEC,MAAQU,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYX,EAAEC,MAAQlC,EAAE,GAAI,CAAEiC,EAAEC,MAAQlC,EAAE,GAAIA,EAAI4C,EAAI,MAC7D,GAAI5C,GAAKiC,EAAEC,MAAQlC,EAAE,GAAI,CAAEiC,EAAEC,MAAQlC,EAAE,GAAIiC,EAAEI,IAAIU,KAAKH,GAAK,MACvD5C,EAAE,IAAIiC,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBF,EAAKf,EAAKpB,KAAKG,EAASqB,GAC1B,MAAOV,GAAKqB,EAAK,CAAC,EAAGrB,GAAIQ,EAAI,EAAK,QAAUD,EAAI9B,EAAI,EACtD,GAAY,EAAR4C,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAExB,MAAOwB,EAAG,GAAKA,EAAG,QAAK,EAAQlB,MAAM,GArB9BL,CAAK,CAAClB,EAAGwC,OAwBzDK,MAAQnD,KACZC,OAAOmD,eAAeC,QAAS,aAAc,CAAE9B,OAAO,IACtD,IAAI+B,WAAaC,QAAQ,YACrBC,OAASD,QAAQ,QACjBE,MAAQF,QAAQ,SAChBG,QAAUH,QAAQ,iBAClBI,YAAcJ,QAAQ,gBACtBK,oBAAsBL,QAAQ,+CAC9BM,iBAAmBN,QAAQ,qBAC3BO,cAAgBP,QAAQ,iBACxBQ,eAAiBR,QAAQ,kBACzBS,mBAAqBT,QAAQ,4BACjCU,SAAS,cAAe,WACpB,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAO,QAGPC,EAAU1E,SAAS,GAAI8D,iBAAiBa,eAAgB,CAAEC,iBAFvC,GAE2EC,mBADzE,KAEzBC,WAAW,WACPX,EAAWR,QAAQoB,kBACnBX,EAAa,IAAIL,cAAciB,WAAWb,EAAUO,GACpDL,EAASF,EAASc,YAClBX,EAAiBZ,MAAMwB,MACvBX,EAAab,MAAMwB,MACnBV,EAAO,CAAEW,IAAK,SAElBC,UAAU,WACNjB,EAASkB,eAAeC,SACxBnB,EAASoB,oBAAoBD,SAC7BnB,EAASqB,WAAWF,WAExBG,GAAG,sDAAuD,WACtDhC,OAAOiC,OAAOtB,EAAWuB,QAAQC,KAAKxB,EAAY,GAAI,eAAkByB,GAAGlD,QAC3Ec,OAAOiC,OAAOtB,EAAW0B,UAAUF,KAAKxB,EAAY,KAAKyB,GAAGlD,QAC5Dc,OAAOiC,OAAOtB,EAAW0B,UAAUF,KAAKxB,IAAayB,GAAGlD,QACxDc,OAAOiC,OAAOtB,EAAW2B,KAAKH,KAAKxB,EAAY,KAAKyB,GAAGlD,QACvDc,OAAOiC,OAAOtB,EAAW2B,KAAKH,KAAKxB,IAAayB,GAAGlD,UAEvD8C,GAAG,uBAAwB,WACvB,IAAIO,EAAU,CACVC,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYC,QACxC7B,KAAMA,GAEVN,EAASkB,eACJkB,QAAQ,eACRC,OACAC,cAAcT,GACnB7B,EAASoB,oBACJgB,QAAQ,OACRC,OACAC,cAAc,CAAET,QAASA,IAC9B5B,EAAWuB,QAAQlB,EAAMH,GACzBZ,MAAMgD,OAAOC,UAAUrC,KAE3BmB,GAAG,yDAA0D,WACzD,IAAIO,EAAU,CACVC,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYC,QACxC7B,KAAMA,GAEVN,EAASkB,eACJkB,QAAQ,eACRK,QACAH,cAAcT,GACnB7B,EAASoB,oBACJgB,QAAQ,OACRK,QACAH,cAAc,CAAET,QAASA,IAC9B5B,EAAWuB,QAAQlB,EAAMH,GACzBH,EAAS0C,kCACTnD,MAAMgD,OAAOC,UAAUrC,KAE3BmB,GAAG,oCAAqC,WACpCtB,EAASkB,eACJkB,QAAQ,eACRC,OACAC,cAAc,CACfR,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYS,QACxCrC,KAAMA,EACNsC,WAAYvC,EACZwC,cAAetD,MAAMuD,MAAMC,MAE/B9C,EAAW2B,KAAKtB,EAAMD,EAAM,gBAEhCiB,GAAG,qDAAsD,WACrDtB,EAASkB,eACJkB,QAAQ,eACRC,OACL,IAAIW,EAAU/C,EAAW2B,KAAKtB,EAAMD,GACpCf,OAAOiC,OAAOyB,GAAStB,GAAGuB,GAAGC,EAAE,aAEnC5B,GAAG,8CAAgD,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WACrG,IAAIkE,EAAUC,EAAeC,EAC7B,OAAOxF,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAQD,OAPAgF,EAAW5D,MAAMwB,MACjBqC,EAAgB7D,MAAMwB,MACtBsC,EAAkB9D,MAAMwB,MACxBf,EAASuD,WAAWC,aAAc,EAClCvD,EAAW2B,KAAKtB,EAAMD,EAAM8C,GAClBlD,EAAW2B,KAAKtB,EAAMD,GACxBzC,KAAKyF,GAAiBI,MAAML,GAC7B,CAAC,EAAahE,WAAWnC,QAAQyG,MAAM,IAClD,KAAK,EAOD,OANAJ,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWR,GACxB5D,MAAMgD,OAAOqB,kBAAkBT,EAAU1D,YAAYoE,MAAMC,gBAC3DvE,MAAMgD,OAAOC,UAAUa,GACvB9D,MAAMgD,OAAOoB,WAAWP,GACxB7D,MAAMgD,OAAOqB,kBAAkBR,EAAe3D,YAAYoE,MAAMC,gBACzD,CAAC,UAIxBxC,GAAG,8DAAgE,WAC/DtB,EAASkB,eACJkB,QAAQ,eACRC,OACAC,cAAc,CACfR,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY6B,OACxCzD,KAAMA,EACNuC,cAAe,QAEnB7C,EAASoB,oBACJgB,QAAQ,OACR4B,QACL9D,EAAO,CACH4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYS,QACxCrC,KAAMA,EACNsC,WAAYvC,EACZwC,cAAe,UAGvBvB,GAAG,uBAAwB,WACvB,IAAIO,EAAU,CACVC,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY+B,YACxC3D,KAAMA,EACN4D,OAAO,GAEXlE,EAASoB,oBACJgB,QAAQ,UACRC,OACAC,cAAcT,GACnB3B,EAAO2B,KAEXP,GAAG,yEAA0E,WACtD,SAAf6C,EAAyBtC,GACzB7B,EAASoB,oBACJgB,QAAQ,UACRC,OACAC,cAAcT,GACnB7B,EAASqB,WACJe,QAAQ,SACRC,OACAC,cAAcT,GARvB,IAUIuC,EAA4B,CAC5BtC,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYmC,yBACxC/D,KAAMA,EACNgE,eAAgB5E,oBAAoBwC,YAAYC,SAEhDoC,EAA8B,CAC9BzC,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYmC,yBACxC/D,KAAMA,EACNgE,eAAgB5E,oBAAoBwC,YAAYsC,WAEhDC,EAAmB,CACnB3C,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYwC,eACxCpE,KAAMA,EACNgE,eAAgB5E,oBAAoBwC,YAAYC,SAEhDwC,EAAqB,CACrB7C,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYwC,eACxCpE,KAAMA,EACNgE,eAAgB5E,oBAAoBwC,YAAYsC,WAEpDL,EAAaC,GACbD,EAAaI,GACbJ,EAAaM,GACbN,EAAaQ,GACbzE,EAAOkE,GACPlE,EAAOqE,GACPrE,EAAOuE,GACPvE,EAAOyE,KAEXrD,GAAG,oEAAqE,WACpE,IAAIO,EAAU,CACVC,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY0C,OACxCtE,KAAMA,EACNuC,cAAe,UAEnB7C,EAASqB,WACJe,QAAQ,SACRC,OACAC,cAAcT,EAASpC,YAAYoE,MAAMgB,wBAC9C3E,EAAO2B,KAEX9B,SAAS,iBAAkB,WACvBY,WAAW,WACPV,EAAWuB,QAAQlB,EAAMH,KAE7BmB,GAAG,kCAAoC,WACnCtB,EAASkB,eACJkB,QAAQ,eACR4B,QACLhE,EAASoB,oBACJgB,QAAQ,OACR4B,QACL1E,OAAOiC,OAAOtB,EAAWuB,QAAQC,KAAKxB,EAAYK,EAAMH,IACnDuB,GAAGlD,MAAM,kCAElB8C,GAAG,kDAAmD,WAClD,IAAIO,EAAU,CACVC,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYS,QACxCrC,KAAMA,EACNsC,WAAYvC,EACZwC,cAAe,OAEfiC,EAAc,IAAIjF,eAAekF,YAAYlD,EAAStB,EAASP,GACnEE,EAAO2B,GACPtC,MAAMgD,OAAOoB,WAAWxD,GACxBZ,MAAMgD,OAAOqB,kBAAkBzD,EAAgBE,EAAMyE,KAEzDxD,GAAG,wBAAyB,WACxB,IAAIO,EAAU,CACVC,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYsC,UACxClE,KAAMA,GAEVN,EAASkB,eACJkB,QAAQ,eACRC,OACAC,cAAcT,GACnB7B,EAASoB,oBACJgB,QAAQ,OACRC,OACAC,cAAc,CAAET,QAASA,IAC9B5B,EAAW0B,UAAUrB,KAEzBgB,GAAG,iDAAmD,WAClDtB,EAASkB,eACJkB,QAAQ,eACRC,OACLrC,EAASoB,oBACJgB,QAAQ,OACRC,OACLrC,EAASqB,WACJe,QAAQ,QACRC,OACLpC,EAAW0B,UAAUrB,GACrBL,EAAW0B,UAAUrB,OAG7BP,SAAS,cAAe,WACpB,IAAIiF,EAEAC,EACAC,EACAC,EACAC,EACJzE,WAAW,WACPX,EAASqF,gBAAkB,IAAIvF,mBAAmBwF,gBAAgBtF,EAAUO,GAC5EyE,EAAsBzF,MAAMwB,MAC5Bd,EAAW2B,KAAKtB,EAAMD,EAAM2E,GAC5BG,EAA2B3F,QAAQ+F,qBAAqB1C,cACxDoC,EAA4B1F,MAAMwB,MAClCmE,EAAyB3F,MAAMwB,MACrBd,EAAW2B,KAAKtB,EAAMD,GAE3BzC,KAAKqH,GACLxB,MAAMyB,GACXE,EAA0B5F,QAAQ+F,qBAAqB1C,gBAE3DvB,GAAG,4BAA6B,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WAClF,IAAIgD,EAAQuD,EACZ,OAAO3H,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAWD,OAVA8D,EAASvC,oBAAoBwC,YAAYmC,0BACzCmB,EAAgB,SAAU3C,GAAiB,OAAO3C,EAAO,CACrD4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQA,EACR3B,KAAMA,EACNgE,eAAgB5E,oBAAoBwC,YAAYS,QAChDE,cAAeA,MAELsC,GACdK,EAAcJ,GACP,CAAC,EAAahG,WAAWnC,QAAQyG,MAAMjD,KAClD,KAAK,EAOD,OANA6C,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOqB,kBAAkBoB,EAAqBtF,oBAAoBwC,YAAYD,IACpF1C,MAAMgD,OAAOC,UAAUyC,GACvB1F,MAAMgD,OAAOoB,WAAWuB,GACxB3F,MAAMgD,OAAOqB,kBAAkBsB,EAAwBxF,oBAAoBwC,YAAYD,IAChF,CAAC,UAIxBX,GAAG,gCAAiC,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WACtF,IAAIgD,EAAQuD,EACZ,OAAO3H,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAWD,OAVA8D,EAASvC,oBAAoBwC,YAAYwC,gBACzCc,EAAgB,SAAU3C,GAAiB,OAAO3C,EAAO,CACrD4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQA,EACR3B,KAAMA,EACNgE,eAAgB5E,oBAAoBwC,YAAYS,QAChDE,cAAeA,MAELsC,GACdK,EAAcJ,GACP,CAAC,EAAahG,WAAWnC,QAAQyG,MAAMjD,KAClD,KAAK,EAOD,OANA6C,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOqB,kBAAkBoB,EAAqBtF,oBAAoBwC,YAAYD,IACpF1C,MAAMgD,OAAOC,UAAUyC,GACvB1F,MAAMgD,OAAOoB,WAAWuB,GACxB3F,MAAMgD,OAAOqB,kBAAkBsB,EAAwBxF,oBAAoBwC,YAAYD,IAChF,CAAC,UAIxBX,GAAG,+DAAgE,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WACrH,OAAOpB,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAAG,MAAO,CAAC,EAAaiB,WAAWnC,QAAQyG,MAAMjD,KACtD,KAAK,EAOD,OANA6C,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOqB,kBAAkBoB,EAAqBtF,oBAAoBwC,YAAYxC,oBAAoBwC,YAAYuD,iBACpHlG,MAAMgD,OAAOC,UAAUyC,GACvB1F,MAAMgD,OAAOoB,WAAWuB,GACxB3F,MAAMgD,OAAOqB,kBAAkBsB,EAAwBxF,oBAAoBwC,YAAYxC,oBAAoBwC,YAAYuD,iBAChH,CAAC,UAIxBnE,GAAG,4CAA6C,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WAClG,IAAIuG,EACJ,OAAO3H,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EASD,OARAqH,EAAgB,SAAU3C,GAAiB,OAAO3C,EAAO,CACrD4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY0C,OACxCtE,KAAMA,EACNuC,cAAeA,MAELsC,GACdK,EAAcJ,GACP,CAAC,EAAahG,WAAWnC,QAAQyG,MAAMjD,KAClD,KAAK,EAKD,OAJA6C,EAAGlF,OACHmB,MAAMgD,OAAOC,UAAUwC,GACvBzF,MAAMgD,OAAOC,UAAU0C,GACvB3F,MAAMgD,OAAOC,UAAUyC,GAChB,CAAC,UAIxB3D,GAAG,iEAAkE,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WACvH,IAAIuG,EACJ,OAAO3H,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EASD,OARAqH,EAAgB,SAAU3C,GAAiB,OAAO3C,EAAO,CACrD4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY0C,OACxCtE,KAAMA,EACNuC,cAAeA,MAELsC,GACdK,EAAcJ,GACP,CAAC,EAAahG,WAAWnC,QAAQyG,MAAMhD,KAClD,KAAK,EAOD,OANA4C,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOqB,kBAAkBoB,EAAqBtF,oBAAoBwC,YAAYxC,oBAAoBwC,YAAYwD,mBACpHnG,MAAMgD,OAAOC,UAAUyC,GACvB1F,MAAMgD,OAAOoB,WAAWuB,GACxB3F,MAAMgD,OAAOqB,kBAAkBsB,EAAwBxF,oBAAoBwC,YAAYxC,oBAAoBwC,YAAYwD,mBAChH,CAAC,UAIxBpE,GAAG,gEAAiE,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WACtH,IAAIuG,EACJ,OAAO3H,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAuBD,OAtBAqH,EAAgB,SAAU3C,GAAiB,OAAO3C,EAAO,CACrD4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY0C,OACxCtE,KAAMA,EACNuC,cAAeA,MAELsC,GACdK,EAAcJ,GACdlF,EAAO,CACH4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYyD,gBACxCrF,KAAMA,EACNuC,cAAesC,IAEnBjF,EAAO,CACH4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAYyD,gBACxCrF,KAAMA,EACNuC,cAAeuC,IAEnB7F,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOqB,kBAAkBoB,EAAqBtF,oBAAoBwC,YAAYxC,oBAAoBwC,YAAYyD,kBAC7G,CAAC,EAAavG,WAAWnC,QAAQyG,MAAM,IAClD,KAAK,EAKD,OAJAJ,EAAGlF,OACHmB,MAAMgD,OAAOC,UAAUyC,GACvB1F,MAAMgD,OAAOoB,WAAWuB,GACxB3F,MAAMgD,OAAOqB,kBAAkBsB,EAAwBxF,oBAAoBwC,YAAYxC,oBAAoBwC,YAAYyD,kBAChH,CAAC,UAIxBrE,GAAG,4CAA6C,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WAClG,IAAIuG,EACJ,OAAO3H,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAYD,OAXAqH,EAAgB,SAAU3C,GAAiB,OAAO3C,EAAO,CACrD4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY0D,SACxCtF,KAAMA,EACNuC,cAAeA,EACfD,WAAYvC,MAEF8E,GACdK,EAAcJ,GACd7F,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOqB,kBAAkBoB,EAAqB,KAAM3E,GACnD,CAAC,EAAajB,WAAWnC,QAAQyG,MAAM,IAClD,KAAK,EAKD,OAJAJ,EAAGlF,OACHmB,MAAMgD,OAAOC,UAAU0C,GACvB3F,MAAMgD,OAAOoB,WAAWsB,GACxB1F,MAAMgD,OAAOqB,kBAAkBqB,EAA2B5E,GACnD,CAAC,UAIxBiB,GAAG,0EAA4E,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WACjI,IAAIuG,EACJ,OAAO3H,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAYD,OAXAqH,EAAgB,SAAU3C,GAAiB,OAAO3C,EAAO,CACrD4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY0D,SACxCtF,KAAMA,EACNuC,cAAeA,EACfD,WAAYvC,MAEF8E,GACdK,EAAcL,GACdK,EAAcJ,GACdI,EAAcJ,GACP,CAAC,EAAahG,WAAWnC,QAAQyG,MAAMhD,KAClD,KAAK,EAKD,OAJA4C,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOC,UAAU0C,GACvB3F,MAAMgD,OAAOoB,WAAWsB,GACjB,CAAC,UAIxB3D,GAAG,yCAA0C,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WAC/F,IAAI4G,EAAOL,EACX,OAAO3H,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAWD,OAVA0H,EAAQ,SACRL,EAAgB,SAAU3C,GAAiB,OAAO3C,EAAO,CACrD4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY4D,cACxCxF,KAAMA,EACNuC,cAAeA,EACfD,WAAYiD,MAEFV,GACdK,EAAcJ,GACP,CAAC,EAAahG,WAAWnC,QAAQyG,MAAMhD,KAClD,KAAK,EAOD,OANA4C,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOqB,kBAAkBoB,EAAqBa,GACpDtG,MAAMgD,OAAOC,UAAUyC,GACvB1F,MAAMgD,OAAOoB,WAAWuB,GACxB3F,MAAMgD,OAAOqB,kBAAkBsB,EAAwBW,GAChD,CAAC,UAIxBvE,GAAG,uEAAyE,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WAC9H,IAAWuG,EACX,OAAO3H,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAaD,OAXAqH,EAAgB,SAAU3C,GAAiB,OAAO3C,EAAO,CACrD4B,MAAOpC,oBAAoBqC,MAAMC,IACjCC,OAAQvC,oBAAoBwC,YAAY4D,cACxCxF,KAAMA,EACNuC,cAAeA,EACfD,WANI,YAQMuC,GACdK,EAAcL,GACdK,EAAcJ,GACdI,EAAcJ,GACP,CAAC,EAAahG,WAAWnC,QAAQyG,MAAMhD,KAClD,KAAK,EAKD,OAJA4C,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOC,UAAUyC,GACvB1F,MAAMgD,OAAOoB,WAAWuB,GACjB,CAAC,UAIxB5D,GAAG,4CAA6C,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WAClG,OAAOpB,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAED,OADA6B,EAAS+F,yBACF,CAAC,EAAa3G,WAAWnC,QAAQyG,MAAM,IAClD,KAAK,EAOD,OANAJ,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWqB,GACxBzF,MAAMgD,OAAOqB,kBAAkBoB,EAAqBvF,YAAYoE,MAAMC,gBACtEvE,MAAMgD,OAAOC,UAAUyC,GACvB1F,MAAMgD,OAAOoB,WAAWuB,GACxB3F,MAAMgD,OAAOqB,kBAAkBsB,EAAwBzF,YAAYoE,MAAMC,gBAClE,CAAC,YAK5B/D,SAAS,QAAS,WACdY,WAAW,WACPX,EAASuD,WAAWC,aAAc,EAClCxD,EAASuD,WAAWyC,WAAY,IAEpC1E,GAAG,qDAAsD,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WAC3G,OAAOpB,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EAGD,OAFA8B,EAAW2B,KAAKtB,EAAMD,EAAMD,GAC5BJ,EAASiG,oBACF,CAAC,EAAa7G,WAAWnC,QAAQyG,MAAM,IAClD,KAAK,EAID,OAHAJ,EAAGlF,OACHmB,MAAMgD,OAAOoB,WAAWvD,GACxBb,MAAMgD,OAAOqB,kBAAkBxD,EAAYX,YAAYoE,MAAMC,gBACtD,CAAC,UAIxBxC,GAAG,iDAAkD,WAAc,OAAO1E,UAAUqC,WAAO,OAAQ,EAAQ,WACvG,OAAOpB,YAAY/B,KAAM,SAAUwH,GAC/B,OAAQA,EAAGnF,OACP,KAAK,EASD,OARA8B,EAAW2B,KAAKtB,EAAMD,EAAMD,GAC5BJ,EAASkB,eACJkB,QAAQ,eACRC,OACLrC,EAASoB,oBACJgB,QAAQ,OACRK,QACLzC,EAAS0C,kCACF,CAAC,EAAatD,WAAWnC,QAAQyG,MAAM,IAClD,KAAK,EAED,OADAJ,EAAGlF,OACI,CAAC"}