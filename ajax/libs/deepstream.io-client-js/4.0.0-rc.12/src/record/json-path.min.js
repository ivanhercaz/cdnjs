"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils=require("../util/utils"),SPLIT_REG_EXP=/[[\]]/g;function get(e,t,r){for(var l=tokenize(t),i=e,n=0;n<l.length;n++){if(void 0===i)return;if("object"!=typeof i)throw new Error("invalid data or path");i=i[l[n]]}return!1!==r?utils.deepCopy(i):i}function setValue(e,t,r){if(null===t)return r;var l,i=tokenize(t),n=utils.deepCopy(e),u=utils.deepCopy(r),o=n;for(l=0;l<i.length-1;l++){var f=i[l];if(void 0!==o[f]&&null!==o[f]&&"object"==typeof o[f])o=o[f];else if("number"==typeof i[l+1]){var s=new Array(i[l+1]);s.fill(null),o=o[f]=s}else o=o[f]={}}return void 0===r?delete o[i[l]]:o[i[l]]=u,n}function tokenize(e){if(null===e)return[];for(var t=[],r=e.split("."),l=0;l<r.length;l++){var i=r[l].trim();if(0!==i.length){var n=i.split(SPLIT_REG_EXP);if(0!==n.length){t.push(n[0]);for(var u=1;u<n.length;u++)0!==n[u].length&&t.push(Number(n[u]))}}}return t}exports.get=get,exports.setValue=setValue;