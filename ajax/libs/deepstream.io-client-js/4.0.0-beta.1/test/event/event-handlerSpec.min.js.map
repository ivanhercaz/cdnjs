{"version":3,"sources":["event-handlerSpec.js"],"names":["Object","defineProperty","exports","value","chai_1","require","sinon","mocks_1","constants_1","message_constants_1","client_options_1","event_handler_1","describe","services","listener","eventHandler","handle","spy","name","beforeEach","getServicesMock","getListenerMock","EventHandler","DefaultOptions","getHandle","afterEach","verify","listenerMock","it","expect","subscribe","bind","to","throw","unsubscribe","emit","connectionMock","expects","once","withExactArgs","topic","TOPIC","EVENT","action","EVENT_ACTIONS","EMIT","parsedData","SUBSCRIBE","timeoutRegistryMock","message","twice","simulateConnectionReestablished","UNSUBSCRIBE","loggerMock","NOT_SUBSCRIBED","assert","calledOnce","calledWithExactly","callCount","undefined","MESSAGE_DENIED","originalAction","isAck","callback","listen","unlisten","subscriptionFoundMsg","SUBSCRIPTION_FOR_PATTERN_FOUND","subscription","subscriptionRemovedMsg","SUBSCRIPTION_FOR_PATTERN_REMOVED","UNSOLICITED_MESSAGE"],"mappings":"AAAA,aACAA,OAAOC,eAAeC,QAAS,cAAgBC,OAAO,IACtD,MAAMC,OAASC,QAAQ,QACjBC,MAAQD,QAAQ,SAChBE,QAAUF,QAAQ,YAClBG,YAAcH,QAAQ,uBACtBI,oBAAsBJ,QAAQ,+CAC9BK,iBAAmBL,QAAQ,4BAC3BM,gBAAkBN,QAAQ,iCAChCO,SAAS,gBAAiB,KACtB,IAAIC,EACAC,EACAC,EACAC,EACAC,EACJ,MAAMC,EAAO,UACbC,WAAW,KACPN,EAAWN,QAAQa,kBACnBN,EAAWP,QAAQc,kBACnBN,EAAe,IAAIJ,gBAAgBW,aAAaT,EAAUH,iBAAiBa,eAAgBT,EAASA,UACpGE,EAASH,EAASW,YAClBP,EAAMX,MAAMW,QAEhBQ,UAAU,KACNZ,EAASa,SACTZ,EAASa,aAAaD,WAE1BE,GAAG,0DAA2D,KAC1DxB,OAAOyB,OAAOd,EAAae,UAAUC,KAAKhB,EAAc,GAAI,SAAYiB,GAAGC,QAC3E7B,OAAOyB,OAAOd,EAAae,UAAUC,KAAKhB,EAAc,EAAG,SAAYiB,GAAGC,QAC1E7B,OAAOyB,OAAOd,EAAae,UAAUC,KAAKhB,EAAc,QAAS,OAAOiB,GAAGC,QAC3E7B,OAAOyB,OAAOd,EAAamB,YAAYH,KAAKhB,EAAc,GAAI,SAAYiB,GAAGC,QAC7E7B,OAAOyB,OAAOd,EAAamB,YAAYH,KAAKhB,EAAc,EAAG,SAAYiB,GAAGC,QAC5E7B,OAAOyB,OAAOd,EAAamB,YAAYH,KAAKhB,EAAc,QAAS,OAAOiB,GAAGC,QAC7E7B,OAAOyB,OAAOd,EAAamB,YAAYH,KAAKhB,EAAc,OAAOiB,GAAGC,QACpE7B,OAAOyB,OAAOd,EAAaoB,KAAKJ,KAAKhB,EAAc,GAAI,SAAYiB,GAAGC,QACtE7B,OAAOyB,OAAOd,EAAaoB,KAAKJ,KAAKhB,EAAc,EAAG,SAAYiB,GAAGC,QACrE7B,OAAOyB,OAAOd,EAAaoB,KAAKJ,KAAKhB,EAAc,KAAM,SAAYiB,GAAGC,UAE5EL,GAAG,yCAA0C,KACzCf,EAASuB,eACJC,QAAQ,eACRC,OACAC,eACDC,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcC,KAC1C3B,KAAAA,EACA4B,WAAY,IAEhB/B,EAAaoB,KAAKjB,EAAM,KAE5BU,GAAG,yBAA0B,KACzBf,EAASuB,eACJC,QAAQ,eACRC,OACAC,eACDC,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcG,UAC1C7B,KAAAA,IAEJL,EAASmC,oBACJX,QAAQ,OACRC,OACAC,eACDU,SACIT,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcG,UAC1C7B,KAAAA,KAGRH,EAAae,UAAUZ,EAAMD,KAEjCW,GAAG,yDAA0D,KACzDf,EAASuB,eACJC,QAAQ,eACRa,QACAX,eACDC,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcG,UAC1C7B,KAAAA,IAEJL,EAASmC,oBACJX,QAAQ,OACRa,QACAX,eACDU,SACIT,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcG,UAC1C7B,KAAAA,KAGRH,EAAae,UAAUZ,EAAMD,GAC7BJ,EAASsC,oCAEbvB,GAAG,+BAAgC,KAC/Bf,EAASuB,eACJC,QAAQ,eACRC,OACLzB,EAASmC,oBACJX,QAAQ,OACRC,OACLvB,EAAae,UAAUZ,EAAMD,GAC7BF,EAAae,UAAUZ,EAAMD,KAEjCW,GAAG,6CAA8C,KAC7Cf,EAASuB,eACJC,QAAQ,eACRC,OACLzB,EAASuB,eACJC,QAAQ,eACRC,OACAC,eACDC,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcQ,YAC1ClC,KAAAA,IAEJL,EAASmC,oBACJX,QAAQ,OACRC,OACLzB,EAASmC,oBACJX,QAAQ,OACRC,OACAC,eACDU,SACIT,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcQ,YAC1ClC,KAAAA,KAGRH,EAAae,UAAUZ,EAAMD,GAC7BF,EAAamB,YAAYhB,EAAMD,KAEnCW,GAAG,uDAAwD,KACvDf,EAASuB,eACJC,QAAQ,eACRC,OACLzB,EAASuB,eACJC,QAAQ,eACRC,OACAC,eACDC,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcQ,YAC1ClC,KAAAA,IAEJL,EAASmC,oBACJX,QAAQ,OACRC,OACLzB,EAASmC,oBACJX,QAAQ,OACRC,OACAC,eACDU,SACIT,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcQ,YAC1ClC,KAAAA,KAGRL,EAASwC,WACJhB,QAAQ,QACRC,OACAC,eACDC,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcU,eAC1CpC,KAAAA,IAEJH,EAAae,UAAUZ,EAAMD,GAC7BF,EAAamB,YAAYhB,EAAMD,GAC/BF,EAAamB,YAAYhB,EAAMD,KAEnCW,GAAG,4CAA6C,KAC5Cb,EAAae,UAAUZ,EAAMD,GAC7BF,EAAaoB,KAAKjB,EAAM,GACxBZ,MAAMiD,OAAOC,WAAWvC,GACxBX,MAAMiD,OAAOE,kBAAkBxC,EAAK,KAExCW,GAAG,6CAA8C,KAC7Cb,EAAae,UAAUZ,EAAMD,GAC7BD,GACIwB,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcC,KAC1C3B,KAAAA,EACA4B,WAAY,IAEhBxC,MAAMiD,OAAOC,WAAWvC,GACxBX,MAAMiD,OAAOE,kBAAkBxC,EAAK,KAExCW,GAAG,0BAA2B,KAC1Bb,EAAae,UAAUZ,EAAMD,GAC7BF,EAAamB,YAAYhB,EAAMD,GAC/BF,EAAaoB,KAAKjB,EAAM,IACxBZ,MAAMiD,OAAOG,UAAUzC,EAAK,KAEhCW,GAAG,0DAA2D,KAC1Db,EAAae,UAAUZ,EAAMD,GAC7BD,GACIwB,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcC,KAC1C3B,KAAAA,IAEJZ,MAAMiD,OAAOC,WAAWvC,GACxBX,MAAMiD,OAAOE,kBAAkBxC,OAAK0C,KAExC/B,GAAG,yDAA0D,KACzDb,EAAae,UAAUZ,EAAMD,GAC7BD,GACIwB,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcgB,eAC1CC,eAAgBpD,oBAAoBmC,cAAcG,UAClD7B,KAAAA,IAEJH,EAAaoB,KAAKjB,EAAM,IACxBZ,MAAMiD,OAAOG,UAAUzC,EAAK,KAEhCW,GAAG,kCAAmC,KAClCf,EAASmC,oBACJX,QAAQ,UACRC,OACAC,eACDuB,OAAO,EACPtB,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcG,UAC1C7B,KAAAA,IAEJF,GACI8C,OAAO,EACPtB,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcG,UAC1C7B,KAAAA,MAGRU,GAAG,oCAAqC,KACpCf,EAASmC,oBACJX,QAAQ,UACRC,OACAC,eACDuB,OAAO,EACPtB,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcQ,YAC1ClC,KAAAA,IAEJF,GACI8C,OAAO,EACPtB,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcQ,YAC1ClC,KAAAA,MAGRU,GAAG,mDAAoD,KACnDf,EAASwC,WACJhB,QAAQ,QACRC,OACAC,eACDC,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcU,eAC1CpC,KAAAA,IAEJF,GACIwB,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcU,eAC1CpC,KAAAA,MAGRU,GAAG,sBAAuB,KACtB,MACMmC,EAAW,OACjBjD,EAASa,aACJU,QAAQ,UACRC,OACAC,cALW,KAKYwB,GAC5BhD,EAAaiD,OANG,KAMaD,KAEjCnC,GAAG,sBAAuB,KAEtBd,EAASa,aACJU,QAAQ,YACRC,OACAC,cAJW,MAKhBxB,EAAakD,SALG,QAOpBrC,GAAG,+CAAiD,KAChD,MAAMsC,GACF1B,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAcuB,+BAC1CjD,KAAM,KACNkD,aAAc,gBAEZC,GACF7B,MAAO/B,oBAAoBgC,MAAMC,MACjCC,OAAQlC,oBAAoBmC,cAAc0B,iCAC1CpD,KAAM,KACNkD,aAAc,gBAElBtD,EAASa,aACJU,QAAQ,UACRC,OACAC,cAAc2B,GACnBpD,EAASa,aACJU,QAAQ,UACRC,OACAC,cAAc8B,GACnBrD,EAAOkD,GACPlD,EAAOqD,KAEXzC,GAAG,qDAAsD,KACrDf,EAASwC,WACJhB,QAAQ,SACRC,OACAC,eACDC,MAAO/B,oBAAoBgC,MAAMC,MACjCC,QAAS,GACVnC,YAAYkC,MAAM6B,qBACrBvD,GACIwB,MAAO/B,oBAAoBgC,MAAMC,MACjCC,QAAS"}