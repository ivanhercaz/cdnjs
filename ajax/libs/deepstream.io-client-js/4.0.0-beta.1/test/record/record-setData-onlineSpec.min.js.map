{"version":3,"sources":["record-setData-onlineSpec.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","bluebird_1","require","chai_1","sinon_1","mocks_1","message_constants_1","client_options_1","record_handler_1","describe","topic","TOPIC","RECORD","name","writeAckNotifierMock","recordHandler","options","services","handle","beforeEach","getServicesMock","getWriteAckNotifierMock","assign","DefaultOptions","connection","isConnected","RecordHandler","getHandle","afterEach","verify","it","data","firstname","connectionMock","expects","once","withExactArgs","action","RECORD_ACTIONS","CREATEANDUPDATE","path","undefined","parsedData","version","setData","CREATEANDPATCH","ERASE","skip","expect","bind","to","throw","some","not","cb","match","func","promise","setDataWithAck","is","a","ackCallback","ackResolve","ackReject","spy","errorMsg","MESSAGE_DENIED","originalAction","CREATEANDUPDATE_WITH_WRITE_ACK","correlationId","isError","isWriteAck","delay","assert","calledOnce","calledWithExactly","catch","notCalled","createUpdateAckMsg","WRITE_ACKNOWLEDGEMENT","createPatchAckMsg","CREATEANDPATCH_WITH_WRITE_ACK","eraseAckMsg","ERASE_WITH_WRITE_ACK"],"mappings":"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"}