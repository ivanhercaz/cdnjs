{"version":3,"sources":["single-notifierSpec.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","bluebird_1","require","sinon_1","mocks_1","constants_1","message_constants_1","single_notifier_1","describe","topic","TOPIC","RECORD","action","RECORD_ACTIONS","READ","name","services","singleNotifier","callbackSpy","resolveSpy","rejectSpy","beforeEach","getServicesMock","SingleNotifier","spy","afterEach","verify","it","message","connectionMock","expects","once","withExactArgs","timeoutRegistryMock","request","callback","twice","connection","isConnected","never","delay","assert","calledOnce","calledWithExactly","EVENT","CLIENT_OFFLINE","notCalled","MESSAGE_DENIED","isError","recieve","undefined","parsedData","some","simulateConnectionLost"],"mappings":"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"}