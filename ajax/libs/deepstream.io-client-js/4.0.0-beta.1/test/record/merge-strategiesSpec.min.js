"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const chai_1=require("chai"),sinon_1=require("sinon"),MERGE_STRATEGIES=require("../../src/record/merge-strategy");describe("merge strategies @unit",()=>{describe("remote wins",()=>{beforeEach(function(){this.mergeCallback=sinon_1.spy(),this.record={get:()=>({type:"remote"})},MERGE_STRATEGIES.REMOTE_WINS(this.record,{type:"remote"},5,this.mergeCallback)}),it("returns the remote data",function(){chai_1.expect(this.mergeCallback.calledOnce).to.equal(!0),chai_1.expect(this.mergeCallback.calledWith(null,{type:"remote"})).to.equal(!0)})}),describe("local wins",()=>{beforeEach(function(){this.mergeCallback=sinon_1.spy(),this.record={get:()=>({type:"local"})},MERGE_STRATEGIES.LOCAL_WINS(this.record,{type:"remote"},5,this.mergeCallback)}),it("returns the remote data",function(){chai_1.expect(this.mergeCallback.calledOnce).to.equal(!0),chai_1.expect(this.mergeCallback.calledWith(null,{type:"local"})).to.equal(!0)})})});