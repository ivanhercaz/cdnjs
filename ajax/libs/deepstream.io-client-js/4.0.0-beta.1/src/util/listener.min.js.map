{"version":3,"sources":["listener.js"],"names":["Object","defineProperty","exports","value","message_constants_1","require","constants_1","Listener","[object Object]","topic","services","this","listeners","Map","stopCallbacks","TOPIC","RECORD","actions","RECORD_ACTIONS","EVENT","EVENT_ACTIONS","connection","onLost","onConnectionLost","bind","onReestablished","onConnectionReestablished","pattern","callback","length","Error","has","logger","warn","action","LISTENER_EXISTS","name","set","sendListen","delete","sendUnlisten","NOT_LISTENING","subscription","sendMessage","LISTEN_ACCEPT","LISTEN_REJECT","message","SUBSCRIPTION_FOR_PATTERN_FOUND","SUBSCRIPTION_FOR_PATTERN_REMOVED","error","UNSOLICITED_MESSAGE","stopCallback","get","listener","accept","reject","onStop","stop","forEach","clear","LISTEN","timeoutRegistry","add","UNLISTEN"],"mappings":"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"}