var t=require("preact");function n(n,t){for(var r in t)n[r]=t[r];return n}function r(n){this.getChildContext=function(){return{store:n.store}}}r.prototype.render=function(n){return n.children[0]},exports.createStore=function(i){var c=[];function t(n){for(var t=[],r=0;r<c.length;r++)c[r]===n?n=null:t.push(c[r]);c=t}function r(t,r,e){i=r?t:n(n({},i),t);for(var o=c,u=0;u<o.length;u++)o[u](i,e)}return i=i||{},{action:function(o){function u(n){r(n,!1,o)}return function(){for(var n=arguments,t=[i],r=0;r<arguments.length;r++)t.push(n[r]);var e=o.apply(this,t);if(null!=e)return e.then?e.then(u):u(e)}},setState:r,subscribe:function(n){return c.push(n),function(){t(n)}},unsubscribe:t,getState:function(){return i}}},exports.Provider=r,exports.connect=function(a,p){var e;return"function"!=typeof a&&("string"==typeof(e=a||[])&&(e=e.split(/\s*,\s*/)),a=function(n){for(var t={},r=0;r<e.length;r++)t[e[r]]=n[e[r]];return t}),function(s){function r(r,e){function o(){var n=a(i?i.getState():{},u.props);for(var t in n)if(n[t]!==c[t])return c=n,u.setState(null);for(var r in c)if(!(r in n))return c=n,u.setState(null)}var u=this,i=e.store,c=a(i?i.getState():{},r),f=p?function(n,t){"function"==typeof n&&(n=n(t));var r={};for(var e in n)r[e]=t.action(n[e]);return r}(p,i):{store:i};this.componentDidMount=function(){i.subscribe(o)},this.componentWillUnmount=function(){i.unsubscribe(o)},this.render=function(r){return t.h(s,n(n(n({},f),r),c))}}return(r.prototype=new t.Component).constructor=r}};