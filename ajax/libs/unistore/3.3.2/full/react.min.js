var t=require("react");function n(t,n){for(var r in n)t[r]=n[r];return t}var r={store:function(){}},e=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),((r.prototype=Object.create(n&&n.prototype)).constructor=r).prototype.getChildContext=function(){return{store:this.props.store}},r.prototype.render=function(){return t.Children.only(this.props.children)},r}(t.Component);e.childContextTypes=r,exports.createStore=function(u){var c=[];function r(t){for(var n=[],r=0;r<c.length;r++)c[r]===t?t=null:n.push(c[r]);c=n}function e(t,r,e){u=r?t:n(n({},u),t);for(var o=c,i=0;i<o.length;i++)o[i](u,e)}return u=u||{},{action:function(o){function i(t){e(t,!1,o)}return function(){for(var t=arguments,n=[u],r=0;r<arguments.length;r++)n.push(t[r]);var e=o.apply(this,n);if(null!=e)return e.then?e.then(i):i(e)}},setState:e,subscribe:function(t){return c.push(t),function(){r(t)}},unsubscribe:r,getState:function(){return u}}},exports.Provider=e,exports.connect=function(f,a){var e;return"function"!=typeof f&&("string"==typeof(e=f||[])&&(e=e.split(/\s*,\s*/)),f=function(t){for(var n={},r=0;r<e.length;r++)n[e[r]]=t[e[r]];return n}),function(s){function e(r,e){var o=this;t.Component.call(this,r,e);function i(){var t=f(u?u.getState():{},o.props);for(var n in t)if(t[n]!==c[n])return c=t,o.forceUpdate();for(var r in c)if(!(r in t))return c=t,o.forceUpdate()}var u=e.store,c=f(u?u.getState():{},r),p=a?function(t,n){"function"==typeof t&&(t=t(n));var r={};for(var e in t)r[e]=n.action(t[e]);return r}(a,u):{store:u};this.componentWillReceiveProps=i,this.componentDidMount=function(){u.subscribe(i)},this.componentWillUnmount=function(){u.unsubscribe(i)},this.render=function(){return t.createElement(s,n(n(n({},p),o.props),c))}}return e.contextTypes=r,(e.prototype=Object.create(t.Component.prototype)).constructor=e}};