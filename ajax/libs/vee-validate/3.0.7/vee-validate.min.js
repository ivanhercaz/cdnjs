!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e=e||self).VeeValidate={},e.Vue)}(this,function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function d(a,s,o,u){return new(o=o||Promise)(function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function r(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new o(function(e){e(t.value)}).then(n,r)}i((u=u.apply(a,s||[])).next())})}function v(n,r){var i,a,s,e,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return o.label++,{value:t[1],done:!1};case 5:o.label++,a=t[1],t=[0];continue;case 7:t=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){o=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){o.label=t[1];break}if(6===t[0]&&o.label<s[1]){o.label=s[1],s=t;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(t);break}s[2]&&o.ops.pop(),o.trys.pop();continue}t=r.call(n,o)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function i(e){return e!=e}var p=function(e){return null==e},m=function(e){return null!==e&&e&&"object"==typeof e&&!Array.isArray(e)};function a(e){return e}function l(r){var e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),r?m(r)&&r._$$isNormalized?r:m(r)?Object.keys(r).reduce(function(e,t){var n=[];return n=!0===r[t]?[]:Array.isArray(r[t])?r[t]:m(r[t])?r[t]:[r[t]],!1!==r[t]&&(e[t]=n),e},e):"string"!=typeof r?(function(e){console.warn("[vee-validate] "+e)}("rules must be either a string or an object."),e):r.split("|").reduce(function(e,t){var n=function(e){var t=[],n=e.split(":")[0];return o(e,":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}}(t);return e[n.name]=n.params,e},e):e}var s=function(t,n){if(t instanceof RegExp&&n instanceof RegExp)return s(t.source,n.source)&&s(t.flags,n.flags);if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!s(t[e],n[e]))return!1;return!0}return m(t)&&m(n)?Object.keys(t).every(function(e){return s(t[e],n[e])})&&Object.keys(n).every(function(e){return s(t[e],n[e])}):!(!i(t)||!i(n))||t===n},o=function(e,t){return-1!==e.indexOf(t)},u=function(n,r,i){return void 0===r&&(r=0),void 0===i&&(i={cancelled:!1}),0===r?n:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(a),a=setTimeout(function(){a=void 0,i.cancelled||n.apply(void 0,e)},r)};var a},c=function(e){return"function"==typeof e};function f(e){return c(Array.from)?Array.from(e):function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}(e)}function g(e,t){var n=Array.isArray(e)?e:f(e);if(c(n.findIndex))return n.findIndex(t);for(var r=0;r<n.length;r++)if(t(n[r],r))return r;return-1}function y(e,t){var n=Array.isArray(e)?e:f(e),r=g(n,t);return-1===r?void 0:n[r]}function b(t,n){return Object.keys(n).forEach(function(e){if(m(n[e]))return t[e]||(t[e]={}),void b(t[e],n[e]);t[e]=n[e]}),t}function _(t){return c(Object.values)?Object.values(t):Object.keys(t).map(function(e){return t[e]})}var O=function(e){return Array.isArray(e)&&0===e.length},$=function(e,n){return e.replace(/\{([^}]+)\}/g,function(e,t){return t in n?n[t]:"{"+t+"}"})},R=function(e){return""!==e&&!p(e)},E={};var A=(n.extend=function(e,t){var n=function(e){return e.params&&e.params.length&&(e.params=e.params.map(function(e){return"string"==typeof e?{name:e}:e})),e}(t);E[e]?E[e]=b(E[e],t):E[e]=h({lazy:!1,computesRequired:!1},n)},n.iterate=function(e){for(var t=Object.keys(E),n=t.length,r=0;r<n;r++)e(t[r],E[t[r]])},n.isLazy=function(e){return!(!E[e]||!E[e].lazy)},n.isRequireRule=function(e){return!(!E[e]||!E[e].computesRequired)},n.isTargetRule=function(e){var t=n.getRuleDefinition(e);return!(!t||!t.params)&&t.params.some(function(e){return!!e.isTarget})},n.getTargetParamNames=function(e,t){var r=n.getRuleDefinition(e);return Array.isArray(t)?t.filter(function(e,n){return r.params&&y(r.params,function(e,t){return!!e.isTarget&&t===n})}):Object.keys(t).filter(function(t){return r.params&&y(r.params,function(e){return!!e.isTarget&&e.name===t})}).map(function(e){return t[e]})},n.getRuleDefinition=function(e){return E[e]},n);function n(){}function x(e,t){!function(e,t){if(c(t))return;if(c(t.validate))return;if(A.getRuleDefinition(e))return;throw new Error("Extension Error: The validator '"+e+"' must be a function or have a 'validate' method.")}(e,t),"object"!=typeof t?A.extend(e,{validate:t}):A.extend(e,t)}function j(e){k=h(h({},k),e)}var k=h({},{defaultMessage:"{_field_} is not valid.",skipOptional:!0,classes:{touched:"touched",untouched:"untouched",valid:"valid",invalid:"invalid",pristine:"pristine",dirty:"dirty"},bails:!0,mode:"aggressive",useConstraintAttrs:!0}),w=function(){return k};function V(s,o,u){return void 0===u&&(u={}),d(this,void 0,void 0,function(){var t,n,r,i,a;return v(this,function(e){switch(e.label){case 0:return t=u&&u.bails,n=u&&u.skipIfEmpty,[4,function(l,c,e){var t=(void 0===e?{}:e).isInitial,f=void 0!==t&&t;return d(this,void 0,void 0,function(){var t,n,r,i,a,s,o,u;return v(this,function(e){switch(e.label){case 0:return[4,function(c,f){return d(this,void 0,void 0,function(){var t,n,r,i,a,s,o,u,l;return v(this,function(e){switch(e.label){case 0:t=Object.keys(c.rules).filter(A.isRequireRule),n=t.length,r=[],i=p(f)||""===f||O(f),a=i&&c.skipIfEmpty,s=!1,o=0,e.label=1;case 1:return o<n?(u=t[o],[4,z(c,f,{name:u,params:c.rules[u]})]):[3,4];case 2:if(l=e.sent(),!m(l))throw new Error("Require rules has to return an object (see docs)");if(l.required&&(s=!0),!l.valid&&l.error&&(r.push(l.error),c.bails))return[2,{shouldSkip:!0,errors:r}];e.label=3;case 3:return o++,[3,1];case 4:return(!i||s||c.skipIfEmpty)&&(c.bails||a)?[2,{shouldSkip:!s&&i,errors:r}]:[2,{shouldSkip:!1,errors:r}]}})})}(l,c)];case 1:if(t=e.sent(),n=t.shouldSkip,r=t.errors,n)return[2,{valid:!r.length,errors:r}];i=Object.keys(l.rules).filter(function(e){return!A.isRequireRule(e)}),a=i.length,s=0,e.label=2;case 2:return s<a?f&&A.isLazy(i[s])?[3,4]:(o=i[s],[4,z(l,c,{name:o,params:l.rules[o]})]):[3,5];case 3:if(!(u=e.sent()).valid&&u.error&&(r.push(u.error),l.bails))return[2,{valid:!1,errors:r}];e.label=4;case 4:return s++,[3,2];case 5:return[2,{valid:!r.length,errors:r}]}})})}({name:u&&u.name||"{field}",rules:l(o),bails:!!p(t)||t,skipIfEmpty:!!p(n)||n,forceRequired:!1,crossTable:u&&u.values||{},names:u&&u.names||{},customMessages:u&&u.customMessages||{}},s,u)];case 1:return r=e.sent(),i=[],a={},r.errors.forEach(function(e){i.push(e.msg),a[e.rule]=e.msg}),[2,{valid:r.valid,errors:i,failedRules:a}]}})})}function z(s,o,u){return d(this,void 0,void 0,function(){var t,n,r,i,a;return v(this,function(e){switch(e.label){case 0:if(!(t=A.getRuleDefinition(u.name))||!t.validate)throw new Error("No such validator '"+u.name+"' exists.");return n=function(e,r,t){var n,i,a={};if(!r&&!Array.isArray(e))throw new Error("You provided an object params to a rule that has no defined schema.");if(Array.isArray(e)&&!r)return e;n=!r||r.length<e.length?e.map(function(e,t){var n=r&&r[t];return i=n||i,n=n||i}):r;for(var s=0;s<n.length;s++){var o=n[s],u=o.default;Array.isArray(e)?s in e&&(u=e[s]):o.name in e?u=e[o.name]:1===n.length&&(u=e),o.isTarget&&(u=t[u]),o.cast&&(u=o.cast(u)),a[o.name]?(a[o.name]=Array.isArray(a[o.name])?a[o.name]:[a[o.name]],a[o.name].push(u)):a[o.name]=u}return a}(u.params,t.params,s.crossTable),r=t.castValue?t.castValue(o):o,[4,t.validate(r,n)];case 1:return"string"==typeof(i=e.sent())?(a=h(h({},n||{}),{_field_:s.name,_value_:o,_rule_:u.name}),[2,{valid:!1,error:{rule:u.name,msg:$(i,a)}}]):(m(i)||(i={valid:i,data:{}}),[2,{valid:i.valid,required:i.required,data:i.data||{},error:i.valid?void 0:function(e,t,n,r,i,a){var s=h(h(h(h({},i||{}),a||{}),{_field_:e.name,_value_:t,_rule_:r}),function(e,t,n){if(t.params){var r=t.params.filter(function(e){return e.isTarget}).length;if(0<r){for(var i={},a=0;a<t.params.length;a++){var s=t.params[a];if(s.isTarget){var o=e.rules[n][a],u=e.names[o]||o;if(1===r){i._target_=u;break}i["_"+s.name+"Target_"]=u}}return i}}return{}}(e,n,r));if(Object.prototype.hasOwnProperty.call(e.customMessages,r)&&"string"==typeof e.customMessages[r])return{msg:N(e.customMessages[r],e.name,s),rule:r};if(n.message)return{msg:N(n.message,e.name,s),rule:r};return{msg:N(w().defaultMessage,e.name,s),rule:r}}(s,o,t,u.name,n,i.data)}])}})})}function N(e,t,n){return"function"==typeof e?e(t,n):$(e,h(h({},n),{_field_:t}))}var q,S={aggressive:function(){return{on:["input","blur"]}},eager:function(e){return e.errors.length?{on:["input","change"]}:{on:["change","blur"]}},passive:function(){return{on:[]}},lazy:function(){return{on:["change"]}}},I=(D.prototype.resolve=function(e,t,n){return this.format(this.locale,e,t,n)},D.prototype._hasLocale=function(e){return!!this.container[e]},D.prototype.format=function(e,t,n,r){var i,a=this.container[e]&&this.container[e].fields&&this.container[e].fields[t];return a&&a[n]&&(i=a[n]),!i&&this._hasLocale(e)&&this._hasMessage(e,n)&&(i=this.container[e].messages[n]),i=i||w().defaultMessage,this._hasName(e,t)&&(t=this.getName(e,t)),c(i)?i(t,r):$(i,h(h({},r),{_field_:t}))},D.prototype.merge=function(e){b(this.container,e)},D.prototype.hasRule=function(e){var t=this.container[this.locale];return!!t&&!(!t.messages||!t.messages[e])},D.prototype.getName=function(e,t){return this.container[e].names[t]},D.prototype._hasMessage=function(e,t){return!!(this._hasLocale(e)&&this.container[e].messages&&this.container[e].messages[t])},D.prototype._hasName=function(e,t){return!!(this._hasLocale(e)&&this.container[e].names&&this.container[e].names[t])},D);function D(e,t){this.container={},this.locale=e,this.merge(t)}var B=!1;function P(){B||(A.iterate(function(n,e){var t,r;e.message&&!q.hasRule(n)&&q.merge(((t={})[q.locale]={messages:(r={},r[n]=e.message,r)},t)),x(n,{message:function(e,t){return q.resolve(e,n,t||{})}})}),B=!0)}function T(e){if(!function(e){return!!e&&(!!("undefined"!=typeof Event&&c(Event)&&e instanceof Event)||!(!e||!e.srcElement))}(e))return e;var t=e.target;return"file"===t.type&&t.files?f(t.files):t.value}var M=function(e){var t=e.data&&e.data.attrs||e.elm;return!("input"!==e.tag||t&&t.type)||("textarea"===e.tag||o(["text","password","search","email","tel","url","number"],t&&t.type))};function F(e){if(e.data){var t=e.data;if("model"in t)return t.model;if(e.data.directives)return y(e.data.directives,function(e){return"model"===e.name})}}function L(e){var t=F(e);return t?t.value:e.componentOptions&&e.componentOptions.propsData&&"value"in e.componentOptions.propsData?e.componentOptions.propsData.value:e.data&&e.data.domProps&&"value"in e.data.domProps?e.data.domProps.value:void 0}function W(e){return Array.isArray(e)||void 0===L(e)?function(e){return Array.isArray(e)?e:Array.isArray(e.children)?e.children:e.componentOptions&&Array.isArray(e.componentOptions.children)?e.componentOptions.children:[]}(e).reduce(function(e,t){var n=W(t);return n.length&&e.push.apply(e,n),e},[]):[e]}function C(e){return e.componentOptions?e.componentOptions.Ctor.options.model:null}function H(e,t,n){if(p(e[t]))e[t]=[n];else{if(c(e[t])&&e[t].fns){var r=e[t];return r.fns=Array.isArray(r.fns)?r.fns:[r.fns],void(o(r.fns,n)||r.fns.push(n))}if(c(e[t])){var i=e[t];e[t]=[i]}Array.isArray(e[t])&&!o(e[t],n)&&e[t].push(n)}}function G(e,t,n){e.componentOptions?function(e,t,n){e.componentOptions&&(e.componentOptions.listeners||(e.componentOptions.listeners={}),H(e.componentOptions.listeners,t,n))}(e,t,n):function(e,t,n){e.data||(e.data={}),p(e.data.on)&&(e.data.on={}),H(e.data.on,t,n)}(e,t,n)}function Y(e,t){return e.componentOptions?(C(e)||{event:"input"}).event:t&&t.modifiers&&t.modifiers.lazy?"change":M(e)?"input":"change"}function J(e){var t=e.data&&e.data.attrs;if(!o(["input","select"],e.tag)||!t)return{};var n={};return"required"in t&&!1!==t.required&&(n.required="checkbox"!==t.type||[!0]),M(e)?l(h(h({},n),function(e){var t=e.data&&e.data.attrs,n={};return t&&("email"===t.type&&(n.email=["multiple"in t]),t.pattern&&(n.regex=t.pattern),0<=t.maxlength&&(n.max=t.maxlength),0<=t.minlength&&(n.min=t.minlength),"number"===t.type&&(R(t.min)&&(n.min_value=Number(t.min)),R(t.max)&&(n.max_value=Number(t.max)))),n}(e))):l(n)}function K(e,t){return e.$scopedSlots.default?e.$scopedSlots.default(t)||[]:e.$slots.default||[]}function Q(n){return h(h({},n.flags),{errors:n.messages,classes:n.classes,failedRules:n.failedRules,reset:function(){return n.reset()},validate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.validate.apply(n,e)},ariaInput:{"aria-invalid":n.flags.invalid?"true":"false","aria-required":n.isRequired?"true":"false","aria-errormessage":"vee_"+n.id},ariaMsg:{id:"vee_"+n.id,"aria-live":n.messages.length?"assertive":"off"}})}function U(e,t){if(void 0!==t){e.initialized||(e.initialValue=t);var n=function(e,t){return!(e._ignoreImmediate||!e.immediate)||(!(e.value===t||!e.normalizedEvents.length)||(!!e._needsValidation||!e.initialized&&void 0===t))}(e,t);e._needsValidation=!1,e.value=t,e._ignoreImmediate=!0,n&&e.validateSilent().then(e.immediate||e.flags.validated?e.applyResult:a)}}function X(e){return(c(e.mode)?e.mode:S[e.mode])({errors:e.messages,value:e.value,flags:e.flags})}function Z(n){n.$veeOnInput||(n.$veeOnInput=function(e){n.syncValue(e),n.setFlags({dirty:!0,pristine:!1})});var e=n.$veeOnInput;n.$veeOnBlur||(n.$veeOnBlur=function(){n.setFlags({touched:!0,untouched:!1})});var t=n.$veeOnBlur,r=n.$veeHandler,i=X(n);return r&&n.$veeDebounce===n.debounce||(r=u(function(){n.$nextTick(function(){var t=n.validateSilent();(n._pendingValidation=t).then(function(e){t===n._pendingValidation&&(n.applyResult(e),n._pendingValidation=void 0)})})},i.debounce||n.debounce),n.$veeHandler=r,n.$veeDebounce=n.debounce),{onInput:e,onBlur:t,onValidate:r}}var ee=0;var te=t.extend({inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver||(this.$vnode.context.$_veeObserver={refs:{},subscribe:function(e){this.refs[e.id]=e},unsubscribe:function(e){delete this.refs[e]}}),this.$vnode.context.$_veeObserver}}},props:{vid:{type:String,default:""},name:{type:String,default:null},mode:{type:[String,Function],default:function(){return w().mode}},rules:{type:[Object,String],default:null},immediate:{type:Boolean,default:!1},persist:{type:Boolean,default:!1},bails:{type:Boolean,default:function(){return w().bails}},skipIfEmpty:{type:Boolean,default:function(){return w().skipOptional}},debounce:{type:Number,default:0},tag:{type:String,default:"span"},slim:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},customMessages:{type:Object,default:function(){return{}}}},watch:{rules:{deep:!0,handler:function(e,t){this._needsValidation=!s(e,t)}}},data:function(){return{messages:[],value:void 0,initialized:!1,initialValue:void 0,flags:{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1},failedRules:{},isDeactivated:!1,id:""}},computed:{fieldDeps:function(){var r=this;return Object.keys(this.normalizedRules).filter(A.isTargetRule).reduce(function(e,t){var n=A.getTargetParamNames(t,r.normalizedRules[t]);return e.push.apply(e,n),n.forEach(function(e){!function e(t,n,r){void 0===r&&(r=!0);var i=t.$_veeObserver.refs;t._veeWatchers||(t._veeWatchers={});if(!i[n]&&r)return t.$once("hook:mounted",function(){e(t,n,!1)});!c(t._veeWatchers[n])&&i[n]&&(t._veeWatchers[n]=i[n].$watch("value",function(){t.flags.validated&&(t._needsValidation=!0,t.validate())}))}(r,e)}),e},[])},normalizedEvents:function(){var t=this;return(X(this).on||[]).map(function(e){return"input"===e?t._inputEventName:e})},isRequired:function(){var e=h(h({},this._resolvedRules),this.normalizedRules),t=Object.keys(e).some(A.isRequireRule);return this.flags.required=!!t,t},classes:function(){return function(i,a){for(var s={},o=Object.keys(a),e=o.length,t=function(e){var t=o[e],n=i&&i[t]||t,r=a[t];return p(r)?"continue":"valid"!==t&&"invalid"!==t||a.validated?void("string"==typeof n?s[n]=r:Array.isArray(n)&&n.forEach(function(e){s[e]=r})):"continue"},n=0;n<e;n++)t(n);return s}(w().classes,this.flags)},normalizedRules:function(){return l(this.rules)}},render:function(e){var t=this;this.registerField();var n=K(this,Q(this));return W(n).forEach(function(e){t._resolvedRules=w().useConstraintAttrs?J(e):{},function(e,t){var n=L(t);e._inputEventName=e._inputEventName||Y(t,F(t)),U(e,n);var r=Z(e),i=r.onInput,a=r.onBlur,s=r.onValidate;G(t,e._inputEventName,i),G(t,"blur",a),e.normalizedEvents.forEach(function(e){G(t,e,s)}),e.initialized=!0}(t,e)}),this.slim&&n.length<=1?n[0]:e(this.tag,n)},beforeDestroy:function(){this.$_veeObserver.unsubscribe(this.id)},activated:function(){this.$_veeObserver.subscribe(this),this.isDeactivated=!1},deactivated:function(){this.$_veeObserver.unsubscribe(this.id),this.isDeactivated=!0},methods:{setFlags:function(t){var n=this;Object.keys(t).forEach(function(e){n.flags[e]=t[e]})},syncValue:function(e){var t=T(e);this.value=t,this.flags.changed=this.initialValue!==t},reset:function(){this.messages=[],this.initialValue=this.value;var e={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1};e.required=this.isRequired,this.setFlags(e),this.validateSilent()},validate:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return d(this,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return 0<n.length&&this.syncValue(n[0]),[4,this.validateSilent()];case 1:return t=e.sent(),this.applyResult(t),[2,t]}})})},validateSilent:function(){return d(this,void 0,void 0,function(){var t,n;return v(this,function(e){switch(e.label){case 0:return this.setFlags({pending:!0}),t=h(h({},this._resolvedRules),this.normalizedRules),Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),[4,V(this.value,t,{name:this.name,values:function(e){var n=e.$_veeObserver.refs;return e.fieldDeps.reduce(function(e,t){return n[t]&&(e[t]=n[t].value),e},{})}(this),bails:this.bails,skipIfEmpty:this.skipIfEmpty,isInitial:!this.initialized,customMessages:this.customMessages})];case 1:return n=e.sent(),this.setFlags({pending:!1}),this.setFlags({valid:n.valid,invalid:!n.valid}),[2,n]}})})},setErrors:function(e){this.applyResult({errors:e,failedRules:{}})},applyResult:function(e){var t=e.errors,n=e.failedRules;this.messages=t,this.failedRules=h({},n||{}),this.setFlags({valid:!t.length,changed:this.value!==this.initialValue,invalid:!!t.length,validated:!0})},registerField:function(){!function(e){var t=function(e){if(e.vid)return e.vid;if(e.name)return e.name;if(e.id)return e.id;return"_vee_"+ ++ee}(e),n=e.id;if(e.isDeactivated||n===t&&e.$_veeObserver.refs[n])return;n!==t&&e.$_veeObserver.refs[n]===e&&e.$_veeObserver.unsubscribe(n);e.id=t,e.$_veeObserver.subscribe(e)}(this)}}});var ne={pristine:"every",dirty:"some",touched:"some",untouched:"every",valid:"every",invalid:"some",pending:"some",validated:"every",changed:"some"};var re=0;var ie=t.extend({name:"ValidationObserver",provide:function(){return{$_veeObserver:this}},inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver?this.$vnode.context.$_veeObserver:null}}},props:{tag:{type:String,default:"span"},vid:{type:String,default:function(){return"obs_"+re++}},slim:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{id:"",refs:{},refsByName:{},observers:[],inactiveRefs:{}}},computed:{ctx:function(){var n=this,e={errors:{},passes:function(t){return n.validate().then(function(e){if(e)return t()})},validate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.validate.apply(n,e)},reset:function(){return n.reset()}};return r(_(this.refs),Object.keys(this.inactiveRefs).map(function(e){return{vid:e,flags:n.inactiveRefs[e].flags,messages:n.inactiveRefs[e].errors}}),this.observers).reduce(function(n,r){return Object.keys(ne).forEach(function(e){var t=r.flags||r.ctx;n[e]=e in n?function(e,t,n){return[e,t][ne[n]](function(e){return e})}(n[e],t[e],e):t[e]}),n.errors[r.id]=r.messages||_(r.ctx.errors).reduce(function(e,t){return e.concat(t)},[]),n},e)}},created:function(){this.id=this.vid,this.$_veeObserver&&this.$_veeObserver.subscribe(this,"observer")},activated:function(){this.$_veeObserver&&this.$_veeObserver.subscribe(this,"observer")},deactivated:function(){this.$_veeObserver&&this.$_veeObserver.unsubscribe(this.id,"observer")},beforeDestroy:function(){this.$_veeObserver&&this.$_veeObserver.unsubscribe(this.id,"observer")},render:function(e){var t=K(this,this.ctx);return this.slim&&t.length<=1?t[0]:e(this.tag,{on:this.$listeners},t)},methods:{subscribe:function(e,t){var n,r;void 0===t&&(t="provider"),"observer"!==t?(this.refs=h(h({},this.refs),((n={})[e.id]=e,n)),this.refsByName=h(h({},this.refsByName),((r={})[e.name]=e,r)),e.persist&&this.restoreProviderState(e)):this.observers.push(e)},unsubscribe:function(t,e){if(void 0===e&&(e="provider"),"provider"!==e){var n=g(this.observers,function(e){return e.id===t});-1!==n&&this.observers.splice(n,1)}else this.removeProvider(t)},validate:function(e){var t=(void 0===e?{}:e).silent,n=void 0!==t&&t;return d(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,Promise.all(r(_(this.refs).filter(function(e){return!e.disabled}).map(function(e){return e[n?"validateSilent":"validate"]().then(function(e){return e.valid})}),this.observers.filter(function(e){return!e.disabled}).map(function(e){return e.validate({silent:n})})))];case 1:return[2,e.sent().every(function(e){return e})]}})})},reset:function(){var t=this;return Object.keys(this.inactiveRefs).forEach(function(e){t.$delete(t.inactiveRefs,e)}),r(_(this.refs),this.observers).forEach(function(e){return e.reset()})},restoreProviderState:function(e){var t=e.id,n=this.inactiveRefs[t];n&&(e.setFlags(n.flags),e.applyResult(n),this.$delete(this.inactiveRefs,e.id))},removeProvider:function(e){var t=this.refs[e];t&&(t.persist&&(this.inactiveRefs[e]={flags:t.flags,errors:t.messages,failedRules:t.failedRules}),this.$delete(this.refs,e),this.$delete(this.refsByName,t.name))},setErrors:function(n){var r=this;Object.keys(n).forEach(function(e){var t=r.refs[e]||r.refsByName[e];t&&t.setErrors(n[e]||[])})}}});e.ValidationObserver=ie,e.ValidationProvider=te,e.configure=function(e){j(e)},e.extend=x,e.install=function(e,t){j(t)},e.localize=function(e,t){var n;if(q=q||new I("en",{}),"string"==typeof e)return q.locale=e,t&&q.merge(((n={})[e]=t,n)),void P();q.merge(e),P()},e.setInteractionMode=function(e,t){if(j({mode:e}),t){if(!c(t))throw new Error("A mode implementation must be a function");S[e]=t}},e.validate=V,e.version="3.0.7",e.withValidation=function(e,f){void 0===f&&(f=a);var d="options"in e?e.options:e,t=te.options,n={name:(d.name||"AnonymousHoc")+"WithValidation",props:h({},t.props),data:t.data,computed:h({},t.computed),methods:h({},t.methods),beforeDestroy:t.beforeDestroy,inject:t.inject},v=d.model&&d.model.event||"input";return n.render=function(e){var t;this.registerField();var n=Q(this),r=h({},this.$listeners),i=F(this.$vnode);this._inputEventName=this._inputEventName||Y(this.$vnode,i),U(this,L(this.$vnode));var a=Z(this),s=a.onInput,o=a.onBlur,u=a.onValidate;H(r,v,s),H(r,"blur",o),this.normalizedEvents.forEach(function(e){H(r,e,u)});var l=(C(this.$vnode)||{prop:"value"}).prop,c=h(h(h({},this.$attrs),((t={})[l]=i&&i.value,t)),f(n));return e(d,{attrs:this.$attrs,props:c,on:r},function(n,r){return Object.keys(n).reduce(function(e,t){return n[t].forEach(function(e){e.context||(n[t].context=r,e.data||(e.data={}),e.data.slot=t)}),e.concat(n[t])},[])}(this.$slots,this.$vnode.context))},n},Object.defineProperty(e,"__esModule",{value:!0})});