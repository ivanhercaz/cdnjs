import{__decorate}from"tslib";import{Location}from"@angular/common";import{Injectable}from"@angular/core";import{NavigationEnd,Router}from"@angular/router";import{delay,filter,map}from"rxjs/operators";import*as i0 from"@angular/core";import*as i1 from"@angular/router";import*as i2 from"@angular/common";let AngularRouterTracking=class{constructor(r,o){this.router=r,this.location=o}trackLocation(r){return this.router.events.pipe(filter(r=>r instanceof NavigationEnd),filter(()=>!r.developerMode),map(r=>({url:r.urlAfterRedirects})),delay(0))}prepareExternalUrl(r){return this.location.prepareExternalUrl(r)}};AngularRouterTracking.ctorParameters=(()=>[{type:Router},{type:Location}]),AngularRouterTracking.ɵprov=i0.ɵɵdefineInjectable({factory:function(){return new AngularRouterTracking(i0.ɵɵinject(i1.Router),i0.ɵɵinject(i2.Location))},token:AngularRouterTracking,providedIn:"root"}),AngularRouterTracking=__decorate([Injectable({providedIn:"root"})],AngularRouterTracking);export{AngularRouterTracking};