import{__decorate}from"tslib";import{Injectable}from"@angular/core";import{Title}from"@angular/platform-browser";import{Angulartics2}from"angulartics2";import*as i0 from"@angular/core";import*as i1 from"angulartics2";import*as i2 from"@angular/platform-browser";let Angulartics2Clicky=class{constructor(i,t){this.angulartics2=i,this.titleService=t,"undefined"==typeof clicky&&console.warn("Angulartics 2 Clicky Plugin: clicky global not found")}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(i=>this.pageTrack(i.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(i=>this.eventOrGoalTrack(i.action,i.properties))}pageTrack(i){const t=this.titleService.getTitle();clicky.log(i,t,"pageview")}eventOrGoalTrack(i,t){if(void 0===t.goal){const e=t.title||null,r=null!=t.type?this.validateType(t.type):null;clicky.log(i,e,r)}else{const i=t.goal,e=t.revenue;clicky.goal(i,e,!!t.noQueue)}}validateType(i){return["pageview","click","download","outbound"].indexOf(i)>-1?i:"pageview"}};Angulartics2Clicky.ctorParameters=(()=>[{type:Angulartics2},{type:Title}]),Angulartics2Clicky.ɵprov=i0.ɵɵdefineInjectable({factory:function(){return new Angulartics2Clicky(i0.ɵɵinject(i1.Angulartics2),i0.ɵɵinject(i2.Title))},token:Angulartics2Clicky,providedIn:"root"}),Angulartics2Clicky=__decorate([Injectable({providedIn:"root"})],Angulartics2Clicky);export{Angulartics2Clicky};