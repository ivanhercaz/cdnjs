import*as tslib_1 from"tslib";import{Location}from"@angular/common";import{Injectable}from"@angular/core";import{NavigationEnd,Router}from"@angular/router";import{delay,filter,map}from"rxjs/operators";import*as i0 from"@angular/core";import*as i1 from"@angular/router";import*as i2 from"@angular/common";var AngularRouterTracking=function(){function r(r,t){this.router=r,this.location=t}return r.prototype.trackLocation=function(r){return this.router.events.pipe(filter(function(r){return r instanceof NavigationEnd}),filter(function(){return!r.developerMode}),map(function(r){return{url:r.urlAfterRedirects}}),delay(0))},r.prototype.prepareExternalUrl=function(r){return this.location.prepareExternalUrl(r)},r.ngInjectableDef=i0.ɵɵdefineInjectable({factory:function(){return new r(i0.ɵɵinject(i1.Router),i0.ɵɵinject(i2.Location))},token:r,providedIn:"root"}),r=tslib_1.__decorate([Injectable({providedIn:"root"}),tslib_1.__metadata("design:paramtypes",[Router,Location])],r)}();export{AngularRouterTracking};