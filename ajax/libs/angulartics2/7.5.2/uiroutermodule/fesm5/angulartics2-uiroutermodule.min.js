import{__decorate,__metadata}from"tslib";import{defineInjectable,inject,Injectable,NgModule}from"@angular/core";import{ANGULARTICS2_TOKEN,RouterlessTracking,Angulartics2,Angulartics2OnModule}from"angulartics2";import{TransitionService}from"@uirouter/core";import{Subject}from"rxjs";var UIRouterTracking=function(){function r(r){this.transitionService=r}return r.prototype.path=function(r){return r.$to().url.format(r.params())},r.prototype.trackLocation=function(r){var t=this,e=new Subject;return this.transitionService.onSuccess({},function(r){return e.next({url:t.path(r)})},{priority:-1e4}),e},r.prototype.prepareExternalUrl=function(r){return r},r.ngInjectableDef=defineInjectable({factory:function(){return new r(inject(TransitionService))},token:r,providedIn:"root"}),r=__decorate([Injectable({providedIn:"root"}),__metadata("design:paramtypes",[TransitionService])],r)}(),Angulartics2UirouterModule=function(){function r(){}var t;return t=r,r.forRoot=function(r){return void 0===r&&(r={}),{ngModule:t,providers:[{provide:ANGULARTICS2_TOKEN,useValue:{settings:r}},{provide:RouterlessTracking,useClass:UIRouterTracking},Angulartics2]}},r=t=__decorate([NgModule({imports:[Angulartics2OnModule]})],r)}();export{Angulartics2UirouterModule,UIRouterTracking};