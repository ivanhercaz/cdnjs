import*as tslib_1 from"tslib";import{Location}from"@angular/common";import{Injectable}from"@angular/core";import{Angulartics2}from"angulartics2";import*as i0 from"@angular/core";import*as i1 from"angulartics2";import*as i2 from"@angular/common";var Angulartics2AdobeAnalytics=function(){function t(t,e){var r=this;this.angulartics2=t,this.location=e,this.angulartics2.setUserProperties.subscribe(function(t){return r.setUserProperties(t)})}return t.prototype.startTracking=function(){var t=this;this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(function(e){return t.pageTrack(e.path)}),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(function(e){return t.eventTrack(e.action,e.properties)})},t.prototype.pageTrack=function(t){"undefined"!=typeof s&&s&&(s.clearVars(),s.t({pageName:t}))},t.prototype.eventTrack=function(t,e){if(e||(e=e||{}),"undefined"!=typeof s&&s&&("object"==typeof e&&this.setUserProperties(e),t)){var r=e.linkName?e.linkName:t,i=!!e.disableDelay||this;e.action&&(t=e.action),this.setPageName(),"DOWNLOAD"===t.toUpperCase()?s.tl(i,"d",r):"EXIT"===t.toUpperCase()?s.tl(i,"e",r):s.tl(i,"o",r)}},t.prototype.setPageName=function(){var t=this.location.path(!0),e=t.indexOf("#");e>0&&e<t.length?s.pageName=t.substring(e+1):s.pageName=t},t.prototype.setUserProperties=function(t){if("undefined"!=typeof s&&s&&"object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e])},t.ngInjectableDef=i0.defineInjectable({factory:function(){return new t(i0.inject(i1.Angulartics2),i0.inject(i2.Location))},token:t,providedIn:"root"}),t=tslib_1.__decorate([Injectable({providedIn:"root"}),tslib_1.__metadata("design:paramtypes",[Angulartics2,Location])],t)}();export{Angulartics2AdobeAnalytics};