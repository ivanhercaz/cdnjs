import{__decorate,__metadata}from"tslib";import{ɵɵdefineInjectable,ɵɵinject,Injectable,NgModule}from"@angular/core";import{ANGULARTICS2_TOKEN,RouterlessTracking,Angulartics2,Angulartics2OnModule}from"angulartics2";import{TransitionService}from"@uirouter/core";import{Subject}from"rxjs";let UIRouterTracking=class{constructor(r){this.transitionService=r}path(r){return r.$to().url.format(r.params())}trackLocation(r){const e=new Subject;return this.transitionService.onSuccess({},r=>e.next({url:this.path(r)}),{priority:-1e4}),e}prepareExternalUrl(r){return r}};var Angulartics2UirouterModule_1;UIRouterTracking.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new UIRouterTracking(ɵɵinject(TransitionService))},token:UIRouterTracking,providedIn:"root"}),UIRouterTracking=__decorate([Injectable({providedIn:"root"}),__metadata("design:paramtypes",[TransitionService])],UIRouterTracking);let Angulartics2UirouterModule=Angulartics2UirouterModule_1=class{static forRoot(r={}){return{ngModule:Angulartics2UirouterModule_1,providers:[{provide:ANGULARTICS2_TOKEN,useValue:{settings:r}},{provide:RouterlessTracking,useClass:UIRouterTracking},Angulartics2]}}};Angulartics2UirouterModule=Angulartics2UirouterModule_1=__decorate([NgModule({imports:[Angulartics2OnModule]})],Angulartics2UirouterModule);export{Angulartics2UirouterModule,UIRouterTracking};