import{Angulartics2,Angulartics2OnModule,ANGULARTICS2_TOKEN,RouterlessTracking}from"angulartics2";import{Injectable,NgModule,defineInjectable,inject}from"@angular/core";import{TransitionService}from"@uirouter/core";import{Subject}from"rxjs";class UIRouterTracking{constructor(r){this.transitionService=r}path(r){return r.$to().url.format(r.params())}trackLocation(r){const e=new Subject;return this.transitionService.onSuccess({},r=>e.next({url:this.path(r)}),{priority:-1e4}),e}prepareExternalUrl(r){return r}}UIRouterTracking.decorators=[{type:Injectable,args:[{providedIn:"root"}]}],UIRouterTracking.ctorParameters=(()=>[{type:TransitionService}]),UIRouterTracking.ngInjectableDef=defineInjectable({factory:function(){return new UIRouterTracking(inject(TransitionService))},token:UIRouterTracking,providedIn:"root"});class Angulartics2UirouterModule{static forRoot(r={}){return{ngModule:Angulartics2UirouterModule,providers:[{provide:ANGULARTICS2_TOKEN,useValue:{settings:r}},{provide:RouterlessTracking,useClass:UIRouterTracking},Angulartics2]}}}Angulartics2UirouterModule.decorators=[{type:NgModule,args:[{imports:[Angulartics2OnModule]}]}];export{Angulartics2UirouterModule,UIRouterTracking};