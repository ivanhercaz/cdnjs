{"version":3,"file":"angulartics2-uiroutermodule.umd.js.map","sources":["ng://angulartics2/uiroutermodule/uirouter.ts","ng://angulartics2/uiroutermodule/uirouter.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Transition, TransitionService } from '@uirouter/core';\n\nimport { Observable, Subject } from 'rxjs';\n\nimport { RouterlessTracking, TrackNavigationEnd } from 'angulartics2';\n\n/**\n * Track Route changes for applications using UI-Router\n *\n * @link https://ui-router.github.io/ng2/docs/latest/\n *\n * referenced: https://github.com/ui-router/sample-app-angular/blob/9adb533b85c0f0fccef23968489cca0a5ec84654/src/app/util/ga.ts\n */\n@Injectable({ providedIn: 'root' })\nexport class UIRouterTracking implements RouterlessTracking {\n  constructor(private transitionService: TransitionService) {}\n\n  path(trans: Transition) {\n    return trans.$to().url.format(trans.params());\n  }\n\n  trackLocation(settings): Observable<TrackNavigationEnd> {\n    const subject = new Subject<TrackNavigationEnd>();\n    this.transitionService.onSuccess(\n      {},\n      trans => {\n        return subject.next({ url: this.path(trans) });\n      },\n      {\n        priority: -10000,\n      },\n    );\n    return subject;\n  }\n\n  prepareExternalUrl(url: string): string {\n    return url;\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport {\n  Angulartics2,\n  Angulartics2OnModule,\n  Angulartics2Settings,\n  ANGULARTICS2_TOKEN,\n  RouterlessTracking,\n} from 'angulartics2';\nimport { UIRouterTracking } from './uirouter';\n\n@NgModule({\n  imports: [Angulartics2OnModule],\n})\nexport class Angulartics2UirouterModule {\n  static forRoot(\n    settings: Partial<Angulartics2Settings> = {},\n  ): ModuleWithProviders {\n    return {\n      ngModule: Angulartics2UirouterModule,\n      providers: [\n        { provide: ANGULARTICS2_TOKEN, useValue: { settings } },\n        { provide: RouterlessTracking, useClass: UIRouterTracking },\n        Angulartics2,\n      ],\n    };\n  }\n}\n"],"names":["Subject","Injectable","TransitionService","ANGULARTICS2_TOKEN","RouterlessTracking","Angulartics2","NgModule","Angulartics2OnModule"],"mappings":";;;;;;;;;;AAAA;;;;;;;AAcA;QAEE,0BAAoB,iBAAoC;YAApC,sBAAiB,GAAjB,iBAAiB,CAAmB;SAAI;;;;;QAE5D,+BAAI;;;;YAAJ,UAAK,KAAiB;gBACpB,OAAO,KAAK,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;aAC/C;;;;;QAED,wCAAa;;;;YAAb,UAAc,QAAQ;gBAAtB,iBAYC;;oBAXO,OAAO,GAAG,IAAIA,YAAO,EAAsB;gBACjD,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAC9B,EAAE,EACF,UAAA,KAAK;oBACH,OAAO,OAAO,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;iBAChD,EACD;oBACE,QAAQ,EAAE,CAAC,KAAK;iBACjB,CACF,CAAC;gBACF,OAAO,OAAO,CAAC;aAChB;;;;;QAED,6CAAkB;;;;YAAlB,UAAmB,GAAW;gBAC5B,OAAO,GAAG,CAAC;aACZ;;oBAxBFC,aAAU,SAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;;wBAbbC,oBAAiB;;;;+BADtC;KAcA;;;;;;ACdA;QAWA;SAgBC;;;;;QAZQ,kCAAO;;;;YAAd,UACE,QAA4C;gBAA5C,yBAAA;oBAAA,aAA4C;;gBAE5C,OAAO;oBACL,QAAQ,EAAE,0BAA0B;oBACpC,SAAS,EAAE;wBACT,EAAE,OAAO,EAAEC,+BAAkB,EAAE,QAAQ,EAAE,EAAE,QAAQ,UAAA,EAAE,EAAE;wBACvD,EAAE,OAAO,EAAEC,+BAAkB,EAAE,QAAQ,EAAE,gBAAgB,EAAE;wBAC3DC,yBAAY;qBACb;iBACF,CAAC;aACH;;oBAfFC,WAAQ,SAAC;wBACR,OAAO,EAAE,CAACC,iCAAoB,CAAC;qBAChC;;QAcD,iCAAC;KAhBD;;;;;;;;;;;;;;;;;;;;;;;"}
