var __decorate=this&&this.__decorate||function(e,s,t,a){var i,n=arguments.length,r=n<3?s:null===a?a=Object.getOwnPropertyDescriptor(s,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,s,t,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(n<3?i(r):n>3?i(s,t,r):i(s,t))||r);return n>3&&r&&Object.defineProperty(s,t,r),r},__param=this&&this.__param||function(e,s){return function(t,a){s(t,a,e)}};import{NgModule,Component,OnDestroy,Input,Output,EventEmitter,AfterContentInit,Optional,ElementRef,ChangeDetectionStrategy,ContentChildren,QueryList,TemplateRef}from"@angular/core";import{CommonModule}from"@angular/common";import{trigger,state,style,transition,animate}from"@angular/animations";import{Message,PrimeTemplate,MessageService}from"primeng/api";let Messages=class{constructor(e,s){this.messageService=e,this.el=s,this.closable=!0,this.enableService=!0,this.escape=!0,this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.valueChange=new EventEmitter}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){let s=e.filter(e=>this.key===e.key);this.value=this.value?[...this.value,...s]:[...s]}else this.key===e.key&&(this.value=this.value?[...this.value,...[e]]:[e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.value=null):this.value=null}))}hasMessages(){let e=this.el.nativeElement.parentElement;return!(!e||!e.offsetParent)&&(null!=this.contentTemplate||this.value&&this.value.length>0)}getSeverityClass(){if(this.severity)return"ui-messages-"+this.severity;{const e=this.value[0];if(e){const s=["info","warn","error","success"].find(s=>s===e.severity);return s&&`ui-messages-${s}`}}return null}clear(e){this.value=[],this.valueChange.emit(this.value),e.preventDefault()}get icon(){const e=this.severity||(this.hasMessages()?this.value[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe()}};Messages.ctorParameters=(()=>[{type:MessageService,decorators:[{type:Optional}]},{type:ElementRef}]),__decorate([Input()],Messages.prototype,"value",void 0),__decorate([Input()],Messages.prototype,"closable",void 0),__decorate([Input()],Messages.prototype,"style",void 0),__decorate([Input()],Messages.prototype,"styleClass",void 0),__decorate([Input()],Messages.prototype,"enableService",void 0),__decorate([Input()],Messages.prototype,"key",void 0),__decorate([Input()],Messages.prototype,"escape",void 0),__decorate([Input()],Messages.prototype,"severity",void 0),__decorate([Input()],Messages.prototype,"showTransitionOptions",void 0),__decorate([Input()],Messages.prototype,"hideTransitionOptions",void 0),__decorate([ContentChildren(PrimeTemplate)],Messages.prototype,"templates",void 0),__decorate([Output()],Messages.prototype,"valueChange",void 0);export{Messages};let MessagesModule=class{};MessagesModule=__decorate([NgModule({imports:[CommonModule],exports:[Messages=__decorate([Component({selector:"p-messages",template:'\n        <div *ngIf="hasMessages()" class="ui-messages ui-widget ui-corner-all"\n                    [ngClass]="getSeverityClass()" role="alert" [ngStyle]="style" [class]="styleClass"\n                    [@messageAnimation]="{value: \'visible\', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}">\n            <a tabindex="0" class="ui-messages-close" (click)="clear($event)" (keydown.enter)="clear($event)" *ngIf="closable">\n                <i class="pi pi-times"></i>\n            </a>\n            <span class="ui-messages-icon pi" [ngClass]="icon"></span>\n            <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>\n            <ul *ngIf="value && value.length">\n                <li *ngFor="let msg of value">\n                    <div *ngIf="!escape; else escapeOut">\n                        <span *ngIf="msg.summary" class="ui-messages-summary" [innerHTML]="msg.summary"></span>\n                        <span *ngIf="msg.detail" class="ui-messages-detail" [innerHTML]="msg.detail"></span>\n                    </div>\n                    <ng-template #escapeOut>\n                        <span *ngIf="msg.summary" class="ui-messages-summary">{{msg.summary}}</span>\n                        <span *ngIf="msg.detail" class="ui-messages-detail">{{msg.detail}}</span>\n                    </ng-template>\n                </li>\n            </ul>\n        </div>\n    ',animations:[trigger("messageAnimation",[state("visible",style({transform:"translateY(0)",opacity:1})),transition("void => *",[style({transform:"translateY(-25%)",opacity:0}),animate("{{showTransitionParams}}")]),transition("* => void",[animate("{{hideTransitionParams}}",style({opacity:0,transform:"translateY(-25%)"}))])])],changeDetection:ChangeDetectionStrategy.Default}),__param(0,Optional())],Messages)],declarations:[Messages]})],MessagesModule);export{MessagesModule};