var __decorate=this&&this.__decorate||function(t,e,a,i){var n,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,a,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(c=(o<3?n(c):o>3?n(e,a,c):n(e,a))||c);return o>3&&c&&Object.defineProperty(e,a,c),c};import{NgModule,AfterViewInit,Component,EventEmitter,Input,NgZone,OnDestroy,Output,ElementRef,ChangeDetectionStrategy}from"@angular/core";import{CommonModule}from"@angular/common";let Captcha=class{constructor(t,e){this.el=t,this._zone=e,this.siteKey=null,this.theme="light",this.type="image",this.size="normal",this.tabindex=0,this.language=null,this.initCallback="initRecaptcha",this.onResponse=new EventEmitter,this.onExpire=new EventEmitter,this._instance=null}ngAfterViewInit(){window.grecaptcha?window.grecaptcha.render?this.init():setTimeout(()=>{this.init()},100):window[this.initCallback]=(()=>{this.init()})}init(){this._instance=window.grecaptcha.render(this.el.nativeElement.children[0],{sitekey:this.siteKey,theme:this.theme,type:this.type,size:this.size,tabindex:this.tabindex,hl:this.language,callback:t=>{this._zone.run(()=>this.recaptchaCallback(t))},"expired-callback":()=>{this._zone.run(()=>this.recaptchaExpiredCallback())}})}reset(){null!==this._instance&&window.grecaptcha.reset(this._instance)}getResponse(){return null===this._instance?null:window.grecaptcha.getResponse(this._instance)}recaptchaCallback(t){this.onResponse.emit({response:t})}recaptchaExpiredCallback(){this.onExpire.emit()}ngOnDestroy(){null!=this._instance&&window.grecaptcha.reset(this._instance)}};Captcha.ctorParameters=(()=>[{type:ElementRef},{type:NgZone}]),__decorate([Input()],Captcha.prototype,"siteKey",void 0),__decorate([Input()],Captcha.prototype,"theme",void 0),__decorate([Input()],Captcha.prototype,"type",void 0),__decorate([Input()],Captcha.prototype,"size",void 0),__decorate([Input()],Captcha.prototype,"tabindex",void 0),__decorate([Input()],Captcha.prototype,"language",void 0),__decorate([Input()],Captcha.prototype,"initCallback",void 0),__decorate([Output()],Captcha.prototype,"onResponse",void 0),__decorate([Output()],Captcha.prototype,"onExpire",void 0);export{Captcha};let CaptchaModule=class{};CaptchaModule=__decorate([NgModule({imports:[CommonModule],exports:[Captcha=__decorate([Component({selector:"p-captcha",template:"<div></div>",changeDetection:ChangeDetectionStrategy.Default})],Captcha)],declarations:[Captcha]})],CaptchaModule);export{CaptchaModule};