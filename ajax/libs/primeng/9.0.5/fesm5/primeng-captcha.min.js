import{EventEmitter,ElementRef,NgZone,Input,Output,Component,ChangeDetectionStrategy,NgModule}from"@angular/core";import{CommonModule}from"@angular/common";var __decorate=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Captcha=function(){function t(t,e){this.el=t,this._zone=e,this.siteKey=null,this.theme="light",this.type="image",this.size="normal",this.tabindex=0,this.language=null,this.initCallback="initRecaptcha",this.onResponse=new EventEmitter,this.onExpire=new EventEmitter,this._instance=null}return t.prototype.ngAfterViewInit=function(){var t=this;window.grecaptcha?window.grecaptcha.render?this.init():setTimeout(function(){t.init()},100):window[this.initCallback]=function(){t.init()}},t.prototype.init=function(){var t=this;this._instance=window.grecaptcha.render(this.el.nativeElement.children[0],{sitekey:this.siteKey,theme:this.theme,type:this.type,size:this.size,tabindex:this.tabindex,hl:this.language,callback:function(e){t._zone.run(function(){return t.recaptchaCallback(e)})},"expired-callback":function(){t._zone.run(function(){return t.recaptchaExpiredCallback()})}})},t.prototype.reset=function(){null!==this._instance&&window.grecaptcha.reset(this._instance)},t.prototype.getResponse=function(){return null===this._instance?null:window.grecaptcha.getResponse(this._instance)},t.prototype.recaptchaCallback=function(t){this.onResponse.emit({response:t})},t.prototype.recaptchaExpiredCallback=function(){this.onExpire.emit()},t.prototype.ngOnDestroy=function(){null!=this._instance&&window.grecaptcha.reset(this._instance)},t.ctorParameters=function(){return[{type:ElementRef},{type:NgZone}]},__decorate([Input()],t.prototype,"siteKey",void 0),__decorate([Input()],t.prototype,"theme",void 0),__decorate([Input()],t.prototype,"type",void 0),__decorate([Input()],t.prototype,"size",void 0),__decorate([Input()],t.prototype,"tabindex",void 0),__decorate([Input()],t.prototype,"language",void 0),__decorate([Input()],t.prototype,"initCallback",void 0),__decorate([Output()],t.prototype,"onResponse",void 0),__decorate([Output()],t.prototype,"onExpire",void 0),t=__decorate([Component({selector:"p-captcha",template:"<div></div>",changeDetection:ChangeDetectionStrategy.Default})],t)}(),CaptchaModule=function(){function t(){}return t=__decorate([NgModule({imports:[CommonModule],exports:[Captcha],declarations:[Captcha]})],t)}();export{Captcha,CaptchaModule};