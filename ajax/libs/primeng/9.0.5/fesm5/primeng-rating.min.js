import{forwardRef,EventEmitter,ChangeDetectorRef,Input,Output,Component,ChangeDetectionStrategy,NgModule}from"@angular/core";import{CommonModule}from"@angular/common";import{NG_VALUE_ACCESSOR}from"@angular/forms";var __decorate=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r},RATING_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return Rating}),multi:!0},Rating=function(){function t(t){this.cd=t,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star",this.iconOffClass="pi pi-star-o",this.iconCancelClass="pi pi-ban",this.onRate=new EventEmitter,this.onCancel=new EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return t.prototype.ngOnInit=function(){this.starsArray=[];for(var t=0;t<this.stars;t++)this.starsArray[t]=t},t.prototype.rate=function(t,e){this.readonly||this.disabled||(this.value=e+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:t,value:e+1})),t.preventDefault()},t.prototype.clear=function(t){this.readonly||this.disabled||(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(t)),t.preventDefault()},t.prototype.writeValue=function(t){this.value=t,this.cd.detectChanges()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.ctorParameters=function(){return[{type:ChangeDetectorRef}]},__decorate([Input()],t.prototype,"disabled",void 0),__decorate([Input()],t.prototype,"readonly",void 0),__decorate([Input()],t.prototype,"stars",void 0),__decorate([Input()],t.prototype,"cancel",void 0),__decorate([Input()],t.prototype,"iconOnClass",void 0),__decorate([Input()],t.prototype,"iconOnStyle",void 0),__decorate([Input()],t.prototype,"iconOffClass",void 0),__decorate([Input()],t.prototype,"iconOffStyle",void 0),__decorate([Input()],t.prototype,"iconCancelClass",void 0),__decorate([Input()],t.prototype,"iconCancelStyle",void 0),__decorate([Output()],t.prototype,"onRate",void 0),__decorate([Output()],t.prototype,"onCancel",void 0),t=__decorate([Component({selector:"p-rating",template:'\n        <div class="ui-rating" [ngClass]="{\'ui-state-disabled\': disabled}">\n            <a [attr.tabindex]="disabled ? null : \'0\'" *ngIf="cancel" (click)="clear($event)" (keydown.enter)="clear($event)"  class="ui-rating-cancel">\n                <span class="ui-rating-icon" [ngClass]="iconCancelClass" [ngStyle]="iconCancelStyle"></span>\n            </a>\n            <a [attr.tabindex]="disabled ? null : \'0\'" *ngFor="let star of starsArray;let i=index" (click)="rate($event,i)" (keydown.enter)="rate($event,i)">\n                <span class="ui-rating-icon" \n                    [ngClass]="(!value || i >= value) ? iconOffClass : iconOnClass"\n                    [ngStyle]="(!value || i >= value) ? iconOffStyle : iconOnStyle"\n                ></span>\n            </a>\n        </div>\n    ',providers:[RATING_VALUE_ACCESSOR],changeDetection:ChangeDetectionStrategy.Default})],t)}(),RatingModule=function(){function t(){}return t=__decorate([NgModule({imports:[CommonModule],exports:[Rating],declarations:[Rating]})],t)}();export{RATING_VALUE_ACCESSOR,Rating,RatingModule};