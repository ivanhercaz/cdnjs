{"version":3,"sources":["chess.js"],"names":["Chess","fen","BLACK","WHITE","EMPTY","PAWN","KNIGHT","BISHOP","ROOK","QUEEN","KING","SYMBOLS","DEFAULT_POSITION","POSSIBLE_RESULTS","PAWN_OFFSETS","b","w","PIECE_OFFSETS","n","r","q","k","ATTACKS","RAYS","SHIFTS","p","FLAGS","NORMAL","CAPTURE","BIG_PAWN","EP_CAPTURE","PROMOTION","KSIDE_CASTLE","QSIDE_CASTLE","BITS","RANK_1","RANK_2","RANK_7","RANK_8","SQUARES","a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1","ROOKS","square","flag","board","Array","kings","turn","castling","ep_square","half_moves","move_number","history","header","clear","keep_headers","update_setup","generate_fen","reset","load","tokens","split","position","validate_fen","valid","i","length","piece","charAt","indexOf","parseInt","color","put","type","toLowerCase","algebraic","errors","error_number","error","isNaN","test","rows","sum_fields","previous_was_number","empty","toUpperCase","cflags","epflags","join","set_header","args","get","sq","build_move","from","to","flags","promotion","move","captured","generate_moves","options","add_move","moves","rank","push","pieces","len","us","them","swap_color","second_rank","first_sq","last_sq","single_square","legal","j","offset","castling_to","castling_from","attacked","legal_moves","make_move","king_attacked","undo_move","move_to_san","sloppy","output","disambiguator","ambiguities","same_rank","same_file","ambig_from","ambig_to","ambig_piece","file","get_disambiguator","in_check","in_checkmate","stripped_san","replace","difference","index","blocked","in_stalemate","insufficient_material","bishops","num_pieces","sq_color","sum","in_threefold_repetition","positions","repetition","slice","pop","old","move_from_san","clean_move","matches","match","f","substring","c","make_pretty","ugly_move","clone","obj","dupe","property","san","trim","str","keys","ugly_moves","verbose","in_draw","game_over","row","pgn","newline","newline_char","max_width","result","header_exists","reversed_history","move_string","Result","current_width","load_pgn","mask","header_regex","RegExp","header_string","exec","headers","header_obj","key","value","parse_pgn_header","ms","rav_regex","half_move","object","has_keys","arguments","ascii","s","move_obj","pretty_move","undo","remove","perft","depth","nodes","square_color","sq_0x88","move_history","exports","define"],"mappings":"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"}