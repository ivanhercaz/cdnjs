!function(T){T.extend(!0,window,{Slick:{Plugins:{ContextMenu:function(t){var f,v,C,h,g=-1,w=-1,b="",o=new Slick.EventHandler,x=this,n={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:-4,autoAlignSideOffset:0,hideMenuOnScroll:!1,maxHeight:"none",width:"auto",optionShownOverColumnIds:[],commandShownOverColumnIds:[]};function s(e){var t=v.getCellFromEvent(e);g=t&&t.cell,w=t&&t.row;var o=v.getColumns()[g],n=v.getDataItem(w),i=S(f.optionShownOverColumnIds,o.id),s=S(f.commandShownOverColumnIds,o.id),l=f.commandItems||[],a=f.optionItems||[];if(o&&(s||i)&&(l.length||!a.length)&&(O(e),0!=x.onBeforeMenuShow.notify({cell:g,row:w,grid:v},e,x))){var d,c,r=isNaN(f.maxHeight)?f.maxHeight:f.maxHeight+"px",u=isNaN(f.width)?f.width:f.width+"px",m=T('<div class="slick-context-menu '+b+'" style="'+("width: "+u+"; max-height: "+r)+'" />').css("top",e.pageY).css("left",e.pageX).css("display","none"),p='<button type="button" class="close" data-dismiss="slick-context-menu" aria-label="Close"><span class="close" aria-hidden="true">&times;</span></button>';if(!f.hideOptionSection&&i&&0<a.length&&(d=T('<div class="slick-context-menu-option-list" />'),f.hideCloseButton||T(p).on("click",O).appendTo(m),d.appendTo(m),function(e,t,o,n){if(!n||!o||!e)return;e&&e.optionTitle&&T('<div class="title"/>').append(e.optionTitle).appendTo(t);for(var i=0,s=o.length;i<s;i++){var l,a,d,c=o[i],r=I(c.itemVisibilityOverride,n),u=I(c.itemUsabilityOverride,n);r&&(Object.prototype.hasOwnProperty.call(c,"itemUsabilityOverride")&&(c.disabled=!u),l=T('<div class="slick-context-menu-item"></div>').data("option",c.option||"").data("item",c).on("click",y).appendTo(t),c.divider||"divider"===c?l.addClass("slick-context-menu-item-divider"):(!c.disabled&&u||l.addClass("slick-context-menu-item-disabled"),c.cssClass&&l.addClass(c.cssClass),c.tooltip&&l.attr("title",c.tooltip),a=T('<div class="slick-context-menu-icon"></div>').appendTo(l),c.iconCssClass&&a.addClass(c.iconCssClass),c.iconImage&&a.css("background-image","url("+c.iconImage+")"),d=T('<span class="slick-context-menu-content"></span>').text(c.title).appendTo(l),c.textCssClass&&d.addClass(c.textCssClass)))}}(f,d,a,{cell:g,row:w,column:o,dataContext:n,grid:v})),!f.hideCommandSection&&s&&0<l.length&&(c=T('<div class="slick-context-menu-command-list" />'),f.hideCloseButton||i&&0!==a.length&&!f.hideOptionSection||T(p).on("click",O).appendTo(m),c.appendTo(m),function(e,t,o,n){if(!n||!o||!e)return;e&&e.commandTitle&&T('<div class="title"/>').append(e.commandTitle).appendTo(t);for(var i=0,s=o.length;i<s;i++){var l,a,d,c=o[i],r=I(c.itemVisibilityOverride,n),u=I(c.itemUsabilityOverride,n);r&&(Object.prototype.hasOwnProperty.call(c,"itemUsabilityOverride")&&(c.disabled=!u),l=T('<div class="slick-context-menu-item"></div>').data("command",c.command||"").data("item",c).on("click",k).appendTo(t),c.divider||"divider"===c?l.addClass("slick-context-menu-item-divider"):(!c.disabled&&u||l.addClass("slick-context-menu-item-disabled"),c.cssClass&&l.addClass(c.cssClass),c.tooltip&&l.attr("title",c.tooltip),a=T('<div class="slick-context-menu-icon"></div>').appendTo(l),c.iconCssClass&&a.addClass(c.iconCssClass),c.iconImage&&a.css("background-image","url("+c.iconImage+")"),d=T('<span class="slick-context-menu-content"></span>').text(c.title).appendTo(l),c.textCssClass&&d.addClass(c.textCssClass)))}}(f,c,l,{cell:g,row:w,column:o,dataContext:n,grid:v})),m.show(),m.appendTo("body"),0!=x.onAfterMenuShow.notify({cell:g,row:w,grid:v},e,x))return m}}function O(e,t){if((h=h||T(".slick-context-menu."+b))&&0<h.length){if(0==x.onBeforeMenuClose.notify({cell:t&&t.cell,row:t&&t.row,grid:v,menu:h},e,x))return;h&&h.remove&&(h.remove(),h=null)}}function S(e,t){var o=!1;if(e&&0<e.length)for(var n=0,i=e.length;n<i;n++)e[n]===t&&(o=!0);else o=!0;return o}function i(e,t){e.preventDefault();var o=v.getCellFromEvent(e),n=v.getColumns()[o.cell],i=v.getDataItem(o.row);(t=t||{}).cell=o.cell,t.row=o.row,t.columnDef=n,t.dataContext=i,t.grid=v,I(f.menuUsabilityOverride,t)&&((h=s(e))&&(function(e){var t=T(e.target).closest(".slick-cell"),o=e.pageX,n=t?t.offset().top:e.pageY,i=h.outerHeight()||0,s=h.outerWidth()||f.width||0,l=C.rowHeight,a=f.autoAdjustDropOffset,d=f.autoAlignSideOffset;{var c,r,u,m;f.autoAdjustDrop&&(c=function(e){var t=T(window).innerHeight()||0,o=T(window).scrollTop()||0;return e&&e.offset&&0<e.length?t-(e.offset().top-o):0}(t),r=function(e){var t=T(window).scrollTop()||0;return e&&e.offset&&0<e.length?e.offset().top-t:0}(t),m=r-a+l,n="top"==((u=c+a-l)<i&&u<m?"top":"bottom")?(h.removeClass("dropdown").addClass("dropup"),n-i-a):(h.removeClass("dropup").addClass("dropdown"),n+l+a))}{var p;f.autoAlignSide&&(p=v.getGridPosition(),"left"==(o+s>=p.width?"left":"right")?(h.removeClass("dropright").addClass("dropleft"),o=o-s-d):(h.removeClass("dropleft").addClass("dropright"),o+=d))}h.css("top",n),h.css("left",o)}(e),h.data("cell",g).data("row",w).show()),T("body").one("click",function(e){O(e,{cell:g,row:w})}))}function k(e){var t,o,n,i,s,l,a=T(this).data("command"),d=T(this).data("item");!d||d.disabled||d.divider||(t=h.data("row"),o=h.data("cell"),n=v.getColumns()[o],i=v.getDataItem(t),Object.prototype.hasOwnProperty.call(i,n&&n.field)&&(s=i[n.field]),null!=a&&""!==a&&(l={cell:o,row:t,grid:v,command:a,item:d,column:n,dataContext:i,value:s},x.onCommand.notify(l,e,x),"function"==typeof d.action&&d.action.call(this,e,l)))}function y(e){var t,o,n,i,s,l=T(this).data("option"),a=T(this).data("item");a.disabled||a.divider||v.getEditorLock().commitCurrentEdit()&&(t=h.data("row"),o=h.data("cell"),n=v.getColumns()[o],i=v.getDataItem(t),void 0!==l&&(s={cell:o,row:t,grid:v,option:l,item:a,column:n,dataContext:i},x.onOptionSelected.notify(s,e,x),"function"==typeof a.action&&a.action.call(this,e,s)))}function I(e,t){return"function"!=typeof e||e.call(this,t)}T.extend(this,{init:function(e){C=(v=e).getOptions(),f=T.extend({},n,t),b=e&&e.getUID?e.getUID():"",o.subscribe(v.onContextMenu,i),f.hideMenuOnScroll&&o.subscribe(v.onScroll,O)},closeMenu:O,destroy:function(){x.onAfterMenuShow.unsubscribe(),x.onBeforeMenuShow.unsubscribe(),x.onBeforeMenuClose.unsubscribe(),x.onCommand.unsubscribe(),x.onOptionSelected.unsubscribe(),o.unsubscribeAll(),h&&h.remove&&h.remove()},pluginName:"ContextMenu",setOptions:function(e){f=T.extend({},f,e),e.commandShownOverColumnIds&&(f.commandShownOverColumnIds=e.commandShownOverColumnIds),e.optionShownOverColumnIds&&(f.optionShownOverColumnIds=e.optionShownOverColumnIds)},onAfterMenuShow:new Slick.Event,onBeforeMenuShow:new Slick.Event,onBeforeMenuClose:new Slick.Event,onCommand:new Slick.Event,onOptionSelected:new Slick.Event})}}}})}(jQuery);