!function(ot){ot.extend(!0,window,{Slick:{Data:{DataView:function(u){var r,i,s,g,c,f=this,h="id",o=[],p=[],l={},d=null,m=null,v=null,a=!1,_=!0,w={},y={},$=[],C=[],I={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},R=[],S=[],x=[],E=":|:",M=0,b=0,F=0,n=new Slick.Event,A=new Slick.Event,N=new Slick.Event,G=new Slick.Event,T=new Slick.Event,k=new Slick.Event,O=new Slick.Event,P=new Slick.Event;function j(t){for(var e,n=t=t||0,r=o.length;n<r;n++){if(void 0===(e=o[n][h]))throw new Error("Each data element must implement a unique 'id' property");l[e]=n}}function D(){var t=M?Math.max(1,Math.ceil(F/M)):1;return{pageSize:M,pageNum:b,totalRows:F,totalPages:t,dataView:f}}function t(t,e){i=t,r=null,!1===(_=e)&&o.reverse(),o.sort(t),!1===e&&o.reverse(),l={},j(),it()}function e(t,e){_=e,r=t,i=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},!1===e&&o.reverse(),o.sort(),Object.prototype.toString=n,!1===e&&o.reverse(),l={},j(),it()}function K(t){u.groupItemMetadataProvider||(u.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),S=[],x=[],R=(t=t||[])instanceof Array?t:[t];for(var e=0;e<R.length;e++){var n=R[e]=ot.extend(!0,{},I,R[e]);n.getterIsAFn="function"==typeof n.getter,n.compiledAccumulators=[];for(var r=n.aggregators.length;r--;)n.compiledAccumulators[r]=Z(n.aggregators[r]);x[e]={}}it()}function B(){if(!d){d={};for(var t=0,e=p.length;t<e;t++)d[p[t][h]]=t}}function z(t){return o[l[t]]}function V(t,e){if(void 0===l[t])throw new Error("Invalid id");if(t!==e[h]){var n=e[h];if(null==n)throw new Error("Cannot update item to associate with a null id");if(void 0!==l[n])throw new Error("Cannot update item to associate with a non-unique id");l[n]=l[t],delete l[t],v&&v[t]&&delete v[t],t=n}o[l[t]]=e,(v=v||{})[t]=!0,it()}function q(t,e){o.splice(t,0,e),j(t),it()}function U(t){var e=l[t];if(void 0===e)throw new Error("Invalid id");delete l[t],o.splice(e,1),j(e),it()}function L(t){if(!i)throw new Error("sortedAddItem() requires a sort comparer, use sort()");q(function(t){var e=0,n=o.length;for(;e<n;){var r=e+n>>>1;-1===i(o[r],t)?e=1+r:n=r}return e}(t),t)}function H(t,e){if(null==t)for(var n=0;n<R.length;n++)x[n]={},!0===(R[n].collapsed=e)?P.notify({level:n,groupingKey:null}):O.notify({level:n,groupingKey:null});else x[t]={},!0===(R[t].collapsed=e)?P.notify({level:t,groupingKey:null}):O.notify({level:t,groupingKey:null});it()}function Q(t,e,n){x[t][e]=R[t].collapsed^n,it()}function W(t,e){for(var n,r,i,o=[],l={},a=e?e.level+1:0,u=R[a],s=0,g=u.predefinedValues.length;s<g;s++)(n=l[r=u.predefinedValues[s]])||((n=new Slick.Group).value=r,n.level=a,n.groupingKey=(e?e.groupingKey+E:"")+r,o[o.length]=n,l[r]=n);for(s=0,g=t.length;s<g;s++)i=t[s],(n=l[r=u.getterIsAFn?u.getter(i):i[u.getter]])||((n=new Slick.Group).value=r,n.level=a,n.groupingKey=(e?e.groupingKey+E:"")+r,o[o.length]=n,l[r]=n),n.rows[n.count++]=i;if(a<R.length-1)for(s=0;s<o.length;s++)(n=o[s]).groups=W(n.rows,n);return o.length&&function t(e,n){n=n||0;var r=R[n];var i=r.collapsed;var o=x[n];var l,a=e.length;for(;a--;)(l=e[a]).collapsed&&!r.aggregateCollapsed||(l.groups&&t(l.groups,n+1),r.aggregators.length&&(r.aggregateEmpty||l.rows.length||l.groups&&l.groups.length)&&X(l),l.collapsed=i^o[l.groupingKey],l.title=r.formatter?r.formatter(l):l.value)}(o),o.sort(R[a].comparer),o}function J(t){var e,n=t.group,r=R[n.level],i=n.level==R.length,o=r.aggregators.length;if(!i&&r.aggregateChildGroups)for(var l=n.groups.length;l--;)n.groups[l].totals.initialized||J(n.groups[l].totals);for(;o--;)(e=r.aggregators[o]).init(),!i&&r.aggregateChildGroups?r.compiledAccumulators[o].call(e,n.groups):r.compiledAccumulators[o].call(e,n.rows),e.storeResult(t);t.initialized=!0}function X(t){var e=R[t.level],n=new Slick.GroupTotals;(n.group=t).totals=n,e.lazyTotalsCalculation||J(n)}function Y(t){var e=0<=t.toString().indexOf("function")?/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/:/^[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,n=t.toString().match(e);return{params:n[1].split(","),body:n[2]}}function Z(t){if(t.accumulate){var e=Y(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}"),r="compiledAccumulatorLoop";return n.displayName=r,n.name=tt(n,r),n}return function(){}}function tt(e,n){try{Object.defineProperty(e,"name",{writable:!0,value:n})}catch(t){e.name=n}}function et(t,e){for(var n=[],r=0,i=0,o=t.length;i<o;i++)m(t[i],e)&&(n[r++]=t[i]);return n}function nt(t,e,n){for(var r,i=[],o=0,l=0,a=t.length;l<a;l++)r=t[l],n[l]?i[o++]=r:m(r,e)&&(i[o++]=r,n[l]=!0);return i}function rt(t){d=null,w.isFilterNarrowing==y.isFilterNarrowing&&w.isFilterExpanding==y.isFilterExpanding||(C=[]);var e,n,r,i,o=(e=t,m?(n=u.inlineFilters?g:et,r=u.inlineFilters?c:nt,w.isFilterNarrowing?$=n($,s):w.isFilterExpanding?$=r(e,s,C):w.isFilterUnchanged||($=n(e,s))):$=M?e:e.concat(),i=M?($.length<=b*M&&(b=0===$.length?0:Math.floor(($.length-1)/M)),$.slice(M*b,M*b+M)):$,{totalRows:$.length,rows:i});F=o.totalRows;var l=o.rows;S=[],R.length&&(S=W(l)).length&&(l=function t(e,n){for(var r,i,o=R[n=n||0],l=[],a=0,u=0,s=e.length;u<s;u++){if(i=e[u],!(l[a++]=i).collapsed)for(var g=0,c=(r=i.groups?t(i.groups,n+1):i.rows).length;g<c;g++)l[a++]=r[g];i.totals&&o.displayTotalsRow&&(!i.collapsed||o.aggregateCollapsed)&&(l[a++]=i.totals)}return l}(S));var a=function(t,e){var n,r,i,o=[],l=0,a=Math.max(e.length,t.length);w&&w.ignoreDiffsBefore&&(l=Math.max(0,Math.min(e.length,w.ignoreDiffsBefore))),w&&w.ignoreDiffsAfter&&(a=Math.min(e.length,Math.max(0,w.ignoreDiffsAfter)));for(var u=l,s=t.length;u<a;u++)s<=u?o[o.length]=u:(n=e[u],r=t[u],(!n||R.length&&(i=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||i&&(n.__groupTotals||r.__groupTotals)||n[h]!=r[h]||v&&v[n[h]])&&(o[o.length]=u));return o}(p,l);return p=l,a}function it(){var t,e,n,r;a||(t=ot.extend(!0,{},D()),e=p.length,n=F,r=rt(o),M&&F<b*M&&(b=Math.max(0,Math.ceil(F/M)-1),r=rt(o)),v=null,y=w,w={},n!==F&&(T.notify(t,null,f),k.notify(D(),null,f)),e!==p.length&&A.notify({previous:e,current:p.length,dataView:f,callingOnRowsChanged:0<r.length},null,f),0<r.length&&N.notify({rows:r,dataView:f,calledOnRowCountChanged:e!==p.length},null,f),(e!==p.length||0<r.length)&&G.notify({rowsDiff:r,previousRowCount:e,currentRowCount:p.length,rowCountChanged:e!==p.length,rowsChanged:0<r.length,dataView:f},null,f))}u=ot.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},u),ot.extend(this,{beginUpdate:function(){a=!0},endUpdate:function(){a=!1,it()},setPagingOptions:function(t){T.notify(D(),null,f),null!=t.pageSize&&(M=t.pageSize,b=M?Math.min(b,Math.max(0,Math.ceil(F/M)-1)):0),null!=t.pageNum&&(b=Math.min(t.pageNum,Math.max(0,Math.ceil(F/M)-1))),k.notify(D(),null,f),it()},getPagingInfo:D,getIdPropertyName:function(){return h},getItems:function(){return o},setItems:function(t,e){void 0!==e&&(h=e),o=$=t,l={},j(),function(){for(var t,e=0,n=o.length;e<n;e++)if(void 0===(t=o[e][h])||l[t]!==e)throw new Error("Each data element must implement a unique 'id' property")}(),it(),n.notify({idProperty:e},null,f)},setFilter:function(t){m=t,u.inlineFilters&&(g=function(){var t=Y(m),e="{ continue _coreloop; }$1",n="{ _retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args",i),l="compiledFilter";return o.displayName=l,o.name=tt(o,l),o}(),c=function(){var t=Y(m),e="{ continue _coreloop; }$1",n="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args,_cache",i),l="compiledFilterWithCaching";return o.displayName=l,o.name=tt(o,l),o}()),it()},getFilter:function(){return m},getFilteredItems:function(){return $},sort:t,fastSort:e,reSort:function(){i?t(i,_):r&&e(r,_)},setGrouping:K,getGrouping:function(){return R},groupBy:function(t,e,n){K(null!=t?{getter:t,formatter:e,comparer:n}:[])},setAggregators:function(t,e){if(!R.length)throw new Error("At least one grouping must be specified before calling setAggregators().");R[0].aggregators=t,R[0].aggregateCollapsed=e,K(R)},collapseAllGroups:function(t){H(t,!0)},expandAllGroups:function(t){H(t,!1)},collapseGroup:function(t){var e,n=Array.prototype.slice.call(arguments),r=n[0],i=1===n.length&&-1!==r.indexOf(E)?(e=r).split(E).length-1:(e=n.join(E),n.length-1);Q(i,e,!0),P.notify({level:i,groupingKey:e})},expandGroup:function(t){var e,n=Array.prototype.slice.call(arguments),r=n[0],i=1===n.length&&-1!==r.indexOf(E)?(e=r.split(E).length-1,r):(e=n.length-1,n.join(E));Q(e,i,!1),O.notify({level:e,groupingKey:i})},getGroups:function(){return S},getIdxById:function(t){return l[t]},getRowByItem:function(t){return B(),d[t[h]]},getRowById:function(t){return B(),d[t]},getItemById:z,getItemByIdx:function(t){return o[t]},mapItemsToRows:function(t){var e=[];B();for(var n=0,r=t.length;n<r;n++){var i=d[t[n][h]];null!=i&&(e[e.length]=i)}return e},mapRowsToIds:function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]<p.length&&(e[e.length]=p[t[n]][h]);return e},mapIdsToRows:function(t){var e=[];B();for(var n=0,r=t.length;n<r;n++){var i=d[t[n]];null!=i&&(e[e.length]=i)}return e},setRefreshHints:function(t){w=t},setFilterArgs:function(t){s=t},refresh:it,updateItem:V,insertItem:q,addItem:function(t){o.push(t),j(o.length-1),it()},deleteItem:U,sortedAddItem:L,sortedUpdateItem:function(t,e){if(void 0===l[t]||t!==e[h])throw new Error("Invalid or non-matching id "+l[t]);if(!i)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var n=z(t);0!==i(n,e)?(U(t),L(e)):V(t,e)},syncGridSelection:function(r,e,i){var o,l=this,a=l.mapRowsToIds(r.getSelectedRows()),n=new Slick.Event;function u(t){a.join(",")!=t.join(",")&&(a=t,n.notify({grid:r,ids:a,dataView:l},new Slick.EventData,l))}return r.onSelectedRowsChanged.subscribe(function(t,e){var n;o||(n=l.mapRowsToIds(r.getSelectedRows()),i&&r.getOptions().multiSelect?u(ot.grep(a,function(t){return void 0===l.getRowById(t)}).concat(n)):u(n))}),this.onRowsOrCountChanged.subscribe(function(){var t;0<a.length&&(o=!0,t=l.mapIdsToRows(a),e||u(l.mapRowsToIds(t)),r.setSelectedRows(t),o=!1)}),n},syncGridCellCssStyles:function(r,i){var o,l;function n(t){for(var e in o={},t){var n=p[e][h];o[n]=t[e]}}function a(){if(o){l=!0,B();var t={};for(var e in o){var n=d[e];null!=n&&(t[n]=o[e])}r.setCellCssStyles(i,t),l=!1}}n(r.getCellCssStyles(i)),r.onCellCssStylesChanged.subscribe(function(t,e){l||i==e.key&&(e.hash?n(e.hash):(r.onCellCssStylesChanged.unsubscribe(),f.onRowsOrCountChanged.unsubscribe(a)))}),this.onRowsOrCountChanged.subscribe(a)},getLength:function(){return p.length},getItem:function(t){var e,n=p[t];return n&&n.__group&&n.totals&&!n.totals.initialized?(e=R[n.level]).displayTotalsRow||(J(n.totals),n.title=e.formatter?e.formatter(n):n.value):n&&n.__groupTotals&&!n.initialized&&J(n),n},getItemMetadata:function(t){var e=p[t];return void 0===e?null:e.__group?u.groupItemMetadataProvider.getGroupRowMetadata(e):e.__groupTotals?u.groupItemMetadataProvider.getTotalsRowMetadata(e):null},onSetItemsCalled:n,onRowCountChanged:A,onRowsChanged:N,onRowsOrCountChanged:G,onBeforePagingInfoChanged:T,onPagingInfoChanged:k,onGroupExpanded:O,onGroupCollapsed:P})},Aggregators:{Avg:function(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!==this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}},Max:function(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}},Sum:function(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}},Count:function(t){this.field_=t,this.init=function(){},this.storeResult=function(t){t.count||(t.count={}),t.count[this.field_]=t.group.rows.length}}}}}})}(jQuery);