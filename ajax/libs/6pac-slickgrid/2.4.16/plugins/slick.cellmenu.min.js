!function(x){x.extend(!0,window,{Slick:{Plugins:{CellMenu:function(t){var h,w,b,k,m=-1,p=-1,f="",i=new Slick.EventHandler,v=this,o={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:0,autoAlignSideOffset:0,hideMenuOnScroll:!0,maxHeight:"none",width:"auto"};function n(e){var t=w.getCellFromEvent(e);m=t&&t.cell,p=t&&t.row;var i=w.getColumns()[m],o=w.getDataItem(p),l=h.commandItems||[],n=h.optionItems||[];if(i&&i.cellMenu&&(l.length||!n.length)&&(g(),0!=v.onBeforeMenuShow.notify({cell:m,row:p,grid:w},e,v))){var s=isNaN(h.maxHeight)?h.maxHeight:h.maxHeight+"px",a=isNaN(h.width)?h.width:h.width+"px",d=x('<div class="slick-cell-menu '+f+'" style="'+("width: "+a+"; max-height: "+s)+'" />').css("top",e.pageY+5).css("left",e.pageX).css("display","none"),c='<button type="button" class="close" data-dismiss="slick-cell-menu" aria-label="Close"><span class="close" aria-hidden="true">&times;</span></button>';if(!h.hideOptionSection&&0<n.length){var r=x('<div class="slick-cell-menu-option-list" />');h.hideCloseButton||x(c).on("click",g).appendTo(d),r.appendTo(d),function(e,t,i,o){if(!o||!i||!e)return;e&&e.optionTitle&&x('<div class="title"/>').append(e.optionTitle).appendTo(t);for(var l=0,n=i.length;l<n;l++){var s=i[l],a=O(s.itemVisibilityOverride,o),d=O(s.itemUsabilityOverride,o);if(a){Object.prototype.hasOwnProperty.call(s,"itemUsabilityOverride")&&(s.disabled=!d);var c=x('<div class="slick-cell-menu-item"></div>').data("option",s.option||"").data("item",s).on("click",y).appendTo(t);if(s.divider||"divider"===s)c.addClass("slick-cell-menu-item-divider");else{!s.disabled&&d||c.addClass("slick-cell-menu-item-disabled"),s.cssClass&&c.addClass(s.cssClass),s.tooltip&&c.attr("title",s.tooltip);var r=x('<div class="slick-cell-menu-icon"></div>').appendTo(c);s.iconCssClass&&r.addClass(s.iconCssClass),s.iconImage&&r.css("background-image","url("+s.iconImage+")");var u=x('<span class="slick-cell-menu-content"></span>').text(s.title).appendTo(c);s.textCssClass&&u.addClass(s.textCssClass)}}}}(h,r,n,{cell:m,row:p,column:i,dataContext:o,grid:w})}if(!h.hideCommandSection&&0<l.length){var u=x('<div class="slick-cell-menu-command-list" />');h.hideCloseButton||0!==n.length&&!h.hideOptionSection||x(c).on("click",g).appendTo(d),u.appendTo(d),function(e,t,i,o){if(!o||!i||!e)return;e&&e.commandTitle&&x('<div class="title"/>').append(e.commandTitle).appendTo(t);for(var l=0,n=i.length;l<n;l++){var s=i[l],a=O(s.itemVisibilityOverride,o),d=O(s.itemUsabilityOverride,o);if(a){Object.prototype.hasOwnProperty.call(s,"itemUsabilityOverride")&&(s.disabled=!d);var c=x('<div class="slick-cell-menu-item"></div>').data("command",s.command||"").data("item",s).on("click",C).appendTo(t);if(s.divider||"divider"===s)c.addClass("slick-cell-menu-item-divider");else{!s.disabled&&d||c.addClass("slick-cell-menu-item-disabled"),s.cssClass&&c.addClass(s.cssClass),s.tooltip&&c.attr("title",s.tooltip);var r=x('<div class="slick-cell-menu-icon"></div>').appendTo(c);s.iconCssClass&&r.addClass(s.iconCssClass),s.iconImage&&r.css("background-image","url("+s.iconImage+")");var u=x('<span class="slick-cell-menu-content"></span>').text(s.title).appendTo(c);s.textCssClass&&u.addClass(s.textCssClass)}}}}(h,u,l,{cell:m,row:p,column:i,dataContext:o,grid:w})}return d.show(),d.appendTo("body"),d}}function g(){(k=k||x(".slick-cell-menu."+f))&&k.remove&&(k.remove(),k=null)}function s(e){var t,i,o,l,n,s=x(e.target).closest(".slick-cell"),a=s?s.offset().left:e.pageX,d=s?s.offset().top:e.pageY,c=s.outerWidth(),r=k.outerHeight()||0,u=k.outerWidth()||h.width||0,m=b.rowHeight,p=h.autoAdjustDropOffset,f=h.autoAlignSideOffset;if(h.autoAdjustDrop){var v=(o=s,l=x(window).innerHeight()||0,n=x(window).scrollTop()||0,o&&o.offset&&0<o.length?l-(o.offset().top-n):0),g=(t=s,i=x(window).scrollTop()||0,t&&t.offset&&0<t.length?t.offset().top-i:0),C=v+p-m;d="top"==(C<r&&C<g-p+m?"top":"bottom")?(k.removeClass("dropdown").addClass("dropup"),d-r-p):(k.removeClass("dropup").addClass("dropdown"),d+m+p)}h.autoAlignSide&&("left"==(a+u>=w.getGridPosition().width?"left":"right")?(k.removeClass("dropright").addClass("dropleft"),a=a-(u-c)-f):(k.removeClass("dropleft").addClass("dropright"),a+=f));k.css("top",d),k.css("left",a)}function l(e,t){e.preventDefault();var i=w.getCellFromEvent(e),o=w.getDataItem(i.row),l=w.getColumns()[i.cell];h=x.extend({},h,l.cellMenu),(t=t||{}).columnDef=l,t.dataContext=o,t.grid=w,O(h.menuUsabilityOverride,t)&&((k=n(e))&&(s(e),k.data("cell",m).data("row",p).show()),x("body").on("mousedown."+f,a))}function a(e){k&&k[0]!=e.target&&!x.contains(k[0],e.target)&&d(e,{cell:m,row:p})}function d(e,t){if(k&&0<k.length){if(0==v.onBeforeMenuClose.notify({cell:t&&t.cell,row:t&&t.row,grid:w,menu:k},e,v))return;k&&k.remove&&(k.remove(),k=null)}}function C(e){var t=x(this).data("command"),i=x(this).data("item");if(i&&!i.disabled&&!i.divider&&"divider"!==i){var o=k.data("row"),l=k.data("cell"),n=w.getColumns()[l],s=w.getDataItem(o);if(null!==t&&""!==t){d(e,{cell:l,row:o});var a={cell:l,row:o,grid:w,command:t,item:i,column:n,dataContext:s};v.onCommand.notify(a,e,v),"function"==typeof i.action&&i.action.call(this,e,a)}}}function y(e){var t=x(this).data("option"),i=x(this).data("item");if(i&&!i.disabled&&!i.divider&&"divider"!==i&&w.getEditorLock().commitCurrentEdit()){var o=k.data("row"),l=k.data("cell"),n=w.getColumns()[l],s=w.getDataItem(o);if(void 0!==t){d(e,{cell:l,row:o});var a={cell:l,row:o,grid:w,option:t,item:i,column:n,dataContext:s};v.onOptionSelected.notify(a,e,v),"function"==typeof i.action&&i.action.call(this,e,a)}}}function O(e,t){return"function"!=typeof e||e.call(this,t)}x.extend(this,{init:function(e){b=(w=e).getOptions(),h=x.extend({},o,t),f=e&&e.getUID?e.getUID():"",i.subscribe(w.onClick,l),h.hideMenuOnScroll&&i.subscribe(w.onScroll,g)},closeMenu:g,destroy:function(){v.onBeforeMenuShow.unsubscribe(),v.onBeforeMenuClose.unsubscribe(),v.onCommand.unsubscribe(),v.onOptionSelected.unsubscribe(),i.unsubscribeAll(),k&&k.remove&&k.remove()},pluginName:"CellMenu",setOptions:function(e){h=x.extend({},h,e)},onBeforeMenuShow:new Slick.Event,onBeforeMenuClose:new Slick.Event,onCommand:new Slick.Event,onOptionSelected:new Slick.Event})}}}})}(jQuery);