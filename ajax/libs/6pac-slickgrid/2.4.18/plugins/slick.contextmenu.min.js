!function(T){T.extend(!0,window,{Slick:{Plugins:{ContextMenu:function(t){var f,v,C,h,g=-1,w=-1,b="",o=new Slick.EventHandler,x=this,n={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:-4,autoAlignSideOffset:0,hideMenuOnScroll:!1,maxHeight:"none",width:"auto",optionShownOverColumnIds:[],commandShownOverColumnIds:[]};function s(e){var t=v.getCellFromEvent(e);g=t&&t.cell,w=t&&t.row;var o=v.getColumns()[g],n=v.getDataItem(w),i=S(f.optionShownOverColumnIds,o.id),s=S(f.commandShownOverColumnIds,o.id),a=f.commandItems||[],l=f.optionItems||[];if(o&&(s||i)&&(a.length||!l.length)&&(O(e),0!=x.onBeforeMenuShow.notify({cell:g,row:w,grid:v},e,x))){var d=isNaN(f.maxHeight)?f.maxHeight:f.maxHeight+"px",r=isNaN(f.width)?f.width:f.width+"px",c=T('<div class="slick-context-menu '+b+'" style="'+("width: "+r+"; max-height: "+d)+'" />').css("top",e.pageY).css("left",e.pageX).css("display","none"),u='<button type="button" class="close" data-dismiss="slick-context-menu" aria-label="Close"><span class="close" aria-hidden="true">&times;</span></button>';if(!f.hideOptionSection&&i&&0<l.length){var m=T('<div class="slick-context-menu-option-list" />');f.hideCloseButton||T(u).on("click",O).appendTo(c),m.appendTo(c),function(e,t,o,n){if(!n||!o||!e)return;e&&e.optionTitle&&T('<div class="title"/>').append(e.optionTitle).appendTo(t);for(var i=0,s=o.length;i<s;i++){var a=o[i],l=I(a.itemVisibilityOverride,n),d=I(a.itemUsabilityOverride,n);if(l){Object.prototype.hasOwnProperty.call(a,"itemUsabilityOverride")&&(a.disabled=!d);var r=T('<div class="slick-context-menu-item"></div>').data("option",a.option||"").data("item",a).on("click",y).appendTo(t);if(a.divider||"divider"===a)r.addClass("slick-context-menu-item-divider");else{!a.disabled&&d||r.addClass("slick-context-menu-item-disabled"),a.cssClass&&r.addClass(a.cssClass),a.tooltip&&r.attr("title",a.tooltip);var c=T('<div class="slick-context-menu-icon"></div>').appendTo(r);a.iconCssClass&&c.addClass(a.iconCssClass),a.iconImage&&c.css("background-image","url("+a.iconImage+")");var u=T('<span class="slick-context-menu-content"></span>').text(a.title).appendTo(r);a.textCssClass&&u.addClass(a.textCssClass)}}}}(f,m,l,{cell:g,row:w,column:o,dataContext:n,grid:v})}if(!f.hideCommandSection&&s&&0<a.length){var p=T('<div class="slick-context-menu-command-list" />');f.hideCloseButton||i&&0!==l.length&&!f.hideOptionSection||T(u).on("click",O).appendTo(c),p.appendTo(c),function(e,t,o,n){if(!n||!o||!e)return;e&&e.commandTitle&&T('<div class="title"/>').append(e.commandTitle).appendTo(t);for(var i=0,s=o.length;i<s;i++){var a=o[i],l=I(a.itemVisibilityOverride,n),d=I(a.itemUsabilityOverride,n);if(l){Object.prototype.hasOwnProperty.call(a,"itemUsabilityOverride")&&(a.disabled=!d);var r=T('<div class="slick-context-menu-item"></div>').data("command",a.command||"").data("item",a).on("click",k).appendTo(t);if(a.divider||"divider"===a)r.addClass("slick-context-menu-item-divider");else{!a.disabled&&d||r.addClass("slick-context-menu-item-disabled"),a.cssClass&&r.addClass(a.cssClass),a.tooltip&&r.attr("title",a.tooltip);var c=T('<div class="slick-context-menu-icon"></div>').appendTo(r);a.iconCssClass&&c.addClass(a.iconCssClass),a.iconImage&&c.css("background-image","url("+a.iconImage+")");var u=T('<span class="slick-context-menu-content"></span>').text(a.title).appendTo(r);a.textCssClass&&u.addClass(a.textCssClass)}}}}(f,p,a,{cell:g,row:w,column:o,dataContext:n,grid:v})}if(c.show(),c.appendTo("body"),0!=x.onAfterMenuShow.notify({cell:g,row:w,grid:v},e,x))return c}}function O(e,t){if((h=h||T(".slick-context-menu."+b))&&0<h.length){if(0==x.onBeforeMenuClose.notify({cell:t&&t.cell,row:t&&t.row,grid:v,menu:h},e,x))return;h&&h.remove&&(h.remove(),h=null)}}function S(e,t){var o=!1;if(e&&0<e.length)for(var n=0,i=e.length;n<i;n++)e[n]===t&&(o=!0);else o=!0;return o}function i(e,t){e.preventDefault();var o=v.getCellFromEvent(e),n=v.getColumns()[o.cell],i=v.getDataItem(o.row);(t=t||{}).cell=o.cell,t.row=o.row,t.columnDef=n,t.dataContext=i,t.grid=v,I(f.menuUsabilityOverride,t)&&((h=s(e))&&(function(e){var t=T(e.target).closest(".slick-cell"),o=e.pageX,n=t?t.offset().top:e.pageY,i=h.outerHeight()||0,s=h.outerWidth()||f.width||0,a=C.rowHeight,l=f.autoAdjustDropOffset,d=f.autoAlignSideOffset;if(f.autoAdjustDrop){var r=function(e){var t=T(window).innerHeight()||0,o=T(window).scrollTop()||0;return e&&e.offset&&0<e.length?t-(e.offset().top-o):0}(t),c=function(e){var t=T(window).scrollTop()||0;return e&&e.offset&&0<e.length?e.offset().top-t:0}(t),u=r+l-a,m=c-l+a;n="top"==(u<i&&u<m?"top":"bottom")?(h.removeClass("dropdown").addClass("dropup"),n-i-l):(h.removeClass("dropup").addClass("dropdown"),n+a+l)}if(f.autoAlignSide){var p=v.getGridPosition();"left"==(o+s>=p.width?"left":"right")?(h.removeClass("dropright").addClass("dropleft"),o=o-s-d):(h.removeClass("dropleft").addClass("dropright"),o+=d)}h.css("top",n),h.css("left",o)}(e),h.data("cell",g).data("row",w).show()),T("body").one("click",function(e){O(e,{cell:g,row:w})}))}function k(e){var t=T(this).data("command"),o=T(this).data("item");if(o&&!o.disabled&&!o.divider){var n,i=h.data("row"),s=h.data("cell"),a=v.getColumns()[s],l=v.getDataItem(i);if(Object.prototype.hasOwnProperty.call(l,a&&a.field)&&(n=l[a.field]),null!=t&&""!==t){var d={cell:s,row:i,grid:v,command:t,item:o,column:a,dataContext:l,value:n};x.onCommand.notify(d,e,x),"function"==typeof o.action&&o.action.call(this,e,d)}}}function y(e){var t=T(this).data("option"),o=T(this).data("item");if(!o.disabled&&!o.divider&&v.getEditorLock().commitCurrentEdit()){var n=h.data("row"),i=h.data("cell"),s=v.getColumns()[i],a=v.getDataItem(n);if(void 0!==t){var l={cell:i,row:n,grid:v,option:t,item:o,column:s,dataContext:a};x.onOptionSelected.notify(l,e,x),"function"==typeof o.action&&o.action.call(this,e,l)}}}function I(e,t){return"function"!=typeof e||e.call(this,t)}T.extend(this,{init:function(e){C=(v=e).getOptions(),f=T.extend({},n,t),b=e&&e.getUID?e.getUID():"",o.subscribe(v.onContextMenu,i),f.hideMenuOnScroll&&o.subscribe(v.onScroll,O)},closeMenu:O,destroy:function(){x.onAfterMenuShow.unsubscribe(),x.onBeforeMenuShow.unsubscribe(),x.onBeforeMenuClose.unsubscribe(),x.onCommand.unsubscribe(),x.onOptionSelected.unsubscribe(),o.unsubscribeAll(),h&&h.remove&&h.remove()},pluginName:"ContextMenu",setOptions:function(e){f=T.extend({},f,e),e.commandShownOverColumnIds&&(f.commandShownOverColumnIds=e.commandShownOverColumnIds),e.optionShownOverColumnIds&&(f.optionShownOverColumnIds=e.optionShownOverColumnIds)},onAfterMenuShow:new Slick.Event,onBeforeMenuShow:new Slick.Event,onBeforeMenuClose:new Slick.Event,onCommand:new Slick.Event,onOptionSelected:new Slick.Event})}}}})}(jQuery);