!function(w){w.extend(!0,window,{Slick:{RowMoveManager:function(r){var a,c,d,s=this,n=null,o=new Slick.EventHandler,t={columnId:"_move",cssClass:null,cancelEditOnDrag:!1,disableRowSelection:!1,singleRowMove:!1,width:40};"function"==typeof r.usabilityOverride&&f(r.usabilityOverride);function i(e){e.stopImmediatePropagation()}function l(e,o){var t=a.getCellFromEvent(e),n=t&&t.row;if(v(n,a.getDataItem(n),a)){if(r.cancelEditOnDrag&&a.getEditorLock().isActive()&&a.getEditorLock().cancelCurrentEdit(),a.getEditorLock().isActive()||!/move|selectAndMove/.test(a.getColumns()[t.cell].behavior))return!1;d=!0,e.stopImmediatePropagation();var i=r.singleRowMove?[t.row]:a.getSelectedRows();0!==i.length&&-1!=w.inArray(t.row,i)||(i=[t.row],r.disableRowSelection||a.setSelectedRows(i));var s=a.getOptions().rowHeight;o.selectedRows=i,o.selectionProxy=w("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",w(c).innerWidth()).css("height",s*i.length).appendTo(c),o.guide=w("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",w(c).innerWidth()).css("top",-1e3).appendTo(c),o.insertBefore=-1}}function u(e,o){if(d){e.stopImmediatePropagation();var t=e.pageY-w(c).offset().top;o.selectionProxy.css("top",t-5);var n=Math.max(0,Math.min(Math.round(t/a.getOptions().rowHeight),a.getDataLength()));if(n!==o.insertBefore){var i={grid:a,rows:o.selectedRows,insertBefore:n};!1===s.onBeforeMoveRows.notify(i)?(o.guide.css("top",-1e3),o.canMove=!1):(o.guide.css("top",n*a.getOptions().rowHeight),o.canMove=!0),o.insertBefore=n}}}function g(e,o){if(d&&(d=!1,e.stopImmediatePropagation(),o.guide.remove(),o.selectionProxy.remove(),o.canMove)){var t={grid:a,rows:o.selectedRows,insertBefore:o.insertBefore};s.onMoveRows.notify(t)}}function e(e,o,t,n,i,s){return v(e,i,s)?{addClasses:"cell-reorder dnd"}:null}function v(e,o,t){return"function"!=typeof n||n(e,o,t)}function f(e){n=e}w.extend(this,{onBeforeMoveRows:new Slick.Event,onMoveRows:new Slick.Event,init:function(e){r=w.extend(!0,{},t,r),c=(a=e).getCanvasNode(),o.subscribe(a.onDragInit,i).subscribe(a.onDragStart,l).subscribe(a.onDrag,u).subscribe(a.onDragEnd,g)},destroy:function(){o.unsubscribeAll()},getColumnDefinition:function(){return{id:r.columnId||"_move",name:"",field:"move",width:r.width||40,behavior:"selectAndMove",selectable:!1,resizable:!1,cssClass:r.cssClass,formatter:e}},setOptions:function(e){r=w.extend({},r,e)},usabilityOverride:f,pluginName:"RowMoveManager"})}}})}(jQuery);