"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCollector=useCollector;var _shallowequal=require("@react-dnd/shallowequal"),_react=require("react"),_useIsomorphicLayoutEffect=require("./useIsomorphicLayoutEffect");function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],o=!0,a=!1,l=void 0;try{for(var u,n=e[Symbol.iterator]();!(o=(u=n.next()).done)&&(t.push(u.value),!r||t.length!==r);o=!0);}catch(e){a=!0,l=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw l}}return t}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function useCollector(r,t,o){var e=_slicedToArray((0,_react.useState)(function(){return t(r)}),2),a=e[0],l=e[1],u=(0,_react.useCallback)(function(){var e=t(r);(0,_shallowequal.shallowEqual)(a,e)||(l(e),o&&o())},[a,r,o]);return(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(u,[]),[a,u]}