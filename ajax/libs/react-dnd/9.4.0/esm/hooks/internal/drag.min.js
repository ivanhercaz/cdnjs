function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(r,e){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)){var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(r){o=!0,a=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return t}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}import{useMemo}from"react";import invariant from"invariant";import{registerSource}from"../../common/registration";import{useDragDropManager}from"./useDragDropManager";import{DragSourceMonitorImpl}from"../../common/DragSourceMonitorImpl";import{SourceConnector}from"../../common/SourceConnector";import{useIsomorphicLayoutEffect}from"./useIsomorphicLayoutEffect";export function useDragSourceMonitor(){var r=useDragDropManager();return[useMemo(function(){return new DragSourceMonitorImpl(r)},[r]),useMemo(function(){return new SourceConnector(r.getBackend())},[r])]};export function useDragHandler(r,e,t){var n=useDragDropManager(),o=useMemo(function(){return{beginDrag:function(){var t=r.current,n=t.begin,o=t.item;if(n){var a=n(e);return invariant(null==a||"object"===_typeof(a),"dragSpec.begin() must either return an object, undefined, or null"),a||o||{}}return o||{}},canDrag:function(){return"boolean"==typeof r.current.canDrag?r.current.canDrag:"function"!=typeof r.current.canDrag||r.current.canDrag(e)},isDragging:function(t,n){var o=r.current.isDragging;return o?o(e):n===t.getSourceId()},endDrag:function(){var n=r.current.end;n&&n(e.getItem(),e),t.reconnect()}}},[]);useIsomorphicLayoutEffect(function(){var a=_slicedToArray(registerSource(r.current.item.type,o,n),2),i=a[0],u=a[1];return e.receiveHandlerId(i),t.receiveHandlerId(i),u},[])};