"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCollector=useCollector;var _shallowequal=_interopRequireDefault(require("shallowequal")),_react=require("react");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){var t=[],a=!0,l=!1,n=void 0;try{for(var o,u=e[Symbol.iterator]();!(a=(o=u.next()).done)&&(t.push(o.value),!r||t.length!==r);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==u.return||u.return()}finally{if(l)throw n}}return t}function _arrayWithHoles(e){if(Array.isArray(e))return e}function useCollector(r,t,a){var e=_slicedToArray((0,_react.useState)(function(){return t(r)}),2),l=e[0],n=e[1],o=(0,_react.useCallback)(function(){var e=t(r);(0,_shallowequal.default)(l,e)||(n(e),a&&a())},[l,r,a]);return(0,_react.useLayoutEffect)(o,[]),[l,o]}