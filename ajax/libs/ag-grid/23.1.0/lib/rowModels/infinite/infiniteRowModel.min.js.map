{"version":3,"sources":["infiniteRowModel.js"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","gridOptionsWrapper_1","require","context_1","eventService_1","selectionController_1","events_1","sortController_1","filterManager_1","constants_1","infiniteCache_1","beanStub_1","rowNodeCache_1","rowNodeBlockLoader_1","gridApi_1","columnApi_1","utils_1","rowRenderer_1","InfiniteRowModel","_super","apply","getRowBounds","index","rowHeight","rowTop","ensureRowHeightsValid","startPixel","endPixel","startLimitIndex","endLimitIndex","init","_this","gridOptionsWrapper","isRowModelInfinite","getRowHeightAsNumber","addEventListeners","setDatasource","getDatasource","addDestroyFunc","destroyCache","destroyDatasource","datasource","destroy","rowRenderer","datasourceChanged","isLastRowFound","infiniteCache","isMaxRowFound","addDestroyableEventListener","eventService","Events","EVENT_FILTER_CHANGED","onFilterChanged","bind","EVENT_SORT_CHANGED","onSortChanged","EVENT_COLUMN_EVERYTHING_CHANGED","onColumnEverything","reset","cacheParams","isSortModelDifferent","_","jsonEquals","sortModel","sortController","getSortModel","getType","Constants","ROW_MODEL_TYPE_INFINITE","checkForDeprecated","ds","exists","maxConcurrentRequests","console","error","maxPagesInCache","overflowSize","blockSize","isEmpty","missing","isRowsToRender","getNodesInRangeForSelection","firstInRange","lastInRange","getRowNodesInRange","getRowNodeIdFunc","selectionController","resetCache","event","createModelUpdatedEvent","dispatchEvent","type","EVENT_MODEL_UPDATED","api","gridApi","columnApi","newPage","newData","keepRenderedRows","animate","getMaxConcurrentDatasourceRequests","blockLoadDebounceMillis","getBlockLoadDebounceMillis","rowNodeBlockLoader","RowNodeBlockLoader","getContext","wireBean","filterModel","filterManager","getFilterModel","getCacheOverflowSize","initialRowCount","getInfiniteInitialRowCount","maxBlocksInCache","getMaxBlocksInCache","getCacheBlockSize","lastAccessedSequence","NumberSequence","InfiniteCache","addEventListener","RowNodeCache","EVENT_CACHE_UPDATED","onCacheUpdated","getRow","rowIndex","getRowNode","id","result","forEachNode","rowNode","callback","forEachNodeDeep","getCurrentPageHeight","getRowCount","getTopLevelRowCount","getTopLevelRowDisplayedIndex","topLevelIndex","getRowIndexAtPixel","pixel","rowIndexForPixel","Math","floor","lastRowIndex","getVirtualRowCount","updateRowData","transaction","remove","update","warn","addIndex","insertItemsAtIndex","add","isRowPresent","refreshCache","purgeCache","setVirtualRowCount","rowCount","maxRowFound","getBlockState","Autowired","GridOptionsWrapper","FilterManager","SortController","SelectionController","EventService","GridApi","ColumnApi","RowRenderer","PostConstruct","Function","PreDestroy","Bean","BeanStub"],"mappings":"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"}