"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var componentUtil_1=require("./componentUtil"),grid_1=require("../grid"),registered=!1;function initialiseAgGridWithWebComponents(){if(console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),!registered){registered=!0,"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var t=Object.create(HTMLElement.prototype);componentUtil_1.ComponentUtil.ALL_PROPERTIES.forEach(function(e){Object.defineProperty(t,e,{set:function(t){this.__agGridSetProperty(e,t)},get:function(){return this.__agGridGetProperty(e)},enumerable:!0,configurable:!0})});var e=t;e.__agGridSetProperty=function(t,e){this.__attributes||(this.__attributes={}),this.__attributes[t]=e;var i={};i[t]={currentValue:e},this.onChange(i)},e.onChange=function(t){this._initialised&&componentUtil_1.ComponentUtil.processOnChange(t,this._gridOptions,this.api,this.columnApi)},e.__agGridGetProperty=function(t){return this.__attributes||(this.__attributes={}),this.__attributes[t]},e.setGridOptions=function(t){var e=this.globalEventListener.bind(this);this._gridOptions=componentUtil_1.ComponentUtil.copyAttributesToGridOptions(t,this);var i={globalEventListener:e};this._agGrid=new grid_1.Grid(this,this._gridOptions,i),this.api=t.api,this.columnApi=t.columnApi,this._initialised=!0},e.createdCallback=function(){for(var t=0;t<this.attributes.length;t++){var e=this.attributes[t];this.setPropertyFromAttribute(e)}},e.setPropertyFromAttribute=function(t){var e=toCamelCase(t.nodeName),i=t.nodeValue;0<=componentUtil_1.ComponentUtil.ALL_PROPERTIES.indexOf(e)&&(this[e]=i)},e.attachedCallback=function(t){},e.detachedCallback=function(t){},e.attributeChangedCallback=function(t){var e=this.attributes[t];this.setPropertyFromAttribute(e)},e.globalEventListener=function(t,e){var i=t.toLowerCase(),n=new Event(i);n.agGridDetails=e,this.dispatchEvent(n);var r="on"+i;"function"==typeof this[r]&&this[r](n)},document.registerElement("ag-grid",{prototype:t})}}function toCamelCase(t){return"string"!=typeof t?t:t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}exports.initialiseAgGridWithWebComponents=initialiseAgGridWithWebComponents;