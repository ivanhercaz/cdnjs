{"version":3,"sources":["moveColumnController.js"],"names":["__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","context_1","require","logger_1","columnController_1","column_1","utils_1","dragAndDropService_1","gridOptionsWrapper_1","MoveColumnController","pinned","eContainer","needToMoveLeft","needToMoveRight","centerContainer","_","exists","prototype","registerGridComp","gridPanel","init","logger","loggerFactory","create","getIconName","DragAndDropService","ICON_PINNED","ICON_MOVE","onDragEnter","draggingEvent","columns","dragItem","dragSource","type","DragSourceType","ToolPanel","setColumnsVisible","visibleState_1","visibleState","visibleColumns","filter","column","getId","setColumnsPinned","onDragging","onDragLeave","gridOptionsWrapper","isSuppressDragLeaveHidesColumns","fromNudge","dragItemCallback","ensureIntervalCleared","visible","source","allowedCols","getColDef","lockVisible","columnController","lockPinned","onDragStop","normaliseX","x","isEnableRtl","clientWidth","getCenterViewportScrollLeft","checkCenterForScrolling","xAdjustedForScroll","firstVisiblePixel","lastVisiblePixel","getCenterWidth","ensureIntervalStarted","fromEnter","_this","lastDraggingEvent","missing","hDirection","mouseXNormalised","hDirectionNormalised","normaliseDirection","dragSourceType","columnsToMove","col","getPinned","attemptMoveColumns","HDirection","Left","Right","console","error","calculateOldIndex","movingCols","gridCols","getAllGridColumns","indexes","forEach","push","indexOf","sortNumberArray","firstIndex","last","allMovingColumns","mouseX","draggingLeft","draggingRight","validMoves","calculateValidMoves","oldIndex","firstValidMove","constrainDirection","HeaderCell","move","doesMovePassRules","moveColumns","colIsNotMovingFunc","allDisplayedCols","getDisplayedColumns","allGridCols","movingDisplayedCols","otherDisplayedCols","otherGridCols","displayIndex","availableWidth","widthOfMovingDisplayedCols_1","getActualWidth","leftColumn","pointer","lastIndex","displacedCol","isColumnHidden","displayedColumns","movingIntervalId","intervalCount","failedMoveAttempts","window","setInterval","moveInterval","bind","dragAndDropService","setGhostIcon","ICON_LEFT","ICON_RIGHT","clearInterval","pixelsToMove","pixelsMoved","scrollHorizontally","columnsThatCanPin","pinType","Column","PINNED_LEFT","PINNED_RIGHT","nudge","Autowired","LoggerFactory","ColumnController","GridOptionsWrapper","PostConstruct","Function"],"mappings":"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"}