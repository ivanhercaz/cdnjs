{"version":3,"sources":["dragService.js"],"names":["__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","context_1","require","logger_1","eventService_1","events_1","gridOptionsWrapper_1","columnApi_1","gridApi_1","utils_1","DragService","onMouseUpListener","onMouseUp","bind","onMouseMoveListener","onMouseMove","onTouchEndListener","onTouchUp","onTouchMoveListener","onTouchMove","dragEndFunctions","dragSources","prototype","init","logger","loggerFactory","create","destroy","forEach","removeListener","dragSourceAndListener","element","dragSource","eElement","mouseDownListener","removeEventListener","touchEnabled","touchStartListener","passive","removeDragSource","params","_","find","item","removeFromArray","setNoSelectToBody","noSelect","eBody","gridOptionsWrapper","getDocument","querySelector","exists","addOrRemoveCssClass","addDragSource","includeTouch","mouseListener","onMouseDown","addEventListener","touchListener","suppressTouch","isSuppressTouch","onTouchStart","push","touchEvent","_this","currentDragParams","dragging","touch","touches","touchLastTime","touchStart","preventDefault","dragStartPixels","onCommonMove","mouseEvent","skipMouseEvent","_alreadyProcessedByDragService","button","mouseStartEvent","eDocument","isEventNearStartEvent","currentEvent","startEvent","requiredPixelDiff","areEventsNear","getFirstActiveTouch","touchList","identifier","event_1","type","Events","EVENT_DRAG_STARTED","api","gridApi","columnApi","eventService","dispatchEvent","onDragStart","onDragging","changedTouches","onUpCommon","eventOrTouch","onDragStop","event_2","EVENT_DRAG_STOPPED","func","Autowired","LoggerFactory","EventService","GridOptionsWrapper","ColumnApi","GridApi","PostConstruct","Function","PreDestroy","Bean"],"mappings":"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"}