"use strict";var __extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),__decorate=this&&this.__decorate||function(e,t,o,n){var s,r=arguments.length,p=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;0<=i;i--)(s=e[i])&&(p=(r<3?s(p):3<r?s(t,o,p):s(t,o))||p);return 3<r&&p&&Object.defineProperty(t,o,p),p},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var component_1=require("./component"),componentAnnotations_1=require("./componentAnnotations"),context_1=require("../context/context"),gridOptionsWrapper_1=require("../gridOptionsWrapper"),agCheckbox_1=require("./agCheckbox"),utils_1=require("../utils"),AgGroupComponent=function(i){function a(e){var t=i.call(this,a.TEMPLATE)||this;t.suppressEnabledCheckbox=!0,t.suppressOpenCloseIcons=!1;var o=(e=e||{}).title,n=e.enabled,s=e.items,r=e.suppressEnabledCheckbox,p=e.suppressOpenCloseIcons;return t.title=o,t.enabled=null==n||n,t.items=s||[],null!=r&&(t.suppressEnabledCheckbox=r),null!=p&&(t.suppressOpenCloseIcons=p),t}return __extends(a,i),a.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()},a.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(utils_1._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(utils_1._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.setOpenClosedIcons(),this.addDestroyableEventListener(this.groupTitle,"click",function(){return e.toggleGroupExpand()})},a.prototype.setOpenClosedIcons=function(){var e=this.expanded;utils_1._.setDisplayed(this.eGroupClosedIcon,!e),utils_1._.setDisplayed(this.eGroupOpenedIcon,e)},a.prototype.isExpanded=function(){return this.expanded},a.prototype.toggleGroupExpand=function(e){var t=this.getGui();if(this.suppressOpenCloseIcons)return this.expanded=!0,utils_1._.removeCssClass(t,"ag-collapsed"),this;if(e=null!=e?e:!this.expanded,this.expanded===e)return this;if(this.expanded=e,this.setOpenClosedIcons(),utils_1._.addOrRemoveCssClass(t,"ag-collapsed",!e),this.expanded){this.dispatchEvent({type:"expanded"})}return this},a.prototype.addItems=function(e){var t=this;e.forEach(function(e){return t.addItem(e)})},a.prototype.addItem=function(e){var t=this.groupContainer,o=e instanceof component_1.Component?e.getGui():e;utils_1._.addCssClass(o,"ag-group-item"),t.appendChild(o),this.items.push(o)},a.prototype.setTitle=function(e){return this.lbGroupTitle.innerText=e,this},a.prototype.setEnabled=function(e,t){return this.enabled=e,utils_1._.addOrRemoveCssClass(this.getGui(),"ag-disabled",!e),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},a.prototype.isEnabled=function(){return this.enabled},a.prototype.onEnableChange=function(t){var o=this;return this.cbGroupEnabled.onValueChange(function(e){o.setEnabled(e,!0),t(e)}),this},a.prototype.hideEnabledCheckbox=function(e){return utils_1._.addOrRemoveCssClass(this.eToolbar,"ag-hidden",e),this},a.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,utils_1._.addOrRemoveCssClass(this.getGui(),"ag-collapsible",!e),e&&this.toggleGroupExpand(!0),this},a.TEMPLATE='<div class="ag-group-component">\n            <div class="ag-group-component-title-bar" ref="groupTitle">\n                 <span class="ag-column-group-icons">\n                    <span class="ag-column-group-closed-icon" ref="eGroupOpenedIcon"></span>\n                    <span class="ag-column-group-opened-icon" ref="eGroupClosedIcon"></span>\n                </span>\n                <span ref="lbGroupTitle" class="ag-group-component-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-component-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-component-container"></div>\n        </div>',__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],a.prototype,"gridOptionsWrapper",void 0),__decorate([componentAnnotations_1.RefSelector("groupTitle"),__metadata("design:type",HTMLElement)],a.prototype,"groupTitle",void 0),__decorate([componentAnnotations_1.RefSelector("eGroupOpenedIcon"),__metadata("design:type",HTMLElement)],a.prototype,"eGroupOpenedIcon",void 0),__decorate([componentAnnotations_1.RefSelector("eGroupClosedIcon"),__metadata("design:type",HTMLElement)],a.prototype,"eGroupClosedIcon",void 0),__decorate([componentAnnotations_1.RefSelector("eToolbar"),__metadata("design:type",HTMLElement)],a.prototype,"eToolbar",void 0),__decorate([componentAnnotations_1.RefSelector("cbGroupEnabled"),__metadata("design:type",agCheckbox_1.AgCheckbox)],a.prototype,"cbGroupEnabled",void 0),__decorate([componentAnnotations_1.RefSelector("lbGroupTitle"),__metadata("design:type",HTMLElement)],a.prototype,"lbGroupTitle",void 0),__decorate([componentAnnotations_1.RefSelector("eContainer"),__metadata("design:type",HTMLElement)],a.prototype,"groupContainer",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],a.prototype,"postConstruct",null),a}(component_1.Component);exports.AgGroupComponent=AgGroupComponent;