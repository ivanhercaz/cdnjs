{"version":3,"sources":["maxDivHeightScaler.js"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","beanStub_1","require","context_1","eventService_1","eventKeys_1","gridOptionsWrapper_1","utils_1","MaxDivHeightScaler","_super","_this","apply","scrollY","uiBodyHeight","postConstruct","addDestroyableEventListener","eventService","Events","EVENT_BODY_HEIGHT_CHANGED","updateOffset","bind","scrollBarWidth","gridOptionsWrapper","getScrollbarWidth","maxDivHeight","_","getMaxDivHeight","registerGridComp","gridPanel","isScaling","scaling","getOffset","offset","newScrollY","getVScrollPosition","top","newBodyHeight","getUiBodyHeight","calculateOffset","uiContainerHeight","pixelsToShave","modelHeight","maxScrollY","scrollPercent","setOffset","clearOffset","newOffset","newOffsetFloor","Math","floor","dispatchEvent","type","EVENT_HEIGHT_SCALE_CHANGED","setModelHeight","getUiContainerHeight","getRealPixelPosition","modelPixel","pos","bottom","getScrollPositionForPixel","rowTop","Autowired","EventService","GridOptionsWrapper","PostConstruct","Function","Bean","BeanStub"],"mappings":"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"}