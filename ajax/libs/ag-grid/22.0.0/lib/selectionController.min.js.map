{"version":3,"sources":["selectionController.js"],"names":["__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","__param","paramIndex","decorator","exports","value","context_1","require","context_2","logger_1","eventService_1","events_1","context_3","gridOptionsWrapper_1","context_4","constants_1","columnApi_1","gridApi_1","utils_1","changedPath_1","SelectionController","prototype","setBeans","loggerFactory","logger","create","reset","gridOptionsWrapper","isRowModelDefault","eventService","addEventListener","Events","EVENT_ROW_DATA_CHANGED","bind","log","init","groupSelectsChildren","isGroupSelectsChildren","EVENT_ROW_SELECTED","onRowSelected","setLastSelectedNode","rowNode","lastSelectedNode","getLastSelectedNode","getSelectedNodes","selectedNodes","_","iterateObject","push","getSelectedRows","selectedRows","data","removeGroupsFromSelection","_this","group","id","undefined","updateGroupsFromChildrenSelections","changedPath","rowModel","getType","Constants","ROW_MODEL_TYPE_CLIENT_SIDE","rootNode","getRootNode","ChangedPath","setInactive","forEachChangedNodeDepthFirst","calculateSelectedFromChildren","getNodeForIdIfSelected","clearOtherNodes","rowNodeToKeepSelected","groupsToRefresh","updatedCount","otherRowNode","setSelectedParams","newValue","clearSelection","suppressFinishActions","parent","event","node","isSelected","syncInRowNode","oldNode","syncInOldRowNode","syncInNewRowNode","exists","setSelectedInitialValue","getBestCostNodeSelection","console","warn","topLevelNodes","getTopLevelNodes","result","traverse","nodes","l","children","setRowModel","isEmpty","count","nodeId","deselectAllRowNodes","justFiltered","callback","selectThisNode","rowModelClientSide","error","forEachNodeAfterFilter","type","EVENT_SELECTION_CHANGED","api","gridApi","columnApi","dispatchEvent","selectAllRowNodes","Error","clientSideRowModel","forEachNode","selectNode","tryMulti","deselectIndex","rowIndex","getRow","deselectNode","selectIndex","index","Autowired","EventService","GridOptionsWrapper","ColumnApi","GridApi","Qualifier","Function","LoggerFactory","PostConstruct","Bean"],"mappings":"AAMA,aACA,IAAIA,WAAcC,MAAQA,KAAKD,YAAe,SAAUE,EAAYC,EAAQC,EAAKC,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAOM,OAAOC,yBAAyBT,EAAQC,GAAOC,EACrH,GAAuB,iBAAZQ,SAAoD,mBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASZ,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIU,EAAIb,EAAWO,OAAS,EAAQ,GAALM,EAAQA,KAAST,EAAIJ,EAAWa,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAS,EAAJH,EAAQD,EAAEH,EAAQC,EAAKM,GAAKJ,EAAEH,EAAQC,KAASM,GAChJ,OAAW,EAAJH,GAASG,GAAKC,OAAOK,eAAeb,EAAQC,EAAKM,GAAIA,GAE5DO,WAAchB,MAAQA,KAAKgB,YAAe,SAAUC,EAAGC,GACvD,GAAuB,iBAAZN,SAAoD,mBAArBA,QAAQO,SAAyB,OAAOP,QAAQO,SAASF,EAAGC,IAEtGE,QAAWpB,MAAQA,KAAKoB,SAAY,SAAUC,EAAYC,GAC1D,OAAO,SAAUpB,EAAQC,GAAOmB,EAAUpB,EAAQC,EAAKkB,KAE3DX,OAAOK,eAAeQ,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,UAAYC,QAAQ,qBACpBC,UAAYD,QAAQ,qBACpBE,SAAWF,QAAQ,YACnBG,eAAiBH,QAAQ,kBACzBI,SAAWJ,QAAQ,YACnBK,UAAYL,QAAQ,qBACpBM,qBAAuBN,QAAQ,wBAC/BO,UAAYP,QAAQ,qBACpBQ,YAAcR,QAAQ,eACtBS,YAAcT,QAAQ,gCACtBU,UAAYV,QAAQ,aACpBW,QAAUX,QAAQ,WAClBY,cAAgBZ,QAAQ,sCACxBa,oBAAqC,WACrC,SAASA,KAqUT,OAnUAA,EAAoBC,UAAUC,SAAW,SAAUC,GAC/C1C,KAAK2C,OAASD,EAAcE,OAAO,uBACnC5C,KAAK6C,QACD7C,KAAK8C,mBAAmBC,oBACxB/C,KAAKgD,aAAaC,iBAAiBnB,SAASoB,OAAOC,uBAAwBnD,KAAK6C,MAAMO,KAAKpD,OAG3FA,KAAK2C,OAAOU,IAAI,8BAGxBd,EAAoBC,UAAUc,KAAO,WACjCtD,KAAKuD,qBAAuBvD,KAAK8C,mBAAmBU,yBACpDxD,KAAKgD,aAAaC,iBAAiBnB,SAASoB,OAAOO,mBAAoBzD,KAAK0D,cAAcN,KAAKpD,QAEnGuC,EAAoBC,UAAUmB,oBAAsB,SAAUC,GAC1D5D,KAAK6D,iBAAmBD,GAE5BrB,EAAoBC,UAAUsB,oBAAsB,WAChD,OAAO9D,KAAK6D,kBAEhBtB,EAAoBC,UAAUuB,iBAAmB,WAC7C,IAAIC,EAAgB,GAMpB,OALA3B,QAAQ4B,EAAEC,cAAclE,KAAKgE,cAAe,SAAU7D,EAAKyD,GACnDA,GACAI,EAAcG,KAAKP,KAGpBI,GAEXzB,EAAoBC,UAAU4B,gBAAkB,WAC5C,IAAIC,EAAe,GAMnB,OALAhC,QAAQ4B,EAAEC,cAAclE,KAAKgE,cAAe,SAAU7D,EAAKyD,GACnDA,GAAWA,EAAQU,MACnBD,EAAaF,KAAKP,EAAQU,QAG3BD,GAEX9B,EAAoBC,UAAU+B,0BAA4B,WACtD,IAAIC,EAAQxE,KACZqC,QAAQ4B,EAAEC,cAAclE,KAAKgE,cAAe,SAAU7D,EAAKyD,GACnDA,GAAWA,EAAQa,QACnBD,EAAMR,cAAcJ,EAAQc,SAAMC,MAK9CpC,EAAoBC,UAAUoC,mCAAqC,SAAUC,GAEzE,GAAK7E,KAAK8C,mBAAmBU,0BAIzBxD,KAAK8E,SAASC,YAAc7C,YAAY8C,UAAUC,2BAAtD,CAGA,IACIC,EADqBlF,KAAK8E,SACIK,cAC7BN,IACDA,EAAc,IAAIvC,cAAc8C,aAAY,EAAMF,IACtCG,cAEhBR,EAAYS,6BAA6B,SAAU1B,GAC3CA,IAAYsB,GACZtB,EAAQ2B,oCAUpBhD,EAAoBC,UAAUgD,uBAAyB,SAAUd,GAC7D,OAAO1E,KAAKgE,cAAcU,IAE9BnC,EAAoBC,UAAUiD,gBAAkB,SAAUC,GACtD,IAAIlB,EAAQxE,KACR2F,EAAkB,GAClBC,EAAe,EAiBnB,OAhBAvD,QAAQ4B,EAAEC,cAAclE,KAAKgE,cAAe,SAAU7D,EAAK0F,GACvD,GAAIA,GAAgBA,EAAanB,KAAOgB,EAAsBhB,GAAI,CAC9D,IAAId,EAAUY,EAAMR,cAAc6B,EAAanB,IAC/CkB,GAAgBhC,EAAQkC,kBAAkB,CACtCC,UAAU,EACVC,gBAAgB,EAChBC,uBAAuB,IAEvBzB,EAAMjB,sBAAwBsC,EAAaK,SAC3CP,EAAgBE,EAAaK,OAAOxB,IAAMmB,EAAaK,WAInE7D,QAAQ4B,EAAEC,cAAcyB,EAAiB,SAAUxF,EAAKsE,GACpDA,EAAMc,kCAEHK,GAEXrD,EAAoBC,UAAUkB,cAAgB,SAAUyC,GACpD,IAAIvC,EAAUuC,EAAMC,KAEhBpG,KAAKuD,sBAAwBK,EAAQa,QAGrCb,EAAQyC,aACRrG,KAAKgE,cAAcJ,EAAQc,IAAMd,EAGjC5D,KAAKgE,cAAcJ,EAAQc,SAAMC,IAGzCpC,EAAoBC,UAAU8D,cAAgB,SAAU1C,EAAS2C,GAC7DvG,KAAKwG,iBAAiB5C,EAAS2C,GAC/BvG,KAAKyG,iBAAiB7C,IAa1BrB,EAAoBC,UAAUgE,iBAAmB,SAAU5C,EAAS2C,GACpClE,QAAQ4B,EAAEyC,OAAOH,IAAa3C,EAAQc,KAAO6B,EAAQ7B,IAEvDrC,QAAQ4B,EAAEyC,OAAO1G,KAAKgE,cAAcuC,EAAQ7B,OAE9D1E,KAAKgE,cAAcuC,EAAQ7B,IAAM6B,IAI7ChE,EAAoBC,UAAUiE,iBAAmB,SAAU7C,GACnDvB,QAAQ4B,EAAEyC,OAAO1G,KAAKgE,cAAcJ,EAAQc,MAC5Cd,EAAQ+C,yBAAwB,GAChC3G,KAAKgE,cAAcJ,EAAQc,IAAMd,GAGjCA,EAAQ+C,yBAAwB,IAGxCpE,EAAoBC,UAAUK,MAAQ,WAClC7C,KAAK2C,OAAOU,IAAI,SAChBrD,KAAKgE,cAAgB,GACrBhE,KAAK6D,iBAAmB,MAO5BtB,EAAoBC,UAAUoE,yBAA2B,WACjD5G,KAAK8E,SAASC,YAAc7C,YAAY8C,UAAUC,4BAClD4B,QAAQC,KAAK,0EAEjB,IACIC,EADqB/G,KAAK8E,SACSkC,mBACvC,GAAsB,OAAlBD,EAAJ,CAIA,IAAIE,EAAS,GAkBb,OAhBA,SAASC,EAASC,GACd,IAAK,IAAIrG,EAAI,EAAGsG,EAAID,EAAM3G,OAAQM,EAAIsG,EAAGtG,IAAK,CAC1C,IAAIsF,EAAOe,EAAMrG,GACbsF,EAAKC,aACLY,EAAO9C,KAAKiC,GAKRA,EAAK3B,OAAS2B,EAAKiB,UACnBH,EAASd,EAAKiB,WAK9BH,CAASH,GACFE,EArBHJ,QAAQC,KAAK,mDAuBrBvE,EAAoBC,UAAU8E,YAAc,SAAUxC,GAClD9E,KAAK8E,SAAWA,GAEpBvC,EAAoBC,UAAU+E,QAAU,WACpC,IAAIC,EAAQ,EAMZ,OALAnF,QAAQ4B,EAAEC,cAAclE,KAAKgE,cAAe,SAAUyD,EAAQ7D,GACtDA,GACA4D,MAGS,IAAVA,GAEXjF,EAAoBC,UAAUkF,oBAAsB,SAAUC,QACrC,IAAjBA,IAA2BA,GAAe,GAC/B,SAAXC,EAAqBhE,GAAW,OAAOA,EAAQiE,gBAAe,GAAlE,IACIC,EAAqB9H,KAAK8E,SAASC,YAAc7C,YAAY8C,UAAUC,2BAC3E,GAAI0C,EAAc,CACd,IAAKG,EAED,YADAjB,QAAQkB,MAAM,wEAGO/H,KAAK8E,SACXkD,uBAAuBJ,QAG1CvF,QAAQ4B,EAAEC,cAAclE,KAAKgE,cAAe,SAAUU,EAAId,GAElDA,GACAgE,EAAShE,KAIjB5D,KAAK6C,QAGLiF,GAAsB9H,KAAKuD,sBAC3BvD,KAAK4E,qCAET,IAAIuB,EAAQ,CACR8B,KAAMnG,SAASoB,OAAOgF,wBACtBC,IAAKnI,KAAKoI,QACVC,UAAWrI,KAAKqI,WAEpBrI,KAAKgD,aAAasF,cAAcnC,IAEpC5D,EAAoBC,UAAU+F,kBAAoB,SAAUZ,GAExD,QADqB,IAAjBA,IAA2BA,GAAe,GAC1C3H,KAAK8E,SAASC,YAAc7C,YAAY8C,UAAUC,2BAClD,MAAM,IAAIuD,MAAM,0DAA4DxI,KAAK8E,SAASC,WAG/E,SAAX6C,EAAqBhE,GAAW,OAAOA,EAAQiE,gBAAe,GADlE,IAAIY,EAAqBzI,KAAK8E,SAE1B6C,EACAc,EAAmBT,uBAAuBJ,GAG1Ca,EAAmBC,YAAYd,GAG/B5H,KAAK8E,SAASC,YAAc7C,YAAY8C,UAAUC,4BAA8BjF,KAAKuD,sBACrFvD,KAAK4E,qCAET,IAAIuB,EAAQ,CACR8B,KAAMnG,SAASoB,OAAOgF,wBACtBC,IAAKnI,KAAKoI,QACVC,UAAWrI,KAAKqI,WAEpBrI,KAAKgD,aAAasF,cAAcnC,IAMpC5D,EAAoBC,UAAUmG,WAAa,SAAU/E,EAASgF,GACtDhF,GACAA,EAAQkC,kBAAkB,CAAEC,UAAU,EAAMC,gBAAiB4C,KAOrErG,EAAoBC,UAAUqG,cAAgB,SAAUC,GACpD,IAAI1C,EAAOpG,KAAK8E,SAASiE,OAAOD,GAChC9I,KAAKgJ,aAAa5C,IAMtB7D,EAAoBC,UAAUwG,aAAe,SAAUpF,GAC/CA,GACAA,EAAQkC,kBAAkB,CAAEC,UAAU,EAAOC,gBAAgB,KAOrEzD,EAAoBC,UAAUyG,YAAc,SAAUC,EAAON,GACzD,IAAIxC,EAAOpG,KAAK8E,SAASiE,OAAOG,GAChClJ,KAAK2I,WAAWvC,EAAMwC,IAE1B7I,WAAW,CACPgC,UAAUoH,UAAU,gBACpBnI,WAAW,cAAea,eAAeuH,eAC1C7G,EAAoBC,UAAW,oBAAgB,GAClDzC,WAAW,CACPgC,UAAUoH,UAAU,YACpBnI,WAAW,cAAeN,SAC3B6B,EAAoBC,UAAW,gBAAY,GAC9CzC,WAAW,CACPgC,UAAUoH,UAAU,sBACpBnI,WAAW,cAAegB,qBAAqBqH,qBAChD9G,EAAoBC,UAAW,0BAAsB,GACxDzC,WAAW,CACPgC,UAAUoH,UAAU,aACpBnI,WAAW,cAAemB,YAAYmH,YACvC/G,EAAoBC,UAAW,iBAAa,GAC/CzC,WAAW,CACPgC,UAAUoH,UAAU,WACpBnI,WAAW,cAAeoB,UAAUmH,UACrChH,EAAoBC,UAAW,eAAW,GAC7CzC,WAAW,CACPqB,QAAQ,EAAGO,UAAU6H,UAAU,kBAC/BxI,WAAW,cAAeyI,UAC1BzI,WAAW,oBAAqB,CAACY,SAAS8H,gBAC1C1I,WAAW,yBAAqB,IACjCuB,EAAoBC,UAAW,WAAY,MAC9CzC,WAAW,CACPkC,UAAU0H,cACV3I,WAAW,cAAeyI,UAC1BzI,WAAW,oBAAqB,IAChCA,WAAW,yBAAqB,IACjCuB,EAAoBC,UAAW,OAAQ,MAC1CD,EAAsBxC,WAAW,CAC7B0B,UAAUmI,KAAK,wBAChBrH,GArUiC,GAwUxChB,QAAQgB,oBAAsBA"}