{"version":3,"sources":["rowDragFeature.js"],"names":["__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","dragAndDropService_1","require","context_1","focusedCellController_1","gridOptionsWrapper_1","eventService_1","eventKeys_1","constants_1","RowDragFeature","eContainer","gridPanel","prototype","postConstruct","gridOptionsWrapper","isRowModelDefault","clientSideRowModel","rowModel","getContainer","isInterestedIn","type","DragSourceType","RowDrag","getIconName","DragAndDropService","ICON_MOVE","onDragEnter","draggingEvent","dispatchEvent","Events","EVENT_ROW_DRAG_ENTER","dragAndDropService","setGhostIcon","dragItem","rowNode","setDragging","onEnterOrDragging","onDragging","EVENT_ROW_DRAG_MOVE","lastDraggingEvent","pixel","normaliseForScroll","y","isRowDragManaged","doManagedDrag","checkCenterForScrolling","ensureRowAtPixel","focusedCellController","clearFocusedCell","rangeController","removeAllCellRanges","getDomLayout","Constants","DOM_LAYOUT_NORMAL","getVScrollPosition","top","pixelRange","needToMoveUp","needToMoveDown","bottom","ensureIntervalStarted","ensureIntervalCleared","movingIntervalId","intervalCount","window","setInterval","moveInterval","bind","clearInterval","pixelsToMove","pixelsMoved","scrollVertically","vDirectionString","yNormalised","overIndex","overNode","getCurrentPageHeight","getRowIndexAtPixel","getRow","vDirection","VDirection","Down","Up","event","api","getApi","columnApi","getColumnApi","node","eventService","onDragLeave","EVENT_ROW_DRAG_LEAVE","stopDragging","onDragStop","EVENT_ROW_DRAG_END","Autowired","FocusedCellController","GridOptionsWrapper","Optional","EventService","PostConstruct","Function"],"mappings":"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"}