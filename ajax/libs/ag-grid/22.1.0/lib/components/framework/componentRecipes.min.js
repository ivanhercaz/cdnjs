"use strict";var __decorate=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,p=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(p=(i<3?r(p):3<i?r(t,o,p):r(t,o))||p);return 3<i&&p&&Object.defineProperty(t,o,p),p},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var ComponentType,context_1=require("../../context/context"),floatingFilter_1=require("../../filter/floatingFilter"),gridOptionsWrapper_1=require("../../gridOptionsWrapper"),floatingFilterWrapper_1=require("../../filter/floatingFilterWrapper"),filterManager_1=require("../../filter/filterManager"),componentResolver_1=require("./componentResolver"),utils_1=require("../../utils"),overlayWrapperComponent_1=require("../../rendering/overlays/overlayWrapperComponent"),gridApi_1=require("../../gridApi"),columnApi_1=require("../../columnController/columnApi");!function(e){e[e.AG_GRID=0]="AG_GRID",e[e.FRAMEWORK=1]="FRAMEWORK"}(ComponentType=ComponentType||{});var ComponentRecipes=function(){function e(){}var u;return(u=e).prototype.newDateComponent=function(e){return this.componentResolver.createAgGridComponent(this.gridOptions,e,"dateComponent",{api:this.gridApi,columnApi:this.columnApi},"agDateInput")},e.prototype.newHeaderComponent=function(e){return this.componentResolver.createAgGridComponent(e.column.getColDef(),e,"headerComponent",{api:this.gridApi,columnApi:this.columnApi,column:e.column,colDef:e.column.getColDef()},"agColumnHeader")},e.prototype.newHeaderGroupComponent=function(e){return this.componentResolver.createAgGridComponent(e.columnGroup.getColGroupDef(),e,"headerGroupComponent",{api:this.gridApi,columnApi:this.columnApi},"agColumnGroupHeader")},e.prototype.newFloatingFilterWrapperComponent=function(e,t){var o,n=this,r=e.getColDef();if(!r.filter)return this.newEmptyFloatingFilterWrapperComponent(e);r.filter||r.filterFramework?"string"==typeof r.filter&&-1<Object.keys(u.filterToFloatingFilterNames).indexOf(r.filter)&&(o=u.filterToFloatingFilterNames[r.filter]):o=this.gridOptionsWrapper.isEnterprise()?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter";var i={column:e,colDef:r,api:this.gridApi,columnApi:this.columnApi},p=this.componentResolver.createAgGridComponent(r,t,"floatingFilterComponent",i,o,!1),l={column:e,floatingFilterComp:p,suppressFilterButton:this.componentResolver.mergeParams(r,"floatingFilterComponent",i,t).suppressFilterButton};if(!p){var a=this.getFilterComponentPrototype(r);if(a&&!(a.component&&a.component.prototype&&a.component.prototype.getModelAsString))return this.newEmptyFloatingFilterWrapperComponent(e);var m=t.currentParentModel;t.currentParentModel=function(){return n.filterManager.getFilterComponent(e,"NO_UI").resolveNow(null,function(e){return e.getModelAsString?e.getModelAsString(m()):null})},l.floatingFilterComp=utils_1.Promise.resolve(this.componentResolver.createInternalAgGridComponent(floatingFilter_1.ReadModelAsStringFloatingFilterComp,t))}return this.componentResolver.createInternalAgGridComponent(floatingFilterWrapper_1.FloatingFilterWrapperComp,l)},e.prototype.newFullWidthGroupRowInnerCellRenderer=function(e){return this.componentResolver.createAgGridComponent(this.gridOptions,e,"groupRowInnerRenderer",e,null,!1)},e.prototype.newCellRenderer=function(e,t){return this.componentResolver.createAgGridComponent(e,t,"cellRenderer",t,null,!1)},e.prototype.newInnerCellRenderer=function(e,t){return this.componentResolver.createAgGridComponent(e,t,"innerRenderer",t,null)},e.prototype.newFullRowGroupRenderer=function(e){return this.componentResolver.createAgGridComponent(this.gridOptionsWrapper,e,"fullWidthCellRenderer",e,null)},e.prototype.newOverlayWrapperComponent=function(){return this.componentResolver.createInternalAgGridComponent(overlayWrapperComponent_1.OverlayWrapperComponent,null)},e.prototype.newLoadingOverlayComponent=function(){return this.componentResolver.createAgGridComponent(this.gridOptions,null,"loadingOverlayComponent",{api:this.gridApi,columnApi:this.columnApi},"agLoadingOverlay")},e.prototype.newNoRowsOverlayComponent=function(){return this.componentResolver.createAgGridComponent(this.gridOptions,null,"noRowsOverlayComponent",{api:this.gridApi,columnApi:this.columnApi},"agNoRowsOverlay")},e.prototype.newTooltipComponent=function(e){var t=e.column&&e.column.getColDef();return this.componentResolver.createAgGridComponent(t,e,"tooltipComponent",{api:this.gridApi,columnApi:this.columnApi},"agTooltipComponent")},e.prototype.getFilterComponentPrototype=function(e){return this.componentResolver.getComponentToUse(e,"filter",{api:this.gridApi,columnApi:this.columnApi,colDef:e})},e.prototype.newEmptyFloatingFilterWrapperComponent=function(e){var t={column:e,floatingFilterComp:null};return this.componentResolver.createInternalAgGridComponent(floatingFilterWrapper_1.EmptyFloatingFilterWrapperComp,t)},e.filterToFloatingFilterNames={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},__decorate([context_1.Autowired("componentResolver"),__metadata("design:type",componentResolver_1.ComponentResolver)],e.prototype,"componentResolver",void 0),__decorate([context_1.Autowired("gridOptions"),__metadata("design:type",Object)],e.prototype,"gridOptions",void 0),__decorate([context_1.Autowired("gridApi"),__metadata("design:type",gridApi_1.GridApi)],e.prototype,"gridApi",void 0),__decorate([context_1.Autowired("columnApi"),__metadata("design:type",columnApi_1.ColumnApi)],e.prototype,"columnApi",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],e.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],e.prototype,"filterManager",void 0),e=u=__decorate([context_1.Bean("componentRecipes")],e)}();exports.ComponentRecipes=ComponentRecipes;