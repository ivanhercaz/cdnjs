{"version":3,"sources":["flattenStage.js"],"names":["__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","context_1","require","rowNode_1","gridOptionsWrapper_1","selectionController_1","eventService_1","columnController_1","utils_1","FlattenStage","prototype","execute","params","rootNode","rowNode","result","nextRowTop","skipLeafNodes","columnController","isPivotMode","showRootNode","leafGroup","topList","childrenAfterSort","recursivelyAddToRowsToDisplay","gridOptionsWrapper","isGroupIncludeTotalFooter","ensureFooterNodeExists","addRowNodeToRowsToDisplay","sibling","rowsToFlatten","uiLevel","_","missingOrEmpty","groupSuppressRow","isGroupSuppressRow","hideOpenParents","isGroupHideOpenParents","groupRemoveSingleChildren","isGroupRemoveSingleChildren","groupRemoveLowestSingleChildren","isGroupRemoveLowestSingleChildren","isParent","hasChildren","isGroupSuppressedNode","isSkippedLeafNode","isRemovedSingleChildrenGroup","childrenAfterGroup","isRemovedLowestSingleChildrenGroup","neverAllowToExpand","isHiddenOpenParent","expanded","excludedParent","uiLevelForChildren","isGroupIncludeFooter","master","detailNode","createDetailNode","push","isGroupMultiAutoColumn","setUiLevel","groupNode","exists","footerNode","RowNode","context","wireBean","keys","forEach","footer","rowTop","oldRowTop","id","masterNode","detail","selectable","flower","parent","data","level","childFlower","Autowired","GridOptionsWrapper","SelectionController","EventService","Context","ColumnController","Bean"],"mappings":"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"}