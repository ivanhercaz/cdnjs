"use strict";var __extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;0<=c;c--)(o=t[c])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(exports,"__esModule",{value:!0});var context_1=require("../context/context"),gridOptionsWrapper_1=require("../gridOptionsWrapper"),agAbstractInputField_1=require("./agAbstractInputField"),agAbstractField_1=require("./agAbstractField"),utils_1=require("../utils"),AgCheckbox=function(e){function i(){var t=e.call(this)||this;return t.className="ag-checkbox",t.displayTag="input",t.inputType="checkbox",t.labelAlignment="right",t.iconMap={selected:"checkboxChecked",unselected:"checkboxUnchecked",indeterminate:"checkboxIndeterminate"},t.selected=!1,t.readOnly=!1,t.passive=!1,t.setTemplate(t.TEMPLATE.replace(/%displayField%/g,t.displayTag)),t}return __extends(i,e),i.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),utils_1._.addCssClass(this.eInput,"ag-hidden"),this.addIconsPlaceholder(),this.updateIcons()},i.prototype.addInputListeners=function(){var e=this;this.addDestroyableEventListener(this.getGui(),"click",function(t){return e.onClick(t)}),this.addDestroyableEventListener(this.eInput,"change",function(t){return e.setValue(t.target.checked,!0)})},i.prototype.addIconsPlaceholder=function(){var t=document.createElement("div");this.eWrapper.appendChild(t),this.eIconEl=t},i.prototype.onClick=function(t){utils_1._.addAgGridEventPath(t),this.readOnly||this.toggle()},i.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},i.prototype.setPassive=function(t){this.passive=t},i.prototype.setReadOnly=function(t){this.readOnly=t,this.updateIcons()},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.isSelected=function(){return this.selected},i.prototype.toggle=function(){var t=this.getNextValue();if(this.passive){var e={type:i.EVENT_CHANGED,selected:t};this.dispatchEvent(e)}else this.setValue(t)},i.prototype.setSelected=function(t,e){if(this.selected!==t&&(this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=this.selected,this.updateIcons(),!e)){var i={type:agAbstractField_1.AgAbstractField.EVENT_CHANGED,selected:this.selected};this.dispatchEvent(i)}},i.prototype.getIconName=function(){var t=this.getValue(),e=void 0===t?"indeterminate":t?"selected":"unselected",i=this.isReadOnly()?"ReadOnly":"";return this.iconMap[e]+i},i.prototype.updateIcons=function(){utils_1._.clearElement(this.eIconEl),this.eIconEl.appendChild(utils_1._.createIconNoSpan(this.getIconName(),this.gridOptionsWrapper,null))},i.prototype.getValue=function(){return this.isSelected()},i.prototype.setValue=function(t,e){return this.setSelected(t,e),this},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],i.prototype,"gridOptionsWrapper",void 0),i}(agAbstractInputField_1.AgAbstractInputField);exports.AgCheckbox=AgCheckbox;